Compiled from "SamlUtils.java"
public class no.nav.sbl.dialogarena.common.cxf.saml.SamlUtils {
  public static final java.lang.String IDENT_TYPE;

  public static final java.lang.String AUTHENTICATION_LEVEL;

  public static final java.lang.String CONSUMER_ID;

  private static final org.slf4j.Logger logger;

  public no.nav.sbl.dialogarena.common.cxf.saml.SamlUtils();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static no.nav.common.auth.Subject samlAssertionToSubject(org.opensaml.saml.saml2.core.Assertion);
    Code:
       0: aload_0
       1: invokeinterface #2,  1            // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getSubject:()Lorg/opensaml/saml/saml2/core/Subject;
       6: invokeinterface #3,  1            // InterfaceMethod org/opensaml/saml/saml2/core/Subject.getNameID:()Lorg/opensaml/saml/saml2/core/NameID;
      11: invokeinterface #4,  1            // InterfaceMethod org/opensaml/saml/saml2/core/NameID.getValue:()Ljava/lang/String;
      16: astore_1
      17: aload_1
      18: invokestatic  #5                  // Method filterDNtoCNvalue:(Ljava/lang/String;)Ljava/lang/String;
      21: astore_1
      22: aconst_null
      23: astore_2
      24: aload_0
      25: invokeinterface #6,  1            // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getAttributeStatements:()Ljava/util/List;
      30: iconst_0
      31: invokeinterface #7,  2            // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      36: checkcast     #8                  // class org/opensaml/saml/saml2/core/AttributeStatement
      39: invokeinterface #9,  1            // InterfaceMethod org/opensaml/saml/saml2/core/AttributeStatement.getAttributes:()Ljava/util/List;
      44: astore_3
      45: new           #10                 // class java/util/HashMap
      48: dup
      49: invokespecial #11                 // Method java/util/HashMap."<init>":()V
      52: astore        4
      54: aload_3
      55: invokeinterface #12,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      60: astore        5
      62: aload         5
      64: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      69: ifeq          200
      72: aload         5
      74: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      79: checkcast     #122                // class org/opensaml/saml/saml2/core/Attribute
      82: astore        6
      84: aload         6
      86: invokeinterface #16,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Attribute.getName:()Ljava/lang/String;
      91: astore        7
      93: aload         6
      95: invokeinterface #17,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Attribute.getAttributeValues:()Ljava/util/List;
     100: iconst_0
     101: invokeinterface #7,  2            // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     106: checkcast     #18                 // class org/opensaml/core/xml/XMLObject
     109: invokeinterface #19,  1           // InterfaceMethod org/opensaml/core/xml/XMLObject.getDOM:()Lorg/w3c/dom/Element;
     114: invokeinterface #20,  1           // InterfaceMethod org/w3c/dom/Element.getFirstChild:()Lorg/w3c/dom/Node;
     119: invokeinterface #21,  1           // InterfaceMethod org/w3c/dom/Node.getTextContent:()Ljava/lang/String;
     124: astore        8
     126: aload         4
     128: aload         7
     130: aload         8
     132: invokeinterface #22,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     137: pop
     138: ldc           #24                 // String identType
     140: aload         7
     142: invokevirtual #25                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
     145: ifeq          154
     148: aload         8
     150: astore_2
     151: goto          197
     154: getstatic     #26                 // Field logger:Lorg/slf4j/Logger;
     157: new           #27                 // class java/lang/StringBuilder
     160: dup
     161: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     164: ldc           #29                 // String Skipping SAML Attribute name:
     166: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     169: aload         6
     171: invokeinterface #16,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Attribute.getName:()Ljava/lang/String;
     176: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     179: ldc           #31                 // String  value:
     181: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     184: aload         8
     186: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     189: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     192: invokeinterface #33,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     197: goto          62
     200: aload_1
     201: ifnonnull     214
     204: new           #34                 // class java/lang/RuntimeException
     207: dup
     208: ldc           #35                 // String SAML assertion is missing mandatory element NameId
     210: invokespecial #36                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     213: athrow
     214: new           #37                 // class no/nav/common/auth/Subject
     217: dup
     218: aload_1
     219: aload_2
     220: invokestatic  #38                 // Method no/nav/brukerdialog/security/domain/IdentType.valueOf:(Ljava/lang/String;)Lno/nav/brukerdialog/security/domain/IdentType;
     223: aload_0
     224: invokestatic  #39                 // Method getSamlAssertionAsString:(Lorg/opensaml/saml/saml2/core/Assertion;)Ljava/lang/String;
     227: aload         4
     229: invokestatic  #40                 // Method no/nav/common/auth/SsoToken.saml:(Ljava/lang/String;Ljava/util/Map;)Lno/nav/common/auth/SsoToken;
     232: invokespecial #41                 // Method no/nav/common/auth/Subject."<init>":(Ljava/lang/String;Lno/nav/brukerdialog/security/domain/IdentType;Lno/nav/common/auth/SsoToken;)V
     235: areturn

  static java.lang.String getSamlAssertionAsString(org.opensaml.saml.saml2.core.Assertion);
    Code:
       0: new           #42                 // class java/io/StringWriter
       3: dup
       4: invokespecial #43                 // Method java/io/StringWriter."<init>":()V
       7: astore_1
       8: invokestatic  #44                 // Method javax/xml/transform/TransformerFactory.newInstance:()Ljavax/xml/transform/TransformerFactory;
      11: astore_2
      12: aload_2
      13: invokevirtual #45                 // Method javax/xml/transform/TransformerFactory.newTransformer:()Ljavax/xml/transform/Transformer;
      16: astore_3
      17: aload_3
      18: new           #46                 // class javax/xml/transform/dom/DOMSource
      21: dup
      22: aload_0
      23: invokeinterface #47,  1           // InterfaceMethod org/opensaml/saml/saml2/core/Assertion.getDOM:()Lorg/w3c/dom/Element;
      28: invokespecial #48                 // Method javax/xml/transform/dom/DOMSource."<init>":(Lorg/w3c/dom/Node;)V
      31: new           #49                 // class javax/xml/transform/stream/StreamResult
      34: dup
      35: aload_1
      36: invokespecial #50                 // Method javax/xml/transform/stream/StreamResult."<init>":(Ljava/io/Writer;)V
      39: invokevirtual #51                 // Method javax/xml/transform/Transformer.transform:(Ljavax/xml/transform/Source;Ljavax/xml/transform/Result;)V
      42: aload_1
      43: invokevirtual #52                 // Method java/io/StringWriter.toString:()Ljava/lang/String;
      46: areturn
      47: astore_1
      48: aload_1
      49: athrow
    Exception table:
       from    to  target type
           0    46    47   Class java/lang/Throwable

  public static org.opensaml.saml.saml2.core.Assertion toSamlAssertion(java.lang.String);
    Code:
       0: invokestatic  #55                 // Method javax/xml/parsers/DocumentBuilderFactory.newInstance:()Ljavax/xml/parsers/DocumentBuilderFactory;
       3: astore_1
       4: aload_1
       5: iconst_1
       6: invokevirtual #56                 // Method javax/xml/parsers/DocumentBuilderFactory.setNamespaceAware:(Z)V
       9: aload_1
      10: invokevirtual #57                 // Method javax/xml/parsers/DocumentBuilderFactory.newDocumentBuilder:()Ljavax/xml/parsers/DocumentBuilder;
      13: astore_2
      14: aload_2
      15: new           #58                 // class java/io/ByteArrayInputStream
      18: dup
      19: aload_0
      20: ldc           #59                 // String utf-8
      22: invokevirtual #60                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
      25: invokespecial #61                 // Method java/io/ByteArrayInputStream."<init>":([B)V
      28: invokevirtual #62                 // Method javax/xml/parsers/DocumentBuilder.parse:(Ljava/io/InputStream;)Lorg/w3c/dom/Document;
      31: astore_3
      32: new           #63                 // class org/apache/wss4j/common/saml/SamlAssertionWrapper
      35: dup
      36: aload_3
      37: invokeinterface #64,  1           // InterfaceMethod org/w3c/dom/Document.getDocumentElement:()Lorg/w3c/dom/Element;
      42: invokespecial #65                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper."<init>":(Lorg/w3c/dom/Element;)V
      45: astore        4
      47: aload         4
      49: invokevirtual #66                 // Method org/apache/wss4j/common/saml/SamlAssertionWrapper.getSaml2:()Lorg/opensaml/saml/saml2/core/Assertion;
      52: areturn
      53: astore_1
      54: aload_1
      55: athrow
    Exception table:
       from    to  target type
           0    52    53   Class java/lang/Throwable

  public static java.lang.String filterDNtoCNvalue(java.lang.String);
    Code:
       0: new           #154                // class javax/naming/ldap/LdapName
       3: dup
       4: aload_0
       5: invokespecial #68                 // Method javax/naming/ldap/LdapName."<init>":(Ljava/lang/String;)V
       8: astore_1
       9: aconst_null
      10: astore_2
      11: aload_1
      12: invokevirtual #69                 // Method javax/naming/ldap/LdapName.getRdns:()Ljava/util/List;
      15: invokeinterface #12,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      20: astore_3
      21: aload_3
      22: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      27: ifeq          81
      30: aload_3
      31: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      36: checkcast     #70                 // class javax/naming/ldap/Rdn
      39: astore        4
      41: aload         4
      43: invokevirtual #71                 // Method javax/naming/ldap/Rdn.getType:()Ljava/lang/String;
      46: ldc           #72                 // String CN
      48: invokevirtual #25                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      51: ifeq          78
      54: aload         4
      56: invokevirtual #73                 // Method javax/naming/ldap/Rdn.getValue:()Ljava/lang/Object;
      59: invokevirtual #74                 // Method java/lang/Object.toString:()Ljava/lang/String;
      62: astore_2
      63: getstatic     #26                 // Field logger:Lorg/slf4j/Logger;
      66: ldc           #75                 // String uid on DN form. Filtered from {} to {}
      68: aload_0
      69: aload_2
      70: invokeinterface #76,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      75: goto          81
      78: goto          21
      81: aload_2
      82: areturn
      83: astore_1
      84: getstatic     #26                 // Field logger:Lorg/slf4j/Logger;
      87: ldc           #78                 // String uid not on DN form. Skipping filter. {}
      89: aload_1
      90: invokevirtual #79                 // Method javax/naming/InvalidNameException.toString:()Ljava/lang/String;
      93: invokeinterface #80,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      98: aload_0
      99: areturn
    Exception table:
       from    to  target type
           0    82    83   Class javax/naming/InvalidNameException

  static {};
    Code:
       0: ldc           #23                 // class no/nav/sbl/dialogarena/common/cxf/saml/SamlUtils
       2: invokestatic  #81                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #26                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
