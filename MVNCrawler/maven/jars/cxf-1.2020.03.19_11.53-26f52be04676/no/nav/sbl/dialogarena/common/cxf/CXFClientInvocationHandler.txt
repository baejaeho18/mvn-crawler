Compiled from "CXFClientInvocationHandler.java"
class no.nav.sbl.dialogarena.common.cxf.CXFClientInvocationHandler<T> implements java.lang.reflect.InvocationHandler {
  private final io.micrometer.core.instrument.MeterRegistry meterRegistry;

  private final java.lang.reflect.InvocationHandler invocationHandler;

  private final no.nav.sbl.dialogarena.common.cxf.STSMode stsMode;

  no.nav.sbl.dialogarena.common.cxf.CXFClientInvocationHandler(no.nav.sbl.dialogarena.common.cxf.CXFClient<T>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #2                  // Method no/nav/metrics/MetricsFactory.getMeterRegistry:()Lio/micrometer/core/instrument/MeterRegistry;
       8: putfield      #3                  // Field meterRegistry:Lio/micrometer/core/instrument/MeterRegistry;
      11: aload_0
      12: aload_1
      13: getfield      #4                  // Field no/nav/sbl/dialogarena/common/cxf/CXFClient.stsMode:Lno/nav/sbl/dialogarena/common/cxf/STSMode;
      16: putfield      #5                  // Field stsMode:Lno/nav/sbl/dialogarena/common/cxf/STSMode;
      19: aload_0
      20: aload_0
      21: aload_1
      22: invokespecial #6                  // Method handler:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Ljava/lang/reflect/InvocationHandler;
      25: putfield      #7                  // Field invocationHandler:Ljava/lang/reflect/InvocationHandler;
      28: return

  public java.lang.Object invoke(java.lang.Object, java.lang.reflect.Method, java.lang.Object[]) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: invokevirtual #8                  // Method java/lang/reflect/Method.getDeclaringClass:()Ljava/lang/Class;
       4: ldc           #9                  // class java/lang/Object
       6: if_acmpne     16
       9: aload_2
      10: aload_0
      11: aload_3
      12: invokevirtual #10                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      15: areturn
      16: iconst_0
      17: istore        4
      19: invokestatic  #11                 // Method java/lang/System.currentTimeMillis:()J
      22: lstore        5
      24: aload_0
      25: getfield      #7                  // Field invocationHandler:Ljava/lang/reflect/InvocationHandler;
      28: aload_1
      29: aload_2
      30: aload_3
      31: invokeinterface #12,  4           // InterfaceMethod java/lang/reflect/InvocationHandler.invoke:(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;
      36: astore        7
      38: iconst_1
      39: istore        4
      41: aload         7
      43: astore        8
      45: aload_0
      46: getfield      #3                  // Field meterRegistry:Lio/micrometer/core/instrument/MeterRegistry;
      49: ldc           #13                 // String cxf_client
      51: bipush        6
      53: anewarray     #14                 // class java/lang/String
      56: dup
      57: iconst_0
      58: ldc           #15                 // String method
      60: aastore
      61: dup
      62: iconst_1
      63: aload_2
      64: invokevirtual #16                 // Method java/lang/reflect/Method.getName:()Ljava/lang/String;
      67: aastore
      68: dup
      69: iconst_2
      70: ldc           #17                 // String success
      72: aastore
      73: dup
      74: iconst_3
      75: iload         4
      77: invokestatic  #18                 // Method java/lang/Boolean.toString:(Z)Ljava/lang/String;
      80: aastore
      81: dup
      82: iconst_4
      83: ldc           #19                 // String sts
      85: aastore
      86: dup
      87: iconst_5
      88: aload_0
      89: getfield      #5                  // Field stsMode:Lno/nav/sbl/dialogarena/common/cxf/STSMode;
      92: invokevirtual #20                 // Method no/nav/sbl/dialogarena/common/cxf/STSMode.name:()Ljava/lang/String;
      95: aastore
      96: invokevirtual #21                 // Method io/micrometer/core/instrument/MeterRegistry.timer:(Ljava/lang/String;[Ljava/lang/String;)Lio/micrometer/core/instrument/Timer;
      99: invokestatic  #11                 // Method java/lang/System.currentTimeMillis:()J
     102: lload         5
     104: lsub
     105: getstatic     #22                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     108: invokeinterface #23,  4           // InterfaceMethod io/micrometer/core/instrument/Timer.record:(JLjava/util/concurrent/TimeUnit;)V
     113: aload         8
     115: areturn
     116: astore        7
     118: aload_0
     119: aload         7
     121: invokespecial #25                 // Method unwrapToExpectedExceptionForTheConsumer:(Ljava/lang/reflect/InvocationTargetException;)Ljava/lang/Throwable;
     124: athrow
     125: astore        9
     127: aload_0
     128: getfield      #3                  // Field meterRegistry:Lio/micrometer/core/instrument/MeterRegistry;
     131: ldc           #13                 // String cxf_client
     133: bipush        6
     135: anewarray     #14                 // class java/lang/String
     138: dup
     139: iconst_0
     140: ldc           #15                 // String method
     142: aastore
     143: dup
     144: iconst_1
     145: aload_2
     146: invokevirtual #16                 // Method java/lang/reflect/Method.getName:()Ljava/lang/String;
     149: aastore
     150: dup
     151: iconst_2
     152: ldc           #17                 // String success
     154: aastore
     155: dup
     156: iconst_3
     157: iload         4
     159: invokestatic  #18                 // Method java/lang/Boolean.toString:(Z)Ljava/lang/String;
     162: aastore
     163: dup
     164: iconst_4
     165: ldc           #19                 // String sts
     167: aastore
     168: dup
     169: iconst_5
     170: aload_0
     171: getfield      #5                  // Field stsMode:Lno/nav/sbl/dialogarena/common/cxf/STSMode;
     174: invokevirtual #20                 // Method no/nav/sbl/dialogarena/common/cxf/STSMode.name:()Ljava/lang/String;
     177: aastore
     178: invokevirtual #21                 // Method io/micrometer/core/instrument/MeterRegistry.timer:(Ljava/lang/String;[Ljava/lang/String;)Lio/micrometer/core/instrument/Timer;
     181: invokestatic  #11                 // Method java/lang/System.currentTimeMillis:()J
     184: lload         5
     186: lsub
     187: getstatic     #22                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     190: invokeinterface #23,  4           // InterfaceMethod io/micrometer/core/instrument/Timer.record:(JLjava/util/concurrent/TimeUnit;)V
     195: aload         9
     197: athrow
    Exception table:
       from    to  target type
          24    45   116   Class java/lang/reflect/InvocationTargetException
          24    45   125   any
         116   127   125   any

  private java.lang.Throwable unwrapToExpectedExceptionForTheConsumer(java.lang.reflect.InvocationTargetException);
    Code:
       0: aload_1
       1: invokevirtual #26                 // Method java/lang/reflect/InvocationTargetException.getCause:()Ljava/lang/Throwable;
       4: areturn

  private java.lang.reflect.InvocationHandler handler(no.nav.sbl.dialogarena.common.cxf.CXFClient<T>);
    Code:
       0: getstatic     #27                 // Field no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$1.$SwitchMap$no$nav$sbl$dialogarena$common$cxf$STSMode:[I
       3: aload_1
       4: getfield      #4                  // Field no/nav/sbl/dialogarena/common/cxf/CXFClient.stsMode:Lno/nav/sbl/dialogarena/common/cxf/STSMode;
       7: invokevirtual #28                 // Method no/nav/sbl/dialogarena/common/cxf/STSMode.ordinal:()I
      10: iaload
      11: tableswitch   { // 1 to 3
                     1: 36
                     2: 42
                     3: 48
               default: 54
          }
      36: aload_0
      37: aload_1
      38: invokespecial #29                 // Method noSts:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Ljava/lang/reflect/InvocationHandler;
      41: areturn
      42: aload_0
      43: aload_1
      44: invokespecial #30                 // Method systemUserSts:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Ljava/lang/reflect/InvocationHandler;
      47: areturn
      48: aload_0
      49: aload_1
      50: invokespecial #31                 // Method subjectSts:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Ljava/lang/reflect/InvocationHandler;
      53: areturn
      54: new           #32                 // class java/lang/IllegalStateException
      57: dup
      58: invokespecial #33                 // Method java/lang/IllegalStateException."<init>":()V
      61: athrow

  private java.lang.reflect.InvocationHandler noSts(no.nav.sbl.dialogarena.common.cxf.CXFClient<T>);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: invokespecial #34                 // Method newPort:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;
       6: invokestatic  #35                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$000:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Ljava/lang/Object;
       9: invokespecial #36                 // Method invocationHandler:(Ljava/lang/Object;)Ljava/lang/reflect/InvocationHandler;
      12: areturn

  private java.lang.reflect.InvocationHandler systemUserSts(no.nav.sbl.dialogarena.common.cxf.CXFClient<T>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #34                 // Method newPort:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;
       5: astore_2
       6: aload_2
       7: invokestatic  #37                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$100:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Lorg/apache/cxf/endpoint/Client;
      10: invokestatic  #38                 // Method no/nav/sbl/dialogarena/common/cxf/STSConfigurationUtil.configureStsForSystemUserInFSS:(Lorg/apache/cxf/endpoint/Client;)V
      13: aload_0
      14: aload_2
      15: invokestatic  #35                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$000:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Ljava/lang/Object;
      18: invokespecial #36                 // Method invocationHandler:(Ljava/lang/Object;)Ljava/lang/reflect/InvocationHandler;
      21: areturn

  private java.lang.reflect.InvocationHandler subjectSts(no.nav.sbl.dialogarena.common.cxf.CXFClient<T>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #34                 // Method newPort:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;
       5: astore_2
       6: aload_2
       7: invokestatic  #37                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$100:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Lorg/apache/cxf/endpoint/Client;
      10: invokestatic  #39                 // Method no/nav/sbl/dialogarena/common/cxf/STSConfigurationUtil.configureStsForExternalSSO:(Lorg/apache/cxf/endpoint/Client;)V
      13: aload_0
      14: aload_1
      15: invokespecial #34                 // Method newPort:(Lno/nav/sbl/dialogarena/common/cxf/CXFClient;)Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;
      18: astore_3
      19: aload_3
      20: invokestatic  #37                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$100:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Lorg/apache/cxf/endpoint/Client;
      23: invokestatic  #40                 // Method no/nav/sbl/dialogarena/common/cxf/OidcClientWrapper.configureStsForOnBehalfOfWithJWT:(Lorg/apache/cxf/endpoint/Client;)V
      26: new           #41                 // class no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients
      29: dup
      30: aload_2
      31: aload_3
      32: aconst_null
      33: invokespecial #42                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients."<init>":(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$1;)V
      36: astore        4
      38: aload_0
      39: aload         4
      41: invokedynamic #43,  0             // InvokeDynamic #0:invoke:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler;Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients;)Ljava/lang/reflect/InvocationHandler;
      46: areturn

  private T resolveSubjectPort(no.nav.sbl.dialogarena.common.cxf.CXFClientInvocationHandler$SubjectClients<T>);
    Code:
       0: invokestatic  #44                 // Method no/nav/common/auth/SubjectHandler.getSubject:()Ljava/util/Optional;
       3: invokedynamic #45,  0             // InvokeDynamic #1:get:()Ljava/util/function/Supplier;
       8: invokevirtual #46                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      11: checkcast     #47                 // class no/nav/common/auth/Subject
      14: astore_2
      15: aload_2
      16: invokevirtual #48                 // Method no/nav/common/auth/Subject.getSsoToken:()Lno/nav/common/auth/SsoToken;
      19: invokevirtual #49                 // Method no/nav/common/auth/SsoToken.getType:()Lno/nav/common/auth/SsoToken$Type;
      22: astore_3
      23: getstatic     #50                 // Field no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$1.$SwitchMap$no$nav$common$auth$SsoToken$Type:[I
      26: aload_3
      27: invokevirtual #51                 // Method no/nav/common/auth/SsoToken$Type.ordinal:()I
      30: iaload
      31: lookupswitch  { // 2
                     1: 56
                     2: 64
               default: 72
          }
      56: aload_1
      57: invokestatic  #52                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients.access$300:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients;)Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;
      60: invokestatic  #35                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$000:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Ljava/lang/Object;
      63: areturn
      64: aload_1
      65: invokestatic  #53                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients.access$400:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients;)Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;
      68: invokestatic  #35                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient.access$000:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient;)Ljava/lang/Object;
      71: areturn
      72: new           #32                 // class java/lang/IllegalStateException
      75: dup
      76: ldc           #54                 // String illegal port type
      78: invokespecial #55                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      81: athrow

  private java.lang.reflect.InvocationHandler invocationHandler(T);
    Code:
       0: aload_1
       1: invokedynamic #56,  0             // InvokeDynamic #2:invoke:(Ljava/lang/Object;)Ljava/lang/reflect/InvocationHandler;
       6: areturn

  private no.nav.sbl.dialogarena.common.cxf.CXFClientInvocationHandler$PortAndClient<T> newPort(no.nav.sbl.dialogarena.common.cxf.CXFClient<T>);
    Code:
       0: aload_1
       1: getfield      #57                 // Field no/nav/sbl/dialogarena/common/cxf/CXFClient.factoryBean:Lorg/apache/cxf/jaxws/JaxWsProxyFactoryBean;
       4: aload_1
       5: getfield      #58                 // Field no/nav/sbl/dialogarena/common/cxf/CXFClient.serviceClass:Ljava/lang/Class;
       8: invokevirtual #59                 // Method org/apache/cxf/jaxws/JaxWsProxyFactoryBean.create:(Ljava/lang/Class;)Ljava/lang/Object;
      11: astore_2
      12: aload_2
      13: checkcast     #60                 // class javax/xml/ws/BindingProvider
      16: invokeinterface #61,  1           // InterfaceMethod javax/xml/ws/BindingProvider.getBinding:()Ljavax/xml/ws/Binding;
      21: aload_1
      22: getfield      #62                 // Field no/nav/sbl/dialogarena/common/cxf/CXFClient.handlerChain:Ljava/util/List;
      25: invokeinterface #63,  2           // InterfaceMethod javax/xml/ws/Binding.setHandlerChain:(Ljava/util/List;)V
      30: aload_2
      31: invokestatic  #64                 // Method org/apache/cxf/frontend/ClientProxy.getClient:(Ljava/lang/Object;)Lorg/apache/cxf/endpoint/Client;
      34: astore_3
      35: aload_3
      36: invokestatic  #65                 // Method disableCNCheckIfConfigured:(Lorg/apache/cxf/endpoint/Client;)V
      39: new           #66                 // class no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient
      42: dup
      43: aload_2
      44: aload_3
      45: aconst_null
      46: invokespecial #67                 // Method no/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$PortAndClient."<init>":(Ljava/lang/Object;Lorg/apache/cxf/endpoint/Client;Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$1;)V
      49: areturn

  private static void disableCNCheckIfConfigured(org.apache.cxf.endpoint.Client);
    Code:
       0: aload_0
       1: invokeinterface #68,  1           // InterfaceMethod org/apache/cxf/endpoint/Client.getConduit:()Lorg/apache/cxf/transport/Conduit;
       6: checkcast     #69                 // class org/apache/cxf/transport/http/HTTPConduit
       9: astore_1
      10: aload_1
      11: invokevirtual #70                 // Method org/apache/cxf/transport/http/HTTPConduit.getTlsClientParameters:()Lorg/apache/cxf/configuration/jsse/TLSClientParameters;
      14: invokestatic  #71                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      17: invokedynamic #72,  0             // InvokeDynamic #3:get:()Ljava/util/function/Supplier;
      22: invokevirtual #73                 // Method java/util/Optional.orElseGet:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      25: checkcast     #74                 // class org/apache/cxf/configuration/jsse/TLSClientParameters
      28: astore_2
      29: ldc           #75                 // String disable.ssl.cn.check
      31: ldc           #76                 // String false
      33: invokestatic  #77                 // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      36: invokestatic  #78                 // Method java/lang/Boolean.valueOf:(Ljava/lang/String;)Ljava/lang/Boolean;
      39: invokevirtual #79                 // Method java/lang/Boolean.booleanValue:()Z
      42: ifeq          50
      45: aload_2
      46: iconst_1
      47: invokevirtual #80                 // Method org/apache/cxf/configuration/jsse/TLSClientParameters.setDisableCNCheck:(Z)V
      50: aload_1
      51: aload_2
      52: invokevirtual #81                 // Method org/apache/cxf/transport/http/HTTPConduit.setTlsClientParameters:(Lorg/apache/cxf/configuration/jsse/TLSClientParameters;)V
      55: return

  private static java.lang.Object lambda$invocationHandler$2(java.lang.Object, java.lang.Object, java.lang.reflect.Method, java.lang.Object[]) throws java.lang.Throwable;
    Code:
       0: aload_2
       1: aload_0
       2: aload_3
       3: invokevirtual #10                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
       6: areturn
       7: astore        4
       9: aload         4
      11: invokevirtual #82                 // Method java/lang/reflect/InvocationTargetException.getTargetException:()Ljava/lang/Throwable;
      14: athrow
    Exception table:
       from    to  target type
           0     6     7   Class java/lang/reflect/InvocationTargetException

  private static java.lang.IllegalStateException lambda$resolveSubjectPort$1();
    Code:
       0: new           #32                 // class java/lang/IllegalStateException
       3: dup
       4: ldc           #83                 // String no subject available
       6: invokespecial #55                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
       9: areturn

  private java.lang.Object lambda$subjectSts$0(no.nav.sbl.dialogarena.common.cxf.CXFClientInvocationHandler$SubjectClients, java.lang.Object, java.lang.reflect.Method, java.lang.Object[]) throws java.lang.Throwable;
    Code:
       0: aload_3
       1: aload_0
       2: aload_1
       3: invokespecial #84                 // Method resolveSubjectPort:(Lno/nav/sbl/dialogarena/common/cxf/CXFClientInvocationHandler$SubjectClients;)Ljava/lang/Object;
       6: aload         4
       8: invokevirtual #10                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      11: areturn
}
