Compiled from "OidcClientWrapper.java"
public class no.nav.sbl.dialogarena.common.cxf.OidcClientWrapper {
  public no.nav.sbl.dialogarena.common.cxf.OidcClientWrapper();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void configureStsForOnBehalfOfWithJWT(org.apache.cxf.endpoint.Client);
    Code:
       0: ldc           #3                  // String no.nav.modig.security.sts.url
       2: invokestatic  #4                  // Method requireProperty:(Ljava/lang/String;)Ljava/lang/String;
       5: astore_1
       6: ldc           #5                  // String no.nav.modig.security.systemuser.username
       8: invokestatic  #4                  // Method requireProperty:(Ljava/lang/String;)Ljava/lang/String;
      11: astore_2
      12: ldc           #6                  // String no.nav.modig.security.systemuser.password
      14: invokestatic  #4                  // Method requireProperty:(Ljava/lang/String;)Ljava/lang/String;
      17: astore_3
      18: aload_0
      19: invokeinterface #7,  1            // InterfaceMethod org/apache/cxf/endpoint/Client.getBus:()Lorg/apache/cxf/Bus;
      24: aload_1
      25: aload_2
      26: aload_3
      27: getstatic     #8                  // Field no/nav/sbl/dialogarena/common/cxf/StsType.ON_BEHALF_OF_WITH_JWT:Lno/nav/sbl/dialogarena/common/cxf/StsType;
      30: invokestatic  #9                  // Method createBasicSTSClient:(Lorg/apache/cxf/Bus;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lno/nav/sbl/dialogarena/common/cxf/StsType;)Lorg/apache/cxf/ws/security/trust/STSClient;
      33: astore        4
      35: aload_0
      36: invokeinterface #10,  1           // InterfaceMethod org/apache/cxf/endpoint/Client.getRequestContext:()Ljava/util/Map;
      41: ldc           #12                 // String security.sts.client
      43: aload         4
      45: invokeinterface #13,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      50: pop
      51: aload_0
      52: invokeinterface #10,  1           // InterfaceMethod org/apache/cxf/endpoint/Client.getRequestContext:()Ljava/util/Map;
      57: ldc           #14                 // String security.cache.issued.token.in.endpoint
      59: iconst_0
      60: invokestatic  #15                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      63: invokeinterface #13,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      68: pop
      69: aload_0
      70: ldc           #16                 // String classpath:JwtSTSPolicy.xml
      72: invokestatic  #17                 // Method setEndpointPolicyReference:(Lorg/apache/cxf/endpoint/Client;Ljava/lang/String;)V
      75: return

  private static java.lang.String requireProperty(java.lang.String);
    Code:
       0: aload_0
       1: invokestatic  #18                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       4: astore_1
       5: aload_1
       6: ifnonnull     41
       9: new           #19                 // class java/lang/RuntimeException
      12: dup
      13: new           #20                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #21                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #22                 // String Required property
      22: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: ldc           #24                 // String  not available.
      31: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokespecial #26                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: aload_1
      42: areturn

  private static org.apache.cxf.ws.security.trust.STSClient createBasicSTSClient(org.apache.cxf.Bus, java.lang.String, java.lang.String, java.lang.String, no.nav.sbl.dialogarena.common.cxf.StsType);
    Code:
       0: new           #27                 // class no/nav/sbl/dialogarena/common/cxf/NAVOidcSTSClient
       3: dup
       4: aload_0
       5: aload         4
       7: invokespecial #28                 // Method no/nav/sbl/dialogarena/common/cxf/NAVOidcSTSClient."<init>":(Lorg/apache/cxf/Bus;Lno/nav/sbl/dialogarena/common/cxf/StsType;)V
      10: astore        5
      12: aload         5
      14: ldc           #29                 // String wsdl/ws-trust-1.4-service.wsdl
      16: invokevirtual #30                 // Method org/apache/cxf/ws/security/trust/STSClient.setWsdlLocation:(Ljava/lang/String;)V
      19: aload         5
      21: new           #31                 // class javax/xml/namespace/QName
      24: dup
      25: ldc           #32                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/wsdl
      27: ldc           #33                 // String SecurityTokenServiceProvider
      29: invokespecial #34                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      32: invokevirtual #35                 // Method org/apache/cxf/ws/security/trust/STSClient.setServiceQName:(Ljavax/xml/namespace/QName;)V
      35: aload         5
      37: new           #31                 // class javax/xml/namespace/QName
      40: dup
      41: ldc           #32                 // String http://docs.oasis-open.org/ws-sx/ws-trust/200512/wsdl
      43: ldc           #36                 // String SecurityTokenServiceSOAP
      45: invokespecial #34                 // Method javax/xml/namespace/QName."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      48: invokevirtual #37                 // Method org/apache/cxf/ws/security/trust/STSClient.setEndpointQName:(Ljavax/xml/namespace/QName;)V
      51: aload         5
      53: iconst_0
      54: invokevirtual #38                 // Method org/apache/cxf/ws/security/trust/STSClient.setEnableAppliesTo:(Z)V
      57: aload         5
      59: iconst_0
      60: invokevirtual #39                 // Method org/apache/cxf/ws/security/trust/STSClient.setAllowRenewing:(Z)V
      63: aload         5
      65: invokevirtual #40                 // Method org/apache/cxf/ws/security/trust/STSClient.getClient:()Lorg/apache/cxf/endpoint/Client;
      68: invokeinterface #10,  1           // InterfaceMethod org/apache/cxf/endpoint/Client.getRequestContext:()Ljava/util/Map;
      73: getstatic     #41                 // Field org/apache/cxf/message/Message.ENDPOINT_ADDRESS:Ljava/lang/String;
      76: aload_1
      77: invokeinterface #13,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      82: pop
      83: goto          100
      86: astore        6
      88: new           #19                 // class java/lang/RuntimeException
      91: dup
      92: ldc           #44                 // String Failed to set endpoint adress of STSClient
      94: aload         6
      96: invokespecial #45                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      99: athrow
     100: aload         5
     102: invokevirtual #46                 // Method org/apache/cxf/ws/security/trust/STSClient.getOutInterceptors:()Ljava/util/List;
     105: new           #47                 // class org/apache/cxf/interceptor/LoggingOutInterceptor
     108: dup
     109: invokespecial #48                 // Method org/apache/cxf/interceptor/LoggingOutInterceptor."<init>":()V
     112: invokeinterface #49,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     117: pop
     118: aload         5
     120: invokevirtual #50                 // Method org/apache/cxf/ws/security/trust/STSClient.getInInterceptors:()Ljava/util/List;
     123: new           #51                 // class org/apache/cxf/interceptor/LoggingInInterceptor
     126: dup
     127: invokespecial #52                 // Method org/apache/cxf/interceptor/LoggingInInterceptor."<init>":()V
     130: invokeinterface #49,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     135: pop
     136: new           #53                 // class java/util/HashMap
     139: dup
     140: invokespecial #54                 // Method java/util/HashMap."<init>":()V
     143: astore        6
     145: aload         6
     147: ldc           #55                 // String security.username
     149: aload_2
     150: invokevirtual #56                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     153: pop
     154: aload         6
     156: ldc           #57                 // String security.password
     158: aload_3
     159: invokevirtual #56                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     162: pop
     163: aload         5
     165: aload         6
     167: invokevirtual #58                 // Method org/apache/cxf/ws/security/trust/STSClient.setProperties:(Ljava/util/Map;)V
     170: aload         5
     172: areturn
    Exception table:
       from    to  target type
          63    83    86   Class org/apache/cxf/BusException
          63    83    86   Class org/apache/cxf/endpoint/EndpointException

  private static void setEndpointPolicyReference(org.apache.cxf.endpoint.Client, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #59                 // Method resolvePolicyReference:(Lorg/apache/cxf/endpoint/Client;Ljava/lang/String;)Lorg/apache/neethi/Policy;
       5: astore_2
       6: aload_0
       7: aload_2
       8: invokestatic  #60                 // Method setClientEndpointPolicy:(Lorg/apache/cxf/endpoint/Client;Lorg/apache/neethi/Policy;)V
      11: return

  private static org.apache.neethi.Policy resolvePolicyReference(org.apache.cxf.endpoint.Client, java.lang.String);
    Code:
       0: aload_0
       1: invokeinterface #7,  1            // InterfaceMethod org/apache/cxf/endpoint/Client.getBus:()Lorg/apache/cxf/Bus;
       6: ldc           #61                 // class org/apache/cxf/ws/policy/PolicyBuilder
       8: invokeinterface #62,  2           // InterfaceMethod org/apache/cxf/Bus.getExtension:(Ljava/lang/Class;)Ljava/lang/Object;
      13: checkcast     #61                 // class org/apache/cxf/ws/policy/PolicyBuilder
      16: astore_2
      17: new           #63                 // class org/apache/cxf/ws/policy/attachment/reference/RemoteReferenceResolver
      20: dup
      21: ldc           #64                 // String
      23: aload_2
      24: invokespecial #65                 // Method org/apache/cxf/ws/policy/attachment/reference/RemoteReferenceResolver."<init>":(Ljava/lang/String;Lorg/apache/cxf/ws/policy/PolicyBuilder;)V
      27: astore_3
      28: aload_3
      29: aload_1
      30: invokeinterface #66,  2           // InterfaceMethod org/apache/cxf/ws/policy/attachment/reference/ReferenceResolver.resolveReference:(Ljava/lang/String;)Lorg/apache/neethi/Policy;
      35: areturn

  private static void setClientEndpointPolicy(org.apache.cxf.endpoint.Client, org.apache.neethi.Policy);
    Code:
       0: aload_0
       1: invokeinterface #67,  1           // InterfaceMethod org/apache/cxf/endpoint/Client.getEndpoint:()Lorg/apache/cxf/endpoint/Endpoint;
       6: astore_2
       7: aload_2
       8: invokeinterface #68,  1           // InterfaceMethod org/apache/cxf/endpoint/Endpoint.getEndpointInfo:()Lorg/apache/cxf/service/model/EndpointInfo;
      13: astore_3
      14: aload_0
      15: invokeinterface #7,  1            // InterfaceMethod org/apache/cxf/endpoint/Client.getBus:()Lorg/apache/cxf/Bus;
      20: ldc           #69                 // class org/apache/cxf/ws/policy/PolicyEngine
      22: invokeinterface #62,  2           // InterfaceMethod org/apache/cxf/Bus.getExtension:(Ljava/lang/Class;)Ljava/lang/Object;
      27: checkcast     #69                 // class org/apache/cxf/ws/policy/PolicyEngine
      30: astore        4
      32: new           #70                 // class org/apache/cxf/binding/soap/SoapMessage
      35: dup
      36: invokestatic  #71                 // Method org/apache/cxf/binding/soap/Soap12.getInstance:()Lorg/apache/cxf/binding/soap/Soap12;
      39: invokespecial #72                 // Method org/apache/cxf/binding/soap/SoapMessage."<init>":(Lorg/apache/cxf/binding/soap/SoapVersion;)V
      42: astore        5
      44: aload         4
      46: aload_3
      47: aconst_null
      48: aload         5
      50: invokeinterface #73,  4           // InterfaceMethod org/apache/cxf/ws/policy/PolicyEngine.getClientEndpointPolicy:(Lorg/apache/cxf/service/model/EndpointInfo;Lorg/apache/cxf/transport/Conduit;Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/policy/EndpointPolicy;
      55: astore        6
      57: aload         4
      59: aload_3
      60: aload         6
      62: aload_1
      63: aload         5
      65: invokeinterface #74,  3           // InterfaceMethod org/apache/cxf/ws/policy/EndpointPolicy.updatePolicy:(Lorg/apache/neethi/Policy;Lorg/apache/cxf/message/Message;)Lorg/apache/cxf/ws/policy/EndpointPolicy;
      70: invokeinterface #75,  3           // InterfaceMethod org/apache/cxf/ws/policy/PolicyEngine.setClientEndpointPolicy:(Lorg/apache/cxf/service/model/EndpointInfo;Lorg/apache/cxf/ws/policy/EndpointPolicy;)V
      75: return
}
