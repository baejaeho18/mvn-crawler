Compiled from "DigestValidationInputStream.java"
public class com.amazonaws.services.s3.internal.DigestValidationInputStream extends com.amazonaws.internal.SdkDigestInputStream {
  private byte[] expectedHash;

  private boolean digestValidated;

  public com.amazonaws.services.s3.internal.DigestValidationInputStream(java.io.InputStream, java.security.MessageDigest, byte[]);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method com/amazonaws/internal/SdkDigestInputStream."<init>":(Ljava/io/InputStream;Ljava/security/MessageDigest;)V
       6: aload_0
       7: iconst_0
       8: putfield      #2                  // Field digestValidated:Z
      11: aload_0
      12: aload_3
      13: putfield      #3                  // Field expectedHash:[B
      16: return

  public int read() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #4                  // Method com/amazonaws/internal/SdkDigestInputStream.read:()I
       4: istore_1
       5: iload_1
       6: iconst_m1
       7: if_icmpne     14
      10: aload_0
      11: invokespecial #5                  // Method validateMD5Digest:()V
      14: iload_1
      15: ireturn

  public int read(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iload_3
       4: invokespecial #6                  // Method com/amazonaws/internal/SdkDigestInputStream.read:([BII)I
       7: istore        4
       9: iload         4
      11: iconst_m1
      12: if_icmpne     19
      15: aload_0
      16: invokespecial #5                  // Method validateMD5Digest:()V
      19: iload         4
      21: ireturn

  public byte[] getMD5Checksum();
    Code:
       0: aload_0
       1: getfield      #7                  // Field digest:Ljava/security/MessageDigest;
       4: invokevirtual #8                  // Method java/security/MessageDigest.digest:()[B
       7: areturn

  private void validateMD5Digest();
    Code:
       0: aload_0
       1: getfield      #3                  // Field expectedHash:[B
       4: ifnull        46
       7: aload_0
       8: getfield      #2                  // Field digestValidated:Z
      11: ifne          46
      14: aload_0
      15: iconst_1
      16: putfield      #2                  // Field digestValidated:Z
      19: aload_0
      20: getfield      #7                  // Field digest:Ljava/security/MessageDigest;
      23: invokevirtual #8                  // Method java/security/MessageDigest.digest:()[B
      26: aload_0
      27: getfield      #3                  // Field expectedHash:[B
      30: invokestatic  #9                  // Method java/util/Arrays.equals:([B[B)Z
      33: ifne          46
      36: new           #10                 // class com/amazonaws/AmazonClientException
      39: dup
      40: ldc           #11                 // String Unable to verify integrity of data download.  Client calculated content hash didn\'t match hash calculated by Amazon S3.  The data may be corrupt.
      42: invokespecial #12                 // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
      45: athrow
      46: return
}
