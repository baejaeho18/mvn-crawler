Compiled from "S3ErrorResponseHandler.java"
public class com.amazonaws.services.s3.internal.S3ErrorResponseHandler implements com.amazonaws.http.HttpResponseHandler<com.amazonaws.AmazonServiceException> {
  private static final org.apache.commons.logging.Log log;

  private static final javax.xml.stream.XMLInputFactory xmlInputFactory;

  public com.amazonaws.services.s3.internal.S3ErrorResponseHandler();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public com.amazonaws.AmazonServiceException handle(com.amazonaws.http.HttpResponse) throws javax.xml.stream.XMLStreamException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method createException:(Lcom/amazonaws/http/HttpResponse;)Lcom/amazonaws/AmazonServiceException;
       5: astore_2
       6: aload_2
       7: aload_1
       8: invokevirtual #3                  // Method com/amazonaws/http/HttpResponse.getHeaders:()Ljava/util/Map;
      11: invokevirtual #4                  // Method com/amazonaws/AmazonServiceException.setHttpHeaders:(Ljava/util/Map;)V
      14: aload_2
      15: areturn

  private com.amazonaws.AmazonServiceException createException(com.amazonaws.http.HttpResponse) throws javax.xml.stream.XMLStreamException;
    Code:
       0: aload_1
       1: invokevirtual #5                  // Method com/amazonaws/http/HttpResponse.getContent:()Ljava/io/InputStream;
       4: astore_2
       5: aconst_null
       6: astore_3
       7: aload_2
       8: ifnull        26
      11: aload_1
      12: invokevirtual #6                  // Method com/amazonaws/http/HttpResponse.getRequest:()Lcom/amazonaws/Request;
      15: invokeinterface #7,  1            // InterfaceMethod com/amazonaws/Request.getHttpMethod:()Lcom/amazonaws/http/HttpMethodName;
      20: getstatic     #8                  // Field com/amazonaws/http/HttpMethodName.HEAD:Lcom/amazonaws/http/HttpMethodName;
      23: if_acmpne     33
      26: aload_0
      27: aload_1
      28: aconst_null
      29: invokespecial #9                  // Method createExceptionFromHeaders:(Lcom/amazonaws/http/HttpResponse;Ljava/lang/String;)Lcom/amazonaws/services/s3/model/AmazonS3Exception;
      32: areturn
      33: aconst_null
      34: astore        4
      36: aload_2
      37: invokestatic  #10                 // Method com/amazonaws/util/IOUtils.toString:(Ljava/io/InputStream;)Ljava/lang/String;
      40: astore        4
      42: goto          77
      45: astore        5
      47: getstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
      50: invokeinterface #13,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      55: ifeq          70
      58: getstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
      61: ldc           #14                 // String Failed in parsing the error response :
      63: aload         5
      65: invokeinterface #15,  3           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      70: aload_0
      71: aload_1
      72: aconst_null
      73: invokespecial #9                  // Method createExceptionFromHeaders:(Lcom/amazonaws/http/HttpResponse;Ljava/lang/String;)Lcom/amazonaws/services/s3/model/AmazonS3Exception;
      76: areturn
      77: getstatic     #16                 // Field xmlInputFactory:Ljavax/xml/stream/XMLInputFactory;
      80: dup
      81: astore        6
      83: monitorenter
      84: getstatic     #16                 // Field xmlInputFactory:Ljavax/xml/stream/XMLInputFactory;
      87: new           #17                 // class java/io/ByteArrayInputStream
      90: dup
      91: aload         4
      93: getstatic     #18                 // Field com/amazonaws/util/StringUtils.UTF8:Ljava/nio/charset/Charset;
      96: invokevirtual #19                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
      99: invokespecial #20                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     102: invokevirtual #21                 // Method javax/xml/stream/XMLInputFactory.createXMLStreamReader:(Ljava/io/InputStream;)Ljavax/xml/stream/XMLStreamReader;
     105: astore        5
     107: aload         6
     109: monitorexit
     110: goto          121
     113: astore        7
     115: aload         6
     117: monitorexit
     118: aload         7
     120: athrow
     121: iconst_0
     122: istore        6
     124: new           #22                 // class com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder
     127: dup
     128: invokespecial #23                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder."<init>":()V
     131: astore        7
     133: aload         7
     135: aload         4
     137: invokevirtual #24                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setErrorResponseXml:(Ljava/lang/String;)V
     140: aload         7
     142: aload_1
     143: invokevirtual #25                 // Method com/amazonaws/http/HttpResponse.getStatusCode:()I
     146: invokevirtual #26                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setStatusCode:(I)V
     149: aload         7
     151: aload_1
     152: invokevirtual #3                  // Method com/amazonaws/http/HttpResponse.getHeaders:()Ljava/util/Map;
     155: ldc           #28                 // String X-Amz-Cf-Id
     157: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     162: checkcast     #30                 // class java/lang/String
     165: invokevirtual #31                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setCloudFrontId:(Ljava/lang/String;)V
     168: iconst_0
     169: istore        8
     171: aload         5
     173: invokeinterface #32,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.hasNext:()Z
     178: ifeq          499
     181: aload         5
     183: invokeinterface #33,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.next:()I
     188: istore        9
     190: iload         9
     192: tableswitch   { // 1 to 8
                     1: 240
                     2: 338
                     3: 496
                     4: 318
                     5: 496
                     6: 496
                     7: 496
                     8: 490
               default: 496
          }
     240: iinc          6, 1
     243: aload         5
     245: invokeinterface #34,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.getLocalName:()Ljava/lang/String;
     250: astore        10
     252: iload         6
     254: iconst_1
     255: if_icmpne     298
     258: getstatic     #35                 // Field com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.Error:Lcom/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags;
     261: invokevirtual #36                 // Method com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.toString:()Ljava/lang/String;
     264: aload         10
     266: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     269: ifne          298
     272: aload_0
     273: aload_1
     274: new           #38                 // class java/lang/StringBuilder
     277: dup
     278: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     281: ldc           #40                 // String Unable to parse error response. Error XML Not in proper format.
     283: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     286: aload         4
     288: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     291: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     294: invokespecial #9                  // Method createExceptionFromHeaders:(Lcom/amazonaws/http/HttpResponse;Ljava/lang/String;)Lcom/amazonaws/services/s3/model/AmazonS3Exception;
     297: areturn
     298: getstatic     #35                 // Field com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.Error:Lcom/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags;
     301: invokevirtual #36                 // Method com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.toString:()Ljava/lang/String;
     304: aload         10
     306: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     309: ifeq          171
     312: iconst_1
     313: istore        8
     315: goto          171
     318: aload         5
     320: invokeinterface #43,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.getText:()Ljava/lang/String;
     325: astore_3
     326: aload_3
     327: ifnull        171
     330: aload_3
     331: invokevirtual #44                 // Method java/lang/String.trim:()Ljava/lang/String;
     334: astore_3
     335: goto          171
     338: aload         5
     340: invokeinterface #34,  1           // InterfaceMethod javax/xml/stream/XMLStreamReader.getLocalName:()Ljava/lang/String;
     345: astore        10
     347: iinc          6, -1
     350: iload         8
     352: ifeq          361
     355: iload         6
     357: iconst_1
     358: if_icmple     387
     361: aload_0
     362: aload_1
     363: new           #38                 // class java/lang/StringBuilder
     366: dup
     367: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     370: ldc           #40                 // String Unable to parse error response. Error XML Not in proper format.
     372: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     375: aload         4
     377: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     380: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     383: invokespecial #9                  // Method createExceptionFromHeaders:(Lcom/amazonaws/http/HttpResponse;Ljava/lang/String;)Lcom/amazonaws/services/s3/model/AmazonS3Exception;
     386: areturn
     387: getstatic     #45                 // Field com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.Message:Lcom/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags;
     390: invokevirtual #36                 // Method com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.toString:()Ljava/lang/String;
     393: aload         10
     395: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     398: ifeq          410
     401: aload         7
     403: aload_3
     404: invokevirtual #46                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setErrorMessage:(Ljava/lang/String;)V
     407: goto          171
     410: getstatic     #47                 // Field com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.Code:Lcom/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags;
     413: invokevirtual #36                 // Method com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.toString:()Ljava/lang/String;
     416: aload         10
     418: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     421: ifeq          433
     424: aload         7
     426: aload_3
     427: invokevirtual #48                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setErrorCode:(Ljava/lang/String;)V
     430: goto          171
     433: getstatic     #49                 // Field com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.RequestId:Lcom/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags;
     436: invokevirtual #36                 // Method com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.toString:()Ljava/lang/String;
     439: aload         10
     441: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     444: ifeq          456
     447: aload         7
     449: aload_3
     450: invokevirtual #50                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setRequestId:(Ljava/lang/String;)V
     453: goto          171
     456: getstatic     #51                 // Field com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.HostId:Lcom/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags;
     459: invokevirtual #36                 // Method com/amazonaws/services/s3/internal/S3ErrorResponseHandler$S3ErrorTags.toString:()Ljava/lang/String;
     462: aload         10
     464: invokevirtual #37                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     467: ifeq          479
     470: aload         7
     472: aload_3
     473: invokevirtual #52                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setExtendedRequestId:(Ljava/lang/String;)V
     476: goto          171
     479: aload         7
     481: aload         10
     483: aload_3
     484: invokevirtual #53                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.addAdditionalDetail:(Ljava/lang/String;Ljava/lang/String;)V
     487: goto          171
     490: aload         7
     492: invokevirtual #54                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.build:()Lcom/amazonaws/services/s3/model/AmazonS3Exception;
     495: areturn
     496: goto          171
     499: goto          545
     502: astore        6
     504: getstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
     507: invokeinterface #13,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     512: ifeq          545
     515: getstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
     518: new           #38                 // class java/lang/StringBuilder
     521: dup
     522: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     525: ldc           #14                 // String Failed in parsing the error response :
     527: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     530: aload         4
     532: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     535: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     538: aload         6
     540: invokeinterface #15,  3           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     545: aload_0
     546: aload_1
     547: aload         4
     549: invokespecial #9                  // Method createExceptionFromHeaders:(Lcom/amazonaws/http/HttpResponse;Ljava/lang/String;)Lcom/amazonaws/services/s3/model/AmazonS3Exception;
     552: areturn
    Exception table:
       from    to  target type
          36    42    45   Class java/io/IOException
          84   110   113   any
         113   118   113   any
         121   297   502   Class java/lang/Exception
         298   386   502   Class java/lang/Exception
         387   495   502   Class java/lang/Exception
         496   499   502   Class java/lang/Exception

  private com.amazonaws.services.s3.model.AmazonS3Exception createExceptionFromHeaders(com.amazonaws.http.HttpResponse, java.lang.String);
    Code:
       0: aload_1
       1: invokevirtual #3                  // Method com/amazonaws/http/HttpResponse.getHeaders:()Ljava/util/Map;
       4: astore_3
       5: aload_1
       6: invokevirtual #25                 // Method com/amazonaws/http/HttpResponse.getStatusCode:()I
       9: istore        4
      11: new           #22                 // class com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder
      14: dup
      15: invokespecial #23                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder."<init>":()V
      18: astore        5
      20: aload         5
      22: aload_1
      23: invokevirtual #56                 // Method com/amazonaws/http/HttpResponse.getStatusText:()Ljava/lang/String;
      26: invokevirtual #46                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setErrorMessage:(Ljava/lang/String;)V
      29: aload         5
      31: aload_2
      32: invokevirtual #24                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setErrorResponseXml:(Ljava/lang/String;)V
      35: aload         5
      37: iload         4
      39: invokevirtual #26                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setStatusCode:(I)V
      42: aload         5
      44: aload_3
      45: ldc           #57                 // String x-amz-id-2
      47: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      52: checkcast     #30                 // class java/lang/String
      55: invokevirtual #52                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setExtendedRequestId:(Ljava/lang/String;)V
      58: aload         5
      60: aload_3
      61: ldc           #58                 // String x-amz-request-id
      63: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      68: checkcast     #30                 // class java/lang/String
      71: invokevirtual #50                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setRequestId:(Ljava/lang/String;)V
      74: aload         5
      76: aload_3
      77: ldc           #28                 // String X-Amz-Cf-Id
      79: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      84: checkcast     #30                 // class java/lang/String
      87: invokevirtual #31                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setCloudFrontId:(Ljava/lang/String;)V
      90: aload         5
      92: new           #38                 // class java/lang/StringBuilder
      95: dup
      96: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
      99: iload         4
     101: invokevirtual #59                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     104: ldc           #60                 // String
     106: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: aload_1
     110: invokevirtual #56                 // Method com/amazonaws/http/HttpResponse.getStatusText:()Ljava/lang/String;
     113: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokevirtual #48                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.setErrorCode:(Ljava/lang/String;)V
     122: aload         5
     124: ldc           #61                 // String x-amz-bucket-region
     126: aload_1
     127: invokevirtual #3                  // Method com/amazonaws/http/HttpResponse.getHeaders:()Ljava/util/Map;
     130: ldc           #61                 // String x-amz-bucket-region
     132: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     137: checkcast     #30                 // class java/lang/String
     140: invokevirtual #53                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.addAdditionalDetail:(Ljava/lang/String;Ljava/lang/String;)V
     143: aload         5
     145: invokevirtual #54                 // Method com/amazonaws/services/s3/internal/AmazonS3ExceptionBuilder.build:()Lcom/amazonaws/services/s3/model/AmazonS3Exception;
     148: areturn

  public boolean needsConnectionLeftOpen();
    Code:
       0: iconst_0
       1: ireturn

  public java.lang.Object handle(com.amazonaws.http.HttpResponse) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #62                 // Method handle:(Lcom/amazonaws/http/HttpResponse;)Lcom/amazonaws/AmazonServiceException;
       5: areturn

  static {};
    Code:
       0: ldc           #63                 // class com/amazonaws/services/s3/internal/S3ErrorResponseHandler
       2: invokestatic  #64                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
       8: invokestatic  #65                 // Method javax/xml/stream/XMLInputFactory.newInstance:()Ljavax/xml/stream/XMLInputFactory;
      11: putstatic     #16                 // Field xmlInputFactory:Ljavax/xml/stream/XMLInputFactory;
      14: return
}
