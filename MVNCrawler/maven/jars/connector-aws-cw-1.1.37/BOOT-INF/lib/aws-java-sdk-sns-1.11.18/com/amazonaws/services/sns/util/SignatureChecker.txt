Compiled from "SignatureChecker.java"
public class com.amazonaws.services.sns.util.SignatureChecker {
  private java.security.Signature sigChecker;

  private final java.lang.String NOTIFICATION_TYPE;

  private final java.lang.String SUBSCRIBE_TYPE;

  private final java.lang.String UNSUBSCRIBE_TYPE;

  private final java.lang.String TYPE;

  private final java.lang.String SUBSCRIBE_URL;

  private final java.lang.String MESSAGE;

  private final java.lang.String TIMESTAMP;

  private final java.lang.String SIGNATURE_VERSION;

  private final java.lang.String SIGNATURE;

  private final java.lang.String MESSAGE_ID;

  private final java.lang.String SUBJECT;

  private final java.lang.String TOPIC;

  private final java.lang.String TOKEN;

  private final java.util.Set<java.lang.String> INTERESTING_FIELDS;

  public com.amazonaws.services.sns.util.SignatureChecker();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc           #2                  // String Notification
       7: putfield      #3                  // Field NOTIFICATION_TYPE:Ljava/lang/String;
      10: aload_0
      11: ldc           #4                  // String SubscriptionConfirmation
      13: putfield      #5                  // Field SUBSCRIBE_TYPE:Ljava/lang/String;
      16: aload_0
      17: ldc           #6                  // String UnsubscribeConfirmation
      19: putfield      #7                  // Field UNSUBSCRIBE_TYPE:Ljava/lang/String;
      22: aload_0
      23: ldc           #8                  // String Type
      25: putfield      #9                  // Field TYPE:Ljava/lang/String;
      28: aload_0
      29: ldc           #10                 // String SubscribeURL
      31: putfield      #11                 // Field SUBSCRIBE_URL:Ljava/lang/String;
      34: aload_0
      35: ldc           #12                 // String Message
      37: putfield      #13                 // Field MESSAGE:Ljava/lang/String;
      40: aload_0
      41: ldc           #14                 // String Timestamp
      43: putfield      #15                 // Field TIMESTAMP:Ljava/lang/String;
      46: aload_0
      47: ldc           #16                 // String SignatureVersion
      49: putfield      #17                 // Field SIGNATURE_VERSION:Ljava/lang/String;
      52: aload_0
      53: ldc           #18                 // String Signature
      55: putfield      #19                 // Field SIGNATURE:Ljava/lang/String;
      58: aload_0
      59: ldc           #20                 // String MessageId
      61: putfield      #21                 // Field MESSAGE_ID:Ljava/lang/String;
      64: aload_0
      65: ldc           #22                 // String Subject
      67: putfield      #23                 // Field SUBJECT:Ljava/lang/String;
      70: aload_0
      71: ldc           #24                 // String TopicArn
      73: putfield      #25                 // Field TOPIC:Ljava/lang/String;
      76: aload_0
      77: ldc           #26                 // String Token
      79: putfield      #27                 // Field TOKEN:Ljava/lang/String;
      82: aload_0
      83: new           #28                 // class java/util/HashSet
      86: dup
      87: bipush        10
      89: anewarray     #29                 // class java/lang/String
      92: dup
      93: iconst_0
      94: ldc           #8                  // String Type
      96: aastore
      97: dup
      98: iconst_1
      99: ldc           #10                 // String SubscribeURL
     101: aastore
     102: dup
     103: iconst_2
     104: ldc           #12                 // String Message
     106: aastore
     107: dup
     108: iconst_3
     109: ldc           #14                 // String Timestamp
     111: aastore
     112: dup
     113: iconst_4
     114: ldc           #18                 // String Signature
     116: aastore
     117: dup
     118: iconst_5
     119: ldc           #16                 // String SignatureVersion
     121: aastore
     122: dup
     123: bipush        6
     125: ldc           #20                 // String MessageId
     127: aastore
     128: dup
     129: bipush        7
     131: ldc           #22                 // String Subject
     133: aastore
     134: dup
     135: bipush        8
     137: ldc           #24                 // String TopicArn
     139: aastore
     140: dup
     141: bipush        9
     143: ldc           #26                 // String Token
     145: aastore
     146: invokestatic  #31                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     149: invokespecial #32                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
     152: putfield      #33                 // Field INTERESTING_FIELDS:Ljava/util/Set;
     155: return

  public boolean verifyMessageSignature(java.lang.String, java.security.PublicKey);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #34                 // Method parseJSON:(Ljava/lang/String;)Ljava/util/Map;
       5: astore_3
       6: aload_0
       7: aload_3
       8: aload_2
       9: invokevirtual #35                 // Method verifySignature:(Ljava/util/Map;Ljava/security/PublicKey;)Z
      12: ireturn

  public boolean verifySignature(java.util.Map<java.lang.String, java.lang.String>, java.security.PublicKey);
    Code:
       0: iconst_0
       1: istore_3
       2: aload_1
       3: ldc           #16                 // String SignatureVersion
       5: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #29                 // class java/lang/String
      13: astore        4
      15: aload         4
      17: ldc           #37                 // String 1
      19: invokevirtual #38                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      22: ifeq          165
      25: aload_1
      26: ldc           #8                  // String Type
      28: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      33: checkcast     #29                 // class java/lang/String
      36: astore        5
      38: aload_1
      39: ldc           #18                 // String Signature
      41: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      46: checkcast     #29                 // class java/lang/String
      49: astore        6
      51: ldc           #39                 // String
      53: astore        7
      55: aload         5
      57: ldc           #2                  // String Notification
      59: invokevirtual #38                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      62: ifeq          79
      65: aload_0
      66: aload_0
      67: aload_1
      68: invokespecial #40                 // Method publishMessageValues:(Ljava/util/Map;)Ljava/util/TreeMap;
      71: invokevirtual #41                 // Method stringToSign:(Ljava/util/SortedMap;)Ljava/lang/String;
      74: astore        7
      76: goto          155
      79: aload         5
      81: ldc           #4                  // String SubscriptionConfirmation
      83: invokevirtual #38                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      86: ifeq          103
      89: aload_0
      90: aload_0
      91: aload_1
      92: invokespecial #42                 // Method subscribeMessageValues:(Ljava/util/Map;)Ljava/util/TreeMap;
      95: invokevirtual #41                 // Method stringToSign:(Ljava/util/SortedMap;)Ljava/lang/String;
      98: astore        7
     100: goto          155
     103: aload         5
     105: ldc           #6                  // String UnsubscribeConfirmation
     107: invokevirtual #38                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     110: ifeq          127
     113: aload_0
     114: aload_0
     115: aload_1
     116: invokespecial #42                 // Method subscribeMessageValues:(Ljava/util/Map;)Ljava/util/TreeMap;
     119: invokevirtual #41                 // Method stringToSign:(Ljava/util/SortedMap;)Ljava/lang/String;
     122: astore        7
     124: goto          155
     127: new           #43                 // class java/lang/RuntimeException
     130: dup
     131: new           #44                 // class java/lang/StringBuilder
     134: dup
     135: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     138: ldc           #46                 // String Cannot process message of type
     140: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: aload         5
     145: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     151: invokespecial #49                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     154: athrow
     155: aload_0
     156: aload         7
     158: aload         6
     160: aload_2
     161: invokevirtual #50                 // Method verifySignature:(Ljava/lang/String;Ljava/lang/String;Ljava/security/PublicKey;)Z
     164: istore_3
     165: iload_3
     166: ireturn

  public boolean verifySignature(java.lang.String, java.lang.String, java.security.PublicKey);
    Code:
       0: iconst_0
       1: istore        4
       3: aconst_null
       4: astore        5
       6: aload_2
       7: invokevirtual #51                 // Method java/lang/String.getBytes:()[B
      10: invokestatic  #52                 // Method com/amazonaws/util/Base64.decode:([B)[B
      13: astore        5
      15: aload_0
      16: ldc           #53                 // String SHA1withRSA
      18: invokestatic  #54                 // Method java/security/Signature.getInstance:(Ljava/lang/String;)Ljava/security/Signature;
      21: putfield      #55                 // Field sigChecker:Ljava/security/Signature;
      24: aload_0
      25: getfield      #55                 // Field sigChecker:Ljava/security/Signature;
      28: aload_3
      29: invokevirtual #56                 // Method java/security/Signature.initVerify:(Ljava/security/PublicKey;)V
      32: aload_0
      33: getfield      #55                 // Field sigChecker:Ljava/security/Signature;
      36: aload_1
      37: invokevirtual #51                 // Method java/lang/String.getBytes:()[B
      40: invokevirtual #57                 // Method java/security/Signature.update:([B)V
      43: aload_0
      44: getfield      #55                 // Field sigChecker:Ljava/security/Signature;
      47: aload         5
      49: invokevirtual #58                 // Method java/security/Signature.verify:([B)Z
      52: istore        4
      54: goto          69
      57: astore        6
      59: goto          69
      62: astore        6
      64: goto          69
      67: astore        6
      69: iload         4
      71: ireturn
    Exception table:
       from    to  target type
           6    54    57   Class java/security/NoSuchAlgorithmException
           6    54    62   Class java/security/InvalidKeyException
           6    54    67   Class java/security/SignatureException

  protected java.lang.String stringToSign(java.util.SortedMap<java.lang.String, java.lang.String>);
    Code:
       0: new           #44                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_2
       8: aload_1
       9: invokeinterface #62,  1           // InterfaceMethod java/util/SortedMap.keySet:()Ljava/util/Set;
      14: invokeinterface #63,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      19: astore_3
      20: aload_3
      21: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          76
      29: aload_3
      30: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #29                 // class java/lang/String
      38: astore        4
      40: aload_2
      41: aload         4
      43: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: ldc           #66                 // String \n
      48: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: pop
      52: aload_2
      53: aload_1
      54: aload         4
      56: invokeinterface #67,  2           // InterfaceMethod java/util/SortedMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      61: checkcast     #29                 // class java/lang/String
      64: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: ldc           #66                 // String \n
      69: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: pop
      73: goto          20
      76: aload_2
      77: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      80: astore_3
      81: aload_3
      82: areturn

  private java.util.Map<java.lang.String, java.lang.String> parseJSON(java.lang.String);
    Code:
       0: new           #68                 // class java/util/HashMap
       3: dup
       4: invokespecial #69                 // Method java/util/HashMap."<init>":()V
       7: astore_2
       8: new           #70                 // class com/fasterxml/jackson/core/JsonFactory
      11: dup
      12: invokespecial #71                 // Method com/fasterxml/jackson/core/JsonFactory."<init>":()V
      15: astore_3
      16: aload_3
      17: aload_1
      18: invokevirtual #72                 // Method com/fasterxml/jackson/core/JsonFactory.createParser:(Ljava/lang/String;)Lcom/fasterxml/jackson/core/JsonParser;
      21: astore        4
      23: aload         4
      25: invokevirtual #73                 // Method com/fasterxml/jackson/core/JsonParser.nextToken:()Lcom/fasterxml/jackson/core/JsonToken;
      28: pop
      29: aload         4
      31: invokevirtual #73                 // Method com/fasterxml/jackson/core/JsonParser.nextToken:()Lcom/fasterxml/jackson/core/JsonToken;
      34: getstatic     #74                 // Field com/fasterxml/jackson/core/JsonToken.END_OBJECT:Lcom/fasterxml/jackson/core/JsonToken;
      37: if_acmpeq     187
      40: aload         4
      42: invokevirtual #75                 // Method com/fasterxml/jackson/core/JsonParser.getCurrentName:()Ljava/lang/String;
      45: astore        5
      47: aload_0
      48: getfield      #33                 // Field INTERESTING_FIELDS:Ljava/util/Set;
      51: aload         5
      53: invokeinterface #76,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      58: ifne          70
      61: aload         4
      63: invokevirtual #77                 // Method com/fasterxml/jackson/core/JsonParser.skipChildren:()Lcom/fasterxml/jackson/core/JsonParser;
      66: pop
      67: goto          29
      70: aload         4
      72: invokevirtual #73                 // Method com/fasterxml/jackson/core/JsonParser.nextToken:()Lcom/fasterxml/jackson/core/JsonToken;
      75: pop
      76: aload         4
      78: invokevirtual #78                 // Method com/fasterxml/jackson/core/JsonParser.getCurrentToken:()Lcom/fasterxml/jackson/core/JsonToken;
      81: getstatic     #79                 // Field com/fasterxml/jackson/core/JsonToken.START_ARRAY:Lcom/fasterxml/jackson/core/JsonToken;
      84: if_acmpne     166
      87: ldc           #39                 // String
      89: astore        6
      91: iconst_1
      92: istore        7
      94: aload         4
      96: invokevirtual #73                 // Method com/fasterxml/jackson/core/JsonParser.nextToken:()Lcom/fasterxml/jackson/core/JsonToken;
      99: getstatic     #80                 // Field com/fasterxml/jackson/core/JsonToken.END_ARRAY:Lcom/fasterxml/jackson/core/JsonToken;
     102: if_acmpeq     163
     105: iload         7
     107: ifne          132
     110: new           #44                 // class java/lang/StringBuilder
     113: dup
     114: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     117: aload         6
     119: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: ldc           #81                 // String ,
     124: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     130: astore        6
     132: iconst_0
     133: istore        7
     135: new           #44                 // class java/lang/StringBuilder
     138: dup
     139: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     142: aload         6
     144: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: aload         4
     149: invokevirtual #82                 // Method com/fasterxml/jackson/core/JsonParser.getText:()Ljava/lang/String;
     152: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: invokevirtual #48                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     158: astore        6
     160: goto          94
     163: goto          173
     166: aload         4
     168: invokevirtual #82                 // Method com/fasterxml/jackson/core/JsonParser.getText:()Ljava/lang/String;
     171: astore        6
     173: aload_2
     174: aload         5
     176: aload         6
     178: invokeinterface #83,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     183: pop
     184: goto          29
     187: goto          202
     190: astore        4
     192: aload         4
     194: invokevirtual #85                 // Method com/fasterxml/jackson/core/JsonParseException.printStackTrace:()V
     197: goto          202
     200: astore        4
     202: aload_2
     203: areturn
    Exception table:
       from    to  target type
          16   187   190   Class com/fasterxml/jackson/core/JsonParseException
          16   187   200   Class java/io/IOException

  private java.util.TreeMap<java.lang.String, java.lang.String> publishMessageValues(java.util.Map<java.lang.String, java.lang.String>);
    Code:
       0: new           #87                 // class java/util/TreeMap
       3: dup
       4: invokespecial #88                 // Method java/util/TreeMap."<init>":()V
       7: astore_2
       8: bipush        6
      10: anewarray     #29                 // class java/lang/String
      13: dup
      14: iconst_0
      15: ldc           #12                 // String Message
      17: aastore
      18: dup
      19: iconst_1
      20: ldc           #20                 // String MessageId
      22: aastore
      23: dup
      24: iconst_2
      25: ldc           #22                 // String Subject
      27: aastore
      28: dup
      29: iconst_3
      30: ldc           #8                  // String Type
      32: aastore
      33: dup
      34: iconst_4
      35: ldc           #14                 // String Timestamp
      37: aastore
      38: dup
      39: iconst_5
      40: ldc           #24                 // String TopicArn
      42: aastore
      43: astore_3
      44: aload_3
      45: astore        4
      47: aload         4
      49: arraylength
      50: istore        5
      52: iconst_0
      53: istore        6
      55: iload         6
      57: iload         5
      59: if_icmpge     101
      62: aload         4
      64: iload         6
      66: aaload
      67: astore        7
      69: aload_1
      70: aload         7
      72: invokeinterface #89,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      77: ifeq          95
      80: aload_2
      81: aload         7
      83: aload_1
      84: aload         7
      86: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      91: invokevirtual #90                 // Method java/util/TreeMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      94: pop
      95: iinc          6, 1
      98: goto          55
     101: aload_2
     102: areturn

  private java.util.TreeMap<java.lang.String, java.lang.String> subscribeMessageValues(java.util.Map<java.lang.String, java.lang.String>);
    Code:
       0: new           #87                 // class java/util/TreeMap
       3: dup
       4: invokespecial #88                 // Method java/util/TreeMap."<init>":()V
       7: astore_2
       8: bipush        7
      10: anewarray     #29                 // class java/lang/String
      13: dup
      14: iconst_0
      15: ldc           #10                 // String SubscribeURL
      17: aastore
      18: dup
      19: iconst_1
      20: ldc           #12                 // String Message
      22: aastore
      23: dup
      24: iconst_2
      25: ldc           #20                 // String MessageId
      27: aastore
      28: dup
      29: iconst_3
      30: ldc           #8                  // String Type
      32: aastore
      33: dup
      34: iconst_4
      35: ldc           #14                 // String Timestamp
      37: aastore
      38: dup
      39: iconst_5
      40: ldc           #26                 // String Token
      42: aastore
      43: dup
      44: bipush        6
      46: ldc           #24                 // String TopicArn
      48: aastore
      49: astore_3
      50: aload_3
      51: astore        4
      53: aload         4
      55: arraylength
      56: istore        5
      58: iconst_0
      59: istore        6
      61: iload         6
      63: iload         5
      65: if_icmpge     107
      68: aload         4
      70: iload         6
      72: aaload
      73: astore        7
      75: aload_1
      76: aload         7
      78: invokeinterface #89,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      83: ifeq          101
      86: aload_2
      87: aload         7
      89: aload_1
      90: aload         7
      92: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      97: invokevirtual #90                 // Method java/util/TreeMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     100: pop
     101: iinc          6, 1
     104: goto          61
     107: aload_2
     108: areturn
}
