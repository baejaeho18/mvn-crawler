Compiled from "AsyncExecutionAspectSupport.java"
public abstract class org.springframework.aop.interceptor.AsyncExecutionAspectSupport implements org.springframework.beans.factory.BeanFactoryAware {
  public static final java.lang.String DEFAULT_TASK_EXECUTOR_BEAN_NAME;

  private static final boolean completableFuturePresent;

  protected final org.apache.commons.logging.Log logger;

  private final java.util.Map<java.lang.reflect.Method, org.springframework.core.task.AsyncTaskExecutor> executors;

  private volatile java.util.concurrent.Executor defaultExecutor;

  private org.springframework.aop.interceptor.AsyncUncaughtExceptionHandler exceptionHandler;

  private org.springframework.beans.factory.BeanFactory beanFactory;

  public org.springframework.aop.interceptor.AsyncExecutionAspectSupport(java.util.concurrent.Executor);
    Code:
       0: aload_0
       1: aload_1
       2: new           #1                  // class org/springframework/aop/interceptor/SimpleAsyncUncaughtExceptionHandler
       5: dup
       6: invokespecial #2                  // Method org/springframework/aop/interceptor/SimpleAsyncUncaughtExceptionHandler."<init>":()V
       9: invokespecial #3                  // Method "<init>":(Ljava/util/concurrent/Executor;Lorg/springframework/aop/interceptor/AsyncUncaughtExceptionHandler;)V
      12: return

  public org.springframework.aop.interceptor.AsyncExecutionAspectSupport(java.util.concurrent.Executor, org.springframework.aop.interceptor.AsyncUncaughtExceptionHandler);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #5                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #6                  // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
      12: putfield      #7                  // Field logger:Lorg/apache/commons/logging/Log;
      15: aload_0
      16: new           #8                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: bipush        16
      22: invokespecial #9                  // Method java/util/concurrent/ConcurrentHashMap."<init>":(I)V
      25: putfield      #10                 // Field executors:Ljava/util/Map;
      28: aload_0
      29: aload_1
      30: putfield      #11                 // Field defaultExecutor:Ljava/util/concurrent/Executor;
      33: aload_0
      34: aload_2
      35: putfield      #12                 // Field exceptionHandler:Lorg/springframework/aop/interceptor/AsyncUncaughtExceptionHandler;
      38: return

  public void setExecutor(java.util.concurrent.Executor);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #11                 // Field defaultExecutor:Ljava/util/concurrent/Executor;
       5: return

  public void setExceptionHandler(org.springframework.aop.interceptor.AsyncUncaughtExceptionHandler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #12                 // Field exceptionHandler:Lorg/springframework/aop/interceptor/AsyncUncaughtExceptionHandler;
       5: return

  public void setBeanFactory(org.springframework.beans.factory.BeanFactory);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #13                 // Field beanFactory:Lorg/springframework/beans/factory/BeanFactory;
       5: return

  protected org.springframework.core.task.AsyncTaskExecutor determineAsyncExecutor(java.lang.reflect.Method);
    Code:
       0: aload_0
       1: getfield      #10                 // Field executors:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #14,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #15                 // class org/springframework/core/task/AsyncTaskExecutor
      13: astore_2
      14: aload_2
      15: ifnonnull     143
      18: aload_0
      19: aload_1
      20: invokevirtual #16                 // Method getExecutorQualifier:(Ljava/lang/reflect/Method;)Ljava/lang/String;
      23: astore        4
      25: aload         4
      27: invokestatic  #17                 // Method org/springframework/util/StringUtils.hasLength:(Ljava/lang/String;)Z
      30: ifeq          47
      33: aload_0
      34: aload_0
      35: getfield      #13                 // Field beanFactory:Lorg/springframework/beans/factory/BeanFactory;
      38: aload         4
      40: invokevirtual #18                 // Method findQualifiedExecutor:(Lorg/springframework/beans/factory/BeanFactory;Ljava/lang/String;)Ljava/util/concurrent/Executor;
      43: astore_3
      44: goto          102
      47: aload_0
      48: getfield      #11                 // Field defaultExecutor:Ljava/util/concurrent/Executor;
      51: astore_3
      52: aload_3
      53: ifnonnull     102
      56: aload_0
      57: getfield      #10                 // Field executors:Ljava/util/Map;
      60: dup
      61: astore        5
      63: monitorenter
      64: aload_0
      65: getfield      #11                 // Field defaultExecutor:Ljava/util/concurrent/Executor;
      68: ifnonnull     83
      71: aload_0
      72: aload_0
      73: aload_0
      74: getfield      #13                 // Field beanFactory:Lorg/springframework/beans/factory/BeanFactory;
      77: invokevirtual #19                 // Method getDefaultExecutor:(Lorg/springframework/beans/factory/BeanFactory;)Ljava/util/concurrent/Executor;
      80: putfield      #11                 // Field defaultExecutor:Ljava/util/concurrent/Executor;
      83: aload_0
      84: getfield      #11                 // Field defaultExecutor:Ljava/util/concurrent/Executor;
      87: astore_3
      88: aload         5
      90: monitorexit
      91: goto          102
      94: astore        6
      96: aload         5
      98: monitorexit
      99: aload         6
     101: athrow
     102: aload_3
     103: ifnonnull     108
     106: aconst_null
     107: areturn
     108: aload_3
     109: instanceof    #20                 // class org/springframework/core/task/AsyncListenableTaskExecutor
     112: ifeq          122
     115: aload_3
     116: checkcast     #20                 // class org/springframework/core/task/AsyncListenableTaskExecutor
     119: goto          130
     122: new           #21                 // class org/springframework/core/task/support/TaskExecutorAdapter
     125: dup
     126: aload_3
     127: invokespecial #22                 // Method org/springframework/core/task/support/TaskExecutorAdapter."<init>":(Ljava/util/concurrent/Executor;)V
     130: astore_2
     131: aload_0
     132: getfield      #10                 // Field executors:Ljava/util/Map;
     135: aload_1
     136: aload_2
     137: invokeinterface #23,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     142: pop
     143: aload_2
     144: areturn
    Exception table:
       from    to  target type
          64    91    94   any
          94    99    94   any

  protected abstract java.lang.String getExecutorQualifier(java.lang.reflect.Method);

  protected java.util.concurrent.Executor findQualifiedExecutor(org.springframework.beans.factory.BeanFactory, java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     51
       4: new           #24                 // class java/lang/IllegalStateException
       7: dup
       8: new           #25                 // class java/lang/StringBuilder
      11: dup
      12: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      15: ldc           #27                 // String BeanFactory must be set on
      17: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: aload_0
      21: invokevirtual #5                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
      24: invokevirtual #29                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      27: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #30                 // String  to access qualified executor \'
      32: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: aload_2
      36: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: ldc           #31                 // String \'
      41: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      47: invokespecial #33                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      50: athrow
      51: aload_1
      52: ldc           #34                 // class java/util/concurrent/Executor
      54: aload_2
      55: invokestatic  #35                 // Method org/springframework/beans/factory/annotation/BeanFactoryAnnotationUtils.qualifiedBeanOfType:(Lorg/springframework/beans/factory/BeanFactory;Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
      58: checkcast     #34                 // class java/util/concurrent/Executor
      61: areturn

  protected java.util.concurrent.Executor getDefaultExecutor(org.springframework.beans.factory.BeanFactory);
    Code:
       0: aload_1
       1: ifnull        102
       4: aload_1
       5: ldc           #36                 // class org/springframework/core/task/TaskExecutor
       7: invokeinterface #37,  2           // InterfaceMethod org/springframework/beans/factory/BeanFactory.getBean:(Ljava/lang/Class;)Ljava/lang/Object;
      12: checkcast     #34                 // class java/util/concurrent/Executor
      15: areturn
      16: astore_2
      17: aload_1
      18: ldc           #40                 // String taskExecutor
      20: ldc           #34                 // class java/util/concurrent/Executor
      22: invokeinterface #41,  3           // InterfaceMethod org/springframework/beans/factory/BeanFactory.getBean:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
      27: checkcast     #34                 // class java/util/concurrent/Executor
      30: areturn
      31: astore_3
      32: aload_0
      33: getfield      #7                  // Field logger:Lorg/apache/commons/logging/Log;
      36: invokeinterface #43,  1           // InterfaceMethod org/apache/commons/logging/Log.isInfoEnabled:()Z
      41: ifeq          75
      44: aload_0
      45: getfield      #7                  // Field logger:Lorg/apache/commons/logging/Log;
      48: new           #25                 // class java/lang/StringBuilder
      51: dup
      52: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      55: ldc           #44                 // String More than one TaskExecutor bean found within the context, and none is named \'taskExecutor\'. Mark one of them as primary or name it \'taskExecutor\' (possibly as an alias) in order to use it for async processing:
      57: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      60: aload_2
      61: invokevirtual #45                 // Method org/springframework/beans/factory/NoUniqueBeanDefinitionException.getBeanNamesFound:()Ljava/util/Collection;
      64: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      67: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: invokeinterface #47,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
      75: goto          102
      78: astore_2
      79: aload_0
      80: getfield      #7                  // Field logger:Lorg/apache/commons/logging/Log;
      83: ldc           #48                 // String Could not find default TaskExecutor bean
      85: aload_2
      86: invokeinterface #49,  3           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      91: aload_0
      92: getfield      #7                  // Field logger:Lorg/apache/commons/logging/Log;
      95: ldc           #50                 // String No TaskExecutor bean found for async processing
      97: invokeinterface #47,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
     102: aconst_null
     103: areturn
    Exception table:
       from    to  target type
           4    15    16   Class org/springframework/beans/factory/NoUniqueBeanDefinitionException
          17    30    31   Class org/springframework/beans/factory/NoSuchBeanDefinitionException
           4    15    78   Class org/springframework/beans/factory/NoSuchBeanDefinitionException

  protected java.lang.Object doSubmit(java.util.concurrent.Callable<java.lang.Object>, org.springframework.core.task.AsyncTaskExecutor, java.lang.Class<?>);
    Code:
       0: getstatic     #51                 // Field completableFuturePresent:Z
       3: ifeq          22
       6: aload_3
       7: aload_1
       8: aload_2
       9: invokestatic  #52                 // Method org/springframework/aop/interceptor/AsyncExecutionAspectSupport$CompletableFutureDelegate.processCompletableFuture:(Ljava/lang/Class;Ljava/util/concurrent/Callable;Ljava/util/concurrent/Executor;)Ljava/util/concurrent/Future;
      12: astore        4
      14: aload         4
      16: ifnull        22
      19: aload         4
      21: areturn
      22: ldc           #53                 // class org/springframework/util/concurrent/ListenableFuture
      24: aload_3
      25: invokevirtual #54                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      28: ifeq          42
      31: aload_2
      32: checkcast     #20                 // class org/springframework/core/task/AsyncListenableTaskExecutor
      35: aload_1
      36: invokeinterface #55,  2           // InterfaceMethod org/springframework/core/task/AsyncListenableTaskExecutor.submitListenable:(Ljava/util/concurrent/Callable;)Lorg/springframework/util/concurrent/ListenableFuture;
      41: areturn
      42: ldc           #56                 // class java/util/concurrent/Future
      44: aload_3
      45: invokevirtual #54                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      48: ifeq          59
      51: aload_2
      52: aload_1
      53: invokeinterface #57,  2           // InterfaceMethod org/springframework/core/task/AsyncTaskExecutor.submit:(Ljava/util/concurrent/Callable;)Ljava/util/concurrent/Future;
      58: areturn
      59: aload_2
      60: aload_1
      61: invokeinterface #57,  2           // InterfaceMethod org/springframework/core/task/AsyncTaskExecutor.submit:(Ljava/util/concurrent/Callable;)Ljava/util/concurrent/Future;
      66: pop
      67: aconst_null
      68: areturn

  protected void handleError(java.lang.Throwable, java.lang.reflect.Method, java.lang.Object...) throws java.lang.Exception;
    Code:
       0: ldc           #56                 // class java/util/concurrent/Future
       2: aload_2
       3: invokevirtual #58                 // Method java/lang/reflect/Method.getReturnType:()Ljava/lang/Class;
       6: invokevirtual #54                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
       9: ifeq          19
      12: aload_1
      13: invokestatic  #59                 // Method org/springframework/util/ReflectionUtils.rethrowException:(Ljava/lang/Throwable;)V
      16: goto          74
      19: aload_0
      20: getfield      #12                 // Field exceptionHandler:Lorg/springframework/aop/interceptor/AsyncUncaughtExceptionHandler;
      23: aload_1
      24: aload_2
      25: aload_3
      26: invokeinterface #60,  4           // InterfaceMethod org/springframework/aop/interceptor/AsyncUncaughtExceptionHandler.handleUncaughtException:(Ljava/lang/Throwable;Ljava/lang/reflect/Method;[Ljava/lang/Object;)V
      31: goto          74
      34: astore        4
      36: aload_0
      37: getfield      #7                  // Field logger:Lorg/apache/commons/logging/Log;
      40: new           #25                 // class java/lang/StringBuilder
      43: dup
      44: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #62                 // String Exception handler for async method \'
      49: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: aload_2
      53: invokevirtual #63                 // Method java/lang/reflect/Method.toGenericString:()Ljava/lang/String;
      56: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: ldc           #64                 // String \' threw unexpected exception itself
      61: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      67: aload         4
      69: invokeinterface #65,  3           // InterfaceMethod org/apache/commons/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      74: return
    Exception table:
       from    to  target type
          19    31    34   Class java/lang/Throwable

  static {};
    Code:
       0: ldc           #66                 // String java.util.concurrent.CompletableFuture
       2: ldc           #67                 // class org/springframework/aop/interceptor/AsyncExecutionInterceptor
       4: invokevirtual #68                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
       7: invokestatic  #69                 // Method org/springframework/util/ClassUtils.isPresent:(Ljava/lang/String;Ljava/lang/ClassLoader;)Z
      10: putstatic     #51                 // Field completableFuturePresent:Z
      13: return
}
