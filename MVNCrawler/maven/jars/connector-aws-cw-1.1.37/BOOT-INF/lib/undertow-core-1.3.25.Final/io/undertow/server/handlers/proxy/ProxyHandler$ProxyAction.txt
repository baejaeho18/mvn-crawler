Compiled from "ProxyHandler.java"
class io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction implements java.lang.Runnable {
  private final io.undertow.server.handlers.proxy.ProxyConnection clientConnection;

  private final io.undertow.server.HttpServerExchange exchange;

  private final java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute> requestHeaders;

  private final boolean rewriteHostHeader;

  private final boolean reuseXForwarded;

  io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction(io.undertow.server.handlers.proxy.ProxyConnection, io.undertow.server.HttpServerExchange, java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute>, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
       9: aload_0
      10: aload_2
      11: putfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      14: aload_0
      15: aload_3
      16: putfield      #3                  // Field requestHeaders:Ljava/util/Map;
      19: aload_0
      20: iload         4
      22: putfield      #2                  // Field rewriteHostHeader:Z
      25: aload_0
      26: iload         5
      28: putfield      #1                  // Field reuseXForwarded:Z
      31: return

  public void run();
    Code:
       0: new           #7                  // class io/undertow/client/ClientRequest
       3: dup
       4: invokespecial #8                  // Method io/undertow/client/ClientRequest."<init>":()V
       7: astore_1
       8: new           #9                  // class java/lang/StringBuilder
      11: dup
      12: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
      15: astore_2
      16: aload_0
      17: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      20: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
      23: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
      26: ifeq          51
      29: aload_2
      30: aload_0
      31: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      34: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      37: aload_0
      38: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      41: invokestatic  #14                 // Method io/undertow/server/handlers/proxy/ProxyHandler.access$500:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
      44: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: pop
      48: goto          147
      51: aload_0
      52: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      55: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      58: ldc           #16                 // String /
      60: invokevirtual #17                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      63: ifeq          116
      66: aload_2
      67: aload_0
      68: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      71: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      74: iconst_0
      75: aload_0
      76: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
      79: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
      82: invokevirtual #18                 // Method java/lang/String.length:()I
      85: iconst_1
      86: isub
      87: invokevirtual #19                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      90: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: pop
      94: aload_2
      95: aload_0
      96: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      99: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
     102: aload_0
     103: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     106: invokestatic  #14                 // Method io/undertow/server/handlers/proxy/ProxyHandler.access$500:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     109: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: pop
     113: goto          147
     116: aload_2
     117: aload_0
     118: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     121: invokevirtual #13                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
     124: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: astore_2
     128: aload_2
     129: aload_0
     130: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     133: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
     136: aload_0
     137: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     140: invokestatic  #14                 // Method io/undertow/server/handlers/proxy/ProxyHandler.access$500:(Ljava/lang/String;Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     143: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     146: pop
     147: iconst_1
     148: istore_3
     149: aload_0
     150: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     153: invokevirtual #20                 // Method io/undertow/server/HttpServerExchange.getPathParameters:()Ljava/util/Map;
     156: invokeinterface #21,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     161: ifne          314
     164: aload_2
     165: bipush        59
     167: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     170: pop
     171: aload_0
     172: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     175: invokevirtual #20                 // Method io/undertow/server/HttpServerExchange.getPathParameters:()Ljava/util/Map;
     178: invokeinterface #23,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     183: invokeinterface #24,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     188: astore        4
     190: aload         4
     192: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     197: ifeq          314
     200: aload         4
     202: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     207: checkcast     #27                 // class java/util/Map$Entry
     210: astore        5
     212: iload_3
     213: ifeq          221
     216: iconst_0
     217: istore_3
     218: goto          228
     221: aload_2
     222: bipush        38
     224: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     227: pop
     228: aload         5
     230: invokeinterface #28,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     235: checkcast     #29                 // class java/util/Deque
     238: invokeinterface #30,  1           // InterfaceMethod java/util/Deque.iterator:()Ljava/util/Iterator;
     243: astore        6
     245: aload         6
     247: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     252: ifeq          311
     255: aload         6
     257: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     262: checkcast     #31                 // class java/lang/String
     265: astore        7
     267: aload_2
     268: aload         5
     270: invokeinterface #32,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     275: checkcast     #31                 // class java/lang/String
     278: getstatic     #33                 // Field io/undertow/server/handlers/proxy/ProxyHandler.UTF_8:Ljava/lang/String;
     281: invokestatic  #34                 // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     284: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     287: pop
     288: aload_2
     289: bipush        61
     291: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     294: pop
     295: aload_2
     296: aload         7
     298: getstatic     #33                 // Field io/undertow/server/handlers/proxy/ProxyHandler.UTF_8:Ljava/lang/String;
     301: invokestatic  #34                 // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     304: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     307: pop
     308: goto          245
     311: goto          190
     314: aload_0
     315: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     318: invokevirtual #35                 // Method io/undertow/server/HttpServerExchange.getQueryString:()Ljava/lang/String;
     321: astore        4
     323: aload         4
     325: ifnull        350
     328: aload         4
     330: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
     333: ifne          350
     336: aload_2
     337: bipush        63
     339: invokevirtual #22                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     342: pop
     343: aload_2
     344: aload         4
     346: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     349: pop
     350: goto          383
     353: astore_3
     354: getstatic     #37                 // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
     357: aload_3
     358: invokeinterface #38,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
     363: aload_0
     364: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     367: sipush        500
     370: invokevirtual #40                 // Method io/undertow/server/HttpServerExchange.setStatusCode:(I)Lio/undertow/server/HttpServerExchange;
     373: pop
     374: aload_0
     375: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     378: invokevirtual #41                 // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
     381: pop
     382: return
     383: aload_1
     384: aload_2
     385: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     388: invokevirtual #43                 // Method io/undertow/client/ClientRequest.setPath:(Ljava/lang/String;)Lio/undertow/client/ClientRequest;
     391: aload_0
     392: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     395: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.getRequestMethod:()Lio/undertow/util/HttpString;
     398: invokevirtual #45                 // Method io/undertow/client/ClientRequest.setMethod:(Lio/undertow/util/HttpString;)Lio/undertow/client/ClientRequest;
     401: pop
     402: aload_0
     403: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     406: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     409: astore_3
     410: aload_1
     411: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     414: astore        4
     416: aload         4
     418: aload_3
     419: invokestatic  #48                 // Method io/undertow/server/handlers/proxy/ProxyHandler.copyHeaders:(Lio/undertow/util/HeaderMap;Lio/undertow/util/HeaderMap;)V
     422: aload_0
     423: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     426: invokevirtual #49                 // Method io/undertow/server/HttpServerExchange.isPersistent:()Z
     429: ifne          443
     432: aload         4
     434: getstatic     #50                 // Field io/undertow/util/Headers.CONNECTION:Lio/undertow/util/HttpString;
     437: ldc           #51                 // String keep-alive
     439: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     442: pop
     443: ldc           #53                 // String h2c
     445: aload_0
     446: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     449: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     452: getstatic     #54                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
     455: invokevirtual #55                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     458: invokevirtual #56                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     461: ifeq          489
     464: aload_0
     465: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     468: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     471: getstatic     #54                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
     474: invokevirtual #57                 // Method io/undertow/util/HeaderMap.remove:(Lio/undertow/util/HttpString;)Ljava/util/Collection;
     477: pop
     478: aload         4
     480: getstatic     #50                 // Field io/undertow/util/Headers.CONNECTION:Lio/undertow/util/HttpString;
     483: ldc           #51                 // String keep-alive
     485: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     488: pop
     489: aload_0
     490: getfield      #3                  // Field requestHeaders:Ljava/util/Map;
     493: invokeinterface #23,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     498: invokeinterface #24,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     503: astore        5
     505: aload         5
     507: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     512: ifeq          608
     515: aload         5
     517: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     522: checkcast     #27                 // class java/util/Map$Entry
     525: astore        6
     527: aload         6
     529: invokeinterface #28,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     534: checkcast     #58                 // class io/undertow/attribute/ExchangeAttribute
     537: aload_0
     538: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     541: invokeinterface #59,  2           // InterfaceMethod io/undertow/attribute/ExchangeAttribute.readAttribute:(Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     546: astore        7
     548: aload         7
     550: ifnull        561
     553: aload         7
     555: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
     558: ifeq          580
     561: aload         4
     563: aload         6
     565: invokeinterface #32,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     570: checkcast     #60                 // class io/undertow/util/HttpString
     573: invokevirtual #57                 // Method io/undertow/util/HeaderMap.remove:(Lio/undertow/util/HttpString;)Ljava/util/Collection;
     576: pop
     577: goto          605
     580: aload         4
     582: aload         6
     584: invokeinterface #32,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     589: checkcast     #60                 // class io/undertow/util/HttpString
     592: aload         7
     594: bipush        10
     596: bipush        32
     598: invokevirtual #61                 // Method java/lang/String.replace:(CC)Ljava/lang/String;
     601: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     604: pop
     605: goto          505
     608: aload_0
     609: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     612: invokevirtual #62                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     615: invokevirtual #63                 // Method io/undertow/server/ServerConnection.getPeerAddress:()Ljava/net/SocketAddress;
     618: astore        5
     620: aload         5
     622: ifnull        644
     625: aload         5
     627: instanceof    #64                 // class java/net/InetSocketAddress
     630: ifeq          644
     633: aload         5
     635: checkcast     #64                 // class java/net/InetSocketAddress
     638: invokevirtual #65                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
     641: goto          646
     644: ldc           #66                 // String localhost
     646: astore        6
     648: aload_1
     649: getstatic     #67                 // Field io/undertow/client/ProxiedRequestAttachments.REMOTE_HOST:Lio/undertow/util/AttachmentKey;
     652: aload         6
     654: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     657: pop
     658: aload_0
     659: getfield      #1                  // Field reuseXForwarded:Z
     662: ifeq          758
     665: aload_1
     666: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     669: getstatic     #69                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     672: invokevirtual #70                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     675: ifeq          758
     678: aload_1
     679: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     682: getstatic     #69                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     685: invokevirtual #55                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     688: astore        7
     690: aload         7
     692: ifnull        703
     695: aload         7
     697: invokevirtual #12                 // Method java/lang/String.isEmpty:()Z
     700: ifeq          719
     703: aload_1
     704: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     707: getstatic     #69                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     710: aload         6
     712: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     715: pop
     716: goto          755
     719: aload_1
     720: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     723: getstatic     #69                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     726: new           #9                  // class java/lang/StringBuilder
     729: dup
     730: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
     733: aload         7
     735: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     738: ldc           #71                 // String ,
     740: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     743: aload         6
     745: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     748: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     751: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     754: pop
     755: goto          771
     758: aload_1
     759: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     762: getstatic     #69                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     765: aload         6
     767: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     770: pop
     771: aload_0
     772: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     775: invokevirtual #62                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     778: invokevirtual #72                 // Method io/undertow/server/ServerConnection.isPushSupported:()Z
     781: ifne          812
     784: aload_0
     785: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     788: invokevirtual #73                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
     791: invokeinterface #74,  1           // InterfaceMethod io/undertow/client/ClientConnection.isPushSupported:()Z
     796: ifeq          812
     799: aload_1
     800: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     803: getstatic     #75                 // Field io/undertow/util/Headers.X_DISABLE_PUSH:Lio/undertow/util/HttpString;
     806: ldc           #76                 // String true
     808: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     811: pop
     812: aload_0
     813: getfield      #1                  // Field reuseXForwarded:Z
     816: ifeq          871
     819: aload_0
     820: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     823: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     826: getstatic     #77                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     829: invokevirtual #70                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     832: ifeq          871
     835: aload_0
     836: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     839: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     842: getstatic     #77                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     845: invokevirtual #55                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     848: astore        7
     850: aload_1
     851: getstatic     #78                 // Field io/undertow/client/ProxiedRequestAttachments.IS_SSL:Lio/undertow/util/AttachmentKey;
     854: aload         7
     856: ldc           #79                 // String https
     858: invokevirtual #56                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     861: invokestatic  #80                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     864: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     867: pop
     868: goto          926
     871: aload_0
     872: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     875: invokevirtual #81                 // Method io/undertow/server/HttpServerExchange.getRequestScheme:()Ljava/lang/String;
     878: ldc           #79                 // String https
     880: invokevirtual #56                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     883: ifeq          891
     886: ldc           #79                 // String https
     888: goto          893
     891: ldc           #82                 // String http
     893: astore        7
     895: aload_1
     896: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     899: getstatic     #77                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     902: aload         7
     904: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     907: pop
     908: aload_1
     909: getstatic     #78                 // Field io/undertow/client/ProxiedRequestAttachments.IS_SSL:Lio/undertow/util/AttachmentKey;
     912: aload         7
     914: ldc           #79                 // String https
     916: invokevirtual #56                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     919: invokestatic  #80                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     922: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     925: pop
     926: aload_0
     927: getfield      #1                  // Field reuseXForwarded:Z
     930: ifeq          977
     933: aload_0
     934: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     937: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     940: getstatic     #83                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     943: invokevirtual #70                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     946: ifeq          977
     949: aload_0
     950: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     953: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     956: getstatic     #83                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     959: invokevirtual #55                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     962: astore        7
     964: aload_1
     965: getstatic     #84                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_NAME:Lio/undertow/util/AttachmentKey;
     968: aload         7
     970: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     973: pop
     974: goto          1009
     977: aload_0
     978: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     981: invokevirtual #85                 // Method io/undertow/server/HttpServerExchange.getHostName:()Ljava/lang/String;
     984: astore        7
     986: aload_1
     987: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     990: getstatic     #83                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     993: aload         7
     995: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     998: pop
     999: aload_1
    1000: getstatic     #84                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_NAME:Lio/undertow/util/AttachmentKey;
    1003: aload         7
    1005: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1008: pop
    1009: aload_0
    1010: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1013: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1016: getstatic     #86                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1019: invokevirtual #70                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
    1022: ifne          1055
    1025: aload_0
    1026: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1029: invokevirtual #85                 // Method io/undertow/server/HttpServerExchange.getHostName:()Ljava/lang/String;
    1032: astore        7
    1034: aload         7
    1036: ifnull        1055
    1039: aload_1
    1040: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1043: getstatic     #86                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1046: aload         7
    1048: invokestatic  #87                 // Method io/undertow/util/NetworkUtils.formatPossibleIpv6Address:(Ljava/lang/String;)Ljava/lang/String;
    1051: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1054: pop
    1055: aload_0
    1056: getfield      #1                  // Field reuseXForwarded:Z
    1059: ifeq          1164
    1062: aload_0
    1063: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1066: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1069: getstatic     #88                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1072: invokevirtual #70                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
    1075: ifeq          1164
    1078: aload_0
    1079: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1082: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1085: getstatic     #88                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1088: invokevirtual #55                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
    1091: invokestatic  #89                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
    1094: istore        7
    1096: aload_1
    1097: getstatic     #90                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1100: iload         7
    1102: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1105: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1108: pop
    1109: goto          1200
    1112: astore        7
    1114: aload_0
    1115: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1118: invokevirtual #62                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
    1121: ldc           #64                 // class java/net/InetSocketAddress
    1123: invokevirtual #93                 // Method io/undertow/server/ServerConnection.getLocalAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
    1126: checkcast     #64                 // class java/net/InetSocketAddress
    1129: invokevirtual #94                 // Method java/net/InetSocketAddress.getPort:()I
    1132: istore        8
    1134: aload_1
    1135: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1138: getstatic     #88                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1141: iload         8
    1143: i2l
    1144: invokevirtual #95                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
    1147: pop
    1148: aload_1
    1149: getstatic     #90                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1152: iload         8
    1154: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1157: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1160: pop
    1161: goto          1200
    1164: aload_0
    1165: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1168: invokevirtual #96                 // Method io/undertow/server/HttpServerExchange.getHostPort:()I
    1171: istore        7
    1173: aload_1
    1174: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1177: getstatic     #88                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1180: iload         7
    1182: i2l
    1183: invokevirtual #95                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
    1186: pop
    1187: aload_1
    1188: getstatic     #90                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1191: iload         7
    1193: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1196: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1199: pop
    1200: aload_0
    1201: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1204: invokevirtual #62                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
    1207: invokevirtual #97                 // Method io/undertow/server/ServerConnection.getSslSessionInfo:()Lio/undertow/server/SSLSessionInfo;
    1210: astore        7
    1212: aload         7
    1214: ifnull        1282
    1217: aload         7
    1219: invokeinterface #98,  1           // InterfaceMethod io/undertow/server/SSLSessionInfo.getPeerCertificateChain:()[Ljavax/security/cert/X509Certificate;
    1224: astore        8
    1226: aload         8
    1228: arraylength
    1229: ifle          1247
    1232: aload_1
    1233: getstatic     #99                 // Field io/undertow/client/ProxiedRequestAttachments.SSL_CERT:Lio/undertow/util/AttachmentKey;
    1236: aload         8
    1238: iconst_0
    1239: aaload
    1240: invokestatic  #100                // Method io/undertow/util/Certificates.toPem:(Ljavax/security/cert/X509Certificate;)Ljava/lang/String;
    1243: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1246: pop
    1247: goto          1252
    1250: astore        9
    1252: aload_1
    1253: getstatic     #104                // Field io/undertow/client/ProxiedRequestAttachments.SSL_CYPHER:Lio/undertow/util/AttachmentKey;
    1256: aload         7
    1258: invokeinterface #105,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getCipherSuite:()Ljava/lang/String;
    1263: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1266: pop
    1267: aload_1
    1268: getstatic     #106                // Field io/undertow/client/ProxiedRequestAttachments.SSL_SESSION_ID:Lio/undertow/util/AttachmentKey;
    1271: aload         7
    1273: invokeinterface #107,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getSessionId:()[B
    1278: invokevirtual #68                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1281: pop
    1282: aload_0
    1283: getfield      #2                  // Field rewriteHostHeader:Z
    1286: ifeq          1374
    1289: aload_0
    1290: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1293: invokevirtual #73                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1296: ldc           #64                 // class java/net/InetSocketAddress
    1298: invokeinterface #108,  2          // InterfaceMethod io/undertow/client/ClientConnection.getPeerAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
    1303: checkcast     #64                 // class java/net/InetSocketAddress
    1306: astore        8
    1308: aload_1
    1309: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1312: getstatic     #109                // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
    1315: new           #9                  // class java/lang/StringBuilder
    1318: dup
    1319: invokespecial #10                 // Method java/lang/StringBuilder."<init>":()V
    1322: aload         8
    1324: invokevirtual #65                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
    1327: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1330: ldc           #110                // String :
    1332: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1335: aload         8
    1337: invokevirtual #94                 // Method java/net/InetSocketAddress.getPort:()I
    1340: invokevirtual #111                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
    1343: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1346: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1349: pop
    1350: aload_1
    1351: invokevirtual #47                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1354: getstatic     #86                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1357: aload_0
    1358: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1361: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1364: getstatic     #109                // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
    1367: invokevirtual #55                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
    1370: invokevirtual #52                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1373: pop
    1374: invokestatic  #112                // Method io/undertow/server/handlers/proxy/ProxyHandler.access$600:()Lorg/jboss/logging/Logger;
    1377: invokevirtual #113                // Method org/jboss/logging/Logger.isDebugEnabled:()Z
    1380: ifeq          1398
    1383: invokestatic  #112                // Method io/undertow/server/handlers/proxy/ProxyHandler.access$600:()Lorg/jboss/logging/Logger;
    1386: ldc           #114                // String Sending request %s to target %s for exchange %s
    1388: aload_1
    1389: aload         6
    1391: aload_0
    1392: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1395: invokevirtual #115                // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
    1398: aload_0
    1399: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1402: invokevirtual #73                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1405: aload_1
    1406: new           #116                // class io/undertow/server/handlers/proxy/ProxyHandler$ProxyAction$1
    1409: dup
    1410: aload_0
    1411: aload_1
    1412: aload         6
    1414: invokespecial #117                // Method io/undertow/server/handlers/proxy/ProxyHandler$ProxyAction$1."<init>":(Lio/undertow/server/handlers/proxy/ProxyHandler$ProxyAction;Lio/undertow/client/ClientRequest;Ljava/lang/String;)V
    1417: invokeinterface #118,  3          // InterfaceMethod io/undertow/client/ClientConnection.sendRequest:(Lio/undertow/client/ClientRequest;Lio/undertow/client/ClientCallback;)V
    1422: return
    Exception table:
       from    to  target type
          16   350   353   Class java/io/UnsupportedEncodingException
        1078  1109  1112   Class java/lang/NumberFormatException
        1217  1247  1250   Class javax/net/ssl/SSLPeerUnverifiedException
        1217  1247  1250   Class javax/security/cert/CertificateEncodingException
        1217  1247  1250   Class io/undertow/server/RenegotiationRequiredException

  static io.undertow.server.HttpServerExchange access$700(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #5                  // Field exchange:Lio/undertow/server/HttpServerExchange;
       4: areturn

  static io.undertow.server.handlers.proxy.ProxyConnection access$900(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #4                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
       4: areturn

  static java.util.Map access$1000(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #3                  // Field requestHeaders:Ljava/util/Map;
       4: areturn

  static boolean access$1100(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #2                  // Field rewriteHostHeader:Z
       4: ireturn

  static boolean access$1200(io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction);
    Code:
       0: aload_0
       1: getfield      #1                  // Field reuseXForwarded:Z
       4: ireturn
}
