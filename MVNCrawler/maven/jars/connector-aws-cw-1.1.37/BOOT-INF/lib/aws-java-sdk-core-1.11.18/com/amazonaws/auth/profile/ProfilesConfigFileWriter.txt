Compiled from "ProfilesConfigFileWriter.java"
public class com.amazonaws.auth.profile.ProfilesConfigFileWriter {
  private static final org.apache.commons.logging.Log LOG;

  public com.amazonaws.auth.profile.ProfilesConfigFileWriter();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void dumpToFile(java.io.File, boolean, com.amazonaws.auth.profile.internal.Profile...);
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method java/io/File.exists:()Z
       4: ifeq          21
       7: iload_1
       8: ifne          21
      11: new           #3                  // class com/amazonaws/AmazonClientException
      14: dup
      15: ldc           #4                  // String The destination file already exists. Set overwrite=true if you want to clobber the existing content and completely re-write the file.
      17: invokespecial #5                  // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: new           #6                  // class java/io/OutputStreamWriter
      24: dup
      25: new           #7                  // class java/io/FileOutputStream
      28: dup
      29: aload_0
      30: iconst_0
      31: invokespecial #8                  // Method java/io/FileOutputStream."<init>":(Ljava/io/File;Z)V
      34: getstatic     #9                  // Field com/amazonaws/util/StringUtils.UTF8:Ljava/nio/charset/Charset;
      37: invokespecial #10                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;Ljava/nio/charset/Charset;)V
      40: astore_3
      41: goto          58
      44: astore        4
      46: new           #3                  // class com/amazonaws/AmazonClientException
      49: dup
      50: ldc           #12                 // String Unable to open the destination file.
      52: aload         4
      54: invokespecial #13                 // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      57: athrow
      58: new           #14                 // class java/util/LinkedHashMap
      61: dup
      62: invokespecial #15                 // Method java/util/LinkedHashMap."<init>":()V
      65: astore        4
      67: aload_2
      68: astore        5
      70: aload         5
      72: arraylength
      73: istore        6
      75: iconst_0
      76: istore        7
      78: iload         7
      80: iload         6
      82: if_icmpge     113
      85: aload         5
      87: iload         7
      89: aaload
      90: astore        8
      92: aload         4
      94: aload         8
      96: invokevirtual #16                 // Method com/amazonaws/auth/profile/internal/Profile.getProfileName:()Ljava/lang/String;
      99: aload         8
     101: invokeinterface #17,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     106: pop
     107: iinc          7, 1
     110: goto          78
     113: new           #18                 // class com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper
     116: dup
     117: aload_3
     118: aload         4
     120: invokespecial #19                 // Method com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper."<init>":(Ljava/io/Writer;Ljava/util/Map;)V
     123: astore        5
     125: aload         5
     127: invokevirtual #20                 // Method com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper.writeWithoutExistingContent:()V
     130: aload_3
     131: invokevirtual #21                 // Method java/io/OutputStreamWriter.close:()V
     134: goto          156
     137: astore        4
     139: goto          156
     142: astore        9
     144: aload_3
     145: invokevirtual #21                 // Method java/io/OutputStreamWriter.close:()V
     148: goto          153
     151: astore        10
     153: aload         9
     155: athrow
     156: return
    Exception table:
       from    to  target type
          21    41    44   Class java/io/IOException
         130   134   137   Class java/io/IOException
          58   130   142   any
         144   148   151   Class java/io/IOException
         142   144   142   any

  public static void modifyOrInsertProfiles(java.io.File, com.amazonaws.auth.profile.internal.Profile...);
    Code:
       0: new           #14                 // class java/util/LinkedHashMap
       3: dup
       4: invokespecial #15                 // Method java/util/LinkedHashMap."<init>":()V
       7: astore_2
       8: aload_1
       9: astore_3
      10: aload_3
      11: arraylength
      12: istore        4
      14: iconst_0
      15: istore        5
      17: iload         5
      19: iload         4
      21: if_icmpge     50
      24: aload_3
      25: iload         5
      27: aaload
      28: astore        6
      30: aload_2
      31: aload         6
      33: invokevirtual #16                 // Method com/amazonaws/auth/profile/internal/Profile.getProfileName:()Ljava/lang/String;
      36: aload         6
      38: invokeinterface #17,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      43: pop
      44: iinc          5, 1
      47: goto          17
      50: aload_0
      51: aload_2
      52: invokestatic  #22                 // Method modifyProfiles:(Ljava/io/File;Ljava/util/Map;)V
      55: return

  public static void modifyOneProfile(java.io.File, java.lang.String, com.amazonaws.auth.profile.internal.Profile);
    Code:
       0: aload_1
       1: aload_2
       2: invokestatic  #23                 // Method java/util/Collections.singletonMap:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/Map;
       5: astore_3
       6: aload_0
       7: aload_3
       8: invokestatic  #22                 // Method modifyProfiles:(Ljava/io/File;Ljava/util/Map;)V
      11: return

  public static void deleteProfiles(java.io.File, java.lang.String...);
    Code:
       0: new           #14                 // class java/util/LinkedHashMap
       3: dup
       4: invokespecial #15                 // Method java/util/LinkedHashMap."<init>":()V
       7: astore_2
       8: aload_1
       9: astore_3
      10: aload_3
      11: arraylength
      12: istore        4
      14: iconst_0
      15: istore        5
      17: iload         5
      19: iload         4
      21: if_icmpge     46
      24: aload_3
      25: iload         5
      27: aaload
      28: astore        6
      30: aload_2
      31: aload         6
      33: aconst_null
      34: invokeinterface #17,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      39: pop
      40: iinc          5, 1
      43: goto          17
      46: aload_0
      47: aload_2
      48: invokestatic  #22                 // Method modifyProfiles:(Ljava/io/File;Ljava/util/Map;)V
      51: return

  static void modifyProfiles(java.io.File, java.util.Map<java.lang.String, com.amazonaws.auth.profile.internal.Profile>);
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method java/io/File.exists:()Z
       4: istore_2
       5: aconst_null
       6: astore_3
       7: iload_2
       8: ifeq          134
      11: iconst_0
      12: istore        4
      14: new           #24                 // class java/io/File
      17: dup
      18: aload_0
      19: invokevirtual #25                 // Method java/io/File.getParentFile:()Ljava/io/File;
      22: new           #26                 // class java/lang/StringBuilder
      25: dup
      26: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
      29: aload_0
      30: invokevirtual #28                 // Method java/io/File.getName:()Ljava/lang/String;
      33: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: ldc           #30                 // String .bak.
      38: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: invokestatic  #31                 // Method java/util/UUID.randomUUID:()Ljava/util/UUID;
      44: invokevirtual #32                 // Method java/util/UUID.toString:()Ljava/lang/String;
      47: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokespecial #34                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      56: astore_3
      57: aload_0
      58: aload_3
      59: invokevirtual #35                 // Method java/io/File.renameTo:(Ljava/io/File;)Z
      62: istore        4
      64: getstatic     #36                 // Field LOG:Lorg/apache/commons/logging/Log;
      67: invokeinterface #37,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      72: ifeq          99
      75: getstatic     #36                 // Field LOG:Lorg/apache/commons/logging/Log;
      78: ldc           #38                 // String The original credentials file is stashed to loaction (%s).
      80: iconst_1
      81: anewarray     #39                 // class java/lang/Object
      84: dup
      85: iconst_0
      86: aload_3
      87: invokevirtual #40                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      90: aastore
      91: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      94: invokeinterface #42,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      99: iload         4
     101: ifne          134
     104: new           #3                  // class com/amazonaws/AmazonClientException
     107: dup
     108: ldc           #43                 // String Failed to stash the existing credentials file before applying the changes.
     110: invokespecial #5                  // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
     113: athrow
     114: astore        5
     116: iload         4
     118: ifne          131
     121: new           #3                  // class com/amazonaws/AmazonClientException
     124: dup
     125: ldc           #43                 // String Failed to stash the existing credentials file before applying the changes.
     127: invokespecial #5                  // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
     130: athrow
     131: aload         5
     133: athrow
     134: aconst_null
     135: astore        4
     137: new           #6                  // class java/io/OutputStreamWriter
     140: dup
     141: new           #7                  // class java/io/FileOutputStream
     144: dup
     145: aload_0
     146: invokespecial #44                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     149: getstatic     #9                  // Field com/amazonaws/util/StringUtils.UTF8:Ljava/nio/charset/Charset;
     152: invokespecial #10                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;Ljava/nio/charset/Charset;)V
     155: astore        4
     157: new           #18                 // class com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper
     160: dup
     161: aload         4
     163: aload_1
     164: invokespecial #19                 // Method com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper."<init>":(Ljava/io/Writer;Ljava/util/Map;)V
     167: astore        5
     169: iload_2
     170: ifeq          199
     173: new           #45                 // class java/util/Scanner
     176: dup
     177: aload_3
     178: getstatic     #9                  // Field com/amazonaws/util/StringUtils.UTF8:Ljava/nio/charset/Charset;
     181: invokevirtual #46                 // Method java/nio/charset/Charset.name:()Ljava/lang/String;
     184: invokespecial #47                 // Method java/util/Scanner."<init>":(Ljava/io/File;Ljava/lang/String;)V
     187: astore        6
     189: aload         5
     191: aload         6
     193: invokevirtual #48                 // Method com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper.writeWithExistingContent:(Ljava/util/Scanner;)V
     196: goto          204
     199: aload         5
     201: invokevirtual #20                 // Method com/amazonaws/auth/profile/ProfilesConfigFileWriter$ProfilesConfigFileWriterHelper.writeWithoutExistingContent:()V
     204: new           #49                 // class com/amazonaws/auth/profile/ProfilesConfigFile
     207: dup
     208: aload_0
     209: invokespecial #50                 // Method com/amazonaws/auth/profile/ProfilesConfigFile."<init>":(Ljava/io/File;)V
     212: pop
     213: iload_2
     214: ifeq          259
     217: aload_3
     218: invokevirtual #51                 // Method java/io/File.delete:()Z
     221: ifne          259
     224: getstatic     #36                 // Field LOG:Lorg/apache/commons/logging/Log;
     227: invokeinterface #37,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     232: ifeq          259
     235: getstatic     #36                 // Field LOG:Lorg/apache/commons/logging/Log;
     238: ldc           #52                 // String Successfully modified the credentials file. But failed to delete the stashed copy of the original file (%s).
     240: iconst_1
     241: anewarray     #39                 // class java/lang/Object
     244: dup
     245: iconst_0
     246: aload_3
     247: invokevirtual #40                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     250: aastore
     251: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     254: invokeinterface #42,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     259: aload         4
     261: ifnull        269
     264: aload         4
     266: invokevirtual #21                 // Method java/io/OutputStreamWriter.close:()V
     269: goto          417
     272: astore        5
     274: goto          417
     277: astore        5
     279: iload_2
     280: ifeq          385
     283: iconst_0
     284: istore        6
     286: aload_0
     287: invokevirtual #51                 // Method java/io/File.delete:()Z
     290: ifne          303
     293: getstatic     #36                 // Field LOG:Lorg/apache/commons/logging/Log;
     296: ldc           #54                 // String Unable to remove the credentials file before restoring the original one.
     298: invokeinterface #42,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     303: aload_3
     304: aload_0
     305: invokevirtual #35                 // Method java/io/File.renameTo:(Ljava/io/File;)Z
     308: istore        6
     310: iload         6
     312: ifne          385
     315: new           #3                  // class com/amazonaws/AmazonClientException
     318: dup
     319: new           #26                 // class java/lang/StringBuilder
     322: dup
     323: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     326: ldc           #55                 // String Unable to restore the original credentials file. File content stashed in
     328: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     331: aload_3
     332: invokevirtual #40                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     335: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     338: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     341: invokespecial #5                  // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
     344: athrow
     345: astore        7
     347: iload         6
     349: ifne          382
     352: new           #3                  // class com/amazonaws/AmazonClientException
     355: dup
     356: new           #26                 // class java/lang/StringBuilder
     359: dup
     360: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     363: ldc           #55                 // String Unable to restore the original credentials file. File content stashed in
     365: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     368: aload_3
     369: invokevirtual #40                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     372: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     375: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     378: invokespecial #5                  // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
     381: athrow
     382: aload         7
     384: athrow
     385: new           #3                  // class com/amazonaws/AmazonClientException
     388: dup
     389: ldc           #56                 // String Unable to modify the credentials file. (The original file has been restored.)
     391: aload         5
     393: invokespecial #13                 // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     396: athrow
     397: astore        8
     399: aload         4
     401: ifnull        409
     404: aload         4
     406: invokevirtual #21                 // Method java/io/OutputStreamWriter.close:()V
     409: goto          414
     412: astore        9
     414: aload         8
     416: athrow
     417: return
    Exception table:
       from    to  target type
          14    99   114   any
         114   116   114   any
         259   269   272   Class java/io/IOException
         137   259   277   Class java/lang/Exception
         286   310   345   any
         345   347   345   any
         137   259   397   any
         399   409   412   Class java/io/IOException
         277   399   397   any

  static {};
    Code:
       0: ldc           #57                 // class com/amazonaws/auth/profile/ProfilesConfigFileWriter
       2: invokestatic  #58                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #36                 // Field LOG:Lorg/apache/commons/logging/Log;
       8: return
}
