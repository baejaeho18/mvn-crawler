Compiled from "RepeatableInputStreamRequestEntity.java"
public class com.amazonaws.http.RepeatableInputStreamRequestEntity extends org.apache.http.entity.BasicHttpEntity {
  private boolean firstAttempt;

  private org.apache.http.entity.InputStreamEntity inputStreamRequestEntity;

  private java.io.InputStream content;

  private static final org.apache.commons.logging.Log log;

  private java.io.IOException originalException;

  public com.amazonaws.http.RepeatableInputStreamRequestEntity(com.amazonaws.Request<?>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/http/entity/BasicHttpEntity."<init>":()V
       4: aload_0
       5: iconst_1
       6: putfield      #2                  // Field firstAttempt:Z
       9: aload_0
      10: iconst_0
      11: invokevirtual #3                  // Method setChunked:(Z)V
      14: ldc2_w        #4                  // long -1l
      17: lstore_2
      18: aload_1
      19: invokeinterface #6,  1            // InterfaceMethod com/amazonaws/Request.getHeaders:()Ljava/util/Map;
      24: ldc           #7                  // String Content-Length
      26: invokeinterface #8,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #9                  // class java/lang/String
      34: astore        4
      36: aload         4
      38: ifnull        47
      41: aload         4
      43: invokestatic  #10                 // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
      46: lstore_2
      47: goto          62
      50: astore        4
      52: getstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
      55: ldc           #13                 // String Unable to parse content length from request.  Buffering contents in memory.
      57: invokeinterface #14,  2           // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;)V
      62: aload_1
      63: invokeinterface #6,  1            // InterfaceMethod com/amazonaws/Request.getHeaders:()Ljava/util/Map;
      68: ldc           #15                 // String Content-Type
      70: invokeinterface #8,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      75: checkcast     #9                  // class java/lang/String
      78: astore        4
      80: aload_1
      81: ldc           #17                 // String UploadThroughput
      83: ldc           #18                 // String UploadByteCount
      85: invokestatic  #19                 // Method com/amazonaws/metrics/internal/ServiceMetricTypeGuesser.guessThroughputMetricType:(Lcom/amazonaws/Request;Ljava/lang/String;Ljava/lang/String;)Lcom/amazonaws/metrics/ThroughputMetricType;
      88: astore        5
      90: aload_0
      91: aload_0
      92: aload_1
      93: invokespecial #20                 // Method getContent:(Lcom/amazonaws/Request;)Ljava/io/InputStream;
      96: putfield      #21                 // Field content:Ljava/io/InputStream;
      99: aload_0
     100: aload         5
     102: ifnonnull     120
     105: new           #22                 // class org/apache/http/entity/InputStreamEntity
     108: dup
     109: aload_0
     110: getfield      #21                 // Field content:Ljava/io/InputStream;
     113: lload_2
     114: invokespecial #23                 // Method org/apache/http/entity/InputStreamEntity."<init>":(Ljava/io/InputStream;J)V
     117: goto          134
     120: new           #24                 // class com/amazonaws/metrics/MetricInputStreamEntity
     123: dup
     124: aload         5
     126: aload_0
     127: getfield      #21                 // Field content:Ljava/io/InputStream;
     130: lload_2
     131: invokespecial #25                 // Method com/amazonaws/metrics/MetricInputStreamEntity."<init>":(Lcom/amazonaws/metrics/ThroughputMetricType;Ljava/io/InputStream;J)V
     134: putfield      #26                 // Field inputStreamRequestEntity:Lorg/apache/http/entity/InputStreamEntity;
     137: aload_0
     138: getfield      #26                 // Field inputStreamRequestEntity:Lorg/apache/http/entity/InputStreamEntity;
     141: aload         4
     143: invokevirtual #27                 // Method org/apache/http/entity/InputStreamEntity.setContentType:(Ljava/lang/String;)V
     146: aload_0
     147: aload_0
     148: getfield      #21                 // Field content:Ljava/io/InputStream;
     151: invokevirtual #28                 // Method setContent:(Ljava/io/InputStream;)V
     154: aload_0
     155: aload         4
     157: invokevirtual #29                 // Method setContentType:(Ljava/lang/String;)V
     160: aload_0
     161: lload_2
     162: invokevirtual #30                 // Method setContentLength:(J)V
     165: return
    Exception table:
       from    to  target type
          18    47    50   Class java/lang/NumberFormatException

  private java.io.InputStream getContent(com.amazonaws.Request<?>);
    Code:
       0: aload_1
       1: invokeinterface #31,  1           // InterfaceMethod com/amazonaws/Request.getContent:()Ljava/io/InputStream;
       6: ifnonnull     22
       9: new           #32                 // class java/io/ByteArrayInputStream
      12: dup
      13: iconst_0
      14: newarray       byte
      16: invokespecial #33                 // Method java/io/ByteArrayInputStream."<init>":([B)V
      19: goto          28
      22: aload_1
      23: invokeinterface #31,  1           // InterfaceMethod com/amazonaws/Request.getContent:()Ljava/io/InputStream;
      28: areturn

  public boolean isChunked();
    Code:
       0: iconst_0
       1: ireturn

  public boolean isRepeatable();
    Code:
       0: aload_0
       1: getfield      #21                 // Field content:Ljava/io/InputStream;
       4: invokevirtual #34                 // Method java/io/InputStream.markSupported:()Z
       7: ifne          20
      10: aload_0
      11: getfield      #26                 // Field inputStreamRequestEntity:Lorg/apache/http/entity/InputStreamEntity;
      14: invokevirtual #35                 // Method org/apache/http/entity/InputStreamEntity.isRepeatable:()Z
      17: ifeq          24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ireturn

  public void writeTo(java.io.OutputStream) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field firstAttempt:Z
       4: ifne          21
       7: aload_0
       8: invokevirtual #36                 // Method isRepeatable:()Z
      11: ifeq          21
      14: aload_0
      15: getfield      #21                 // Field content:Ljava/io/InputStream;
      18: invokevirtual #37                 // Method java/io/InputStream.reset:()V
      21: aload_0
      22: iconst_0
      23: putfield      #2                  // Field firstAttempt:Z
      26: aload_0
      27: getfield      #26                 // Field inputStreamRequestEntity:Lorg/apache/http/entity/InputStreamEntity;
      30: aload_1
      31: invokevirtual #38                 // Method org/apache/http/entity/InputStreamEntity.writeTo:(Ljava/io/OutputStream;)V
      34: goto          55
      37: astore_2
      38: aload_0
      39: getfield      #40                 // Field originalException:Ljava/io/IOException;
      42: ifnonnull     50
      45: aload_0
      46: aload_2
      47: putfield      #40                 // Field originalException:Ljava/io/IOException;
      50: aload_0
      51: getfield      #40                 // Field originalException:Ljava/io/IOException;
      54: athrow
      55: return
    Exception table:
       from    to  target type
           0    34    37   Class java/io/IOException

  static {};
    Code:
       0: ldc           #41                 // class com/amazonaws/http/RepeatableInputStreamRequestEntity
       2: invokestatic  #42                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #12                 // Field log:Lorg/apache/commons/logging/Log;
       8: return
}
