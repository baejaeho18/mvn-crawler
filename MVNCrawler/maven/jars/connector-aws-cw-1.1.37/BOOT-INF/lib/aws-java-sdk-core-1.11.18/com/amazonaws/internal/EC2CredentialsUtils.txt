Compiled from "EC2CredentialsUtils.java"
public final class com.amazonaws.internal.EC2CredentialsUtils {
  private static final org.apache.commons.logging.Log LOG;

  private static final int RETRY_COUNT;

  public com.amazonaws.internal.EC2CredentialsUtils();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static java.lang.String readResource(java.net.URI) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method java/net/URI.toURL:()Ljava/net/URL;
       4: astore_1
       5: iconst_0
       6: istore_2
       7: aconst_null
       8: astore_3
       9: aload_1
      10: invokevirtual #3                  // Method java/net/URL.openConnection:()Ljava/net/URLConnection;
      13: checkcast     #4                  // class java/net/HttpURLConnection
      16: astore        4
      18: aload         4
      20: sipush        2000
      23: invokevirtual #5                  // Method java/net/HttpURLConnection.setConnectTimeout:(I)V
      26: aload         4
      28: sipush        5000
      31: invokevirtual #6                  // Method java/net/HttpURLConnection.setReadTimeout:(I)V
      34: aload         4
      36: ldc           #7                  // String GET
      38: invokevirtual #8                  // Method java/net/HttpURLConnection.setRequestMethod:(Ljava/lang/String;)V
      41: aload         4
      43: iconst_1
      44: invokevirtual #9                  // Method java/net/HttpURLConnection.setDoOutput:(Z)V
      47: aload         4
      49: invokevirtual #10                 // Method java/net/HttpURLConnection.connect:()V
      52: aload         4
      54: invokevirtual #11                 // Method java/net/HttpURLConnection.getResponseCode:()I
      57: istore        5
      59: iload         5
      61: sipush        200
      64: if_icmpne     89
      67: aload         4
      69: invokevirtual #12                 // Method java/net/HttpURLConnection.getInputStream:()Ljava/io/InputStream;
      72: astore_3
      73: aload_3
      74: invokestatic  #13                 // Method com/amazonaws/util/IOUtils.toString:(Ljava/io/InputStream;)Ljava/lang/String;
      77: astore        6
      79: aload_3
      80: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
      83: invokestatic  #15                 // Method com/amazonaws/util/IOUtils.closeQuietly:(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V
      86: aload         6
      88: areturn
      89: iload         5
      91: sipush        404
      94: if_icmpne     128
      97: new           #16                 // class com/amazonaws/AmazonClientException
     100: dup
     101: new           #17                 // class java/lang/StringBuilder
     104: dup
     105: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     108: ldc           #19                 // String The requested metadata is not found at
     110: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     113: aload         4
     115: invokevirtual #21                 // Method java/net/HttpURLConnection.getURL:()Ljava/net/URL;
     118: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     121: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     124: invokespecial #24                 // Method com/amazonaws/AmazonClientException."<init>":(Ljava/lang/String;)V
     127: athrow
     128: iload         5
     130: sipush        500
     133: if_icmplt     162
     136: iload         5
     138: sipush        600
     141: if_icmpge     162
     144: iload_2
     145: iinc          2, 1
     148: iconst_5
     149: if_icmpge     162
     152: aload_3
     153: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
     156: invokestatic  #15                 // Method com/amazonaws/util/IOUtils.closeQuietly:(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V
     159: goto          9
     162: aload         4
     164: invokevirtual #26                 // Method java/net/HttpURLConnection.getErrorStream:()Ljava/io/InputStream;
     167: astore_3
     168: aload_3
     169: iload         5
     171: aload         4
     173: invokevirtual #27                 // Method java/net/HttpURLConnection.getResponseMessage:()Ljava/lang/String;
     176: invokestatic  #28                 // Method handleErrorResponse:(Ljava/io/InputStream;ILjava/lang/String;)V
     179: aload_3
     180: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
     183: invokestatic  #15                 // Method com/amazonaws/util/IOUtils.closeQuietly:(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V
     186: goto          259
     189: astore        4
     191: iload_2
     192: iinc          2, 1
     195: iconst_5
     196: if_icmplt     202
     199: aload         4
     201: athrow
     202: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
     205: new           #17                 // class java/lang/StringBuilder
     208: dup
     209: invokespecial #18                 // Method java/lang/StringBuilder."<init>":()V
     212: ldc           #30                 // String An IOException occured when connecting to service endpoint:
     214: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     217: aload_1
     218: invokevirtual #31                 // Method java/net/URL.toString:()Ljava/lang/String;
     221: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: ldc           #32                 // String \n Retrying to connect again.
     226: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     229: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     232: invokeinterface #33,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     237: aload_3
     238: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
     241: invokestatic  #15                 // Method com/amazonaws/util/IOUtils.closeQuietly:(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V
     244: goto          259
     247: astore        7
     249: aload_3
     250: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
     253: invokestatic  #15                 // Method com/amazonaws/util/IOUtils.closeQuietly:(Ljava/io/Closeable;Lorg/apache/commons/logging/Log;)V
     256: aload         7
     258: athrow
     259: goto          9
    Exception table:
       from    to  target type
           9    79   189   Class java/io/IOException
          89   152   189   Class java/io/IOException
         162   179   189   Class java/io/IOException
           9    79   247   any
          89   152   247   any
         162   179   247   any
         189   237   247   any
         247   249   247   any

  private static void handleErrorResponse(java.io.InputStream, int, java.lang.String) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_3
       2: aload_0
       3: ifnull        74
       6: aload_0
       7: invokestatic  #13                 // Method com/amazonaws/util/IOUtils.toString:(Ljava/io/InputStream;)Ljava/lang/String;
      10: astore        4
      12: aload         4
      14: invokestatic  #34                 // Method com/amazonaws/util/json/Jackson.jsonNodeOf:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/JsonNode;
      17: astore        5
      19: aload         5
      21: ldc           #35                 // String code
      23: invokevirtual #36                 // Method com/fasterxml/jackson/databind/JsonNode.get:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/JsonNode;
      26: astore        6
      28: aload         5
      30: ldc           #37                 // String message
      32: invokevirtual #36                 // Method com/fasterxml/jackson/databind/JsonNode.get:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/JsonNode;
      35: astore        7
      37: aload         6
      39: ifnull        59
      42: aload         7
      44: ifnull        59
      47: aload         6
      49: invokevirtual #38                 // Method com/fasterxml/jackson/databind/JsonNode.asText:()Ljava/lang/String;
      52: astore_3
      53: aload         7
      55: invokevirtual #38                 // Method com/fasterxml/jackson/databind/JsonNode.asText:()Ljava/lang/String;
      58: astore_2
      59: goto          74
      62: astore        5
      64: getstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
      67: ldc           #40                 // String Unable to parse error stream
      69: invokeinterface #33,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      74: new           #41                 // class com/amazonaws/AmazonServiceException
      77: dup
      78: aload_2
      79: invokespecial #42                 // Method com/amazonaws/AmazonServiceException."<init>":(Ljava/lang/String;)V
      82: astore        4
      84: aload         4
      86: iload_1
      87: invokevirtual #43                 // Method com/amazonaws/AmazonServiceException.setStatusCode:(I)V
      90: aload         4
      92: aload_3
      93: invokevirtual #44                 // Method com/amazonaws/AmazonServiceException.setErrorCode:(Ljava/lang/String;)V
      96: aload         4
      98: athrow
    Exception table:
       from    to  target type
          12    59    62   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #25                 // class com/amazonaws/internal/EC2CredentialsUtils
       2: invokestatic  #45                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #14                 // Field LOG:Lorg/apache/commons/logging/Log;
       8: return
}
