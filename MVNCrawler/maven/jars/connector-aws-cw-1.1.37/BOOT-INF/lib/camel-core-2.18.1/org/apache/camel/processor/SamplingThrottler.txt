Compiled from "SamplingThrottler.java"
public class org.apache.camel.processor.SamplingThrottler extends org.apache.camel.processor.DelegateAsyncProcessor implements org.apache.camel.Traceable,org.apache.camel.spi.IdAware {
  private static final org.slf4j.Logger LOG;

  private java.lang.String id;

  private long messageFrequency;

  private long currentMessageCount;

  private long samplePeriod;

  private long periodInMillis;

  private java.util.concurrent.TimeUnit units;

  private long timeOfLastExchange;

  private org.apache.camel.processor.StopProcessor stopper;

  private final java.lang.Object calculationLock;

  private org.apache.camel.processor.SamplingThrottler$SampleStats sampled;

  public org.apache.camel.processor.SamplingThrottler(org.apache.camel.Processor, long);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #37                 // Method org/apache/camel/processor/DelegateAsyncProcessor."<init>":(Lorg/apache/camel/Processor;)V
       5: aload_0
       6: new           #39                 // class org/apache/camel/processor/StopProcessor
       9: dup
      10: invokespecial #42                 // Method org/apache/camel/processor/StopProcessor."<init>":()V
      13: putfield      #44                 // Field stopper:Lorg/apache/camel/processor/StopProcessor;
      16: aload_0
      17: new           #46                 // class java/lang/Object
      20: dup
      21: invokespecial #47                 // Method java/lang/Object."<init>":()V
      24: putfield      #49                 // Field calculationLock:Ljava/lang/Object;
      27: aload_0
      28: new           #13                 // class org/apache/camel/processor/SamplingThrottler$SampleStats
      31: dup
      32: aconst_null
      33: invokespecial #52                 // Method org/apache/camel/processor/SamplingThrottler$SampleStats."<init>":(Lorg/apache/camel/processor/SamplingThrottler$1;)V
      36: putfield      #54                 // Field sampled:Lorg/apache/camel/processor/SamplingThrottler$SampleStats;
      39: lload_2
      40: lconst_0
      41: lcmp
      42: ifgt          55
      45: new           #56                 // class java/lang/IllegalArgumentException
      48: dup
      49: ldc           #58                 // String A positive value is required for the sampling message frequency
      51: invokespecial #61                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      54: athrow
      55: aload_0
      56: lload_2
      57: putfield      #65                 // Field messageFrequency:J
      60: return

  public org.apache.camel.processor.SamplingThrottler(org.apache.camel.Processor, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #37                 // Method org/apache/camel/processor/DelegateAsyncProcessor."<init>":(Lorg/apache/camel/Processor;)V
       5: aload_0
       6: new           #39                 // class org/apache/camel/processor/StopProcessor
       9: dup
      10: invokespecial #42                 // Method org/apache/camel/processor/StopProcessor."<init>":()V
      13: putfield      #44                 // Field stopper:Lorg/apache/camel/processor/StopProcessor;
      16: aload_0
      17: new           #46                 // class java/lang/Object
      20: dup
      21: invokespecial #47                 // Method java/lang/Object."<init>":()V
      24: putfield      #49                 // Field calculationLock:Ljava/lang/Object;
      27: aload_0
      28: new           #13                 // class org/apache/camel/processor/SamplingThrottler$SampleStats
      31: dup
      32: aconst_null
      33: invokespecial #52                 // Method org/apache/camel/processor/SamplingThrottler$SampleStats."<init>":(Lorg/apache/camel/processor/SamplingThrottler$1;)V
      36: putfield      #54                 // Field sampled:Lorg/apache/camel/processor/SamplingThrottler$SampleStats;
      39: lload_2
      40: lconst_0
      41: lcmp
      42: ifgt          55
      45: new           #56                 // class java/lang/IllegalArgumentException
      48: dup
      49: ldc           #72                 // String A positive value is required for the sampling period
      51: invokespecial #61                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      54: athrow
      55: aload         4
      57: ifnonnull     70
      60: new           #56                 // class java/lang/IllegalArgumentException
      63: dup
      64: ldc           #76                 // String A invalid null value was supplied for the units of the sampling period
      66: invokespecial #61                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      69: athrow
      70: aload_0
      71: lload_2
      72: putfield      #78                 // Field samplePeriod:J
      75: aload_0
      76: aload         4
      78: putfield      #80                 // Field units:Ljava/util/concurrent/TimeUnit;
      81: aload_0
      82: aload         4
      84: lload_2
      85: invokevirtual #84                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      88: putfield      #86                 // Field periodInMillis:J
      91: return

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #65                 // Field messageFrequency:J
       4: lconst_0
       5: lcmp
       6: ifle          49
       9: new           #90                 // class java/lang/StringBuilder
      12: dup
      13: invokespecial #91                 // Method java/lang/StringBuilder."<init>":()V
      16: ldc           #93                 // String SamplingThrottler[1 exchange per:
      18: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: aload_0
      22: getfield      #65                 // Field messageFrequency:J
      25: invokevirtual #100                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      28: ldc           #102                // String  messages received ->
      30: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_0
      34: invokevirtual #106                // Method getProcessor:()Lorg/apache/camel/AsyncProcessor;
      37: invokevirtual #109                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      40: ldc           #111                // String ]
      42: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #113                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: areturn
      49: new           #90                 // class java/lang/StringBuilder
      52: dup
      53: invokespecial #91                 // Method java/lang/StringBuilder."<init>":()V
      56: ldc           #93                 // String SamplingThrottler[1 exchange per:
      58: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_0
      62: getfield      #78                 // Field samplePeriod:J
      65: invokevirtual #100                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      68: ldc           #115                // String
      70: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: aload_0
      74: getfield      #80                 // Field units:Ljava/util/concurrent/TimeUnit;
      77: invokevirtual #116                // Method java/util/concurrent/TimeUnit.toString:()Ljava/lang/String;
      80: getstatic     #122                // Field java/util/Locale.ENGLISH:Ljava/util/Locale;
      83: invokevirtual #128                // Method java/lang/String.toLowerCase:(Ljava/util/Locale;)Ljava/lang/String;
      86: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: ldc           #130                // String  ->
      91: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload_0
      95: invokevirtual #106                // Method getProcessor:()Lorg/apache/camel/AsyncProcessor;
      98: invokevirtual #109                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     101: ldc           #111                // String ]
     103: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: invokevirtual #113                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     109: areturn

  public java.lang.String getId();
    Code:
       0: aload_0
       1: getfield      #133                // Field id:Ljava/lang/String;
       4: areturn

  public void setId(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #133                // Field id:Ljava/lang/String;
       5: return

  public java.lang.String getTraceLabel();
    Code:
       0: aload_0
       1: getfield      #65                 // Field messageFrequency:J
       4: lconst_0
       5: lcmp
       6: ifle          37
       9: new           #90                 // class java/lang/StringBuilder
      12: dup
      13: invokespecial #91                 // Method java/lang/StringBuilder."<init>":()V
      16: ldc           #137                // String samplingThrottler[1 exchange per:
      18: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: aload_0
      22: getfield      #65                 // Field messageFrequency:J
      25: invokevirtual #100                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      28: ldc           #139                // String  messages received]
      30: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #113                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: areturn
      37: new           #90                 // class java/lang/StringBuilder
      40: dup
      41: invokespecial #91                 // Method java/lang/StringBuilder."<init>":()V
      44: ldc           #137                // String samplingThrottler[1 exchange per:
      46: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: aload_0
      50: getfield      #78                 // Field samplePeriod:J
      53: invokevirtual #100                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      56: ldc           #115                // String
      58: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_0
      62: getfield      #80                 // Field units:Ljava/util/concurrent/TimeUnit;
      65: invokevirtual #116                // Method java/util/concurrent/TimeUnit.toString:()Ljava/lang/String;
      68: getstatic     #122                // Field java/util/Locale.ENGLISH:Ljava/util/Locale;
      71: invokevirtual #128                // Method java/lang/String.toLowerCase:(Ljava/util/Locale;)Ljava/lang/String;
      74: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: ldc           #111                // String ]
      79: invokevirtual #97                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: invokevirtual #113                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      85: areturn

  public long getMessageFrequency();
    Code:
       0: aload_0
       1: getfield      #65                 // Field messageFrequency:J
       4: lreturn

  public long getSamplePeriod();
    Code:
       0: aload_0
       1: getfield      #78                 // Field samplePeriod:J
       4: lreturn

  public java.util.concurrent.TimeUnit getUnits();
    Code:
       0: aload_0
       1: getfield      #80                 // Field units:Ljava/util/concurrent/TimeUnit;
       4: areturn

  public boolean process(org.apache.camel.Exchange, org.apache.camel.AsyncCallback);
    Code:
       0: iconst_0
       1: istore_3
       2: aload_0
       3: getfield      #49                 // Field calculationLock:Ljava/lang/Object;
       6: dup
       7: astore        4
       9: monitorenter
      10: aload_0
      11: getfield      #65                 // Field messageFrequency:J
      14: lconst_0
      15: lcmp
      16: ifle          48
      19: aload_0
      20: dup
      21: getfield      #150                // Field currentMessageCount:J
      24: lconst_1
      25: ladd
      26: putfield      #150                // Field currentMessageCount:J
      29: aload_0
      30: getfield      #150                // Field currentMessageCount:J
      33: aload_0
      34: getfield      #65                 // Field messageFrequency:J
      37: lrem
      38: lconst_0
      39: lcmp
      40: ifne          131
      43: iconst_1
      44: istore_3
      45: goto          131
      48: invokestatic  #155                // Method java/lang/System.currentTimeMillis:()J
      51: lstore        5
      53: lload         5
      55: aload_0
      56: getfield      #157                // Field timeOfLastExchange:J
      59: aload_0
      60: getfield      #86                 // Field periodInMillis:J
      63: ladd
      64: lcmp
      65: iflt          105
      68: iconst_1
      69: istore_3
      70: getstatic     #159                // Field LOG:Lorg/slf4j/Logger;
      73: invokeinterface #165,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      78: ifeq          96
      81: getstatic     #159                // Field LOG:Lorg/slf4j/Logger;
      84: aload_0
      85: getfield      #54                 // Field sampled:Lorg/apache/camel/processor/SamplingThrottler$SampleStats;
      88: invokevirtual #168                // Method org/apache/camel/processor/SamplingThrottler$SampleStats.sample:()Ljava/lang/String;
      91: invokeinterface #171,  2          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
      96: aload_0
      97: lload         5
      99: putfield      #157                // Field timeOfLastExchange:J
     102: goto          131
     105: getstatic     #159                // Field LOG:Lorg/slf4j/Logger;
     108: invokeinterface #165,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     113: ifeq          131
     116: getstatic     #159                // Field LOG:Lorg/slf4j/Logger;
     119: aload_0
     120: getfield      #54                 // Field sampled:Lorg/apache/camel/processor/SamplingThrottler$SampleStats;
     123: invokevirtual #174                // Method org/apache/camel/processor/SamplingThrottler$SampleStats.drop:()Ljava/lang/String;
     126: invokeinterface #171,  2          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
     131: aload         4
     133: monitorexit
     134: goto          145
     137: astore        7
     139: aload         4
     141: monitorexit
     142: aload         7
     144: athrow
     145: iload_3
     146: ifeq          161
     149: aload_0
     150: getfield      #179                // Field processor:Lorg/apache/camel/AsyncProcessor;
     153: aload_1
     154: aload_2
     155: invokeinterface #183,  3          // InterfaceMethod org/apache/camel/AsyncProcessor.process:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
     160: ireturn
     161: aload_0
     162: getfield      #44                 // Field stopper:Lorg/apache/camel/processor/StopProcessor;
     165: aload_1
     166: invokevirtual #186                // Method org/apache/camel/processor/StopProcessor.process:(Lorg/apache/camel/Exchange;)V
     169: goto          182
     172: astore        4
     174: aload_1
     175: aload         4
     177: invokeinterface #192,  2          // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     182: aload_2
     183: iconst_1
     184: invokeinterface #198,  2          // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
     189: iconst_1
     190: ireturn
    Exception table:
       from    to  target type
          10   134   137   any
         137   142   137   any
         161   169   172   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #2                  // class org/apache/camel/processor/SamplingThrottler
       2: invokestatic  #214                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #159                // Field LOG:Lorg/slf4j/Logger;
       8: return
}
