Compiled from "Throttler.java"
public class org.apache.camel.processor.Throttler extends org.apache.camel.processor.DelegateAsyncProcessor implements org.apache.camel.Traceable,org.apache.camel.spi.IdAware {
  private static final java.lang.String PROPERTY_EXCHANGE_QUEUED_TIMESTAMP;

  private static final java.lang.String PROPERTY_EXCHANGE_STATE;

  private final org.slf4j.Logger log;

  private final org.apache.camel.CamelContext camelContext;

  private final java.util.concurrent.DelayQueue<org.apache.camel.processor.Throttler$ThrottlePermit> delayQueue;

  private final java.util.concurrent.ExecutorService asyncExecutor;

  private final boolean shutdownAsyncExecutor;

  private volatile long timePeriodMillis;

  private volatile int throttleRate;

  private java.lang.String id;

  private org.apache.camel.Expression maxRequestsPerPeriodExpression;

  private boolean rejectExecution;

  private boolean asyncDelayed;

  private boolean callerRunsWhenRejected;

  public org.apache.camel.processor.Throttler(org.apache.camel.CamelContext, org.apache.camel.Processor, org.apache.camel.Expression, long, java.util.concurrent.ExecutorService, boolean, boolean);
    Code:
       0: aload_0
       1: aload_2
       2: invokespecial #50                 // Method org/apache/camel/processor/DelegateAsyncProcessor."<init>":(Lorg/apache/camel/Processor;)V
       5: aload_0
       6: ldc           #2                  // class org/apache/camel/processor/Throttler
       8: invokestatic  #56                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      11: putfield      #58                 // Field log:Lorg/slf4j/Logger;
      14: aload_0
      15: new           #60                 // class java/util/concurrent/DelayQueue
      18: dup
      19: invokespecial #63                 // Method java/util/concurrent/DelayQueue."<init>":()V
      22: putfield      #65                 // Field delayQueue:Ljava/util/concurrent/DelayQueue;
      25: aload_0
      26: iconst_1
      27: putfield      #67                 // Field callerRunsWhenRejected:Z
      30: aload_0
      31: aload_1
      32: putfield      #69                 // Field camelContext:Lorg/apache/camel/CamelContext;
      35: aload_0
      36: iload         8
      38: putfield      #71                 // Field rejectExecution:Z
      41: aload_0
      42: iload         7
      44: putfield      #73                 // Field shutdownAsyncExecutor:Z
      47: aload_3
      48: ldc           #74                 // String maxRequestsPerPeriodExpression
      50: invokestatic  #80                 // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      53: pop
      54: aload_0
      55: aload_3
      56: putfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
      59: lload         4
      61: lconst_0
      62: lcmp
      63: ifgt          94
      66: new           #84                 // class java/lang/IllegalArgumentException
      69: dup
      70: new           #86                 // class java/lang/StringBuilder
      73: dup
      74: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
      77: ldc           #89                 // String TimePeriodMillis should be a positive number, was:
      79: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: lload         4
      84: invokevirtual #96                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      87: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      90: invokespecial #103                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      93: athrow
      94: aload_0
      95: lload         4
      97: putfield      #113                // Field timePeriodMillis:J
     100: aload_0
     101: aload         6
     103: putfield      #115                // Field asyncExecutor:Ljava/util/concurrent/ExecutorService;
     106: return

  public boolean process(org.apache.camel.Exchange, org.apache.camel.AsyncCallback);
    Code:
       0: lconst_0
       1: lstore_3
       2: aload_0
       3: getfield      #58                 // Field log:Lorg/slf4j/Logger;
       6: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      11: ifeq          44
      14: aload_1
      15: ldc           #21                 // String CamelThrottlerExchangeQueuedTimestamp
      17: lconst_0
      18: invokestatic  #137                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      21: ldc           #133                // class java/lang/Long
      23: invokeinterface #143,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      28: checkcast     #133                // class java/lang/Long
      31: invokevirtual #147                // Method java/lang/Long.longValue:()J
      34: lstore_3
      35: aload_1
      36: ldc           #21                 // String CamelThrottlerExchangeQueuedTimestamp
      38: invokeinterface #151,  2          // InterfaceMethod org/apache/camel/Exchange.removeProperty:(Ljava/lang/String;)Ljava/lang/Object;
      43: pop
      44: aload_1
      45: ldc           #24                 // String CamelThrottlerExchangeState
      47: getstatic     #155                // Field org/apache/camel/processor/Throttler$State.SYNC:Lorg/apache/camel/processor/Throttler$State;
      50: ldc           #14                 // class org/apache/camel/processor/Throttler$State
      52: invokeinterface #143,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      57: checkcast     #14                 // class org/apache/camel/processor/Throttler$State
      60: astore        5
      62: aload_1
      63: ldc           #24                 // String CamelThrottlerExchangeState
      65: invokeinterface #151,  2          // InterfaceMethod org/apache/camel/Exchange.removeProperty:(Ljava/lang/String;)Ljava/lang/Object;
      70: pop
      71: aload         5
      73: getstatic     #155                // Field org/apache/camel/processor/Throttler$State.SYNC:Lorg/apache/camel/processor/Throttler$State;
      76: if_acmpeq     87
      79: aload         5
      81: getstatic     #158                // Field org/apache/camel/processor/Throttler$State.ASYNC_REJECTED:Lorg/apache/camel/processor/Throttler$State;
      84: if_acmpne     91
      87: iconst_1
      88: goto          92
      91: iconst_0
      92: istore        6
      94: aload_0
      95: invokevirtual #161                // Method isRunAllowed:()Z
      98: ifne          111
     101: new           #163                // class java/util/concurrent/RejectedExecutionException
     104: dup
     105: ldc           #165                // String Run is not allowed
     107: invokespecial #166                // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;)V
     110: athrow
     111: aload_0
     112: aload_1
     113: invokevirtual #170                // Method calculateAndSetMaxRequestsPerPeriod:(Lorg/apache/camel/Exchange;)V
     116: aload_0
     117: getfield      #65                 // Field delayQueue:Ljava/util/concurrent/DelayQueue;
     120: invokevirtual #174                // Method java/util/concurrent/DelayQueue.poll:()Ljava/util/concurrent/Delayed;
     123: checkcast     #11                 // class org/apache/camel/processor/Throttler$ThrottlePermit
     126: astore        7
     128: aload         7
     130: ifnonnull     391
     133: aload_0
     134: invokevirtual #177                // Method isRejectExecution:()Z
     137: ifeq          187
     140: new           #179                // class org/apache/camel/processor/ThrottlerRejectedExecutionException
     143: dup
     144: new           #86                 // class java/lang/StringBuilder
     147: dup
     148: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
     151: ldc           #181                // String Exceeded the max throttle rate of
     153: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     156: aload_0
     157: getfield      #183                // Field throttleRate:I
     160: invokevirtual #186                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     163: ldc           #188                // String  within
     165: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     168: aload_0
     169: getfield      #113                // Field timePeriodMillis:J
     172: invokevirtual #96                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     175: ldc           #190                // String ms
     177: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     183: invokespecial #191                // Method org/apache/camel/processor/ThrottlerRejectedExecutionException."<init>":(Ljava/lang/String;)V
     186: athrow
     187: aload_0
     188: invokevirtual #194                // Method isAsyncDelayed:()Z
     191: ifeq          235
     194: aload_1
     195: invokeinterface #197,  1          // InterfaceMethod org/apache/camel/Exchange.isTransacted:()Z
     200: ifne          235
     203: aload         5
     205: getstatic     #155                // Field org/apache/camel/processor/Throttler$State.SYNC:Lorg/apache/camel/processor/Throttler$State;
     208: if_acmpne     235
     211: aload_0
     212: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     215: ldc           #199                // String Throttle rate exceeded but AsyncDelayed enabled, so queueing for async processing, exchangeId: {}
     217: aload_1
     218: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     223: invokeinterface #206,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     228: aload_0
     229: aload_1
     230: aload_2
     231: invokevirtual #209                // Method processAsynchronously:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
     234: ireturn
     235: lconst_0
     236: lstore        8
     238: lconst_0
     239: lstore        10
     241: aload_0
     242: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     245: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     250: ifeq          258
     253: invokestatic  #214                // Method java/lang/System.currentTimeMillis:()J
     256: lstore        8
     258: aload_0
     259: getfield      #65                 // Field delayQueue:Ljava/util/concurrent/DelayQueue;
     262: invokevirtual #217                // Method java/util/concurrent/DelayQueue.take:()Ljava/util/concurrent/Delayed;
     265: checkcast     #11                 // class org/apache/camel/processor/Throttler$ThrottlePermit
     268: astore        7
     270: aload_0
     271: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     274: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     279: ifeq          290
     282: invokestatic  #214                // Method java/lang/System.currentTimeMillis:()J
     285: lload         8
     287: lsub
     288: lstore        10
     290: aload_0
     291: aload         7
     293: aload_1
     294: invokevirtual #221                // Method enqueuePermit:(Lorg/apache/camel/processor/Throttler$ThrottlePermit;Lorg/apache/camel/Exchange;)V
     297: aload         5
     299: getstatic     #224                // Field org/apache/camel/processor/Throttler$State.ASYNC:Lorg/apache/camel/processor/Throttler$State;
     302: if_acmpne     366
     305: aload_0
     306: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     309: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     314: ifeq          388
     317: lload         8
     319: lload_3
     320: lsub
     321: lstore        12
     323: aload_0
     324: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     327: ldc           #226                // String Queued for {}ms, Throttled for {}ms, exchangeId: {}
     329: iconst_3
     330: anewarray     #228                // class java/lang/Object
     333: dup
     334: iconst_0
     335: lload         12
     337: invokestatic  #137                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     340: aastore
     341: dup
     342: iconst_1
     343: lload         10
     345: invokestatic  #137                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     348: aastore
     349: dup
     350: iconst_2
     351: aload_1
     352: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     357: aastore
     358: invokeinterface #232,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     363: goto          388
     366: aload_0
     367: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     370: ldc           #234                // String Throttled for {}ms, exchangeId: {}
     372: lload         10
     374: invokestatic  #137                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     377: aload_1
     378: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     383: invokeinterface #237,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     388: goto          467
     391: aload_0
     392: aload         7
     394: aload_1
     395: invokevirtual #221                // Method enqueuePermit:(Lorg/apache/camel/processor/Throttler$ThrottlePermit;Lorg/apache/camel/Exchange;)V
     398: aload         5
     400: getstatic     #224                // Field org/apache/camel/processor/Throttler$State.ASYNC:Lorg/apache/camel/processor/Throttler$State;
     403: if_acmpne     450
     406: aload_0
     407: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     410: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     415: ifeq          467
     418: invokestatic  #214                // Method java/lang/System.currentTimeMillis:()J
     421: lload_3
     422: lsub
     423: lstore        8
     425: aload_0
     426: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     429: ldc           #239                // String Queued for {}ms, No throttling applied (throttle cleared while queued), for exchangeId: {}
     431: lload         8
     433: invokestatic  #137                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     436: aload_1
     437: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     442: invokeinterface #237,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     447: goto          467
     450: aload_0
     451: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     454: ldc           #241                // String No throttling applied to exchangeId: {}
     456: aload_1
     457: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     462: invokeinterface #243,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     467: aload_0
     468: getfield      #246                // Field processor:Lorg/apache/camel/AsyncProcessor;
     471: ifnull        499
     474: iload         6
     476: ifeq          491
     479: aload_0
     480: getfield      #246                // Field processor:Lorg/apache/camel/AsyncProcessor;
     483: aload_1
     484: aload_2
     485: invokeinterface #250,  3          // InterfaceMethod org/apache/camel/AsyncProcessor.process:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
     490: ireturn
     491: aload_0
     492: getfield      #246                // Field processor:Lorg/apache/camel/AsyncProcessor;
     495: aload_1
     496: invokestatic  #255                // Method org/apache/camel/util/AsyncProcessorHelper.process:(Lorg/apache/camel/AsyncProcessor;Lorg/apache/camel/Exchange;)V
     499: aload_2
     500: iload         6
     502: invokeinterface #261,  2          // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
     507: iload         6
     509: ireturn
     510: astore        7
     512: aload_1
     513: invokeinterface #265,  1          // InterfaceMethod org/apache/camel/Exchange.getContext:()Lorg/apache/camel/CamelContext;
     518: invokeinterface #269,  1          // InterfaceMethod org/apache/camel/CamelContext.getShutdownStrategy:()Lorg/apache/camel/spi/ShutdownStrategy;
     523: aload_0
     524: invokeinterface #275,  2          // InterfaceMethod org/apache/camel/spi/ShutdownStrategy.forceShutdown:(Lorg/apache/camel/Service;)Z
     529: istore        14
     531: iload         14
     533: ifeq          589
     536: new           #86                 // class java/lang/StringBuilder
     539: dup
     540: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
     543: ldc_w         #277                // String Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange:
     546: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     549: aload_1
     550: invokevirtual #280                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     553: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     556: astore        15
     558: aload_0
     559: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     562: aload         15
     564: invokeinterface #282,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     569: aload_1
     570: new           #163                // class java/util/concurrent/RejectedExecutionException
     573: dup
     574: aload         15
     576: aload         7
     578: invokespecial #285                // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     581: invokeinterface #289,  2          // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     586: goto          597
     589: aload_1
     590: aload         7
     592: invokeinterface #289,  2          // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     597: aload_2
     598: iload         6
     600: invokeinterface #261,  2          // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
     605: iload         6
     607: ireturn
     608: astore        7
     610: aload_1
     611: aload         7
     613: invokeinterface #289,  2          // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     618: aload_2
     619: iload         6
     621: invokeinterface #261,  2          // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
     626: iload         6
     628: ireturn
    Exception table:
       from    to  target type
          94   234   510   Class java/lang/InterruptedException
         235   490   510   Class java/lang/InterruptedException
         491   509   510   Class java/lang/InterruptedException
          94   234   608   Class java/lang/Throwable
         235   490   608   Class java/lang/Throwable
         491   509   608   Class java/lang/Throwable

  protected boolean processAsynchronously(org.apache.camel.Exchange, org.apache.camel.AsyncCallback);
    Code:
       0: aload_0
       1: getfield      #58                 // Field log:Lorg/slf4j/Logger;
       4: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
       9: ifeq          26
      12: aload_1
      13: ldc           #21                 // String CamelThrottlerExchangeQueuedTimestamp
      15: invokestatic  #214                // Method java/lang/System.currentTimeMillis:()J
      18: invokestatic  #137                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      21: invokeinterface #309,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      26: aload_1
      27: ldc           #24                 // String CamelThrottlerExchangeState
      29: getstatic     #224                // Field org/apache/camel/processor/Throttler$State.ASYNC:Lorg/apache/camel/processor/Throttler$State;
      32: invokeinterface #309,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      37: aload_0
      38: getfield      #115                // Field asyncExecutor:Ljava/util/concurrent/ExecutorService;
      41: new           #17                 // class org/apache/camel/processor/Throttler$1
      44: dup
      45: aload_0
      46: aload_1
      47: aload_2
      48: invokespecial #312                // Method org/apache/camel/processor/Throttler$1."<init>":(Lorg/apache/camel/processor/Throttler;Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)V
      51: invokeinterface #316,  2          // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
      56: pop
      57: iconst_0
      58: ireturn
      59: astore_3
      60: aload_0
      61: invokevirtual #319                // Method isCallerRunsWhenRejected:()Z
      64: ifeq          103
      67: aload_0
      68: getfield      #58                 // Field log:Lorg/slf4j/Logger;
      71: ldc_w         #321                // String AsyncExecutor is full, rejected exchange will run in the current thread, exchangeId: {}
      74: aload_1
      75: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
      80: invokeinterface #206,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      85: aload_1
      86: ldc           #24                 // String CamelThrottlerExchangeState
      88: getstatic     #158                // Field org/apache/camel/processor/Throttler$State.ASYNC_REJECTED:Lorg/apache/camel/processor/Throttler$State;
      91: invokeinterface #309,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      96: aload_0
      97: aload_1
      98: aload_2
      99: invokevirtual #322                // Method process:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
     102: ireturn
     103: aload_3
     104: athrow
    Exception table:
       from    to  target type
           0    58    59   Class java/util/concurrent/RejectedExecutionException

  protected void enqueuePermit(org.apache.camel.processor.Throttler$ThrottlePermit, org.apache.camel.Exchange);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #326                // Method getTimePeriodMillis:()J
       5: invokevirtual #330                // Method org/apache/camel/processor/Throttler$ThrottlePermit.setDelayMs:(J)V
       8: aload_0
       9: getfield      #65                 // Field delayQueue:Ljava/util/concurrent/DelayQueue;
      12: aload_1
      13: invokevirtual #334                // Method java/util/concurrent/DelayQueue.put:(Ljava/util/concurrent/Delayed;)V
      16: aload_0
      17: getfield      #58                 // Field log:Lorg/slf4j/Logger;
      20: invokeinterface #131,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      25: ifeq          46
      28: aload_0
      29: getfield      #58                 // Field log:Lorg/slf4j/Logger;
      32: ldc_w         #336                // String Permit released, for exchangeId: {}
      35: aload_2
      36: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
      41: invokeinterface #243,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      46: return

  protected void calculateAndSetMaxRequestsPerPeriod(org.apache.camel.Exchange) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
       4: aload_1
       5: ldc_w         #340                // class java/lang/Integer
       8: invokeinterface #344,  3          // InterfaceMethod org/apache/camel/Expression.evaluate:(Lorg/apache/camel/Exchange;Ljava/lang/Class;)Ljava/lang/Object;
      13: checkcast     #340                // class java/lang/Integer
      16: astore_2
      17: aload_2
      18: ifnull        56
      21: aload_2
      22: invokevirtual #348                // Method java/lang/Integer.intValue:()I
      25: ifge          56
      28: new           #350                // class java/lang/IllegalStateException
      31: dup
      32: new           #86                 // class java/lang/StringBuilder
      35: dup
      36: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
      39: ldc_w         #352                // String The maximumRequestsPerPeriod must be a positive number, was:
      42: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_2
      46: invokevirtual #280                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      49: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      52: invokespecial #353                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      55: athrow
      56: aload_0
      57: dup
      58: astore_3
      59: monitorenter
      60: aload_2
      61: ifnonnull     103
      64: aload_0
      65: getfield      #183                // Field throttleRate:I
      68: ifne          103
      71: new           #355                // class org/apache/camel/RuntimeExchangeException
      74: dup
      75: new           #86                 // class java/lang/StringBuilder
      78: dup
      79: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
      82: ldc_w         #357                // String The maxRequestsPerPeriodExpression was evaluated as null:
      85: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: aload_0
      89: getfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
      92: invokevirtual #280                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      95: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      98: aload_1
      99: invokespecial #360                // Method org/apache/camel/RuntimeExchangeException."<init>":(Ljava/lang/String;Lorg/apache/camel/Exchange;)V
     102: athrow
     103: aload_2
     104: ifnull        351
     107: aload_2
     108: invokevirtual #348                // Method java/lang/Integer.intValue:()I
     111: aload_0
     112: getfield      #183                // Field throttleRate:I
     115: if_icmpeq     351
     118: aload_0
     119: getfield      #183                // Field throttleRate:I
     122: aload_2
     123: invokevirtual #348                // Method java/lang/Integer.intValue:()I
     126: if_icmple     219
     129: aload_0
     130: getfield      #183                // Field throttleRate:I
     133: aload_2
     134: invokevirtual #348                // Method java/lang/Integer.intValue:()I
     137: isub
     138: istore        4
     140: iload         4
     142: ifle          177
     145: aload_0
     146: getfield      #65                 // Field delayQueue:Ljava/util/concurrent/DelayQueue;
     149: invokevirtual #217                // Method java/util/concurrent/DelayQueue.take:()Ljava/util/concurrent/Delayed;
     152: pop
     153: iinc          4, -1
     156: aload_0
     157: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     160: ldc_w         #362                // String Permit discarded due to throttling rate decrease, triggered by ExchangeId: {}
     163: aload_1
     164: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     169: invokeinterface #243,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     174: goto          140
     177: aload_0
     178: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     181: ldc_w         #364                // String Throttle rate decreased from {} to {}, triggered by ExchangeId: {}
     184: iconst_3
     185: anewarray     #228                // class java/lang/Object
     188: dup
     189: iconst_0
     190: aload_0
     191: getfield      #183                // Field throttleRate:I
     194: invokestatic  #367                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     197: aastore
     198: dup
     199: iconst_1
     200: aload_2
     201: aastore
     202: dup
     203: iconst_2
     204: aload_1
     205: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     210: aastore
     211: invokeinterface #369,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     216: goto          343
     219: aload_2
     220: invokevirtual #348                // Method java/lang/Integer.intValue:()I
     223: aload_0
     224: getfield      #183                // Field throttleRate:I
     227: if_icmple     343
     230: aload_2
     231: invokevirtual #348                // Method java/lang/Integer.intValue:()I
     234: aload_0
     235: getfield      #183                // Field throttleRate:I
     238: isub
     239: istore        4
     241: iconst_0
     242: istore        5
     244: iload         5
     246: iload         4
     248: if_icmpge     275
     251: aload_0
     252: getfield      #65                 // Field delayQueue:Ljava/util/concurrent/DelayQueue;
     255: new           #11                 // class org/apache/camel/processor/Throttler$ThrottlePermit
     258: dup
     259: aload_0
     260: ldc2_w        #370                // long -1l
     263: invokespecial #374                // Method org/apache/camel/processor/Throttler$ThrottlePermit."<init>":(Lorg/apache/camel/processor/Throttler;J)V
     266: invokevirtual #334                // Method java/util/concurrent/DelayQueue.put:(Ljava/util/concurrent/Delayed;)V
     269: iinc          5, 1
     272: goto          244
     275: aload_0
     276: getfield      #183                // Field throttleRate:I
     279: ifne          304
     282: aload_0
     283: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     286: ldc_w         #376                // String Initial throttle rate set to {}, triggered by ExchangeId: {}
     289: aload_2
     290: aload_1
     291: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     296: invokeinterface #378,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     301: goto          343
     304: aload_0
     305: getfield      #58                 // Field log:Lorg/slf4j/Logger;
     308: ldc_w         #380                // String Throttle rate increase from {} to {}, triggered by ExchangeId: {}
     311: iconst_3
     312: anewarray     #228                // class java/lang/Object
     315: dup
     316: iconst_0
     317: aload_0
     318: getfield      #183                // Field throttleRate:I
     321: invokestatic  #367                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     324: aastore
     325: dup
     326: iconst_1
     327: aload_2
     328: aastore
     329: dup
     330: iconst_2
     331: aload_1
     332: invokeinterface #202,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     337: aastore
     338: invokeinterface #369,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     343: aload_0
     344: aload_2
     345: invokevirtual #348                // Method java/lang/Integer.intValue:()I
     348: putfield      #183                // Field throttleRate:I
     351: aload_3
     352: monitorexit
     353: goto          363
     356: astore        6
     358: aload_3
     359: monitorexit
     360: aload         6
     362: athrow
     363: return
    Exception table:
       from    to  target type
          60   353   356   any
         356   360   356   any

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #194                // Method isAsyncDelayed:()Z
       4: ifeq          19
       7: aload_0
       8: getfield      #115                // Field asyncExecutor:Ljava/util/concurrent/ExecutorService;
      11: ldc_w         #387                // String executorService
      14: aload_0
      15: invokestatic  #390                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      18: pop
      19: aload_0
      20: invokespecial #392                // Method org/apache/camel/processor/DelegateAsyncProcessor.doStart:()V
      23: return

  protected void doShutdown() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #73                 // Field shutdownAsyncExecutor:Z
       4: ifeq          33
       7: aload_0
       8: getfield      #115                // Field asyncExecutor:Ljava/util/concurrent/ExecutorService;
      11: ifnull        33
      14: aload_0
      15: getfield      #69                 // Field camelContext:Lorg/apache/camel/CamelContext;
      18: invokeinterface #397,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
      23: aload_0
      24: getfield      #115                // Field asyncExecutor:Ljava/util/concurrent/ExecutorService;
      27: invokeinterface #403,  2          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.shutdownNow:(Ljava/util/concurrent/ExecutorService;)Ljava/util/List;
      32: pop
      33: aload_0
      34: invokespecial #405                // Method org/apache/camel/processor/DelegateAsyncProcessor.doShutdown:()V
      37: return

  public boolean isRejectExecution();
    Code:
       0: aload_0
       1: getfield      #71                 // Field rejectExecution:Z
       4: ireturn

  public void setRejectExecution(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #71                 // Field rejectExecution:Z
       5: return

  public boolean isAsyncDelayed();
    Code:
       0: aload_0
       1: getfield      #408                // Field asyncDelayed:Z
       4: ireturn

  public void setAsyncDelayed(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #408                // Field asyncDelayed:Z
       5: return

  public boolean isCallerRunsWhenRejected();
    Code:
       0: aload_0
       1: getfield      #67                 // Field callerRunsWhenRejected:Z
       4: ireturn

  public void setCallerRunsWhenRejected(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #67                 // Field callerRunsWhenRejected:Z
       5: return

  public java.lang.String getId();
    Code:
       0: aload_0
       1: getfield      #413                // Field id:Ljava/lang/String;
       4: areturn

  public void setId(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #413                // Field id:Ljava/lang/String;
       5: return

  public void setMaximumRequestsPerPeriodExpression(org.apache.camel.Expression);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
       5: return

  public org.apache.camel.Expression getMaximumRequestsPerPeriodExpression();
    Code:
       0: aload_0
       1: getfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
       4: areturn

  public int getCurrentMaximumRequestsPerPeriod();
    Code:
       0: aload_0
       1: getfield      #183                // Field throttleRate:I
       4: ireturn

  public void setTimePeriodMillis(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #113                // Field timePeriodMillis:J
       5: return

  public long getTimePeriodMillis();
    Code:
       0: aload_0
       1: getfield      #113                // Field timePeriodMillis:J
       4: lreturn

  public java.lang.String getTraceLabel();
    Code:
       0: new           #86                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc_w         #423                // String throttle[
      10: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_0
      14: getfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
      17: invokevirtual #280                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      20: ldc_w         #425                // String  per:
      23: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_0
      27: getfield      #113                // Field timePeriodMillis:J
      30: invokevirtual #96                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      33: ldc_w         #427                // String ]
      36: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      42: areturn

  public java.lang.String toString();
    Code:
       0: new           #86                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #87                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc_w         #429                // String Throttler[requests:
      10: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_0
      14: getfield      #82                 // Field maxRequestsPerPeriodExpression:Lorg/apache/camel/Expression;
      17: invokevirtual #280                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      20: ldc_w         #425                // String  per:
      23: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_0
      27: getfield      #113                // Field timePeriodMillis:J
      30: invokevirtual #96                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      33: ldc_w         #431                // String  (ms) to:
      36: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_0
      40: invokevirtual #435                // Method getProcessor:()Lorg/apache/camel/AsyncProcessor;
      43: invokevirtual #280                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      46: ldc_w         #427                // String ]
      49: invokevirtual #93                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: invokevirtual #100                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: areturn
}
