Compiled from "FileInputStreamCache.java"
class org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager {
  private static final org.slf4j.Logger LOG;

  private final boolean closedOnCompletion;

  private java.util.concurrent.atomic.AtomicInteger exchangeCounter;

  private java.io.File tempFile;

  private java.io.OutputStream outputStream;

  private org.apache.camel.converter.stream.CipherPair ciphers;

  private java.util.List<org.apache.camel.converter.stream.FileInputStreamCache> fileInputStreamCaches;

  private org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager(java.io.File, boolean);
    Code:
       0: aload_0
       1: iload_2
       2: invokespecial #34                 // Method "<init>":(Z)V
       5: aload_0
       6: aload_1
       7: putfield      #36                 // Field tempFile:Ljava/io/File;
      10: return

  org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager(boolean);
    Code:
       0: aload_0
       1: invokespecial #42                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #44                 // class java/util/concurrent/atomic/AtomicInteger
       8: dup
       9: invokespecial #45                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      12: putfield      #47                 // Field exchangeCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      15: aload_0
      16: iload_1
      17: putfield      #49                 // Field closedOnCompletion:Z
      20: return

  synchronized void add(org.apache.camel.converter.stream.FileInputStreamCache);
    Code:
       0: aload_0
       1: getfield      #53                 // Field fileInputStreamCaches:Ljava/util/List;
       4: ifnonnull     19
       7: aload_0
       8: new           #55                 // class java/util/ArrayList
      11: dup
      12: iconst_3
      13: invokespecial #58                 // Method java/util/ArrayList."<init>":(I)V
      16: putfield      #53                 // Field fileInputStreamCaches:Ljava/util/List;
      19: aload_0
      20: getfield      #53                 // Field fileInputStreamCaches:Ljava/util/List;
      23: aload_1
      24: invokeinterface #63,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      29: pop
      30: return

  void addExchange(org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: getfield      #49                 // Field closedOnCompletion:Z
       4: ifeq          59
       7: aload_0
       8: getfield      #47                 // Field exchangeCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      11: invokevirtual #71                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      14: pop
      15: new           #12                 // class org/apache/camel/converter/stream/FileInputStreamCache$TempFileManager$1
      18: dup
      19: aload_0
      20: invokespecial #74                 // Method org/apache/camel/converter/stream/FileInputStreamCache$TempFileManager$1."<init>":(Lorg/apache/camel/converter/stream/FileInputStreamCache$TempFileManager;)V
      23: astore_2
      24: aload_1
      25: ldc           #76                 // String CamelStreamCacheUnitOfWork
      27: ldc           #78                 // class org/apache/camel/spi/UnitOfWork
      29: invokeinterface #84,  3           // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
      34: checkcast     #78                 // class org/apache/camel/spi/UnitOfWork
      37: astore_3
      38: aload_3
      39: ifnull        52
      42: aload_3
      43: aload_2
      44: invokeinterface #88,  2           // InterfaceMethod org/apache/camel/spi/UnitOfWork.addSynchronization:(Lorg/apache/camel/spi/Synchronization;)V
      49: goto          59
      52: aload_1
      53: aload_2
      54: invokeinterface #93,  2           // InterfaceMethod org/apache/camel/Exchange.addOnCompletion:(Lorg/apache/camel/spi/Synchronization;)V
      59: return

  java.io.OutputStream createOutputStream(org.apache.camel.spi.StreamCachingStrategy) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #36                 // Field tempFile:Ljava/io/File;
       4: ifnull        17
       7: new           #107                // class java/lang/IllegalStateException
      10: dup
      11: ldc           #109                // String The method \'createOutputStream\' can only be called once!
      13: invokespecial #112                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: ldc           #114                // String cos
      20: ldc           #116                // String .tmp
      22: aload_1
      23: invokeinterface #122,  1          // InterfaceMethod org/apache/camel/spi/StreamCachingStrategy.getSpoolDirectory:()Ljava/io/File;
      28: invokestatic  #128                // Method org/apache/camel/util/FileUtil.createTempFile:(Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)Ljava/io/File;
      31: putfield      #36                 // Field tempFile:Ljava/io/File;
      34: getstatic     #130                // Field LOG:Lorg/slf4j/Logger;
      37: ldc           #132                // String Creating temporary stream cache file: {}
      39: aload_0
      40: getfield      #36                 // Field tempFile:Ljava/io/File;
      43: invokeinterface #138,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      48: new           #140                // class java/io/BufferedOutputStream
      51: dup
      52: new           #142                // class java/io/FileOutputStream
      55: dup
      56: aload_0
      57: getfield      #36                 // Field tempFile:Ljava/io/File;
      60: invokespecial #145                // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      63: invokespecial #148                // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
      66: astore_2
      67: aload_1
      68: invokeinterface #152,  1          // InterfaceMethod org/apache/camel/spi/StreamCachingStrategy.getSpoolChiper:()Ljava/lang/String;
      73: invokestatic  #157                // Method org/apache/camel/util/ObjectHelper.isNotEmpty:(Ljava/lang/Object;)Z
      76: ifeq          137
      79: aload_0
      80: getfield      #159                // Field ciphers:Lorg/apache/camel/converter/stream/CipherPair;
      83: ifnonnull     103
      86: aload_0
      87: new           #161                // class org/apache/camel/converter/stream/CipherPair
      90: dup
      91: aload_1
      92: invokeinterface #152,  1          // InterfaceMethod org/apache/camel/spi/StreamCachingStrategy.getSpoolChiper:()Ljava/lang/String;
      97: invokespecial #162                // Method org/apache/camel/converter/stream/CipherPair."<init>":(Ljava/lang/String;)V
     100: putfield      #159                // Field ciphers:Lorg/apache/camel/converter/stream/CipherPair;
     103: goto          120
     106: astore_3
     107: new           #103                // class java/io/IOException
     110: dup
     111: aload_3
     112: invokevirtual #167                // Method java/security/GeneralSecurityException.getMessage:()Ljava/lang/String;
     115: aload_3
     116: invokespecial #170                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     119: athrow
     120: new           #10                 // class org/apache/camel/converter/stream/FileInputStreamCache$TempFileManager$2
     123: dup
     124: aload_0
     125: aload_2
     126: aload_0
     127: getfield      #159                // Field ciphers:Lorg/apache/camel/converter/stream/CipherPair;
     130: invokevirtual #174                // Method org/apache/camel/converter/stream/CipherPair.getEncryptor:()Ljavax/crypto/Cipher;
     133: invokespecial #177                // Method org/apache/camel/converter/stream/FileInputStreamCache$TempFileManager$2."<init>":(Lorg/apache/camel/converter/stream/FileInputStreamCache$TempFileManager;Ljava/io/OutputStream;Ljavax/crypto/Cipher;)V
     136: astore_2
     137: aload_0
     138: aload_2
     139: putfield      #179                // Field outputStream:Ljava/io/OutputStream;
     142: aload_2
     143: areturn
    Exception table:
       from    to  target type
          79   103   106   Class java/security/GeneralSecurityException

  org.apache.camel.converter.stream.FileInputStreamCache newStreamCache() throws java.io.IOException;
    Code:
       0: new           #7                  // class org/apache/camel/converter/stream/FileInputStreamCache
       3: dup
       4: aload_0
       5: invokespecial #189                // Method org/apache/camel/converter/stream/FileInputStreamCache."<init>":(Lorg/apache/camel/converter/stream/FileInputStreamCache$TempFileManager;)V
       8: areturn
       9: astore_1
      10: new           #103                // class java/io/IOException
      13: dup
      14: new           #191                // class java/lang/StringBuilder
      17: dup
      18: invokespecial #192                // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #194                // String Cached file
      23: invokevirtual #198                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_0
      27: getfield      #36                 // Field tempFile:Ljava/io/File;
      30: invokevirtual #201                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      33: ldc           #203                // String  not found
      35: invokevirtual #198                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: invokevirtual #206                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: aload_1
      42: invokespecial #170                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      45: athrow
    Exception table:
       from    to  target type
           0     8     9   Class java/io/FileNotFoundException

  void closeFileInputStreams();
    Code:
       0: aload_0
       1: getfield      #53                 // Field fileInputStreamCaches:Ljava/util/List;
       4: ifnull        52
       7: aload_0
       8: getfield      #53                 // Field fileInputStreamCaches:Ljava/util/List;
      11: invokeinterface #212,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      16: astore_1
      17: aload_1
      18: invokeinterface #218,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          43
      26: aload_1
      27: invokeinterface #222,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #7                  // class org/apache/camel/converter/stream/FileInputStreamCache
      35: astore_2
      36: aload_2
      37: invokevirtual #225                // Method org/apache/camel/converter/stream/FileInputStreamCache.close:()V
      40: goto          17
      43: aload_0
      44: getfield      #53                 // Field fileInputStreamCaches:Ljava/util/List;
      47: invokeinterface #228,  1          // InterfaceMethod java/util/List.clear:()V
      52: return

  void cleanUpTempFile();
    Code:
       0: aload_0
       1: getfield      #36                 // Field tempFile:Ljava/io/File;
       4: ifnull        20
       7: aload_0
       8: getfield      #36                 // Field tempFile:Ljava/io/File;
      11: invokestatic  #235                // Method org/apache/camel/util/FileUtil.deleteFile:(Ljava/io/File;)Z
      14: pop
      15: aload_0
      16: aconst_null
      17: putfield      #36                 // Field tempFile:Ljava/io/File;
      20: goto          60
      23: astore_1
      24: getstatic     #130                // Field LOG:Lorg/slf4j/Logger;
      27: new           #191                // class java/lang/StringBuilder
      30: dup
      31: invokespecial #192                // Method java/lang/StringBuilder."<init>":()V
      34: ldc           #237                // String Error deleting temporary cache file:
      36: invokevirtual #198                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_0
      40: getfield      #36                 // Field tempFile:Ljava/io/File;
      43: invokevirtual #201                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      46: ldc           #239                // String . This exception will be ignored.
      48: invokevirtual #198                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: invokevirtual #206                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      54: aload_1
      55: invokeinterface #242,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      60: return
    Exception table:
       from    to  target type
           0    20    23   Class java/lang/Exception

  java.io.File getTempFile();
    Code:
       0: aload_0
       1: getfield      #36                 // Field tempFile:Ljava/io/File;
       4: areturn

  org.apache.camel.converter.stream.CipherPair getCiphers();
    Code:
       0: aload_0
       1: getfield      #159                // Field ciphers:Lorg/apache/camel/converter/stream/CipherPair;
       4: areturn

  org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager(java.io.File, boolean, org.apache.camel.converter.stream.FileInputStreamCache$1);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: invokespecial #249                // Method "<init>":(Ljava/io/File;Z)V
       6: return

  static java.util.concurrent.atomic.AtomicInteger access$100(org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager);
    Code:
       0: aload_0
       1: getfield      #47                 // Field exchangeCounter:Ljava/util/concurrent/atomic/AtomicInteger;
       4: areturn

  static java.io.OutputStream access$200(org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager);
    Code:
       0: aload_0
       1: getfield      #179                // Field outputStream:Ljava/io/OutputStream;
       4: areturn

  static java.io.File access$300(org.apache.camel.converter.stream.FileInputStreamCache$TempFileManager);
    Code:
       0: aload_0
       1: getfield      #36                 // Field tempFile:Ljava/io/File;
       4: areturn

  static org.slf4j.Logger access$400();
    Code:
       0: getstatic     #130                // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static {};
    Code:
       0: ldc           #2                  // class org/apache/camel/converter/stream/FileInputStreamCache$TempFileManager
       2: invokestatic  #268                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #130                // Field LOG:Lorg/slf4j/Logger;
       8: return
}
