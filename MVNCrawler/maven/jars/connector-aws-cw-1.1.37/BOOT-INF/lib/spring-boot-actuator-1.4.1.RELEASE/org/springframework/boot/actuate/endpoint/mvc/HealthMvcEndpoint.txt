Compiled from "HealthMvcEndpoint.java"
public class org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint extends org.springframework.boot.actuate.endpoint.mvc.AbstractEndpointMvcAdapter<org.springframework.boot.actuate.endpoint.HealthEndpoint> implements org.springframework.context.EnvironmentAware {
  private final boolean secure;

  private java.util.Map<java.lang.String, org.springframework.http.HttpStatus> statusMapping;

  private org.springframework.boot.bind.RelaxedPropertyResolver propertyResolver;

  private org.springframework.boot.bind.RelaxedPropertyResolver roleResolver;

  private long lastAccess;

  private org.springframework.boot.actuate.health.Health cached;

  public org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint(org.springframework.boot.actuate.endpoint.HealthEndpoint);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: invokespecial #1                  // Method "<init>":(Lorg/springframework/boot/actuate/endpoint/HealthEndpoint;Z)V
       6: return

  public org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint(org.springframework.boot.actuate.endpoint.HealthEndpoint, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method org/springframework/boot/actuate/endpoint/mvc/AbstractEndpointMvcAdapter."<init>":(Lorg/springframework/boot/actuate/endpoint/Endpoint;)V
       5: aload_0
       6: new           #3                  // class java/util/HashMap
       9: dup
      10: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      13: putfield      #5                  // Field statusMapping:Ljava/util/Map;
      16: aload_0
      17: lconst_0
      18: putfield      #6                  // Field lastAccess:J
      21: aload_0
      22: iload_2
      23: putfield      #7                  // Field secure:Z
      26: aload_0
      27: invokespecial #8                  // Method setupDefaultStatusMapping:()V
      30: return

  private void setupDefaultStatusMapping();
    Code:
       0: aload_0
       1: getstatic     #9                  // Field org/springframework/boot/actuate/health/Status.DOWN:Lorg/springframework/boot/actuate/health/Status;
       4: getstatic     #10                 // Field org/springframework/http/HttpStatus.SERVICE_UNAVAILABLE:Lorg/springframework/http/HttpStatus;
       7: invokevirtual #11                 // Method addStatusMapping:(Lorg/springframework/boot/actuate/health/Status;Lorg/springframework/http/HttpStatus;)V
      10: aload_0
      11: getstatic     #12                 // Field org/springframework/boot/actuate/health/Status.OUT_OF_SERVICE:Lorg/springframework/boot/actuate/health/Status;
      14: getstatic     #10                 // Field org/springframework/http/HttpStatus.SERVICE_UNAVAILABLE:Lorg/springframework/http/HttpStatus;
      17: invokevirtual #11                 // Method addStatusMapping:(Lorg/springframework/boot/actuate/health/Status;Lorg/springframework/http/HttpStatus;)V
      20: return

  public void setEnvironment(org.springframework.core.env.Environment);
    Code:
       0: aload_0
       1: new           #13                 // class org/springframework/boot/bind/RelaxedPropertyResolver
       4: dup
       5: aload_1
       6: ldc           #14                 // String endpoints.health.
       8: invokespecial #15                 // Method org/springframework/boot/bind/RelaxedPropertyResolver."<init>":(Lorg/springframework/core/env/PropertyResolver;Ljava/lang/String;)V
      11: putfield      #16                 // Field propertyResolver:Lorg/springframework/boot/bind/RelaxedPropertyResolver;
      14: aload_0
      15: new           #13                 // class org/springframework/boot/bind/RelaxedPropertyResolver
      18: dup
      19: aload_1
      20: ldc           #17                 // String management.security.
      22: invokespecial #15                 // Method org/springframework/boot/bind/RelaxedPropertyResolver."<init>":(Lorg/springframework/core/env/PropertyResolver;Ljava/lang/String;)V
      25: putfield      #18                 // Field roleResolver:Lorg/springframework/boot/bind/RelaxedPropertyResolver;
      28: return

  public void setStatusMapping(java.util.Map<java.lang.String, org.springframework.http.HttpStatus>);
    Code:
       0: aload_1
       1: ldc           #19                 // String StatusMapping must not be null
       3: invokestatic  #20                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: new           #3                  // class java/util/HashMap
      10: dup
      11: aload_1
      12: invokespecial #21                 // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
      15: putfield      #5                  // Field statusMapping:Ljava/util/Map;
      18: return

  public void addStatusMapping(java.util.Map<java.lang.String, org.springframework.http.HttpStatus>);
    Code:
       0: aload_1
       1: ldc           #19                 // String StatusMapping must not be null
       3: invokestatic  #20                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #5                  // Field statusMapping:Ljava/util/Map;
      10: aload_1
      11: invokeinterface #22,  2           // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
      16: return

  public void addStatusMapping(org.springframework.boot.actuate.health.Status, org.springframework.http.HttpStatus);
    Code:
       0: aload_1
       1: ldc           #23                 // String Status must not be null
       3: invokestatic  #20                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #24                 // String HttpStatus must not be null
       9: invokestatic  #20                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: aload_1
      14: invokevirtual #25                 // Method org/springframework/boot/actuate/health/Status.getCode:()Ljava/lang/String;
      17: aload_2
      18: invokevirtual #26                 // Method addStatusMapping:(Ljava/lang/String;Lorg/springframework/http/HttpStatus;)V
      21: return

  public void addStatusMapping(java.lang.String, org.springframework.http.HttpStatus);
    Code:
       0: aload_1
       1: ldc           #27                 // String StatusCode must not be null
       3: invokestatic  #20                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #24                 // String HttpStatus must not be null
       9: invokestatic  #20                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: getfield      #5                  // Field statusMapping:Ljava/util/Map;
      16: aload_1
      17: aload_2
      18: invokeinterface #28,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      23: pop
      24: return

  public java.lang.Object invoke(java.security.Principal);
    Code:
       0: aload_0
       1: invokevirtual #29                 // Method getDelegate:()Lorg/springframework/boot/actuate/endpoint/Endpoint;
       4: checkcast     #30                 // class org/springframework/boot/actuate/endpoint/HealthEndpoint
       7: invokevirtual #31                 // Method org/springframework/boot/actuate/endpoint/HealthEndpoint.isEnabled:()Z
      10: ifne          18
      13: aload_0
      14: invokevirtual #32                 // Method getDisabledResponse:()Lorg/springframework/http/ResponseEntity;
      17: areturn
      18: aload_0
      19: aload_1
      20: invokespecial #33                 // Method getHealth:(Ljava/security/Principal;)Lorg/springframework/boot/actuate/health/Health;
      23: astore_2
      24: aload_0
      25: aload_2
      26: invokespecial #34                 // Method getStatus:(Lorg/springframework/boot/actuate/health/Health;)Lorg/springframework/http/HttpStatus;
      29: astore_3
      30: aload_3
      31: ifnull        44
      34: new           #35                 // class org/springframework/http/ResponseEntity
      37: dup
      38: aload_2
      39: aload_3
      40: invokespecial #36                 // Method org/springframework/http/ResponseEntity."<init>":(Ljava/lang/Object;Lorg/springframework/http/HttpStatus;)V
      43: areturn
      44: aload_2
      45: areturn

  private org.springframework.http.HttpStatus getStatus(org.springframework.boot.actuate.health.Health);
    Code:
       0: aload_1
       1: invokevirtual #37                 // Method org/springframework/boot/actuate/health/Health.getStatus:()Lorg/springframework/boot/actuate/health/Status;
       4: invokevirtual #25                 // Method org/springframework/boot/actuate/health/Status.getCode:()Ljava/lang/String;
       7: astore_2
       8: aload_2
       9: ifnull        79
      12: aload_2
      13: invokevirtual #38                 // Method java/lang/String.toLowerCase:()Ljava/lang/String;
      16: ldc           #39                 // String _
      18: ldc           #40                 // String -
      20: invokevirtual #41                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      23: astore_2
      24: aload_2
      25: invokestatic  #42                 // Method org/springframework/boot/bind/RelaxedNames.forCamelCase:(Ljava/lang/String;)Lorg/springframework/boot/bind/RelaxedNames;
      28: invokevirtual #43                 // Method org/springframework/boot/bind/RelaxedNames.iterator:()Ljava/util/Iterator;
      31: astore_3
      32: aload_3
      33: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      38: ifeq          79
      41: aload_3
      42: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      47: checkcast     #46                 // class java/lang/String
      50: astore        4
      52: aload_0
      53: getfield      #5                  // Field statusMapping:Ljava/util/Map;
      56: aload         4
      58: invokeinterface #47,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      63: checkcast     #48                 // class org/springframework/http/HttpStatus
      66: astore        5
      68: aload         5
      70: ifnull        76
      73: aload         5
      75: areturn
      76: goto          32
      79: aconst_null
      80: areturn

  private org.springframework.boot.actuate.health.Health getHealth(java.security.Principal);
    Code:
       0: invokestatic  #49                 // Method java/lang/System.currentTimeMillis:()J
       3: lstore_2
       4: aload_0
       5: lload_2
       6: invokespecial #50                 // Method isCacheStale:(J)Z
       9: ifeq          31
      12: aload_0
      13: lload_2
      14: putfield      #6                  // Field lastAccess:J
      17: aload_0
      18: aload_0
      19: invokevirtual #29                 // Method getDelegate:()Lorg/springframework/boot/actuate/endpoint/Endpoint;
      22: checkcast     #30                 // class org/springframework/boot/actuate/endpoint/HealthEndpoint
      25: invokevirtual #51                 // Method org/springframework/boot/actuate/endpoint/HealthEndpoint.invoke:()Lorg/springframework/boot/actuate/health/Health;
      28: putfield      #52                 // Field cached:Lorg/springframework/boot/actuate/health/Health;
      31: aload_0
      32: aload_1
      33: invokespecial #53                 // Method exposeHealthDetails:(Ljava/security/Principal;)Z
      36: ifeq          44
      39: aload_0
      40: getfield      #52                 // Field cached:Lorg/springframework/boot/actuate/health/Health;
      43: areturn
      44: aload_0
      45: getfield      #52                 // Field cached:Lorg/springframework/boot/actuate/health/Health;
      48: invokevirtual #37                 // Method org/springframework/boot/actuate/health/Health.getStatus:()Lorg/springframework/boot/actuate/health/Status;
      51: invokestatic  #54                 // Method org/springframework/boot/actuate/health/Health.status:(Lorg/springframework/boot/actuate/health/Status;)Lorg/springframework/boot/actuate/health/Health$Builder;
      54: invokevirtual #55                 // Method org/springframework/boot/actuate/health/Health$Builder.build:()Lorg/springframework/boot/actuate/health/Health;
      57: areturn

  private boolean isCacheStale(long);
    Code:
       0: aload_0
       1: getfield      #52                 // Field cached:Lorg/springframework/boot/actuate/health/Health;
       4: ifnonnull     9
       7: iconst_1
       8: ireturn
       9: lload_1
      10: aload_0
      11: getfield      #6                  // Field lastAccess:J
      14: lsub
      15: aload_0
      16: invokevirtual #29                 // Method getDelegate:()Lorg/springframework/boot/actuate/endpoint/Endpoint;
      19: checkcast     #30                 // class org/springframework/boot/actuate/endpoint/HealthEndpoint
      22: invokevirtual #56                 // Method org/springframework/boot/actuate/endpoint/HealthEndpoint.getTimeToLive:()J
      25: lcmp
      26: iflt          33
      29: iconst_1
      30: goto          34
      33: iconst_0
      34: ireturn

  private boolean exposeHealthDetails(java.security.Principal);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #57                 // Method isSecure:(Ljava/security/Principal;)Z
       5: ifne          15
       8: aload_0
       9: invokespecial #58                 // Method isUnrestricted:()Z
      12: ifeq          19
      15: iconst_1
      16: goto          20
      19: iconst_0
      20: ireturn

  private boolean isSecure(java.security.Principal);
    Code:
       0: aload_1
       1: ifnull        19
       4: aload_1
       5: invokevirtual #59                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       8: invokevirtual #60                 // Method java/lang/Class.getName:()Ljava/lang/String;
      11: ldc           #61                 // String Anonymous
      13: invokevirtual #62                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      16: ifeq          21
      19: iconst_0
      20: ireturn
      21: aload_0
      22: aload_1
      23: invokespecial #63                 // Method isSpringSecurityAuthentication:(Ljava/security/Principal;)Z
      26: ifeq          175
      29: aload_1
      30: checkcast     #64                 // class org/springframework/security/core/Authentication
      33: astore_2
      34: aload_0
      35: getfield      #18                 // Field roleResolver:Lorg/springframework/boot/bind/RelaxedPropertyResolver;
      38: ldc           #65                 // String roles
      40: ldc           #66                 // String ROLE_ADMIN
      42: invokevirtual #67                 // Method org/springframework/boot/bind/RelaxedPropertyResolver.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      45: invokestatic  #68                 // Method org/springframework/util/StringUtils.commaDelimitedListToStringArray:(Ljava/lang/String;)[Ljava/lang/String;
      48: invokestatic  #69                 // Method org/springframework/util/StringUtils.trimArrayElements:([Ljava/lang/String;)[Ljava/lang/String;
      51: invokestatic  #70                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      54: astore_3
      55: aload_2
      56: invokeinterface #71,  1           // InterfaceMethod org/springframework/security/core/Authentication.getAuthorities:()Ljava/util/Collection;
      61: invokeinterface #72,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      66: astore        4
      68: aload         4
      70: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      75: ifeq          175
      78: aload         4
      80: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      85: checkcast     #73                 // class org/springframework/security/core/GrantedAuthority
      88: astore        5
      90: aload         5
      92: invokeinterface #74,  1           // InterfaceMethod org/springframework/security/core/GrantedAuthority.getAuthority:()Ljava/lang/String;
      97: astore        6
      99: aload_3
     100: invokeinterface #75,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     105: astore        7
     107: aload         7
     109: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     114: ifeq          172
     117: aload         7
     119: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     124: checkcast     #46                 // class java/lang/String
     127: astore        8
     129: aload         8
     131: aload         6
     133: invokevirtual #76                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     136: ifne          167
     139: new           #77                 // class java/lang/StringBuilder
     142: dup
     143: invokespecial #78                 // Method java/lang/StringBuilder."<init>":()V
     146: ldc           #79                 // String ROLE_
     148: invokevirtual #80                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: aload         8
     153: invokevirtual #80                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     156: invokevirtual #81                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     159: aload         6
     161: invokevirtual #76                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     164: ifeq          169
     167: iconst_1
     168: ireturn
     169: goto          107
     172: goto          68
     175: iconst_0
     176: ireturn

  private boolean isSpringSecurityAuthentication(java.security.Principal);
    Code:
       0: ldc           #82                 // String org.springframework.security.core.Authentication
       2: aconst_null
       3: invokestatic  #83                 // Method org/springframework/util/ClassUtils.isPresent:(Ljava/lang/String;Ljava/lang/ClassLoader;)Z
       6: ifeq          20
       9: aload_1
      10: instanceof    #64                 // class org/springframework/security/core/Authentication
      13: ifeq          20
      16: iconst_1
      17: goto          21
      20: iconst_0
      21: ireturn

  private boolean isUnrestricted();
    Code:
       0: aload_0
       1: getfield      #16                 // Field propertyResolver:Lorg/springframework/boot/bind/RelaxedPropertyResolver;
       4: ldc           #84                 // String sensitive
       6: ldc           #85                 // class java/lang/Boolean
       8: invokevirtual #86                 // Method org/springframework/boot/bind/RelaxedPropertyResolver.getProperty:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
      11: checkcast     #85                 // class java/lang/Boolean
      14: astore_1
      15: aload_0
      16: getfield      #7                  // Field secure:Z
      19: ifne          36
      22: getstatic     #87                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      25: aload_1
      26: invokevirtual #88                 // Method java/lang/Boolean.equals:(Ljava/lang/Object;)Z
      29: ifne          36
      32: iconst_1
      33: goto          37
      36: iconst_0
      37: ireturn
}
