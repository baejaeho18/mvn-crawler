Compiled from "AbstractCompositeMeter.java"
abstract class io.micrometer.core.instrument.composite.AbstractCompositeMeter<T extends io.micrometer.core.instrument.Meter> extends io.micrometer.core.instrument.AbstractMeter implements io.micrometer.core.instrument.composite.CompositeMeter {
  private java.util.concurrent.atomic.AtomicBoolean childrenGuard;

  private java.util.Map<io.micrometer.core.instrument.MeterRegistry, T> children;

  private volatile T noopMeter;

  io.micrometer.core.instrument.composite.AbstractCompositeMeter(io.micrometer.core.instrument.Meter$Id);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #26                 // Method io/micrometer/core/instrument/AbstractMeter."<init>":(Lio/micrometer/core/instrument/Meter$Id;)V
       5: aload_0
       6: new           #28                 // class java/util/concurrent/atomic/AtomicBoolean
       9: dup
      10: invokespecial #31                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      13: putfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
      16: aload_0
      17: invokestatic  #39                 // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      20: putfield      #41                 // Field children:Ljava/util/Map;
      23: return

  abstract T newNoopMeter();

  abstract T registerNewMeter(io.micrometer.core.instrument.MeterRegistry);

  final void forEachChild(java.util.function.Consumer<T>);
    Code:
       0: aload_0
       1: getfield      #41                 // Field children:Ljava/util/Map;
       4: invokeinterface #61,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       9: aload_1
      10: invokeinterface #66,  2           // InterfaceMethod java/util/Collection.forEach:(Ljava/util/function/Consumer;)V
      15: return

  T firstChild();
    Code:
       0: aload_0
       1: getfield      #41                 // Field children:Ljava/util/Map;
       4: invokeinterface #61,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       9: invokeinterface #74,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_1
      15: aload_1
      16: invokeinterface #80,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          34
      24: aload_1
      25: invokeinterface #84,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #12                 // class io/micrometer/core/instrument/Meter
      33: areturn
      34: aload_0
      35: getfield      #86                 // Field noopMeter:Lio/micrometer/core/instrument/Meter;
      38: astore_2
      39: aload_2
      40: ifnull        45
      43: aload_2
      44: areturn
      45: aload_0
      46: aload_0
      47: invokevirtual #88                 // Method newNoopMeter:()Lio/micrometer/core/instrument/Meter;
      50: dup_x1
      51: putfield      #86                 // Field noopMeter:Lio/micrometer/core/instrument/Meter;
      54: areturn

  public final void add(io.micrometer.core.instrument.MeterRegistry);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #95                 // Method registerNewMeter:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Meter;
       5: astore_2
       6: aload_2
       7: ifnonnull     11
      10: return
      11: aload_0
      12: getfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
      15: iconst_0
      16: iconst_1
      17: invokevirtual #99                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      20: ifeq          11
      23: new           #101                // class java/util/IdentityHashMap
      26: dup
      27: aload_0
      28: getfield      #41                 // Field children:Ljava/util/Map;
      31: invokespecial #104                // Method java/util/IdentityHashMap."<init>":(Ljava/util/Map;)V
      34: astore_3
      35: aload_3
      36: aload_1
      37: aload_2
      38: invokeinterface #108,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      43: pop
      44: aload_0
      45: aload_3
      46: putfield      #41                 // Field children:Ljava/util/Map;
      49: aload_0
      50: getfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
      53: iconst_0
      54: invokevirtual #112                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      57: goto          73
      60: astore        4
      62: aload_0
      63: getfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
      66: iconst_0
      67: invokevirtual #112                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      70: aload         4
      72: athrow
      73: return
    Exception table:
       from    to  target type
          23    49    60   any
          60    62    60   any

  public final void remove(io.micrometer.core.instrument.MeterRegistry);
    Code:
       0: aload_0
       1: getfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #99                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          0
      12: new           #101                // class java/util/IdentityHashMap
      15: dup
      16: aload_0
      17: getfield      #41                 // Field children:Ljava/util/Map;
      20: invokespecial #104                // Method java/util/IdentityHashMap."<init>":(Ljava/util/Map;)V
      23: astore_2
      24: aload_2
      25: aload_1
      26: invokeinterface #123,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      31: pop
      32: aload_0
      33: aload_2
      34: putfield      #41                 // Field children:Ljava/util/Map;
      37: aload_0
      38: getfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
      41: iconst_0
      42: invokevirtual #112                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      45: goto          59
      48: astore_3
      49: aload_0
      50: getfield      #33                 // Field childrenGuard:Ljava/util/concurrent/atomic/AtomicBoolean;
      53: iconst_0
      54: invokevirtual #112                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      57: aload_3
      58: athrow
      59: return
    Exception table:
       from    to  target type
          12    37    48   any
}
