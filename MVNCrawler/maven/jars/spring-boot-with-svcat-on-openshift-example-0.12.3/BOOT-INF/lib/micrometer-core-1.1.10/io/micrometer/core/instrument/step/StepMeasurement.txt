Compiled from "StepMeasurement.java"
class io.micrometer.core.instrument.step.StepMeasurement extends io.micrometer.core.instrument.Measurement {
  private final io.micrometer.core.instrument.step.StepDouble value;

  private final java.util.concurrent.atomic.DoubleAdder lastCount;

  private final java.util.function.Supplier<java.lang.Double> f;

  public io.micrometer.core.instrument.step.StepMeasurement(java.util.function.Supplier<java.lang.Double>, io.micrometer.core.instrument.Statistic, io.micrometer.core.instrument.Clock, long);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #18                 // Method io/micrometer/core/instrument/Measurement."<init>":(Ljava/util/function/Supplier;Lio/micrometer/core/instrument/Statistic;)V
       6: aload_0
       7: new           #20                 // class java/util/concurrent/atomic/DoubleAdder
      10: dup
      11: invokespecial #23                 // Method java/util/concurrent/atomic/DoubleAdder."<init>":()V
      14: putfield      #25                 // Field lastCount:Ljava/util/concurrent/atomic/DoubleAdder;
      17: aload_0
      18: aload_1
      19: putfield      #27                 // Field f:Ljava/util/function/Supplier;
      22: aload_0
      23: new           #29                 // class io/micrometer/core/instrument/step/StepDouble
      26: dup
      27: aload_3
      28: lload         4
      30: invokespecial #32                 // Method io/micrometer/core/instrument/step/StepDouble."<init>":(Lio/micrometer/core/instrument/Clock;J)V
      33: putfield      #34                 // Field value:Lio/micrometer/core/instrument/step/StepDouble;
      36: return

  public double getValue();
    Code:
       0: aload_0
       1: getfield      #27                 // Field f:Ljava/util/function/Supplier;
       4: invokeinterface #50,  1           // InterfaceMethod java/util/function/Supplier.get:()Ljava/lang/Object;
       9: checkcast     #52                 // class java/lang/Double
      12: invokevirtual #55                 // Method java/lang/Double.doubleValue:()D
      15: dstore_1
      16: dconst_0
      17: dload_1
      18: aload_0
      19: getfield      #25                 // Field lastCount:Ljava/util/concurrent/atomic/DoubleAdder;
      22: invokevirtual #58                 // Method java/util/concurrent/atomic/DoubleAdder.sum:()D
      25: dsub
      26: invokestatic  #64                 // Method java/lang/Math.max:(DD)D
      29: dstore_3
      30: aload_0
      31: getfield      #25                 // Field lastCount:Ljava/util/concurrent/atomic/DoubleAdder;
      34: dload_3
      35: invokevirtual #68                 // Method java/util/concurrent/atomic/DoubleAdder.add:(D)V
      38: aload_0
      39: getfield      #34                 // Field value:Lio/micrometer/core/instrument/step/StepDouble;
      42: invokevirtual #72                 // Method io/micrometer/core/instrument/step/StepDouble.getCurrent:()Ljava/util/concurrent/atomic/DoubleAdder;
      45: dload_3
      46: invokevirtual #68                 // Method java/util/concurrent/atomic/DoubleAdder.add:(D)V
      49: aload_0
      50: getfield      #34                 // Field value:Lio/micrometer/core/instrument/step/StepDouble;
      53: invokevirtual #75                 // Method io/micrometer/core/instrument/step/StepDouble.poll:()D
      56: dreturn
}
