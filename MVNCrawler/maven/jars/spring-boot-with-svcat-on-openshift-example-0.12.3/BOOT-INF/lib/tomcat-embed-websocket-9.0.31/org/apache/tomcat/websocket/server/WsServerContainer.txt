Compiled from "WsServerContainer.java"
public class org.apache.tomcat.websocket.server.WsServerContainer extends org.apache.tomcat.websocket.WsWebSocketContainer implements javax.websocket.server.ServerContainer {
  private static final org.apache.tomcat.util.res.StringManager sm;

  private static final javax.websocket.CloseReason AUTHENTICATED_HTTP_SESSION_CLOSED;

  private final org.apache.tomcat.websocket.server.WsWriteTimeout wsWriteTimeout;

  private final javax.servlet.ServletContext servletContext;

  private final java.util.Map<java.lang.String, org.apache.tomcat.websocket.server.WsServerContainer$ExactPathMatch> configExactMatchMap;

  private final java.util.Map<java.lang.Integer, java.util.concurrent.ConcurrentSkipListMap<java.lang.String, org.apache.tomcat.websocket.server.WsServerContainer$TemplatePathMatch>> configTemplateMatchMap;

  private volatile boolean enforceNoAddAfterHandshake;

  private volatile boolean addAllowed;

  private final java.util.Map<java.lang.String, java.util.Set<org.apache.tomcat.websocket.WsSession>> authenticatedSessions;

  private volatile boolean endpointsRegistered;

  private volatile boolean deploymentFailed;

  org.apache.tomcat.websocket.server.WsServerContainer(javax.servlet.ServletContext);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/tomcat/websocket/WsWebSocketContainer."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/tomcat/websocket/server/WsWriteTimeout
       8: dup
       9: invokespecial #3                  // Method org/apache/tomcat/websocket/server/WsWriteTimeout."<init>":()V
      12: putfield      #4                  // Field wsWriteTimeout:Lorg/apache/tomcat/websocket/server/WsWriteTimeout;
      15: aload_0
      16: new           #5                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #7                  // Field configExactMatchMap:Ljava/util/Map;
      26: aload_0
      27: new           #5                  // class java/util/concurrent/ConcurrentHashMap
      30: dup
      31: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      34: putfield      #8                  // Field configTemplateMatchMap:Ljava/util/Map;
      37: aload_0
      38: getstatic     #9                  // Field org/apache/tomcat/websocket/Constants.STRICT_SPEC_COMPLIANCE:Z
      41: putfield      #10                 // Field enforceNoAddAfterHandshake:Z
      44: aload_0
      45: iconst_1
      46: putfield      #11                 // Field addAllowed:Z
      49: aload_0
      50: new           #5                  // class java/util/concurrent/ConcurrentHashMap
      53: dup
      54: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      57: putfield      #12                 // Field authenticatedSessions:Ljava/util/Map;
      60: aload_0
      61: iconst_0
      62: putfield      #13                 // Field endpointsRegistered:Z
      65: aload_0
      66: iconst_0
      67: putfield      #14                 // Field deploymentFailed:Z
      70: aload_0
      71: aload_1
      72: putfield      #15                 // Field servletContext:Ljavax/servlet/ServletContext;
      75: aload_0
      76: aload_1
      77: ldc           #16                 // class org/apache/tomcat/InstanceManager
      79: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
      82: invokeinterface #18,  2           // InterfaceMethod javax/servlet/ServletContext.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      87: checkcast     #16                 // class org/apache/tomcat/InstanceManager
      90: invokevirtual #19                 // Method setInstanceManager:(Lorg/apache/tomcat/InstanceManager;)V
      93: aload_1
      94: ldc           #21                 // String org.apache.tomcat.websocket.binaryBufferSize
      96: invokeinterface #22,  2           // InterfaceMethod javax/servlet/ServletContext.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     101: astore_2
     102: aload_2
     103: ifnull        114
     106: aload_0
     107: aload_2
     108: invokestatic  #23                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     111: invokevirtual #24                 // Method setDefaultMaxBinaryMessageBufferSize:(I)V
     114: aload_1
     115: ldc           #25                 // String org.apache.tomcat.websocket.textBufferSize
     117: invokeinterface #22,  2           // InterfaceMethod javax/servlet/ServletContext.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     122: astore_2
     123: aload_2
     124: ifnull        135
     127: aload_0
     128: aload_2
     129: invokestatic  #23                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     132: invokevirtual #26                 // Method setDefaultMaxTextMessageBufferSize:(I)V
     135: aload_1
     136: ldc           #27                 // String org.apache.tomcat.websocket.noAddAfterHandshake
     138: invokeinterface #22,  2           // InterfaceMethod javax/servlet/ServletContext.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     143: astore_2
     144: aload_2
     145: ifnull        156
     148: aload_0
     149: aload_2
     150: invokestatic  #28                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     153: invokevirtual #29                 // Method setEnforceNoAddAfterHandshake:(Z)V
     156: aload_1
     157: ldc           #30                 // String Tomcat WebSocket (JSR356) Filter
     159: new           #31                 // class org/apache/tomcat/websocket/server/WsFilter
     162: dup
     163: invokespecial #32                 // Method org/apache/tomcat/websocket/server/WsFilter."<init>":()V
     166: invokeinterface #33,  3           // InterfaceMethod javax/servlet/ServletContext.addFilter:(Ljava/lang/String;Ljavax/servlet/Filter;)Ljavax/servlet/FilterRegistration$Dynamic;
     171: astore_3
     172: aload_3
     173: iconst_1
     174: invokeinterface #34,  2           // InterfaceMethod javax/servlet/FilterRegistration$Dynamic.setAsyncSupported:(Z)V
     179: getstatic     #35                 // Field javax/servlet/DispatcherType.REQUEST:Ljavax/servlet/DispatcherType;
     182: getstatic     #36                 // Field javax/servlet/DispatcherType.FORWARD:Ljavax/servlet/DispatcherType;
     185: invokestatic  #37                 // Method java/util/EnumSet.of:(Ljava/lang/Enum;Ljava/lang/Enum;)Ljava/util/EnumSet;
     188: astore        4
     190: aload_3
     191: aload         4
     193: iconst_1
     194: iconst_1
     195: anewarray     #38                 // class java/lang/String
     198: dup
     199: iconst_0
     200: ldc           #39                 // String /*
     202: aastore
     203: invokeinterface #40,  4           // InterfaceMethod javax/servlet/FilterRegistration$Dynamic.addMappingForUrlPatterns:(Ljava/util/EnumSet;Z[Ljava/lang/String;)V
     208: return

  public void addEndpoint(javax.websocket.server.ServerEndpointConfig) throws javax.websocket.DeploymentException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: invokevirtual #41                 // Method addEndpoint:(Ljavax/websocket/server/ServerEndpointConfig;Z)V
       6: return

  void addEndpoint(javax.websocket.server.ServerEndpointConfig, boolean) throws javax.websocket.DeploymentException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field enforceNoAddAfterHandshake:Z
       4: ifeq          30
       7: aload_0
       8: getfield      #11                 // Field addAllowed:Z
      11: ifne          30
      14: new           #42                 // class javax/websocket/DeploymentException
      17: dup
      18: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      21: ldc           #44                 // String serverContainer.addNotAllowed
      23: invokevirtual #45                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      26: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
      29: athrow
      30: aload_0
      31: getfield      #15                 // Field servletContext:Ljavax/servlet/ServletContext;
      34: ifnonnull     53
      37: new           #42                 // class javax/websocket/DeploymentException
      40: dup
      41: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      44: ldc           #47                 // String serverContainer.servletContextMissing
      46: invokevirtual #45                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      49: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
      52: athrow
      53: aload_0
      54: getfield      #14                 // Field deploymentFailed:Z
      57: ifeq          104
      60: new           #42                 // class javax/websocket/DeploymentException
      63: dup
      64: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      67: ldc           #48                 // String serverContainer.failedDeployment
      69: iconst_2
      70: anewarray     #49                 // class java/lang/Object
      73: dup
      74: iconst_0
      75: aload_0
      76: getfield      #15                 // Field servletContext:Ljavax/servlet/ServletContext;
      79: invokeinterface #50,  1           // InterfaceMethod javax/servlet/ServletContext.getContextPath:()Ljava/lang/String;
      84: aastore
      85: dup
      86: iconst_1
      87: aload_0
      88: getfield      #15                 // Field servletContext:Ljavax/servlet/ServletContext;
      91: invokeinterface #51,  1           // InterfaceMethod javax/servlet/ServletContext.getVirtualServerName:()Ljava/lang/String;
      96: aastore
      97: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     100: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
     103: athrow
     104: aload_1
     105: invokeinterface #53,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getPath:()Ljava/lang/String;
     110: astore_3
     111: new           #54                 // class org/apache/tomcat/websocket/pojo/PojoMethodMapping
     114: dup
     115: aload_1
     116: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     121: aload_1
     122: invokeinterface #56,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getDecoders:()Ljava/util/List;
     127: aload_3
     128: invokespecial #57                 // Method org/apache/tomcat/websocket/pojo/PojoMethodMapping."<init>":(Ljava/lang/Class;Ljava/util/List;Ljava/lang/String;)V
     131: astore        4
     133: aload         4
     135: invokevirtual #58                 // Method org/apache/tomcat/websocket/pojo/PojoMethodMapping.getOnClose:()Ljava/lang/reflect/Method;
     138: ifnonnull     165
     141: aload         4
     143: invokevirtual #59                 // Method org/apache/tomcat/websocket/pojo/PojoMethodMapping.getOnOpen:()Ljava/lang/reflect/Method;
     146: ifnonnull     165
     149: aload         4
     151: invokevirtual #60                 // Method org/apache/tomcat/websocket/pojo/PojoMethodMapping.getOnError:()Ljava/lang/reflect/Method;
     154: ifnonnull     165
     157: aload         4
     159: invokevirtual #61                 // Method org/apache/tomcat/websocket/pojo/PojoMethodMapping.hasMessageHandlers:()Z
     162: ifeq          181
     165: aload_1
     166: invokeinterface #62,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getUserProperties:()Ljava/util/Map;
     171: ldc           #64                 // String org.apache.tomcat.websocket.pojo.PojoEndpoint.methodMapping
     173: aload         4
     175: invokeinterface #65,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     180: pop
     181: new           #66                 // class org/apache/tomcat/websocket/server/UriTemplate
     184: dup
     185: aload_3
     186: invokespecial #67                 // Method org/apache/tomcat/websocket/server/UriTemplate."<init>":(Ljava/lang/String;)V
     189: astore        5
     191: aload         5
     193: invokevirtual #68                 // Method org/apache/tomcat/websocket/server/UriTemplate.hasParameters:()Z
     196: ifeq          400
     199: aload         5
     201: invokevirtual #69                 // Method org/apache/tomcat/websocket/server/UriTemplate.getSegmentCount:()I
     204: invokestatic  #70                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     207: astore        6
     209: aload_0
     210: getfield      #8                  // Field configTemplateMatchMap:Ljava/util/Map;
     213: aload         6
     215: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     220: checkcast     #72                 // class java/util/concurrent/ConcurrentSkipListMap
     223: astore        7
     225: aload         7
     227: ifnonnull     269
     230: new           #72                 // class java/util/concurrent/ConcurrentSkipListMap
     233: dup
     234: invokespecial #73                 // Method java/util/concurrent/ConcurrentSkipListMap."<init>":()V
     237: astore        7
     239: aload_0
     240: getfield      #8                  // Field configTemplateMatchMap:Ljava/util/Map;
     243: aload         6
     245: aload         7
     247: invokeinterface #74,  3           // InterfaceMethod java/util/Map.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     252: pop
     253: aload_0
     254: getfield      #8                  // Field configTemplateMatchMap:Ljava/util/Map;
     257: aload         6
     259: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     264: checkcast     #72                 // class java/util/concurrent/ConcurrentSkipListMap
     267: astore        7
     269: new           #75                 // class org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch
     272: dup
     273: aload_1
     274: aload         5
     276: iload_2
     277: invokespecial #76                 // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch."<init>":(Ljavax/websocket/server/ServerEndpointConfig;Lorg/apache/tomcat/websocket/server/UriTemplate;Z)V
     280: astore        8
     282: aload         7
     284: aload         5
     286: invokevirtual #77                 // Method org/apache/tomcat/websocket/server/UriTemplate.getNormalizedPath:()Ljava/lang/String;
     289: aload         8
     291: invokevirtual #78                 // Method java/util/concurrent/ConcurrentSkipListMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     294: checkcast     #75                 // class org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch
     297: astore        9
     299: aload         9
     301: ifnull        397
     304: aload         9
     306: invokevirtual #79                 // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch.isFromAnnotatedPojo:()Z
     309: ifeq          355
     312: aload         8
     314: invokevirtual #79                 // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch.isFromAnnotatedPojo:()Z
     317: ifne          355
     320: aload         9
     322: invokevirtual #80                 // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
     325: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     330: aload         8
     332: invokevirtual #80                 // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
     335: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     340: if_acmpne     355
     343: aload         7
     345: aload_3
     346: aload         9
     348: invokevirtual #81                 // Method java/util/concurrent/ConcurrentSkipListMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     351: pop
     352: goto          397
     355: new           #42                 // class javax/websocket/DeploymentException
     358: dup
     359: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     362: ldc           #82                 // String serverContainer.duplicatePaths
     364: iconst_3
     365: anewarray     #49                 // class java/lang/Object
     368: dup
     369: iconst_0
     370: aload_3
     371: aastore
     372: dup
     373: iconst_1
     374: aload_1
     375: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     380: aastore
     381: dup
     382: iconst_2
     383: aload_1
     384: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     389: aastore
     390: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     393: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
     396: athrow
     397: goto          534
     400: new           #83                 // class org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch
     403: dup
     404: aload_1
     405: iload_2
     406: invokespecial #84                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch."<init>":(Ljavax/websocket/server/ServerEndpointConfig;Z)V
     409: astore        6
     411: aload_0
     412: getfield      #7                  // Field configExactMatchMap:Ljava/util/Map;
     415: aload_3
     416: aload         6
     418: invokeinterface #65,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     423: checkcast     #83                 // class org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch
     426: astore        7
     428: aload         7
     430: ifnull        534
     433: aload         7
     435: invokevirtual #85                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch.isFromAnnotatedPojo:()Z
     438: ifeq          488
     441: aload         6
     443: invokevirtual #85                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch.isFromAnnotatedPojo:()Z
     446: ifne          488
     449: aload         7
     451: invokevirtual #86                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
     454: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     459: aload         6
     461: invokevirtual #86                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
     464: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     469: if_acmpne     488
     472: aload_0
     473: getfield      #7                  // Field configExactMatchMap:Ljava/util/Map;
     476: aload_3
     477: aload         7
     479: invokeinterface #65,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     484: pop
     485: goto          534
     488: new           #42                 // class javax/websocket/DeploymentException
     491: dup
     492: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     495: ldc           #82                 // String serverContainer.duplicatePaths
     497: iconst_3
     498: anewarray     #49                 // class java/lang/Object
     501: dup
     502: iconst_0
     503: aload_3
     504: aastore
     505: dup
     506: iconst_1
     507: aload         7
     509: invokevirtual #86                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
     512: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     517: aastore
     518: dup
     519: iconst_2
     520: aload_1
     521: invokeinterface #55,  1           // InterfaceMethod javax/websocket/server/ServerEndpointConfig.getEndpointClass:()Ljava/lang/Class;
     526: aastore
     527: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     530: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
     533: athrow
     534: aload_0
     535: iconst_1
     536: putfield      #13                 // Field endpointsRegistered:Z
     539: goto          549
     542: astore_3
     543: aload_0
     544: invokevirtual #87                 // Method failDeployment:()V
     547: aload_3
     548: athrow
     549: return
    Exception table:
       from    to  target type
         104   539   542   Class javax/websocket/DeploymentException

  public void addEndpoint(java.lang.Class<?>) throws javax.websocket.DeploymentException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: invokevirtual #88                 // Method addEndpoint:(Ljava/lang/Class;Z)V
       6: return

  void addEndpoint(java.lang.Class<?>, boolean) throws javax.websocket.DeploymentException;
    Code:
       0: aload_0
       1: getfield      #14                 // Field deploymentFailed:Z
       4: ifeq          51
       7: new           #42                 // class javax/websocket/DeploymentException
      10: dup
      11: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      14: ldc           #48                 // String serverContainer.failedDeployment
      16: iconst_2
      17: anewarray     #49                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_0
      23: getfield      #15                 // Field servletContext:Ljavax/servlet/ServletContext;
      26: invokeinterface #50,  1           // InterfaceMethod javax/servlet/ServletContext.getContextPath:()Ljava/lang/String;
      31: aastore
      32: dup
      33: iconst_1
      34: aload_0
      35: getfield      #15                 // Field servletContext:Ljavax/servlet/ServletContext;
      38: invokeinterface #51,  1           // InterfaceMethod javax/servlet/ServletContext.getVirtualServerName:()Ljava/lang/String;
      43: aastore
      44: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      47: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
      50: athrow
      51: aload_1
      52: ldc           #89                 // class javax/websocket/server/ServerEndpoint
      54: invokevirtual #90                 // Method java/lang/Class.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      57: checkcast     #89                 // class javax/websocket/server/ServerEndpoint
      60: astore        4
      62: aload         4
      64: ifnonnull     94
      67: new           #42                 // class javax/websocket/DeploymentException
      70: dup
      71: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      74: ldc           #91                 // String serverContainer.missingAnnotation
      76: iconst_1
      77: anewarray     #49                 // class java/lang/Object
      80: dup
      81: iconst_0
      82: aload_1
      83: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
      86: aastore
      87: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      90: invokespecial #46                 // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;)V
      93: athrow
      94: aload         4
      96: invokeinterface #92,  1           // InterfaceMethod javax/websocket/server/ServerEndpoint.value:()Ljava/lang/String;
     101: astore        5
     103: aload         4
     105: invokeinterface #93,  1           // InterfaceMethod javax/websocket/server/ServerEndpoint.encoders:()[Ljava/lang/Class;
     110: invokestatic  #94                 // Method validateEncoders:([Ljava/lang/Class;)V
     113: aload         4
     115: invokeinterface #95,  1           // InterfaceMethod javax/websocket/server/ServerEndpoint.configurator:()Ljava/lang/Class;
     120: astore        6
     122: aconst_null
     123: astore        7
     125: aload         6
     127: ldc           #96                 // class javax/websocket/server/ServerEndpointConfig$Configurator
     129: invokevirtual #97                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     132: ifne          211
     135: aload         4
     137: invokeinterface #95,  1           // InterfaceMethod javax/websocket/server/ServerEndpoint.configurator:()Ljava/lang/Class;
     142: iconst_0
     143: anewarray     #98                 // class java/lang/Class
     146: invokevirtual #99                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;
     149: iconst_0
     150: anewarray     #49                 // class java/lang/Object
     153: invokevirtual #100                // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;
     156: checkcast     #96                 // class javax/websocket/server/ServerEndpointConfig$Configurator
     159: astore        7
     161: goto          211
     164: astore        8
     166: new           #42                 // class javax/websocket/DeploymentException
     169: dup
     170: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     173: ldc           #102                // String serverContainer.configuratorFail
     175: iconst_2
     176: anewarray     #49                 // class java/lang/Object
     179: dup
     180: iconst_0
     181: aload         4
     183: invokeinterface #95,  1           // InterfaceMethod javax/websocket/server/ServerEndpoint.configurator:()Ljava/lang/Class;
     188: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
     191: aastore
     192: dup
     193: iconst_1
     194: aload_1
     195: invokevirtual #103                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     198: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
     201: aastore
     202: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     205: aload         8
     207: invokespecial #104                // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     210: athrow
     211: aload_1
     212: aload         5
     214: invokestatic  #105                // Method javax/websocket/server/ServerEndpointConfig$Builder.create:(Ljava/lang/Class;Ljava/lang/String;)Ljavax/websocket/server/ServerEndpointConfig$Builder;
     217: aload         4
     219: invokeinterface #106,  1          // InterfaceMethod javax/websocket/server/ServerEndpoint.decoders:()[Ljava/lang/Class;
     224: invokestatic  #107                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     227: invokevirtual #108                // Method javax/websocket/server/ServerEndpointConfig$Builder.decoders:(Ljava/util/List;)Ljavax/websocket/server/ServerEndpointConfig$Builder;
     230: aload         4
     232: invokeinterface #93,  1           // InterfaceMethod javax/websocket/server/ServerEndpoint.encoders:()[Ljava/lang/Class;
     237: invokestatic  #107                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     240: invokevirtual #109                // Method javax/websocket/server/ServerEndpointConfig$Builder.encoders:(Ljava/util/List;)Ljavax/websocket/server/ServerEndpointConfig$Builder;
     243: aload         4
     245: invokeinterface #110,  1          // InterfaceMethod javax/websocket/server/ServerEndpoint.subprotocols:()[Ljava/lang/String;
     250: invokestatic  #107                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     253: invokevirtual #111                // Method javax/websocket/server/ServerEndpointConfig$Builder.subprotocols:(Ljava/util/List;)Ljavax/websocket/server/ServerEndpointConfig$Builder;
     256: aload         7
     258: invokevirtual #112                // Method javax/websocket/server/ServerEndpointConfig$Builder.configurator:(Ljavax/websocket/server/ServerEndpointConfig$Configurator;)Ljavax/websocket/server/ServerEndpointConfig$Builder;
     261: invokevirtual #113                // Method javax/websocket/server/ServerEndpointConfig$Builder.build:()Ljavax/websocket/server/ServerEndpointConfig;
     264: astore_3
     265: goto          277
     268: astore        4
     270: aload_0
     271: invokevirtual #87                 // Method failDeployment:()V
     274: aload         4
     276: athrow
     277: aload_0
     278: aload_3
     279: iload_2
     280: invokevirtual #41                 // Method addEndpoint:(Ljavax/websocket/server/ServerEndpointConfig;Z)V
     283: return
    Exception table:
       from    to  target type
         135   161   164   Class java/lang/ReflectiveOperationException
          51   265   268   Class javax/websocket/DeploymentException

  void failDeployment();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #14                 // Field deploymentFailed:Z
       5: aload_0
       6: iconst_0
       7: putfield      #13                 // Field endpointsRegistered:Z
      10: aload_0
      11: getfield      #7                  // Field configExactMatchMap:Ljava/util/Map;
      14: invokeinterface #114,  1          // InterfaceMethod java/util/Map.clear:()V
      19: aload_0
      20: getfield      #8                  // Field configTemplateMatchMap:Ljava/util/Map;
      23: invokeinterface #114,  1          // InterfaceMethod java/util/Map.clear:()V
      28: return

  boolean areEndpointsRegistered();
    Code:
       0: aload_0
       1: getfield      #13                 // Field endpointsRegistered:Z
       4: ireturn

  public void doUpgrade(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, javax.websocket.server.ServerEndpointConfig, java.util.Map<java.lang.String, java.lang.String>) throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: invokestatic  #115                // Method org/apache/tomcat/websocket/server/UpgradeUtil.doUpgrade:(Lorg/apache/tomcat/websocket/server/WsServerContainer;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/websocket/server/ServerEndpointConfig;Ljava/util/Map;)V
       9: return

  public org.apache.tomcat.websocket.server.WsMappingResult findMapping(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #11                 // Field addAllowed:Z
       4: ifeq          12
       7: aload_0
       8: iconst_0
       9: putfield      #11                 // Field addAllowed:Z
      12: aload_0
      13: getfield      #7                  // Field configExactMatchMap:Ljava/util/Map;
      16: aload_1
      17: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #83                 // class org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch
      25: astore_2
      26: aload_2
      27: ifnull        45
      30: new           #116                // class org/apache/tomcat/websocket/server/WsMappingResult
      33: dup
      34: aload_2
      35: invokevirtual #86                 // Method org/apache/tomcat/websocket/server/WsServerContainer$ExactPathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
      38: invokestatic  #117                // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      41: invokespecial #118                // Method org/apache/tomcat/websocket/server/WsMappingResult."<init>":(Ljavax/websocket/server/ServerEndpointConfig;Ljava/util/Map;)V
      44: areturn
      45: aconst_null
      46: astore_3
      47: new           #66                 // class org/apache/tomcat/websocket/server/UriTemplate
      50: dup
      51: aload_1
      52: invokespecial #67                 // Method org/apache/tomcat/websocket/server/UriTemplate."<init>":(Ljava/lang/String;)V
      55: astore_3
      56: goto          63
      59: astore        4
      61: aconst_null
      62: areturn
      63: aload_3
      64: invokevirtual #69                 // Method org/apache/tomcat/websocket/server/UriTemplate.getSegmentCount:()I
      67: invokestatic  #70                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      70: astore        4
      72: aload_0
      73: getfield      #8                  // Field configTemplateMatchMap:Ljava/util/Map;
      76: aload         4
      78: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      83: checkcast     #72                 // class java/util/concurrent/ConcurrentSkipListMap
      86: astore        5
      88: aload         5
      90: ifnonnull     95
      93: aconst_null
      94: areturn
      95: aconst_null
      96: astore        6
      98: aconst_null
      99: astore        7
     101: aload         5
     103: invokevirtual #119                // Method java/util/concurrent/ConcurrentSkipListMap.values:()Ljava/util/Collection;
     106: invokeinterface #120,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     111: astore        8
     113: aload         8
     115: invokeinterface #121,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     120: ifeq          164
     123: aload         8
     125: invokeinterface #122,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     130: checkcast     #75                 // class org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch
     133: astore        9
     135: aload         9
     137: invokevirtual #123                // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch.getUriTemplate:()Lorg/apache/tomcat/websocket/server/UriTemplate;
     140: aload_3
     141: invokevirtual #124                // Method org/apache/tomcat/websocket/server/UriTemplate.match:(Lorg/apache/tomcat/websocket/server/UriTemplate;)Ljava/util/Map;
     144: astore        7
     146: aload         7
     148: ifnull        161
     151: aload         9
     153: invokevirtual #80                 // Method org/apache/tomcat/websocket/server/WsServerContainer$TemplatePathMatch.getConfig:()Ljavax/websocket/server/ServerEndpointConfig;
     156: astore        6
     158: goto          164
     161: goto          113
     164: aload         6
     166: ifnonnull     171
     169: aconst_null
     170: areturn
     171: new           #116                // class org/apache/tomcat/websocket/server/WsMappingResult
     174: dup
     175: aload         6
     177: aload         7
     179: invokespecial #118                // Method org/apache/tomcat/websocket/server/WsMappingResult."<init>":(Ljavax/websocket/server/ServerEndpointConfig;Ljava/util/Map;)V
     182: areturn
    Exception table:
       from    to  target type
          47    56    59   Class javax/websocket/DeploymentException

  public boolean isEnforceNoAddAfterHandshake();
    Code:
       0: aload_0
       1: getfield      #10                 // Field enforceNoAddAfterHandshake:Z
       4: ireturn

  public void setEnforceNoAddAfterHandshake(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #10                 // Field enforceNoAddAfterHandshake:Z
       5: return

  protected org.apache.tomcat.websocket.server.WsWriteTimeout getTimeout();
    Code:
       0: aload_0
       1: getfield      #4                  // Field wsWriteTimeout:Lorg/apache/tomcat/websocket/server/WsWriteTimeout;
       4: areturn

  protected void registerSession(java.lang.Object, org.apache.tomcat.websocket.WsSession);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #125                // Method org/apache/tomcat/websocket/WsWebSocketContainer.registerSession:(Ljava/lang/Object;Lorg/apache/tomcat/websocket/WsSession;)V
       6: aload_2
       7: invokevirtual #126                // Method org/apache/tomcat/websocket/WsSession.isOpen:()Z
      10: ifeq          36
      13: aload_2
      14: invokevirtual #127                // Method org/apache/tomcat/websocket/WsSession.getUserPrincipal:()Ljava/security/Principal;
      17: ifnull        36
      20: aload_2
      21: invokevirtual #128                // Method org/apache/tomcat/websocket/WsSession.getHttpSessionId:()Ljava/lang/String;
      24: ifnull        36
      27: aload_0
      28: aload_2
      29: aload_2
      30: invokevirtual #128                // Method org/apache/tomcat/websocket/WsSession.getHttpSessionId:()Ljava/lang/String;
      33: invokespecial #129                // Method registerAuthenticatedSession:(Lorg/apache/tomcat/websocket/WsSession;Ljava/lang/String;)V
      36: return

  protected void unregisterSession(java.lang.Object, org.apache.tomcat.websocket.WsSession);
    Code:
       0: aload_2
       1: invokevirtual #127                // Method org/apache/tomcat/websocket/WsSession.getUserPrincipal:()Ljava/security/Principal;
       4: ifnull        23
       7: aload_2
       8: invokevirtual #128                // Method org/apache/tomcat/websocket/WsSession.getHttpSessionId:()Ljava/lang/String;
      11: ifnull        23
      14: aload_0
      15: aload_2
      16: aload_2
      17: invokevirtual #128                // Method org/apache/tomcat/websocket/WsSession.getHttpSessionId:()Ljava/lang/String;
      20: invokespecial #130                // Method unregisterAuthenticatedSession:(Lorg/apache/tomcat/websocket/WsSession;Ljava/lang/String;)V
      23: aload_0
      24: aload_1
      25: aload_2
      26: invokespecial #131                // Method org/apache/tomcat/websocket/WsWebSocketContainer.unregisterSession:(Ljava/lang/Object;Lorg/apache/tomcat/websocket/WsSession;)V
      29: return

  private void registerAuthenticatedSession(org.apache.tomcat.websocket.WsSession, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field authenticatedSessions:Ljava/util/Map;
       4: aload_2
       5: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #132                // class java/util/Set
      13: astore_3
      14: aload_3
      15: ifnonnull     55
      18: new           #5                  // class java/util/concurrent/ConcurrentHashMap
      21: dup
      22: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      25: invokestatic  #133                // Method java/util/Collections.newSetFromMap:(Ljava/util/Map;)Ljava/util/Set;
      28: astore_3
      29: aload_0
      30: getfield      #12                 // Field authenticatedSessions:Ljava/util/Map;
      33: aload_2
      34: aload_3
      35: invokeinterface #74,  3           // InterfaceMethod java/util/Map.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      40: pop
      41: aload_0
      42: getfield      #12                 // Field authenticatedSessions:Ljava/util/Map;
      45: aload_2
      46: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      51: checkcast     #132                // class java/util/Set
      54: astore_3
      55: aload_3
      56: aload_1
      57: invokeinterface #134,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      62: pop
      63: return

  private void unregisterAuthenticatedSession(org.apache.tomcat.websocket.WsSession, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field authenticatedSessions:Ljava/util/Map;
       4: aload_2
       5: invokeinterface #71,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #132                // class java/util/Set
      13: astore_3
      14: aload_3
      15: ifnull        26
      18: aload_3
      19: aload_1
      20: invokeinterface #135,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      25: pop
      26: return

  public void closeAuthenticatedSession(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field authenticatedSessions:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #136,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #132                // class java/util/Set
      13: astore_2
      14: aload_2
      15: ifnull        70
      18: aload_2
      19: invokeinterface #137,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      24: ifne          70
      27: aload_2
      28: invokeinterface #138,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      33: astore_3
      34: aload_3
      35: invokeinterface #121,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      40: ifeq          70
      43: aload_3
      44: invokeinterface #122,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      49: checkcast     #139                // class org/apache/tomcat/websocket/WsSession
      52: astore        4
      54: aload         4
      56: getstatic     #140                // Field AUTHENTICATED_HTTP_SESSION_CLOSED:Ljavax/websocket/CloseReason;
      59: invokevirtual #141                // Method org/apache/tomcat/websocket/WsSession.close:(Ljavax/websocket/CloseReason;)V
      62: goto          67
      65: astore        5
      67: goto          34
      70: return
    Exception table:
       from    to  target type
          54    62    65   Class java/io/IOException

  private static void validateEncoders(java.lang.Class<? extends javax.websocket.Encoder>[]) throws javax.websocket.DeploymentException;
    Code:
       0: aload_0
       1: astore_1
       2: aload_1
       3: arraylength
       4: istore_2
       5: iconst_0
       6: istore_3
       7: iload_3
       8: iload_2
       9: if_icmpge     75
      12: aload_1
      13: iload_3
      14: aaload
      15: astore        4
      17: aload         4
      19: iconst_0
      20: anewarray     #98                 // class java/lang/Class
      23: invokevirtual #99                 // Method java/lang/Class.getConstructor:([Ljava/lang/Class;)Ljava/lang/reflect/Constructor;
      26: iconst_0
      27: anewarray     #49                 // class java/lang/Object
      30: invokevirtual #100                // Method java/lang/reflect/Constructor.newInstance:([Ljava/lang/Object;)Ljava/lang/Object;
      33: pop
      34: goto          69
      37: astore        6
      39: new           #42                 // class javax/websocket/DeploymentException
      42: dup
      43: getstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      46: ldc           #143                // String serverContainer.encoderFail
      48: iconst_1
      49: anewarray     #49                 // class java/lang/Object
      52: dup
      53: iconst_0
      54: aload         4
      56: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
      59: aastore
      60: invokevirtual #52                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      63: aload         6
      65: invokespecial #104                // Method javax/websocket/DeploymentException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      68: athrow
      69: iinc          3, 1
      72: goto          7
      75: return
    Exception table:
       from    to  target type
          17    34    37   Class java/lang/ReflectiveOperationException

  static {};
    Code:
       0: ldc           #144                // class org/apache/tomcat/websocket/server/WsServerContainer
       2: invokestatic  #145                // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/Class;)Lorg/apache/tomcat/util/res/StringManager;
       5: putstatic     #43                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
       8: new           #146                // class javax/websocket/CloseReason
      11: dup
      12: getstatic     #147                // Field javax/websocket/CloseReason$CloseCodes.VIOLATED_POLICY:Ljavax/websocket/CloseReason$CloseCodes;
      15: ldc           #148                // String This connection was established under an authenticated HTTP session that has ended.
      17: invokespecial #149                // Method javax/websocket/CloseReason."<init>":(Ljavax/websocket/CloseReason$CloseCode;Ljava/lang/String;)V
      20: putstatic     #140                // Field AUTHENTICATED_HTTP_SESSION_CLOSED:Ljavax/websocket/CloseReason;
      23: return
}
