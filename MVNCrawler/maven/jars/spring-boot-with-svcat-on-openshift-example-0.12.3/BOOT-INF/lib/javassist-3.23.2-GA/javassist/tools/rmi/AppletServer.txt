Compiled from "AppletServer.java"
public class javassist.tools.rmi.AppletServer extends javassist.tools.web.Webserver {
  private javassist.tools.rmi.StubGenerator stubGen;

  private java.util.Map<java.lang.String, javassist.tools.rmi.ExportedObject> exportedNames;

  private java.util.List<javassist.tools.rmi.ExportedObject> exportedObjects;

  private static final byte[] okHeader;

  public javassist.tools.rmi.AppletServer(java.lang.String) throws java.io.IOException, javassist.NotFoundException, javassist.CannotCompileException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #1                  // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
       5: invokespecial #2                  // Method "<init>":(I)V
       8: return

  public javassist.tools.rmi.AppletServer(int) throws java.io.IOException, javassist.NotFoundException, javassist.CannotCompileException;
    Code:
       0: aload_0
       1: invokestatic  #3                  // Method javassist/ClassPool.getDefault:()Ljavassist/ClassPool;
       4: new           #4                  // class javassist/tools/rmi/StubGenerator
       7: dup
       8: invokespecial #5                  // Method javassist/tools/rmi/StubGenerator."<init>":()V
      11: iload_1
      12: invokespecial #6                  // Method "<init>":(Ljavassist/ClassPool;Ljavassist/tools/rmi/StubGenerator;I)V
      15: return

  public javassist.tools.rmi.AppletServer(int, javassist.ClassPool) throws java.io.IOException, javassist.NotFoundException, javassist.CannotCompileException;
    Code:
       0: aload_0
       1: new           #7                  // class javassist/ClassPool
       4: dup
       5: aload_2
       6: invokespecial #8                  // Method javassist/ClassPool."<init>":(Ljavassist/ClassPool;)V
       9: new           #4                  // class javassist/tools/rmi/StubGenerator
      12: dup
      13: invokespecial #5                  // Method javassist/tools/rmi/StubGenerator."<init>":()V
      16: iload_1
      17: invokespecial #6                  // Method "<init>":(Ljavassist/ClassPool;Ljavassist/tools/rmi/StubGenerator;I)V
      20: return

  private javassist.tools.rmi.AppletServer(javassist.ClassPool, javassist.tools.rmi.StubGenerator, int) throws java.io.IOException, javassist.NotFoundException, javassist.CannotCompileException;
    Code:
       0: aload_0
       1: iload_3
       2: invokespecial #9                  // Method javassist/tools/web/Webserver."<init>":(I)V
       5: aload_0
       6: new           #10                 // class java/util/Hashtable
       9: dup
      10: invokespecial #11                 // Method java/util/Hashtable."<init>":()V
      13: putfield      #12                 // Field exportedNames:Ljava/util/Map;
      16: aload_0
      17: new           #13                 // class java/util/Vector
      20: dup
      21: invokespecial #14                 // Method java/util/Vector."<init>":()V
      24: putfield      #15                 // Field exportedObjects:Ljava/util/List;
      27: aload_0
      28: aload_2
      29: putfield      #16                 // Field stubGen:Ljavassist/tools/rmi/StubGenerator;
      32: aload_0
      33: aload_1
      34: aload_2
      35: invokevirtual #17                 // Method addTranslator:(Ljavassist/ClassPool;Ljavassist/Translator;)V
      38: return

  public void run();
    Code:
       0: aload_0
       1: invokespecial #18                 // Method javassist/tools/web/Webserver.run:()V
       4: return

  public synchronized int exportObject(java.lang.String, java.lang.Object) throws javassist.CannotCompileException;
    Code:
       0: aload_2
       1: invokevirtual #19                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: astore_3
       5: new           #20                 // class javassist/tools/rmi/ExportedObject
       8: dup
       9: invokespecial #21                 // Method javassist/tools/rmi/ExportedObject."<init>":()V
      12: astore        4
      14: aload         4
      16: aload_2
      17: putfield      #22                 // Field javassist/tools/rmi/ExportedObject.object:Ljava/lang/Object;
      20: aload         4
      22: aload_3
      23: invokevirtual #23                 // Method java/lang/Class.getMethods:()[Ljava/lang/reflect/Method;
      26: putfield      #24                 // Field javassist/tools/rmi/ExportedObject.methods:[Ljava/lang/reflect/Method;
      29: aload_0
      30: getfield      #15                 // Field exportedObjects:Ljava/util/List;
      33: aload         4
      35: invokeinterface #25,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      40: pop
      41: aload         4
      43: aload_0
      44: getfield      #15                 // Field exportedObjects:Ljava/util/List;
      47: invokeinterface #26,  1           // InterfaceMethod java/util/List.size:()I
      52: iconst_1
      53: isub
      54: putfield      #27                 // Field javassist/tools/rmi/ExportedObject.identifier:I
      57: aload_1
      58: ifnull        74
      61: aload_0
      62: getfield      #12                 // Field exportedNames:Ljava/util/Map;
      65: aload_1
      66: aload         4
      68: invokeinterface #28,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      73: pop
      74: aload_0
      75: getfield      #16                 // Field stubGen:Ljavassist/tools/rmi/StubGenerator;
      78: aload_3
      79: invokevirtual #29                 // Method javassist/tools/rmi/StubGenerator.makeProxyClass:(Ljava/lang/Class;)Z
      82: pop
      83: goto          98
      86: astore        5
      88: new           #31                 // class javassist/CannotCompileException
      91: dup
      92: aload         5
      94: invokespecial #32                 // Method javassist/CannotCompileException."<init>":(Ljavassist/NotFoundException;)V
      97: athrow
      98: aload         4
     100: getfield      #27                 // Field javassist/tools/rmi/ExportedObject.identifier:I
     103: ireturn
    Exception table:
       from    to  target type
          74    83    86   Class javassist/NotFoundException

  public void doReply(java.io.InputStream, java.io.OutputStream, java.lang.String) throws java.io.IOException, javassist.tools.web.BadHttpRequest;
    Code:
       0: aload_3
       1: ldc           #33                 // String POST /rmi
       3: invokevirtual #34                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
       6: ifeq          18
       9: aload_0
      10: aload_1
      11: aload_2
      12: invokespecial #35                 // Method processRMI:(Ljava/io/InputStream;Ljava/io/OutputStream;)V
      15: goto          44
      18: aload_3
      19: ldc           #36                 // String POST /lookup
      21: invokevirtual #34                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      24: ifeq          37
      27: aload_0
      28: aload_3
      29: aload_1
      30: aload_2
      31: invokespecial #37                 // Method lookupName:(Ljava/lang/String;Ljava/io/InputStream;Ljava/io/OutputStream;)V
      34: goto          44
      37: aload_0
      38: aload_1
      39: aload_2
      40: aload_3
      41: invokespecial #38                 // Method javassist/tools/web/Webserver.doReply:(Ljava/io/InputStream;Ljava/io/OutputStream;Ljava/lang/String;)V
      44: return

  private void processRMI(java.io.InputStream, java.io.OutputStream) throws java.io.IOException;
    Code:
       0: new           #39                 // class java/io/ObjectInputStream
       3: dup
       4: aload_1
       5: invokespecial #40                 // Method java/io/ObjectInputStream."<init>":(Ljava/io/InputStream;)V
       8: astore_3
       9: aload_3
      10: invokevirtual #41                 // Method java/io/ObjectInputStream.readInt:()I
      13: istore        4
      15: aload_3
      16: invokevirtual #41                 // Method java/io/ObjectInputStream.readInt:()I
      19: istore        5
      21: aconst_null
      22: astore        6
      24: aconst_null
      25: astore        7
      27: aload_0
      28: getfield      #15                 // Field exportedObjects:Ljava/util/List;
      31: iload         4
      33: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      38: checkcast     #20                 // class javassist/tools/rmi/ExportedObject
      41: astore        8
      43: aload_0
      44: aload_3
      45: invokespecial #43                 // Method readParameters:(Ljava/io/ObjectInputStream;)[Ljava/lang/Object;
      48: astore        9
      50: aload_0
      51: aload         8
      53: getfield      #24                 // Field javassist/tools/rmi/ExportedObject.methods:[Ljava/lang/reflect/Method;
      56: iload         5
      58: aaload
      59: aload         8
      61: getfield      #22                 // Field javassist/tools/rmi/ExportedObject.object:Ljava/lang/Object;
      64: aload         9
      66: invokevirtual #44                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      69: invokespecial #45                 // Method convertRvalue:(Ljava/lang/Object;)Ljava/lang/Object;
      72: astore        7
      74: goto          92
      77: astore        8
      79: aload         8
      81: astore        6
      83: aload_0
      84: aload         8
      86: invokevirtual #47                 // Method java/lang/Exception.toString:()Ljava/lang/String;
      89: invokevirtual #48                 // Method logging2:(Ljava/lang/String;)V
      92: aload_2
      93: getstatic     #49                 // Field okHeader:[B
      96: invokevirtual #50                 // Method java/io/OutputStream.write:([B)V
      99: new           #51                 // class java/io/ObjectOutputStream
     102: dup
     103: aload_2
     104: invokespecial #52                 // Method java/io/ObjectOutputStream."<init>":(Ljava/io/OutputStream;)V
     107: astore        8
     109: aload         6
     111: ifnull        133
     114: aload         8
     116: iconst_0
     117: invokevirtual #53                 // Method java/io/ObjectOutputStream.writeBoolean:(Z)V
     120: aload         8
     122: aload         6
     124: invokevirtual #47                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     127: invokevirtual #54                 // Method java/io/ObjectOutputStream.writeUTF:(Ljava/lang/String;)V
     130: goto          174
     133: aload         8
     135: iconst_1
     136: invokevirtual #53                 // Method java/io/ObjectOutputStream.writeBoolean:(Z)V
     139: aload         8
     141: aload         7
     143: invokevirtual #55                 // Method java/io/ObjectOutputStream.writeObject:(Ljava/lang/Object;)V
     146: goto          174
     149: astore        9
     151: aload_0
     152: aload         9
     154: invokevirtual #57                 // Method java/io/NotSerializableException.toString:()Ljava/lang/String;
     157: invokevirtual #48                 // Method logging2:(Ljava/lang/String;)V
     160: goto          174
     163: astore        9
     165: aload_0
     166: aload         9
     168: invokevirtual #59                 // Method java/io/InvalidClassException.toString:()Ljava/lang/String;
     171: invokevirtual #48                 // Method logging2:(Ljava/lang/String;)V
     174: aload         8
     176: invokevirtual #60                 // Method java/io/ObjectOutputStream.flush:()V
     179: aload         8
     181: invokevirtual #61                 // Method java/io/ObjectOutputStream.close:()V
     184: aload_3
     185: invokevirtual #62                 // Method java/io/ObjectInputStream.close:()V
     188: return
    Exception table:
       from    to  target type
          27    74    77   Class java/lang/Exception
         133   146   149   Class java/io/NotSerializableException
         133   146   163   Class java/io/InvalidClassException

  private java.lang.Object[] readParameters(java.io.ObjectInputStream) throws java.io.IOException, java.lang.ClassNotFoundException;
    Code:
       0: aload_1
       1: invokevirtual #41                 // Method java/io/ObjectInputStream.readInt:()I
       4: istore_2
       5: iload_2
       6: anewarray     #63                 // class java/lang/Object
       9: astore_3
      10: iconst_0
      11: istore        4
      13: iload         4
      15: iload_2
      16: if_icmpge     78
      19: aload_1
      20: invokevirtual #64                 // Method java/io/ObjectInputStream.readObject:()Ljava/lang/Object;
      23: astore        5
      25: aload         5
      27: instanceof    #65                 // class javassist/tools/rmi/RemoteRef
      30: ifeq          66
      33: aload         5
      35: checkcast     #65                 // class javassist/tools/rmi/RemoteRef
      38: astore        6
      40: aload_0
      41: getfield      #15                 // Field exportedObjects:Ljava/util/List;
      44: aload         6
      46: getfield      #66                 // Field javassist/tools/rmi/RemoteRef.oid:I
      49: invokeinterface #42,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      54: checkcast     #20                 // class javassist/tools/rmi/ExportedObject
      57: astore        7
      59: aload         7
      61: getfield      #22                 // Field javassist/tools/rmi/ExportedObject.object:Ljava/lang/Object;
      64: astore        5
      66: aload_3
      67: iload         4
      69: aload         5
      71: aastore
      72: iinc          4, 1
      75: goto          13
      78: aload_3
      79: areturn

  private java.lang.Object convertRvalue(java.lang.Object) throws javassist.CannotCompileException;
    Code:
       0: aload_1
       1: ifnonnull     6
       4: aconst_null
       5: areturn
       6: aload_1
       7: invokevirtual #19                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      10: invokevirtual #67                 // Method java/lang/Class.getName:()Ljava/lang/String;
      13: astore_2
      14: aload_0
      15: getfield      #16                 // Field stubGen:Ljavassist/tools/rmi/StubGenerator;
      18: aload_2
      19: invokevirtual #68                 // Method javassist/tools/rmi/StubGenerator.isProxyClass:(Ljava/lang/String;)Z
      22: ifeq          40
      25: new           #65                 // class javassist/tools/rmi/RemoteRef
      28: dup
      29: aload_0
      30: aconst_null
      31: aload_1
      32: invokevirtual #69                 // Method exportObject:(Ljava/lang/String;Ljava/lang/Object;)I
      35: aload_2
      36: invokespecial #70                 // Method javassist/tools/rmi/RemoteRef."<init>":(ILjava/lang/String;)V
      39: areturn
      40: aload_1
      41: areturn

  private void lookupName(java.lang.String, java.io.InputStream, java.io.OutputStream) throws java.io.IOException;
    Code:
       0: new           #39                 // class java/io/ObjectInputStream
       3: dup
       4: aload_2
       5: invokespecial #40                 // Method java/io/ObjectInputStream."<init>":(Ljava/io/InputStream;)V
       8: astore        4
      10: aload         4
      12: invokestatic  #71                 // Method java/io/DataInputStream.readUTF:(Ljava/io/DataInput;)Ljava/lang/String;
      15: astore        5
      17: aload_0
      18: getfield      #12                 // Field exportedNames:Ljava/util/Map;
      21: aload         5
      23: invokeinterface #72,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      28: checkcast     #20                 // class javassist/tools/rmi/ExportedObject
      31: astore        6
      33: aload_3
      34: getstatic     #49                 // Field okHeader:[B
      37: invokevirtual #50                 // Method java/io/OutputStream.write:([B)V
      40: new           #51                 // class java/io/ObjectOutputStream
      43: dup
      44: aload_3
      45: invokespecial #52                 // Method java/io/ObjectOutputStream."<init>":(Ljava/io/OutputStream;)V
      48: astore        7
      50: aload         6
      52: ifnonnull     95
      55: aload_0
      56: new           #73                 // class java/lang/StringBuilder
      59: dup
      60: invokespecial #74                 // Method java/lang/StringBuilder."<init>":()V
      63: aload         5
      65: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: ldc           #76                 // String not found.
      70: invokevirtual #75                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: invokevirtual #77                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      76: invokevirtual #48                 // Method logging2:(Ljava/lang/String;)V
      79: aload         7
      81: iconst_m1
      82: invokevirtual #78                 // Method java/io/ObjectOutputStream.writeInt:(I)V
      85: aload         7
      87: ldc           #79                 // String error
      89: invokevirtual #54                 // Method java/io/ObjectOutputStream.writeUTF:(Ljava/lang/String;)V
      92: goto          127
      95: aload_0
      96: aload         5
      98: invokevirtual #48                 // Method logging2:(Ljava/lang/String;)V
     101: aload         7
     103: aload         6
     105: getfield      #27                 // Field javassist/tools/rmi/ExportedObject.identifier:I
     108: invokevirtual #78                 // Method java/io/ObjectOutputStream.writeInt:(I)V
     111: aload         7
     113: aload         6
     115: getfield      #22                 // Field javassist/tools/rmi/ExportedObject.object:Ljava/lang/Object;
     118: invokevirtual #19                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     121: invokevirtual #67                 // Method java/lang/Class.getName:()Ljava/lang/String;
     124: invokevirtual #54                 // Method java/io/ObjectOutputStream.writeUTF:(Ljava/lang/String;)V
     127: aload         7
     129: invokevirtual #60                 // Method java/io/ObjectOutputStream.flush:()V
     132: aload         7
     134: invokevirtual #61                 // Method java/io/ObjectOutputStream.close:()V
     137: aload         4
     139: invokevirtual #62                 // Method java/io/ObjectInputStream.close:()V
     142: return

  static {};
    Code:
       0: ldc           #80                 // String HTTP/1.0 200 OK\r\n\r\n
       2: invokevirtual #81                 // Method java/lang/String.getBytes:()[B
       5: putstatic     #49                 // Field okHeader:[B
       8: return
}
