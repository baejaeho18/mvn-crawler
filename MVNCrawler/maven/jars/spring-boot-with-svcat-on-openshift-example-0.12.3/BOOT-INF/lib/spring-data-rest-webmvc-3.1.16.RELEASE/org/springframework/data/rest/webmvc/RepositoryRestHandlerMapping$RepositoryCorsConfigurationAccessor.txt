Compiled from "RepositoryRestHandlerMapping.java"
class org.springframework.data.rest.webmvc.RepositoryRestHandlerMapping$RepositoryCorsConfigurationAccessor {
  private final org.springframework.data.rest.core.mapping.ResourceMappings mappings;

  private final org.springframework.util.StringValueResolver embeddedValueResolver;

  private final java.util.Optional<org.springframework.data.repository.support.Repositories> repositories;

  java.util.Optional<org.springframework.web.cors.CorsConfiguration> findCorsConfiguration(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #1                  // Method org/springframework/data/rest/webmvc/RepositoryRestHandlerMapping.access$000:(Ljava/lang/String;)Ljava/lang/String;
       5: invokespecial #2                  // Method getResourceMetadata:(Ljava/lang/String;)Ljava/util/Optional;
       8: aload_0
       9: invokedynamic #3,  0              // InvokeDynamic #0:apply:(Lorg/springframework/data/rest/webmvc/RepositoryRestHandlerMapping$RepositoryCorsConfigurationAccessor;)Ljava/util/function/Function;
      14: invokevirtual #4                  // Method java/util/Optional.flatMap:(Ljava/util/function/Function;)Ljava/util/Optional;
      17: invokedynamic #5,  0              // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      22: invokevirtual #6                  // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      25: aload_0
      26: invokedynamic #7,  0              // InvokeDynamic #2:apply:(Lorg/springframework/data/rest/webmvc/RepositoryRestHandlerMapping$RepositoryCorsConfigurationAccessor;)Ljava/util/function/Function;
      31: invokevirtual #6                  // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      34: areturn

  private java.util.Optional<org.springframework.data.rest.core.mapping.ResourceMetadata> getResourceMetadata(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #8                  // Field mappings:Lorg/springframework/data/rest/core/mapping/ResourceMappings;
       4: aload_1
       5: invokeinterface #9,  2            // InterfaceMethod org/springframework/data/rest/core/mapping/ResourceMappings.exportsTopLevelResourceFor:(Ljava/lang/String;)Z
      10: ifne          17
      13: invokestatic  #10                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      16: areturn
      17: aload_0
      18: getfield      #8                  // Field mappings:Lorg/springframework/data/rest/core/mapping/ResourceMappings;
      21: invokeinterface #11,  1           // InterfaceMethod org/springframework/data/rest/core/mapping/ResourceMappings.stream:()Ljava/util/stream/Stream;
      26: aload_1
      27: invokedynamic #12,  0             // InvokeDynamic #3:test:(Ljava/lang/String;)Ljava/util/function/Predicate;
      32: invokeinterface #13,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      37: invokeinterface #14,  1           // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
      42: areturn

  protected org.springframework.web.cors.CorsConfiguration createConfiguration(java.lang.Class<?>);
    Code:
       0: aload_1
       1: ldc           #15                 // class org/springframework/web/bind/annotation/CrossOrigin
       3: invokestatic  #16                 // Method org/springframework/core/annotation/AnnotatedElementUtils.findMergedAnnotation:(Ljava/lang/reflect/AnnotatedElement;Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
       6: checkcast     #15                 // class org/springframework/web/bind/annotation/CrossOrigin
       9: astore_2
      10: aload_2
      11: ifnonnull     16
      14: aconst_null
      15: areturn
      16: new           #17                 // class org/springframework/web/cors/CorsConfiguration
      19: dup
      20: invokespecial #18                 // Method org/springframework/web/cors/CorsConfiguration."<init>":()V
      23: astore_3
      24: aload_0
      25: aload_3
      26: aload_2
      27: invokespecial #19                 // Method updateCorsConfig:(Lorg/springframework/web/cors/CorsConfiguration;Lorg/springframework/web/bind/annotation/CrossOrigin;)V
      30: aload_3
      31: invokevirtual #20                 // Method org/springframework/web/cors/CorsConfiguration.getAllowedOrigins:()Ljava/util/List;
      34: invokestatic  #21                 // Method org/springframework/util/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      37: ifeq          50
      40: aload_3
      41: getstatic     #22                 // Field org/springframework/web/bind/annotation/CrossOrigin.DEFAULT_ORIGINS:[Ljava/lang/String;
      44: invokestatic  #23                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      47: invokevirtual #24                 // Method org/springframework/web/cors/CorsConfiguration.setAllowedOrigins:(Ljava/util/List;)V
      50: aload_3
      51: invokevirtual #25                 // Method org/springframework/web/cors/CorsConfiguration.getAllowedMethods:()Ljava/util/List;
      54: invokestatic  #21                 // Method org/springframework/util/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      57: ifeq          99
      60: invokestatic  #26                 // Method org/springframework/http/HttpMethod.values:()[Lorg/springframework/http/HttpMethod;
      63: astore        4
      65: aload         4
      67: arraylength
      68: istore        5
      70: iconst_0
      71: istore        6
      73: iload         6
      75: iload         5
      77: if_icmpge     99
      80: aload         4
      82: iload         6
      84: aaload
      85: astore        7
      87: aload_3
      88: aload         7
      90: invokevirtual #27                 // Method org/springframework/web/cors/CorsConfiguration.addAllowedMethod:(Lorg/springframework/http/HttpMethod;)V
      93: iinc          6, 1
      96: goto          73
      99: aload_3
     100: invokevirtual #28                 // Method org/springframework/web/cors/CorsConfiguration.getAllowedHeaders:()Ljava/util/List;
     103: invokestatic  #21                 // Method org/springframework/util/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
     106: ifeq          119
     109: aload_3
     110: getstatic     #29                 // Field org/springframework/web/bind/annotation/CrossOrigin.DEFAULT_ALLOWED_HEADERS:[Ljava/lang/String;
     113: invokestatic  #23                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     116: invokevirtual #30                 // Method org/springframework/web/cors/CorsConfiguration.setAllowedHeaders:(Ljava/util/List;)V
     119: aload_3
     120: invokevirtual #31                 // Method org/springframework/web/cors/CorsConfiguration.getAllowCredentials:()Ljava/lang/Boolean;
     123: ifnonnull     134
     126: aload_3
     127: iconst_0
     128: invokestatic  #32                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     131: invokevirtual #33                 // Method org/springframework/web/cors/CorsConfiguration.setAllowCredentials:(Ljava/lang/Boolean;)V
     134: aload_3
     135: invokevirtual #34                 // Method org/springframework/web/cors/CorsConfiguration.getMaxAge:()Ljava/lang/Long;
     138: ifnonnull     151
     141: aload_3
     142: ldc2_w        #35                 // long 1800l
     145: invokestatic  #37                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     148: invokevirtual #38                 // Method org/springframework/web/cors/CorsConfiguration.setMaxAge:(Ljava/lang/Long;)V
     151: aload_3
     152: areturn

  private void updateCorsConfig(org.springframework.web.cors.CorsConfiguration, org.springframework.web.bind.annotation.CrossOrigin);
    Code:
       0: aload_2
       1: invokeinterface #39,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.origins:()[Ljava/lang/String;
       6: astore_3
       7: aload_3
       8: arraylength
       9: istore        4
      11: iconst_0
      12: istore        5
      14: iload         5
      16: iload         4
      18: if_icmpge     43
      21: aload_3
      22: iload         5
      24: aaload
      25: astore        6
      27: aload_1
      28: aload_0
      29: aload         6
      31: invokespecial #40                 // Method resolveCorsAnnotationValue:(Ljava/lang/String;)Ljava/lang/String;
      34: invokevirtual #41                 // Method org/springframework/web/cors/CorsConfiguration.addAllowedOrigin:(Ljava/lang/String;)V
      37: iinc          5, 1
      40: goto          14
      43: aload_2
      44: invokeinterface #42,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.methods:()[Lorg/springframework/web/bind/annotation/RequestMethod;
      49: astore_3
      50: aload_3
      51: arraylength
      52: istore        4
      54: iconst_0
      55: istore        5
      57: iload         5
      59: iload         4
      61: if_icmpge     85
      64: aload_3
      65: iload         5
      67: aaload
      68: astore        6
      70: aload_1
      71: aload         6
      73: invokevirtual #43                 // Method org/springframework/web/bind/annotation/RequestMethod.name:()Ljava/lang/String;
      76: invokevirtual #44                 // Method org/springframework/web/cors/CorsConfiguration.addAllowedMethod:(Ljava/lang/String;)V
      79: iinc          5, 1
      82: goto          57
      85: aload_2
      86: invokeinterface #45,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.allowedHeaders:()[Ljava/lang/String;
      91: astore_3
      92: aload_3
      93: arraylength
      94: istore        4
      96: iconst_0
      97: istore        5
      99: iload         5
     101: iload         4
     103: if_icmpge     128
     106: aload_3
     107: iload         5
     109: aaload
     110: astore        6
     112: aload_1
     113: aload_0
     114: aload         6
     116: invokespecial #40                 // Method resolveCorsAnnotationValue:(Ljava/lang/String;)Ljava/lang/String;
     119: invokevirtual #46                 // Method org/springframework/web/cors/CorsConfiguration.addAllowedHeader:(Ljava/lang/String;)V
     122: iinc          5, 1
     125: goto          99
     128: aload_2
     129: invokeinterface #47,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.exposedHeaders:()[Ljava/lang/String;
     134: astore_3
     135: aload_3
     136: arraylength
     137: istore        4
     139: iconst_0
     140: istore        5
     142: iload         5
     144: iload         4
     146: if_icmpge     171
     149: aload_3
     150: iload         5
     152: aaload
     153: astore        6
     155: aload_1
     156: aload_0
     157: aload         6
     159: invokespecial #40                 // Method resolveCorsAnnotationValue:(Ljava/lang/String;)Ljava/lang/String;
     162: invokevirtual #48                 // Method org/springframework/web/cors/CorsConfiguration.addExposedHeader:(Ljava/lang/String;)V
     165: iinc          5, 1
     168: goto          142
     171: aload_0
     172: aload_2
     173: invokeinterface #49,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.allowCredentials:()Ljava/lang/String;
     178: invokespecial #40                 // Method resolveCorsAnnotationValue:(Ljava/lang/String;)Ljava/lang/String;
     181: astore_3
     182: ldc           #50                 // String true
     184: aload_3
     185: invokevirtual #51                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
     188: ifeq          202
     191: aload_1
     192: iconst_1
     193: invokestatic  #32                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     196: invokevirtual #33                 // Method org/springframework/web/cors/CorsConfiguration.setAllowCredentials:(Ljava/lang/Boolean;)V
     199: goto          261
     202: ldc           #52                 // String false
     204: aload_3
     205: invokevirtual #51                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
     208: ifeq          222
     211: aload_1
     212: iconst_0
     213: invokestatic  #32                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     216: invokevirtual #33                 // Method org/springframework/web/cors/CorsConfiguration.setAllowCredentials:(Ljava/lang/Boolean;)V
     219: goto          261
     222: aload_3
     223: invokevirtual #53                 // Method java/lang/String.isEmpty:()Z
     226: ifne          261
     229: new           #54                 // class java/lang/IllegalStateException
     232: dup
     233: new           #55                 // class java/lang/StringBuilder
     236: dup
     237: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
     240: ldc           #57                 // String @CrossOrigin\'s allowCredentials value must be \"true\", \"false\", or an empty string (\"\"): current value is [
     242: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     245: aload_3
     246: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: ldc           #59                 // String ]
     251: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     254: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     257: invokespecial #61                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     260: athrow
     261: aload_2
     262: invokeinterface #62,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.maxAge:()J
     267: lconst_0
     268: lcmp
     269: iflt          292
     272: aload_1
     273: invokevirtual #34                 // Method org/springframework/web/cors/CorsConfiguration.getMaxAge:()Ljava/lang/Long;
     276: ifnonnull     292
     279: aload_1
     280: aload_2
     281: invokeinterface #62,  1           // InterfaceMethod org/springframework/web/bind/annotation/CrossOrigin.maxAge:()J
     286: invokestatic  #37                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     289: invokevirtual #38                 // Method org/springframework/web/cors/CorsConfiguration.setMaxAge:(Ljava/lang/Long;)V
     292: return

  private java.lang.String resolveCorsAnnotationValue(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #63                 // Field embeddedValueResolver:Lorg/springframework/util/StringValueResolver;
       4: aload_1
       5: invokeinterface #64,  2           // InterfaceMethod org/springframework/util/StringValueResolver.resolveStringValue:(Ljava/lang/String;)Ljava/lang/String;
      10: areturn

  public org.springframework.data.rest.webmvc.RepositoryRestHandlerMapping$RepositoryCorsConfigurationAccessor(org.springframework.data.rest.core.mapping.ResourceMappings, org.springframework.util.StringValueResolver, java.util.Optional<org.springframework.data.repository.support.Repositories>);
    Code:
       0: aload_0
       1: invokespecial #65                 // Method java/lang/Object."<init>":()V
       4: aload_1
       5: ifnonnull     18
       8: new           #66                 // class java/lang/IllegalArgumentException
      11: dup
      12: ldc           #67                 // String mappings is marked non-null but is null
      14: invokespecial #68                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      17: athrow
      18: aload_2
      19: ifnonnull     32
      22: new           #66                 // class java/lang/IllegalArgumentException
      25: dup
      26: ldc           #69                 // String embeddedValueResolver is marked non-null but is null
      28: invokespecial #68                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      31: athrow
      32: aload_3
      33: ifnonnull     46
      36: new           #66                 // class java/lang/IllegalArgumentException
      39: dup
      40: ldc           #70                 // String repositories is marked non-null but is null
      42: invokespecial #68                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      45: athrow
      46: aload_0
      47: aload_1
      48: putfield      #8                  // Field mappings:Lorg/springframework/data/rest/core/mapping/ResourceMappings;
      51: aload_0
      52: aload_2
      53: putfield      #63                 // Field embeddedValueResolver:Lorg/springframework/util/StringValueResolver;
      56: aload_0
      57: aload_3
      58: putfield      #71                 // Field repositories:Ljava/util/Optional;
      61: return

  private static boolean lambda$getResourceMetadata$4(java.lang.String, org.springframework.data.rest.core.mapping.ResourceMetadata);
    Code:
       0: aload_1
       1: invokeinterface #72,  1           // InterfaceMethod org/springframework/data/rest/core/mapping/ResourceMetadata.getPath:()Lorg/springframework/data/rest/core/Path;
       6: aload_0
       7: invokevirtual #73                 // Method org/springframework/data/rest/core/Path.matches:(Ljava/lang/String;)Z
      10: ifeq          26
      13: aload_1
      14: invokeinterface #74,  1           // InterfaceMethod org/springframework/data/rest/core/mapping/ResourceMetadata.isExported:()Z
      19: ifeq          26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ireturn

  private org.springframework.web.cors.CorsConfiguration lambda$findCorsConfiguration$3(java.lang.Class);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #75                 // Method createConfiguration:(Ljava/lang/Class;)Lorg/springframework/web/cors/CorsConfiguration;
       5: areturn

  private static java.lang.Class lambda$findCorsConfiguration$2(org.springframework.data.repository.core.RepositoryInformation);
    Code:
       0: aload_0
       1: invokeinterface #76,  1           // InterfaceMethod org/springframework/data/repository/core/RepositoryInformation.getRepositoryInterface:()Ljava/lang/Class;
       6: areturn

  private java.util.Optional lambda$findCorsConfiguration$1(org.springframework.data.rest.core.mapping.ResourceMetadata);
    Code:
       0: aload_0
       1: getfield      #71                 // Field repositories:Ljava/util/Optional;
       4: aload_1
       5: invokedynamic #77,  0             // InvokeDynamic #4:apply:(Lorg/springframework/data/rest/core/mapping/ResourceMetadata;)Ljava/util/function/Function;
      10: invokevirtual #4                  // Method java/util/Optional.flatMap:(Ljava/util/function/Function;)Ljava/util/Optional;
      13: areturn

  private static java.util.Optional lambda$null$0(org.springframework.data.rest.core.mapping.ResourceMetadata, org.springframework.data.repository.support.Repositories);
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #78,  1           // InterfaceMethod org/springframework/data/rest/core/mapping/ResourceMetadata.getDomainType:()Ljava/lang/Class;
       7: invokevirtual #79                 // Method org/springframework/data/repository/support/Repositories.getRepositoryInformationFor:(Ljava/lang/Class;)Ljava/util/Optional;
      10: areturn
}
