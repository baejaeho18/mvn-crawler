Compiled from "MemoryUserDatabase.java"
public class org.apache.catalina.users.MemoryUserDatabase implements org.apache.catalina.UserDatabase {
  private static final org.apache.juli.logging.Log log;

  private static final org.apache.tomcat.util.res.StringManager sm;

  protected final java.util.Map<java.lang.String, org.apache.catalina.Group> groups;

  protected final java.lang.String id;

  protected java.lang.String pathname;

  protected java.lang.String pathnameOld;

  protected java.lang.String pathnameNew;

  protected boolean readonly;

  protected final java.util.Map<java.lang.String, org.apache.catalina.Role> roles;

  protected final java.util.Map<java.lang.String, org.apache.catalina.User> users;

  private final java.util.concurrent.locks.ReentrantReadWriteLock dbLock;

  private final java.util.concurrent.locks.Lock readLock;

  private final java.util.concurrent.locks.Lock writeLock;

  private volatile long lastModified;

  private boolean watchSource;

  public org.apache.catalina.users.MemoryUserDatabase();
    Code:
       0: aload_0
       1: aconst_null
       2: invokespecial #1                  // Method "<init>":(Ljava/lang/String;)V
       5: return

  public org.apache.catalina.users.MemoryUserDatabase(java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #4                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #5                  // Field groups:Ljava/util/Map;
      15: aload_0
      16: ldc           #6                  // String conf/tomcat-users.xml
      18: putfield      #7                  // Field pathname:Ljava/lang/String;
      21: aload_0
      22: new           #8                  // class java/lang/StringBuilder
      25: dup
      26: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      29: aload_0
      30: getfield      #7                  // Field pathname:Ljava/lang/String;
      33: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: ldc           #11                 // String .old
      38: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      44: putfield      #13                 // Field pathnameOld:Ljava/lang/String;
      47: aload_0
      48: new           #8                  // class java/lang/StringBuilder
      51: dup
      52: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      55: aload_0
      56: getfield      #7                  // Field pathname:Ljava/lang/String;
      59: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: ldc           #14                 // String .new
      64: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: putfield      #15                 // Field pathnameNew:Ljava/lang/String;
      73: aload_0
      74: iconst_1
      75: putfield      #16                 // Field readonly:Z
      78: aload_0
      79: new           #3                  // class java/util/concurrent/ConcurrentHashMap
      82: dup
      83: invokespecial #4                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      86: putfield      #17                 // Field roles:Ljava/util/Map;
      89: aload_0
      90: new           #3                  // class java/util/concurrent/ConcurrentHashMap
      93: dup
      94: invokespecial #4                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      97: putfield      #18                 // Field users:Ljava/util/Map;
     100: aload_0
     101: new           #19                 // class java/util/concurrent/locks/ReentrantReadWriteLock
     104: dup
     105: invokespecial #20                 // Method java/util/concurrent/locks/ReentrantReadWriteLock."<init>":()V
     108: putfield      #21                 // Field dbLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     111: aload_0
     112: aload_0
     113: getfield      #21                 // Field dbLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     116: invokevirtual #22                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     119: putfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
     122: aload_0
     123: aload_0
     124: getfield      #21                 // Field dbLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     127: invokevirtual #24                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     130: putfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     133: aload_0
     134: lconst_0
     135: putfield      #26                 // Field lastModified:J
     138: aload_0
     139: iconst_1
     140: putfield      #27                 // Field watchSource:Z
     143: aload_0
     144: aload_1
     145: putfield      #28                 // Field id:Ljava/lang/String;
     148: return

  public java.util.Iterator<org.apache.catalina.Group> getGroups();
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: new           #30                 // class java/util/ArrayList
      12: dup
      13: aload_0
      14: getfield      #5                  // Field groups:Ljava/util/Map;
      17: invokeinterface #31,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      22: invokespecial #32                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      25: invokevirtual #33                 // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      28: astore_1
      29: aload_0
      30: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      33: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      38: aload_1
      39: areturn
      40: astore_2
      41: aload_0
      42: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      45: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      50: aload_2
      51: athrow
    Exception table:
       from    to  target type
           9    29    40   any

  public java.lang.String getId();
    Code:
       0: aload_0
       1: getfield      #28                 // Field id:Ljava/lang/String;
       4: areturn

  public java.lang.String getPathname();
    Code:
       0: aload_0
       1: getfield      #7                  // Field pathname:Ljava/lang/String;
       4: areturn

  public void setPathname(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #7                  // Field pathname:Ljava/lang/String;
       5: aload_0
       6: new           #8                  // class java/lang/StringBuilder
       9: dup
      10: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      13: aload_1
      14: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      17: ldc           #11                 // String .old
      19: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      25: putfield      #13                 // Field pathnameOld:Ljava/lang/String;
      28: aload_0
      29: new           #8                  // class java/lang/StringBuilder
      32: dup
      33: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      36: aload_1
      37: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      40: ldc           #14                 // String .new
      42: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: putfield      #15                 // Field pathnameNew:Ljava/lang/String;
      51: return

  public boolean getReadonly();
    Code:
       0: aload_0
       1: getfield      #16                 // Field readonly:Z
       4: ireturn

  public void setReadonly(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #16                 // Field readonly:Z
       5: return

  public boolean getWatchSource();
    Code:
       0: aload_0
       1: getfield      #27                 // Field watchSource:Z
       4: ireturn

  public void setWatchSource(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #27                 // Field watchSource:Z
       5: return

  public java.util.Iterator<org.apache.catalina.Role> getRoles();
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: new           #30                 // class java/util/ArrayList
      12: dup
      13: aload_0
      14: getfield      #17                 // Field roles:Ljava/util/Map;
      17: invokeinterface #31,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      22: invokespecial #32                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      25: invokevirtual #33                 // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      28: astore_1
      29: aload_0
      30: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      33: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      38: aload_1
      39: areturn
      40: astore_2
      41: aload_0
      42: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      45: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      50: aload_2
      51: athrow
    Exception table:
       from    to  target type
           9    29    40   any

  public java.util.Iterator<org.apache.catalina.User> getUsers();
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: new           #30                 // class java/util/ArrayList
      12: dup
      13: aload_0
      14: getfield      #18                 // Field users:Ljava/util/Map;
      17: invokeinterface #31,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      22: invokespecial #32                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      25: invokevirtual #33                 // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      28: astore_1
      29: aload_0
      30: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      33: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      38: aload_1
      39: areturn
      40: astore_2
      41: aload_0
      42: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      45: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      50: aload_2
      51: athrow
    Exception table:
       from    to  target type
           9    29    40   any

  public void close() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: invokevirtual #35                 // Method save:()V
      13: aload_0
      14: getfield      #18                 // Field users:Ljava/util/Map;
      17: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      22: aload_0
      23: getfield      #5                  // Field groups:Ljava/util/Map;
      26: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      31: aload_0
      32: getfield      #17                 // Field roles:Ljava/util/Map;
      35: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      40: aload_0
      41: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
      44: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      49: goto          64
      52: astore_1
      53: aload_0
      54: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
      57: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      62: aload_1
      63: athrow
      64: return
    Exception table:
       from    to  target type
           9    40    52   any

  public org.apache.catalina.Group createGroup(java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #37                 // Method java/lang/String.length:()I
       8: ifne          38
      11: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      14: ldc           #39                 // String memoryUserDatabase.nullGroup
      16: invokevirtual #40                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      19: astore_3
      20: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      23: aload_3
      24: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
      29: new           #43                 // class java/lang/IllegalArgumentException
      32: dup
      33: aload_3
      34: invokespecial #44                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      37: athrow
      38: new           #45                 // class org/apache/catalina/users/MemoryGroup
      41: dup
      42: aload_0
      43: aload_1
      44: aload_2
      45: invokespecial #46                 // Method org/apache/catalina/users/MemoryGroup."<init>":(Lorg/apache/catalina/users/MemoryUserDatabase;Ljava/lang/String;Ljava/lang/String;)V
      48: astore_3
      49: aload_0
      50: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      53: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      58: aload_0
      59: getfield      #5                  // Field groups:Ljava/util/Map;
      62: aload_3
      63: invokevirtual #47                 // Method org/apache/catalina/users/MemoryGroup.getGroupname:()Ljava/lang/String;
      66: aload_3
      67: invokeinterface #48,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: aload_0
      74: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      77: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      82: goto          99
      85: astore        4
      87: aload_0
      88: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      91: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      96: aload         4
      98: athrow
      99: aload_3
     100: areturn
    Exception table:
       from    to  target type
          58    73    85   any
          85    87    85   any

  public org.apache.catalina.Role createRole(java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #37                 // Method java/lang/String.length:()I
       8: ifne          38
      11: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      14: ldc           #49                 // String memoryUserDatabase.nullRole
      16: invokevirtual #40                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      19: astore_3
      20: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      23: aload_3
      24: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
      29: new           #43                 // class java/lang/IllegalArgumentException
      32: dup
      33: aload_3
      34: invokespecial #44                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      37: athrow
      38: new           #50                 // class org/apache/catalina/users/MemoryRole
      41: dup
      42: aload_0
      43: aload_1
      44: aload_2
      45: invokespecial #51                 // Method org/apache/catalina/users/MemoryRole."<init>":(Lorg/apache/catalina/users/MemoryUserDatabase;Ljava/lang/String;Ljava/lang/String;)V
      48: astore_3
      49: aload_0
      50: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      53: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      58: aload_0
      59: getfield      #17                 // Field roles:Ljava/util/Map;
      62: aload_3
      63: invokevirtual #52                 // Method org/apache/catalina/users/MemoryRole.getRolename:()Ljava/lang/String;
      66: aload_3
      67: invokeinterface #48,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: aload_0
      74: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      77: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      82: goto          99
      85: astore        4
      87: aload_0
      88: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      91: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      96: aload         4
      98: athrow
      99: aload_3
     100: areturn
    Exception table:
       from    to  target type
          58    73    85   any
          85    87    85   any

  public org.apache.catalina.User createUser(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #37                 // Method java/lang/String.length:()I
       8: ifne          41
      11: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      14: ldc           #53                 // String memoryUserDatabase.nullUser
      16: invokevirtual #40                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      19: astore        4
      21: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      24: aload         4
      26: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
      31: new           #43                 // class java/lang/IllegalArgumentException
      34: dup
      35: aload         4
      37: invokespecial #44                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: new           #54                 // class org/apache/catalina/users/MemoryUser
      44: dup
      45: aload_0
      46: aload_1
      47: aload_2
      48: aload_3
      49: invokespecial #55                 // Method org/apache/catalina/users/MemoryUser."<init>":(Lorg/apache/catalina/users/MemoryUserDatabase;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      52: astore        4
      54: aload_0
      55: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      58: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      63: aload_0
      64: getfield      #18                 // Field users:Ljava/util/Map;
      67: aload         4
      69: invokevirtual #56                 // Method org/apache/catalina/users/MemoryUser.getUsername:()Ljava/lang/String;
      72: aload         4
      74: invokeinterface #48,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      79: pop
      80: aload_0
      81: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      84: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      89: goto          106
      92: astore        5
      94: aload_0
      95: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      98: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     103: aload         5
     105: athrow
     106: aload         4
     108: areturn
    Exception table:
       from    to  target type
          63    80    92   any
          92    94    92   any

  public org.apache.catalina.Group findGroup(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #5                  // Field groups:Ljava/util/Map;
      13: aload_1
      14: invokeinterface #57,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      19: checkcast     #58                 // class org/apache/catalina/Group
      22: astore_2
      23: aload_0
      24: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      27: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      32: aload_2
      33: areturn
      34: astore_3
      35: aload_0
      36: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      39: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      44: aload_3
      45: athrow
    Exception table:
       from    to  target type
           9    23    34   any

  public org.apache.catalina.Role findRole(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #17                 // Field roles:Ljava/util/Map;
      13: aload_1
      14: invokeinterface #57,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      19: checkcast     #59                 // class org/apache/catalina/Role
      22: astore_2
      23: aload_0
      24: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      27: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      32: aload_2
      33: areturn
      34: astore_3
      35: aload_0
      36: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      39: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      44: aload_3
      45: athrow
    Exception table:
       from    to  target type
           9    23    34   any

  public org.apache.catalina.User findUser(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #18                 // Field users:Ljava/util/Map;
      13: aload_1
      14: invokeinterface #57,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      19: checkcast     #60                 // class org/apache/catalina/User
      22: astore_2
      23: aload_0
      24: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      27: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      32: aload_2
      33: areturn
      34: astore_3
      35: aload_0
      36: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      39: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      44: aload_3
      45: athrow
    Exception table:
       from    to  target type
           9    23    34   any

  public void open() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #18                 // Field users:Ljava/util/Map;
      13: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      18: aload_0
      19: getfield      #5                  // Field groups:Ljava/util/Map;
      22: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      27: aload_0
      28: getfield      #17                 // Field roles:Ljava/util/Map;
      31: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      36: aload_0
      37: invokevirtual #61                 // Method getPathname:()Ljava/lang/String;
      40: astore_1
      41: invokestatic  #62                 // Method org/apache/tomcat/util/file/ConfigFileLoader.getSource:()Lorg/apache/tomcat/util/file/ConfigurationSource;
      44: aload_1
      45: invokeinterface #63,  2           // InterfaceMethod org/apache/tomcat/util/file/ConfigurationSource.getResource:(Ljava/lang/String;)Lorg/apache/tomcat/util/file/ConfigurationSource$Resource;
      50: astore_2
      51: aconst_null
      52: astore_3
      53: aload_0
      54: aload_2
      55: invokevirtual #64                 // Method org/apache/tomcat/util/file/ConfigurationSource$Resource.getURI:()Ljava/net/URI;
      58: invokevirtual #65                 // Method java/net/URI.toURL:()Ljava/net/URL;
      61: invokevirtual #66                 // Method java/net/URL.openConnection:()Ljava/net/URLConnection;
      64: invokevirtual #67                 // Method java/net/URLConnection.getLastModified:()J
      67: putfield      #26                 // Field lastModified:J
      70: new           #68                 // class org/apache/tomcat/util/digester/Digester
      73: dup
      74: invokespecial #69                 // Method org/apache/tomcat/util/digester/Digester."<init>":()V
      77: astore        4
      79: aload         4
      81: ldc           #70                 // String http://apache.org/xml/features/allow-java-encodings
      83: iconst_1
      84: invokevirtual #71                 // Method org/apache/tomcat/util/digester/Digester.setFeature:(Ljava/lang/String;Z)V
      87: goto          110
      90: astore        5
      92: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      95: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      98: ldc           #73                 // String memoryUserDatabase.xmlFeatureEncoding
     100: invokevirtual #40                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     103: aload         5
     105: invokeinterface #74,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     110: aload         4
     112: ldc           #75                 // String tomcat-users/group
     114: new           #76                 // class org/apache/catalina/users/MemoryGroupCreationFactory
     117: dup
     118: aload_0
     119: invokespecial #77                 // Method org/apache/catalina/users/MemoryGroupCreationFactory."<init>":(Lorg/apache/catalina/users/MemoryUserDatabase;)V
     122: iconst_1
     123: invokevirtual #78                 // Method org/apache/tomcat/util/digester/Digester.addFactoryCreate:(Ljava/lang/String;Lorg/apache/tomcat/util/digester/ObjectCreationFactory;Z)V
     126: aload         4
     128: ldc           #79                 // String tomcat-users/role
     130: new           #80                 // class org/apache/catalina/users/MemoryRoleCreationFactory
     133: dup
     134: aload_0
     135: invokespecial #81                 // Method org/apache/catalina/users/MemoryRoleCreationFactory."<init>":(Lorg/apache/catalina/users/MemoryUserDatabase;)V
     138: iconst_1
     139: invokevirtual #78                 // Method org/apache/tomcat/util/digester/Digester.addFactoryCreate:(Ljava/lang/String;Lorg/apache/tomcat/util/digester/ObjectCreationFactory;Z)V
     142: aload         4
     144: ldc           #82                 // String tomcat-users/user
     146: new           #83                 // class org/apache/catalina/users/MemoryUserCreationFactory
     149: dup
     150: aload_0
     151: invokespecial #84                 // Method org/apache/catalina/users/MemoryUserCreationFactory."<init>":(Lorg/apache/catalina/users/MemoryUserDatabase;)V
     154: iconst_1
     155: invokevirtual #78                 // Method org/apache/tomcat/util/digester/Digester.addFactoryCreate:(Ljava/lang/String;Lorg/apache/tomcat/util/digester/ObjectCreationFactory;Z)V
     158: aload         4
     160: aload_2
     161: invokevirtual #85                 // Method org/apache/tomcat/util/file/ConfigurationSource$Resource.getInputStream:()Ljava/io/InputStream;
     164: invokevirtual #86                 // Method org/apache/tomcat/util/digester/Digester.parse:(Ljava/io/InputStream;)Ljava/lang/Object;
     167: pop
     168: aload_2
     169: ifnull        244
     172: aload_3
     173: ifnull        194
     176: aload_2
     177: invokevirtual #87                 // Method org/apache/tomcat/util/file/ConfigurationSource$Resource.close:()V
     180: goto          244
     183: astore        4
     185: aload_3
     186: aload         4
     188: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     191: goto          244
     194: aload_2
     195: invokevirtual #87                 // Method org/apache/tomcat/util/file/ConfigurationSource$Resource.close:()V
     198: goto          244
     201: astore        4
     203: aload         4
     205: astore_3
     206: aload         4
     208: athrow
     209: astore        6
     211: aload_2
     212: ifnull        241
     215: aload_3
     216: ifnull        237
     219: aload_2
     220: invokevirtual #87                 // Method org/apache/tomcat/util/file/ConfigurationSource$Resource.close:()V
     223: goto          241
     226: astore        7
     228: aload_3
     229: aload         7
     231: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     234: goto          241
     237: aload_2
     238: invokevirtual #87                 // Method org/apache/tomcat/util/file/ConfigurationSource$Resource.close:()V
     241: aload         6
     243: athrow
     244: goto          305
     247: astore_2
     248: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     251: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     254: ldc           #91                 // String memoryUserDatabase.fileNotFound
     256: iconst_1
     257: anewarray     #92                 // class java/lang/Object
     260: dup
     261: iconst_0
     262: aload_1
     263: aastore
     264: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     267: invokeinterface #94,  2           // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;)V
     272: goto          305
     275: astore_2
     276: aload_0
     277: getfield      #18                 // Field users:Ljava/util/Map;
     280: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
     285: aload_0
     286: getfield      #5                  // Field groups:Ljava/util/Map;
     289: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
     294: aload_0
     295: getfield      #17                 // Field roles:Ljava/util/Map;
     298: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
     303: aload_2
     304: athrow
     305: aload_0
     306: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     309: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     314: goto          331
     317: astore        8
     319: aload_0
     320: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     323: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     328: aload         8
     330: athrow
     331: return
    Exception table:
       from    to  target type
          79    87    90   Class java/lang/Exception
         176   180   183   Class java/lang/Throwable
          53   168   201   Class java/lang/Throwable
          53   168   209   any
         219   223   226   Class java/lang/Throwable
         201   211   209   any
          41   244   247   Class java/io/IOException
          41   244   275   Class java/lang/Exception
           9   305   317   any
         317   319   317   any

  public void removeGroup(org.apache.catalina.Group);
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: invokevirtual #95                 // Method getUsers:()Ljava/util/Iterator;
      13: astore_2
      14: aload_2
      15: invokeinterface #96,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          43
      23: aload_2
      24: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #60                 // class org/apache/catalina/User
      32: astore_3
      33: aload_3
      34: aload_1
      35: invokeinterface #98,  2           // InterfaceMethod org/apache/catalina/User.removeGroup:(Lorg/apache/catalina/Group;)V
      40: goto          14
      43: aload_0
      44: getfield      #5                  // Field groups:Ljava/util/Map;
      47: aload_1
      48: invokeinterface #99,  1           // InterfaceMethod org/apache/catalina/Group.getGroupname:()Ljava/lang/String;
      53: invokeinterface #100,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      58: pop
      59: aload_0
      60: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      63: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      68: goto          85
      71: astore        4
      73: aload_0
      74: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      77: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      82: aload         4
      84: athrow
      85: return
    Exception table:
       from    to  target type
           9    59    71   any
          71    73    71   any

  public void removeRole(org.apache.catalina.Role);
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: invokevirtual #101                // Method getGroups:()Ljava/util/Iterator;
      13: astore_2
      14: aload_2
      15: invokeinterface #96,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          43
      23: aload_2
      24: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #58                 // class org/apache/catalina/Group
      32: astore_3
      33: aload_3
      34: aload_1
      35: invokeinterface #102,  2          // InterfaceMethod org/apache/catalina/Group.removeRole:(Lorg/apache/catalina/Role;)V
      40: goto          14
      43: aload_0
      44: invokevirtual #95                 // Method getUsers:()Ljava/util/Iterator;
      47: astore_3
      48: aload_3
      49: invokeinterface #96,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          79
      57: aload_3
      58: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      63: checkcast     #60                 // class org/apache/catalina/User
      66: astore        4
      68: aload         4
      70: aload_1
      71: invokeinterface #103,  2          // InterfaceMethod org/apache/catalina/User.removeRole:(Lorg/apache/catalina/Role;)V
      76: goto          48
      79: aload_0
      80: getfield      #17                 // Field roles:Ljava/util/Map;
      83: aload_1
      84: invokeinterface #104,  1          // InterfaceMethod org/apache/catalina/Role.getRolename:()Ljava/lang/String;
      89: invokeinterface #100,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      94: pop
      95: aload_0
      96: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      99: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     104: goto          121
     107: astore        5
     109: aload_0
     110: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
     113: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     118: aload         5
     120: athrow
     121: return
    Exception table:
       from    to  target type
           9    95   107   any
         107   109   107   any

  public void removeUser(org.apache.catalina.User);
    Code:
       0: aload_0
       1: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
       4: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
       9: aload_0
      10: getfield      #18                 // Field users:Ljava/util/Map;
      13: aload_1
      14: invokeinterface #105,  1          // InterfaceMethod org/apache/catalina/User.getUsername:()Ljava/lang/String;
      19: invokeinterface #100,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      24: pop
      25: aload_0
      26: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      29: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      34: goto          49
      37: astore_2
      38: aload_0
      39: getfield      #23                 // Field readLock:Ljava/util/concurrent/locks/Lock;
      42: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      47: aload_2
      48: athrow
      49: return
    Exception table:
       from    to  target type
           9    25    37   any

  public boolean isWriteable();
    Code:
       0: new           #106                // class java/io/File
       3: dup
       4: aload_0
       5: getfield      #7                  // Field pathname:Ljava/lang/String;
       8: invokespecial #107                // Method java/io/File."<init>":(Ljava/lang/String;)V
      11: astore_1
      12: aload_1
      13: invokevirtual #108                // Method java/io/File.isAbsolute:()Z
      16: ifne          36
      19: new           #106                // class java/io/File
      22: dup
      23: ldc           #110                // String catalina.base
      25: invokestatic  #111                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      28: aload_0
      29: getfield      #7                  // Field pathname:Ljava/lang/String;
      32: invokespecial #112                // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      35: astore_1
      36: aload_1
      37: invokevirtual #113                // Method java/io/File.getParentFile:()Ljava/io/File;
      40: astore_2
      41: aload_2
      42: invokevirtual #114                // Method java/io/File.exists:()Z
      45: ifeq          66
      48: aload_2
      49: invokevirtual #115                // Method java/io/File.isDirectory:()Z
      52: ifeq          66
      55: aload_2
      56: invokevirtual #116                // Method java/io/File.canWrite:()Z
      59: ifeq          66
      62: iconst_1
      63: goto          67
      66: iconst_0
      67: ireturn

  public void save() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #117                // Method getReadonly:()Z
       4: ifeq          24
       7: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      10: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      13: ldc           #118                // String memoryUserDatabase.readOnly
      15: invokevirtual #40                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      18: invokeinterface #94,  2           // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;)V
      23: return
      24: aload_0
      25: invokevirtual #119                // Method isWriteable:()Z
      28: ifne          48
      31: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      34: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      37: ldc           #120                // String memoryUserDatabase.notPersistable
      39: invokevirtual #40                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      42: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
      47: return
      48: new           #106                // class java/io/File
      51: dup
      52: aload_0
      53: getfield      #15                 // Field pathnameNew:Ljava/lang/String;
      56: invokespecial #107                // Method java/io/File."<init>":(Ljava/lang/String;)V
      59: astore_1
      60: aload_1
      61: invokevirtual #108                // Method java/io/File.isAbsolute:()Z
      64: ifne          84
      67: new           #106                // class java/io/File
      70: dup
      71: ldc           #110                // String catalina.base
      73: invokestatic  #111                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      76: aload_0
      77: getfield      #15                 // Field pathnameNew:Ljava/lang/String;
      80: invokespecial #112                // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      83: astore_1
      84: aload_0
      85: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
      88: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      93: new           #121                // class java/io/FileOutputStream
      96: dup
      97: aload_1
      98: invokespecial #122                // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     101: astore_2
     102: aconst_null
     103: astore_3
     104: new           #123                // class java/io/OutputStreamWriter
     107: dup
     108: aload_2
     109: getstatic     #124                // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     112: invokespecial #125                // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;Ljava/nio/charset/Charset;)V
     115: astore        4
     117: aconst_null
     118: astore        5
     120: new           #126                // class java/io/PrintWriter
     123: dup
     124: aload         4
     126: invokespecial #127                // Method java/io/PrintWriter."<init>":(Ljava/io/Writer;)V
     129: astore        6
     131: aconst_null
     132: astore        7
     134: aload         6
     136: ldc           #128                // String <?xml version=\'1.0\' encoding=\'utf-8\'?>
     138: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     141: aload         6
     143: ldc           #130                // String <tomcat-users xmlns=\"http://tomcat.apache.org/xml\"
     145: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     148: aload         6
     150: ldc           #131                // String
     152: invokevirtual #132                // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     155: aload         6
     157: ldc           #133                // String xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"
     159: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     162: aload         6
     164: ldc           #131                // String
     166: invokevirtual #132                // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     169: aload         6
     171: ldc           #134                // String xsi:schemaLocation=\"http://tomcat.apache.org/xml tomcat-users.xsd\"
     173: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     176: aload         6
     178: ldc           #135                // String               version=\"1.0\">
     180: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     183: aconst_null
     184: astore        8
     186: aload_0
     187: invokevirtual #136                // Method getRoles:()Ljava/util/Iterator;
     190: astore        8
     192: aload         8
     194: invokeinterface #96,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     199: ifeq          224
     202: aload         6
     204: ldc           #137                // String
     206: invokevirtual #132                // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     209: aload         6
     211: aload         8
     213: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     218: invokevirtual #138                // Method java/io/PrintWriter.println:(Ljava/lang/Object;)V
     221: goto          192
     224: aload_0
     225: invokevirtual #101                // Method getGroups:()Ljava/util/Iterator;
     228: astore        8
     230: aload         8
     232: invokeinterface #96,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     237: ifeq          262
     240: aload         6
     242: ldc           #137                // String
     244: invokevirtual #132                // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     247: aload         6
     249: aload         8
     251: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     256: invokevirtual #138                // Method java/io/PrintWriter.println:(Ljava/lang/Object;)V
     259: goto          230
     262: aload_0
     263: invokevirtual #95                 // Method getUsers:()Ljava/util/Iterator;
     266: astore        8
     268: aload         8
     270: invokeinterface #96,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     275: ifeq          306
     278: aload         6
     280: ldc           #137                // String
     282: invokevirtual #132                // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     285: aload         6
     287: aload         8
     289: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     294: checkcast     #54                 // class org/apache/catalina/users/MemoryUser
     297: invokevirtual #139                // Method org/apache/catalina/users/MemoryUser.toXml:()Ljava/lang/String;
     300: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     303: goto          268
     306: aload         6
     308: ldc           #140                // String </tomcat-users>
     310: invokevirtual #129                // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
     313: aload         6
     315: invokevirtual #141                // Method java/io/PrintWriter.checkError:()Z
     318: ifeq          348
     321: new           #90                 // class java/io/IOException
     324: dup
     325: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     328: ldc           #142                // String memoryUserDatabase.writeException
     330: iconst_1
     331: anewarray     #92                 // class java/lang/Object
     334: dup
     335: iconst_0
     336: aload_1
     337: invokevirtual #143                // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     340: aastore
     341: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     344: invokespecial #144                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     347: athrow
     348: aload         6
     350: ifnull        435
     353: aload         7
     355: ifnull        378
     358: aload         6
     360: invokevirtual #145                // Method java/io/PrintWriter.close:()V
     363: goto          435
     366: astore        8
     368: aload         7
     370: aload         8
     372: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     375: goto          435
     378: aload         6
     380: invokevirtual #145                // Method java/io/PrintWriter.close:()V
     383: goto          435
     386: astore        8
     388: aload         8
     390: astore        7
     392: aload         8
     394: athrow
     395: astore        9
     397: aload         6
     399: ifnull        432
     402: aload         7
     404: ifnull        427
     407: aload         6
     409: invokevirtual #145                // Method java/io/PrintWriter.close:()V
     412: goto          432
     415: astore        10
     417: aload         7
     419: aload         10
     421: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     424: goto          432
     427: aload         6
     429: invokevirtual #145                // Method java/io/PrintWriter.close:()V
     432: aload         9
     434: athrow
     435: aload         4
     437: ifnull        522
     440: aload         5
     442: ifnull        465
     445: aload         4
     447: invokevirtual #146                // Method java/io/OutputStreamWriter.close:()V
     450: goto          522
     453: astore        6
     455: aload         5
     457: aload         6
     459: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     462: goto          522
     465: aload         4
     467: invokevirtual #146                // Method java/io/OutputStreamWriter.close:()V
     470: goto          522
     473: astore        6
     475: aload         6
     477: astore        5
     479: aload         6
     481: athrow
     482: astore        11
     484: aload         4
     486: ifnull        519
     489: aload         5
     491: ifnull        514
     494: aload         4
     496: invokevirtual #146                // Method java/io/OutputStreamWriter.close:()V
     499: goto          519
     502: astore        12
     504: aload         5
     506: aload         12
     508: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     511: goto          519
     514: aload         4
     516: invokevirtual #146                // Method java/io/OutputStreamWriter.close:()V
     519: aload         11
     521: athrow
     522: aload_2
     523: ifnull        598
     526: aload_3
     527: ifnull        548
     530: aload_2
     531: invokevirtual #147                // Method java/io/FileOutputStream.close:()V
     534: goto          598
     537: astore        4
     539: aload_3
     540: aload         4
     542: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     545: goto          598
     548: aload_2
     549: invokevirtual #147                // Method java/io/FileOutputStream.close:()V
     552: goto          598
     555: astore        4
     557: aload         4
     559: astore_3
     560: aload         4
     562: athrow
     563: astore        13
     565: aload_2
     566: ifnull        595
     569: aload_3
     570: ifnull        591
     573: aload_2
     574: invokevirtual #147                // Method java/io/FileOutputStream.close:()V
     577: goto          595
     580: astore        14
     582: aload_3
     583: aload         14
     585: invokevirtual #89                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     588: goto          595
     591: aload_2
     592: invokevirtual #147                // Method java/io/FileOutputStream.close:()V
     595: aload         13
     597: athrow
     598: goto          642
     601: astore_2
     602: aload_1
     603: invokevirtual #114                // Method java/io/File.exists:()Z
     606: ifeq          640
     609: aload_1
     610: invokevirtual #148                // Method java/io/File.delete:()Z
     613: ifne          640
     616: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     619: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     622: ldc           #149                // String memoryUserDatabase.fileDelete
     624: iconst_1
     625: anewarray     #92                 // class java/lang/Object
     628: dup
     629: iconst_0
     630: aload_1
     631: aastore
     632: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     635: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
     640: aload_2
     641: athrow
     642: aload_0
     643: aload_1
     644: invokevirtual #150                // Method java/io/File.lastModified:()J
     647: putfield      #26                 // Field lastModified:J
     650: aload_0
     651: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     654: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     659: goto          676
     662: astore        15
     664: aload_0
     665: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     668: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     673: aload         15
     675: athrow
     676: new           #106                // class java/io/File
     679: dup
     680: aload_0
     681: getfield      #13                 // Field pathnameOld:Ljava/lang/String;
     684: invokespecial #107                // Method java/io/File."<init>":(Ljava/lang/String;)V
     687: astore_2
     688: aload_2
     689: invokevirtual #108                // Method java/io/File.isAbsolute:()Z
     692: ifne          712
     695: new           #106                // class java/io/File
     698: dup
     699: ldc           #110                // String catalina.base
     701: invokestatic  #111                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     704: aload_0
     705: getfield      #13                 // Field pathnameOld:Ljava/lang/String;
     708: invokespecial #112                // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     711: astore_2
     712: aload_2
     713: invokevirtual #114                // Method java/io/File.exists:()Z
     716: ifeq          750
     719: aload_2
     720: invokevirtual #148                // Method java/io/File.delete:()Z
     723: ifne          750
     726: new           #90                 // class java/io/IOException
     729: dup
     730: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     733: ldc           #149                // String memoryUserDatabase.fileDelete
     735: iconst_1
     736: anewarray     #92                 // class java/lang/Object
     739: dup
     740: iconst_0
     741: aload_2
     742: aastore
     743: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     746: invokespecial #144                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     749: athrow
     750: new           #106                // class java/io/File
     753: dup
     754: aload_0
     755: getfield      #7                  // Field pathname:Ljava/lang/String;
     758: invokespecial #107                // Method java/io/File."<init>":(Ljava/lang/String;)V
     761: astore_3
     762: aload_3
     763: invokevirtual #108                // Method java/io/File.isAbsolute:()Z
     766: ifne          786
     769: new           #106                // class java/io/File
     772: dup
     773: ldc           #110                // String catalina.base
     775: invokestatic  #111                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     778: aload_0
     779: getfield      #7                  // Field pathname:Ljava/lang/String;
     782: invokespecial #112                // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     785: astore_3
     786: aload_3
     787: invokevirtual #114                // Method java/io/File.exists:()Z
     790: ifeq          828
     793: aload_3
     794: aload_2
     795: invokevirtual #151                // Method java/io/File.renameTo:(Ljava/io/File;)Z
     798: ifne          828
     801: new           #90                 // class java/io/IOException
     804: dup
     805: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     808: ldc           #152                // String memoryUserDatabase.renameOld
     810: iconst_1
     811: anewarray     #92                 // class java/lang/Object
     814: dup
     815: iconst_0
     816: aload_2
     817: invokevirtual #143                // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     820: aastore
     821: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     824: invokespecial #144                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     827: athrow
     828: aload_1
     829: aload_3
     830: invokevirtual #151                // Method java/io/File.renameTo:(Ljava/io/File;)Z
     833: ifne          902
     836: aload_2
     837: invokevirtual #114                // Method java/io/File.exists:()Z
     840: ifeq          875
     843: aload_2
     844: aload_3
     845: invokevirtual #151                // Method java/io/File.renameTo:(Ljava/io/File;)Z
     848: ifne          875
     851: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     854: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     857: ldc           #153                // String memoryUserDatabase.restoreOrig
     859: iconst_1
     860: anewarray     #92                 // class java/lang/Object
     863: dup
     864: iconst_0
     865: aload_2
     866: aastore
     867: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     870: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
     875: new           #90                 // class java/io/IOException
     878: dup
     879: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     882: ldc           #154                // String memoryUserDatabase.renameNew
     884: iconst_1
     885: anewarray     #92                 // class java/lang/Object
     888: dup
     889: iconst_0
     890: aload_3
     891: invokevirtual #143                // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     894: aastore
     895: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     898: invokespecial #144                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     901: athrow
     902: aload_2
     903: invokevirtual #114                // Method java/io/File.exists:()Z
     906: ifeq          940
     909: aload_2
     910: invokevirtual #148                // Method java/io/File.delete:()Z
     913: ifne          940
     916: new           #90                 // class java/io/IOException
     919: dup
     920: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     923: ldc           #149                // String memoryUserDatabase.fileDelete
     925: iconst_1
     926: anewarray     #92                 // class java/lang/Object
     929: dup
     930: iconst_0
     931: aload_2
     932: aastore
     933: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     936: invokespecial #144                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     939: athrow
     940: return
    Exception table:
       from    to  target type
         358   363   366   Class java/lang/Throwable
         134   348   386   Class java/lang/Throwable
         134   348   395   any
         407   412   415   Class java/lang/Throwable
         386   397   395   any
         445   450   453   Class java/lang/Throwable
         120   435   473   Class java/lang/Throwable
         120   435   482   any
         494   499   502   Class java/lang/Throwable
         473   484   482   any
         530   534   537   Class java/lang/Throwable
         104   522   555   Class java/lang/Throwable
         104   522   563   any
         573   577   580   Class java/lang/Throwable
         555   565   563   any
          93   598   601   Class java/io/IOException
          93   650   662   any
         662   664   662   any

  public void backgroundProcess();
    Code:
       0: aload_0
       1: getfield      #27                 // Field watchSource:Z
       4: ifne          8
       7: return
       8: invokestatic  #62                 // Method org/apache/tomcat/util/file/ConfigFileLoader.getSource:()Lorg/apache/tomcat/util/file/ConfigurationSource;
      11: aload_0
      12: invokevirtual #61                 // Method getPathname:()Ljava/lang/String;
      15: invokeinterface #155,  2          // InterfaceMethod org/apache/tomcat/util/file/ConfigurationSource.getURI:(Ljava/lang/String;)Ljava/net/URI;
      20: astore_1
      21: aconst_null
      22: astore_2
      23: aload_1
      24: invokevirtual #65                 // Method java/net/URI.toURL:()Ljava/net/URL;
      27: astore_3
      28: aload_3
      29: invokevirtual #66                 // Method java/net/URL.openConnection:()Ljava/net/URLConnection;
      32: astore_2
      33: aload_0
      34: getfield      #26                 // Field lastModified:J
      37: aload_2
      38: invokevirtual #67                 // Method java/net/URLConnection.getLastModified:()J
      41: lcmp
      42: ifeq          144
      45: aload_0
      46: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
      49: invokeinterface #29,  1           // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
      54: aload_2
      55: invokevirtual #67                 // Method java/net/URLConnection.getLastModified:()J
      58: lstore        4
      60: aload_0
      61: getfield      #26                 // Field lastModified:J
      64: lload         4
      66: lcmp
      67: ifeq          118
      70: lload         4
      72: ldc2_w        #156                // long 2000l
      75: ladd
      76: invokestatic  #158                // Method java/lang/System.currentTimeMillis:()J
      79: lcmp
      80: ifge          118
      83: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
      86: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      89: ldc           #159                // String memoryUserDatabase.reload
      91: iconst_2
      92: anewarray     #92                 // class java/lang/Object
      95: dup
      96: iconst_0
      97: aload_0
      98: getfield      #28                 // Field id:Ljava/lang/String;
     101: aastore
     102: dup
     103: iconst_1
     104: aload_1
     105: aastore
     106: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     109: invokeinterface #160,  2          // InterfaceMethod org/apache/juli/logging/Log.info:(Ljava/lang/Object;)V
     114: aload_0
     115: invokevirtual #161                // Method open:()V
     118: aload_0
     119: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     122: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     127: goto          144
     130: astore        6
     132: aload_0
     133: getfield      #25                 // Field writeLock:Ljava/util/concurrent/locks/Lock;
     136: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     141: aload         6
     143: athrow
     144: aload_2
     145: ifnull        319
     148: aload_2
     149: invokevirtual #162                // Method java/net/URLConnection.getInputStream:()Ljava/io/InputStream;
     152: invokevirtual #163                // Method java/io/InputStream.close:()V
     155: goto          319
     158: astore_3
     159: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     162: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     165: ldc           #164                // String memoryUserDatabase.fileClose
     167: iconst_1
     168: anewarray     #92                 // class java/lang/Object
     171: dup
     172: iconst_0
     173: aload_0
     174: getfield      #7                  // Field pathname:Ljava/lang/String;
     177: aastore
     178: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     181: aload_3
     182: invokeinterface #74,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     187: goto          319
     190: astore_3
     191: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     194: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     197: ldc           #165                // String memoryUserDatabase.reloadError
     199: iconst_2
     200: anewarray     #92                 // class java/lang/Object
     203: dup
     204: iconst_0
     205: aload_0
     206: getfield      #28                 // Field id:Ljava/lang/String;
     209: aastore
     210: dup
     211: iconst_1
     212: aload_1
     213: aastore
     214: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     217: aload_3
     218: invokeinterface #166,  3          // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     223: aload_2
     224: ifnull        319
     227: aload_2
     228: invokevirtual #162                // Method java/net/URLConnection.getInputStream:()Ljava/io/InputStream;
     231: invokevirtual #163                // Method java/io/InputStream.close:()V
     234: goto          319
     237: astore_3
     238: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     241: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     244: ldc           #164                // String memoryUserDatabase.fileClose
     246: iconst_1
     247: anewarray     #92                 // class java/lang/Object
     250: dup
     251: iconst_0
     252: aload_0
     253: getfield      #7                  // Field pathname:Ljava/lang/String;
     256: aastore
     257: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     260: aload_3
     261: invokeinterface #74,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     266: goto          319
     269: astore        7
     271: aload_2
     272: ifnull        316
     275: aload_2
     276: invokevirtual #162                // Method java/net/URLConnection.getInputStream:()Ljava/io/InputStream;
     279: invokevirtual #163                // Method java/io/InputStream.close:()V
     282: goto          316
     285: astore        8
     287: getstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
     290: getstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     293: ldc           #164                // String memoryUserDatabase.fileClose
     295: iconst_1
     296: anewarray     #92                 // class java/lang/Object
     299: dup
     300: iconst_0
     301: aload_0
     302: getfield      #7                  // Field pathname:Ljava/lang/String;
     305: aastore
     306: invokevirtual #93                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     309: aload         8
     311: invokeinterface #74,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     316: aload         7
     318: athrow
     319: return
    Exception table:
       from    to  target type
          54   118   130   any
         130   132   130   any
         148   155   158   Class java/io/IOException
          23   144   190   Class java/lang/Exception
         227   234   237   Class java/io/IOException
          23   144   269   any
         190   223   269   any
         275   282   285   Class java/io/IOException
         269   271   269   any

  public java.lang.String toString();
    Code:
       0: new           #8                  // class java/lang/StringBuilder
       3: dup
       4: ldc           #167                // String MemoryUserDatabase[id=
       6: invokespecial #168                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
       9: astore_1
      10: aload_1
      11: aload_0
      12: getfield      #28                 // Field id:Ljava/lang/String;
      15: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      18: pop
      19: aload_1
      20: ldc           #169                // String ,pathname=
      22: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: pop
      26: aload_1
      27: aload_0
      28: getfield      #7                  // Field pathname:Ljava/lang/String;
      31: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: pop
      35: aload_1
      36: ldc           #170                // String ,groupCount=
      38: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: pop
      42: aload_1
      43: aload_0
      44: getfield      #5                  // Field groups:Ljava/util/Map;
      47: invokeinterface #171,  1          // InterfaceMethod java/util/Map.size:()I
      52: invokevirtual #172                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      55: pop
      56: aload_1
      57: ldc           #173                // String ,roleCount=
      59: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: pop
      63: aload_1
      64: aload_0
      65: getfield      #17                 // Field roles:Ljava/util/Map;
      68: invokeinterface #171,  1          // InterfaceMethod java/util/Map.size:()I
      73: invokevirtual #172                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      76: pop
      77: aload_1
      78: ldc           #174                // String ,userCount=
      80: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: pop
      84: aload_1
      85: aload_0
      86: getfield      #18                 // Field users:Ljava/util/Map;
      89: invokeinterface #171,  1          // InterfaceMethod java/util/Map.size:()I
      94: invokevirtual #172                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      97: pop
      98: aload_1
      99: ldc           #175                // String ]
     101: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: pop
     105: aload_1
     106: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     109: areturn

  static {};
    Code:
       0: ldc           #176                // class org/apache/catalina/users/MemoryUserDatabase
       2: invokestatic  #177                // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       5: putstatic     #41                 // Field log:Lorg/apache/juli/logging/Log;
       8: ldc           #176                // class org/apache/catalina/users/MemoryUserDatabase
      10: invokestatic  #178                // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/Class;)Lorg/apache/tomcat/util/res/StringManager;
      13: putstatic     #38                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      16: return
}
