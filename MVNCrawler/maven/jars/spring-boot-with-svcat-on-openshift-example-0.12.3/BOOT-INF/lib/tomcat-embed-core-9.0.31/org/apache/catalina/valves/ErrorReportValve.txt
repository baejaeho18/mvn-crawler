Compiled from "ErrorReportValve.java"
public class org.apache.catalina.valves.ErrorReportValve extends org.apache.catalina.valves.ValveBase {
  private boolean showReport;

  private boolean showServerInfo;

  private final org.apache.catalina.util.ErrorPageSupport errorPageSupport;

  public org.apache.catalina.valves.ErrorReportValve();
    Code:
       0: aload_0
       1: iconst_1
       2: invokespecial #1                  // Method org/apache/catalina/valves/ValveBase."<init>":(Z)V
       5: aload_0
       6: iconst_1
       7: putfield      #2                  // Field showReport:Z
      10: aload_0
      11: iconst_1
      12: putfield      #3                  // Field showServerInfo:Z
      15: aload_0
      16: new           #4                  // class org/apache/catalina/util/ErrorPageSupport
      19: dup
      20: invokespecial #5                  // Method org/apache/catalina/util/ErrorPageSupport."<init>":()V
      23: putfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      26: return

  public void invoke(org.apache.catalina.connector.Request, org.apache.catalina.connector.Response) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method getNext:()Lorg/apache/catalina/Valve;
       4: aload_1
       5: aload_2
       6: invokeinterface #8,  3            // InterfaceMethod org/apache/catalina/Valve.invoke:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
      11: aload_2
      12: invokevirtual #9                  // Method org/apache/catalina/connector/Response.isCommitted:()Z
      15: ifeq          54
      18: aload_2
      19: invokevirtual #10                 // Method org/apache/catalina/connector/Response.setErrorReported:()Z
      22: ifeq          53
      25: aload_2
      26: invokevirtual #11                 // Method org/apache/catalina/connector/Response.flushBuffer:()V
      29: goto          37
      32: astore_3
      33: aload_3
      34: invokestatic  #13                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
      37: aload_2
      38: invokevirtual #14                 // Method org/apache/catalina/connector/Response.getCoyoteResponse:()Lorg/apache/coyote/Response;
      41: getstatic     #15                 // Field org/apache/coyote/ActionCode.CLOSE_NOW:Lorg/apache/coyote/ActionCode;
      44: aload_1
      45: ldc           #17                 // String javax.servlet.error.exception
      47: invokevirtual #18                 // Method org/apache/catalina/connector/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      50: invokevirtual #19                 // Method org/apache/coyote/Response.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      53: return
      54: aload_1
      55: ldc           #17                 // String javax.servlet.error.exception
      57: invokevirtual #18                 // Method org/apache/catalina/connector/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      60: checkcast     #12                 // class java/lang/Throwable
      63: astore_3
      64: aload_1
      65: invokevirtual #20                 // Method org/apache/catalina/connector/Request.isAsync:()Z
      68: ifeq          79
      71: aload_1
      72: invokevirtual #21                 // Method org/apache/catalina/connector/Request.isAsyncCompleting:()Z
      75: ifne          79
      78: return
      79: aload_3
      80: ifnull        101
      83: aload_2
      84: invokevirtual #22                 // Method org/apache/catalina/connector/Response.isError:()Z
      87: ifne          101
      90: aload_2
      91: invokevirtual #23                 // Method org/apache/catalina/connector/Response.reset:()V
      94: aload_2
      95: sipush        500
      98: invokevirtual #25                 // Method org/apache/catalina/connector/Response.sendError:(I)V
     101: aload_2
     102: iconst_0
     103: invokevirtual #26                 // Method org/apache/catalina/connector/Response.setSuspended:(Z)V
     106: aload_0
     107: aload_1
     108: aload_2
     109: aload_3
     110: invokevirtual #27                 // Method report:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;Ljava/lang/Throwable;)V
     113: goto          123
     116: astore        4
     118: aload         4
     120: invokestatic  #13                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     123: return
    Exception table:
       from    to  target type
          25    29    32   Class java/lang/Throwable
         106   113   116   Class java/lang/Throwable

  protected void report(org.apache.catalina.connector.Request, org.apache.catalina.connector.Response, java.lang.Throwable);
    Code:
       0: aload_2
       1: invokevirtual #28                 // Method org/apache/catalina/connector/Response.getStatus:()I
       4: istore        4
       6: iload         4
       8: sipush        400
      11: if_icmplt     30
      14: aload_2
      15: invokevirtual #29                 // Method org/apache/catalina/connector/Response.getContentWritten:()J
      18: lconst_0
      19: lcmp
      20: ifgt          30
      23: aload_2
      24: invokevirtual #10                 // Method org/apache/catalina/connector/Response.setErrorReported:()Z
      27: ifne          31
      30: return
      31: new           #30                 // class java/util/concurrent/atomic/AtomicBoolean
      34: dup
      35: iconst_0
      36: invokespecial #31                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      39: astore        5
      41: aload_2
      42: invokevirtual #14                 // Method org/apache/catalina/connector/Response.getCoyoteResponse:()Lorg/apache/coyote/Response;
      45: getstatic     #32                 // Field org/apache/coyote/ActionCode.IS_IO_ALLOWED:Lorg/apache/coyote/ActionCode;
      48: aload         5
      50: invokevirtual #19                 // Method org/apache/coyote/Response.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      53: aload         5
      55: invokevirtual #33                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      58: ifne          62
      61: return
      62: aconst_null
      63: astore        6
      65: aload_3
      66: ifnull        79
      69: aload_0
      70: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      73: aload_3
      74: invokevirtual #34                 // Method org/apache/catalina/util/ErrorPageSupport.find:(Ljava/lang/Throwable;)Lorg/apache/tomcat/util/descriptor/web/ErrorPage;
      77: astore        6
      79: aload         6
      81: ifnonnull     95
      84: aload_0
      85: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      88: iload         4
      90: invokevirtual #35                 // Method org/apache/catalina/util/ErrorPageSupport.find:(I)Lorg/apache/tomcat/util/descriptor/web/ErrorPage;
      93: astore        6
      95: aload         6
      97: ifnonnull     110
     100: aload_0
     101: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
     104: iconst_0
     105: invokevirtual #35                 // Method org/apache/catalina/util/ErrorPageSupport.find:(I)Lorg/apache/tomcat/util/descriptor/web/ErrorPage;
     108: astore        6
     110: aload         6
     112: ifnull        129
     115: aload_0
     116: aload         6
     118: invokevirtual #36                 // Method org/apache/tomcat/util/descriptor/web/ErrorPage.getLocation:()Ljava/lang/String;
     121: aload_2
     122: invokespecial #37                 // Method sendErrorPage:(Ljava/lang/String;Lorg/apache/catalina/connector/Response;)Z
     125: ifeq          129
     128: return
     129: aload_2
     130: invokevirtual #38                 // Method org/apache/catalina/connector/Response.getMessage:()Ljava/lang/String;
     133: invokestatic  #39                 // Method org/apache/tomcat/util/security/Escape.htmlElementContent:(Ljava/lang/String;)Ljava/lang/String;
     136: astore        7
     138: aload         7
     140: ifnonnull     192
     143: aload_3
     144: ifnull        183
     147: aload_3
     148: invokevirtual #40                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
     151: astore        8
     153: aload         8
     155: ifnull        183
     158: aload         8
     160: invokevirtual #41                 // Method java/lang/String.length:()I
     163: ifle          183
     166: new           #42                 // class java/util/Scanner
     169: dup
     170: aload         8
     172: invokespecial #43                 // Method java/util/Scanner."<init>":(Ljava/lang/String;)V
     175: invokevirtual #44                 // Method java/util/Scanner.nextLine:()Ljava/lang/String;
     178: invokestatic  #39                 // Method org/apache/tomcat/util/security/Escape.htmlElementContent:(Ljava/lang/String;)Ljava/lang/String;
     181: astore        7
     183: aload         7
     185: ifnonnull     192
     188: ldc           #45                 // String
     190: astore        7
     192: aconst_null
     193: astore        8
     195: aconst_null
     196: astore        9
     198: ldc           #47                 // String org.apache.catalina.valves
     200: aload_1
     201: invokevirtual #48                 // Method org/apache/catalina/connector/Request.getLocales:()Ljava/util/Enumeration;
     204: invokestatic  #49                 // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/String;Ljava/util/Enumeration;)Lorg/apache/tomcat/util/res/StringManager;
     207: astore        10
     209: aload_2
     210: aload         10
     212: invokevirtual #50                 // Method org/apache/tomcat/util/res/StringManager.getLocale:()Ljava/util/Locale;
     215: invokevirtual #51                 // Method org/apache/catalina/connector/Response.setLocale:(Ljava/util/Locale;)V
     218: aload         10
     220: new           #52                 // class java/lang/StringBuilder
     223: dup
     224: invokespecial #53                 // Method java/lang/StringBuilder."<init>":()V
     227: ldc           #54                 // String http.
     229: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     232: iload         4
     234: invokevirtual #56                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     237: ldc           #57                 // String .reason
     239: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     242: invokevirtual #58                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     245: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     248: astore        8
     250: aload         10
     252: new           #52                 // class java/lang/StringBuilder
     255: dup
     256: invokespecial #53                 // Method java/lang/StringBuilder."<init>":()V
     259: ldc           #54                 // String http.
     261: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     264: iload         4
     266: invokevirtual #56                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     269: ldc           #60                 // String .desc
     271: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     274: invokevirtual #58                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     277: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     280: astore        9
     282: goto          292
     285: astore        11
     287: aload         11
     289: invokestatic  #13                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     292: aload         8
     294: ifnull        302
     297: aload         9
     299: ifnonnull     329
     302: aload         7
     304: invokevirtual #61                 // Method java/lang/String.isEmpty:()Z
     307: ifeq          311
     310: return
     311: aload         10
     313: ldc           #62                 // String errorReportValve.unknownReason
     315: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     318: astore        8
     320: aload         10
     322: ldc           #63                 // String errorReportValve.noDescription
     324: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     327: astore        9
     329: new           #52                 // class java/lang/StringBuilder
     332: dup
     333: invokespecial #53                 // Method java/lang/StringBuilder."<init>":()V
     336: astore        11
     338: aload         11
     340: ldc           #64                 // String <!doctype html><html lang=\"
     342: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     345: pop
     346: aload         11
     348: aload         10
     350: invokevirtual #50                 // Method org/apache/tomcat/util/res/StringManager.getLocale:()Ljava/util/Locale;
     353: invokevirtual #65                 // Method java/util/Locale.getLanguage:()Ljava/lang/String;
     356: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     359: ldc           #66                 // String \">
     361: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     364: pop
     365: aload         11
     367: ldc           #67                 // String <head>
     369: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     372: pop
     373: aload         11
     375: ldc           #68                 // String <title>
     377: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     380: pop
     381: aload         11
     383: aload         10
     385: ldc           #69                 // String errorReportValve.statusHeader
     387: iconst_2
     388: anewarray     #70                 // class java/lang/Object
     391: dup
     392: iconst_0
     393: iload         4
     395: invokestatic  #71                 // Method java/lang/String.valueOf:(I)Ljava/lang/String;
     398: aastore
     399: dup
     400: iconst_1
     401: aload         8
     403: aastore
     404: invokevirtual #72                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     407: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     410: pop
     411: aload         11
     413: ldc           #73                 // String </title>
     415: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     418: pop
     419: aload         11
     421: ldc           #74                 // String <style type=\"text/css\">
     423: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     426: pop
     427: aload         11
     429: ldc           #76                 // String body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}
     431: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     434: pop
     435: aload         11
     437: ldc           #77                 // String </style>
     439: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     442: pop
     443: aload         11
     445: ldc           #78                 // String </head><body>
     447: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     450: pop
     451: aload         11
     453: ldc           #79                 // String <h1>
     455: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     458: pop
     459: aload         11
     461: aload         10
     463: ldc           #69                 // String errorReportValve.statusHeader
     465: iconst_2
     466: anewarray     #70                 // class java/lang/Object
     469: dup
     470: iconst_0
     471: iload         4
     473: invokestatic  #71                 // Method java/lang/String.valueOf:(I)Ljava/lang/String;
     476: aastore
     477: dup
     478: iconst_1
     479: aload         8
     481: aastore
     482: invokevirtual #72                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     485: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     488: ldc           #80                 // String </h1>
     490: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     493: pop
     494: aload_0
     495: invokevirtual #81                 // Method isShowReport:()Z
     498: ifeq          881
     501: aload         11
     503: ldc           #82                 // String <hr class=\"line\" />
     505: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     508: pop
     509: aload         11
     511: ldc           #83                 // String <p><b>
     513: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     516: pop
     517: aload         11
     519: aload         10
     521: ldc           #84                 // String errorReportValve.type
     523: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     526: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     529: pop
     530: aload         11
     532: ldc           #85                 // String </b>
     534: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     537: pop
     538: aload_3
     539: ifnull        558
     542: aload         11
     544: aload         10
     546: ldc           #86                 // String errorReportValve.exceptionReport
     548: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     551: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     554: pop
     555: goto          571
     558: aload         11
     560: aload         10
     562: ldc           #87                 // String errorReportValve.statusReport
     564: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     567: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     570: pop
     571: aload         11
     573: ldc           #88                 // String </p>
     575: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     578: pop
     579: aload         7
     581: invokevirtual #61                 // Method java/lang/String.isEmpty:()Z
     584: ifne          629
     587: aload         11
     589: ldc           #83                 // String <p><b>
     591: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     594: pop
     595: aload         11
     597: aload         10
     599: ldc           #89                 // String errorReportValve.message
     601: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     604: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     607: pop
     608: aload         11
     610: ldc           #85                 // String </b>
     612: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     615: pop
     616: aload         11
     618: aload         7
     620: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     623: ldc           #88                 // String </p>
     625: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     628: pop
     629: aload         11
     631: ldc           #83                 // String <p><b>
     633: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     636: pop
     637: aload         11
     639: aload         10
     641: ldc           #90                 // String errorReportValve.description
     643: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     646: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     649: pop
     650: aload         11
     652: ldc           #85                 // String </b>
     654: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     657: pop
     658: aload         11
     660: aload         9
     662: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     665: pop
     666: aload         11
     668: ldc           #88                 // String </p>
     670: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     673: pop
     674: aload_3
     675: ifnull        873
     678: aload_0
     679: aload_3
     680: invokevirtual #91                 // Method getPartialServletStackTrace:(Ljava/lang/Throwable;)Ljava/lang/String;
     683: astore        12
     685: aload         11
     687: ldc           #83                 // String <p><b>
     689: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     692: pop
     693: aload         11
     695: aload         10
     697: ldc           #92                 // String errorReportValve.exception
     699: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     702: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     705: pop
     706: aload         11
     708: ldc           #93                 // String </b></p><pre>
     710: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     713: pop
     714: aload         11
     716: aload         12
     718: invokestatic  #39                 // Method org/apache/tomcat/util/security/Escape.htmlElementContent:(Ljava/lang/String;)Ljava/lang/String;
     721: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     724: pop
     725: aload         11
     727: ldc           #94                 // String </pre>
     729: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     732: pop
     733: iconst_0
     734: istore        13
     736: aload_3
     737: invokevirtual #95                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
     740: astore        14
     742: aload         14
     744: ifnull        823
     747: iload         13
     749: bipush        10
     751: if_icmpge     823
     754: aload_0
     755: aload         14
     757: invokevirtual #91                 // Method getPartialServletStackTrace:(Ljava/lang/Throwable;)Ljava/lang/String;
     760: astore        12
     762: aload         11
     764: ldc           #83                 // String <p><b>
     766: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     769: pop
     770: aload         11
     772: aload         10
     774: ldc           #96                 // String errorReportValve.rootCause
     776: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     779: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     782: pop
     783: aload         11
     785: ldc           #93                 // String </b></p><pre>
     787: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     790: pop
     791: aload         11
     793: aload         12
     795: invokestatic  #39                 // Method org/apache/tomcat/util/security/Escape.htmlElementContent:(Ljava/lang/String;)Ljava/lang/String;
     798: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     801: pop
     802: aload         11
     804: ldc           #94                 // String </pre>
     806: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     809: pop
     810: aload         14
     812: invokevirtual #95                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
     815: astore        14
     817: iinc          13, 1
     820: goto          742
     823: aload         11
     825: ldc           #83                 // String <p><b>
     827: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     830: pop
     831: aload         11
     833: aload         10
     835: ldc           #97                 // String errorReportValve.note
     837: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     840: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     843: pop
     844: aload         11
     846: ldc           #85                 // String </b>
     848: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     851: pop
     852: aload         11
     854: aload         10
     856: ldc           #98                 // String errorReportValve.rootCauseInLogs
     858: invokevirtual #59                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     861: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     864: pop
     865: aload         11
     867: ldc           #88                 // String </p>
     869: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     872: pop
     873: aload         11
     875: ldc           #82                 // String <hr class=\"line\" />
     877: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     880: pop
     881: aload_0
     882: invokevirtual #99                 // Method isShowServerInfo:()Z
     885: ifeq          907
     888: aload         11
     890: ldc           #100                // String <h3>
     892: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     895: invokestatic  #101                // Method org/apache/catalina/util/ServerInfo.getServerInfo:()Ljava/lang/String;
     898: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     901: ldc           #102                // String </h3>
     903: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     906: pop
     907: aload         11
     909: ldc           #103                // String </body></html>
     911: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     914: pop
     915: aload_2
     916: ldc           #104                // String text/html
     918: invokevirtual #105                // Method org/apache/catalina/connector/Response.setContentType:(Ljava/lang/String;)V
     921: aload_2
     922: ldc           #106                // String utf-8
     924: invokevirtual #107                // Method org/apache/catalina/connector/Response.setCharacterEncoding:(Ljava/lang/String;)V
     927: goto          972
     930: astore        12
     932: aload         12
     934: invokestatic  #13                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     937: aload_0
     938: getfield      #108                // Field container:Lorg/apache/catalina/Container;
     941: invokeinterface #109,  1          // InterfaceMethod org/apache/catalina/Container.getLogger:()Lorg/apache/juli/logging/Log;
     946: invokeinterface #110,  1          // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     951: ifeq          972
     954: aload_0
     955: getfield      #108                // Field container:Lorg/apache/catalina/Container;
     958: invokeinterface #109,  1          // InterfaceMethod org/apache/catalina/Container.getLogger:()Lorg/apache/juli/logging/Log;
     963: ldc           #111                // String status.setContentType
     965: aload         12
     967: invokeinterface #112,  3          // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     972: aload_2
     973: invokevirtual #113                // Method org/apache/catalina/connector/Response.getReporter:()Ljava/io/PrintWriter;
     976: astore        12
     978: aload         12
     980: ifnull        997
     983: aload         12
     985: aload         11
     987: invokevirtual #58                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     990: invokevirtual #114                // Method java/io/Writer.write:(Ljava/lang/String;)V
     993: aload_2
     994: invokevirtual #115                // Method org/apache/catalina/connector/Response.finishResponse:()V
     997: goto          1007
    1000: astore        12
    1002: goto          1007
    1005: astore        12
    1007: return
    Exception table:
       from    to  target type
         218   282   285   Class java/lang/Throwable
         915   927   930   Class java/lang/Throwable
         915   997  1000   Class java/io/IOException
         915   997  1005   Class java/lang/IllegalStateException

  protected java.lang.String getPartialServletStackTrace(java.lang.Throwable);
    Code:
       0: new           #52                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #53                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_2
       8: aload_2
       9: aload_1
      10: invokevirtual #118                // Method java/lang/Throwable.toString:()Ljava/lang/String;
      13: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: invokestatic  #119                // Method java/lang/System.lineSeparator:()Ljava/lang/String;
      19: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: pop
      23: aload_1
      24: invokevirtual #120                // Method java/lang/Throwable.getStackTrace:()[Ljava/lang/StackTraceElement;
      27: astore_3
      28: aload_3
      29: arraylength
      30: istore        4
      32: aload_3
      33: arraylength
      34: iconst_1
      35: isub
      36: istore        5
      38: iload         5
      40: iflt          86
      43: aload_3
      44: iload         5
      46: aaload
      47: invokevirtual #121                // Method java/lang/StackTraceElement.getClassName:()Ljava/lang/String;
      50: ldc           #122                // String org.apache.catalina.core.ApplicationFilterChain
      52: invokevirtual #123                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      55: ifeq          80
      58: aload_3
      59: iload         5
      61: aaload
      62: invokevirtual #124                // Method java/lang/StackTraceElement.getMethodName:()Ljava/lang/String;
      65: ldc           #125                // String internalDoFilter
      67: invokevirtual #126                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      70: ifeq          80
      73: iload         5
      75: istore        4
      77: goto          86
      80: iinc          5, -1
      83: goto          38
      86: iconst_0
      87: istore        5
      89: iload         5
      91: iload         4
      93: if_icmpge     140
      96: aload_3
      97: iload         5
      99: aaload
     100: invokevirtual #121                // Method java/lang/StackTraceElement.getClassName:()Ljava/lang/String;
     103: ldc           #127                // String org.apache.catalina.core.
     105: invokevirtual #123                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     108: ifne          134
     111: aload_2
     112: bipush        9
     114: invokevirtual #128                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     117: aload_3
     118: iload         5
     120: aaload
     121: invokevirtual #129                // Method java/lang/StackTraceElement.toString:()Ljava/lang/String;
     124: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: invokestatic  #119                // Method java/lang/System.lineSeparator:()Ljava/lang/String;
     130: invokevirtual #55                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     133: pop
     134: iinc          5, 1
     137: goto          89
     140: aload_2
     141: invokevirtual #58                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     144: areturn

  private boolean sendErrorPage(java.lang.String, org.apache.catalina.connector.Response);
    Code:
       0: new           #130                // class java/io/File
       3: dup
       4: aload_1
       5: invokespecial #131                // Method java/io/File."<init>":(Ljava/lang/String;)V
       8: astore_3
       9: aload_3
      10: invokevirtual #132                // Method java/io/File.isAbsolute:()Z
      13: ifne          34
      16: new           #130                // class java/io/File
      19: dup
      20: aload_0
      21: invokevirtual #133                // Method getContainer:()Lorg/apache/catalina/Container;
      24: invokeinterface #134,  1          // InterfaceMethod org/apache/catalina/Container.getCatalinaBase:()Ljava/io/File;
      29: aload_1
      30: invokespecial #135                // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      33: astore_3
      34: aload_3
      35: invokevirtual #136                // Method java/io/File.isFile:()Z
      38: ifeq          48
      41: aload_3
      42: invokevirtual #137                // Method java/io/File.canRead:()Z
      45: ifne          80
      48: aload_0
      49: invokevirtual #133                // Method getContainer:()Lorg/apache/catalina/Container;
      52: invokeinterface #109,  1          // InterfaceMethod org/apache/catalina/Container.getLogger:()Lorg/apache/juli/logging/Log;
      57: getstatic     #138                // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      60: ldc           #139                // String errorReportValve.errorPageNotFound
      62: iconst_1
      63: anewarray     #70                 // class java/lang/Object
      66: dup
      67: iconst_0
      68: aload_1
      69: aastore
      70: invokevirtual #72                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      73: invokeinterface #140,  2          // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
      78: iconst_0
      79: ireturn
      80: aload_2
      81: ldc           #104                // String text/html
      83: invokevirtual #105                // Method org/apache/catalina/connector/Response.setContentType:(Ljava/lang/String;)V
      86: aload_2
      87: ldc           #141                // String UTF-8
      89: invokevirtual #107                // Method org/apache/catalina/connector/Response.setCharacterEncoding:(Ljava/lang/String;)V
      92: aload_2
      93: invokevirtual #142                // Method org/apache/catalina/connector/Response.getOutputStream:()Ljavax/servlet/ServletOutputStream;
      96: astore        4
      98: aconst_null
      99: astore        5
     101: new           #143                // class java/io/FileInputStream
     104: dup
     105: aload_3
     106: invokespecial #144                // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
     109: astore        6
     111: aconst_null
     112: astore        7
     114: aload         6
     116: aload         4
     118: invokestatic  #145                // Method org/apache/catalina/util/IOTools.flow:(Ljava/io/InputStream;Ljava/io/OutputStream;)V
     121: aload         6
     123: ifnull        208
     126: aload         7
     128: ifnull        151
     131: aload         6
     133: invokevirtual #146                // Method java/io/InputStream.close:()V
     136: goto          208
     139: astore        8
     141: aload         7
     143: aload         8
     145: invokevirtual #147                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     148: goto          208
     151: aload         6
     153: invokevirtual #146                // Method java/io/InputStream.close:()V
     156: goto          208
     159: astore        8
     161: aload         8
     163: astore        7
     165: aload         8
     167: athrow
     168: astore        9
     170: aload         6
     172: ifnull        205
     175: aload         7
     177: ifnull        200
     180: aload         6
     182: invokevirtual #146                // Method java/io/InputStream.close:()V
     185: goto          205
     188: astore        10
     190: aload         7
     192: aload         10
     194: invokevirtual #147                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     197: goto          205
     200: aload         6
     202: invokevirtual #146                // Method java/io/InputStream.close:()V
     205: aload         9
     207: athrow
     208: aload         4
     210: ifnull        295
     213: aload         5
     215: ifnull        238
     218: aload         4
     220: invokevirtual #148                // Method java/io/OutputStream.close:()V
     223: goto          295
     226: astore        6
     228: aload         5
     230: aload         6
     232: invokevirtual #147                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     235: goto          295
     238: aload         4
     240: invokevirtual #148                // Method java/io/OutputStream.close:()V
     243: goto          295
     246: astore        6
     248: aload         6
     250: astore        5
     252: aload         6
     254: athrow
     255: astore        11
     257: aload         4
     259: ifnull        292
     262: aload         5
     264: ifnull        287
     267: aload         4
     269: invokevirtual #148                // Method java/io/OutputStream.close:()V
     272: goto          292
     275: astore        12
     277: aload         5
     279: aload         12
     281: invokevirtual #147                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     284: goto          292
     287: aload         4
     289: invokevirtual #148                // Method java/io/OutputStream.close:()V
     292: aload         11
     294: athrow
     295: goto          334
     298: astore        4
     300: aload_0
     301: invokevirtual #133                // Method getContainer:()Lorg/apache/catalina/Container;
     304: invokeinterface #109,  1          // InterfaceMethod org/apache/catalina/Container.getLogger:()Lorg/apache/juli/logging/Log;
     309: getstatic     #138                // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     312: ldc           #149                // String errorReportValve.errorPageIOException
     314: iconst_1
     315: anewarray     #70                 // class java/lang/Object
     318: dup
     319: iconst_0
     320: aload_1
     321: aastore
     322: invokevirtual #72                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     325: aload         4
     327: invokeinterface #150,  3          // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     332: iconst_0
     333: ireturn
     334: iconst_1
     335: ireturn
    Exception table:
       from    to  target type
         131   136   139   Class java/lang/Throwable
         114   121   159   Class java/lang/Throwable
         114   121   168   any
         180   185   188   Class java/lang/Throwable
         159   170   168   any
         218   223   226   Class java/lang/Throwable
         101   208   246   Class java/lang/Throwable
         101   208   255   any
         267   272   275   Class java/lang/Throwable
         246   257   255   any
          92   295   298   Class java/io/IOException

  public void setShowReport(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #2                  // Field showReport:Z
       5: return

  public boolean isShowReport();
    Code:
       0: aload_0
       1: getfield      #2                  // Field showReport:Z
       4: ireturn

  public void setShowServerInfo(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field showServerInfo:Z
       5: return

  public boolean isShowServerInfo();
    Code:
       0: aload_0
       1: getfield      #3                  // Field showServerInfo:Z
       4: ireturn

  public boolean setProperty(java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: ldc           #151                // String errorCode.
       3: invokevirtual #123                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
       6: ifeq          51
       9: aload_1
      10: bipush        10
      12: invokevirtual #152                // Method java/lang/String.substring:(I)Ljava/lang/String;
      15: invokestatic  #153                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      18: istore_3
      19: new           #154                // class org/apache/tomcat/util/descriptor/web/ErrorPage
      22: dup
      23: invokespecial #155                // Method org/apache/tomcat/util/descriptor/web/ErrorPage."<init>":()V
      26: astore        4
      28: aload         4
      30: iload_3
      31: invokevirtual #156                // Method org/apache/tomcat/util/descriptor/web/ErrorPage.setErrorCode:(I)V
      34: aload         4
      36: aload_2
      37: invokevirtual #157                // Method org/apache/tomcat/util/descriptor/web/ErrorPage.setLocation:(Ljava/lang/String;)V
      40: aload_0
      41: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      44: aload         4
      46: invokevirtual #158                // Method org/apache/catalina/util/ErrorPageSupport.add:(Lorg/apache/tomcat/util/descriptor/web/ErrorPage;)V
      49: iconst_1
      50: ireturn
      51: aload_1
      52: ldc           #159                // String exceptionType.
      54: invokevirtual #123                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      57: ifeq          99
      60: aload_1
      61: bipush        14
      63: invokevirtual #152                // Method java/lang/String.substring:(I)Ljava/lang/String;
      66: astore_3
      67: new           #154                // class org/apache/tomcat/util/descriptor/web/ErrorPage
      70: dup
      71: invokespecial #155                // Method org/apache/tomcat/util/descriptor/web/ErrorPage."<init>":()V
      74: astore        4
      76: aload         4
      78: aload_3
      79: invokevirtual #160                // Method org/apache/tomcat/util/descriptor/web/ErrorPage.setExceptionType:(Ljava/lang/String;)V
      82: aload         4
      84: aload_2
      85: invokevirtual #157                // Method org/apache/tomcat/util/descriptor/web/ErrorPage.setLocation:(Ljava/lang/String;)V
      88: aload_0
      89: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      92: aload         4
      94: invokevirtual #158                // Method org/apache/catalina/util/ErrorPageSupport.add:(Lorg/apache/tomcat/util/descriptor/web/ErrorPage;)V
      97: iconst_1
      98: ireturn
      99: iconst_0
     100: ireturn

  public java.lang.String getProperty(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #151                // String errorCode.
       3: invokevirtual #123                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
       6: ifeq          48
       9: aload_1
      10: bipush        10
      12: invokevirtual #152                // Method java/lang/String.substring:(I)Ljava/lang/String;
      15: invokestatic  #153                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      18: istore_3
      19: aload_0
      20: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      23: iload_3
      24: invokevirtual #35                 // Method org/apache/catalina/util/ErrorPageSupport.find:(I)Lorg/apache/tomcat/util/descriptor/web/ErrorPage;
      27: astore        4
      29: aload         4
      31: ifnonnull     39
      34: aconst_null
      35: astore_2
      36: goto          45
      39: aload         4
      41: invokevirtual #36                 // Method org/apache/tomcat/util/descriptor/web/ErrorPage.getLocation:()Ljava/lang/String;
      44: astore_2
      45: goto          95
      48: aload_1
      49: ldc           #159                // String exceptionType.
      51: invokevirtual #123                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      54: ifeq          93
      57: aload_1
      58: bipush        14
      60: invokevirtual #152                // Method java/lang/String.substring:(I)Ljava/lang/String;
      63: astore_3
      64: aload_0
      65: getfield      #6                  // Field errorPageSupport:Lorg/apache/catalina/util/ErrorPageSupport;
      68: aload_3
      69: invokevirtual #161                // Method org/apache/catalina/util/ErrorPageSupport.find:(Ljava/lang/String;)Lorg/apache/tomcat/util/descriptor/web/ErrorPage;
      72: astore        4
      74: aload         4
      76: ifnonnull     84
      79: aconst_null
      80: astore_2
      81: goto          90
      84: aload         4
      86: invokevirtual #36                 // Method org/apache/tomcat/util/descriptor/web/ErrorPage.getLocation:()Ljava/lang/String;
      89: astore_2
      90: goto          95
      93: aconst_null
      94: astore_2
      95: aload_2
      96: areturn
}
