Compiled from "Http2AsyncParser.java"
class org.apache.coyote.http2.Http2AsyncParser$PrefaceCompletionHandler extends org.apache.coyote.http2.Http2AsyncParser$FrameCompletionHandler {
  private boolean prefaceValidated;

  private final javax.servlet.http.WebConnection webConnection;

  private final org.apache.coyote.http2.Stream stream;

  private final byte[] prefaceData;

  final org.apache.coyote.http2.Http2AsyncParser this$0;

  private org.apache.coyote.http2.Http2AsyncParser$PrefaceCompletionHandler(org.apache.coyote.http2.Http2AsyncParser, javax.servlet.http.WebConnection, org.apache.coyote.http2.Stream, byte[], java.nio.ByteBuffer...);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
       5: aload_0
       6: aload_1
       7: getstatic     #3                  // Field org/apache/coyote/http2/FrameType.SETTINGS:Lorg/apache/coyote/http2/FrameType;
      10: aload         5
      12: aconst_null
      13: invokespecial #4                  // Method org/apache/coyote/http2/Http2AsyncParser$FrameCompletionHandler."<init>":(Lorg/apache/coyote/http2/Http2AsyncParser;Lorg/apache/coyote/http2/FrameType;[Ljava/nio/ByteBuffer;Lorg/apache/coyote/http2/Http2AsyncParser$1;)V
      16: aload_0
      17: iconst_0
      18: putfield      #5                  // Field prefaceValidated:Z
      21: aload_0
      22: aload_2
      23: putfield      #6                  // Field webConnection:Ljavax/servlet/http/WebConnection;
      26: aload_0
      27: aload_3
      28: putfield      #7                  // Field stream:Lorg/apache/coyote/http2/Stream;
      31: aload_0
      32: aload         4
      34: putfield      #8                  // Field prefaceData:[B
      37: return

  public org.apache.tomcat.util.net.SocketWrapperBase$CompletionHandlerCall callHandler(org.apache.tomcat.util.net.SocketWrapperBase$CompletionState, java.nio.ByteBuffer[], int, int);
    Code:
       0: iload_3
       1: ifne          10
       4: iload         4
       6: iconst_3
       7: if_icmpeq     42
      10: new           #9                  // class java/lang/IllegalArgumentException
      13: dup
      14: getstatic     #10                 // Field org/apache/coyote/http2/Http2Parser.sm:Lorg/apache/tomcat/util/res/StringManager;
      17: ldc           #11                 // String http2Parser.invalidBuffers
      19: invokevirtual #12                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      22: invokespecial #13                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: astore        5
      28: aload_0
      29: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      32: aload         5
      34: invokestatic  #14                 // Method org/apache/coyote/http2/Http2AsyncParser.access$202:(Lorg/apache/coyote/http2/Http2AsyncParser;Ljava/lang/Throwable;)Ljava/lang/Throwable;
      37: pop
      38: getstatic     #15                 // Field org/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall.DONE:Lorg/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall;
      41: areturn
      42: aload_0
      43: getfield      #5                  // Field prefaceValidated:Z
      46: ifne          128
      49: aload_2
      50: iconst_0
      51: aaload
      52: invokevirtual #16                 // Method java/nio/ByteBuffer.hasRemaining:()Z
      55: ifeq          62
      58: getstatic     #17                 // Field org/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall.CONTINUE:Lorg/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall;
      61: areturn
      62: iconst_0
      63: istore        5
      65: iload         5
      67: getstatic     #18                 // Field org/apache/coyote/http2/Http2Parser.CLIENT_PREFACE_START:[B
      70: arraylength
      71: if_icmpge     123
      74: getstatic     #18                 // Field org/apache/coyote/http2/Http2Parser.CLIENT_PREFACE_START:[B
      77: iload         5
      79: baload
      80: aload_0
      81: getfield      #8                  // Field prefaceData:[B
      84: iload         5
      86: baload
      87: if_icmpeq     117
      90: aload_0
      91: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      94: new           #19                 // class org/apache/coyote/ProtocolException
      97: dup
      98: getstatic     #10                 // Field org/apache/coyote/http2/Http2Parser.sm:Lorg/apache/tomcat/util/res/StringManager;
     101: ldc           #20                 // String http2Parser.preface.invalid
     103: invokevirtual #12                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     106: invokespecial #21                 // Method org/apache/coyote/ProtocolException."<init>":(Ljava/lang/String;)V
     109: invokestatic  #14                 // Method org/apache/coyote/http2/Http2AsyncParser.access$202:(Lorg/apache/coyote/http2/Http2AsyncParser;Ljava/lang/Throwable;)Ljava/lang/Throwable;
     112: pop
     113: getstatic     #15                 // Field org/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall.DONE:Lorg/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall;
     116: areturn
     117: iinc          5, 1
     120: goto          65
     123: aload_0
     124: iconst_1
     125: putfield      #5                  // Field prefaceValidated:Z
     128: aload_0
     129: aload_1
     130: aload_2
     131: iconst_1
     132: aaload
     133: aload_2
     134: iconst_2
     135: aaload
     136: invokevirtual #22                 // Method validate:(Lorg/apache/tomcat/util/net/SocketWrapperBase$CompletionState;Ljava/nio/ByteBuffer;Ljava/nio/ByteBuffer;)Lorg/apache/tomcat/util/net/SocketWrapperBase$CompletionHandlerCall;
     139: areturn
    Exception table:
       from    to  target type
          10    26    26   Class java/lang/IllegalArgumentException

  public void completed(java.lang.Long, java.lang.Void);
    Code:
       0: aload_0
       1: getfield      #23                 // Field streamException:Z
       4: ifne          17
       7: aload_0
       8: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      11: invokestatic  #24                 // Method org/apache/coyote/http2/Http2AsyncParser.access$200:(Lorg/apache/coyote/http2/Http2AsyncParser;)Ljava/lang/Throwable;
      14: ifnonnull     105
      17: aload_0
      18: getfield      #25                 // Field buffers:[Ljava/nio/ByteBuffer;
      21: iconst_2
      22: aaload
      23: astore_3
      24: aload_3
      25: invokevirtual #26                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
      28: pop
      29: aload_0
      30: getfield      #23                 // Field streamException:Z
      33: ifeq          56
      36: aload_0
      37: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      40: aload_0
      41: getfield      #27                 // Field streamId:I
      44: aload_0
      45: getfield      #28                 // Field payloadSize:I
      48: iconst_0
      49: aload_3
      50: invokevirtual #29                 // Method org/apache/coyote/http2/Http2AsyncParser.swallow:(IIZLjava/nio/ByteBuffer;)V
      53: goto          72
      56: aload_0
      57: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      60: aload_0
      61: getfield      #30                 // Field flags:I
      64: aload_0
      65: getfield      #28                 // Field payloadSize:I
      68: aload_3
      69: invokevirtual #31                 // Method org/apache/coyote/http2/Http2AsyncParser.readSettingsFrame:(IILjava/nio/ByteBuffer;)V
      72: goto          87
      75: astore        4
      77: aload_0
      78: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      81: aload         4
      83: invokestatic  #14                 // Method org/apache/coyote/http2/Http2AsyncParser.access$202:(Lorg/apache/coyote/http2/Http2AsyncParser;Ljava/lang/Throwable;)Ljava/lang/Throwable;
      86: pop
      87: aload_3
      88: invokevirtual #16                 // Method java/nio/ByteBuffer.hasRemaining:()Z
      91: ifeq          105
      94: aload_0
      95: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
      98: invokestatic  #35                 // Method org/apache/coyote/http2/Http2AsyncParser.access$300:(Lorg/apache/coyote/http2/Http2AsyncParser;)Lorg/apache/tomcat/util/net/SocketWrapperBase;
     101: aload_3
     102: invokevirtual #36                 // Method org/apache/tomcat/util/net/SocketWrapperBase.unRead:(Ljava/nio/ByteBuffer;)V
     105: aload_0
     106: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
     109: invokestatic  #37                 // Method org/apache/coyote/http2/Http2AsyncParser.access$400:(Lorg/apache/coyote/http2/Http2AsyncParser;)Lorg/apache/coyote/http2/Http2AsyncUpgradeHandler;
     112: aload_0
     113: getfield      #6                  // Field webConnection:Ljavax/servlet/http/WebConnection;
     116: aload_0
     117: getfield      #7                  // Field stream:Lorg/apache/coyote/http2/Stream;
     120: invokevirtual #38                 // Method org/apache/coyote/http2/Http2AsyncUpgradeHandler.processConnectionCallback:(Ljavax/servlet/http/WebConnection;Lorg/apache/coyote/http2/Stream;)V
     123: aload_0
     124: getfield      #2                  // Field this$0:Lorg/apache/coyote/http2/Http2AsyncParser;
     127: invokestatic  #37                 // Method org/apache/coyote/http2/Http2AsyncParser.access$400:(Lorg/apache/coyote/http2/Http2AsyncParser;)Lorg/apache/coyote/http2/Http2AsyncUpgradeHandler;
     130: getstatic     #39                 // Field org/apache/tomcat/util/net/SocketEvent.OPEN_READ:Lorg/apache/tomcat/util/net/SocketEvent;
     133: invokevirtual #40                 // Method org/apache/coyote/http2/Http2AsyncUpgradeHandler.upgradeDispatch:(Lorg/apache/tomcat/util/net/SocketEvent;)Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
     136: pop
     137: return
    Exception table:
       from    to  target type
          29    72    75   Class java/lang/RuntimeException
          29    72    75   Class java/io/IOException
          29    72    75   Class org/apache/coyote/http2/Http2Exception

  public void completed(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #41                 // class java/lang/Long
       5: aload_2
       6: checkcast     #42                 // class java/lang/Void
       9: invokevirtual #43                 // Method completed:(Ljava/lang/Long;Ljava/lang/Void;)V
      12: return

  org.apache.coyote.http2.Http2AsyncParser$PrefaceCompletionHandler(org.apache.coyote.http2.Http2AsyncParser, javax.servlet.http.WebConnection, org.apache.coyote.http2.Stream, byte[], java.nio.ByteBuffer[], org.apache.coyote.http2.Http2AsyncParser$1);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: invokespecial #1                  // Method "<init>":(Lorg/apache/coyote/http2/Http2AsyncParser;Ljavax/servlet/http/WebConnection;Lorg/apache/coyote/http2/Stream;[B[Ljava/nio/ByteBuffer;)V
      11: return
}
