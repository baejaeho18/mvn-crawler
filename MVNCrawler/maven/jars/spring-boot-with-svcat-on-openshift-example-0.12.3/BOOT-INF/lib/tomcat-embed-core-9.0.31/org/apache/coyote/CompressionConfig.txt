Compiled from "CompressionConfig.java"
public class org.apache.coyote.CompressionConfig {
  private static final org.apache.juli.logging.Log log;

  private static final org.apache.tomcat.util.res.StringManager sm;

  private int compressionLevel;

  private java.util.regex.Pattern noCompressionUserAgents;

  private java.lang.String compressibleMimeType;

  private java.lang.String[] compressibleMimeTypes;

  private int compressionMinSize;

  private boolean noCompressionStrongETag;

  public org.apache.coyote.CompressionConfig();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field compressionLevel:I
       9: aload_0
      10: aconst_null
      11: putfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
      14: aload_0
      15: ldc           #4                  // String text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json,application/xml
      17: putfield      #5                  // Field compressibleMimeType:Ljava/lang/String;
      20: aload_0
      21: aconst_null
      22: putfield      #6                  // Field compressibleMimeTypes:[Ljava/lang/String;
      25: aload_0
      26: sipush        2048
      29: putfield      #7                  // Field compressionMinSize:I
      32: aload_0
      33: iconst_1
      34: putfield      #8                  // Field noCompressionStrongETag:Z
      37: return

  public void setCompression(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #9                  // String on
       3: invokevirtual #10                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ifeq          17
       9: aload_0
      10: iconst_1
      11: putfield      #2                  // Field compressionLevel:I
      14: goto          73
      17: aload_1
      18: ldc           #11                 // String force
      20: invokevirtual #10                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      23: ifeq          34
      26: aload_0
      27: iconst_2
      28: putfield      #2                  // Field compressionLevel:I
      31: goto          73
      34: aload_1
      35: ldc           #12                 // String off
      37: invokevirtual #10                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      40: ifeq          51
      43: aload_0
      44: iconst_0
      45: putfield      #2                  // Field compressionLevel:I
      48: goto          73
      51: aload_0
      52: aload_1
      53: invokestatic  #13                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      56: invokevirtual #14                 // Method setCompressionMinSize:(I)V
      59: aload_0
      60: iconst_1
      61: putfield      #2                  // Field compressionLevel:I
      64: goto          73
      67: astore_2
      68: aload_0
      69: iconst_0
      70: putfield      #2                  // Field compressionLevel:I
      73: return
    Exception table:
       from    to  target type
          51    64    67   Class java/lang/Exception

  public java.lang.String getCompression();
    Code:
       0: aload_0
       1: getfield      #2                  // Field compressionLevel:I
       4: tableswitch   { // 0 to 2
                     0: 32
                     1: 35
                     2: 38
               default: 41
          }
      32: ldc           #12                 // String off
      34: areturn
      35: ldc           #9                  // String on
      37: areturn
      38: ldc           #11                 // String force
      40: areturn
      41: ldc           #12                 // String off
      43: areturn

  public int getCompressionLevel();
    Code:
       0: aload_0
       1: getfield      #2                  // Field compressionLevel:I
       4: ireturn

  public java.lang.String getNoCompressionUserAgents();
    Code:
       0: aload_0
       1: getfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_0
      10: getfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
      13: invokevirtual #16                 // Method java/util/regex/Pattern.toString:()Ljava/lang/String;
      16: areturn

  public java.util.regex.Pattern getNoCompressionUserAgentsPattern();
    Code:
       0: aload_0
       1: getfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
       4: areturn

  public void setNoCompressionUserAgents(java.lang.String);
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #17                 // Method java/lang/String.length:()I
       8: ifne          19
      11: aload_0
      12: aconst_null
      13: putfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
      16: goto          27
      19: aload_0
      20: aload_1
      21: invokestatic  #18                 // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      24: putfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
      27: return

  public java.lang.String getCompressibleMimeType();
    Code:
       0: aload_0
       1: getfield      #5                  // Field compressibleMimeType:Ljava/lang/String;
       4: areturn

  public void setCompressibleMimeType(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field compressibleMimeType:Ljava/lang/String;
       5: aload_0
       6: aconst_null
       7: putfield      #6                  // Field compressibleMimeTypes:[Ljava/lang/String;
      10: return

  public java.lang.String[] getCompressibleMimeTypes();
    Code:
       0: aload_0
       1: getfield      #6                  // Field compressibleMimeTypes:[Ljava/lang/String;
       4: astore_1
       5: aload_1
       6: ifnull        11
       9: aload_1
      10: areturn
      11: new           #19                 // class java/util/ArrayList
      14: dup
      15: invokespecial #20                 // Method java/util/ArrayList."<init>":()V
      18: astore_2
      19: new           #21                 // class java/util/StringTokenizer
      22: dup
      23: aload_0
      24: getfield      #5                  // Field compressibleMimeType:Ljava/lang/String;
      27: ldc           #22                 // String ,
      29: invokespecial #23                 // Method java/util/StringTokenizer."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      32: astore_3
      33: aload_3
      34: invokevirtual #24                 // Method java/util/StringTokenizer.hasMoreTokens:()Z
      37: ifeq          69
      40: aload_3
      41: invokevirtual #25                 // Method java/util/StringTokenizer.nextToken:()Ljava/lang/String;
      44: invokevirtual #26                 // Method java/lang/String.trim:()Ljava/lang/String;
      47: astore        4
      49: aload         4
      51: invokevirtual #17                 // Method java/lang/String.length:()I
      54: ifle          66
      57: aload_2
      58: aload         4
      60: invokeinterface #27,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      65: pop
      66: goto          33
      69: aload_2
      70: aload_2
      71: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
      76: anewarray     #29                 // class java/lang/String
      79: invokeinterface #30,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      84: checkcast     #31                 // class "[Ljava/lang/String;"
      87: astore_1
      88: aload_0
      89: aload_1
      90: putfield      #6                  // Field compressibleMimeTypes:[Ljava/lang/String;
      93: aload_1
      94: areturn

  public int getCompressionMinSize();
    Code:
       0: aload_0
       1: getfield      #7                  // Field compressionMinSize:I
       4: ireturn

  public void setCompressionMinSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #7                  // Field compressionMinSize:I
       5: return

  public boolean getNoCompressionStrongETag();
    Code:
       0: aload_0
       1: getfield      #8                  // Field noCompressionStrongETag:Z
       4: ireturn

  public void setNoCompressionStrongETag(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #8                  // Field noCompressionStrongETag:Z
       5: return

  public boolean useCompression(org.apache.coyote.Request, org.apache.coyote.Response);
    Code:
       0: aload_0
       1: getfield      #2                  // Field compressionLevel:I
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_2
      10: invokevirtual #32                 // Method org/apache/coyote/Response.getMimeHeaders:()Lorg/apache/tomcat/util/http/MimeHeaders;
      13: astore_3
      14: aload_3
      15: ldc           #33                 // String Content-Encoding
      17: invokevirtual #34                 // Method org/apache/tomcat/util/http/MimeHeaders.getValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
      20: astore        4
      22: aload         4
      24: ifnull        99
      27: new           #35                 // class java/util/HashSet
      30: dup
      31: invokespecial #36                 // Method java/util/HashSet."<init>":()V
      34: astore        5
      36: aload_3
      37: ldc           #33                 // String Content-Encoding
      39: invokevirtual #37                 // Method org/apache/tomcat/util/http/MimeHeaders.values:(Ljava/lang/String;)Ljava/util/Enumeration;
      42: aload         5
      44: invokestatic  #38                 // Method org/apache/tomcat/util/http/parser/TokenList.parseTokenList:(Ljava/util/Enumeration;Ljava/util/Collection;)Z
      47: pop
      48: goto          73
      51: astore        6
      53: getstatic     #40                 // Field log:Lorg/apache/juli/logging/Log;
      56: getstatic     #41                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      59: ldc           #42                 // String compressionConfig.ContentEncodingParseFail
      61: invokevirtual #43                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      64: aload         6
      66: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      71: iconst_0
      72: ireturn
      73: aload         5
      75: ldc           #45                 // String gzip
      77: invokeinterface #46,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      82: ifne          97
      85: aload         5
      87: ldc           #47                 // String br
      89: invokeinterface #46,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      94: ifeq          99
      97: iconst_0
      98: ireturn
      99: aload_0
     100: getfield      #2                  // Field compressionLevel:I
     103: iconst_2
     104: if_icmpeq     160
     107: aload_2
     108: invokevirtual #48                 // Method org/apache/coyote/Response.getContentLengthLong:()J
     111: lstore        5
     113: lload         5
     115: ldc2_w        #49                 // long -1l
     118: lcmp
     119: ifeq          135
     122: lload         5
     124: aload_0
     125: getfield      #7                  // Field compressionMinSize:I
     128: i2l
     129: lcmp
     130: ifge          135
     133: iconst_0
     134: ireturn
     135: aload_0
     136: invokevirtual #51                 // Method getCompressibleMimeTypes:()[Ljava/lang/String;
     139: astore        7
     141: aload         7
     143: ifnull        160
     146: aload         7
     148: aload_2
     149: invokevirtual #52                 // Method org/apache/coyote/Response.getContentType:()Ljava/lang/String;
     152: invokestatic  #53                 // Method startsWithStringArray:([Ljava/lang/String;Ljava/lang/String;)Z
     155: ifne          160
     158: iconst_0
     159: ireturn
     160: aload_0
     161: getfield      #8                  // Field noCompressionStrongETag:Z
     164: ifeq          195
     167: aload_3
     168: ldc           #54                 // String ETag
     170: invokevirtual #55                 // Method org/apache/tomcat/util/http/MimeHeaders.getHeader:(Ljava/lang/String;)Ljava/lang/String;
     173: astore        5
     175: aload         5
     177: ifnull        195
     180: aload         5
     182: invokevirtual #26                 // Method java/lang/String.trim:()Ljava/lang/String;
     185: ldc           #56                 // String W/
     187: invokevirtual #57                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     190: ifne          195
     193: iconst_0
     194: ireturn
     195: aload_3
     196: ldc           #58                 // String accept-encoding
     198: invokestatic  #59                 // Method org/apache/tomcat/util/http/ResponseUtil.addVaryFieldName:(Lorg/apache/tomcat/util/http/MimeHeaders;Ljava/lang/String;)V
     201: aload_1
     202: invokevirtual #60                 // Method org/apache/coyote/Request.getMimeHeaders:()Lorg/apache/tomcat/util/http/MimeHeaders;
     205: ldc           #58                 // String accept-encoding
     207: invokevirtual #37                 // Method org/apache/tomcat/util/http/MimeHeaders.values:(Ljava/lang/String;)Ljava/util/Enumeration;
     210: astore        5
     212: iconst_0
     213: istore        6
     215: iload         6
     217: ifne          318
     220: aload         5
     222: invokeinterface #61,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
     227: ifeq          318
     230: aconst_null
     231: astore        7
     233: new           #62                 // class java/io/StringReader
     236: dup
     237: aload         5
     239: invokeinterface #63,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
     244: checkcast     #29                 // class java/lang/String
     247: invokespecial #64                 // Method java/io/StringReader."<init>":(Ljava/lang/String;)V
     250: invokestatic  #65                 // Method org/apache/tomcat/util/http/parser/AcceptEncoding.parse:(Ljava/io/StringReader;)Ljava/util/List;
     253: astore        7
     255: goto          262
     258: astore        8
     260: iconst_0
     261: ireturn
     262: aload         7
     264: invokeinterface #66,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     269: astore        8
     271: aload         8
     273: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     278: ifeq          315
     281: aload         8
     283: invokeinterface #68,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     288: checkcast     #69                 // class org/apache/tomcat/util/http/parser/AcceptEncoding
     291: astore        9
     293: ldc           #45                 // String gzip
     295: aload         9
     297: invokevirtual #70                 // Method org/apache/tomcat/util/http/parser/AcceptEncoding.getEncoding:()Ljava/lang/String;
     300: invokevirtual #71                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
     303: ifeq          312
     306: iconst_1
     307: istore        6
     309: goto          315
     312: goto          271
     315: goto          215
     318: iload         6
     320: ifne          325
     323: iconst_0
     324: ireturn
     325: aload_0
     326: getfield      #2                  // Field compressionLevel:I
     329: iconst_2
     330: if_icmpeq     382
     333: aload_0
     334: getfield      #3                  // Field noCompressionUserAgents:Ljava/util/regex/Pattern;
     337: astore        7
     339: aload         7
     341: ifnull        382
     344: aload_1
     345: invokevirtual #60                 // Method org/apache/coyote/Request.getMimeHeaders:()Lorg/apache/tomcat/util/http/MimeHeaders;
     348: ldc           #72                 // String user-agent
     350: invokevirtual #34                 // Method org/apache/tomcat/util/http/MimeHeaders.getValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     353: astore        8
     355: aload         8
     357: ifnull        382
     360: aload         8
     362: invokevirtual #73                 // Method org/apache/tomcat/util/buf/MessageBytes.toString:()Ljava/lang/String;
     365: astore        9
     367: aload         7
     369: aload         9
     371: invokevirtual #74                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
     374: invokevirtual #75                 // Method java/util/regex/Matcher.matches:()Z
     377: ifeq          382
     380: iconst_0
     381: ireturn
     382: aload_2
     383: ldc2_w        #49                 // long -1l
     386: invokevirtual #76                 // Method org/apache/coyote/Response.setContentLength:(J)V
     389: aload_3
     390: ldc           #33                 // String Content-Encoding
     392: invokevirtual #77                 // Method org/apache/tomcat/util/http/MimeHeaders.setValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     395: ldc           #45                 // String gzip
     397: invokevirtual #78                 // Method org/apache/tomcat/util/buf/MessageBytes.setString:(Ljava/lang/String;)V
     400: iconst_1
     401: ireturn
    Exception table:
       from    to  target type
          36    48    51   Class java/io/IOException
         233   255   258   Class java/io/IOException

  private static boolean startsWithStringArray(java.lang.String[], java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: iconst_0
       5: ireturn
       6: iconst_0
       7: istore_2
       8: iload_2
       9: aload_0
      10: arraylength
      11: if_icmpge     32
      14: aload_1
      15: aload_0
      16: iload_2
      17: aaload
      18: invokevirtual #57                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      21: ifeq          26
      24: iconst_1
      25: ireturn
      26: iinc          2, 1
      29: goto          8
      32: iconst_0
      33: ireturn

  static {};
    Code:
       0: ldc           #79                 // class org/apache/coyote/CompressionConfig
       2: invokestatic  #80                 // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       5: putstatic     #40                 // Field log:Lorg/apache/juli/logging/Log;
       8: ldc           #79                 // class org/apache/coyote/CompressionConfig
      10: invokestatic  #81                 // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/Class;)Lorg/apache/tomcat/util/res/StringManager;
      13: putstatic     #41                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      16: return
}
