Compiled from "TomcatHttpHandlerAdapter.java"
final class org.springframework.http.server.reactive.TomcatHttpHandlerAdapter$TomcatServerHttpRequest extends org.springframework.http.server.reactive.ServletServerHttpRequest {
  private static final java.lang.reflect.Field COYOTE_REQUEST_FIELD;

  private final int bufferSize;

  private final org.springframework.core.io.buffer.DataBufferFactory factory;

  org.springframework.http.server.reactive.TomcatHttpHandlerAdapter$TomcatServerHttpRequest(javax.servlet.http.HttpServletRequest, javax.servlet.AsyncContext, java.lang.String, org.springframework.core.io.buffer.DataBufferFactory, int) throws java.io.IOException, java.net.URISyntaxException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #1                  // Method createTomcatHttpHeaders:(Ljavax/servlet/http/HttpServletRequest;)Lorg/springframework/http/HttpHeaders;
       5: aload_1
       6: aload_2
       7: aload_3
       8: aload         4
      10: iload         5
      12: invokespecial #2                  // Method org/springframework/http/server/reactive/ServletServerHttpRequest."<init>":(Lorg/springframework/http/HttpHeaders;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/AsyncContext;Ljava/lang/String;Lorg/springframework/core/io/buffer/DataBufferFactory;I)V
      15: aload_0
      16: aload         4
      18: putfield      #3                  // Field factory:Lorg/springframework/core/io/buffer/DataBufferFactory;
      21: aload_0
      22: iload         5
      24: putfield      #4                  // Field bufferSize:I
      27: return

  private static org.springframework.http.HttpHeaders createTomcatHttpHeaders(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_0
       1: invokestatic  #5                  // Method getRequestFacade:(Ljavax/servlet/http/HttpServletRequest;)Lorg/apache/catalina/connector/RequestFacade;
       4: astore_1
       5: getstatic     #6                  // Field COYOTE_REQUEST_FIELD:Ljava/lang/reflect/Field;
       8: aload_1
       9: invokestatic  #7                  // Method org/springframework/util/ReflectionUtils.getField:(Ljava/lang/reflect/Field;Ljava/lang/Object;)Ljava/lang/Object;
      12: checkcast     #8                  // class org/apache/catalina/connector/Request
      15: astore_2
      16: aload_2
      17: ifnull        24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ldc           #9                  // String No Tomcat connector request
      27: invokestatic  #10                 // Method org/springframework/util/Assert.state:(ZLjava/lang/String;)V
      30: aload_2
      31: invokevirtual #11                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      34: astore_3
      35: new           #12                 // class org/springframework/http/server/reactive/TomcatHeadersAdapter
      38: dup
      39: aload_3
      40: invokevirtual #13                 // Method org/apache/coyote/Request.getMimeHeaders:()Lorg/apache/tomcat/util/http/MimeHeaders;
      43: invokespecial #14                 // Method org/springframework/http/server/reactive/TomcatHeadersAdapter."<init>":(Lorg/apache/tomcat/util/http/MimeHeaders;)V
      46: astore        4
      48: new           #15                 // class org/springframework/http/HttpHeaders
      51: dup
      52: aload         4
      54: invokespecial #16                 // Method org/springframework/http/HttpHeaders."<init>":(Lorg/springframework/util/MultiValueMap;)V
      57: areturn

  private static org.apache.catalina.connector.RequestFacade getRequestFacade(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_0
       1: instanceof    #17                 // class org/apache/catalina/connector/RequestFacade
       4: ifeq          12
       7: aload_0
       8: checkcast     #17                 // class org/apache/catalina/connector/RequestFacade
      11: areturn
      12: aload_0
      13: instanceof    #18                 // class javax/servlet/http/HttpServletRequestWrapper
      16: ifeq          37
      19: aload_0
      20: checkcast     #18                 // class javax/servlet/http/HttpServletRequestWrapper
      23: astore_1
      24: aload_1
      25: invokevirtual #19                 // Method javax/servlet/http/HttpServletRequestWrapper.getRequest:()Ljavax/servlet/ServletRequest;
      28: checkcast     #20                 // class javax/servlet/http/HttpServletRequest
      31: astore_2
      32: aload_2
      33: invokestatic  #5                  // Method getRequestFacade:(Ljavax/servlet/http/HttpServletRequest;)Lorg/apache/catalina/connector/RequestFacade;
      36: areturn
      37: new           #21                 // class java/lang/IllegalArgumentException
      40: dup
      41: new           #22                 // class java/lang/StringBuilder
      44: dup
      45: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      48: ldc           #24                 // String Cannot convert [
      50: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: aload_0
      54: invokevirtual #26                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      57: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      60: ldc           #28                 // String ] to org.apache.catalina.connector.RequestFacade
      62: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      68: invokespecial #30                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      71: athrow

  protected org.springframework.core.io.buffer.DataBuffer readFromInputStream() throws java.io.IOException;
    Code:
       0: iconst_1
       1: istore_1
       2: aload_0
       3: getfield      #4                  // Field bufferSize:I
       6: istore_2
       7: aload_0
       8: getfield      #3                  // Field factory:Lorg/springframework/core/io/buffer/DataBufferFactory;
      11: iload_2
      12: invokeinterface #31,  2           // InterfaceMethod org/springframework/core/io/buffer/DataBufferFactory.allocateBuffer:(I)Lorg/springframework/core/io/buffer/DataBuffer;
      17: astore_3
      18: aload_3
      19: iconst_0
      20: iload_2
      21: invokeinterface #32,  3           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.asByteBuffer:(II)Ljava/nio/ByteBuffer;
      26: astore        4
      28: aload_0
      29: invokevirtual #33                 // Method getNativeRequest:()Ljava/lang/Object;
      32: checkcast     #34                 // class javax/servlet/ServletRequest
      35: astore        5
      37: aload         5
      39: invokeinterface #35,  1           // InterfaceMethod javax/servlet/ServletRequest.getInputStream:()Ljavax/servlet/ServletInputStream;
      44: checkcast     #36                 // class org/apache/catalina/connector/CoyoteInputStream
      47: aload         4
      49: invokevirtual #37                 // Method org/apache/catalina/connector/CoyoteInputStream.read:(Ljava/nio/ByteBuffer;)I
      52: istore        6
      54: aload_0
      55: iload         6
      57: invokevirtual #38                 // Method logBytesRead:(I)V
      60: iload         6
      62: ifle          91
      65: aload_3
      66: iload         6
      68: invokeinterface #39,  2           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.writePosition:(I)Lorg/springframework/core/io/buffer/DataBuffer;
      73: pop
      74: iconst_0
      75: istore_1
      76: aload_3
      77: astore        7
      79: iload_1
      80: ifeq          88
      83: aload_3
      84: invokestatic  #40                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
      87: pop
      88: aload         7
      90: areturn
      91: iload         6
      93: iconst_m1
      94: if_icmpne     114
      97: getstatic     #41                 // Field EOF_BUFFER:Lorg/springframework/core/io/buffer/DataBuffer;
     100: astore        7
     102: iload_1
     103: ifeq          111
     106: aload_3
     107: invokestatic  #40                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     110: pop
     111: aload         7
     113: areturn
     114: aconst_null
     115: astore        7
     117: iload_1
     118: ifeq          126
     121: aload_3
     122: invokestatic  #40                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     125: pop
     126: aload         7
     128: areturn
     129: astore        8
     131: iload_1
     132: ifeq          140
     135: aload_3
     136: invokestatic  #40                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     139: pop
     140: aload         8
     142: athrow
    Exception table:
       from    to  target type
          18    79   129   any
          91   102   129   any
         114   117   129   any
         129   131   129   any

  static {};
    Code:
       0: ldc           #17                 // class org/apache/catalina/connector/RequestFacade
       2: ldc           #42                 // String request
       4: invokestatic  #43                 // Method org/springframework/util/ReflectionUtils.findField:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/reflect/Field;
       7: astore_0
       8: aload_0
       9: ifnull        16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ldc           #44                 // String Incompatible Tomcat implementation
      19: invokestatic  #10                 // Method org/springframework/util/Assert.state:(ZLjava/lang/String;)V
      22: aload_0
      23: invokestatic  #45                 // Method org/springframework/util/ReflectionUtils.makeAccessible:(Ljava/lang/reflect/Field;)V
      26: aload_0
      27: putstatic     #6                  // Field COYOTE_REQUEST_FIELD:Ljava/lang/reflect/Field;
      30: return
}
