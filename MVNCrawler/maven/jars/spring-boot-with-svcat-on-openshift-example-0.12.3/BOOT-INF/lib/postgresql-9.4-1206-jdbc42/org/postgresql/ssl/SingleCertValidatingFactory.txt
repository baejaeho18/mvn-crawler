Compiled from "SingleCertValidatingFactory.java"
public class org.postgresql.ssl.SingleCertValidatingFactory extends org.postgresql.ssl.WrappedFactory {
  private static final java.lang.String FILE_PREFIX;

  private static final java.lang.String CLASSPATH_PREFIX;

  private static final java.lang.String ENV_PREFIX;

  private static final java.lang.String SYS_PROP_PREFIX;

  public org.postgresql.ssl.SingleCertValidatingFactory(java.lang.String) throws java.security.GeneralSecurityException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/postgresql/ssl/WrappedFactory."<init>":()V
       4: aload_1
       5: ifnull        17
       8: aload_1
       9: ldc           #2                  // String
      11: invokevirtual #3                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      14: ifeq          30
      17: new           #4                  // class java/security/GeneralSecurityException
      20: dup
      21: ldc           #5                  // String The sslfactoryarg property may not be empty.
      23: invokestatic  #6                  // Method org/postgresql/util/GT.tr:(Ljava/lang/String;)Ljava/lang/String;
      26: invokespecial #7                  // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
      29: athrow
      30: aconst_null
      31: astore_2
      32: aload_1
      33: ldc           #9                  // String file:
      35: invokevirtual #10                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      38: ifeq          70
      41: aload_1
      42: ldc           #9                  // String file:
      44: invokevirtual #11                 // Method java/lang/String.length:()I
      47: invokevirtual #12                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      50: astore_3
      51: new           #13                 // class java/io/BufferedInputStream
      54: dup
      55: new           #14                 // class java/io/FileInputStream
      58: dup
      59: aload_3
      60: invokespecial #15                 // Method java/io/FileInputStream."<init>":(Ljava/lang/String;)V
      63: invokespecial #16                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      66: astore_2
      67: goto          291
      70: aload_1
      71: ldc           #17                 // String classpath:
      73: invokevirtual #10                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      76: ifeq          110
      79: aload_1
      80: ldc           #17                 // String classpath:
      82: invokevirtual #11                 // Method java/lang/String.length:()I
      85: invokevirtual #12                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      88: astore_3
      89: new           #13                 // class java/io/BufferedInputStream
      92: dup
      93: invokestatic  #18                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      96: invokevirtual #19                 // Method java/lang/Thread.getContextClassLoader:()Ljava/lang/ClassLoader;
      99: aload_3
     100: invokevirtual #20                 // Method java/lang/ClassLoader.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
     103: invokespecial #16                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
     106: astore_2
     107: goto          291
     110: aload_1
     111: ldc           #21                 // String env:
     113: invokevirtual #10                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     116: ifeq          181
     119: aload_1
     120: ldc           #21                 // String env:
     122: invokevirtual #11                 // Method java/lang/String.length:()I
     125: invokevirtual #12                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     128: astore_3
     129: aload_3
     130: invokestatic  #22                 // Method java/lang/System.getenv:(Ljava/lang/String;)Ljava/lang/String;
     133: astore        4
     135: aload         4
     137: ifnull        150
     140: ldc           #2                  // String
     142: aload         4
     144: invokevirtual #3                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     147: ifeq          163
     150: new           #4                  // class java/security/GeneralSecurityException
     153: dup
     154: ldc           #23                 // String The environment variable containing the server\'s SSL certificate must not be empty.
     156: invokestatic  #6                  // Method org/postgresql/util/GT.tr:(Ljava/lang/String;)Ljava/lang/String;
     159: invokespecial #7                  // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
     162: athrow
     163: new           #24                 // class java/io/ByteArrayInputStream
     166: dup
     167: aload         4
     169: ldc           #25                 // String UTF-8
     171: invokevirtual #26                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     174: invokespecial #27                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     177: astore_2
     178: goto          291
     181: aload_1
     182: ldc           #28                 // String sys:
     184: invokevirtual #10                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     187: ifeq          252
     190: aload_1
     191: ldc           #28                 // String sys:
     193: invokevirtual #11                 // Method java/lang/String.length:()I
     196: invokevirtual #12                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     199: astore_3
     200: aload_3
     201: invokestatic  #29                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     204: astore        4
     206: aload         4
     208: ifnull        221
     211: ldc           #2                  // String
     213: aload         4
     215: invokevirtual #3                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     218: ifeq          234
     221: new           #4                  // class java/security/GeneralSecurityException
     224: dup
     225: ldc           #30                 // String The system property containing the server\'s SSL certificate must not be empty.
     227: invokestatic  #6                  // Method org/postgresql/util/GT.tr:(Ljava/lang/String;)Ljava/lang/String;
     230: invokespecial #7                  // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
     233: athrow
     234: new           #24                 // class java/io/ByteArrayInputStream
     237: dup
     238: aload         4
     240: ldc           #25                 // String UTF-8
     242: invokevirtual #26                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     245: invokespecial #27                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     248: astore_2
     249: goto          291
     252: aload_1
     253: ldc           #31                 // String -----BEGIN CERTIFICATE-----
     255: invokevirtual #10                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     258: ifeq          278
     261: new           #24                 // class java/io/ByteArrayInputStream
     264: dup
     265: aload_1
     266: ldc           #25                 // String UTF-8
     268: invokevirtual #26                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     271: invokespecial #27                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     274: astore_2
     275: goto          291
     278: new           #4                  // class java/security/GeneralSecurityException
     281: dup
     282: ldc           #32                 // String The sslfactoryarg property must start with the prefix file:, classpath:, env:, sys:, or -----BEGIN CERTIFICATE-----.
     284: invokestatic  #6                  // Method org/postgresql/util/GT.tr:(Ljava/lang/String;)Ljava/lang/String;
     287: invokespecial #7                  // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
     290: athrow
     291: ldc           #33                 // String TLS
     293: invokestatic  #34                 // Method javax/net/ssl/SSLContext.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/SSLContext;
     296: astore_3
     297: aload_3
     298: aconst_null
     299: iconst_1
     300: anewarray     #35                 // class javax/net/ssl/TrustManager
     303: dup
     304: iconst_0
     305: new           #36                 // class org/postgresql/ssl/SingleCertValidatingFactory$SingleCertTrustManager
     308: dup
     309: aload_0
     310: aload_2
     311: invokespecial #37                 // Method org/postgresql/ssl/SingleCertValidatingFactory$SingleCertTrustManager."<init>":(Lorg/postgresql/ssl/SingleCertValidatingFactory;Ljava/io/InputStream;)V
     314: aastore
     315: aconst_null
     316: invokevirtual #38                 // Method javax/net/ssl/SSLContext.init:([Ljavax/net/ssl/KeyManager;[Ljavax/net/ssl/TrustManager;Ljava/security/SecureRandom;)V
     319: aload_0
     320: aload_3
     321: invokevirtual #39                 // Method javax/net/ssl/SSLContext.getSocketFactory:()Ljavax/net/ssl/SSLSocketFactory;
     324: putfield      #40                 // Field _factory:Ljavax/net/ssl/SSLSocketFactory;
     327: aload_2
     328: ifnull        390
     331: aload_2
     332: invokevirtual #41                 // Method java/io/InputStream.close:()V
     335: goto          390
     338: astore_3
     339: goto          390
     342: astore_3
     343: aload_3
     344: athrow
     345: astore_3
     346: aload_3
     347: instanceof    #4                  // class java/security/GeneralSecurityException
     350: ifeq          358
     353: aload_3
     354: checkcast     #4                  // class java/security/GeneralSecurityException
     357: athrow
     358: new           #4                  // class java/security/GeneralSecurityException
     361: dup
     362: ldc           #44                 // String An error occurred reading the certificate
     364: invokestatic  #6                  // Method org/postgresql/util/GT.tr:(Ljava/lang/String;)Ljava/lang/String;
     367: aload_3
     368: invokespecial #45                 // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     371: athrow
     372: astore        5
     374: aload_2
     375: ifnull        387
     378: aload_2
     379: invokevirtual #41                 // Method java/io/InputStream.close:()V
     382: goto          387
     385: astore        6
     387: aload         5
     389: athrow
     390: return
    Exception table:
       from    to  target type
         331   335   338   Class java/lang/Exception
          32   327   342   Class java/lang/RuntimeException
          32   327   345   Class java/lang/Exception
          32   327   372   any
         378   382   385   Class java/lang/Exception
         342   374   372   any
}
