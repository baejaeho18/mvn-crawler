Compiled from "AbstractJdbc23PooledConnection.java"
public abstract class org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection {
  private final java.util.List<javax.sql.ConnectionEventListener> listeners;

  private java.sql.Connection con;

  private org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection$ConnectionHandler last;

  private final boolean autoCommit;

  private final boolean isXA;

  private static java.lang.String[] fatalClasses;

  public org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection(java.sql.Connection, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #5                  // class java/util/LinkedList
       8: dup
       9: invokespecial #6                  // Method java/util/LinkedList."<init>":()V
      12: putfield      #7                  // Field listeners:Ljava/util/List;
      15: aload_0
      16: aload_1
      17: putfield      #8                  // Field con:Ljava/sql/Connection;
      20: aload_0
      21: iload_2
      22: putfield      #9                  // Field autoCommit:Z
      25: aload_0
      26: iload_3
      27: putfield      #3                  // Field isXA:Z
      30: return

  public void addConnectionEventListener(javax.sql.ConnectionEventListener);
    Code:
       0: aload_0
       1: getfield      #7                  // Field listeners:Ljava/util/List;
       4: aload_1
       5: invokeinterface #10,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      10: pop
      11: return

  public void removeConnectionEventListener(javax.sql.ConnectionEventListener);
    Code:
       0: aload_0
       1: getfield      #7                  // Field listeners:Ljava/util/List;
       4: aload_1
       5: invokeinterface #11,  2           // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      10: pop
      11: return

  public void close() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
       4: ifnull        51
       7: aload_0
       8: getfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
      11: invokevirtual #12                 // Method org/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler.close:()V
      14: aload_0
      15: getfield      #8                  // Field con:Ljava/sql/Connection;
      18: invokeinterface #13,  1           // InterfaceMethod java/sql/Connection.isClosed:()Z
      23: ifne          51
      26: aload_0
      27: getfield      #8                  // Field con:Ljava/sql/Connection;
      30: invokeinterface #14,  1           // InterfaceMethod java/sql/Connection.getAutoCommit:()Z
      35: ifne          51
      38: aload_0
      39: getfield      #8                  // Field con:Ljava/sql/Connection;
      42: invokeinterface #15,  1           // InterfaceMethod java/sql/Connection.rollback:()V
      47: goto          51
      50: astore_1
      51: aload_0
      52: getfield      #8                  // Field con:Ljava/sql/Connection;
      55: invokeinterface #17,  1           // InterfaceMethod java/sql/Connection.close:()V
      60: aload_0
      61: aconst_null
      62: putfield      #8                  // Field con:Ljava/sql/Connection;
      65: goto          76
      68: astore_2
      69: aload_0
      70: aconst_null
      71: putfield      #8                  // Field con:Ljava/sql/Connection;
      74: aload_2
      75: athrow
      76: return
    Exception table:
       from    to  target type
          38    47    50   Class java/sql/SQLException
          51    60    68   any

  public java.sql.Connection getConnection() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field con:Ljava/sql/Connection;
       4: ifnonnull     30
       7: new           #18                 // class org/postgresql/util/PSQLException
      10: dup
      11: ldc           #19                 // String This PooledConnection has already been closed.
      13: invokestatic  #20                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;)Ljava/lang/String;
      16: getstatic     #21                 // Field org/postgresql/util/PSQLState.CONNECTION_DOES_NOT_EXIST:Lorg/postgresql/util/PSQLState;
      19: invokespecial #22                 // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;)V
      22: astore_1
      23: aload_0
      24: aload_1
      25: invokevirtual #23                 // Method fireConnectionFatalError:(Ljava/sql/SQLException;)V
      28: aload_1
      29: athrow
      30: aload_0
      31: getfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
      34: ifnull        78
      37: aload_0
      38: getfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
      41: invokevirtual #12                 // Method org/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler.close:()V
      44: aload_0
      45: getfield      #8                  // Field con:Ljava/sql/Connection;
      48: invokeinterface #14,  1           // InterfaceMethod java/sql/Connection.getAutoCommit:()Z
      53: ifne          69
      56: aload_0
      57: getfield      #8                  // Field con:Ljava/sql/Connection;
      60: invokeinterface #15,  1           // InterfaceMethod java/sql/Connection.rollback:()V
      65: goto          69
      68: astore_1
      69: aload_0
      70: getfield      #8                  // Field con:Ljava/sql/Connection;
      73: invokeinterface #24,  1           // InterfaceMethod java/sql/Connection.clearWarnings:()V
      78: aload_0
      79: getfield      #3                  // Field isXA:Z
      82: ifne          98
      85: aload_0
      86: getfield      #8                  // Field con:Ljava/sql/Connection;
      89: aload_0
      90: getfield      #9                  // Field autoCommit:Z
      93: invokeinterface #25,  2           // InterfaceMethod java/sql/Connection.setAutoCommit:(Z)V
      98: goto          115
     101: astore_1
     102: aload_0
     103: aload_1
     104: invokevirtual #23                 // Method fireConnectionFatalError:(Ljava/sql/SQLException;)V
     107: aload_1
     108: invokevirtual #26                 // Method java/sql/SQLException.fillInStackTrace:()Ljava/lang/Throwable;
     111: checkcast     #16                 // class java/sql/SQLException
     114: athrow
     115: new           #27                 // class org/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler
     118: dup
     119: aload_0
     120: aload_0
     121: getfield      #8                  // Field con:Ljava/sql/Connection;
     124: invokespecial #28                 // Method org/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler."<init>":(Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection;Ljava/sql/Connection;)V
     127: astore_1
     128: aload_0
     129: aload_1
     130: putfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
     133: aload_0
     134: invokevirtual #29                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     137: invokevirtual #30                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
     140: iconst_2
     141: anewarray     #31                 // class java/lang/Class
     144: dup
     145: iconst_0
     146: ldc           #32                 // class java/sql/Connection
     148: aastore
     149: dup
     150: iconst_1
     151: ldc           #33                 // class org/postgresql/PGConnection
     153: aastore
     154: aload_1
     155: invokestatic  #34                 // Method java/lang/reflect/Proxy.newProxyInstance:(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;
     158: checkcast     #32                 // class java/sql/Connection
     161: astore_2
     162: aload_0
     163: getfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
     166: aload_2
     167: invokevirtual #35                 // Method org/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler.setProxy:(Ljava/sql/Connection;)V
     170: aload_2
     171: areturn
    Exception table:
       from    to  target type
          56    65    68   Class java/sql/SQLException
          30    98   101   Class java/sql/SQLException

  void fireConnectionClosed();
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #7                  // Field listeners:Ljava/util/List;
       6: aload_0
       7: getfield      #7                  // Field listeners:Ljava/util/List;
      10: invokeinterface #36,  1           // InterfaceMethod java/util/List.size:()I
      15: anewarray     #37                 // class javax/sql/ConnectionEventListener
      18: invokeinterface #38,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      23: checkcast     #39                 // class "[Ljavax/sql/ConnectionEventListener;"
      26: astore_2
      27: aload_2
      28: astore_3
      29: aload_3
      30: arraylength
      31: istore        4
      33: iconst_0
      34: istore        5
      36: iload         5
      38: iload         4
      40: if_icmpge     73
      43: aload_3
      44: iload         5
      46: aaload
      47: astore        6
      49: aload_1
      50: ifnonnull     59
      53: aload_0
      54: aconst_null
      55: invokevirtual #40                 // Method createConnectionEvent:(Ljava/sql/SQLException;)Ljavax/sql/ConnectionEvent;
      58: astore_1
      59: aload         6
      61: aload_1
      62: invokeinterface #41,  2           // InterfaceMethod javax/sql/ConnectionEventListener.connectionClosed:(Ljavax/sql/ConnectionEvent;)V
      67: iinc          5, 1
      70: goto          36
      73: return

  void fireConnectionFatalError(java.sql.SQLException);
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: getfield      #7                  // Field listeners:Ljava/util/List;
       6: aload_0
       7: getfield      #7                  // Field listeners:Ljava/util/List;
      10: invokeinterface #36,  1           // InterfaceMethod java/util/List.size:()I
      15: anewarray     #37                 // class javax/sql/ConnectionEventListener
      18: invokeinterface #38,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      23: checkcast     #39                 // class "[Ljavax/sql/ConnectionEventListener;"
      26: astore_3
      27: aload_3
      28: astore        4
      30: aload         4
      32: arraylength
      33: istore        5
      35: iconst_0
      36: istore        6
      38: iload         6
      40: iload         5
      42: if_icmpge     76
      45: aload         4
      47: iload         6
      49: aaload
      50: astore        7
      52: aload_2
      53: ifnonnull     62
      56: aload_0
      57: aload_1
      58: invokevirtual #40                 // Method createConnectionEvent:(Ljava/sql/SQLException;)Ljavax/sql/ConnectionEvent;
      61: astore_2
      62: aload         7
      64: aload_2
      65: invokeinterface #42,  2           // InterfaceMethod javax/sql/ConnectionEventListener.connectionErrorOccurred:(Ljavax/sql/ConnectionEvent;)V
      70: iinc          6, 1
      73: goto          38
      76: return

  protected abstract javax.sql.ConnectionEvent createConnectionEvent(java.sql.SQLException);

  private static boolean isFatalState(java.lang.String);
    Code:
       0: aload_0
       1: ifnonnull     6
       4: iconst_1
       5: ireturn
       6: aload_0
       7: invokevirtual #43                 // Method java/lang/String.length:()I
      10: iconst_2
      11: if_icmpge     16
      14: iconst_1
      15: ireturn
      16: getstatic     #44                 // Field fatalClasses:[Ljava/lang/String;
      19: astore_1
      20: aload_1
      21: arraylength
      22: istore_2
      23: iconst_0
      24: istore_3
      25: iload_3
      26: iload_2
      27: if_icmpge     52
      30: aload_1
      31: iload_3
      32: aaload
      33: astore        4
      35: aload_0
      36: aload         4
      38: invokevirtual #45                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      41: ifeq          46
      44: iconst_1
      45: ireturn
      46: iinc          3, 1
      49: goto          25
      52: iconst_0
      53: ireturn

  private void fireConnectionError(java.sql.SQLException);
    Code:
       0: aload_1
       1: invokevirtual #46                 // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
       4: invokestatic  #47                 // Method isFatalState:(Ljava/lang/String;)Z
       7: ifne          11
      10: return
      11: aload_0
      12: aload_1
      13: invokevirtual #23                 // Method fireConnectionFatalError:(Ljava/sql/SQLException;)V
      16: return

  static boolean access$000(org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection);
    Code:
       0: aload_0
       1: getfield      #3                  // Field isXA:Z
       4: ireturn

  static org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection$ConnectionHandler access$102(org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection, org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection$ConnectionHandler);
    Code:
       0: aload_0
       1: aload_1
       2: dup_x1
       3: putfield      #2                  // Field last:Lorg/postgresql/ds/jdbc23/AbstractJdbc23PooledConnection$ConnectionHandler;
       6: areturn

  static void access$200(org.postgresql.ds.jdbc23.AbstractJdbc23PooledConnection, java.sql.SQLException);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method fireConnectionError:(Ljava/sql/SQLException;)V
       5: return

  static {};
    Code:
       0: bipush        10
       2: anewarray     #48                 // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #49                 // String 08
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #50                 // String 53
      14: aastore
      15: dup
      16: iconst_2
      17: ldc           #51                 // String 57P01
      19: aastore
      20: dup
      21: iconst_3
      22: ldc           #52                 // String 57P02
      24: aastore
      25: dup
      26: iconst_4
      27: ldc           #53                 // String 57P03
      29: aastore
      30: dup
      31: iconst_5
      32: ldc           #54                 // String 58
      34: aastore
      35: dup
      36: bipush        6
      38: ldc           #55                 // String 60
      40: aastore
      41: dup
      42: bipush        7
      44: ldc           #56                 // String 99
      46: aastore
      47: dup
      48: bipush        8
      50: ldc           #57                 // String F0
      52: aastore
      53: dup
      54: bipush        9
      56: ldc           #58                 // String XX
      58: aastore
      59: putstatic     #44                 // Field fatalClasses:[Ljava/lang/String;
      62: return
}
