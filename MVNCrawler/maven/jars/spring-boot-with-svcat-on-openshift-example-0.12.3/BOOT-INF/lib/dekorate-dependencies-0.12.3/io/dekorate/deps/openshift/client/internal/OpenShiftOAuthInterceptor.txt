Compiled from "OpenShiftOAuthInterceptor.java"
public class io.dekorate.deps.openshift.client.internal.OpenShiftOAuthInterceptor implements io.dekorate.deps.okhttp3.Interceptor {
  private static final java.lang.String AUTHORIZATION;

  private static final java.lang.String LOCATION;

  private static final java.lang.String AUTHORIZATION_SERVER_PATH;

  private static final java.lang.String AUTHORIZE_QUERY;

  private static final java.lang.String BEFORE_TOKEN;

  private static final java.lang.String AFTER_TOKEN;

  private final io.dekorate.deps.okhttp3.OkHttpClient client;

  private final io.dekorate.deps.openshift.client.OpenShiftConfig config;

  private final java.util.concurrent.atomic.AtomicReference<java.lang.String> oauthToken;

  public io.dekorate.deps.openshift.client.internal.OpenShiftOAuthInterceptor(io.dekorate.deps.okhttp3.OkHttpClient, io.dekorate.deps.openshift.client.OpenShiftConfig);
    Code:
       0: aload_0
       1: invokespecial #50                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #52                 // class java/util/concurrent/atomic/AtomicReference
       8: dup
       9: invokespecial #53                 // Method java/util/concurrent/atomic/AtomicReference."<init>":()V
      12: putfield      #55                 // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
      15: aload_0
      16: aload_1
      17: putfield      #57                 // Field client:Lio/dekorate/deps/okhttp3/OkHttpClient;
      20: aload_0
      21: aload_2
      22: putfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
      25: return

  public io.dekorate.deps.okhttp3.Response intercept(io.dekorate.deps.okhttp3.Interceptor$Chain) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokeinterface #69,  1           // InterfaceMethod io/dekorate/deps/okhttp3/Interceptor$Chain.request:()Lio/dekorate/deps/okhttp3/Request;
       6: astore_2
       7: aload_2
       8: invokevirtual #73                 // Method io/dekorate/deps/okhttp3/Request.newBuilder:()Lio/dekorate/deps/okhttp3/Request$Builder;
      11: astore_3
      12: aload_0
      13: getfield      #55                 // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
      16: invokevirtual #77                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
      19: checkcast     #79                 // class java/lang/String
      22: astore        4
      24: aload         4
      26: invokestatic  #85                 // Method io/dekorate/deps/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
      29: ifeq          51
      32: aload_2
      33: ldc           #23                 // String Authorization
      35: invokevirtual #89                 // Method io/dekorate/deps/okhttp3/Request.header:(Ljava/lang/String;)Ljava/lang/String;
      38: invokestatic  #92                 // Method io/dekorate/deps/kubernetes/client/utils/Utils.isNullOrEmpty:(Ljava/lang/String;)Z
      41: ifeq          51
      44: aload_0
      45: aload_3
      46: aload         4
      48: invokespecial #96                 // Method setAuthHeader:(Lio/dekorate/deps/okhttp3/Request$Builder;Ljava/lang/String;)V
      51: aload_3
      52: invokevirtual #99                 // Method io/dekorate/deps/okhttp3/Request$Builder.build:()Lio/dekorate/deps/okhttp3/Request;
      55: astore_2
      56: aload_1
      57: aload_2
      58: invokeinterface #103,  2          // InterfaceMethod io/dekorate/deps/okhttp3/Interceptor$Chain.proceed:(Lio/dekorate/deps/okhttp3/Request;)Lio/dekorate/deps/okhttp3/Response;
      63: astore        5
      65: aload         5
      67: invokevirtual #109                // Method io/dekorate/deps/okhttp3/Response.code:()I
      70: sipush        401
      73: if_icmpeq     90
      76: aload         5
      78: invokevirtual #109                // Method io/dekorate/deps/okhttp3/Response.code:()I
      81: sipush        403
      84: if_icmpeq     90
      87: aload         5
      89: areturn
      90: aload_0
      91: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
      94: invokevirtual #115                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getUsername:()Ljava/lang/String;
      97: invokestatic  #85                 // Method io/dekorate/deps/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     100: ifeq          169
     103: aload_0
     104: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
     107: invokevirtual #118                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getPassword:()Ljava/lang/String;
     110: invokestatic  #85                 // Method io/dekorate/deps/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     113: ifeq          169
     116: aload_0
     117: getfield      #57                 // Field client:Lio/dekorate/deps/okhttp3/OkHttpClient;
     120: dup
     121: astore        6
     123: monitorenter
     124: aload_0
     125: getfield      #55                 // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
     128: aconst_null
     129: invokevirtual #122                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
     132: aload_0
     133: invokespecial #125                // Method authorize:()Ljava/lang/String;
     136: astore        4
     138: aload         4
     140: ifnull        152
     143: aload_0
     144: getfield      #55                 // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
     147: aload         4
     149: invokevirtual #122                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
     152: aload         6
     154: monitorexit
     155: goto          166
     158: astore        7
     160: aload         6
     162: monitorexit
     163: aload         7
     165: athrow
     166: goto          200
     169: aload_0
     170: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
     173: invokevirtual #130                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getOauthToken:()Ljava/lang/String;
     176: invokestatic  #85                 // Method io/dekorate/deps/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     179: ifeq          200
     182: aload_0
     183: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
     186: invokevirtual #130                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getOauthToken:()Ljava/lang/String;
     189: astore        4
     191: aload_0
     192: getfield      #55                 // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
     195: aload         4
     197: invokevirtual #122                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
     200: aload         4
     202: invokestatic  #85                 // Method io/dekorate/deps/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     205: ifeq          236
     208: aload         5
     210: invokevirtual #134                // Method io/dekorate/deps/okhttp3/Response.body:()Lio/dekorate/deps/okhttp3/ResponseBody;
     213: invokevirtual #139                // Method io/dekorate/deps/okhttp3/ResponseBody.close:()V
     216: aload_0
     217: aload_3
     218: aload         4
     220: invokespecial #96                 // Method setAuthHeader:(Lio/dekorate/deps/okhttp3/Request$Builder;Ljava/lang/String;)V
     223: aload_3
     224: invokevirtual #99                 // Method io/dekorate/deps/okhttp3/Request$Builder.build:()Lio/dekorate/deps/okhttp3/Request;
     227: astore_2
     228: aload_1
     229: aload_2
     230: invokeinterface #103,  2          // InterfaceMethod io/dekorate/deps/okhttp3/Interceptor$Chain.proceed:(Lio/dekorate/deps/okhttp3/Request;)Lio/dekorate/deps/okhttp3/Response;
     235: areturn
     236: aload         5
     238: areturn
    Exception table:
       from    to  target type
         124   155   158   any
         158   163   158   any

  private void setAuthHeader(io.dekorate.deps.okhttp3.Request$Builder, java.lang.String);
    Code:
       0: aload_2
       1: ifnull        24
       4: aload_1
       5: ldc           #23                 // String Authorization
       7: ldc           #149                // String Bearer %s
       9: iconst_1
      10: anewarray     #4                  // class java/lang/Object
      13: dup
      14: iconst_0
      15: aload_2
      16: aastore
      17: invokestatic  #153                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      20: invokevirtual #156                // Method io/dekorate/deps/okhttp3/Request$Builder.header:(Ljava/lang/String;Ljava/lang/String;)Lio/dekorate/deps/okhttp3/Request$Builder;
      23: pop
      24: return

  private java.lang.String authorize();
    Code:
       0: aload_0
       1: getfield      #57                 // Field client:Lio/dekorate/deps/okhttp3/OkHttpClient;
       4: invokevirtual #161                // Method io/dekorate/deps/okhttp3/OkHttpClient.newBuilder:()Lio/dekorate/deps/okhttp3/OkHttpClient$Builder;
       7: astore_1
       8: aload_1
       9: invokevirtual #165                // Method io/dekorate/deps/okhttp3/OkHttpClient$Builder.interceptors:()Ljava/util/List;
      12: aload_0
      13: invokeinterface #171,  2          // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      18: pop
      19: aload_1
      20: invokevirtual #174                // Method io/dekorate/deps/okhttp3/OkHttpClient$Builder.build:()Lio/dekorate/deps/okhttp3/OkHttpClient;
      23: astore_2
      24: new           #176                // class java/net/URL
      27: dup
      28: iconst_2
      29: anewarray     #79                 // class java/lang/String
      32: dup
      33: iconst_0
      34: aload_0
      35: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
      38: invokevirtual #179                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getMasterUrl:()Ljava/lang/String;
      41: aastore
      42: dup
      43: iconst_1
      44: ldc           #29                 // String .well-known/oauth-authorization-server
      46: aastore
      47: invokestatic  #185                // Method io/dekorate/deps/kubernetes/client/utils/URLUtils.join:([Ljava/lang/String;)Ljava/lang/String;
      50: invokespecial #188                // Method java/net/URL."<init>":(Ljava/lang/String;)V
      53: astore_3
      54: aload_2
      55: new           #12                 // class io/dekorate/deps/okhttp3/Request$Builder
      58: dup
      59: invokespecial #189                // Method io/dekorate/deps/okhttp3/Request$Builder."<init>":()V
      62: invokevirtual #191                // Method io/dekorate/deps/okhttp3/Request$Builder.get:()Lio/dekorate/deps/okhttp3/Request$Builder;
      65: aload_3
      66: invokevirtual #195                // Method io/dekorate/deps/okhttp3/Request$Builder.url:(Ljava/net/URL;)Lio/dekorate/deps/okhttp3/Request$Builder;
      69: invokevirtual #99                 // Method io/dekorate/deps/okhttp3/Request$Builder.build:()Lio/dekorate/deps/okhttp3/Request;
      72: invokevirtual #199                // Method io/dekorate/deps/okhttp3/OkHttpClient.newCall:(Lio/dekorate/deps/okhttp3/Request;)Lio/dekorate/deps/okhttp3/Call;
      75: invokeinterface #205,  1          // InterfaceMethod io/dekorate/deps/okhttp3/Call.execute:()Lio/dekorate/deps/okhttp3/Response;
      80: astore        4
      82: aload         4
      84: invokevirtual #209                // Method io/dekorate/deps/okhttp3/Response.isSuccessful:()Z
      87: ifeq          98
      90: aload         4
      92: invokevirtual #134                // Method io/dekorate/deps/okhttp3/Response.body:()Lio/dekorate/deps/okhttp3/ResponseBody;
      95: ifnonnull     147
      98: new           #211                // class io/dekorate/deps/kubernetes/client/KubernetesClientException
     101: dup
     102: new           #213                // class java/lang/StringBuilder
     105: dup
     106: invokespecial #214                // Method java/lang/StringBuilder."<init>":()V
     109: ldc           #216                // String Unexpected response (
     111: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: aload         4
     116: invokevirtual #109                // Method io/dekorate/deps/okhttp3/Response.code:()I
     119: invokevirtual #223                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     122: ldc           #225                // String
     124: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: aload         4
     129: invokevirtual #228                // Method io/dekorate/deps/okhttp3/Response.message:()Ljava/lang/String;
     132: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: ldc           #230                // String )
     137: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: invokevirtual #233                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     143: invokespecial #234                // Method io/dekorate/deps/kubernetes/client/KubernetesClientException."<init>":(Ljava/lang/String;)V
     146: athrow
     147: aload         4
     149: invokevirtual #134                // Method io/dekorate/deps/okhttp3/Response.body:()Lio/dekorate/deps/okhttp3/ResponseBody;
     152: invokevirtual #237                // Method io/dekorate/deps/okhttp3/ResponseBody.string:()Ljava/lang/String;
     155: astore        5
     157: invokestatic  #243                // Method io/dekorate/deps/kubernetes/client/utils/Serialization.jsonMapper:()Lio/dekorate/deps/jackson/databind/ObjectMapper;
     160: aload         5
     162: invokevirtual #249                // Method io/dekorate/deps/jackson/databind/ObjectMapper.readTree:(Ljava/lang/String;)Lio/dekorate/deps/jackson/databind/JsonNode;
     165: astore        6
     167: aload         6
     169: ldc           #251                // String authorization_endpoint
     171: invokevirtual #255                // Method io/dekorate/deps/jackson/databind/JsonNode.get:(Ljava/lang/String;)Lio/dekorate/deps/jackson/databind/JsonNode;
     174: invokevirtual #258                // Method io/dekorate/deps/jackson/databind/JsonNode.asText:()Ljava/lang/String;
     177: astore        7
     179: aload         4
     181: invokevirtual #259                // Method io/dekorate/deps/okhttp3/Response.close:()V
     184: new           #176                // class java/net/URL
     187: dup
     188: new           #213                // class java/lang/StringBuilder
     191: dup
     192: invokespecial #214                // Method java/lang/StringBuilder."<init>":()V
     195: aload         7
     197: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: ldc           #32                 // String ?response_type=token&client_id=openshift-challenging-client
     202: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: invokevirtual #233                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     208: invokespecial #188                // Method java/net/URL."<init>":(Ljava/lang/String;)V
     211: astore_3
     212: aload_0
     213: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
     216: invokevirtual #115                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getUsername:()Ljava/lang/String;
     219: aload_0
     220: getfield      #59                 // Field config:Lio/dekorate/deps/openshift/client/OpenShiftConfig;
     223: invokevirtual #118                // Method io/dekorate/deps/openshift/client/OpenShiftConfig.getPassword:()Ljava/lang/String;
     226: invokestatic  #265                // Method io/dekorate/deps/okhttp3/Credentials.basic:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     229: astore        8
     231: aload_2
     232: new           #12                 // class io/dekorate/deps/okhttp3/Request$Builder
     235: dup
     236: invokespecial #189                // Method io/dekorate/deps/okhttp3/Request$Builder."<init>":()V
     239: invokevirtual #191                // Method io/dekorate/deps/okhttp3/Request$Builder.get:()Lio/dekorate/deps/okhttp3/Request$Builder;
     242: aload_3
     243: invokevirtual #195                // Method io/dekorate/deps/okhttp3/Request$Builder.url:(Ljava/net/URL;)Lio/dekorate/deps/okhttp3/Request$Builder;
     246: ldc           #23                 // String Authorization
     248: aload         8
     250: invokevirtual #156                // Method io/dekorate/deps/okhttp3/Request$Builder.header:(Ljava/lang/String;Ljava/lang/String;)Lio/dekorate/deps/okhttp3/Request$Builder;
     253: invokevirtual #99                 // Method io/dekorate/deps/okhttp3/Request$Builder.build:()Lio/dekorate/deps/okhttp3/Request;
     256: invokevirtual #199                // Method io/dekorate/deps/okhttp3/OkHttpClient.newCall:(Lio/dekorate/deps/okhttp3/Request;)Lio/dekorate/deps/okhttp3/Call;
     259: invokeinterface #205,  1          // InterfaceMethod io/dekorate/deps/okhttp3/Call.execute:()Lio/dekorate/deps/okhttp3/Response;
     264: astore        4
     266: aload         4
     268: invokevirtual #259                // Method io/dekorate/deps/okhttp3/Response.close:()V
     271: aload         4
     273: invokevirtual #268                // Method io/dekorate/deps/okhttp3/Response.priorResponse:()Lio/dekorate/deps/okhttp3/Response;
     276: ifnull        287
     279: aload         4
     281: invokevirtual #268                // Method io/dekorate/deps/okhttp3/Response.priorResponse:()Lio/dekorate/deps/okhttp3/Response;
     284: goto          289
     287: aload         4
     289: astore        4
     291: aload         4
     293: invokevirtual #271                // Method io/dekorate/deps/okhttp3/Response.networkResponse:()Lio/dekorate/deps/okhttp3/Response;
     296: ifnull        307
     299: aload         4
     301: invokevirtual #271                // Method io/dekorate/deps/okhttp3/Response.networkResponse:()Lio/dekorate/deps/okhttp3/Response;
     304: goto          309
     307: aload         4
     309: astore        4
     311: aload         4
     313: ldc           #26                 // String Location
     315: invokevirtual #272                // Method io/dekorate/deps/okhttp3/Response.header:(Ljava/lang/String;)Ljava/lang/String;
     318: astore        9
     320: aload         9
     322: ifnull        333
     325: aload         9
     327: invokevirtual #275                // Method java/lang/String.isEmpty:()Z
     330: ifeq          394
     333: new           #211                // class io/dekorate/deps/kubernetes/client/KubernetesClientException
     336: dup
     337: new           #213                // class java/lang/StringBuilder
     340: dup
     341: invokespecial #214                // Method java/lang/StringBuilder."<init>":()V
     344: ldc           #216                // String Unexpected response (
     346: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     349: aload         4
     351: invokevirtual #109                // Method io/dekorate/deps/okhttp3/Response.code:()I
     354: invokevirtual #223                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     357: ldc           #225                // String
     359: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     362: aload         4
     364: invokevirtual #228                // Method io/dekorate/deps/okhttp3/Response.message:()Ljava/lang/String;
     367: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     370: ldc_w         #277                // String ), to the authorization request. Missing header:[
     373: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     376: ldc           #26                 // String Location
     378: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     381: ldc_w         #279                // String ]!
     384: invokevirtual #220                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     387: invokevirtual #233                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     390: invokespecial #234                // Method io/dekorate/deps/kubernetes/client/KubernetesClientException."<init>":(Ljava/lang/String;)V
     393: athrow
     394: aload         9
     396: aload         9
     398: ldc           #35                 // String access_token=
     400: invokevirtual #283                // Method java/lang/String.indexOf:(Ljava/lang/String;)I
     403: ldc           #35                 // String access_token=
     405: invokevirtual #286                // Method java/lang/String.length:()I
     408: iadd
     409: invokevirtual #290                // Method java/lang/String.substring:(I)Ljava/lang/String;
     412: astore        9
     414: aload         9
     416: iconst_0
     417: aload         9
     419: ldc           #38                 // String &expires
     421: invokevirtual #283                // Method java/lang/String.indexOf:(Ljava/lang/String;)I
     424: invokevirtual #293                // Method java/lang/String.substring:(II)Ljava/lang/String;
     427: astore        9
     429: aload         9
     431: areturn
     432: astore_1
     433: aload_1
     434: invokestatic  #297                // Method io/dekorate/deps/kubernetes/client/KubernetesClientException.launderThrowable:(Ljava/lang/Throwable;)Ljava/lang/RuntimeException;
     437: athrow
    Exception table:
       from    to  target type
           0   431   432   Class java/lang/Exception
}
