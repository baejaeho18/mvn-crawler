Compiled from "DatabaseStartupValidator.java"
public class org.springframework.jdbc.support.DatabaseStartupValidator implements org.springframework.beans.factory.InitializingBean {
  public static final int DEFAULT_INTERVAL;

  public static final int DEFAULT_TIMEOUT;

  protected final org.apache.commons.logging.Log logger;

  private javax.sql.DataSource dataSource;

  private java.lang.String validationQuery;

  private int interval;

  private int timeout;

  public org.springframework.jdbc.support.DatabaseStartupValidator();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #3                  // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
      12: putfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
      15: aload_0
      16: iconst_1
      17: putfield      #6                  // Field interval:I
      20: aload_0
      21: bipush        60
      23: putfield      #7                  // Field timeout:I
      26: return

  public void setDataSource(javax.sql.DataSource);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #8                  // Field dataSource:Ljavax/sql/DataSource;
       5: return

  public void setValidationQuery(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field validationQuery:Ljava/lang/String;
       5: return

  public void setInterval(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #6                  // Field interval:I
       5: return

  public void setTimeout(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #7                  // Field timeout:I
       5: return

  public void afterPropertiesSet();
    Code:
       0: aload_0
       1: getfield      #8                  // Field dataSource:Ljavax/sql/DataSource;
       4: ifnonnull     17
       7: new           #10                 // class java/lang/IllegalArgumentException
      10: dup
      11: ldc           #11                 // String Property \'dataSource\' is required
      13: invokespecial #12                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #9                  // Field validationQuery:Ljava/lang/String;
      21: ifnonnull     34
      24: new           #10                 // class java/lang/IllegalArgumentException
      27: dup
      28: ldc           #13                 // String Property \'validationQuery\' is required
      30: invokespecial #12                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      33: athrow
      34: iconst_0
      35: istore_1
      36: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      39: lstore_2
      40: lload_2
      41: getstatic     #15                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      44: aload_0
      45: getfield      #7                  // Field timeout:I
      48: i2l
      49: invokevirtual #16                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      52: ladd
      53: lstore        4
      55: aconst_null
      56: astore        6
      58: iload_1
      59: ifne          342
      62: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      65: lload         4
      67: lcmp
      68: ifge          342
      71: aconst_null
      72: astore        7
      74: aconst_null
      75: astore        8
      77: aload_0
      78: getfield      #8                  // Field dataSource:Ljavax/sql/DataSource;
      81: invokeinterface #17,  1           // InterfaceMethod javax/sql/DataSource.getConnection:()Ljava/sql/Connection;
      86: astore        7
      88: aload         7
      90: ifnonnull     123
      93: new           #18                 // class org/springframework/jdbc/CannotGetJdbcConnectionException
      96: dup
      97: new           #19                 // class java/lang/StringBuilder
     100: dup
     101: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     104: ldc           #21                 // String Failed to execute validation query: DataSource returned null from getConnection():
     106: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: aload_0
     110: getfield      #8                  // Field dataSource:Ljavax/sql/DataSource;
     113: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     116: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokespecial #25                 // Method org/springframework/jdbc/CannotGetJdbcConnectionException."<init>":(Ljava/lang/String;)V
     122: athrow
     123: aload         7
     125: invokeinterface #26,  1           // InterfaceMethod java/sql/Connection.createStatement:()Ljava/sql/Statement;
     130: astore        8
     132: aload         8
     134: aload_0
     135: getfield      #9                  // Field validationQuery:Ljava/lang/String;
     138: invokeinterface #27,  2           // InterfaceMethod java/sql/Statement.execute:(Ljava/lang/String;)Z
     143: pop
     144: iconst_1
     145: istore_1
     146: aload         8
     148: invokestatic  #28                 // Method org/springframework/jdbc/support/JdbcUtils.closeStatement:(Ljava/sql/Statement;)V
     151: aload         7
     153: invokestatic  #29                 // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
     156: goto          324
     159: astore        9
     161: aload         9
     163: astore        6
     165: aload_0
     166: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     169: invokeinterface #31,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     174: ifeq          215
     177: aload_0
     178: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     181: new           #19                 // class java/lang/StringBuilder
     184: dup
     185: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     188: ldc           #32                 // String Validation query [
     190: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     193: aload_0
     194: getfield      #9                  // Field validationQuery:Ljava/lang/String;
     197: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: ldc           #33                 // String ] threw exception
     202: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     208: aload         9
     210: invokeinterface #34,  3           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     215: aload_0
     216: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     219: invokeinterface #35,  1           // InterfaceMethod org/apache/commons/logging/Log.isInfoEnabled:()Z
     224: ifeq          296
     227: lload         4
     229: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
     232: lsub
     233: l2f
     234: ldc           #36                 // float 1000.0f
     236: fdiv
     237: fstore        10
     239: fload         10
     241: aload_0
     242: getfield      #6                  // Field interval:I
     245: i2f
     246: fcmpl
     247: ifle          296
     250: aload_0
     251: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     254: new           #19                 // class java/lang/StringBuilder
     257: dup
     258: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     261: ldc           #37                 // String Database has not started up yet - retrying in
     263: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     266: aload_0
     267: getfield      #6                  // Field interval:I
     270: invokevirtual #38                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     273: ldc           #39                 // String  seconds (timeout in
     275: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     278: fload         10
     280: invokevirtual #40                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     283: ldc           #41                 // String  seconds)
     285: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     288: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     291: invokeinterface #42,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
     296: aload         8
     298: invokestatic  #28                 // Method org/springframework/jdbc/support/JdbcUtils.closeStatement:(Ljava/sql/Statement;)V
     301: aload         7
     303: invokestatic  #29                 // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
     306: goto          324
     309: astore        11
     311: aload         8
     313: invokestatic  #28                 // Method org/springframework/jdbc/support/JdbcUtils.closeStatement:(Ljava/sql/Statement;)V
     316: aload         7
     318: invokestatic  #29                 // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
     321: aload         11
     323: athrow
     324: iload_1
     325: ifne          339
     328: getstatic     #15                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     331: aload_0
     332: getfield      #6                  // Field interval:I
     335: i2l
     336: invokevirtual #43                 // Method java/util/concurrent/TimeUnit.sleep:(J)V
     339: goto          58
     342: iload_1
     343: ifne          383
     346: new           #18                 // class org/springframework/jdbc/CannotGetJdbcConnectionException
     349: dup
     350: new           #19                 // class java/lang/StringBuilder
     353: dup
     354: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     357: ldc           #44                 // String Database has not started up within
     359: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     362: aload_0
     363: getfield      #7                  // Field timeout:I
     366: invokevirtual #38                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     369: ldc           #45                 // String  seconds
     371: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     374: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     377: aload         6
     379: invokespecial #46                 // Method org/springframework/jdbc/CannotGetJdbcConnectionException."<init>":(Ljava/lang/String;Ljava/sql/SQLException;)V
     382: athrow
     383: aload_0
     384: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     387: invokeinterface #35,  1           // InterfaceMethod org/apache/commons/logging/Log.isInfoEnabled:()Z
     392: ifeq          440
     395: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
     398: lload_2
     399: lsub
     400: l2f
     401: ldc           #36                 // float 1000.0f
     403: fdiv
     404: fstore        7
     406: aload_0
     407: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     410: new           #19                 // class java/lang/StringBuilder
     413: dup
     414: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     417: ldc           #47                 // String Database startup detected after
     419: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     422: fload         7
     424: invokevirtual #40                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     427: ldc           #45                 // String  seconds
     429: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     432: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     435: invokeinterface #42,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
     440: goto          450
     443: astore_1
     444: invokestatic  #49                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     447: invokevirtual #50                 // Method java/lang/Thread.interrupt:()V
     450: return
    Exception table:
       from    to  target type
          77   146   159   Class java/sql/SQLException
          77   146   309   any
         159   296   309   any
         309   311   309   any
          34   440   443   Class java/lang/InterruptedException
}
