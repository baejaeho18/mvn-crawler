Compiled from "DeflateEncoder.java"
abstract class io.netty.handler.codec.http.websocketx.extensions.compression.DeflateEncoder extends io.netty.handler.codec.http.websocketx.extensions.WebSocketExtensionEncoder {
  private final int compressionLevel;

  private final int windowSize;

  private final boolean noContext;

  private io.netty.channel.embedded.EmbeddedChannel encoder;

  public io.netty.handler.codec.http.websocketx.extensions.compression.DeflateEncoder(int, int, boolean);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method io/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionEncoder."<init>":()V
       4: aload_0
       5: iload_1
       6: putfield      #2                  // Field compressionLevel:I
       9: aload_0
      10: iload_2
      11: putfield      #3                  // Field windowSize:I
      14: aload_0
      15: iload_3
      16: putfield      #4                  // Field noContext:Z
      19: return

  protected abstract int rsv(io.netty.handler.codec.http.websocketx.WebSocketFrame);

  protected abstract boolean removeFrameTail(io.netty.handler.codec.http.websocketx.WebSocketFrame);

  protected void encode(io.netty.channel.ChannelHandlerContext, io.netty.handler.codec.http.websocketx.WebSocketFrame, java.util.List<java.lang.Object>) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
       4: ifnonnull     41
       7: aload_0
       8: new           #6                  // class io/netty/channel/embedded/EmbeddedChannel
      11: dup
      12: iconst_1
      13: anewarray     #7                  // class io/netty/channel/ChannelHandler
      16: dup
      17: iconst_0
      18: getstatic     #8                  // Field io/netty/handler/codec/compression/ZlibWrapper.NONE:Lio/netty/handler/codec/compression/ZlibWrapper;
      21: aload_0
      22: getfield      #2                  // Field compressionLevel:I
      25: aload_0
      26: getfield      #3                  // Field windowSize:I
      29: bipush        8
      31: invokestatic  #9                  // Method io/netty/handler/codec/compression/ZlibCodecFactory.newZlibEncoder:(Lio/netty/handler/codec/compression/ZlibWrapper;III)Lio/netty/handler/codec/compression/ZlibEncoder;
      34: aastore
      35: invokespecial #10                 // Method io/netty/channel/embedded/EmbeddedChannel."<init>":([Lio/netty/channel/ChannelHandler;)V
      38: putfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      41: aload_0
      42: getfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      45: iconst_1
      46: anewarray     #11                 // class java/lang/Object
      49: dup
      50: iconst_0
      51: aload_2
      52: invokevirtual #12                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.content:()Lio/netty/buffer/ByteBuf;
      55: invokevirtual #13                 // Method io/netty/buffer/ByteBuf.retain:()Lio/netty/buffer/ByteBuf;
      58: aastore
      59: invokevirtual #14                 // Method io/netty/channel/embedded/EmbeddedChannel.writeOutbound:([Ljava/lang/Object;)Z
      62: pop
      63: aload_1
      64: invokeinterface #15,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.alloc:()Lio/netty/buffer/ByteBufAllocator;
      69: invokeinterface #16,  1           // InterfaceMethod io/netty/buffer/ByteBufAllocator.compositeBuffer:()Lio/netty/buffer/CompositeByteBuf;
      74: astore        4
      76: aload_0
      77: getfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      80: invokevirtual #17                 // Method io/netty/channel/embedded/EmbeddedChannel.readOutbound:()Ljava/lang/Object;
      83: checkcast     #18                 // class io/netty/buffer/ByteBuf
      86: astore        5
      88: aload         5
      90: ifnonnull     96
      93: goto          125
      96: aload         5
      98: invokevirtual #19                 // Method io/netty/buffer/ByteBuf.isReadable:()Z
     101: ifne          113
     104: aload         5
     106: invokevirtual #20                 // Method io/netty/buffer/ByteBuf.release:()Z
     109: pop
     110: goto          76
     113: aload         4
     115: iconst_1
     116: aload         5
     118: invokevirtual #21                 // Method io/netty/buffer/CompositeByteBuf.addComponent:(ZLio/netty/buffer/ByteBuf;)Lio/netty/buffer/CompositeByteBuf;
     121: pop
     122: goto          76
     125: aload         4
     127: invokevirtual #22                 // Method io/netty/buffer/CompositeByteBuf.numComponents:()I
     130: ifgt          149
     133: aload         4
     135: invokevirtual #23                 // Method io/netty/buffer/CompositeByteBuf.release:()Z
     138: pop
     139: new           #24                 // class io/netty/handler/codec/CodecException
     142: dup
     143: ldc           #25                 // String cannot read compressed buffer
     145: invokespecial #26                 // Method io/netty/handler/codec/CodecException."<init>":(Ljava/lang/String;)V
     148: athrow
     149: aload_2
     150: invokevirtual #27                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
     153: ifeq          167
     156: aload_0
     157: getfield      #4                  // Field noContext:Z
     160: ifeq          167
     163: aload_0
     164: invokespecial #28                 // Method cleanup:()V
     167: aload_0
     168: aload_2
     169: invokevirtual #29                 // Method removeFrameTail:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)Z
     172: ifeq          200
     175: aload         4
     177: invokevirtual #30                 // Method io/netty/buffer/CompositeByteBuf.readableBytes:()I
     180: getstatic     #31                 // Field io/netty/handler/codec/http/websocketx/extensions/compression/PerMessageDeflateDecoder.FRAME_TAIL:[B
     183: arraylength
     184: isub
     185: istore        6
     187: aload         4
     189: iconst_0
     190: iload         6
     192: invokevirtual #32                 // Method io/netty/buffer/CompositeByteBuf.slice:(II)Lio/netty/buffer/ByteBuf;
     195: astore        5
     197: goto          204
     200: aload         4
     202: astore        5
     204: aload_2
     205: instanceof    #33                 // class io/netty/handler/codec/http/websocketx/TextWebSocketFrame
     208: ifeq          234
     211: new           #33                 // class io/netty/handler/codec/http/websocketx/TextWebSocketFrame
     214: dup
     215: aload_2
     216: invokevirtual #27                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
     219: aload_0
     220: aload_2
     221: invokevirtual #34                 // Method rsv:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)I
     224: aload         5
     226: invokespecial #35                 // Method io/netty/handler/codec/http/websocketx/TextWebSocketFrame."<init>":(ZILio/netty/buffer/ByteBuf;)V
     229: astore        6
     231: goto          327
     234: aload_2
     235: instanceof    #36                 // class io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame
     238: ifeq          264
     241: new           #36                 // class io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame
     244: dup
     245: aload_2
     246: invokevirtual #27                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
     249: aload_0
     250: aload_2
     251: invokevirtual #34                 // Method rsv:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)I
     254: aload         5
     256: invokespecial #37                 // Method io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame."<init>":(ZILio/netty/buffer/ByteBuf;)V
     259: astore        6
     261: goto          327
     264: aload_2
     265: instanceof    #38                 // class io/netty/handler/codec/http/websocketx/ContinuationWebSocketFrame
     268: ifeq          294
     271: new           #38                 // class io/netty/handler/codec/http/websocketx/ContinuationWebSocketFrame
     274: dup
     275: aload_2
     276: invokevirtual #27                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
     279: aload_0
     280: aload_2
     281: invokevirtual #34                 // Method rsv:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)I
     284: aload         5
     286: invokespecial #39                 // Method io/netty/handler/codec/http/websocketx/ContinuationWebSocketFrame."<init>":(ZILio/netty/buffer/ByteBuf;)V
     289: astore        6
     291: goto          327
     294: new           #24                 // class io/netty/handler/codec/CodecException
     297: dup
     298: new           #40                 // class java/lang/StringBuilder
     301: dup
     302: invokespecial #41                 // Method java/lang/StringBuilder."<init>":()V
     305: ldc           #42                 // String unexpected frame type:
     307: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     310: aload_2
     311: invokevirtual #44                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     314: invokevirtual #45                 // Method java/lang/Class.getName:()Ljava/lang/String;
     317: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     320: invokevirtual #46                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     323: invokespecial #26                 // Method io/netty/handler/codec/CodecException."<init>":(Ljava/lang/String;)V
     326: athrow
     327: aload_3
     328: aload         6
     330: invokeinterface #47,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     335: pop
     336: return

  public void handlerRemoved(io.netty.channel.ChannelHandlerContext) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #28                 // Method cleanup:()V
       4: aload_0
       5: aload_1
       6: invokespecial #48                 // Method io/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionEncoder.handlerRemoved:(Lio/netty/channel/ChannelHandlerContext;)V
       9: return

  private void cleanup();
    Code:
       0: aload_0
       1: getfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
       4: ifnull        48
       7: aload_0
       8: getfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      11: invokevirtual #49                 // Method io/netty/channel/embedded/EmbeddedChannel.finish:()Z
      14: ifeq          43
      17: aload_0
      18: getfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      21: invokevirtual #17                 // Method io/netty/channel/embedded/EmbeddedChannel.readOutbound:()Ljava/lang/Object;
      24: checkcast     #18                 // class io/netty/buffer/ByteBuf
      27: astore_1
      28: aload_1
      29: ifnonnull     35
      32: goto          43
      35: aload_1
      36: invokevirtual #20                 // Method io/netty/buffer/ByteBuf.release:()Z
      39: pop
      40: goto          17
      43: aload_0
      44: aconst_null
      45: putfield      #5                  // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      48: return

  protected void encode(io.netty.channel.ChannelHandlerContext, java.lang.Object, java.util.List) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #50                 // class io/netty/handler/codec/http/websocketx/WebSocketFrame
       6: aload_3
       7: invokevirtual #51                 // Method encode:(Lio/netty/channel/ChannelHandlerContext;Lio/netty/handler/codec/http/websocketx/WebSocketFrame;Ljava/util/List;)V
      10: return
}
