Compiled from "SpnegoAuthenticationTestCase.java"
class io.undertow.server.security.SpnegoAuthenticationTestCase$1 implements java.security.PrivilegedExceptionAction<java.lang.Void> {
  final io.undertow.testutils.TestHttpClient val$client;

  final io.undertow.server.security.SpnegoAuthenticationTestCase this$0;

  io.undertow.server.security.SpnegoAuthenticationTestCase$1(io.undertow.server.security.SpnegoAuthenticationTestCase, io.undertow.testutils.TestHttpClient);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/undertow/server/security/SpnegoAuthenticationTestCase;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$client:Lio/undertow/testutils/TestHttpClient;
      10: aload_0
      11: invokespecial #3                  // Method java/lang/Object."<init>":()V
      14: return

  public java.lang.Void run() throws java.lang.Exception;
    Code:
       0: invokestatic  #4                  // Method org/ietf/jgss/GSSManager.getInstance:()Lorg/ietf/jgss/GSSManager;
       3: astore_1
       4: aload_1
       5: new           #5                  // class java/lang/StringBuilder
       8: dup
       9: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
      12: ldc           #7                  // String HTTP/
      14: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      17: invokestatic  #9                  // Method io/undertow/testutils/DefaultServer.getDefaultServerAddress:()Ljava/net/InetSocketAddress;
      20: invokevirtual #10                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
      23: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      29: aconst_null
      30: invokevirtual #12                 // Method org/ietf/jgss/GSSManager.createName:(Ljava/lang/String;Lorg/ietf/jgss/Oid;)Lorg/ietf/jgss/GSSName;
      33: astore_2
      34: aload_1
      35: aload_2
      36: invokestatic  #13                 // Method io/undertow/server/security/SpnegoAuthenticationTestCase.access$100:()Lorg/ietf/jgss/Oid;
      39: aconst_null
      40: iconst_0
      41: invokevirtual #15                 // Method org/ietf/jgss/GSSManager.createContext:(Lorg/ietf/jgss/GSSName;Lorg/ietf/jgss/Oid;Lorg/ietf/jgss/GSSCredential;I)Lorg/ietf/jgss/GSSContext;
      44: astore_3
      45: iconst_0
      46: newarray       byte
      48: astore        4
      50: iconst_0
      51: istore        5
      53: aload_3
      54: invokeinterface #16,  1           // InterfaceMethod org/ietf/jgss/GSSContext.isEstablished:()Z
      59: ifne          364
      62: aload_3
      63: aload         4
      65: iconst_0
      66: aload         4
      68: arraylength
      69: invokeinterface #17,  4           // InterfaceMethod org/ietf/jgss/GSSContext.initSecContext:([BII)[B
      74: astore        4
      76: aload         4
      78: ifnull        53
      81: aload         4
      83: arraylength
      84: ifle          53
      87: new           #18                 // class org/apache/http/client/methods/HttpGet
      90: dup
      91: invokestatic  #19                 // Method io/undertow/testutils/DefaultServer.getDefaultServerURL:()Ljava/lang/String;
      94: invokespecial #20                 // Method org/apache/http/client/methods/HttpGet."<init>":(Ljava/lang/String;)V
      97: astore        6
      99: aload         6
     101: getstatic     #21                 // Field io/undertow/util/Headers.AUTHORIZATION:Lio/undertow/util/HttpString;
     104: invokevirtual #22                 // Method io/undertow/util/HttpString.toString:()Ljava/lang/String;
     107: new           #5                  // class java/lang/StringBuilder
     110: dup
     111: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
     114: getstatic     #23                 // Field io/undertow/util/Headers.NEGOTIATE:Lio/undertow/util/HttpString;
     117: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     120: ldc           #25                 // String
     122: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     125: aload         4
     127: iconst_0
     128: invokestatic  #26                 // Method io/undertow/util/FlexBase64.encodeString:([BZ)Ljava/lang/String;
     131: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     137: invokevirtual #27                 // Method org/apache/http/client/methods/HttpGet.addHeader:(Ljava/lang/String;Ljava/lang/String;)V
     140: aload_0
     141: getfield      #2                  // Field val$client:Lio/undertow/testutils/TestHttpClient;
     144: aload         6
     146: invokevirtual #28                 // Method io/undertow/testutils/TestHttpClient.execute:(Lorg/apache/http/client/methods/HttpUriRequest;)Lorg/apache/http/HttpResponse;
     149: astore        7
     151: aload         7
     153: getstatic     #29                 // Field io/undertow/util/Headers.WWW_AUTHENTICATE:Lio/undertow/util/HttpString;
     156: invokevirtual #22                 // Method io/undertow/util/HttpString.toString:()Ljava/lang/String;
     159: invokeinterface #30,  2           // InterfaceMethod org/apache/http/HttpResponse.getHeaders:(Ljava/lang/String;)[Lorg/apache/http/Header;
     164: astore        8
     166: aload         8
     168: arraylength
     169: ifle          219
     172: getstatic     #23                 // Field io/undertow/util/Headers.NEGOTIATE:Lio/undertow/util/HttpString;
     175: aload         8
     177: invokestatic  #31                 // Method io/undertow/server/security/AuthenticationTestBase.getAuthHeader:(Lio/undertow/util/HttpString;[Lorg/apache/http/Header;)Ljava/lang/String;
     180: astore        9
     182: aload         9
     184: getstatic     #32                 // Field java/nio/charset/StandardCharsets.US_ASCII:Ljava/nio/charset/Charset;
     187: invokevirtual #33                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     190: astore        10
     192: invokestatic  #34                 // Method java/util/Base64.getMimeDecoder:()Ljava/util/Base64$Decoder;
     195: aload         10
     197: getstatic     #23                 // Field io/undertow/util/Headers.NEGOTIATE:Lio/undertow/util/HttpString;
     200: invokevirtual #22                 // Method io/undertow/util/HttpString.toString:()Ljava/lang/String;
     203: invokevirtual #35                 // Method java/lang/String.length:()I
     206: iconst_1
     207: iadd
     208: aload         10
     210: arraylength
     211: invokestatic  #36                 // Method org/apache/commons/lang/ArrayUtils.subarray:([BII)[B
     214: invokevirtual #37                 // Method java/util/Base64$Decoder.decode:([B)[B
     217: astore        4
     219: aload         7
     221: invokeinterface #38,  1           // InterfaceMethod org/apache/http/HttpResponse.getStatusLine:()Lorg/apache/http/StatusLine;
     226: invokeinterface #39,  1           // InterfaceMethod org/apache/http/StatusLine.getStatusCode:()I
     231: sipush        200
     234: if_icmpne     288
     237: aload         7
     239: ldc           #41                 // String ProcessedBy
     241: invokeinterface #30,  2           // InterfaceMethod org/apache/http/HttpResponse.getHeaders:(Ljava/lang/String;)[Lorg/apache/http/Header;
     246: astore        9
     248: lconst_1
     249: aload         9
     251: arraylength
     252: i2l
     253: invokestatic  #42                 // Method org/junit/Assert.assertEquals:(JJ)V
     256: ldc           #43                 // String ResponseHandler
     258: aload         9
     260: iconst_0
     261: aaload
     262: invokeinterface #44,  1           // InterfaceMethod org/apache/http/Header.getValue:()Ljava/lang/String;
     267: invokestatic  #45                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     270: aload         7
     272: invokestatic  #46                 // Method io/undertow/testutils/HttpClientUtils.readResponse:(Lorg/apache/http/HttpResponse;)Ljava/lang/String;
     275: pop
     276: getstatic     #47                 // Field io/undertow/security/api/SecurityNotification$EventType.AUTHENTICATED:Lio/undertow/security/api/SecurityNotification$EventType;
     279: invokestatic  #48                 // Method io/undertow/server/security/AuthenticationTestBase.assertSingleNotificationType:(Lio/undertow/security/api/SecurityNotification$EventType;)V
     282: iconst_1
     283: istore        5
     285: goto          361
     288: aload         7
     290: invokeinterface #38,  1           // InterfaceMethod org/apache/http/HttpResponse.getStatusLine:()Lorg/apache/http/StatusLine;
     295: invokeinterface #39,  1           // InterfaceMethod org/apache/http/StatusLine.getStatusCode:()I
     300: sipush        401
     303: if_icmpne     331
     306: ldc           #49                 // String We did get a header.
     308: aload         8
     310: arraylength
     311: ifle          318
     314: iconst_1
     315: goto          319
     318: iconst_0
     319: invokestatic  #50                 // Method org/junit/Assert.assertTrue:(Ljava/lang/String;Z)V
     322: aload         7
     324: invokestatic  #46                 // Method io/undertow/testutils/HttpClientUtils.readResponse:(Lorg/apache/http/HttpResponse;)Ljava/lang/String;
     327: pop
     328: goto          361
     331: ldc           #51                 // String Unexpected status code %d
     333: iconst_1
     334: anewarray     #52                 // class java/lang/Object
     337: dup
     338: iconst_0
     339: aload         7
     341: invokeinterface #38,  1           // InterfaceMethod org/apache/http/HttpResponse.getStatusLine:()Lorg/apache/http/StatusLine;
     346: invokeinterface #39,  1           // InterfaceMethod org/apache/http/StatusLine.getStatusCode:()I
     351: invokestatic  #53                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     354: aastore
     355: invokestatic  #54                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     358: invokestatic  #55                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
     361: goto          53
     364: iload         5
     366: invokestatic  #56                 // Method org/junit/Assert.assertTrue:(Z)V
     369: aload_3
     370: invokeinterface #16,  1           // InterfaceMethod org/ietf/jgss/GSSContext.isEstablished:()Z
     375: invokestatic  #56                 // Method org/junit/Assert.assertTrue:(Z)V
     378: aconst_null
     379: areturn

  public java.lang.Object run() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #57                 // Method run:()Ljava/lang/Void;
       4: areturn
}
