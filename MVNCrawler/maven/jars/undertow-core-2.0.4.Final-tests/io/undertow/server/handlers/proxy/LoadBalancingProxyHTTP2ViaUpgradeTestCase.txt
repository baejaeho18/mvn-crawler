Compiled from "LoadBalancingProxyHTTP2ViaUpgradeTestCase.java"
public class io.undertow.server.handlers.proxy.LoadBalancingProxyHTTP2ViaUpgradeTestCase extends io.undertow.server.handlers.proxy.AbstractLoadBalancingProxyTestCase {
  public io.undertow.server.handlers.proxy.LoadBalancingProxyHTTP2ViaUpgradeTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method io/undertow/server/handlers/proxy/AbstractLoadBalancingProxyTestCase."<init>":()V
       4: return

  public static void setup() throws java.net.URISyntaxException;
    Code:
       0: ldc           #2                  // String default
       2: invokestatic  #3                  // Method io/undertow/testutils/DefaultServer.getHostPort:(Ljava/lang/String;)I
       5: istore_0
       6: ldc           #4                  // String s1
       8: ldc           #5                  // String server1
      10: invokestatic  #6                  // Method getRootHandler:(Ljava/lang/String;Ljava/lang/String;)Lio/undertow/server/HttpHandler;
      13: astore_1
      14: invokestatic  #7                  // Method io/undertow/Undertow.builder:()Lio/undertow/Undertow$Builder;
      17: iload_0
      18: iconst_1
      19: iadd
      20: ldc           #2                  // String default
      22: invokestatic  #8                  // Method io/undertow/testutils/DefaultServer.getHostAddress:(Ljava/lang/String;)Ljava/lang/String;
      25: invokevirtual #9                  // Method io/undertow/Undertow$Builder.addHttpListener:(ILjava/lang/String;)Lio/undertow/Undertow$Builder;
      28: getstatic     #10                 // Field io/undertow/UndertowOptions.ENABLE_HTTP2:Lorg/xnio/Option;
      31: iconst_1
      32: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      35: invokevirtual #12                 // Method io/undertow/Undertow$Builder.setServerOption:(Lorg/xnio/Option;Ljava/lang/Object;)Lio/undertow/Undertow$Builder;
      38: getstatic     #13                 // Field io/undertow/UndertowOptions.NO_REQUEST_TIMEOUT:Lorg/xnio/Option;
      41: sipush        1000
      44: invokestatic  #15                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      47: invokevirtual #12                 // Method io/undertow/Undertow$Builder.setServerOption:(Lorg/xnio/Option;Ljava/lang/Object;)Lio/undertow/Undertow$Builder;
      50: getstatic     #16                 // Field org/xnio/Options.REUSE_ADDRESSES:Lorg/xnio/Option;
      53: iconst_1
      54: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      57: invokevirtual #17                 // Method io/undertow/Undertow$Builder.setSocketOption:(Lorg/xnio/Option;Ljava/lang/Object;)Lio/undertow/Undertow$Builder;
      60: new           #18                 // class io/undertow/server/protocol/http2/Http2UpgradeHandler
      63: dup
      64: new           #19                 // class io/undertow/server/handlers/proxy/LoadBalancingProxyHTTP2ViaUpgradeTestCase$1
      67: dup
      68: aload_1
      69: invokespecial #20                 // Method io/undertow/server/handlers/proxy/LoadBalancingProxyHTTP2ViaUpgradeTestCase$1."<init>":(Lio/undertow/server/HttpHandler;)V
      72: invokespecial #21                 // Method io/undertow/server/protocol/http2/Http2UpgradeHandler."<init>":(Lio/undertow/server/HttpHandler;)V
      75: invokevirtual #22                 // Method io/undertow/Undertow$Builder.setHandler:(Lio/undertow/server/HttpHandler;)Lio/undertow/Undertow$Builder;
      78: invokevirtual #23                 // Method io/undertow/Undertow$Builder.build:()Lio/undertow/Undertow;
      81: putstatic     #24                 // Field server1:Lio/undertow/Undertow;
      84: ldc           #25                 // String s2
      86: ldc           #26                 // String server2
      88: invokestatic  #6                  // Method getRootHandler:(Ljava/lang/String;Ljava/lang/String;)Lio/undertow/server/HttpHandler;
      91: astore_2
      92: invokestatic  #7                  // Method io/undertow/Undertow.builder:()Lio/undertow/Undertow$Builder;
      95: iload_0
      96: iconst_2
      97: iadd
      98: ldc           #2                  // String default
     100: invokestatic  #8                  // Method io/undertow/testutils/DefaultServer.getHostAddress:(Ljava/lang/String;)Ljava/lang/String;
     103: invokevirtual #9                  // Method io/undertow/Undertow$Builder.addHttpListener:(ILjava/lang/String;)Lio/undertow/Undertow$Builder;
     106: getstatic     #10                 // Field io/undertow/UndertowOptions.ENABLE_HTTP2:Lorg/xnio/Option;
     109: iconst_1
     110: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     113: invokevirtual #12                 // Method io/undertow/Undertow$Builder.setServerOption:(Lorg/xnio/Option;Ljava/lang/Object;)Lio/undertow/Undertow$Builder;
     116: getstatic     #13                 // Field io/undertow/UndertowOptions.NO_REQUEST_TIMEOUT:Lorg/xnio/Option;
     119: sipush        1000
     122: invokestatic  #15                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     125: invokevirtual #12                 // Method io/undertow/Undertow$Builder.setServerOption:(Lorg/xnio/Option;Ljava/lang/Object;)Lio/undertow/Undertow$Builder;
     128: getstatic     #16                 // Field org/xnio/Options.REUSE_ADDRESSES:Lorg/xnio/Option;
     131: iconst_1
     132: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     135: invokevirtual #17                 // Method io/undertow/Undertow$Builder.setSocketOption:(Lorg/xnio/Option;Ljava/lang/Object;)Lio/undertow/Undertow$Builder;
     138: new           #18                 // class io/undertow/server/protocol/http2/Http2UpgradeHandler
     141: dup
     142: new           #27                 // class io/undertow/server/handlers/proxy/LoadBalancingProxyHTTP2ViaUpgradeTestCase$2
     145: dup
     146: aload_2
     147: invokespecial #28                 // Method io/undertow/server/handlers/proxy/LoadBalancingProxyHTTP2ViaUpgradeTestCase$2."<init>":(Lio/undertow/server/HttpHandler;)V
     150: invokespecial #21                 // Method io/undertow/server/protocol/http2/Http2UpgradeHandler."<init>":(Lio/undertow/server/HttpHandler;)V
     153: invokevirtual #22                 // Method io/undertow/Undertow$Builder.setHandler:(Lio/undertow/server/HttpHandler;)Lio/undertow/Undertow$Builder;
     156: invokevirtual #23                 // Method io/undertow/Undertow$Builder.build:()Lio/undertow/Undertow;
     159: putstatic     #29                 // Field server2:Lio/undertow/Undertow;
     162: getstatic     #24                 // Field server1:Lio/undertow/Undertow;
     165: invokevirtual #30                 // Method io/undertow/Undertow.start:()V
     168: getstatic     #29                 // Field server2:Lio/undertow/Undertow;
     171: invokevirtual #30                 // Method io/undertow/Undertow.start:()V
     174: invokestatic  #31                 // Method io/undertow/server/handlers/proxy/ProxyHandler.builder:()Lio/undertow/server/handlers/proxy/ProxyHandler$Builder;
     177: new           #32                 // class io/undertow/server/handlers/proxy/LoadBalancingProxyClient
     180: dup
     181: invokespecial #33                 // Method io/undertow/server/handlers/proxy/LoadBalancingProxyClient."<init>":()V
     184: iconst_4
     185: invokevirtual #34                 // Method io/undertow/server/handlers/proxy/LoadBalancingProxyClient.setConnectionsPerThread:(I)Lio/undertow/server/handlers/proxy/LoadBalancingProxyClient;
     188: new           #35                 // class java/net/URI
     191: dup
     192: ldc           #36                 // String h2c
     194: aconst_null
     195: ldc           #2                  // String default
     197: invokestatic  #8                  // Method io/undertow/testutils/DefaultServer.getHostAddress:(Ljava/lang/String;)Ljava/lang/String;
     200: iload_0
     201: iconst_1
     202: iadd
     203: aconst_null
     204: aconst_null
     205: aconst_null
     206: invokespecial #37                 // Method java/net/URI."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     209: ldc           #4                  // String s1
     211: invokevirtual #38                 // Method io/undertow/server/handlers/proxy/LoadBalancingProxyClient.addHost:(Ljava/net/URI;Ljava/lang/String;)Lio/undertow/server/handlers/proxy/LoadBalancingProxyClient;
     214: new           #35                 // class java/net/URI
     217: dup
     218: ldc           #36                 // String h2c
     220: aconst_null
     221: ldc           #2                  // String default
     223: invokestatic  #8                  // Method io/undertow/testutils/DefaultServer.getHostAddress:(Ljava/lang/String;)Ljava/lang/String;
     226: iload_0
     227: iconst_2
     228: iadd
     229: aconst_null
     230: aconst_null
     231: aconst_null
     232: invokespecial #37                 // Method java/net/URI."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     235: ldc           #25                 // String s2
     237: invokevirtual #38                 // Method io/undertow/server/handlers/proxy/LoadBalancingProxyClient.addHost:(Ljava/net/URI;Ljava/lang/String;)Lio/undertow/server/handlers/proxy/LoadBalancingProxyClient;
     240: invokevirtual #39                 // Method io/undertow/server/handlers/proxy/ProxyHandler$Builder.setProxyClient:(Lio/undertow/server/handlers/proxy/ProxyClient;)Lio/undertow/server/handlers/proxy/ProxyHandler$Builder;
     243: sipush        10000
     246: invokevirtual #40                 // Method io/undertow/server/handlers/proxy/ProxyHandler$Builder.setMaxRequestTime:(I)Lio/undertow/server/handlers/proxy/ProxyHandler$Builder;
     249: iconst_2
     250: invokevirtual #41                 // Method io/undertow/server/handlers/proxy/ProxyHandler$Builder.setMaxConnectionRetries:(I)Lio/undertow/server/handlers/proxy/ProxyHandler$Builder;
     253: invokevirtual #42                 // Method io/undertow/server/handlers/proxy/ProxyHandler$Builder.build:()Lio/undertow/server/handlers/proxy/ProxyHandler;
     256: invokestatic  #43                 // Method io/undertow/testutils/DefaultServer.setRootHandler:(Lio/undertow/server/HttpHandler;)V
     259: return

  public void testHeadersAreLowercase() throws java.io.IOException;
    Code:
       0: new           #44                 // class io/undertow/testutils/TestHttpClient
       3: dup
       4: invokespecial #45                 // Method io/undertow/testutils/TestHttpClient."<init>":()V
       7: astore_1
       8: new           #46                 // class org/apache/http/client/methods/HttpGet
      11: dup
      12: new           #47                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #48                 // Method java/lang/StringBuilder."<init>":()V
      19: invokestatic  #49                 // Method io/undertow/testutils/DefaultServer.getDefaultServerURL:()Ljava/lang/String;
      22: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: ldc           #51                 // String /name
      27: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: invokevirtual #52                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      33: invokespecial #53                 // Method org/apache/http/client/methods/HttpGet."<init>":(Ljava/lang/String;)V
      36: astore_2
      37: aload_1
      38: aload_2
      39: invokevirtual #54                 // Method io/undertow/testutils/TestHttpClient.execute:(Lorg/apache/http/client/methods/HttpUriRequest;)Lorg/apache/http/HttpResponse;
      42: astore_3
      43: ldc2_w        #56                 // long 200l
      46: aload_3
      47: invokeinterface #58,  1           // InterfaceMethod org/apache/http/HttpResponse.getStatusLine:()Lorg/apache/http/StatusLine;
      52: invokeinterface #59,  1           // InterfaceMethod org/apache/http/StatusLine.getStatusCode:()I
      57: i2l
      58: invokestatic  #60                 // Method org/junit/Assert.assertEquals:(JJ)V
      61: aload_3
      62: invokestatic  #61                 // Method io/undertow/testutils/HttpClientUtils.readResponse:(Lorg/apache/http/HttpResponse;)Ljava/lang/String;
      65: pop
      66: aload_3
      67: ldc           #62                 // String x-custom-header
      69: invokeinterface #63,  2           // InterfaceMethod org/apache/http/HttpResponse.getFirstHeader:(Ljava/lang/String;)Lorg/apache/http/Header;
      74: astore        4
      76: ldc           #62                 // String x-custom-header
      78: aload         4
      80: invokeinterface #64,  1           // InterfaceMethod org/apache/http/Header.getName:()Ljava/lang/String;
      85: invokestatic  #65                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
      88: aload_1
      89: invokevirtual #66                 // Method io/undertow/testutils/TestHttpClient.getConnectionManager:()Lorg/apache/http/conn/ClientConnectionManager;
      92: invokeinterface #67,  1           // InterfaceMethod org/apache/http/conn/ClientConnectionManager.shutdown:()V
      97: goto          114
     100: astore        5
     102: aload_1
     103: invokevirtual #66                 // Method io/undertow/testutils/TestHttpClient.getConnectionManager:()Lorg/apache/http/conn/ClientConnectionManager;
     106: invokeinterface #67,  1           // InterfaceMethod org/apache/http/conn/ClientConnectionManager.shutdown:()V
     111: aload         5
     113: athrow
     114: return
    Exception table:
       from    to  target type
           8    88   100   any
         100   102   100   any
}
