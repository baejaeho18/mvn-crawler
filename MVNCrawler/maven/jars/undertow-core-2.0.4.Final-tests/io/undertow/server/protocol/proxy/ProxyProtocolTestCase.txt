Compiled from "ProxyProtocolTestCase.java"
public class io.undertow.server.protocol.proxy.ProxyProtocolTestCase {
  public io.undertow.server.protocol.proxy.ProxyProtocolTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void testProxyProtocol() throws java.lang.Exception;
    Code:
       0: invokestatic  #2                  // Method io/undertow/Undertow.builder:()Lio/undertow/Undertow$Builder;
       3: new           #3                  // class io/undertow/Undertow$ListenerBuilder
       6: dup
       7: invokespecial #4                  // Method io/undertow/Undertow$ListenerBuilder."<init>":()V
      10: getstatic     #5                  // Field io/undertow/Undertow$ListenerType.HTTP:Lio/undertow/Undertow$ListenerType;
      13: invokevirtual #6                  // Method io/undertow/Undertow$ListenerBuilder.setType:(Lio/undertow/Undertow$ListenerType;)Lio/undertow/Undertow$ListenerBuilder;
      16: invokestatic  #7                  // Method io/undertow/testutils/DefaultServer.getHostAddress:()Ljava/lang/String;
      19: invokevirtual #8                  // Method io/undertow/Undertow$ListenerBuilder.setHost:(Ljava/lang/String;)Lio/undertow/Undertow$ListenerBuilder;
      22: iconst_1
      23: invokevirtual #9                  // Method io/undertow/Undertow$ListenerBuilder.setUseProxyProtocol:(Z)Lio/undertow/Undertow$ListenerBuilder;
      26: iconst_0
      27: invokevirtual #10                 // Method io/undertow/Undertow$ListenerBuilder.setPort:(I)Lio/undertow/Undertow$ListenerBuilder;
      30: invokevirtual #11                 // Method io/undertow/Undertow$Builder.addListener:(Lio/undertow/Undertow$ListenerBuilder;)Lio/undertow/Undertow$Builder;
      33: new           #12                 // class io/undertow/server/protocol/proxy/ProxyProtocolTestCase$1
      36: dup
      37: aload_0
      38: invokespecial #13                 // Method io/undertow/server/protocol/proxy/ProxyProtocolTestCase$1."<init>":(Lio/undertow/server/protocol/proxy/ProxyProtocolTestCase;)V
      41: invokevirtual #14                 // Method io/undertow/Undertow$Builder.setHandler:(Lio/undertow/server/HttpHandler;)Lio/undertow/Undertow$Builder;
      44: invokevirtual #15                 // Method io/undertow/Undertow$Builder.build:()Lio/undertow/Undertow;
      47: astore_1
      48: aload_1
      49: invokevirtual #16                 // Method io/undertow/Undertow.start:()V
      52: aload_1
      53: invokevirtual #17                 // Method io/undertow/Undertow.getListenerInfo:()Ljava/util/List;
      56: iconst_0
      57: invokeinterface #18,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      62: checkcast     #19                 // class io/undertow/Undertow$ListenerInfo
      65: invokevirtual #20                 // Method io/undertow/Undertow$ListenerInfo.getAddress:()Ljava/net/SocketAddress;
      68: checkcast     #21                 // class java/net/InetSocketAddress
      71: invokevirtual #22                 // Method java/net/InetSocketAddress.getPort:()I
      74: istore_2
      75: new           #23                 // class java/net/Socket
      78: dup
      79: invokestatic  #7                  // Method io/undertow/testutils/DefaultServer.getHostAddress:()Ljava/lang/String;
      82: iload_2
      83: invokespecial #24                 // Method java/net/Socket."<init>":(Ljava/lang/String;I)V
      86: astore_3
      87: aload_3
      88: invokevirtual #25                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      91: ldc           #26                 // String PROXY TCP4 1.2.3.4 5.6.7.8 444 555\r\nGET / HTTP/1.0\r\n\r\n
      93: getstatic     #27                 // Field java/nio/charset/StandardCharsets.US_ASCII:Ljava/nio/charset/Charset;
      96: invokevirtual #28                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
      99: invokevirtual #29                 // Method java/io/OutputStream.write:([B)V
     102: aload_3
     103: invokevirtual #30                 // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
     106: invokestatic  #31                 // Method io/undertow/util/FileUtils.readFile:(Ljava/io/InputStream;)Ljava/lang/String;
     109: astore        4
     111: aload         4
     113: aload         4
     115: ldc           #32                 // String result: /1.2.3.4:444 /5.6.7.8:555
     117: invokevirtual #33                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     120: invokestatic  #34                 // Method org/junit/Assert.assertTrue:(Ljava/lang/String;Z)V
     123: aload_1
     124: invokevirtual #35                 // Method io/undertow/Undertow.stop:()V
     127: goto          139
     130: astore        5
     132: aload_1
     133: invokevirtual #35                 // Method io/undertow/Undertow.stop:()V
     136: aload         5
     138: athrow
     139: return
    Exception table:
       from    to  target type
          48   123   130   any
         130   132   130   any

  public void testProxyProtocolSSl() throws java.lang.Exception;
    Code:
       0: invokestatic  #2                  // Method io/undertow/Undertow.builder:()Lio/undertow/Undertow$Builder;
       3: new           #3                  // class io/undertow/Undertow$ListenerBuilder
       6: dup
       7: invokespecial #4                  // Method io/undertow/Undertow$ListenerBuilder."<init>":()V
      10: getstatic     #36                 // Field io/undertow/Undertow$ListenerType.HTTPS:Lio/undertow/Undertow$ListenerType;
      13: invokevirtual #6                  // Method io/undertow/Undertow$ListenerBuilder.setType:(Lio/undertow/Undertow$ListenerType;)Lio/undertow/Undertow$ListenerBuilder;
      16: invokestatic  #37                 // Method io/undertow/testutils/DefaultServer.getServerSslContext:()Ljavax/net/ssl/SSLContext;
      19: invokevirtual #38                 // Method io/undertow/Undertow$ListenerBuilder.setSslContext:(Ljavax/net/ssl/SSLContext;)Lio/undertow/Undertow$ListenerBuilder;
      22: invokestatic  #7                  // Method io/undertow/testutils/DefaultServer.getHostAddress:()Ljava/lang/String;
      25: invokevirtual #8                  // Method io/undertow/Undertow$ListenerBuilder.setHost:(Ljava/lang/String;)Lio/undertow/Undertow$ListenerBuilder;
      28: iconst_1
      29: invokevirtual #9                  // Method io/undertow/Undertow$ListenerBuilder.setUseProxyProtocol:(Z)Lio/undertow/Undertow$ListenerBuilder;
      32: iconst_0
      33: invokevirtual #10                 // Method io/undertow/Undertow$ListenerBuilder.setPort:(I)Lio/undertow/Undertow$ListenerBuilder;
      36: invokevirtual #11                 // Method io/undertow/Undertow$Builder.addListener:(Lio/undertow/Undertow$ListenerBuilder;)Lio/undertow/Undertow$Builder;
      39: new           #39                 // class io/undertow/server/protocol/proxy/ProxyProtocolTestCase$2
      42: dup
      43: aload_0
      44: invokespecial #40                 // Method io/undertow/server/protocol/proxy/ProxyProtocolTestCase$2."<init>":(Lio/undertow/server/protocol/proxy/ProxyProtocolTestCase;)V
      47: invokevirtual #14                 // Method io/undertow/Undertow$Builder.setHandler:(Lio/undertow/server/HttpHandler;)Lio/undertow/Undertow$Builder;
      50: invokevirtual #15                 // Method io/undertow/Undertow$Builder.build:()Lio/undertow/Undertow;
      53: astore_1
      54: aload_1
      55: invokevirtual #16                 // Method io/undertow/Undertow.start:()V
      58: aload_1
      59: invokevirtual #17                 // Method io/undertow/Undertow.getListenerInfo:()Ljava/util/List;
      62: iconst_0
      63: invokeinterface #18,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      68: checkcast     #19                 // class io/undertow/Undertow$ListenerInfo
      71: invokevirtual #20                 // Method io/undertow/Undertow$ListenerInfo.getAddress:()Ljava/net/SocketAddress;
      74: checkcast     #21                 // class java/net/InetSocketAddress
      77: invokevirtual #22                 // Method java/net/InetSocketAddress.getPort:()I
      80: istore_2
      81: new           #23                 // class java/net/Socket
      84: dup
      85: invokestatic  #7                  // Method io/undertow/testutils/DefaultServer.getHostAddress:()Ljava/lang/String;
      88: iload_2
      89: invokespecial #24                 // Method java/net/Socket."<init>":(Ljava/lang/String;I)V
      92: astore_3
      93: aload_3
      94: invokevirtual #25                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      97: ldc           #41                 // String PROXY TCP4 1.2.3.4 5.6.7.8 444 555\r\n
      99: getstatic     #27                 // Field java/nio/charset/StandardCharsets.US_ASCII:Ljava/nio/charset/Charset;
     102: invokevirtual #28                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     105: invokevirtual #29                 // Method java/io/OutputStream.write:([B)V
     108: invokestatic  #42                 // Method io/undertow/testutils/DefaultServer.getClientSSLContext:()Ljavax/net/ssl/SSLContext;
     111: invokevirtual #43                 // Method javax/net/ssl/SSLContext.getSocketFactory:()Ljavax/net/ssl/SSLSocketFactory;
     114: aload_3
     115: invokestatic  #7                  // Method io/undertow/testutils/DefaultServer.getHostAddress:()Ljava/lang/String;
     118: iload_2
     119: iconst_1
     120: invokevirtual #44                 // Method javax/net/ssl/SSLSocketFactory.createSocket:(Ljava/net/Socket;Ljava/lang/String;IZ)Ljava/net/Socket;
     123: astore_3
     124: aload_3
     125: invokevirtual #25                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
     128: ldc           #45                 // String GET / HTTP/1.0\r\n\r\n
     130: getstatic     #27                 // Field java/nio/charset/StandardCharsets.US_ASCII:Ljava/nio/charset/Charset;
     133: invokevirtual #28                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     136: invokevirtual #29                 // Method java/io/OutputStream.write:([B)V
     139: aload_3
     140: invokevirtual #30                 // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
     143: invokestatic  #31                 // Method io/undertow/util/FileUtils.readFile:(Ljava/io/InputStream;)Ljava/lang/String;
     146: astore        4
     148: aload         4
     150: aload         4
     152: ldc           #32                 // String result: /1.2.3.4:444 /5.6.7.8:555
     154: invokevirtual #33                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     157: invokestatic  #34                 // Method org/junit/Assert.assertTrue:(Ljava/lang/String;Z)V
     160: aload_1
     161: invokevirtual #35                 // Method io/undertow/Undertow.stop:()V
     164: goto          176
     167: astore        5
     169: aload_1
     170: invokevirtual #35                 // Method io/undertow/Undertow.stop:()V
     173: aload         5
     175: athrow
     176: return
    Exception table:
       from    to  target type
          54   160   167   any
         167   169   167   any

  public void testProxyProtocolUnknownEmpty() throws java.lang.Exception;
    Code:
       0: aload_0
       1: ldc           #46                 // String
       3: invokevirtual #47                 // Method doTestProxyProtocolUnknown:(Ljava/lang/String;)V
       6: return

  public void testProxyProtocolUnknownSpace() throws java.lang.Exception;
    Code:
       0: aload_0
       1: ldc           #48                 // String
       3: invokevirtual #47                 // Method doTestProxyProtocolUnknown:(Ljava/lang/String;)V
       6: return

  public void testProxyProtocolUnknownJunk() throws java.lang.Exception;
    Code:
       0: aload_0
       1: ldc           #49                 // String  mekmitasdigoat
       3: invokevirtual #47                 // Method doTestProxyProtocolUnknown:(Ljava/lang/String;)V
       6: return

  public void doTestProxyProtocolUnknown(java.lang.String) throws java.lang.Exception;
    Code:
       0: invokestatic  #2                  // Method io/undertow/Undertow.builder:()Lio/undertow/Undertow$Builder;
       3: new           #3                  // class io/undertow/Undertow$ListenerBuilder
       6: dup
       7: invokespecial #4                  // Method io/undertow/Undertow$ListenerBuilder."<init>":()V
      10: getstatic     #5                  // Field io/undertow/Undertow$ListenerType.HTTP:Lio/undertow/Undertow$ListenerType;
      13: invokevirtual #6                  // Method io/undertow/Undertow$ListenerBuilder.setType:(Lio/undertow/Undertow$ListenerType;)Lio/undertow/Undertow$ListenerBuilder;
      16: invokestatic  #7                  // Method io/undertow/testutils/DefaultServer.getHostAddress:()Ljava/lang/String;
      19: invokevirtual #8                  // Method io/undertow/Undertow$ListenerBuilder.setHost:(Ljava/lang/String;)Lio/undertow/Undertow$ListenerBuilder;
      22: iconst_1
      23: invokevirtual #9                  // Method io/undertow/Undertow$ListenerBuilder.setUseProxyProtocol:(Z)Lio/undertow/Undertow$ListenerBuilder;
      26: iconst_0
      27: invokevirtual #10                 // Method io/undertow/Undertow$ListenerBuilder.setPort:(I)Lio/undertow/Undertow$ListenerBuilder;
      30: invokevirtual #11                 // Method io/undertow/Undertow$Builder.addListener:(Lio/undertow/Undertow$ListenerBuilder;)Lio/undertow/Undertow$Builder;
      33: new           #50                 // class io/undertow/server/protocol/proxy/ProxyProtocolTestCase$3
      36: dup
      37: aload_0
      38: invokespecial #51                 // Method io/undertow/server/protocol/proxy/ProxyProtocolTestCase$3."<init>":(Lio/undertow/server/protocol/proxy/ProxyProtocolTestCase;)V
      41: invokevirtual #14                 // Method io/undertow/Undertow$Builder.setHandler:(Lio/undertow/server/HttpHandler;)Lio/undertow/Undertow$Builder;
      44: invokevirtual #15                 // Method io/undertow/Undertow$Builder.build:()Lio/undertow/Undertow;
      47: astore_2
      48: aload_2
      49: invokevirtual #16                 // Method io/undertow/Undertow.start:()V
      52: aload_2
      53: invokevirtual #17                 // Method io/undertow/Undertow.getListenerInfo:()Ljava/util/List;
      56: iconst_0
      57: invokeinterface #18,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      62: checkcast     #19                 // class io/undertow/Undertow$ListenerInfo
      65: invokevirtual #20                 // Method io/undertow/Undertow$ListenerInfo.getAddress:()Ljava/net/SocketAddress;
      68: checkcast     #21                 // class java/net/InetSocketAddress
      71: astore_3
      72: new           #23                 // class java/net/Socket
      75: dup
      76: aload_3
      77: invokevirtual #52                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
      80: aload_3
      81: invokevirtual #22                 // Method java/net/InetSocketAddress.getPort:()I
      84: invokespecial #53                 // Method java/net/Socket."<init>":(Ljava/net/InetAddress;I)V
      87: astore        4
      89: ldc           #54                 // String result: /%s:%d /%s:%d
      91: iconst_4
      92: anewarray     #55                 // class java/lang/Object
      95: dup
      96: iconst_0
      97: aload         4
      99: invokevirtual #56                 // Method java/net/Socket.getLocalAddress:()Ljava/net/InetAddress;
     102: invokevirtual #57                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
     105: aastore
     106: dup
     107: iconst_1
     108: aload         4
     110: invokevirtual #58                 // Method java/net/Socket.getLocalPort:()I
     113: invokestatic  #59                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     116: aastore
     117: dup
     118: iconst_2
     119: aload_3
     120: invokevirtual #52                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
     123: invokevirtual #57                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
     126: aastore
     127: dup
     128: iconst_3
     129: aload_3
     130: invokevirtual #22                 // Method java/net/InetSocketAddress.getPort:()I
     133: invokestatic  #59                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     136: aastore
     137: invokestatic  #60                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     140: astore        5
     142: aload         4
     144: invokevirtual #25                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
     147: new           #61                 // class java/lang/StringBuilder
     150: dup
     151: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     154: ldc           #63                 // String PROXY UNKNOWN
     156: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     159: aload_1
     160: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     163: ldc           #65                 // String \r\nGET / HTTP/1.0\r\n\r\n
     165: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     168: invokevirtual #66                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     171: getstatic     #27                 // Field java/nio/charset/StandardCharsets.US_ASCII:Ljava/nio/charset/Charset;
     174: invokevirtual #28                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     177: invokevirtual #29                 // Method java/io/OutputStream.write:([B)V
     180: aload         4
     182: invokevirtual #30                 // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
     185: invokestatic  #31                 // Method io/undertow/util/FileUtils.readFile:(Ljava/io/InputStream;)Ljava/lang/String;
     188: astore        6
     190: aload         6
     192: aload         6
     194: aload         5
     196: invokevirtual #33                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     199: invokestatic  #34                 // Method org/junit/Assert.assertTrue:(Ljava/lang/String;Z)V
     202: aload_2
     203: invokevirtual #35                 // Method io/undertow/Undertow.stop:()V
     206: goto          218
     209: astore        7
     211: aload_2
     212: invokevirtual #35                 // Method io/undertow/Undertow.stop:()V
     215: aload         7
     217: athrow
     218: return
    Exception table:
       from    to  target type
          48   202   209   any
         209   211   209   any
}
