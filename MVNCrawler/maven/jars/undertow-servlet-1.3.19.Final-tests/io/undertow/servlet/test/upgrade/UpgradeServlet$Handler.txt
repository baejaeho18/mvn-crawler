Compiled from "UpgradeServlet.java"
public class io.undertow.servlet.test.upgrade.UpgradeServlet$Handler implements javax.servlet.http.HttpUpgradeHandler {
  public io.undertow.servlet.test.upgrade.UpgradeServlet$Handler();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void init(javax.servlet.http.WebConnection);
    Code:
       0: ldc           #2                  // String
       2: astore_2
       3: new           #3                  // class java/lang/StringBuilder
       6: dup
       7: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      10: astore_3
      11: bipush        100
      13: newarray       byte
      15: astore        4
      17: aload_3
      18: invokevirtual #5                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      21: ldc           #6                  // String \r\n\r\n
      23: invokevirtual #7                  // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      26: ifne          67
      29: aload_1
      30: invokeinterface #8,  1            // InterfaceMethod javax/servlet/http/WebConnection.getInputStream:()Ljavax/servlet/ServletInputStream;
      35: aload         4
      37: invokevirtual #9                  // Method javax/servlet/ServletInputStream.read:([B)I
      40: dup
      41: istore        5
      43: iconst_m1
      44: if_icmpeq     67
      47: aload_3
      48: new           #10                 // class java/lang/String
      51: dup
      52: aload         4
      54: iconst_0
      55: iload         5
      57: invokespecial #11                 // Method java/lang/String."<init>":([BII)V
      60: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: pop
      64: goto          17
      67: aload_1
      68: invokeinterface #13,  1           // InterfaceMethod javax/servlet/http/WebConnection.getOutputStream:()Ljavax/servlet/ServletOutputStream;
      73: aload_3
      74: invokevirtual #5                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      77: invokevirtual #14                 // Method javax/servlet/ServletOutputStream.print:(Ljava/lang/String;)V
      80: aload_1
      81: invokeinterface #13,  1           // InterfaceMethod javax/servlet/http/WebConnection.getOutputStream:()Ljavax/servlet/ServletOutputStream;
      86: invokevirtual #15                 // Method javax/servlet/ServletOutputStream.flush:()V
      89: aload_3
      90: invokevirtual #5                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: astore_2
      94: ldc           #16                 // String exit\r\n\r\n
      96: aload_2
      97: invokevirtual #17                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     100: ifeq          3
     103: aload_1
     104: invokeinterface #18,  1           // InterfaceMethod javax/servlet/http/WebConnection.close:()V
     109: goto          204
     112: astore_2
     113: getstatic     #20                 // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
     116: new           #21                 // class java/io/IOException
     119: dup
     120: aload_2
     121: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     124: invokeinterface #23,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
     129: goto          204
     132: astore_2
     133: getstatic     #20                 // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
     136: aload_2
     137: invokeinterface #23,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
     142: aload_1
     143: invokeinterface #18,  1           // InterfaceMethod javax/servlet/http/WebConnection.close:()V
     148: goto          204
     151: astore_2
     152: getstatic     #20                 // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
     155: new           #21                 // class java/io/IOException
     158: dup
     159: aload_2
     160: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     163: invokeinterface #23,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
     168: goto          204
     171: astore        6
     173: aload_1
     174: invokeinterface #18,  1           // InterfaceMethod javax/servlet/http/WebConnection.close:()V
     179: goto          201
     182: astore        7
     184: getstatic     #20                 // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
     187: new           #21                 // class java/io/IOException
     190: dup
     191: aload         7
     193: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     196: invokeinterface #23,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
     201: aload         6
     203: athrow
     204: return
    Exception table:
       from    to  target type
         103   109   112   Class java/lang/Exception
           0   103   132   Class java/io/IOException
         142   148   151   Class java/lang/Exception
           0   103   171   any
         132   142   171   any
         173   179   182   Class java/lang/Exception
         171   173   171   any

  public void destroy();
    Code:
       0: return
}
