Compiled from "OnceConsumerInvoker.java"
public class org.joyqueue.client.internal.consumer.support.OnceConsumerInvoker implements org.joyqueue.client.internal.consumer.interceptor.ConsumerInvoker {
  protected static final org.slf4j.Logger logger;

  private org.joyqueue.client.internal.consumer.config.ConsumerConfig config;

  private org.joyqueue.client.internal.metadata.domain.TopicMetadata topicMetadata;

  private org.joyqueue.domain.ConsumerPolicy consumerPolicy;

  private java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> messages;

  private java.util.List<org.joyqueue.client.internal.consumer.MessageListener> listeners;

  public org.joyqueue.client.internal.consumer.support.OnceConsumerInvoker(org.joyqueue.client.internal.consumer.config.ConsumerConfig, org.joyqueue.client.internal.metadata.domain.TopicMetadata, org.joyqueue.domain.ConsumerPolicy, java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>, java.util.List<org.joyqueue.client.internal.consumer.MessageListener>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field topicMetadata:Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field consumerPolicy:Lorg/joyqueue/domain/ConsumerPolicy;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field messages:Ljava/util/List;
      25: aload_0
      26: aload         5
      28: putfield      #6                  // Field listeners:Ljava/util/List;
      31: return

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeReply> invoke(org.joyqueue.client.internal.consumer.interceptor.ConsumeContext);
    Code:
       0: aload_0
       1: getfield      #5                  // Field messages:Ljava/util/List;
       4: invokeinterface #7,  1            // InterfaceMethod java/util/List.size:()I
       9: invokestatic  #8                  // Method com/google/common/collect/Lists.newArrayListWithCapacity:(I)Ljava/util/ArrayList;
      12: astore_2
      13: aload_0
      14: getfield      #5                  // Field messages:Ljava/util/List;
      17: invokeinterface #9,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      22: astore_3
      23: aload_3
      24: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          336
      32: aload_3
      33: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #12                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      41: astore        4
      43: aload_1
      44: aload         4
      46: invokevirtual #13                 // Method org/joyqueue/client/internal/consumer/interceptor/ConsumeContext.isFilteredMessage:(Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;)Z
      49: ifeq          55
      52: goto          23
      55: aload_0
      56: getfield      #2                  // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      59: invokevirtual #14                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAckTimeout:()J
      62: ldc2_w        #16                 // long -1l
      65: lcmp
      66: ifeq          79
      69: aload_0
      70: getfield      #2                  // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      73: invokevirtual #14                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAckTimeout:()J
      76: goto          90
      79: aload_0
      80: getfield      #4                  // Field consumerPolicy:Lorg/joyqueue/domain/ConsumerPolicy;
      83: invokevirtual #18                 // Method org/joyqueue/domain/ConsumerPolicy.getAckTimeout:()Ljava/lang/Integer;
      86: invokevirtual #19                 // Method java/lang/Integer.intValue:()I
      89: i2l
      90: lstore        5
      92: getstatic     #20                 // Field org/joyqueue/network/command/RetryType.NONE:Lorg/joyqueue/network/command/RetryType;
      95: astore        7
      97: invokestatic  #21                 // Method org/joyqueue/toolkit/time/SystemClock.now:()J
     100: lstore        8
     102: aload_0
     103: getfield      #6                  // Field listeners:Ljava/util/List;
     106: invokeinterface #9,  1            // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     111: astore        10
     113: aload         10
     115: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     120: ifeq          147
     123: aload         10
     125: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     130: checkcast     #22                 // class org/joyqueue/client/internal/consumer/MessageListener
     133: astore        11
     135: aload         11
     137: aload         4
     139: invokeinterface #23,  2           // InterfaceMethod org/joyqueue/client/internal/consumer/MessageListener.onMessage:(Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;)V
     144: goto          113
     147: invokestatic  #21                 // Method org/joyqueue/toolkit/time/SystemClock.now:()J
     150: lstore        10
     152: lload         10
     154: lload         8
     156: lsub
     157: lload         5
     159: lcmp
     160: ifle          204
     163: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
     166: ldc           #25                 // String execute messageListener timeout, topic: {}, message: {}, listeners: {}
     168: iconst_3
     169: anewarray     #26                 // class java/lang/Object
     172: dup
     173: iconst_0
     174: aload_0
     175: getfield      #3                  // Field topicMetadata:Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
     178: invokevirtual #27                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     181: aastore
     182: dup
     183: iconst_1
     184: aload         4
     186: aastore
     187: dup
     188: iconst_2
     189: aload_0
     190: getfield      #6                  // Field listeners:Ljava/util/List;
     193: aastore
     194: invokeinterface #28,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     199: getstatic     #20                 // Field org/joyqueue/network/command/RetryType.NONE:Lorg/joyqueue/network/command/RetryType;
     202: astore        7
     204: goto          307
     207: astore        8
     209: aload         8
     211: instanceof    #30                 // class org/joyqueue/client/internal/consumer/exception/IgnoreAckException
     214: ifeq          261
     217: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
     220: ldc           #31                 // String execute messageListener, ignore ack, topic: {}, message: {}, listeners: {}
     222: iconst_3
     223: anewarray     #26                 // class java/lang/Object
     226: dup
     227: iconst_0
     228: aload_0
     229: getfield      #3                  // Field topicMetadata:Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
     232: invokevirtual #27                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     235: aastore
     236: dup
     237: iconst_1
     238: aload         4
     240: aastore
     241: dup
     242: iconst_2
     243: aload_0
     244: getfield      #6                  // Field listeners:Ljava/util/List;
     247: aastore
     248: invokeinterface #32,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     253: getstatic     #33                 // Field org/joyqueue/network/command/RetryType.OTHER:Lorg/joyqueue/network/command/RetryType;
     256: astore        7
     258: goto          307
     261: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
     264: ldc           #34                 // String execute messageListener exception, topic: {}, message: {}, listeners: {}
     266: iconst_4
     267: anewarray     #26                 // class java/lang/Object
     270: dup
     271: iconst_0
     272: aload_0
     273: getfield      #3                  // Field topicMetadata:Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
     276: invokevirtual #27                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     279: aastore
     280: dup
     281: iconst_1
     282: aload         4
     284: aastore
     285: dup
     286: iconst_2
     287: aload_0
     288: getfield      #6                  // Field listeners:Ljava/util/List;
     291: aastore
     292: dup
     293: iconst_3
     294: aload         8
     296: aastore
     297: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     302: getstatic     #36                 // Field org/joyqueue/network/command/RetryType.EXCEPTION:Lorg/joyqueue/network/command/RetryType;
     305: astore        7
     307: aload_2
     308: new           #37                 // class org/joyqueue/client/internal/consumer/domain/ConsumeReply
     311: dup
     312: aload         4
     314: invokevirtual #38                 // Method org/joyqueue/client/internal/consumer/domain/ConsumeMessage.getPartition:()S
     317: aload         4
     319: invokevirtual #39                 // Method org/joyqueue/client/internal/consumer/domain/ConsumeMessage.getIndex:()J
     322: aload         7
     324: invokespecial #40                 // Method org/joyqueue/client/internal/consumer/domain/ConsumeReply."<init>":(SJLorg/joyqueue/network/command/RetryType;)V
     327: invokeinterface #41,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     332: pop
     333: goto          23
     336: aload_2
     337: areturn
    Exception table:
       from    to  target type
          97   204   207   Class java/lang/Exception

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeReply> reject(org.joyqueue.client.internal.consumer.interceptor.ConsumeContext);
    Code:
       0: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
       3: ldc           #42                 // String reject execute listener, topic: {}, messages: {}
       5: aload_0
       6: getfield      #3                  // Field topicMetadata:Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
       9: invokevirtual #27                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      12: aload_0
      13: getfield      #5                  // Field messages:Ljava/util/List;
      16: invokeinterface #43,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      21: aload_0
      22: getfield      #5                  // Field messages:Ljava/util/List;
      25: getstatic     #20                 // Field org/joyqueue/network/command/RetryType.NONE:Lorg/joyqueue/network/command/RetryType;
      28: invokestatic  #44                 // Method org/joyqueue/client/internal/consumer/converter/ConsumeMessageConverter.convertToReply:(Ljava/util/List;Lorg/joyqueue/network/command/RetryType;)Ljava/util/List;
      31: areturn

  static {};
    Code:
       0: ldc           #45                 // class org/joyqueue/client/internal/consumer/support/OnceConsumerInvoker
       2: invokestatic  #46                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #24                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
