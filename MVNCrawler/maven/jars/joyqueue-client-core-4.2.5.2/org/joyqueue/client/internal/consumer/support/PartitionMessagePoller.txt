Compiled from "PartitionMessagePoller.java"
public class org.joyqueue.client.internal.consumer.support.PartitionMessagePoller extends org.joyqueue.toolkit.service.Service implements org.joyqueue.client.internal.consumer.MessagePoller {
  private static final int CUSTOM_BATCH_SIZE;

  protected static final org.slf4j.Logger logger;

  private org.joyqueue.client.internal.consumer.config.ConsumerConfig config;

  private org.joyqueue.client.internal.nameserver.NameServerConfig nameServerConfig;

  private org.joyqueue.client.internal.cluster.ClusterManager clusterManager;

  private org.joyqueue.client.internal.consumer.transport.ConsumerClientManager consumerClientManager;

  private org.joyqueue.client.internal.consumer.config.FetcherConfig fetcherConfig;

  private org.joyqueue.client.internal.consumer.MessageFetcher messageFetcher;

  private org.joyqueue.client.internal.consumer.ConsumerIndexManager consumerIndexManager;

  private org.joyqueue.client.internal.consumer.support.MessagePollerInner messagePollerInner;

  public org.joyqueue.client.internal.consumer.support.PartitionMessagePoller(org.joyqueue.client.internal.consumer.config.ConsumerConfig, org.joyqueue.client.internal.nameserver.NameServerConfig, org.joyqueue.client.internal.cluster.ClusterManager, org.joyqueue.client.internal.consumer.transport.ConsumerClientManager, org.joyqueue.client.internal.consumer.ConsumerIndexManager);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/joyqueue/toolkit/service/Service."<init>":()V
       4: aload_1
       5: ifnull        12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: ldc           #2                  // String consumer not null
      15: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      18: aload_2
      19: ifnull        26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ldc           #4                  // String nameServer not null
      29: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      32: aload_3
      33: ifnull        40
      36: iconst_1
      37: goto          41
      40: iconst_0
      41: ldc           #5                  // String clusterManager not null
      43: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      46: aload         5
      48: ifnull        55
      51: iconst_1
      52: goto          56
      55: iconst_0
      56: ldc           #6                  // String consumerIndexManager not null
      58: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      61: aload         4
      63: ifnull        70
      66: iconst_1
      67: goto          71
      70: iconst_0
      71: ldc           #7                  // String consumerClientManager not null
      73: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      76: aload_1
      77: invokevirtual #8                  // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getApp:()Ljava/lang/String;
      80: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      83: ldc           #10                 // String consumer.app not blank
      85: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      88: aload_1
      89: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      92: aload_1
      93: invokevirtual #12                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getLongPollTimeout:()J
      96: lcmp
      97: ifle          104
     100: iconst_1
     101: goto          105
     104: iconst_0
     105: ldc           #13                 // String consumer.pollTimeout must be greater than consumer.longPullTimeout
     107: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
     110: aload_0
     111: aload_1
     112: putfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     115: aload_0
     116: aload_2
     117: putfield      #15                 // Field nameServerConfig:Lorg/joyqueue/client/internal/nameserver/NameServerConfig;
     120: aload_0
     121: aload_3
     122: putfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
     125: aload_0
     126: aload         4
     128: putfield      #17                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
     131: aload_0
     132: aload         5
     134: putfield      #18                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
     137: return

  protected void validate() throws java.lang.Exception;
    Code:
       0: aload_0
       1: new           #19                 // class org/joyqueue/client/internal/consumer/config/FetcherConfig
       4: dup
       5: invokespecial #20                 // Method org/joyqueue/client/internal/consumer/config/FetcherConfig."<init>":()V
       8: putfield      #21                 // Field fetcherConfig:Lorg/joyqueue/client/internal/consumer/config/FetcherConfig;
      11: aload_0
      12: new           #22                 // class org/joyqueue/client/internal/consumer/support/DefaultMessageFetcher
      15: dup
      16: aload_0
      17: getfield      #17                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
      20: aload_0
      21: getfield      #21                 // Field fetcherConfig:Lorg/joyqueue/client/internal/consumer/config/FetcherConfig;
      24: invokespecial #23                 // Method org/joyqueue/client/internal/consumer/support/DefaultMessageFetcher."<init>":(Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;Lorg/joyqueue/client/internal/consumer/config/FetcherConfig;)V
      27: putfield      #24                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      30: aload_0
      31: new           #25                 // class org/joyqueue/client/internal/consumer/support/MessagePollerInner
      34: dup
      35: aload_0
      36: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      39: aload_0
      40: getfield      #15                 // Field nameServerConfig:Lorg/joyqueue/client/internal/nameserver/NameServerConfig;
      43: aload_0
      44: getfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
      47: aload_0
      48: getfield      #17                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
      51: aload_0
      52: getfield      #24                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      55: invokespecial #26                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner."<init>":(Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;Lorg/joyqueue/client/internal/nameserver/NameServerConfig;Lorg/joyqueue/client/internal/cluster/ClusterManager;Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;Lorg/joyqueue/client/internal/consumer/MessageFetcher;)V
      58: putfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      61: return

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #24                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
       4: invokeinterface #28,  1           // InterfaceMethod org/joyqueue/client/internal/consumer/MessageFetcher.start:()V
       9: aload_0
      10: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      13: invokevirtual #29                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.start:()V
      16: return

  protected void doStop();
    Code:
       0: aload_0
       1: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
       4: ifnull        14
       7: aload_0
       8: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      11: invokevirtual #30                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.stop:()V
      14: aload_0
      15: getfield      #24                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      18: ifnull        30
      21: aload_0
      22: getfield      #24                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      25: invokeinterface #31,  1           // InterfaceMethod org/joyqueue/client/internal/consumer/MessageFetcher.stop:()V
      30: return

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollOnce(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       6: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
       9: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      12: invokevirtual #33                 // Method pollOnce:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;
      15: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollOnce(java.lang.String, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: lload_2
       4: aload         4
       6: aconst_null
       7: invokevirtual #34                 // Method doPoll:(Ljava/lang/String;IJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      10: astore        5
      12: aload         5
      14: invokestatic  #35                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      17: ifeq          22
      20: aconst_null
      21: areturn
      22: aload         5
      24: iconst_0
      25: invokeinterface #36,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      30: checkcast     #37                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      33: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> poll(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       6: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
       9: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      12: invokevirtual #38                 // Method poll:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Ljava/util/List;
      15: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> poll(java.lang.String, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_m1
       3: lload_2
       4: aload         4
       6: aconst_null
       7: invokevirtual #34                 // Method doPoll:(Ljava/lang/String;IJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      10: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollAsync(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       6: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
       9: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      12: invokevirtual #40                 // Method pollAsync:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
      15: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollAsync(java.lang.String, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: lload_2
       3: aload         4
       5: invokevirtual #40                 // Method pollAsync:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
       8: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_0
       4: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       7: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      10: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      13: invokevirtual #41                 // Method pollPartitionOnce:(Ljava/lang/String;SJLjava/util/concurrent/TimeUnit;)Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;
      16: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_1
       4: lload_3
       5: aload         5
       7: aconst_null
       8: invokevirtual #42                 // Method doPollPartition:(Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      11: astore        6
      13: aload         6
      15: invokestatic  #35                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      18: ifeq          23
      21: aconst_null
      22: areturn
      23: aload         6
      25: iconst_0
      26: invokeinterface #36,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      31: checkcast     #37                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      34: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: aload_0
       5: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       8: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      11: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokevirtual #43                 // Method pollPartitionOnce:(Ljava/lang/String;SJJLjava/util/concurrent/TimeUnit;)Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;
      17: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short, long, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: iconst_1
       5: lload         5
       7: aload         7
       9: aconst_null
      10: invokevirtual #44                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      13: astore        8
      15: aload         8
      17: invokestatic  #35                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      20: ifeq          25
      23: aconst_null
      24: areturn
      25: aload         8
      27: iconst_0
      28: invokeinterface #36,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      33: checkcast     #37                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      36: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_0
       4: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       7: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      10: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      13: invokevirtual #45                 // Method pollPartition:(Ljava/lang/String;SJLjava/util/concurrent/TimeUnit;)Ljava/util/List;
      16: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_m1
       4: lload_3
       5: aload         5
       7: aconst_null
       8: invokevirtual #42                 // Method doPollPartition:(Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      11: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: aload_0
       5: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       8: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      11: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokevirtual #46                 // Method pollPartition:(Ljava/lang/String;SJJLjava/util/concurrent/TimeUnit;)Ljava/util/List;
      17: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short, long, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: iconst_m1
       5: lload         5
       7: aload         7
       9: aconst_null
      10: invokevirtual #44                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      13: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_0
       4: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       7: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      10: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      13: invokevirtual #47                 // Method pollPartitionAsync:(Ljava/lang/String;SJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
      16: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short, long, java.util.concurrent.TimeUnit);
    Code:
       0: new           #48                 // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #49                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        6
       9: aload_0
      10: aload_1
      11: iload_2
      12: iconst_m1
      13: lload_3
      14: aload         5
      16: new           #50                 // class org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener
      19: dup
      20: aload         6
      22: invokespecial #51                 // Method org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      25: invokevirtual #42                 // Method doPollPartition:(Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      28: pop
      29: aload         6
      31: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: aload_0
       5: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       8: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      11: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokevirtual #52                 // Method pollPartitionAsync:(Ljava/lang/String;SJJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
      17: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short, long, long, java.util.concurrent.TimeUnit);
    Code:
       0: new           #48                 // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #49                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        8
       9: aload_0
      10: aload_1
      11: iload_2
      12: lload_3
      13: iconst_m1
      14: lload         5
      16: aload         7
      18: new           #50                 // class org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener
      21: dup
      22: aload         8
      24: invokespecial #51                 // Method org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      27: invokevirtual #44                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      30: pop
      31: aload         8
      33: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPollPartition(java.lang.String, short, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: ldc2_w        #53                 // long -1l
       6: iload_3
       7: lload         4
       9: aload         6
      11: aload         7
      13: invokevirtual #44                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      16: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPollPartition(java.lang.String, short, long, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: invokevirtual #55                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #56                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload         8
      15: ifnull        22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ldc           #57                 // String timeoutUnit not null
      25: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      28: aload_0
      29: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      32: aload_1
      33: invokevirtual #58                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      36: astore        10
      38: aload         10
      40: iload_2
      41: invokevirtual #59                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getPartition:(S)Lorg/joyqueue/client/internal/metadata/domain/PartitionMetadata;
      44: astore        11
      46: aload         11
      48: ifnonnull     85
      51: new           #60                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
      54: dup
      55: ldc           #61                 // String partition not exist, topic: %s, partition: %s
      57: iconst_2
      58: anewarray     #62                 // class java/lang/Object
      61: dup
      62: iconst_0
      63: aload_1
      64: aastore
      65: dup
      66: iconst_1
      67: iload_2
      68: invokestatic  #63                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
      71: aastore
      72: invokestatic  #64                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      75: getstatic     #65                 // Field org/joyqueue/exception/JoyQueueCode.FW_TOPIC_NO_PARTITIONGROUP:Lorg/joyqueue/exception/JoyQueueCode;
      78: invokevirtual #66                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
      81: invokespecial #67                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
      84: athrow
      85: aload         11
      87: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
      90: ifnonnull     127
      93: new           #60                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
      96: dup
      97: ldc           #69                 // String partition not available, topic: %s, partition: %s
      99: iconst_2
     100: anewarray     #62                 // class java/lang/Object
     103: dup
     104: iconst_0
     105: aload_1
     106: aastore
     107: dup
     108: iconst_1
     109: iload_2
     110: invokestatic  #63                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
     113: aastore
     114: invokestatic  #64                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     117: getstatic     #65                 // Field org/joyqueue/exception/JoyQueueCode.FW_TOPIC_NO_PARTITIONGROUP:Lorg/joyqueue/exception/JoyQueueCode;
     120: invokevirtual #66                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
     123: invokespecial #67                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
     126: athrow
     127: aload         11
     129: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
     132: invokevirtual #70                 // Method org/joyqueue/network/domain/BrokerNode.isReadable:()Z
     135: ifne          172
     138: new           #60                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
     141: dup
     142: ldc           #71                 // String partition not readable, topic: %s, partition: %s
     144: iconst_2
     145: anewarray     #62                 // class java/lang/Object
     148: dup
     149: iconst_0
     150: aload_1
     151: aastore
     152: dup
     153: iconst_1
     154: iload_2
     155: invokestatic  #63                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
     158: aastore
     159: invokestatic  #64                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     162: getstatic     #65                 // Field org/joyqueue/exception/JoyQueueCode.FW_TOPIC_NO_PARTITIONGROUP:Lorg/joyqueue/exception/JoyQueueCode;
     165: invokevirtual #66                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
     168: invokespecial #67                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
     171: athrow
     172: iload         5
     174: iconst_m1
     175: if_icmpne     212
     178: aload_0
     179: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     182: invokevirtual #72                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     185: iconst_m1
     186: if_icmpne     203
     189: aload         10
     191: invokevirtual #74                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getConsumerPolicy:()Lorg/joyqueue/domain/ConsumerPolicy;
     194: invokevirtual #75                 // Method org/joyqueue/domain/ConsumerPolicy.getBatchSize:()Ljava/lang/Short;
     197: invokevirtual #76                 // Method java/lang/Short.shortValue:()S
     200: goto          210
     203: aload_0
     204: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     207: invokevirtual #72                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     210: istore        5
     212: lload_3
     213: ldc2_w        #53                 // long -1l
     216: lcmp
     217: ifne          240
     220: aload_0
     221: aload         11
     223: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
     226: aload_1
     227: iload_2
     228: iload         5
     230: lload         6
     232: aload         8
     234: aload         9
     236: invokevirtual #77                 // Method doPollPartitionInternal:(Lorg/joyqueue/network/domain/BrokerNode;Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     239: areturn
     240: aload_0
     241: aload         11
     243: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
     246: aload_1
     247: iload_2
     248: lload_3
     249: iload         5
     251: lload         6
     253: aload         8
     255: aload         9
     257: invokevirtual #78                 // Method doPollPartitionInternal:(Lorg/joyqueue/network/domain/BrokerNode;Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     260: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPoll(java.lang.String, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: invokevirtual #55                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #56                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload         5
      15: ifnull        22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ldc           #57                 // String timeoutUnit not null
      25: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      28: aload_0
      29: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      32: aload_1
      33: invokevirtual #58                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      36: astore        7
      38: aload_0
      39: aload         7
      41: invokevirtual #79                 // Method buildAllBrokerAssignments:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      44: astore        8
      46: aload_0
      47: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      50: aload         7
      52: aload         8
      54: invokevirtual #80                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.filterRegionBrokers:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      57: astore        8
      59: aload_0
      60: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      63: aload         8
      65: invokevirtual #81                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.filterNotAvailableBrokers:(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      68: astore        8
      70: aload         8
      72: invokevirtual #82                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments.getAssignments:()Ljava/util/List;
      75: invokestatic  #35                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      78: ifeq          106
      81: getstatic     #83                 // Field logger:Lorg/slf4j/Logger;
      84: ldc           #84                 // String no broker available, topic: {}
      86: aload         7
      88: invokevirtual #85                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      91: invokeinterface #86,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      96: aload_0
      97: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     100: aload         6
     102: invokevirtual #87                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.buildPollEmptyResult:(Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     105: areturn
     106: aload_0
     107: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     110: aload         7
     112: invokevirtual #85                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     115: invokevirtual #88                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getBrokerLoadBalance:(Ljava/lang/String;)Lorg/joyqueue/client/internal/consumer/BrokerLoadBalance;
     118: astore        9
     120: aload         9
     122: aload         8
     124: invokeinterface #89,  2           // InterfaceMethod org/joyqueue/client/internal/consumer/BrokerLoadBalance.loadBalance:(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment;
     129: astore        10
     131: aload         10
     133: invokevirtual #90                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment.getPartitionAssignment:()Lorg/joyqueue/client/internal/consumer/coordinator/domain/PartitionAssignment;
     136: invokevirtual #91                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/PartitionAssignment.getPartitions:()Ljava/util/List;
     139: iconst_0
     140: invokeinterface #36,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     145: checkcast     #92                 // class java/lang/Short
     148: invokevirtual #76                 // Method java/lang/Short.shortValue:()S
     151: istore        11
     153: iload_2
     154: iconst_m1
     155: if_icmpne     191
     158: aload_0
     159: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     162: invokevirtual #72                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     165: iconst_m1
     166: if_icmpeq     179
     169: aload_0
     170: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     173: invokevirtual #72                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     176: goto          190
     179: aload         7
     181: invokevirtual #74                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getConsumerPolicy:()Lorg/joyqueue/domain/ConsumerPolicy;
     184: invokevirtual #75                 // Method org/joyqueue/domain/ConsumerPolicy.getBatchSize:()Ljava/lang/Short;
     187: invokevirtual #76                 // Method java/lang/Short.shortValue:()S
     190: istore_2
     191: aload_0
     192: aload         10
     194: invokevirtual #93                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment.getBroker:()Lorg/joyqueue/network/domain/BrokerNode;
     197: aload_1
     198: iload         11
     200: iload_2
     201: lload_3
     202: aload         5
     204: aload         6
     206: invokevirtual #77                 // Method doPollPartitionInternal:(Lorg/joyqueue/network/domain/BrokerNode;Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     209: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPollPartitionInternal(org.joyqueue.network.domain.BrokerNode, java.lang.String, short, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: getfield      #18                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
       4: aload_2
       5: aload_0
       6: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       9: invokevirtual #94                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      12: iload_3
      13: aload_0
      14: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      17: invokevirtual #95                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getTimeout:()J
      20: invokeinterface #96,  6           // InterfaceMethod org/joyqueue/client/internal/consumer/ConsumerIndexManager.fetchIndex:(Ljava/lang/String;Ljava/lang/String;SJ)Lorg/joyqueue/client/internal/consumer/domain/FetchIndexData;
      25: astore        9
      27: aload         9
      29: invokevirtual #97                 // Method org/joyqueue/client/internal/consumer/domain/FetchIndexData.getCode:()Lorg/joyqueue/exception/JoyQueueCode;
      32: getstatic     #98                 // Field org/joyqueue/exception/JoyQueueCode.SUCCESS:Lorg/joyqueue/exception/JoyQueueCode;
      35: invokevirtual #99                 // Method org/joyqueue/exception/JoyQueueCode.equals:(Ljava/lang/Object;)Z
      38: ifne          101
      41: getstatic     #83                 // Field logger:Lorg/slf4j/Logger;
      44: ldc           #100                // String fetch index error, topic: {}, partition: {}, app: {}, error:{}
      46: iconst_4
      47: anewarray     #62                 // class java/lang/Object
      50: dup
      51: iconst_0
      52: aload_2
      53: aastore
      54: dup
      55: iconst_1
      56: iload_3
      57: invokestatic  #63                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
      60: aastore
      61: dup
      62: iconst_2
      63: aload_0
      64: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      67: invokevirtual #94                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      70: aastore
      71: dup
      72: iconst_3
      73: aload         9
      75: invokevirtual #97                 // Method org/joyqueue/client/internal/consumer/domain/FetchIndexData.getCode:()Lorg/joyqueue/exception/JoyQueueCode;
      78: iconst_0
      79: anewarray     #62                 // class java/lang/Object
      82: invokevirtual #101                // Method org/joyqueue/exception/JoyQueueCode.getMessage:([Ljava/lang/Object;)Ljava/lang/String;
      85: aastore
      86: invokeinterface #102,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      91: aload_0
      92: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      95: aload         8
      97: invokevirtual #87                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.buildPollEmptyResult:(Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     100: areturn
     101: aload_0
     102: aload_1
     103: aload_2
     104: iload_3
     105: aload         9
     107: invokevirtual #103                // Method org/joyqueue/client/internal/consumer/domain/FetchIndexData.getIndex:()J
     110: iload         4
     112: lload         5
     114: aload         7
     116: aload         8
     118: invokevirtual #78                 // Method doPollPartitionInternal:(Lorg/joyqueue/network/domain/BrokerNode;Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     121: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPollPartitionInternal(org.joyqueue.network.domain.BrokerNode, java.lang.String, short, long, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
       4: aload_1
       5: aload_2
       6: iload_3
       7: lload         4
       9: iload         6
      11: lload         7
      13: aload         9
      15: aload         10
      17: invokevirtual #104                // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.fetchPartition:(Lorg/joyqueue/network/domain/BrokerNode;Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      20: areturn
      21: astore        11
      23: aload         11
      25: invokevirtual #105                // Method org/joyqueue/client/internal/consumer/exception/ConsumerException.getCode:()I
      28: getstatic     #106                // Field org/joyqueue/exception/JoyQueueCode.FW_FETCH_MESSAGE_INDEX_OUT_OF_RANGE:Lorg/joyqueue/exception/JoyQueueCode;
      31: invokevirtual #66                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
      34: if_icmpne     73
      37: aload_0
      38: getfield      #18                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
      41: aload_2
      42: aload_0
      43: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      46: invokevirtual #8                  // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getApp:()Ljava/lang/String;
      49: iload_3
      50: aload_0
      51: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      54: invokevirtual #95                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getTimeout:()J
      57: invokeinterface #107,  6          // InterfaceMethod org/joyqueue/client/internal/consumer/ConsumerIndexManager.resetIndex:(Ljava/lang/String;Ljava/lang/String;SJ)Lorg/joyqueue/exception/JoyQueueCode;
      62: pop
      63: aload_0
      64: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      67: aload         10
      69: invokevirtual #87                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.buildPollEmptyResult:(Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      72: areturn
      73: aload         11
      75: athrow
    Exception table:
       from    to  target type
           0    20    21   Class org/joyqueue/client/internal/consumer/exception/ConsumerException

  protected org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignments buildAllBrokerAssignments(org.joyqueue.client.internal.metadata.domain.TopicMetadata);
    Code:
       0: invokestatic  #108                // Method com/google/common/collect/Lists.newLinkedList:()Ljava/util/LinkedList;
       3: astore_2
       4: aload_1
       5: invokevirtual #109                // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getPartitions:()Ljava/util/List;
       8: invokeinterface #110,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      13: astore_3
      14: aload_3
      15: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          103
      23: aload_3
      24: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #113                // class org/joyqueue/client/internal/metadata/domain/PartitionMetadata
      32: astore        4
      34: aload         4
      36: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
      39: ifnull        14
      42: aload         4
      44: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
      47: invokevirtual #70                 // Method org/joyqueue/network/domain/BrokerNode.isReadable:()Z
      50: ifne          56
      53: goto          14
      56: aload_2
      57: new           #114                // class org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment
      60: dup
      61: aload         4
      63: invokevirtual #68                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
      66: new           #115                // class org/joyqueue/client/internal/consumer/coordinator/domain/PartitionAssignment
      69: dup
      70: iconst_1
      71: anewarray     #92                 // class java/lang/Short
      74: dup
      75: iconst_0
      76: aload         4
      78: invokevirtual #116                // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getId:()S
      81: invokestatic  #63                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
      84: aastore
      85: invokestatic  #117                // Method com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      88: invokespecial #118                // Method org/joyqueue/client/internal/consumer/coordinator/domain/PartitionAssignment."<init>":(Ljava/util/List;)V
      91: invokespecial #119                // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment."<init>":(Lorg/joyqueue/network/domain/BrokerNode;Lorg/joyqueue/client/internal/consumer/coordinator/domain/PartitionAssignment;)V
      94: invokeinterface #120,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      99: pop
     100: goto          14
     103: new           #121                // class org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments
     106: dup
     107: aload_2
     108: invokespecial #122                // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments."<init>":(Ljava/util/List;)V
     111: areturn

  public synchronized org.joyqueue.exception.JoyQueueCode reply(java.lang.String, java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeReply>);
    Code:
       0: aload_0
       1: invokevirtual #55                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #56                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload_0
      14: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      17: aload_1
      18: invokevirtual #58                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      21: astore_3
      22: aload_2
      23: invokestatic  #35                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      26: ifeq          50
      29: new           #123                // class java/lang/IllegalArgumentException
      32: dup
      33: ldc           #124                // String topic %s reply is empty
      35: iconst_1
      36: anewarray     #62                 // class java/lang/Object
      39: dup
      40: iconst_0
      41: aload_1
      42: aastore
      43: invokestatic  #64                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      46: invokespecial #125                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      49: athrow
      50: aload_0
      51: getfield      #18                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
      54: aload_3
      55: invokevirtual #85                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      58: aload_2
      59: aload_0
      60: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      63: invokevirtual #94                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      66: aload_0
      67: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      70: invokevirtual #95                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getTimeout:()J
      73: invokeinterface #126,  6          // InterfaceMethod org/joyqueue/client/internal/consumer/ConsumerIndexManager.commitReply:(Ljava/lang/String;Ljava/util/List;Ljava/lang/String;J)Lorg/joyqueue/exception/JoyQueueCode;
      78: astore        4
      80: aload         4
      82: getstatic     #98                 // Field org/joyqueue/exception/JoyQueueCode.SUCCESS:Lorg/joyqueue/exception/JoyQueueCode;
      85: invokevirtual #99                 // Method org/joyqueue/exception/JoyQueueCode.equals:(Ljava/lang/Object;)Z
      88: ifne          132
      91: getstatic     #83                 // Field logger:Lorg/slf4j/Logger;
      94: ldc           #127                // String commit ack error, topic : {}, code: {}, error: {}
      96: iconst_3
      97: anewarray     #62                 // class java/lang/Object
     100: dup
     101: iconst_0
     102: aload_1
     103: aastore
     104: dup
     105: iconst_1
     106: aload         4
     108: invokevirtual #66                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
     111: invokestatic  #128                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     114: aastore
     115: dup
     116: iconst_2
     117: aload         4
     119: iconst_0
     120: anewarray     #62                 // class java/lang/Object
     123: invokevirtual #101                // Method org/joyqueue/exception/JoyQueueCode.getMessage:([Ljava/lang/Object;)Ljava/lang/String;
     126: aastore
     127: invokeinterface #129,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     132: aload         4
     134: areturn

  public org.joyqueue.exception.JoyQueueCode replyOnce(java.lang.String, org.joyqueue.client.internal.consumer.domain.ConsumeReply);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: anewarray     #130                // class org/joyqueue/client/internal/consumer/domain/ConsumeReply
       6: dup
       7: iconst_0
       8: aload_2
       9: aastore
      10: invokestatic  #117                // Method com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      13: invokevirtual #131                // Method reply:(Ljava/lang/String;Ljava/util/List;)Lorg/joyqueue/exception/JoyQueueCode;
      16: areturn

  public org.joyqueue.client.internal.consumer.domain.FetchIndexData fetchIndex(java.lang.String, short);
    Code:
       0: aload_0
       1: invokevirtual #55                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #56                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload_0
      14: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      17: aload_1
      18: invokevirtual #58                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      21: astore_3
      22: aload_0
      23: getfield      #18                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
      26: aload_3
      27: invokevirtual #85                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      30: aload_0
      31: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      34: invokevirtual #94                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      37: iload_2
      38: aload_0
      39: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      42: invokevirtual #95                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getTimeout:()J
      45: invokeinterface #96,  6           // InterfaceMethod org/joyqueue/client/internal/consumer/ConsumerIndexManager.fetchIndex:(Ljava/lang/String;Ljava/lang/String;SJ)Lorg/joyqueue/client/internal/consumer/domain/FetchIndexData;
      50: areturn

  public org.joyqueue.client.internal.metadata.domain.TopicMetadata getTopicMetadata(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #55                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #56                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload_0
      14: getfield      #27                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      17: aload_1
      18: invokevirtual #132                // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getTopicFullName:(Ljava/lang/String;)Ljava/lang/String;
      21: astore_2
      22: aload_0
      23: getfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
      26: aload_2
      27: aload_0
      28: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      31: invokevirtual #94                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      34: invokevirtual #133                // Method org/joyqueue/client/internal/cluster/ClusterManager.fetchTopicMetadata:(Ljava/lang/String;Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      37: areturn

  protected void checkState();
    Code:
       0: aload_0
       1: invokevirtual #134                // Method isStarted:()Z
       4: ifne          23
       7: new           #60                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
      10: dup
      11: ldc           #135                // String consumer is not started
      13: getstatic     #136                // Field org/joyqueue/exception/JoyQueueCode.CN_SERVICE_NOT_AVAILABLE:Lorg/joyqueue/exception/JoyQueueCode;
      16: invokevirtual #66                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
      19: invokespecial #67                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
      22: athrow
      23: return

  static {};
    Code:
       0: ldc           #39                 // class org/joyqueue/client/internal/consumer/support/PartitionMessagePoller
       2: invokestatic  #137                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #83                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
