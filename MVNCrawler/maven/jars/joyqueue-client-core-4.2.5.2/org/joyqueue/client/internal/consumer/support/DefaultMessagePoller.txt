Compiled from "DefaultMessagePoller.java"
public class org.joyqueue.client.internal.consumer.support.DefaultMessagePoller extends org.joyqueue.toolkit.service.Service implements org.joyqueue.client.internal.consumer.MessagePoller {
  private static final int CUSTOM_BATCH_SIZE;

  protected static final org.slf4j.Logger logger;

  private org.joyqueue.client.internal.consumer.config.ConsumerConfig config;

  private org.joyqueue.client.internal.nameserver.NameServerConfig nameServerConfig;

  private org.joyqueue.client.internal.cluster.ClusterManager clusterManager;

  private org.joyqueue.client.internal.cluster.ClusterClientManager clusterClientManager;

  private org.joyqueue.client.internal.consumer.transport.ConsumerClientManager consumerClientManager;

  private org.joyqueue.client.internal.consumer.coordinator.ConsumerCoordinator consumerCoordinator;

  private org.joyqueue.client.internal.consumer.config.FetcherConfig fetcherConfig;

  private org.joyqueue.client.internal.consumer.MessageFetcher messageFetcher;

  private org.joyqueue.client.internal.consumer.ConsumerIndexManager consumerIndexManager;

  private org.joyqueue.client.internal.consumer.support.MessagePollerInner messagePollerInner;

  private org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignmentsHolder brokerAssignmentCache;

  public org.joyqueue.client.internal.consumer.support.DefaultMessagePoller(org.joyqueue.client.internal.consumer.config.ConsumerConfig, org.joyqueue.client.internal.nameserver.NameServerConfig, org.joyqueue.client.internal.cluster.ClusterManager, org.joyqueue.client.internal.cluster.ClusterClientManager, org.joyqueue.client.internal.consumer.transport.ConsumerClientManager);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/joyqueue/toolkit/service/Service."<init>":()V
       4: aload_1
       5: ifnull        12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: ldc           #2                  // String consumer can not be null
      15: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      18: aload_2
      19: ifnull        26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ldc           #4                  // String nameServer can not be null
      29: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      32: aload_3
      33: ifnull        40
      36: iconst_1
      37: goto          41
      40: iconst_0
      41: ldc           #5                  // String clusterManager can not be null
      43: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      46: aload         4
      48: ifnull        55
      51: iconst_1
      52: goto          56
      55: iconst_0
      56: ldc           #6                  // String clusterClientManager can not be null
      58: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      61: aload         5
      63: ifnull        70
      66: iconst_1
      67: goto          71
      70: iconst_0
      71: ldc           #7                  // String consumerClientManager can not be null
      73: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      76: aload_1
      77: invokevirtual #8                  // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getApp:()Ljava/lang/String;
      80: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      83: ldc           #10                 // String consumer.app not blank
      85: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      88: aload_1
      89: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      92: aload_1
      93: invokevirtual #12                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getLongPollTimeout:()J
      96: lcmp
      97: ifle          104
     100: iconst_1
     101: goto          105
     104: iconst_0
     105: ldc           #13                 // String consumer.pollTimeout must be greater than consumer.longPullTimeout
     107: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
     110: aload_0
     111: aload_1
     112: putfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     115: aload_0
     116: aload_2
     117: putfield      #15                 // Field nameServerConfig:Lorg/joyqueue/client/internal/nameserver/NameServerConfig;
     120: aload_0
     121: aload_3
     122: putfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
     125: aload_0
     126: aload         4
     128: putfield      #17                 // Field clusterClientManager:Lorg/joyqueue/client/internal/cluster/ClusterClientManager;
     131: aload_0
     132: aload         5
     134: putfield      #18                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
     137: return

  protected void validate() throws java.lang.Exception;
    Code:
       0: aload_0
       1: new           #19                 // class org/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator
       4: dup
       5: aload_0
       6: getfield      #17                 // Field clusterClientManager:Lorg/joyqueue/client/internal/cluster/ClusterClientManager;
       9: invokespecial #20                 // Method org/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator."<init>":(Lorg/joyqueue/client/internal/cluster/ClusterClientManager;)V
      12: putfield      #21                 // Field consumerCoordinator:Lorg/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator;
      15: aload_0
      16: new           #22                 // class org/joyqueue/client/internal/consumer/config/FetcherConfig
      19: dup
      20: invokespecial #23                 // Method org/joyqueue/client/internal/consumer/config/FetcherConfig."<init>":()V
      23: putfield      #24                 // Field fetcherConfig:Lorg/joyqueue/client/internal/consumer/config/FetcherConfig;
      26: aload_0
      27: new           #25                 // class org/joyqueue/client/internal/consumer/support/DefaultMessageFetcher
      30: dup
      31: aload_0
      32: getfield      #18                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
      35: aload_0
      36: getfield      #24                 // Field fetcherConfig:Lorg/joyqueue/client/internal/consumer/config/FetcherConfig;
      39: invokespecial #26                 // Method org/joyqueue/client/internal/consumer/support/DefaultMessageFetcher."<init>":(Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;Lorg/joyqueue/client/internal/consumer/config/FetcherConfig;)V
      42: putfield      #27                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      45: aload_0
      46: new           #28                 // class org/joyqueue/client/internal/consumer/support/DefaultConsumerIndexManager
      49: dup
      50: aload_0
      51: getfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
      54: aload_0
      55: getfield      #18                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
      58: invokespecial #29                 // Method org/joyqueue/client/internal/consumer/support/DefaultConsumerIndexManager."<init>":(Lorg/joyqueue/client/internal/cluster/ClusterManager;Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;)V
      61: putfield      #30                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
      64: aload_0
      65: new           #31                 // class org/joyqueue/client/internal/consumer/support/MessagePollerInner
      68: dup
      69: aload_0
      70: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      73: aload_0
      74: getfield      #15                 // Field nameServerConfig:Lorg/joyqueue/client/internal/nameserver/NameServerConfig;
      77: aload_0
      78: getfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
      81: aload_0
      82: getfield      #18                 // Field consumerClientManager:Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;
      85: aload_0
      86: getfield      #27                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      89: invokespecial #32                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner."<init>":(Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;Lorg/joyqueue/client/internal/nameserver/NameServerConfig;Lorg/joyqueue/client/internal/cluster/ClusterManager;Lorg/joyqueue/client/internal/consumer/transport/ConsumerClientManager;Lorg/joyqueue/client/internal/consumer/MessageFetcher;)V
      92: putfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      95: return

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #27                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
       4: invokeinterface #34,  1           // InterfaceMethod org/joyqueue/client/internal/consumer/MessageFetcher.start:()V
       9: aload_0
      10: getfield      #21                 // Field consumerCoordinator:Lorg/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator;
      13: invokevirtual #35                 // Method org/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator.start:()V
      16: aload_0
      17: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      20: invokevirtual #36                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.start:()V
      23: return

  protected void doStop();
    Code:
       0: aload_0
       1: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
       4: ifnull        14
       7: aload_0
       8: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      11: invokevirtual #37                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.stop:()V
      14: aload_0
      15: getfield      #21                 // Field consumerCoordinator:Lorg/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator;
      18: ifnull        28
      21: aload_0
      22: getfield      #21                 // Field consumerCoordinator:Lorg/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator;
      25: invokevirtual #38                 // Method org/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator.stop:()V
      28: aload_0
      29: getfield      #27                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      32: ifnull        44
      35: aload_0
      36: getfield      #27                 // Field messageFetcher:Lorg/joyqueue/client/internal/consumer/MessageFetcher;
      39: invokeinterface #39,  1           // InterfaceMethod org/joyqueue/client/internal/consumer/MessageFetcher.stop:()V
      44: return

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollOnce(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       6: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
       9: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      12: invokevirtual #41                 // Method pollOnce:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;
      15: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollOnce(java.lang.String, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: lload_2
       4: aload         4
       6: aconst_null
       7: invokevirtual #42                 // Method doPoll:(Ljava/lang/String;IJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      10: astore        5
      12: aload         5
      14: invokestatic  #43                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      17: ifeq          22
      20: aconst_null
      21: areturn
      22: aload         5
      24: iconst_0
      25: invokeinterface #44,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      30: checkcast     #45                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      33: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> poll(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       6: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
       9: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      12: invokevirtual #46                 // Method poll:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Ljava/util/List;
      15: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> poll(java.lang.String, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_m1
       3: lload_2
       4: aload         4
       6: aconst_null
       7: invokevirtual #42                 // Method doPoll:(Ljava/lang/String;IJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      10: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollAsync(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       6: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
       9: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      12: invokevirtual #48                 // Method pollAsync:(Ljava/lang/String;JLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
      15: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollAsync(java.lang.String, long, java.util.concurrent.TimeUnit);
    Code:
       0: new           #49                 // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #50                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        5
       9: aload_0
      10: aload_1
      11: iconst_m1
      12: lload_2
      13: aload         4
      15: new           #51                 // class org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener
      18: dup
      19: aload         5
      21: invokespecial #52                 // Method org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      24: invokevirtual #42                 // Method doPoll:(Ljava/lang/String;IJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      27: pop
      28: aload         5
      30: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_0
       4: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       7: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      10: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      13: invokevirtual #53                 // Method pollPartitionOnce:(Ljava/lang/String;SJLjava/util/concurrent/TimeUnit;)Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;
      16: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_1
       4: lload_3
       5: aload         5
       7: aconst_null
       8: invokevirtual #54                 // Method doPollPartition:(Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      11: astore        6
      13: aload         6
      15: invokestatic  #43                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      18: ifeq          23
      21: aconst_null
      22: areturn
      23: aload         6
      25: iconst_0
      26: invokeinterface #44,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      31: checkcast     #45                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      34: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: aload_0
       5: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       8: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      11: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokevirtual #55                 // Method pollPartitionOnce:(Ljava/lang/String;SJJLjava/util/concurrent/TimeUnit;)Lorg/joyqueue/client/internal/consumer/domain/ConsumeMessage;
      17: areturn

  public org.joyqueue.client.internal.consumer.domain.ConsumeMessage pollPartitionOnce(java.lang.String, short, long, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: iconst_1
       5: aload_0
       6: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       9: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      12: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      15: aconst_null
      16: invokevirtual #56                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      19: astore        8
      21: aload         8
      23: invokestatic  #43                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      26: ifeq          31
      29: aconst_null
      30: areturn
      31: aload         8
      33: iconst_0
      34: invokeinterface #44,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      39: checkcast     #45                 // class org/joyqueue/client/internal/consumer/domain/ConsumeMessage
      42: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_0
       4: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       7: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      10: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      13: invokevirtual #57                 // Method pollPartition:(Ljava/lang/String;SJLjava/util/concurrent/TimeUnit;)Ljava/util/List;
      16: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_m1
       4: lload_3
       5: aload         5
       7: aconst_null
       8: invokevirtual #54                 // Method doPollPartition:(Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      11: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: aload_0
       5: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       8: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      11: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokevirtual #58                 // Method pollPartition:(Ljava/lang/String;SJJLjava/util/concurrent/TimeUnit;)Ljava/util/List;
      17: areturn

  public java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> pollPartition(java.lang.String, short, long, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: iconst_m1
       5: aload_0
       6: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       9: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      12: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      15: aconst_null
      16: invokevirtual #56                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      19: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: aload_0
       4: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       7: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      10: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      13: invokevirtual #59                 // Method pollPartitionAsync:(Ljava/lang/String;SJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
      16: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short, long, java.util.concurrent.TimeUnit);
    Code:
       0: new           #49                 // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #50                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        6
       9: aload_0
      10: aload_1
      11: iload_2
      12: iconst_m1
      13: lload_3
      14: aload         5
      16: new           #51                 // class org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener
      19: dup
      20: aload         6
      22: invokespecial #52                 // Method org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      25: invokevirtual #54                 // Method doPollPartition:(Ljava/lang/String;SIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      28: pop
      29: aload         6
      31: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: lload_3
       4: aload_0
       5: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
       8: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getPollTimeout:()J
      11: getstatic     #40                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      14: invokevirtual #60                 // Method pollPartitionAsync:(Ljava/lang/String;SJJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/CompletableFuture;
      17: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage>> pollPartitionAsync(java.lang.String, short, long, long, java.util.concurrent.TimeUnit);
    Code:
       0: new           #49                 // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #50                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        8
       9: aload_0
      10: aload_1
      11: iload_2
      12: lload_3
      13: iconst_m1
      14: lload         5
      16: aload         7
      18: new           #51                 // class org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener
      21: dup
      22: aload         8
      24: invokespecial #52                 // Method org/joyqueue/client/internal/consumer/support/CompletableFuturePollerListener."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      27: invokevirtual #56                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      30: pop
      31: aload         8
      33: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPollPartition(java.lang.String, short, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: ldc2_w        #61                 // long -1l
       6: iload_3
       7: lload         4
       9: aload         6
      11: aload         7
      13: invokevirtual #56                 // Method doPollPartition:(Ljava/lang/String;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
      16: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPollPartition(java.lang.String, short, long, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: invokevirtual #63                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #64                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload         8
      15: ifnull        22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ldc           #65                 // String timeoutUnit not null
      25: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      28: aload_0
      29: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      32: aload_1
      33: invokevirtual #66                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      36: astore        10
      38: aload         10
      40: iload_2
      41: invokevirtual #67                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getPartition:(S)Lorg/joyqueue/client/internal/metadata/domain/PartitionMetadata;
      44: astore        11
      46: aload         11
      48: ifnonnull     85
      51: new           #68                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
      54: dup
      55: ldc           #69                 // String partition not exist, topic: %s, partition: %s
      57: iconst_2
      58: anewarray     #70                 // class java/lang/Object
      61: dup
      62: iconst_0
      63: aload_1
      64: aastore
      65: dup
      66: iconst_1
      67: iload_2
      68: invokestatic  #71                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
      71: aastore
      72: invokestatic  #72                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      75: getstatic     #73                 // Field org/joyqueue/exception/JoyQueueCode.FW_TOPIC_NO_PARTITIONGROUP:Lorg/joyqueue/exception/JoyQueueCode;
      78: invokevirtual #74                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
      81: invokespecial #75                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
      84: athrow
      85: aload         11
      87: invokevirtual #76                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
      90: ifnonnull     127
      93: new           #68                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
      96: dup
      97: ldc           #77                 // String partition not available, topic: %s, partition: %s
      99: iconst_2
     100: anewarray     #70                 // class java/lang/Object
     103: dup
     104: iconst_0
     105: aload_1
     106: aastore
     107: dup
     108: iconst_1
     109: iload_2
     110: invokestatic  #71                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
     113: aastore
     114: invokestatic  #72                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     117: getstatic     #73                 // Field org/joyqueue/exception/JoyQueueCode.FW_TOPIC_NO_PARTITIONGROUP:Lorg/joyqueue/exception/JoyQueueCode;
     120: invokevirtual #74                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
     123: invokespecial #75                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
     126: athrow
     127: aload         11
     129: invokevirtual #76                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
     132: invokevirtual #78                 // Method org/joyqueue/network/domain/BrokerNode.isReadable:()Z
     135: ifne          172
     138: new           #68                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
     141: dup
     142: ldc           #79                 // String partition not readable, topic: %s, partition: %s
     144: iconst_2
     145: anewarray     #70                 // class java/lang/Object
     148: dup
     149: iconst_0
     150: aload_1
     151: aastore
     152: dup
     153: iconst_1
     154: iload_2
     155: invokestatic  #71                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
     158: aastore
     159: invokestatic  #72                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     162: getstatic     #73                 // Field org/joyqueue/exception/JoyQueueCode.FW_TOPIC_NO_PARTITIONGROUP:Lorg/joyqueue/exception/JoyQueueCode;
     165: invokevirtual #74                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
     168: invokespecial #75                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
     171: athrow
     172: iload         5
     174: iconst_m1
     175: if_icmpne     212
     178: aload_0
     179: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     182: invokevirtual #80                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     185: iconst_m1
     186: if_icmpne     203
     189: aload         10
     191: invokevirtual #82                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getConsumerPolicy:()Lorg/joyqueue/domain/ConsumerPolicy;
     194: invokevirtual #83                 // Method org/joyqueue/domain/ConsumerPolicy.getBatchSize:()Ljava/lang/Short;
     197: invokevirtual #84                 // Method java/lang/Short.shortValue:()S
     200: goto          210
     203: aload_0
     204: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     207: invokevirtual #80                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     210: istore        5
     212: aload_0
     213: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     216: aload         11
     218: invokevirtual #76                 // Method org/joyqueue/client/internal/metadata/domain/PartitionMetadata.getLeader:()Lorg/joyqueue/network/domain/BrokerNode;
     221: aload         10
     223: iload_2
     224: lload_3
     225: iload         5
     227: lload         6
     229: aload         8
     231: aload         9
     233: invokevirtual #85                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.fetchPartition:(Lorg/joyqueue/network/domain/BrokerNode;Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;SJIJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     236: areturn

  protected java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeMessage> doPoll(java.lang.String, int, long, java.util.concurrent.TimeUnit, org.joyqueue.client.internal.consumer.callback.PollerListener);
    Code:
       0: aload_0
       1: invokevirtual #63                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #64                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload         5
      15: ifnull        22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ldc           #65                 // String timeoutUnit not null
      25: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      28: aload_0
      29: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      32: aload_1
      33: invokevirtual #66                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      36: astore        7
      38: aload_0
      39: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      42: aload_1
      43: invokevirtual #86                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getBrokerLoadBalance:(Ljava/lang/String;)Lorg/joyqueue/client/internal/consumer/BrokerLoadBalance;
      46: astore        8
      48: aload_0
      49: aload         7
      51: invokevirtual #87                 // Method fetchBrokerAssignment:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      54: astore        9
      56: aload_0
      57: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      60: aload         9
      62: invokevirtual #88                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.filterNotAvailableBrokers:(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      65: astore        9
      67: aload         9
      69: invokevirtual #89                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments.getAssignments:()Ljava/util/List;
      72: invokestatic  #43                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      75: ifeq          103
      78: getstatic     #90                 // Field logger:Lorg/slf4j/Logger;
      81: ldc           #91                 // String no broker available, topic: {}
      83: aload         7
      85: invokevirtual #92                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      88: invokeinterface #93,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      93: aload_0
      94: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      97: aload         6
      99: invokevirtual #94                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.buildPollEmptyResult:(Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     102: areturn
     103: iload_2
     104: iconst_m1
     105: if_icmpne     141
     108: aload_0
     109: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     112: invokevirtual #80                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     115: iconst_m1
     116: if_icmpeq     129
     119: aload_0
     120: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
     123: invokevirtual #80                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getBatchSize:()I
     126: goto          140
     129: aload         7
     131: invokevirtual #82                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getConsumerPolicy:()Lorg/joyqueue/domain/ConsumerPolicy;
     134: invokevirtual #83                 // Method org/joyqueue/domain/ConsumerPolicy.getBatchSize:()Ljava/lang/Short;
     137: invokevirtual #84                 // Method java/lang/Short.shortValue:()S
     140: istore_2
     141: aload         8
     143: aload         9
     145: invokeinterface #95,  2           // InterfaceMethod org/joyqueue/client/internal/consumer/BrokerLoadBalance.loadBalance:(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment;
     150: astore        10
     152: aload_0
     153: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     156: aload         10
     158: invokevirtual #96                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignment.getBroker:()Lorg/joyqueue/network/domain/BrokerNode;
     161: aload         7
     163: iload_2
     164: lload_3
     165: aload         5
     167: aload         6
     169: invokevirtual #97                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.fetchTopic:(Lorg/joyqueue/network/domain/BrokerNode;Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;IJLjava/util/concurrent/TimeUnit;Lorg/joyqueue/client/internal/consumer/callback/PollerListener;)Ljava/util/List;
     172: areturn

  protected org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignments fetchBrokerAssignment(org.joyqueue.client.internal.metadata.domain.TopicMetadata);
    Code:
       0: aload_0
       1: getfield      #98                 // Field brokerAssignmentCache:Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder;
       4: ifnull        32
       7: aload_0
       8: getfield      #98                 // Field brokerAssignmentCache:Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder;
      11: aload_0
      12: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      15: invokevirtual #99                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getSessionTimeout:()J
      18: invokevirtual #100                // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder.isExpired:(J)Z
      21: ifne          32
      24: aload_0
      25: getfield      #98                 // Field brokerAssignmentCache:Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder;
      28: invokevirtual #101                // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder.getBrokerAssignments:()Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      31: areturn
      32: aconst_null
      33: astore_2
      34: aload_0
      35: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      38: invokevirtual #102                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.isLoadBalance:()Z
      41: ifeq          126
      44: aload_0
      45: getfield      #21                 // Field consumerCoordinator:Lorg/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator;
      48: aload_1
      49: aload_0
      50: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      53: invokevirtual #103                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      56: aload_0
      57: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      60: invokevirtual #99                 // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getSessionTimeout:()J
      63: invokevirtual #104                // Method org/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator.fetchBrokerAssignment:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;Ljava/lang/String;J)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      66: astore_2
      67: aload_0
      68: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      71: aload_2
      72: invokevirtual #88                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.filterNotAvailableBrokers:(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      75: astore_2
      76: aload_2
      77: ifnull        90
      80: aload_2
      81: invokevirtual #89                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments.getAssignments:()Ljava/util/List;
      84: invokestatic  #43                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      87: ifeq          135
      90: aload_0
      91: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      94: invokevirtual #105                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.isFailover:()Z
      97: ifeq          135
     100: getstatic     #90                 // Field logger:Lorg/slf4j/Logger;
     103: ldc           #106                // String no assignment available, assign all broker, topic: {}
     105: aload_1
     106: invokevirtual #92                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     109: invokeinterface #107,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     114: aload_0
     115: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     118: aload_1
     119: invokevirtual #108                // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.buildAllBrokerAssignments:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
     122: astore_2
     123: goto          135
     126: aload_0
     127: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     130: aload_1
     131: invokevirtual #108                // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.buildAllBrokerAssignments:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
     134: astore_2
     135: aload_0
     136: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
     139: aload_1
     140: aload_2
     141: invokevirtual #109                // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.filterRegionBrokers:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
     144: astore_2
     145: aload_1
     146: invokevirtual #110                // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.isAllAvailable:()Z
     149: ifeq          167
     152: aload_0
     153: new           #111                // class org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder
     156: dup
     157: aload_2
     158: invokestatic  #112                // Method org/joyqueue/toolkit/time/SystemClock.now:()J
     161: invokespecial #113                // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder."<init>":(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;J)V
     164: putfield      #98                 // Field brokerAssignmentCache:Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder;
     167: aload_2
     168: areturn

  public synchronized org.joyqueue.exception.JoyQueueCode reply(java.lang.String, java.util.List<org.joyqueue.client.internal.consumer.domain.ConsumeReply>);
    Code:
       0: aload_0
       1: invokevirtual #63                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #64                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload_0
      14: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      17: aload_1
      18: invokevirtual #66                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      21: astore_3
      22: aload_2
      23: invokestatic  #43                 // Method org/apache/commons/collections/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      26: ifeq          50
      29: new           #114                // class java/lang/IllegalArgumentException
      32: dup
      33: ldc           #115                // String topic %s reply is empty
      35: iconst_1
      36: anewarray     #70                 // class java/lang/Object
      39: dup
      40: iconst_0
      41: aload_1
      42: aastore
      43: invokestatic  #72                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      46: invokespecial #116                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      49: athrow
      50: aload_0
      51: getfield      #30                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
      54: aload_3
      55: invokevirtual #92                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      58: aload_2
      59: aload_0
      60: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      63: invokevirtual #103                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      66: aload_0
      67: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      70: invokevirtual #117                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getTimeout:()J
      73: invokeinterface #118,  6          // InterfaceMethod org/joyqueue/client/internal/consumer/ConsumerIndexManager.commitReply:(Ljava/lang/String;Ljava/util/List;Ljava/lang/String;J)Lorg/joyqueue/exception/JoyQueueCode;
      78: astore        4
      80: aload         4
      82: getstatic     #119                // Field org/joyqueue/exception/JoyQueueCode.SUCCESS:Lorg/joyqueue/exception/JoyQueueCode;
      85: invokevirtual #120                // Method org/joyqueue/exception/JoyQueueCode.equals:(Ljava/lang/Object;)Z
      88: ifne          132
      91: getstatic     #90                 // Field logger:Lorg/slf4j/Logger;
      94: ldc           #121                // String commit ack error, topic : {}, code: {}, error: {}
      96: iconst_3
      97: anewarray     #70                 // class java/lang/Object
     100: dup
     101: iconst_0
     102: aload_1
     103: aastore
     104: dup
     105: iconst_1
     106: aload         4
     108: invokevirtual #74                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
     111: invokestatic  #122                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     114: aastore
     115: dup
     116: iconst_2
     117: aload         4
     119: iconst_0
     120: anewarray     #70                 // class java/lang/Object
     123: invokevirtual #123                // Method org/joyqueue/exception/JoyQueueCode.getMessage:([Ljava/lang/Object;)Ljava/lang/String;
     126: aastore
     127: invokeinterface #124,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     132: aload         4
     134: areturn

  public org.joyqueue.exception.JoyQueueCode replyOnce(java.lang.String, org.joyqueue.client.internal.consumer.domain.ConsumeReply);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: anewarray     #125                // class org/joyqueue/client/internal/consumer/domain/ConsumeReply
       6: dup
       7: iconst_0
       8: aload_2
       9: aastore
      10: invokestatic  #126                // Method com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
      13: invokevirtual #127                // Method reply:(Ljava/lang/String;Ljava/util/List;)Lorg/joyqueue/exception/JoyQueueCode;
      16: areturn

  public org.joyqueue.client.internal.consumer.domain.FetchIndexData fetchIndex(java.lang.String, short);
    Code:
       0: aload_0
       1: invokevirtual #63                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #64                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload_0
      14: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      17: aload_1
      18: invokevirtual #66                 // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getAndCheckTopicMetadata:(Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      21: astore_3
      22: aload_0
      23: getfield      #30                 // Field consumerIndexManager:Lorg/joyqueue/client/internal/consumer/ConsumerIndexManager;
      26: aload_3
      27: invokevirtual #92                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      30: aload_0
      31: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      34: invokevirtual #103                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      37: iload_2
      38: aload_0
      39: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      42: invokevirtual #117                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getTimeout:()J
      45: invokeinterface #128,  6          // InterfaceMethod org/joyqueue/client/internal/consumer/ConsumerIndexManager.fetchIndex:(Ljava/lang/String;Ljava/lang/String;SJ)Lorg/joyqueue/client/internal/consumer/domain/FetchIndexData;
      50: areturn

  public org.joyqueue.client.internal.metadata.domain.TopicMetadata getTopicMetadata(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #63                 // Method checkState:()V
       4: aload_1
       5: invokestatic  #9                  // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
       8: ldc           #64                 // String topic not blank
      10: invokestatic  #3                  // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      13: aload_0
      14: getfield      #33                 // Field messagePollerInner:Lorg/joyqueue/client/internal/consumer/support/MessagePollerInner;
      17: aload_1
      18: invokevirtual #129                // Method org/joyqueue/client/internal/consumer/support/MessagePollerInner.getTopicFullName:(Ljava/lang/String;)Ljava/lang/String;
      21: astore_2
      22: aload_0
      23: getfield      #16                 // Field clusterManager:Lorg/joyqueue/client/internal/cluster/ClusterManager;
      26: aload_2
      27: aload_0
      28: getfield      #14                 // Field config:Lorg/joyqueue/client/internal/consumer/config/ConsumerConfig;
      31: invokevirtual #103                // Method org/joyqueue/client/internal/consumer/config/ConsumerConfig.getAppFullName:()Ljava/lang/String;
      34: invokevirtual #130                // Method org/joyqueue/client/internal/cluster/ClusterManager.fetchTopicMetadata:(Ljava/lang/String;Ljava/lang/String;)Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;
      37: areturn

  protected void checkState();
    Code:
       0: aload_0
       1: invokevirtual #131                // Method isStarted:()Z
       4: ifne          23
       7: new           #68                 // class org/joyqueue/client/internal/consumer/exception/ConsumerException
      10: dup
      11: ldc           #132                // String consumer is not started
      13: getstatic     #133                // Field org/joyqueue/exception/JoyQueueCode.CN_SERVICE_NOT_AVAILABLE:Lorg/joyqueue/exception/JoyQueueCode;
      16: invokevirtual #74                 // Method org/joyqueue/exception/JoyQueueCode.getCode:()I
      19: invokespecial #75                 // Method org/joyqueue/client/internal/consumer/exception/ConsumerException."<init>":(Ljava/lang/String;I)V
      22: athrow
      23: return

  static {};
    Code:
       0: ldc           #47                 // class org/joyqueue/client/internal/consumer/support/DefaultMessagePoller
       2: invokestatic  #134                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #90                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
