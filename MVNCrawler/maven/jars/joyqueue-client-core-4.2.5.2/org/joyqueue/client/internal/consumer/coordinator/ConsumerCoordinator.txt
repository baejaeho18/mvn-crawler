Compiled from "ConsumerCoordinator.java"
public class org.joyqueue.client.internal.consumer.coordinator.ConsumerCoordinator extends org.joyqueue.toolkit.service.Service {
  protected static final org.slf4j.Logger logger;

  private org.joyqueue.client.internal.cluster.ClusterClientManager clusterClientManager;

  private org.joyqueue.client.internal.consumer.coordinator.PartitionAssignmentManager partitionAssignmentManager;

  private org.joyqueue.client.internal.consumer.coordinator.CoordinatorManager coordinatorManager;

  private com.google.common.collect.Table<java.lang.String, java.lang.String, org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignmentsHolder> brokerAssignmentCache;

  public org.joyqueue.client.internal.consumer.coordinator.ConsumerCoordinator(org.joyqueue.client.internal.cluster.ClusterClientManager);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/joyqueue/toolkit/service/Service."<init>":()V
       4: aload_0
       5: invokestatic  #2                  // Method com/google/common/collect/HashBasedTable.create:()Lcom/google/common/collect/HashBasedTable;
       8: putfield      #3                  // Field brokerAssignmentCache:Lcom/google/common/collect/Table;
      11: aload_0
      12: aload_1
      13: putfield      #4                  // Field clusterClientManager:Lorg/joyqueue/client/internal/cluster/ClusterClientManager;
      16: return

  protected void validate() throws java.lang.Exception;
    Code:
       0: aload_0
       1: new           #5                  // class org/joyqueue/client/internal/consumer/coordinator/CoordinatorManager
       4: dup
       5: aload_0
       6: getfield      #4                  // Field clusterClientManager:Lorg/joyqueue/client/internal/cluster/ClusterClientManager;
       9: invokespecial #6                  // Method org/joyqueue/client/internal/consumer/coordinator/CoordinatorManager."<init>":(Lorg/joyqueue/client/internal/cluster/ClusterClientManager;)V
      12: putfield      #7                  // Field coordinatorManager:Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;
      15: aload_0
      16: new           #8                  // class org/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager
      19: dup
      20: aload_0
      21: getfield      #4                  // Field clusterClientManager:Lorg/joyqueue/client/internal/cluster/ClusterClientManager;
      24: aload_0
      25: getfield      #7                  // Field coordinatorManager:Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;
      28: invokespecial #9                  // Method org/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager."<init>":(Lorg/joyqueue/client/internal/cluster/ClusterClientManager;Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;)V
      31: putfield      #10                 // Field partitionAssignmentManager:Lorg/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager;
      34: return

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #7                  // Field coordinatorManager:Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;
       4: invokevirtual #11                 // Method org/joyqueue/client/internal/consumer/coordinator/CoordinatorManager.start:()V
       7: aload_0
       8: getfield      #10                 // Field partitionAssignmentManager:Lorg/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager;
      11: invokevirtual #12                 // Method org/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager.start:()V
      14: return

  protected void doStop();
    Code:
       0: aload_0
       1: getfield      #7                  // Field coordinatorManager:Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;
       4: ifnull        14
       7: aload_0
       8: getfield      #7                  // Field coordinatorManager:Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;
      11: invokevirtual #13                 // Method org/joyqueue/client/internal/consumer/coordinator/CoordinatorManager.stop:()V
      14: aload_0
      15: getfield      #10                 // Field partitionAssignmentManager:Lorg/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager;
      18: ifnull        28
      21: aload_0
      22: getfield      #10                 // Field partitionAssignmentManager:Lorg/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager;
      25: invokevirtual #14                 // Method org/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager.stop:()V
      28: return

  public org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignments fetchBrokerAssignment(org.joyqueue.client.internal.metadata.domain.TopicMetadata, java.lang.String, long);
    Code:
       0: aload_0
       1: getfield      #3                  // Field brokerAssignmentCache:Lcom/google/common/collect/Table;
       4: aload_2
       5: aload_1
       6: invokevirtual #15                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
       9: invokeinterface #16,  3           // InterfaceMethod com/google/common/collect/Table.get:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      14: checkcast     #17                 // class org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder
      17: astore        5
      19: aload         5
      21: ifnull        39
      24: aload         5
      26: lload_3
      27: invokevirtual #18                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder.isExpired:(J)Z
      30: ifne          39
      33: aload         5
      35: invokevirtual #19                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder.getBrokerAssignments:()Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      38: areturn
      39: aload_0
      40: dup
      41: astore        6
      43: monitorenter
      44: aload_0
      45: getfield      #3                  // Field brokerAssignmentCache:Lcom/google/common/collect/Table;
      48: aload_2
      49: aload_1
      50: invokevirtual #15                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
      53: invokeinterface #16,  3           // InterfaceMethod com/google/common/collect/Table.get:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      58: checkcast     #17                 // class org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder
      61: astore        5
      63: aload         5
      65: ifnull        86
      68: aload         5
      70: lload_3
      71: invokevirtual #18                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder.isExpired:(J)Z
      74: ifne          86
      77: aload         5
      79: invokevirtual #19                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder.getBrokerAssignments:()Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      82: aload         6
      84: monitorexit
      85: areturn
      86: aload_0
      87: getfield      #10                 // Field partitionAssignmentManager:Lorg/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager;
      90: aload_1
      91: aload_2
      92: lload_3
      93: invokevirtual #20                 // Method org/joyqueue/client/internal/consumer/coordinator/PartitionAssignmentManager.fetchBrokerAssignment:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;Ljava/lang/String;J)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
      96: astore        7
      98: new           #17                 // class org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder
     101: dup
     102: aload         7
     104: invokestatic  #21                 // Method org/joyqueue/toolkit/time/SystemClock.now:()J
     107: invokespecial #22                 // Method org/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignmentsHolder."<init>":(Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;J)V
     110: astore        5
     112: aload_0
     113: getfield      #3                  // Field brokerAssignmentCache:Lcom/google/common/collect/Table;
     116: aload_2
     117: aload_1
     118: invokevirtual #15                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     121: aload         5
     123: invokeinterface #23,  4           // InterfaceMethod com/google/common/collect/Table.put:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     128: pop
     129: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
     132: invokeinterface #25,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     137: ifeq          170
     140: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
     143: ldc           #26                 // String update consumer assignments, app: {}, topic: {}, assignments: {}
     145: iconst_3
     146: anewarray     #27                 // class java/lang/Object
     149: dup
     150: iconst_0
     151: aload_2
     152: aastore
     153: dup
     154: iconst_1
     155: aload_1
     156: invokevirtual #15                 // Method org/joyqueue/client/internal/metadata/domain/TopicMetadata.getTopic:()Ljava/lang/String;
     159: aastore
     160: dup
     161: iconst_2
     162: aload         7
     164: aastore
     165: invokeinterface #28,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     170: aload         7
     172: aload         6
     174: monitorexit
     175: areturn
     176: astore        8
     178: aload         6
     180: monitorexit
     181: aload         8
     183: athrow
    Exception table:
       from    to  target type
          44    85   176   any
          86   175   176   any
         176   181   176   any

  public org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignments fetchAllBrokerAssignments(org.joyqueue.client.internal.metadata.domain.TopicMetadata, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #29                 // Method buildAllBrokerAssignments:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
       5: areturn

  public java.util.Map<java.lang.String, org.joyqueue.network.domain.BrokerNode> findCoordinators(java.util.List<java.lang.String>, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #7                  // Field coordinatorManager:Lorg/joyqueue/client/internal/consumer/coordinator/CoordinatorManager;
       4: aload_1
       5: aload_2
       6: invokevirtual #30                 // Method org/joyqueue/client/internal/consumer/coordinator/CoordinatorManager.findCoordinators:(Ljava/util/List;Ljava/lang/String;)Ljava/util/Map;
       9: areturn

  protected org.joyqueue.client.internal.consumer.coordinator.domain.BrokerAssignments buildAllBrokerAssignments(org.joyqueue.client.internal.metadata.domain.TopicMetadata);
    Code:
       0: aload_1
       1: invokestatic  #31                 // Method org/joyqueue/client/internal/consumer/converter/BrokerAssignmentConverter.convertTopicAssignments:(Lorg/joyqueue/client/internal/metadata/domain/TopicMetadata;)Lorg/joyqueue/client/internal/consumer/coordinator/domain/BrokerAssignments;
       4: areturn

  static {};
    Code:
       0: ldc           #32                 // class org/joyqueue/client/internal/consumer/coordinator/ConsumerCoordinator
       2: invokestatic  #33                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #24                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
