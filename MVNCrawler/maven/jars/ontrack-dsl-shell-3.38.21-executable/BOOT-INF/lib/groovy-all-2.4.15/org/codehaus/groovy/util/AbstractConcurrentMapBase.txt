Compiled from "AbstractConcurrentMapBase.java"
public abstract class org.codehaus.groovy.util.AbstractConcurrentMapBase {
  protected static final int MAXIMUM_CAPACITY;

  static final int MAX_SEGMENTS;

  static final int RETRIES_BEFORE_LOCK;

  final int segmentMask;

  final int segmentShift;

  protected final org.codehaus.groovy.util.AbstractConcurrentMapBase$Segment[] segments;

  public org.codehaus.groovy.util.AbstractConcurrentMapBase(java.lang.Object);
    Code:
       0: aload_0
       1: invokespecial #27                 // Method java/lang/Object."<init>":()V
       4: iconst_0
       5: istore_2
       6: iconst_1
       7: istore_3
       8: iload_3
       9: bipush        16
      11: if_icmpge     24
      14: iinc          2, 1
      17: iload_3
      18: iconst_1
      19: ishl
      20: istore_3
      21: goto          8
      24: aload_0
      25: bipush        32
      27: iload_2
      28: isub
      29: putfield      #29                 // Field segmentShift:I
      32: aload_0
      33: iload_3
      34: iconst_1
      35: isub
      36: putfield      #31                 // Field segmentMask:I
      39: aload_0
      40: iload_3
      41: anewarray     #10                 // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment
      44: putfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      47: sipush        512
      50: iload_3
      51: idiv
      52: istore        4
      54: iload         4
      56: iload_3
      57: imul
      58: sipush        512
      61: if_icmpge     67
      64: iinc          4, 1
      67: iconst_1
      68: istore        5
      70: iload         5
      72: iload         4
      74: if_icmpge     86
      77: iload         5
      79: iconst_1
      80: ishl
      81: istore        5
      83: goto          70
      86: iconst_0
      87: istore        6
      89: iload         6
      91: aload_0
      92: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      95: arraylength
      96: if_icmpge     119
      99: aload_0
     100: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     103: iload         6
     105: aload_0
     106: aload_1
     107: iload         5
     109: invokevirtual #37                 // Method createSegment:(Ljava/lang/Object;I)Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     112: aastore
     113: iinc          6, 1
     116: goto          89
     119: return

  protected abstract org.codehaus.groovy.util.AbstractConcurrentMapBase$Segment createSegment(java.lang.Object, int);

  protected static <K> int hash(K);
    Code:
       0: aload_0
       1: invokestatic  #53                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
       4: istore_1
       5: iload_1
       6: iload_1
       7: bipush        9
       9: ishl
      10: iconst_m1
      11: ixor
      12: iadd
      13: istore_1
      14: iload_1
      15: iload_1
      16: bipush        14
      18: iushr
      19: ixor
      20: istore_1
      21: iload_1
      22: iload_1
      23: iconst_4
      24: ishl
      25: iadd
      26: istore_1
      27: iload_1
      28: iload_1
      29: bipush        10
      31: iushr
      32: ixor
      33: istore_1
      34: iload_1
      35: ireturn

  public org.codehaus.groovy.util.AbstractConcurrentMapBase$Segment segmentFor(int);
    Code:
       0: aload_0
       1: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
       4: iload_1
       5: aload_0
       6: getfield      #29                 // Field segmentShift:I
       9: iushr
      10: aload_0
      11: getfield      #31                 // Field segmentMask:I
      14: iand
      15: aaload
      16: areturn

  public int fullSize();
    Code:
       0: iconst_0
       1: istore_1
       2: iconst_0
       3: istore_2
       4: iload_2
       5: aload_0
       6: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
       9: arraylength
      10: if_icmpge     124
      13: aload_0
      14: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      17: iload_2
      18: aaload
      19: invokevirtual #63                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.lock:()V
      22: iconst_0
      23: istore_3
      24: iload_3
      25: aload_0
      26: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      29: iload_2
      30: aaload
      31: getfield      #67                 // Field org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.table:[Ljava/lang/Object;
      34: arraylength
      35: if_icmpge     92
      38: aload_0
      39: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      42: iload_2
      43: aaload
      44: getfield      #67                 // Field org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.table:[Ljava/lang/Object;
      47: iload_3
      48: aaload
      49: astore        4
      51: aload         4
      53: ifnull        86
      56: aload         4
      58: instanceof    #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
      61: ifeq          70
      64: iinc          1, 1
      67: goto          86
      70: aload         4
      72: checkcast     #68                 // class "[Ljava/lang/Object;"
      75: checkcast     #68                 // class "[Ljava/lang/Object;"
      78: astore        5
      80: iload_1
      81: aload         5
      83: arraylength
      84: iadd
      85: istore_1
      86: iinc          3, 1
      89: goto          24
      92: aload_0
      93: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      96: iload_2
      97: aaload
      98: invokevirtual #71                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.unlock:()V
     101: goto          118
     104: astore        6
     106: aload_0
     107: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     110: iload_2
     111: aaload
     112: invokevirtual #71                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.unlock:()V
     115: aload         6
     117: athrow
     118: iinc          2, 1
     121: goto          4
     124: iload_1
     125: ireturn
    Exception table:
       from    to  target type
          22    92   104   any
         104   106   104   any

  public int size();
    Code:
       0: iconst_0
       1: istore_1
       2: iconst_0
       3: istore_2
       4: iload_2
       5: aload_0
       6: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
       9: arraylength
      10: if_icmpge     180
      13: aload_0
      14: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      17: iload_2
      18: aaload
      19: invokevirtual #63                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.lock:()V
      22: iconst_0
      23: istore_3
      24: iload_3
      25: aload_0
      26: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      29: iload_2
      30: aaload
      31: getfield      #67                 // Field org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.table:[Ljava/lang/Object;
      34: arraylength
      35: if_icmpge     148
      38: aload_0
      39: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      42: iload_2
      43: aaload
      44: getfield      #67                 // Field org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.table:[Ljava/lang/Object;
      47: iload_3
      48: aaload
      49: astore        4
      51: aload         4
      53: ifnull        142
      56: aload         4
      58: instanceof    #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
      61: ifeq          87
      64: aload         4
      66: checkcast     #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
      69: astore        5
      71: aload         5
      73: invokeinterface #82,  1           // InterfaceMethod org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry.isValid:()Z
      78: ifeq          84
      81: iinc          1, 1
      84: goto          142
      87: aload         4
      89: checkcast     #68                 // class "[Ljava/lang/Object;"
      92: checkcast     #68                 // class "[Ljava/lang/Object;"
      95: astore        5
      97: iconst_0
      98: istore        6
     100: iload         6
     102: aload         5
     104: arraylength
     105: if_icmpge     142
     108: aload         5
     110: iload         6
     112: aaload
     113: checkcast     #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
     116: astore        7
     118: aload         7
     120: ifnull        136
     123: aload         7
     125: invokeinterface #82,  1           // InterfaceMethod org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry.isValid:()Z
     130: ifeq          136
     133: iinc          1, 1
     136: iinc          6, 1
     139: goto          100
     142: iinc          3, 1
     145: goto          24
     148: aload_0
     149: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     152: iload_2
     153: aaload
     154: invokevirtual #71                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.unlock:()V
     157: goto          174
     160: astore        8
     162: aload_0
     163: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     166: iload_2
     167: aaload
     168: invokevirtual #71                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.unlock:()V
     171: aload         8
     173: athrow
     174: iinc          2, 1
     177: goto          4
     180: iload_1
     181: ireturn
    Exception table:
       from    to  target type
          22   148   160   any
         160   162   160   any

  public java.util.Collection values();
    Code:
       0: new           #90                 // class java/util/LinkedList
       3: dup
       4: invokespecial #91                 // Method java/util/LinkedList."<init>":()V
       7: astore_1
       8: iconst_0
       9: istore_2
      10: iload_2
      11: aload_0
      12: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      15: arraylength
      16: if_icmpge     198
      19: aload_0
      20: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      23: iload_2
      24: aaload
      25: invokevirtual #63                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.lock:()V
      28: iconst_0
      29: istore_3
      30: iload_3
      31: aload_0
      32: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      35: iload_2
      36: aaload
      37: getfield      #67                 // Field org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.table:[Ljava/lang/Object;
      40: arraylength
      41: if_icmpge     166
      44: aload_0
      45: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
      48: iload_2
      49: aaload
      50: getfield      #67                 // Field org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.table:[Ljava/lang/Object;
      53: iload_3
      54: aaload
      55: astore        4
      57: aload         4
      59: ifnull        160
      62: aload         4
      64: instanceof    #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
      67: ifeq          99
      70: aload         4
      72: checkcast     #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
      75: astore        5
      77: aload         5
      79: invokeinterface #82,  1           // InterfaceMethod org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry.isValid:()Z
      84: ifeq          96
      87: aload_1
      88: aload         5
      90: invokeinterface #97,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      95: pop
      96: goto          160
      99: aload         4
     101: checkcast     #68                 // class "[Ljava/lang/Object;"
     104: checkcast     #68                 // class "[Ljava/lang/Object;"
     107: astore        5
     109: iconst_0
     110: istore        6
     112: iload         6
     114: aload         5
     116: arraylength
     117: if_icmpge     160
     120: aload         5
     122: iload         6
     124: aaload
     125: checkcast     #7                  // class org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry
     128: astore        7
     130: aload         7
     132: ifnull        154
     135: aload         7
     137: invokeinterface #82,  1           // InterfaceMethod org/codehaus/groovy/util/AbstractConcurrentMapBase$Entry.isValid:()Z
     142: ifeq          154
     145: aload_1
     146: aload         7
     148: invokeinterface #97,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     153: pop
     154: iinc          6, 1
     157: goto          112
     160: iinc          3, 1
     163: goto          30
     166: aload_0
     167: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     170: iload_2
     171: aaload
     172: invokevirtual #71                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.unlock:()V
     175: goto          192
     178: astore        8
     180: aload_0
     181: getfield      #33                 // Field segments:[Lorg/codehaus/groovy/util/AbstractConcurrentMapBase$Segment;
     184: iload_2
     185: aaload
     186: invokevirtual #71                 // Method org/codehaus/groovy/util/AbstractConcurrentMapBase$Segment.unlock:()V
     189: aload         8
     191: athrow
     192: iinc          2, 1
     195: goto          10
     198: aload_1
     199: areturn
    Exception table:
       from    to  target type
          28   166   178   any
         178   180   178   any
}
