Compiled from "ContextPermissionCollection.java"
final class org.wildfly.common.context.ContextPermissionCollection extends java.security.PermissionCollection {
  private static final long serialVersionUID;

  private volatile org.wildfly.common.context.ContextPermissionCollection$State state;

  private static final java.util.concurrent.atomic.AtomicReferenceFieldUpdater<org.wildfly.common.context.ContextPermissionCollection, org.wildfly.common.context.ContextPermissionCollection$State> stateUpdater;

  private static final org.wildfly.common.context.ContextPermissionCollection$State emptyState;

  org.wildfly.common.context.ContextPermissionCollection();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/security/PermissionCollection."<init>":()V
       4: aload_0
       5: getstatic     #2                  // Field emptyState:Lorg/wildfly/common/context/ContextPermissionCollection$State;
       8: putfield      #3                  // Field state:Lorg/wildfly/common/context/ContextPermissionCollection$State;
      11: return

  public void add(java.security.Permission) throws java.lang.SecurityException, java.lang.IllegalArgumentException;
    Code:
       0: ldc           #4                  // String permission
       2: aload_1
       3: invokestatic  #5                  // Method org/wildfly/common/Assert.checkNotNullParam:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_1
       8: instanceof    #6                  // class org/wildfly/common/context/ContextPermission
      11: ifeq          25
      14: aload_0
      15: aload_1
      16: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
      19: invokevirtual #7                  // Method add:(Lorg/wildfly/common/context/ContextPermission;)V
      22: goto          40
      25: getstatic     #8                  // Field org/wildfly/common/_private/CommonMessages.msg:Lorg/wildfly/common/_private/CommonMessages;
      28: ldc           #6                  // class org/wildfly/common/context/ContextPermission
      30: aload_1
      31: invokevirtual #9                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
      34: invokeinterface #10,  3           // InterfaceMethod org/wildfly/common/_private/CommonMessages.invalidPermissionType:(Ljava/lang/Class;Ljava/lang/Class;)Ljava/lang/IllegalArgumentException;
      39: athrow
      40: return

  public void add(org.wildfly.common.context.ContextPermission) throws java.lang.SecurityException;
    Code:
       0: ldc           #11                 // String contextPermission
       2: aload_1
       3: invokestatic  #5                  // Method org/wildfly/common/Assert.checkNotNullParam:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_0
       8: invokevirtual #12                 // Method isReadOnly:()Z
      11: ifeq          23
      14: getstatic     #8                  // Field org/wildfly/common/_private/CommonMessages.msg:Lorg/wildfly/common/_private/CommonMessages;
      17: invokeinterface #13,  1           // InterfaceMethod org/wildfly/common/_private/CommonMessages.readOnlyPermissionCollection:()Ljava/lang/SecurityException;
      22: athrow
      23: aload_1
      24: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
      27: istore_2
      28: iload_2
      29: ifne          33
      32: return
      33: aload_1
      34: invokevirtual #15                 // Method org/wildfly/common/context/ContextPermission.getName:()Ljava/lang/String;
      37: astore_3
      38: aload_0
      39: getfield      #3                  // Field state:Lorg/wildfly/common/context/ContextPermissionCollection$State;
      42: astore        4
      44: aload         4
      46: invokestatic  #16                 // Method org/wildfly/common/context/ContextPermissionCollection$State.access$000:(Lorg/wildfly/common/context/ContextPermissionCollection$State;)Lorg/wildfly/common/context/ContextPermission;
      49: astore        6
      51: aload         6
      53: ifnonnull     60
      56: iconst_0
      57: goto          65
      60: aload         6
      62: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
      65: istore        7
      67: aload         6
      69: ifnull        82
      72: aload         6
      74: aload_1
      75: invokevirtual #17                 // Method org/wildfly/common/context/ContextPermission.implies:(Lorg/wildfly/common/context/ContextPermission;)Z
      78: ifeq          82
      81: return
      82: aload         4
      84: invokestatic  #18                 // Method org/wildfly/common/context/ContextPermissionCollection$State.access$100:(Lorg/wildfly/common/context/ContextPermissionCollection$State;)Ljava/util/Map;
      87: astore        8
      89: aload_3
      90: ldc           #19                 // String *
      92: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      95: ifeq          132
      98: aload         6
     100: ifnonnull     109
     103: aload_1
     104: astore        10
     106: goto          120
     109: aload         6
     111: aload_1
     112: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
     115: invokevirtual #21                 // Method org/wildfly/common/context/ContextPermission.withActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     118: astore        10
     120: aload         8
     122: aload         10
     124: invokestatic  #22                 // Method cloneWithout:(Ljava/util/Map;Lorg/wildfly/common/context/ContextPermission;)Ljava/util/Map;
     127: astore        9
     129: goto          285
     132: aload         6
     134: astore        10
     136: aload         8
     138: aload_3
     139: invokeinterface #23,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     144: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
     147: astore        11
     149: aload         11
     151: ifnonnull     208
     154: aload         8
     156: invokeinterface #24,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     161: ifeq          179
     164: aload_3
     165: aload_1
     166: iload         7
     168: invokevirtual #25                 // Method org/wildfly/common/context/ContextPermission.withoutActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     171: invokestatic  #26                 // Method java/util/Collections.singletonMap:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/Map;
     174: astore        9
     176: goto          285
     179: new           #27                 // class java/util/HashMap
     182: dup
     183: aload         8
     185: invokespecial #28                 // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
     188: astore        9
     190: aload         9
     192: aload_3
     193: aload_1
     194: iload         7
     196: invokevirtual #25                 // Method org/wildfly/common/context/ContextPermission.withoutActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     199: invokeinterface #29,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     204: pop
     205: goto          285
     208: aload         11
     210: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
     213: iload         7
     215: ior
     216: iload_2
     217: iand
     218: iload_2
     219: if_icmpne     223
     222: return
     223: aload         8
     225: invokeinterface #30,  1           // InterfaceMethod java/util/Map.size:()I
     230: iconst_1
     231: if_icmpne     254
     234: aload_3
     235: aload         11
     237: iload_2
     238: iload         7
     240: iconst_m1
     241: ixor
     242: iand
     243: invokevirtual #21                 // Method org/wildfly/common/context/ContextPermission.withActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     246: invokestatic  #26                 // Method java/util/Collections.singletonMap:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/Map;
     249: astore        9
     251: goto          285
     254: new           #27                 // class java/util/HashMap
     257: dup
     258: aload         8
     260: invokespecial #28                 // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
     263: astore        9
     265: aload         9
     267: aload_3
     268: aload         11
     270: iload_2
     271: iload         7
     273: iconst_m1
     274: ixor
     275: iand
     276: invokevirtual #21                 // Method org/wildfly/common/context/ContextPermission.withActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     279: invokeinterface #29,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     284: pop
     285: new           #31                 // class org/wildfly/common/context/ContextPermissionCollection$State
     288: dup
     289: aload         10
     291: aload         9
     293: invokespecial #32                 // Method org/wildfly/common/context/ContextPermissionCollection$State."<init>":(Lorg/wildfly/common/context/ContextPermission;Ljava/util/Map;)V
     296: astore        5
     298: getstatic     #33                 // Field stateUpdater:Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
     301: aload_0
     302: aload         4
     304: aload         5
     306: invokevirtual #34                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Z
     309: ifeq          38
     312: return

  private static java.util.Map<java.lang.String, org.wildfly.common.context.ContextPermission> cloneWithout(java.util.Map<java.lang.String, org.wildfly.common.context.ContextPermission>, org.wildfly.common.context.ContextPermission);
    Code:
       0: aload_0
       1: invokeinterface #35,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       6: invokeinterface #36,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      11: astore_2
      12: aload_2
      13: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifne          25
      21: invokestatic  #38                 // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      24: areturn
      25: aload_2
      26: invokeinterface #39,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      31: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
      34: astore_3
      35: aload_1
      36: aload_3
      37: invokevirtual #17                 // Method org/wildfly/common/context/ContextPermission.implies:(Lorg/wildfly/common/context/ContextPermission;)Z
      40: ifne          12
      43: goto          46
      46: aload_1
      47: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
      50: istore        4
      52: aload_2
      53: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifne          75
      61: aload_3
      62: invokevirtual #15                 // Method org/wildfly/common/context/ContextPermission.getName:()Ljava/lang/String;
      65: aload_3
      66: iload         4
      68: invokevirtual #25                 // Method org/wildfly/common/context/ContextPermission.withoutActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
      71: invokestatic  #26                 // Method java/util/Collections.singletonMap:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/util/Map;
      74: areturn
      75: aload_2
      76: invokeinterface #39,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      81: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
      84: astore        5
      86: aload_1
      87: aload         5
      89: invokevirtual #17                 // Method org/wildfly/common/context/ContextPermission.implies:(Lorg/wildfly/common/context/ContextPermission;)Z
      92: ifne          52
      95: goto          98
      98: new           #27                 // class java/util/HashMap
     101: dup
     102: invokespecial #40                 // Method java/util/HashMap."<init>":()V
     105: astore        6
     107: aload         6
     109: aload_3
     110: invokevirtual #15                 // Method org/wildfly/common/context/ContextPermission.getName:()Ljava/lang/String;
     113: aload_3
     114: iload         4
     116: invokevirtual #25                 // Method org/wildfly/common/context/ContextPermission.withoutActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     119: invokevirtual #41                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     122: pop
     123: aload         6
     125: aload         5
     127: invokevirtual #15                 // Method org/wildfly/common/context/ContextPermission.getName:()Ljava/lang/String;
     130: aload         5
     132: iload         4
     134: invokevirtual #25                 // Method org/wildfly/common/context/ContextPermission.withoutActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     137: invokevirtual #41                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     140: pop
     141: aload_2
     142: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     147: ifeq          191
     150: aload_2
     151: invokeinterface #39,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     156: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
     159: astore        7
     161: aload_1
     162: aload         7
     164: invokevirtual #17                 // Method org/wildfly/common/context/ContextPermission.implies:(Lorg/wildfly/common/context/ContextPermission;)Z
     167: ifne          141
     170: aload         6
     172: aload         7
     174: invokevirtual #15                 // Method org/wildfly/common/context/ContextPermission.getName:()Ljava/lang/String;
     177: aload         7
     179: iload         4
     181: invokevirtual #25                 // Method org/wildfly/common/context/ContextPermission.withoutActionBits:(I)Lorg/wildfly/common/context/ContextPermission;
     184: invokevirtual #41                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     187: pop
     188: goto          141
     191: aload         6
     193: areturn

  public boolean implies(java.security.Permission);
    Code:
       0: aload_1
       1: instanceof    #6                  // class org/wildfly/common/context/ContextPermission
       4: ifeq          22
       7: aload_0
       8: aload_1
       9: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
      12: invokevirtual #42                 // Method implies:(Lorg/wildfly/common/context/ContextPermission;)Z
      15: ifeq          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  public boolean implies(org.wildfly.common.context.ContextPermission);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: iconst_0
       5: ireturn
       6: aload_0
       7: getfield      #3                  // Field state:Lorg/wildfly/common/context/ContextPermissionCollection$State;
      10: astore_2
      11: aload_2
      12: invokestatic  #16                 // Method org/wildfly/common/context/ContextPermissionCollection$State.access$000:(Lorg/wildfly/common/context/ContextPermissionCollection$State;)Lorg/wildfly/common/context/ContextPermission;
      15: astore_3
      16: aload_3
      17: ifnull        39
      20: aload_3
      21: aload_1
      22: invokevirtual #17                 // Method org/wildfly/common/context/ContextPermission.implies:(Lorg/wildfly/common/context/ContextPermission;)Z
      25: ifeq          30
      28: iconst_1
      29: ireturn
      30: aload_3
      31: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
      34: istore        4
      36: goto          42
      39: iconst_0
      40: istore        4
      42: aload_1
      43: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
      46: istore        5
      48: aload_1
      49: invokevirtual #15                 // Method org/wildfly/common/context/ContextPermission.getName:()Ljava/lang/String;
      52: astore        6
      54: aload         6
      56: ldc           #19                 // String *
      58: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      61: ifeq          66
      64: iconst_0
      65: ireturn
      66: aload_2
      67: invokestatic  #18                 // Method org/wildfly/common/context/ContextPermissionCollection$State.access$100:(Lorg/wildfly/common/context/ContextPermissionCollection$State;)Ljava/util/Map;
      70: aload         6
      72: invokeinterface #23,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      77: checkcast     #6                  // class org/wildfly/common/context/ContextPermission
      80: astore        7
      82: aload         7
      84: ifnonnull     89
      87: iconst_0
      88: ireturn
      89: aload         7
      91: invokevirtual #14                 // Method org/wildfly/common/context/ContextPermission.getActionBits:()I
      94: iload         4
      96: ior
      97: istore        8
      99: iload         5
     101: iload         8
     103: iand
     104: iload         5
     106: if_icmpne     113
     109: iconst_1
     110: goto          114
     113: iconst_0
     114: ireturn

  public java.util.Enumeration<java.security.Permission> elements();
    Code:
       0: aload_0
       1: getfield      #3                  // Field state:Lorg/wildfly/common/context/ContextPermissionCollection$State;
       4: astore_1
       5: aload_1
       6: invokestatic  #18                 // Method org/wildfly/common/context/ContextPermissionCollection$State.access$100:(Lorg/wildfly/common/context/ContextPermissionCollection$State;)Ljava/util/Map;
       9: invokeinterface #35,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      14: invokeinterface #36,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      19: astore_2
      20: new           #43                 // class org/wildfly/common/context/ContextPermissionCollection$1
      23: dup
      24: aload_0
      25: aload_1
      26: aload_2
      27: invokespecial #44                 // Method org/wildfly/common/context/ContextPermissionCollection$1."<init>":(Lorg/wildfly/common/context/ContextPermissionCollection;Lorg/wildfly/common/context/ContextPermissionCollection$State;Ljava/util/Iterator;)V
      30: areturn

  static {};
    Code:
       0: ldc           #45                 // class org/wildfly/common/context/ContextPermissionCollection
       2: ldc           #31                 // class org/wildfly/common/context/ContextPermissionCollection$State
       4: ldc           #46                 // String state
       6: invokestatic  #47                 // Method java/util/concurrent/atomic/AtomicReferenceFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
       9: putstatic     #33                 // Field stateUpdater:Ljava/util/concurrent/atomic/AtomicReferenceFieldUpdater;
      12: new           #31                 // class org/wildfly/common/context/ContextPermissionCollection$State
      15: dup
      16: aconst_null
      17: invokestatic  #38                 // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      20: invokespecial #32                 // Method org/wildfly/common/context/ContextPermissionCollection$State."<init>":(Lorg/wildfly/common/context/ContextPermission;Ljava/util/Map;)V
      23: putstatic     #2                  // Field emptyState:Lorg/wildfly/common/context/ContextPermissionCollection$State;
      26: return
}
