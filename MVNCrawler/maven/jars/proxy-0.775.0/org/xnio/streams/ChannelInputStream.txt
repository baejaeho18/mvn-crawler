Compiled from "ChannelInputStream.java"
public class org.xnio.streams.ChannelInputStream extends java.io.InputStream {
  protected final org.xnio.channels.StreamSourceChannel channel;

  private volatile int flags;

  private volatile long timeout;

  private static final java.util.concurrent.atomic.AtomicIntegerFieldUpdater<org.xnio.streams.ChannelInputStream> flagsUpdater;

  private static final int FLAG_EOF;

  private static final int FLAG_ENTERED;

  static final boolean $assertionsDisabled;

  public org.xnio.streams.ChannelInputStream(org.xnio.channels.StreamSourceChannel);
    Code:
       0: aload_0
       1: invokespecial #25                 // Method java/io/InputStream."<init>":()V
       4: aload_1
       5: ifnonnull     19
       8: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      11: ldc           #32                 // String channel
      13: invokeinterface #36,  2           // InterfaceMethod org/xnio/_private/Messages.nullParameter:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      18: athrow
      19: aload_0
      20: aload_1
      21: putfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      24: return

  public org.xnio.streams.ChannelInputStream(org.xnio.channels.StreamSourceChannel, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: invokespecial #25                 // Method java/io/InputStream."<init>":()V
       4: aload_1
       5: ifnonnull     19
       8: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      11: ldc           #32                 // String channel
      13: invokeinterface #36,  2           // InterfaceMethod org/xnio/_private/Messages.nullParameter:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      18: athrow
      19: aload         4
      21: ifnonnull     35
      24: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      27: ldc           #47                 // String timeoutUnit
      29: invokeinterface #36,  2           // InterfaceMethod org/xnio/_private/Messages.nullParameter:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      34: athrow
      35: lload_2
      36: lconst_0
      37: lcmp
      38: ifge          52
      41: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      44: ldc           #48                 // String timeout
      46: invokeinterface #51,  2           // InterfaceMethod org/xnio/_private/Messages.parameterOutOfRange:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      51: athrow
      52: aload_0
      53: aload_1
      54: putfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      57: aload         4
      59: lload_2
      60: invokevirtual #55                 // Method java/util/concurrent/TimeUnit.toNanos:(J)J
      63: lstore        5
      65: aload_0
      66: lload_2
      67: lconst_0
      68: lcmp
      69: ifne          76
      72: lconst_0
      73: goto          89
      76: lload         5
      78: lconst_1
      79: lcmp
      80: ifge          87
      83: lconst_1
      84: goto          89
      87: lload         5
      89: putfield      #57                 // Field timeout:J
      92: return

  private boolean enter();
    Code:
       0: aload_0
       1: getfield      #63                 // Field flags:I
       4: istore_1
       5: iload_1
       6: iconst_1
       7: invokestatic  #69                 // Method org/xnio/Bits.allAreSet:(II)Z
      10: ifeq          22
      13: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      16: invokeinterface #73,  1           // InterfaceMethod org/xnio/_private/Messages.concurrentAccess:()Lorg/xnio/channels/ConcurrentStreamChannelAccessException;
      21: athrow
      22: getstatic     #75                 // Field flagsUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      25: aload_0
      26: iload_1
      27: iload_1
      28: iconst_1
      29: ior
      30: invokevirtual #81                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.compareAndSet:(Ljava/lang/Object;II)Z
      33: ifeq          5
      36: iload_1
      37: iconst_2
      38: invokestatic  #69                 // Method org/xnio/Bits.allAreSet:(II)Z
      41: ireturn

  private void exit(boolean);
    Code:
       0: aload_0
       1: getfield      #63                 // Field flags:I
       4: istore_2
       5: iload_2
       6: bipush        -2
       8: iand
       9: istore_3
      10: iload_1
      11: ifeq          18
      14: iload_3
      15: iconst_2
      16: ior
      17: istore_3
      18: getstatic     #75                 // Field flagsUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      21: aload_0
      22: iload_2
      23: iload_3
      24: invokevirtual #81                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.compareAndSet:(Ljava/lang/Object;II)Z
      27: ifeq          0
      30: return

  public long getReadTimeout(java.util.concurrent.TimeUnit);
    Code:
       0: aload_1
       1: ifnonnull     15
       4: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
       7: ldc           #91                 // String unit
       9: invokeinterface #36,  2           // InterfaceMethod org/xnio/_private/Messages.nullParameter:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      14: athrow
      15: aload_1
      16: aload_0
      17: getfield      #57                 // Field timeout:J
      20: getstatic     #94                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      23: invokevirtual #98                 // Method java/util/concurrent/TimeUnit.convert:(JLjava/util/concurrent/TimeUnit;)J
      26: lreturn

  public void setReadTimeout(long, java.util.concurrent.TimeUnit);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifge          17
       6: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
       9: ldc           #48                 // String timeout
      11: invokeinterface #51,  2           // InterfaceMethod org/xnio/_private/Messages.parameterOutOfRange:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      16: athrow
      17: aload_3
      18: ifnonnull     32
      21: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      24: ldc           #91                 // String unit
      26: invokeinterface #36,  2           // InterfaceMethod org/xnio/_private/Messages.nullParameter:(Ljava/lang/String;)Ljava/lang/IllegalArgumentException;
      31: athrow
      32: aload_3
      33: lload_1
      34: invokevirtual #55                 // Method java/util/concurrent/TimeUnit.toNanos:(J)J
      37: lstore        4
      39: aload_0
      40: lload_1
      41: lconst_0
      42: lcmp
      43: ifne          50
      46: lconst_0
      47: goto          63
      50: lload         4
      52: lconst_1
      53: lcmp
      54: ifge          61
      57: lconst_1
      58: goto          63
      61: lload         4
      63: putfield      #57                 // Field timeout:J
      66: return

  public int read() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #106                // Method enter:()Z
       4: istore_1
       5: iload_1
       6: ifeq          18
       9: iconst_m1
      10: istore_2
      11: aload_0
      12: iload_1
      13: invokespecial #108                // Method exit:(Z)V
      16: iload_2
      17: ireturn
      18: iconst_1
      19: newarray       byte
      21: astore_2
      22: aload_2
      23: invokestatic  #114                // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      26: astore_3
      27: aload_0
      28: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      31: aload_3
      32: invokeinterface #117,  2          // InterfaceMethod org/xnio/channels/StreamSourceChannel.read:(Ljava/nio/ByteBuffer;)I
      37: istore        4
      39: iload         4
      41: ifne          136
      44: invokestatic  #123                // Method java/lang/System.nanoTime:()J
      47: lstore        7
      49: lconst_0
      50: lstore        9
      52: aload_0
      53: getfield      #57                 // Field timeout:J
      56: lstore        5
      58: lload         5
      60: lconst_0
      61: lcmp
      62: ifne          77
      65: aload_0
      66: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      69: invokeinterface #128,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.awaitReadable:()V
      74: goto          111
      77: lload         5
      79: lload         9
      81: lcmp
      82: ifge          94
      85: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
      88: invokeinterface #132,  1          // InterfaceMethod org/xnio/_private/Messages.readTimeout:()Lorg/xnio/channels/ReadTimeoutException;
      93: athrow
      94: aload_0
      95: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      98: lload         5
     100: lload         9
     102: lsub
     103: getstatic     #94                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     106: invokeinterface #134,  4          // InterfaceMethod org/xnio/channels/StreamSourceChannel.awaitReadable:(JLjava/util/concurrent/TimeUnit;)V
     111: invokestatic  #123                // Method java/lang/System.nanoTime:()J
     114: lload         7
     116: lsub
     117: lstore        9
     119: aload_0
     120: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
     123: aload_3
     124: invokeinterface #117,  2          // InterfaceMethod org/xnio/channels/StreamSourceChannel.read:(Ljava/nio/ByteBuffer;)I
     129: istore        4
     131: iload         4
     133: ifeq          52
     136: iload         4
     138: iconst_m1
     139: if_icmpne     146
     142: iconst_1
     143: goto          147
     146: iconst_0
     147: dup
     148: istore_1
     149: ifeq          156
     152: iconst_m1
     153: goto          163
     156: aload_2
     157: iconst_0
     158: baload
     159: sipush        255
     162: iand
     163: istore        5
     165: aload_0
     166: iload_1
     167: invokespecial #108                // Method exit:(Z)V
     170: iload         5
     172: ireturn
     173: astore        11
     175: aload_0
     176: iload_1
     177: invokespecial #108                // Method exit:(Z)V
     180: aload         11
     182: athrow
    Exception table:
       from    to  target type
           5    11   173   any
          18   165   173   any
         173   175   173   any

  public int read(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: invokevirtual #147                // Method read:([BII)I
       8: ireturn

  public int read(byte[], int, int) throws java.io.IOException;
    Code:
       0: iload_3
       1: iconst_1
       2: if_icmplt     13
       5: iload_2
       6: iload_3
       7: iadd
       8: aload_1
       9: arraylength
      10: if_icmple     15
      13: iconst_0
      14: ireturn
      15: aload_0
      16: invokespecial #106                // Method enter:()Z
      19: istore        4
      21: iload         4
      23: ifeq          38
      26: iconst_m1
      27: istore        5
      29: aload_0
      30: iload         4
      32: invokespecial #108                // Method exit:(Z)V
      35: iload         5
      37: ireturn
      38: aload_1
      39: iload_2
      40: iload_3
      41: invokestatic  #151                // Method java/nio/ByteBuffer.wrap:([BII)Ljava/nio/ByteBuffer;
      44: astore        5
      46: aload_0
      47: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      50: aload         5
      52: invokeinterface #117,  2          // InterfaceMethod org/xnio/channels/StreamSourceChannel.read:(Ljava/nio/ByteBuffer;)I
      57: istore        6
      59: iload         6
      61: ifne          157
      64: invokestatic  #123                // Method java/lang/System.nanoTime:()J
      67: lstore        9
      69: lconst_0
      70: lstore        11
      72: aload_0
      73: getfield      #57                 // Field timeout:J
      76: lstore        7
      78: lload         7
      80: lconst_0
      81: lcmp
      82: ifne          97
      85: aload_0
      86: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      89: invokeinterface #128,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.awaitReadable:()V
      94: goto          131
      97: lload         7
      99: lload         11
     101: lcmp
     102: ifge          114
     105: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
     108: invokeinterface #132,  1          // InterfaceMethod org/xnio/_private/Messages.readTimeout:()Lorg/xnio/channels/ReadTimeoutException;
     113: athrow
     114: aload_0
     115: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
     118: lload         7
     120: lload         11
     122: lsub
     123: getstatic     #94                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     126: invokeinterface #134,  4          // InterfaceMethod org/xnio/channels/StreamSourceChannel.awaitReadable:(JLjava/util/concurrent/TimeUnit;)V
     131: invokestatic  #123                // Method java/lang/System.nanoTime:()J
     134: lload         9
     136: lsub
     137: lstore        11
     139: aload_0
     140: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
     143: aload         5
     145: invokeinterface #117,  2          // InterfaceMethod org/xnio/channels/StreamSourceChannel.read:(Ljava/nio/ByteBuffer;)I
     150: istore        6
     152: iload         6
     154: ifeq          72
     157: iload         6
     159: iconst_m1
     160: if_icmpne     167
     163: iconst_1
     164: goto          168
     167: iconst_0
     168: dup
     169: istore        4
     171: ifeq          178
     174: iconst_m1
     175: goto          185
     178: aload         5
     180: invokevirtual #154                // Method java/nio/ByteBuffer.position:()I
     183: iload_2
     184: isub
     185: istore        7
     187: aload_0
     188: iload         4
     190: invokespecial #108                // Method exit:(Z)V
     193: iload         7
     195: ireturn
     196: astore        13
     198: aload_0
     199: iload         4
     201: invokespecial #108                // Method exit:(Z)V
     204: aload         13
     206: athrow
    Exception table:
       from    to  target type
          21    29   196   any
          38   187   196   any
         196   198   196   any

  public long skip(long) throws java.io.IOException;
    Code:
       0: lload_1
       1: lconst_1
       2: lcmp
       3: ifge          8
       6: lconst_0
       7: lreturn
       8: aload_0
       9: invokespecial #106                // Method enter:()Z
      12: istore_3
      13: iload_3
      14: ifeq          28
      17: lconst_0
      18: lstore        4
      20: aload_0
      21: iload_3
      22: invokespecial #108                // Method exit:(Z)V
      25: lload         4
      27: lreturn
      28: lload_1
      29: ldc2_w        #160                // long 2147483647l
      32: invokestatic  #167                // Method java/lang/Math.min:(JJ)J
      35: lstore_1
      36: lconst_0
      37: lstore        4
      39: invokestatic  #123                // Method java/lang/System.nanoTime:()J
      42: lstore        8
      44: lconst_0
      45: lstore        10
      47: lload_1
      48: lconst_0
      49: lcmp
      50: ifne          65
      53: lload         4
      55: lstore        14
      57: aload_0
      58: iload_3
      59: invokespecial #108                // Method exit:(Z)V
      62: lload         14
      64: lreturn
      65: aload_0
      66: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
      69: lload_1
      70: invokestatic  #173                // Method org/xnio/channels/Channels.drain:(Lorg/xnio/channels/StreamSourceChannel;J)J
      73: lstore        12
      75: lload         12
      77: ldc2_w        #174                // long -1l
      80: lcmp
      81: ifne          96
      84: lload         4
      86: lstore        14
      88: aload_0
      89: iload_3
      90: invokespecial #108                // Method exit:(Z)V
      93: lload         14
      95: lreturn
      96: lload         12
      98: lconst_0
      99: lcmp
     100: ifne          212
     103: aload_0
     104: getfield      #57                 // Field timeout:J
     107: lstore        6
     109: lload         6
     111: lconst_0
     112: lcmp
     113: ifne          128
     116: aload_0
     117: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
     120: invokeinterface #128,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.awaitReadable:()V
     125: goto          162
     128: lload         6
     130: lload         10
     132: lcmp
     133: ifge          145
     136: getstatic     #31                 // Field org/xnio/_private/Messages.msg:Lorg/xnio/_private/Messages;
     139: invokeinterface #132,  1          // InterfaceMethod org/xnio/_private/Messages.readTimeout:()Lorg/xnio/channels/ReadTimeoutException;
     144: athrow
     145: aload_0
     146: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
     149: lload         6
     151: lload         10
     153: lsub
     154: getstatic     #94                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     157: invokeinterface #134,  4          // InterfaceMethod org/xnio/channels/StreamSourceChannel.awaitReadable:(JLjava/util/concurrent/TimeUnit;)V
     162: goto          201
     165: astore        14
     167: getstatic     #177                // Field $assertionsDisabled:Z
     170: ifne          190
     173: lload         4
     175: ldc2_w        #160                // long 2147483647l
     178: lcmp
     179: iflt          190
     182: new           #179                // class java/lang/AssertionError
     185: dup
     186: invokespecial #180                // Method java/lang/AssertionError."<init>":()V
     189: athrow
     190: aload         14
     192: lload         4
     194: l2i
     195: putfield      #183                // Field java/io/InterruptedIOException.bytesTransferred:I
     198: aload         14
     200: athrow
     201: invokestatic  #123                // Method java/lang/System.nanoTime:()J
     204: lload         8
     206: lsub
     207: lstore        10
     209: goto          47
     212: lload         4
     214: lload         12
     216: ladd
     217: lstore        4
     219: lload_1
     220: lload         12
     222: lsub
     223: lstore_1
     224: goto          47
     227: astore        16
     229: aload_0
     230: iload_3
     231: invokespecial #108                // Method exit:(Z)V
     234: aload         16
     236: athrow
    Exception table:
       from    to  target type
         109   162   165   Class java/io/InterruptedIOException
          13    20   227   any
          28    57   227   any
          65    88   227   any
          96   229   227   any

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #106                // Method enter:()Z
       4: pop
       5: aload_0
       6: getfield      #40                 // Field channel:Lorg/xnio/channels/StreamSourceChannel;
       9: invokeinterface #191,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.shutdownReads:()V
      14: aload_0
      15: iconst_1
      16: invokespecial #108                // Method exit:(Z)V
      19: goto          30
      22: astore_1
      23: aload_0
      24: iconst_1
      25: invokespecial #108                // Method exit:(Z)V
      28: aload_1
      29: athrow
      30: return
    Exception table:
       from    to  target type
           5    14    22   any

  static {};
    Code:
       0: ldc           #2                  // class org/xnio/streams/ChannelInputStream
       2: invokevirtual #197                // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #177                // Field $assertionsDisabled:Z
      16: ldc           #2                  // class org/xnio/streams/ChannelInputStream
      18: ldc           #198                // String flags
      20: invokestatic  #202                // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      23: putstatic     #75                 // Field flagsUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      26: return
}
