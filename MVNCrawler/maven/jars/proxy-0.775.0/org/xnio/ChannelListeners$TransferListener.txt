Compiled from "ChannelListeners.java"
final class org.xnio.ChannelListeners$TransferListener<I extends org.xnio.channels.StreamSourceChannel, O extends org.xnio.channels.StreamSinkChannel> implements org.xnio.ChannelListener<java.nio.channels.Channel> {
  private final org.xnio.Pooled<java.nio.ByteBuffer> pooledBuffer;

  private final I source;

  private final O sink;

  private final org.xnio.ChannelListener<? super I> sourceListener;

  private final org.xnio.ChannelListener<? super O> sinkListener;

  private final org.xnio.ChannelExceptionHandler<? super O> writeExceptionHandler;

  private final org.xnio.ChannelExceptionHandler<? super I> readExceptionHandler;

  private long count;

  private volatile int state;

  org.xnio.ChannelListeners$TransferListener(long, org.xnio.Pooled<java.nio.ByteBuffer>, I, O, org.xnio.ChannelListener<? super I>, org.xnio.ChannelListener<? super O>, org.xnio.ChannelExceptionHandler<? super O>, org.xnio.ChannelExceptionHandler<? super I>, int);
    Code:
       0: aload_0
       1: invokespecial #40                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: lload_1
       6: putfield      #42                 // Field count:J
       9: aload_0
      10: aload_3
      11: putfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      14: aload_0
      15: aload         4
      17: putfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
      20: aload_0
      21: aload         5
      23: putfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      26: aload_0
      27: aload         6
      29: putfield      #50                 // Field sourceListener:Lorg/xnio/ChannelListener;
      32: aload_0
      33: aload         7
      35: putfield      #52                 // Field sinkListener:Lorg/xnio/ChannelListener;
      38: aload_0
      39: aload         8
      41: putfield      #54                 // Field writeExceptionHandler:Lorg/xnio/ChannelExceptionHandler;
      44: aload_0
      45: aload         9
      47: putfield      #56                 // Field readExceptionHandler:Lorg/xnio/ChannelExceptionHandler;
      50: aload_0
      51: iload         10
      53: putfield      #58                 // Field state:I
      56: return

  public void handleEvent(java.nio.channels.Channel);
    Code:
       0: aload_0
       1: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
       4: invokeinterface #71,  1           // InterfaceMethod org/xnio/Pooled.getResource:()Ljava/lang/Object;
       9: checkcast     #73                 // class java/nio/ByteBuffer
      12: astore_2
      13: aload_0
      14: getfield      #58                 // Field state:I
      17: istore_3
      18: aload_0
      19: getfield      #42                 // Field count:J
      22: lstore        4
      24: iload_3
      25: lookupswitch  { // 2
                     0: 52
                     1: 249
               default: 440
          }
      52: aload_0
      53: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
      56: lload         4
      58: aload_2
      59: aload_0
      60: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      63: invokeinterface #79,  5           // InterfaceMethod org/xnio/channels/StreamSourceChannel.transferTo:(JLjava/nio/ByteBuffer;Lorg/xnio/channels/StreamSinkChannel;)J
      68: lstore        6
      70: goto          82
      73: astore        9
      75: aload_0
      76: aload         9
      78: invokespecial #83                 // Method readFailed:(Ljava/io/IOException;)V
      81: return
      82: lload         6
      84: lconst_0
      85: lcmp
      86: ifne          103
      89: aload_2
      90: invokevirtual #87                 // Method java/nio/ByteBuffer.hasRemaining:()Z
      93: ifne          103
      96: aload_0
      97: lload         4
      99: putfield      #42                 // Field count:J
     102: return
     103: lload         6
     105: ldc2_w        #88                 // long -1l
     108: lcmp
     109: ifne          138
     112: lload         4
     114: ldc2_w        #90                 // long 9223372036854775807l
     117: lcmp
     118: ifne          126
     121: aload_0
     122: invokespecial #94                 // Method done:()V
     125: return
     126: aload_0
     127: new           #96                 // class java/io/EOFException
     130: dup
     131: invokespecial #97                 // Method java/io/EOFException."<init>":()V
     134: invokespecial #83                 // Method readFailed:(Ljava/io/IOException;)V
     137: return
     138: lload         4
     140: ldc2_w        #90                 // long 9223372036854775807l
     143: lcmp
     144: ifeq          154
     147: lload         4
     149: lload         6
     151: lsub
     152: lstore        4
     154: aload_2
     155: invokevirtual #87                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     158: ifeq          237
     161: aload_0
     162: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
     165: aload_2
     166: invokeinterface #103,  2          // InterfaceMethod org/xnio/channels/StreamSinkChannel.write:(Ljava/nio/ByteBuffer;)I
     171: istore        8
     173: goto          185
     176: astore        9
     178: aload_0
     179: aload         9
     181: invokespecial #106                // Method writeFailed:(Ljava/io/IOException;)V
     184: return
     185: lload         4
     187: ldc2_w        #90                 // long 9223372036854775807l
     190: lcmp
     191: ifeq          202
     194: lload         4
     196: iload         8
     198: i2l
     199: lsub
     200: lstore        4
     202: iload         8
     204: ifne          154
     207: aload_0
     208: lload         4
     210: putfield      #42                 // Field count:J
     213: aload_0
     214: iconst_1
     215: putfield      #58                 // Field state:I
     218: aload_0
     219: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
     222: invokeinterface #109,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.suspendReads:()V
     227: aload_0
     228: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
     231: invokeinterface #112,  1          // InterfaceMethod org/xnio/channels/StreamSinkChannel.resumeWrites:()V
     236: return
     237: lload         4
     239: lconst_0
     240: lcmp
     241: ifne          52
     244: aload_0
     245: invokespecial #94                 // Method done:()V
     248: return
     249: aload_2
     250: invokevirtual #87                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     253: ifeq          303
     256: aload_0
     257: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
     260: aload_2
     261: invokeinterface #103,  2          // InterfaceMethod org/xnio/channels/StreamSinkChannel.write:(Ljava/nio/ByteBuffer;)I
     266: istore        8
     268: goto          280
     271: astore        9
     273: aload_0
     274: aload         9
     276: invokespecial #106                // Method writeFailed:(Ljava/io/IOException;)V
     279: return
     280: lload         4
     282: ldc2_w        #90                 // long 9223372036854775807l
     285: lcmp
     286: ifeq          297
     289: lload         4
     291: iload         8
     293: i2l
     294: lsub
     295: lstore        4
     297: iload         8
     299: ifne          249
     302: return
     303: aload_0
     304: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
     307: lload         4
     309: aload_2
     310: aload_0
     311: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
     314: invokeinterface #79,  5           // InterfaceMethod org/xnio/channels/StreamSourceChannel.transferTo:(JLjava/nio/ByteBuffer;Lorg/xnio/channels/StreamSinkChannel;)J
     319: lstore        6
     321: goto          333
     324: astore        9
     326: aload_0
     327: aload         9
     329: invokespecial #83                 // Method readFailed:(Ljava/io/IOException;)V
     332: return
     333: lload         6
     335: lconst_0
     336: lcmp
     337: ifne          377
     340: aload_2
     341: invokevirtual #87                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     344: ifne          377
     347: aload_0
     348: lload         4
     350: putfield      #42                 // Field count:J
     353: aload_0
     354: iconst_0
     355: putfield      #58                 // Field state:I
     358: aload_0
     359: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
     362: invokeinterface #115,  1          // InterfaceMethod org/xnio/channels/StreamSinkChannel.suspendWrites:()V
     367: aload_0
     368: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
     371: invokeinterface #118,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.resumeReads:()V
     376: return
     377: lload         6
     379: ldc2_w        #88                 // long -1l
     382: lcmp
     383: ifne          412
     386: lload         4
     388: ldc2_w        #90                 // long 9223372036854775807l
     391: lcmp
     392: ifne          400
     395: aload_0
     396: invokespecial #94                 // Method done:()V
     399: return
     400: aload_0
     401: new           #96                 // class java/io/EOFException
     404: dup
     405: invokespecial #97                 // Method java/io/EOFException."<init>":()V
     408: invokespecial #83                 // Method readFailed:(Ljava/io/IOException;)V
     411: return
     412: lload         4
     414: ldc2_w        #90                 // long 9223372036854775807l
     417: lcmp
     418: ifeq          428
     421: lload         4
     423: lload         6
     425: lsub
     426: lstore        4
     428: lload         4
     430: lconst_0
     431: lcmp
     432: ifne          249
     435: aload_0
     436: invokespecial #94                 // Method done:()V
     439: return
     440: return
    Exception table:
       from    to  target type
          52    70    73   Class java/io/IOException
         161   173   176   Class java/io/IOException
         256   268   271   Class java/io/IOException
         303   321   324   Class java/io/IOException

  private void writeFailed(java.io.IOException);
    Code:
       0: aload_0
       1: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
       4: invokeinterface #109,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.suspendReads:()V
       9: aload_0
      10: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      13: invokeinterface #115,  1          // InterfaceMethod org/xnio/channels/StreamSinkChannel.suspendWrites:()V
      18: aload_0
      19: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      22: aload_0
      23: getfield      #54                 // Field writeExceptionHandler:Lorg/xnio/ChannelExceptionHandler;
      26: aload_1
      27: invokestatic  #130                // Method org/xnio/ChannelListeners.invokeChannelExceptionHandler:(Ljava/nio/channels/Channel;Lorg/xnio/ChannelExceptionHandler;Ljava/io/IOException;)V
      30: aload_0
      31: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      34: invokeinterface #133,  1          // InterfaceMethod org/xnio/Pooled.free:()V
      39: goto          54
      42: astore_2
      43: aload_0
      44: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      47: invokeinterface #133,  1          // InterfaceMethod org/xnio/Pooled.free:()V
      52: aload_2
      53: athrow
      54: return
    Exception table:
       from    to  target type
           0    30    42   any

  private void readFailed(java.io.IOException);
    Code:
       0: aload_0
       1: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
       4: invokeinterface #109,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.suspendReads:()V
       9: aload_0
      10: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      13: invokeinterface #115,  1          // InterfaceMethod org/xnio/channels/StreamSinkChannel.suspendWrites:()V
      18: aload_0
      19: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
      22: aload_0
      23: getfield      #56                 // Field readExceptionHandler:Lorg/xnio/ChannelExceptionHandler;
      26: aload_1
      27: invokestatic  #130                // Method org/xnio/ChannelListeners.invokeChannelExceptionHandler:(Ljava/nio/channels/Channel;Lorg/xnio/ChannelExceptionHandler;Ljava/io/IOException;)V
      30: aload_0
      31: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      34: invokeinterface #133,  1          // InterfaceMethod org/xnio/Pooled.free:()V
      39: goto          54
      42: astore_2
      43: aload_0
      44: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      47: invokeinterface #133,  1          // InterfaceMethod org/xnio/Pooled.free:()V
      52: aload_2
      53: athrow
      54: return
    Exception table:
       from    to  target type
           0    30    42   any

  private void done();
    Code:
       0: aload_0
       1: getfield      #50                 // Field sourceListener:Lorg/xnio/ChannelListener;
       4: astore_1
       5: aload_0
       6: getfield      #52                 // Field sinkListener:Lorg/xnio/ChannelListener;
       9: astore_2
      10: aload_0
      11: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
      14: astore_3
      15: aload_0
      16: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      19: astore        4
      21: aload_3
      22: aload_1
      23: invokestatic  #141                // Method org/xnio/channels/Channels.setReadListener:(Lorg/xnio/channels/SuspendableReadChannel;Lorg/xnio/ChannelListener;)V
      26: aload_1
      27: ifnonnull     39
      30: aload_3
      31: invokeinterface #109,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.suspendReads:()V
      36: goto          45
      39: aload_3
      40: invokeinterface #144,  1          // InterfaceMethod org/xnio/channels/StreamSourceChannel.wakeupReads:()V
      45: aload         4
      47: aload_2
      48: invokestatic  #148                // Method org/xnio/channels/Channels.setWriteListener:(Lorg/xnio/channels/SuspendableWriteChannel;Lorg/xnio/ChannelListener;)V
      51: aload_2
      52: ifnonnull     65
      55: aload         4
      57: invokeinterface #115,  1          // InterfaceMethod org/xnio/channels/StreamSinkChannel.suspendWrites:()V
      62: goto          72
      65: aload         4
      67: invokeinterface #151,  1          // InterfaceMethod org/xnio/channels/StreamSinkChannel.wakeupWrites:()V
      72: aload_0
      73: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      76: invokeinterface #133,  1          // InterfaceMethod org/xnio/Pooled.free:()V
      81: goto          98
      84: astore        5
      86: aload_0
      87: getfield      #44                 // Field pooledBuffer:Lorg/xnio/Pooled;
      90: invokeinterface #133,  1          // InterfaceMethod org/xnio/Pooled.free:()V
      95: aload         5
      97: athrow
      98: return
    Exception table:
       from    to  target type
           0    72    84   any
          84    86    84   any

  public java.lang.String toString();
    Code:
       0: new           #155                // class java/lang/StringBuilder
       3: dup
       4: invokespecial #156                // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #158                // String Transfer channel listener (
       9: invokevirtual #162                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #46                 // Field source:Lorg/xnio/channels/StreamSourceChannel;
      16: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #167                // String  to
      21: invokevirtual #162                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: getfield      #48                 // Field sink:Lorg/xnio/channels/StreamSinkChannel;
      28: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: ldc           #169                // String ) -> (
      33: invokevirtual #162                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_0
      37: getfield      #50                 // Field sourceListener:Lorg/xnio/ChannelListener;
      40: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      43: ldc           #171                // String  and
      45: invokevirtual #162                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: aload_0
      49: getfield      #52                 // Field sinkListener:Lorg/xnio/ChannelListener;
      52: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      55: ldc           #173                // String )
      57: invokevirtual #162                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      60: invokevirtual #175                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      63: areturn
}
