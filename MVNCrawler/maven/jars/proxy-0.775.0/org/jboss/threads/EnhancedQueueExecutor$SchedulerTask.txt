Compiled from "EnhancedQueueExecutor.java"
final class org.jboss.threads.EnhancedQueueExecutor$SchedulerTask implements java.lang.Runnable {
  final long startMark;

  final java.util.concurrent.locks.ReentrantLock ql;

  final java.util.concurrent.locks.Condition qc;

  org.jboss.threads.EnhancedQueueExecutor$ScheduledFutureQueue q;

  boolean shutdownDetected;

  final org.jboss.threads.EnhancedQueueExecutor this$0;

  org.jboss.threads.EnhancedQueueExecutor$SchedulerTask(org.jboss.threads.EnhancedQueueExecutor);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/jboss/threads/EnhancedQueueExecutor;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
      13: putfield      #4                  // Field startMark:J
      16: aload_0
      17: new           #5                  // class java/util/concurrent/locks/ReentrantLock
      20: dup
      21: invokespecial #6                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      24: putfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      27: aload_0
      28: aload_0
      29: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      32: invokevirtual #8                  // Method java/util/concurrent/locks/ReentrantLock.newCondition:()Ljava/util/concurrent/locks/Condition;
      35: putfield      #9                  // Field qc:Ljava/util/concurrent/locks/Condition;
      38: aload_0
      39: new           #10                 // class org/jboss/threads/EnhancedQueueExecutor$TreeSetQueue
      42: dup
      43: invokespecial #11                 // Method org/jboss/threads/EnhancedQueueExecutor$TreeSetQueue."<init>":()V
      46: putfield      #12                 // Field q:Lorg/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue;
      49: return

  void shutdown();
    Code:
       0: aload_0
       1: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: iconst_1
       9: putfield      #14                 // Field shutdownDetected:Z
      12: aload_0
      13: getfield      #9                  // Field qc:Ljava/util/concurrent/locks/Condition;
      16: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signal:()V
      21: aload_0
      22: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      25: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      28: goto          41
      31: astore_1
      32: aload_0
      33: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      36: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      39: aload_1
      40: athrow
      41: return
    Exception table:
       from    to  target type
           7    21    31   any

  public void run();
    Code:
       0: aload_0
       1: getfield      #12                 // Field q:Lorg/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue;
       4: astore_1
       5: aload_0
       6: getfield      #4                  // Field startMark:J
       9: lstore        4
      11: aload_0
      12: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      15: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      18: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
      21: lstore        6
      23: aload_0
      24: getfield      #14                 // Field shutdownDetected:Z
      27: ifeq          53
      30: aload_1
      31: invokeinterface #17,  1           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.toArray:()[Lorg/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture;
      36: astore_2
      37: aload_1
      38: invokeinterface #18,  1           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.clear:()V
      43: aload_0
      44: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      47: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      50: goto          180
      53: aload_1
      54: invokeinterface #19,  1           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.isEmpty:()Z
      59: ifeq          79
      62: aload_0
      63: getfield      #9                  // Field qc:Ljava/util/concurrent/locks/Condition;
      66: invokeinterface #20,  1           // InterfaceMethod java/util/concurrent/locks/Condition.await:()V
      71: goto          148
      74: astore        8
      76: goto          18
      79: aload_1
      80: invokeinterface #22,  1           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.first:()Lorg/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture;
      85: astore_3
      86: aload_3
      87: getfield      #23                 // Field org/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture.when:J
      90: lstore        8
      92: lconst_0
      93: lload         6
      95: lload         4
      97: lsub
      98: invokestatic  #24                 // Method java/lang/Math.max:(JJ)J
     101: lstore        10
     103: lload         8
     105: lload         10
     107: lcmp
     108: ifgt          121
     111: aload_1
     112: invokeinterface #25,  1           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.pollFirst:()Lorg/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture;
     117: pop
     118: goto          151
     121: lload         8
     123: lload         10
     125: lsub
     126: lstore        12
     128: aload_0
     129: getfield      #9                  // Field qc:Ljava/util/concurrent/locks/Condition;
     132: lload         12
     134: invokeinterface #26,  3           // InterfaceMethod java/util/concurrent/locks/Condition.awaitNanos:(J)J
     139: pop2
     140: goto          148
     143: astore        14
     145: goto          18
     148: goto          18
     151: aload_0
     152: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
     155: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     158: goto          173
     161: astore        15
     163: aload_0
     164: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
     167: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     170: aload         15
     172: athrow
     173: aload_3
     174: invokevirtual #27                 // Method org/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture.submit:()V
     177: goto          11
     180: aload_2
     181: arraylength
     182: ifle          223
     185: aload_2
     186: astore        6
     188: aload         6
     190: arraylength
     191: istore        7
     193: iconst_0
     194: istore        8
     196: iload         8
     198: iload         7
     200: if_icmpge     223
     203: aload         6
     205: iload         8
     207: aaload
     208: astore        9
     210: aload         9
     212: iconst_1
     213: invokevirtual #28                 // Method org/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture.cancel:(Z)Z
     216: pop
     217: iinc          8, 1
     220: goto          196
     223: return
    Exception table:
       from    to  target type
          62    71    74   Class java/lang/InterruptedException
         128   140   143   Class java/lang/InterruptedException
          18    43   161   any
          53   151   161   any
         161   163   161   any

  <T, F extends org.jboss.threads.EnhancedQueueExecutor$AbstractScheduledFuture<T>> F schedule(F);
    Code:
       0: aload_1
       1: getfield      #29                 // Field org/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture.wrappingTask:Lorg/jboss/threads/EnhancedQueueExecutor$Task;
       4: astore_2
       5: aload_1
       6: getfield      #23                 // Field org/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture.when:J
       9: aload_0
      10: invokevirtual #30                 // Method age:()J
      13: lcmp
      14: ifgt          23
      17: aload_1
      18: invokevirtual #27                 // Method org/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture.submit:()V
      21: aload_1
      22: areturn
      23: aload_0
      24: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      27: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      30: aload_0
      31: getfield      #14                 // Field shutdownDetected:Z
      34: ifeq          56
      37: aload_0
      38: getfield      #1                  // Field this$0:Lorg/jboss/threads/EnhancedQueueExecutor;
      41: aload_2
      42: invokevirtual #31                 // Method org/jboss/threads/EnhancedQueueExecutor.rejectShutdown:(Lorg/jboss/threads/EnhancedQueueExecutor$Task;)V
      45: aload_1
      46: astore_3
      47: aload_0
      48: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
      51: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      54: aload_3
      55: areturn
      56: aload_0
      57: getfield      #12                 // Field q:Lorg/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue;
      60: aload_1
      61: invokeinterface #32,  2           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.insertAndCheckForFirst:(Lorg/jboss/threads/EnhancedQueueExecutor$AbstractScheduledFuture;)Z
      66: istore_3
      67: goto          88
      70: astore        4
      72: aload_0
      73: aload_0
      74: getfield      #12                 // Field q:Lorg/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue;
      77: invokeinterface #34,  1           // InterfaceMethod org/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue.grow:()Lorg/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue;
      82: putfield      #12                 // Field q:Lorg/jboss/threads/EnhancedQueueExecutor$ScheduledFutureQueue;
      85: goto          56
      88: iload_3
      89: ifeq          101
      92: aload_0
      93: getfield      #9                  // Field qc:Ljava/util/concurrent/locks/Condition;
      96: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/locks/Condition.signal:()V
     101: aload_1
     102: astore        4
     104: aload_0
     105: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
     108: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     111: aload         4
     113: areturn
     114: astore        5
     116: aload_0
     117: getfield      #7                  // Field ql:Ljava/util/concurrent/locks/ReentrantLock;
     120: invokevirtual #16                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     123: aload         5
     125: athrow
    Exception table:
       from    to  target type
          56    67    70   Class org/jboss/threads/EnhancedQueueExecutor$QueueFullException
          30    47   114   any
          56   104   114   any
         114   116   114   any

  long age();
    Code:
       0: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
       3: aload_0
       4: getfield      #4                  // Field startMark:J
       7: lsub
       8: lreturn
}
