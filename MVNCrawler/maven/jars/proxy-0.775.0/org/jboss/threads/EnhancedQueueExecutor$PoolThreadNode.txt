Compiled from "EnhancedQueueExecutor.java"
final class org.jboss.threads.EnhancedQueueExecutor$PoolThreadNode extends org.jboss.threads.EnhancedQueueExecutor$PoolThreadNodeBase {
  private static final int STATE_NORMAL;

  private static final int STATE_PARKED;

  private static final int STATE_UNPARKED;

  private static final long taskOffset;

  private static final long parkedOffset;

  private final java.lang.Thread thread;

  private volatile java.lang.Runnable task;

  private volatile int parked;

  org.jboss.threads.EnhancedQueueExecutor$PoolThreadNode(java.lang.Thread);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/threads/EnhancedQueueExecutor$PoolThreadNodeBase."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field thread:Ljava/lang/Thread;
       9: aload_0
      10: getstatic     #3                  // Field org/jboss/threads/EnhancedQueueExecutor.WAITING:Ljava/lang/Runnable;
      13: putfield      #4                  // Field task:Ljava/lang/Runnable;
      16: return

  boolean compareAndSetTask(java.lang.Runnable, java.lang.Runnable);
    Code:
       0: aload_0
       1: getfield      #4                  // Field task:Ljava/lang/Runnable;
       4: aload_1
       5: if_acmpne     27
       8: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      11: aload_0
      12: getstatic     #6                  // Field taskOffset:J
      15: aload_1
      16: aload_2
      17: invokevirtual #7                  // Method sun/misc/Unsafe.compareAndSwapObject:(Ljava/lang/Object;JLjava/lang/Object;Ljava/lang/Object;)Z
      20: ifeq          27
      23: iconst_1
      24: goto          28
      27: iconst_0
      28: ireturn

  java.lang.Runnable getTask();
    Code:
       0: aload_0
       1: getfield      #4                  // Field task:Ljava/lang/Runnable;
       4: areturn

  org.jboss.threads.EnhancedQueueExecutor$PoolThreadNode getNext();
    Code:
       0: aload_0
       1: invokespecial #8                  // Method org/jboss/threads/EnhancedQueueExecutor$PoolThreadNodeBase.getNext:()Lorg/jboss/threads/EnhancedQueueExecutor$QNode;
       4: checkcast     #9                  // class org/jboss/threads/EnhancedQueueExecutor$PoolThreadNode
       7: areturn

  void park(org.jboss.threads.EnhancedQueueExecutor);
    Code:
       0: getstatic     #10                 // Field org/jboss/threads/EnhancedQueueExecutor.PARK_SPINS:I
       3: istore_2
       4: aload_0
       5: getfield      #11                 // Field parked:I
       8: iconst_2
       9: if_icmpne     28
      12: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      15: aload_0
      16: getstatic     #12                 // Field parkedOffset:J
      19: iconst_2
      20: iconst_0
      21: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      24: ifeq          28
      27: return
      28: iload_2
      29: ifle          75
      32: iload_2
      33: getstatic     #14                 // Field org/jboss/threads/EnhancedQueueExecutor.YIELD_FACTOR:I
      36: if_icmpge     45
      39: invokestatic  #15                 // Method java/lang/Thread.yield:()V
      42: goto          48
      45: invokestatic  #16                 // Method org/jboss/threads/JDKSpecific.onSpinWait:()V
      48: iinc          2, -1
      51: aload_0
      52: getfield      #11                 // Field parked:I
      55: iconst_2
      56: if_icmpne     28
      59: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      62: aload_0
      63: getstatic     #12                 // Field parkedOffset:J
      66: iconst_2
      67: iconst_0
      68: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      71: ifeq          28
      74: return
      75: aload_0
      76: getfield      #11                 // Field parked:I
      79: ifne          117
      82: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      85: aload_0
      86: getstatic     #12                 // Field parkedOffset:J
      89: iconst_0
      90: iconst_1
      91: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      94: ifeq          117
      97: aload_1
      98: invokestatic  #17                 // Method java/util/concurrent/locks/LockSupport.park:(Ljava/lang/Object;)V
     101: aload_0
     102: iconst_0
     103: putfield      #11                 // Field parked:I
     106: goto          117
     109: astore_3
     110: aload_0
     111: iconst_0
     112: putfield      #11                 // Field parked:I
     115: aload_3
     116: athrow
     117: return
    Exception table:
       from    to  target type
          97   101   109   any

  void park(org.jboss.threads.EnhancedQueueExecutor, long);
    Code:
       0: getstatic     #10                 // Field org/jboss/threads/EnhancedQueueExecutor.PARK_SPINS:I
       3: istore        6
       5: iload         6
       7: ifle          112
      10: invokestatic  #18                 // Method java/lang/System.nanoTime:()J
      13: lstore        7
      15: aload_0
      16: getfield      #11                 // Field parked:I
      19: iconst_2
      20: if_icmpne     39
      23: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      26: aload_0
      27: getstatic     #12                 // Field parkedOffset:J
      30: iconst_2
      31: iconst_0
      32: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      35: ifeq          39
      38: return
      39: iload         6
      41: ifle          91
      44: iload         6
      46: getstatic     #14                 // Field org/jboss/threads/EnhancedQueueExecutor.YIELD_FACTOR:I
      49: if_icmpge     58
      52: invokestatic  #15                 // Method java/lang/Thread.yield:()V
      55: goto          61
      58: invokestatic  #16                 // Method org/jboss/threads/JDKSpecific.onSpinWait:()V
      61: aload_0
      62: getfield      #11                 // Field parked:I
      65: iconst_2
      66: if_icmpne     85
      69: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      72: aload_0
      73: getstatic     #12                 // Field parkedOffset:J
      76: iconst_2
      77: iconst_0
      78: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      81: ifeq          85
      84: return
      85: iinc          6, -1
      88: goto          39
      91: lload_2
      92: invokestatic  #18                 // Method java/lang/System.nanoTime:()J
      95: lload         7
      97: lsub
      98: lsub
      99: lstore        4
     101: lload         4
     103: lconst_0
     104: lcmp
     105: ifge          109
     108: return
     109: goto          115
     112: lload_2
     113: lstore        4
     115: aload_0
     116: getfield      #11                 // Field parked:I
     119: ifne          161
     122: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
     125: aload_0
     126: getstatic     #12                 // Field parkedOffset:J
     129: iconst_0
     130: iconst_1
     131: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
     134: ifeq          161
     137: aload_1
     138: lload         4
     140: invokestatic  #19                 // Method java/util/concurrent/locks/LockSupport.parkNanos:(Ljava/lang/Object;J)V
     143: aload_0
     144: iconst_0
     145: putfield      #11                 // Field parked:I
     148: goto          161
     151: astore        9
     153: aload_0
     154: iconst_0
     155: putfield      #11                 // Field parked:I
     158: aload         9
     160: athrow
     161: return
    Exception table:
       from    to  target type
         137   143   151   any
         151   153   151   any

  void unpark();
    Code:
       0: aload_0
       1: getfield      #11                 // Field parked:I
       4: ifne          23
       7: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      10: aload_0
      11: getstatic     #12                 // Field parkedOffset:J
      14: iconst_0
      15: iconst_2
      16: invokevirtual #13                 // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      19: ifeq          23
      22: return
      23: aload_0
      24: getfield      #2                  // Field thread:Ljava/lang/Thread;
      27: invokestatic  #20                 // Method java/util/concurrent/locks/LockSupport.unpark:(Ljava/lang/Thread;)V
      30: return

  org.jboss.threads.EnhancedQueueExecutor$QNode getNext();
    Code:
       0: aload_0
       1: invokevirtual #21                 // Method getNext:()Lorg/jboss/threads/EnhancedQueueExecutor$PoolThreadNode;
       4: areturn

  static {};
    Code:
       0: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
       3: ldc           #9                  // class org/jboss/threads/EnhancedQueueExecutor$PoolThreadNode
       5: ldc           #22                 // String task
       7: invokevirtual #23                 // Method java/lang/Class.getDeclaredField:(Ljava/lang/String;)Ljava/lang/reflect/Field;
      10: invokevirtual #24                 // Method sun/misc/Unsafe.objectFieldOffset:(Ljava/lang/reflect/Field;)J
      13: putstatic     #6                  // Field taskOffset:J
      16: getstatic     #5                  // Field org/jboss/threads/JBossExecutors.unsafe:Lsun/misc/Unsafe;
      19: ldc           #9                  // class org/jboss/threads/EnhancedQueueExecutor$PoolThreadNode
      21: ldc           #25                 // String parked
      23: invokevirtual #23                 // Method java/lang/Class.getDeclaredField:(Ljava/lang/String;)Ljava/lang/reflect/Field;
      26: invokevirtual #24                 // Method sun/misc/Unsafe.objectFieldOffset:(Ljava/lang/reflect/Field;)J
      29: putstatic     #12                 // Field parkedOffset:J
      32: goto          48
      35: astore_0
      36: new           #27                 // class java/lang/NoSuchFieldError
      39: dup
      40: aload_0
      41: invokevirtual #28                 // Method java/lang/NoSuchFieldException.getMessage:()Ljava/lang/String;
      44: invokespecial #29                 // Method java/lang/NoSuchFieldError."<init>":(Ljava/lang/String;)V
      47: athrow
      48: return
    Exception table:
       from    to  target type
           0    32    35   Class java/lang/NoSuchFieldException
}
