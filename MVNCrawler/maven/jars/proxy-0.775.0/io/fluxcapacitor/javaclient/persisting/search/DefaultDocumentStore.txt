Compiled from "DefaultDocumentStore.java"
public class io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore implements io.fluxcapacitor.javaclient.persisting.search.DocumentStore {
  private static final org.slf4j.Logger log;

  private final io.fluxcapacitor.javaclient.persisting.search.client.SearchClient client;

  private final io.fluxcapacitor.javaclient.persisting.search.DocumentSerializer serializer;

  public java.util.concurrent.CompletableFuture<java.lang.Void> index(java.lang.Object, java.lang.Object, java.lang.Object, java.time.Instant, java.time.Instant, io.fluxcapacitor.common.Guarantee, boolean);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: aload_0
       5: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
       8: aload_1
       9: aload_2
      10: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      13: aload_3
      14: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      17: aload         4
      19: aload         5
      21: invokeinterface #17,  6           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.toDocument:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;Ljava/time/Instant;Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SerializedDocument;
      26: invokestatic  #23                 // InterfaceMethod java/util/List.of:(Ljava/lang/Object;)Ljava/util/List;
      29: aload         6
      31: iload         7
      33: invokeinterface #29,  4           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.index:(Ljava/util/List;Lio/fluxcapacitor/common/Guarantee;Z)Ljava/util/concurrent/CompletableFuture;
      38: areturn
      39: astore        8
      41: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      44: dup
      45: ldc           #39                 // String Failed to store a document %s to collection %s
      47: iconst_2
      48: anewarray     #12                 // class java/lang/Object
      51: dup
      52: iconst_0
      53: aload_2
      54: aastore
      55: dup
      56: iconst_1
      57: aload_3
      58: aastore
      59: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      62: aload         8
      64: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      67: athrow
    Exception table:
       from    to  target type
           0    38    39   Class java/lang/Exception

  public java.util.concurrent.CompletableFuture<java.lang.Void> index(java.util.Collection<?>, java.lang.Object, java.lang.String, java.lang.String, java.lang.String, io.fluxcapacitor.common.Guarantee, boolean);
    Code:
       0: aload_1
       1: invokeinterface #51,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
       6: aload_0
       7: aload_2
       8: invokedynamic #57,  0             // InvokeDynamic #0:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;Ljava/lang/Object;)Ljava/util/function/Function;
      13: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      18: invokedynamic #67,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      23: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      28: aload_3
      29: aload         4
      31: aload         5
      33: invokedynamic #70,  0             // InvokeDynamic #2:apply:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/util/function/Function;
      38: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      43: invokedynamic #73,  0             // InvokeDynamic #3:apply:()Ljava/util/function/Function;
      48: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      53: invokestatic  #74                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      56: invokeinterface #80,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      61: checkcast     #24                 // class java/util/List
      64: astore        8
      66: aload_0
      67: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
      70: aload         8
      72: aload         6
      74: iload         7
      76: invokeinterface #29,  4           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.index:(Ljava/util/List;Lio/fluxcapacitor/common/Guarantee;Z)Ljava/util/concurrent/CompletableFuture;
      81: areturn
      82: astore        9
      84: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      87: dup
      88: ldc           #84                 // String Could not store a list of documents for collection %s
      90: iconst_1
      91: anewarray     #12                 // class java/lang/Object
      94: dup
      95: iconst_0
      96: aload_2
      97: aastore
      98: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     101: aload         9
     103: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     106: athrow
    Exception table:
       from    to  target type
          66    81    82   Class java/lang/Exception

  public <T> java.util.concurrent.CompletableFuture<java.lang.Void> index(java.util.Collection<? extends T>, java.lang.Object, java.util.function.Function<? super T, ?>, java.util.function.Function<? super T, java.time.Instant>, java.util.function.Function<? super T, java.time.Instant>, io.fluxcapacitor.common.Guarantee, boolean);
    Code:
       0: aload_1
       1: invokeinterface #51,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
       6: aload_0
       7: aload_3
       8: aload_2
       9: aload         4
      11: aload         5
      13: invokedynamic #86,  0             // InvokeDynamic #4:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;Ljava/util/function/Function;Ljava/lang/Object;Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/function/Function;
      18: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      23: invokestatic  #74                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      26: invokeinterface #80,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      31: checkcast     #24                 // class java/util/List
      34: astore        8
      36: aload_0
      37: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
      40: aload         8
      42: aload         6
      44: iload         7
      46: invokeinterface #29,  4           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.index:(Ljava/util/List;Lio/fluxcapacitor/common/Guarantee;Z)Ljava/util/concurrent/CompletableFuture;
      51: areturn
      52: astore        9
      54: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      57: dup
      58: ldc           #84                 // String Could not store a list of documents for collection %s
      60: iconst_1
      61: anewarray     #12                 // class java/lang/Object
      64: dup
      65: iconst_0
      66: aload_2
      67: aastore
      68: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      71: aload         9
      73: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      76: athrow
    Exception table:
       from    to  target type
          36    51    52   Class java/lang/Exception

  public java.util.concurrent.CompletableFuture<java.lang.Void> bulkUpdate(java.util.Collection<io.fluxcapacitor.common.api.search.BulkUpdate>, io.fluxcapacitor.common.Guarantee);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: aload_1
       5: invokeinterface #51,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
      10: aload_0
      11: invokedynamic #89,  0             // InvokeDynamic #5:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;)Ljava/util/function/Function;
      16: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      21: invokedynamic #92,  0             // InvokeDynamic #6:test:()Ljava/util/function/Predicate;
      26: invokeinterface #96,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      31: invokedynamic #100,  0            // InvokeDynamic #7:apply:()Ljava/util/function/Function;
      36: invokestatic  #101                // InterfaceMethod java/util/function/UnaryOperator.identity:()Ljava/util/function/UnaryOperator;
      39: invokedynamic #107,  0            // InvokeDynamic #8:apply:()Ljava/util/function/BinaryOperator;
      44: invokestatic  #110                // Method java/util/stream/Collectors.toMap:(Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/BinaryOperator;)Ljava/util/stream/Collector;
      47: invokeinterface #80,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      52: checkcast     #114                // class java/util/Map
      55: invokeinterface #116,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      60: aload_2
      61: invokeinterface #120,  3          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.bulkUpdate:(Ljava/util/Collection;Lio/fluxcapacitor/common/Guarantee;)Ljava/util/concurrent/CompletableFuture;
      66: areturn
      67: astore_3
      68: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      71: dup
      72: ldc           #124                // String Could not apply batch of search actions
      74: aload_3
      75: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      78: athrow
    Exception table:
       from    to  target type
           0    66    67   Class java/lang/Exception

  public io.fluxcapacitor.common.api.search.DocumentUpdate serializeAction(io.fluxcapacitor.common.api.search.BulkUpdate);
    Code:
       0: invokestatic  #126                // Method io/fluxcapacitor/common/api/search/DocumentUpdate.builder:()Lio/fluxcapacitor/common/api/search/DocumentUpdate$Builder;
       3: aload_1
       4: invokeinterface #132,  1          // InterfaceMethod io/fluxcapacitor/common/api/search/BulkUpdate.getCollection:()Ljava/lang/String;
       9: invokevirtual #137                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.collection:(Ljava/lang/String;)Lio/fluxcapacitor/common/api/search/DocumentUpdate$Builder;
      12: aload_1
      13: invokeinterface #143,  1          // InterfaceMethod io/fluxcapacitor/common/api/search/BulkUpdate.getId:()Ljava/lang/String;
      18: invokevirtual #146                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.id:(Ljava/lang/String;)Lio/fluxcapacitor/common/api/search/DocumentUpdate$Builder;
      21: aload_1
      22: invokeinterface #149,  1          // InterfaceMethod io/fluxcapacitor/common/api/search/BulkUpdate.getType:()Lio/fluxcapacitor/common/api/search/BulkUpdate$Type;
      27: invokevirtual #153                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.type:(Lio/fluxcapacitor/common/api/search/BulkUpdate$Type;)Lio/fluxcapacitor/common/api/search/DocumentUpdate$Builder;
      30: astore_2
      31: aload_1
      32: instanceof    #157                // class io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument
      35: ifeq          80
      38: aload_1
      39: checkcast     #157                // class io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument
      42: astore_3
      43: aload_2
      44: aload_0
      45: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
      48: aload_3
      49: invokevirtual #159                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument.getObject:()Ljava/lang/Object;
      52: aload_3
      53: invokevirtual #163                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument.getId:()Ljava/lang/String;
      56: aload_3
      57: invokevirtual #164                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument.getCollection:()Ljava/lang/String;
      60: aload_3
      61: invokevirtual #165                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument.getTimestamp:()Ljava/time/Instant;
      64: aload_3
      65: invokevirtual #169                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocument.getEnd:()Ljava/time/Instant;
      68: invokeinterface #17,  6           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.toDocument:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;Ljava/time/Instant;Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SerializedDocument;
      73: invokevirtual #172                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.object:(Lio/fluxcapacitor/common/api/search/SerializedDocument;)Lio/fluxcapacitor/common/api/search/DocumentUpdate$Builder;
      76: invokevirtual #176                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.build:()Lio/fluxcapacitor/common/api/search/DocumentUpdate;
      79: areturn
      80: aload_1
      81: instanceof    #180                // class io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists
      84: ifeq          135
      87: aload_1
      88: checkcast     #180                // class io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists
      91: astore        4
      93: aload_2
      94: aload_0
      95: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
      98: aload         4
     100: invokevirtual #182                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists.getObject:()Ljava/lang/Object;
     103: aload         4
     105: invokevirtual #183                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists.getId:()Ljava/lang/String;
     108: aload         4
     110: invokevirtual #184                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists.getCollection:()Ljava/lang/String;
     113: aload         4
     115: invokevirtual #185                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists.getTimestamp:()Ljava/time/Instant;
     118: aload         4
     120: invokevirtual #186                // Method io/fluxcapacitor/common/api/search/bulkupdate/IndexDocumentIfNotExists.getEnd:()Ljava/time/Instant;
     123: invokeinterface #17,  6           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.toDocument:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;Ljava/time/Instant;Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SerializedDocument;
     128: invokevirtual #172                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.object:(Lio/fluxcapacitor/common/api/search/SerializedDocument;)Lio/fluxcapacitor/common/api/search/DocumentUpdate$Builder;
     131: invokevirtual #176                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.build:()Lio/fluxcapacitor/common/api/search/DocumentUpdate;
     134: areturn
     135: aload_2
     136: invokevirtual #176                // Method io/fluxcapacitor/common/api/search/DocumentUpdate$Builder.build:()Lio/fluxcapacitor/common/api/search/DocumentUpdate;
     139: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search search(io.fluxcapacitor.common.api.search.SearchQuery$Builder);
    Code:
       0: new           #187                // class io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore$DefaultSearch
       3: dup
       4: aload_0
       5: aload_1
       6: invokespecial #189                // Method io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore$DefaultSearch."<init>":(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;)V
       9: areturn

  public <T> java.util.Optional<T> fetchDocument(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: new           #192                // class io/fluxcapacitor/common/api/search/GetDocument
       7: dup
       8: aload_1
       9: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      12: aload_2
      13: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      16: invokespecial #194                // Method io/fluxcapacitor/common/api/search/GetDocument."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      19: invokeinterface #197,  2          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.fetch:(Lio/fluxcapacitor/common/api/search/GetDocument;)Ljava/util/Optional;
      24: aload_0
      25: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
      28: dup
      29: invokestatic  #201                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      32: pop
      33: invokedynamic #207,  0            // InvokeDynamic #9:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;)Ljava/util/function/Function;
      38: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      41: areturn
      42: astore_3
      43: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      46: dup
      47: ldc           #215                // String Could not get document %s from collection %s
      49: iconst_2
      50: anewarray     #12                 // class java/lang/Object
      53: dup
      54: iconst_0
      55: aload_1
      56: aastore
      57: dup
      58: iconst_1
      59: aload_2
      60: aastore
      61: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      64: aload_3
      65: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      68: athrow
    Exception table:
       from    to  target type
           0    41    42   Class java/lang/Exception

  public <T> java.util.Optional<T> fetchDocument(java.lang.Object, java.lang.Object, java.lang.Class<T>);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: new           #192                // class io/fluxcapacitor/common/api/search/GetDocument
       7: dup
       8: aload_1
       9: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      12: aload_2
      13: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      16: invokespecial #194                // Method io/fluxcapacitor/common/api/search/GetDocument."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      19: invokeinterface #197,  2          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.fetch:(Lio/fluxcapacitor/common/api/search/GetDocument;)Ljava/util/Optional;
      24: aload_0
      25: aload_3
      26: invokedynamic #217,  0            // InvokeDynamic #10:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;Ljava/lang/Class;)Ljava/util/function/Function;
      31: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      34: areturn
      35: astore        4
      37: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      40: dup
      41: ldc           #215                // String Could not get document %s from collection %s
      43: iconst_2
      44: anewarray     #12                 // class java/lang/Object
      47: dup
      48: iconst_0
      49: aload_1
      50: aastore
      51: dup
      52: iconst_1
      53: aload_2
      54: aastore
      55: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      58: aload         4
      60: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      63: athrow
    Exception table:
       from    to  target type
           0    34    35   Class java/lang/Exception

  public java.util.concurrent.CompletableFuture<java.lang.Void> deleteDocument(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: aload_1
       5: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
       8: aload_2
       9: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      12: getstatic     #220                // Field io/fluxcapacitor/common/Guarantee.STORED:Lio/fluxcapacitor/common/Guarantee;
      15: invokeinterface #226,  4          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.delete:(Ljava/lang/String;Ljava/lang/String;Lio/fluxcapacitor/common/Guarantee;)Ljava/util/concurrent/CompletableFuture;
      20: areturn
      21: astore_3
      22: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      25: dup
      26: ldc           #230                // String Could not delete document %s from collection %s
      28: iconst_2
      29: anewarray     #12                 // class java/lang/Object
      32: dup
      33: iconst_0
      34: aload_1
      35: aastore
      36: dup
      37: iconst_1
      38: aload_2
      39: aastore
      40: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      43: aload_3
      44: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      47: athrow
    Exception table:
       from    to  target type
           0    20    21   Class java/lang/Exception

  public java.util.concurrent.CompletableFuture<java.lang.Void> deleteCollection(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: aload_1
       5: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
       8: invokeinterface #232,  2          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.deleteCollection:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      13: areturn
      14: astore_2
      15: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      18: dup
      19: ldc           #236                // String Could not delete collection %s
      21: iconst_1
      22: anewarray     #12                 // class java/lang/Object
      25: dup
      26: iconst_0
      27: aload_1
      28: aastore
      29: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      32: aload_2
      33: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      36: athrow
    Exception table:
       from    to  target type
           0    13    14   Class java/lang/Exception

  public java.util.concurrent.CompletableFuture<java.lang.Void> createAuditTrail(java.lang.Object, java.time.Duration);
    Code:
       0: aload_0
       1: getfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       4: new           #238                // class io/fluxcapacitor/common/api/search/CreateAuditTrail
       7: dup
       8: aload_1
       9: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      12: aload_2
      13: invokestatic  #240                // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      16: invokedynamic #244,  0            // InvokeDynamic #11:apply:()Ljava/util/function/Function;
      21: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      24: aconst_null
      25: invokevirtual #245                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      28: checkcast     #248                // class java/lang/Long
      31: getstatic     #220                // Field io/fluxcapacitor/common/Guarantee.STORED:Lio/fluxcapacitor/common/Guarantee;
      34: invokespecial #250                // Method io/fluxcapacitor/common/api/search/CreateAuditTrail."<init>":(Ljava/lang/String;Ljava/lang/Long;Lio/fluxcapacitor/common/Guarantee;)V
      37: invokeinterface #253,  2          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.createAuditTrail:(Lio/fluxcapacitor/common/api/search/CreateAuditTrail;)Ljava/util/concurrent/CompletableFuture;
      42: areturn
      43: astore_3
      44: new           #37                 // class io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException
      47: dup
      48: ldc_w         #257                // String Could not create audit trail %s
      51: iconst_1
      52: anewarray     #12                 // class java/lang/Object
      55: dup
      56: iconst_0
      57: aload_1
      58: aastore
      59: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      62: aload_3
      63: invokespecial #47                 // Method io/fluxcapacitor/javaclient/persisting/search/DocumentStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      66: athrow
    Exception table:
       from    to  target type
           0    42    43   Class java/lang/Exception

  public io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore(io.fluxcapacitor.javaclient.persisting.search.client.SearchClient, io.fluxcapacitor.javaclient.persisting.search.DocumentSerializer);
    Code:
       0: aload_0
       1: invokespecial #259                // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #1                  // Field client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       9: aload_0
      10: aload_2
      11: putfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
      14: return

  public io.fluxcapacitor.javaclient.persisting.search.DocumentSerializer getSerializer();
    Code:
       0: aload_0
       1: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
       4: areturn

  private java.lang.Object lambda$fetchDocument$9(java.lang.Class, io.fluxcapacitor.common.api.search.SerializedDocument);
    Code:
       0: aload_0
       1: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
       4: aload_2
       5: aload_1
       6: invokeinterface #262,  3          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.fromDocument:(Lio/fluxcapacitor/common/api/search/SerializedDocument;Ljava/lang/Class;)Ljava/lang/Object;
      11: areturn

  private static io.fluxcapacitor.common.api.search.DocumentUpdate lambda$bulkUpdate$8(io.fluxcapacitor.common.api.search.DocumentUpdate, io.fluxcapacitor.common.api.search.DocumentUpdate);
    Code:
       0: aload_1
       1: areturn

  private static java.lang.String lambda$bulkUpdate$7(io.fluxcapacitor.common.api.search.DocumentUpdate);
    Code:
       0: ldc_w         #266                // String %s_%s
       3: iconst_2
       4: anewarray     #12                 // class java/lang/Object
       7: dup
       8: iconst_0
       9: aload_0
      10: invokevirtual #268                // Method io/fluxcapacitor/common/api/search/DocumentUpdate.getCollection:()Ljava/lang/String;
      13: aastore
      14: dup
      15: iconst_1
      16: aload_0
      17: invokevirtual #269                // Method io/fluxcapacitor/common/api/search/DocumentUpdate.getId:()Ljava/lang/String;
      20: aastore
      21: invokestatic  #41                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      24: areturn

  private io.fluxcapacitor.common.api.search.SerializedDocument lambda$index$6(java.util.function.Function, java.lang.Object, java.util.function.Function, java.util.function.Function, java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
       4: aload         5
       6: aload_1
       7: aload         5
       9: invokeinterface #270,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      14: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      17: aload_2
      18: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      21: aload_3
      22: aload         5
      24: invokeinterface #270,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      29: checkcast     #274                // class java/time/Instant
      32: aload         4
      34: aload         5
      36: invokeinterface #270,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      41: checkcast     #274                // class java/time/Instant
      44: invokeinterface #17,  6           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.toDocument:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;Ljava/time/Instant;Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SerializedDocument;
      49: areturn

  private static io.fluxcapacitor.common.search.Document lambda$index$5(java.lang.String, java.lang.String, java.lang.String, io.fluxcapacitor.common.search.Document);
    Code:
       0: aload_3
       1: invokevirtual #276                // Method io/fluxcapacitor/common/search/Document.toBuilder:()Lio/fluxcapacitor/common/search/Document$DocumentBuilder;
       4: astore        4
       6: aload_0
       7: ifnull        49
      10: aload         4
      12: aload_3
      13: aload_0
      14: invokevirtual #282                // Method io/fluxcapacitor/common/search/Document.getEntryAtPath:(Ljava/lang/String;)Ljava/util/Optional;
      17: invokedynamic #286,  0            // InvokeDynamic #12:test:()Ljava/util/function/Predicate;
      22: invokevirtual #287                // Method java/util/Optional.filter:(Ljava/util/function/Predicate;)Ljava/util/Optional;
      25: invokedynamic #290,  0            // InvokeDynamic #13:apply:()Ljava/util/function/Function;
      30: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      33: aload_3
      34: invokedynamic #291,  0            // InvokeDynamic #14:get:(Lio/fluxcapacitor/common/search/Document;)Ljava/util/function/Supplier;
      39: invokevirtual #295                // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      42: checkcast     #42                 // class java/lang/String
      45: invokevirtual #299                // Method io/fluxcapacitor/common/search/Document$DocumentBuilder.id:(Ljava/lang/String;)Lio/fluxcapacitor/common/search/Document$DocumentBuilder;
      48: pop
      49: aload_1
      50: ifnull        95
      53: aload         4
      55: aload_3
      56: aload_1
      57: invokevirtual #282                // Method io/fluxcapacitor/common/search/Document.getEntryAtPath:(Ljava/lang/String;)Ljava/util/Optional;
      60: invokedynamic #304,  0            // InvokeDynamic #15:test:()Ljava/util/function/Predicate;
      65: invokevirtual #287                // Method java/util/Optional.filter:(Ljava/util/function/Predicate;)Ljava/util/Optional;
      68: invokedynamic #290,  0            // InvokeDynamic #13:apply:()Ljava/util/function/Function;
      73: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      76: invokedynamic #305,  0            // InvokeDynamic #16:apply:()Ljava/util/function/Function;
      81: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      84: aconst_null
      85: invokevirtual #245                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      88: checkcast     #274                // class java/time/Instant
      91: invokevirtual #306                // Method io/fluxcapacitor/common/search/Document$DocumentBuilder.timestamp:(Ljava/time/Instant;)Lio/fluxcapacitor/common/search/Document$DocumentBuilder;
      94: pop
      95: aload_2
      96: ifnull        141
      99: aload         4
     101: aload_3
     102: aload_2
     103: invokevirtual #282                // Method io/fluxcapacitor/common/search/Document.getEntryAtPath:(Ljava/lang/String;)Ljava/util/Optional;
     106: invokedynamic #310,  0            // InvokeDynamic #17:test:()Ljava/util/function/Predicate;
     111: invokevirtual #287                // Method java/util/Optional.filter:(Ljava/util/function/Predicate;)Ljava/util/Optional;
     114: invokedynamic #290,  0            // InvokeDynamic #13:apply:()Ljava/util/function/Function;
     119: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
     122: invokedynamic #305,  0            // InvokeDynamic #16:apply:()Ljava/util/function/Function;
     127: invokevirtual #210                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
     130: aconst_null
     131: invokevirtual #245                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
     134: checkcast     #274                // class java/time/Instant
     137: invokevirtual #311                // Method io/fluxcapacitor/common/search/Document$DocumentBuilder.end:(Ljava/time/Instant;)Lio/fluxcapacitor/common/search/Document$DocumentBuilder;
     140: pop
     141: aload         4
     143: invokevirtual #314                // Method io/fluxcapacitor/common/search/Document$DocumentBuilder.build:()Lio/fluxcapacitor/common/search/Document;
     146: areturn

  private static boolean lambda$index$4(io.fluxcapacitor.common.search.Document$Entry);
    Code:
       0: aload_0
       1: invokevirtual #317                // Method io/fluxcapacitor/common/search/Document$Entry.getType:()Lio/fluxcapacitor/common/search/Document$EntryType;
       4: getstatic     #322                // Field io/fluxcapacitor/common/search/Document$EntryType.TEXT:Lio/fluxcapacitor/common/search/Document$EntryType;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  private static boolean lambda$index$3(io.fluxcapacitor.common.search.Document$Entry);
    Code:
       0: aload_0
       1: invokevirtual #317                // Method io/fluxcapacitor/common/search/Document$Entry.getType:()Lio/fluxcapacitor/common/search/Document$EntryType;
       4: getstatic     #322                // Field io/fluxcapacitor/common/search/Document$EntryType.TEXT:Lio/fluxcapacitor/common/search/Document$EntryType;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  private static java.lang.IllegalArgumentException lambda$index$2(io.fluxcapacitor.common.search.Document);
    Code:
       0: new           #328                // class java/lang/IllegalArgumentException
       3: dup
       4: aload_0
       5: invokedynamic #330,  0            // InvokeDynamic #18:makeConcatWithConstants:(Lio/fluxcapacitor/common/search/Document;)Ljava/lang/String;
      10: invokespecial #334                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: areturn

  private static boolean lambda$index$1(io.fluxcapacitor.common.search.Document$Entry);
    Code:
       0: aload_0
       1: invokevirtual #317                // Method io/fluxcapacitor/common/search/Document$Entry.getType:()Lio/fluxcapacitor/common/search/Document$EntryType;
       4: getstatic     #322                // Field io/fluxcapacitor/common/search/Document$EntryType.TEXT:Lio/fluxcapacitor/common/search/Document$EntryType;
       7: if_acmpeq     20
      10: aload_0
      11: invokevirtual #317                // Method io/fluxcapacitor/common/search/Document$Entry.getType:()Lio/fluxcapacitor/common/search/Document$EntryType;
      14: getstatic     #337                // Field io/fluxcapacitor/common/search/Document$EntryType.NUMERIC:Lio/fluxcapacitor/common/search/Document$EntryType;
      17: if_acmpne     24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ireturn

  private io.fluxcapacitor.common.api.search.SerializedDocument lambda$index$0(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #7                  // Field serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
       4: aload_2
       5: invokestatic  #340                // InterfaceMethod io/fluxcapacitor/javaclient/FluxCapacitor.currentIdentityProvider:()Lio/fluxcapacitor/javaclient/common/IdentityProvider;
       8: invokeinterface #346,  1          // InterfaceMethod io/fluxcapacitor/javaclient/common/IdentityProvider.nextTechnicalId:()Ljava/lang/String;
      13: aload_1
      14: invokevirtual #11                 // Method java/lang/Object.toString:()Ljava/lang/String;
      17: aconst_null
      18: aconst_null
      19: invokeinterface #17,  6           // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.toDocument:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/String;Ljava/time/Instant;Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SerializedDocument;
      24: areturn

  static {};
    Code:
       0: ldc           #2                  // class io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore
       2: invokestatic  #351                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #357                // Field log:Lorg/slf4j/Logger;
       8: return
}
