Compiled from "DefaultDocumentStore.java"
public class io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore$DefaultSearch implements io.fluxcapacitor.javaclient.persisting.search.Search {
  public static int defaultFetchSize;

  private final io.fluxcapacitor.common.api.search.SearchQuery$Builder queryBuilder;

  private final java.util.List<java.lang.String> sorting;

  private final java.util.List<java.lang.String> pathFilters;

  private volatile int skip;

  final io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore this$0;

  protected io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore$DefaultSearch(io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #1                  // Method io/fluxcapacitor/common/api/search/SearchQuery.builder:()Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
       5: invokespecial #7                  // Method "<init>":(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;)V
       8: return

  public io.fluxcapacitor.javaclient.persisting.search.Search inPeriod(java.time.Instant, java.time.Instant, boolean);
    Code:
       0: aload_1
       1: ifnull        13
       4: aload_0
       5: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
       8: aload_1
       9: invokevirtual #17                 // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.since:(Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      12: pop
      13: aload_2
      14: ifnull        26
      17: aload_0
      18: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      21: aload_2
      22: invokevirtual #23                 // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.before:(Ljava/time/Instant;)Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      25: pop
      26: aload_0
      27: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      30: iload_3
      31: invokevirtual #26                 // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.requireTimestamp:(Z)Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      34: pop
      35: aload_0
      36: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search constraint(io.fluxcapacitor.common.api.search.Constraint...);
    Code:
       0: aload_1
       1: arraylength
       2: lookupswitch  { // 2
                     0: 28
                     1: 31
               default: 45
          }
      28: goto          57
      31: aload_0
      32: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      35: aload_1
      36: iconst_0
      37: aaload
      38: invokevirtual #30                 // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.constraint:(Lio/fluxcapacitor/common/api/search/Constraint;)Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      41: pop
      42: goto          57
      45: aload_0
      46: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      49: aload_1
      50: invokestatic  #34                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      53: invokevirtual #40                 // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.constraints:(Ljava/util/Collection;)Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      56: pop
      57: aload_0
      58: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search sortByTimestamp(boolean);
    Code:
       0: aload_0
       1: getfield      #44                 // Field sorting:Ljava/util/List;
       4: iload_1
       5: ifeq          13
       8: ldc           #48                 // String -
      10: goto          15
      13: ldc           #50                 // String timestamp
      15: invokeinterface #52,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      20: pop
      21: aload_0
      22: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search sortByScore();
    Code:
       0: aload_0
       1: getfield      #44                 // Field sorting:Ljava/util/List;
       4: ldc           #58                 // String -score
       6: invokeinterface #52,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      11: pop
      12: aload_0
      13: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search sortBy(java.lang.String, boolean);
    Code:
       0: aload_0
       1: getfield      #44                 // Field sorting:Ljava/util/List;
       4: iload_2
       5: ifeq          13
       8: ldc           #48                 // String -
      10: goto          15
      13: ldc           #60                 // String
      15: aload_1
      16: invokedynamic #62,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      21: invokeinterface #52,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      26: pop
      27: aload_0
      28: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search exclude(java.lang.String...);
    Code:
       0: aload_0
       1: getfield      #66                 // Field pathFilters:Ljava/util/List;
       4: aload_1
       5: invokestatic  #69                 // Method java/util/Arrays.stream:([Ljava/lang/Object;)Ljava/util/stream/Stream;
       8: invokedynamic #73,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      13: invokeinterface #77,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      18: invokeinterface #83,  1           // InterfaceMethod java/util/stream/Stream.toList:()Ljava/util/List;
      23: invokeinterface #87,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      28: pop
      29: aload_0
      30: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search includeOnly(java.lang.String...);
    Code:
       0: aload_0
       1: getfield      #66                 // Field pathFilters:Ljava/util/List;
       4: aload_1
       5: invokestatic  #34                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
       8: invokeinterface #87,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      13: pop
      14: aload_0
      15: areturn

  public io.fluxcapacitor.javaclient.persisting.search.Search skip(java.lang.Integer);
    Code:
       0: aload_1
       1: ifnull        12
       4: aload_0
       5: aload_1
       6: invokevirtual #91                 // Method java/lang/Integer.intValue:()I
       9: putfield      #97                 // Field skip:I
      12: aload_0
      13: areturn

  public <T> java.util.stream.Stream<io.fluxcapacitor.javaclient.persisting.search.SearchHit<T>> streamHits();
    Code:
       0: aload_0
       1: aconst_null
       2: aconst_null
       3: invokevirtual #101                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;)Ljava/util/stream/Stream;
       6: areturn

  public <T> java.util.stream.Stream<io.fluxcapacitor.javaclient.persisting.search.SearchHit<T>> streamHits(int);
    Code:
       0: aload_0
       1: aconst_null
       2: aconst_null
       3: iload_1
       4: invokevirtual #105                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;I)Ljava/util/stream/Stream;
       7: areturn

  public <T> java.util.stream.Stream<io.fluxcapacitor.javaclient.persisting.search.SearchHit<T>> streamHits(java.lang.Class<T>);
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: invokevirtual #101                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;)Ljava/util/stream/Stream;
       6: areturn

  public <T> java.util.stream.Stream<io.fluxcapacitor.javaclient.persisting.search.SearchHit<T>> streamHits(java.lang.Class<T>, int);
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: iload_2
       4: invokevirtual #105                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;I)Ljava/util/stream/Stream;
       7: areturn

  public <T> java.util.List<T> fetch(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokestatic  #108                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       5: aconst_null
       6: invokevirtual #101                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;)Ljava/util/stream/Stream;
       9: invokedynamic #112,  0            // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      14: invokeinterface #77,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      19: invokestatic  #113                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      22: invokeinterface #118,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      27: checkcast     #53                 // class java/util/List
      30: areturn

  public <T> java.util.List<T> fetch(int, java.lang.Class<T>);
    Code:
       0: aload_0
       1: iload_1
       2: invokestatic  #108                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       5: aload_2
       6: invokevirtual #101                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;)Ljava/util/stream/Stream;
       9: invokedynamic #112,  0            // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      14: invokeinterface #77,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      19: invokestatic  #113                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      22: invokeinterface #118,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      27: checkcast     #53                 // class java/util/List
      30: areturn

  protected <T> java.util.stream.Stream<io.fluxcapacitor.javaclient.persisting.search.SearchHit<T>> fetchHitStream(java.lang.Integer, java.lang.Class<T>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_1
       4: ifnonnull     13
       7: getstatic     #122                // Field defaultFetchSize:I
      10: goto          23
      13: aload_1
      14: invokevirtual #91                 // Method java/lang/Integer.intValue:()I
      17: getstatic     #122                // Field defaultFetchSize:I
      20: invokestatic  #125                // Method java/lang/Math.min:(II)I
      23: invokevirtual #105                // Method fetchHitStream:(Ljava/lang/Integer;Ljava/lang/Class;I)Ljava/util/stream/Stream;
      26: areturn

  protected <T> java.util.stream.Stream<io.fluxcapacitor.javaclient.persisting.search.SearchHit<T>> fetchHitStream(java.lang.Integer, java.lang.Class<T>, int);
    Code:
       0: aload_2
       1: ifnonnull     24
       4: aload_0
       5: getfield      #131                // Field this$0:Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;
       8: getfield      #135                // Field io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore.serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
      11: dup
      12: invokestatic  #141                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      15: pop
      16: invokedynamic #147,  0            // InvokeDynamic #3:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;)Ljava/util/function/Function;
      21: goto          31
      24: aload_0
      25: aload_2
      26: invokedynamic #150,  0            // InvokeDynamic #4:apply:(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore$DefaultSearch;Ljava/lang/Class;)Ljava/util/function/Function;
      31: astore        4
      33: aload_0
      34: getfield      #131                // Field this$0:Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;
      37: getfield      #153                // Field io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore.client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
      40: invokestatic  #157                // Method io/fluxcapacitor/common/api/search/SearchDocuments.builder:()Lio/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder;
      43: aload_0
      44: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      47: invokevirtual #162                // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.build:()Lio/fluxcapacitor/common/api/search/SearchQuery;
      50: invokevirtual #166                // Method io/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder.query:(Lio/fluxcapacitor/common/api/search/SearchQuery;)Lio/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder;
      53: aload_1
      54: invokevirtual #172                // Method io/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder.maxSize:(Ljava/lang/Integer;)Lio/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder;
      57: aload_0
      58: getfield      #44                 // Field sorting:Ljava/util/List;
      61: invokevirtual #176                // Method io/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder.sorting:(Ljava/util/List;)Lio/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder;
      64: aload_0
      65: getfield      #66                 // Field pathFilters:Ljava/util/List;
      68: invokevirtual #179                // Method io/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder.pathFilters:(Ljava/util/List;)Lio/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder;
      71: aload_0
      72: getfield      #97                 // Field skip:I
      75: invokevirtual #181                // Method io/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder.skip:(I)Lio/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder;
      78: invokevirtual #184                // Method io/fluxcapacitor/common/api/search/SearchDocuments$SearchDocumentsBuilder.build:()Lio/fluxcapacitor/common/api/search/SearchDocuments;
      81: iload_3
      82: invokeinterface #187,  3          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.search:(Lio/fluxcapacitor/common/api/search/SearchDocuments;I)Ljava/util/stream/Stream;
      87: aload         4
      89: invokedynamic #193,  0            // InvokeDynamic #5:apply:(Ljava/util/function/Function;)Ljava/util/function/Function;
      94: invokeinterface #77,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      99: areturn

  public io.fluxcapacitor.common.api.search.SearchHistogram fetchHistogram(int, int);
    Code:
       0: aload_0
       1: getfield      #131                // Field this$0:Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;
       4: getfield      #153                // Field io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore.client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       7: new           #196                // class io/fluxcapacitor/common/api/search/GetSearchHistogram
      10: dup
      11: aload_0
      12: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      15: invokevirtual #162                // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.build:()Lio/fluxcapacitor/common/api/search/SearchQuery;
      18: iload_1
      19: iload_2
      20: invokespecial #198                // Method io/fluxcapacitor/common/api/search/GetSearchHistogram."<init>":(Lio/fluxcapacitor/common/api/search/SearchQuery;II)V
      23: invokeinterface #201,  2          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.fetchHistogram:(Lio/fluxcapacitor/common/api/search/GetSearchHistogram;)Lio/fluxcapacitor/common/api/search/SearchHistogram;
      28: areturn

  public io.fluxcapacitor.javaclient.persisting.search.GroupSearch groupBy(java.lang.String...);
    Code:
       0: new           #205                // class io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore$DefaultSearch$DefaultGroupSearch
       3: dup
       4: aload_0
       5: aload_1
       6: invokestatic  #34                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
       9: invokespecial #207                // Method io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore$DefaultSearch$DefaultGroupSearch."<init>":(Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore$DefaultSearch;Ljava/util/List;)V
      12: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Void> delete();
    Code:
       0: aload_0
       1: getfield      #131                // Field this$0:Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;
       4: getfield      #153                // Field io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore.client:Lio/fluxcapacitor/javaclient/persisting/search/client/SearchClient;
       7: aload_0
       8: getfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      11: invokevirtual #162                // Method io/fluxcapacitor/common/api/search/SearchQuery$Builder.build:()Lio/fluxcapacitor/common/api/search/SearchQuery;
      14: getstatic     #210                // Field io/fluxcapacitor/common/Guarantee.STORED:Lio/fluxcapacitor/common/Guarantee;
      17: invokeinterface #216,  3          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/client/SearchClient.delete:(Lio/fluxcapacitor/common/api/search/SearchQuery;Lio/fluxcapacitor/common/Guarantee;)Ljava/util/concurrent/CompletableFuture;
      22: areturn

  public io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore$DefaultSearch(io.fluxcapacitor.javaclient.persisting.search.DefaultDocumentStore, io.fluxcapacitor.common.api.search.SearchQuery$Builder);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #131                // Field this$0:Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;
       5: aload_0
       6: invokespecial #220                // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #225                // class java/util/ArrayList
      13: dup
      14: invokespecial #227                // Method java/util/ArrayList."<init>":()V
      17: putfield      #44                 // Field sorting:Ljava/util/List;
      20: aload_0
      21: new           #225                // class java/util/ArrayList
      24: dup
      25: invokespecial #227                // Method java/util/ArrayList."<init>":()V
      28: putfield      #66                 // Field pathFilters:Ljava/util/List;
      31: aload_0
      32: aload_2
      33: putfield      #13                 // Field queryBuilder:Lio/fluxcapacitor/common/api/search/SearchQuery$Builder;
      36: return

  private static io.fluxcapacitor.javaclient.persisting.search.SearchHit lambda$fetchHitStream$2(java.util.function.Function, io.fluxcapacitor.javaclient.persisting.search.SearchHit);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #228                // Method io/fluxcapacitor/javaclient/persisting/search/SearchHit.map:(Ljava/util/function/Function;)Lio/fluxcapacitor/javaclient/persisting/search/SearchHit;
       5: areturn

  private java.lang.Object lambda$fetchHitStream$1(java.lang.Class, io.fluxcapacitor.common.api.search.SerializedDocument);
    Code:
       0: aload_0
       1: getfield      #131                // Field this$0:Lio/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore;
       4: getfield      #135                // Field io/fluxcapacitor/javaclient/persisting/search/DefaultDocumentStore.serializer:Lio/fluxcapacitor/javaclient/persisting/search/DocumentSerializer;
       7: aload_2
       8: aload_1
       9: invokeinterface #233,  3          // InterfaceMethod io/fluxcapacitor/javaclient/persisting/search/DocumentSerializer.fromDocument:(Lio/fluxcapacitor/common/api/search/SerializedDocument;Ljava/lang/Class;)Ljava/lang/Object;
      14: areturn

  private static java.lang.String lambda$exclude$0(java.lang.String);
    Code:
       0: aload_0
       1: invokedynamic #239,  0            // InvokeDynamic #6:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
       6: areturn

  static {};
    Code:
       0: sipush        10000
       3: putstatic     #122                // Field defaultFetchSize:I
       6: return
}
