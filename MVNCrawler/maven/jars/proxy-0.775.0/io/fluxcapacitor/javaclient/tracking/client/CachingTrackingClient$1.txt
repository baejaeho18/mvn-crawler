Compiled from "CachingTrackingClient.java"
class io.fluxcapacitor.javaclient.tracking.client.CachingTrackingClient$1 implements java.lang.Runnable {
  final io.fluxcapacitor.javaclient.tracking.ConsumerConfiguration val$config;

  final java.util.concurrent.atomic.AtomicLong val$atomicIndex;

  final io.fluxcapacitor.common.api.tracking.ClaimSegmentResult val$claimResult;

  final java.util.concurrent.CompletableFuture val$future;

  final java.lang.String val$trackerId;

  final java.util.concurrent.ScheduledFuture val$timeoutSchedule;

  final io.fluxcapacitor.javaclient.tracking.client.CachingTrackingClient this$0;

  io.fluxcapacitor.javaclient.tracking.client.CachingTrackingClient$1();
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/fluxcapacitor/javaclient/tracking/client/CachingTrackingClient;
       5: aload_0
       6: aload_2
       7: putfield      #7                  // Field val$config:Lio/fluxcapacitor/javaclient/tracking/ConsumerConfiguration;
      10: aload_0
      11: aload_3
      12: putfield      #11                 // Field val$atomicIndex:Ljava/util/concurrent/atomic/AtomicLong;
      15: aload_0
      16: aload         4
      18: putfield      #15                 // Field val$claimResult:Lio/fluxcapacitor/common/api/tracking/ClaimSegmentResult;
      21: aload_0
      22: aload         5
      24: putfield      #19                 // Field val$future:Ljava/util/concurrent/CompletableFuture;
      27: aload_0
      28: aload         6
      30: putfield      #23                 // Field val$trackerId:Ljava/lang/String;
      33: aload_0
      34: aload         7
      36: putfield      #27                 // Field val$timeoutSchedule:Ljava/util/concurrent/ScheduledFuture;
      39: aload_0
      40: invokespecial #31                 // Method java/lang/Object."<init>":()V
      43: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lio/fluxcapacitor/javaclient/tracking/client/CachingTrackingClient;
       4: aload_0
       5: getfield      #7                  // Field val$config:Lio/fluxcapacitor/javaclient/tracking/ConsumerConfiguration;
       8: aload_0
       9: getfield      #11                 // Field val$atomicIndex:Ljava/util/concurrent/atomic/AtomicLong;
      12: invokevirtual #37                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
      15: aload_0
      16: getfield      #15                 // Field val$claimResult:Lio/fluxcapacitor/common/api/tracking/ClaimSegmentResult;
      19: invokevirtual #43                 // Method io/fluxcapacitor/javaclient/tracking/client/CachingTrackingClient.getMessageBatch:(Lio/fluxcapacitor/javaclient/tracking/ConsumerConfiguration;JLio/fluxcapacitor/common/api/tracking/ClaimSegmentResult;)Lio/fluxcapacitor/common/api/tracking/MessageBatch;
      22: astore_1
      23: aload_1
      24: invokevirtual #49                 // Method io/fluxcapacitor/common/api/tracking/MessageBatch.isEmpty:()Z
      27: ifne          75
      30: aload_0
      31: getfield      #19                 // Field val$future:Ljava/util/concurrent/CompletableFuture;
      34: aload_1
      35: invokevirtual #55                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      38: ifeq          75
      41: aload_0
      42: getfield      #1                  // Field this$0:Lio/fluxcapacitor/javaclient/tracking/client/CachingTrackingClient;
      45: getfield      #61                 // Field io/fluxcapacitor/javaclient/tracking/client/CachingTrackingClient.waitingTrackers:Ljava/util/Map;
      48: aload_0
      49: getfield      #23                 // Field val$trackerId:Ljava/lang/String;
      52: aload_0
      53: invokeinterface #65,  3           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;Ljava/lang/Object;)Z
      58: ifeq          75
      61: aload_0
      62: getfield      #27                 // Field val$timeoutSchedule:Ljava/util/concurrent/ScheduledFuture;
      65: iconst_0
      66: invokeinterface #71,  2           // InterfaceMethod java/util/concurrent/ScheduledFuture.cancel:(Z)Z
      71: pop
      72: goto          89
      75: aload_0
      76: getfield      #11                 // Field val$atomicIndex:Ljava/util/concurrent/atomic/AtomicLong;
      79: aload_1
      80: invokedynamic #77,  0             // InvokeDynamic #0:applyAsLong:(Lio/fluxcapacitor/common/api/tracking/MessageBatch;)Ljava/util/function/LongUnaryOperator;
      85: invokevirtual #81                 // Method java/util/concurrent/atomic/AtomicLong.updateAndGet:(Ljava/util/function/LongUnaryOperator;)J
      88: pop2
      89: return

  private static long lambda$run$0(io.fluxcapacitor.common.api.tracking.MessageBatch, long);
    Code:
       0: aload_0
       1: invokevirtual #85                 // Method io/fluxcapacitor/common/api/tracking/MessageBatch.getLastIndex:()Ljava/lang/Long;
       4: invokestatic  #89                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
       7: lload_1
       8: invokestatic  #95                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      11: invokevirtual #101                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      14: checkcast     #96                 // class java/lang/Long
      17: invokevirtual #105                // Method java/lang/Long.longValue:()J
      20: lreturn
}
