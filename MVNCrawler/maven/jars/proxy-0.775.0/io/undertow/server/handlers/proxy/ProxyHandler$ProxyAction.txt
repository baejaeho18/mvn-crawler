Compiled from "ProxyHandler.java"
class io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction implements java.lang.Runnable {
  private final io.undertow.server.handlers.proxy.ProxyConnection clientConnection;

  private final io.undertow.server.HttpServerExchange exchange;

  private final java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute> requestHeaders;

  private final boolean rewriteHostHeader;

  private final boolean reuseXForwarded;

  private final io.undertow.server.handlers.proxy.ProxyHandler$ProxyClientHandler proxyClientHandler;

  private final io.undertow.predicate.Predicate idempotentPredicate;

  io.undertow.server.handlers.proxy.ProxyHandler$ProxyAction(io.undertow.server.handlers.proxy.ProxyConnection, io.undertow.server.HttpServerExchange, java.util.Map<io.undertow.util.HttpString, io.undertow.attribute.ExchangeAttribute>, boolean, boolean, io.undertow.server.handlers.proxy.ProxyHandler$ProxyClientHandler, io.undertow.predicate.Predicate);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field requestHeaders:Ljava/util/Map;
      19: aload_0
      20: iload         4
      22: putfield      #5                  // Field rewriteHostHeader:Z
      25: aload_0
      26: iload         5
      28: putfield      #6                  // Field reuseXForwarded:Z
      31: aload_0
      32: aload         6
      34: putfield      #7                  // Field proxyClientHandler:Lio/undertow/server/handlers/proxy/ProxyHandler$ProxyClientHandler;
      37: aload_0
      38: aload         7
      40: putfield      #8                  // Field idempotentPredicate:Lio/undertow/predicate/Predicate;
      43: return

  public void run();
    Code:
       0: new           #9                  // class io/undertow/client/ClientRequest
       3: dup
       4: invokespecial #10                 // Method io/undertow/client/ClientRequest."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      12: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.getRequestURI:()Ljava/lang/String;
      15: astore_2
      16: aload_0
      17: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      20: invokevirtual #12                 // Method io/undertow/server/HttpServerExchange.isHostIncludedInRequestURI:()Z
      23: ifeq          59
      26: aload_2
      27: ldc           #13                 // String //
      29: invokevirtual #14                 // Method java/lang/String.indexOf:(Ljava/lang/String;)I
      32: istore_3
      33: iload_3
      34: iconst_m1
      35: if_icmpeq     59
      38: aload_2
      39: ldc           #15                 // String /
      41: iload_3
      42: iconst_2
      43: iadd
      44: invokevirtual #16                 // Method java/lang/String.indexOf:(Ljava/lang/String;I)I
      47: istore_3
      48: iload_3
      49: iconst_m1
      50: if_icmpeq     59
      53: aload_2
      54: iload_3
      55: invokevirtual #17                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      58: astore_2
      59: aload_0
      60: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      63: invokevirtual #18                 // Method io/undertow/server/HttpServerExchange.getResolvedPath:()Ljava/lang/String;
      66: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
      69: ifne          101
      72: aload_2
      73: aload_0
      74: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      77: invokevirtual #18                 // Method io/undertow/server/HttpServerExchange.getResolvedPath:()Ljava/lang/String;
      80: invokevirtual #20                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      83: ifeq          101
      86: aload_2
      87: aload_0
      88: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
      91: invokevirtual #18                 // Method io/undertow/server/HttpServerExchange.getResolvedPath:()Ljava/lang/String;
      94: invokevirtual #21                 // Method java/lang/String.length:()I
      97: invokevirtual #17                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     100: astore_2
     101: new           #22                 // class java/lang/StringBuilder
     104: dup
     105: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     108: astore_3
     109: aload_0
     110: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     113: invokevirtual #24                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
     116: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
     119: ifne          156
     122: aload_0
     123: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     126: invokevirtual #24                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
     129: ldc           #15                 // String /
     131: invokevirtual #25                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     134: ifeq          144
     137: aload_2
     138: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
     141: ifeq          156
     144: aload_3
     145: aload_0
     146: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     149: invokevirtual #24                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getTargetPath:()Ljava/lang/String;
     152: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: pop
     156: aload_3
     157: aload_2
     158: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     161: pop
     162: aload_0
     163: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     166: invokevirtual #27                 // Method io/undertow/server/HttpServerExchange.getQueryString:()Ljava/lang/String;
     169: astore        4
     171: aload         4
     173: ifnull        198
     176: aload         4
     178: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
     181: ifne          198
     184: aload_3
     185: bipush        63
     187: invokevirtual #28                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     190: pop
     191: aload_3
     192: aload         4
     194: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: pop
     198: aload_1
     199: aload_3
     200: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     203: invokevirtual #30                 // Method io/undertow/client/ClientRequest.setPath:(Ljava/lang/String;)Lio/undertow/client/ClientRequest;
     206: aload_0
     207: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     210: invokevirtual #31                 // Method io/undertow/server/HttpServerExchange.getRequestMethod:()Lio/undertow/util/HttpString;
     213: invokevirtual #32                 // Method io/undertow/client/ClientRequest.setMethod:(Lio/undertow/util/HttpString;)Lio/undertow/client/ClientRequest;
     216: pop
     217: aload_0
     218: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     221: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     224: astore        5
     226: aload_1
     227: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     230: astore        6
     232: aload_0
     233: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     236: aload         6
     238: aload         5
     240: invokestatic  #35                 // Method io/undertow/server/handlers/proxy/ProxyHandler.copyHeaders:(Lio/undertow/server/HttpServerExchange;Lio/undertow/util/HeaderMap;Lio/undertow/util/HeaderMap;)V
     243: aload_0
     244: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     247: invokevirtual #36                 // Method io/undertow/server/HttpServerExchange.isPersistent:()Z
     250: ifne          264
     253: aload         6
     255: getstatic     #37                 // Field io/undertow/util/Headers.CONNECTION:Lio/undertow/util/HttpString;
     258: ldc           #38                 // String keep-alive
     260: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     263: pop
     264: ldc           #40                 // String h2c
     266: aload_0
     267: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     270: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     273: getstatic     #41                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
     276: invokevirtual #42                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     279: invokevirtual #25                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     282: ifeq          310
     285: aload_0
     286: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     289: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     292: getstatic     #41                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
     295: invokevirtual #43                 // Method io/undertow/util/HeaderMap.remove:(Lio/undertow/util/HttpString;)Ljava/util/Collection;
     298: pop
     299: aload         6
     301: getstatic     #37                 // Field io/undertow/util/Headers.CONNECTION:Lio/undertow/util/HttpString;
     304: ldc           #38                 // String keep-alive
     306: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     309: pop
     310: aload_0
     311: getfield      #4                  // Field requestHeaders:Ljava/util/Map;
     314: invokeinterface #44,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     319: invokeinterface #45,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     324: astore        7
     326: aload         7
     328: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     333: ifeq          429
     336: aload         7
     338: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     343: checkcast     #48                 // class java/util/Map$Entry
     346: astore        8
     348: aload         8
     350: invokeinterface #49,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     355: checkcast     #50                 // class io/undertow/attribute/ExchangeAttribute
     358: aload_0
     359: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     362: invokeinterface #51,  2           // InterfaceMethod io/undertow/attribute/ExchangeAttribute.readAttribute:(Lio/undertow/server/HttpServerExchange;)Ljava/lang/String;
     367: astore        9
     369: aload         9
     371: ifnull        382
     374: aload         9
     376: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
     379: ifeq          401
     382: aload         6
     384: aload         8
     386: invokeinterface #52,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     391: checkcast     #53                 // class io/undertow/util/HttpString
     394: invokevirtual #43                 // Method io/undertow/util/HeaderMap.remove:(Lio/undertow/util/HttpString;)Ljava/util/Collection;
     397: pop
     398: goto          426
     401: aload         6
     403: aload         8
     405: invokeinterface #52,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     410: checkcast     #53                 // class io/undertow/util/HttpString
     413: aload         9
     415: bipush        10
     417: bipush        32
     419: invokevirtual #54                 // Method java/lang/String.replace:(CC)Ljava/lang/String;
     422: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     425: pop
     426: goto          326
     429: aload_0
     430: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     433: invokevirtual #55                 // Method io/undertow/server/HttpServerExchange.getSourceAddress:()Ljava/net/InetSocketAddress;
     436: astore        8
     438: aload         8
     440: ifnull        486
     443: aload         8
     445: checkcast     #56                 // class java/net/InetSocketAddress
     448: invokevirtual #57                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
     451: astore        7
     453: aload         8
     455: checkcast     #56                 // class java/net/InetSocketAddress
     458: invokevirtual #58                 // Method java/net/InetSocketAddress.isUnresolved:()Z
     461: ifne          490
     464: aload_1
     465: getstatic     #59                 // Field io/undertow/client/ProxiedRequestAttachments.REMOTE_ADDRESS:Lio/undertow/util/AttachmentKey;
     468: aload         8
     470: checkcast     #56                 // class java/net/InetSocketAddress
     473: invokevirtual #60                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
     476: invokevirtual #61                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
     479: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     482: pop
     483: goto          490
     486: ldc           #63                 // String localhost
     488: astore        7
     490: aload_1
     491: getstatic     #64                 // Field io/undertow/client/ProxiedRequestAttachments.REMOTE_HOST:Lio/undertow/util/AttachmentKey;
     494: aload         7
     496: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     499: pop
     500: aload_0
     501: getfield      #6                  // Field reuseXForwarded:Z
     504: ifeq          584
     507: aload_1
     508: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     511: getstatic     #65                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     514: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     517: ifeq          584
     520: aload_1
     521: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     524: getstatic     #65                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     527: invokevirtual #42                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     530: astore        9
     532: aload         9
     534: ifnull        545
     537: aload         9
     539: invokevirtual #19                 // Method java/lang/String.isEmpty:()Z
     542: ifeq          561
     545: aload_1
     546: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     549: getstatic     #65                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     552: aload         7
     554: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     557: pop
     558: goto          581
     561: aload_1
     562: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     565: getstatic     #65                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     568: aload         9
     570: aload         7
     572: invokedynamic #67,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     577: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     580: pop
     581: goto          597
     584: aload_1
     585: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     588: getstatic     #65                 // Field io/undertow/util/Headers.X_FORWARDED_FOR:Lio/undertow/util/HttpString;
     591: aload         7
     593: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     596: pop
     597: aload_0
     598: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     601: invokevirtual #68                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     604: invokevirtual #69                 // Method io/undertow/server/ServerConnection.isPushSupported:()Z
     607: ifne          638
     610: aload_0
     611: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
     614: invokevirtual #70                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
     617: invokeinterface #71,  1           // InterfaceMethod io/undertow/client/ClientConnection.isPushSupported:()Z
     622: ifeq          638
     625: aload_1
     626: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     629: getstatic     #72                 // Field io/undertow/util/Headers.X_DISABLE_PUSH:Lio/undertow/util/HttpString;
     632: ldc           #73                 // String true
     634: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     637: pop
     638: aload_0
     639: getfield      #6                  // Field reuseXForwarded:Z
     642: ifeq          697
     645: aload_0
     646: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     649: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     652: getstatic     #74                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     655: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     658: ifeq          697
     661: aload_0
     662: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     665: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     668: getstatic     #74                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     671: invokevirtual #42                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     674: astore        9
     676: aload_1
     677: getstatic     #75                 // Field io/undertow/client/ProxiedRequestAttachments.IS_SSL:Lio/undertow/util/AttachmentKey;
     680: aload         9
     682: ldc           #76                 // String https
     684: invokevirtual #25                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     687: invokestatic  #77                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     690: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     693: pop
     694: goto          752
     697: aload_0
     698: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     701: invokevirtual #78                 // Method io/undertow/server/HttpServerExchange.getRequestScheme:()Ljava/lang/String;
     704: ldc           #76                 // String https
     706: invokevirtual #25                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     709: ifeq          717
     712: ldc           #76                 // String https
     714: goto          719
     717: ldc           #79                 // String http
     719: astore        9
     721: aload_1
     722: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     725: getstatic     #74                 // Field io/undertow/util/Headers.X_FORWARDED_PROTO:Lio/undertow/util/HttpString;
     728: aload         9
     730: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     733: pop
     734: aload_1
     735: getstatic     #75                 // Field io/undertow/client/ProxiedRequestAttachments.IS_SSL:Lio/undertow/util/AttachmentKey;
     738: aload         9
     740: ldc           #76                 // String https
     742: invokevirtual #25                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     745: invokestatic  #77                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     748: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     751: pop
     752: aload_0
     753: getfield      #6                  // Field reuseXForwarded:Z
     756: ifeq          803
     759: aload_0
     760: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     763: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     766: getstatic     #80                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     769: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     772: ifeq          803
     775: aload_0
     776: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     779: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     782: getstatic     #80                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     785: invokevirtual #42                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     788: astore        9
     790: aload_1
     791: getstatic     #81                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_NAME:Lio/undertow/util/AttachmentKey;
     794: aload         9
     796: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     799: pop
     800: goto          835
     803: aload_0
     804: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     807: invokevirtual #82                 // Method io/undertow/server/HttpServerExchange.getHostName:()Ljava/lang/String;
     810: astore        9
     812: aload_1
     813: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     816: getstatic     #80                 // Field io/undertow/util/Headers.X_FORWARDED_SERVER:Lio/undertow/util/HttpString;
     819: aload         9
     821: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     824: pop
     825: aload_1
     826: getstatic     #81                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_NAME:Lio/undertow/util/AttachmentKey;
     829: aload         9
     831: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     834: pop
     835: aload_0
     836: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     839: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     842: getstatic     #83                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
     845: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     848: ifne          881
     851: aload_0
     852: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     855: invokevirtual #82                 // Method io/undertow/server/HttpServerExchange.getHostName:()Ljava/lang/String;
     858: astore        9
     860: aload         9
     862: ifnull        881
     865: aload_1
     866: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     869: getstatic     #83                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
     872: aload         9
     874: invokestatic  #84                 // Method io/undertow/util/NetworkUtils.formatPossibleIpv6Address:(Ljava/lang/String;)Ljava/lang/String;
     877: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
     880: pop
     881: aload_0
     882: getfield      #6                  // Field reuseXForwarded:Z
     885: ifeq          990
     888: aload_0
     889: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     892: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     895: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
     898: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
     901: ifeq          990
     904: aload_0
     905: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     908: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     911: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
     914: invokevirtual #42                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
     917: invokestatic  #86                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     920: istore        9
     922: aload_1
     923: getstatic     #87                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
     926: iload         9
     928: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     931: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     934: pop
     935: goto          1026
     938: astore        9
     940: aload_0
     941: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     944: invokevirtual #68                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     947: ldc           #56                 // class java/net/InetSocketAddress
     949: invokevirtual #90                 // Method io/undertow/server/ServerConnection.getLocalAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
     952: checkcast     #56                 // class java/net/InetSocketAddress
     955: invokevirtual #91                 // Method java/net/InetSocketAddress.getPort:()I
     958: istore        10
     960: aload_1
     961: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
     964: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
     967: iload         10
     969: i2l
     970: invokevirtual #92                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
     973: pop
     974: aload_1
     975: getstatic     #87                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
     978: iload         10
     980: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     983: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     986: pop
     987: goto          1026
     990: aload_0
     991: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
     994: invokevirtual #93                 // Method io/undertow/server/HttpServerExchange.getHostPort:()I
     997: istore        9
     999: aload_1
    1000: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1003: getstatic     #85                 // Field io/undertow/util/Headers.X_FORWARDED_PORT:Lio/undertow/util/HttpString;
    1006: iload         9
    1008: i2l
    1009: invokevirtual #92                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
    1012: pop
    1013: aload_1
    1014: getstatic     #87                 // Field io/undertow/client/ProxiedRequestAttachments.SERVER_PORT:Lio/undertow/util/AttachmentKey;
    1017: iload         9
    1019: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1022: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1025: pop
    1026: aload_0
    1027: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1030: invokevirtual #68                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
    1033: invokevirtual #94                 // Method io/undertow/server/ServerConnection.getSslSessionInfo:()Lio/undertow/server/SSLSessionInfo;
    1036: astore        9
    1038: aload         9
    1040: ifnull        1126
    1043: aload         9
    1045: invokeinterface #95,  1           // InterfaceMethod io/undertow/server/SSLSessionInfo.getPeerCertificates:()[Ljava/security/cert/Certificate;
    1050: astore        10
    1052: aload         10
    1054: arraylength
    1055: ifle          1073
    1058: aload_1
    1059: getstatic     #96                 // Field io/undertow/client/ProxiedRequestAttachments.SSL_CERT:Lio/undertow/util/AttachmentKey;
    1062: aload         10
    1064: iconst_0
    1065: aaload
    1066: invokestatic  #97                 // Method io/undertow/util/Certificates.toPem:(Ljava/security/cert/Certificate;)Ljava/lang/String;
    1069: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1072: pop
    1073: goto          1078
    1076: astore        11
    1078: aload_1
    1079: getstatic     #101                // Field io/undertow/client/ProxiedRequestAttachments.SSL_CYPHER:Lio/undertow/util/AttachmentKey;
    1082: aload         9
    1084: invokeinterface #102,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getCipherSuite:()Ljava/lang/String;
    1089: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1092: pop
    1093: aload_1
    1094: getstatic     #103                // Field io/undertow/client/ProxiedRequestAttachments.SSL_SESSION_ID:Lio/undertow/util/AttachmentKey;
    1097: aload         9
    1099: invokeinterface #104,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getSessionId:()[B
    1104: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1107: pop
    1108: aload_1
    1109: getstatic     #105                // Field io/undertow/client/ProxiedRequestAttachments.SSL_KEY_SIZE:Lio/undertow/util/AttachmentKey;
    1112: aload         9
    1114: invokeinterface #106,  1          // InterfaceMethod io/undertow/server/SSLSessionInfo.getKeySize:()I
    1119: invokestatic  #88                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1122: invokevirtual #62                 // Method io/undertow/client/ClientRequest.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
    1125: pop
    1126: aload_0
    1127: getfield      #5                  // Field rewriteHostHeader:Z
    1130: ifeq          1202
    1133: aload_0
    1134: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1137: invokevirtual #70                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1140: ldc           #56                 // class java/net/InetSocketAddress
    1142: invokeinterface #107,  2          // InterfaceMethod io/undertow/client/ClientConnection.getPeerAddress:(Ljava/lang/Class;)Ljava/net/SocketAddress;
    1147: checkcast     #56                 // class java/net/InetSocketAddress
    1150: astore        10
    1152: aload_1
    1153: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1156: getstatic     #108                // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
    1159: aload         10
    1161: invokevirtual #57                 // Method java/net/InetSocketAddress.getHostString:()Ljava/lang/String;
    1164: aload         10
    1166: invokevirtual #91                 // Method java/net/InetSocketAddress.getPort:()I
    1169: invokedynamic #109,  0            // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;I)Ljava/lang/String;
    1174: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1177: pop
    1178: aload_1
    1179: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1182: getstatic     #83                 // Field io/undertow/util/Headers.X_FORWARDED_HOST:Lio/undertow/util/HttpString;
    1185: aload_0
    1186: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1189: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1192: getstatic     #108                // Field io/undertow/util/Headers.HOST:Lio/undertow/util/HttpString;
    1195: invokevirtual #42                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
    1198: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1201: pop
    1202: getstatic     #110                // Field io/undertow/server/handlers/proxy/ProxyHandler.log:Lorg/jboss/logging/Logger;
    1205: invokevirtual #111                // Method org/jboss/logging/Logger.isDebugEnabled:()Z
    1208: ifeq          1236
    1211: getstatic     #110                // Field io/undertow/server/handlers/proxy/ProxyHandler.log:Lorg/jboss/logging/Logger;
    1214: ldc           #112                // String Sending request %s to target %s for exchange %s
    1216: aload_1
    1217: aload_0
    1218: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1221: invokevirtual #70                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1224: invokeinterface #113,  1          // InterfaceMethod io/undertow/client/ClientConnection.getPeerAddress:()Ljava/net/SocketAddress;
    1229: aload_0
    1230: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1233: invokevirtual #114                // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V
    1236: aload_1
    1237: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1240: getstatic     #115                // Field io/undertow/util/Headers.TRANSFER_ENCODING:Lio/undertow/util/HttpString;
    1243: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
    1246: ifne          1289
    1249: aload_1
    1250: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1253: getstatic     #116                // Field io/undertow/util/Headers.CONTENT_LENGTH:Lio/undertow/util/HttpString;
    1256: invokevirtual #66                 // Method io/undertow/util/HeaderMap.contains:(Lio/undertow/util/HttpString;)Z
    1259: ifne          1289
    1262: aload_0
    1263: getfield      #3                  // Field exchange:Lio/undertow/server/HttpServerExchange;
    1266: invokevirtual #117                // Method io/undertow/server/HttpServerExchange.isRequestComplete:()Z
    1269: ifne          1289
    1272: aload_1
    1273: invokevirtual #34                 // Method io/undertow/client/ClientRequest.getRequestHeaders:()Lio/undertow/util/HeaderMap;
    1276: getstatic     #115                // Field io/undertow/util/Headers.TRANSFER_ENCODING:Lio/undertow/util/HttpString;
    1279: getstatic     #118                // Field io/undertow/util/Headers.CHUNKED:Lio/undertow/util/HttpString;
    1282: invokevirtual #119                // Method io/undertow/util/HttpString.toString:()Ljava/lang/String;
    1285: invokevirtual #39                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
    1288: pop
    1289: invokestatic  #120                // Method io/undertow/util/Cookies.isCrumbsAssemplyDisabled:()Z
    1292: ifne          1313
    1295: aload_0
    1296: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1299: invokevirtual #70                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1302: instanceof    #121                // class io/undertow/client/http2/Http2ClientConnection
    1305: ifne          1313
    1308: aload         6
    1310: invokestatic  #122                // Method io/undertow/util/Cookies.assembleCrumbs:(Lio/undertow/util/HeaderMap;)V
    1313: aload_0
    1314: getfield      #2                  // Field clientConnection:Lio/undertow/server/handlers/proxy/ProxyConnection;
    1317: invokevirtual #70                 // Method io/undertow/server/handlers/proxy/ProxyConnection.getConnection:()Lio/undertow/client/ClientConnection;
    1320: aload_1
    1321: new           #123                // class io/undertow/server/handlers/proxy/ProxyHandler$ProxyAction$1
    1324: dup
    1325: aload_0
    1326: aload_1
    1327: aload         7
    1329: invokespecial #124                // Method io/undertow/server/handlers/proxy/ProxyHandler$ProxyAction$1."<init>":(Lio/undertow/server/handlers/proxy/ProxyHandler$ProxyAction;Lio/undertow/client/ClientRequest;Ljava/lang/String;)V
    1332: invokeinterface #125,  3          // InterfaceMethod io/undertow/client/ClientConnection.sendRequest:(Lio/undertow/client/ClientRequest;Lio/undertow/client/ClientCallback;)V
    1337: return
    Exception table:
       from    to  target type
         904   935   938   Class java/lang/NumberFormatException
        1043  1073  1076   Class javax/net/ssl/SSLPeerUnverifiedException
        1043  1073  1076   Class java/security/cert/CertificateEncodingException
        1043  1073  1076   Class io/undertow/server/RenegotiationRequiredException
}
