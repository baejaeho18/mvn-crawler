Compiled from "PathResource.java"
class io.undertow.server.handlers.resource.PathResource$1ServerTask extends io.undertow.server.handlers.resource.PathResource$1BaseFileTask implements io.undertow.io.IoCallback {
  private io.undertow.connector.PooledByteBuffer pooled;

  long remaining;

  final io.undertow.io.Sender val$sender;

  final io.undertow.io.IoCallback val$callback;

  final io.undertow.server.HttpServerExchange val$exchange;

  final long val$start;

  final boolean val$range;

  final long val$end;

  final io.undertow.server.handlers.resource.PathResource this$0;

  io.undertow.server.handlers.resource.PathResource$1ServerTask();
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/undertow/server/handlers/resource/PathResource;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$sender:Lio/undertow/io/Sender;
      10: aload_0
      11: aload_3
      12: putfield      #3                  // Field val$callback:Lio/undertow/io/IoCallback;
      15: aload_0
      16: aload         4
      18: putfield      #4                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      21: aload_0
      22: lload         5
      24: putfield      #5                  // Field val$start:J
      27: aload_0
      28: iload         7
      30: putfield      #6                  // Field val$range:Z
      33: aload_0
      34: lload         8
      36: putfield      #7                  // Field val$end:J
      39: aload_0
      40: aload_1
      41: iload         7
      43: lload         5
      45: aload         4
      47: aload_3
      48: aload_2
      49: invokespecial #8                  // Method io/undertow/server/handlers/resource/PathResource$1BaseFileTask."<init>":(Lio/undertow/server/handlers/resource/PathResource;ZJLio/undertow/server/HttpServerExchange;Lio/undertow/io/IoCallback;Lio/undertow/io/Sender;)V
      52: aload_0
      53: aload_0
      54: getfield      #7                  // Field val$end:J
      57: aload_0
      58: getfield      #5                  // Field val$start:J
      61: lsub
      62: lconst_1
      63: ladd
      64: putfield      #9                  // Field remaining:J
      67: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #6                  // Field val$range:Z
       4: ifeq          62
       7: aload_0
       8: getfield      #9                  // Field remaining:J
      11: lconst_0
      12: lcmp
      13: ifne          62
      16: aload_0
      17: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      20: ifnull        37
      23: aload_0
      24: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      27: invokeinterface #11,  1           // InterfaceMethod io/undertow/connector/PooledByteBuffer.close:()V
      32: aload_0
      33: aconst_null
      34: putfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      37: aload_0
      38: getfield      #12                 // Field fileChannel:Ljava/nio/channels/FileChannel;
      41: invokestatic  #13                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      44: aload_0
      45: getfield      #3                  // Field val$callback:Lio/undertow/io/IoCallback;
      48: aload_0
      49: getfield      #4                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      52: aload_0
      53: getfield      #2                  // Field val$sender:Lio/undertow/io/Sender;
      56: invokeinterface #14,  3           // InterfaceMethod io/undertow/io/IoCallback.onComplete:(Lio/undertow/server/HttpServerExchange;Lio/undertow/io/Sender;)V
      61: return
      62: aload_0
      63: getfield      #12                 // Field fileChannel:Ljava/nio/channels/FileChannel;
      66: ifnonnull     96
      69: aload_0
      70: invokevirtual #15                 // Method openFile:()Z
      73: ifne          77
      76: return
      77: aload_0
      78: aload_0
      79: getfield      #4                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      82: invokevirtual #16                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
      85: invokevirtual #17                 // Method io/undertow/server/ServerConnection.getByteBufferPool:()Lio/undertow/connector/ByteBufferPool;
      88: invokeinterface #18,  1           // InterfaceMethod io/undertow/connector/ByteBufferPool.allocate:()Lio/undertow/connector/PooledByteBuffer;
      93: putfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      96: aload_0
      97: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
     100: ifnull        249
     103: aload_0
     104: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
     107: invokeinterface #19,  1           // InterfaceMethod io/undertow/connector/PooledByteBuffer.getBuffer:()Ljava/nio/ByteBuffer;
     112: astore_1
     113: aload_1
     114: invokevirtual #20                 // Method java/nio/ByteBuffer.clear:()Ljava/nio/ByteBuffer;
     117: pop
     118: aload_0
     119: getfield      #12                 // Field fileChannel:Ljava/nio/channels/FileChannel;
     122: aload_1
     123: invokevirtual #21                 // Method java/nio/channels/FileChannel.read:(Ljava/nio/ByteBuffer;)I
     126: istore_2
     127: iload_2
     128: iconst_m1
     129: if_icmpne     166
     132: aload_0
     133: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
     136: invokeinterface #11,  1           // InterfaceMethod io/undertow/connector/PooledByteBuffer.close:()V
     141: aload_0
     142: getfield      #12                 // Field fileChannel:Ljava/nio/channels/FileChannel;
     145: invokestatic  #13                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     148: aload_0
     149: getfield      #3                  // Field val$callback:Lio/undertow/io/IoCallback;
     152: aload_0
     153: getfield      #4                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
     156: aload_0
     157: getfield      #2                  // Field val$sender:Lio/undertow/io/Sender;
     160: invokeinterface #14,  3           // InterfaceMethod io/undertow/io/IoCallback.onComplete:(Lio/undertow/server/HttpServerExchange;Lio/undertow/io/Sender;)V
     165: return
     166: aload_1
     167: invokevirtual #22                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/ByteBuffer;
     170: pop
     171: aload_0
     172: getfield      #6                  // Field val$range:Z
     175: ifeq          221
     178: aload_1
     179: invokevirtual #23                 // Method java/nio/ByteBuffer.remaining:()I
     182: i2l
     183: aload_0
     184: getfield      #9                  // Field remaining:J
     187: lcmp
     188: ifle          207
     191: aload_1
     192: aload_1
     193: invokevirtual #24                 // Method java/nio/ByteBuffer.position:()I
     196: i2l
     197: aload_0
     198: getfield      #9                  // Field remaining:J
     201: ladd
     202: l2i
     203: invokevirtual #25                 // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/ByteBuffer;
     206: pop
     207: aload_0
     208: dup
     209: getfield      #9                  // Field remaining:J
     212: aload_1
     213: invokevirtual #23                 // Method java/nio/ByteBuffer.remaining:()I
     216: i2l
     217: lsub
     218: putfield      #9                  // Field remaining:J
     221: aload_0
     222: getfield      #2                  // Field val$sender:Lio/undertow/io/Sender;
     225: aload_1
     226: aload_0
     227: invokeinterface #26,  3           // InterfaceMethod io/undertow/io/Sender.send:(Ljava/nio/ByteBuffer;Lio/undertow/io/IoCallback;)V
     232: goto          249
     235: astore_2
     236: aload_0
     237: aload_0
     238: getfield      #4                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
     241: aload_0
     242: getfield      #2                  // Field val$sender:Lio/undertow/io/Sender;
     245: aload_2
     246: invokevirtual #28                 // Method onException:(Lio/undertow/server/HttpServerExchange;Lio/undertow/io/Sender;Ljava/io/IOException;)V
     249: return
    Exception table:
       from    to  target type
         113   165   235   Class java/io/IOException
         166   232   235   Class java/io/IOException

  public void onComplete(io.undertow.server.HttpServerExchange, io.undertow.io.Sender);
    Code:
       0: aload_1
       1: invokevirtual #29                 // Method io/undertow/server/HttpServerExchange.isInIoThread:()Z
       4: ifeq          16
       7: aload_1
       8: aload_0
       9: invokevirtual #30                 // Method io/undertow/server/HttpServerExchange.dispatch:(Ljava/lang/Runnable;)Lio/undertow/server/HttpServerExchange;
      12: pop
      13: goto          20
      16: aload_0
      17: invokevirtual #31                 // Method run:()V
      20: return

  public void onException(io.undertow.server.HttpServerExchange, io.undertow.io.Sender, java.io.IOException);
    Code:
       0: getstatic     #32                 // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
       3: aload_3
       4: invokeinterface #33,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
       9: aload_0
      10: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      13: ifnull        30
      16: aload_0
      17: getfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      20: invokeinterface #11,  1           // InterfaceMethod io/undertow/connector/PooledByteBuffer.close:()V
      25: aload_0
      26: aconst_null
      27: putfield      #10                 // Field pooled:Lio/undertow/connector/PooledByteBuffer;
      30: aload_0
      31: getfield      #12                 // Field fileChannel:Ljava/nio/channels/FileChannel;
      34: invokestatic  #13                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
      37: aload_1
      38: invokevirtual #34                 // Method io/undertow/server/HttpServerExchange.isResponseStarted:()Z
      41: ifne          52
      44: aload_1
      45: sipush        500
      48: invokevirtual #36                 // Method io/undertow/server/HttpServerExchange.setStatusCode:(I)Lio/undertow/server/HttpServerExchange;
      51: pop
      52: aload_0
      53: getfield      #3                  // Field val$callback:Lio/undertow/io/IoCallback;
      56: aload_1
      57: aload_2
      58: aload_3
      59: invokeinterface #37,  4           // InterfaceMethod io/undertow/io/IoCallback.onException:(Lio/undertow/server/HttpServerExchange;Lio/undertow/io/Sender;Ljava/io/IOException;)V
      64: return
}
