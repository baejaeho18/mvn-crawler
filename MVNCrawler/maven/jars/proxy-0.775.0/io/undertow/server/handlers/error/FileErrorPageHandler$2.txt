Compiled from "FileErrorPageHandler.java"
class io.undertow.server.handlers.error.FileErrorPageHandler$2 implements java.lang.Runnable {
  final io.undertow.server.HttpServerExchange val$exchange;

  final io.undertow.server.handlers.error.FileErrorPageHandler this$0;

  io.undertow.server.handlers.error.FileErrorPageHandler$2(io.undertow.server.handlers.error.FileErrorPageHandler, io.undertow.server.HttpServerExchange);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/undertow/server/handlers/error/FileErrorPageHandler;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      10: aload_0
      11: invokespecial #3                  // Method java/lang/Object."<init>":()V
      14: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lio/undertow/server/handlers/error/FileErrorPageHandler;
       4: getfield      #4                  // Field io/undertow/server/handlers/error/FileErrorPageHandler.file:Ljava/nio/file/Path;
       7: iconst_1
       8: anewarray     #5                  // class java/nio/file/OpenOption
      11: dup
      12: iconst_0
      13: getstatic     #6                  // Field java/nio/file/StandardOpenOption.READ:Ljava/nio/file/StandardOpenOption;
      16: aastore
      17: invokestatic  #7                  // Method java/nio/channels/FileChannel.open:(Ljava/nio/file/Path;[Ljava/nio/file/OpenOption;)Ljava/nio/channels/FileChannel;
      20: astore_1
      21: goto          43
      24: astore_2
      25: getstatic     #9                  // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
      28: aload_2
      29: invokeinterface #10,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
      34: aload_0
      35: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      38: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
      41: pop
      42: return
      43: goto          65
      46: astore_2
      47: getstatic     #9                  // Field io/undertow/UndertowLogger.REQUEST_IO_LOGGER:Lio/undertow/UndertowLogger;
      50: aload_2
      51: invokeinterface #10,  2           // InterfaceMethod io/undertow/UndertowLogger.ioException:(Ljava/io/IOException;)V
      56: aload_0
      57: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      60: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
      63: pop
      64: return
      65: aload_0
      66: getfield      #1                  // Field this$0:Lio/undertow/server/handlers/error/FileErrorPageHandler;
      69: getfield      #4                  // Field io/undertow/server/handlers/error/FileErrorPageHandler.file:Ljava/nio/file/Path;
      72: invokestatic  #13                 // Method java/nio/file/Files.size:(Ljava/nio/file/Path;)J
      75: lstore_2
      76: goto          91
      79: astore        4
      81: new           #14                 // class java/lang/RuntimeException
      84: dup
      85: aload         4
      87: invokespecial #15                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      90: athrow
      91: aload_0
      92: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
      95: invokevirtual #16                 // Method io/undertow/server/HttpServerExchange.getResponseHeaders:()Lio/undertow/util/HeaderMap;
      98: getstatic     #17                 // Field io/undertow/util/Headers.CONTENT_LENGTH:Lio/undertow/util/HttpString;
     101: lload_2
     102: invokevirtual #18                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;J)Lio/undertow/util/HeaderMap;
     105: pop
     106: aload_0
     107: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
     110: invokevirtual #19                 // Method io/undertow/server/HttpServerExchange.getResponseChannel:()Lorg/xnio/channels/StreamSinkChannel;
     113: astore        4
     115: aload_0
     116: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
     119: new           #20                 // class io/undertow/server/handlers/error/FileErrorPageHandler$2$1
     122: dup
     123: aload_0
     124: aload_1
     125: invokespecial #21                 // Method io/undertow/server/handlers/error/FileErrorPageHandler$2$1."<init>":(Lio/undertow/server/handlers/error/FileErrorPageHandler$2;Ljava/nio/channels/FileChannel;)V
     128: invokevirtual #22                 // Method io/undertow/server/HttpServerExchange.addExchangeCompleteListener:(Lio/undertow/server/ExchangeCompletionListener;)Lio/undertow/server/HttpServerExchange;
     131: pop
     132: getstatic     #23                 // Field io/undertow/server/handlers/error/FileErrorPageHandler.log:Lorg/jboss/logging/Logger;
     135: ldc           #24                 // String Serving file %s (blocking)
     137: aload_1
     138: invokevirtual #25                 // Method org/jboss/logging/Logger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     141: aload         4
     143: aload_1
     144: lconst_0
     145: aload_0
     146: getfield      #1                  // Field this$0:Lio/undertow/server/handlers/error/FileErrorPageHandler;
     149: getfield      #4                  // Field io/undertow/server/handlers/error/FileErrorPageHandler.file:Ljava/nio/file/Path;
     152: invokestatic  #13                 // Method java/nio/file/Files.size:(Ljava/nio/file/Path;)J
     155: invokestatic  #26                 // Method org/xnio/channels/Channels.transferBlocking:(Lorg/xnio/channels/StreamSinkChannel;Ljava/nio/channels/FileChannel;JJ)V
     158: getstatic     #23                 // Field io/undertow/server/handlers/error/FileErrorPageHandler.log:Lorg/jboss/logging/Logger;
     161: ldc           #27                 // String Finished serving %s, shutting down (blocking)
     163: aload_1
     164: invokevirtual #25                 // Method org/jboss/logging/Logger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     167: aload         4
     169: invokeinterface #28,  1           // InterfaceMethod org/xnio/channels/StreamSinkChannel.shutdownWrites:()V
     174: getstatic     #23                 // Field io/undertow/server/handlers/error/FileErrorPageHandler.log:Lorg/jboss/logging/Logger;
     177: ldc           #29                 // String Finished serving %s, flushing (blocking)
     179: aload_1
     180: invokevirtual #25                 // Method org/jboss/logging/Logger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     183: aload         4
     185: invokestatic  #30                 // Method org/xnio/channels/Channels.flushBlocking:(Lorg/xnio/channels/SuspendableWriteChannel;)V
     188: getstatic     #23                 // Field io/undertow/server/handlers/error/FileErrorPageHandler.log:Lorg/jboss/logging/Logger;
     191: ldc           #31                 // String Finished serving %s (complete)
     193: aload_1
     194: invokevirtual #25                 // Method org/jboss/logging/Logger.tracef:(Ljava/lang/String;Ljava/lang/Object;)V
     197: aload_0
     198: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
     201: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
     204: pop
     205: aload_1
     206: invokestatic  #32                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     209: goto          254
     212: astore        5
     214: getstatic     #23                 // Field io/undertow/server/handlers/error/FileErrorPageHandler.log:Lorg/jboss/logging/Logger;
     217: ldc           #33                 // String Failed to serve %s: %s
     219: aload_1
     220: aload         5
     222: invokevirtual #34                 // Method org/jboss/logging/Logger.tracef:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     225: aload_0
     226: getfield      #2                  // Field val$exchange:Lio/undertow/server/HttpServerExchange;
     229: invokevirtual #11                 // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
     232: pop
     233: aload         4
     235: invokestatic  #32                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     238: aload_1
     239: invokestatic  #32                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     242: goto          254
     245: astore        6
     247: aload_1
     248: invokestatic  #32                 // Method org/xnio/IoUtils.safeClose:(Ljava/io/Closeable;)V
     251: aload         6
     253: athrow
     254: return
    Exception table:
       from    to  target type
           0    21    24   Class java/io/FileNotFoundException
           0    42    46   Class java/io/IOException
          65    76    79   Class java/io/IOException
         132   205   212   Class java/io/IOException
         132   205   245   any
         212   238   245   any
         245   247   245   any
}
