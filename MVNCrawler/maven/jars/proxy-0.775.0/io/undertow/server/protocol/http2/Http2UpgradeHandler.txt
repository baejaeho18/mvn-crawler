Compiled from "Http2UpgradeHandler.java"
public class io.undertow.server.protocol.http2.Http2UpgradeHandler implements io.undertow.server.HttpHandler {
  private final io.undertow.server.HttpHandler next;

  private final java.util.Set<java.lang.String> upgradeStrings;

  public io.undertow.server.protocol.http2.Http2UpgradeHandler(io.undertow.server.HttpHandler);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field next:Lio/undertow/server/HttpHandler;
       9: aload_0
      10: ldc           #4                  // String h2c
      12: invokestatic  #5                  // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      15: putfield      #6                  // Field upgradeStrings:Ljava/util/Set;
      18: return

  public io.undertow.server.protocol.http2.Http2UpgradeHandler(io.undertow.server.HttpHandler, java.lang.String...);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field next:Lio/undertow/server/HttpHandler;
       9: aload_0
      10: new           #7                  // class java/util/HashSet
      13: dup
      14: aload_2
      15: invokestatic  #8                  // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      18: invokespecial #9                  // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      21: putfield      #6                  // Field upgradeStrings:Ljava/util/Set;
      24: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #10                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
       4: getstatic     #11                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
       7: invokevirtual #12                 // Method io/undertow/util/HeaderMap.getFirst:(Lio/undertow/util/HttpString;)Ljava/lang/String;
      10: astore_2
      11: aload_1
      12: invokevirtual #10                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
      15: ldc           #13                 // String HTTP2-Settings
      17: invokevirtual #14                 // Method io/undertow/util/HeaderMap.getFirst:(Ljava/lang/String;)Ljava/lang/String;
      20: astore_3
      21: aload_3
      22: ifnull        74
      25: aload_2
      26: ifnull        74
      29: aload_0
      30: getfield      #6                  // Field upgradeStrings:Ljava/util/Set;
      33: aload_2
      34: invokeinterface #15,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      39: ifeq          74
      42: aload_1
      43: invokestatic  #16                 // Method io/undertow/server/protocol/http/HttpContinue.requiresContinueResponse:(Lio/undertow/server/HttpServerExchange;)Z
      46: ifeq          66
      49: aload_1
      50: new           #17                 // class io/undertow/server/protocol/http2/Http2UpgradeHandler$1
      53: dup
      54: aload_0
      55: aload_2
      56: aload_3
      57: invokespecial #18                 // Method io/undertow/server/protocol/http2/Http2UpgradeHandler$1."<init>":(Lio/undertow/server/protocol/http2/Http2UpgradeHandler;Ljava/lang/String;Ljava/lang/String;)V
      60: invokestatic  #19                 // Method io/undertow/server/protocol/http/HttpContinue.sendContinueResponse:(Lio/undertow/server/HttpServerExchange;Lio/undertow/io/IoCallback;)V
      63: goto          73
      66: aload_0
      67: aload_1
      68: aload_2
      69: aload_3
      70: invokevirtual #20                 // Method handleUpgradeBody:(Lio/undertow/server/HttpServerExchange;Ljava/lang/String;Ljava/lang/String;)V
      73: return
      74: aload_0
      75: getfield      #2                  // Field next:Lio/undertow/server/HttpHandler;
      78: aload_1
      79: invokeinterface #21,  2           // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
      84: return

  private void handleUpgradeBody(io.undertow.server.HttpServerExchange, java.lang.String, java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #22                 // Method io/undertow/server/HttpServerExchange.isRequestComplete:()Z
       4: ifeq          18
       7: aload_0
       8: aload_1
       9: aload_2
      10: aload_3
      11: aconst_null
      12: invokevirtual #23                 // Method handleHttp2Upgrade:(Lio/undertow/server/HttpServerExchange;Ljava/lang/String;Ljava/lang/String;[B)V
      15: goto          134
      18: aload_1
      19: invokevirtual #24                 // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
      22: invokevirtual #25                 // Method io/undertow/server/ServerConnection.getUndertowOptions:()Lorg/xnio/OptionMap;
      25: getstatic     #26                 // Field io/undertow/UndertowOptions.MAX_BUFFERED_REQUEST_SIZE:Lorg/xnio/Option;
      28: sipush        16384
      31: invokevirtual #28                 // Method org/xnio/OptionMap.get:(Lorg/xnio/Option;I)I
      34: istore        4
      36: aload_1
      37: invokevirtual #29                 // Method io/undertow/server/HttpServerExchange.getRequestContentLength:()J
      40: iload         4
      42: i2l
      43: lcmp
      44: ifle          60
      47: aload_0
      48: getfield      #2                  // Field next:Lio/undertow/server/HttpHandler;
      51: aload_1
      52: invokeinterface #21,  2           // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
      57: goto          134
      60: aload_1
      61: invokevirtual #29                 // Method io/undertow/server/HttpServerExchange.getRequestContentLength:()J
      64: lconst_0
      65: lcmp
      66: ifle          102
      69: aload_1
      70: invokevirtual #29                 // Method io/undertow/server/HttpServerExchange.getRequestContentLength:()J
      73: iload         4
      75: i2l
      76: lcmp
      77: ifge          102
      80: aload_1
      81: invokevirtual #30                 // Method io/undertow/server/HttpServerExchange.getRequestReceiver:()Lio/undertow/io/Receiver;
      84: new           #31                 // class io/undertow/server/protocol/http2/Http2UpgradeHandler$2
      87: dup
      88: aload_0
      89: aload_2
      90: aload_3
      91: invokespecial #32                 // Method io/undertow/server/protocol/http2/Http2UpgradeHandler$2."<init>":(Lio/undertow/server/protocol/http2/Http2UpgradeHandler;Ljava/lang/String;Ljava/lang/String;)V
      94: invokeinterface #33,  2           // InterfaceMethod io/undertow/io/Receiver.receiveFullBytes:(Lio/undertow/io/Receiver$FullBytesCallback;)V
      99: goto          134
     102: new           #34                 // class java/io/ByteArrayOutputStream
     105: dup
     106: invokespecial #35                 // Method java/io/ByteArrayOutputStream."<init>":()V
     109: astore        5
     111: aload_1
     112: invokevirtual #30                 // Method io/undertow/server/HttpServerExchange.getRequestReceiver:()Lio/undertow/io/Receiver;
     115: new           #36                 // class io/undertow/server/protocol/http2/Http2UpgradeHandler$3
     118: dup
     119: aload_0
     120: aload         5
     122: aload_2
     123: aload_3
     124: iload         4
     126: invokespecial #37                 // Method io/undertow/server/protocol/http2/Http2UpgradeHandler$3."<init>":(Lio/undertow/server/protocol/http2/Http2UpgradeHandler;Ljava/io/ByteArrayOutputStream;Ljava/lang/String;Ljava/lang/String;I)V
     129: invokeinterface #38,  2           // InterfaceMethod io/undertow/io/Receiver.receivePartialBytes:(Lio/undertow/io/Receiver$PartialBytesCallback;)V
     134: return

  private void handleHttp2Upgrade(io.undertow.server.HttpServerExchange, java.lang.String, java.lang.String, byte[]) throws java.io.IOException;
    Code:
       0: aload_3
       1: invokestatic  #39                 // Method io/undertow/util/FlexBase64.decodeURL:(Ljava/lang/String;)Ljava/nio/ByteBuffer;
       4: astore        5
       6: aload_1
       7: invokevirtual #40                 // Method io/undertow/server/HttpServerExchange.getResponseHeaders:()Lio/undertow/util/HeaderMap;
      10: getstatic     #11                 // Field io/undertow/util/Headers.UPGRADE:Lio/undertow/util/HttpString;
      13: aload_2
      14: invokevirtual #41                 // Method io/undertow/util/HeaderMap.put:(Lio/undertow/util/HttpString;Ljava/lang/String;)Lio/undertow/util/HeaderMap;
      17: pop
      18: aload_1
      19: new           #42                 // class io/undertow/server/protocol/http2/Http2UpgradeHandler$4
      22: dup
      23: aload_0
      24: aload_2
      25: aload         5
      27: aload         4
      29: invokespecial #43                 // Method io/undertow/server/protocol/http2/Http2UpgradeHandler$4."<init>":(Lio/undertow/server/protocol/http2/Http2UpgradeHandler;Ljava/lang/String;Ljava/nio/ByteBuffer;[B)V
      32: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.upgradeChannel:(Lio/undertow/server/HttpUpgradeListener;)Lio/undertow/server/HttpServerExchange;
      35: pop
      36: return
}
