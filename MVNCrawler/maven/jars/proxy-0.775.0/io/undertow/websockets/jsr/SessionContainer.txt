Compiled from "SessionContainer.java"
public class io.undertow.websockets.jsr.SessionContainer {
  private java.lang.Runnable doneTask;

  private volatile int waiterCount;

  private final java.util.Set<jakarta.websocket.Session> openSessions;

  public io.undertow.websockets.jsr.SessionContainer();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: invokestatic  #4                  // Method java/util/Collections.newSetFromMap:(Ljava/util/Map;)Ljava/util/Set;
      15: putfield      #5                  // Field openSessions:Ljava/util/Set;
      18: return

  public java.util.Set<jakarta.websocket.Session> getOpenSessions();
    Code:
       0: aload_0
       1: getfield      #5                  // Field openSessions:Ljava/util/Set;
       4: invokestatic  #6                  // Method java/util/Collections.unmodifiableSet:(Ljava/util/Set;)Ljava/util/Set;
       7: areturn

  public void addOpenSession(jakarta.websocket.Session);
    Code:
       0: aload_0
       1: dup
       2: astore_2
       3: monitorenter
       4: aload_0
       5: getfield      #5                  // Field openSessions:Ljava/util/Set;
       8: aload_1
       9: invokeinterface #7,  2            // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      14: pop
      15: aload_2
      16: monitorexit
      17: goto          25
      20: astore_3
      21: aload_2
      22: monitorexit
      23: aload_3
      24: athrow
      25: return
    Exception table:
       from    to  target type
           4    17    20   any
          20    23    20   any

  public void removeOpenSession(jakarta.websocket.Session);
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: dup
       4: astore_3
       5: monitorenter
       6: aload_0
       7: getfield      #5                  // Field openSessions:Ljava/util/Set;
      10: aload_1
      11: invokeinterface #8,  2            // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      16: pop
      17: aload_0
      18: getfield      #9                  // Field waiterCount:I
      21: ifle          40
      24: aload_0
      25: getfield      #5                  // Field openSessions:Ljava/util/Set;
      28: invokeinterface #10,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      33: ifeq          40
      36: aload_0
      37: invokevirtual #11                 // Method java/lang/Object.notifyAll:()V
      40: aload_0
      41: getfield      #12                 // Field doneTask:Ljava/lang/Runnable;
      44: ifnull        57
      47: aload_0
      48: getfield      #12                 // Field doneTask:Ljava/lang/Runnable;
      51: astore_2
      52: aload_0
      53: aconst_null
      54: putfield      #12                 // Field doneTask:Ljava/lang/Runnable;
      57: aload_3
      58: monitorexit
      59: goto          69
      62: astore        4
      64: aload_3
      65: monitorexit
      66: aload         4
      68: athrow
      69: aload_2
      70: ifnull        79
      73: aload_2
      74: invokeinterface #13,  1           // InterfaceMethod java/lang/Runnable.run:()V
      79: return
    Exception table:
       from    to  target type
           6    59    62   any
          62    66    62   any

  public void awaitClose(long);
    Code:
       0: aload_0
       1: dup
       2: astore_3
       3: monitorenter
       4: aload_0
       5: getfield      #5                  // Field openSessions:Ljava/util/Set;
       8: invokeinterface #10,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      13: ifeq          19
      16: aload_3
      17: monitorexit
      18: return
      19: aload_0
      20: dup
      21: getfield      #9                  // Field waiterCount:I
      24: iconst_1
      25: iadd
      26: putfield      #9                  // Field waiterCount:I
      29: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      32: lload_1
      33: ladd
      34: lstore        6
      36: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      39: dup2
      40: lstore        4
      42: lload         6
      44: lcmp
      45: ifge          72
      48: aload_0
      49: getfield      #5                  // Field openSessions:Ljava/util/Set;
      52: invokeinterface #10,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      57: ifne          72
      60: aload_0
      61: lload         6
      63: lload         4
      65: lsub
      66: invokevirtual #15                 // Method java/lang/Object.wait:(J)V
      69: goto          36
      72: aload_0
      73: dup
      74: getfield      #9                  // Field waiterCount:I
      77: iconst_1
      78: isub
      79: putfield      #9                  // Field waiterCount:I
      82: goto          115
      85: astore        8
      87: aload_0
      88: dup
      89: getfield      #9                  // Field waiterCount:I
      92: iconst_1
      93: isub
      94: putfield      #9                  // Field waiterCount:I
      97: goto          115
     100: astore        9
     102: aload_0
     103: dup
     104: getfield      #9                  // Field waiterCount:I
     107: iconst_1
     108: isub
     109: putfield      #9                  // Field waiterCount:I
     112: aload         9
     114: athrow
     115: aload_3
     116: monitorexit
     117: goto          127
     120: astore        10
     122: aload_3
     123: monitorexit
     124: aload         10
     126: athrow
     127: return
    Exception table:
       from    to  target type
          36    72    85   Class java/lang/InterruptedException
          36    72   100   any
          85    87   100   any
         100   102   100   any
           4    18   120   any
          19   117   120   any
         120   124   120   any

  public void notifyClosed(java.lang.Runnable);
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: dup
       4: astore_3
       5: monitorenter
       6: aload_0
       7: getfield      #5                  // Field openSessions:Ljava/util/Set;
      10: invokeinterface #10,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      15: ifeq          23
      18: iconst_1
      19: istore_2
      20: goto          28
      23: aload_0
      24: aload_1
      25: putfield      #12                 // Field doneTask:Ljava/lang/Runnable;
      28: aload_3
      29: monitorexit
      30: goto          40
      33: astore        4
      35: aload_3
      36: monitorexit
      37: aload         4
      39: athrow
      40: iload_2
      41: ifeq          50
      44: aload_1
      45: invokeinterface #13,  1           // InterfaceMethod java/lang/Runnable.run:()V
      50: return
    Exception table:
       from    to  target type
           6    30    33   any
          33    37    33   any
}
