Compiled from "SingleSignOnAuthenticationMechanism.java"
final class io.undertow.security.impl.SingleSignOnAuthenticationMechanism$ResponseListener implements io.undertow.server.ConduitWrapper<org.xnio.conduits.StreamSinkConduit> {
  final io.undertow.security.impl.SingleSignOnAuthenticationMechanism this$0;

  io.undertow.security.impl.SingleSignOnAuthenticationMechanism$ResponseListener(io.undertow.security.impl.SingleSignOnAuthenticationMechanism);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: return

  public org.xnio.conduits.StreamSinkConduit wrap(io.undertow.util.ConduitFactory<org.xnio.conduits.StreamSinkConduit>, io.undertow.server.HttpServerExchange);
    Code:
       0: aload_2
       1: invokevirtual #3                  // Method io/undertow/server/HttpServerExchange.getSecurityContext:()Lio/undertow/security/api/SecurityContext;
       4: astore_3
       5: aload_3
       6: invokeinterface #4,  1            // InterfaceMethod io/undertow/security/api/SecurityContext.getAuthenticatedAccount:()Lio/undertow/security/idm/Account;
      11: astore        4
      13: aload         4
      15: ifnull        190
      18: aload_0
      19: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
      22: getfield      #5                  // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.singleSignOnManager:Lio/undertow/security/impl/SingleSignOnManager;
      25: aload         4
      27: aload_3
      28: invokeinterface #6,  1            // InterfaceMethod io/undertow/security/api/SecurityContext.getMechanismName:()Ljava/lang/String;
      33: invokeinterface #7,  3            // InterfaceMethod io/undertow/security/impl/SingleSignOnManager.createSingleSignOn:(Lio/undertow/security/idm/Account;Ljava/lang/String;)Lio/undertow/security/impl/SingleSignOn;
      38: astore        5
      40: aload_0
      41: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
      44: aload_2
      45: invokevirtual #8                  // Method io/undertow/security/impl/SingleSignOnAuthenticationMechanism.getSession:(Lio/undertow/server/HttpServerExchange;)Lio/undertow/server/session/Session;
      48: astore        6
      50: aload         5
      52: ifnull        135
      55: aload_0
      56: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
      59: aload         5
      61: aload         6
      63: invokevirtual #9                  // Method io/undertow/security/impl/SingleSignOnAuthenticationMechanism.registerSessionIfRequired:(Lio/undertow/security/impl/SingleSignOn;Lio/undertow/server/session/Session;)V
      66: aload_2
      67: new           #10                 // class io/undertow/server/handlers/CookieImpl
      70: dup
      71: aload_0
      72: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
      75: getfield      #11                 // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.cookieName:Ljava/lang/String;
      78: aload         5
      80: invokeinterface #12,  1           // InterfaceMethod io/undertow/security/impl/SingleSignOn.getId:()Ljava/lang/String;
      85: invokespecial #13                 // Method io/undertow/server/handlers/CookieImpl."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      88: aload_0
      89: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
      92: getfield      #14                 // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.httpOnly:Z
      95: invokevirtual #15                 // Method io/undertow/server/handlers/CookieImpl.setHttpOnly:(Z)Lio/undertow/server/handlers/CookieImpl;
      98: aload_0
      99: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
     102: getfield      #16                 // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.secure:Z
     105: invokevirtual #17                 // Method io/undertow/server/handlers/CookieImpl.setSecure:(Z)Lio/undertow/server/handlers/CookieImpl;
     108: aload_0
     109: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
     112: getfield      #18                 // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.domain:Ljava/lang/String;
     115: invokevirtual #19                 // Method io/undertow/server/handlers/CookieImpl.setDomain:(Ljava/lang/String;)Lio/undertow/server/handlers/CookieImpl;
     118: aload_0
     119: getfield      #1                  // Field this$0:Lio/undertow/security/impl/SingleSignOnAuthenticationMechanism;
     122: getfield      #20                 // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.path:Ljava/lang/String;
     125: invokevirtual #21                 // Method io/undertow/server/handlers/CookieImpl.setPath:(Ljava/lang/String;)Lio/undertow/server/handlers/CookieImpl;
     128: invokevirtual #22                 // Method io/undertow/server/HttpServerExchange.setResponseCookie:(Lio/undertow/server/handlers/Cookie;)Lio/undertow/server/HttpServerExchange;
     131: pop
     132: goto          146
     135: getstatic     #23                 // Field io/undertow/UndertowLogger.SECURITY_LOGGER:Lio/undertow/UndertowLogger;
     138: getstatic     #24                 // Field io/undertow/security/impl/SingleSignOnAuthenticationMechanism.SSO_SESSION_ATTRIBUTE:Ljava/lang/String;
     141: invokeinterface #25,  2           // InterfaceMethod io/undertow/UndertowLogger.failedToCreateSSOForSession:(Ljava/lang/String;)V
     146: aload         5
     148: ifnull        190
     151: aload         5
     153: invokeinterface #26,  1           // InterfaceMethod io/undertow/security/impl/SingleSignOn.close:()V
     158: goto          190
     161: astore        6
     163: aload         5
     165: ifnull        187
     168: aload         5
     170: invokeinterface #26,  1           // InterfaceMethod io/undertow/security/impl/SingleSignOn.close:()V
     175: goto          187
     178: astore        7
     180: aload         6
     182: aload         7
     184: invokevirtual #28                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     187: aload         6
     189: athrow
     190: aload_1
     191: invokeinterface #29,  1           // InterfaceMethod io/undertow/util/ConduitFactory.create:()Lorg/xnio/conduits/Conduit;
     196: checkcast     #30                 // class org/xnio/conduits/StreamSinkConduit
     199: areturn
    Exception table:
       from    to  target type
          40   146   161   Class java/lang/Throwable
         168   175   178   Class java/lang/Throwable

  public org.xnio.conduits.Conduit wrap(io.undertow.util.ConduitFactory, io.undertow.server.HttpServerExchange);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #31                 // Method wrap:(Lio/undertow/util/ConduitFactory;Lio/undertow/server/HttpServerExchange;)Lorg/xnio/conduits/StreamSinkConduit;
       6: areturn
}
