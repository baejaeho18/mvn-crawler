Compiled from "CrawlerSessionManagerHandler.java"
public class io.undertow.servlet.handlers.CrawlerSessionManagerHandler implements io.undertow.server.HttpHandler {
  private static final java.lang.String SESSION_ATTRIBUTE_NAME;

  private final java.util.Map<java.lang.String, java.lang.String> clientIpSessionId;

  private final java.util.Map<java.lang.String, java.lang.String> sessionIdClientIp;

  private final io.undertow.servlet.api.CrawlerSessionManagerConfig config;

  private final java.util.regex.Pattern uaPattern;

  private final io.undertow.server.HttpHandler next;

  public io.undertow.servlet.handlers.CrawlerSessionManagerHandler(io.undertow.servlet.api.CrawlerSessionManagerConfig, io.undertow.server.HttpHandler);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field clientIpSessionId:Ljava/util/Map;
      15: aload_0
      16: new           #2                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #5                  // Field sessionIdClientIp:Ljava/util/Map;
      26: aload_0
      27: aload_1
      28: putfield      #6                  // Field config:Lio/undertow/servlet/api/CrawlerSessionManagerConfig;
      31: aload_0
      32: aload_2
      33: putfield      #7                  // Field next:Lio/undertow/server/HttpHandler;
      36: aload_0
      37: aload_1
      38: invokevirtual #8                  // Method io/undertow/servlet/api/CrawlerSessionManagerConfig.getCrawlerUserAgents:()Ljava/lang/String;
      41: invokestatic  #9                  // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      44: putfield      #10                 // Field uaPattern:Ljava/util/regex/Pattern;
      47: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore_2
       2: aconst_null
       3: astore_3
       4: aconst_null
       5: astore        4
       7: aload_1
       8: getstatic     #11                 // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
      11: invokevirtual #12                 // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
      14: checkcast     #13                 // class io/undertow/servlet/handlers/ServletRequestContext
      17: astore        5
      19: aload         5
      21: invokevirtual #14                 // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalRequest:()Lio/undertow/servlet/spec/HttpServletRequestImpl;
      24: iconst_0
      25: invokevirtual #15                 // Method io/undertow/servlet/spec/HttpServletRequestImpl.getSession:(Z)Ljakarta/servlet/http/HttpSession;
      28: ifnonnull     206
      31: aload_1
      32: invokevirtual #16                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
      35: getstatic     #17                 // Field io/undertow/util/Headers.USER_AGENT:Lio/undertow/util/HttpString;
      38: invokevirtual #18                 // Method io/undertow/util/HeaderMap.get:(Lio/undertow/util/HttpString;)Lio/undertow/util/HeaderValues;
      41: astore        6
      43: aload         6
      45: ifnull        206
      48: aload         6
      50: invokevirtual #19                 // Method io/undertow/util/HeaderValues.iterator:()Ljava/util/Iterator;
      53: astore        7
      55: aconst_null
      56: astore        8
      58: aload         7
      60: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      65: ifeq          80
      68: aload         7
      70: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      75: checkcast     #22                 // class java/lang/String
      78: astore        8
      80: aload         8
      82: ifnull        139
      85: aload         7
      87: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      92: ifne          139
      95: aload_0
      96: getfield      #10                 // Field uaPattern:Ljava/util/regex/Pattern;
      99: aload         8
     101: invokevirtual #23                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
     104: invokevirtual #24                 // Method java/util/regex/Matcher.matches:()Z
     107: ifeq          139
     110: iconst_1
     111: istore_2
     112: getstatic     #25                 // Field io/undertow/UndertowLogger.REQUEST_LOGGER:Lio/undertow/UndertowLogger;
     115: invokeinterface #26,  1           // InterfaceMethod io/undertow/UndertowLogger.isDebugEnabled:()Z
     120: ifeq          139
     123: getstatic     #25                 // Field io/undertow/UndertowLogger.REQUEST_LOGGER:Lio/undertow/UndertowLogger;
     126: aload_1
     127: aload         8
     129: invokedynamic #27,  0             // InvokeDynamic #0:makeConcatWithConstants:(Lio/undertow/server/HttpServerExchange;Ljava/lang/String;)Ljava/lang/String;
     134: invokeinterface #28,  2           // InterfaceMethod io/undertow/UndertowLogger.debug:(Ljava/lang/Object;)V
     139: iload_2
     140: ifeq          206
     143: aload         5
     145: invokevirtual #29                 // Method io/undertow/servlet/handlers/ServletRequestContext.getServletRequest:()Ljakarta/servlet/ServletRequest;
     148: invokeinterface #30,  1           // InterfaceMethod jakarta/servlet/ServletRequest.getRemoteAddr:()Ljava/lang/String;
     153: astore        4
     155: aload_0
     156: getfield      #4                  // Field clientIpSessionId:Ljava/util/Map;
     159: aload         4
     161: invokeinterface #31,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     166: checkcast     #22                 // class java/lang/String
     169: astore_3
     170: aload_3
     171: ifnull        206
     174: aload         5
     176: aload_3
     177: invokevirtual #32                 // Method io/undertow/servlet/handlers/ServletRequestContext.setOverridenSessionId:(Ljava/lang/String;)V
     180: getstatic     #25                 // Field io/undertow/UndertowLogger.REQUEST_LOGGER:Lio/undertow/UndertowLogger;
     183: invokeinterface #26,  1           // InterfaceMethod io/undertow/UndertowLogger.isDebugEnabled:()Z
     188: ifeq          206
     191: getstatic     #25                 // Field io/undertow/UndertowLogger.REQUEST_LOGGER:Lio/undertow/UndertowLogger;
     194: aload_1
     195: aload_3
     196: invokedynamic #33,  0             // InvokeDynamic #1:makeConcatWithConstants:(Lio/undertow/server/HttpServerExchange;Ljava/lang/String;)Ljava/lang/String;
     201: invokeinterface #28,  2           // InterfaceMethod io/undertow/UndertowLogger.debug:(Ljava/lang/Object;)V
     206: iload_2
     207: ifeq          234
     210: aload_3
     211: astore        6
     213: aload         4
     215: astore        7
     217: aload_1
     218: new           #34                 // class io/undertow/servlet/handlers/CrawlerSessionManagerHandler$1
     221: dup
     222: aload_0
     223: aload         6
     225: aload         7
     227: invokespecial #35                 // Method io/undertow/servlet/handlers/CrawlerSessionManagerHandler$1."<init>":(Lio/undertow/servlet/handlers/CrawlerSessionManagerHandler;Ljava/lang/String;Ljava/lang/String;)V
     230: invokevirtual #36                 // Method io/undertow/server/HttpServerExchange.addExchangeCompleteListener:(Lio/undertow/server/ExchangeCompletionListener;)Lio/undertow/server/HttpServerExchange;
     233: pop
     234: aload_0
     235: getfield      #7                  // Field next:Lio/undertow/server/HttpHandler;
     238: aload_1
     239: invokeinterface #37,  2           // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
     244: return

  static {};
    Code:
       0: ldc           #38                 // class io/undertow/servlet/handlers/CrawlerSessionManagerHandler
       2: invokevirtual #39                 // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokedynamic #40,  0             // InvokeDynamic #2:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      10: putstatic     #41                 // Field SESSION_ATTRIBUTE_NAME:Ljava/lang/String;
      13: return
}
