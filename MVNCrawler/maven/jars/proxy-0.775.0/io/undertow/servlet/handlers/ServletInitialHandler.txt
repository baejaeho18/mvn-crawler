Compiled from "ServletInitialHandler.java"
public class io.undertow.servlet.handlers.ServletInitialHandler implements io.undertow.server.HttpHandler,io.undertow.servlet.api.ServletDispatcher {
  private static final java.lang.RuntimePermission PERMISSION;

  private final io.undertow.server.HttpHandler next;

  private final io.undertow.servlet.api.ThreadSetupHandler$Action<java.lang.Object, io.undertow.servlet.handlers.ServletRequestContext> firstRequestHandler;

  private final io.undertow.servlet.spec.ServletContextImpl servletContext;

  private final io.undertow.servlet.core.ApplicationListeners listeners;

  private final io.undertow.servlet.handlers.ServletPathMatches paths;

  private final io.undertow.servlet.api.ExceptionHandler exceptionHandler;

  private final io.undertow.server.HttpHandler dispatchHandler;

  public io.undertow.servlet.handlers.ServletInitialHandler(io.undertow.servlet.handlers.ServletPathMatches, io.undertow.server.HttpHandler, io.undertow.servlet.api.Deployment, io.undertow.servlet.spec.ServletContextImpl);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class io/undertow/servlet/handlers/ServletInitialHandler$1
       8: dup
       9: aload_0
      10: invokespecial #3                  // Method io/undertow/servlet/handlers/ServletInitialHandler$1."<init>":(Lio/undertow/servlet/handlers/ServletInitialHandler;)V
      13: putfield      #4                  // Field dispatchHandler:Lio/undertow/server/HttpHandler;
      16: aload_0
      17: aload_2
      18: putfield      #5                  // Field next:Lio/undertow/server/HttpHandler;
      21: aload_0
      22: aload         4
      24: putfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      27: aload_0
      28: aload_1
      29: putfield      #7                  // Field paths:Lio/undertow/servlet/handlers/ServletPathMatches;
      32: aload_0
      33: aload         4
      35: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
      38: invokeinterface #9,  1            // InterfaceMethod io/undertow/servlet/api/Deployment.getApplicationListeners:()Lio/undertow/servlet/core/ApplicationListeners;
      43: putfield      #10                 // Field listeners:Lio/undertow/servlet/core/ApplicationListeners;
      46: invokestatic  #11                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
      49: astore        5
      51: aload         5
      53: ifnull        64
      56: aload         5
      58: getstatic     #12                 // Field PERMISSION:Ljava/lang/RuntimePermission;
      61: invokevirtual #13                 // Method java/lang/SecurityManager.checkPermission:(Ljava/security/Permission;)V
      64: aload         4
      66: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
      69: invokeinterface #14,  1           // InterfaceMethod io/undertow/servlet/api/Deployment.getDeploymentInfo:()Lio/undertow/servlet/api/DeploymentInfo;
      74: invokevirtual #15                 // Method io/undertow/servlet/api/DeploymentInfo.getExceptionHandler:()Lio/undertow/servlet/api/ExceptionHandler;
      77: astore        6
      79: aload         6
      81: ifnull        93
      84: aload_0
      85: aload         6
      87: putfield      #16                 // Field exceptionHandler:Lio/undertow/servlet/api/ExceptionHandler;
      90: goto          100
      93: aload_0
      94: getstatic     #17                 // Field io/undertow/servlet/api/LoggingExceptionHandler.DEFAULT:Lio/undertow/servlet/api/LoggingExceptionHandler;
      97: putfield      #16                 // Field exceptionHandler:Lio/undertow/servlet/api/ExceptionHandler;
     100: aload_0
     101: aload_3
     102: new           #18                 // class io/undertow/servlet/handlers/ServletInitialHandler$2
     105: dup
     106: aload_0
     107: invokespecial #19                 // Method io/undertow/servlet/handlers/ServletInitialHandler$2."<init>":(Lio/undertow/servlet/handlers/ServletInitialHandler;)V
     110: invokeinterface #20,  2           // InterfaceMethod io/undertow/servlet/api/Deployment.createThreadSetupAction:(Lio/undertow/servlet/api/ThreadSetupHandler$Action;)Lio/undertow/servlet/api/ThreadSetupHandler$Action;
     115: putfield      #21                 // Field firstRequestHandler:Lio/undertow/servlet/api/ThreadSetupHandler$Action;
     118: return

  public void handleRequest(io.undertow.server.HttpServerExchange) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #22                 // Method io/undertow/server/HttpServerExchange.getRelativePath:()Ljava/lang/String;
       4: astore_2
       5: aload_2
       6: invokestatic  #23                 // Method io/undertow/servlet/handlers/Paths.isForbidden:(Ljava/lang/String;)Z
       9: ifeq          21
      12: aload_1
      13: sipush        404
      16: invokevirtual #25                 // Method io/undertow/server/HttpServerExchange.setStatusCode:(I)Lio/undertow/server/HttpServerExchange;
      19: pop
      20: return
      21: aload_0
      22: getfield      #7                  // Field paths:Lio/undertow/servlet/handlers/ServletPathMatches;
      25: aload_2
      26: invokevirtual #26                 // Method io/undertow/servlet/handlers/ServletPathMatches.getServletHandlerByPath:(Ljava/lang/String;)Lio/undertow/servlet/handlers/ServletPathMatch;
      29: astore_3
      30: aload_3
      31: invokevirtual #27                 // Method io/undertow/servlet/handlers/ServletPathMatch.getType:()Lio/undertow/servlet/handlers/ServletPathMatch$Type;
      34: getstatic     #28                 // Field io/undertow/servlet/handlers/ServletPathMatch$Type.REWRITE:Lio/undertow/servlet/handlers/ServletPathMatch$Type;
      37: if_acmpne     67
      40: aload_1
      41: aload_3
      42: invokevirtual #29                 // Method io/undertow/servlet/handlers/ServletPathMatch.getRewriteLocation:()Ljava/lang/String;
      45: invokevirtual #30                 // Method io/undertow/server/HttpServerExchange.setRelativePath:(Ljava/lang/String;)Lio/undertow/server/HttpServerExchange;
      48: pop
      49: aload_1
      50: aload_1
      51: invokevirtual #31                 // Method io/undertow/server/HttpServerExchange.getResolvedPath:()Ljava/lang/String;
      54: aload_3
      55: invokevirtual #29                 // Method io/undertow/servlet/handlers/ServletPathMatch.getRewriteLocation:()Ljava/lang/String;
      58: invokedynamic #32,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      63: invokevirtual #33                 // Method io/undertow/server/HttpServerExchange.setRequestPath:(Ljava/lang/String;)Lio/undertow/server/HttpServerExchange;
      66: pop
      67: new           #34                 // class io/undertow/servlet/spec/HttpServletResponseImpl
      70: dup
      71: aload_1
      72: aload_0
      73: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      76: invokespecial #35                 // Method io/undertow/servlet/spec/HttpServletResponseImpl."<init>":(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/spec/ServletContextImpl;)V
      79: astore        4
      81: new           #36                 // class io/undertow/servlet/spec/HttpServletRequestImpl
      84: dup
      85: aload_1
      86: aload_0
      87: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      90: invokespecial #37                 // Method io/undertow/servlet/spec/HttpServletRequestImpl."<init>":(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/spec/ServletContextImpl;)V
      93: astore        5
      95: new           #38                 // class io/undertow/servlet/handlers/ServletRequestContext
      98: dup
      99: aload_0
     100: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     103: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
     106: aload         5
     108: aload         4
     110: aload_3
     111: invokespecial #39                 // Method io/undertow/servlet/handlers/ServletRequestContext."<init>":(Lio/undertow/servlet/api/Deployment;Lio/undertow/servlet/spec/HttpServletRequestImpl;Lio/undertow/servlet/spec/HttpServletResponseImpl;Lio/undertow/servlet/handlers/ServletPathMatch;)V
     114: astore        6
     116: aload_3
     117: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     120: invokevirtual #41                 // Method io/undertow/servlet/handlers/ServletChain.getManagedServlet:()Lio/undertow/servlet/core/ManagedServlet;
     123: invokevirtual #42                 // Method io/undertow/servlet/core/ManagedServlet.getMaxRequestSize:()J
     126: lconst_0
     127: lcmp
     128: ifle          154
     131: aload_0
     132: aload_1
     133: invokevirtual #43                 // Method isMultiPartExchange:(Lio/undertow/server/HttpServerExchange;)Z
     136: ifeq          154
     139: aload_1
     140: aload_3
     141: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     144: invokevirtual #41                 // Method io/undertow/servlet/handlers/ServletChain.getManagedServlet:()Lio/undertow/servlet/core/ManagedServlet;
     147: invokevirtual #42                 // Method io/undertow/servlet/core/ManagedServlet.getMaxRequestSize:()J
     150: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.setMaxEntitySize:(J)Lio/undertow/server/HttpServerExchange;
     153: pop
     154: aload_1
     155: getstatic     #45                 // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
     158: aload         6
     160: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     163: pop
     164: aload_1
     165: new           #47                 // class io/undertow/servlet/core/ServletBlockingHttpExchange
     168: dup
     169: aload_1
     170: invokespecial #48                 // Method io/undertow/servlet/core/ServletBlockingHttpExchange."<init>":(Lio/undertow/server/HttpServerExchange;)V
     173: invokevirtual #49                 // Method io/undertow/server/HttpServerExchange.startBlocking:(Lio/undertow/server/BlockingHttpExchange;)Lio/undertow/server/BlockingHttpExchange;
     176: pop
     177: aload         6
     179: aload_3
     180: invokevirtual #50                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletPathMatch:(Lio/undertow/servlet/handlers/ServletPathMatch;)V
     183: aload_3
     184: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     187: invokevirtual #51                 // Method io/undertow/servlet/handlers/ServletChain.getExecutor:()Ljava/util/concurrent/Executor;
     190: astore        7
     192: aload         7
     194: ifnonnull     211
     197: aload_0
     198: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     201: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
     204: invokeinterface #52,  1           // InterfaceMethod io/undertow/servlet/api/Deployment.getExecutor:()Ljava/util/concurrent/Executor;
     209: astore        7
     211: aload_1
     212: invokevirtual #53                 // Method io/undertow/server/HttpServerExchange.isInIoThread:()Z
     215: ifne          223
     218: aload         7
     220: ifnull        237
     223: aload_1
     224: aload         7
     226: aload_0
     227: getfield      #4                  // Field dispatchHandler:Lio/undertow/server/HttpHandler;
     230: invokevirtual #54                 // Method io/undertow/server/HttpServerExchange.dispatch:(Ljava/util/concurrent/Executor;Lio/undertow/server/HttpHandler;)Lio/undertow/server/HttpServerExchange;
     233: pop
     234: goto          251
     237: aload_0
     238: aload_1
     239: aload         6
     241: aload_3
     242: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     245: getstatic     #55                 // Field jakarta/servlet/DispatcherType.REQUEST:Ljakarta/servlet/DispatcherType;
     248: invokevirtual #56                 // Method dispatchRequest:(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/handlers/ServletRequestContext;Lio/undertow/servlet/handlers/ServletChain;Ljakarta/servlet/DispatcherType;)V
     251: return

  public void dispatchToPath(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletPathMatch, jakarta.servlet.DispatcherType) throws java.lang.Exception;
    Code:
       0: aload_1
       1: getstatic     #45                 // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
       4: invokevirtual #57                 // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
       7: checkcast     #38                 // class io/undertow/servlet/handlers/ServletRequestContext
      10: astore        4
      12: aload         4
      14: aload_2
      15: invokevirtual #50                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletPathMatch:(Lio/undertow/servlet/handlers/ServletPathMatch;)V
      18: aload_0
      19: aload_1
      20: aload         4
      22: aload_2
      23: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
      26: aload_3
      27: invokevirtual #56                 // Method dispatchRequest:(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/handlers/ServletRequestContext;Lio/undertow/servlet/handlers/ServletChain;Ljakarta/servlet/DispatcherType;)V
      30: return

  public void dispatchToServlet(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletChain, jakarta.servlet.DispatcherType) throws java.lang.Exception;
    Code:
       0: aload_1
       1: getstatic     #45                 // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
       4: invokevirtual #57                 // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
       7: checkcast     #38                 // class io/undertow/servlet/handlers/ServletRequestContext
      10: astore        4
      12: aload         4
      14: invokevirtual #58                 // Method io/undertow/servlet/handlers/ServletRequestContext.getDispatcherType:()Ljakarta/servlet/DispatcherType;
      17: astore        5
      19: aload         4
      21: invokevirtual #59                 // Method io/undertow/servlet/handlers/ServletRequestContext.getCurrentServlet:()Lio/undertow/servlet/handlers/ServletChain;
      24: astore        6
      26: aload_0
      27: aload_1
      28: aload         4
      30: aload_2
      31: aload_3
      32: invokevirtual #56                 // Method dispatchRequest:(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/handlers/ServletRequestContext;Lio/undertow/servlet/handlers/ServletChain;Ljakarta/servlet/DispatcherType;)V
      35: aload         4
      37: aload         5
      39: invokevirtual #60                 // Method io/undertow/servlet/handlers/ServletRequestContext.setDispatcherType:(Ljakarta/servlet/DispatcherType;)V
      42: aload         4
      44: aload         6
      46: invokevirtual #61                 // Method io/undertow/servlet/handlers/ServletRequestContext.setCurrentServlet:(Lio/undertow/servlet/handlers/ServletChain;)V
      49: goto          71
      52: astore        7
      54: aload         4
      56: aload         5
      58: invokevirtual #60                 // Method io/undertow/servlet/handlers/ServletRequestContext.setDispatcherType:(Ljakarta/servlet/DispatcherType;)V
      61: aload         4
      63: aload         6
      65: invokevirtual #61                 // Method io/undertow/servlet/handlers/ServletRequestContext.setCurrentServlet:(Lio/undertow/servlet/handlers/ServletChain;)V
      68: aload         7
      70: athrow
      71: return
    Exception table:
       from    to  target type
          26    35    52   any
          52    54    52   any

  public void dispatchMockRequest(jakarta.servlet.http.HttpServletRequest, jakarta.servlet.http.HttpServletResponse) throws jakarta.servlet.ServletException;
    Code:
       0: new           #62                 // class io/undertow/server/DefaultByteBufferPool
       3: dup
       4: iconst_0
       5: sipush        1024
       8: iconst_0
       9: iconst_0
      10: invokespecial #63                 // Method io/undertow/server/DefaultByteBufferPool."<init>":(ZIII)V
      13: astore_3
      14: new           #64                 // class io/undertow/servlet/handlers/ServletInitialHandler$MockServerConnection
      17: dup
      18: aload_3
      19: invokespecial #65                 // Method io/undertow/servlet/handlers/ServletInitialHandler$MockServerConnection."<init>":(Lio/undertow/connector/ByteBufferPool;)V
      22: astore        4
      24: new           #66                 // class io/undertow/server/HttpServerExchange
      27: dup
      28: aload         4
      30: invokespecial #67                 // Method io/undertow/server/HttpServerExchange."<init>":(Lio/undertow/server/ServerConnection;)V
      33: astore        5
      35: aload         5
      37: aload_1
      38: invokeinterface #68,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getScheme:()Ljava/lang/String;
      43: invokevirtual #69                 // Method io/undertow/server/HttpServerExchange.setRequestScheme:(Ljava/lang/String;)Lio/undertow/server/HttpServerExchange;
      46: pop
      47: aload         5
      49: new           #70                 // class io/undertow/util/HttpString
      52: dup
      53: aload_1
      54: invokeinterface #71,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getMethod:()Ljava/lang/String;
      59: invokespecial #72                 // Method io/undertow/util/HttpString."<init>":(Ljava/lang/String;)V
      62: invokevirtual #73                 // Method io/undertow/server/HttpServerExchange.setRequestMethod:(Lio/undertow/util/HttpString;)Lio/undertow/server/HttpServerExchange;
      65: pop
      66: aload         5
      68: getstatic     #74                 // Field io/undertow/util/Protocols.HTTP_1_0:Lio/undertow/util/HttpString;
      71: invokevirtual #75                 // Method io/undertow/server/HttpServerExchange.setProtocol:(Lio/undertow/util/HttpString;)Lio/undertow/server/HttpServerExchange;
      74: pop
      75: aload         5
      77: aload_1
      78: invokeinterface #76,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getContextPath:()Ljava/lang/String;
      83: invokevirtual #77                 // Method io/undertow/server/HttpServerExchange.setResolvedPath:(Ljava/lang/String;)Lio/undertow/server/HttpServerExchange;
      86: pop
      87: aload_1
      88: invokeinterface #78,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getPathInfo:()Ljava/lang/String;
      93: ifnonnull     107
      96: aload_1
      97: invokeinterface #79,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getServletPath:()Ljava/lang/String;
     102: astore        6
     104: goto          126
     107: aload_1
     108: invokeinterface #79,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getServletPath:()Ljava/lang/String;
     113: aload_1
     114: invokeinterface #78,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getPathInfo:()Ljava/lang/String;
     119: invokedynamic #32,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     124: astore        6
     126: aload         5
     128: aload         6
     130: invokevirtual #30                 // Method io/undertow/server/HttpServerExchange.setRelativePath:(Ljava/lang/String;)Lio/undertow/server/HttpServerExchange;
     133: pop
     134: aload_0
     135: getfield      #7                  // Field paths:Lio/undertow/servlet/handlers/ServletPathMatches;
     138: aload_1
     139: invokeinterface #79,  1           // InterfaceMethod jakarta/servlet/http/HttpServletRequest.getServletPath:()Ljava/lang/String;
     144: invokevirtual #26                 // Method io/undertow/servlet/handlers/ServletPathMatches.getServletHandlerByPath:(Ljava/lang/String;)Lio/undertow/servlet/handlers/ServletPathMatch;
     147: astore        7
     149: new           #34                 // class io/undertow/servlet/spec/HttpServletResponseImpl
     152: dup
     153: aload         5
     155: aload_0
     156: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     159: invokespecial #35                 // Method io/undertow/servlet/spec/HttpServletResponseImpl."<init>":(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/spec/ServletContextImpl;)V
     162: astore        8
     164: new           #36                 // class io/undertow/servlet/spec/HttpServletRequestImpl
     167: dup
     168: aload         5
     170: aload_0
     171: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     174: invokespecial #37                 // Method io/undertow/servlet/spec/HttpServletRequestImpl."<init>":(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/spec/ServletContextImpl;)V
     177: astore        9
     179: new           #38                 // class io/undertow/servlet/handlers/ServletRequestContext
     182: dup
     183: aload_0
     184: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     187: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
     190: aload         9
     192: aload         8
     194: aload         7
     196: invokespecial #39                 // Method io/undertow/servlet/handlers/ServletRequestContext."<init>":(Lio/undertow/servlet/api/Deployment;Lio/undertow/servlet/spec/HttpServletRequestImpl;Lio/undertow/servlet/spec/HttpServletResponseImpl;Lio/undertow/servlet/handlers/ServletPathMatch;)V
     199: astore        10
     201: aload         10
     203: aload_1
     204: invokevirtual #80                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletRequest:(Ljakarta/servlet/ServletRequest;)V
     207: aload         10
     209: aload_2
     210: invokevirtual #81                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletResponse:(Ljakarta/servlet/ServletResponse;)V
     213: aload         7
     215: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     218: invokevirtual #41                 // Method io/undertow/servlet/handlers/ServletChain.getManagedServlet:()Lio/undertow/servlet/core/ManagedServlet;
     221: invokevirtual #42                 // Method io/undertow/servlet/core/ManagedServlet.getMaxRequestSize:()J
     224: lconst_0
     225: lcmp
     226: ifle          255
     229: aload_0
     230: aload         5
     232: invokevirtual #43                 // Method isMultiPartExchange:(Lio/undertow/server/HttpServerExchange;)Z
     235: ifeq          255
     238: aload         5
     240: aload         7
     242: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     245: invokevirtual #41                 // Method io/undertow/servlet/handlers/ServletChain.getManagedServlet:()Lio/undertow/servlet/core/ManagedServlet;
     248: invokevirtual #42                 // Method io/undertow/servlet/core/ManagedServlet.getMaxRequestSize:()J
     251: invokevirtual #44                 // Method io/undertow/server/HttpServerExchange.setMaxEntitySize:(J)Lio/undertow/server/HttpServerExchange;
     254: pop
     255: aload         5
     257: getstatic     #45                 // Field io/undertow/servlet/handlers/ServletRequestContext.ATTACHMENT_KEY:Lio/undertow/util/AttachmentKey;
     260: aload         10
     262: invokevirtual #46                 // Method io/undertow/server/HttpServerExchange.putAttachment:(Lio/undertow/util/AttachmentKey;Ljava/lang/Object;)Ljava/lang/Object;
     265: pop
     266: aload         5
     268: new           #47                 // class io/undertow/servlet/core/ServletBlockingHttpExchange
     271: dup
     272: aload         5
     274: invokespecial #48                 // Method io/undertow/servlet/core/ServletBlockingHttpExchange."<init>":(Lio/undertow/server/HttpServerExchange;)V
     277: invokevirtual #49                 // Method io/undertow/server/HttpServerExchange.startBlocking:(Lio/undertow/server/BlockingHttpExchange;)Lio/undertow/server/BlockingHttpExchange;
     280: pop
     281: aload         10
     283: aload         7
     285: invokevirtual #50                 // Method io/undertow/servlet/handlers/ServletRequestContext.setServletPathMatch:(Lio/undertow/servlet/handlers/ServletPathMatch;)V
     288: aload_0
     289: aload         5
     291: aload         10
     293: aload         7
     295: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     298: getstatic     #55                 // Field jakarta/servlet/DispatcherType.REQUEST:Ljakarta/servlet/DispatcherType;
     301: invokevirtual #56                 // Method dispatchRequest:(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/handlers/ServletRequestContext;Lio/undertow/servlet/handlers/ServletChain;Ljakarta/servlet/DispatcherType;)V
     304: goto          333
     307: astore        11
     309: aload         11
     311: instanceof    #83                 // class java/lang/RuntimeException
     314: ifeq          323
     317: aload         11
     319: checkcast     #83                 // class java/lang/RuntimeException
     322: athrow
     323: new           #84                 // class jakarta/servlet/ServletException
     326: dup
     327: aload         11
     329: invokespecial #85                 // Method jakarta/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
     332: athrow
     333: return
    Exception table:
       from    to  target type
         288   304   307   Class java/lang/Exception

  private boolean isMultiPartExchange(io.undertow.server.HttpServerExchange);
    Code:
       0: aload_1
       1: invokevirtual #86                 // Method io/undertow/server/HttpServerExchange.getRequestHeaders:()Lio/undertow/util/HeaderMap;
       4: getstatic     #87                 // Field io/undertow/util/Headers.CONTENT_TYPE:Lio/undertow/util/HttpString;
       7: invokevirtual #88                 // Method io/undertow/util/HeaderMap.get:(Lio/undertow/util/HttpString;)Lio/undertow/util/HeaderValues;
      10: astore_2
      11: aload_2
      12: ifnull        32
      15: aload_2
      16: invokevirtual #89                 // Method io/undertow/util/HeaderValues.isEmpty:()Z
      19: ifne          32
      22: aload_2
      23: invokevirtual #90                 // Method io/undertow/util/HeaderValues.getFirst:()Ljava/lang/String;
      26: ldc           #91                 // String multipart
      28: invokevirtual #92                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      31: ireturn
      32: iconst_0
      33: ireturn

  private void dispatchRequest(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext, io.undertow.servlet.handlers.ServletChain, jakarta.servlet.DispatcherType) throws java.lang.Exception;
    Code:
       0: aload_2
       1: aload         4
       3: invokevirtual #60                 // Method io/undertow/servlet/handlers/ServletRequestContext.setDispatcherType:(Ljakarta/servlet/DispatcherType;)V
       6: aload_2
       7: aload_3
       8: invokevirtual #61                 // Method io/undertow/servlet/handlers/ServletRequestContext.setCurrentServlet:(Lio/undertow/servlet/handlers/ServletChain;)V
      11: aload         4
      13: getstatic     #55                 // Field jakarta/servlet/DispatcherType.REQUEST:Ljakarta/servlet/DispatcherType;
      16: if_acmpeq     27
      19: aload         4
      21: getstatic     #93                 // Field jakarta/servlet/DispatcherType.ASYNC:Ljakarta/servlet/DispatcherType;
      24: if_acmpne     42
      27: aload_0
      28: getfield      #21                 // Field firstRequestHandler:Lio/undertow/servlet/api/ThreadSetupHandler$Action;
      31: aload_1
      32: aload_2
      33: invokeinterface #94,  3           // InterfaceMethod io/undertow/servlet/api/ThreadSetupHandler$Action.call:(Lio/undertow/server/HttpServerExchange;Ljava/lang/Object;)Ljava/lang/Object;
      38: pop
      39: goto          52
      42: aload_0
      43: getfield      #5                  // Field next:Lio/undertow/server/HttpHandler;
      46: aload_1
      47: invokeinterface #95,  2           // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
      52: return

  private void handleFirstRequest(io.undertow.server.HttpServerExchange, io.undertow.servlet.handlers.ServletRequestContext) throws java.lang.Exception;
    Code:
       0: aload_2
       1: invokevirtual #96                 // Method io/undertow/servlet/handlers/ServletRequestContext.getServletRequest:()Ljakarta/servlet/ServletRequest;
       4: astore_3
       5: aload_2
       6: invokevirtual #97                 // Method io/undertow/servlet/handlers/ServletRequestContext.getServletResponse:()Ljakarta/servlet/ServletResponse;
       9: astore        4
      11: aload_1
      12: getstatic     #98                 // Field io/undertow/server/HttpServerExchange.REQUEST_ATTRIBUTES:Lio/undertow/util/AttachmentKey;
      15: invokevirtual #57                 // Method io/undertow/server/HttpServerExchange.getAttachment:(Lio/undertow/util/AttachmentKey;)Ljava/lang/Object;
      18: checkcast     #99                 // class java/util/Map
      21: astore        5
      23: aload         5
      25: ifnull        90
      28: aload         5
      30: invokeinterface #100,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      35: invokeinterface #101,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      40: astore        6
      42: aload         6
      44: invokeinterface #102,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      49: ifeq          90
      52: aload         6
      54: invokeinterface #103,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      59: checkcast     #104                // class java/util/Map$Entry
      62: astore        7
      64: aload_3
      65: aload         7
      67: invokeinterface #105,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      72: checkcast     #106                // class java/lang/String
      75: aload         7
      77: invokeinterface #107,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      82: invokeinterface #108,  3          // InterfaceMethod jakarta/servlet/ServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      87: goto          42
      90: aload_2
      91: iconst_1
      92: invokevirtual #109                // Method io/undertow/servlet/handlers/ServletRequestContext.setRunningInsideHandler:(Z)V
      95: aload_0
      96: getfield      #10                 // Field listeners:Lio/undertow/servlet/core/ApplicationListeners;
      99: aload_3
     100: invokevirtual #110                // Method io/undertow/servlet/core/ApplicationListeners.requestInitialized:(Ljakarta/servlet/ServletRequest;)V
     103: aload_0
     104: getfield      #5                  // Field next:Lio/undertow/server/HttpHandler;
     107: aload_1
     108: invokeinterface #95,  2           // InterfaceMethod io/undertow/server/HttpHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;)V
     113: aload_2
     114: invokevirtual #111                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalRequest:()Lio/undertow/servlet/spec/HttpServletRequestImpl;
     117: invokevirtual #112                // Method io/undertow/servlet/spec/HttpServletRequestImpl.getAsyncContextInternal:()Lio/undertow/servlet/spec/AsyncContextImpl;
     120: astore        6
     122: aload         6
     124: ifnull        140
     127: aload         6
     129: invokevirtual #113                // Method io/undertow/servlet/spec/AsyncContextImpl.isCompletedBeforeInitialRequestDone:()Z
     132: ifeq          140
     135: aload         6
     137: invokevirtual #114                // Method io/undertow/servlet/spec/AsyncContextImpl.handleCompletedBeforeInitialRequestDone:()V
     140: aload_2
     141: invokevirtual #115                // Method io/undertow/servlet/handlers/ServletRequestContext.getErrorCode:()I
     144: ifle          162
     147: aload_2
     148: invokevirtual #116                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalResponse:()Lio/undertow/servlet/spec/HttpServletResponseImpl;
     151: aload_2
     152: invokevirtual #115                // Method io/undertow/servlet/handlers/ServletRequestContext.getErrorCode:()I
     155: aload_2
     156: invokevirtual #117                // Method io/undertow/servlet/handlers/ServletRequestContext.getErrorMessage:()Ljava/lang/String;
     159: invokevirtual #118                // Method io/undertow/servlet/spec/HttpServletResponseImpl.doErrorDispatch:(ILjava/lang/String;)V
     162: aload_2
     163: iconst_0
     164: invokevirtual #109                // Method io/undertow/servlet/handlers/ServletRequestContext.setRunningInsideHandler:(Z)V
     167: aload_0
     168: getfield      #10                 // Field listeners:Lio/undertow/servlet/core/ApplicationListeners;
     171: aload_3
     172: invokevirtual #119                // Method io/undertow/servlet/core/ApplicationListeners.requestDestroyed:(Ljakarta/servlet/ServletRequest;)V
     175: goto          497
     178: astore        6
     180: aload_2
     181: iconst_0
     182: invokevirtual #109                // Method io/undertow/servlet/handlers/ServletRequestContext.setRunningInsideHandler:(Z)V
     185: aload_2
     186: invokevirtual #111                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalRequest:()Lio/undertow/servlet/spec/HttpServletRequestImpl;
     189: invokevirtual #112                // Method io/undertow/servlet/spec/HttpServletRequestImpl.getAsyncContextInternal:()Lio/undertow/servlet/spec/AsyncContextImpl;
     192: astore        7
     194: aload         7
     196: ifnull        212
     199: aload         7
     201: invokevirtual #113                // Method io/undertow/servlet/spec/AsyncContextImpl.isCompletedBeforeInitialRequestDone:()Z
     204: ifeq          212
     207: aload         7
     209: invokevirtual #114                // Method io/undertow/servlet/spec/AsyncContextImpl.handleCompletedBeforeInitialRequestDone:()V
     212: aload         7
     214: ifnull        222
     217: aload         7
     219: invokevirtual #121                // Method io/undertow/servlet/spec/AsyncContextImpl.initialRequestFailed:()V
     222: aload_0
     223: getfield      #16                 // Field exceptionHandler:Lio/undertow/servlet/api/ExceptionHandler;
     226: aload_1
     227: aload_3
     228: aload         4
     230: aload         6
     232: invokeinterface #122,  5          // InterfaceMethod io/undertow/servlet/api/ExceptionHandler.handleThrowable:(Lio/undertow/server/HttpServerExchange;Ljakarta/servlet/ServletRequest;Ljakarta/servlet/ServletResponse;Ljava/lang/Throwable;)Z
     237: istore        8
     239: iload         8
     241: ifeq          252
     244: aload_1
     245: invokevirtual #123                // Method io/undertow/server/HttpServerExchange.endExchange:()Lio/undertow/server/HttpServerExchange;
     248: pop
     249: goto          463
     252: aload_3
     253: invokeinterface #124,  1          // InterfaceMethod jakarta/servlet/ServletRequest.isAsyncStarted:()Z
     258: ifne          273
     261: aload_3
     262: invokeinterface #125,  1          // InterfaceMethod jakarta/servlet/ServletRequest.getDispatcherType:()Ljakarta/servlet/DispatcherType;
     267: getstatic     #93                 // Field jakarta/servlet/DispatcherType.ASYNC:Ljakarta/servlet/DispatcherType;
     270: if_acmpne     293
     273: aload_1
     274: invokevirtual #126                // Method io/undertow/server/HttpServerExchange.unDispatch:()Lio/undertow/server/HttpServerExchange;
     277: pop
     278: aload_2
     279: invokevirtual #111                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalRequest:()Lio/undertow/servlet/spec/HttpServletRequestImpl;
     282: invokevirtual #112                // Method io/undertow/servlet/spec/HttpServletRequestImpl.getAsyncContextInternal:()Lio/undertow/servlet/spec/AsyncContextImpl;
     285: aload         6
     287: invokevirtual #127                // Method io/undertow/servlet/spec/AsyncContextImpl.handleError:(Ljava/lang/Throwable;)V
     290: goto          463
     293: aload_1
     294: invokevirtual #128                // Method io/undertow/server/HttpServerExchange.isResponseStarted:()Z
     297: ifne          463
     300: aload         4
     302: invokeinterface #129,  1          // InterfaceMethod jakarta/servlet/ServletResponse.reset:()V
     307: aload_1
     308: sipush        500
     311: invokevirtual #25                 // Method io/undertow/server/HttpServerExchange.setStatusCode:(I)Lio/undertow/server/HttpServerExchange;
     314: pop
     315: aload_1
     316: invokevirtual #130                // Method io/undertow/server/HttpServerExchange.getResponseHeaders:()Lio/undertow/util/HeaderMap;
     319: invokevirtual #131                // Method io/undertow/util/HeaderMap.clear:()Lio/undertow/util/HeaderMap;
     322: pop
     323: aload_0
     324: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     327: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
     330: invokeinterface #132,  1          // InterfaceMethod io/undertow/servlet/api/Deployment.getErrorPages:()Lio/undertow/servlet/core/ErrorPages;
     335: aload         6
     337: invokevirtual #133                // Method io/undertow/servlet/core/ErrorPages.getErrorLocation:(Ljava/lang/Throwable;)Ljava/lang/String;
     340: astore        9
     342: aload         9
     344: ifnonnull     367
     347: aload_0
     348: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     351: invokevirtual #8                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
     354: invokeinterface #132,  1          // InterfaceMethod io/undertow/servlet/api/Deployment.getErrorPages:()Lio/undertow/servlet/core/ErrorPages;
     359: sipush        500
     362: invokevirtual #134                // Method io/undertow/servlet/core/ErrorPages.getErrorLocation:(I)Ljava/lang/String;
     365: astore        9
     367: aload         9
     369: ifnull        434
     372: new           #135                // class io/undertow/servlet/spec/RequestDispatcherImpl
     375: dup
     376: aload         9
     378: aload_0
     379: getfield      #6                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
     382: invokespecial #136                // Method io/undertow/servlet/spec/RequestDispatcherImpl."<init>":(Ljava/lang/String;Lio/undertow/servlet/spec/ServletContextImpl;)V
     385: astore        10
     387: aload         10
     389: aload_2
     390: aload_3
     391: aload         4
     393: aload_2
     394: invokevirtual #137                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalServletPathMatch:()Lio/undertow/servlet/handlers/ServletPathMatch;
     397: invokevirtual #40                 // Method io/undertow/servlet/handlers/ServletPathMatch.getServletChain:()Lio/undertow/servlet/handlers/ServletChain;
     400: invokevirtual #41                 // Method io/undertow/servlet/handlers/ServletChain.getManagedServlet:()Lio/undertow/servlet/core/ManagedServlet;
     403: invokevirtual #138                // Method io/undertow/servlet/core/ManagedServlet.getServletInfo:()Lio/undertow/servlet/api/ServletInfo;
     406: invokevirtual #139                // Method io/undertow/servlet/api/ServletInfo.getName:()Ljava/lang/String;
     409: aload         6
     411: invokevirtual #140                // Method io/undertow/servlet/spec/RequestDispatcherImpl.error:(Lio/undertow/servlet/handlers/ServletRequestContext;Ljakarta/servlet/ServletRequest;Ljakarta/servlet/ServletResponse;Ljava/lang/String;Ljava/lang/Throwable;)V
     414: goto          431
     417: astore        11
     419: getstatic     #141                // Field io/undertow/UndertowLogger.REQUEST_LOGGER:Lio/undertow/UndertowLogger;
     422: aload         11
     424: aload         9
     426: invokeinterface #142,  3          // InterfaceMethod io/undertow/UndertowLogger.exceptionGeneratingErrorPage:(Ljava/lang/Exception;Ljava/lang/String;)V
     431: goto          463
     434: aload_2
     435: invokevirtual #143                // Method io/undertow/servlet/handlers/ServletRequestContext.displayStackTraces:()Z
     438: ifeq          451
     441: aload_1
     442: aload_2
     443: aload         6
     445: invokestatic  #144                // Method io/undertow/servlet/handlers/ServletDebugPageHandler.handleRequest:(Lio/undertow/server/HttpServerExchange;Lio/undertow/servlet/handlers/ServletRequestContext;Ljava/lang/Throwable;)V
     448: goto          463
     451: aload_2
     452: invokevirtual #116                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalResponse:()Lio/undertow/servlet/spec/HttpServletResponseImpl;
     455: sipush        500
     458: ldc           #145                // String Internal Server Error
     460: invokevirtual #118                // Method io/undertow/servlet/spec/HttpServletResponseImpl.doErrorDispatch:(ILjava/lang/String;)V
     463: aload_2
     464: iconst_0
     465: invokevirtual #109                // Method io/undertow/servlet/handlers/ServletRequestContext.setRunningInsideHandler:(Z)V
     468: aload_0
     469: getfield      #10                 // Field listeners:Lio/undertow/servlet/core/ApplicationListeners;
     472: aload_3
     473: invokevirtual #119                // Method io/undertow/servlet/core/ApplicationListeners.requestDestroyed:(Ljakarta/servlet/ServletRequest;)V
     476: goto          497
     479: astore        12
     481: aload_2
     482: iconst_0
     483: invokevirtual #109                // Method io/undertow/servlet/handlers/ServletRequestContext.setRunningInsideHandler:(Z)V
     486: aload_0
     487: getfield      #10                 // Field listeners:Lio/undertow/servlet/core/ApplicationListeners;
     490: aload_3
     491: invokevirtual #119                // Method io/undertow/servlet/core/ApplicationListeners.requestDestroyed:(Ljakarta/servlet/ServletRequest;)V
     494: aload         12
     496: athrow
     497: aload_1
     498: invokevirtual #146                // Method io/undertow/server/HttpServerExchange.isDispatched:()Z
     501: ifne          521
     504: aload_1
     505: invokevirtual #147                // Method io/undertow/server/HttpServerExchange.getConnection:()Lio/undertow/server/ServerConnection;
     508: instanceof    #64                 // class io/undertow/servlet/handlers/ServletInitialHandler$MockServerConnection
     511: ifne          521
     514: aload_2
     515: invokevirtual #116                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalResponse:()Lio/undertow/servlet/spec/HttpServletResponseImpl;
     518: invokevirtual #148                // Method io/undertow/servlet/spec/HttpServletResponseImpl.responseDone:()V
     521: aload_1
     522: invokevirtual #146                // Method io/undertow/server/HttpServerExchange.isDispatched:()Z
     525: ifne          547
     528: aload_2
     529: invokevirtual #111                // Method io/undertow/servlet/handlers/ServletRequestContext.getOriginalRequest:()Lio/undertow/servlet/spec/HttpServletRequestImpl;
     532: invokevirtual #112                // Method io/undertow/servlet/spec/HttpServletRequestImpl.getAsyncContextInternal:()Lio/undertow/servlet/spec/AsyncContextImpl;
     535: astore        6
     537: aload         6
     539: ifnull        547
     542: aload         6
     544: invokevirtual #149                // Method io/undertow/servlet/spec/AsyncContextImpl.complete:()V
     547: return
    Exception table:
       from    to  target type
          95   162   178   Class java/lang/Throwable
         387   414   417   Class java/lang/Exception
          95   162   479   any
         178   463   479   any
         479   481   479   any

  public io.undertow.server.HttpHandler getNext();
    Code:
       0: aload_0
       1: getfield      #5                  // Field next:Lio/undertow/server/HttpHandler;
       4: areturn

  static {};
    Code:
       0: new           #150                // class java/lang/RuntimePermission
       3: dup
       4: ldc           #151                // String io.undertow.servlet.CREATE_INITIAL_HANDLER
       6: invokespecial #152                // Method java/lang/RuntimePermission."<init>":(Ljava/lang/String;)V
       9: putstatic     #12                 // Field PERMISSION:Ljava/lang/RuntimePermission;
      12: return
}
