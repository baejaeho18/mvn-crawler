Compiled from "ManagedFilter.java"
public class io.undertow.servlet.core.ManagedFilter implements io.undertow.servlet.core.Lifecycle {
  private final io.undertow.servlet.api.FilterInfo filterInfo;

  private final io.undertow.servlet.spec.ServletContextImpl servletContext;

  private static final int FLAG_STARTED;

  private static final int FLAG_STOPPED;

  private volatile int state;

  private static final java.util.concurrent.atomic.AtomicIntegerFieldUpdater<io.undertow.servlet.core.ManagedFilter> stateFieldUpdater;

  private volatile jakarta.servlet.Filter filter;

  private volatile io.undertow.servlet.api.InstanceHandle<? extends jakarta.servlet.Filter> handle;

  public io.undertow.servlet.core.ManagedFilter(io.undertow.servlet.api.FilterInfo, io.undertow.servlet.spec.ServletContextImpl);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      14: return

  public void doFilter(jakarta.servlet.ServletRequest, jakarta.servlet.ServletResponse, jakarta.servlet.FilterChain) throws java.io.IOException, jakarta.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
       4: invokevirtual #4                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
       7: invokeinterface #5,  1            // InterfaceMethod io/undertow/servlet/api/Deployment.getDeploymentState:()Lio/undertow/servlet/api/DeploymentManager$State;
      12: getstatic     #6                  // Field io/undertow/servlet/api/DeploymentManager$State.STARTED:Lio/undertow/servlet/api/DeploymentManager$State;
      15: if_acmpeq     42
      18: getstatic     #7                  // Field io/undertow/servlet/UndertowServletMessages.MESSAGES:Lio/undertow/servlet/UndertowServletMessages;
      21: aload_0
      22: getfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      25: invokevirtual #4                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
      28: invokeinterface #8,  1            // InterfaceMethod io/undertow/servlet/api/Deployment.getDeploymentInfo:()Lio/undertow/servlet/api/DeploymentInfo;
      33: invokevirtual #9                  // Method io/undertow/servlet/api/DeploymentInfo.getDeploymentName:()Ljava/lang/String;
      36: invokeinterface #10,  2           // InterfaceMethod io/undertow/servlet/UndertowServletMessages.deploymentStopped:(Ljava/lang/String;)Ljakarta/servlet/ServletException;
      41: athrow
      42: aload_0
      43: invokevirtual #11                 // Method start:()V
      46: aload_0
      47: invokevirtual #12                 // Method getFilter:()Ljakarta/servlet/Filter;
      50: aload_1
      51: aload_2
      52: aload_3
      53: invokeinterface #13,  4           // InterfaceMethod jakarta/servlet/Filter.doFilter:(Ljakarta/servlet/ServletRequest;Ljakarta/servlet/ServletResponse;Ljakarta/servlet/FilterChain;)V
      58: return

  private jakarta.servlet.Filter getFilter() throws jakarta.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #14                 // Field filter:Ljakarta/servlet/Filter;
       4: ifnonnull     11
       7: aload_0
       8: invokevirtual #15                 // Method createFilter:()V
      11: aload_0
      12: getfield      #14                 // Field filter:Ljakarta/servlet/Filter;
      15: areturn

  public void createFilter() throws jakarta.servlet.ServletException;
    Code:
       0: aload_0
       1: dup
       2: astore_1
       3: monitorenter
       4: aload_0
       5: getfield      #14                 // Field filter:Ljakarta/servlet/Filter;
       8: ifnonnull     111
      11: aload_0
      12: aload_0
      13: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
      16: invokevirtual #16                 // Method io/undertow/servlet/api/FilterInfo.getInstanceFactory:()Lio/undertow/servlet/api/InstanceFactory;
      19: invokeinterface #17,  1           // InterfaceMethod io/undertow/servlet/api/InstanceFactory.createInstance:()Lio/undertow/servlet/api/InstanceHandle;
      24: putfield      #18                 // Field handle:Lio/undertow/servlet/api/InstanceHandle;
      27: goto          48
      30: astore_2
      31: getstatic     #7                  // Field io/undertow/servlet/UndertowServletMessages.MESSAGES:Lio/undertow/servlet/UndertowServletMessages;
      34: aload_0
      35: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
      38: invokevirtual #20                 // Method io/undertow/servlet/api/FilterInfo.getName:()Ljava/lang/String;
      41: aload_2
      42: invokeinterface #21,  3           // InterfaceMethod io/undertow/servlet/UndertowServletMessages.couldNotInstantiateComponent:(Ljava/lang/String;Ljava/lang/Exception;)Ljakarta/servlet/ServletException;
      47: athrow
      48: aload_0
      49: getfield      #18                 // Field handle:Lio/undertow/servlet/api/InstanceHandle;
      52: invokeinterface #22,  1           // InterfaceMethod io/undertow/servlet/api/InstanceHandle.getInstance:()Ljava/lang/Object;
      57: checkcast     #23                 // class jakarta/servlet/Filter
      60: astore_2
      61: new           #24                 // class io/undertow/servlet/core/LifecyleInterceptorInvocation
      64: dup
      65: aload_0
      66: getfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      69: invokevirtual #4                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
      72: invokeinterface #8,  1            // InterfaceMethod io/undertow/servlet/api/Deployment.getDeploymentInfo:()Lio/undertow/servlet/api/DeploymentInfo;
      77: invokevirtual #25                 // Method io/undertow/servlet/api/DeploymentInfo.getLifecycleInterceptors:()Ljava/util/List;
      80: aload_0
      81: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
      84: aload_2
      85: new           #26                 // class io/undertow/servlet/spec/FilterConfigImpl
      88: dup
      89: aload_0
      90: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
      93: aload_0
      94: getfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      97: invokespecial #27                 // Method io/undertow/servlet/spec/FilterConfigImpl."<init>":(Lio/undertow/servlet/api/FilterInfo;Ljakarta/servlet/ServletContext;)V
     100: invokespecial #28                 // Method io/undertow/servlet/core/LifecyleInterceptorInvocation."<init>":(Ljava/util/List;Lio/undertow/servlet/api/FilterInfo;Ljakarta/servlet/Filter;Ljakarta/servlet/FilterConfig;)V
     103: invokevirtual #29                 // Method io/undertow/servlet/core/LifecyleInterceptorInvocation.proceed:()V
     106: aload_0
     107: aload_2
     108: putfield      #14                 // Field filter:Ljakarta/servlet/Filter;
     111: aload_1
     112: monitorexit
     113: goto          121
     116: astore_3
     117: aload_1
     118: monitorexit
     119: aload_3
     120: athrow
     121: return
    Exception table:
       from    to  target type
          11    27    30   Class java/lang/Exception
           4   113   116   any
         116   119   116   any

  public void start() throws jakarta.servlet.ServletException;
    Code:
       0: getstatic     #30                 // Field stateFieldUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       3: aload_0
       4: invokevirtual #31                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.get:(Ljava/lang/Object;)I
       7: iconst_2
       8: invokestatic  #33                 // Method org/xnio/Bits.anyAreSet:(II)Z
      11: ifeq          38
      14: getstatic     #7                  // Field io/undertow/servlet/UndertowServletMessages.MESSAGES:Lio/undertow/servlet/UndertowServletMessages;
      17: aload_0
      18: getfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      21: invokevirtual #4                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
      24: invokeinterface #8,  1            // InterfaceMethod io/undertow/servlet/api/Deployment.getDeploymentInfo:()Lio/undertow/servlet/api/DeploymentInfo;
      29: invokevirtual #9                  // Method io/undertow/servlet/api/DeploymentInfo.getDeploymentName:()Ljava/lang/String;
      32: invokeinterface #10,  2           // InterfaceMethod io/undertow/servlet/UndertowServletMessages.deploymentStopped:(Ljava/lang/String;)Ljakarta/servlet/ServletException;
      37: athrow
      38: getstatic     #30                 // Field stateFieldUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      41: aload_0
      42: invokevirtual #31                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.get:(Ljava/lang/Object;)I
      45: iconst_1
      46: if_icmpeq     61
      49: getstatic     #30                 // Field stateFieldUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      52: aload_0
      53: iconst_0
      54: iconst_1
      55: invokevirtual #34                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.compareAndSet:(Ljava/lang/Object;II)Z
      58: ifeq          0
      61: return

  public void stop();
    Code:
       0: getstatic     #30                 // Field stateFieldUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       3: aload_0
       4: iconst_2
       5: invokevirtual #35                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.set:(Ljava/lang/Object;I)V
       8: aload_0
       9: dup
      10: astore_1
      11: monitorenter
      12: aload_0
      13: getfield      #18                 // Field handle:Lio/undertow/servlet/api/InstanceHandle;
      16: ifnull        78
      19: new           #24                 // class io/undertow/servlet/core/LifecyleInterceptorInvocation
      22: dup
      23: aload_0
      24: getfield      #3                  // Field servletContext:Lio/undertow/servlet/spec/ServletContextImpl;
      27: invokevirtual #4                  // Method io/undertow/servlet/spec/ServletContextImpl.getDeployment:()Lio/undertow/servlet/api/Deployment;
      30: invokeinterface #8,  1            // InterfaceMethod io/undertow/servlet/api/Deployment.getDeploymentInfo:()Lio/undertow/servlet/api/DeploymentInfo;
      35: invokevirtual #25                 // Method io/undertow/servlet/api/DeploymentInfo.getLifecycleInterceptors:()Ljava/util/List;
      38: aload_0
      39: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
      42: aload_0
      43: getfield      #14                 // Field filter:Ljakarta/servlet/Filter;
      46: invokespecial #36                 // Method io/undertow/servlet/core/LifecyleInterceptorInvocation."<init>":(Ljava/util/List;Lio/undertow/servlet/api/FilterInfo;Ljakarta/servlet/Filter;)V
      49: invokevirtual #29                 // Method io/undertow/servlet/core/LifecyleInterceptorInvocation.proceed:()V
      52: goto          69
      55: astore_2
      56: getstatic     #37                 // Field io/undertow/servlet/UndertowServletLogger.ROOT_LOGGER:Lio/undertow/servlet/UndertowServletLogger;
      59: aload_0
      60: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
      63: aload_2
      64: invokeinterface #38,  3           // InterfaceMethod io/undertow/servlet/UndertowServletLogger.failedToDestroy:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      69: aload_0
      70: getfield      #18                 // Field handle:Lio/undertow/servlet/api/InstanceHandle;
      73: invokeinterface #39,  1           // InterfaceMethod io/undertow/servlet/api/InstanceHandle.release:()V
      78: aload_0
      79: aconst_null
      80: putfield      #14                 // Field filter:Ljakarta/servlet/Filter;
      83: aload_0
      84: aconst_null
      85: putfield      #18                 // Field handle:Lio/undertow/servlet/api/InstanceHandle;
      88: aload_1
      89: monitorexit
      90: goto          98
      93: astore_3
      94: aload_1
      95: monitorexit
      96: aload_3
      97: athrow
      98: return
    Exception table:
       from    to  target type
          19    52    55   Class java/lang/Exception
          12    90    93   any
          93    96    93   any

  public boolean isStarted();
    Code:
       0: aload_0
       1: getfield      #40                 // Field state:I
       4: iconst_1
       5: invokestatic  #33                 // Method org/xnio/Bits.anyAreSet:(II)Z
       8: ireturn

  public io.undertow.servlet.api.FilterInfo getFilterInfo();
    Code:
       0: aload_0
       1: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
       4: areturn

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #2                  // Field filterInfo:Lio/undertow/servlet/api/FilterInfo;
       4: invokedynamic #41,  0             // InvokeDynamic #0:makeConcatWithConstants:(Lio/undertow/servlet/api/FilterInfo;)Ljava/lang/String;
       9: areturn

  public void forceInit() throws jakarta.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #14                 // Field filter:Ljakarta/servlet/Filter;
       4: ifnonnull     11
       7: aload_0
       8: invokevirtual #15                 // Method createFilter:()V
      11: return

  static {};
    Code:
       0: ldc           #32                 // class io/undertow/servlet/core/ManagedFilter
       2: ldc           #42                 // String state
       4: invokestatic  #43                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       7: putstatic     #30                 // Field stateFieldUpdater:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      10: return
}
