Compiled from "TestHiveThriftMetastoreWithS3.java"
public class io.trino.plugin.hive.TestHiveThriftMetastoreWithS3 extends io.trino.testing.AbstractTestQueryFramework {
  private final java.lang.String s3endpoint;

  private final java.lang.String awsAccessKey;

  private final java.lang.String awsSecretKey;

  private final java.lang.String writableBucket;

  private final java.lang.String schemaName;

  private final java.nio.file.Path hadoopCoreSiteXmlTempFile;

  private final com.amazonaws.services.s3.AmazonS3 s3Client;

  public io.trino.plugin.hive.TestHiveThriftMetastoreWithS3(java.lang.String, java.lang.String, java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method io/trino/testing/AbstractTestQueryFramework."<init>":()V
       4: aload_0
       5: aload_1
       6: ldc           #7                  // String s3endpoint is null
       8: invokestatic  #9                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #15                 // class java/lang/String
      14: putfield      #17                 // Field s3endpoint:Ljava/lang/String;
      17: aload_0
      18: aload_2
      19: ldc           #23                 // String awsAccessKey is null
      21: invokestatic  #9                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      24: checkcast     #15                 // class java/lang/String
      27: putfield      #25                 // Field awsAccessKey:Ljava/lang/String;
      30: aload_0
      31: aload_3
      32: ldc           #28                 // String awsSecretKey is null
      34: invokestatic  #9                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      37: checkcast     #15                 // class java/lang/String
      40: putfield      #30                 // Field awsSecretKey:Ljava/lang/String;
      43: aload_0
      44: aload         4
      46: ldc           #33                 // String writableBucket is null
      48: invokestatic  #9                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      51: checkcast     #15                 // class java/lang/String
      54: putfield      #35                 // Field writableBucket:Ljava/lang/String;
      57: aload_0
      58: invokestatic  #38                 // Method io/trino/testing/TestingNames.randomNameSuffix:()Ljava/lang/String;
      61: invokedynamic #44,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      66: putfield      #48                 // Field schemaName:Ljava/lang/String;
      69: ldc           #51                 // String s3/hive-core-site.template.xml
      71: invokestatic  #53                 // Method com/google/common/io/Resources.getResource:(Ljava/lang/String;)Ljava/net/URL;
      74: getstatic     #59                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      77: invokestatic  #65                 // Method com/google/common/io/Resources.toString:(Ljava/net/URL;Ljava/nio/charset/Charset;)Ljava/lang/String;
      80: ldc           #69                 // String %S3_BUCKET_ENDPOINT%
      82: aload_1
      83: invokevirtual #71                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      86: ldc           #75                 // String %AWS_ACCESS_KEY_ID%
      88: aload_2
      89: invokevirtual #71                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      92: ldc           #77                 // String %AWS_SECRET_ACCESS_KEY%
      94: aload_3
      95: invokevirtual #71                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      98: astore        5
     100: aload_0
     101: ldc           #79                 // String core-site
     103: ldc           #81                 // String .xml
     105: iconst_1
     106: anewarray     #83                 // class java/nio/file/attribute/FileAttribute
     109: dup
     110: iconst_0
     111: ldc           #85                 // String rw-r--r--
     113: invokestatic  #87                 // Method java/nio/file/attribute/PosixFilePermissions.fromString:(Ljava/lang/String;)Ljava/util/Set;
     116: invokestatic  #93                 // Method java/nio/file/attribute/PosixFilePermissions.asFileAttribute:(Ljava/util/Set;)Ljava/nio/file/attribute/FileAttribute;
     119: aastore
     120: invokestatic  #97                 // Method java/nio/file/Files.createTempFile:(Ljava/lang/String;Ljava/lang/String;[Ljava/nio/file/attribute/FileAttribute;)Ljava/nio/file/Path;
     123: putfield      #103                // Field hadoopCoreSiteXmlTempFile:Ljava/nio/file/Path;
     126: aload_0
     127: getfield      #103                // Field hadoopCoreSiteXmlTempFile:Ljava/nio/file/Path;
     130: invokeinterface #107,  1          // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
     135: invokevirtual #113                // Method java/io/File.deleteOnExit:()V
     138: aload_0
     139: getfield      #103                // Field hadoopCoreSiteXmlTempFile:Ljava/nio/file/Path;
     142: aload         5
     144: iconst_0
     145: anewarray     #118                // class java/nio/file/OpenOption
     148: invokestatic  #120                // Method java/nio/file/Files.writeString:(Ljava/nio/file/Path;Ljava/lang/CharSequence;[Ljava/nio/file/OpenOption;)Ljava/nio/file/Path;
     151: pop
     152: aload_0
     153: invokestatic  #124                // Method com/amazonaws/services/s3/AmazonS3Client.builder:()Lcom/amazonaws/services/s3/AmazonS3ClientBuilder;
     156: new           #130                // class com/amazonaws/client/builder/AwsClientBuilder$EndpointConfiguration
     159: dup
     160: aload_1
     161: aconst_null
     162: invokespecial #132                // Method com/amazonaws/client/builder/AwsClientBuilder$EndpointConfiguration."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     165: invokevirtual #135                // Method com/amazonaws/services/s3/AmazonS3ClientBuilder.withEndpointConfiguration:(Lcom/amazonaws/client/builder/AwsClientBuilder$EndpointConfiguration;)Lcom/amazonaws/client/builder/AwsClientBuilder;
     168: checkcast     #136                // class com/amazonaws/services/s3/AmazonS3ClientBuilder
     171: new           #141                // class com/amazonaws/auth/AWSStaticCredentialsProvider
     174: dup
     175: new           #143                // class com/amazonaws/auth/BasicAWSCredentials
     178: dup
     179: aload_2
     180: aload_3
     181: invokespecial #145                // Method com/amazonaws/auth/BasicAWSCredentials."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     184: invokespecial #146                // Method com/amazonaws/auth/AWSStaticCredentialsProvider."<init>":(Lcom/amazonaws/auth/AWSCredentials;)V
     187: invokevirtual #149                // Method com/amazonaws/services/s3/AmazonS3ClientBuilder.withCredentials:(Lcom/amazonaws/auth/AWSCredentialsProvider;)Lcom/amazonaws/client/builder/AwsClientBuilder;
     190: checkcast     #136                // class com/amazonaws/services/s3/AmazonS3ClientBuilder
     193: invokevirtual #153                // Method com/amazonaws/services/s3/AmazonS3ClientBuilder.build:()Ljava/lang/Object;
     196: checkcast     #157                // class com/amazonaws/services/s3/AmazonS3
     199: putfield      #159                // Field s3Client:Lcom/amazonaws/services/s3/AmazonS3;
     202: return

  protected io.trino.testing.QueryRunner createQueryRunner() throws java.lang.Exception;
    Code:
       0: invokestatic  #163                // Method io/trino/plugin/hive/containers/HiveHadoop.builder:()Lio/trino/plugin/hive/containers/HiveHadoop$Builder;
       3: ldc           #168                // String /etc/hadoop/conf/core-site.xml
       5: aload_0
       6: getfield      #103                // Field hadoopCoreSiteXmlTempFile:Ljava/nio/file/Path;
       9: invokeinterface #170,  1          // InterfaceMethod java/nio/file/Path.normalize:()Ljava/nio/file/Path;
      14: invokeinterface #174,  1          // InterfaceMethod java/nio/file/Path.toAbsolutePath:()Ljava/nio/file/Path;
      19: invokeinterface #177,  1          // InterfaceMethod java/nio/file/Path.toString:()Ljava/lang/String;
      24: invokestatic  #179                // Method com/google/common/collect/ImmutableMap.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;
      27: invokevirtual #185                // Method io/trino/plugin/hive/containers/HiveHadoop$Builder.withFilesToMount:(Ljava/util/Map;)Lio/trino/testing/containers/BaseTestContainer$Builder;
      30: checkcast     #186                // class io/trino/plugin/hive/containers/HiveHadoop$Builder
      33: invokevirtual #191                // Method io/trino/plugin/hive/containers/HiveHadoop$Builder.build:()Lio/trino/plugin/hive/containers/HiveHadoop;
      36: astore_1
      37: aload_1
      38: invokevirtual #194                // Method io/trino/plugin/hive/containers/HiveHadoop.start:()V
      41: invokestatic  #197                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner.builder:()Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
      44: aload_1
      45: invokevirtual #202                // Method io/trino/plugin/hive/containers/HiveHadoop.getHiveMetastoreEndpoint:()Lcom/google/common/net/HostAndPort;
      48: invokevirtual #206                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setHiveMetastoreEndpoint:(Lcom/google/common/net/HostAndPort;)Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
      51: aload_0
      52: getfield      #17                 // Field s3endpoint:Ljava/lang/String;
      55: invokevirtual #212                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setS3Endpoint:(Ljava/lang/String;)Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
      58: aload_0
      59: getfield      #25                 // Field awsAccessKey:Ljava/lang/String;
      62: invokevirtual #216                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setS3AccessKey:(Ljava/lang/String;)Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
      65: aload_0
      66: getfield      #30                 // Field awsSecretKey:Ljava/lang/String;
      69: invokevirtual #219                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setS3SecretKey:(Ljava/lang/String;)Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
      72: aload_0
      73: getfield      #35                 // Field writableBucket:Ljava/lang/String;
      76: invokevirtual #222                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setBucketName:(Ljava/lang/String;)Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
      79: iconst_0
      80: invokevirtual #225                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setCreateTpchSchemas:(Z)Lio/trino/plugin/hive/HiveQueryRunner$Builder;
      83: checkcast     #207                // class io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder
      86: new           #229                // class io/trino/plugin/hive/metastore/thrift/ThriftMetastoreConfig
      89: dup
      90: invokespecial #231                // Method io/trino/plugin/hive/metastore/thrift/ThriftMetastoreConfig."<init>":()V
      93: iconst_1
      94: invokevirtual #232                // Method io/trino/plugin/hive/metastore/thrift/ThriftMetastoreConfig.setDeleteFilesOnDrop:(Z)Lio/trino/plugin/hive/metastore/thrift/ThriftMetastoreConfig;
      97: invokevirtual #236                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setThriftMetastoreConfig:(Lio/trino/plugin/hive/metastore/thrift/ThriftMetastoreConfig;)Lio/trino/plugin/hive/s3/S3HiveQueryRunner$Builder;
     100: ldc           #240                // String hive.allow-register-partition-procedure
     102: ldc           #242                // String true
     104: invokestatic  #179                // Method com/google/common/collect/ImmutableMap.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;
     107: invokevirtual #244                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.setHiveProperties:(Ljava/util/Map;)Lio/trino/plugin/hive/HiveQueryRunner$Builder;
     110: checkcast     #207                // class io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder
     113: invokevirtual #248                // Method io/trino/plugin/hive/s3/S3HiveQueryRunner$Builder.build:()Lio/trino/testing/DistributedQueryRunner;
     116: areturn

  public void setUp();
    Code:
       0: ldc           #251                // String s3a://%s/%s
       2: iconst_2
       3: anewarray     #253                // class java/lang/Object
       6: dup
       7: iconst_0
       8: aload_0
       9: getfield      #35                 // Field writableBucket:Ljava/lang/String;
      12: aastore
      13: dup
      14: iconst_1
      15: aload_0
      16: getfield      #48                 // Field schemaName:Ljava/lang/String;
      19: aastore
      20: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      23: astore_1
      24: aload_0
      25: aload_0
      26: getfield      #48                 // Field schemaName:Ljava/lang/String;
      29: aload_1
      30: invokedynamic #259,  0            // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      35: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      38: return

  public void tearDown();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #48                 // Field schemaName:Ljava/lang/String;
       5: invokedynamic #266,  0            // InvokeDynamic #2:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      10: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      13: return

  public void testRecreateTable();
    Code:
       0: invokestatic  #38                 // Method io/trino/testing/TestingNames.randomNameSuffix:()Ljava/lang/String;
       3: invokedynamic #267,  0            // InvokeDynamic #3:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
       8: astore_1
       9: ldc_w         #268                // String %s.%s
      12: iconst_2
      13: anewarray     #253                // class java/lang/Object
      16: dup
      17: iconst_0
      18: aload_0
      19: getfield      #48                 // Field schemaName:Ljava/lang/String;
      22: aastore
      23: dup
      24: iconst_1
      25: aload_1
      26: aastore
      27: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      30: astore_2
      31: ldc_w         #270                // String %s/%s
      34: iconst_2
      35: anewarray     #253                // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_0
      41: getfield      #48                 // Field schemaName:Ljava/lang/String;
      44: aastore
      45: dup
      46: iconst_1
      47: aload_1
      48: aastore
      49: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      52: astore_3
      53: aload_0
      54: aload_2
      55: invokedynamic #272,  0            // InvokeDynamic #4:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      60: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      63: aload_0
      64: aload_2
      65: invokedynamic #273,  0            // InvokeDynamic #5:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      70: lconst_1
      71: invokevirtual #274                // Method assertUpdate:(Ljava/lang/String;J)V
      74: aload_0
      75: aload_3
      76: invokevirtual #277                // Method getS3ObjectSummaries:(Ljava/lang/String;)Ljava/util/List;
      79: invokestatic  #281                // Method org/assertj/core/api/Assertions.assertThat:(Ljava/util/List;)Lorg/assertj/core/api/ListAssert;
      82: iconst_2
      83: invokevirtual #287                // Method org/assertj/core/api/ListAssert.hasSize:(I)Lorg/assertj/core/api/AbstractIterableAssert;
      86: pop
      87: aload_0
      88: aload_2
      89: invokedynamic #293,  0            // InvokeDynamic #6:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      94: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      97: aload_0
      98: aload_3
      99: invokevirtual #277                // Method getS3ObjectSummaries:(Ljava/lang/String;)Ljava/util/List;
     102: invokestatic  #281                // Method org/assertj/core/api/Assertions.assertThat:(Ljava/util/List;)Lorg/assertj/core/api/ListAssert;
     105: iconst_0
     106: invokevirtual #287                // Method org/assertj/core/api/ListAssert.hasSize:(I)Lorg/assertj/core/api/AbstractIterableAssert;
     109: pop
     110: aload_0
     111: aload_2
     112: invokedynamic #272,  0            // InvokeDynamic #4:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     117: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     120: aload_0
     121: aload_2
     122: invokedynamic #294,  0            // InvokeDynamic #7:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     127: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     130: goto          148
     133: astore        4
     135: aload_0
     136: aload_2
     137: invokedynamic #294,  0            // InvokeDynamic #7:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     142: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     145: aload         4
     147: athrow
     148: return
    Exception table:
       from    to  target type
          63   120   133   any
         133   135   133   any

  public void testRecreatePartition();
    Code:
       0: invokestatic  #38                 // Method io/trino/testing/TestingNames.randomNameSuffix:()Ljava/lang/String;
       3: invokedynamic #295,  0            // InvokeDynamic #8:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
       8: astore_1
       9: ldc_w         #268                // String %s.%s
      12: iconst_2
      13: anewarray     #253                // class java/lang/Object
      16: dup
      17: iconst_0
      18: aload_0
      19: getfield      #48                 // Field schemaName:Ljava/lang/String;
      22: aastore
      23: dup
      24: iconst_1
      25: aload_1
      26: aastore
      27: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      30: astore_2
      31: ldc_w         #296                // String %s/%s/part=1
      34: iconst_2
      35: anewarray     #253                // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_0
      41: getfield      #48                 // Field schemaName:Ljava/lang/String;
      44: aastore
      45: dup
      46: iconst_1
      47: aload_1
      48: aastore
      49: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      52: astore_3
      53: aload_0
      54: aload_2
      55: invokedynamic #298,  0            // InvokeDynamic #9:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      60: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      63: aload_0
      64: ldc_w         #299                // String CALL system.create_empty_partition(\'%s\', \'%s\', ARRAY[\'part\'], ARRAY[\'1\'])
      67: iconst_2
      68: anewarray     #253                // class java/lang/Object
      71: dup
      72: iconst_0
      73: aload_0
      74: getfield      #48                 // Field schemaName:Ljava/lang/String;
      77: aastore
      78: dup
      79: iconst_1
      80: aload_1
      81: aastore
      82: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      85: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      88: aload_0
      89: aload_2
      90: invokedynamic #301,  0            // InvokeDynamic #10:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      95: lconst_1
      96: invokevirtual #274                // Method assertUpdate:(Ljava/lang/String;J)V
      99: aload_0
     100: aload_2
     101: invokedynamic #302,  0            // InvokeDynamic #11:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     106: ldc_w         #303                // String VALUES (1, 1)
     109: invokevirtual #305                // Method assertQuery:(Ljava/lang/String;Ljava/lang/String;)V
     112: aload_0
     113: aload_3
     114: invokevirtual #277                // Method getS3ObjectSummaries:(Ljava/lang/String;)Ljava/util/List;
     117: invokestatic  #281                // Method org/assertj/core/api/Assertions.assertThat:(Ljava/util/List;)Lorg/assertj/core/api/ListAssert;
     120: iconst_2
     121: invokevirtual #287                // Method org/assertj/core/api/ListAssert.hasSize:(I)Lorg/assertj/core/api/AbstractIterableAssert;
     124: pop
     125: aload_0
     126: aload_2
     127: invokedynamic #308,  0            // InvokeDynamic #12:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     132: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     135: aload_0
     136: aload_3
     137: invokevirtual #277                // Method getS3ObjectSummaries:(Ljava/lang/String;)Ljava/util/List;
     140: invokestatic  #281                // Method org/assertj/core/api/Assertions.assertThat:(Ljava/util/List;)Lorg/assertj/core/api/ListAssert;
     143: iconst_0
     144: invokevirtual #287                // Method org/assertj/core/api/ListAssert.hasSize:(I)Lorg/assertj/core/api/AbstractIterableAssert;
     147: pop
     148: aload_0
     149: ldc_w         #299                // String CALL system.create_empty_partition(\'%s\', \'%s\', ARRAY[\'part\'], ARRAY[\'1\'])
     152: iconst_2
     153: anewarray     #253                // class java/lang/Object
     156: dup
     157: iconst_0
     158: aload_0
     159: getfield      #48                 // Field schemaName:Ljava/lang/String;
     162: aastore
     163: dup
     164: iconst_1
     165: aload_1
     166: aastore
     167: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
     170: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     173: aload_0
     174: aload_2
     175: invokedynamic #302,  0            // InvokeDynamic #11:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     180: invokevirtual #309                // Method assertQueryReturnsEmptyResult:(Ljava/lang/String;)V
     183: aload_0
     184: aload_2
     185: invokedynamic #293,  0            // InvokeDynamic #6:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     190: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     193: goto          211
     196: astore        4
     198: aload_0
     199: aload_2
     200: invokedynamic #293,  0            // InvokeDynamic #6:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     205: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     208: aload         4
     210: athrow
     211: return
    Exception table:
       from    to  target type
          63   183   196   any
         196   198   196   any

  public void testUnregisterPartitionNotRemoveData();
    Code:
       0: invokestatic  #38                 // Method io/trino/testing/TestingNames.randomNameSuffix:()Ljava/lang/String;
       3: invokedynamic #295,  0            // InvokeDynamic #8:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
       8: astore_1
       9: ldc_w         #268                // String %s.%s
      12: iconst_2
      13: anewarray     #253                // class java/lang/Object
      16: dup
      17: iconst_0
      18: aload_0
      19: getfield      #48                 // Field schemaName:Ljava/lang/String;
      22: aastore
      23: dup
      24: iconst_1
      25: aload_1
      26: aastore
      27: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      30: astore_2
      31: aload_0
      32: aload_2
      33: invokedynamic #298,  0            // InvokeDynamic #9:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      38: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      41: aload_0
      42: aload_2
      43: invokedynamic #301,  0            // InvokeDynamic #10:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      48: lconst_1
      49: invokevirtual #274                // Method assertUpdate:(Ljava/lang/String;J)V
      52: aload_0
      53: aload_2
      54: invokedynamic #302,  0            // InvokeDynamic #11:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      59: ldc_w         #303                // String VALUES (1, 1)
      62: invokevirtual #305                // Method assertQuery:(Ljava/lang/String;Ljava/lang/String;)V
      65: aload_0
      66: ldc_w         #312                // String CALL system.unregister_partition(\'%s\', \'%s\', ARRAY[\'part\'], ARRAY[\'1\'])
      69: iconst_2
      70: anewarray     #253                // class java/lang/Object
      73: dup
      74: iconst_0
      75: aload_0
      76: getfield      #48                 // Field schemaName:Ljava/lang/String;
      79: aastore
      80: dup
      81: iconst_1
      82: aload_1
      83: aastore
      84: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
      87: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
      90: aload_0
      91: aload_2
      92: invokedynamic #302,  0            // InvokeDynamic #11:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      97: invokevirtual #309                // Method assertQueryReturnsEmptyResult:(Ljava/lang/String;)V
     100: aload_0
     101: ldc_w         #314                // String CALL system.register_partition(\'%s\', \'%s\', ARRAY[\'part\'], ARRAY[\'1\'])
     104: iconst_2
     105: anewarray     #253                // class java/lang/Object
     108: dup
     109: iconst_0
     110: aload_0
     111: getfield      #48                 // Field schemaName:Ljava/lang/String;
     114: aastore
     115: dup
     116: iconst_1
     117: aload_1
     118: aastore
     119: invokevirtual #255                // Method java/lang/String.formatted:([Ljava/lang/Object;)Ljava/lang/String;
     122: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     125: aload_0
     126: aload_2
     127: invokedynamic #302,  0            // InvokeDynamic #11:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     132: ldc_w         #303                // String VALUES (1, 1)
     135: invokevirtual #305                // Method assertQuery:(Ljava/lang/String;Ljava/lang/String;)V
     138: aload_0
     139: aload_2
     140: invokedynamic #293,  0            // InvokeDynamic #6:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     145: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     148: goto          164
     151: astore_3
     152: aload_0
     153: aload_2
     154: invokedynamic #293,  0            // InvokeDynamic #6:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
     159: invokevirtual #262                // Method assertUpdate:(Ljava/lang/String;)V
     162: aload_3
     163: athrow
     164: return
    Exception table:
       from    to  target type
          41   138   151   any

  private java.util.List<com.amazonaws.services.s3.model.S3ObjectSummary> getS3ObjectSummaries(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #159                // Field s3Client:Lcom/amazonaws/services/s3/AmazonS3;
       4: aload_0
       5: getfield      #35                 // Field writableBucket:Ljava/lang/String;
       8: aload_1
       9: invokeinterface #316,  3          // InterfaceMethod com/amazonaws/services/s3/AmazonS3.listObjectsV2:(Ljava/lang/String;Ljava/lang/String;)Lcom/amazonaws/services/s3/model/ListObjectsV2Result;
      14: invokevirtual #320                // Method com/amazonaws/services/s3/model/ListObjectsV2Result.getObjectSummaries:()Ljava/util/List;
      17: areturn
}
