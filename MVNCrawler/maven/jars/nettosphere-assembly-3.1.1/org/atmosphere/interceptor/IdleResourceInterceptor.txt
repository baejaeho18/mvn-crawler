Compiled from "IdleResourceInterceptor.java"
public class org.atmosphere.interceptor.IdleResourceInterceptor extends org.atmosphere.cpr.AtmosphereInterceptorAdapter {
  private final org.slf4j.Logger logger;

  private long maxInactiveTime;

  private org.atmosphere.cpr.AtmosphereConfig config;

  private java.util.concurrent.Future<?> future;

  public org.atmosphere.interceptor.IdleResourceInterceptor();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/atmosphere/cpr/AtmosphereInterceptorAdapter."<init>":()V
       4: aload_0
       5: ldc           #3                  // class org/atmosphere/interceptor/IdleResourceInterceptor
       7: invokestatic  #4                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      10: putfield      #5                  // Field logger:Lorg/slf4j/Logger;
      13: aload_0
      14: ldc2_w        #6                  // long -1l
      17: putfield      #8                  // Field maxInactiveTime:J
      20: return

  public void configure(org.atmosphere.cpr.AtmosphereConfig);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
       5: aload_1
       6: ldc           #10                 // String org.atmosphere.cpr.CometSupport.maxInactiveActivity
       8: invokevirtual #11                 // Method org/atmosphere/cpr/AtmosphereConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      11: astore_2
      12: aload_2
      13: ifnull        24
      16: aload_0
      17: aload_2
      18: invokestatic  #12                 // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
      21: putfield      #8                  // Field maxInactiveTime:J
      24: aload_0
      25: invokespecial #13                 // Method start:()V
      28: return

  private void start();
    Code:
       0: aload_0
       1: getfield      #14                 // Field future:Ljava/util/concurrent/Future;
       4: ifnull        18
       7: aload_0
       8: getfield      #14                 // Field future:Ljava/util/concurrent/Future;
      11: iconst_0
      12: invokeinterface #15,  2           // InterfaceMethod java/util/concurrent/Future.cancel:(Z)Z
      17: pop
      18: aload_0
      19: getfield      #8                  // Field maxInactiveTime:J
      22: lconst_0
      23: lcmp
      24: ifle          81
      27: aload_0
      28: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
      31: ldc           #16                 // String {} started with idle timeout set to {}
      33: ldc           #3                  // class org/atmosphere/interceptor/IdleResourceInterceptor
      35: invokevirtual #17                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      38: aload_0
      39: getfield      #8                  // Field maxInactiveTime:J
      42: invokestatic  #18                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      45: invokeinterface #19,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      50: aload_0
      51: aload_0
      52: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
      55: invokestatic  #20                 // Method org/atmosphere/util/ExecutorsFactory.getScheduler:(Lorg/atmosphere/cpr/AtmosphereConfig;)Ljava/util/concurrent/ScheduledExecutorService;
      58: new           #21                 // class org/atmosphere/interceptor/IdleResourceInterceptor$1
      61: dup
      62: aload_0
      63: invokespecial #22                 // Method org/atmosphere/interceptor/IdleResourceInterceptor$1."<init>":(Lorg/atmosphere/interceptor/IdleResourceInterceptor;)V
      66: lconst_0
      67: ldc2_w        #23                 // long 2l
      70: getstatic     #25                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      73: invokeinterface #26,  7           // InterfaceMethod java/util/concurrent/ScheduledExecutorService.scheduleAtFixedRate:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
      78: putfield      #14                 // Field future:Ljava/util/concurrent/Future;
      81: return

  protected void idleResources();
    Code:
       0: aload_0
       1: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
       4: invokeinterface #27,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
       9: ifeq          50
      12: aload_0
      13: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
      16: ldc           #28                 // String {} monitoring {} AtmosphereResources
      18: aload_0
      19: invokevirtual #29                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      22: invokevirtual #17                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      25: aload_0
      26: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
      29: invokevirtual #30                 // Method org/atmosphere/cpr/AtmosphereConfig.resourcesFactory:()Lorg/atmosphere/cpr/AtmosphereResourceFactory;
      32: invokeinterface #31,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceFactory.findAll:()Ljava/util/Collection;
      37: invokeinterface #32,  1           // InterfaceMethod java/util/Collection.size:()I
      42: invokestatic  #33                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      45: invokeinterface #34,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      50: aload_0
      51: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
      54: invokevirtual #30                 // Method org/atmosphere/cpr/AtmosphereConfig.resourcesFactory:()Lorg/atmosphere/cpr/AtmosphereResourceFactory;
      57: invokeinterface #31,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceFactory.findAll:()Ljava/util/Collection;
      62: invokeinterface #35,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      67: astore_1
      68: aload_1
      69: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      74: ifeq          432
      77: aload_1
      78: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      83: checkcast     #38                 // class org/atmosphere/cpr/AtmosphereResource
      86: astore_2
      87: aload_2
      88: invokeinterface #39,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.transport:()Lorg/atmosphere/cpr/AtmosphereResource$TRANSPORT;
      93: invokestatic  #40                 // Method org/atmosphere/util/Utils.pollableTransport:(Lorg/atmosphere/cpr/AtmosphereResource$TRANSPORT;)Z
      96: ifeq          102
      99: goto          68
     102: ldc           #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
     104: aload_2
     105: invokevirtual #42                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
     108: checkcast     #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
     111: iconst_0
     112: invokevirtual #43                 // Method org/atmosphere/cpr/AtmosphereResourceImpl.getRequest:(Z)Lorg/atmosphere/cpr/AtmosphereRequest;
     115: astore_3
     116: aload_3
     117: ldc           #10                 // String org.atmosphere.cpr.CometSupport.maxInactiveActivity
     119: invokeinterface #44,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
     124: ifnonnull     162
     127: aload_0
     128: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
     131: ldc           #45                 // String Invalid state {}
     133: aload_2
     134: invokeinterface #46,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     139: aload_2
     140: invokeinterface #47,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.removeFromAllBroadcasters:()Lorg/atmosphere/cpr/AtmosphereResource;
     145: pop
     146: aload_0
     147: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
     150: invokevirtual #30                 // Method org/atmosphere/cpr/AtmosphereConfig.resourcesFactory:()Lorg/atmosphere/cpr/AtmosphereResourceFactory;
     153: aload_2
     154: invokeinterface #48,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceFactory.unRegisterUuidForFindCandidate:(Lorg/atmosphere/cpr/AtmosphereResource;)V
     159: goto          68
     162: aload_3
     163: ldc           #10                 // String org.atmosphere.cpr.CometSupport.maxInactiveActivity
     165: invokeinterface #44,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
     170: checkcast     #49                 // class java/lang/Long
     173: invokevirtual #50                 // Method java/lang/Long.longValue:()J
     176: lstore        4
     178: aload_0
     179: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
     182: invokeinterface #27,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     187: ifeq          223
     190: lload         4
     192: lconst_0
     193: lcmp
     194: ifle          223
     197: aload_0
     198: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
     201: ldc           #51                 // String Expiring {} in {}
     203: aload_2
     204: invokeinterface #52,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.uuid:()Ljava/lang/String;
     209: invokestatic  #53                 // Method java/lang/System.currentTimeMillis:()J
     212: lload         4
     214: lsub
     215: invokestatic  #18                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     218: invokeinterface #34,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     223: lload         4
     225: lconst_0
     226: lcmp
     227: ifle          411
     230: invokestatic  #53                 // Method java/lang/System.currentTimeMillis:()J
     233: lload         4
     235: lsub
     236: aload_0
     237: getfield      #8                  // Field maxInactiveTime:J
     240: lcmp
     241: ifle          411
     244: aload_3
     245: ldc           #10                 // String org.atmosphere.cpr.CometSupport.maxInactiveActivity
     247: ldc2_w        #6                  // long -1l
     250: invokestatic  #18                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     253: invokeinterface #54,  3           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     258: aload_0
     259: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
     262: ldc           #55                 // String IdleResourceInterceptor disconnecting {}
     264: aload_2
     265: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     270: aload_3
     271: ldc           #58                 // String heartbeat.future
     273: invokeinterface #44,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
     278: checkcast     #59                 // class java/util/concurrent/Future
     281: astore        6
     283: aload         6
     285: ifnull        297
     288: aload         6
     290: iconst_0
     291: invokeinterface #15,  2           // InterfaceMethod java/util/concurrent/Future.cancel:(Z)Z
     296: pop
     297: aload_3
     298: ldc           #58                 // String heartbeat.future
     300: invokeinterface #60,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.removeAttribute:(Ljava/lang/String;)V
     305: ldc           #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
     307: aload_2
     308: invokevirtual #42                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
     311: checkcast     #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
     314: invokevirtual #61                 // Method org/atmosphere/cpr/AtmosphereResourceImpl.webSocket:()Lorg/atmosphere/websocket/WebSocket;
     317: astore        7
     319: aload         7
     321: ifnull        332
     324: aload         7
     326: invokevirtual #62                 // Method org/atmosphere/websocket/WebSocket.close:()V
     329: goto          363
     332: ldc           #63                 // class org/atmosphere/cpr/AsynchronousProcessor
     334: aload_0
     335: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
     338: invokevirtual #64                 // Method org/atmosphere/cpr/AtmosphereConfig.framework:()Lorg/atmosphere/cpr/AtmosphereFramework;
     341: invokevirtual #65                 // Method org/atmosphere/cpr/AtmosphereFramework.getAsyncSupport:()Lorg/atmosphere/cpr/AsyncSupport;
     344: invokevirtual #42                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
     347: checkcast     #63                 // class org/atmosphere/cpr/AsynchronousProcessor
     350: ldc           #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
     352: aload_2
     353: invokevirtual #42                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
     356: checkcast     #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
     359: iconst_1
     360: invokevirtual #66                 // Method org/atmosphere/cpr/AsynchronousProcessor.endRequest:(Lorg/atmosphere/cpr/AtmosphereResourceImpl;Z)V
     363: aload_2
     364: invokeinterface #47,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.removeFromAllBroadcasters:()Lorg/atmosphere/cpr/AtmosphereResource;
     369: pop
     370: aload_0
     371: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
     374: invokevirtual #30                 // Method org/atmosphere/cpr/AtmosphereConfig.resourcesFactory:()Lorg/atmosphere/cpr/AtmosphereResourceFactory;
     377: aload_2
     378: invokeinterface #48,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceFactory.unRegisterUuidForFindCandidate:(Lorg/atmosphere/cpr/AtmosphereResource;)V
     383: goto          411
     386: astore        8
     388: aload_2
     389: invokeinterface #47,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.removeFromAllBroadcasters:()Lorg/atmosphere/cpr/AtmosphereResource;
     394: pop
     395: aload_0
     396: getfield      #9                  // Field config:Lorg/atmosphere/cpr/AtmosphereConfig;
     399: invokevirtual #30                 // Method org/atmosphere/cpr/AtmosphereConfig.resourcesFactory:()Lorg/atmosphere/cpr/AtmosphereResourceFactory;
     402: aload_2
     403: invokeinterface #48,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceFactory.unRegisterUuidForFindCandidate:(Lorg/atmosphere/cpr/AtmosphereResource;)V
     408: aload         8
     410: athrow
     411: goto          429
     414: astore        4
     416: aload_0
     417: getfield      #5                  // Field logger:Lorg/slf4j/Logger;
     420: ldc           #68                 // String IdleResourceInterceptor
     422: aload         4
     424: invokeinterface #69,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     429: goto          68
     432: return
    Exception table:
       from    to  target type
         244   363   386   any
         386   388   386   any
         116   159   414   Class java/lang/Throwable
         162   411   414   Class java/lang/Throwable

  public long maxInactiveTime();
    Code:
       0: aload_0
       1: getfield      #8                  // Field maxInactiveTime:J
       4: lreturn

  public org.atmosphere.interceptor.IdleResourceInterceptor maxInactiveTime(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #8                  // Field maxInactiveTime:J
       5: aload_0
       6: invokespecial #13                 // Method start:()V
       9: aload_0
      10: areturn

  public org.atmosphere.cpr.Action inspect(org.atmosphere.cpr.AtmosphereResource);
    Code:
       0: aload_0
       1: getfield      #8                  // Field maxInactiveTime:J
       4: lconst_0
       5: lcmp
       6: ifle          47
       9: aload_1
      10: invokeinterface #39,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.transport:()Lorg/atmosphere/cpr/AtmosphereResource$TRANSPORT;
      15: invokestatic  #40                 // Method org/atmosphere/util/Utils.pollableTransport:(Lorg/atmosphere/cpr/AtmosphereResource$TRANSPORT;)Z
      18: ifne          47
      21: ldc           #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
      23: aload_1
      24: invokevirtual #42                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
      27: checkcast     #41                 // class org/atmosphere/cpr/AtmosphereResourceImpl
      30: iconst_0
      31: invokevirtual #43                 // Method org/atmosphere/cpr/AtmosphereResourceImpl.getRequest:(Z)Lorg/atmosphere/cpr/AtmosphereRequest;
      34: ldc           #10                 // String org.atmosphere.cpr.CometSupport.maxInactiveActivity
      36: invokestatic  #53                 // Method java/lang/System.currentTimeMillis:()J
      39: invokestatic  #18                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      42: invokeinterface #54,  3           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      47: getstatic     #70                 // Field org/atmosphere/cpr/Action.CONTINUE:Lorg/atmosphere/cpr/Action;
      50: areturn

  public org.atmosphere.interceptor.InvokationOrder$PRIORITY priority();
    Code:
       0: getstatic     #71                 // Field org/atmosphere/interceptor/InvokationOrder.BEFORE_DEFAULT:Lorg/atmosphere/interceptor/InvokationOrder$PRIORITY;
       3: areturn

  public void destroy();
    Code:
       0: aload_0
       1: getfield      #14                 // Field future:Ljava/util/concurrent/Future;
       4: ifnull        18
       7: aload_0
       8: getfield      #14                 // Field future:Ljava/util/concurrent/Future;
      11: iconst_1
      12: invokeinterface #15,  2           // InterfaceMethod java/util/concurrent/Future.cancel:(Z)Z
      17: pop
      18: return
}
