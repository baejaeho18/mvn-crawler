Compiled from "SessionTimeoutRestorer.java"
public final class org.atmosphere.cpr.SessionTimeoutRestorer implements java.io.Serializable,javax.servlet.http.HttpSessionActivationListener {
  private static final org.slf4j.Logger logger;

  private static final long serialVersionUID;

  private final int timeout;

  private final java.util.concurrent.atomic.AtomicInteger requestCount;

  private final int internalSessionTimeout;

  public org.atmosphere.cpr.SessionTimeoutRestorer(org.atmosphere.cpr.AtmosphereConfig, int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/atomic/AtomicInteger
       8: dup
       9: iconst_0
      10: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      13: putfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
      16: aload_0
      17: iload_2
      18: putfield      #5                  // Field timeout:I
      21: aload_1
      22: ldc           #7                  // String org.atmosphere.cpr.session.maxInactiveInterval
      24: invokevirtual #8                  // Method org/atmosphere/cpr/AtmosphereConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      27: astore_3
      28: aload_3
      29: ifnull        46
      32: aload_0
      33: aload_3
      34: invokestatic  #9                  // Method java/lang/Integer.valueOf:(Ljava/lang/String;)Ljava/lang/Integer;
      37: invokevirtual #10                 // Method java/lang/Integer.intValue:()I
      40: putfield      #11                 // Field internalSessionTimeout:I
      43: goto          51
      46: aload_0
      47: iconst_m1
      48: putfield      #11                 // Field internalSessionTimeout:I
      51: return

  public void setup(javax.servlet.http.HttpSession);
    Code:
       0: aload_0
       1: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #12                 // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
       7: istore_2
       8: getstatic     #13                 // Field logger:Lorg/slf4j/Logger;
      11: ldc           #14                 // String requestCount => {}
      13: aload_0
      14: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
      17: invokeinterface #15,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      22: iload_2
      23: ifne          31
      26: aload_0
      27: aload_1
      28: invokespecial #16                 // Method refreshTimeout:(Ljavax/servlet/http/HttpSession;)V
      31: return

  public void restore(javax.servlet.http.HttpSession);
    Code:
       0: aload_0
       1: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #17                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
       7: istore_2
       8: getstatic     #13                 // Field logger:Lorg/slf4j/Logger;
      11: ldc           #18                 // String requestCount <= {}
      13: aload_0
      14: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
      17: invokeinterface #15,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      22: iload_2
      23: ifne          31
      26: aload_0
      27: aload_1
      28: invokespecial #16                 // Method refreshTimeout:(Ljavax/servlet/http/HttpSession;)V
      31: return

  private synchronized void refreshTimeout(javax.servlet.http.HttpSession);
    Code:
       0: aload_0
       1: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #19                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: ifle          23
      10: aload_1
      11: aload_0
      12: getfield      #11                 // Field internalSessionTimeout:I
      15: invokeinterface #20,  2           // InterfaceMethod javax/servlet/http/HttpSession.setMaxInactiveInterval:(I)V
      20: goto          33
      23: aload_1
      24: aload_0
      25: getfield      #5                  // Field timeout:I
      28: invokeinterface #20,  2           // InterfaceMethod javax/servlet/http/HttpSession.setMaxInactiveInterval:(I)V
      33: return

  public void sessionWillPassivate(javax.servlet.http.HttpSessionEvent);
    Code:
       0: aload_0
       1: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
       4: iconst_0
       5: invokevirtual #21                 // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
       8: aload_0
       9: aload_1
      10: invokevirtual #22                 // Method javax/servlet/http/HttpSessionEvent.getSession:()Ljavax/servlet/http/HttpSession;
      13: invokespecial #16                 // Method refreshTimeout:(Ljavax/servlet/http/HttpSession;)V
      16: return

  public void sessionDidActivate(javax.servlet.http.HttpSessionEvent);
    Code:
       0: return

  public java.lang.String toString();
    Code:
       0: new           #23                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #25                 // String SessionTimeoutRestorer[timeout=
      11: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: pop
      15: aload_1
      16: aload_0
      17: getfield      #5                  // Field timeout:I
      20: invokevirtual #27                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      23: pop
      24: aload_1
      25: ldc           #28                 // String , requestCount=
      27: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: pop
      31: aload_1
      32: aload_0
      33: getfield      #4                  // Field requestCount:Ljava/util/concurrent/atomic/AtomicInteger;
      36: invokevirtual #19                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      39: invokevirtual #27                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      42: pop
      43: aload_1
      44: bipush        93
      46: invokevirtual #29                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      49: pop
      50: aload_1
      51: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      54: areturn

  static {};
    Code:
       0: ldc           #31                 // class org/atmosphere/cpr/SessionTimeoutRestorer
       2: invokestatic  #32                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #13                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
