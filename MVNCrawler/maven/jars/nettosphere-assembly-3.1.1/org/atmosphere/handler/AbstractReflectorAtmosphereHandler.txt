Compiled from "AbstractReflectorAtmosphereHandler.java"
public abstract class org.atmosphere.handler.AbstractReflectorAtmosphereHandler implements org.atmosphere.cpr.AtmosphereServletProcessor {
  private static final org.slf4j.Logger logger;

  private boolean twoStepsWrite;

  public org.atmosphere.handler.AbstractReflectorAtmosphereHandler();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: return

  public void onStateChange(org.atmosphere.cpr.AtmosphereResourceEvent) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokeinterface #3,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.getMessage:()Ljava/lang/Object;
       6: astore_2
       7: aload_1
       8: invokeinterface #4,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.getResource:()Lorg/atmosphere/cpr/AtmosphereResource;
      13: astore_3
      14: aload_3
      15: invokeinterface #5,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getResponse:()Lorg/atmosphere/cpr/AtmosphereResponse;
      20: astore        4
      22: aload_3
      23: invokeinterface #6,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getRequest:()Lorg/atmosphere/cpr/AtmosphereRequest;
      28: astore        5
      30: aload         5
      32: invokestatic  #7                  // Method org/atmosphere/util/IOUtils.isBodyBinary:(Lorg/atmosphere/cpr/AtmosphereRequest;)Z
      35: istore        6
      37: aload_2
      38: ifnonnull     53
      41: getstatic     #8                  // Field logger:Lorg/slf4j/Logger;
      44: ldc           #9                  // String Message was null for AtmosphereEvent {}
      46: aload_1
      47: invokeinterface #10,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      52: return
      53: aload_3
      54: invokeinterface #11,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getSerializer:()Lorg/atmosphere/cpr/Serializer;
      59: ifnull        180
      62: aload_2
      63: instanceof    #12                 // class java/util/List
      66: ifeq          129
      69: aload_2
      70: checkcast     #12                 // class java/util/List
      73: invokeinterface #13,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      78: astore        7
      80: aload         7
      82: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      87: ifeq          126
      90: aload         7
      92: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      97: astore        8
      99: aload_3
     100: invokeinterface #11,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getSerializer:()Lorg/atmosphere/cpr/Serializer;
     105: aload_3
     106: invokeinterface #5,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getResponse:()Lorg/atmosphere/cpr/AtmosphereResponse;
     111: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     116: aload         8
     118: invokeinterface #17,  3           // InterfaceMethod org/atmosphere/cpr/Serializer.write:(Ljava/io/OutputStream;Ljava/lang/Object;)V
     123: goto          80
     126: goto          152
     129: aload_3
     130: invokeinterface #11,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getSerializer:()Lorg/atmosphere/cpr/Serializer;
     135: aload_3
     136: invokeinterface #5,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getResponse:()Lorg/atmosphere/cpr/AtmosphereResponse;
     141: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     146: aload_2
     147: invokeinterface #17,  3           // InterfaceMethod org/atmosphere/cpr/Serializer.write:(Ljava/io/OutputStream;Ljava/lang/Object;)V
     152: goto          603
     155: astore        7
     157: getstatic     #8                  // Field logger:Lorg/slf4j/Logger;
     160: ldc           #19                 // String Serializer exception: message: {}
     162: aload_2
     163: aload         7
     165: invokeinterface #20,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     170: new           #21                 // class java/io/IOException
     173: dup
     174: aload         7
     176: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     179: athrow
     180: iconst_1
     181: istore        7
     183: aload_3
     184: invokeinterface #6,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getRequest:()Lorg/atmosphere/cpr/AtmosphereRequest;
     189: ldc           #23                 // String org.atmosphere.useStream
     191: invokeinterface #24,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
     196: astore        8
     198: aload         8
     200: ifnull        213
     203: aload         8
     205: checkcast     #25                 // class java/lang/Boolean
     208: invokevirtual #26                 // Method java/lang/Boolean.booleanValue:()Z
     211: istore        7
     213: iload         7
     215: ifne          249
     218: aload         4
     220: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     225: pop
     226: goto          234
     229: astore        9
     231: iconst_1
     232: istore        7
     234: iload         6
     236: ifeq          249
     239: new           #28                 // class java/lang/IllegalStateException
     242: dup
     243: ldc           #29                 // String Cannot write bytes using PrintWriter
     245: invokespecial #30                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     248: athrow
     249: aload_2
     250: instanceof    #12                 // class java/util/List
     253: ifeq          525
     256: aload_2
     257: checkcast     #12                 // class java/util/List
     260: invokeinterface #13,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     265: astore        9
     267: aload         9
     269: invokeinterface #14,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     274: ifeq          462
     277: aload         9
     279: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     284: astore        10
     286: ldc           #31                 // class java/lang/String
     288: aload         10
     290: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     293: invokevirtual #33                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
     296: ifeq          350
     299: iload         7
     301: ifeq          332
     304: aload         4
     306: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     311: aload         10
     313: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     316: aload         4
     318: invokeinterface #35,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getCharacterEncoding:()Ljava/lang/String;
     323: invokevirtual #36                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     326: invokevirtual #37                 // Method javax/servlet/ServletOutputStream.write:([B)V
     329: goto          452
     332: aload         4
     334: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     339: aload         10
     341: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     344: invokevirtual #38                 // Method java/io/PrintWriter.write:(Ljava/lang/String;)V
     347: goto          452
     350: ldc           #39                 // class "[B"
     352: aload         10
     354: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     357: invokevirtual #33                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
     360: ifeq          404
     363: iload         7
     365: ifeq          386
     368: aload         4
     370: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     375: aload         10
     377: checkcast     #39                 // class "[B"
     380: invokevirtual #37                 // Method javax/servlet/ServletOutputStream.write:([B)V
     383: goto          452
     386: aload         4
     388: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     393: aload         10
     395: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     398: invokevirtual #38                 // Method java/io/PrintWriter.write:(Ljava/lang/String;)V
     401: goto          452
     404: iload         7
     406: ifeq          437
     409: aload         4
     411: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     416: aload         10
     418: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     421: aload         4
     423: invokeinterface #35,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getCharacterEncoding:()Ljava/lang/String;
     428: invokevirtual #36                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     431: invokevirtual #37                 // Method javax/servlet/ServletOutputStream.write:([B)V
     434: goto          452
     437: aload         4
     439: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     444: aload         10
     446: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     449: invokevirtual #38                 // Method java/io/PrintWriter.write:(Ljava/lang/String;)V
     452: aload         9
     454: invokeinterface #40,  1           // InterfaceMethod java/util/Iterator.remove:()V
     459: goto          267
     462: goto          494
     465: astore        10
     467: aload_1
     468: new           #41                 // class java/util/ArrayList
     471: dup
     472: invokespecial #42                 // Method java/util/ArrayList."<init>":()V
     475: aload_2
     476: checkcast     #12                 // class java/util/List
     479: invokevirtual #43                 // Method java/util/ArrayList.addAll:(Ljava/util/Collection;)Z
     482: invokestatic  #44                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     485: invokeinterface #45,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.setMessage:(Ljava/lang/Object;)Lorg/atmosphere/cpr/AtmosphereResourceEvent;
     490: pop
     491: aload         10
     493: athrow
     494: iload         7
     496: ifeq          512
     499: aload         4
     501: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     506: invokevirtual #46                 // Method javax/servlet/ServletOutputStream.flush:()V
     509: goto          522
     512: aload         4
     514: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     519: invokevirtual #47                 // Method java/io/PrintWriter.flush:()V
     522: goto          603
     525: iload         7
     527: ifeq          579
     530: aload         4
     532: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     537: iload         6
     539: ifeq          549
     542: aload_2
     543: checkcast     #39                 // class "[B"
     546: goto          563
     549: aload_2
     550: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     553: aload         4
     555: invokeinterface #35,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getCharacterEncoding:()Ljava/lang/String;
     560: invokevirtual #36                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     563: invokevirtual #37                 // Method javax/servlet/ServletOutputStream.write:([B)V
     566: aload         4
     568: invokeinterface #16,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     573: invokevirtual #46                 // Method javax/servlet/ServletOutputStream.flush:()V
     576: goto          603
     579: aload         4
     581: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     586: aload_2
     587: invokevirtual #34                 // Method java/lang/Object.toString:()Ljava/lang/String;
     590: invokevirtual #38                 // Method java/io/PrintWriter.write:(Ljava/lang/String;)V
     593: aload         4
     595: invokeinterface #27,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResponse.getWriter:()Ljava/io/PrintWriter;
     600: invokevirtual #47                 // Method java/io/PrintWriter.flush:()V
     603: aload_0
     604: aload_1
     605: invokevirtual #48                 // Method postStateChange:(Lorg/atmosphere/cpr/AtmosphereResourceEvent;)V
     608: return
    Exception table:
       from    to  target type
          62   152   155   Class java/lang/Throwable
         218   226   229   Class java/lang/IllegalStateException
         267   462   465   Class java/io/IOException

  protected void write(org.atmosphere.cpr.AtmosphereResourceEvent, javax.servlet.ServletOutputStream, byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #49                 // Method useTwoStepWrite:(Lorg/atmosphere/cpr/AtmosphereResourceEvent;)Z
       5: ifeq          23
       8: aload_3
       9: arraylength
      10: iconst_1
      11: if_icmple     23
      14: aload_0
      15: aload_2
      16: aload_3
      17: invokespecial #50                 // Method twoStepWrite:(Ljavax/servlet/ServletOutputStream;[B)V
      20: goto          32
      23: aload_2
      24: aload_3
      25: invokevirtual #37                 // Method javax/servlet/ServletOutputStream.write:([B)V
      28: aload_2
      29: invokevirtual #46                 // Method javax/servlet/ServletOutputStream.flush:()V
      32: return

  private void twoStepWrite(javax.servlet.ServletOutputStream, byte[]) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_2
       2: iconst_0
       3: iconst_1
       4: invokevirtual #51                 // Method javax/servlet/ServletOutputStream.write:([BII)V
       7: aload_1
       8: invokevirtual #46                 // Method javax/servlet/ServletOutputStream.flush:()V
      11: aload_1
      12: aload_2
      13: iconst_1
      14: aload_2
      15: arraylength
      16: iconst_1
      17: isub
      18: invokevirtual #51                 // Method javax/servlet/ServletOutputStream.write:([BII)V
      21: aload_1
      22: invokevirtual #46                 // Method javax/servlet/ServletOutputStream.flush:()V
      25: return

  protected boolean useTwoStepWrite(org.atmosphere.cpr.AtmosphereResourceEvent);
    Code:
       0: aload_0
       1: getfield      #52                 // Field twoStepsWrite:Z
       4: ifeq          28
       7: aload_1
       8: invokeinterface #4,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.getResource:()Lorg/atmosphere/cpr/AtmosphereResource;
      13: invokeinterface #53,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.transport:()Lorg/atmosphere/cpr/AtmosphereResource$TRANSPORT;
      18: getstatic     #54                 // Field org/atmosphere/cpr/AtmosphereResource$TRANSPORT.LONG_POLLING:Lorg/atmosphere/cpr/AtmosphereResource$TRANSPORT;
      21: if_acmpne     28
      24: iconst_1
      25: goto          29
      28: iconst_0
      29: ireturn

  protected final void postStateChange(org.atmosphere.cpr.AtmosphereResourceEvent);
    Code:
       0: aload_1
       1: invokeinterface #55,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.isCancelled:()Z
       6: ifne          18
       9: aload_1
      10: invokeinterface #56,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.isResuming:()Z
      15: ifeq          19
      18: return
      19: ldc           #57                 // class org/atmosphere/cpr/AtmosphereResourceImpl
      21: aload_1
      22: invokeinterface #4,  1            // InterfaceMethod org/atmosphere/cpr/AtmosphereResourceEvent.getResource:()Lorg/atmosphere/cpr/AtmosphereResource;
      27: invokevirtual #58                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #57                 // class org/atmosphere/cpr/AtmosphereResourceImpl
      33: astore_2
      34: aload_2
      35: ifnonnull     50
      38: getstatic     #8                  // Field logger:Lorg/slf4j/Logger;
      41: ldc           #59                 // String Event {} returned a null AtmosphereResource
      43: aload_1
      44: invokeinterface #10,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      49: return
      50: aload_2
      51: invokevirtual #60                 // Method org/atmosphere/cpr/AtmosphereResourceImpl.resumeOnBroadcast:()Z
      54: invokestatic  #44                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      57: astore_3
      58: aload_3
      59: invokevirtual #26                 // Method java/lang/Boolean.booleanValue:()Z
      62: ifne          108
      65: aload_2
      66: iconst_0
      67: invokevirtual #61                 // Method org/atmosphere/cpr/AtmosphereResourceImpl.getRequest:(Z)Lorg/atmosphere/cpr/AtmosphereRequest;
      70: ldc           #62                 // String org.atmosphere.resumeOnBroadcast
      72: invokeinterface #24,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      77: astore        4
      79: aload         4
      81: ifnull        108
      84: ldc           #25                 // class java/lang/Boolean
      86: aload         4
      88: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      91: invokevirtual #33                 // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      94: ifeq          108
      97: ldc           #25                 // class java/lang/Boolean
      99: aload         4
     101: invokevirtual #58                 // Method java/lang/Class.cast:(Ljava/lang/Object;)Ljava/lang/Object;
     104: checkcast     #25                 // class java/lang/Boolean
     107: astore_3
     108: aload_3
     109: ifnull        124
     112: aload_3
     113: invokevirtual #26                 // Method java/lang/Boolean.booleanValue:()Z
     116: ifeq          124
     119: aload_2
     120: invokevirtual #63                 // Method org/atmosphere/cpr/AtmosphereResourceImpl.resume:()Lorg/atmosphere/cpr/AtmosphereResource;
     123: pop
     124: return

  public void destroy();
    Code:
       0: return

  public void init(org.atmosphere.cpr.AtmosphereConfig) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #64                 // String org.atmosphere.cpr.AbstractReflectorAtmosphereHandler.twoStepsWrite
       4: iconst_0
       5: invokevirtual #65                 // Method org/atmosphere/cpr/AtmosphereConfig.getInitParameter:(Ljava/lang/String;Z)Z
       8: putfield      #52                 // Field twoStepsWrite:Z
      11: return

  static {};
    Code:
       0: ldc           #66                 // class org/atmosphere/handler/AbstractReflectorAtmosphereHandler
       2: invokestatic  #67                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #8                  // Field logger:Lorg/slf4j/Logger;
       8: return
}
