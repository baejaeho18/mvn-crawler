Compiled from "NettyWebSocket.java"
public class org.atmosphere.nettosphere.NettyWebSocket extends org.atmosphere.websocket.WebSocket {
  private static final org.slf4j.Logger logger;

  private final io.netty.channel.Channel channel;

  private final java.util.concurrent.atomic.AtomicBoolean firstWrite;

  private boolean binaryWrite;

  private final boolean noInternalAlloc;

  private java.util.concurrent.Future<?> closeFuture;

  private final java.util.concurrent.atomic.AtomicBoolean isClosed;

  private io.netty.channel.ChannelId id;

  public org.atmosphere.nettosphere.NettyWebSocket(io.netty.channel.Channel, org.atmosphere.cpr.AtmosphereConfig, boolean, boolean);
    Code:
       0: aload_0
       1: aload_2
       2: invokespecial #1                  // Method org/atmosphere/websocket/WebSocket."<init>":(Lorg/atmosphere/cpr/AtmosphereConfig;)V
       5: aload_0
       6: new           #2                  // class java/util/concurrent/atomic/AtomicBoolean
       9: dup
      10: iconst_0
      11: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      14: putfield      #4                  // Field firstWrite:Ljava/util/concurrent/atomic/AtomicBoolean;
      17: aload_0
      18: iconst_0
      19: putfield      #5                  // Field binaryWrite:Z
      22: aload_0
      23: new           #2                  // class java/util/concurrent/atomic/AtomicBoolean
      26: dup
      27: invokespecial #6                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      30: putfield      #7                  // Field isClosed:Ljava/util/concurrent/atomic/AtomicBoolean;
      33: aload_0
      34: aload_1
      35: putfield      #8                  // Field channel:Lio/netty/channel/Channel;
      38: aload_2
      39: ldc           #10                 // String org.atmosphere.websocket.maxBinaryMessageSize
      41: invokevirtual #11                 // Method org/atmosphere/cpr/AtmosphereConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      44: astore        5
      46: aload         5
      48: ifnull        57
      51: aload         5
      53: invokestatic  #12                 // Method java/lang/Integer.valueOf:(Ljava/lang/String;)Ljava/lang/Integer;
      56: pop
      57: aload_2
      58: ldc           #13                 // String org.atmosphere.websocket.maxTextMessageSize
      60: invokevirtual #11                 // Method org/atmosphere/cpr/AtmosphereConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      63: astore        5
      65: aload         5
      67: ifnull        76
      70: aload         5
      72: invokestatic  #12                 // Method java/lang/Integer.valueOf:(Ljava/lang/String;)Ljava/lang/Integer;
      75: pop
      76: aload_0
      77: iload_3
      78: putfield      #14                 // Field noInternalAlloc:Z
      81: aload_0
      82: iload         4
      84: putfield      #5                  // Field binaryWrite:Z
      87: aload_0
      88: invokestatic  #15                 // Method java/lang/System.currentTimeMillis:()J
      91: putfield      #16                 // Field lastWrite:J
      94: return

  public org.atmosphere.websocket.WebSocket resource(org.atmosphere.cpr.AtmosphereResource);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #17                 // Method org/atmosphere/websocket/WebSocket.resource:(Lorg/atmosphere/cpr/AtmosphereResource;)Lorg/atmosphere/websocket/WebSocket;
       5: pop
       6: aload_0
       7: getfield      #14                 // Field noInternalAlloc:Z
      10: ifeq          66
      13: aload_0
      14: getstatic     #18                 // Field org/atmosphere/nettosphere/BridgeRuntime.NETTY_41_PLUS:Z
      17: ifeq          37
      20: aload_0
      21: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      24: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.id:()Lio/netty/channel/ChannelId;
      29: invokeinterface #20,  1           // InterfaceMethod io/netty/channel/ChannelId.asLongText:()Ljava/lang/String;
      34: goto          44
      37: aload_0
      38: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      41: invokestatic  #21                 // Method org/atmosphere/nettosphere/util/Utils.id:(Lio/netty/channel/Channel;)Ljava/lang/String;
      44: putfield      #22                 // Field uuid:Ljava/lang/String;
      47: getstatic     #18                 // Field org/atmosphere/nettosphere/BridgeRuntime.NETTY_41_PLUS:Z
      50: ifeq          66
      53: aload_0
      54: aload_0
      55: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      58: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.id:()Lio/netty/channel/ChannelId;
      63: putfield      #23                 // Field id:Lio/netty/channel/ChannelId;
      66: aload_0
      67: getfield      #5                  // Field binaryWrite:Z
      70: ifne          114
      73: aload_1
      74: ifnull        114
      77: aload_1
      78: invokeinterface #24,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getRequest:()Lorg/atmosphere/cpr/AtmosphereRequest;
      83: ifnull        114
      86: aload_0
      87: aload_1
      88: invokeinterface #24,  1           // InterfaceMethod org/atmosphere/cpr/AtmosphereResource.getRequest:()Lorg/atmosphere/cpr/AtmosphereRequest;
      93: invokestatic  #25                 // Method org/atmosphere/util/IOUtils.isBodyBinary:(Lorg/atmosphere/cpr/AtmosphereRequest;)Z
      96: putfield      #5                  // Field binaryWrite:Z
      99: goto          114
     102: astore_2
     103: getstatic     #27                 // Field logger:Lorg/slf4j/Logger;
     106: ldc           #28                 // String
     108: aload_2
     109: invokeinterface #29,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Throwable;)V
     114: aload_0
     115: areturn
    Exception table:
       from    to  target type
          86    99   102   Class java/lang/Exception

  public org.atmosphere.websocket.WebSocket write(java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field firstWrite:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: invokevirtual #30                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
       8: aload_0
       9: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      12: invokeinterface #31,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      17: ifne          24
      20: getstatic     #32                 // Field org/atmosphere/nettosphere/util/Utils.REMOTELY_CLOSED:Ljava/io/IOException;
      23: athrow
      24: getstatic     #27                 // Field logger:Lorg/slf4j/Logger;
      27: ldc           #33                 // String WebSocket.write() as binary {}
      29: aload_0
      30: getfield      #5                  // Field binaryWrite:Z
      33: invokestatic  #34                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      36: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #5                  // Field binaryWrite:Z
      45: ifeq          77
      48: aload_0
      49: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      52: new           #36                 // class io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame
      55: dup
      56: aload_1
      57: ldc           #37                 // String UTF-8
      59: invokevirtual #38                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
      62: invokestatic  #39                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([B)Lio/netty/buffer/ByteBuf;
      65: invokespecial #40                 // Method io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame."<init>":(Lio/netty/buffer/ByteBuf;)V
      68: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      73: pop
      74: goto          95
      77: aload_0
      78: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      81: new           #42                 // class io/netty/handler/codec/http/websocketx/TextWebSocketFrame
      84: dup
      85: aload_1
      86: invokespecial #43                 // Method io/netty/handler/codec/http/websocketx/TextWebSocketFrame."<init>":(Ljava/lang/String;)V
      89: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      94: pop
      95: aload_0
      96: invokestatic  #15                 // Method java/lang/System.currentTimeMillis:()J
      99: putfield      #16                 // Field lastWrite:J
     102: aload_0
     103: areturn

  public org.atmosphere.websocket.WebSocket write(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: invokevirtual #44                 // Method _write:([BII)V
       8: aload_0
       9: areturn

  public org.atmosphere.websocket.WebSocket write(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iload_3
       4: invokevirtual #44                 // Method _write:([BII)V
       7: aload_0
       8: areturn

  void _write(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field firstWrite:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: invokevirtual #30                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
       8: aload_0
       9: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      12: invokeinterface #31,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      17: ifne          24
      20: getstatic     #32                 // Field org/atmosphere/nettosphere/util/Utils.REMOTELY_CLOSED:Ljava/io/IOException;
      23: athrow
      24: getstatic     #27                 // Field logger:Lorg/slf4j/Logger;
      27: ldc           #33                 // String WebSocket.write() as binary {}
      29: aload_0
      30: getfield      #5                  // Field binaryWrite:Z
      33: invokestatic  #34                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      36: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #5                  // Field binaryWrite:Z
      45: ifeq          74
      48: aload_0
      49: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      52: new           #36                 // class io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame
      55: dup
      56: aload_1
      57: iload_2
      58: iload_3
      59: invokestatic  #45                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([BII)Lio/netty/buffer/ByteBuf;
      62: invokespecial #40                 // Method io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame."<init>":(Lio/netty/buffer/ByteBuf;)V
      65: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      70: pop
      71: goto          97
      74: aload_0
      75: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      78: new           #42                 // class io/netty/handler/codec/http/websocketx/TextWebSocketFrame
      81: dup
      82: aload_1
      83: iload_2
      84: iload_3
      85: invokestatic  #45                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([BII)Lio/netty/buffer/ByteBuf;
      88: invokespecial #46                 // Method io/netty/handler/codec/http/websocketx/TextWebSocketFrame."<init>":(Lio/netty/buffer/ByteBuf;)V
      91: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      96: pop
      97: aload_0
      98: invokestatic  #15                 // Method java/lang/System.currentTimeMillis:()J
     101: putfield      #16                 // Field lastWrite:J
     104: return

  public boolean isOpen();
    Code:
       0: aload_0
       1: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
       4: invokeinterface #31,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
       9: ireturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #7                  // Field isClosed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: invokevirtual #47                 // Method java/util/concurrent/atomic/AtomicBoolean.getAndSet:(Z)Z
       8: ifeq          12
      11: return
      12: aload_0
      13: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
      16: new           #48                 // class io/netty/handler/codec/http/websocketx/CloseWebSocketFrame
      19: dup
      20: invokespecial #49                 // Method io/netty/handler/codec/http/websocketx/CloseWebSocketFrame."<init>":()V
      23: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      28: getstatic     #50                 // Field io/netty/channel/ChannelFutureListener.CLOSE:Lio/netty/channel/ChannelFutureListener;
      31: invokeinterface #51,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
      36: pop
      37: aload_0
      38: getfield      #52                 // Field closeFuture:Ljava/util/concurrent/Future;
      41: ifnull        55
      44: aload_0
      45: getfield      #52                 // Field closeFuture:Ljava/util/concurrent/Future;
      48: iconst_1
      49: invokeinterface #53,  2           // InterfaceMethod java/util/concurrent/Future.cancel:(Z)Z
      54: pop
      55: return

  public org.atmosphere.websocket.WebSocket sendPing(byte[]);
    Code:
       0: aload_0
       1: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
       4: new           #54                 // class io/netty/handler/codec/http/websocketx/PingWebSocketFrame
       7: dup
       8: aload_1
       9: invokestatic  #39                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([B)Lio/netty/buffer/ByteBuf;
      12: invokespecial #55                 // Method io/netty/handler/codec/http/websocketx/PingWebSocketFrame."<init>":(Lio/netty/buffer/ByteBuf;)V
      15: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      20: pop
      21: aload_0
      22: areturn

  public org.atmosphere.websocket.WebSocket sendPong(byte[]);
    Code:
       0: aload_0
       1: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
       4: new           #56                 // class io/netty/handler/codec/http/websocketx/PongWebSocketFrame
       7: dup
       8: aload_1
       9: invokestatic  #39                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([B)Lio/netty/buffer/ByteBuf;
      12: invokespecial #57                 // Method io/netty/handler/codec/http/websocketx/PongWebSocketFrame."<init>":(Lio/netty/buffer/ByteBuf;)V
      15: invokeinterface #41,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      20: pop
      21: aload_0
      22: areturn

  public java.lang.String address();
    Code:
       0: aload_0
       1: getfield      #8                  // Field channel:Lio/netty/channel/Channel;
       4: invokeinterface #58,  1           // InterfaceMethod io/netty/channel/Channel.remoteAddress:()Ljava/net/SocketAddress;
       9: checkcast     #59                 // class java/net/InetSocketAddress
      12: invokevirtual #60                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
      15: invokevirtual #61                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
      18: areturn

  protected org.atmosphere.websocket.WebSocket closeFuture(java.util.concurrent.Future<?>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #52                 // Field closeFuture:Ljava/util/concurrent/Future;
       5: aload_0
       6: areturn

  protected java.util.concurrent.Future<?> closeFuture();
    Code:
       0: aload_0
       1: getfield      #52                 // Field closeFuture:Ljava/util/concurrent/Future;
       4: areturn

  public io.netty.channel.ChannelId id();
    Code:
       0: aload_0
       1: getfield      #23                 // Field id:Lio/netty/channel/ChannelId;
       4: areturn

  static {};
    Code:
       0: ldc           #62                 // class org/atmosphere/nettosphere/NettyWebSocket
       2: invokestatic  #63                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #27                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
