Compiled from "JBossAsyncSupportWithWebSocket.java"
public class org.atmosphere.container.JBossAsyncSupportWithWebSocket extends org.atmosphere.container.JBossWebCometSupport {
  private static final org.slf4j.Logger logger;

  private final org.jboss.servlet.http.HttpEventServlet websocketHandler;

  public org.atmosphere.container.JBossAsyncSupportWithWebSocket(org.atmosphere.cpr.AtmosphereConfig);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/atmosphere/container/JBossWebCometSupport."<init>":(Lorg/atmosphere/cpr/AtmosphereConfig;)V
       5: aload_0
       6: aload_0
       7: aload_1
       8: invokespecial #2                  // Method newWebSocketHandler:(Lorg/atmosphere/cpr/AtmosphereConfig;)Lorg/jboss/servlet/http/HttpEventServlet;
      11: putfield      #3                  // Field websocketHandler:Lorg/jboss/servlet/http/HttpEventServlet;
      14: return

  private org.jboss.servlet.http.HttpEventServlet newWebSocketHandler(org.atmosphere.cpr.AtmosphereConfig);
    Code:
       0: new           #4                  // class org/atmosphere/container/JBossWebSocketHandler
       3: dup
       4: aload_1
       5: invokespecial #5                  // Method org/atmosphere/container/JBossWebSocketHandler."<init>":(Lorg/atmosphere/cpr/AtmosphereConfig;)V
       8: areturn
       9: astore_2
      10: getstatic     #7                  // Field logger:Lorg/slf4j/Logger;
      13: ldc           #8                  // String Cannot instantiate JBossWebSocketHandler. Websocket events will not be handled.
      15: aload_2
      16: invokeinterface #9,  3            // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      21: aconst_null
      22: areturn
    Exception table:
       from    to  target type
           0     8     9   Class java/lang/Exception

  public org.atmosphere.cpr.Action service(org.atmosphere.cpr.AtmosphereRequest, org.atmosphere.cpr.AtmosphereResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_1
       1: ldc           #11                 // String X-Atmosphere-WebSocket-Proxy
       3: invokeinterface #12,  2           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
       8: ifnull        15
      11: iconst_1
      12: goto          16
      15: iconst_0
      16: istore_3
      17: iload_3
      18: ifne          84
      21: aload_1
      22: ldc           #13                 // String Upgrade
      24: ldc           #14                 // String websocket
      26: invokestatic  #15                 // Method headerContainsToken:(Ljavax/servlet/http/HttpServletRequest;Ljava/lang/String;Ljava/lang/String;)Z
      29: ifne          39
      32: aload_0
      33: aload_1
      34: aload_2
      35: invokevirtual #16                 // Method doService:(Lorg/atmosphere/cpr/AtmosphereRequest;Lorg/atmosphere/cpr/AtmosphereResponse;)Lorg/atmosphere/cpr/Action;
      38: areturn
      39: aload_1
      40: ldc           #17                 // String Connection
      42: ldc           #18                 // String upgrade
      44: invokestatic  #15                 // Method headerContainsToken:(Ljavax/servlet/http/HttpServletRequest;Ljava/lang/String;Ljava/lang/String;)Z
      47: ifne          57
      50: aload_0
      51: aload_1
      52: aload_2
      53: invokevirtual #16                 // Method doService:(Lorg/atmosphere/cpr/AtmosphereRequest;Lorg/atmosphere/cpr/AtmosphereResponse;)Lorg/atmosphere/cpr/Action;
      56: areturn
      57: aload_1
      58: ldc           #19                 // String sec-websocket-version
      60: ldc           #20                 // String 13
      62: invokestatic  #15                 // Method headerContainsToken:(Ljavax/servlet/http/HttpServletRequest;Ljava/lang/String;Ljava/lang/String;)Z
      65: ifne          84
      68: aload_1
      69: aload_2
      70: invokestatic  #21                 // Method org/atmosphere/websocket/WebSocket.notSupported:(Lorg/atmosphere/cpr/AtmosphereRequest;Lorg/atmosphere/cpr/AtmosphereResponse;)V
      73: new           #22                 // class org/atmosphere/cpr/Action
      76: dup
      77: getstatic     #23                 // Field org/atmosphere/cpr/Action$TYPE.CANCELLED:Lorg/atmosphere/cpr/Action$TYPE;
      80: invokespecial #24                 // Method org/atmosphere/cpr/Action."<init>":(Lorg/atmosphere/cpr/Action$TYPE;)V
      83: areturn
      84: aload_0
      85: aload_1
      86: aload_2
      87: invokevirtual #25                 // Method suspended:(Lorg/atmosphere/cpr/AtmosphereRequest;Lorg/atmosphere/cpr/AtmosphereResponse;)Lorg/atmosphere/cpr/Action;
      90: astore        4
      92: aload         4
      94: invokevirtual #26                 // Method org/atmosphere/cpr/Action.type:()Lorg/atmosphere/cpr/Action$TYPE;
      97: getstatic     #27                 // Field org/atmosphere/cpr/Action$TYPE.RESUME:Lorg/atmosphere/cpr/Action$TYPE;
     100: if_acmpne     116
     103: aload_1
     104: getstatic     #28                 // Field org/atmosphere/websocket/WebSocket.WEBSOCKET_RESUME:Ljava/lang/String;
     107: iconst_1
     108: invokestatic  #29                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     111: invokeinterface #30,  3           // InterfaceMethod org/atmosphere/cpr/AtmosphereRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     116: aload         4
     118: areturn
     119: astore        4
     121: getstatic     #7                  // Field logger:Lorg/slf4j/Logger;
     124: ldc           #31                 // String
     126: aload         4
     128: invokeinterface #9,  3            // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     133: getstatic     #32                 // Field org/atmosphere/cpr/Action.CANCELLED:Lorg/atmosphere/cpr/Action;
     136: areturn
    Exception table:
       from    to  target type
          84   118   119   Class java/lang/Exception

  public org.atmosphere.cpr.Action doService(org.atmosphere.cpr.AtmosphereRequest, org.atmosphere.cpr.AtmosphereResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #33                 // Method org/atmosphere/container/JBossWebCometSupport.service:(Lorg/atmosphere/cpr/AtmosphereRequest;Lorg/atmosphere/cpr/AtmosphereResponse;)Lorg/atmosphere/cpr/Action;
       6: areturn

  public boolean supportWebSocket();
    Code:
       0: iconst_1
       1: ireturn

  public void dispatch(org.jboss.servlet.http.HttpEvent) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field websocketHandler:Lorg/jboss/servlet/http/HttpEventServlet;
       4: ifnull        17
       7: aload_0
       8: getfield      #3                  // Field websocketHandler:Lorg/jboss/servlet/http/HttpEventServlet;
      11: aload_1
      12: invokeinterface #34,  2           // InterfaceMethod org/jboss/servlet/http/HttpEventServlet.event:(Lorg/jboss/servlet/http/HttpEvent;)V
      17: return

  private static boolean headerContainsToken(javax.servlet.http.HttpServletRequest, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #35,  2           // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeaders:(Ljava/lang/String;)Ljava/util/Enumeration;
       7: astore_3
       8: aload_3
       9: invokeinterface #36,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      14: ifeq          86
      17: aload_3
      18: invokeinterface #37,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      23: checkcast     #38                 // class java/lang/String
      26: astore        4
      28: aload         4
      30: ldc           #39                 // String ,
      32: invokevirtual #40                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      35: astore        5
      37: aload         5
      39: astore        6
      41: aload         6
      43: arraylength
      44: istore        7
      46: iconst_0
      47: istore        8
      49: iload         8
      51: iload         7
      53: if_icmpge     83
      56: aload         6
      58: iload         8
      60: aaload
      61: astore        9
      63: aload_2
      64: aload         9
      66: invokevirtual #41                 // Method java/lang/String.trim:()Ljava/lang/String;
      69: invokevirtual #42                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      72: ifeq          77
      75: iconst_1
      76: ireturn
      77: iinc          8, 1
      80: goto          49
      83: goto          8
      86: iconst_0
      87: ireturn

  static {};
    Code:
       0: ldc           #43                 // class org/atmosphere/container/JBossAsyncSupportWithWebSocket
       2: invokestatic  #44                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #7                  // Field logger:Lorg/slf4j/Logger;
       8: return
}
