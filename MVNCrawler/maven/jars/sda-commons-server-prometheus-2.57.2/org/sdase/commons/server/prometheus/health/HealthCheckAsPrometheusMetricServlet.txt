Compiled from "HealthCheckAsPrometheusMetricServlet.java"
public class org.sdase.commons.server.prometheus.health.HealthCheckAsPrometheusMetricServlet extends javax.servlet.http.HttpServlet {
  private static final long serialVersionUID;

  private com.codahale.metrics.health.HealthCheckRegistry registry;

  private org.sdase.commons.server.prometheus.health.HealthCheckMetricsCollector healthCheckMetricsCollector;

  public org.sdase.commons.server.prometheus.health.HealthCheckAsPrometheusMetricServlet();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/servlet/http/HttpServlet."<init>":()V
       4: return

  public void init(javax.servlet.ServletConfig) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method javax/servlet/http/HttpServlet.init:(Ljavax/servlet/ServletConfig;)V
       5: aload_0
       6: getfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
       9: ifnonnull     57
      12: aload_1
      13: invokeinterface #4,  1            // InterfaceMethod javax/servlet/ServletConfig.getServletContext:()Ljavax/servlet/ServletContext;
      18: astore_2
      19: aload_2
      20: getstatic     #5                  // Field com/codahale/metrics/servlets/HealthCheckServlet.HEALTH_CHECK_REGISTRY:Ljava/lang/String;
      23: invokeinterface #6,  2            // InterfaceMethod javax/servlet/ServletContext.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      28: astore_3
      29: aload_3
      30: instanceof    #7                  // class com/codahale/metrics/health/HealthCheckRegistry
      33: ifeq          47
      36: aload_0
      37: aload_3
      38: checkcast     #7                  // class com/codahale/metrics/health/HealthCheckRegistry
      41: putfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
      44: goto          57
      47: new           #8                  // class javax/servlet/ServletException
      50: dup
      51: ldc           #9                  // String Couldn\'t find a HealthCheckRegistry instance.
      53: invokespecial #10                 // Method javax/servlet/ServletException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_0
      58: new           #11                 // class org/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector
      61: dup
      62: aload_0
      63: getfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
      66: invokespecial #12                 // Method org/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector."<init>":(Lcom/codahale/metrics/health/HealthCheckRegistry;)V
      69: putfield      #13                 // Field healthCheckMetricsCollector:Lorg/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector;
      72: return

  public void destroy();
    Code:
       0: aload_0
       1: invokespecial #14                 // Method javax/servlet/http/HttpServlet.destroy:()V
       4: aload_0
       5: getfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
       8: invokevirtual #15                 // Method com/codahale/metrics/health/HealthCheckRegistry.shutdown:()V
      11: return

  protected void doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse);
    Code:
       0: aload_0
       1: getfield      #13                 // Field healthCheckMetricsCollector:Lorg/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector;
       4: invokevirtual #16                 // Method org/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector.collect:()Ljava/util/List;
       7: astore_3
       8: aload_2
       9: ldc           #17                 // String Cache-Control
      11: ldc           #18                 // String must-revalidate,no-cache,no-store
      13: invokeinterface #19,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
      18: aload_2
      19: sipush        200
      22: invokeinterface #21,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
      27: aload_2
      28: ldc           #23                 // String text/plain; version=0.0.4; charset=utf-8
      30: invokeinterface #24,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setContentType:(Ljava/lang/String;)V
      35: aload_2
      36: invokeinterface #25,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getWriter:()Ljava/io/PrintWriter;
      41: astore        4
      43: aconst_null
      44: astore        5
      46: aload         4
      48: aload_3
      49: invokestatic  #26                 // Method java/util/Collections.enumeration:(Ljava/util/Collection;)Ljava/util/Enumeration;
      52: invokestatic  #27                 // Method io/prometheus/client/exporter/common/TextFormat.write004:(Ljava/io/Writer;Ljava/util/Enumeration;)V
      55: aload         4
      57: ifnull        142
      60: aload         5
      62: ifnull        85
      65: aload         4
      67: invokevirtual #28                 // Method java/io/Writer.close:()V
      70: goto          142
      73: astore        6
      75: aload         5
      77: aload         6
      79: invokevirtual #30                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      82: goto          142
      85: aload         4
      87: invokevirtual #28                 // Method java/io/Writer.close:()V
      90: goto          142
      93: astore        6
      95: aload         6
      97: astore        5
      99: aload         6
     101: athrow
     102: astore        7
     104: aload         4
     106: ifnull        139
     109: aload         5
     111: ifnull        134
     114: aload         4
     116: invokevirtual #28                 // Method java/io/Writer.close:()V
     119: goto          139
     122: astore        8
     124: aload         5
     126: aload         8
     128: invokevirtual #30                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     131: goto          139
     134: aload         4
     136: invokevirtual #28                 // Method java/io/Writer.close:()V
     139: aload         7
     141: athrow
     142: goto          147
     145: astore        4
     147: return
    Exception table:
       from    to  target type
          65    70    73   Class java/lang/Throwable
          46    55    93   Class java/lang/Throwable
          46    55   102   any
         114   119   122   Class java/lang/Throwable
          93   104   102   any
          35   142   145   Class java/io/IOException
}
