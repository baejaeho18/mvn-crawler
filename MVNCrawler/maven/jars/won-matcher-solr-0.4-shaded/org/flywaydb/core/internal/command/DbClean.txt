Compiled from "DbClean.java"
public class org.flywaydb.core.internal.command.DbClean {
  private static final org.flywaydb.core.internal.util.logging.Log LOG;

  private final java.sql.Connection connection;

  private final org.flywaydb.core.internal.metadatatable.MetaDataTable metaDataTable;

  private final org.flywaydb.core.internal.dbsupport.Schema[] schemas;

  private final org.flywaydb.core.api.callback.FlywayCallback[] callbacks;

  private boolean cleanDisabled;

  private final org.flywaydb.core.internal.dbsupport.DbSupport dbSupport;

  public org.flywaydb.core.internal.command.DbClean(java.sql.Connection, org.flywaydb.core.internal.dbsupport.DbSupport, org.flywaydb.core.internal.metadatatable.MetaDataTable, org.flywaydb.core.internal.dbsupport.Schema[], org.flywaydb.core.api.callback.FlywayCallback[], boolean);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #1                  // Field connection:Ljava/sql/Connection;
       9: aload_0
      10: aload_2
      11: putfield      #2                  // Field dbSupport:Lorg/flywaydb/core/internal/dbsupport/DbSupport;
      14: aload_0
      15: aload_3
      16: putfield      #5                  // Field metaDataTable:Lorg/flywaydb/core/internal/metadatatable/MetaDataTable;
      19: aload_0
      20: aload         4
      22: putfield      #3                  // Field schemas:[Lorg/flywaydb/core/internal/dbsupport/Schema;
      25: aload_0
      26: aload         5
      28: putfield      #6                  // Field callbacks:[Lorg/flywaydb/core/api/callback/FlywayCallback;
      31: aload_0
      32: iload         6
      34: putfield      #7                  // Field cleanDisabled:Z
      37: return

  public void clean() throws org.flywaydb.core.api.FlywayException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field cleanDisabled:Z
       4: ifeq          17
       7: new           #8                  // class org/flywaydb/core/api/FlywayException
      10: dup
      11: ldc           #9                  // String Unable to execute clean as it has been disabled with the \"flyway.cleanDisabled\" property.
      13: invokespecial #10                 // Method org/flywaydb/core/api/FlywayException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #6                  // Field callbacks:[Lorg/flywaydb/core/api/callback/FlywayCallback;
      21: astore_1
      22: aload_1
      23: arraylength
      24: istore_2
      25: iconst_0
      26: istore_3
      27: iload_3
      28: iload_2
      29: if_icmpge     68
      32: aload_1
      33: iload_3
      34: aaload
      35: astore        4
      37: new           #11                 // class org/flywaydb/core/internal/util/jdbc/TransactionTemplate
      40: dup
      41: aload_0
      42: getfield      #1                  // Field connection:Ljava/sql/Connection;
      45: invokespecial #12                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate."<init>":(Ljava/sql/Connection;)V
      48: new           #13                 // class org/flywaydb/core/internal/command/DbClean$1
      51: dup
      52: aload_0
      53: aload         4
      55: invokespecial #14                 // Method org/flywaydb/core/internal/command/DbClean$1."<init>":(Lorg/flywaydb/core/internal/command/DbClean;Lorg/flywaydb/core/api/callback/FlywayCallback;)V
      58: invokevirtual #15                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate.execute:(Lorg/flywaydb/core/internal/util/jdbc/TransactionCallback;)Ljava/lang/Object;
      61: pop
      62: iinc          3, 1
      65: goto          27
      68: aload_0
      69: getfield      #2                  // Field dbSupport:Lorg/flywaydb/core/internal/dbsupport/DbSupport;
      72: aload_0
      73: getfield      #3                  // Field schemas:[Lorg/flywaydb/core/internal/dbsupport/Schema;
      76: iconst_0
      77: aaload
      78: invokevirtual #16                 // Method org/flywaydb/core/internal/dbsupport/DbSupport.changeCurrentSchemaTo:(Lorg/flywaydb/core/internal/dbsupport/Schema;)V
      81: iconst_0
      82: istore_1
      83: aload_0
      84: getfield      #5                  // Field metaDataTable:Lorg/flywaydb/core/internal/metadatatable/MetaDataTable;
      87: invokeinterface #17,  1           // InterfaceMethod org/flywaydb/core/internal/metadatatable/MetaDataTable.hasSchemasMarker:()Z
      92: istore_1
      93: goto          108
      96: astore_2
      97: getstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
     100: ldc           #20                 // String Error while checking whether the schemas should be dropped
     102: aload_2
     103: invokeinterface #21,  3           // InterfaceMethod org/flywaydb/core/internal/util/logging/Log.error:(Ljava/lang/String;Ljava/lang/Exception;)V
     108: aload_0
     109: getfield      #3                  // Field schemas:[Lorg/flywaydb/core/internal/dbsupport/Schema;
     112: astore_2
     113: aload_2
     114: arraylength
     115: istore_3
     116: iconst_0
     117: istore        4
     119: iload         4
     121: iload_3
     122: if_icmpge     195
     125: aload_2
     126: iload         4
     128: aaload
     129: astore        5
     131: aload         5
     133: invokevirtual #22                 // Method org/flywaydb/core/internal/dbsupport/Schema.exists:()Z
     136: ifne          170
     139: getstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
     142: new           #23                 // class java/lang/StringBuilder
     145: dup
     146: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
     149: ldc           #25                 // String Unable to clean unknown schema:
     151: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     154: aload         5
     156: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     159: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     162: invokeinterface #29,  2           // InterfaceMethod org/flywaydb/core/internal/util/logging/Log.warn:(Ljava/lang/String;)V
     167: goto          189
     170: iload_1
     171: ifeq          183
     174: aload_0
     175: aload         5
     177: invokespecial #30                 // Method dropSchema:(Lorg/flywaydb/core/internal/dbsupport/Schema;)V
     180: goto          189
     183: aload_0
     184: aload         5
     186: invokespecial #31                 // Method cleanSchema:(Lorg/flywaydb/core/internal/dbsupport/Schema;)V
     189: iinc          4, 1
     192: goto          119
     195: aload_0
     196: getfield      #6                  // Field callbacks:[Lorg/flywaydb/core/api/callback/FlywayCallback;
     199: astore_2
     200: aload_2
     201: arraylength
     202: istore_3
     203: iconst_0
     204: istore        4
     206: iload         4
     208: iload_3
     209: if_icmpge     249
     212: aload_2
     213: iload         4
     215: aaload
     216: astore        5
     218: new           #11                 // class org/flywaydb/core/internal/util/jdbc/TransactionTemplate
     221: dup
     222: aload_0
     223: getfield      #1                  // Field connection:Ljava/sql/Connection;
     226: invokespecial #12                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate."<init>":(Ljava/sql/Connection;)V
     229: new           #32                 // class org/flywaydb/core/internal/command/DbClean$2
     232: dup
     233: aload_0
     234: aload         5
     236: invokespecial #33                 // Method org/flywaydb/core/internal/command/DbClean$2."<init>":(Lorg/flywaydb/core/internal/command/DbClean;Lorg/flywaydb/core/api/callback/FlywayCallback;)V
     239: invokevirtual #15                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate.execute:(Lorg/flywaydb/core/internal/util/jdbc/TransactionCallback;)Ljava/lang/Object;
     242: pop
     243: iinc          4, 1
     246: goto          206
     249: aload_0
     250: getfield      #2                  // Field dbSupport:Lorg/flywaydb/core/internal/dbsupport/DbSupport;
     253: invokevirtual #34                 // Method org/flywaydb/core/internal/dbsupport/DbSupport.restoreCurrentSchema:()V
     256: goto          271
     259: astore        6
     261: aload_0
     262: getfield      #2                  // Field dbSupport:Lorg/flywaydb/core/internal/dbsupport/DbSupport;
     265: invokevirtual #34                 // Method org/flywaydb/core/internal/dbsupport/DbSupport.restoreCurrentSchema:()V
     268: aload         6
     270: athrow
     271: return
    Exception table:
       from    to  target type
          83    93    96   Class java/lang/Exception
          17   249   259   any
         259   261   259   any

  private void dropSchema(org.flywaydb.core.internal.dbsupport.Schema);
    Code:
       0: getstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
       3: new           #23                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #35                 // String Dropping schema
      12: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #36                 // String  ...
      21: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: invokeinterface #37,  2           // InterfaceMethod org/flywaydb/core/internal/util/logging/Log.debug:(Ljava/lang/String;)V
      32: new           #38                 // class org/flywaydb/core/internal/util/StopWatch
      35: dup
      36: invokespecial #39                 // Method org/flywaydb/core/internal/util/StopWatch."<init>":()V
      39: astore_2
      40: aload_2
      41: invokevirtual #40                 // Method org/flywaydb/core/internal/util/StopWatch.start:()V
      44: new           #11                 // class org/flywaydb/core/internal/util/jdbc/TransactionTemplate
      47: dup
      48: aload_0
      49: getfield      #1                  // Field connection:Ljava/sql/Connection;
      52: invokespecial #12                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate."<init>":(Ljava/sql/Connection;)V
      55: new           #41                 // class org/flywaydb/core/internal/command/DbClean$3
      58: dup
      59: aload_0
      60: aload_1
      61: invokespecial #42                 // Method org/flywaydb/core/internal/command/DbClean$3."<init>":(Lorg/flywaydb/core/internal/command/DbClean;Lorg/flywaydb/core/internal/dbsupport/Schema;)V
      64: invokevirtual #15                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate.execute:(Lorg/flywaydb/core/internal/util/jdbc/TransactionCallback;)Ljava/lang/Object;
      67: pop
      68: aload_2
      69: invokevirtual #43                 // Method org/flywaydb/core/internal/util/StopWatch.stop:()V
      72: getstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
      75: ldc           #44                 // String Successfully dropped schema %s (execution time %s)
      77: iconst_2
      78: anewarray     #45                 // class java/lang/Object
      81: dup
      82: iconst_0
      83: aload_1
      84: aastore
      85: dup
      86: iconst_1
      87: aload_2
      88: invokevirtual #46                 // Method org/flywaydb/core/internal/util/StopWatch.getTotalTimeMillis:()J
      91: invokestatic  #47                 // Method org/flywaydb/core/internal/util/TimeFormat.format:(J)Ljava/lang/String;
      94: aastore
      95: invokestatic  #48                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      98: invokeinterface #49,  2           // InterfaceMethod org/flywaydb/core/internal/util/logging/Log.info:(Ljava/lang/String;)V
     103: return

  private void cleanSchema(org.flywaydb.core.internal.dbsupport.Schema);
    Code:
       0: getstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
       3: new           #23                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #50                 // String Cleaning schema
      12: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #36                 // String  ...
      21: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: invokeinterface #37,  2           // InterfaceMethod org/flywaydb/core/internal/util/logging/Log.debug:(Ljava/lang/String;)V
      32: new           #38                 // class org/flywaydb/core/internal/util/StopWatch
      35: dup
      36: invokespecial #39                 // Method org/flywaydb/core/internal/util/StopWatch."<init>":()V
      39: astore_2
      40: aload_2
      41: invokevirtual #40                 // Method org/flywaydb/core/internal/util/StopWatch.start:()V
      44: new           #11                 // class org/flywaydb/core/internal/util/jdbc/TransactionTemplate
      47: dup
      48: aload_0
      49: getfield      #1                  // Field connection:Ljava/sql/Connection;
      52: invokespecial #12                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate."<init>":(Ljava/sql/Connection;)V
      55: new           #51                 // class org/flywaydb/core/internal/command/DbClean$4
      58: dup
      59: aload_0
      60: aload_1
      61: invokespecial #52                 // Method org/flywaydb/core/internal/command/DbClean$4."<init>":(Lorg/flywaydb/core/internal/command/DbClean;Lorg/flywaydb/core/internal/dbsupport/Schema;)V
      64: invokevirtual #15                 // Method org/flywaydb/core/internal/util/jdbc/TransactionTemplate.execute:(Lorg/flywaydb/core/internal/util/jdbc/TransactionCallback;)Ljava/lang/Object;
      67: pop
      68: aload_2
      69: invokevirtual #43                 // Method org/flywaydb/core/internal/util/StopWatch.stop:()V
      72: getstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
      75: ldc           #53                 // String Successfully cleaned schema %s (execution time %s)
      77: iconst_2
      78: anewarray     #45                 // class java/lang/Object
      81: dup
      82: iconst_0
      83: aload_1
      84: aastore
      85: dup
      86: iconst_1
      87: aload_2
      88: invokevirtual #46                 // Method org/flywaydb/core/internal/util/StopWatch.getTotalTimeMillis:()J
      91: invokestatic  #47                 // Method org/flywaydb/core/internal/util/TimeFormat.format:(J)Ljava/lang/String;
      94: aastore
      95: invokestatic  #48                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      98: invokeinterface #49,  2           // InterfaceMethod org/flywaydb/core/internal/util/logging/Log.info:(Ljava/lang/String;)V
     103: return

  static org.flywaydb.core.internal.dbsupport.Schema[] access$000(org.flywaydb.core.internal.command.DbClean);
    Code:
       0: aload_0
       1: getfield      #3                  // Field schemas:[Lorg/flywaydb/core/internal/dbsupport/Schema;
       4: areturn

  static org.flywaydb.core.internal.dbsupport.DbSupport access$100(org.flywaydb.core.internal.command.DbClean);
    Code:
       0: aload_0
       1: getfield      #2                  // Field dbSupport:Lorg/flywaydb/core/internal/dbsupport/DbSupport;
       4: areturn

  static java.sql.Connection access$200(org.flywaydb.core.internal.command.DbClean);
    Code:
       0: aload_0
       1: getfield      #1                  // Field connection:Ljava/sql/Connection;
       4: areturn

  static {};
    Code:
       0: ldc           #54                 // class org/flywaydb/core/internal/command/DbClean
       2: invokestatic  #55                 // Method org/flywaydb/core/internal/util/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/flywaydb/core/internal/util/logging/Log;
       5: putstatic     #19                 // Field LOG:Lorg/flywaydb/core/internal/util/logging/Log;
       8: return
}
