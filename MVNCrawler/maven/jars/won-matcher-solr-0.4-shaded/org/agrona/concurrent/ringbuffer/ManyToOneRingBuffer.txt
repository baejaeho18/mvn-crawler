Compiled from "ManyToOneRingBuffer.java"
public class org.agrona.concurrent.ringbuffer.ManyToOneRingBuffer implements org.agrona.concurrent.ringbuffer.RingBuffer {
  public static final int PADDING_MSG_TYPE_ID;

  private static final int INSUFFICIENT_CAPACITY;

  private final int capacity;

  private final int maxMsgLength;

  private final int tailPositionIndex;

  private final int headCachePositionIndex;

  private final int headPositionIndex;

  private final int correlationIdCounterIndex;

  private final int consumerHeartbeatIndex;

  private final org.agrona.concurrent.AtomicBuffer buffer;

  public org.agrona.concurrent.ringbuffer.ManyToOneRingBuffer(org.agrona.concurrent.AtomicBuffer);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       9: aload_1
      10: invokeinterface #4,  1            // InterfaceMethod org/agrona/concurrent/AtomicBuffer.capacity:()I
      15: invokestatic  #5                  // Method org/agrona/concurrent/ringbuffer/RingBufferDescriptor.checkCapacity:(I)V
      18: aload_0
      19: aload_1
      20: invokeinterface #4,  1            // InterfaceMethod org/agrona/concurrent/AtomicBuffer.capacity:()I
      25: getstatic     #6                  // Field org/agrona/concurrent/ringbuffer/RingBufferDescriptor.TRAILER_LENGTH:I
      28: isub
      29: putfield      #7                  // Field capacity:I
      32: aload_1
      33: invokeinterface #8,  1            // InterfaceMethod org/agrona/concurrent/AtomicBuffer.verifyAlignment:()V
      38: aload_0
      39: aload_0
      40: getfield      #7                  // Field capacity:I
      43: bipush        8
      45: idiv
      46: putfield      #9                  // Field maxMsgLength:I
      49: aload_0
      50: aload_0
      51: getfield      #7                  // Field capacity:I
      54: getstatic     #10                 // Field org/agrona/concurrent/ringbuffer/RingBufferDescriptor.TAIL_POSITION_OFFSET:I
      57: iadd
      58: putfield      #11                 // Field tailPositionIndex:I
      61: aload_0
      62: aload_0
      63: getfield      #7                  // Field capacity:I
      66: getstatic     #12                 // Field org/agrona/concurrent/ringbuffer/RingBufferDescriptor.HEAD_CACHE_POSITION_OFFSET:I
      69: iadd
      70: putfield      #13                 // Field headCachePositionIndex:I
      73: aload_0
      74: aload_0
      75: getfield      #7                  // Field capacity:I
      78: getstatic     #14                 // Field org/agrona/concurrent/ringbuffer/RingBufferDescriptor.HEAD_POSITION_OFFSET:I
      81: iadd
      82: putfield      #15                 // Field headPositionIndex:I
      85: aload_0
      86: aload_0
      87: getfield      #7                  // Field capacity:I
      90: getstatic     #16                 // Field org/agrona/concurrent/ringbuffer/RingBufferDescriptor.CORRELATION_COUNTER_OFFSET:I
      93: iadd
      94: putfield      #17                 // Field correlationIdCounterIndex:I
      97: aload_0
      98: aload_0
      99: getfield      #7                  // Field capacity:I
     102: getstatic     #18                 // Field org/agrona/concurrent/ringbuffer/RingBufferDescriptor.CONSUMER_HEARTBEAT_OFFSET:I
     105: iadd
     106: putfield      #19                 // Field consumerHeartbeatIndex:I
     109: return

  public int capacity();
    Code:
       0: aload_0
       1: getfield      #7                  // Field capacity:I
       4: ireturn

  public boolean write(int, org.agrona.DirectBuffer, int, int);
    Code:
       0: iload_1
       1: invokestatic  #20                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.checkTypeId:(I)V
       4: aload_0
       5: iload         4
       7: invokespecial #21                 // Method checkMsgLength:(I)V
      10: iconst_0
      11: istore        5
      13: aload_0
      14: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
      17: astore        6
      19: iload         4
      21: bipush        8
      23: iadd
      24: istore        7
      26: iload         7
      28: bipush        8
      30: invokestatic  #22                 // Method org/agrona/BitUtil.align:(II)I
      33: istore        8
      35: aload_0
      36: aload         6
      38: iload         8
      40: invokespecial #23                 // Method claimCapacity:(Lorg/agrona/concurrent/AtomicBuffer;I)I
      43: istore        9
      45: bipush        -2
      47: iload         9
      49: if_icmpeq     107
      52: aload         6
      54: iload         9
      56: iload         7
      58: ineg
      59: iload_1
      60: invokestatic  #25                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.makeHeader:(II)J
      63: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
      68: getstatic     #27                 // Field org/agrona/UnsafeAccess.UNSAFE:Lsun/misc/Unsafe;
      71: invokevirtual #28                 // Method sun/misc/Unsafe.storeFence:()V
      74: aload         6
      76: iload         9
      78: invokestatic  #29                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.encodedMsgOffset:(I)I
      81: aload_2
      82: iload_3
      83: iload         4
      85: invokeinterface #30,  5           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putBytes:(ILorg/agrona/DirectBuffer;II)V
      90: aload         6
      92: iload         9
      94: invokestatic  #31                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.lengthOffset:(I)I
      97: iload         7
      99: invokeinterface #32,  3           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putIntOrdered:(II)V
     104: iconst_1
     105: istore        5
     107: iload         5
     109: ireturn

  public int read(org.agrona.concurrent.MessageHandler);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #34                 // int 2147483647
       4: invokevirtual #35                 // Method read:(Lorg/agrona/concurrent/MessageHandler;I)I
       7: ireturn

  public int read(org.agrona.concurrent.MessageHandler, int);
    Code:
       0: iconst_0
       1: istore_3
       2: aload_0
       3: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       6: astore        4
       8: aload         4
      10: aload_0
      11: getfield      #15                 // Field headPositionIndex:I
      14: invokeinterface #36,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLong:(I)J
      19: lstore        5
      21: aload_0
      22: getfield      #7                  // Field capacity:I
      25: istore        7
      27: lload         5
      29: l2i
      30: iload         7
      32: iconst_1
      33: isub
      34: iand
      35: istore        8
      37: iload         7
      39: iload         8
      41: isub
      42: istore        9
      44: iconst_0
      45: istore        10
      47: iload         10
      49: iload         9
      51: if_icmpge     146
      54: iload_3
      55: iload_2
      56: if_icmpge     146
      59: iload         8
      61: iload         10
      63: iadd
      64: istore        11
      66: aload         4
      68: iload         11
      70: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      75: lstore        12
      77: lload         12
      79: invokestatic  #38                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.recordLength:(J)I
      82: istore        14
      84: iload         14
      86: ifgt          92
      89: goto          146
      92: iload         10
      94: iload         14
      96: bipush        8
      98: invokestatic  #22                 // Method org/agrona/BitUtil.align:(II)I
     101: iadd
     102: istore        10
     104: lload         12
     106: invokestatic  #39                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.messageTypeId:(J)I
     109: istore        15
     111: iconst_m1
     112: iload         15
     114: if_icmpne     120
     117: goto          47
     120: iinc          3, 1
     123: aload_1
     124: iload         15
     126: aload         4
     128: iload         11
     130: bipush        8
     132: iadd
     133: iload         14
     135: bipush        8
     137: isub
     138: invokeinterface #40,  5           // InterfaceMethod org/agrona/concurrent/MessageHandler.onMessage:(ILorg/agrona/MutableDirectBuffer;II)V
     143: goto          47
     146: iload         10
     148: ifeq          222
     151: aload         4
     153: iload         8
     155: iload         10
     157: iconst_0
     158: invokeinterface #41,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.setMemory:(IIB)V
     163: aload         4
     165: aload_0
     166: getfield      #15                 // Field headPositionIndex:I
     169: lload         5
     171: iload         10
     173: i2l
     174: ladd
     175: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
     180: goto          222
     183: astore        16
     185: iload         10
     187: ifeq          219
     190: aload         4
     192: iload         8
     194: iload         10
     196: iconst_0
     197: invokeinterface #41,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.setMemory:(IIB)V
     202: aload         4
     204: aload_0
     205: getfield      #15                 // Field headPositionIndex:I
     208: lload         5
     210: iload         10
     212: i2l
     213: ladd
     214: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
     219: aload         16
     221: athrow
     222: iload_3
     223: ireturn
    Exception table:
       from    to  target type
          47   146   183   any
         183   185   183   any

  public int maxMsgLength();
    Code:
       0: aload_0
       1: getfield      #9                  // Field maxMsgLength:I
       4: ireturn

  public long nextCorrelationId();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: aload_0
       5: getfield      #17                 // Field correlationIdCounterIndex:I
       8: lconst_1
       9: invokeinterface #42,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getAndAddLong:(IJ)J
      14: lreturn

  public org.agrona.concurrent.AtomicBuffer buffer();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: areturn

  public void consumerHeartbeatTime(long);
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: aload_0
       5: getfield      #19                 // Field consumerHeartbeatIndex:I
       8: lload_1
       9: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
      14: return

  public long consumerHeartbeatTime();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: aload_0
       5: getfield      #19                 // Field consumerHeartbeatIndex:I
       8: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      13: lreturn

  public long producerPosition();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: aload_0
       5: getfield      #11                 // Field tailPositionIndex:I
       8: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      13: lreturn

  public long consumerPosition();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: aload_0
       5: getfield      #15                 // Field headPositionIndex:I
       8: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      13: lreturn

  public int size();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: aload_0
       5: getfield      #15                 // Field headPositionIndex:I
       8: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      13: lstore        5
      15: lload         5
      17: lstore_1
      18: aload_0
      19: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
      22: aload_0
      23: getfield      #11                 // Field tailPositionIndex:I
      26: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      31: lstore_3
      32: aload_0
      33: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
      36: aload_0
      37: getfield      #15                 // Field headPositionIndex:I
      40: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      45: lstore        5
      47: lload         5
      49: lload_1
      50: lcmp
      51: ifne          15
      54: lload_3
      55: lload         5
      57: lsub
      58: l2i
      59: ireturn

  public boolean unblock();
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:Lorg/agrona/concurrent/AtomicBuffer;
       4: astore_1
       5: aload_0
       6: getfield      #7                  // Field capacity:I
       9: iconst_1
      10: isub
      11: istore_2
      12: aload_1
      13: aload_0
      14: getfield      #15                 // Field headPositionIndex:I
      17: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      22: iload_2
      23: i2l
      24: land
      25: l2i
      26: istore_3
      27: aload_1
      28: aload_0
      29: getfield      #11                 // Field tailPositionIndex:I
      32: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      37: iload_2
      38: i2l
      39: land
      40: l2i
      41: istore        4
      43: iload         4
      45: iload_3
      46: if_icmpne     51
      49: iconst_0
      50: ireturn
      51: iconst_0
      52: istore        5
      54: aload_1
      55: iload_3
      56: invokeinterface #43,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getIntVolatile:(I)I
      61: istore        6
      63: iload         6
      65: ifge          88
      68: aload_1
      69: iload_3
      70: iload         6
      72: ineg
      73: iconst_m1
      74: invokestatic  #25                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.makeHeader:(II)J
      77: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
      82: iconst_1
      83: istore        5
      85: goto          174
      88: iconst_0
      89: iload         6
      91: if_icmpne     174
      94: iload         4
      96: iload_3
      97: if_icmple     105
     100: iload         4
     102: goto          109
     105: aload_0
     106: getfield      #7                  // Field capacity:I
     109: istore        7
     111: iload_3
     112: bipush        8
     114: iadd
     115: istore        8
     117: aload_1
     118: iload         8
     120: invokeinterface #43,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getIntVolatile:(I)I
     125: istore        6
     127: iconst_0
     128: iload         6
     130: if_icmpeq     164
     133: aload_1
     134: iload         8
     136: iload_3
     137: invokestatic  #44                 // Method scanBackToConfirmStillZeroed:(Lorg/agrona/concurrent/AtomicBuffer;II)Z
     140: ifeq          174
     143: aload_1
     144: iload_3
     145: iload         8
     147: iload_3
     148: isub
     149: iconst_m1
     150: invokestatic  #25                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.makeHeader:(II)J
     153: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
     158: iconst_1
     159: istore        5
     161: goto          174
     164: iinc          8, 8
     167: iload         8
     169: iload         7
     171: if_icmplt     117
     174: iload         5
     176: ireturn

  private static boolean scanBackToConfirmStillZeroed(org.agrona.concurrent.AtomicBuffer, int, int);
    Code:
       0: iload_1
       1: bipush        8
       3: isub
       4: istore_3
       5: iconst_1
       6: istore        4
       8: iload_3
       9: iload_2
      10: if_icmplt     36
      13: iconst_0
      14: aload_0
      15: iload_3
      16: invokeinterface #43,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getIntVolatile:(I)I
      21: if_icmpeq     30
      24: iconst_0
      25: istore        4
      27: goto          36
      30: iinc          3, -8
      33: goto          8
      36: iload         4
      38: ireturn

  private void checkMsgLength(int);
    Code:
       0: iload_1
       1: aload_0
       2: getfield      #9                  // Field maxMsgLength:I
       5: if_icmple     42
       8: new           #45                 // class java/lang/IllegalArgumentException
      11: dup
      12: ldc           #46                 // String encoded message exceeds maxMsgLength of %d, length=%d
      14: iconst_2
      15: anewarray     #47                 // class java/lang/Object
      18: dup
      19: iconst_0
      20: aload_0
      21: getfield      #9                  // Field maxMsgLength:I
      24: invokestatic  #48                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      27: aastore
      28: dup
      29: iconst_1
      30: iload_1
      31: invokestatic  #48                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: aastore
      35: invokestatic  #49                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      38: invokespecial #50                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: return

  private int claimCapacity(org.agrona.concurrent.AtomicBuffer, int);
    Code:
       0: aload_0
       1: getfield      #7                  // Field capacity:I
       4: istore_3
       5: aload_0
       6: getfield      #11                 // Field tailPositionIndex:I
       9: istore        4
      11: aload_0
      12: getfield      #13                 // Field headCachePositionIndex:I
      15: istore        5
      17: iload_3
      18: iconst_1
      19: isub
      20: istore        6
      22: aload_1
      23: iload         5
      25: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      30: lstore        7
      32: aload_1
      33: iload         4
      35: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      40: lstore        9
      42: iload_3
      43: lload         9
      45: lload         7
      47: lsub
      48: l2i
      49: isub
      50: istore        13
      52: iload_2
      53: iload         13
      55: if_icmple     95
      58: aload_1
      59: aload_0
      60: getfield      #15                 // Field headPositionIndex:I
      63: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
      68: lstore        7
      70: iload_2
      71: iload_3
      72: lload         9
      74: lload         7
      76: lsub
      77: l2i
      78: isub
      79: if_icmple     85
      82: bipush        -2
      84: ireturn
      85: aload_1
      86: iload         5
      88: lload         7
      90: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
      95: iconst_0
      96: istore        12
      98: lload         9
     100: l2i
     101: iload         6
     103: iand
     104: istore        11
     106: iload_3
     107: iload         11
     109: isub
     110: istore        14
     112: iload_2
     113: iload         14
     115: if_icmple     175
     118: lload         7
     120: l2i
     121: iload         6
     123: iand
     124: istore        15
     126: iload_2
     127: iload         15
     129: if_icmple     171
     132: aload_1
     133: aload_0
     134: getfield      #15                 // Field headPositionIndex:I
     137: invokeinterface #37,  2           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.getLongVolatile:(I)J
     142: lstore        7
     144: lload         7
     146: l2i
     147: iload         6
     149: iand
     150: istore        15
     152: iload_2
     153: iload         15
     155: if_icmple     161
     158: bipush        -2
     160: ireturn
     161: aload_1
     162: iload         5
     164: lload         7
     166: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
     171: iload         14
     173: istore        12
     175: aload_1
     176: iload         4
     178: lload         9
     180: lload         9
     182: iload_2
     183: i2l
     184: ladd
     185: iload         12
     187: i2l
     188: ladd
     189: invokeinterface #51,  6           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.compareAndSetLong:(IJJ)Z
     194: ifeq          32
     197: iconst_0
     198: iload         12
     200: if_icmpeq     220
     203: aload_1
     204: iload         11
     206: iload         12
     208: iconst_m1
     209: invokestatic  #25                 // Method org/agrona/concurrent/ringbuffer/RecordDescriptor.makeHeader:(II)J
     212: invokeinterface #26,  4           // InterfaceMethod org/agrona/concurrent/AtomicBuffer.putLongOrdered:(IJ)V
     217: iconst_0
     218: istore        11
     220: iload         11
     222: ireturn
}
