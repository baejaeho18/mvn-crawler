Compiled from "PGXAConnection.java"
public class org.postgresql.xa.PGXAConnection extends org.postgresql.ds.PGPooledConnection implements javax.sql.XAConnection,javax.transaction.xa.XAResource {
  private static final java.util.logging.Logger LOGGER;

  private final org.postgresql.core.BaseConnection conn;

  private javax.transaction.xa.Xid currentXid;

  private int state;

  private static final int STATE_IDLE;

  private static final int STATE_ACTIVE;

  private static final int STATE_ENDED;

  private boolean localAutoCommitMode;

  private void debug(java.lang.String);
    Code:
       0: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #4                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          41
      12: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
      15: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
      18: ldc           #5                  // String XAResource {0}: {1}
      20: iconst_2
      21: anewarray     #6                  // class java/lang/Object
      24: dup
      25: iconst_0
      26: aload_0
      27: invokevirtual #7                  // Method java/lang/Object.hashCode:()I
      30: invokestatic  #8                  // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      33: aastore
      34: dup
      35: iconst_1
      36: aload_1
      37: aastore
      38: invokevirtual #9                  // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;[Ljava/lang/Object;)V
      41: return

  public org.postgresql.xa.PGXAConnection(org.postgresql.core.BaseConnection) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: iconst_1
       4: invokespecial #10                 // Method org/postgresql/ds/PGPooledConnection."<init>":(Ljava/sql/Connection;ZZ)V
       7: aload_0
       8: iconst_1
       9: putfield      #11                 // Field localAutoCommitMode:Z
      12: aload_0
      13: aload_1
      14: putfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      17: aload_0
      18: iconst_0
      19: putfield      #1                  // Field state:I
      22: return

  public java.sql.Connection getConnection() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: invokespecial #14                 // Method org/postgresql/ds/PGPooledConnection.getConnection:()Ljava/sql/Connection;
       4: astore_1
       5: aload_0
       6: getfield      #1                  // Field state:I
       9: ifne          19
      12: aload_1
      13: iconst_1
      14: invokeinterface #15,  2           // InterfaceMethod java/sql/Connection.setAutoCommit:(Z)V
      19: new           #16                 // class org/postgresql/xa/PGXAConnection$ConnectionHandler
      22: dup
      23: aload_0
      24: aload_1
      25: invokespecial #17                 // Method org/postgresql/xa/PGXAConnection$ConnectionHandler."<init>":(Lorg/postgresql/xa/PGXAConnection;Ljava/sql/Connection;)V
      28: astore_2
      29: aload_0
      30: invokevirtual #18                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      33: invokevirtual #19                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      36: iconst_2
      37: anewarray     #20                 // class java/lang/Class
      40: dup
      41: iconst_0
      42: ldc           #21                 // class java/sql/Connection
      44: aastore
      45: dup
      46: iconst_1
      47: ldc           #22                 // class org/postgresql/PGConnection
      49: aastore
      50: aload_2
      51: invokestatic  #23                 // Method java/lang/reflect/Proxy.newProxyInstance:(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;
      54: checkcast     #21                 // class java/sql/Connection
      57: areturn

  public javax.transaction.xa.XAResource getXAResource();
    Code:
       0: aload_0
       1: areturn

  public void start(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #4                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #24                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #26                 // String starting transaction xid =
      22: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #30                 // Method debug:(Ljava/lang/String;)V
      35: iload_2
      36: ifeq          70
      39: iload_2
      40: ldc           #32                 // int 134217728
      42: if_icmpeq     70
      45: iload_2
      46: ldc           #33                 // int 2097152
      48: if_icmpeq     70
      51: new           #34                 // class org/postgresql/xa/PGXAException
      54: dup
      55: ldc           #35                 // String Invalid flags
      57: iconst_0
      58: anewarray     #6                  // class java/lang/Object
      61: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      64: bipush        -5
      66: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      69: athrow
      70: aload_1
      71: ifnonnull     93
      74: new           #34                 // class org/postgresql/xa/PGXAException
      77: dup
      78: ldc           #39                 // String xid must not be null
      80: iconst_0
      81: anewarray     #6                  // class java/lang/Object
      84: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      87: bipush        -5
      89: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      92: athrow
      93: aload_0
      94: getfield      #1                  // Field state:I
      97: iconst_1
      98: if_icmpne     120
     101: new           #34                 // class org/postgresql/xa/PGXAException
     104: dup
     105: ldc           #40                 // String Connection is busy with another transaction
     107: iconst_0
     108: anewarray     #6                  // class java/lang/Object
     111: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     114: bipush        -6
     116: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     119: athrow
     120: iload_2
     121: ldc           #32                 // int 134217728
     123: if_icmpne     145
     126: new           #34                 // class org/postgresql/xa/PGXAException
     129: dup
     130: ldc           #41                 // String suspend/resume not implemented
     132: iconst_0
     133: anewarray     #6                  // class java/lang/Object
     136: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     139: bipush        -3
     141: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     144: athrow
     145: iload_2
     146: ldc           #33                 // int 2097152
     148: if_icmpne     208
     151: aload_0
     152: getfield      #1                  // Field state:I
     155: iconst_2
     156: if_icmpeq     178
     159: new           #34                 // class org/postgresql/xa/PGXAException
     162: dup
     163: ldc           #42                 // String Transaction interleaving not implemented
     165: iconst_0
     166: anewarray     #6                  // class java/lang/Object
     169: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     172: bipush        -3
     174: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     177: athrow
     178: aload_1
     179: aload_0
     180: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
     183: invokevirtual #44                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     186: ifne          235
     189: new           #34                 // class org/postgresql/xa/PGXAException
     192: dup
     193: ldc           #42                 // String Transaction interleaving not implemented
     195: iconst_0
     196: anewarray     #6                  // class java/lang/Object
     199: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     202: bipush        -3
     204: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     207: athrow
     208: aload_0
     209: getfield      #1                  // Field state:I
     212: iconst_2
     213: if_icmpne     235
     216: new           #34                 // class org/postgresql/xa/PGXAException
     219: dup
     220: ldc           #42                 // String Transaction interleaving not implemented
     222: iconst_0
     223: anewarray     #6                  // class java/lang/Object
     226: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     229: bipush        -3
     231: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     234: athrow
     235: iload_2
     236: ifne          286
     239: aload_0
     240: aload_0
     241: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     244: invokeinterface #45,  1           // InterfaceMethod org/postgresql/core/BaseConnection.getAutoCommit:()Z
     249: putfield      #11                 // Field localAutoCommitMode:Z
     252: aload_0
     253: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     256: iconst_0
     257: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     262: goto          286
     265: astore_3
     266: new           #34                 // class org/postgresql/xa/PGXAException
     269: dup
     270: ldc           #48                 // String Error disabling autocommit
     272: iconst_0
     273: anewarray     #6                  // class java/lang/Object
     276: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     279: aload_3
     280: bipush        -3
     282: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     285: athrow
     286: aload_0
     287: iconst_1
     288: putfield      #1                  // Field state:I
     291: aload_0
     292: aload_1
     293: putfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
     296: return
    Exception table:
       from    to  target type
         239   262   265   Class java/sql/SQLException

  public void end(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #4                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #24                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #50                 // String ending transaction xid =
      22: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #30                 // Method debug:(Ljava/lang/String;)V
      35: iload_2
      36: ldc           #51                 // int 33554432
      38: if_icmpeq     72
      41: iload_2
      42: ldc           #52                 // int 536870912
      44: if_icmpeq     72
      47: iload_2
      48: ldc           #53                 // int 67108864
      50: if_icmpeq     72
      53: new           #34                 // class org/postgresql/xa/PGXAException
      56: dup
      57: ldc           #35                 // String Invalid flags
      59: iconst_0
      60: anewarray     #6                  // class java/lang/Object
      63: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      66: bipush        -5
      68: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      71: athrow
      72: aload_1
      73: ifnonnull     95
      76: new           #34                 // class org/postgresql/xa/PGXAException
      79: dup
      80: ldc           #39                 // String xid must not be null
      82: iconst_0
      83: anewarray     #6                  // class java/lang/Object
      86: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      89: bipush        -5
      91: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      94: athrow
      95: aload_0
      96: getfield      #1                  // Field state:I
      99: iconst_1
     100: if_icmpne     114
     103: aload_0
     104: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
     107: aload_1
     108: invokevirtual #44                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     111: ifne          133
     114: new           #34                 // class org/postgresql/xa/PGXAException
     117: dup
     118: ldc           #54                 // String tried to call end without corresponding start call
     120: iconst_0
     121: anewarray     #6                  // class java/lang/Object
     124: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     127: bipush        -6
     129: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     132: athrow
     133: iload_2
     134: ldc           #51                 // int 33554432
     136: if_icmpne     158
     139: new           #34                 // class org/postgresql/xa/PGXAException
     142: dup
     143: ldc           #41                 // String suspend/resume not implemented
     145: iconst_0
     146: anewarray     #6                  // class java/lang/Object
     149: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     152: bipush        -3
     154: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     157: athrow
     158: aload_0
     159: iconst_2
     160: putfield      #1                  // Field state:I
     163: return

  public int prepare(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #4                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #24                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #55                 // String preparing transaction xid =
      22: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #30                 // Method debug:(Ljava/lang/String;)V
      35: aload_0
      36: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
      39: aload_1
      40: invokevirtual #44                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      43: ifne          65
      46: new           #34                 // class org/postgresql/xa/PGXAException
      49: dup
      50: ldc           #56                 // String Not implemented: Prepare must be issued using the same connection that started the transaction
      52: iconst_0
      53: anewarray     #6                  // class java/lang/Object
      56: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      59: bipush        -3
      61: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      64: athrow
      65: aload_0
      66: getfield      #1                  // Field state:I
      69: iconst_2
      70: if_icmpeq     92
      73: new           #34                 // class org/postgresql/xa/PGXAException
      76: dup
      77: ldc           #57                 // String Prepare called before end
      79: iconst_0
      80: anewarray     #6                  // class java/lang/Object
      83: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      86: bipush        -5
      88: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      91: athrow
      92: aload_0
      93: iconst_0
      94: putfield      #1                  // Field state:I
      97: aload_0
      98: aconst_null
      99: putfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
     102: aload_1
     103: invokestatic  #58                 // Method org/postgresql/xa/RecoveredXid.xidToString:(Ljavax/transaction/xa/Xid;)Ljava/lang/String;
     106: astore_2
     107: aload_0
     108: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     111: invokeinterface #59,  1           // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
     116: astore_3
     117: aload_3
     118: new           #24                 // class java/lang/StringBuilder
     121: dup
     122: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     125: ldc           #60                 // String PREPARE TRANSACTION \'
     127: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: aload_2
     131: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: ldc           #61                 // String \'
     136: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     139: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     142: invokeinterface #62,  2           // InterfaceMethod java/sql/Statement.executeUpdate:(Ljava/lang/String;)I
     147: pop
     148: aload_3
     149: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     154: goto          168
     157: astore        4
     159: aload_3
     160: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     165: aload         4
     167: athrow
     168: aload_0
     169: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     172: aload_0
     173: getfield      #11                 // Field localAutoCommitMode:Z
     176: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     181: iconst_0
     182: ireturn
     183: astore_2
     184: new           #34                 // class org/postgresql/xa/PGXAException
     187: dup
     188: ldc           #64                 // String Error preparing transaction
     190: iconst_0
     191: anewarray     #6                  // class java/lang/Object
     194: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     197: aload_2
     198: bipush        -3
     200: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     203: athrow
    Exception table:
       from    to  target type
         117   148   157   any
         157   159   157   any
         102   182   183   Class java/sql/SQLException

  public javax.transaction.xa.Xid[] recover(int) throws javax.transaction.xa.XAException;
    Code:
       0: iload_1
       1: ldc           #65                 // int 16777216
       3: if_icmpeq     41
       6: iload_1
       7: ldc           #66                 // int 8388608
       9: if_icmpeq     41
      12: iload_1
      13: ifeq          41
      16: iload_1
      17: ldc           #67                 // int 25165824
      19: if_icmpeq     41
      22: new           #34                 // class org/postgresql/xa/PGXAException
      25: dup
      26: ldc           #68                 // String Invalid flag
      28: iconst_0
      29: anewarray     #6                  // class java/lang/Object
      32: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      35: bipush        -5
      37: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      40: athrow
      41: iload_1
      42: ldc           #65                 // int 16777216
      44: iand
      45: ifne          53
      48: iconst_0
      49: anewarray     #69                 // class javax/transaction/xa/Xid
      52: areturn
      53: aload_0
      54: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      57: invokeinterface #59,  1           // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
      62: astore_2
      63: aload_2
      64: ldc           #70                 // String SELECT gid FROM pg_prepared_xacts where database = current_database()
      66: invokeinterface #71,  2           // InterfaceMethod java/sql/Statement.executeQuery:(Ljava/lang/String;)Ljava/sql/ResultSet;
      71: astore_3
      72: new           #72                 // class java/util/LinkedList
      75: dup
      76: invokespecial #73                 // Method java/util/LinkedList."<init>":()V
      79: astore        4
      81: aload_3
      82: invokeinterface #74,  1           // InterfaceMethod java/sql/ResultSet.next:()Z
      87: ifeq          118
      90: aload_3
      91: iconst_1
      92: invokeinterface #75,  2           // InterfaceMethod java/sql/ResultSet.getString:(I)Ljava/lang/String;
      97: invokestatic  #76                 // Method org/postgresql/xa/RecoveredXid.stringToXid:(Ljava/lang/String;)Ljavax/transaction/xa/Xid;
     100: astore        5
     102: aload         5
     104: ifnull        115
     107: aload         4
     109: aload         5
     111: invokevirtual #77                 // Method java/util/LinkedList.add:(Ljava/lang/Object;)Z
     114: pop
     115: goto          81
     118: aload_3
     119: invokeinterface #78,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     124: aload         4
     126: aload         4
     128: invokevirtual #79                 // Method java/util/LinkedList.size:()I
     131: anewarray     #69                 // class javax/transaction/xa/Xid
     134: invokevirtual #80                 // Method java/util/LinkedList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     137: checkcast     #81                 // class "[Ljavax/transaction/xa/Xid;"
     140: astore        5
     142: aload_2
     143: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     148: aload         5
     150: areturn
     151: astore        6
     153: aload_2
     154: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     159: aload         6
     161: athrow
     162: astore_2
     163: new           #34                 // class org/postgresql/xa/PGXAException
     166: dup
     167: ldc           #82                 // String Error during recover
     169: iconst_0
     170: anewarray     #6                  // class java/lang/Object
     173: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     176: aload_2
     177: bipush        -3
     179: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     182: athrow
    Exception table:
       from    to  target type
          63   142   151   any
         151   153   151   any
          53   148   162   Class java/sql/SQLException
         151   162   162   Class java/sql/SQLException

  public void rollback(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #4                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #24                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #83                 // String rolling back xid =
      22: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #30                 // Method debug:(Ljava/lang/String;)V
      35: aload_0
      36: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
      39: ifnull        88
      42: aload_1
      43: aload_0
      44: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
      47: invokevirtual #44                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      50: ifeq          88
      53: aload_0
      54: iconst_0
      55: putfield      #1                  // Field state:I
      58: aload_0
      59: aconst_null
      60: putfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
      63: aload_0
      64: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      67: invokeinterface #84,  1           // InterfaceMethod org/postgresql/core/BaseConnection.rollback:()V
      72: aload_0
      73: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      76: aload_0
      77: getfield      #11                 // Field localAutoCommitMode:Z
      80: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
      85: goto          164
      88: aload_1
      89: invokestatic  #58                 // Method org/postgresql/xa/RecoveredXid.xidToString:(Ljavax/transaction/xa/Xid;)Ljava/lang/String;
      92: astore_2
      93: aload_0
      94: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      97: iconst_1
      98: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     103: aload_0
     104: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     107: invokeinterface #59,  1           // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
     112: astore_3
     113: aload_3
     114: new           #24                 // class java/lang/StringBuilder
     117: dup
     118: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     121: ldc           #85                 // String ROLLBACK PREPARED \'
     123: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: aload_2
     127: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: ldc           #61                 // String \'
     132: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     138: invokeinterface #62,  2           // InterfaceMethod java/sql/Statement.executeUpdate:(Ljava/lang/String;)I
     143: pop
     144: aload_3
     145: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     150: goto          164
     153: astore        4
     155: aload_3
     156: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     161: aload         4
     163: athrow
     164: goto          224
     167: astore_2
     168: getstatic     #86                 // Field org/postgresql/util/PSQLState.UNDEFINED_OBJECT:Lorg/postgresql/util/PSQLState;
     171: invokevirtual #87                 // Method org/postgresql/util/PSQLState.getState:()Ljava/lang/String;
     174: aload_2
     175: invokevirtual #88                 // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     178: invokevirtual #89                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     181: ifeq          204
     184: new           #34                 // class org/postgresql/xa/PGXAException
     187: dup
     188: ldc           #90                 // String Error rolling back prepared transaction
     190: iconst_0
     191: anewarray     #6                  // class java/lang/Object
     194: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     197: aload_2
     198: bipush        -4
     200: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     203: athrow
     204: new           #34                 // class org/postgresql/xa/PGXAException
     207: dup
     208: ldc           #90                 // String Error rolling back prepared transaction
     210: iconst_0
     211: anewarray     #6                  // class java/lang/Object
     214: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     217: aload_2
     218: bipush        -3
     220: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     223: athrow
     224: return
    Exception table:
       from    to  target type
         113   144   153   any
         153   155   153   any
          35   164   167   Class java/sql/SQLException

  public void commit(javax.transaction.xa.Xid, boolean) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #3                  // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #4                  // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          49
      12: aload_0
      13: new           #24                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #91                 // String committing xid =
      22: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: iload_2
      30: ifeq          38
      33: ldc           #92                 // String  (one phase)
      35: goto          40
      38: ldc           #93                 // String  (two phase)
      40: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokespecial #30                 // Method debug:(Ljava/lang/String;)V
      49: aload_1
      50: ifnonnull     72
      53: new           #34                 // class org/postgresql/xa/PGXAException
      56: dup
      57: ldc           #39                 // String xid must not be null
      59: iconst_0
      60: anewarray     #6                  // class java/lang/Object
      63: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      66: bipush        -5
      68: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      71: athrow
      72: iload_2
      73: ifeq          84
      76: aload_0
      77: aload_1
      78: invokespecial #94                 // Method commitOnePhase:(Ljavax/transaction/xa/Xid;)V
      81: goto          89
      84: aload_0
      85: aload_1
      86: invokespecial #95                 // Method commitPrepared:(Ljavax/transaction/xa/Xid;)V
      89: return

  private void commitOnePhase(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
       4: ifnull        18
       7: aload_0
       8: getfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
      11: aload_1
      12: invokevirtual #44                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      15: ifne          37
      18: new           #34                 // class org/postgresql/xa/PGXAException
      21: dup
      22: ldc           #96                 // String Not implemented: one-phase commit must be issued using the same connection that was used to start it
      24: iconst_0
      25: anewarray     #6                  // class java/lang/Object
      28: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      31: bipush        -3
      33: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      36: athrow
      37: aload_0
      38: getfield      #1                  // Field state:I
      41: iconst_2
      42: if_icmpeq     64
      45: new           #34                 // class org/postgresql/xa/PGXAException
      48: dup
      49: ldc           #97                 // String commit called before end
      51: iconst_0
      52: anewarray     #6                  // class java/lang/Object
      55: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      58: bipush        -6
      60: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      63: athrow
      64: aload_0
      65: iconst_0
      66: putfield      #1                  // Field state:I
      69: aload_0
      70: aconst_null
      71: putfield      #43                 // Field currentXid:Ljavax/transaction/xa/Xid;
      74: aload_0
      75: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      78: invokeinterface #98,  1           // InterfaceMethod org/postgresql/core/BaseConnection.commit:()V
      83: aload_0
      84: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      87: aload_0
      88: getfield      #11                 // Field localAutoCommitMode:Z
      91: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
      96: goto          120
      99: astore_2
     100: new           #34                 // class org/postgresql/xa/PGXAException
     103: dup
     104: ldc           #99                 // String Error during one-phase commit
     106: iconst_0
     107: anewarray     #6                  // class java/lang/Object
     110: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     113: aload_2
     114: bipush        -3
     116: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     119: athrow
     120: return
    Exception table:
       from    to  target type
           0    96    99   Class java/sql/SQLException

  private void commitPrepared(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field state:I
       4: ifne          22
       7: aload_0
       8: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      11: invokeinterface #100,  1          // InterfaceMethod org/postgresql/core/BaseConnection.getTransactionState:()Lorg/postgresql/core/TransactionState;
      16: getstatic     #101                // Field org/postgresql/core/TransactionState.IDLE:Lorg/postgresql/core/TransactionState;
      19: if_acmpeq     41
      22: new           #34                 // class org/postgresql/xa/PGXAException
      25: dup
      26: ldc           #102                // String Not implemented: 2nd phase commit must be issued using an idle connection
      28: iconst_0
      29: anewarray     #6                  // class java/lang/Object
      32: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      35: bipush        -3
      37: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      40: athrow
      41: aload_1
      42: invokestatic  #58                 // Method org/postgresql/xa/RecoveredXid.xidToString:(Ljavax/transaction/xa/Xid;)Ljava/lang/String;
      45: astore_2
      46: aload_0
      47: aload_0
      48: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      51: invokeinterface #45,  1           // InterfaceMethod org/postgresql/core/BaseConnection.getAutoCommit:()Z
      56: putfield      #11                 // Field localAutoCommitMode:Z
      59: aload_0
      60: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      63: iconst_1
      64: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
      69: aload_0
      70: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
      73: invokeinterface #59,  1           // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
      78: astore_3
      79: aload_3
      80: new           #24                 // class java/lang/StringBuilder
      83: dup
      84: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      87: ldc           #103                // String COMMIT PREPARED \'
      89: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: aload_2
      93: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: ldc           #61                 // String \'
      98: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     104: invokeinterface #62,  2           // InterfaceMethod java/sql/Statement.executeUpdate:(Ljava/lang/String;)I
     109: pop
     110: aload_3
     111: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     116: aload_0
     117: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     120: aload_0
     121: getfield      #11                 // Field localAutoCommitMode:Z
     124: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     129: goto          156
     132: astore        4
     134: aload_3
     135: invokeinterface #63,  1           // InterfaceMethod java/sql/Statement.close:()V
     140: aload_0
     141: getfield      #12                 // Field conn:Lorg/postgresql/core/BaseConnection;
     144: aload_0
     145: getfield      #11                 // Field localAutoCommitMode:Z
     148: invokeinterface #46,  2           // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     153: aload         4
     155: athrow
     156: goto          180
     159: astore_2
     160: new           #34                 // class org/postgresql/xa/PGXAException
     163: dup
     164: ldc           #104                // String Error committing prepared transaction
     166: iconst_0
     167: anewarray     #6                  // class java/lang/Object
     170: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     173: aload_2
     174: bipush        -3
     176: invokespecial #49                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     179: athrow
     180: return
    Exception table:
       from    to  target type
          79   110   132   any
         132   134   132   any
           0   156   159   Class java/sql/SQLException

  public boolean isSameRM(javax.transaction.xa.XAResource) throws javax.transaction.xa.XAException;
    Code:
       0: aload_1
       1: aload_0
       2: if_acmpne     9
       5: iconst_1
       6: goto          10
       9: iconst_0
      10: ireturn

  public void forget(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: new           #34                 // class org/postgresql/xa/PGXAException
       3: dup
       4: ldc           #105                // String Heuristic commit/rollback not supported
       6: iconst_0
       7: anewarray     #6                  // class java/lang/Object
      10: invokestatic  #36                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      13: bipush        -4
      15: invokespecial #38                 // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      18: athrow

  public int getTransactionTimeout();
    Code:
       0: iconst_0
       1: ireturn

  public boolean setTransactionTimeout(int);
    Code:
       0: iconst_0
       1: ireturn

  static int access$000(org.postgresql.xa.PGXAConnection);
    Code:
       0: aload_0
       1: getfield      #1                  // Field state:I
       4: ireturn

  static {};
    Code:
       0: ldc           #13                 // class org/postgresql/xa/PGXAConnection
       2: invokevirtual #106                // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokestatic  #107                // Method java/util/logging/Logger.getLogger:(Ljava/lang/String;)Ljava/util/logging/Logger;
       8: putstatic     #2                  // Field LOGGER:Ljava/util/logging/Logger;
      11: return
}
