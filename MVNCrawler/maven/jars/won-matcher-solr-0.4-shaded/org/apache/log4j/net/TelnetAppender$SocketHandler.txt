Compiled from "TelnetAppender.java"
public class org.apache.log4j.net.TelnetAppender$SocketHandler extends java.lang.Thread {
  private final org.apache.log4j.net.TelnetAppender this$0;

  private boolean done;

  private java.util.Vector writers;

  private java.util.Vector connections;

  private java.net.ServerSocket serverSocket;

  private int MAX_CONNECTIONS;

  public org.apache.log4j.net.TelnetAppender$SocketHandler(org.apache.log4j.net.TelnetAppender, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #17                 // Method java/lang/Thread."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #42                 // Field this$0:Lorg/apache/log4j/net/TelnetAppender;
       9: aload_0
      10: iconst_0
      11: putfield      #31                 // Field done:Z
      14: aload_0
      15: new           #13                 // class java/util/Vector
      18: dup
      19: invokespecial #18                 // Method java/util/Vector."<init>":()V
      22: putfield      #44                 // Field writers:Ljava/util/Vector;
      25: aload_0
      26: new           #13                 // class java/util/Vector
      29: dup
      30: invokespecial #18                 // Method java/util/Vector."<init>":()V
      33: putfield      #30                 // Field connections:Ljava/util/Vector;
      36: aload_0
      37: bipush        20
      39: putfield      #22                 // Field MAX_CONNECTIONS:I
      42: aload_0
      43: new           #10                 // class java/net/ServerSocket
      46: dup
      47: iload_2
      48: invokespecial #19                 // Method java/net/ServerSocket."<init>":(I)V
      51: putfield      #40                 // Field serverSocket:Ljava/net/ServerSocket;
      54: return

  public void finalize();
    Code:
       0: aload_0
       1: getfield      #30                 // Field connections:Ljava/util/Vector;
       4: invokevirtual #32                 // Method java/util/Vector.elements:()Ljava/util/Enumeration;
       7: astore_1
       8: goto          30
      11: aload_1
      12: invokeinterface #37,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      17: checkcast     #11                 // class java/net/Socket
      20: invokevirtual #29                 // Method java/net/Socket.close:()V
      23: goto          30
      26: pop
      27: goto          30
      30: aload_1
      31: invokeinterface #36,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      36: ifne          11
      39: aload_0
      40: getfield      #40                 // Field serverSocket:Ljava/net/ServerSocket;
      43: invokevirtual #28                 // Method java/net/ServerSocket.close:()V
      46: goto          50
      49: pop
      50: aload_0
      51: iconst_1
      52: putfield      #31                 // Field done:Z
      55: return
    Exception table:
       from    to  target type
          11    23    26   Class java/lang/Exception
          39    46    49   Class java/lang/Exception

  public void run();
    Code:
       0: goto          118
       3: aload_0
       4: getfield      #40                 // Field serverSocket:Ljava/net/ServerSocket;
       7: invokevirtual #23                 // Method java/net/ServerSocket.accept:()Ljava/net/Socket;
      10: astore_1
      11: new           #6                  // class java/io/PrintWriter
      14: dup
      15: aload_1
      16: invokevirtual #35                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      19: invokespecial #20                 // Method java/io/PrintWriter."<init>":(Ljava/io/OutputStream;)V
      22: astore_2
      23: aload_0
      24: getfield      #30                 // Field connections:Ljava/util/Vector;
      27: invokevirtual #41                 // Method java/util/Vector.size:()I
      30: aload_0
      31: getfield      #22                 // Field MAX_CONNECTIONS:I
      34: if_icmpge     91
      37: aload_0
      38: getfield      #30                 // Field connections:Ljava/util/Vector;
      41: aload_1
      42: invokevirtual #24                 // Method java/util/Vector.addElement:(Ljava/lang/Object;)V
      45: aload_0
      46: getfield      #44                 // Field writers:Ljava/util/Vector;
      49: aload_2
      50: invokevirtual #24                 // Method java/util/Vector.addElement:(Ljava/lang/Object;)V
      53: aload_2
      54: new           #8                  // class java/lang/StringBuffer
      57: dup
      58: ldc           #3                  // String TelnetAppender v1.0 (
      60: invokespecial #21                 // Method java/lang/StringBuffer."<init>":(Ljava/lang/String;)V
      63: aload_0
      64: getfield      #30                 // Field connections:Ljava/util/Vector;
      67: invokevirtual #41                 // Method java/util/Vector.size:()I
      70: invokevirtual #25                 // Method java/lang/StringBuffer.append:(I)Ljava/lang/StringBuffer;
      73: ldc           #1                  // String  active connections)\r\n\r\n
      75: invokevirtual #26                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      78: invokevirtual #43                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      81: invokevirtual #38                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      84: aload_2
      85: invokevirtual #34                 // Method java/io/PrintWriter.flush:()V
      88: goto          118
      91: aload_2
      92: ldc           #4                  // String Too many connections.\r\n
      94: invokevirtual #38                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      97: aload_2
      98: invokevirtual #34                 // Method java/io/PrintWriter.flush:()V
     101: aload_1
     102: invokevirtual #29                 // Method java/net/Socket.close:()V
     105: goto          118
     108: astore_1
     109: ldc           #2                  // String Encountered error while in SocketHandler loop.
     111: aload_1
     112: invokestatic  #33                 // Method org/apache/log4j/helpers/LogLog.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     115: goto          118
     118: aload_0
     119: getfield      #31                 // Field done:Z
     122: ifeq          3
     125: return
    Exception table:
       from    to  target type
           3   105   108   Class java/lang/Exception

  public void send(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #30                 // Field connections:Ljava/util/Vector;
       4: invokevirtual #32                 // Method java/util/Vector.elements:()Ljava/util/Enumeration;
       7: astore_2
       8: aload_0
       9: getfield      #44                 // Field writers:Ljava/util/Vector;
      12: invokevirtual #32                 // Method java/util/Vector.elements:()Ljava/util/Enumeration;
      15: astore_3
      16: goto          75
      19: aload_2
      20: invokeinterface #37,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      25: checkcast     #11                 // class java/net/Socket
      28: astore        4
      30: aload_3
      31: invokeinterface #37,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      36: checkcast     #6                  // class java/io/PrintWriter
      39: astore        5
      41: aload         5
      43: aload_1
      44: invokevirtual #38                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      47: aload         5
      49: invokevirtual #27                 // Method java/io/PrintWriter.checkError:()Z
      52: ifeq          75
      55: aload_0
      56: getfield      #30                 // Field connections:Ljava/util/Vector;
      59: aload         4
      61: invokevirtual #39                 // Method java/util/Vector.remove:(Ljava/lang/Object;)Z
      64: pop
      65: aload_0
      66: getfield      #44                 // Field writers:Ljava/util/Vector;
      69: aload         5
      71: invokevirtual #39                 // Method java/util/Vector.remove:(Ljava/lang/Object;)Z
      74: pop
      75: aload_3
      76: invokeinterface #36,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      81: ifne          19
      84: return
}
