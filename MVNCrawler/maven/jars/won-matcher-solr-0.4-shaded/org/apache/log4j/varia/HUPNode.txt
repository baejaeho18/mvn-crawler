Compiled from "ExternallyRolledFileAppender.java"
class org.apache.log4j.varia.HUPNode implements java.lang.Runnable {
  java.net.Socket socket;

  java.io.DataInputStream dis;

  java.io.DataOutputStream dos;

  org.apache.log4j.varia.ExternallyRolledFileAppender er;

  public org.apache.log4j.varia.HUPNode(java.net.Socket, org.apache.log4j.varia.ExternallyRolledFileAppender);
    Code:
       0: aload_0
       1: invokespecial #20                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #35                 // Field socket:Ljava/net/Socket;
       9: aload_0
      10: aload_2
      11: putfield      #28                 // Field er:Lorg/apache/log4j/varia/ExternallyRolledFileAppender;
      14: aload_0
      15: new           #6                  // class java/io/DataInputStream
      18: dup
      19: aload_1
      20: invokevirtual #30                 // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
      23: invokespecial #21                 // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      26: putfield      #25                 // Field dis:Ljava/io/DataInputStream;
      29: aload_0
      30: new           #7                  // class java/io/DataOutputStream
      33: dup
      34: aload_1
      35: invokevirtual #31                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      38: invokespecial #22                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      41: putfield      #26                 // Field dos:Ljava/io/DataOutputStream;
      44: goto          52
      47: astore_3
      48: aload_3
      49: invokevirtual #32                 // Method java/lang/Throwable.printStackTrace:()V
      52: return
    Exception table:
       from    to  target type
          14    44    47   Class java/lang/Exception

  public void run();
    Code:
       0: aload_0
       1: getfield      #25                 // Field dis:Ljava/io/DataInputStream;
       4: invokevirtual #33                 // Method java/io/DataInputStream.readUTF:()Ljava/lang/String;
       7: astore_1
       8: ldc           #2                  // String Got external roll over signal.
      10: invokestatic  #24                 // Method org/apache/log4j/helpers/LogLog.debug:(Ljava/lang/String;)V
      13: ldc           #4                  // String RollOver
      15: aload_1
      16: invokevirtual #27                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      19: ifeq          56
      22: aload_0
      23: getfield      #28                 // Field er:Lorg/apache/log4j/varia/ExternallyRolledFileAppender;
      26: astore_2
      27: aload_2
      28: monitorenter
      29: aload_0
      30: getfield      #28                 // Field er:Lorg/apache/log4j/varia/ExternallyRolledFileAppender;
      33: invokevirtual #34                 // Method org/apache/log4j/RollingFileAppender.rollOver:()V
      36: aload_2
      37: monitorexit
      38: goto          44
      41: aload_2
      42: monitorexit
      43: athrow
      44: aload_0
      45: getfield      #26                 // Field dos:Ljava/io/DataOutputStream;
      48: ldc           #3                  // String OK
      50: invokevirtual #36                 // Method java/io/DataOutputStream.writeUTF:(Ljava/lang/String;)V
      53: goto          65
      56: aload_0
      57: getfield      #26                 // Field dos:Ljava/io/DataOutputStream;
      60: ldc           #1                  // String Expecting [RollOver] string.
      62: invokevirtual #36                 // Method java/io/DataOutputStream.writeUTF:(Ljava/lang/String;)V
      65: aload_0
      66: getfield      #26                 // Field dos:Ljava/io/DataOutputStream;
      69: invokevirtual #23                 // Method java/io/FilterOutputStream.close:()V
      72: goto          82
      75: astore_1
      76: ldc           #5                  // String Unexpected exception. Exiting HUPNode.
      78: aload_1
      79: invokestatic  #29                 // Method org/apache/log4j/helpers/LogLog.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      82: return
    Exception table:
       from    to  target type
          29    36    41   any
           0    72    75   Class java/lang/Exception
}
