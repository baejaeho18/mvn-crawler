Compiled from "AsyncAppender.java"
class org.apache.log4j.Dispatcher extends java.lang.Thread {
  org.apache.log4j.helpers.BoundedFIFO bf;

  org.apache.log4j.helpers.AppenderAttachableImpl aai;

  boolean interrupted;

  org.apache.log4j.AsyncAppender container;

  org.apache.log4j.Dispatcher(org.apache.log4j.helpers.BoundedFIFO, org.apache.log4j.AsyncAppender);
    Code:
       0: aload_0
       1: invokespecial #12                 // Method java/lang/Thread."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #23                 // Field interrupted:Z
       9: aload_0
      10: aload_1
      11: putfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      14: aload_0
      15: aload_2
      16: putfield      #19                 // Field container:Lorg/apache/log4j/AsyncAppender;
      19: aload_0
      20: aload_2
      21: getfield      #14                 // Field org/apache/log4j/AsyncAppender.aai:Lorg/apache/log4j/helpers/AppenderAttachableImpl;
      24: putfield      #15                 // Field aai:Lorg/apache/log4j/helpers/AppenderAttachableImpl;
      27: aload_0
      28: iconst_1
      29: invokevirtual #27                 // Method java/lang/Thread.setDaemon:(Z)V
      32: aload_0
      33: iconst_1
      34: invokevirtual #29                 // Method java/lang/Thread.setPriority:(I)V
      37: aload_0
      38: new           #5                  // class java/lang/StringBuffer
      41: dup
      42: ldc           #1                  // String Dispatcher-
      44: invokespecial #13                 // Method java/lang/StringBuffer."<init>":(Ljava/lang/String;)V
      47: aload_0
      48: invokevirtual #22                 // Method java/lang/Thread.getName:()Ljava/lang/String;
      51: invokevirtual #16                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      54: invokevirtual #30                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      57: invokevirtual #28                 // Method java/lang/Thread.setName:(Ljava/lang/String;)V
      60: return

  void close();
    Code:
       0: aload_0
       1: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
       4: astore_1
       5: aload_1
       6: monitorenter
       7: aload_0
       8: iconst_1
       9: putfield      #23                 // Field interrupted:Z
      12: aload_0
      13: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      16: invokevirtual #24                 // Method org/apache/log4j/helpers/BoundedFIFO.length:()I
      19: ifne          29
      22: aload_0
      23: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      26: invokevirtual #25                 // Method java/lang/Object.notify:()V
      29: aload_1
      30: monitorexit
      31: goto          37
      34: aload_1
      35: monitorexit
      36: athrow
      37: return
    Exception table:
       from    to  target type
           7    29    34   any

  public void run();
    Code:
       0: aload_0
       1: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
       4: astore_2
       5: aload_2
       6: monitorenter
       7: aload_0
       8: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      11: invokevirtual #24                 // Method org/apache/log4j/helpers/BoundedFIFO.length:()I
      14: ifne          52
      17: aload_0
      18: getfield      #23                 // Field interrupted:Z
      21: ifeq          30
      24: jsr           85
      27: goto          128
      30: aload_0
      31: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      34: invokevirtual #31                 // Method java/lang/Object.wait:()V
      37: goto          52
      40: pop
      41: ldc           #2                  // String The dispathcer should not be interrupted.
      43: invokestatic  #20                 // Method org/apache/log4j/helpers/LogLog.error:(Ljava/lang/String;)V
      46: jsr           85
      49: goto          128
      52: aload_0
      53: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      56: invokevirtual #21                 // Method org/apache/log4j/helpers/BoundedFIFO.get:()Lorg/apache/log4j/spi/LoggingEvent;
      59: astore_1
      60: aload_0
      61: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      64: invokevirtual #32                 // Method org/apache/log4j/helpers/BoundedFIFO.wasFull:()Z
      67: ifeq          77
      70: aload_0
      71: getfield      #18                 // Field bf:Lorg/apache/log4j/helpers/BoundedFIFO;
      74: invokevirtual #25                 // Method java/lang/Object.notify:()V
      77: aload_2
      78: monitorexit
      79: goto          90
      82: aload_2
      83: monitorexit
      84: athrow
      85: astore_3
      86: aload_2
      87: monitorexit
      88: ret           3
      90: aload_0
      91: getfield      #19                 // Field container:Lorg/apache/log4j/AsyncAppender;
      94: getfield      #14                 // Field org/apache/log4j/AsyncAppender.aai:Lorg/apache/log4j/helpers/AppenderAttachableImpl;
      97: astore_2
      98: aload_2
      99: monitorenter
     100: aload_0
     101: getfield      #15                 // Field aai:Lorg/apache/log4j/helpers/AppenderAttachableImpl;
     104: ifnull        120
     107: aload_1
     108: ifnull        120
     111: aload_0
     112: getfield      #15                 // Field aai:Lorg/apache/log4j/helpers/AppenderAttachableImpl;
     115: aload_1
     116: invokevirtual #17                 // Method org/apache/log4j/helpers/AppenderAttachableImpl.appendLoopOnAppenders:(Lorg/apache/log4j/spi/LoggingEvent;)I
     119: pop
     120: aload_2
     121: monitorexit
     122: goto          0
     125: aload_2
     126: monitorexit
     127: athrow
     128: aload_0
     129: getfield      #15                 // Field aai:Lorg/apache/log4j/helpers/AppenderAttachableImpl;
     132: invokevirtual #26                 // Method org/apache/log4j/helpers/AppenderAttachableImpl.removeAllAppenders:()V
     135: return
    Exception table:
       from    to  target type
          30    37    40   Class java/lang/InterruptedException
           7    77    82   any
         100   120   125   any
}
