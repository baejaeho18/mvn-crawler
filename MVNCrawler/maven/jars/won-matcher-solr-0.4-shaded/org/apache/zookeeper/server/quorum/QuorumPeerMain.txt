Compiled from "QuorumPeerMain.java"
public class org.apache.zookeeper.server.quorum.QuorumPeerMain {
  private static final org.slf4j.Logger LOG;

  private static final java.lang.String USAGE;

  protected org.apache.zookeeper.server.quorum.QuorumPeer quorumPeer;

  public org.apache.zookeeper.server.quorum.QuorumPeerMain();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static void main(java.lang.String[]);
    Code:
       0: new           #2                  // class org/apache/zookeeper/server/quorum/QuorumPeerMain
       3: dup
       4: invokespecial #3                  // Method "<init>":()V
       7: astore_1
       8: aload_1
       9: aload_0
      10: invokevirtual #4                  // Method initializeAndRun:([Ljava/lang/String;)V
      13: goto          96
      16: astore_2
      17: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      20: ldc           #7                  // String Invalid arguments, exiting abnormally
      22: aload_2
      23: invokeinterface #8,  3            // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      28: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      31: ldc           #9                  // String Usage: QuorumPeerMain configfile
      33: invokeinterface #10,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      38: getstatic     #11                 // Field java/lang/System.err:Ljava/io/PrintStream;
      41: ldc           #9                  // String Usage: QuorumPeerMain configfile
      43: invokevirtual #12                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      46: iconst_2
      47: invokestatic  #13                 // Method java/lang/System.exit:(I)V
      50: goto          96
      53: astore_2
      54: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      57: ldc           #15                 // String Invalid config, exiting abnormally
      59: aload_2
      60: invokeinterface #8,  3            // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      65: getstatic     #11                 // Field java/lang/System.err:Ljava/io/PrintStream;
      68: ldc           #15                 // String Invalid config, exiting abnormally
      70: invokevirtual #12                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      73: iconst_2
      74: invokestatic  #13                 // Method java/lang/System.exit:(I)V
      77: goto          96
      80: astore_2
      81: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      84: ldc           #17                 // String Unexpected exception, exiting abnormally
      86: aload_2
      87: invokeinterface #8,  3            // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      92: iconst_1
      93: invokestatic  #13                 // Method java/lang/System.exit:(I)V
      96: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      99: ldc           #18                 // String Exiting normally
     101: invokeinterface #10,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     106: iconst_0
     107: invokestatic  #13                 // Method java/lang/System.exit:(I)V
     110: return
    Exception table:
       from    to  target type
           8    13    16   Class java/lang/IllegalArgumentException
           8    13    53   Class org/apache/zookeeper/server/quorum/QuorumPeerConfig$ConfigException
           8    13    80   Class java/lang/Exception

  protected void initializeAndRun(java.lang.String[]) throws org.apache.zookeeper.server.quorum.QuorumPeerConfig$ConfigException, java.io.IOException;
    Code:
       0: new           #19                 // class org/apache/zookeeper/server/quorum/QuorumPeerConfig
       3: dup
       4: invokespecial #20                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig."<init>":()V
       7: astore_2
       8: aload_1
       9: arraylength
      10: iconst_1
      11: if_icmpne     21
      14: aload_2
      15: aload_1
      16: iconst_0
      17: aaload
      18: invokevirtual #21                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.parse:(Ljava/lang/String;)V
      21: new           #22                 // class org/apache/zookeeper/server/DatadirCleanupManager
      24: dup
      25: aload_2
      26: invokevirtual #23                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getDataDir:()Ljava/lang/String;
      29: aload_2
      30: invokevirtual #24                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getDataLogDir:()Ljava/lang/String;
      33: aload_2
      34: invokevirtual #25                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getSnapRetainCount:()I
      37: aload_2
      38: invokevirtual #26                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getPurgeInterval:()I
      41: invokespecial #27                 // Method org/apache/zookeeper/server/DatadirCleanupManager."<init>":(Ljava/lang/String;Ljava/lang/String;II)V
      44: astore_3
      45: aload_3
      46: invokevirtual #28                 // Method org/apache/zookeeper/server/DatadirCleanupManager.start:()V
      49: aload_1
      50: arraylength
      51: iconst_1
      52: if_icmpne     73
      55: aload_2
      56: getfield      #29                 // Field org/apache/zookeeper/server/quorum/QuorumPeerConfig.servers:Ljava/util/HashMap;
      59: invokevirtual #30                 // Method java/util/HashMap.size:()I
      62: ifle          73
      65: aload_0
      66: aload_2
      67: invokevirtual #31                 // Method runFromConfig:(Lorg/apache/zookeeper/server/quorum/QuorumPeerConfig;)V
      70: goto          87
      73: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      76: ldc           #32                 // String Either no config or no quorum defined in config, running  in standalone mode
      78: invokeinterface #33,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      83: aload_1
      84: invokestatic  #34                 // Method org/apache/zookeeper/server/ZooKeeperServerMain.main:([Ljava/lang/String;)V
      87: return

  public void runFromConfig(org.apache.zookeeper.server.quorum.QuorumPeerConfig) throws java.io.IOException;
    Code:
       0: invokestatic  #35                 // Method org/apache/zookeeper/jmx/ManagedUtil.registerLog4jMBeans:()V
       3: goto          18
       6: astore_2
       7: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      10: ldc           #37                 // String Unable to register log4j JMX control
      12: aload_2
      13: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      18: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      21: ldc           #39                 // String Starting quorum peer
      23: invokeinterface #10,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      28: invokestatic  #40                 // Method org/apache/zookeeper/server/ServerCnxnFactory.createFactory:()Lorg/apache/zookeeper/server/ServerCnxnFactory;
      31: astore_2
      32: aload_2
      33: aload_1
      34: invokevirtual #41                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getClientPortAddress:()Ljava/net/InetSocketAddress;
      37: aload_1
      38: invokevirtual #42                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getMaxClientCnxns:()I
      41: invokevirtual #43                 // Method org/apache/zookeeper/server/ServerCnxnFactory.configure:(Ljava/net/InetSocketAddress;I)V
      44: aload_0
      45: new           #44                 // class org/apache/zookeeper/server/quorum/QuorumPeer
      48: dup
      49: invokespecial #45                 // Method org/apache/zookeeper/server/quorum/QuorumPeer."<init>":()V
      52: putfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      55: aload_0
      56: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      59: aload_1
      60: invokevirtual #41                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getClientPortAddress:()Ljava/net/InetSocketAddress;
      63: invokevirtual #47                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setClientPortAddress:(Ljava/net/InetSocketAddress;)V
      66: aload_0
      67: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      70: new           #48                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog
      73: dup
      74: new           #49                 // class java/io/File
      77: dup
      78: aload_1
      79: invokevirtual #24                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getDataLogDir:()Ljava/lang/String;
      82: invokespecial #50                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      85: new           #49                 // class java/io/File
      88: dup
      89: aload_1
      90: invokevirtual #23                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getDataDir:()Ljava/lang/String;
      93: invokespecial #50                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      96: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog."<init>":(Ljava/io/File;Ljava/io/File;)V
      99: invokevirtual #52                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setTxnFactory:(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
     102: aload_0
     103: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     106: aload_1
     107: invokevirtual #53                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getServers:()Ljava/util/Map;
     110: invokevirtual #54                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setQuorumPeers:(Ljava/util/Map;)V
     113: aload_0
     114: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     117: aload_1
     118: invokevirtual #55                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getElectionAlg:()I
     121: invokevirtual #56                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setElectionType:(I)V
     124: aload_0
     125: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     128: aload_1
     129: invokevirtual #57                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getServerId:()J
     132: invokevirtual #58                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setMyid:(J)V
     135: aload_0
     136: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     139: aload_1
     140: invokevirtual #59                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getTickTime:()I
     143: invokevirtual #60                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setTickTime:(I)V
     146: aload_0
     147: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     150: aload_1
     151: invokevirtual #61                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getMinSessionTimeout:()I
     154: invokevirtual #62                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setMinSessionTimeout:(I)V
     157: aload_0
     158: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     161: aload_1
     162: invokevirtual #63                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getMaxSessionTimeout:()I
     165: invokevirtual #64                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setMaxSessionTimeout:(I)V
     168: aload_0
     169: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     172: aload_1
     173: invokevirtual #65                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getInitLimit:()I
     176: invokevirtual #66                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setInitLimit:(I)V
     179: aload_0
     180: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     183: aload_1
     184: invokevirtual #67                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getSyncLimit:()I
     187: invokevirtual #68                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setSyncLimit:(I)V
     190: aload_0
     191: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     194: aload_1
     195: invokevirtual #69                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getQuorumVerifier:()Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
     198: invokevirtual #70                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setQuorumVerifier:(Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;)V
     201: aload_0
     202: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     205: aload_2
     206: invokevirtual #71                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setCnxnFactory:(Lorg/apache/zookeeper/server/ServerCnxnFactory;)V
     209: aload_0
     210: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     213: new           #72                 // class org/apache/zookeeper/server/ZKDatabase
     216: dup
     217: aload_0
     218: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     221: invokevirtual #73                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getTxnFactory:()Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     224: invokespecial #74                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
     227: invokevirtual #75                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setZKDatabase:(Lorg/apache/zookeeper/server/ZKDatabase;)V
     230: aload_0
     231: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     234: aload_1
     235: invokevirtual #76                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getPeerType:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
     238: invokevirtual #77                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setLearnerType:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;)V
     241: aload_0
     242: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     245: aload_1
     246: invokevirtual #78                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getSyncEnabled:()Z
     249: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setSyncEnabled:(Z)V
     252: aload_0
     253: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     256: aload_1
     257: invokevirtual #80                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.getQuorumListenOnAllIPs:()Ljava/lang/Boolean;
     260: invokevirtual #81                 // Method java/lang/Boolean.booleanValue:()Z
     263: invokevirtual #82                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setQuorumListenOnAllIPs:(Z)V
     266: aload_0
     267: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     270: invokevirtual #83                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.start:()V
     273: aload_0
     274: getfield      #46                 // Field quorumPeer:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     277: invokevirtual #84                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.join:()V
     280: goto          295
     283: astore_2
     284: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
     287: ldc           #86                 // String Quorum Peer interrupted
     289: aload_2
     290: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     295: return
    Exception table:
       from    to  target type
           0     3     6   Class javax/management/JMException
          28   280   283   Class java/lang/InterruptedException

  static {};
    Code:
       0: ldc_w         #2                  // class org/apache/zookeeper/server/quorum/QuorumPeerMain
       3: invokestatic  #87                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
       9: return
}
