Compiled from "AuthFastLeaderElection.java"
public class org.apache.zookeeper.server.quorum.AuthFastLeaderElection implements org.apache.zookeeper.server.quorum.Election {
  private static final org.slf4j.Logger LOG;

  static int sequencer;

  static int maxTag;

  static int finalizeWait;

  static int challengeCounter;

  private boolean authEnabled;

  java.util.concurrent.LinkedBlockingQueue<org.apache.zookeeper.server.quorum.AuthFastLeaderElection$ToSend> sendqueue;

  java.util.concurrent.LinkedBlockingQueue<org.apache.zookeeper.server.quorum.AuthFastLeaderElection$Notification> recvqueue;

  org.apache.zookeeper.server.quorum.QuorumPeer self;

  int port;

  volatile long logicalclock;

  java.net.DatagramSocket mySocket;

  long proposedLeader;

  long proposedZxid;

  public org.apache.zookeeper.server.quorum.AuthFastLeaderElection(org.apache.zookeeper.server.quorum.QuorumPeer, boolean);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #1                  // Field authEnabled:Z
       9: aload_0
      10: iload_2
      11: putfield      #1                  // Field authEnabled:Z
      14: aload_0
      15: aload_1
      16: invokespecial #4                  // Method starter:(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      19: return

  public org.apache.zookeeper.server.quorum.AuthFastLeaderElection(org.apache.zookeeper.server.quorum.QuorumPeer);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #1                  // Field authEnabled:Z
       9: aload_0
      10: aload_1
      11: invokespecial #4                  // Method starter:(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      14: return

  private void starter(org.apache.zookeeper.server.quorum.QuorumPeer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       5: aload_0
       6: aload_1
       7: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
      10: aload_1
      11: invokevirtual #7                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
      14: invokestatic  #8                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      17: invokeinterface #9,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #10                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      25: getfield      #11                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Ljava/net/InetSocketAddress;
      28: invokevirtual #12                 // Method java/net/InetSocketAddress.getPort:()I
      31: putfield      #13                 // Field port:I
      34: aload_0
      35: ldc2_w        #14                 // long -1l
      38: putfield      #16                 // Field proposedLeader:J
      41: aload_0
      42: ldc2_w        #14                 // long -1l
      45: putfield      #17                 // Field proposedZxid:J
      48: aload_0
      49: new           #18                 // class java/net/DatagramSocket
      52: dup
      53: aload_0
      54: getfield      #13                 // Field port:I
      57: invokespecial #19                 // Method java/net/DatagramSocket."<init>":(I)V
      60: putfield      #20                 // Field mySocket:Ljava/net/DatagramSocket;
      63: goto          79
      66: astore_2
      67: aload_2
      68: invokevirtual #22                 // Method java/net/SocketException.printStackTrace:()V
      71: new           #23                 // class java/lang/RuntimeException
      74: dup
      75: invokespecial #24                 // Method java/lang/RuntimeException."<init>":()V
      78: athrow
      79: aload_0
      80: new           #25                 // class java/util/concurrent/LinkedBlockingQueue
      83: dup
      84: iconst_2
      85: aload_1
      86: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
      89: invokeinterface #26,  1           // InterfaceMethod java/util/Map.size:()I
      94: imul
      95: invokespecial #27                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":(I)V
      98: putfield      #28                 // Field sendqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     101: aload_0
     102: new           #25                 // class java/util/concurrent/LinkedBlockingQueue
     105: dup
     106: iconst_2
     107: aload_1
     108: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
     111: invokeinterface #26,  1           // InterfaceMethod java/util/Map.size:()I
     116: imul
     117: invokespecial #27                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":(I)V
     120: putfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     123: new           #30                 // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Messenger
     126: dup
     127: aload_0
     128: aload_1
     129: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
     132: invokeinterface #26,  1           // InterfaceMethod java/util/Map.size:()I
     137: iconst_2
     138: imul
     139: aload_0
     140: getfield      #20                 // Field mySocket:Ljava/net/DatagramSocket;
     143: invokespecial #31                 // Method org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Messenger."<init>":(Lorg/apache/zookeeper/server/quorum/AuthFastLeaderElection;ILjava/net/DatagramSocket;)V
     146: pop
     147: return
    Exception table:
       from    to  target type
          48    63    66   Class java/net/SocketException

  private void leaveInstance();
    Code:
       0: aload_0
       1: dup
       2: getfield      #32                 // Field logicalclock:J
       5: lconst_1
       6: ladd
       7: putfield      #32                 // Field logicalclock:J
      10: return

  private void sendNotifications();
    Code:
       0: aload_0
       1: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       4: invokevirtual #33                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getView:()Ljava/util/Map;
       7: invokeinterface #34,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      12: invokeinterface #35,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      17: astore_1
      18: aload_1
      19: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          110
      27: aload_1
      28: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #10                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      36: astore_2
      37: new           #38                 // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection$ToSend
      40: dup
      41: getstatic     #39                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$ToSend$mType.notification:Lorg/apache/zookeeper/server/quorum/AuthFastLeaderElection$ToSend$mType;
      44: getstatic     #40                 // Field sequencer:I
      47: dup
      48: iconst_1
      49: iadd
      50: putstatic     #40                 // Field sequencer:I
      53: i2l
      54: aload_0
      55: getfield      #16                 // Field proposedLeader:J
      58: aload_0
      59: getfield      #17                 // Field proposedZxid:J
      62: aload_0
      63: getfield      #32                 // Field logicalclock:J
      66: getstatic     #41                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
      69: aload_0
      70: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      73: invokevirtual #33                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getView:()Ljava/util/Map;
      76: aload_2
      77: getfield      #42                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      80: invokestatic  #8                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      83: invokeinterface #9,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      88: checkcast     #10                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      91: getfield      #11                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Ljava/net/InetSocketAddress;
      94: invokespecial #43                 // Method org/apache/zookeeper/server/quorum/AuthFastLeaderElection$ToSend."<init>":(Lorg/apache/zookeeper/server/quorum/AuthFastLeaderElection$ToSend$mType;JJJJLorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;Ljava/net/InetSocketAddress;)V
      97: astore_3
      98: aload_0
      99: getfield      #28                 // Field sendqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     102: aload_3
     103: invokevirtual #44                 // Method java/util/concurrent/LinkedBlockingQueue.offer:(Ljava/lang/Object;)Z
     106: pop
     107: goto          18
     110: return

  private boolean totalOrderPredicate(long, long);
    Code:
       0: lload_3
       1: aload_0
       2: getfield      #17                 // Field proposedZxid:J
       5: lcmp
       6: ifgt          27
       9: lload_3
      10: aload_0
      11: getfield      #17                 // Field proposedZxid:J
      14: lcmp
      15: ifne          29
      18: lload_1
      19: aload_0
      20: getfield      #16                 // Field proposedLeader:J
      23: lcmp
      24: ifle          29
      27: iconst_1
      28: ireturn
      29: iconst_0
      30: ireturn

  private boolean termPredicate(java.util.HashMap<java.net.InetSocketAddress, org.apache.zookeeper.server.quorum.Vote>, long, long);
    Code:
       0: aload_1
       1: invokevirtual #45                 // Method java/util/HashMap.values:()Ljava/util/Collection;
       4: astore        6
       6: iconst_0
       7: istore        7
       9: aload         6
      11: invokeinterface #35,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      16: astore        8
      18: aload         8
      20: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          67
      28: aload         8
      30: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #46                 // class org/apache/zookeeper/server/quorum/Vote
      38: astore        9
      40: aload         9
      42: invokevirtual #47                 // Method org/apache/zookeeper/server/quorum/Vote.getId:()J
      45: lload_2
      46: lcmp
      47: ifne          64
      50: aload         9
      52: invokevirtual #48                 // Method org/apache/zookeeper/server/quorum/Vote.getZxid:()J
      55: lload         4
      57: lcmp
      58: ifne          64
      61: iinc          7, 1
      64: goto          18
      67: iload         7
      69: aload_0
      70: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      73: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
      76: invokeinterface #26,  1           // InterfaceMethod java/util/Map.size:()I
      81: iconst_2
      82: idiv
      83: if_icmple     88
      86: iconst_1
      87: ireturn
      88: iconst_0
      89: ireturn

  public void shutdown();
    Code:
       0: return

  public org.apache.zookeeper.server.quorum.Vote lookForLeader() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       4: new           #49                 // class org/apache/zookeeper/server/quorum/LeaderElectionBean
       7: dup
       8: invokespecial #50                 // Method org/apache/zookeeper/server/quorum/LeaderElectionBean."<init>":()V
      11: putfield      #51                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLeaderElectionBean:Lorg/apache/zookeeper/server/quorum/LeaderElectionBean;
      14: invokestatic  #52                 // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      17: aload_0
      18: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      21: getfield      #51                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLeaderElectionBean:Lorg/apache/zookeeper/server/quorum/LeaderElectionBean;
      24: aload_0
      25: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      28: getfield      #53                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLocalPeerBean:Lorg/apache/zookeeper/server/quorum/LocalPeerBean;
      31: invokevirtual #54                 // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      34: goto          57
      37: astore_1
      38: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      41: ldc           #56                 // String Failed to register with JMX
      43: aload_1
      44: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      49: aload_0
      50: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      53: aconst_null
      54: putfield      #51                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLeaderElectionBean:Lorg/apache/zookeeper/server/quorum/LeaderElectionBean;
      57: new           #58                 // class java/util/HashMap
      60: dup
      61: invokespecial #59                 // Method java/util/HashMap."<init>":()V
      64: astore_1
      65: new           #58                 // class java/util/HashMap
      68: dup
      69: invokespecial #59                 // Method java/util/HashMap."<init>":()V
      72: astore_2
      73: aload_0
      74: dup
      75: getfield      #32                 // Field logicalclock:J
      78: lconst_1
      79: ladd
      80: putfield      #32                 // Field logicalclock:J
      83: aload_0
      84: aload_0
      85: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      88: invokevirtual #7                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
      91: putfield      #16                 // Field proposedLeader:J
      94: aload_0
      95: aload_0
      96: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      99: invokevirtual #60                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getLastLoggedZxid:()J
     102: putfield      #17                 // Field proposedZxid:J
     105: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     108: ldc           #61                 // String Election tally
     110: invokeinterface #62,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     115: aload_0
     116: invokespecial #63                 // Method sendNotifications:()V
     119: aload_0
     120: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     123: invokevirtual #64                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getPeerState:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     126: getstatic     #41                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     129: if_acmpne     783
     132: aload_0
     133: getfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     136: iconst_2
     137: getstatic     #65                 // Field finalizeWait:I
     140: imul
     141: i2l
     142: getstatic     #66                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     145: invokevirtual #67                 // Method java/util/concurrent/LinkedBlockingQueue.poll:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     148: checkcast     #68                 // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification
     151: astore_3
     152: aload_3
     153: ifnonnull     178
     156: aload_2
     157: invokevirtual #69                 // Method java/util/HashMap.isEmpty:()Z
     160: ifeq          171
     163: aload_1
     164: invokevirtual #70                 // Method java/util/HashMap.size:()I
     167: iconst_1
     168: if_icmple     780
     171: aload_0
     172: invokespecial #63                 // Method sendNotifications:()V
     175: goto          780
     178: getstatic     #71                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$1.$SwitchMap$org$apache$zookeeper$server$quorum$QuorumPeer$ServerState:[I
     181: aload_3
     182: getfield      #72                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.state:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     185: invokevirtual #73                 // Method org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.ordinal:()I
     188: iaload
     189: tableswitch   { // 1 to 3
                     1: 216
                     2: 584
                     3: 682
               default: 780
          }
     216: aload_3
     217: getfield      #74                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.epoch:J
     220: aload_0
     221: getfield      #32                 // Field logicalclock:J
     224: lcmp
     225: ifle          278
     228: aload_0
     229: aload_3
     230: getfield      #74                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.epoch:J
     233: putfield      #32                 // Field logicalclock:J
     236: aload_1
     237: invokevirtual #75                 // Method java/util/HashMap.clear:()V
     240: aload_0
     241: aload_3
     242: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     245: aload_3
     246: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     249: invokespecial #78                 // Method totalOrderPredicate:(JJ)Z
     252: ifeq          271
     255: aload_0
     256: aload_3
     257: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     260: putfield      #16                 // Field proposedLeader:J
     263: aload_0
     264: aload_3
     265: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     268: putfield      #17                 // Field proposedZxid:J
     271: aload_0
     272: invokespecial #63                 // Method sendNotifications:()V
     275: goto          328
     278: aload_3
     279: getfield      #74                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.epoch:J
     282: aload_0
     283: getfield      #32                 // Field logicalclock:J
     286: lcmp
     287: ifge          293
     290: goto          780
     293: aload_0
     294: aload_3
     295: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     298: aload_3
     299: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     302: invokespecial #78                 // Method totalOrderPredicate:(JJ)Z
     305: ifeq          328
     308: aload_0
     309: aload_3
     310: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     313: putfield      #16                 // Field proposedLeader:J
     316: aload_0
     317: aload_3
     318: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     321: putfield      #17                 // Field proposedZxid:J
     324: aload_0
     325: invokespecial #63                 // Method sendNotifications:()V
     328: aload_1
     329: aload_3
     330: getfield      #79                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.addr:Ljava/net/InetSocketAddress;
     333: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     336: dup
     337: aload_3
     338: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     341: aload_3
     342: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     345: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     348: invokevirtual #81                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     351: pop
     352: aload_0
     353: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     356: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
     359: invokeinterface #26,  1           // InterfaceMethod java/util/Map.size:()I
     364: aload_1
     365: invokevirtual #70                 // Method java/util/HashMap.size:()I
     368: if_icmpne     429
     371: aload_0
     372: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     375: aload_0
     376: getfield      #16                 // Field proposedLeader:J
     379: aload_0
     380: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     383: invokevirtual #7                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     386: lcmp
     387: ifne          396
     390: getstatic     #82                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LEADING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     393: goto          399
     396: getstatic     #83                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.FOLLOWING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     399: invokevirtual #84                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     402: aload_0
     403: invokespecial #85                 // Method leaveInstance:()V
     406: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     409: dup
     410: aload_0
     411: getfield      #16                 // Field proposedLeader:J
     414: aload_0
     415: getfield      #17                 // Field proposedZxid:J
     418: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     421: astore        4
     423: jsr           798
     426: aload         4
     428: areturn
     429: aload_0
     430: aload_1
     431: aload_0
     432: getfield      #16                 // Field proposedLeader:J
     435: aload_0
     436: getfield      #17                 // Field proposedZxid:J
     439: invokespecial #86                 // Method termPredicate:(Ljava/util/HashMap;JJ)Z
     442: ifeq          780
     445: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     448: ldc           #87                 // String Passed predicate
     450: invokeinterface #62,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     455: getstatic     #65                 // Field finalizeWait:I
     458: i2l
     459: invokestatic  #88                 // Method java/lang/Thread.sleep:(J)V
     462: aload_0
     463: getfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     466: invokevirtual #89                 // Method java/util/concurrent/LinkedBlockingQueue.isEmpty:()Z
     469: ifne          516
     472: aload_0
     473: aload_0
     474: getfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     477: invokevirtual #90                 // Method java/util/concurrent/LinkedBlockingQueue.peek:()Ljava/lang/Object;
     480: checkcast     #68                 // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification
     483: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     486: aload_0
     487: getfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     490: invokevirtual #90                 // Method java/util/concurrent/LinkedBlockingQueue.peek:()Ljava/lang/Object;
     493: checkcast     #68                 // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification
     496: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     499: invokespecial #78                 // Method totalOrderPredicate:(JJ)Z
     502: ifne          516
     505: aload_0
     506: getfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     509: invokevirtual #91                 // Method java/util/concurrent/LinkedBlockingQueue.poll:()Ljava/lang/Object;
     512: pop
     513: goto          462
     516: aload_0
     517: getfield      #29                 // Field recvqueue:Ljava/util/concurrent/LinkedBlockingQueue;
     520: invokevirtual #89                 // Method java/util/concurrent/LinkedBlockingQueue.isEmpty:()Z
     523: ifeq          780
     526: aload_0
     527: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     530: aload_0
     531: getfield      #16                 // Field proposedLeader:J
     534: aload_0
     535: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     538: invokevirtual #7                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     541: lcmp
     542: ifne          551
     545: getstatic     #82                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LEADING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     548: goto          554
     551: getstatic     #83                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.FOLLOWING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     554: invokevirtual #84                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     557: aload_0
     558: invokespecial #85                 // Method leaveInstance:()V
     561: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     564: dup
     565: aload_0
     566: getfield      #16                 // Field proposedLeader:J
     569: aload_0
     570: getfield      #17                 // Field proposedZxid:J
     573: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     576: astore        4
     578: jsr           798
     581: aload         4
     583: areturn
     584: aload_2
     585: aload_3
     586: getfield      #79                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.addr:Ljava/net/InetSocketAddress;
     589: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     592: dup
     593: aload_3
     594: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     597: aload_3
     598: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     601: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     604: invokevirtual #81                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     607: pop
     608: aload_0
     609: aload_2
     610: aload_3
     611: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     614: aload_3
     615: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     618: invokespecial #86                 // Method termPredicate:(Ljava/util/HashMap;JJ)Z
     621: ifeq          780
     624: aload_0
     625: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     628: aload_3
     629: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     632: aload_0
     633: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     636: invokevirtual #7                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     639: lcmp
     640: ifne          649
     643: getstatic     #82                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LEADING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     646: goto          652
     649: getstatic     #83                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.FOLLOWING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     652: invokevirtual #84                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     655: aload_0
     656: invokespecial #85                 // Method leaveInstance:()V
     659: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     662: dup
     663: aload_3
     664: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     667: aload_3
     668: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     671: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     674: astore        4
     676: jsr           798
     679: aload         4
     681: areturn
     682: aload_2
     683: aload_3
     684: getfield      #79                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.addr:Ljava/net/InetSocketAddress;
     687: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     690: dup
     691: aload_3
     692: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     695: aload_3
     696: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     699: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     702: invokevirtual #81                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     705: pop
     706: aload_0
     707: aload_2
     708: aload_3
     709: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     712: aload_3
     713: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     716: invokespecial #86                 // Method termPredicate:(Ljava/util/HashMap;JJ)Z
     719: ifeq          780
     722: aload_0
     723: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     726: aload_3
     727: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     730: aload_0
     731: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     734: invokevirtual #7                  // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     737: lcmp
     738: ifne          747
     741: getstatic     #82                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LEADING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     744: goto          750
     747: getstatic     #83                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.FOLLOWING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     750: invokevirtual #84                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     753: aload_0
     754: invokespecial #85                 // Method leaveInstance:()V
     757: new           #46                 // class org/apache/zookeeper/server/quorum/Vote
     760: dup
     761: aload_3
     762: getfield      #76                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.leader:J
     765: aload_3
     766: getfield      #77                 // Field org/apache/zookeeper/server/quorum/AuthFastLeaderElection$Notification.zxid:J
     769: invokespecial #80                 // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJ)V
     772: astore        4
     774: jsr           798
     777: aload         4
     779: areturn
     780: goto          119
     783: aconst_null
     784: astore_3
     785: jsr           798
     788: aload_3
     789: areturn
     790: astore        5
     792: jsr           798
     795: aload         5
     797: athrow
     798: astore        6
     800: aload_0
     801: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     804: getfield      #51                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLeaderElectionBean:Lorg/apache/zookeeper/server/quorum/LeaderElectionBean;
     807: ifnull        823
     810: invokestatic  #52                 // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
     813: aload_0
     814: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     817: getfield      #51                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLeaderElectionBean:Lorg/apache/zookeeper/server/quorum/LeaderElectionBean;
     820: invokevirtual #92                 // Method org/apache/zookeeper/jmx/MBeanRegistry.unregister:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
     823: goto          840
     826: astore        7
     828: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     831: ldc           #93                 // String Failed to unregister with JMX
     833: aload         7
     835: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     840: aload_0
     841: getfield      #5                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     844: aconst_null
     845: putfield      #51                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLeaderElectionBean:Lorg/apache/zookeeper/server/quorum/LeaderElectionBean;
     848: ret           6
    Exception table:
       from    to  target type
           0    34    37   Class java/lang/Exception
          57   426   790   any
         429   581   790   any
         584   679   790   any
         682   777   790   any
         780   788   790   any
         790   795   790   any
         800   823   826   Class java/lang/Exception

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static boolean access$100(org.apache.zookeeper.server.quorum.AuthFastLeaderElection);
    Code:
       0: aload_0
       1: getfield      #1                  // Field authEnabled:Z
       4: ireturn

  static {};
    Code:
       0: ldc_w         #94                 // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection
       3: invokestatic  #95                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       9: iconst_0
      10: putstatic     #40                 // Field sequencer:I
      13: iconst_0
      14: putstatic     #96                 // Field maxTag:I
      17: bipush        100
      19: putstatic     #65                 // Field finalizeWait:I
      22: iconst_0
      23: putstatic     #97                 // Field challengeCounter:I
      26: return
}
