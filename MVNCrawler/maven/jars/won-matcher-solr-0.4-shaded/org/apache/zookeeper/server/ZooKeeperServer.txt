Compiled from "ZooKeeperServer.java"
public class org.apache.zookeeper.server.ZooKeeperServer implements org.apache.zookeeper.server.SessionTracker$SessionExpirer,org.apache.zookeeper.server.ServerStats$Provider {
  protected static final org.slf4j.Logger LOG;

  protected org.apache.zookeeper.server.ZooKeeperServerBean jmxServerBean;

  protected org.apache.zookeeper.server.DataTreeBean jmxDataTreeBean;

  public static final int DEFAULT_TICK_TIME;

  protected int tickTime;

  protected int minSessionTimeout;

  protected int maxSessionTimeout;

  protected org.apache.zookeeper.server.SessionTracker sessionTracker;

  private org.apache.zookeeper.server.persistence.FileTxnSnapLog txnLogFactory;

  private org.apache.zookeeper.server.ZKDatabase zkDb;

  protected long hzxid;

  public static final java.lang.Exception ok;

  protected org.apache.zookeeper.server.RequestProcessor firstProcessor;

  protected volatile boolean running;

  private static final long superSecret;

  int requestsInProcess;

  final java.util.List<org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord> outstandingChanges;

  final java.util.HashMap<java.lang.String, org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord> outstandingChangesForPath;

  private org.apache.zookeeper.server.ServerCnxnFactory serverCnxnFactory;

  private final org.apache.zookeeper.server.ServerStats serverStats;

  void removeCnxn(org.apache.zookeeper.server.ServerCnxn);
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: aload_1
       5: invokevirtual #2                  // Method org/apache/zookeeper/server/ZKDatabase.removeCnxn:(Lorg/apache/zookeeper/server/ServerCnxn;)V
       8: return

  public org.apache.zookeeper.server.ZooKeeperServer();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: sipush        3000
       8: putfield      #4                  // Field tickTime:I
      11: aload_0
      12: iconst_m1
      13: putfield      #5                  // Field minSessionTimeout:I
      16: aload_0
      17: iconst_m1
      18: putfield      #6                  // Field maxSessionTimeout:I
      21: aload_0
      22: aconst_null
      23: putfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      26: aload_0
      27: lconst_0
      28: putfield      #8                  // Field hzxid:J
      31: aload_0
      32: new           #9                  // class java/util/ArrayList
      35: dup
      36: invokespecial #10                 // Method java/util/ArrayList."<init>":()V
      39: putfield      #11                 // Field outstandingChanges:Ljava/util/List;
      42: aload_0
      43: new           #12                 // class java/util/HashMap
      46: dup
      47: invokespecial #13                 // Method java/util/HashMap."<init>":()V
      50: putfield      #14                 // Field outstandingChangesForPath:Ljava/util/HashMap;
      53: aload_0
      54: new           #15                 // class org/apache/zookeeper/server/ServerStats
      57: dup
      58: aload_0
      59: invokespecial #16                 // Method org/apache/zookeeper/server/ServerStats."<init>":(Lorg/apache/zookeeper/server/ServerStats$Provider;)V
      62: putfield      #17                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
      65: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog, int, int, int, org.apache.zookeeper.server.ZooKeeperServer$DataTreeBuilder, org.apache.zookeeper.server.ZKDatabase);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: sipush        3000
       8: putfield      #4                  // Field tickTime:I
      11: aload_0
      12: iconst_m1
      13: putfield      #5                  // Field minSessionTimeout:I
      16: aload_0
      17: iconst_m1
      18: putfield      #6                  // Field maxSessionTimeout:I
      21: aload_0
      22: aconst_null
      23: putfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      26: aload_0
      27: lconst_0
      28: putfield      #8                  // Field hzxid:J
      31: aload_0
      32: new           #9                  // class java/util/ArrayList
      35: dup
      36: invokespecial #10                 // Method java/util/ArrayList."<init>":()V
      39: putfield      #11                 // Field outstandingChanges:Ljava/util/List;
      42: aload_0
      43: new           #12                 // class java/util/HashMap
      46: dup
      47: invokespecial #13                 // Method java/util/HashMap."<init>":()V
      50: putfield      #14                 // Field outstandingChangesForPath:Ljava/util/HashMap;
      53: aload_0
      54: new           #15                 // class org/apache/zookeeper/server/ServerStats
      57: dup
      58: aload_0
      59: invokespecial #16                 // Method org/apache/zookeeper/server/ServerStats."<init>":(Lorg/apache/zookeeper/server/ServerStats$Provider;)V
      62: putfield      #17                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
      65: aload_0
      66: aload_1
      67: putfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      70: aload_0
      71: aload         6
      73: putfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      76: aload_0
      77: iload_2
      78: putfield      #4                  // Field tickTime:I
      81: aload_0
      82: iload_3
      83: putfield      #5                  // Field minSessionTimeout:I
      86: aload_0
      87: iload         4
      89: putfield      #6                  // Field maxSessionTimeout:I
      92: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      95: new           #19                 // class java/lang/StringBuilder
      98: dup
      99: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     102: ldc           #21                 // String Created server with tickTime
     104: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     107: iload_2
     108: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     111: ldc           #24                 // String  minSessionTimeout
     113: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: aload_0
     117: invokevirtual #25                 // Method getMinSessionTimeout:()I
     120: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     123: ldc           #26                 // String  maxSessionTimeout
     125: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload_0
     129: invokevirtual #27                 // Method getMaxSessionTimeout:()I
     132: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     135: ldc           #28                 // String  datadir
     137: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_1
     141: invokevirtual #29                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getDataDir:()Ljava/io/File;
     144: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     147: ldc           #31                 // String  snapdir
     149: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: aload_1
     153: invokevirtual #32                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
     156: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     159: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     162: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     167: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog, int, org.apache.zookeeper.server.ZooKeeperServer$DataTreeBuilder) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_m1
       4: iconst_m1
       5: aload_3
       6: new           #35                 // class org/apache/zookeeper/server/ZKDatabase
       9: dup
      10: aload_1
      11: invokespecial #36                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      14: invokespecial #37                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;IIILorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;Lorg/apache/zookeeper/server/ZKDatabase;)V
      17: return

  public org.apache.zookeeper.server.ServerStats serverStats();
    Code:
       0: aload_0
       1: getfield      #17                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
       4: areturn

  public void dumpConf(java.io.PrintWriter);
    Code:
       0: aload_1
       1: ldc           #38                 // String clientPort=
       3: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
       6: aload_1
       7: aload_0
       8: invokevirtual #40                 // Method getClientPort:()I
      11: invokevirtual #41                 // Method java/io/PrintWriter.println:(I)V
      14: aload_1
      15: ldc           #42                 // String dataDir=
      17: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      20: aload_1
      21: aload_0
      22: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      25: getfield      #43                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      28: invokevirtual #32                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      31: invokevirtual #44                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      34: invokevirtual #45                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      37: aload_1
      38: ldc           #46                 // String dataLogDir=
      40: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      43: aload_1
      44: aload_0
      45: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      48: getfield      #43                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      51: invokevirtual #29                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getDataDir:()Ljava/io/File;
      54: invokevirtual #44                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      57: invokevirtual #45                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      60: aload_1
      61: ldc           #47                 // String tickTime=
      63: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      66: aload_1
      67: aload_0
      68: invokevirtual #48                 // Method getTickTime:()I
      71: invokevirtual #41                 // Method java/io/PrintWriter.println:(I)V
      74: aload_1
      75: ldc           #49                 // String maxClientCnxns=
      77: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      80: aload_1
      81: aload_0
      82: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      85: invokevirtual #51                 // Method org/apache/zookeeper/server/ServerCnxnFactory.getMaxClientCnxnsPerHost:()I
      88: invokevirtual #41                 // Method java/io/PrintWriter.println:(I)V
      91: aload_1
      92: ldc           #52                 // String minSessionTimeout=
      94: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      97: aload_1
      98: aload_0
      99: invokevirtual #25                 // Method getMinSessionTimeout:()I
     102: invokevirtual #41                 // Method java/io/PrintWriter.println:(I)V
     105: aload_1
     106: ldc           #53                 // String maxSessionTimeout=
     108: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     111: aload_1
     112: aload_0
     113: invokevirtual #27                 // Method getMaxSessionTimeout:()I
     116: invokevirtual #41                 // Method java/io/PrintWriter.println:(I)V
     119: aload_1
     120: ldc           #54                 // String serverId=
     122: invokevirtual #39                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     125: aload_1
     126: aload_0
     127: invokevirtual #55                 // Method getServerId:()J
     130: invokevirtual #56                 // Method java/io/PrintWriter.println:(J)V
     133: return

  public org.apache.zookeeper.server.ZooKeeperServer(java.io.File, java.io.File, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: new           #57                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog
       4: dup
       5: aload_1
       6: aload_2
       7: invokespecial #58                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog."<init>":(Ljava/io/File;Ljava/io/File;)V
      10: iload_3
      11: new           #59                 // class org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder
      14: dup
      15: invokespecial #60                 // Method org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder."<init>":()V
      18: invokespecial #61                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;ILorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;)V
      21: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog, org.apache.zookeeper.server.ZooKeeperServer$DataTreeBuilder) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: sipush        3000
       5: iconst_m1
       6: iconst_m1
       7: aload_2
       8: new           #35                 // class org/apache/zookeeper/server/ZKDatabase
      11: dup
      12: aload_1
      13: invokespecial #36                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      16: invokespecial #37                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;IIILorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;Lorg/apache/zookeeper/server/ZKDatabase;)V
      19: return

  public org.apache.zookeeper.server.ZKDatabase getZKDatabase();
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: areturn

  public void setZKDatabase(org.apache.zookeeper.server.ZKDatabase);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       5: return

  public void loadData() throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: invokevirtual #62                 // Method org/apache/zookeeper/server/ZKDatabase.isInitialized:()Z
       7: ifeq          24
      10: aload_0
      11: aload_0
      12: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      15: invokevirtual #63                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
      18: invokevirtual #64                 // Method setZxid:(J)V
      21: goto          35
      24: aload_0
      25: aload_0
      26: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      29: invokevirtual #65                 // Method org/apache/zookeeper/server/ZKDatabase.loadDataBase:()J
      32: invokevirtual #64                 // Method setZxid:(J)V
      35: new           #66                 // class java/util/LinkedList
      38: dup
      39: invokespecial #67                 // Method java/util/LinkedList."<init>":()V
      42: astore_1
      43: aload_0
      44: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      47: invokevirtual #68                 // Method org/apache/zookeeper/server/ZKDatabase.getSessions:()Ljava/util/Collection;
      50: invokeinterface #69,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      55: astore_2
      56: aload_2
      57: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      62: ifeq          98
      65: aload_2
      66: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      71: checkcast     #72                 // class java/lang/Long
      74: astore_3
      75: aload_0
      76: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      79: invokevirtual #73                 // Method org/apache/zookeeper/server/ZKDatabase.getSessionWithTimeOuts:()Ljava/util/concurrent/ConcurrentHashMap;
      82: aload_3
      83: invokevirtual #74                 // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      86: ifnonnull     95
      89: aload_1
      90: aload_3
      91: invokevirtual #75                 // Method java/util/LinkedList.add:(Ljava/lang/Object;)Z
      94: pop
      95: goto          56
      98: aload_0
      99: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     102: iconst_1
     103: invokevirtual #76                 // Method org/apache/zookeeper/server/ZKDatabase.setDataTreeInit:(Z)V
     106: aload_1
     107: invokevirtual #77                 // Method java/util/LinkedList.iterator:()Ljava/util/Iterator;
     110: astore_2
     111: aload_2
     112: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     117: ifeq          148
     120: aload_2
     121: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     126: checkcast     #72                 // class java/lang/Long
     129: invokevirtual #78                 // Method java/lang/Long.longValue:()J
     132: lstore_3
     133: aload_0
     134: lload_3
     135: aload_0
     136: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     139: invokevirtual #63                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
     142: invokevirtual #79                 // Method killSession:(JJ)V
     145: goto          111
     148: return

  public void takeSnapshot();
    Code:
       0: aload_0
       1: getfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       4: aload_0
       5: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       8: invokevirtual #80                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      11: aload_0
      12: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      15: invokevirtual #73                 // Method org/apache/zookeeper/server/ZKDatabase.getSessionWithTimeOuts:()Ljava/util/concurrent/ConcurrentHashMap;
      18: invokevirtual #81                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.save:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/concurrent/ConcurrentHashMap;)V
      21: goto          41
      24: astore_1
      25: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      28: ldc           #83                 // String Severe unrecoverable error, exiting
      30: aload_1
      31: invokeinterface #84,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      36: bipush        10
      38: invokestatic  #85                 // Method java/lang/System.exit:(I)V
      41: return
    Exception table:
       from    to  target type
           0    21    24   Class java/io/IOException

  public synchronized long getZxid();
    Code:
       0: aload_0
       1: getfield      #8                  // Field hzxid:J
       4: lreturn

  synchronized long getNextZxid();
    Code:
       0: aload_0
       1: dup
       2: getfield      #8                  // Field hzxid:J
       5: lconst_1
       6: ladd
       7: dup2_x1
       8: putfield      #8                  // Field hzxid:J
      11: lreturn

  public synchronized void setZxid(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #8                  // Field hzxid:J
       5: return

  long getTime();
    Code:
       0: invokestatic  #86                 // Method java/lang/System.currentTimeMillis:()J
       3: lreturn

  private void close(long);
    Code:
       0: aload_0
       1: aconst_null
       2: lload_1
       3: bipush        -11
       5: iconst_0
       6: aconst_null
       7: aconst_null
       8: invokespecial #87                 // Method submitRequest:(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
      11: return

  public void closeSession(long);
    Code:
       0: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       3: new           #19                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #88                 // String Closing session 0x
      12: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: lload_1
      16: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      19: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      25: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      30: aload_0
      31: lload_1
      32: invokespecial #90                 // Method close:(J)V
      35: return

  protected void killSession(long, long);
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: lload_1
       5: lload_3
       6: invokevirtual #91                 // Method org/apache/zookeeper/server/ZKDatabase.killSession:(JJ)V
       9: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      12: invokeinterface #92,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      17: ifeq          51
      20: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      23: ldc2_w        #93                 // long 32l
      26: new           #19                 // class java/lang/StringBuilder
      29: dup
      30: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #95                 // String ZooKeeperServer --- killSession: 0x
      35: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: lload_1
      39: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      42: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokestatic  #96                 // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
      51: aload_0
      52: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      55: ifnull        68
      58: aload_0
      59: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      62: lload_1
      63: invokeinterface #98,  3           // InterfaceMethod org/apache/zookeeper/server/SessionTracker.removeSession:(J)V
      68: return

  public void expire(org.apache.zookeeper.server.SessionTracker$Session);
    Code:
       0: aload_1
       1: invokeinterface #99,  1           // InterfaceMethod org/apache/zookeeper/server/SessionTracker$Session.getSessionId:()J
       6: lstore_2
       7: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      10: new           #19                 // class java/lang/StringBuilder
      13: dup
      14: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      17: ldc           #100                // String Expiring session 0x
      19: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: lload_2
      23: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      26: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: ldc           #101                // String , timeout of
      31: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: aload_1
      35: invokeinterface #102,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker$Session.getTimeout:()I
      40: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      43: ldc           #103                // String ms exceeded
      45: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      51: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      56: aload_0
      57: lload_2
      58: invokespecial #90                 // Method close:(J)V
      61: return

  void touch(org.apache.zookeeper.server.ServerCnxn) throws org.apache.zookeeper.server.ZooKeeperServer$MissingSessionException;
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
       9: lstore_2
      10: aload_1
      11: invokevirtual #105                // Method org/apache/zookeeper/server/ServerCnxn.getSessionTimeout:()I
      14: istore        4
      16: aload_0
      17: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      20: lload_2
      21: iload         4
      23: invokeinterface #106,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.touchSession:(JI)Z
      28: ifne          66
      31: new           #107                // class org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException
      34: dup
      35: new           #19                 // class java/lang/StringBuilder
      38: dup
      39: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      42: ldc           #108                // String No session with sessionid 0x
      44: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: lload_2
      48: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      51: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: ldc           #109                // String  exists, probably expired and removed
      56: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      62: invokespecial #110                // Method org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException."<init>":(Ljava/lang/String;)V
      65: athrow
      66: return

  protected void registerJMX();
    Code:
       0: aload_0
       1: new           #111                // class org/apache/zookeeper/server/ZooKeeperServerBean
       4: dup
       5: aload_0
       6: invokespecial #112                // Method org/apache/zookeeper/server/ZooKeeperServerBean."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
       9: putfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      12: invokestatic  #114                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      15: aload_0
      16: getfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      19: aconst_null
      20: invokevirtual #115                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      23: aload_0
      24: new           #116                // class org/apache/zookeeper/server/DataTreeBean
      27: dup
      28: aload_0
      29: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      32: invokevirtual #80                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      35: invokespecial #117                // Method org/apache/zookeeper/server/DataTreeBean."<init>":(Lorg/apache/zookeeper/server/DataTree;)V
      38: putfield      #118                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      41: invokestatic  #114                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      44: aload_0
      45: getfield      #118                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      48: aload_0
      49: getfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      52: invokevirtual #115                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      55: goto          75
      58: astore_1
      59: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      62: ldc           #120                // String Failed to register with JMX
      64: aload_1
      65: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      70: aload_0
      71: aconst_null
      72: putfield      #118                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      75: goto          95
      78: astore_1
      79: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      82: ldc           #120                // String Failed to register with JMX
      84: aload_1
      85: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      90: aload_0
      91: aconst_null
      92: putfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      95: return
    Exception table:
       from    to  target type
          23    55    58   Class java/lang/Exception
           0    75    78   Class java/lang/Exception

  public void startdata() throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: ifnonnull     22
       7: aload_0
       8: new           #35                 // class org/apache/zookeeper/server/ZKDatabase
      11: dup
      12: aload_0
      13: getfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      16: invokespecial #36                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      19: putfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      22: aload_0
      23: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      26: invokevirtual #62                 // Method org/apache/zookeeper/server/ZKDatabase.isInitialized:()Z
      29: ifne          36
      32: aload_0
      33: invokevirtual #122                // Method loadData:()V
      36: return

  public void startup();
    Code:
       0: aload_0
       1: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: ifnonnull     11
       7: aload_0
       8: invokevirtual #123                // Method createSessionTracker:()V
      11: aload_0
      12: invokevirtual #124                // Method startSessionTracker:()V
      15: aload_0
      16: invokevirtual #125                // Method setupRequestProcessors:()V
      19: aload_0
      20: invokevirtual #126                // Method registerJMX:()V
      23: aload_0
      24: dup
      25: astore_1
      26: monitorenter
      27: aload_0
      28: iconst_1
      29: putfield      #127                // Field running:Z
      32: aload_0
      33: invokevirtual #128                // Method java/lang/Object.notifyAll:()V
      36: aload_1
      37: monitorexit
      38: goto          46
      41: astore_2
      42: aload_1
      43: monitorexit
      44: aload_2
      45: athrow
      46: return
    Exception table:
       from    to  target type
          27    38    41   any
          41    44    41   any

  protected void setupRequestProcessors();
    Code:
       0: new           #129                // class org/apache/zookeeper/server/FinalRequestProcessor
       3: dup
       4: aload_0
       5: invokespecial #130                // Method org/apache/zookeeper/server/FinalRequestProcessor."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
       8: astore_1
       9: new           #131                // class org/apache/zookeeper/server/SyncRequestProcessor
      12: dup
      13: aload_0
      14: aload_1
      15: invokespecial #132                // Method org/apache/zookeeper/server/SyncRequestProcessor."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/RequestProcessor;)V
      18: astore_2
      19: aload_2
      20: checkcast     #131                // class org/apache/zookeeper/server/SyncRequestProcessor
      23: invokevirtual #133                // Method org/apache/zookeeper/server/SyncRequestProcessor.start:()V
      26: aload_0
      27: new           #134                // class org/apache/zookeeper/server/PrepRequestProcessor
      30: dup
      31: aload_0
      32: aload_2
      33: invokespecial #135                // Method org/apache/zookeeper/server/PrepRequestProcessor."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/RequestProcessor;)V
      36: putfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      39: aload_0
      40: getfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      43: checkcast     #134                // class org/apache/zookeeper/server/PrepRequestProcessor
      46: invokevirtual #137                // Method org/apache/zookeeper/server/PrepRequestProcessor.start:()V
      49: return

  protected void createSessionTracker();
    Code:
       0: aload_0
       1: new           #138                // class org/apache/zookeeper/server/SessionTrackerImpl
       4: dup
       5: aload_0
       6: aload_0
       7: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      10: invokevirtual #73                 // Method org/apache/zookeeper/server/ZKDatabase.getSessionWithTimeOuts:()Ljava/util/concurrent/ConcurrentHashMap;
      13: aload_0
      14: getfield      #4                  // Field tickTime:I
      17: lconst_1
      18: invokespecial #139                // Method org/apache/zookeeper/server/SessionTrackerImpl."<init>":(Lorg/apache/zookeeper/server/SessionTracker$SessionExpirer;Ljava/util/concurrent/ConcurrentHashMap;IJ)V
      21: putfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      24: return

  protected void startSessionTracker();
    Code:
       0: aload_0
       1: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: checkcast     #138                // class org/apache/zookeeper/server/SessionTrackerImpl
       7: invokevirtual #140                // Method org/apache/zookeeper/server/SessionTrackerImpl.start:()V
      10: return

  public boolean isRunning();
    Code:
       0: aload_0
       1: getfield      #127                // Field running:Z
       4: ireturn

  public void shutdown();
    Code:
       0: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #141                // String shutting down
       5: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: iconst_0
      12: putfield      #127                // Field running:Z
      15: aload_0
      16: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      19: ifnull        31
      22: aload_0
      23: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      26: invokeinterface #142,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.shutdown:()V
      31: aload_0
      32: getfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      35: ifnull        47
      38: aload_0
      39: getfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      42: invokeinterface #143,  1          // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.shutdown:()V
      47: aload_0
      48: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      51: ifnull        61
      54: aload_0
      55: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      58: invokevirtual #144                // Method org/apache/zookeeper/server/ZKDatabase.clear:()V
      61: aload_0
      62: invokevirtual #145                // Method unregisterJMX:()V
      65: return

  protected void unregisterJMX();
    Code:
       0: aload_0
       1: getfield      #118                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
       4: ifnull        17
       7: invokestatic  #114                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      10: aload_0
      11: getfield      #118                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      14: invokevirtual #146                // Method org/apache/zookeeper/jmx/MBeanRegistry.unregister:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      17: goto          32
      20: astore_1
      21: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      24: ldc           #147                // String Failed to unregister with JMX
      26: aload_1
      27: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      32: aload_0
      33: getfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      36: ifnull        49
      39: invokestatic  #114                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      42: aload_0
      43: getfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      46: invokevirtual #146                // Method org/apache/zookeeper/jmx/MBeanRegistry.unregister:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      49: goto          64
      52: astore_1
      53: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      56: ldc           #147                // String Failed to unregister with JMX
      58: aload_1
      59: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      64: aload_0
      65: aconst_null
      66: putfield      #113                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      69: aload_0
      70: aconst_null
      71: putfield      #118                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      74: return
    Exception table:
       from    to  target type
           0    17    20   Class java/lang/Exception
          32    49    52   Class java/lang/Exception

  public synchronized void incInProcess();
    Code:
       0: aload_0
       1: dup
       2: getfield      #148                // Field requestsInProcess:I
       5: iconst_1
       6: iadd
       7: putfield      #148                // Field requestsInProcess:I
      10: return

  public synchronized void decInProcess();
    Code:
       0: aload_0
       1: dup
       2: getfield      #148                // Field requestsInProcess:I
       5: iconst_1
       6: isub
       7: putfield      #148                // Field requestsInProcess:I
      10: return

  public int getInProcess();
    Code:
       0: aload_0
       1: getfield      #148                // Field requestsInProcess:I
       4: ireturn

  byte[] generatePasswd(long);
    Code:
       0: new           #149                // class java/util/Random
       3: dup
       4: lload_1
       5: ldc2_w        #150                // long 3007405056l
       8: lxor
       9: invokespecial #152                // Method java/util/Random."<init>":(J)V
      12: astore_3
      13: bipush        16
      15: newarray       byte
      17: astore        4
      19: aload_3
      20: aload         4
      22: invokevirtual #153                // Method java/util/Random.nextBytes:([B)V
      25: aload         4
      27: areturn

  protected boolean checkPasswd(long, byte[]);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifeq          22
       6: aload_3
       7: aload_0
       8: lload_1
       9: invokevirtual #154                // Method generatePasswd:(J)[B
      12: invokestatic  #155                // Method java/util/Arrays.equals:([B[B)Z
      15: ifeq          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  long createSession(org.apache.zookeeper.server.ServerCnxn, byte[], int);
    Code:
       0: aload_0
       1: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: iload_3
       5: invokeinterface #156,  2          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.createSession:(I)J
      10: lstore        4
      12: new           #149                // class java/util/Random
      15: dup
      16: lload         4
      18: ldc2_w        #150                // long 3007405056l
      21: lxor
      22: invokespecial #152                // Method java/util/Random."<init>":(J)V
      25: astore        6
      27: aload         6
      29: aload_2
      30: invokevirtual #153                // Method java/util/Random.nextBytes:([B)V
      33: iconst_4
      34: invokestatic  #157                // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
      37: astore        7
      39: aload         7
      41: iload_3
      42: invokevirtual #158                // Method java/nio/ByteBuffer.putInt:(I)Ljava/nio/ByteBuffer;
      45: pop
      46: aload_1
      47: lload         4
      49: invokevirtual #159                // Method org/apache/zookeeper/server/ServerCnxn.setSessionId:(J)V
      52: aload_0
      53: aload_1
      54: lload         4
      56: bipush        -10
      58: iconst_0
      59: aload         7
      61: aconst_null
      62: invokespecial #87                 // Method submitRequest:(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
      65: lload         4
      67: lreturn

  public void setOwner(long, java.lang.Object) throws org.apache.zookeeper.KeeperException$SessionExpiredException;
    Code:
       0: aload_0
       1: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: lload_1
       5: aload_3
       6: invokeinterface #160,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.setOwner:(JLjava/lang/Object;)V
      11: return

  protected void revalidateSession(org.apache.zookeeper.server.ServerCnxn, long, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: lload_2
       5: iload         4
       7: invokeinterface #106,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.touchSession:(JI)Z
      12: istore        5
      14: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      17: invokeinterface #92,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      22: ifeq          66
      25: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      28: ldc2_w        #93                 // long 32l
      31: new           #19                 // class java/lang/StringBuilder
      34: dup
      35: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      38: ldc           #161                // String Session 0x
      40: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: lload_2
      44: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      47: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: ldc           #162                // String  is valid:
      52: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: iload         5
      57: invokevirtual #163                // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      60: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      63: invokestatic  #96                 // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
      66: aload_0
      67: aload_1
      68: iload         5
      70: invokevirtual #164                // Method finishSessionInit:(Lorg/apache/zookeeper/server/ServerCnxn;Z)V
      73: return

  public void reopenSession(org.apache.zookeeper.server.ServerCnxn, long, byte[], int) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_2
       2: aload         4
       4: invokevirtual #165                // Method checkPasswd:(J[B)Z
       7: ifne          19
      10: aload_0
      11: aload_1
      12: iconst_0
      13: invokevirtual #164                // Method finishSessionInit:(Lorg/apache/zookeeper/server/ServerCnxn;Z)V
      16: goto          27
      19: aload_0
      20: aload_1
      21: lload_2
      22: iload         5
      24: invokevirtual #166                // Method revalidateSession:(Lorg/apache/zookeeper/server/ServerCnxn;JI)V
      27: return

  public void finishSessionInit(org.apache.zookeeper.server.ServerCnxn, boolean);
    Code:
       0: iload_2
       1: ifeq          12
       4: aload_0
       5: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       8: aload_1
       9: invokevirtual #167                // Method org/apache/zookeeper/server/ServerCnxnFactory.registerConnection:(Lorg/apache/zookeeper/server/ServerCnxn;)V
      12: goto          27
      15: astore_3
      16: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      19: ldc           #120                // String Failed to register with JMX
      21: aload_3
      22: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      27: new           #168                // class org/apache/zookeeper/proto/ConnectResponse
      30: dup
      31: iconst_0
      32: iload_2
      33: ifeq          43
      36: aload_1
      37: invokevirtual #105                // Method org/apache/zookeeper/server/ServerCnxn.getSessionTimeout:()I
      40: goto          44
      43: iconst_0
      44: iload_2
      45: ifeq          55
      48: aload_1
      49: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
      52: goto          56
      55: lconst_0
      56: iload_2
      57: ifeq          71
      60: aload_0
      61: aload_1
      62: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
      65: invokevirtual #154                // Method generatePasswd:(J)[B
      68: goto          75
      71: bipush        16
      73: newarray       byte
      75: invokespecial #169                // Method org/apache/zookeeper/proto/ConnectResponse."<init>":(IIJ[B)V
      78: astore_3
      79: new           #170                // class java/io/ByteArrayOutputStream
      82: dup
      83: invokespecial #171                // Method java/io/ByteArrayOutputStream."<init>":()V
      86: astore        4
      88: aload         4
      90: invokestatic  #172                // Method org/apache/jute/BinaryOutputArchive.getArchive:(Ljava/io/OutputStream;)Lorg/apache/jute/BinaryOutputArchive;
      93: astore        5
      95: aload         5
      97: iconst_m1
      98: ldc           #173                // String len
     100: invokevirtual #174                // Method org/apache/jute/BinaryOutputArchive.writeInt:(ILjava/lang/String;)V
     103: aload_3
     104: aload         5
     106: ldc           #175                // String connect
     108: invokevirtual #176                // Method org/apache/zookeeper/proto/ConnectResponse.serialize:(Lorg/apache/jute/OutputArchive;Ljava/lang/String;)V
     111: aload_1
     112: getfield      #177                // Field org/apache/zookeeper/server/ServerCnxn.isOldClient:Z
     115: ifne          129
     118: aload         5
     120: aload_0
     121: instanceof    #178                // class org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer
     124: ldc           #179                // String readOnly
     126: invokevirtual #180                // Method org/apache/jute/BinaryOutputArchive.writeBool:(ZLjava/lang/String;)V
     129: aload         4
     131: invokevirtual #181                // Method java/io/ByteArrayOutputStream.close:()V
     134: aload         4
     136: invokevirtual #182                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     139: invokestatic  #183                // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     142: astore        6
     144: aload         6
     146: aload         6
     148: invokevirtual #184                // Method java/nio/ByteBuffer.remaining:()I
     151: iconst_4
     152: isub
     153: invokevirtual #158                // Method java/nio/ByteBuffer.putInt:(I)Ljava/nio/ByteBuffer;
     156: invokevirtual #185                // Method java/nio/ByteBuffer.rewind:()Ljava/nio/Buffer;
     159: pop
     160: aload_1
     161: aload         6
     163: invokevirtual #186                // Method org/apache/zookeeper/server/ServerCnxn.sendBuffer:(Ljava/nio/ByteBuffer;)V
     166: iload_2
     167: ifne          230
     170: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     173: new           #19                 // class java/lang/StringBuilder
     176: dup
     177: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     180: ldc           #187                // String Invalid session 0x
     182: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     185: aload_1
     186: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     189: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     192: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     195: ldc           #188                // String  for client
     197: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: aload_1
     201: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     204: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     207: ldc           #190                // String , probably expired
     209: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     212: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     215: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     220: aload_1
     221: getstatic     #191                // Field org/apache/zookeeper/server/ServerCnxnFactory.closeConn:Ljava/nio/ByteBuffer;
     224: invokevirtual #186                // Method org/apache/zookeeper/server/ServerCnxn.sendBuffer:(Ljava/nio/ByteBuffer;)V
     227: goto          291
     230: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     233: new           #19                 // class java/lang/StringBuilder
     236: dup
     237: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     240: ldc           #192                // String Established session 0x
     242: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     245: aload_1
     246: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     249: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     252: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     255: ldc           #193                // String  with negotiated timeout
     257: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     260: aload_1
     261: invokevirtual #105                // Method org/apache/zookeeper/server/ServerCnxn.getSessionTimeout:()I
     264: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     267: ldc           #188                // String  for client
     269: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     272: aload_1
     273: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     276: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     279: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     282: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     287: aload_1
     288: invokevirtual #194                // Method org/apache/zookeeper/server/ServerCnxn.enableRecv:()V
     291: goto          310
     294: astore_3
     295: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     298: ldc           #195                // String Exception while establishing session, closing
     300: aload_3
     301: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     306: aload_1
     307: invokevirtual #196                // Method org/apache/zookeeper/server/ServerCnxn.close:()V
     310: return
    Exception table:
       from    to  target type
           0    12    15   Class java/lang/Exception
          27   291   294   Class java/lang/Exception

  public void closeSession(org.apache.zookeeper.server.ServerCnxn, org.apache.zookeeper.proto.RequestHeader);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
       5: invokevirtual #197                // Method closeSession:(J)V
       8: return

  public long getServerId();
    Code:
       0: lconst_0
       1: lreturn

  private void submitRequest(org.apache.zookeeper.server.ServerCnxn, long, int, int, java.nio.ByteBuffer, java.util.List<org.apache.zookeeper.data.Id>);
    Code:
       0: new           #198                // class org/apache/zookeeper/server/Request
       3: dup
       4: aload_1
       5: lload_2
       6: iload         5
       8: iload         4
      10: aload         6
      12: aload         7
      14: invokespecial #199                // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
      17: astore        8
      19: aload_0
      20: aload         8
      22: invokevirtual #200                // Method submitRequest:(Lorg/apache/zookeeper/server/Request;)V
      25: return

  public void submitRequest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_0
       1: getfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
       4: ifnonnull     72
       7: aload_0
       8: dup
       9: astore_2
      10: monitorenter
      11: aload_0
      12: getfield      #127                // Field running:Z
      15: ifne          28
      18: aload_0
      19: ldc2_w        #201                // long 1000l
      22: invokevirtual #203                // Method java/lang/Object.wait:(J)V
      25: goto          11
      28: goto          43
      31: astore_3
      32: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      35: ldc           #205                // String Unexpected interruption
      37: aload_3
      38: invokeinterface #121,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      43: aload_0
      44: getfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      47: ifnonnull     60
      50: new           #206                // class java/lang/RuntimeException
      53: dup
      54: ldc           #207                // String Not started
      56: invokespecial #208                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      59: athrow
      60: aload_2
      61: monitorexit
      62: goto          72
      65: astore        4
      67: aload_2
      68: monitorexit
      69: aload         4
      71: athrow
      72: aload_0
      73: aload_1
      74: getfield      #209                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
      77: invokevirtual #210                // Method touch:(Lorg/apache/zookeeper/server/ServerCnxn;)V
      80: aload_1
      81: getfield      #211                // Field org/apache/zookeeper/server/Request.type:I
      84: invokestatic  #212                // Method org/apache/zookeeper/server/Request.isValid:(I)Z
      87: istore_2
      88: iload_2
      89: ifeq          116
      92: aload_0
      93: getfield      #136                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      96: aload_1
      97: invokeinterface #213,  2          // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     102: aload_1
     103: getfield      #209                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     106: ifnull        157
     109: aload_0
     110: invokevirtual #214                // Method incInProcess:()V
     113: goto          157
     116: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     119: new           #19                 // class java/lang/StringBuilder
     122: dup
     123: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     126: ldc           #215                // String Received packet at server of unknown type
     128: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: aload_1
     132: getfield      #211                // Field org/apache/zookeeper/server/Request.type:I
     135: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     138: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     141: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     146: new           #217                // class org/apache/zookeeper/server/UnimplementedRequestProcessor
     149: dup
     150: invokespecial #218                // Method org/apache/zookeeper/server/UnimplementedRequestProcessor."<init>":()V
     153: aload_1
     154: invokevirtual #219                // Method org/apache/zookeeper/server/UnimplementedRequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     157: goto          237
     160: astore_2
     161: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     164: invokeinterface #220,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     169: ifeq          202
     172: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     175: new           #19                 // class java/lang/StringBuilder
     178: dup
     179: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     182: ldc           #221                // String Dropping request:
     184: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     187: aload_2
     188: invokevirtual #222                // Method org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException.getMessage:()Ljava/lang/String;
     191: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     194: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     197: invokeinterface #223,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     202: goto          237
     205: astore_2
     206: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     209: new           #19                 // class java/lang/StringBuilder
     212: dup
     213: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     216: ldc           #225                // String Unable to process request:
     218: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     221: aload_2
     222: invokevirtual #226                // Method org/apache/zookeeper/server/RequestProcessor$RequestProcessorException.getMessage:()Ljava/lang/String;
     225: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     228: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     231: aload_2
     232: invokeinterface #84,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     237: return
    Exception table:
       from    to  target type
          11    28    31   Class java/lang/InterruptedException
          11    62    65   any
          65    69    65   any
          72   157   160   Class org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException
          72   157   205   Class org/apache/zookeeper/server/RequestProcessor$RequestProcessorException

  public static int getSnapCount();
    Code:
       0: ldc           #227                // String zookeeper.snapCount
       2: invokestatic  #228                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       5: astore_0
       6: aload_0
       7: invokestatic  #229                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      10: istore_1
      11: iload_1
      12: iconst_2
      13: if_icmpge     28
      16: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      19: ldc           #230                // String SnapCount should be 2 or more. Now, snapCount is reset to 2
      21: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      26: iconst_2
      27: istore_1
      28: iload_1
      29: ireturn
      30: astore_1
      31: ldc           #231                // int 100000
      33: ireturn
    Exception table:
       from    to  target type
           6    29    30   Class java/lang/Exception

  public int getGlobalOutstandingLimit();
    Code:
       0: ldc           #232                // String zookeeper.globalOutstandingLimit
       2: invokestatic  #228                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       5: astore_1
       6: aload_1
       7: invokestatic  #229                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      10: istore_2
      11: goto          19
      14: astore_3
      15: sipush        1000
      18: istore_2
      19: iload_2
      20: ireturn
    Exception table:
       from    to  target type
           6    11    14   Class java/lang/Exception

  public void setServerCnxnFactory(org.apache.zookeeper.server.ServerCnxnFactory);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       5: return

  public org.apache.zookeeper.server.ServerCnxnFactory getServerCnxnFactory();
    Code:
       0: aload_0
       1: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: areturn

  public long getLastProcessedZxid();
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: invokevirtual #63                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
       7: lreturn

  public long getOutstandingRequests();
    Code:
       0: aload_0
       1: invokevirtual #233                // Method getInProcess:()I
       4: i2l
       5: lreturn

  public void truncateLog(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: lload_1
       5: invokevirtual #234                // Method org/apache/zookeeper/server/ZKDatabase.truncateLog:(J)Z
       8: pop
       9: return

  public int getTickTime();
    Code:
       0: aload_0
       1: getfield      #4                  // Field tickTime:I
       4: ireturn

  public void setTickTime(int);
    Code:
       0: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       3: new           #19                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #235                // String tickTime set to
      12: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: iload_1
      16: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      19: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      27: aload_0
      28: iload_1
      29: putfield      #4                  // Field tickTime:I
      32: return

  public int getMinSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #5                  // Field minSessionTimeout:I
       4: iconst_m1
       5: if_icmpne     17
       8: aload_0
       9: getfield      #4                  // Field tickTime:I
      12: iconst_2
      13: imul
      14: goto          21
      17: aload_0
      18: getfield      #5                  // Field minSessionTimeout:I
      21: ireturn

  public void setMinSessionTimeout(int);
    Code:
       0: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       3: new           #19                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #236                // String minSessionTimeout set to
      12: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: iload_1
      16: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      19: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      27: aload_0
      28: iload_1
      29: putfield      #5                  // Field minSessionTimeout:I
      32: return

  public int getMaxSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #6                  // Field maxSessionTimeout:I
       4: iconst_m1
       5: if_icmpne     18
       8: aload_0
       9: getfield      #4                  // Field tickTime:I
      12: bipush        20
      14: imul
      15: goto          22
      18: aload_0
      19: getfield      #6                  // Field maxSessionTimeout:I
      22: ireturn

  public void setMaxSessionTimeout(int);
    Code:
       0: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       3: new           #19                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #237                // String maxSessionTimeout set to
      12: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: iload_1
      16: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      19: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      27: aload_0
      28: iload_1
      29: putfield      #6                  // Field maxSessionTimeout:I
      32: return

  public int getClientPort();
    Code:
       0: aload_0
       1: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: ifnull        17
       7: aload_0
       8: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      11: invokevirtual #238                // Method org/apache/zookeeper/server/ServerCnxnFactory.getLocalPort:()I
      14: goto          18
      17: iconst_m1
      18: ireturn

  public void setTxnLogFactory(org.apache.zookeeper.server.persistence.FileTxnSnapLog);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       5: return

  public org.apache.zookeeper.server.persistence.FileTxnSnapLog getTxnLogFactory();
    Code:
       0: aload_0
       1: getfield      #7                  // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       4: areturn

  public java.lang.String getState();
    Code:
       0: ldc           #239                // String standalone
       2: areturn

  public void dumpEphemerals(java.io.PrintWriter);
    Code:
       0: aload_0
       1: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: aload_1
       5: invokevirtual #240                // Method org/apache/zookeeper/server/ZKDatabase.dumpEphemerals:(Ljava/io/PrintWriter;)V
       8: return

  public int getNumAliveConnections();
    Code:
       0: aload_0
       1: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: invokevirtual #241                // Method org/apache/zookeeper/server/ServerCnxnFactory.getNumAliveConnections:()I
       7: ireturn

  public void processConnectRequest(org.apache.zookeeper.server.ServerCnxn, java.nio.ByteBuffer) throws java.io.IOException;
    Code:
       0: new           #242                // class org/apache/zookeeper/server/ByteBufferInputStream
       3: dup
       4: aload_2
       5: invokespecial #243                // Method org/apache/zookeeper/server/ByteBufferInputStream."<init>":(Ljava/nio/ByteBuffer;)V
       8: invokestatic  #244                // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      11: astore_3
      12: new           #245                // class org/apache/zookeeper/proto/ConnectRequest
      15: dup
      16: invokespecial #246                // Method org/apache/zookeeper/proto/ConnectRequest."<init>":()V
      19: astore        4
      21: aload         4
      23: aload_3
      24: ldc           #175                // String connect
      26: invokevirtual #247                // Method org/apache/zookeeper/proto/ConnectRequest.deserialize:(Lorg/apache/jute/InputArchive;Ljava/lang/String;)V
      29: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      32: invokeinterface #220,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      37: ifeq          86
      40: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      43: new           #19                 // class java/lang/StringBuilder
      46: dup
      47: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      50: ldc           #248                // String Session establishment request from client
      52: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_1
      56: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
      59: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      62: ldc           #249                // String  client\'s lastZxid is 0x
      64: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: aload         4
      69: invokevirtual #250                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
      72: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      75: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      81: invokeinterface #223,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      86: iconst_0
      87: istore        5
      89: aload_3
      90: ldc           #179                // String readOnly
      92: invokevirtual #251                // Method org/apache/jute/BinaryInputArchive.readBool:(Ljava/lang/String;)Z
      95: istore        5
      97: aload_1
      98: iconst_0
      99: putfield      #177                // Field org/apache/zookeeper/server/ServerCnxn.isOldClient:Z
     102: goto          142
     105: astore        6
     107: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     110: new           #19                 // class java/lang/StringBuilder
     113: dup
     114: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     117: ldc           #252                // String Connection request from old client
     119: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: aload_1
     123: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     126: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     129: ldc           #253                // String ; will be dropped if server is in r-o mode
     131: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     137: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     142: iload         5
     144: ifne          198
     147: aload_0
     148: instanceof    #178                // class org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer
     151: ifeq          198
     154: new           #19                 // class java/lang/StringBuilder
     157: dup
     158: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     161: ldc           #254                // String Refusing session request for not-read-only client
     163: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: aload_1
     167: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     170: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     173: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     176: astore        6
     178: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     181: aload         6
     183: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     188: new           #255                // class org/apache/zookeeper/server/ServerCnxn$CloseRequestException
     191: dup
     192: aload         6
     194: invokespecial #256                // Method org/apache/zookeeper/server/ServerCnxn$CloseRequestException."<init>":(Ljava/lang/String;)V
     197: athrow
     198: aload         4
     200: invokevirtual #250                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
     203: aload_0
     204: getfield      #1                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     207: getfield      #257                // Field org/apache/zookeeper/server/ZKDatabase.dataTree:Lorg/apache/zookeeper/server/DataTree;
     210: getfield      #258                // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
     213: lcmp
     214: ifle          304
     217: new           #19                 // class java/lang/StringBuilder
     220: dup
     221: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     224: ldc_w         #259                // String Refusing session request for client
     227: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     230: aload_1
     231: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     234: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     237: ldc_w         #260                // String  as it has seen zxid 0x
     240: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     243: aload         4
     245: invokevirtual #250                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
     248: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     251: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     254: ldc_w         #261                // String  our last zxid is 0x
     257: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     260: aload_0
     261: invokevirtual #262                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     264: invokevirtual #63                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
     267: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     270: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     273: ldc_w         #263                // String  client must try another server
     276: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     282: astore        6
     284: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     287: aload         6
     289: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     294: new           #255                // class org/apache/zookeeper/server/ServerCnxn$CloseRequestException
     297: dup
     298: aload         6
     300: invokespecial #256                // Method org/apache/zookeeper/server/ServerCnxn$CloseRequestException."<init>":(Ljava/lang/String;)V
     303: athrow
     304: aload         4
     306: invokevirtual #264                // Method org/apache/zookeeper/proto/ConnectRequest.getTimeOut:()I
     309: istore        6
     311: aload         4
     313: invokevirtual #265                // Method org/apache/zookeeper/proto/ConnectRequest.getPasswd:()[B
     316: astore        7
     318: aload_0
     319: invokevirtual #25                 // Method getMinSessionTimeout:()I
     322: istore        8
     324: iload         6
     326: iload         8
     328: if_icmpge     335
     331: iload         8
     333: istore        6
     335: aload_0
     336: invokevirtual #27                 // Method getMaxSessionTimeout:()I
     339: istore        9
     341: iload         6
     343: iload         9
     345: if_icmple     352
     348: iload         9
     350: istore        6
     352: aload_1
     353: iload         6
     355: invokevirtual #266                // Method org/apache/zookeeper/server/ServerCnxn.setSessionTimeout:(I)V
     358: aload_1
     359: invokevirtual #267                // Method org/apache/zookeeper/server/ServerCnxn.disableRecv:()V
     362: aload         4
     364: invokevirtual #268                // Method org/apache/zookeeper/proto/ConnectRequest.getSessionId:()J
     367: lstore        10
     369: lload         10
     371: lconst_0
     372: lcmp
     373: ifeq          457
     376: aload         4
     378: invokevirtual #268                // Method org/apache/zookeeper/proto/ConnectRequest.getSessionId:()J
     381: lstore        12
     383: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     386: new           #19                 // class java/lang/StringBuilder
     389: dup
     390: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     393: ldc_w         #269                // String Client attempting to renew session 0x
     396: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     399: lload         12
     401: invokestatic  #89                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     404: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     407: ldc_w         #270                // String  at
     410: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     413: aload_1
     414: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     417: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     420: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     423: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     428: aload_0
     429: getfield      #50                 // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
     432: lload         10
     434: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxnFactory.closeSession:(J)V
     437: aload_1
     438: lload         10
     440: invokevirtual #159                // Method org/apache/zookeeper/server/ServerCnxn.setSessionId:(J)V
     443: aload_0
     444: aload_1
     445: lload         10
     447: aload         7
     449: iload         6
     451: invokevirtual #272                // Method reopenSession:(Lorg/apache/zookeeper/server/ServerCnxn;J[BI)V
     454: goto          498
     457: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     460: new           #19                 // class java/lang/StringBuilder
     463: dup
     464: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     467: ldc_w         #273                // String Client attempting to establish new session at
     470: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     473: aload_1
     474: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     477: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     480: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     483: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     488: aload_0
     489: aload_1
     490: aload         7
     492: iload         6
     494: invokevirtual #274                // Method createSession:(Lorg/apache/zookeeper/server/ServerCnxn;[BI)J
     497: pop2
     498: return
    Exception table:
       from    to  target type
          89   102   105   Class java/io/IOException

  public boolean shouldThrottle(long);
    Code:
       0: aload_0
       1: invokevirtual #275                // Method getGlobalOutstandingLimit:()I
       4: aload_0
       5: invokevirtual #233                // Method getInProcess:()I
       8: if_icmpge     23
      11: lload_1
      12: lconst_0
      13: lcmp
      14: ifle          21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn
      23: iconst_0
      24: ireturn

  public void processPacket(org.apache.zookeeper.server.ServerCnxn, java.nio.ByteBuffer) throws java.io.IOException;
    Code:
       0: new           #242                // class org/apache/zookeeper/server/ByteBufferInputStream
       3: dup
       4: aload_2
       5: invokespecial #243                // Method org/apache/zookeeper/server/ByteBufferInputStream."<init>":(Ljava/nio/ByteBuffer;)V
       8: astore_3
       9: aload_3
      10: invokestatic  #244                // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      13: astore        4
      15: new           #276                // class org/apache/zookeeper/proto/RequestHeader
      18: dup
      19: invokespecial #277                // Method org/apache/zookeeper/proto/RequestHeader."<init>":()V
      22: astore        5
      24: aload         5
      26: aload         4
      28: ldc_w         #278                // String header
      31: invokevirtual #279                // Method org/apache/zookeeper/proto/RequestHeader.deserialize:(Lorg/apache/jute/InputArchive;Ljava/lang/String;)V
      34: aload_2
      35: invokevirtual #280                // Method java/nio/ByteBuffer.slice:()Ljava/nio/ByteBuffer;
      38: astore_2
      39: aload         5
      41: invokevirtual #281                // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
      44: bipush        100
      46: if_icmpne     414
      49: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      52: new           #19                 // class java/lang/StringBuilder
      55: dup
      56: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      59: ldc_w         #282                // String got auth packet
      62: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: aload_1
      66: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
      69: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      72: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      80: new           #283                // class org/apache/zookeeper/proto/AuthPacket
      83: dup
      84: invokespecial #284                // Method org/apache/zookeeper/proto/AuthPacket."<init>":()V
      87: astore        6
      89: aload_2
      90: aload         6
      92: invokestatic  #285                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
      95: aload         6
      97: invokevirtual #286                // Method org/apache/zookeeper/proto/AuthPacket.getScheme:()Ljava/lang/String;
     100: astore        7
     102: aload         7
     104: invokestatic  #287                // Method org/apache/zookeeper/server/auth/ProviderRegistry.getProvider:(Ljava/lang/String;)Lorg/apache/zookeeper/server/auth/AuthenticationProvider;
     107: astore        8
     109: getstatic     #288                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     112: astore        9
     114: aload         8
     116: ifnull        184
     119: aload         8
     121: aload_1
     122: aload         6
     124: invokevirtual #289                // Method org/apache/zookeeper/proto/AuthPacket.getAuth:()[B
     127: invokeinterface #290,  3          // InterfaceMethod org/apache/zookeeper/server/auth/AuthenticationProvider.handleAuthentication:(Lorg/apache/zookeeper/server/ServerCnxn;[B)Lorg/apache/zookeeper/KeeperException$Code;
     132: astore        9
     134: goto          184
     137: astore        10
     139: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     142: new           #19                 // class java/lang/StringBuilder
     145: dup
     146: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     149: ldc_w         #291                // String Caught runtime exception from AuthenticationProvider:
     152: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: aload         7
     157: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     160: ldc_w         #292                // String  due to
     163: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: aload         10
     168: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     171: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     174: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     179: getstatic     #288                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     182: astore        9
     184: aload         9
     186: getstatic     #293                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     189: if_acmpeq     313
     192: aload         8
     194: ifnonnull     241
     197: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     200: new           #19                 // class java/lang/StringBuilder
     203: dup
     204: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     207: ldc_w         #294                // String No authentication provider for scheme:
     210: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     213: aload         7
     215: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     218: ldc_w         #295                // String  has
     221: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: invokestatic  #296                // Method org/apache/zookeeper/server/auth/ProviderRegistry.listProviders:()Ljava/lang/String;
     227: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     230: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     233: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     238: goto          270
     241: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     244: new           #19                 // class java/lang/StringBuilder
     247: dup
     248: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     251: ldc_w         #297                // String Authentication failed for scheme:
     254: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     257: aload         7
     259: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     262: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     265: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     270: new           #298                // class org/apache/zookeeper/proto/ReplyHeader
     273: dup
     274: aload         5
     276: invokevirtual #299                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     279: lconst_0
     280: getstatic     #288                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     283: invokevirtual #300                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     286: invokespecial #301                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     289: astore        10
     291: aload_1
     292: aload         10
     294: aconst_null
     295: aconst_null
     296: invokevirtual #302                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     299: aload_1
     300: getstatic     #191                // Field org/apache/zookeeper/server/ServerCnxnFactory.closeConn:Ljava/nio/ByteBuffer;
     303: invokevirtual #186                // Method org/apache/zookeeper/server/ServerCnxn.sendBuffer:(Ljava/nio/ByteBuffer;)V
     306: aload_1
     307: invokevirtual #267                // Method org/apache/zookeeper/server/ServerCnxn.disableRecv:()V
     310: goto          413
     313: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     316: invokeinterface #220,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     321: ifeq          353
     324: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     327: new           #19                 // class java/lang/StringBuilder
     330: dup
     331: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     334: ldc_w         #303                // String Authentication succeeded for scheme:
     337: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     340: aload         7
     342: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     345: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     348: invokeinterface #223,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     353: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     356: new           #19                 // class java/lang/StringBuilder
     359: dup
     360: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     363: ldc_w         #304                // String auth success
     366: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     369: aload_1
     370: invokevirtual #189                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     373: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     376: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     379: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     384: new           #298                // class org/apache/zookeeper/proto/ReplyHeader
     387: dup
     388: aload         5
     390: invokevirtual #299                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     393: lconst_0
     394: getstatic     #293                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     397: invokevirtual #300                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     400: invokespecial #301                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     403: astore        10
     405: aload_1
     406: aload         10
     408: aconst_null
     409: aconst_null
     410: invokevirtual #302                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     413: return
     414: aload         5
     416: invokevirtual #281                // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     419: bipush        102
     421: if_icmpne     467
     424: aload_0
     425: aload_2
     426: aload_1
     427: invokespecial #305                // Method processSasl:(Ljava/nio/ByteBuffer;Lorg/apache/zookeeper/server/ServerCnxn;)Lorg/apache/jute/Record;
     430: astore        6
     432: new           #298                // class org/apache/zookeeper/proto/ReplyHeader
     435: dup
     436: aload         5
     438: invokevirtual #299                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     441: lconst_0
     442: getstatic     #293                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     445: invokevirtual #300                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     448: invokespecial #301                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     451: astore        7
     453: aload_1
     454: aload         7
     456: aload         6
     458: ldc_w         #306                // String response
     461: invokevirtual #302                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     464: goto          510
     467: new           #198                // class org/apache/zookeeper/server/Request
     470: dup
     471: aload_1
     472: aload_1
     473: invokevirtual #104                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     476: aload         5
     478: invokevirtual #299                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     481: aload         5
     483: invokevirtual #281                // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     486: aload_2
     487: aload_1
     488: invokevirtual #307                // Method org/apache/zookeeper/server/ServerCnxn.getAuthInfo:()Ljava/util/List;
     491: invokespecial #199                // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
     494: astore        6
     496: aload         6
     498: getstatic     #308                // Field org/apache/zookeeper/server/ServerCnxn.me:Ljava/lang/Object;
     501: invokevirtual #309                // Method org/apache/zookeeper/server/Request.setOwner:(Ljava/lang/Object;)V
     504: aload_0
     505: aload         6
     507: invokevirtual #200                // Method submitRequest:(Lorg/apache/zookeeper/server/Request;)V
     510: aload_1
     511: aload         5
     513: invokevirtual #310                // Method org/apache/zookeeper/server/ServerCnxn.incrOutstandingRequests:(Lorg/apache/zookeeper/proto/RequestHeader;)V
     516: return
    Exception table:
       from    to  target type
         119   134   137   Class java/lang/RuntimeException

  private org.apache.jute.Record processSasl(java.nio.ByteBuffer, org.apache.zookeeper.server.ServerCnxn) throws java.io.IOException;
    Code:
       0: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #311                // String Responding to client SASL token.
       6: invokeinterface #223,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      11: new           #312                // class org/apache/zookeeper/proto/GetSASLRequest
      14: dup
      15: invokespecial #313                // Method org/apache/zookeeper/proto/GetSASLRequest."<init>":()V
      18: astore_3
      19: aload_1
      20: aload_3
      21: invokestatic  #285                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
      24: aload_3
      25: invokevirtual #314                // Method org/apache/zookeeper/proto/GetSASLRequest.getToken:()[B
      28: astore        4
      30: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      33: new           #19                 // class java/lang/StringBuilder
      36: dup
      37: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      40: ldc_w         #315                // String Size of client SASL token:
      43: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload         4
      48: arraylength
      49: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      52: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: invokeinterface #223,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      60: aconst_null
      61: astore        5
      63: aload_2
      64: getfield      #316                // Field org/apache/zookeeper/server/ServerCnxn.zooKeeperSaslServer:Lorg/apache/zookeeper/server/ZooKeeperSaslServer;
      67: astore        6
      69: aload         6
      71: aload         4
      73: invokevirtual #317                // Method org/apache/zookeeper/server/ZooKeeperSaslServer.evaluateResponse:([B)[B
      76: astore        5
      78: aload         6
      80: invokevirtual #318                // Method org/apache/zookeeper/server/ZooKeeperSaslServer.isComplete:()Z
      83: iconst_1
      84: if_icmpne     139
      87: aload         6
      89: invokevirtual #319                // Method org/apache/zookeeper/server/ZooKeeperSaslServer.getAuthorizationID:()Ljava/lang/String;
      92: astore        7
      94: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      97: new           #19                 // class java/lang/StringBuilder
     100: dup
     101: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     104: ldc_w         #320                // String adding SASL authorization for authorizationID:
     107: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: aload         7
     112: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     118: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     123: aload_2
     124: new           #321                // class org/apache/zookeeper/data/Id
     127: dup
     128: ldc_w         #322                // String sasl
     131: aload         7
     133: invokespecial #323                // Method org/apache/zookeeper/data/Id."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     136: invokevirtual #324                // Method org/apache/zookeeper/server/ServerCnxn.addAuthInfo:(Lorg/apache/zookeeper/data/Id;)V
     139: goto          226
     142: astore        7
     144: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     147: new           #19                 // class java/lang/StringBuilder
     150: dup
     151: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     154: ldc_w         #326                // String Client failed to SASL authenticate:
     157: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     160: aload         7
     162: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     165: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     168: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     173: ldc_w         #327                // String zookeeper.allowSaslFailedClients
     176: invokestatic  #228                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     179: ifnull        211
     182: ldc_w         #327                // String zookeeper.allowSaslFailedClients
     185: invokestatic  #228                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     188: ldc_w         #328                // String true
     191: invokevirtual #329                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     194: ifeq          211
     197: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     200: ldc_w         #330                // String Maintaining client connection despite SASL authentication failure.
     203: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     208: goto          226
     211: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     214: ldc_w         #331                // String Closing client connection due to SASL authentication failure.
     217: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     222: aload_2
     223: invokevirtual #196                // Method org/apache/zookeeper/server/ServerCnxn.close:()V
     226: goto          242
     229: astore        6
     231: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     234: ldc_w         #333                // String cnxn.saslServer is null: cnxn object did not initialize its saslServer properly.
     237: invokeinterface #334,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     242: aload         5
     244: ifnull        277
     247: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
     250: new           #19                 // class java/lang/StringBuilder
     253: dup
     254: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     257: ldc_w         #335                // String Size of server SASL response:
     260: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     263: aload         5
     265: arraylength
     266: invokevirtual #23                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     269: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     272: invokeinterface #223,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     277: new           #336                // class org/apache/zookeeper/proto/SetSASLResponse
     280: dup
     281: aload         5
     283: invokespecial #337                // Method org/apache/zookeeper/proto/SetSASLResponse."<init>":([B)V
     286: areturn
    Exception table:
       from    to  target type
          69   139   142   Class javax/security/sasl/SaslException
          63   226   229   Class java/lang/NullPointerException

  public org.apache.zookeeper.server.DataTree$ProcessTxnResult processTxn(org.apache.zookeeper.txn.TxnHeader, org.apache.jute.Record);
    Code:
       0: aload_1
       1: invokevirtual #338                // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
       4: istore        4
       6: aload_1
       7: invokevirtual #339                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
      10: lstore        5
      12: aload_0
      13: invokevirtual #262                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      16: aload_1
      17: aload_2
      18: invokevirtual #340                // Method org/apache/zookeeper/server/ZKDatabase.processTxn:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
      21: astore_3
      22: iload         4
      24: bipush        -10
      26: if_icmpne     108
      29: aload_2
      30: instanceof    #341                // class org/apache/zookeeper/txn/CreateSessionTxn
      33: ifeq          61
      36: aload_2
      37: checkcast     #341                // class org/apache/zookeeper/txn/CreateSessionTxn
      40: astore        7
      42: aload_0
      43: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      46: lload         5
      48: aload         7
      50: invokevirtual #342                // Method org/apache/zookeeper/txn/CreateSessionTxn.getTimeOut:()I
      53: invokeinterface #343,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.addSession:(JI)V
      58: goto          126
      61: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      64: new           #19                 // class java/lang/StringBuilder
      67: dup
      68: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      71: ldc_w         #344                // String *****>>>>> Got
      74: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload_2
      78: invokevirtual #345                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      81: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      84: ldc_w         #346                // String
      87: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: aload_2
      91: invokevirtual #347                // Method java/lang/Object.toString:()Ljava/lang/String;
      94: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: invokeinterface #216,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     105: goto          126
     108: iload         4
     110: bipush        -11
     112: if_icmpne     126
     115: aload_0
     116: getfield      #97                 // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
     119: lload         5
     121: invokeinterface #98,  3           // InterfaceMethod org/apache/zookeeper/server/SessionTracker.removeSession:(J)V
     126: aload_3
     127: areturn

  static {};
    Code:
       0: ldc_w         #348                // class org/apache/zookeeper/server/ZooKeeperServer
       3: invokestatic  #349                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
       9: ldc_w         #350                // String Server environment:
      12: getstatic     #18                 // Field LOG:Lorg/slf4j/Logger;
      15: invokestatic  #351                // Method org/apache/zookeeper/Environment.logEnv:(Ljava/lang/String;Lorg/slf4j/Logger;)V
      18: new           #119                // class java/lang/Exception
      21: dup
      22: ldc_w         #352                // String No prob
      25: invokespecial #353                // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
      28: putstatic     #354                // Field ok:Ljava/lang/Exception;
      31: return
}
