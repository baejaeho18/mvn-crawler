Compiled from "LearnerHandler.java"
public class org.apache.zookeeper.server.quorum.LearnerHandler extends java.lang.Thread {
  private static final org.slf4j.Logger LOG;

  protected final java.net.Socket sock;

  final org.apache.zookeeper.server.quorum.Leader leader;

  volatile long tickOfNextAckDeadline;

  protected long sid;

  protected int version;

  final java.util.concurrent.LinkedBlockingQueue<org.apache.zookeeper.server.quorum.QuorumPacket> queuedPackets;

  private org.apache.zookeeper.server.quorum.LearnerHandler$SyncLimitCheck syncLimitCheck;

  private org.apache.jute.BinaryInputArchive ia;

  private org.apache.jute.BinaryOutputArchive oa;

  private java.io.BufferedOutputStream bufferedOutput;

  final org.apache.zookeeper.server.quorum.QuorumPacket proposalOfDeath;

  private org.apache.zookeeper.server.quorum.QuorumPeer$LearnerType learnerType;

  public java.net.Socket getSocket();
    Code:
       0: aload_0
       1: getfield      #3                  // Field sock:Ljava/net/Socket;
       4: areturn

  long getSid();
    Code:
       0: aload_0
       1: getfield      #4                  // Field sid:J
       4: lreturn

  int getVersion();
    Code:
       0: aload_0
       1: getfield      #5                  // Field version:I
       4: ireturn

  org.apache.zookeeper.server.quorum.LearnerHandler(java.net.Socket, org.apache.zookeeper.server.quorum.Leader) throws java.io.IOException;
    Code:
       0: aload_0
       1: new           #6                  // class java/lang/StringBuilder
       4: dup
       5: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #8                  // String LearnerHandler-
      10: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: invokevirtual #10                 // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      17: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      20: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: invokespecial #13                 // Method java/lang/Thread."<init>":(Ljava/lang/String;)V
      26: aload_0
      27: lconst_0
      28: putfield      #4                  // Field sid:J
      31: aload_0
      32: iconst_1
      33: putfield      #5                  // Field version:I
      36: aload_0
      37: new           #14                 // class java/util/concurrent/LinkedBlockingQueue
      40: dup
      41: invokespecial #15                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":()V
      44: putfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      47: aload_0
      48: new           #17                 // class org/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck
      51: dup
      52: aload_0
      53: aconst_null
      54: invokespecial #18                 // Method org/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck."<init>":(Lorg/apache/zookeeper/server/quorum/LearnerHandler;Lorg/apache/zookeeper/server/quorum/LearnerHandler$1;)V
      57: putfield      #19                 // Field syncLimitCheck:Lorg/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck;
      60: aload_0
      61: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      64: dup
      65: invokespecial #21                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
      68: putfield      #22                 // Field proposalOfDeath:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
      71: aload_0
      72: getstatic     #23                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.PARTICIPANT:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      75: putfield      #24                 // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      78: aload_0
      79: aload_1
      80: putfield      #3                  // Field sock:Ljava/net/Socket;
      83: aload_0
      84: aload_2
      85: putfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      88: aload_2
      89: aload_0
      90: invokevirtual #26                 // Method org/apache/zookeeper/server/quorum/Leader.addLearnerHandler:(Lorg/apache/zookeeper/server/quorum/LearnerHandler;)V
      93: return

  public java.lang.String toString();
    Code:
       0: new           #6                  // class java/lang/StringBuilder
       3: dup
       4: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #27                 // String LearnerHandler
      11: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_0
      15: getfield      #3                  // Field sock:Ljava/net/Socket;
      18: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      21: pop
      22: aload_1
      23: ldc           #28                 // String  tickOfNextAckDeadline:
      25: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: invokevirtual #29                 // Method tickOfNextAckDeadline:()J
      32: invokevirtual #30                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      35: pop
      36: aload_1
      37: ldc           #31                 // String  synced?:
      39: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: invokevirtual #32                 // Method synced:()Z
      46: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      49: pop
      50: aload_1
      51: ldc           #34                 // String  queuedPacketLength:
      53: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: aload_0
      57: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      60: invokevirtual #35                 // Method java/util/concurrent/LinkedBlockingQueue.size:()I
      63: invokevirtual #36                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      66: pop
      67: aload_1
      68: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      71: areturn

  public org.apache.zookeeper.server.quorum.QuorumPeer$LearnerType getLearnerType();
    Code:
       0: aload_0
       1: getfield      #24                 // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
       4: areturn

  private void sendPackets() throws java.lang.InterruptedException;
    Code:
       0: ldc2_w        #37                 // long 16l
       3: lstore_1
       4: aload_0
       5: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
       8: invokevirtual #39                 // Method java/util/concurrent/LinkedBlockingQueue.poll:()Ljava/lang/Object;
      11: checkcast     #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      14: astore_3
      15: aload_3
      16: ifnonnull     37
      19: aload_0
      20: getfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
      23: invokevirtual #41                 // Method java/io/BufferedOutputStream.flush:()V
      26: aload_0
      27: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      30: invokevirtual #42                 // Method java/util/concurrent/LinkedBlockingQueue.take:()Ljava/lang/Object;
      33: checkcast     #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      36: astore_3
      37: aload_3
      38: aload_0
      39: getfield      #22                 // Field proposalOfDeath:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
      42: if_acmpne     48
      45: goto          199
      48: aload_3
      49: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
      52: iconst_5
      53: if_icmpne     60
      56: ldc2_w        #44                 // long 128l
      59: lstore_1
      60: aload_3
      61: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
      64: iconst_2
      65: if_icmpne     82
      68: aload_0
      69: getfield      #19                 // Field syncLimitCheck:Lorg/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck;
      72: aload_3
      73: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
      76: invokestatic  #47                 // Method java/lang/System.nanoTime:()J
      79: invokevirtual #48                 // Method org/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck.updateProposal:(JJ)V
      82: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      85: invokeinterface #49,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      90: ifeq          103
      93: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      96: lload_1
      97: bipush        111
      99: aload_3
     100: invokestatic  #50                 // Method org/apache/zookeeper/server/ZooTrace.logQuorumPacket:(Lorg/slf4j/Logger;JCLorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     103: aload_0
     104: getfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
     107: aload_3
     108: ldc           #52                 // String packet
     110: invokevirtual #53                 // Method org/apache/jute/BinaryOutputArchive.writeRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
     113: goto          4
     116: astore_3
     117: aload_0
     118: getfield      #3                  // Field sock:Ljava/net/Socket;
     121: invokevirtual #55                 // Method java/net/Socket.isClosed:()Z
     124: ifne          196
     127: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     130: new           #6                  // class java/lang/StringBuilder
     133: dup
     134: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
     137: ldc           #56                 // String Unexpected exception at
     139: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     142: aload_0
     143: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     146: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     149: aload_3
     150: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     155: aload_0
     156: getfield      #3                  // Field sock:Ljava/net/Socket;
     159: invokevirtual #58                 // Method java/net/Socket.close:()V
     162: goto          196
     165: astore        4
     167: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     170: new           #6                  // class java/lang/StringBuilder
     173: dup
     174: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
     177: ldc           #59                 // String Error closing socket for handler
     179: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: aload_0
     183: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     186: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     189: aload         4
     191: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     196: goto          199
     199: return
    Exception table:
       from    to  target type
           4    45   116   Class java/io/IOException
          48   113   116   Class java/io/IOException
         155   162   165   Class java/io/IOException

  public static java.lang.String packetToString(org.apache.zookeeper.server.quorum.QuorumPacket);
    Code:
       0: aconst_null
       1: areturn

  public void run();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
       5: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       8: getfield      #61                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.tick:I
      11: aload_0
      12: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      15: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      18: getfield      #62                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.initLimit:I
      21: iadd
      22: aload_0
      23: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      26: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      29: getfield      #63                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.syncLimit:I
      32: iadd
      33: i2l
      34: putfield      #64                 // Field tickOfNextAckDeadline:J
      37: aload_0
      38: new           #65                 // class java/io/BufferedInputStream
      41: dup
      42: aload_0
      43: getfield      #3                  // Field sock:Ljava/net/Socket;
      46: invokevirtual #66                 // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
      49: invokespecial #67                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      52: invokestatic  #68                 // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      55: putfield      #69                 // Field ia:Lorg/apache/jute/BinaryInputArchive;
      58: aload_0
      59: new           #70                 // class java/io/BufferedOutputStream
      62: dup
      63: aload_0
      64: getfield      #3                  // Field sock:Ljava/net/Socket;
      67: invokevirtual #71                 // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      70: invokespecial #72                 // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
      73: putfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
      76: aload_0
      77: aload_0
      78: getfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
      81: invokestatic  #73                 // Method org/apache/jute/BinaryOutputArchive.getArchive:(Ljava/io/OutputStream;)Lorg/apache/jute/BinaryOutputArchive;
      84: putfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
      87: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      90: dup
      91: invokespecial #21                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
      94: astore_1
      95: aload_0
      96: getfield      #69                 // Field ia:Lorg/apache/jute/BinaryInputArchive;
      99: aload_1
     100: ldc           #52                 // String packet
     102: invokevirtual #74                 // Method org/apache/jute/BinaryInputArchive.readRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
     105: aload_1
     106: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
     109: bipush        11
     111: if_icmpeq     162
     114: aload_1
     115: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
     118: bipush        16
     120: if_icmpeq     162
     123: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     126: new           #6                  // class java/lang/StringBuilder
     129: dup
     130: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
     133: ldc           #75                 // String First packet
     135: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: aload_1
     139: invokevirtual #76                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.toString:()Ljava/lang/String;
     142: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     145: ldc           #77                 // String  is not FOLLOWERINFO or OBSERVERINFO!
     147: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     153: invokeinterface #78,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     158: jsr           2209
     161: return
     162: aload_1
     163: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
     166: astore_2
     167: aload_2
     168: ifnull        229
     171: aload_2
     172: arraylength
     173: bipush        8
     175: if_icmpne     194
     178: aload_2
     179: invokestatic  #80                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     182: astore_3
     183: aload_0
     184: aload_3
     185: invokevirtual #81                 // Method java/nio/ByteBuffer.getLong:()J
     188: putfield      #4                  // Field sid:J
     191: goto          243
     194: new           #82                 // class org/apache/zookeeper/server/quorum/LearnerInfo
     197: dup
     198: invokespecial #83                 // Method org/apache/zookeeper/server/quorum/LearnerInfo."<init>":()V
     201: astore_3
     202: aload_2
     203: invokestatic  #80                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     206: aload_3
     207: invokestatic  #84                 // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
     210: aload_0
     211: aload_3
     212: invokevirtual #85                 // Method org/apache/zookeeper/server/quorum/LearnerInfo.getServerid:()J
     215: putfield      #4                  // Field sid:J
     218: aload_0
     219: aload_3
     220: invokevirtual #86                 // Method org/apache/zookeeper/server/quorum/LearnerInfo.getProtocolVersion:()I
     223: putfield      #5                  // Field version:I
     226: goto          243
     229: aload_0
     230: aload_0
     231: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     234: getfield      #87                 // Field org/apache/zookeeper/server/quorum/Leader.followerCounter:Ljava/util/concurrent/atomic/AtomicLong;
     237: invokevirtual #88                 // Method java/util/concurrent/atomic/AtomicLong.getAndDecrement:()J
     240: putfield      #4                  // Field sid:J
     243: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     246: new           #6                  // class java/lang/StringBuilder
     249: dup
     250: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
     253: ldc           #89                 // String Follower sid:
     255: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     258: aload_0
     259: getfield      #4                  // Field sid:J
     262: invokevirtual #30                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     265: ldc           #90                 // String  : info :
     267: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     270: aload_0
     271: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     274: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     277: getfield      #91                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.quorumPeers:Ljava/util/Map;
     280: aload_0
     281: getfield      #4                  // Field sid:J
     284: invokestatic  #92                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     287: invokeinterface #93,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     292: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     295: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     298: invokeinterface #94,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     303: aload_1
     304: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
     307: bipush        16
     309: if_icmpne     319
     312: aload_0
     313: getstatic     #95                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.OBSERVER:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
     316: putfield      #24                 // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
     319: aload_1
     320: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     323: invokestatic  #96                 // Method org/apache/zookeeper/server/util/ZxidUtils.getEpochFromZxid:(J)J
     326: lstore_3
     327: aconst_null
     328: astore        7
     330: aload_1
     331: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     334: lstore        8
     336: aload_0
     337: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     340: aload_0
     341: invokevirtual #97                 // Method getSid:()J
     344: lload_3
     345: invokevirtual #98                 // Method org/apache/zookeeper/server/quorum/Leader.getEpochToPropose:(JJ)J
     348: lstore        10
     350: aload_0
     351: invokevirtual #99                 // Method getVersion:()I
     354: ldc           #100                // int 65536
     356: if_icmpge     395
     359: lload         8
     361: invokestatic  #96                 // Method org/apache/zookeeper/server/util/ZxidUtils.getEpochFromZxid:(J)J
     364: lstore        12
     366: new           #101                // class org/apache/zookeeper/server/quorum/StateSummary
     369: dup
     370: lload         12
     372: lload         8
     374: invokespecial #102                // Method org/apache/zookeeper/server/quorum/StateSummary."<init>":(JJ)V
     377: astore        7
     379: aload_0
     380: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     383: aload_0
     384: invokevirtual #97                 // Method getSid:()J
     387: aload         7
     389: invokevirtual #103                // Method org/apache/zookeeper/server/quorum/Leader.waitForEpochAck:(JLorg/apache/zookeeper/server/quorum/StateSummary;)V
     392: goto          557
     395: iconst_4
     396: newarray       byte
     398: astore        12
     400: aload         12
     402: invokestatic  #80                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     405: ldc           #100                // int 65536
     407: invokevirtual #104                // Method java/nio/ByteBuffer.putInt:(I)Ljava/nio/ByteBuffer;
     410: pop
     411: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
     414: dup
     415: bipush        17
     417: lload         10
     419: lconst_0
     420: invokestatic  #105                // Method org/apache/zookeeper/server/util/ZxidUtils.makeZxid:(JJ)J
     423: aload         12
     425: aconst_null
     426: invokespecial #106                // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":(IJ[BLjava/util/List;)V
     429: astore        13
     431: aload_0
     432: getfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
     435: aload         13
     437: ldc           #52                 // String packet
     439: invokevirtual #53                 // Method org/apache/jute/BinaryOutputArchive.writeRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
     442: aload_0
     443: getfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
     446: invokevirtual #41                 // Method java/io/BufferedOutputStream.flush:()V
     449: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
     452: dup
     453: invokespecial #21                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
     456: astore        14
     458: aload_0
     459: getfield      #69                 // Field ia:Lorg/apache/jute/BinaryInputArchive;
     462: aload         14
     464: ldc           #52                 // String packet
     466: invokevirtual #74                 // Method org/apache/jute/BinaryInputArchive.readRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
     469: aload         14
     471: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
     474: bipush        18
     476: if_icmpeq     514
     479: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     482: new           #6                  // class java/lang/StringBuilder
     485: dup
     486: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
     489: aload         14
     491: invokevirtual #76                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.toString:()Ljava/lang/String;
     494: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     497: ldc           #107                // String  is not ACKEPOCH
     499: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     502: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     505: invokeinterface #78,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     510: jsr           2209
     513: return
     514: aload         14
     516: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
     519: invokestatic  #80                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     522: astore        15
     524: new           #101                // class org/apache/zookeeper/server/quorum/StateSummary
     527: dup
     528: aload         15
     530: invokevirtual #108                // Method java/nio/ByteBuffer.getInt:()I
     533: i2l
     534: aload         14
     536: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     539: invokespecial #102                // Method org/apache/zookeeper/server/quorum/StateSummary."<init>":(JJ)V
     542: astore        7
     544: aload_0
     545: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     548: aload_0
     549: invokevirtual #97                 // Method getSid:()J
     552: aload         7
     554: invokevirtual #103                // Method org/apache/zookeeper/server/quorum/Leader.waitForEpochAck:(JLorg/apache/zookeeper/server/quorum/StateSummary;)V
     557: aload         7
     559: invokevirtual #109                // Method org/apache/zookeeper/server/quorum/StateSummary.getLastZxid:()J
     562: lstore        5
     564: bipush        15
     566: istore        12
     568: lconst_0
     569: lstore        13
     571: lconst_0
     572: lstore        15
     574: lload         5
     576: lstore        17
     578: aload_0
     579: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     582: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
     585: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     588: invokevirtual #112                // Method org/apache/zookeeper/server/ZKDatabase.getLogLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     591: astore        19
     593: aload         19
     595: invokevirtual #113                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     598: astore        20
     600: aload         20
     602: invokevirtual #114                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
     605: aload_0
     606: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     609: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
     612: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     615: invokevirtual #115                // Method org/apache/zookeeper/server/ZKDatabase.getmaxCommittedLog:()J
     618: lstore        21
     620: aload_0
     621: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     624: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
     627: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     630: invokevirtual #116                // Method org/apache/zookeeper/server/ZKDatabase.getminCommittedLog:()J
     633: lstore        23
     635: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     638: new           #6                  // class java/lang/StringBuilder
     641: dup
     642: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
     645: ldc           #117                // String Synchronizing with Follower sid:
     647: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     650: aload_0
     651: getfield      #4                  // Field sid:J
     654: invokevirtual #30                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     657: ldc           #118                // String  maxCommittedLog=0x
     659: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     662: lload         21
     664: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     667: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     670: ldc           #120                // String  minCommittedLog=0x
     672: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     675: lload         23
     677: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     680: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     683: ldc           #121                // String  peerLastZxid=0x
     685: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     688: lload         5
     690: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     693: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     696: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     699: invokeinterface #94,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     704: aload_0
     705: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     708: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
     711: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     714: invokevirtual #122                // Method org/apache/zookeeper/server/ZKDatabase.getCommittedLog:()Ljava/util/LinkedList;
     717: astore        25
     719: aload         25
     721: invokevirtual #123                // Method java/util/LinkedList.size:()I
     724: ifeq          967
     727: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     730: ldc           #124                // String proposal size is {}
     732: aload         25
     734: invokevirtual #123                // Method java/util/LinkedList.size:()I
     737: invokestatic  #125                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     740: invokeinterface #126,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     745: lload         21
     747: lload         5
     749: lcmp
     750: iflt          911
     753: lload         23
     755: lload         5
     757: lcmp
     758: ifgt          911
     761: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     764: ldc           #127                // String Sending proposals to follower
     766: invokeinterface #128,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     771: lload         23
     773: lstore        26
     775: iconst_1
     776: istore        28
     778: bipush        13
     780: istore        12
     782: lload         21
     784: lstore        13
     786: aload         25
     788: invokevirtual #129                // Method java/util/LinkedList.iterator:()Ljava/util/Iterator;
     791: astore        29
     793: aload         29
     795: invokeinterface #130,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     800: ifeq          908
     803: aload         29
     805: invokeinterface #131,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     810: checkcast     #132                // class org/apache/zookeeper/server/quorum/Leader$Proposal
     813: astore        30
     815: aload         30
     817: getfield      #133                // Field org/apache/zookeeper/server/quorum/Leader$Proposal.packet:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
     820: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     823: lload         5
     825: lcmp
     826: ifgt          842
     829: aload         30
     831: getfield      #133                // Field org/apache/zookeeper/server/quorum/Leader$Proposal.packet:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
     834: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     837: lstore        26
     839: goto          793
     842: iload         28
     844: ifeq          870
     847: iconst_0
     848: istore        28
     850: lload         26
     852: lload         5
     854: lcmp
     855: ifge          870
     858: bipush        14
     860: istore        12
     862: lload         26
     864: lstore        13
     866: lload         13
     868: lstore        17
     870: aload_0
     871: aload         30
     873: getfield      #133                // Field org/apache/zookeeper/server/quorum/Leader$Proposal.packet:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
     876: invokevirtual #134                // Method queuePacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     879: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
     882: dup
     883: iconst_4
     884: aload         30
     886: getfield      #133                // Field org/apache/zookeeper/server/quorum/Leader$Proposal.packet:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
     889: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     892: aconst_null
     893: aconst_null
     894: invokespecial #106                // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":(IJ[BLjava/util/List;)V
     897: astore        31
     899: aload_0
     900: aload         31
     902: invokevirtual #134                // Method queuePacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     905: goto          793
     908: goto          1022
     911: lload         5
     913: lload         21
     915: lcmp
     916: ifle          954
     919: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     922: ldc           #135                // String Sending TRUNC to follower zxidToSend=0x{} updates=0x{}
     924: lload         21
     926: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     929: lload         17
     931: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     934: invokeinterface #136,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     939: bipush        14
     941: istore        12
     943: lload         21
     945: lstore        13
     947: lload         13
     949: lstore        17
     951: goto          1022
     954: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     957: ldc           #137                // String Unhandled proposal scenario
     959: invokeinterface #138,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     964: goto          1022
     967: lload         5
     969: aload_0
     970: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     973: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
     976: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     979: invokevirtual #139                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
     982: lcmp
     983: ifne          1012
     986: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     989: ldc           #140                // String committedLog is empty but leader and follower are in sync, zxid=0x{}
     991: lload         5
     993: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     996: invokeinterface #126,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
    1001: bipush        13
    1003: istore        12
    1005: lload         5
    1007: lstore        13
    1009: goto          1022
    1012: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1015: ldc           #141                // String proposals is empty
    1017: invokeinterface #128,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
    1022: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1025: new           #6                  // class java/lang/StringBuilder
    1028: dup
    1029: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    1032: ldc           #142                // String Sending
    1034: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1037: iload         12
    1039: invokestatic  #143                // Method org/apache/zookeeper/server/quorum/Leader.getPacketType:(I)Ljava/lang/String;
    1042: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1045: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1048: invokeinterface #94,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
    1053: aload_0
    1054: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1057: aload_0
    1058: lload         17
    1060: invokevirtual #144                // Method org/apache/zookeeper/server/quorum/Leader.startForwarding:(Lorg/apache/zookeeper/server/quorum/LearnerHandler;J)J
    1063: lstore        15
    1065: jsr           1079
    1068: goto          1088
    1071: astore        32
    1073: jsr           1079
    1076: aload         32
    1078: athrow
    1079: astore        33
    1081: aload         20
    1083: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
    1086: ret           33
    1088: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
    1091: dup
    1092: bipush        10
    1094: lload         10
    1096: lconst_0
    1097: invokestatic  #105                // Method org/apache/zookeeper/server/util/ZxidUtils.makeZxid:(JJ)J
    1100: aconst_null
    1101: aconst_null
    1102: invokespecial #106                // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":(IJ[BLjava/util/List;)V
    1105: astore        21
    1107: aload_0
    1108: invokevirtual #99                 // Method getVersion:()I
    1111: ldc           #100                // int 65536
    1113: if_icmpge     1130
    1116: aload_0
    1117: getfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
    1120: aload         21
    1122: ldc           #52                 // String packet
    1124: invokevirtual #53                 // Method org/apache/jute/BinaryOutputArchive.writeRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
    1127: goto          1140
    1130: aload_0
    1131: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
    1134: aload         21
    1136: invokevirtual #146                // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
    1139: pop
    1140: aload_0
    1141: getfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
    1144: invokevirtual #41                 // Method java/io/BufferedOutputStream.flush:()V
    1147: iload         12
    1149: bipush        15
    1151: if_icmpne     1169
    1154: aload_0
    1155: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1158: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1161: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
    1164: invokevirtual #139                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
    1167: lstore        13
    1169: aload_0
    1170: getfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
    1173: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
    1176: dup
    1177: iload         12
    1179: lload         13
    1181: aconst_null
    1182: aconst_null
    1183: invokespecial #106                // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":(IJ[BLjava/util/List;)V
    1186: ldc           #52                 // String packet
    1188: invokevirtual #53                 // Method org/apache/jute/BinaryOutputArchive.writeRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
    1191: aload_0
    1192: getfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
    1195: invokevirtual #41                 // Method java/io/BufferedOutputStream.flush:()V
    1198: iload         12
    1200: bipush        15
    1202: if_icmpne     1295
    1205: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1208: new           #6                  // class java/lang/StringBuilder
    1211: dup
    1212: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    1215: ldc           #147                // String Sending snapshot last zxid of peer is 0x
    1217: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1220: lload         5
    1222: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
    1225: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1228: ldc           #148                // String
    1230: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1233: ldc           #149                // String  zxid of leader is 0x
    1235: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1238: lload         15
    1240: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
    1243: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1246: ldc           #150                // String sent zxid of db as 0x
    1248: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1251: lload         13
    1253: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
    1256: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1259: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1262: invokeinterface #94,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
    1267: aload_0
    1268: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1271: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1274: invokevirtual #111                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
    1277: aload_0
    1278: getfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
    1281: invokevirtual #151                // Method org/apache/zookeeper/server/ZKDatabase.serializeSnapshot:(Lorg/apache/jute/OutputArchive;)V
    1284: aload_0
    1285: getfield      #51                 // Field oa:Lorg/apache/jute/BinaryOutputArchive;
    1288: ldc           #152                // String BenWasHere
    1290: ldc           #153                // String signature
    1292: invokevirtual #154                // Method org/apache/jute/BinaryOutputArchive.writeString:(Ljava/lang/String;Ljava/lang/String;)V
    1295: aload_0
    1296: getfield      #40                 // Field bufferedOutput:Ljava/io/BufferedOutputStream;
    1299: invokevirtual #41                 // Method java/io/BufferedOutputStream.flush:()V
    1302: new           #155                // class org/apache/zookeeper/server/quorum/LearnerHandler$1
    1305: dup
    1306: aload_0
    1307: invokespecial #156                // Method org/apache/zookeeper/server/quorum/LearnerHandler$1."<init>":(Lorg/apache/zookeeper/server/quorum/LearnerHandler;)V
    1310: invokevirtual #157                // Method org/apache/zookeeper/server/quorum/LearnerHandler$1.start:()V
    1313: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
    1316: dup
    1317: invokespecial #21                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
    1320: astore_1
    1321: aload_0
    1322: getfield      #69                 // Field ia:Lorg/apache/jute/BinaryInputArchive;
    1325: aload_1
    1326: ldc           #52                 // String packet
    1328: invokevirtual #74                 // Method org/apache/jute/BinaryInputArchive.readRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
    1331: aload_1
    1332: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
    1335: iconst_3
    1336: if_icmpeq     1353
    1339: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1342: ldc           #158                // String Next packet was supposed to be an ACK
    1344: invokeinterface #78,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
    1349: jsr           2209
    1352: return
    1353: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1356: new           #6                  // class java/lang/StringBuilder
    1359: dup
    1360: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    1363: ldc           #159                // String Received NEWLEADER-ACK message from
    1365: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1368: aload_0
    1369: invokevirtual #97                 // Method getSid:()J
    1372: invokevirtual #30                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
    1375: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1378: invokeinterface #94,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
    1383: aload_0
    1384: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1387: aload_0
    1388: invokevirtual #97                 // Method getSid:()J
    1391: aload_1
    1392: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
    1395: aload_0
    1396: invokevirtual #160                // Method getLearnerType:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
    1399: invokevirtual #161                // Method org/apache/zookeeper/server/quorum/Leader.waitForNewLeaderAck:(JJLorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;)V
    1402: aload_0
    1403: getfield      #19                 // Field syncLimitCheck:Lorg/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck;
    1406: invokevirtual #162                // Method org/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck.start:()V
    1409: aload_0
    1410: getfield      #3                  // Field sock:Ljava/net/Socket;
    1413: aload_0
    1414: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1417: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1420: getfield      #163                // Field org/apache/zookeeper/server/quorum/QuorumPeer.tickTime:I
    1423: aload_0
    1424: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1427: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1430: getfield      #63                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.syncLimit:I
    1433: imul
    1434: invokevirtual #164                // Method java/net/Socket.setSoTimeout:(I)V
    1437: aload_0
    1438: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1441: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1444: dup
    1445: astore        22
    1447: monitorenter
    1448: aload_0
    1449: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1452: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1455: invokevirtual #165                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.isRunning:()Z
    1458: ifne          1484
    1461: aload_0
    1462: invokevirtual #166                // Method isInterrupted:()Z
    1465: ifne          1484
    1468: aload_0
    1469: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1472: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1475: ldc2_w        #167                // long 20l
    1478: invokevirtual #169                // Method java/lang/Object.wait:(J)V
    1481: goto          1448
    1484: aload         22
    1486: monitorexit
    1487: goto          1498
    1490: astore        34
    1492: aload         22
    1494: monitorexit
    1495: aload         34
    1497: athrow
    1498: aload_0
    1499: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
    1502: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
    1505: dup
    1506: bipush        12
    1508: ldc2_w        #170                // long -1l
    1511: aconst_null
    1512: aconst_null
    1513: invokespecial #106                // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":(IJ[BLjava/util/List;)V
    1516: invokevirtual #146                // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
    1519: pop
    1520: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
    1523: dup
    1524: invokespecial #21                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
    1527: astore_1
    1528: aload_0
    1529: getfield      #69                 // Field ia:Lorg/apache/jute/BinaryInputArchive;
    1532: aload_1
    1533: ldc           #52                 // String packet
    1535: invokevirtual #74                 // Method org/apache/jute/BinaryInputArchive.readRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
    1538: ldc2_w        #37                 // long 16l
    1541: lstore        22
    1543: aload_1
    1544: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
    1547: iconst_5
    1548: if_icmpne     1556
    1551: ldc2_w        #44                 // long 128l
    1554: lstore        22
    1556: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1559: invokeinterface #49,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
    1564: ifeq          1578
    1567: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1570: lload         22
    1572: bipush        105
    1574: aload_1
    1575: invokestatic  #50                 // Method org/apache/zookeeper/server/ZooTrace.logQuorumPacket:(Lorg/slf4j/Logger;JCLorg/apache/zookeeper/server/quorum/QuorumPacket;)V
    1578: aload_0
    1579: aload_0
    1580: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1583: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1586: getfield      #61                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.tick:I
    1589: aload_0
    1590: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1593: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1596: getfield      #63                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.syncLimit:I
    1599: iadd
    1600: i2l
    1601: putfield      #64                 // Field tickOfNextAckDeadline:J
    1604: aload_1
    1605: invokevirtual #43                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
    1608: tableswitch   { // 1 to 6
                     1: 2022
                     2: 2134
                     3: 1648
                     4: 2134
                     5: 1735
                     6: 1799
               default: 2134
          }
    1648: aload_0
    1649: getfield      #24                 // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
    1652: getstatic     #95                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.OBSERVER:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
    1655: if_acmpne     1699
    1658: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1661: invokeinterface #172,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
    1666: ifeq          1699
    1669: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1672: new           #6                  // class java/lang/StringBuilder
    1675: dup
    1676: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    1679: ldc           #173                // String Received ACK from Observer
    1681: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1684: aload_0
    1685: getfield      #4                  // Field sid:J
    1688: invokevirtual #30                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
    1691: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1694: invokeinterface #128,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
    1699: aload_0
    1700: getfield      #19                 // Field syncLimitCheck:Lorg/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck;
    1703: aload_1
    1704: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
    1707: invokevirtual #174                // Method org/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck.updateAck:(J)V
    1710: aload_0
    1711: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1714: aload_0
    1715: getfield      #4                  // Field sid:J
    1718: aload_1
    1719: invokevirtual #46                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
    1722: aload_0
    1723: getfield      #3                  // Field sock:Ljava/net/Socket;
    1726: invokevirtual #175                // Method java/net/Socket.getLocalSocketAddress:()Ljava/net/SocketAddress;
    1729: invokevirtual #176                // Method org/apache/zookeeper/server/quorum/Leader.processAck:(JJLjava/net/SocketAddress;)V
    1732: goto          2134
    1735: new           #177                // class java/io/ByteArrayInputStream
    1738: dup
    1739: aload_1
    1740: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
    1743: invokespecial #178                // Method java/io/ByteArrayInputStream."<init>":([B)V
    1746: astore        29
    1748: new           #179                // class java/io/DataInputStream
    1751: dup
    1752: aload         29
    1754: invokespecial #180                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
    1757: astore        30
    1759: aload         30
    1761: invokevirtual #181                // Method java/io/DataInputStream.available:()I
    1764: ifle          2134
    1767: aload         30
    1769: invokevirtual #182                // Method java/io/DataInputStream.readLong:()J
    1772: lstore        31
    1774: aload         30
    1776: invokevirtual #183                // Method java/io/DataInputStream.readInt:()I
    1779: istore        33
    1781: aload_0
    1782: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1785: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1788: lload         31
    1790: iload         33
    1792: invokevirtual #184                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.touch:(JI)Z
    1795: pop
    1796: goto          1759
    1799: new           #177                // class java/io/ByteArrayInputStream
    1802: dup
    1803: aload_1
    1804: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
    1807: invokespecial #178                // Method java/io/ByteArrayInputStream."<init>":([B)V
    1810: astore        29
    1812: new           #179                // class java/io/DataInputStream
    1815: dup
    1816: aload         29
    1818: invokespecial #180                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
    1821: astore        30
    1823: aload         30
    1825: invokevirtual #182                // Method java/io/DataInputStream.readLong:()J
    1828: lstore        31
    1830: aload         30
    1832: invokevirtual #183                // Method java/io/DataInputStream.readInt:()I
    1835: istore        33
    1837: new           #185                // class java/io/ByteArrayOutputStream
    1840: dup
    1841: invokespecial #186                // Method java/io/ByteArrayOutputStream."<init>":()V
    1844: astore        34
    1846: new           #187                // class java/io/DataOutputStream
    1849: dup
    1850: aload         34
    1852: invokespecial #188                // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
    1855: astore        35
    1857: aload         35
    1859: lload         31
    1861: invokevirtual #189                // Method java/io/DataOutputStream.writeLong:(J)V
    1864: aload_0
    1865: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1868: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1871: lload         31
    1873: iload         33
    1875: invokevirtual #184                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.touch:(JI)Z
    1878: istore        36
    1880: iload         36
    1882: ifeq          1941
    1885: aload_0
    1886: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    1889: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    1892: lload         31
    1894: aload_0
    1895: invokevirtual #190                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.setOwner:(JLjava/lang/Object;)V
    1898: goto          1941
    1901: astore        37
    1903: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1906: new           #6                  // class java/lang/StringBuilder
    1909: dup
    1910: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    1913: ldc           #192                // String Somehow session
    1915: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1918: lload         31
    1920: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
    1923: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1926: ldc           #193                // String  expired right after being renewed! (impossible)
    1928: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1931: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1934: aload         37
    1936: invokeinterface #194,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
    1941: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1944: invokeinterface #49,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
    1949: ifeq          1994
    1952: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    1955: ldc2_w        #195                // long 32l
    1958: new           #6                  // class java/lang/StringBuilder
    1961: dup
    1962: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    1965: ldc           #197                // String Session 0x
    1967: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1970: lload         31
    1972: invokestatic  #119                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
    1975: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1978: ldc           #198                // String  is valid:
    1980: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1983: iload         36
    1985: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
    1988: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1991: invokestatic  #199                // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
    1994: aload         35
    1996: iload         36
    1998: invokevirtual #200                // Method java/io/DataOutputStream.writeBoolean:(Z)V
    2001: aload_1
    2002: aload         34
    2004: invokevirtual #201                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
    2007: invokevirtual #202                // Method org/apache/zookeeper/server/quorum/QuorumPacket.setData:([B)V
    2010: aload_0
    2011: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
    2014: aload_1
    2015: invokevirtual #146                // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
    2018: pop
    2019: goto          2134
    2022: aload_1
    2023: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
    2026: invokestatic  #80                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
    2029: astore        24
    2031: aload         24
    2033: invokevirtual #81                 // Method java/nio/ByteBuffer.getLong:()J
    2036: lstore        25
    2038: aload         24
    2040: invokevirtual #108                // Method java/nio/ByteBuffer.getInt:()I
    2043: istore        27
    2045: aload         24
    2047: invokevirtual #108                // Method java/nio/ByteBuffer.getInt:()I
    2050: istore        28
    2052: aload         24
    2054: invokevirtual #203                // Method java/nio/ByteBuffer.slice:()Ljava/nio/ByteBuffer;
    2057: astore        24
    2059: iload         28
    2061: bipush        9
    2063: if_icmpne     2091
    2066: new           #204                // class org/apache/zookeeper/server/quorum/LearnerSyncRequest
    2069: dup
    2070: aload_0
    2071: lload         25
    2073: iload         27
    2075: iload         28
    2077: aload         24
    2079: aload_1
    2080: invokevirtual #205                // Method org/apache/zookeeper/server/quorum/QuorumPacket.getAuthinfo:()Ljava/util/List;
    2083: invokespecial #206                // Method org/apache/zookeeper/server/quorum/LearnerSyncRequest."<init>":(Lorg/apache/zookeeper/server/quorum/LearnerHandler;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
    2086: astore        37
    2088: goto          2113
    2091: new           #207                // class org/apache/zookeeper/server/Request
    2094: dup
    2095: aconst_null
    2096: lload         25
    2098: iload         27
    2100: iload         28
    2102: aload         24
    2104: aload_1
    2105: invokevirtual #205                // Method org/apache/zookeeper/server/quorum/QuorumPacket.getAuthinfo:()Ljava/util/List;
    2108: invokespecial #208                // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
    2111: astore        37
    2113: aload         37
    2115: aload_0
    2116: invokevirtual #209                // Method org/apache/zookeeper/server/Request.setOwner:(Ljava/lang/Object;)V
    2119: aload_0
    2120: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
    2123: getfield      #110                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
    2126: aload         37
    2128: invokevirtual #210                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.submitRequest:(Lorg/apache/zookeeper/server/Request;)V
    2131: goto          2134
    2134: goto          1520
    2137: astore_1
    2138: aload_0
    2139: getfield      #3                  // Field sock:Ljava/net/Socket;
    2142: ifnull        2177
    2145: aload_0
    2146: getfield      #3                  // Field sock:Ljava/net/Socket;
    2149: invokevirtual #55                 // Method java/net/Socket.isClosed:()Z
    2152: ifne          2177
    2155: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    2158: ldc           #211                // String Unexpected exception causing shutdown while sock still open
    2160: aload_1
    2161: invokeinterface #194,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
    2166: aload_0
    2167: getfield      #3                  // Field sock:Ljava/net/Socket;
    2170: invokevirtual #58                 // Method java/net/Socket.close:()V
    2173: goto          2177
    2176: astore_2
    2177: jsr           2209
    2180: goto          2267
    2183: astore_1
    2184: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    2187: ldc           #213                // String Unexpected exception causing shutdown
    2189: aload_1
    2190: invokeinterface #194,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
    2195: jsr           2209
    2198: goto          2267
    2201: astore        38
    2203: jsr           2209
    2206: aload         38
    2208: athrow
    2209: astore        39
    2211: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
    2214: new           #6                  // class java/lang/StringBuilder
    2217: dup
    2218: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
    2221: ldc           #214                // String ******* GOODBYE
    2223: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    2226: aload_0
    2227: getfield      #3                  // Field sock:Ljava/net/Socket;
    2230: ifnull        2243
    2233: aload_0
    2234: getfield      #3                  // Field sock:Ljava/net/Socket;
    2237: invokevirtual #10                 // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
    2240: goto          2245
    2243: ldc           #215                // String <null>
    2245: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
    2248: ldc           #216                // String  ********
    2250: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    2253: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    2256: invokeinterface #138,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
    2261: aload_0
    2262: invokevirtual #217                // Method shutdown:()V
    2265: ret           39
    2267: return
    Exception table:
       from    to  target type
         600  1068  1071   any
        1071  1076  1071   any
        1448  1487  1490   any
        1490  1495  1490   any
        1885  1898  1901   Class org/apache/zookeeper/KeeperException$SessionExpiredException
           0   161  2137   Class java/io/IOException
         162   513  2137   Class java/io/IOException
         514  1352  2137   Class java/io/IOException
        1353  2137  2137   Class java/io/IOException
        2166  2173  2176   Class java/io/IOException
           0   161  2183   Class java/lang/InterruptedException
         162   513  2183   Class java/lang/InterruptedException
         514  1352  2183   Class java/lang/InterruptedException
        1353  2137  2183   Class java/lang/InterruptedException
           0   161  2201   any
         162   513  2201   any
         514  1352  2201   any
        1353  2180  2201   any
        2183  2198  2201   any
        2201  2206  2201   any

  public void shutdown();
    Code:
       0: aload_0
       1: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
       4: aload_0
       5: getfield      #22                 // Field proposalOfDeath:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
       8: invokevirtual #218                // Method java/util/concurrent/LinkedBlockingQueue.put:(Ljava/lang/Object;)V
      11: goto          26
      14: astore_1
      15: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      18: ldc           #219                // String Ignoring unexpected exception
      20: aload_1
      21: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      26: aload_0
      27: getfield      #3                  // Field sock:Ljava/net/Socket;
      30: ifnull        50
      33: aload_0
      34: getfield      #3                  // Field sock:Ljava/net/Socket;
      37: invokevirtual #55                 // Method java/net/Socket.isClosed:()Z
      40: ifne          50
      43: aload_0
      44: getfield      #3                  // Field sock:Ljava/net/Socket;
      47: invokevirtual #58                 // Method java/net/Socket.close:()V
      50: goto          65
      53: astore_1
      54: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      57: ldc           #220                // String Ignoring unexpected exception during socket close
      59: aload_1
      60: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      65: aload_0
      66: invokevirtual #221                // Method interrupt:()V
      69: aload_0
      70: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      73: aload_0
      74: invokevirtual #222                // Method org/apache/zookeeper/server/quorum/Leader.removeLearnerHandler:(Lorg/apache/zookeeper/server/quorum/LearnerHandler;)V
      77: return
    Exception table:
       from    to  target type
           0    11    14   Class java/lang/InterruptedException
          26    50    53   Class java/io/IOException

  public long tickOfNextAckDeadline();
    Code:
       0: aload_0
       1: getfield      #64                 // Field tickOfNextAckDeadline:J
       4: lreturn

  public void ping();
    Code:
       0: aload_0
       1: getfield      #19                 // Field syncLimitCheck:Lorg/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck;
       4: invokestatic  #47                 // Method java/lang/System.nanoTime:()J
       7: invokevirtual #223                // Method org/apache/zookeeper/server/quorum/LearnerHandler$SyncLimitCheck.check:(J)Z
      10: ifeq          60
      13: aload_0
      14: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      17: dup
      18: astore_3
      19: monitorenter
      20: aload_0
      21: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      24: getfield      #224                // Field org/apache/zookeeper/server/quorum/Leader.lastProposed:J
      27: lstore_1
      28: aload_3
      29: monitorexit
      30: goto          40
      33: astore        4
      35: aload_3
      36: monitorexit
      37: aload         4
      39: athrow
      40: new           #20                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      43: dup
      44: iconst_5
      45: lload_1
      46: aconst_null
      47: aconst_null
      48: invokespecial #106                // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":(IJ[BLjava/util/List;)V
      51: astore_3
      52: aload_0
      53: aload_3
      54: invokevirtual #134                // Method queuePacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
      57: goto          74
      60: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      63: ldc           #225                // String Closing connection to peer due to transaction timeout.
      65: invokeinterface #138,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      70: aload_0
      71: invokevirtual #217                // Method shutdown:()V
      74: return
    Exception table:
       from    to  target type
          20    30    33   any
          33    37    33   any

  void queuePacket(org.apache.zookeeper.server.quorum.QuorumPacket);
    Code:
       0: aload_0
       1: getfield      #16                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
       4: aload_1
       5: invokevirtual #146                // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
       8: pop
       9: return

  public boolean synced();
    Code:
       0: aload_0
       1: invokevirtual #226                // Method isAlive:()Z
       4: ifeq          30
       7: aload_0
       8: getfield      #25                 // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      11: getfield      #60                 // Field org/apache/zookeeper/server/quorum/Leader.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      14: getfield      #61                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.tick:I
      17: i2l
      18: aload_0
      19: getfield      #64                 // Field tickOfNextAckDeadline:J
      22: lcmp
      23: ifgt          30
      26: iconst_1
      27: goto          31
      30: iconst_0
      31: ireturn

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static void access$200(org.apache.zookeeper.server.quorum.LearnerHandler) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method sendPackets:()V
       4: return

  static {};
    Code:
       0: ldc_w         #227                // class org/apache/zookeeper/server/quorum/LearnerHandler
       3: invokestatic  #228                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       9: return
}
