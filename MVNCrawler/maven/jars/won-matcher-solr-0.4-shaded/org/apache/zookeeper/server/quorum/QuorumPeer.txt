Compiled from "QuorumPeer.java"
public class org.apache.zookeeper.server.quorum.QuorumPeer extends java.lang.Thread implements org.apache.zookeeper.server.quorum.QuorumStats$Provider {
  private static final org.slf4j.Logger LOG;

  org.apache.zookeeper.server.quorum.QuorumBean jmxQuorumBean;

  org.apache.zookeeper.server.quorum.LocalPeerBean jmxLocalPeerBean;

  org.apache.zookeeper.server.quorum.LeaderElectionBean jmxLeaderElectionBean;

  org.apache.zookeeper.server.quorum.QuorumCnxManager qcm;

  private org.apache.zookeeper.server.ZKDatabase zkDb;

  static final long OBSERVER_ID;

  public long start_fle;

  public long end_fle;

  private org.apache.zookeeper.server.quorum.QuorumPeer$LearnerType learnerType;

  protected java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer> quorumPeers;

  private org.apache.zookeeper.server.quorum.flexible.QuorumVerifier quorumConfig;

  private long myid;

  private volatile org.apache.zookeeper.server.quorum.Vote currentVote;

  private volatile org.apache.zookeeper.server.quorum.Vote bcVote;

  volatile boolean running;

  protected int tickTime;

  protected int minSessionTimeout;

  protected int maxSessionTimeout;

  protected int initLimit;

  protected int syncLimit;

  protected boolean syncEnabled;

  protected volatile int tick;

  protected boolean quorumListenOnAllIPs;

  private org.apache.zookeeper.server.quorum.QuorumPeer$ServerState state;

  java.net.DatagramSocket udpSocket;

  private java.net.InetSocketAddress myQuorumAddr;

  private int electionType;

  org.apache.zookeeper.server.quorum.Election electionAlg;

  org.apache.zookeeper.server.ServerCnxnFactory cnxnFactory;

  private org.apache.zookeeper.server.persistence.FileTxnSnapLog logFactory;

  private final org.apache.zookeeper.server.quorum.QuorumStats quorumStats;

  org.apache.zookeeper.server.quorum.QuorumPeer$ResponderThread responder;

  public org.apache.zookeeper.server.quorum.Follower follower;

  public org.apache.zookeeper.server.quorum.Leader leader;

  public org.apache.zookeeper.server.quorum.Observer observer;

  public static final java.lang.String SYNC_ENABLED;

  private long acceptedEpoch;

  private long currentEpoch;

  public static final java.lang.String CURRENT_EPOCH_FILENAME;

  public static final java.lang.String ACCEPTED_EPOCH_FILENAME;

  public static final java.lang.String UPDATING_EPOCH_FILENAME;

  static final boolean $assertionsDisabled;

  public org.apache.zookeeper.server.quorum.QuorumPeer$LearnerType getLearnerType();
    Code:
       0: aload_0
       1: getfield      #3                  // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
       4: areturn

  public void setLearnerType(org.apache.zookeeper.server.quorum.QuorumPeer$LearnerType);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
       5: aload_0
       6: getfield      #4                  // Field quorumPeers:Ljava/util/Map;
       9: aload_0
      10: getfield      #1                  // Field myid:J
      13: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      16: invokeinterface #6,  2            // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      21: ifeq          50
      24: aload_0
      25: getfield      #4                  // Field quorumPeers:Ljava/util/Map;
      28: aload_0
      29: getfield      #1                  // Field myid:J
      32: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      35: invokeinterface #7,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      40: checkcast     #8                  // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      43: aload_1
      44: putfield      #9                  // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.type:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      47: goto          94
      50: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      53: new           #10                 // class java/lang/StringBuilder
      56: dup
      57: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      60: ldc           #12                 // String Setting LearnerType to
      62: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: aload_1
      66: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      69: ldc           #15                 // String  but
      71: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: aload_0
      75: getfield      #1                  // Field myid:J
      78: invokevirtual #16                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      81: ldc           #17                 // String  not in QuorumPeers.
      83: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      89: invokeinterface #19,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      94: return

  public int getQuorumSize();
    Code:
       0: aload_0
       1: invokevirtual #20                 // Method getVotingView:()Ljava/util/Map;
       4: invokeinterface #21,  1           // InterfaceMethod java/util/Map.size:()I
       9: ireturn

  public long getId();
    Code:
       0: aload_0
       1: getfield      #1                  // Field myid:J
       4: lreturn

  public synchronized org.apache.zookeeper.server.quorum.Vote getCurrentVote();
    Code:
       0: aload_0
       1: getfield      #22                 // Field currentVote:Lorg/apache/zookeeper/server/quorum/Vote;
       4: areturn

  public synchronized void setCurrentVote(org.apache.zookeeper.server.quorum.Vote);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #22                 // Field currentVote:Lorg/apache/zookeeper/server/quorum/Vote;
       5: return

  synchronized org.apache.zookeeper.server.quorum.Vote getBCVote();
    Code:
       0: aload_0
       1: getfield      #23                 // Field bcVote:Lorg/apache/zookeeper/server/quorum/Vote;
       4: ifnonnull     12
       7: aload_0
       8: getfield      #22                 // Field currentVote:Lorg/apache/zookeeper/server/quorum/Vote;
      11: areturn
      12: aload_0
      13: getfield      #23                 // Field bcVote:Lorg/apache/zookeeper/server/quorum/Vote;
      16: areturn

  synchronized void setBCVote(org.apache.zookeeper.server.quorum.Vote);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #23                 // Field bcVote:Lorg/apache/zookeeper/server/quorum/Vote;
       5: return

  public synchronized void setPeerState(org.apache.zookeeper.server.quorum.QuorumPeer$ServerState);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #24                 // Field state:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
       5: return

  public synchronized org.apache.zookeeper.server.quorum.QuorumPeer$ServerState getPeerState();
    Code:
       0: aload_0
       1: getfield      #24                 // Field state:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
       4: areturn

  public java.net.InetSocketAddress getQuorumAddress();
    Code:
       0: aload_0
       1: getfield      #25                 // Field myQuorumAddr:Ljava/net/InetSocketAddress;
       4: areturn

  public org.apache.zookeeper.server.quorum.QuorumPeer();
    Code:
       0: aload_0
       1: ldc           #26                 // String QuorumPeer
       3: invokespecial #27                 // Method java/lang/Thread."<init>":(Ljava/lang/String;)V
       6: aload_0
       7: getstatic     #28                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.PARTICIPANT:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      10: putfield      #3                  // Field learnerType:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      13: aload_0
      14: iconst_1
      15: putfield      #29                 // Field running:Z
      18: aload_0
      19: iconst_m1
      20: putfield      #30                 // Field minSessionTimeout:I
      23: aload_0
      24: iconst_m1
      25: putfield      #31                 // Field maxSessionTimeout:I
      28: aload_0
      29: iconst_1
      30: putfield      #32                 // Field syncEnabled:Z
      33: aload_0
      34: iconst_0
      35: putfield      #33                 // Field quorumListenOnAllIPs:Z
      38: aload_0
      39: getstatic     #34                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
      42: putfield      #24                 // Field state:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
      45: aload_0
      46: aconst_null
      47: putfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      50: aload_0
      51: ldc2_w        #36                 // long -1l
      54: putfield      #38                 // Field acceptedEpoch:J
      57: aload_0
      58: ldc2_w        #36                 // long -1l
      61: putfield      #39                 // Field currentEpoch:J
      64: aload_0
      65: new           #40                 // class org/apache/zookeeper/server/quorum/QuorumStats
      68: dup
      69: aload_0
      70: invokespecial #41                 // Method org/apache/zookeeper/server/quorum/QuorumStats."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumStats$Provider;)V
      73: putfield      #42                 // Field quorumStats:Lorg/apache/zookeeper/server/quorum/QuorumStats;
      76: return

  public org.apache.zookeeper.server.quorum.QuorumPeer(java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>, java.io.File, java.io.File, int, long, int, int, int, org.apache.zookeeper.server.ServerCnxnFactory) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iload         4
       6: lload         5
       8: iload         7
      10: iload         8
      12: iload         9
      14: iconst_0
      15: aload         10
      17: new           #43                 // class org/apache/zookeeper/server/quorum/flexible/QuorumMaj
      20: dup
      21: aload_1
      22: invokestatic  #44                 // Method countParticipants:(Ljava/util/Map;)I
      25: invokespecial #45                 // Method org/apache/zookeeper/server/quorum/flexible/QuorumMaj."<init>":(I)V
      28: invokespecial #46                 // Method "<init>":(Ljava/util/Map;Ljava/io/File;Ljava/io/File;IJIIIZLorg/apache/zookeeper/server/ServerCnxnFactory;Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;)V
      31: return

  public org.apache.zookeeper.server.quorum.QuorumPeer(java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>, java.io.File, java.io.File, int, long, int, int, int, boolean, org.apache.zookeeper.server.ServerCnxnFactory, org.apache.zookeeper.server.quorum.flexible.QuorumVerifier) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #47                 // Method "<init>":()V
       4: aload_0
       5: aload         11
       7: putfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      10: aload_0
      11: aload_1
      12: putfield      #4                  // Field quorumPeers:Ljava/util/Map;
      15: aload_0
      16: iload         4
      18: putfield      #49                 // Field electionType:I
      21: aload_0
      22: lload         5
      24: putfield      #1                  // Field myid:J
      27: aload_0
      28: iload         7
      30: putfield      #50                 // Field tickTime:I
      33: aload_0
      34: iload         8
      36: putfield      #51                 // Field initLimit:I
      39: aload_0
      40: iload         9
      42: putfield      #52                 // Field syncLimit:I
      45: aload_0
      46: iload         10
      48: putfield      #33                 // Field quorumListenOnAllIPs:Z
      51: aload_0
      52: new           #53                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog
      55: dup
      56: aload_3
      57: aload_2
      58: invokespecial #54                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog."<init>":(Ljava/io/File;Ljava/io/File;)V
      61: putfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      64: aload_0
      65: new           #55                 // class org/apache/zookeeper/server/ZKDatabase
      68: dup
      69: aload_0
      70: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      73: invokespecial #56                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      76: putfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      79: aload         12
      81: ifnonnull     102
      84: aload_0
      85: new           #43                 // class org/apache/zookeeper/server/quorum/flexible/QuorumMaj
      88: dup
      89: aload_1
      90: invokestatic  #44                 // Method countParticipants:(Ljava/util/Map;)I
      93: invokespecial #45                 // Method org/apache/zookeeper/server/quorum/flexible/QuorumMaj."<init>":(I)V
      96: putfield      #58                 // Field quorumConfig:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
      99: goto          108
     102: aload_0
     103: aload         12
     105: putfield      #58                 // Field quorumConfig:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
     108: return

  org.apache.zookeeper.server.quorum.QuorumStats quorumStats();
    Code:
       0: aload_0
       1: getfield      #42                 // Field quorumStats:Lorg/apache/zookeeper/server/quorum/QuorumStats;
       4: areturn

  public synchronized void start();
    Code:
       0: aload_0
       1: invokespecial #59                 // Method loadDataBase:()V
       4: aload_0
       5: getfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       8: invokevirtual #60                 // Method org/apache/zookeeper/server/ServerCnxnFactory.start:()V
      11: aload_0
      12: invokevirtual #61                 // Method startLeaderElection:()V
      15: aload_0
      16: invokespecial #62                 // Method java/lang/Thread.start:()V
      19: return

  private void loadDataBase();
    Code:
       0: new           #63                 // class java/io/File
       3: dup
       4: aload_0
       5: invokevirtual #64                 // Method getTxnFactory:()Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       8: invokevirtual #65                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      11: ldc           #66                 // String updatingEpoch
      13: invokespecial #67                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      16: astore_1
      17: aload_0
      18: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      21: invokevirtual #68                 // Method org/apache/zookeeper/server/ZKDatabase.loadDataBase:()J
      24: pop2
      25: aload_0
      26: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      29: invokevirtual #69                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      32: getfield      #70                 // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
      35: lstore_2
      36: lload_2
      37: invokestatic  #71                 // Method org/apache/zookeeper/server/util/ZxidUtils.getEpochFromZxid:(J)J
      40: lstore        4
      42: aload_0
      43: aload_0
      44: ldc           #72                 // String currentEpoch
      46: invokespecial #73                 // Method readLongFromFile:(Ljava/lang/String;)J
      49: putfield      #39                 // Field currentEpoch:J
      52: lload         4
      54: aload_0
      55: getfield      #39                 // Field currentEpoch:J
      58: lcmp
      59: ifle          129
      62: aload_1
      63: invokevirtual #74                 // Method java/io/File.exists:()Z
      66: ifeq          129
      69: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      72: ldc           #75                 // String {} found. The server was terminated after taking a snapshot but before updating current epoch. Setting current epoch to {}.
      74: ldc           #66                 // String updatingEpoch
      76: lload         4
      78: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      81: invokeinterface #76,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      86: aload_0
      87: lload         4
      89: invokevirtual #77                 // Method setCurrentEpoch:(J)V
      92: aload_1
      93: invokevirtual #78                 // Method java/io/File.delete:()Z
      96: ifne          129
      99: new           #79                 // class java/io/IOException
     102: dup
     103: new           #10                 // class java/lang/StringBuilder
     106: dup
     107: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     110: ldc           #80                 // String Failed to delete
     112: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: aload_1
     116: invokevirtual #81                 // Method java/io/File.toString:()Ljava/lang/String;
     119: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     125: invokespecial #82                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     128: athrow
     129: goto          167
     132: astore        6
     134: aload_0
     135: lload         4
     137: putfield      #39                 // Field currentEpoch:J
     140: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     143: ldc           #84                 // String currentEpoch not found! Creating with a reasonable default of {}. This should only happen when you are upgrading your installation
     145: aload_0
     146: getfield      #39                 // Field currentEpoch:J
     149: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     152: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     157: aload_0
     158: ldc           #72                 // String currentEpoch
     160: aload_0
     161: getfield      #39                 // Field currentEpoch:J
     164: invokespecial #86                 // Method writeLongToFile:(Ljava/lang/String;J)V
     167: lload         4
     169: aload_0
     170: getfield      #39                 // Field currentEpoch:J
     173: lcmp
     174: ifle          219
     177: new           #79                 // class java/io/IOException
     180: dup
     181: new           #10                 // class java/lang/StringBuilder
     184: dup
     185: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     188: ldc           #87                 // String The current epoch,
     190: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     193: aload_0
     194: getfield      #39                 // Field currentEpoch:J
     197: invokestatic  #88                 // Method org/apache/zookeeper/server/util/ZxidUtils.zxidToString:(J)Ljava/lang/String;
     200: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     203: ldc           #89                 // String , is older than the last zxid,
     205: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     208: lload_2
     209: invokevirtual #16                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     212: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     215: invokespecial #82                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     218: athrow
     219: aload_0
     220: aload_0
     221: ldc           #90                 // String acceptedEpoch
     223: invokespecial #73                 // Method readLongFromFile:(Ljava/lang/String;)J
     226: putfield      #38                 // Field acceptedEpoch:J
     229: goto          267
     232: astore        6
     234: aload_0
     235: lload         4
     237: putfield      #38                 // Field acceptedEpoch:J
     240: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     243: ldc           #91                 // String acceptedEpoch not found! Creating with a reasonable default of {}. This should only happen when you are upgrading your installation
     245: aload_0
     246: getfield      #38                 // Field acceptedEpoch:J
     249: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     252: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     257: aload_0
     258: ldc           #90                 // String acceptedEpoch
     260: aload_0
     261: getfield      #38                 // Field acceptedEpoch:J
     264: invokespecial #86                 // Method writeLongToFile:(Ljava/lang/String;J)V
     267: aload_0
     268: getfield      #38                 // Field acceptedEpoch:J
     271: aload_0
     272: getfield      #39                 // Field currentEpoch:J
     275: lcmp
     276: ifge          327
     279: new           #79                 // class java/io/IOException
     282: dup
     283: new           #10                 // class java/lang/StringBuilder
     286: dup
     287: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     290: ldc           #87                 // String The current epoch,
     292: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     295: aload_0
     296: getfield      #39                 // Field currentEpoch:J
     299: invokestatic  #88                 // Method org/apache/zookeeper/server/util/ZxidUtils.zxidToString:(J)Ljava/lang/String;
     302: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     305: ldc           #92                 // String  is less than the accepted epoch,
     307: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     310: aload_0
     311: getfield      #38                 // Field acceptedEpoch:J
     314: invokestatic  #88                 // Method org/apache/zookeeper/server/util/ZxidUtils.zxidToString:(J)Ljava/lang/String;
     317: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     320: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     323: invokespecial #82                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     326: athrow
     327: goto          353
     330: astore_2
     331: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     334: ldc           #93                 // String Unable to load database on disk
     336: aload_2
     337: invokeinterface #94,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     342: new           #95                 // class java/lang/RuntimeException
     345: dup
     346: ldc           #96                 // String Unable to run quorum server
     348: aload_2
     349: invokespecial #97                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     352: athrow
     353: return
    Exception table:
       from    to  target type
          42   129   132   Class java/io/FileNotFoundException
         219   229   232   Class java/io/FileNotFoundException
          17   327   330   Class java/io/IOException

  public synchronized void stopLeaderElection();
    Code:
       0: aload_0
       1: getfield      #98                 // Field responder:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread;
       4: iconst_0
       5: putfield      #99                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread.running:Z
       8: aload_0
       9: getfield      #98                 // Field responder:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread;
      12: invokevirtual #100                // Method org/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread.interrupt:()V
      15: return

  public synchronized void startLeaderElection();
    Code:
       0: aload_0
       1: new           #101                // class org/apache/zookeeper/server/quorum/Vote
       4: dup
       5: aload_0
       6: getfield      #1                  // Field myid:J
       9: aload_0
      10: invokevirtual #102                // Method getLastLoggedZxid:()J
      13: aload_0
      14: invokevirtual #103                // Method getCurrentEpoch:()J
      17: invokespecial #104                // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJJ)V
      20: putfield      #22                 // Field currentVote:Lorg/apache/zookeeper/server/quorum/Vote;
      23: goto          49
      26: astore_1
      27: new           #95                 // class java/lang/RuntimeException
      30: dup
      31: aload_1
      32: invokevirtual #105                // Method java/io/IOException.getMessage:()Ljava/lang/String;
      35: invokespecial #106                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      38: astore_2
      39: aload_2
      40: aload_1
      41: invokevirtual #107                // Method java/io/IOException.getStackTrace:()[Ljava/lang/StackTraceElement;
      44: invokevirtual #108                // Method java/lang/RuntimeException.setStackTrace:([Ljava/lang/StackTraceElement;)V
      47: aload_2
      48: athrow
      49: aload_0
      50: invokevirtual #109                // Method getView:()Ljava/util/Map;
      53: invokeinterface #110,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      58: invokeinterface #111,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      63: astore_1
      64: aload_1
      65: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      70: ifeq          109
      73: aload_1
      74: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      79: checkcast     #8                  // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      82: astore_2
      83: aload_2
      84: getfield      #114                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      87: aload_0
      88: getfield      #1                  // Field myid:J
      91: lcmp
      92: ifne          106
      95: aload_0
      96: aload_2
      97: getfield      #115                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Ljava/net/InetSocketAddress;
     100: putfield      #25                 // Field myQuorumAddr:Ljava/net/InetSocketAddress;
     103: goto          109
     106: goto          64
     109: aload_0
     110: getfield      #25                 // Field myQuorumAddr:Ljava/net/InetSocketAddress;
     113: ifnonnull     151
     116: new           #95                 // class java/lang/RuntimeException
     119: dup
     120: new           #10                 // class java/lang/StringBuilder
     123: dup
     124: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     127: ldc           #116                // String My id
     129: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: aload_0
     133: getfield      #1                  // Field myid:J
     136: invokevirtual #16                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     139: ldc           #117                // String  not in the peer list
     141: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     147: invokespecial #106                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     150: athrow
     151: aload_0
     152: getfield      #49                 // Field electionType:I
     155: ifne          208
     158: aload_0
     159: new           #118                // class java/net/DatagramSocket
     162: dup
     163: aload_0
     164: getfield      #25                 // Field myQuorumAddr:Ljava/net/InetSocketAddress;
     167: invokevirtual #119                // Method java/net/InetSocketAddress.getPort:()I
     170: invokespecial #120                // Method java/net/DatagramSocket."<init>":(I)V
     173: putfield      #121                // Field udpSocket:Ljava/net/DatagramSocket;
     176: aload_0
     177: new           #122                // class org/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread
     180: dup
     181: aload_0
     182: invokespecial #123                // Method org/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
     185: putfield      #98                 // Field responder:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread;
     188: aload_0
     189: getfield      #98                 // Field responder:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread;
     192: invokevirtual #124                // Method org/apache/zookeeper/server/quorum/QuorumPeer$ResponderThread.start:()V
     195: goto          208
     198: astore_1
     199: new           #95                 // class java/lang/RuntimeException
     202: dup
     203: aload_1
     204: invokespecial #126                // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     207: athrow
     208: aload_0
     209: aload_0
     210: aload_0
     211: getfield      #49                 // Field electionType:I
     214: invokevirtual #127                // Method createElectionAlgorithm:(I)Lorg/apache/zookeeper/server/quorum/Election;
     217: putfield      #128                // Field electionAlg:Lorg/apache/zookeeper/server/quorum/Election;
     220: return
    Exception table:
       from    to  target type
           0    23    26   Class java/io/IOException
         158   195   198   Class java/net/SocketException

  protected static int countParticipants(java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>);
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: invokeinterface #110,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       8: invokeinterface #111,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      13: astore_2
      14: aload_2
      15: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          49
      23: aload_2
      24: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #8                  // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      32: astore_3
      33: aload_3
      34: getfield      #9                  // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.type:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      37: getstatic     #28                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.PARTICIPANT:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      40: if_acmpne     46
      43: iinc          1, 1
      46: goto          14
      49: iload_1
      50: ireturn

  public org.apache.zookeeper.server.quorum.QuorumPeer(java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>, java.io.File, java.io.File, int, int, long, int, int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iload         5
       6: lload         6
       8: iload         8
      10: iload         9
      12: iload         10
      14: iconst_0
      15: new           #129                // class java/net/InetSocketAddress
      18: dup
      19: iload         4
      21: invokespecial #130                // Method java/net/InetSocketAddress."<init>":(I)V
      24: iconst_m1
      25: invokestatic  #131                // Method org/apache/zookeeper/server/ServerCnxnFactory.createFactory:(Ljava/net/InetSocketAddress;I)Lorg/apache/zookeeper/server/ServerCnxnFactory;
      28: new           #43                 // class org/apache/zookeeper/server/quorum/flexible/QuorumMaj
      31: dup
      32: aload_1
      33: invokestatic  #44                 // Method countParticipants:(Ljava/util/Map;)I
      36: invokespecial #45                 // Method org/apache/zookeeper/server/quorum/flexible/QuorumMaj."<init>":(I)V
      39: invokespecial #46                 // Method "<init>":(Ljava/util/Map;Ljava/io/File;Ljava/io/File;IJIIIZLorg/apache/zookeeper/server/ServerCnxnFactory;Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;)V
      42: return

  public org.apache.zookeeper.server.quorum.QuorumPeer(java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>, java.io.File, java.io.File, int, int, long, int, int, int, org.apache.zookeeper.server.quorum.flexible.QuorumVerifier) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iload         5
       6: lload         6
       8: iload         8
      10: iload         9
      12: iload         10
      14: iconst_0
      15: new           #129                // class java/net/InetSocketAddress
      18: dup
      19: iload         4
      21: invokespecial #130                // Method java/net/InetSocketAddress."<init>":(I)V
      24: iconst_m1
      25: invokestatic  #131                // Method org/apache/zookeeper/server/ServerCnxnFactory.createFactory:(Ljava/net/InetSocketAddress;I)Lorg/apache/zookeeper/server/ServerCnxnFactory;
      28: aload         11
      30: invokespecial #46                 // Method "<init>":(Ljava/util/Map;Ljava/io/File;Ljava/io/File;IJIIIZLorg/apache/zookeeper/server/ServerCnxnFactory;Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;)V
      33: return

  public long getLastLoggedZxid();
    Code:
       0: aload_0
       1: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: invokevirtual #132                // Method org/apache/zookeeper/server/ZKDatabase.isInitialized:()Z
       7: ifne          14
      10: aload_0
      11: invokespecial #59                 // Method loadDataBase:()V
      14: aload_0
      15: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      18: invokevirtual #133                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
      21: lreturn

  protected org.apache.zookeeper.server.quorum.Follower makeFollower(org.apache.zookeeper.server.persistence.FileTxnSnapLog) throws java.io.IOException;
    Code:
       0: new           #134                // class org/apache/zookeeper/server/quorum/Follower
       3: dup
       4: aload_0
       5: new           #135                // class org/apache/zookeeper/server/quorum/FollowerZooKeeperServer
       8: dup
       9: aload_1
      10: aload_0
      11: new           #136                // class org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder
      14: dup
      15: invokespecial #137                // Method org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder."<init>":()V
      18: aload_0
      19: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      22: invokespecial #138                // Method org/apache/zookeeper/server/quorum/FollowerZooKeeperServer."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;Lorg/apache/zookeeper/server/ZKDatabase;)V
      25: invokespecial #139                // Method org/apache/zookeeper/server/quorum/Follower."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/quorum/FollowerZooKeeperServer;)V
      28: areturn

  protected org.apache.zookeeper.server.quorum.Leader makeLeader(org.apache.zookeeper.server.persistence.FileTxnSnapLog) throws java.io.IOException;
    Code:
       0: new           #140                // class org/apache/zookeeper/server/quorum/Leader
       3: dup
       4: aload_0
       5: new           #141                // class org/apache/zookeeper/server/quorum/LeaderZooKeeperServer
       8: dup
       9: aload_1
      10: aload_0
      11: new           #136                // class org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder
      14: dup
      15: invokespecial #137                // Method org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder."<init>":()V
      18: aload_0
      19: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      22: invokespecial #142                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;Lorg/apache/zookeeper/server/ZKDatabase;)V
      25: invokespecial #143                // Method org/apache/zookeeper/server/quorum/Leader."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;)V
      28: areturn

  protected org.apache.zookeeper.server.quorum.Observer makeObserver(org.apache.zookeeper.server.persistence.FileTxnSnapLog) throws java.io.IOException;
    Code:
       0: new           #144                // class org/apache/zookeeper/server/quorum/Observer
       3: dup
       4: aload_0
       5: new           #145                // class org/apache/zookeeper/server/quorum/ObserverZooKeeperServer
       8: dup
       9: aload_1
      10: aload_0
      11: new           #136                // class org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder
      14: dup
      15: invokespecial #137                // Method org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder."<init>":()V
      18: aload_0
      19: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      22: invokespecial #146                // Method org/apache/zookeeper/server/quorum/ObserverZooKeeperServer."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;Lorg/apache/zookeeper/server/ZKDatabase;)V
      25: invokespecial #147                // Method org/apache/zookeeper/server/quorum/Observer."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/quorum/ObserverZooKeeperServer;)V
      28: areturn

  protected org.apache.zookeeper.server.quorum.Election createElectionAlgorithm(int);
    Code:
       0: aconst_null
       1: astore_2
       2: iload_1
       3: tableswitch   { // 0 to 3
                     0: 32
                     1: 44
                     2: 56
                     3: 69
               default: 126
          }
      32: new           #148                // class org/apache/zookeeper/server/quorum/LeaderElection
      35: dup
      36: aload_0
      37: invokespecial #149                // Method org/apache/zookeeper/server/quorum/LeaderElection."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      40: astore_2
      41: goto          140
      44: new           #150                // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection
      47: dup
      48: aload_0
      49: invokespecial #151                // Method org/apache/zookeeper/server/quorum/AuthFastLeaderElection."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      52: astore_2
      53: goto          140
      56: new           #150                // class org/apache/zookeeper/server/quorum/AuthFastLeaderElection
      59: dup
      60: aload_0
      61: iconst_1
      62: invokespecial #152                // Method org/apache/zookeeper/server/quorum/AuthFastLeaderElection."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;Z)V
      65: astore_2
      66: goto          140
      69: aload_0
      70: new           #153                // class org/apache/zookeeper/server/quorum/QuorumCnxManager
      73: dup
      74: aload_0
      75: invokespecial #154                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      78: putfield      #155                // Field qcm:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;
      81: aload_0
      82: getfield      #155                // Field qcm:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;
      85: getfield      #156                // Field org/apache/zookeeper/server/quorum/QuorumCnxManager.listener:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$Listener;
      88: astore_3
      89: aload_3
      90: ifnull        113
      93: aload_3
      94: invokevirtual #157                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$Listener.start:()V
      97: new           #158                // class org/apache/zookeeper/server/quorum/FastLeaderElection
     100: dup
     101: aload_0
     102: aload_0
     103: getfield      #155                // Field qcm:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;
     106: invokespecial #159                // Method org/apache/zookeeper/server/quorum/FastLeaderElection."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;)V
     109: astore_2
     110: goto          140
     113: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     116: ldc           #160                // String Null listener when initializing cnx manager
     118: invokeinterface #19,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     123: goto          140
     126: getstatic     #161                // Field $assertionsDisabled:Z
     129: ifne          140
     132: new           #162                // class java/lang/AssertionError
     135: dup
     136: invokespecial #163                // Method java/lang/AssertionError."<init>":()V
     139: athrow
     140: aload_2
     141: areturn

  protected org.apache.zookeeper.server.quorum.Election makeLEStrategy();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #164                // String Initializing leader election protocol...
       5: invokeinterface #165,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      10: aload_0
      11: invokevirtual #166                // Method getElectionType:()I
      14: ifne          29
      17: aload_0
      18: new           #148                // class org/apache/zookeeper/server/quorum/LeaderElection
      21: dup
      22: aload_0
      23: invokespecial #149                // Method org/apache/zookeeper/server/quorum/LeaderElection."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      26: putfield      #128                // Field electionAlg:Lorg/apache/zookeeper/server/quorum/Election;
      29: aload_0
      30: getfield      #128                // Field electionAlg:Lorg/apache/zookeeper/server/quorum/Election;
      33: areturn

  protected synchronized void setLeader(org.apache.zookeeper.server.quorum.Leader);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
       5: return

  protected synchronized void setFollower(org.apache.zookeeper.server.quorum.Follower);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
       5: return

  protected synchronized void setObserver(org.apache.zookeeper.server.quorum.Observer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #169                // Field observer:Lorg/apache/zookeeper/server/quorum/Observer;
       5: return

  public synchronized org.apache.zookeeper.server.ZooKeeperServer getActiveServer();
    Code:
       0: aload_0
       1: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
       4: ifnull        15
       7: aload_0
       8: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      11: getfield      #170                // Field org/apache/zookeeper/server/quorum/Leader.zk:Lorg/apache/zookeeper/server/quorum/LeaderZooKeeperServer;
      14: areturn
      15: aload_0
      16: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
      19: ifnull        30
      22: aload_0
      23: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
      26: getfield      #171                // Field org/apache/zookeeper/server/quorum/Follower.zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      29: areturn
      30: aload_0
      31: getfield      #169                // Field observer:Lorg/apache/zookeeper/server/quorum/Observer;
      34: ifnull        45
      37: aload_0
      38: getfield      #169                // Field observer:Lorg/apache/zookeeper/server/quorum/Observer;
      41: getfield      #172                // Field org/apache/zookeeper/server/quorum/Observer.zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      44: areturn
      45: aconst_null
      46: areturn

  public void run();
    Code:
       0: aload_0
       1: new           #10                 // class java/lang/StringBuilder
       4: dup
       5: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #173                // String QuorumPeer[myid=
      10: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_0
      14: invokevirtual #174                // Method getId:()J
      17: invokevirtual #16                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      20: ldc           #175                // String ]
      22: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: getfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      29: invokevirtual #176                // Method org/apache/zookeeper/server/ServerCnxnFactory.getLocalAddress:()Ljava/net/InetSocketAddress;
      32: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      35: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: invokevirtual #177                // Method setName:(Ljava/lang/String;)V
      41: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      44: ldc           #178                // String Starting quorum peer
      46: invokeinterface #165,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      51: aload_0
      52: new           #179                // class org/apache/zookeeper/server/quorum/QuorumBean
      55: dup
      56: aload_0
      57: invokespecial #180                // Method org/apache/zookeeper/server/quorum/QuorumBean."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
      60: putfield      #181                // Field jmxQuorumBean:Lorg/apache/zookeeper/server/quorum/QuorumBean;
      63: invokestatic  #182                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      66: aload_0
      67: getfield      #181                // Field jmxQuorumBean:Lorg/apache/zookeeper/server/quorum/QuorumBean;
      70: aconst_null
      71: invokevirtual #183                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      74: aload_0
      75: invokevirtual #109                // Method getView:()Ljava/util/Map;
      78: invokeinterface #110,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      83: invokeinterface #111,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      88: astore_1
      89: aload_1
      90: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      95: ifeq          210
      98: aload_1
      99: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     104: checkcast     #8                  // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
     107: astore_2
     108: aload_0
     109: invokevirtual #174                // Method getId:()J
     112: aload_2
     113: getfield      #114                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
     116: lcmp
     117: ifne          170
     120: aload_0
     121: new           #184                // class org/apache/zookeeper/server/quorum/LocalPeerBean
     124: dup
     125: aload_0
     126: invokespecial #185                // Method org/apache/zookeeper/server/quorum/LocalPeerBean."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;)V
     129: dup_x1
     130: putfield      #186                // Field jmxLocalPeerBean:Lorg/apache/zookeeper/server/quorum/LocalPeerBean;
     133: astore_3
     134: invokestatic  #182                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
     137: aload_3
     138: aload_0
     139: getfield      #181                // Field jmxQuorumBean:Lorg/apache/zookeeper/server/quorum/QuorumBean;
     142: invokevirtual #183                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
     145: goto          207
     148: astore        4
     150: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     153: ldc           #188                // String Failed to register with JMX
     155: aload         4
     157: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     162: aload_0
     163: aconst_null
     164: putfield      #186                // Field jmxLocalPeerBean:Lorg/apache/zookeeper/server/quorum/LocalPeerBean;
     167: goto          207
     170: new           #190                // class org/apache/zookeeper/server/quorum/RemotePeerBean
     173: dup
     174: aload_2
     175: invokespecial #191                // Method org/apache/zookeeper/server/quorum/RemotePeerBean."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;)V
     178: astore_3
     179: invokestatic  #182                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
     182: aload_3
     183: aload_0
     184: getfield      #181                // Field jmxQuorumBean:Lorg/apache/zookeeper/server/quorum/QuorumBean;
     187: invokevirtual #183                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
     190: goto          207
     193: astore        4
     195: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     198: ldc           #188                // String Failed to register with JMX
     200: aload         4
     202: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     207: goto          89
     210: goto          230
     213: astore_1
     214: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     217: ldc           #188                // String Failed to register with JMX
     219: aload_1
     220: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     225: aload_0
     226: aconst_null
     227: putfield      #181                // Field jmxQuorumBean:Lorg/apache/zookeeper/server/quorum/QuorumBean;
     230: aload_0
     231: getfield      #29                 // Field running:Z
     234: ifeq          736
     237: getstatic     #192                // Field org/apache/zookeeper/server/quorum/QuorumPeer$2.$SwitchMap$org$apache$zookeeper$server$quorum$QuorumPeer$ServerState:[I
     240: aload_0
     241: invokevirtual #193                // Method getPeerState:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     244: invokevirtual #194                // Method org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.ordinal:()I
     247: iaload
     248: tableswitch   { // 1 to 4
                     1: 280
                     2: 635
                     3: 548
                     4: 461
               default: 733
          }
     280: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     283: ldc           #195                // String LOOKING
     285: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     290: ldc           #197                // String readonlymode.enabled
     292: invokestatic  #198                // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
     295: ifeq          418
     298: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     301: ldc           #199                // String Attempting to start ReadOnlyZooKeeperServer
     303: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     308: new           #200                // class org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer
     311: dup
     312: aload_0
     313: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     316: aload_0
     317: new           #136                // class org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder
     320: dup
     321: invokespecial #137                // Method org/apache/zookeeper/server/ZooKeeperServer$BasicDataTreeBuilder."<init>":()V
     324: aload_0
     325: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     328: invokespecial #201                // Method org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/ZooKeeperServer$DataTreeBuilder;Lorg/apache/zookeeper/server/ZKDatabase;)V
     331: astore_1
     332: new           #202                // class org/apache/zookeeper/server/quorum/QuorumPeer$1
     335: dup
     336: aload_0
     337: aload_1
     338: invokespecial #203                // Method org/apache/zookeeper/server/quorum/QuorumPeer$1."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumPeer;Lorg/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer;)V
     341: astore_2
     342: aload_2
     343: invokevirtual #62                 // Method java/lang/Thread.start:()V
     346: aload_0
     347: aconst_null
     348: invokevirtual #204                // Method setBCVote:(Lorg/apache/zookeeper/server/quorum/Vote;)V
     351: aload_0
     352: aload_0
     353: invokevirtual #205                // Method makeLEStrategy:()Lorg/apache/zookeeper/server/quorum/Election;
     356: invokeinterface #206,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/Election.lookForLeader:()Lorg/apache/zookeeper/server/quorum/Vote;
     361: invokevirtual #207                // Method setCurrentVote:(Lorg/apache/zookeeper/server/quorum/Vote;)V
     364: jsr           403
     367: goto          415
     370: astore_3
     371: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     374: ldc           #208                // String Unexpected exception
     376: aload_3
     377: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     382: aload_0
     383: getstatic     #34                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     386: invokevirtual #209                // Method setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     389: jsr           403
     392: goto          415
     395: astore        5
     397: jsr           403
     400: aload         5
     402: athrow
     403: astore        6
     405: aload_2
     406: invokevirtual #210                // Method java/lang/Thread.interrupt:()V
     409: aload_1
     410: invokevirtual #211                // Method org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer.shutdown:()V
     413: ret           6
     415: goto          733
     418: aload_0
     419: aconst_null
     420: invokevirtual #204                // Method setBCVote:(Lorg/apache/zookeeper/server/quorum/Vote;)V
     423: aload_0
     424: aload_0
     425: invokevirtual #205                // Method makeLEStrategy:()Lorg/apache/zookeeper/server/quorum/Election;
     428: invokeinterface #206,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/Election.lookForLeader:()Lorg/apache/zookeeper/server/quorum/Vote;
     433: invokevirtual #207                // Method setCurrentVote:(Lorg/apache/zookeeper/server/quorum/Vote;)V
     436: goto          733
     439: astore_1
     440: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     443: ldc           #208                // String Unexpected exception
     445: aload_1
     446: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     451: aload_0
     452: getstatic     #34                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     455: invokevirtual #209                // Method setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     458: goto          733
     461: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     464: ldc           #212                // String OBSERVING
     466: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     471: aload_0
     472: aload_0
     473: aload_0
     474: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     477: invokevirtual #213                // Method makeObserver:(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)Lorg/apache/zookeeper/server/quorum/Observer;
     480: invokevirtual #214                // Method setObserver:(Lorg/apache/zookeeper/server/quorum/Observer;)V
     483: aload_0
     484: getfield      #169                // Field observer:Lorg/apache/zookeeper/server/quorum/Observer;
     487: invokevirtual #215                // Method org/apache/zookeeper/server/quorum/Observer.observeLeader:()V
     490: jsr           522
     493: goto          545
     496: astore_1
     497: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     500: ldc           #208                // String Unexpected exception
     502: aload_1
     503: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     508: jsr           522
     511: goto          545
     514: astore        7
     516: jsr           522
     519: aload         7
     521: athrow
     522: astore        8
     524: aload_0
     525: getfield      #169                // Field observer:Lorg/apache/zookeeper/server/quorum/Observer;
     528: invokevirtual #216                // Method org/apache/zookeeper/server/quorum/Observer.shutdown:()V
     531: aload_0
     532: aconst_null
     533: invokevirtual #214                // Method setObserver:(Lorg/apache/zookeeper/server/quorum/Observer;)V
     536: aload_0
     537: getstatic     #34                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     540: invokevirtual #209                // Method setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     543: ret           8
     545: goto          733
     548: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     551: ldc           #217                // String FOLLOWING
     553: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     558: aload_0
     559: aload_0
     560: aload_0
     561: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     564: invokevirtual #218                // Method makeFollower:(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)Lorg/apache/zookeeper/server/quorum/Follower;
     567: invokevirtual #219                // Method setFollower:(Lorg/apache/zookeeper/server/quorum/Follower;)V
     570: aload_0
     571: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
     574: invokevirtual #220                // Method org/apache/zookeeper/server/quorum/Follower.followLeader:()V
     577: jsr           609
     580: goto          632
     583: astore_1
     584: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     587: ldc           #208                // String Unexpected exception
     589: aload_1
     590: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     595: jsr           609
     598: goto          632
     601: astore        9
     603: jsr           609
     606: aload         9
     608: athrow
     609: astore        10
     611: aload_0
     612: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
     615: invokevirtual #221                // Method org/apache/zookeeper/server/quorum/Follower.shutdown:()V
     618: aload_0
     619: aconst_null
     620: invokevirtual #219                // Method setFollower:(Lorg/apache/zookeeper/server/quorum/Follower;)V
     623: aload_0
     624: getstatic     #34                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     627: invokevirtual #209                // Method setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     630: ret           10
     632: goto          733
     635: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     638: ldc           #222                // String LEADING
     640: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     645: aload_0
     646: aload_0
     647: aload_0
     648: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     651: invokevirtual #223                // Method makeLeader:(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)Lorg/apache/zookeeper/server/quorum/Leader;
     654: invokevirtual #224                // Method setLeader:(Lorg/apache/zookeeper/server/quorum/Leader;)V
     657: aload_0
     658: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     661: invokevirtual #225                // Method org/apache/zookeeper/server/quorum/Leader.lead:()V
     664: aload_0
     665: aconst_null
     666: invokevirtual #224                // Method setLeader:(Lorg/apache/zookeeper/server/quorum/Leader;)V
     669: jsr           701
     672: goto          733
     675: astore_1
     676: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     679: ldc           #208                // String Unexpected exception
     681: aload_1
     682: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     687: jsr           701
     690: goto          733
     693: astore        11
     695: jsr           701
     698: aload         11
     700: athrow
     701: astore        12
     703: aload_0
     704: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     707: ifnull        724
     710: aload_0
     711: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
     714: ldc           #226                // String Forcing shutdown
     716: invokevirtual #227                // Method org/apache/zookeeper/server/quorum/Leader.shutdown:(Ljava/lang/String;)V
     719: aload_0
     720: aconst_null
     721: invokevirtual #224                // Method setLeader:(Lorg/apache/zookeeper/server/quorum/Leader;)V
     724: aload_0
     725: getstatic     #34                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.LOOKING:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
     728: invokevirtual #209                // Method setPeerState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
     731: ret           12
     733: goto          230
     736: jsr           750
     739: goto          797
     742: astore        13
     744: jsr           750
     747: aload         13
     749: athrow
     750: astore        14
     752: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     755: ldc           #228                // String QuorumPeer main thread exited
     757: invokeinterface #229,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     762: invokestatic  #182                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
     765: invokevirtual #230                // Method org/apache/zookeeper/jmx/MBeanRegistry.unregisterAll:()V
     768: goto          785
     771: astore        15
     773: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     776: ldc           #231                // String Failed to unregister with JMX
     778: aload         15
     780: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     785: aload_0
     786: aconst_null
     787: putfield      #181                // Field jmxQuorumBean:Lorg/apache/zookeeper/server/quorum/QuorumBean;
     790: aload_0
     791: aconst_null
     792: putfield      #186                // Field jmxLocalPeerBean:Lorg/apache/zookeeper/server/quorum/LocalPeerBean;
     795: ret           14
     797: return
    Exception table:
       from    to  target type
         134   145   148   Class java/lang/Exception
         179   190   193   Class java/lang/Exception
          51   210   213   Class java/lang/Exception
         342   364   370   Class java/lang/Exception
         342   367   395   any
         370   392   395   any
         395   400   395   any
         418   436   439   Class java/lang/Exception
         461   490   496   Class java/lang/Exception
         461   493   514   any
         496   511   514   any
         514   519   514   any
         548   577   583   Class java/lang/Exception
         548   580   601   any
         583   598   601   any
         601   606   601   any
         645   669   675   Class java/lang/Exception
         645   672   693   any
         675   690   693   any
         693   698   693   any
         230   739   742   any
         742   747   742   any
         762   768   771   Class java/lang/Exception

  public void shutdown();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #29                 // Field running:Z
       5: aload_0
       6: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
       9: ifnull        21
      12: aload_0
      13: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      16: ldc           #232                // String quorum Peer shutdown
      18: invokevirtual #227                // Method org/apache/zookeeper/server/quorum/Leader.shutdown:(Ljava/lang/String;)V
      21: aload_0
      22: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
      25: ifnull        35
      28: aload_0
      29: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
      32: invokevirtual #221                // Method org/apache/zookeeper/server/quorum/Follower.shutdown:()V
      35: aload_0
      36: getfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      39: invokevirtual #233                // Method org/apache/zookeeper/server/ServerCnxnFactory.shutdown:()V
      42: aload_0
      43: getfield      #121                // Field udpSocket:Ljava/net/DatagramSocket;
      46: ifnull        56
      49: aload_0
      50: getfield      #121                // Field udpSocket:Ljava/net/DatagramSocket;
      53: invokevirtual #234                // Method java/net/DatagramSocket.close:()V
      56: aload_0
      57: invokevirtual #235                // Method getElectionAlg:()Lorg/apache/zookeeper/server/quorum/Election;
      60: ifnull        76
      63: aload_0
      64: invokevirtual #236                // Method interrupt:()V
      67: aload_0
      68: invokevirtual #235                // Method getElectionAlg:()Lorg/apache/zookeeper/server/quorum/Election;
      71: invokeinterface #237,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/Election.shutdown:()V
      76: aload_0
      77: getfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      80: invokevirtual #238                // Method org/apache/zookeeper/server/ZKDatabase.close:()V
      83: goto          98
      86: astore_1
      87: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      90: ldc           #239                // String Error closing logs
      92: aload_1
      93: invokeinterface #189,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      98: return
    Exception table:
       from    to  target type
          76    83    86   Class java/io/IOException

  public java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer> getView();
    Code:
       0: aload_0
       1: getfield      #4                  // Field quorumPeers:Ljava/util/Map;
       4: invokestatic  #240                // Method java/util/Collections.unmodifiableMap:(Ljava/util/Map;)Ljava/util/Map;
       7: areturn

  public java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer> getVotingView();
    Code:
       0: new           #241                // class java/util/HashMap
       3: dup
       4: invokespecial #242                // Method java/util/HashMap."<init>":()V
       7: astore_1
       8: aload_0
       9: invokevirtual #109                // Method getView:()Ljava/util/Map;
      12: astore_2
      13: aload_2
      14: invokeinterface #110,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      19: invokeinterface #111,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      24: astore_3
      25: aload_3
      26: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          76
      34: aload_3
      35: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      40: checkcast     #8                  // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      43: astore        4
      45: aload         4
      47: getfield      #9                  // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.type:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      50: getstatic     #28                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.PARTICIPANT:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      53: if_acmpne     73
      56: aload_1
      57: aload         4
      59: getfield      #114                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      62: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      65: aload         4
      67: invokeinterface #243,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: goto          25
      76: aload_1
      77: areturn

  public java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer> getObservingView();
    Code:
       0: new           #241                // class java/util/HashMap
       3: dup
       4: invokespecial #242                // Method java/util/HashMap."<init>":()V
       7: astore_1
       8: aload_0
       9: invokevirtual #109                // Method getView:()Ljava/util/Map;
      12: astore_2
      13: aload_2
      14: invokeinterface #110,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      19: invokeinterface #111,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      24: astore_3
      25: aload_3
      26: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          76
      34: aload_3
      35: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      40: checkcast     #8                  // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      43: astore        4
      45: aload         4
      47: getfield      #9                  // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.type:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      50: getstatic     #244                // Field org/apache/zookeeper/server/quorum/QuorumPeer$LearnerType.OBSERVER:Lorg/apache/zookeeper/server/quorum/QuorumPeer$LearnerType;
      53: if_acmpne     73
      56: aload_1
      57: aload         4
      59: getfield      #114                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      62: invokestatic  #5                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      65: aload         4
      67: invokeinterface #243,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: goto          25
      76: aload_1
      77: areturn

  public boolean viewContains(java.lang.Long);
    Code:
       0: aload_0
       1: getfield      #4                  // Field quorumPeers:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #6,  2            // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      10: ireturn

  public java.lang.String[] getQuorumPeers();
    Code:
       0: new           #245                // class java/util/ArrayList
       3: dup
       4: invokespecial #246                // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_0
       9: dup
      10: astore_2
      11: monitorenter
      12: aload_0
      13: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      16: ifnull        122
      19: aload_0
      20: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      23: invokevirtual #247                // Method org/apache/zookeeper/server/quorum/Leader.getLearners:()Ljava/util/List;
      26: invokeinterface #248,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      31: astore_3
      32: aload_3
      33: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      38: ifeq          119
      41: aload_3
      42: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      47: checkcast     #249                // class org/apache/zookeeper/server/quorum/LearnerHandler
      50: astore        4
      52: aload         4
      54: invokevirtual #250                // Method org/apache/zookeeper/server/quorum/LearnerHandler.getSocket:()Ljava/net/Socket;
      57: ifnull        116
      60: aload         4
      62: invokevirtual #250                // Method org/apache/zookeeper/server/quorum/LearnerHandler.getSocket:()Ljava/net/Socket;
      65: invokevirtual #251                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      68: invokevirtual #252                // Method java/lang/Object.toString:()Ljava/lang/String;
      71: astore        5
      73: aload_0
      74: getfield      #167                // Field leader:Lorg/apache/zookeeper/server/quorum/Leader;
      77: aload         4
      79: invokevirtual #253                // Method org/apache/zookeeper/server/quorum/Leader.isLearnerSynced:(Lorg/apache/zookeeper/server/quorum/LearnerHandler;)Z
      82: ifeq          107
      85: new           #10                 // class java/lang/StringBuilder
      88: dup
      89: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      92: aload         5
      94: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: ldc           #254                // String *
      99: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     102: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     105: astore        5
     107: aload_1
     108: aload         5
     110: invokeinterface #255,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     115: pop
     116: goto          32
     119: goto          149
     122: aload_0
     123: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
     126: ifnull        149
     129: aload_1
     130: aload_0
     131: getfield      #168                // Field follower:Lorg/apache/zookeeper/server/quorum/Follower;
     134: getfield      #256                // Field org/apache/zookeeper/server/quorum/Follower.sock:Ljava/net/Socket;
     137: invokevirtual #251                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
     140: invokevirtual #252                // Method java/lang/Object.toString:()Ljava/lang/String;
     143: invokeinterface #255,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     148: pop
     149: aload_2
     150: monitorexit
     151: goto          161
     154: astore        6
     156: aload_2
     157: monitorexit
     158: aload         6
     160: athrow
     161: aload_1
     162: iconst_0
     163: anewarray     #257                // class java/lang/String
     166: invokeinterface #258,  2          // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     171: checkcast     #259                // class "[Ljava/lang/String;"
     174: areturn
    Exception table:
       from    to  target type
          12   151   154   any
         154   158   154   any

  public java.lang.String getServerState();
    Code:
       0: getstatic     #192                // Field org/apache/zookeeper/server/quorum/QuorumPeer$2.$SwitchMap$org$apache$zookeeper$server$quorum$QuorumPeer$ServerState:[I
       3: aload_0
       4: invokevirtual #193                // Method getPeerState:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
       7: invokevirtual #194                // Method org/apache/zookeeper/server/quorum/QuorumPeer$ServerState.ordinal:()I
      10: iaload
      11: tableswitch   { // 1 to 4
                     1: 40
                     2: 44
                     3: 48
                     4: 52
               default: 56
          }
      40: ldc_w         #260                // String leaderelection
      43: areturn
      44: ldc_w         #261                // String leading
      47: areturn
      48: ldc_w         #262                // String following
      51: areturn
      52: ldc_w         #263                // String observing
      55: areturn
      56: ldc_w         #264                // String unknown
      59: areturn

  public long getMyid();
    Code:
       0: aload_0
       1: getfield      #1                  // Field myid:J
       4: lreturn

  public void setMyid(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #1                  // Field myid:J
       5: return

  public int getTickTime();
    Code:
       0: aload_0
       1: getfield      #50                 // Field tickTime:I
       4: ireturn

  public void setTickTime(int);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: new           #10                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc_w         #265                // String tickTime set to
      13: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: iload_1
      17: invokevirtual #266                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      20: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      28: aload_0
      29: iload_1
      30: putfield      #50                 // Field tickTime:I
      33: return

  public int getMaxClientCnxnsPerHost();
    Code:
       0: aload_0
       1: invokevirtual #267                // Method getCnxnFactory:()Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: astore_1
       5: aload_1
       6: ifnonnull     11
       9: iconst_m1
      10: ireturn
      11: aload_1
      12: invokevirtual #268                // Method org/apache/zookeeper/server/ServerCnxnFactory.getMaxClientCnxnsPerHost:()I
      15: ireturn

  public int getMinSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #30                 // Field minSessionTimeout:I
       4: iconst_m1
       5: if_icmpne     17
       8: aload_0
       9: getfield      #50                 // Field tickTime:I
      12: iconst_2
      13: imul
      14: goto          21
      17: aload_0
      18: getfield      #30                 // Field minSessionTimeout:I
      21: ireturn

  public void setMinSessionTimeout(int);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: new           #10                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc_w         #269                // String minSessionTimeout set to
      13: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: iload_1
      17: invokevirtual #266                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      20: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      28: aload_0
      29: iload_1
      30: putfield      #30                 // Field minSessionTimeout:I
      33: return

  public int getMaxSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #31                 // Field maxSessionTimeout:I
       4: iconst_m1
       5: if_icmpne     18
       8: aload_0
       9: getfield      #50                 // Field tickTime:I
      12: bipush        20
      14: imul
      15: goto          22
      18: aload_0
      19: getfield      #31                 // Field maxSessionTimeout:I
      22: ireturn

  public void setMaxSessionTimeout(int);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: new           #10                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc_w         #270                // String maxSessionTimeout set to
      13: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: iload_1
      17: invokevirtual #266                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      20: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      28: aload_0
      29: iload_1
      30: putfield      #31                 // Field maxSessionTimeout:I
      33: return

  public int getInitLimit();
    Code:
       0: aload_0
       1: getfield      #51                 // Field initLimit:I
       4: ireturn

  public void setInitLimit(int);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: new           #10                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc_w         #271                // String initLimit set to
      13: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: iload_1
      17: invokevirtual #266                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      20: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      28: aload_0
      29: iload_1
      30: putfield      #51                 // Field initLimit:I
      33: return

  public int getTick();
    Code:
       0: aload_0
       1: getfield      #272                // Field tick:I
       4: ireturn

  public org.apache.zookeeper.server.quorum.flexible.QuorumVerifier getQuorumVerifier();
    Code:
       0: aload_0
       1: getfield      #58                 // Field quorumConfig:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
       4: areturn

  public void setQuorumVerifier(org.apache.zookeeper.server.quorum.flexible.QuorumVerifier);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #58                 // Field quorumConfig:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
       5: return

  public org.apache.zookeeper.server.quorum.Election getElectionAlg();
    Code:
       0: aload_0
       1: getfield      #128                // Field electionAlg:Lorg/apache/zookeeper/server/quorum/Election;
       4: areturn

  public int getSyncLimit();
    Code:
       0: aload_0
       1: getfield      #52                 // Field syncLimit:I
       4: ireturn

  public void setSyncLimit(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #52                 // Field syncLimit:I
       5: return

  public boolean getSyncEnabled();
    Code:
       0: ldc_w         #273                // String zookeeper.observer.syncEnabled
       3: invokestatic  #274                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       6: ifnull        49
       9: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      12: new           #10                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      19: ldc_w         #275                // String zookeeper.observer.syncEnabled=
      22: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: ldc_w         #273                // String zookeeper.observer.syncEnabled
      28: invokestatic  #198                // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
      31: invokevirtual #276                // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      34: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokeinterface #196,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      42: ldc_w         #273                // String zookeeper.observer.syncEnabled
      45: invokestatic  #198                // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
      48: ireturn
      49: aload_0
      50: getfield      #32                 // Field syncEnabled:Z
      53: ireturn

  public void setSyncEnabled(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #32                 // Field syncEnabled:Z
       5: return

  public int getElectionType();
    Code:
       0: aload_0
       1: getfield      #49                 // Field electionType:I
       4: ireturn

  public void setElectionType(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #49                 // Field electionType:I
       5: return

  public boolean getQuorumListenOnAllIPs();
    Code:
       0: aload_0
       1: getfield      #33                 // Field quorumListenOnAllIPs:Z
       4: ireturn

  public void setQuorumListenOnAllIPs(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #33                 // Field quorumListenOnAllIPs:Z
       5: return

  public org.apache.zookeeper.server.ServerCnxnFactory getCnxnFactory();
    Code:
       0: aload_0
       1: getfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: areturn

  public void setCnxnFactory(org.apache.zookeeper.server.ServerCnxnFactory);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       5: return

  public void setQuorumPeers(java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field quorumPeers:Ljava/util/Map;
       5: return

  public int getClientPort();
    Code:
       0: aload_0
       1: getfield      #48                 // Field cnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: invokevirtual #277                // Method org/apache/zookeeper/server/ServerCnxnFactory.getLocalPort:()I
       7: ireturn

  public void setClientPortAddress(java.net.InetSocketAddress);
    Code:
       0: return

  public void setTxnFactory(org.apache.zookeeper.server.persistence.FileTxnSnapLog);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       5: return

  public org.apache.zookeeper.server.persistence.FileTxnSnapLog getTxnFactory();
    Code:
       0: aload_0
       1: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       4: areturn

  public void setZKDatabase(org.apache.zookeeper.server.ZKDatabase);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #57                 // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       5: return

  public void setRunning(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #29                 // Field running:Z
       5: return

  public boolean isRunning();
    Code:
       0: aload_0
       1: getfield      #29                 // Field running:Z
       4: ireturn

  public org.apache.zookeeper.server.quorum.QuorumCnxManager getQuorumCnxManager();
    Code:
       0: aload_0
       1: getfield      #155                // Field qcm:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;
       4: areturn

  private long readLongFromFile(java.lang.String) throws java.io.IOException;
    Code:
       0: new           #63                 // class java/io/File
       3: dup
       4: aload_0
       5: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       8: invokevirtual #65                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      11: aload_1
      12: invokespecial #67                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      15: astore_2
      16: new           #278                // class java/io/BufferedReader
      19: dup
      20: new           #279                // class java/io/FileReader
      23: dup
      24: aload_2
      25: invokespecial #280                // Method java/io/FileReader."<init>":(Ljava/io/File;)V
      28: invokespecial #281                // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      31: astore_3
      32: ldc_w         #282                // String
      35: astore        4
      37: aload_3
      38: invokevirtual #283                // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
      41: astore        4
      43: aload         4
      45: invokestatic  #284                // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
      48: lstore        5
      50: jsr           105
      53: lload         5
      55: lreturn
      56: astore        5
      58: new           #79                 // class java/io/IOException
      61: dup
      62: new           #10                 // class java/lang/StringBuilder
      65: dup
      66: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      69: ldc_w         #286                // String Found
      72: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload         4
      77: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: ldc_w         #287                // String  in
      83: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload_2
      87: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      90: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: invokespecial #82                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      96: athrow
      97: astore        7
      99: jsr           105
     102: aload         7
     104: athrow
     105: astore        8
     107: aload_3
     108: invokevirtual #288                // Method java/io/BufferedReader.close:()V
     111: ret           8
    Exception table:
       from    to  target type
          37    53    56   Class java/lang/NumberFormatException
          37    53    97   any
          56   102    97   any

  private void writeLongToFile(java.lang.String, long) throws java.io.IOException;
    Code:
       0: new           #63                 // class java/io/File
       3: dup
       4: aload_0
       5: getfield      #35                 // Field logFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       8: invokevirtual #65                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      11: aload_1
      12: invokespecial #67                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      15: astore        4
      17: new           #289                // class org/apache/zookeeper/common/AtomicFileOutputStream
      20: dup
      21: aload         4
      23: invokespecial #290                // Method org/apache/zookeeper/common/AtomicFileOutputStream."<init>":(Ljava/io/File;)V
      26: astore        5
      28: new           #291                // class java/io/BufferedWriter
      31: dup
      32: new           #292                // class java/io/OutputStreamWriter
      35: dup
      36: aload         5
      38: invokespecial #293                // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;)V
      41: invokespecial #294                // Method java/io/BufferedWriter."<init>":(Ljava/io/Writer;)V
      44: astore        6
      46: iconst_0
      47: istore        7
      49: aload         6
      51: lload_2
      52: invokestatic  #295                // Method java/lang/Long.toString:(J)Ljava/lang/String;
      55: invokevirtual #296                // Method java/io/BufferedWriter.write:(Ljava/lang/String;)V
      58: aload         6
      60: invokevirtual #297                // Method java/io/BufferedWriter.flush:()V
      63: aload         5
      65: invokevirtual #298                // Method org/apache/zookeeper/common/AtomicFileOutputStream.flush:()V
      68: jsr           126
      71: goto          140
      74: astore        8
      76: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      79: new           #10                 // class java/lang/StringBuilder
      82: dup
      83: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      86: ldc_w         #299                // String Failed to write new file
      89: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: aload         4
      94: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      97: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: aload         8
     102: invokeinterface #94,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     107: iconst_1
     108: istore        7
     110: aload         5
     112: invokevirtual #300                // Method org/apache/zookeeper/common/AtomicFileOutputStream.abort:()V
     115: aload         8
     117: athrow
     118: astore        9
     120: jsr           126
     123: aload         9
     125: athrow
     126: astore        10
     128: iload         7
     130: ifne          138
     133: aload         5
     135: invokevirtual #301                // Method org/apache/zookeeper/common/AtomicFileOutputStream.close:()V
     138: ret           10
     140: return
    Exception table:
       from    to  target type
          49    68    74   Class java/io/IOException
          49    71   118   any
          74   123   118   any

  public long getCurrentEpoch() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #39                 // Field currentEpoch:J
       4: ldc2_w        #36                 // long -1l
       7: lcmp
       8: ifne          21
      11: aload_0
      12: aload_0
      13: ldc           #72                 // String currentEpoch
      15: invokespecial #73                 // Method readLongFromFile:(Ljava/lang/String;)J
      18: putfield      #39                 // Field currentEpoch:J
      21: aload_0
      22: getfield      #39                 // Field currentEpoch:J
      25: lreturn

  public long getAcceptedEpoch() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #38                 // Field acceptedEpoch:J
       4: ldc2_w        #36                 // long -1l
       7: lcmp
       8: ifne          21
      11: aload_0
      12: aload_0
      13: ldc           #90                 // String acceptedEpoch
      15: invokespecial #73                 // Method readLongFromFile:(Ljava/lang/String;)J
      18: putfield      #38                 // Field acceptedEpoch:J
      21: aload_0
      22: getfield      #38                 // Field acceptedEpoch:J
      25: lreturn

  public void setCurrentEpoch(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #39                 // Field currentEpoch:J
       5: aload_0
       6: ldc           #72                 // String currentEpoch
       8: lload_1
       9: invokespecial #86                 // Method writeLongToFile:(Ljava/lang/String;J)V
      12: return

  public void setAcceptedEpoch(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #38                 // Field acceptedEpoch:J
       5: aload_0
       6: ldc           #90                 // String acceptedEpoch
       8: lload_1
       9: invokespecial #86                 // Method writeLongToFile:(Ljava/lang/String;J)V
      12: return

  protected void updateElectionVote(long);
    Code:
       0: aload_0
       1: invokevirtual #302                // Method getCurrentVote:()Lorg/apache/zookeeper/server/quorum/Vote;
       4: astore_3
       5: aload_0
       6: aload_3
       7: invokevirtual #204                // Method setBCVote:(Lorg/apache/zookeeper/server/quorum/Vote;)V
      10: aload_3
      11: ifnull        42
      14: aload_0
      15: new           #101                // class org/apache/zookeeper/server/quorum/Vote
      18: dup
      19: aload_3
      20: invokevirtual #303                // Method org/apache/zookeeper/server/quorum/Vote.getId:()J
      23: aload_3
      24: invokevirtual #304                // Method org/apache/zookeeper/server/quorum/Vote.getZxid:()J
      27: aload_3
      28: invokevirtual #305                // Method org/apache/zookeeper/server/quorum/Vote.getElectionEpoch:()J
      31: lload_1
      32: aload_3
      33: invokevirtual #306                // Method org/apache/zookeeper/server/quorum/Vote.getState:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;
      36: invokespecial #307                // Method org/apache/zookeeper/server/quorum/Vote."<init>":(JJJJLorg/apache/zookeeper/server/quorum/QuorumPeer$ServerState;)V
      39: invokevirtual #207                // Method setCurrentVote:(Lorg/apache/zookeeper/server/quorum/Vote;)V
      42: return

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static long access$100(org.apache.zookeeper.server.quorum.QuorumPeer);
    Code:
       0: aload_0
       1: getfield      #1                  // Field myid:J
       4: lreturn

  static {};
    Code:
       0: ldc_w         #308                // class org/apache/zookeeper/server/quorum/QuorumPeer
       3: invokevirtual #309                // Method java/lang/Class.desiredAssertionStatus:()Z
       6: ifne          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: putstatic     #161                // Field $assertionsDisabled:Z
      17: ldc_w         #308                // class org/apache/zookeeper/server/quorum/QuorumPeer
      20: invokestatic  #310                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      23: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      26: return
}
