Compiled from "Observer.java"
public class org.apache.zookeeper.server.quorum.Observer extends org.apache.zookeeper.server.quorum.Learner {
  org.apache.zookeeper.server.quorum.Observer(org.apache.zookeeper.server.quorum.QuorumPeer, org.apache.zookeeper.server.quorum.ObserverZooKeeperServer);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/zookeeper/server/quorum/Learner."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      14: return

  public java.lang.String toString();
    Code:
       0: new           #4                  // class java/lang/StringBuilder
       3: dup
       4: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #6                  // String Observer
      11: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_0
      15: getfield      #8                  // Field sock:Ljava/net/Socket;
      18: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      21: pop
      22: aload_1
      23: ldc           #10                 // String  pendingRevalidationCount:
      25: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: getfield      #11                 // Field pendingRevalidations:Ljava/util/concurrent/ConcurrentHashMap;
      32: invokevirtual #12                 // Method java/util/concurrent/ConcurrentHashMap.size:()I
      35: invokevirtual #13                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      38: pop
      39: aload_1
      40: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: areturn

  void observeLeader() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
       4: new           #15                 // class org/apache/zookeeper/server/ObserverBean
       7: dup
       8: aload_0
       9: aload_0
      10: getfield      #3                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      13: invokespecial #16                 // Method org/apache/zookeeper/server/ObserverBean."<init>":(Lorg/apache/zookeeper/server/quorum/Observer;Lorg/apache/zookeeper/server/ZooKeeperServer;)V
      16: aload_0
      17: getfield      #2                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      20: getfield      #17                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLocalPeerBean:Lorg/apache/zookeeper/server/quorum/LocalPeerBean;
      23: invokevirtual #18                 // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.registerJMX:(Lorg/apache/zookeeper/server/ZooKeeperServerBean;Lorg/apache/zookeeper/server/quorum/LocalPeerBean;)V
      26: aload_0
      27: invokevirtual #19                 // Method findLeader:()Ljava/net/InetSocketAddress;
      30: astore_1
      31: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
      34: new           #4                  // class java/lang/StringBuilder
      37: dup
      38: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
      41: ldc           #21                 // String Observing
      43: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_1
      47: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      50: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokeinterface #22,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      58: aload_0
      59: aload_1
      60: invokevirtual #23                 // Method connectToLeader:(Ljava/net/InetSocketAddress;)V
      63: aload_0
      64: bipush        16
      66: invokevirtual #24                 // Method registerWithLeader:(I)J
      69: lstore_2
      70: aload_0
      71: lload_2
      72: invokevirtual #25                 // Method syncWithLeader:(J)V
      75: new           #26                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      78: dup
      79: invokespecial #27                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
      82: astore        4
      84: aload_0
      85: getfield      #2                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      88: invokevirtual #28                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.isRunning:()Z
      91: ifeq          109
      94: aload_0
      95: aload         4
      97: invokevirtual #29                 // Method readPacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     100: aload_0
     101: aload         4
     103: invokevirtual #30                 // Method processPacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     106: goto          84
     109: goto          146
     112: astore_2
     113: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
     116: ldc           #32                 // String Exception when observing the leader
     118: aload_2
     119: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     124: aload_0
     125: getfield      #8                  // Field sock:Ljava/net/Socket;
     128: invokevirtual #34                 // Method java/net/Socket.close:()V
     131: goto          139
     134: astore_3
     135: aload_3
     136: invokevirtual #35                 // Method java/io/IOException.printStackTrace:()V
     139: aload_0
     140: getfield      #11                 // Field pendingRevalidations:Ljava/util/concurrent/ConcurrentHashMap;
     143: invokevirtual #36                 // Method java/util/concurrent/ConcurrentHashMap.clear:()V
     146: jsr           160
     149: goto          172
     152: astore        5
     154: jsr           160
     157: aload         5
     159: athrow
     160: astore        6
     162: aload_0
     163: getfield      #3                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     166: aload_0
     167: invokevirtual #37                 // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.unregisterJMX:(Lorg/apache/zookeeper/server/quorum/Learner;)V
     170: ret           6
     172: return
    Exception table:
       from    to  target type
          58   109   112   Class java/io/IOException
         124   131   134   Class java/io/IOException
          26   149   152   any
         152   157   152   any

  protected void processPacket(org.apache.zookeeper.server.quorum.QuorumPacket) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #38                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
       4: tableswitch   { // 2 to 12
                     2: 72
                     3: 201
                     4: 85
                     5: 64
                     6: 111
                     7: 119
                     8: 132
                     9: 201
                    10: 201
                    11: 201
                    12: 98
               default: 201
          }
      64: aload_0
      65: aload_1
      66: invokevirtual #39                 // Method ping:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
      69: goto          201
      72: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
      75: ldc           #40                 // String Ignoring proposal
      77: invokeinterface #41,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      82: goto          201
      85: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
      88: ldc           #42                 // String Ignoring commit
      90: invokeinterface #41,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      95: goto          201
      98: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
     101: ldc           #43                 // String Received an UPTODATE message after Observer started
     103: invokeinterface #44,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     108: goto          201
     111: aload_0
     112: aload_1
     113: invokevirtual #45                 // Method revalidate:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     116: goto          201
     119: aload_0
     120: getfield      #3                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     123: checkcast     #46                 // class org/apache/zookeeper/server/quorum/ObserverZooKeeperServer
     126: invokevirtual #47                 // Method org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.sync:()V
     129: goto          201
     132: new           #48                 // class org/apache/zookeeper/txn/TxnHeader
     135: dup
     136: invokespecial #49                 // Method org/apache/zookeeper/txn/TxnHeader."<init>":()V
     139: astore_2
     140: aload_1
     141: invokevirtual #50                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
     144: aload_2
     145: invokestatic  #51                 // Method org/apache/zookeeper/server/util/SerializeUtils.deserializeTxn:([BLorg/apache/zookeeper/txn/TxnHeader;)Lorg/apache/jute/Record;
     148: astore_3
     149: new           #52                 // class org/apache/zookeeper/server/Request
     152: dup
     153: aconst_null
     154: aload_2
     155: invokevirtual #53                 // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
     158: aload_2
     159: invokevirtual #54                 // Method org/apache/zookeeper/txn/TxnHeader.getCxid:()I
     162: aload_2
     163: invokevirtual #55                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
     166: aconst_null
     167: aconst_null
     168: invokespecial #56                 // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
     171: astore        4
     173: aload         4
     175: aload_3
     176: putfield      #57                 // Field org/apache/zookeeper/server/Request.txn:Lorg/apache/jute/Record;
     179: aload         4
     181: aload_2
     182: putfield      #58                 // Field org/apache/zookeeper/server/Request.hdr:Lorg/apache/zookeeper/txn/TxnHeader;
     185: aload_0
     186: getfield      #3                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     189: checkcast     #46                 // class org/apache/zookeeper/server/quorum/ObserverZooKeeperServer
     192: astore        5
     194: aload         5
     196: aload         4
     198: invokevirtual #59                 // Method org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.commitRequest:(Lorg/apache/zookeeper/server/Request;)V
     201: return

  public void shutdown();
    Code:
       0: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #60                 // String shutdown called
       5: new           #61                 // class java/lang/Exception
       8: dup
       9: ldc           #62                 // String shutdown Observer
      11: invokespecial #63                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
      14: invokeinterface #64,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Throwable;)V
      19: aload_0
      20: invokespecial #65                 // Method org/apache/zookeeper/server/quorum/Learner.shutdown:()V
      23: return
}
