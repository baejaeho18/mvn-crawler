Compiled from "ReadOnlyRequestProcessor.java"
public class org.apache.zookeeper.server.quorum.ReadOnlyRequestProcessor extends java.lang.Thread implements org.apache.zookeeper.server.RequestProcessor {
  private static final org.slf4j.Logger LOG;

  private java.util.concurrent.LinkedBlockingQueue<org.apache.zookeeper.server.Request> queuedRequests;

  private boolean finished;

  private org.apache.zookeeper.server.RequestProcessor nextProcessor;

  private org.apache.zookeeper.server.ZooKeeperServer zks;

  public org.apache.zookeeper.server.quorum.ReadOnlyRequestProcessor(org.apache.zookeeper.server.ZooKeeperServer, org.apache.zookeeper.server.RequestProcessor);
    Code:
       0: aload_0
       1: new           #1                  // class java/lang/StringBuilder
       4: dup
       5: invokespecial #2                  // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #3                  // String ReadOnlyRequestProcessor:
      10: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: invokevirtual #5                  // Method org/apache/zookeeper/server/ZooKeeperServer.getServerId:()J
      17: invokevirtual #6                  // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      20: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: invokespecial #8                  // Method java/lang/Thread."<init>":(Ljava/lang/String;)V
      26: aload_0
      27: new           #9                  // class java/util/concurrent/LinkedBlockingQueue
      30: dup
      31: invokespecial #10                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":()V
      34: putfield      #11                 // Field queuedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      37: aload_0
      38: iconst_0
      39: putfield      #12                 // Field finished:Z
      42: aload_0
      43: aload_1
      44: putfield      #13                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      47: aload_0
      48: aload_2
      49: putfield      #14                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      52: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #12                 // Field finished:Z
       4: ifne          224
       7: aload_0
       8: getfield      #11                 // Field queuedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      11: invokevirtual #15                 // Method java/util/concurrent/LinkedBlockingQueue.take:()Ljava/lang/Object;
      14: checkcast     #16                 // class org/apache/zookeeper/server/Request
      17: astore_1
      18: ldc2_w        #17                 // long 2l
      21: lstore_2
      22: aload_1
      23: getfield      #19                 // Field org/apache/zookeeper/server/Request.type:I
      26: bipush        11
      28: if_icmpne     35
      31: ldc2_w        #20                 // long 8l
      34: lstore_2
      35: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      38: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      43: ifeq          58
      46: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      49: lload_2
      50: bipush        82
      52: aload_1
      53: ldc           #24                 // String
      55: invokestatic  #25                 // Method org/apache/zookeeper/server/ZooTrace.logRequest:(Lorg/slf4j/Logger;JCLorg/apache/zookeeper/server/Request;Ljava/lang/String;)V
      58: getstatic     #26                 // Field org/apache/zookeeper/server/Request.requestOfDeath:Lorg/apache/zookeeper/server/Request;
      61: aload_1
      62: if_acmpne     68
      65: goto          224
      68: aload_1
      69: getfield      #19                 // Field org/apache/zookeeper/server/Request.type:I
      72: tableswitch   { // 1 to 14
                     1: 144
                     2: 144
                     3: 204
                     4: 204
                     5: 144
                     6: 204
                     7: 144
                     8: 204
                     9: 144
                    10: 204
                    11: 204
                    12: 204
                    13: 144
                    14: 144
               default: 204
          }
     144: new           #27                 // class org/apache/zookeeper/proto/ReplyHeader
     147: dup
     148: aload_1
     149: getfield      #28                 // Field org/apache/zookeeper/server/Request.cxid:I
     152: aload_0
     153: getfield      #13                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     156: invokevirtual #29                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     159: invokevirtual #30                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
     162: getstatic     #31                 // Field org/apache/zookeeper/KeeperException$Code.NOTREADONLY:Lorg/apache/zookeeper/KeeperException$Code;
     165: invokevirtual #32                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     168: invokespecial #33                 // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     171: astore        4
     173: aload_1
     174: getfield      #34                 // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     177: aload         4
     179: aconst_null
     180: aconst_null
     181: invokevirtual #35                 // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     184: goto          0
     187: astore        5
     189: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     192: ldc           #37                 // String IO exception while sending response
     194: aload         5
     196: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     201: goto          0
     204: aload_0
     205: getfield      #14                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     208: ifnull        221
     211: aload_0
     212: getfield      #14                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     215: aload_1
     216: invokeinterface #39,  2           // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     221: goto          0
     224: goto          294
     227: astore_1
     228: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     231: ldc           #41                 // String Unexpected interruption
     233: aload_1
     234: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     239: goto          294
     242: astore_1
     243: aload_1
     244: invokevirtual #43                 // Method org/apache/zookeeper/server/RequestProcessor$RequestProcessorException.getCause:()Ljava/lang/Throwable;
     247: instanceof    #44                 // class org/apache/zookeeper/server/quorum/Leader$XidRolloverException
     250: ifeq          268
     253: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     256: aload_1
     257: invokevirtual #43                 // Method org/apache/zookeeper/server/RequestProcessor$RequestProcessorException.getCause:()Ljava/lang/Throwable;
     260: invokevirtual #45                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
     263: invokeinterface #46,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     268: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     271: ldc           #47                 // String Unexpected exception
     273: aload_1
     274: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     279: goto          294
     282: astore_1
     283: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     286: ldc           #47                 // String Unexpected exception
     288: aload_1
     289: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     294: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     297: ldc           #49                 // String ReadOnlyRequestProcessor exited loop!
     299: invokeinterface #46,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     304: return
    Exception table:
       from    to  target type
         173   184   187   Class java/io/IOException
           0   224   227   Class java/lang/InterruptedException
           0   224   242   Class org/apache/zookeeper/server/RequestProcessor$RequestProcessorException
           0   224   282   Class java/lang/Exception

  public void processRequest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_0
       1: getfield      #12                 // Field finished:Z
       4: ifne          16
       7: aload_0
       8: getfield      #11                 // Field queuedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      11: aload_1
      12: invokevirtual #50                 // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
      15: pop
      16: return

  public void shutdown();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #12                 // Field finished:Z
       5: aload_0
       6: getfield      #11                 // Field queuedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
       9: invokevirtual #51                 // Method java/util/concurrent/LinkedBlockingQueue.clear:()V
      12: aload_0
      13: getfield      #11                 // Field queuedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      16: getstatic     #26                 // Field org/apache/zookeeper/server/Request.requestOfDeath:Lorg/apache/zookeeper/server/Request;
      19: invokevirtual #50                 // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
      22: pop
      23: aload_0
      24: getfield      #14                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      27: invokeinterface #52,  1           // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.shutdown:()V
      32: return

  static {};
    Code:
       0: ldc_w         #53                 // class org/apache/zookeeper/server/quorum/ReadOnlyRequestProcessor
       3: invokestatic  #54                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
