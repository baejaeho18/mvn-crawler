Compiled from "GenericFileOnCompletion.java"
public class org.apache.camel.component.file.GenericFileOnCompletion<T> implements org.apache.camel.spi.Synchronization {
  private final org.slf4j.Logger log;

  private org.apache.camel.component.file.GenericFileEndpoint<T> endpoint;

  private org.apache.camel.component.file.GenericFileOperations<T> operations;

  private org.apache.camel.spi.ExceptionHandler exceptionHandler;

  private org.apache.camel.component.file.GenericFile<T> file;

  private java.lang.String absoluteFileName;

  public org.apache.camel.component.file.GenericFileOnCompletion(org.apache.camel.component.file.GenericFileEndpoint<T>, org.apache.camel.component.file.GenericFileOperations<T>, org.apache.camel.component.file.GenericFile<T>, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #28                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc           #2                  // class org/apache/camel/component/file/GenericFileOnCompletion
       7: invokestatic  #34                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      10: putfield      #36                 // Field log:Lorg/slf4j/Logger;
      13: aload_0
      14: aload_1
      15: putfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      18: aload_0
      19: aload_2
      20: putfield      #40                 // Field operations:Lorg/apache/camel/component/file/GenericFileOperations;
      23: aload_0
      24: aload_3
      25: putfield      #42                 // Field file:Lorg/apache/camel/component/file/GenericFile;
      28: aload_0
      29: aload         4
      31: putfield      #44                 // Field absoluteFileName:Ljava/lang/String;
      34: aload_0
      35: new           #46                 // class org/apache/camel/impl/LoggingExceptionHandler
      38: dup
      39: aload_1
      40: invokevirtual #52                 // Method org/apache/camel/component/file/GenericFileEndpoint.getCamelContext:()Lorg/apache/camel/CamelContext;
      43: aload_0
      44: invokevirtual #56                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      47: invokespecial #59                 // Method org/apache/camel/impl/LoggingExceptionHandler."<init>":(Lorg/apache/camel/CamelContext;Ljava/lang/Class;)V
      50: putfield      #61                 // Field exceptionHandler:Lorg/apache/camel/spi/ExceptionHandler;
      53: return

  public void onComplete(org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #69                 // Method onCompletion:(Lorg/apache/camel/Exchange;)V
       5: return

  public void onFailure(org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #69                 // Method onCompletion:(Lorg/apache/camel/Exchange;)V
       5: return

  public org.apache.camel.spi.ExceptionHandler getExceptionHandler();
    Code:
       0: aload_0
       1: getfield      #61                 // Field exceptionHandler:Lorg/apache/camel/spi/ExceptionHandler;
       4: areturn

  public void setExceptionHandler(org.apache.camel.spi.ExceptionHandler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #61                 // Field exceptionHandler:Lorg/apache/camel/spi/ExceptionHandler;
       5: return

  protected void onCompletion(org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
       4: invokevirtual #80                 // Method org/apache/camel/component/file/GenericFileEndpoint.getGenericFileProcessStrategy:()Lorg/apache/camel/component/file/GenericFileProcessStrategy;
       7: astore_2
       8: aload_0
       9: getfield      #36                 // Field log:Lorg/slf4j/Logger;
      12: ldc           #82                 // String Done processing file: {} using exchange: {}
      14: aload_0
      15: getfield      #42                 // Field file:Lorg/apache/camel/component/file/GenericFile;
      18: aload_1
      19: invokeinterface #88,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      24: iconst_0
      25: istore_3
      26: aload_1
      27: invokeinterface #94,  1           // InterfaceMethod org/apache/camel/Exchange.isFailed:()Z
      32: istore        4
      34: iload         4
      36: ifne          51
      39: aload_0
      40: aload_2
      41: aload_1
      42: aload_0
      43: getfield      #42                 // Field file:Lorg/apache/camel/component/file/GenericFile;
      46: invokevirtual #98                 // Method processStrategyCommit:(Lorg/apache/camel/component/file/GenericFileProcessStrategy;Lorg/apache/camel/Exchange;Lorg/apache/camel/component/file/GenericFile;)V
      49: iconst_1
      50: istore_3
      51: iload_3
      52: ifne          65
      55: aload_0
      56: aload_2
      57: aload_1
      58: aload_0
      59: getfield      #42                 // Field file:Lorg/apache/camel/component/file/GenericFile;
      62: invokevirtual #103                // Method processStrategyRollback:(Lorg/apache/camel/component/file/GenericFileProcessStrategy;Lorg/apache/camel/Exchange;Lorg/apache/camel/component/file/GenericFile;)V
      65: aload_0
      66: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      69: invokevirtual #107                // Method org/apache/camel/component/file/GenericFileEndpoint.getInProgressRepository:()Lorg/apache/camel/spi/IdempotentRepository;
      72: aload_0
      73: getfield      #44                 // Field absoluteFileName:Ljava/lang/String;
      76: invokeinterface #113,  2          // InterfaceMethod org/apache/camel/spi/IdempotentRepository.remove:(Ljava/lang/Object;)Z
      81: pop
      82: goto          121
      85: astore        5
      87: iload_3
      88: ifne          101
      91: aload_0
      92: aload_2
      93: aload_1
      94: aload_0
      95: getfield      #42                 // Field file:Lorg/apache/camel/component/file/GenericFile;
      98: invokevirtual #103                // Method processStrategyRollback:(Lorg/apache/camel/component/file/GenericFileProcessStrategy;Lorg/apache/camel/Exchange;Lorg/apache/camel/component/file/GenericFile;)V
     101: aload_0
     102: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     105: invokevirtual #107                // Method org/apache/camel/component/file/GenericFileEndpoint.getInProgressRepository:()Lorg/apache/camel/spi/IdempotentRepository;
     108: aload_0
     109: getfield      #44                 // Field absoluteFileName:Ljava/lang/String;
     112: invokeinterface #113,  2          // InterfaceMethod org/apache/camel/spi/IdempotentRepository.remove:(Ljava/lang/Object;)Z
     117: pop
     118: aload         5
     120: athrow
     121: return
    Exception table:
       from    to  target type
          26    51    85   any
          85    87    85   any

  protected void processStrategyCommit(org.apache.camel.component.file.GenericFileProcessStrategy<T>, org.apache.camel.Exchange, org.apache.camel.component.file.GenericFile<T>);
    Code:
       0: aload_0
       1: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
       4: invokevirtual #127                // Method org/apache/camel/component/file/GenericFileEndpoint.isIdempotent:()Ljava/lang/Boolean;
       7: invokevirtual #132                // Method java/lang/Boolean.booleanValue:()Z
      10: ifeq          80
      13: aload_0
      14: getfield      #44                 // Field absoluteFileName:Ljava/lang/String;
      17: astore        4
      19: aload_0
      20: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      23: invokevirtual #136                // Method org/apache/camel/component/file/GenericFileEndpoint.getIdempotentKey:()Lorg/apache/camel/Expression;
      26: ifnull        60
      29: aload_0
      30: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      33: aload_3
      34: invokevirtual #140                // Method org/apache/camel/component/file/GenericFileEndpoint.createExchange:(Lorg/apache/camel/component/file/GenericFile;)Lorg/apache/camel/Exchange;
      37: astore        5
      39: aload_0
      40: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      43: invokevirtual #136                // Method org/apache/camel/component/file/GenericFileEndpoint.getIdempotentKey:()Lorg/apache/camel/Expression;
      46: aload         5
      48: ldc           #142                // class java/lang/String
      50: invokeinterface #148,  3          // InterfaceMethod org/apache/camel/Expression.evaluate:(Lorg/apache/camel/Exchange;Ljava/lang/Class;)Ljava/lang/Object;
      55: checkcast     #142                // class java/lang/String
      58: astore        4
      60: aload         4
      62: ifnull        80
      65: aload_0
      66: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      69: invokevirtual #151                // Method org/apache/camel/component/file/GenericFileEndpoint.getIdempotentRepository:()Lorg/apache/camel/spi/IdempotentRepository;
      72: aload         4
      74: invokeinterface #154,  2          // InterfaceMethod org/apache/camel/spi/IdempotentRepository.add:(Ljava/lang/Object;)Z
      79: pop
      80: aload_2
      81: ldc           #156                // String CamelBatchComplete
      83: iconst_0
      84: invokestatic  #160                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      87: ldc           #129                // class java/lang/Boolean
      89: invokeinterface #164,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      94: checkcast     #129                // class java/lang/Boolean
      97: invokevirtual #132                // Method java/lang/Boolean.booleanValue:()Z
     100: istore        4
     102: aload_0
     103: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     106: invokevirtual #168                // Method org/apache/camel/component/file/GenericFileEndpoint.getDoneFileName:()Ljava/lang/String;
     109: ifnull        269
     112: aload_0
     113: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     116: invokevirtual #171                // Method org/apache/camel/component/file/GenericFileEndpoint.isNoop:()Z
     119: ifne          269
     122: aload_0
     123: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     126: aload_0
     127: getfield      #44                 // Field absoluteFileName:Ljava/lang/String;
     130: invokevirtual #175                // Method org/apache/camel/component/file/GenericFileEndpoint.createDoneFileName:(Ljava/lang/String;)Ljava/lang/String;
     133: astore        5
     135: aload         5
     137: ldc           #177                // String doneFileName
     139: aload_0
     140: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     143: invokestatic  #183                // Method org/apache/camel/util/ObjectHelper.notEmpty:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/String;
     146: pop
     147: aload_0
     148: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     151: invokevirtual #168                // Method org/apache/camel/component/file/GenericFileEndpoint.getDoneFileName:()Ljava/lang/String;
     154: ldc           #185                // String {file:name
     156: invokevirtual #189                // Method java/lang/String.indexOf:(Ljava/lang/String;)I
     159: ifgt          167
     162: iload         4
     164: ifeq          269
     167: aload_0
     168: getfield      #40                 // Field operations:Lorg/apache/camel/component/file/GenericFileOperations;
     171: aload         5
     173: invokeinterface #195,  2          // InterfaceMethod org/apache/camel/component/file/GenericFileOperations.deleteFile:(Ljava/lang/String;)Z
     178: istore        6
     180: aload_0
     181: getfield      #36                 // Field log:Lorg/slf4j/Logger;
     184: ldc           #197                // String Done file: {} was deleted: {}
     186: aload         5
     188: iload         6
     190: invokestatic  #160                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     193: invokeinterface #200,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     198: iload         6
     200: ifne          237
     203: aload_0
     204: getfield      #36                 // Field log:Lorg/slf4j/Logger;
     207: new           #202                // class java/lang/StringBuilder
     210: dup
     211: invokespecial #203                // Method java/lang/StringBuilder."<init>":()V
     214: ldc           #205                // String Done file:
     216: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     219: aload         5
     221: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: ldc           #211                // String  could not be deleted
     226: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     229: invokevirtual #214                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     232: invokeinterface #218,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     237: goto          269
     240: astore        6
     242: aload_0
     243: new           #202                // class java/lang/StringBuilder
     246: dup
     247: invokespecial #203                // Method java/lang/StringBuilder."<init>":()V
     250: ldc           #220                // String Error deleting done file:
     252: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     255: aload         5
     257: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     260: invokevirtual #214                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     263: aload_2
     264: aload         6
     266: invokevirtual #224                // Method handleException:(Ljava/lang/String;Lorg/apache/camel/Exchange;Ljava/lang/Throwable;)V
     269: aload_0
     270: getfield      #36                 // Field log:Lorg/slf4j/Logger;
     273: ldc           #226                // String Commit file strategy: {} for file: {}
     275: aload_1
     276: aload_3
     277: invokeinterface #200,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     282: aload_1
     283: aload_0
     284: getfield      #40                 // Field operations:Lorg/apache/camel/component/file/GenericFileOperations;
     287: aload_0
     288: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
     291: aload_2
     292: aload_3
     293: invokeinterface #230,  5          // InterfaceMethod org/apache/camel/component/file/GenericFileProcessStrategy.commit:(Lorg/apache/camel/component/file/GenericFileOperations;Lorg/apache/camel/component/file/GenericFileEndpoint;Lorg/apache/camel/Exchange;Lorg/apache/camel/component/file/GenericFile;)V
     298: goto          312
     301: astore        5
     303: aload_0
     304: ldc           #232                // String Error during commit
     306: aload_2
     307: aload         5
     309: invokevirtual #224                // Method handleException:(Ljava/lang/String;Lorg/apache/camel/Exchange;Ljava/lang/Throwable;)V
     312: return
    Exception table:
       from    to  target type
         167   237   240   Class java/lang/Exception
         269   298   301   Class java/lang/Exception

  protected void processStrategyRollback(org.apache.camel.component.file.GenericFileProcessStrategy<T>, org.apache.camel.Exchange, org.apache.camel.component.file.GenericFile<T>);
    Code:
       0: aload_0
       1: getfield      #36                 // Field log:Lorg/slf4j/Logger;
       4: invokeinterface #241,  1          // InterfaceMethod org/slf4j/Logger.isWarnEnabled:()Z
       9: ifeq          49
      12: aload_0
      13: getfield      #36                 // Field log:Lorg/slf4j/Logger;
      16: new           #202                // class java/lang/StringBuilder
      19: dup
      20: invokespecial #203                // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #243                // String Rollback file strategy:
      25: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_1
      29: invokevirtual #246                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      32: ldc           #248                // String  for file:
      34: invokevirtual #209                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: aload_3
      38: invokevirtual #246                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      41: invokevirtual #214                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      44: invokeinterface #218,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      49: aload_1
      50: aload_0
      51: getfield      #40                 // Field operations:Lorg/apache/camel/component/file/GenericFileOperations;
      54: aload_0
      55: getfield      #38                 // Field endpoint:Lorg/apache/camel/component/file/GenericFileEndpoint;
      58: aload_2
      59: aload_3
      60: invokeinterface #251,  5          // InterfaceMethod org/apache/camel/component/file/GenericFileProcessStrategy.rollback:(Lorg/apache/camel/component/file/GenericFileOperations;Lorg/apache/camel/component/file/GenericFileEndpoint;Lorg/apache/camel/Exchange;Lorg/apache/camel/component/file/GenericFile;)V
      65: goto          79
      68: astore        4
      70: aload_0
      71: ldc           #253                // String Error during rollback
      73: aload_2
      74: aload         4
      76: invokevirtual #224                // Method handleException:(Ljava/lang/String;Lorg/apache/camel/Exchange;Ljava/lang/Throwable;)V
      79: return
    Exception table:
       from    to  target type
          49    65    68   Class java/lang/Exception

  protected void handleException(java.lang.String, org.apache.camel.Exchange, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnonnull     17
       4: new           #255                // class java/lang/IllegalArgumentException
       7: dup
       8: ldc_w         #257                // String Handling [null] exception
      11: invokespecial #259                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      14: goto          18
      17: aload_3
      18: astore        4
      20: aload_0
      21: invokevirtual #261                // Method getExceptionHandler:()Lorg/apache/camel/spi/ExceptionHandler;
      24: aload_1
      25: aload_2
      26: aload         4
      28: invokeinterface #264,  4          // InterfaceMethod org/apache/camel/spi/ExceptionHandler.handleException:(Ljava/lang/String;Lorg/apache/camel/Exchange;Ljava/lang/Throwable;)V
      33: return

  public java.lang.String toString();
    Code:
       0: ldc_w         #270                // String GenericFileOnCompletion
       3: areturn
}
