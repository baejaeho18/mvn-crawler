Compiled from "AggregateProcessor.java"
public class org.apache.camel.processor.aggregate.AggregateProcessor extends org.apache.camel.support.ServiceSupport implements org.apache.camel.AsyncProcessor, org.apache.camel.Navigate<org.apache.camel.Processor>, org.apache.camel.Traceable, org.apache.camel.spi.ShutdownPrepared {
  public static final java.lang.String AGGREGATE_TIMEOUT_CHECKER;

  private static final org.slf4j.Logger LOG;

  private final java.util.concurrent.locks.Lock lock;

  private final org.apache.camel.CamelContext camelContext;

  private final org.apache.camel.Processor processor;

  private org.apache.camel.processor.aggregate.AggregationStrategy aggregationStrategy;

  private org.apache.camel.Expression correlationExpression;

  private final java.util.concurrent.ExecutorService executorService;

  private final boolean shutdownExecutorService;

  private org.apache.camel.processor.aggregate.OptimisticLockRetryPolicy optimisticLockRetryPolicy;

  private java.util.concurrent.ScheduledExecutorService timeoutCheckerExecutorService;

  private boolean shutdownTimeoutCheckerExecutorService;

  private java.util.concurrent.ScheduledExecutorService recoverService;

  private org.apache.camel.TimeoutMap<java.lang.String, java.lang.String> timeoutMap;

  private org.apache.camel.spi.ExceptionHandler exceptionHandler;

  private org.apache.camel.spi.AggregationRepository aggregationRepository;

  private java.util.Map<java.lang.String, java.lang.String> closedCorrelationKeys;

  private final java.util.Set<java.lang.String> batchConsumerCorrelationKeys;

  private final java.util.Set<java.lang.String> inProgressCompleteExchanges;

  private final java.util.Map<java.lang.String, org.apache.camel.processor.aggregate.AggregateProcessor$RedeliveryData> redeliveryState;

  private boolean ignoreInvalidCorrelationKeys;

  private java.lang.Integer closeCorrelationKeyOnCompletion;

  private boolean parallelProcessing;

  private boolean optimisticLocking;

  private boolean eagerCheckCompletion;

  private org.apache.camel.Predicate completionPredicate;

  private long completionTimeout;

  private org.apache.camel.Expression completionTimeoutExpression;

  private long completionInterval;

  private int completionSize;

  private org.apache.camel.Expression completionSizeExpression;

  private boolean completionFromBatchConsumer;

  private java.util.concurrent.atomic.AtomicInteger batchConsumerCounter;

  private boolean discardOnCompletionTimeout;

  private boolean forceCompletionOnStop;

  private org.apache.camel.ProducerTemplate deadLetterProducerTemplate;

  public org.apache.camel.processor.aggregate.AggregateProcessor(org.apache.camel.CamelContext, org.apache.camel.Processor, org.apache.camel.Expression, org.apache.camel.processor.aggregate.AggregationStrategy, java.util.concurrent.ExecutorService, boolean);
    Code:
       0: aload_0
       1: invokespecial #105                // Method org/apache/camel/support/ServiceSupport."<init>":()V
       4: aload_0
       5: new           #107                // class java/util/concurrent/locks/ReentrantLock
       8: dup
       9: invokespecial #108                // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      12: putfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
      15: aload_0
      16: new           #112                // class org/apache/camel/processor/aggregate/OptimisticLockRetryPolicy
      19: dup
      20: invokespecial #113                // Method org/apache/camel/processor/aggregate/OptimisticLockRetryPolicy."<init>":()V
      23: putfield      #115                // Field optimisticLockRetryPolicy:Lorg/apache/camel/processor/aggregate/OptimisticLockRetryPolicy;
      26: aload_0
      27: new           #117                // class java/util/concurrent/ConcurrentSkipListSet
      30: dup
      31: invokespecial #118                // Method java/util/concurrent/ConcurrentSkipListSet."<init>":()V
      34: putfield      #120                // Field batchConsumerCorrelationKeys:Ljava/util/Set;
      37: aload_0
      38: new           #122                // class java/util/concurrent/ConcurrentHashMap
      41: dup
      42: invokespecial #123                // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      45: invokestatic  #129                // Method java/util/Collections.newSetFromMap:(Ljava/util/Map;)Ljava/util/Set;
      48: putfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
      51: aload_0
      52: new           #122                // class java/util/concurrent/ConcurrentHashMap
      55: dup
      56: invokespecial #123                // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      59: putfield      #133                // Field redeliveryState:Ljava/util/Map;
      62: aload_0
      63: new           #135                // class java/util/concurrent/atomic/AtomicInteger
      66: dup
      67: invokespecial #136                // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      70: putfield      #138                // Field batchConsumerCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      73: aload_1
      74: ldc           #139                // String camelContext
      76: invokestatic  #145                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      79: pop
      80: aload_2
      81: ldc           #146                // String processor
      83: invokestatic  #145                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      86: pop
      87: aload_3
      88: ldc           #147                // String correlationExpression
      90: invokestatic  #145                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      93: pop
      94: aload         4
      96: ldc           #148                // String aggregationStrategy
      98: invokestatic  #145                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
     101: pop
     102: aload         5
     104: ldc           #149                // String executorService
     106: invokestatic  #145                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
     109: pop
     110: aload_0
     111: aload_1
     112: putfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     115: aload_0
     116: aload_2
     117: putfield      #153                // Field processor:Lorg/apache/camel/Processor;
     120: aload_0
     121: aload_3
     122: putfield      #155                // Field correlationExpression:Lorg/apache/camel/Expression;
     125: aload_0
     126: aload         4
     128: putfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
     131: aload_0
     132: aload         5
     134: putfield      #159                // Field executorService:Ljava/util/concurrent/ExecutorService;
     137: aload_0
     138: iload         6
     140: putfield      #161                // Field shutdownExecutorService:Z
     143: aload_0
     144: new           #163                // class org/apache/camel/impl/LoggingExceptionHandler
     147: dup
     148: aload_1
     149: aload_0
     150: invokevirtual #169                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     153: invokespecial #172                // Method org/apache/camel/impl/LoggingExceptionHandler."<init>":(Lorg/apache/camel/CamelContext;Ljava/lang/Class;)V
     156: putfield      #174                // Field exceptionHandler:Lorg/apache/camel/spi/ExceptionHandler;
     159: return

  public java.lang.String toString();
    Code:
       0: new           #180                // class java/lang/StringBuilder
       3: dup
       4: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #183                // String AggregateProcessor[to:
       9: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #153                // Field processor:Lorg/apache/camel/Processor;
      16: invokevirtual #190                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #192                // String ]
      21: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: areturn

  public java.lang.String getTraceLabel();
    Code:
       0: new           #180                // class java/lang/StringBuilder
       3: dup
       4: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #197                // String aggregate[
       9: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #155                // Field correlationExpression:Lorg/apache/camel/Expression;
      16: invokevirtual #190                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #192                // String ]
      21: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: areturn

  public java.util.List<org.apache.camel.Processor> next();
    Code:
       0: aload_0
       1: invokevirtual #203                // Method hasNext:()Z
       4: ifne          9
       7: aconst_null
       8: areturn
       9: new           #205                // class java/util/ArrayList
      12: dup
      13: iconst_1
      14: invokespecial #208                // Method java/util/ArrayList."<init>":(I)V
      17: astore_1
      18: aload_1
      19: aload_0
      20: getfield      #153                // Field processor:Lorg/apache/camel/Processor;
      23: invokeinterface #214,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      28: pop
      29: aload_1
      30: areturn

  public boolean hasNext();
    Code:
       0: aload_0
       1: getfield      #153                // Field processor:Lorg/apache/camel/Processor;
       4: ifnull        11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  public void process(org.apache.camel.Exchange) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #226                // Method org/apache/camel/util/AsyncProcessorHelper.process:(Lorg/apache/camel/AsyncProcessor;Lorg/apache/camel/Exchange;)V
       5: return

  public boolean process(org.apache.camel.Exchange, org.apache.camel.AsyncCallback);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #234                // Method doProcess:(Lorg/apache/camel/Exchange;)V
       5: goto          16
       8: astore_3
       9: aload_1
      10: aload_3
      11: invokeinterface #240,  2          // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
      16: aload_2
      17: iconst_1
      18: invokeinterface #246,  2          // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
      23: iconst_1
      24: ireturn
    Exception table:
       from    to  target type
           0     5     8   Class java/lang/Throwable

  protected void doProcess(org.apache.camel.Exchange) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #254,  1          // InterfaceMethod org/apache/camel/Exchange.getIn:()Lorg/apache/camel/Message;
       6: ldc_w         #256                // String CamelAggregationCompleteAllGroups
       9: iconst_0
      10: invokestatic  #262                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      13: getstatic     #266                // Field java/lang/Boolean.TYPE:Ljava/lang/Class;
      16: invokeinterface #272,  4          // InterfaceMethod org/apache/camel/Message.getHeader:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      21: checkcast     #258                // class java/lang/Boolean
      24: invokevirtual #275                // Method java/lang/Boolean.booleanValue:()Z
      27: istore_2
      28: iload_2
      29: ifeq          38
      32: aload_0
      33: invokevirtual #279                // Method forceCompletionOfAllGroups:()I
      36: pop
      37: return
      38: aload_0
      39: getfield      #155                // Field correlationExpression:Lorg/apache/camel/Expression;
      42: aload_1
      43: ldc_w         #281                // class java/lang/String
      46: invokeinterface #287,  3          // InterfaceMethod org/apache/camel/Expression.evaluate:(Lorg/apache/camel/Exchange;Ljava/lang/Class;)Ljava/lang/Object;
      51: checkcast     #281                // class java/lang/String
      54: astore_3
      55: aload_3
      56: invokestatic  #290                // Method org/apache/camel/util/ObjectHelper.isEmpty:(Ljava/lang/Object;)Z
      59: ifeq          94
      62: aload_0
      63: invokevirtual #293                // Method isIgnoreInvalidCorrelationKeys:()Z
      66: ifeq          82
      69: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      72: ldc_w         #297                // String Invalid correlation key. This Exchange will be ignored: {}
      75: aload_1
      76: invokeinterface #303,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      81: return
      82: new           #305                // class org/apache/camel/CamelExchangeException
      85: dup
      86: ldc_w         #307                // String Invalid correlation key
      89: aload_1
      90: invokespecial #310                // Method org/apache/camel/CamelExchangeException."<init>":(Ljava/lang/String;Lorg/apache/camel/Exchange;)V
      93: athrow
      94: aload_0
      95: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
      98: ifnull        124
     101: aload_0
     102: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
     105: aload_3
     106: invokeinterface #317,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     111: ifeq          124
     114: new           #319                // class org/apache/camel/processor/aggregate/ClosedCorrelationKeyException
     117: dup
     118: aload_3
     119: aload_1
     120: invokespecial #320                // Method org/apache/camel/processor/aggregate/ClosedCorrelationKeyException."<init>":(Ljava/lang/String;Lorg/apache/camel/Exchange;)V
     123: athrow
     124: aload_0
     125: getfield      #322                // Field optimisticLocking:Z
     128: ifeq          279
     131: iconst_1
     132: istore        4
     134: iconst_0
     135: istore        5
     137: iinc          5, 1
     140: aload_1
     141: iconst_0
     142: invokestatic  #328                // Method org/apache/camel/util/ExchangeHelper.createCorrelatedCopy:(Lorg/apache/camel/Exchange;Z)Lorg/apache/camel/Exchange;
     145: astore        6
     147: aload_0
     148: aload_3
     149: aload         6
     151: invokespecial #332                // Method doAggregation:(Ljava/lang/String;Lorg/apache/camel/Exchange;)Lorg/apache/camel/Exchange;
     154: pop
     155: iconst_0
     156: istore        4
     158: goto          228
     161: astore        7
     163: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     166: ldc_w         #334                // String On attempt {} OptimisticLockingAggregationRepository: {} threw OptimisticLockingException while trying to add() key: {} and exchange: {}
     169: iconst_5
     170: anewarray     #165                // class java/lang/Object
     173: dup
     174: iconst_0
     175: iload         5
     177: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     180: aastore
     181: dup
     182: iconst_1
     183: aload_0
     184: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     187: aastore
     188: dup
     189: iconst_2
     190: aload_3
     191: aastore
     192: dup
     193: iconst_3
     194: aload         6
     196: aastore
     197: dup
     198: iconst_4
     199: aload         7
     201: aastore
     202: invokeinterface #345,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     207: aload_0
     208: getfield      #115                // Field optimisticLockRetryPolicy:Lorg/apache/camel/processor/aggregate/OptimisticLockRetryPolicy;
     211: iload         5
     213: invokevirtual #348                // Method org/apache/camel/processor/aggregate/OptimisticLockRetryPolicy.doDelay:(I)V
     216: aload_0
     217: getfield      #115                // Field optimisticLockRetryPolicy:Lorg/apache/camel/processor/aggregate/OptimisticLockRetryPolicy;
     220: iload         5
     222: invokevirtual #352                // Method org/apache/camel/processor/aggregate/OptimisticLockRetryPolicy.shouldRetry:(I)Z
     225: ifne          137
     228: iload         4
     230: ifeq          276
     233: new           #305                // class org/apache/camel/CamelExchangeException
     236: dup
     237: new           #180                // class java/lang/StringBuilder
     240: dup
     241: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     244: ldc_w         #354                // String Exhausted optimistic locking retry attempts, tried
     247: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     250: iload         5
     252: invokevirtual #357                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     255: ldc_w         #359                // String  times
     258: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     261: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     264: aload_1
     265: new           #33                 // class org/apache/camel/spi/OptimisticLockingAggregationRepository$OptimisticLockingException
     268: dup
     269: invokespecial #360                // Method org/apache/camel/spi/OptimisticLockingAggregationRepository$OptimisticLockingException."<init>":()V
     272: invokespecial #363                // Method org/apache/camel/CamelExchangeException."<init>":(Ljava/lang/String;Lorg/apache/camel/Exchange;Ljava/lang/Throwable;)V
     275: athrow
     276: goto          329
     279: aload_1
     280: iconst_0
     281: invokestatic  #328                // Method org/apache/camel/util/ExchangeHelper.createCorrelatedCopy:(Lorg/apache/camel/Exchange;Z)Lorg/apache/camel/Exchange;
     284: astore        4
     286: aload_0
     287: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
     290: invokeinterface #367,  1          // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
     295: aload_0
     296: aload_3
     297: aload         4
     299: invokespecial #332                // Method doAggregation:(Ljava/lang/String;Lorg/apache/camel/Exchange;)Lorg/apache/camel/Exchange;
     302: pop
     303: aload_0
     304: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
     307: invokeinterface #370,  1          // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     312: goto          329
     315: astore        8
     317: aload_0
     318: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
     321: invokeinterface #370,  1          // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     326: aload         8
     328: athrow
     329: aload_1
     330: invokeinterface #254,  1          // InterfaceMethod org/apache/camel/Exchange.getIn:()Lorg/apache/camel/Message;
     335: ldc_w         #372                // String CamelAggregationCompleteAllGroupsInclusive
     338: iconst_0
     339: invokestatic  #262                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     342: getstatic     #266                // Field java/lang/Boolean.TYPE:Ljava/lang/Class;
     345: invokeinterface #272,  4          // InterfaceMethod org/apache/camel/Message.getHeader:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
     350: checkcast     #258                // class java/lang/Boolean
     353: invokevirtual #275                // Method java/lang/Boolean.booleanValue:()Z
     356: istore        4
     358: iload         4
     360: ifeq          368
     363: aload_0
     364: invokevirtual #279                // Method forceCompletionOfAllGroups:()I
     367: pop
     368: return
    Exception table:
       from    to  target type
         147   158   161   Class org/apache/camel/spi/OptimisticLockingAggregationRepository$OptimisticLockingException
         295   303   315   any
         315   317   315   any

  private org.apache.camel.Exchange doAggregation(java.lang.String, org.apache.camel.Exchange) throws org.apache.camel.CamelExchangeException;
    Code:
       0: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #381                // String onAggregation +++ start +++ with correlation key: {}
       6: aload_1
       7: invokeinterface #383,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      12: aload_0
      13: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      16: aload_2
      17: invokeinterface #387,  1          // InterfaceMethod org/apache/camel/Exchange.getContext:()Lorg/apache/camel/CamelContext;
      22: aload_1
      23: invokeinterface #393,  3          // InterfaceMethod org/apache/camel/spi/AggregationRepository.get:(Lorg/apache/camel/CamelContext;Ljava/lang/String;)Lorg/apache/camel/Exchange;
      28: astore_3
      29: aload_3
      30: astore        4
      32: iconst_1
      33: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      36: astore        5
      38: aload         4
      40: ifnull        112
      43: aload_0
      44: getfield      #322                // Field optimisticLocking:Z
      47: ifeq          68
      50: aload_0
      51: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      54: instanceof    #395                // class org/apache/camel/processor/aggregate/MemoryAggregationRepository
      57: ifeq          68
      60: aload_3
      61: invokeinterface #398,  1          // InterfaceMethod org/apache/camel/Exchange.copy:()Lorg/apache/camel/Exchange;
      66: astore        4
      68: aload         4
      70: ldc_w         #400                // String CamelAggregatedSize
      73: iconst_0
      74: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      77: ldc_w         #336                // class java/lang/Integer
      80: invokeinterface #403,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      85: checkcast     #336                // class java/lang/Integer
      88: astore        5
      90: aload         5
      92: astore        6
      94: aload         5
      96: invokevirtual #406                // Method java/lang/Integer.intValue:()I
      99: iconst_1
     100: iadd
     101: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     104: dup
     105: astore        5
     107: astore        7
     109: aload         6
     111: pop
     112: aconst_null
     113: astore        6
     115: aload_0
     116: invokevirtual #409                // Method isEagerCheckCompletion:()Z
     119: ifeq          151
     122: aload_2
     123: ldc_w         #400                // String CamelAggregatedSize
     126: aload         5
     128: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     133: aload_0
     134: aload_1
     135: aload_2
     136: invokevirtual #416                // Method isCompleted:(Ljava/lang/String;Lorg/apache/camel/Exchange;)Ljava/lang/String;
     139: astore        6
     141: aload_2
     142: ldc_w         #400                // String CamelAggregatedSize
     145: invokeinterface #420,  2          // InterfaceMethod org/apache/camel/Exchange.removeProperty:(Ljava/lang/String;)Ljava/lang/Object;
     150: pop
     151: aload         4
     153: aload_2
     154: invokestatic  #424                // Method org/apache/camel/util/ExchangeHelper.prepareAggregation:(Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)V
     157: aload_0
     158: aload         4
     160: aload_2
     161: invokevirtual #428                // Method onAggregation:(Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)Lorg/apache/camel/Exchange;
     164: astore        8
     166: goto          185
     169: astore        7
     171: new           #305                // class org/apache/camel/CamelExchangeException
     174: dup
     175: ldc_w         #430                // String Error occurred during aggregation
     178: aload_2
     179: aload         7
     181: invokespecial #363                // Method org/apache/camel/CamelExchangeException."<init>":(Ljava/lang/String;Lorg/apache/camel/Exchange;Ljava/lang/Throwable;)V
     184: athrow
     185: aload         8
     187: ifnonnull     228
     190: new           #305                // class org/apache/camel/CamelExchangeException
     193: dup
     194: new           #180                // class java/lang/StringBuilder
     197: dup
     198: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     201: ldc_w         #432                // String AggregationStrategy
     204: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     207: aload_0
     208: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
     211: invokevirtual #190                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     214: ldc_w         #434                // String  returned null which is not allowed
     217: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     220: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     223: aload_2
     224: invokespecial #310                // Method org/apache/camel/CamelExchangeException."<init>":(Ljava/lang/String;Lorg/apache/camel/Exchange;)V
     227: athrow
     228: aload         8
     230: ldc_w         #400                // String CamelAggregatedSize
     233: aload         5
     235: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     240: aload_0
     241: invokevirtual #409                // Method isEagerCheckCompletion:()Z
     244: ifne          256
     247: aload_0
     248: aload_1
     249: aload         8
     251: invokevirtual #416                // Method isCompleted:(Ljava/lang/String;Lorg/apache/camel/Exchange;)Ljava/lang/String;
     254: astore        6
     256: aload         6
     258: ifnonnull     278
     261: aload_0
     262: aload_2
     263: invokeinterface #387,  1          // InterfaceMethod org/apache/camel/Exchange.getContext:()Lorg/apache/camel/CamelContext;
     268: aload_1
     269: aload_3
     270: aload         8
     272: invokevirtual #438                // Method doAggregationRepositoryAdd:(Lorg/apache/camel/CamelContext;Ljava/lang/String;Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)V
     275: goto          418
     278: ldc_w         #440                // String consumer
     281: aload         6
     283: invokevirtual #443                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     286: ifeq          397
     289: aload_0
     290: getfield      #120                // Field batchConsumerCorrelationKeys:Ljava/util/Set;
     293: invokeinterface #449,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     298: astore        7
     300: aload         7
     302: invokeinterface #452,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     307: ifeq          385
     310: aload         7
     312: invokeinterface #455,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     317: checkcast     #281                // class java/lang/String
     320: astore        9
     322: aload         9
     324: aload_1
     325: invokevirtual #443                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     328: ifeq          338
     331: aload         8
     333: astore        10
     335: goto          355
     338: aload_0
     339: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     342: aload_0
     343: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     346: aload         9
     348: invokeinterface #393,  3          // InterfaceMethod org/apache/camel/spi/AggregationRepository.get:(Lorg/apache/camel/CamelContext;Ljava/lang/String;)Lorg/apache/camel/Exchange;
     353: astore        10
     355: aload         10
     357: ifnull        382
     360: aload         10
     362: ldc_w         #457                // String CamelAggregatedCompletedBy
     365: aload         6
     367: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     372: aload_0
     373: aload         9
     375: aload_3
     376: aload         10
     378: iconst_0
     379: invokevirtual #461                // Method onCompletion:(Ljava/lang/String;Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;Z)V
     382: goto          300
     385: aload_0
     386: getfield      #120                // Field batchConsumerCorrelationKeys:Ljava/util/Set;
     389: invokeinterface #464,  1          // InterfaceMethod java/util/Set.clear:()V
     394: goto          418
     397: aload         8
     399: ldc_w         #457                // String CamelAggregatedCompletedBy
     402: aload         6
     404: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     409: aload_0
     410: aload_1
     411: aload_3
     412: aload         8
     414: iconst_0
     415: invokevirtual #461                // Method onCompletion:(Ljava/lang/String;Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;Z)V
     418: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     421: ldc_w         #466                // String onAggregation +++  end  +++ with correlation key: {}
     424: aload_1
     425: invokeinterface #383,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     430: aload         8
     432: areturn
    Exception table:
       from    to  target type
         157   166   169   Class java/lang/Throwable

  protected void doAggregationRepositoryAdd(org.apache.camel.CamelContext, java.lang.String, org.apache.camel.Exchange, org.apache.camel.Exchange);
    Code:
       0: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #477                // String In progress aggregated oldExchange: {}, newExchange: {} with correlation key: {}
       6: iconst_3
       7: anewarray     #165                // class java/lang/Object
      10: dup
      11: iconst_0
      12: aload_3
      13: aastore
      14: dup
      15: iconst_1
      16: aload         4
      18: aastore
      19: dup
      20: iconst_2
      21: aload_2
      22: aastore
      23: invokeinterface #345,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
      28: aload_0
      29: getfield      #322                // Field optimisticLocking:Z
      32: ifeq          68
      35: aload_0
      36: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      39: checkcast     #35                 // class org/apache/camel/spi/OptimisticLockingAggregationRepository
      42: aload_1
      43: aload_2
      44: aload_3
      45: aload         4
      47: invokeinterface #480,  5          // InterfaceMethod org/apache/camel/spi/OptimisticLockingAggregationRepository.add:(Lorg/apache/camel/CamelContext;Ljava/lang/String;Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)Lorg/apache/camel/Exchange;
      52: pop
      53: goto          82
      56: astore        5
      58: aload_0
      59: aload_3
      60: aload         4
      62: invokevirtual #483                // Method onOptimisticLockingFailure:(Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)V
      65: aload         5
      67: athrow
      68: aload_0
      69: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      72: aload_1
      73: aload_2
      74: aload         4
      76: invokeinterface #486,  4          // InterfaceMethod org/apache/camel/spi/AggregationRepository.add:(Lorg/apache/camel/CamelContext;Ljava/lang/String;Lorg/apache/camel/Exchange;)Lorg/apache/camel/Exchange;
      81: pop
      82: return
    Exception table:
       from    to  target type
          35    53    56   Class org/apache/camel/spi/OptimisticLockingAggregationRepository$OptimisticLockingException

  protected void onOptimisticLockingFailure(org.apache.camel.Exchange, org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
       4: instanceof    #488                // class org/apache/camel/processor/aggregate/OptimisticLockingAwareAggregationStrategy
       7: ifeq          54
      10: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      13: ldc_w         #490                // String onOptimisticLockFailure with AggregationStrategy: {}, oldExchange: {}, newExchange: {}
      16: iconst_3
      17: anewarray     #165                // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_0
      23: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
      26: aastore
      27: dup
      28: iconst_1
      29: aload_1
      30: aastore
      31: dup
      32: iconst_2
      33: aload_2
      34: aastore
      35: invokeinterface #345,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
      40: aload_0
      41: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
      44: checkcast     #488                // class org/apache/camel/processor/aggregate/OptimisticLockingAwareAggregationStrategy
      47: aload_1
      48: aload_2
      49: invokeinterface #493,  3          // InterfaceMethod org/apache/camel/processor/aggregate/OptimisticLockingAwareAggregationStrategy.onOptimisticLockFailure:(Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)V
      54: return

  protected java.lang.String isCompleted(java.lang.String, org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: invokevirtual #496                // Method isCompletionFromBatchConsumer:()Z
       4: ifeq          76
       7: aload_0
       8: getfield      #120                // Field batchConsumerCorrelationKeys:Ljava/util/Set;
      11: aload_1
      12: invokeinterface #497,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      17: pop
      18: aload_0
      19: getfield      #138                // Field batchConsumerCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      22: invokevirtual #500                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      25: pop
      26: aload_2
      27: ldc_w         #502                // String CamelBatchSize
      30: iconst_0
      31: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: ldc_w         #336                // class java/lang/Integer
      37: invokeinterface #403,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      42: checkcast     #336                // class java/lang/Integer
      45: invokevirtual #406                // Method java/lang/Integer.intValue:()I
      48: istore_3
      49: iload_3
      50: ifle          76
      53: aload_0
      54: getfield      #138                // Field batchConsumerCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      57: invokevirtual #503                // Method java/util/concurrent/atomic/AtomicInteger.intValue:()I
      60: iload_3
      61: if_icmplt     76
      64: aload_0
      65: getfield      #138                // Field batchConsumerCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      68: iconst_0
      69: invokevirtual #506                // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
      72: ldc_w         #440                // String consumer
      75: areturn
      76: aload_0
      77: invokevirtual #510                // Method getCompletionPredicate:()Lorg/apache/camel/Predicate;
      80: ifnull        102
      83: aload_0
      84: invokevirtual #510                // Method getCompletionPredicate:()Lorg/apache/camel/Predicate;
      87: aload_2
      88: invokeinterface #516,  2          // InterfaceMethod org/apache/camel/Predicate.matches:(Lorg/apache/camel/Exchange;)Z
      93: istore_3
      94: iload_3
      95: ifeq          102
      98: ldc_w         #518                // String predicate
     101: areturn
     102: iconst_0
     103: istore_3
     104: aload_0
     105: invokevirtual #522                // Method getCompletionSizeExpression:()Lorg/apache/camel/Expression;
     108: ifnull        182
     111: aload_0
     112: invokevirtual #522                // Method getCompletionSizeExpression:()Lorg/apache/camel/Expression;
     115: aload_2
     116: ldc_w         #336                // class java/lang/Integer
     119: invokeinterface #287,  3          // InterfaceMethod org/apache/camel/Expression.evaluate:(Lorg/apache/camel/Exchange;Ljava/lang/Class;)Ljava/lang/Object;
     124: checkcast     #336                // class java/lang/Integer
     127: astore        4
     129: aload         4
     131: ifnull        182
     134: aload         4
     136: invokevirtual #406                // Method java/lang/Integer.intValue:()I
     139: ifle          182
     142: iconst_1
     143: istore_3
     144: aload_2
     145: ldc_w         #400                // String CamelAggregatedSize
     148: iconst_1
     149: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     152: ldc_w         #336                // class java/lang/Integer
     155: invokeinterface #403,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
     160: checkcast     #336                // class java/lang/Integer
     163: invokevirtual #406                // Method java/lang/Integer.intValue:()I
     166: istore        5
     168: iload         5
     170: aload         4
     172: invokevirtual #406                // Method java/lang/Integer.intValue:()I
     175: if_icmplt     182
     178: ldc_w         #523                // String size
     181: areturn
     182: iload_3
     183: ifne          230
     186: aload_0
     187: invokevirtual #526                // Method getCompletionSize:()I
     190: ifle          230
     193: aload_2
     194: ldc_w         #400                // String CamelAggregatedSize
     197: iconst_1
     198: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     201: ldc_w         #336                // class java/lang/Integer
     204: invokeinterface #403,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
     209: checkcast     #336                // class java/lang/Integer
     212: invokevirtual #406                // Method java/lang/Integer.intValue:()I
     215: istore        4
     217: iload         4
     219: aload_0
     220: invokevirtual #526                // Method getCompletionSize:()I
     223: if_icmplt     230
     226: ldc_w         #523                // String size
     229: areturn
     230: iconst_0
     231: istore        4
     233: aload_0
     234: invokevirtual #529                // Method getCompletionTimeoutExpression:()Lorg/apache/camel/Expression;
     237: ifnull        326
     240: aload_0
     241: invokevirtual #529                // Method getCompletionTimeoutExpression:()Lorg/apache/camel/Expression;
     244: aload_2
     245: ldc_w         #531                // class java/lang/Long
     248: invokeinterface #287,  3          // InterfaceMethod org/apache/camel/Expression.evaluate:(Lorg/apache/camel/Exchange;Ljava/lang/Class;)Ljava/lang/Object;
     253: checkcast     #531                // class java/lang/Long
     256: astore        5
     258: aload         5
     260: ifnull        326
     263: aload         5
     265: invokevirtual #535                // Method java/lang/Long.longValue:()J
     268: lconst_0
     269: lcmp
     270: ifle          326
     273: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     276: invokeinterface #538,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     281: ifeq          312
     284: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     287: ldc_w         #540                // String Updating correlation key {} to timeout after {} ms. as exchange received: {}
     290: iconst_3
     291: anewarray     #165                // class java/lang/Object
     294: dup
     295: iconst_0
     296: aload_1
     297: aastore
     298: dup
     299: iconst_1
     300: aload         5
     302: aastore
     303: dup
     304: iconst_2
     305: aload_2
     306: aastore
     307: invokeinterface #345,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     312: aload_0
     313: aload_1
     314: aload_2
     315: aload         5
     317: invokevirtual #535                // Method java/lang/Long.longValue:()J
     320: invokespecial #544                // Method addExchangeToTimeoutMap:(Ljava/lang/String;Lorg/apache/camel/Exchange;J)V
     323: iconst_1
     324: istore        4
     326: iload         4
     328: ifne          394
     331: aload_0
     332: invokevirtual #547                // Method getCompletionTimeout:()J
     335: lconst_0
     336: lcmp
     337: ifle          394
     340: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     343: invokeinterface #538,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     348: ifeq          384
     351: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     354: ldc_w         #540                // String Updating correlation key {} to timeout after {} ms. as exchange received: {}
     357: iconst_3
     358: anewarray     #165                // class java/lang/Object
     361: dup
     362: iconst_0
     363: aload_1
     364: aastore
     365: dup
     366: iconst_1
     367: aload_0
     368: invokevirtual #547                // Method getCompletionTimeout:()J
     371: invokestatic  #550                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     374: aastore
     375: dup
     376: iconst_2
     377: aload_2
     378: aastore
     379: invokeinterface #345,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     384: aload_0
     385: aload_1
     386: aload_2
     387: aload_0
     388: invokevirtual #547                // Method getCompletionTimeout:()J
     391: invokespecial #544                // Method addExchangeToTimeoutMap:(Ljava/lang/String;Lorg/apache/camel/Exchange;J)V
     394: aconst_null
     395: areturn

  protected org.apache.camel.Exchange onAggregation(org.apache.camel.Exchange, org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
       4: aload_1
       5: aload_2
       6: invokeinterface #559,  3          // InterfaceMethod org/apache/camel/processor/aggregate/AggregationStrategy.aggregate:(Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;)Lorg/apache/camel/Exchange;
      11: areturn

  protected void onCompletion(java.lang.String, org.apache.camel.Exchange, org.apache.camel.Exchange, boolean);
    Code:
       0: aload_2
       1: ifnull        14
       4: aload_2
       5: ldc_w         #561                // String CamelAggregatedCorrelationKey
       8: aload_1
       9: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_3
      15: ldc_w         #561                // String CamelAggregatedCorrelationKey
      18: aload_1
      19: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      24: aload_0
      25: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      28: aload_3
      29: invokeinterface #387,  1          // InterfaceMethod org/apache/camel/Exchange.getContext:()Lorg/apache/camel/CamelContext;
      34: aload_1
      35: aload_2
      36: invokeinterface #565,  4          // InterfaceMethod org/apache/camel/spi/AggregationRepository.remove:(Lorg/apache/camel/CamelContext;Ljava/lang/String;Lorg/apache/camel/Exchange;)V
      41: iload         4
      43: ifne          64
      46: aload_0
      47: getfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
      50: ifnull        64
      53: aload_0
      54: getfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
      57: aload_1
      58: invokeinterface #572,  2          // InterfaceMethod org/apache/camel/TimeoutMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      63: pop
      64: aload_0
      65: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
      68: ifnull        83
      71: aload_0
      72: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
      75: aload_1
      76: aload_1
      77: invokeinterface #576,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      82: pop
      83: iload         4
      85: ifeq          136
      88: aload_0
      89: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
      92: instanceof    #578                // class org/apache/camel/processor/aggregate/TimeoutAwareAggregationStrategy
      95: ifeq          136
      98: aload_0
      99: invokevirtual #547                // Method getCompletionTimeout:()J
     102: lconst_0
     103: lcmp
     104: ifle          114
     107: aload_0
     108: invokevirtual #547                // Method getCompletionTimeout:()J
     111: goto          117
     114: ldc2_w        #579                // long -1l
     117: lstore        5
     119: aload_0
     120: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
     123: checkcast     #578                // class org/apache/camel/processor/aggregate/TimeoutAwareAggregationStrategy
     126: aload_3
     127: iconst_m1
     128: iconst_m1
     129: lload         5
     131: invokeinterface #584,  6          // InterfaceMethod org/apache/camel/processor/aggregate/TimeoutAwareAggregationStrategy.timeout:(Lorg/apache/camel/Exchange;IIJ)V
     136: iload         4
     138: ifeq          201
     141: aload_0
     142: invokevirtual #587                // Method isDiscardOnCompletionTimeout:()Z
     145: ifeq          201
     148: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     151: ldc_w         #589                // String Aggregation for correlation key {} discarding aggregated exchange: {}
     154: aload_1
     155: aload_3
     156: invokeinterface #592,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     161: aload_0
     162: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     165: aload_3
     166: invokeinterface #387,  1          // InterfaceMethod org/apache/camel/Exchange.getContext:()Lorg/apache/camel/CamelContext;
     171: aload_3
     172: invokeinterface #595,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     177: invokeinterface #599,  3          // InterfaceMethod org/apache/camel/spi/AggregationRepository.confirm:(Lorg/apache/camel/CamelContext;Ljava/lang/String;)V
     182: aload_0
     183: getfield      #133                // Field redeliveryState:Ljava/util/Map;
     186: aload_3
     187: invokeinterface #595,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     192: invokeinterface #600,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     197: pop
     198: goto          207
     201: aload_0
     202: aload_1
     203: aload_3
     204: invokespecial #603                // Method onSubmitCompletion:(Ljava/lang/String;Lorg/apache/camel/Exchange;)V
     207: return

  private void onSubmitCompletion(java.lang.String, org.apache.camel.Exchange);
    Code:
       0: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #608                // String Aggregation complete for correlation key {} sending aggregated exchange: {}
       6: aload_1
       7: aload_2
       8: invokeinterface #592,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      13: aload_0
      14: getfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
      17: aload_2
      18: invokeinterface #595,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
      23: invokeinterface #497,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      28: pop
      29: aload_0
      30: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
      33: instanceof    #610                // class org/apache/camel/processor/aggregate/CompletionAwareAggregationStrategy
      36: ifeq          52
      39: aload_0
      40: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
      43: checkcast     #610                // class org/apache/camel/processor/aggregate/CompletionAwareAggregationStrategy
      46: aload_2
      47: invokeinterface #612,  2          // InterfaceMethod org/apache/camel/processor/aggregate/CompletionAwareAggregationStrategy.onCompletion:(Lorg/apache/camel/Exchange;)V
      52: aload_0
      53: getfield      #159                // Field executorService:Ljava/util/concurrent/ExecutorService;
      56: new           #31                 // class org/apache/camel/processor/aggregate/AggregateProcessor$1
      59: dup
      60: aload_0
      61: aload_2
      62: invokespecial #615                // Method org/apache/camel/processor/aggregate/AggregateProcessor$1."<init>":(Lorg/apache/camel/processor/aggregate/AggregateProcessor;Lorg/apache/camel/Exchange;)V
      65: invokeinterface #621,  2          // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
      70: pop
      71: return

  protected void restoreTimeoutMapFromAggregationRepository() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
       4: invokeinterface #626,  1          // InterfaceMethod org/apache/camel/spi/AggregationRepository.getKeys:()Ljava/util/Set;
       9: astore_1
      10: aload_1
      11: ifnull        23
      14: aload_1
      15: invokeinterface #628,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      20: ifeq          24
      23: return
      24: new           #630                // class org/apache/camel/util/StopWatch
      27: dup
      28: invokespecial #631                // Method org/apache/camel/util/StopWatch."<init>":()V
      31: astore_2
      32: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      35: ldc_w         #633                // String Starting restoring CompletionTimeout for {} existing exchanges from the aggregation repository...
      38: aload_1
      39: invokeinterface #635,  1          // InterfaceMethod java/util/Set.size:()I
      44: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      47: invokeinterface #383,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      52: aload_1
      53: invokeinterface #449,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      58: astore_3
      59: aload_3
      60: invokeinterface #452,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      65: ifeq          178
      68: aload_3
      69: invokeinterface #455,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      74: checkcast     #281                // class java/lang/String
      77: astore        4
      79: aload_0
      80: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      83: aload_0
      84: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
      87: aload         4
      89: invokeinterface #393,  3          // InterfaceMethod org/apache/camel/spi/AggregationRepository.get:(Lorg/apache/camel/CamelContext;Ljava/lang/String;)Lorg/apache/camel/Exchange;
      94: astore        5
      96: aload         5
      98: invokeinterface #638,  1          // InterfaceMethod org/apache/camel/Exchange.hasProperties:()Z
     103: ifeq          132
     106: aload         5
     108: ldc_w         #640                // String CamelAggregatedTimeout
     111: iconst_0
     112: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     115: getstatic     #641                // Field java/lang/Long.TYPE:Ljava/lang/Class;
     118: invokeinterface #403,  4          // InterfaceMethod org/apache/camel/Exchange.getProperty:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
     123: checkcast     #531                // class java/lang/Long
     126: invokevirtual #535                // Method java/lang/Long.longValue:()J
     129: goto          133
     132: lconst_0
     133: lstore        6
     135: lload         6
     137: lconst_0
     138: lcmp
     139: ifle          175
     142: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     145: ldc_w         #643                // String Restoring CompletionTimeout for exchangeId: {} with timeout: {} millis.
     148: aload         5
     150: invokeinterface #595,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     155: lload         6
     157: invokestatic  #550                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     160: invokeinterface #645,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     165: aload_0
     166: aload         4
     168: aload         5
     170: lload         6
     172: invokespecial #544                // Method addExchangeToTimeoutMap:(Ljava/lang/String;Lorg/apache/camel/Exchange;J)V
     175: goto          59
     178: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     181: ldc_w         #647                // String Restored {} CompletionTimeout conditions in the AggregationTimeoutChecker in {}
     184: aload_0
     185: getfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
     188: invokeinterface #648,  1          // InterfaceMethod org/apache/camel/TimeoutMap.size:()I
     193: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     196: aload_2
     197: invokevirtual #651                // Method org/apache/camel/util/StopWatch.stop:()J
     200: l2d
     201: invokestatic  #657                // Method org/apache/camel/util/TimeUtils.printDuration:(D)Ljava/lang/String;
     204: invokeinterface #660,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     209: return

  private void addExchangeToTimeoutMap(java.lang.String, org.apache.camel.Exchange, long);
    Code:
       0: aload_2
       1: ldc_w         #640                // String CamelAggregatedTimeout
       4: lload_3
       5: invokestatic  #550                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      13: aload_0
      14: getfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
      17: aload_1
      18: aload_2
      19: invokeinterface #595,  1          // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
      24: lload_3
      25: invokeinterface #666,  5          // InterfaceMethod org/apache/camel/TimeoutMap.put:(Ljava/lang/Object;Ljava/lang/Object;J)V
      30: return

  public org.apache.camel.Predicate getCompletionPredicate();
    Code:
       0: aload_0
       1: getfield      #668                // Field completionPredicate:Lorg/apache/camel/Predicate;
       4: areturn

  public void setCompletionPredicate(org.apache.camel.Predicate);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #668                // Field completionPredicate:Lorg/apache/camel/Predicate;
       5: return

  public boolean isEagerCheckCompletion();
    Code:
       0: aload_0
       1: getfield      #672                // Field eagerCheckCompletion:Z
       4: ireturn

  public void setEagerCheckCompletion(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #672                // Field eagerCheckCompletion:Z
       5: return

  public long getCompletionTimeout();
    Code:
       0: aload_0
       1: getfield      #675                // Field completionTimeout:J
       4: lreturn

  public void setCompletionTimeout(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #675                // Field completionTimeout:J
       5: return

  public org.apache.camel.Expression getCompletionTimeoutExpression();
    Code:
       0: aload_0
       1: getfield      #679                // Field completionTimeoutExpression:Lorg/apache/camel/Expression;
       4: areturn

  public void setCompletionTimeoutExpression(org.apache.camel.Expression);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #679                // Field completionTimeoutExpression:Lorg/apache/camel/Expression;
       5: return

  public long getCompletionInterval();
    Code:
       0: aload_0
       1: getfield      #684                // Field completionInterval:J
       4: lreturn

  public void setCompletionInterval(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #684                // Field completionInterval:J
       5: return

  public int getCompletionSize();
    Code:
       0: aload_0
       1: getfield      #687                // Field completionSize:I
       4: ireturn

  public void setCompletionSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #687                // Field completionSize:I
       5: return

  public org.apache.camel.Expression getCompletionSizeExpression();
    Code:
       0: aload_0
       1: getfield      #690                // Field completionSizeExpression:Lorg/apache/camel/Expression;
       4: areturn

  public void setCompletionSizeExpression(org.apache.camel.Expression);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #690                // Field completionSizeExpression:Lorg/apache/camel/Expression;
       5: return

  public boolean isIgnoreInvalidCorrelationKeys();
    Code:
       0: aload_0
       1: getfield      #693                // Field ignoreInvalidCorrelationKeys:Z
       4: ireturn

  public void setIgnoreInvalidCorrelationKeys(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #693                // Field ignoreInvalidCorrelationKeys:Z
       5: return

  public java.lang.Integer getCloseCorrelationKeyOnCompletion();
    Code:
       0: aload_0
       1: getfield      #698                // Field closeCorrelationKeyOnCompletion:Ljava/lang/Integer;
       4: areturn

  public void setCloseCorrelationKeyOnCompletion(java.lang.Integer);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #698                // Field closeCorrelationKeyOnCompletion:Ljava/lang/Integer;
       5: return

  public boolean isCompletionFromBatchConsumer();
    Code:
       0: aload_0
       1: getfield      #702                // Field completionFromBatchConsumer:Z
       4: ireturn

  public void setCompletionFromBatchConsumer(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #702                // Field completionFromBatchConsumer:Z
       5: return

  public org.apache.camel.spi.ExceptionHandler getExceptionHandler();
    Code:
       0: aload_0
       1: getfield      #174                // Field exceptionHandler:Lorg/apache/camel/spi/ExceptionHandler;
       4: areturn

  public void setExceptionHandler(org.apache.camel.spi.ExceptionHandler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #174                // Field exceptionHandler:Lorg/apache/camel/spi/ExceptionHandler;
       5: return

  public boolean isParallelProcessing();
    Code:
       0: aload_0
       1: getfield      #710                // Field parallelProcessing:Z
       4: ireturn

  public void setParallelProcessing(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #710                // Field parallelProcessing:Z
       5: return

  public boolean isOptimisticLocking();
    Code:
       0: aload_0
       1: getfield      #322                // Field optimisticLocking:Z
       4: ireturn

  public void setOptimisticLocking(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #322                // Field optimisticLocking:Z
       5: return

  public org.apache.camel.spi.AggregationRepository getAggregationRepository();
    Code:
       0: aload_0
       1: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
       4: areturn

  public void setAggregationRepository(org.apache.camel.spi.AggregationRepository);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
       5: return

  public boolean isDiscardOnCompletionTimeout();
    Code:
       0: aload_0
       1: getfield      #719                // Field discardOnCompletionTimeout:Z
       4: ireturn

  public void setDiscardOnCompletionTimeout(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #719                // Field discardOnCompletionTimeout:Z
       5: return

  public void setForceCompletionOnStop(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #723                // Field forceCompletionOnStop:Z
       5: return

  public void setTimeoutCheckerExecutorService(java.util.concurrent.ScheduledExecutorService);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #727                // Field timeoutCheckerExecutorService:Ljava/util/concurrent/ScheduledExecutorService;
       5: return

  public java.util.concurrent.ScheduledExecutorService getTimeoutCheckerExecutorService();
    Code:
       0: aload_0
       1: getfield      #727                // Field timeoutCheckerExecutorService:Ljava/util/concurrent/ScheduledExecutorService;
       4: areturn

  public boolean isShutdownTimeoutCheckerExecutorService();
    Code:
       0: aload_0
       1: getfield      #732                // Field shutdownTimeoutCheckerExecutorService:Z
       4: ireturn

  public void setShutdownTimeoutCheckerExecutorService(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #732                // Field shutdownTimeoutCheckerExecutorService:Z
       5: return

  public void setOptimisticLockRetryPolicy(org.apache.camel.processor.aggregate.OptimisticLockRetryPolicy);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #115                // Field optimisticLockRetryPolicy:Lorg/apache/camel/processor/aggregate/OptimisticLockRetryPolicy;
       5: return

  public org.apache.camel.processor.aggregate.OptimisticLockRetryPolicy getOptimisticLockRetryPolicy();
    Code:
       0: aload_0
       1: getfield      #115                // Field optimisticLockRetryPolicy:Lorg/apache/camel/processor/aggregate/OptimisticLockRetryPolicy;
       4: areturn

  public org.apache.camel.processor.aggregate.AggregationStrategy getAggregationStrategy();
    Code:
       0: aload_0
       1: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
       4: areturn

  public void setAggregationStrategy(org.apache.camel.processor.aggregate.AggregationStrategy);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
       5: return

  public org.apache.camel.Expression getCorrelationExpression();
    Code:
       0: aload_0
       1: getfield      #155                // Field correlationExpression:Lorg/apache/camel/Expression;
       4: areturn

  public void setCorrelationExpression(org.apache.camel.Expression);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #155                // Field correlationExpression:Lorg/apache/camel/Expression;
       5: return

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #547                // Method getCompletionTimeout:()J
       4: lconst_0
       5: lcmp
       6: ifgt          64
       9: aload_0
      10: invokevirtual #746                // Method getCompletionInterval:()J
      13: lconst_0
      14: lcmp
      15: ifgt          64
      18: aload_0
      19: invokevirtual #526                // Method getCompletionSize:()I
      22: ifgt          64
      25: aload_0
      26: invokevirtual #510                // Method getCompletionPredicate:()Lorg/apache/camel/Predicate;
      29: ifnonnull     64
      32: aload_0
      33: invokevirtual #496                // Method isCompletionFromBatchConsumer:()Z
      36: ifne          64
      39: aload_0
      40: invokevirtual #529                // Method getCompletionTimeoutExpression:()Lorg/apache/camel/Expression;
      43: ifnonnull     64
      46: aload_0
      47: invokevirtual #522                // Method getCompletionSizeExpression:()Lorg/apache/camel/Expression;
      50: ifnonnull     64
      53: new           #748                // class java/lang/IllegalStateException
      56: dup
      57: ldc_w         #750                // String At least one of the completions options [completionTimeout, completionInterval, completionSize, completionPredicate, completionFromBatchConsumer] must be set
      60: invokespecial #753                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      63: athrow
      64: aload_0
      65: invokevirtual #755                // Method getCloseCorrelationKeyOnCompletion:()Ljava/lang/Integer;
      68: ifnull        155
      71: aload_0
      72: invokevirtual #755                // Method getCloseCorrelationKeyOnCompletion:()Ljava/lang/Integer;
      75: invokevirtual #406                // Method java/lang/Integer.intValue:()I
      78: ifle          133
      81: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      84: new           #180                // class java/lang/StringBuilder
      87: dup
      88: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
      91: ldc_w         #757                // String Using ClosedCorrelationKeys with a LRUCache with a capacity of
      94: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: aload_0
      98: invokevirtual #755                // Method getCloseCorrelationKeyOnCompletion:()Ljava/lang/Integer;
     101: invokevirtual #190                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     104: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     107: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     112: aload_0
     113: new           #761                // class org/apache/camel/util/LRUCache
     116: dup
     117: aload_0
     118: invokevirtual #755                // Method getCloseCorrelationKeyOnCompletion:()Ljava/lang/Integer;
     121: invokevirtual #406                // Method java/lang/Integer.intValue:()I
     124: invokespecial #762                // Method org/apache/camel/util/LRUCache."<init>":(I)V
     127: putfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
     130: goto          155
     133: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     136: ldc_w         #764                // String Using ClosedCorrelationKeys with unbounded capacity
     139: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     144: aload_0
     145: new           #122                // class java/util/concurrent/ConcurrentHashMap
     148: dup
     149: invokespecial #123                // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
     152: putfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
     155: aload_0
     156: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     159: ifnonnull     188
     162: aload_0
     163: new           #395                // class org/apache/camel/processor/aggregate/MemoryAggregationRepository
     166: dup
     167: aload_0
     168: getfield      #322                // Field optimisticLocking:Z
     171: invokespecial #766                // Method org/apache/camel/processor/aggregate/MemoryAggregationRepository."<init>":(Z)V
     174: putfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     177: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     180: ldc_w         #768                // String Defaulting to MemoryAggregationRepository
     183: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     188: aload_0
     189: getfield      #322                // Field optimisticLocking:Z
     192: ifeq          227
     195: aload_0
     196: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     199: instanceof    #35                 // class org/apache/camel/spi/OptimisticLockingAggregationRepository
     202: ifne          216
     205: new           #770                // class java/lang/IllegalArgumentException
     208: dup
     209: ldc_w         #772                // String Optimistic locking cannot be enabled without using an AggregationRepository that implements OptimisticLockingAggregationRepository
     212: invokespecial #773                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     215: athrow
     216: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     219: ldc_w         #775                // String Optimistic locking is enabled
     222: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     227: iconst_3
     228: anewarray     #165                // class java/lang/Object
     231: dup
     232: iconst_0
     233: aload_0
     234: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
     237: aastore
     238: dup
     239: iconst_1
     240: aload_0
     241: getfield      #153                // Field processor:Lorg/apache/camel/Processor;
     244: aastore
     245: dup
     246: iconst_2
     247: aload_0
     248: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     251: aastore
     252: invokestatic  #781                // Method org/apache/camel/util/ServiceHelper.startServices:([Ljava/lang/Object;)V
     255: aload_0
     256: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     259: instanceof    #783                // class org/apache/camel/spi/RecoverableAggregationRepository
     262: ifeq          555
     265: aload_0
     266: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     269: checkcast     #783                // class org/apache/camel/spi/RecoverableAggregationRepository
     272: astore_1
     273: aload_1
     274: invokeinterface #786,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.isUseRecovery:()Z
     279: ifeq          555
     282: aload_1
     283: invokeinterface #789,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.getRecoveryIntervalInMillis:()J
     288: lstore_2
     289: lload_2
     290: lconst_0
     291: lcmp
     292: ifgt          323
     295: new           #770                // class java/lang/IllegalArgumentException
     298: dup
     299: new           #180                // class java/lang/StringBuilder
     302: dup
     303: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     306: ldc_w         #791                // String AggregationRepository has recovery enabled and the RecoveryInterval option must be a positive number, was:
     309: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     312: lload_2
     313: invokevirtual #794                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     316: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     319: invokespecial #773                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     322: athrow
     323: aload_0
     324: aload_0
     325: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     328: invokeinterface #800,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
     333: aload_0
     334: ldc_w         #802                // String AggregateRecoverChecker
     337: iconst_1
     338: invokeinterface #808,  4          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.newScheduledThreadPool:(Ljava/lang/Object;Ljava/lang/String;I)Ljava/util/concurrent/ScheduledExecutorService;
     343: putfield      #810                // Field recoverService:Ljava/util/concurrent/ScheduledExecutorService;
     346: new           #16                 // class org/apache/camel/processor/aggregate/AggregateProcessor$RecoverTask
     349: dup
     350: aload_0
     351: aload_1
     352: aconst_null
     353: invokespecial #813                // Method org/apache/camel/processor/aggregate/AggregateProcessor$RecoverTask."<init>":(Lorg/apache/camel/processor/aggregate/AggregateProcessor;Lorg/apache/camel/spi/RecoverableAggregationRepository;Lorg/apache/camel/processor/aggregate/AggregateProcessor$1;)V
     356: astore        4
     358: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     361: new           #180                // class java/lang/StringBuilder
     364: dup
     365: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     368: ldc_w         #815                // String Using RecoverableAggregationRepository by scheduling recover checker to run every
     371: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     374: lload_2
     375: invokevirtual #794                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     378: ldc_w         #817                // String  millis.
     381: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     384: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     387: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     392: aload_0
     393: getfield      #810                // Field recoverService:Ljava/util/concurrent/ScheduledExecutorService;
     396: aload         4
     398: ldc2_w        #818                // long 1000l
     401: lload_2
     402: getstatic     #825                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     405: invokeinterface #831,  7          // InterfaceMethod java/util/concurrent/ScheduledExecutorService.scheduleWithFixedDelay:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
     410: pop
     411: aload_1
     412: invokeinterface #834,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.getDeadLetterUri:()Ljava/lang/String;
     417: ifnull        555
     420: aload_1
     421: invokeinterface #837,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.getMaximumRedeliveries:()I
     426: istore        5
     428: iload         5
     430: ifgt          462
     433: new           #770                // class java/lang/IllegalArgumentException
     436: dup
     437: new           #180                // class java/lang/StringBuilder
     440: dup
     441: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     444: ldc_w         #839                // String Option maximumRedeliveries must be a positive number, was:
     447: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     450: iload         5
     452: invokevirtual #357                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     455: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     458: invokespecial #773                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     461: athrow
     462: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     465: new           #180                // class java/lang/StringBuilder
     468: dup
     469: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     472: ldc_w         #843                // String After
     475: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     478: iload         5
     480: invokevirtual #357                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     483: ldc_w         #845                // String  failed redelivery attempts Exchanges will be moved to deadLetterUri:
     486: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     489: aload_1
     490: invokeinterface #834,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.getDeadLetterUri:()Ljava/lang/String;
     495: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     498: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     501: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     506: aload_0
     507: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     510: aload_1
     511: invokeinterface #834,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.getDeadLetterUri:()Ljava/lang/String;
     516: invokeinterface #849,  2          // InterfaceMethod org/apache/camel/CamelContext.getEndpoint:(Ljava/lang/String;)Lorg/apache/camel/Endpoint;
     521: astore        6
     523: aload         6
     525: ifnonnull     542
     528: new           #851                // class org/apache/camel/NoSuchEndpointException
     531: dup
     532: aload_1
     533: invokeinterface #834,  1          // InterfaceMethod org/apache/camel/spi/RecoverableAggregationRepository.getDeadLetterUri:()Ljava/lang/String;
     538: invokespecial #852                // Method org/apache/camel/NoSuchEndpointException."<init>":(Ljava/lang/String;)V
     541: athrow
     542: aload_0
     543: aload_0
     544: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     547: invokeinterface #858,  1          // InterfaceMethod org/apache/camel/CamelContext.createProducerTemplate:()Lorg/apache/camel/ProducerTemplate;
     552: putfield      #860                // Field deadLetterProducerTemplate:Lorg/apache/camel/ProducerTemplate;
     555: aload_0
     556: invokevirtual #746                // Method getCompletionInterval:()J
     559: lconst_0
     560: lcmp
     561: ifle          584
     564: aload_0
     565: invokevirtual #547                // Method getCompletionTimeout:()J
     568: lconst_0
     569: lcmp
     570: ifle          584
     573: new           #770                // class java/lang/IllegalArgumentException
     576: dup
     577: ldc_w         #862                // String Only one of completionInterval or completionTimeout can be used, not both.
     580: invokespecial #773                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     583: athrow
     584: aload_0
     585: invokevirtual #746                // Method getCompletionInterval:()J
     588: lconst_0
     589: lcmp
     590: ifle          694
     593: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     596: new           #180                // class java/lang/StringBuilder
     599: dup
     600: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     603: ldc_w         #864                // String Using CompletionInterval to run every
     606: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     609: aload_0
     610: invokevirtual #746                // Method getCompletionInterval:()J
     613: invokevirtual #794                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     616: ldc_w         #817                // String  millis.
     619: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     622: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     625: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     630: aload_0
     631: invokevirtual #866                // Method getTimeoutCheckerExecutorService:()Ljava/util/concurrent/ScheduledExecutorService;
     634: ifnonnull     664
     637: aload_0
     638: aload_0
     639: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     642: invokeinterface #800,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
     647: aload_0
     648: ldc           #40                 // String AggregateTimeoutChecker
     650: iconst_1
     651: invokeinterface #808,  4          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.newScheduledThreadPool:(Ljava/lang/Object;Ljava/lang/String;I)Ljava/util/concurrent/ScheduledExecutorService;
     656: invokevirtual #868                // Method setTimeoutCheckerExecutorService:(Ljava/util/concurrent/ScheduledExecutorService;)V
     659: aload_0
     660: iconst_1
     661: putfield      #732                // Field shutdownTimeoutCheckerExecutorService:Z
     664: aload_0
     665: invokevirtual #866                // Method getTimeoutCheckerExecutorService:()Ljava/util/concurrent/ScheduledExecutorService;
     668: new           #19                 // class org/apache/camel/processor/aggregate/AggregateProcessor$AggregationIntervalTask
     671: dup
     672: aload_0
     673: aconst_null
     674: invokespecial #871                // Method org/apache/camel/processor/aggregate/AggregateProcessor$AggregationIntervalTask."<init>":(Lorg/apache/camel/processor/aggregate/AggregateProcessor;Lorg/apache/camel/processor/aggregate/AggregateProcessor$1;)V
     677: aload_0
     678: invokevirtual #746                // Method getCompletionInterval:()J
     681: aload_0
     682: invokevirtual #746                // Method getCompletionInterval:()J
     685: getstatic     #825                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     688: invokeinterface #874,  7          // InterfaceMethod java/util/concurrent/ScheduledExecutorService.scheduleAtFixedRate:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
     693: pop
     694: aload_0
     695: invokevirtual #547                // Method getCompletionTimeout:()J
     698: lconst_0
     699: lcmp
     700: ifgt          710
     703: aload_0
     704: invokevirtual #529                // Method getCompletionTimeoutExpression:()Lorg/apache/camel/Expression;
     707: ifnull        812
     710: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     713: new           #180                // class java/lang/StringBuilder
     716: dup
     717: invokespecial #181                // Method java/lang/StringBuilder."<init>":()V
     720: ldc_w         #876                // String Using CompletionTimeout to trigger after
     723: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     726: aload_0
     727: invokevirtual #547                // Method getCompletionTimeout:()J
     730: invokevirtual #794                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     733: ldc_w         #878                // String  millis of inactivity.
     736: invokevirtual #187                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     739: invokevirtual #194                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     742: invokeinterface #759,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     747: aload_0
     748: invokevirtual #866                // Method getTimeoutCheckerExecutorService:()Ljava/util/concurrent/ScheduledExecutorService;
     751: ifnonnull     781
     754: aload_0
     755: aload_0
     756: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     759: invokeinterface #800,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
     764: aload_0
     765: ldc           #40                 // String AggregateTimeoutChecker
     767: iconst_1
     768: invokeinterface #808,  4          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.newScheduledThreadPool:(Ljava/lang/Object;Ljava/lang/String;I)Ljava/util/concurrent/ScheduledExecutorService;
     773: invokevirtual #868                // Method setTimeoutCheckerExecutorService:(Ljava/util/concurrent/ScheduledExecutorService;)V
     776: aload_0
     777: iconst_1
     778: putfield      #732                // Field shutdownTimeoutCheckerExecutorService:Z
     781: aload_0
     782: new           #22                 // class org/apache/camel/processor/aggregate/AggregateProcessor$AggregationTimeoutMap
     785: dup
     786: aload_0
     787: aload_0
     788: invokevirtual #866                // Method getTimeoutCheckerExecutorService:()Ljava/util/concurrent/ScheduledExecutorService;
     791: ldc2_w        #818                // long 1000l
     794: aconst_null
     795: invokespecial #881                // Method org/apache/camel/processor/aggregate/AggregateProcessor$AggregationTimeoutMap."<init>":(Lorg/apache/camel/processor/aggregate/AggregateProcessor;Ljava/util/concurrent/ScheduledExecutorService;JLorg/apache/camel/processor/aggregate/AggregateProcessor$1;)V
     798: putfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
     801: aload_0
     802: invokevirtual #883                // Method restoreTimeoutMapFromAggregationRepository:()V
     805: aload_0
     806: getfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
     809: invokestatic  #887                // Method org/apache/camel/util/ServiceHelper.startService:(Ljava/lang/Object;)V
     812: return

  protected void doStop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #810                // Field recoverService:Ljava/util/concurrent/ScheduledExecutorService;
       4: ifnull        25
       7: aload_0
       8: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
      11: invokeinterface #800,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
      16: aload_0
      17: getfield      #810                // Field recoverService:Ljava/util/concurrent/ScheduledExecutorService;
      20: invokeinterface #900,  2          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.shutdown:(Ljava/util/concurrent/ExecutorService;)V
      25: iconst_3
      26: anewarray     #165                // class java/lang/Object
      29: dup
      30: iconst_0
      31: aload_0
      32: getfield      #567                // Field timeoutMap:Lorg/apache/camel/TimeoutMap;
      35: aastore
      36: dup
      37: iconst_1
      38: aload_0
      39: getfield      #153                // Field processor:Lorg/apache/camel/Processor;
      42: aastore
      43: dup
      44: iconst_2
      45: aload_0
      46: getfield      #860                // Field deadLetterProducerTemplate:Lorg/apache/camel/ProducerTemplate;
      49: aastore
      50: invokestatic  #903                // Method org/apache/camel/util/ServiceHelper.stopServices:([Ljava/lang/Object;)V
      53: aload_0
      54: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
      57: ifnull        76
      60: aload_0
      61: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
      64: invokestatic  #906                // Method org/apache/camel/util/ServiceHelper.stopService:(Ljava/lang/Object;)V
      67: aload_0
      68: getfield      #312                // Field closedCorrelationKeys:Ljava/util/Map;
      71: invokeinterface #907,  1          // InterfaceMethod java/util/Map.clear:()V
      76: aload_0
      77: getfield      #120                // Field batchConsumerCorrelationKeys:Ljava/util/Set;
      80: invokeinterface #464,  1          // InterfaceMethod java/util/Set.clear:()V
      85: aload_0
      86: getfield      #133                // Field redeliveryState:Ljava/util/Map;
      89: invokeinterface #907,  1          // InterfaceMethod java/util/Map.clear:()V
      94: return

  public void prepareShutdown(boolean);
    Code:
       0: iload_1
       1: ifne          15
       4: aload_0
       5: getfield      #723                // Field forceCompletionOnStop:Z
       8: ifeq          15
      11: aload_0
      12: invokespecial #911                // Method doForceCompletionOnStop:()V
      15: return

  private void doForceCompletionOnStop();
    Code:
       0: aload_0
       1: invokevirtual #279                // Method forceCompletionOfAllGroups:()I
       4: istore_1
       5: new           #630                // class org/apache/camel/util/StopWatch
       8: dup
       9: invokespecial #631                // Method org/apache/camel/util/StopWatch."<init>":()V
      12: astore_2
      13: aload_0
      14: getfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
      17: invokeinterface #635,  1          // InterfaceMethod java/util/Set.size:()I
      22: ifle          84
      25: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      28: ldc_w         #916                // String Waiting for {} inflight exchanges to complete
      31: aload_0
      32: getfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
      35: invokeinterface #635,  1          // InterfaceMethod java/util/Set.size:()I
      40: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      43: invokeinterface #383,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      48: ldc2_w        #917                // long 100l
      51: invokestatic  #923                // Method java/lang/Thread.sleep:(J)V
      54: goto          13
      57: astore_3
      58: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      61: ldc_w         #925                // String Interrupted while waiting for {} inflight exchanges to complete.
      64: aload_0
      65: getfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
      68: invokeinterface #635,  1          // InterfaceMethod java/util/Set.size:()I
      73: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      76: invokeinterface #928,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      81: goto          84
      84: iload_1
      85: ifle          111
      88: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      91: ldc_w         #930                // String Forcing completion of all groups with {} exchanges completed in {}
      94: iload_1
      95: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      98: aload_2
      99: invokevirtual #651                // Method org/apache/camel/util/StopWatch.stop:()J
     102: l2d
     103: invokestatic  #657                // Method org/apache/camel/util/TimeUtils.printDuration:(D)Ljava/lang/String;
     106: invokeinterface #660,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     111: return
    Exception table:
       from    to  target type
          48    54    57   Class java/lang/InterruptedException

  protected void doShutdown() throws java.lang.Exception;
    Code:
       0: iconst_2
       1: anewarray     #165                // class java/lang/Object
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      10: aastore
      11: dup
      12: iconst_1
      13: aload_0
      14: getfield      #157                // Field aggregationStrategy:Lorg/apache/camel/processor/aggregate/AggregationStrategy;
      17: aastore
      18: invokestatic  #936                // Method org/apache/camel/util/ServiceHelper.stopAndShutdownServices:([Ljava/lang/Object;)V
      21: aload_0
      22: getfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
      25: invokeinterface #464,  1          // InterfaceMethod java/util/Set.clear:()V
      30: aload_0
      31: getfield      #161                // Field shutdownExecutorService:Z
      34: ifeq          56
      37: aload_0
      38: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
      41: invokeinterface #800,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
      46: aload_0
      47: getfield      #159                // Field executorService:Ljava/util/concurrent/ExecutorService;
      50: invokeinterface #940,  2          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.shutdownNow:(Ljava/util/concurrent/ExecutorService;)Ljava/util/List;
      55: pop
      56: aload_0
      57: getfield      #732                // Field shutdownTimeoutCheckerExecutorService:Z
      60: ifeq          87
      63: aload_0
      64: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
      67: invokeinterface #800,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
      72: aload_0
      73: getfield      #727                // Field timeoutCheckerExecutorService:Ljava/util/concurrent/ScheduledExecutorService;
      76: invokeinterface #940,  2          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.shutdownNow:(Ljava/util/concurrent/ExecutorService;)Ljava/util/List;
      81: pop
      82: aload_0
      83: aconst_null
      84: putfield      #727                // Field timeoutCheckerExecutorService:Ljava/util/concurrent/ScheduledExecutorService;
      87: aload_0
      88: invokespecial #942                // Method org/apache/camel/support/ServiceSupport.doShutdown:()V
      91: return

  public int forceCompletionOfAllGroups();
    Code:
       0: aload_0
       1: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
       4: invokeinterface #946,  1          // InterfaceMethod org/apache/camel/CamelContext.getStatus:()Lorg/apache/camel/ServiceStatus;
       9: invokevirtual #951                // Method org/apache/camel/ServiceStatus.isStarted:()Z
      12: ifne          30
      15: aload_0
      16: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
      19: invokeinterface #946,  1          // InterfaceMethod org/apache/camel/CamelContext.getStatus:()Lorg/apache/camel/ServiceStatus;
      24: invokevirtual #954                // Method org/apache/camel/ServiceStatus.isStopping:()Z
      27: ifeq          34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: istore_1
      36: iload_1
      37: ifne          62
      40: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      43: ldc_w         #956                // String Cannot start force completion of all groups because CamelContext({}) has not been started
      46: aload_0
      47: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
      50: invokeinterface #959,  1          // InterfaceMethod org/apache/camel/CamelContext.getName:()Ljava/lang/String;
      55: invokeinterface #928,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      60: iconst_0
      61: ireturn
      62: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
      65: ldc_w         #961                // String Starting force completion of all groups task
      68: invokeinterface #963,  2          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
      73: aload_0
      74: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
      77: invokeinterface #626,  1          // InterfaceMethod org/apache/camel/spi/AggregationRepository.getKeys:()Ljava/util/Set;
      82: astore_2
      83: iconst_0
      84: istore_3
      85: aload_2
      86: ifnull        253
      89: aload_2
      90: invokeinterface #628,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      95: ifne          253
      98: aload_0
      99: getfield      #322                // Field optimisticLocking:Z
     102: ifne          114
     105: aload_0
     106: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
     109: invokeinterface #367,  1          // InterfaceMethod java/util/concurrent/locks/Lock.lock:()V
     114: aload_2
     115: invokeinterface #635,  1          // InterfaceMethod java/util/Set.size:()I
     120: istore_3
     121: aload_2
     122: invokeinterface #449,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     127: astore        4
     129: aload         4
     131: invokeinterface #452,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     136: ifeq          213
     139: aload         4
     141: invokeinterface #455,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     146: checkcast     #281                // class java/lang/String
     149: astore        5
     151: aload_0
     152: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
     155: aload_0
     156: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
     159: aload         5
     161: invokeinterface #393,  3          // InterfaceMethod org/apache/camel/spi/AggregationRepository.get:(Lorg/apache/camel/CamelContext;Ljava/lang/String;)Lorg/apache/camel/Exchange;
     166: astore        6
     168: aload         6
     170: ifnull        210
     173: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     176: ldc_w         #965                // String Force completion triggered for correlation key: {}
     179: aload         5
     181: invokeinterface #383,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     186: aload         6
     188: ldc_w         #457                // String CamelAggregatedCompletedBy
     191: ldc_w         #967                // String forceCompletion
     194: invokeinterface #412,  3          // InterfaceMethod org/apache/camel/Exchange.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     199: aload_0
     200: aload         5
     202: aload         6
     204: aload         6
     206: iconst_0
     207: invokevirtual #461                // Method onCompletion:(Ljava/lang/String;Lorg/apache/camel/Exchange;Lorg/apache/camel/Exchange;Z)V
     210: goto          129
     213: aload_0
     214: getfield      #322                // Field optimisticLocking:Z
     217: ifne          253
     220: aload_0
     221: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
     224: invokeinterface #370,  1          // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     229: goto          253
     232: astore        7
     234: aload_0
     235: getfield      #322                // Field optimisticLocking:Z
     238: ifne          250
     241: aload_0
     242: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
     245: invokeinterface #370,  1          // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     250: aload         7
     252: athrow
     253: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     256: ldc_w         #969                // String Completed force completion of all groups task
     259: invokeinterface #963,  2          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
     264: iload_3
     265: ifle          283
     268: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
     271: ldc_w         #971                // String Forcing completion of all groups with {} exchanges
     274: iload_3
     275: invokestatic  #339                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     278: invokeinterface #303,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     283: iload_3
     284: ireturn
    Exception table:
       from    to  target type
         121   213   232   any
         232   234   232   any

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #295                // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static org.apache.camel.Processor access$200(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #153                // Field processor:Lorg/apache/camel/Processor;
       4: areturn

  static java.util.Set access$300(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #131                // Field inProgressCompleteExchanges:Ljava/util/Set;
       4: areturn

  static org.apache.camel.spi.AggregationRepository access$400(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #341                // Field aggregationRepository:Lorg/apache/camel/spi/AggregationRepository;
       4: areturn

  static java.util.Map access$500(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #133                // Field redeliveryState:Ljava/util/Map;
       4: areturn

  static boolean access$600(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #322                // Field optimisticLocking:Z
       4: ireturn

  static java.util.concurrent.locks.Lock access$700(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #110                // Field lock:Ljava/util/concurrent/locks/Lock;
       4: areturn

  static org.apache.camel.CamelContext access$800(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #151                // Field camelContext:Lorg/apache/camel/CamelContext;
       4: areturn

  static org.apache.camel.ProducerTemplate access$900(org.apache.camel.processor.aggregate.AggregateProcessor);
    Code:
       0: aload_0
       1: getfield      #860                // Field deadLetterProducerTemplate:Lorg/apache/camel/ProducerTemplate;
       4: areturn

  static void access$1100(org.apache.camel.processor.aggregate.AggregateProcessor, java.lang.String, org.apache.camel.Exchange);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #603                // Method onSubmitCompletion:(Ljava/lang/String;Lorg/apache/camel/Exchange;)V
       6: return

  static {};
    Code:
       0: ldc           #2                  // class org/apache/camel/processor/aggregate/AggregateProcessor
       2: invokestatic  #1003               // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #295                // Field LOG:Lorg/slf4j/Logger;
       8: return
}
