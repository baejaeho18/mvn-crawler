Compiled from "DelayProcessorSupport.java"
public abstract class org.apache.camel.processor.DelayProcessorSupport extends org.apache.camel.processor.DelegateAsyncProcessor {
  protected final org.slf4j.Logger log;

  private final org.apache.camel.CamelContext camelContext;

  private final java.util.concurrent.ScheduledExecutorService executorService;

  private final boolean shutdownExecutorService;

  private boolean asyncDelayed;

  private boolean callerRunsWhenRejected;

  public org.apache.camel.processor.DelayProcessorSupport(org.apache.camel.CamelContext, org.apache.camel.Processor);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: iconst_0
       5: invokespecial #23                 // Method "<init>":(Lorg/apache/camel/CamelContext;Lorg/apache/camel/Processor;Ljava/util/concurrent/ScheduledExecutorService;Z)V
       8: return

  public org.apache.camel.processor.DelayProcessorSupport(org.apache.camel.CamelContext, org.apache.camel.Processor, java.util.concurrent.ScheduledExecutorService, boolean);
    Code:
       0: aload_0
       1: aload_2
       2: invokespecial #30                 // Method org/apache/camel/processor/DelegateAsyncProcessor."<init>":(Lorg/apache/camel/Processor;)V
       5: aload_0
       6: aload_0
       7: invokevirtual #36                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      10: invokestatic  #42                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      13: putfield      #44                 // Field log:Lorg/slf4j/Logger;
      16: aload_0
      17: iconst_1
      18: putfield      #46                 // Field callerRunsWhenRejected:Z
      21: aload_0
      22: aload_1
      23: putfield      #48                 // Field camelContext:Lorg/apache/camel/CamelContext;
      26: aload_0
      27: aload_3
      28: putfield      #50                 // Field executorService:Ljava/util/concurrent/ScheduledExecutorService;
      31: aload_0
      32: iload         4
      34: putfield      #52                 // Field shutdownExecutorService:Z
      37: return

  public boolean process(org.apache.camel.Exchange, org.apache.camel.AsyncCallback);
    Code:
       0: aload_0
       1: invokevirtual #66                 // Method isRunAllowed:()Z
       4: ifne          31
       7: aload_1
       8: new           #60                 // class java/util/concurrent/RejectedExecutionException
      11: dup
      12: ldc           #68                 // String Run is not allowed
      14: invokespecial #71                 // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;)V
      17: invokeinterface #77,  2           // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
      22: aload_2
      23: iconst_1
      24: invokeinterface #83,  2           // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
      29: iconst_1
      30: ireturn
      31: aload_0
      32: aload_1
      33: invokevirtual #87                 // Method calculateDelay:(Lorg/apache/camel/Exchange;)J
      36: lstore_3
      37: lload_3
      38: lconst_0
      39: lcmp
      40: ifgt          72
      43: aload_0
      44: getfield      #44                 // Field log:Lorg/slf4j/Logger;
      47: ldc           #89                 // String No delay for exchangeId: {}
      49: aload_1
      50: invokeinterface #93,  1           // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
      55: invokeinterface #99,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      60: aload_0
      61: getfield      #102                // Field processor:Lorg/apache/camel/AsyncProcessor;
      64: aload_1
      65: aload_2
      66: invokeinterface #106,  3          // InterfaceMethod org/apache/camel/AsyncProcessor.process:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
      71: ireturn
      72: goto          94
      75: astore        5
      77: aload_1
      78: aload         5
      80: invokeinterface #77,  2           // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
      85: aload_2
      86: iconst_1
      87: invokeinterface #83,  2           // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
      92: iconst_1
      93: ireturn
      94: aload_0
      95: invokevirtual #109                // Method isAsyncDelayed:()Z
      98: ifeq          110
     101: aload_1
     102: invokeinterface #112,  1          // InterfaceMethod org/apache/camel/Exchange.isTransacted:()Z
     107: ifeq          147
     110: aload_0
     111: lload_3
     112: aload_1
     113: invokevirtual #116                // Method delay:(JLorg/apache/camel/Exchange;)V
     116: aload_0
     117: getfield      #102                // Field processor:Lorg/apache/camel/AsyncProcessor;
     120: aload_1
     121: aload_2
     122: invokeinterface #106,  3          // InterfaceMethod org/apache/camel/AsyncProcessor.process:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
     127: ireturn
     128: astore        5
     130: aload_1
     131: aload         5
     133: invokeinterface #77,  2           // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     138: aload_2
     139: iconst_1
     140: invokeinterface #83,  2           // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
     145: iconst_1
     146: ireturn
     147: new           #7                  // class org/apache/camel/processor/DelayProcessorSupport$ProcessCall
     150: dup
     151: aload_0
     152: aload_1
     153: aload_2
     154: invokespecial #119                // Method org/apache/camel/processor/DelayProcessorSupport$ProcessCall."<init>":(Lorg/apache/camel/processor/DelayProcessorSupport;Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)V
     157: astore        5
     159: aload_0
     160: getfield      #44                 // Field log:Lorg/slf4j/Logger;
     163: ldc           #121                // String Scheduling delayed task to run in {} millis for exchangeId: {}
     165: lload_3
     166: invokestatic  #127                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     169: aload_1
     170: invokeinterface #93,  1           // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     175: invokeinterface #130,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     180: aload_0
     181: getfield      #50                 // Field executorService:Ljava/util/concurrent/ScheduledExecutorService;
     184: aload         5
     186: lload_3
     187: getstatic     #136                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     190: invokeinterface #142,  5          // InterfaceMethod java/util/concurrent/ScheduledExecutorService.schedule:(Ljava/lang/Runnable;JLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
     195: pop
     196: iconst_0
     197: ireturn
     198: astore        6
     200: aload_0
     201: invokevirtual #145                // Method isCallerRunsWhenRejected:()Z
     204: ifeq          282
     207: aload_0
     208: invokevirtual #66                 // Method isRunAllowed:()Z
     211: ifne          230
     214: aload_1
     215: new           #60                 // class java/util/concurrent/RejectedExecutionException
     218: dup
     219: invokespecial #148                // Method java/util/concurrent/RejectedExecutionException."<init>":()V
     222: invokeinterface #77,  2           // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     227: goto          290
     230: aload_0
     231: getfield      #44                 // Field log:Lorg/slf4j/Logger;
     234: ldc           #150                // String Scheduling rejected task, so letting caller run, delaying at first for {} millis for exchangeId: {}
     236: lload_3
     237: invokestatic  #127                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     240: aload_1
     241: invokeinterface #93,  1           // InterfaceMethod org/apache/camel/Exchange.getExchangeId:()Ljava/lang/String;
     246: invokeinterface #153,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     251: aload_0
     252: lload_3
     253: aload_1
     254: invokevirtual #116                // Method delay:(JLorg/apache/camel/Exchange;)V
     257: goto          270
     260: astore        7
     262: aload_1
     263: aload         7
     265: invokeinterface #77,  2           // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     270: aload_0
     271: getfield      #102                // Field processor:Lorg/apache/camel/AsyncProcessor;
     274: aload_1
     275: aload_2
     276: invokeinterface #106,  3          // InterfaceMethod org/apache/camel/AsyncProcessor.process:(Lorg/apache/camel/Exchange;Lorg/apache/camel/AsyncCallback;)Z
     281: ireturn
     282: aload_1
     283: aload         6
     285: invokeinterface #77,  2           // InterfaceMethod org/apache/camel/Exchange.setException:(Ljava/lang/Throwable;)V
     290: aload_2
     291: iconst_1
     292: invokeinterface #83,  2           // InterfaceMethod org/apache/camel/AsyncCallback.done:(Z)V
     297: iconst_1
     298: ireturn
    Exception table:
       from    to  target type
          31    71    75   Class java/lang/Throwable
         110   127   128   Class java/lang/Exception
         159   197   198   Class java/util/concurrent/RejectedExecutionException
         251   257   260   Class java/lang/InterruptedException

  public boolean isAsyncDelayed();
    Code:
       0: aload_0
       1: getfield      #168                // Field asyncDelayed:Z
       4: ireturn

  public void setAsyncDelayed(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #168                // Field asyncDelayed:Z
       5: return

  public boolean isCallerRunsWhenRejected();
    Code:
       0: aload_0
       1: getfield      #46                 // Field callerRunsWhenRejected:Z
       4: ireturn

  public void setCallerRunsWhenRejected(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #46                 // Field callerRunsWhenRejected:Z
       5: return

  protected abstract long calculateDelay(org.apache.camel.Exchange);

  protected void delay(long, org.apache.camel.Exchange) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: invokevirtual #66                 // Method isRunAllowed:()Z
       4: ifne          8
       7: return
       8: lload_1
       9: lconst_0
      10: lcmp
      11: ifge          15
      14: return
      15: aload_0
      16: lload_1
      17: invokespecial #174                // Method sleep:(J)V
      20: goto          32
      23: astore        4
      25: aload_0
      26: aload         4
      28: aload_3
      29: invokevirtual #178                // Method handleSleepInterruptedException:(Ljava/lang/InterruptedException;Lorg/apache/camel/Exchange;)V
      32: return
    Exception table:
       from    to  target type
          15    20    23   Class java/lang/InterruptedException

  protected void handleSleepInterruptedException(java.lang.InterruptedException, org.apache.camel.Exchange) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #44                 // Field log:Lorg/slf4j/Logger;
       4: invokeinterface #181,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       9: ifeq          45
      12: aload_0
      13: getfield      #44                 // Field log:Lorg/slf4j/Logger;
      16: ldc           #183                // String Sleep interrupted, are we stopping? {}
      18: aload_0
      19: invokevirtual #186                // Method isStopping:()Z
      22: ifne          32
      25: aload_0
      26: invokevirtual #189                // Method isStopped:()Z
      29: ifeq          36
      32: iconst_1
      33: goto          37
      36: iconst_0
      37: invokestatic  #196                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      40: invokeinterface #198,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      45: invokestatic  #204                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      48: invokevirtual #207                // Method java/lang/Thread.interrupt:()V
      51: aload_1
      52: athrow

  protected long currentSystemTime();
    Code:
       0: invokestatic  #214                // Method java/lang/System.currentTimeMillis:()J
       3: lreturn

  private void sleep(long) throws java.lang.InterruptedException;
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifgt          7
       6: return
       7: aload_0
       8: getfield      #44                 // Field log:Lorg/slf4j/Logger;
      11: ldc           #216                // String Sleeping for: {} millis
      13: lload_1
      14: invokestatic  #127                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      17: invokeinterface #99,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      22: lload_1
      23: invokestatic  #217                // Method java/lang/Thread.sleep:(J)V
      26: return

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #109                // Method isAsyncDelayed:()Z
       4: ifeq          18
       7: aload_0
       8: getfield      #50                 // Field executorService:Ljava/util/concurrent/ScheduledExecutorService;
      11: ldc           #219                // String executorService
      13: aload_0
      14: invokestatic  #225                // Method org/apache/camel/util/ObjectHelper.notNull:(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
      17: pop
      18: aload_0
      19: invokespecial #227                // Method org/apache/camel/processor/DelegateAsyncProcessor.doStart:()V
      22: return

  protected void doShutdown() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #52                 // Field shutdownExecutorService:Z
       4: ifeq          33
       7: aload_0
       8: getfield      #50                 // Field executorService:Ljava/util/concurrent/ScheduledExecutorService;
      11: ifnull        33
      14: aload_0
      15: getfield      #48                 // Field camelContext:Lorg/apache/camel/CamelContext;
      18: invokeinterface #234,  1          // InterfaceMethod org/apache/camel/CamelContext.getExecutorServiceManager:()Lorg/apache/camel/spi/ExecutorServiceManager;
      23: aload_0
      24: getfield      #50                 // Field executorService:Ljava/util/concurrent/ScheduledExecutorService;
      27: invokeinterface #240,  2          // InterfaceMethod org/apache/camel/spi/ExecutorServiceManager.shutdownNow:(Ljava/util/concurrent/ExecutorService;)Ljava/util/List;
      32: pop
      33: aload_0
      34: invokespecial #242                // Method org/apache/camel/processor/DelegateAsyncProcessor.doShutdown:()V
      37: return
}
