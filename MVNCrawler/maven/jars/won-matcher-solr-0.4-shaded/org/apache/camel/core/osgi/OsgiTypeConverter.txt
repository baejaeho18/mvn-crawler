Compiled from "OsgiTypeConverter.java"
public class org.apache.camel.core.osgi.OsgiTypeConverter extends org.apache.camel.support.ServiceSupport implements org.apache.camel.TypeConverter, org.apache.camel.spi.TypeConverterRegistry, org.osgi.util.tracker.ServiceTrackerCustomizer<org.apache.camel.spi.TypeConverterLoader, java.lang.Object> {
  private static final org.slf4j.Logger LOG;

  private final org.osgi.framework.BundleContext bundleContext;

  private final org.apache.camel.spi.Injector injector;

  private final org.apache.camel.spi.FactoryFinder factoryFinder;

  private final org.osgi.util.tracker.ServiceTracker<org.apache.camel.spi.TypeConverterLoader, java.lang.Object> tracker;

  private volatile org.apache.camel.impl.converter.DefaultTypeConverter delegate;

  public org.apache.camel.core.osgi.OsgiTypeConverter(org.osgi.framework.BundleContext, org.apache.camel.spi.Injector, org.apache.camel.spi.FactoryFinder);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/camel/support/ServiceSupport."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field bundleContext:Lorg/osgi/framework/BundleContext;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field injector:Lorg/apache/camel/spi/Injector;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field factoryFinder:Lorg/apache/camel/spi/FactoryFinder;
      19: aload_0
      20: new           #5                  // class org/osgi/util/tracker/ServiceTracker
      23: dup
      24: aload_1
      25: ldc_w         #6                  // class org/apache/camel/spi/TypeConverterLoader
      28: invokevirtual #7                  // Method java/lang/Class.getName:()Ljava/lang/String;
      31: aload_0
      32: invokespecial #8                  // Method org/osgi/util/tracker/ServiceTracker."<init>":(Lorg/osgi/framework/BundleContext;Ljava/lang/String;Lorg/osgi/util/tracker/ServiceTrackerCustomizer;)V
      35: putfield      #9                  // Field tracker:Lorg/osgi/util/tracker/ServiceTracker;
      38: return

  public java.lang.Object addingService(org.osgi.framework.ServiceReference<org.apache.camel.spi.TypeConverterLoader>);
    Code:
       0: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #11                 // String AddingService: {}
       5: aload_1
       6: invokeinterface #12,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_0
      12: getfield      #2                  // Field bundleContext:Lorg/osgi/framework/BundleContext;
      15: aload_1
      16: invokeinterface #13,  2           // InterfaceMethod org/osgi/framework/BundleContext.getService:(Lorg/osgi/framework/ServiceReference;)Ljava/lang/Object;
      21: checkcast     #6                  // class org/apache/camel/spi/TypeConverterLoader
      24: astore_2
      25: aload_2
      26: ifnull        48
      29: aload_2
      30: aload_0
      31: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      34: invokeinterface #15,  2           // InterfaceMethod org/apache/camel/spi/TypeConverterLoader.load:(Lorg/apache/camel/spi/TypeConverterRegistry;)V
      39: goto          48
      42: astore_3
      43: aload_3
      44: invokestatic  #17                 // Method org/apache/camel/util/ObjectHelper.wrapRuntimeCamelException:(Ljava/lang/Throwable;)Lorg/apache/camel/RuntimeCamelException;
      47: athrow
      48: aload_2
      49: areturn
    Exception table:
       from    to  target type
          29    39    42   Class java/lang/Throwable

  public void modifiedService(org.osgi.framework.ServiceReference<org.apache.camel.spi.TypeConverterLoader>, java.lang.Object);
    Code:
       0: return

  public void removedService(org.osgi.framework.ServiceReference<org.apache.camel.spi.TypeConverterLoader>, java.lang.Object);
    Code:
       0: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #18                 // String RemovedService: {}
       5: aload_1
       6: invokeinterface #12,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_0
      12: getfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      15: invokestatic  #20                 // Method org/apache/camel/util/ServiceHelper.stopService:(Ljava/lang/Object;)V
      18: goto          58
      21: astore_3
      22: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      25: new           #22                 // class java/lang/StringBuilder
      28: dup
      29: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      32: ldc           #24                 // String Error stopping service due:
      34: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: aload_3
      38: invokevirtual #26                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      41: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: ldc           #27                 // String . This exception will be ignored.
      46: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      52: aload_3
      53: invokeinterface #29,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      58: aload_0
      59: aconst_null
      60: putfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      63: return
    Exception table:
       from    to  target type
          11    18    21   Class java/lang/Exception

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #9                  // Field tracker:Lorg/osgi/util/tracker/ServiceTracker;
       4: invokevirtual #30                 // Method org/osgi/util/tracker/ServiceTracker.open:()V
       7: return

  protected void doStop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #9                  // Field tracker:Lorg/osgi/util/tracker/ServiceTracker;
       4: invokevirtual #31                 // Method org/osgi/util/tracker/ServiceTracker.close:()V
       7: aload_0
       8: getfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      11: invokestatic  #20                 // Method org/apache/camel/util/ServiceHelper.stopService:(Ljava/lang/Object;)V
      14: aload_0
      15: aconst_null
      16: putfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      19: return

  public boolean allowNull();
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: invokevirtual #32                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.allowNull:()Z
       7: ireturn

  public <T> T convertTo(java.lang.Class<T>, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: invokevirtual #33                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.convertTo:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
       9: areturn

  public <T> T convertTo(java.lang.Class<T>, org.apache.camel.Exchange, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #34                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.convertTo:(Ljava/lang/Class;Lorg/apache/camel/Exchange;Ljava/lang/Object;)Ljava/lang/Object;
      10: areturn

  public <T> T mandatoryConvertTo(java.lang.Class<T>, java.lang.Object) throws org.apache.camel.NoTypeConversionAvailableException;
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: invokevirtual #35                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.mandatoryConvertTo:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
       9: areturn

  public <T> T mandatoryConvertTo(java.lang.Class<T>, org.apache.camel.Exchange, java.lang.Object) throws org.apache.camel.NoTypeConversionAvailableException;
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #36                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.mandatoryConvertTo:(Ljava/lang/Class;Lorg/apache/camel/Exchange;Ljava/lang/Object;)Ljava/lang/Object;
      10: areturn

  public <T> T tryConvertTo(java.lang.Class<T>, org.apache.camel.Exchange, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #37                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.tryConvertTo:(Ljava/lang/Class;Lorg/apache/camel/Exchange;Ljava/lang/Object;)Ljava/lang/Object;
      10: areturn

  public <T> T tryConvertTo(java.lang.Class<T>, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: invokevirtual #38                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.tryConvertTo:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
       9: areturn

  public void addTypeConverter(java.lang.Class<?>, java.lang.Class<?>, org.apache.camel.TypeConverter);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #39                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.addTypeConverter:(Ljava/lang/Class;Ljava/lang/Class;Lorg/apache/camel/TypeConverter;)V
      10: return

  public boolean removeTypeConverter(java.lang.Class<?>, java.lang.Class<?>);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: invokevirtual #40                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.removeTypeConverter:(Ljava/lang/Class;Ljava/lang/Class;)Z
       9: ireturn

  public void addFallbackTypeConverter(org.apache.camel.TypeConverter, boolean);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: iload_2
       6: invokevirtual #41                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.addFallbackTypeConverter:(Lorg/apache/camel/TypeConverter;Z)V
       9: return

  public org.apache.camel.TypeConverter lookup(java.lang.Class<?>, java.lang.Class<?>);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: aload_2
       6: invokevirtual #42                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.lookup:(Ljava/lang/Class;Ljava/lang/Class;)Lorg/apache/camel/TypeConverter;
       9: areturn

  public void setInjector(org.apache.camel.spi.Injector);
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: aload_1
       5: invokevirtual #43                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.setInjector:(Lorg/apache/camel/spi/Injector;)V
       8: return

  public org.apache.camel.spi.Injector getInjector();
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: invokevirtual #44                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.getInjector:()Lorg/apache/camel/spi/Injector;
       7: areturn

  public org.apache.camel.spi.TypeConverterRegistry$Statistics getStatistics();
    Code:
       0: aload_0
       1: invokevirtual #14                 // Method getDelegate:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: invokevirtual #45                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.getStatistics:()Lorg/apache/camel/spi/TypeConverterRegistry$Statistics;
       7: areturn

  public synchronized org.apache.camel.impl.converter.DefaultTypeConverter getDelegate();
    Code:
       0: aload_0
       1: getfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
       4: ifnonnull     15
       7: aload_0
       8: aload_0
       9: invokevirtual #46                 // Method createRegistry:()Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      12: putfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      15: aload_0
      16: getfield      #19                 // Field delegate:Lorg/apache/camel/impl/converter/DefaultTypeConverter;
      19: areturn

  protected org.apache.camel.impl.converter.DefaultTypeConverter createRegistry();
    Code:
       0: new           #47                 // class org/apache/camel/impl/converter/DefaultTypeConverter
       3: dup
       4: new           #48                 // class org/apache/camel/core/osgi/OsgiTypeConverter$1
       7: dup
       8: aload_0
       9: invokespecial #49                 // Method org/apache/camel/core/osgi/OsgiTypeConverter$1."<init>":(Lorg/apache/camel/core/osgi/OsgiTypeConverter;)V
      12: aload_0
      13: getfield      #3                  // Field injector:Lorg/apache/camel/spi/Injector;
      16: aload_0
      17: getfield      #4                  // Field factoryFinder:Lorg/apache/camel/spi/FactoryFinder;
      20: invokespecial #50                 // Method org/apache/camel/impl/converter/DefaultTypeConverter."<init>":(Lorg/apache/camel/spi/PackageScanClassResolver;Lorg/apache/camel/spi/Injector;Lorg/apache/camel/spi/FactoryFinder;)V
      23: astore_1
      24: aload_1
      25: invokevirtual #51                 // Method org/apache/camel/impl/converter/DefaultTypeConverter.loadCoreTypeConverters:()V
      28: goto          63
      31: astore_2
      32: new           #52                 // class org/apache/camel/RuntimeCamelException
      35: dup
      36: new           #22                 // class java/lang/StringBuilder
      39: dup
      40: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      43: ldc           #53                 // String Error loading CoreTypeConverter due:
      45: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: aload_2
      49: invokevirtual #26                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      52: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      58: aload_2
      59: invokespecial #54                 // Method org/apache/camel/RuntimeCamelException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      62: athrow
      63: aload_0
      64: getfield      #9                  // Field tracker:Lorg/osgi/util/tracker/ServiceTracker;
      67: invokevirtual #55                 // Method org/osgi/util/tracker/ServiceTracker.getServices:()[Ljava/lang/Object;
      70: astore_2
      71: aload_2
      72: ifnull        162
      75: aload_2
      76: astore_3
      77: aload_3
      78: arraylength
      79: istore        4
      81: iconst_0
      82: istore        5
      84: iload         5
      86: iload         4
      88: if_icmpge     162
      91: aload_3
      92: iload         5
      94: aaload
      95: astore        6
      97: aload         6
      99: checkcast     #6                  // class org/apache/camel/spi/TypeConverterLoader
     102: aload_1
     103: invokeinterface #15,  2           // InterfaceMethod org/apache/camel/spi/TypeConverterLoader.load:(Lorg/apache/camel/spi/TypeConverterRegistry;)V
     108: goto          156
     111: astore        7
     113: new           #52                 // class org/apache/camel/RuntimeCamelException
     116: dup
     117: new           #22                 // class java/lang/StringBuilder
     120: dup
     121: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     124: ldc           #56                 // String Error loading type converters from service:
     126: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     129: aload         6
     131: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     134: ldc           #58                 // String  due:
     136: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     139: aload         7
     141: invokevirtual #59                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
     144: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     150: aload         7
     152: invokespecial #54                 // Method org/apache/camel/RuntimeCamelException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     155: athrow
     156: iinc          5, 1
     159: goto          84
     162: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
     165: ldc           #60                 // String Created TypeConverter: {}
     167: aload_1
     168: invokeinterface #12,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     173: aload_1
     174: areturn
    Exception table:
       from    to  target type
          24    28    31   Class java/lang/Exception
          97   108   111   Class java/lang/Throwable

  static {};
    Code:
       0: ldc_w         #61                 // class org/apache/camel/core/osgi/OsgiTypeConverter
       3: invokestatic  #62                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
