Compiled from "HttpProxyConfigurationActivator.java"
public final class org.apache.http.osgi.impl.HttpProxyConfigurationActivator implements org.osgi.framework.BundleActivator,org.osgi.service.cm.ManagedServiceFactory {
  private static final java.lang.String PROXY_SERVICE_FACTORY_NAME;

  private static final java.lang.String PROXY_SERVICE_PID;

  private static final java.lang.String BUILDER_FACTORY_SERVICE_NAME;

  private static final java.lang.String BUILDER_FACTORY_SERVICE_PID;

  private static final java.lang.String CACHEABLE_BUILDER_FACTORY_SERVICE_NAME;

  private static final java.lang.String CACHEABLE_BUILDER_FACTORY_SERVICE_PID;

  private org.osgi.framework.ServiceRegistration configurator;

  private org.osgi.framework.ServiceRegistration clientFactory;

  private org.osgi.framework.ServiceRegistration cachingClientFactory;

  private org.osgi.framework.BundleContext context;

  private final java.util.Map<java.lang.String, org.osgi.framework.ServiceRegistration> registeredConfigurations;

  private final java.util.List<org.apache.http.osgi.services.ProxyConfiguration> proxyConfigurations;

  private final org.apache.http.osgi.impl.HttpProxyConfigurationActivator$HttpClientTracker httpClientTracker;

  public org.apache.http.osgi.impl.HttpProxyConfigurationActivator();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/LinkedHashMap
       8: dup
       9: invokespecial #4                  // Method java/util/LinkedHashMap."<init>":()V
      12: putfield      #5                  // Field registeredConfigurations:Ljava/util/Map;
      15: aload_0
      16: new           #6                  // class java/util/concurrent/CopyOnWriteArrayList
      19: dup
      20: invokespecial #7                  // Method java/util/concurrent/CopyOnWriteArrayList."<init>":()V
      23: putfield      #8                  // Field proxyConfigurations:Ljava/util/List;
      26: aload_0
      27: new           #9                  // class org/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker
      30: dup
      31: invokespecial #10                 // Method org/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker."<init>":()V
      34: putfield      #11                 // Field httpClientTracker:Lorg/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker;
      37: return

  public void start(org.osgi.framework.BundleContext) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #12                 // Field context:Lorg/osgi/framework/BundleContext;
       5: new           #13                 // class java/util/Hashtable
       8: dup
       9: invokespecial #14                 // Method java/util/Hashtable."<init>":()V
      12: astore_2
      13: aload_2
      14: ldc           #15                 // String service.pid
      16: aload_0
      17: invokevirtual #16                 // Method getName:()Ljava/lang/String;
      20: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      23: pop
      24: aload_2
      25: ldc           #18                 // String service.vendor
      27: aload_1
      28: invokeinterface #19,  1           // InterfaceMethod org/osgi/framework/BundleContext.getBundle:()Lorg/osgi/framework/Bundle;
      33: invokeinterface #20,  1           // InterfaceMethod org/osgi/framework/Bundle.getHeaders:()Ljava/util/Dictionary;
      38: ldc           #21                 // String Bundle-Vendor
      40: invokevirtual #22                 // Method java/util/Dictionary.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      46: pop
      47: aload_2
      48: ldc           #23                 // String service.description
      50: ldc           #24                 // String Apache HTTP Client Proxy Configuration Factory
      52: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      55: pop
      56: aload_0
      57: aload_1
      58: ldc_w         #25                 // class org/osgi/service/cm/ManagedServiceFactory
      61: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
      64: aload_0
      65: aload_2
      66: invokeinterface #27,  4           // InterfaceMethod org/osgi/framework/BundleContext.registerService:(Ljava/lang/String;Ljava/lang/Object;Ljava/util/Dictionary;)Lorg/osgi/framework/ServiceRegistration;
      71: putfield      #28                 // Field configurator:Lorg/osgi/framework/ServiceRegistration;
      74: new           #29                 // class org/apache/http/osgi/impl/HttpClientBuilderConfigurator
      77: dup
      78: aload_0
      79: getfield      #8                  // Field proxyConfigurations:Ljava/util/List;
      82: invokespecial #30                 // Method org/apache/http/osgi/impl/HttpClientBuilderConfigurator."<init>":(Ljava/util/List;)V
      85: astore_3
      86: aload_2
      87: invokevirtual #31                 // Method java/util/Hashtable.clear:()V
      90: aload_2
      91: ldc           #15                 // String service.pid
      93: ldc           #32                 // String org.apache.http.httpclientfactory
      95: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      98: pop
      99: aload_2
     100: ldc           #18                 // String service.vendor
     102: aload_1
     103: invokeinterface #19,  1           // InterfaceMethod org/osgi/framework/BundleContext.getBundle:()Lorg/osgi/framework/Bundle;
     108: invokeinterface #20,  1           // InterfaceMethod org/osgi/framework/Bundle.getHeaders:()Ljava/util/Dictionary;
     113: ldc           #21                 // String Bundle-Vendor
     115: invokevirtual #22                 // Method java/util/Dictionary.get:(Ljava/lang/Object;)Ljava/lang/Object;
     118: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: aload_2
     123: ldc           #23                 // String service.description
     125: ldc           #33                 // String Apache HTTP Client Client Factory
     127: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     130: pop
     131: aload_0
     132: aload_1
     133: ldc_w         #34                 // class org/apache/http/osgi/services/HttpClientBuilderFactory
     136: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     139: new           #35                 // class org/apache/http/osgi/impl/OSGiHttpClientBuilderFactory
     142: dup
     143: aload_3
     144: aload_0
     145: getfield      #11                 // Field httpClientTracker:Lorg/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker;
     148: invokespecial #36                 // Method org/apache/http/osgi/impl/OSGiHttpClientBuilderFactory."<init>":(Lorg/apache/http/osgi/impl/HttpClientBuilderConfigurator;Lorg/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker;)V
     151: aload_2
     152: invokeinterface #27,  4           // InterfaceMethod org/osgi/framework/BundleContext.registerService:(Ljava/lang/String;Ljava/lang/Object;Ljava/util/Dictionary;)Lorg/osgi/framework/ServiceRegistration;
     157: putfield      #37                 // Field clientFactory:Lorg/osgi/framework/ServiceRegistration;
     160: aload_2
     161: invokevirtual #31                 // Method java/util/Hashtable.clear:()V
     164: aload_2
     165: ldc           #15                 // String service.pid
     167: ldc           #38                 // String org.apache.http.cachinghttpclientfactory
     169: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     172: pop
     173: aload_2
     174: ldc           #18                 // String service.vendor
     176: aload_1
     177: invokeinterface #19,  1           // InterfaceMethod org/osgi/framework/BundleContext.getBundle:()Lorg/osgi/framework/Bundle;
     182: invokeinterface #20,  1           // InterfaceMethod org/osgi/framework/Bundle.getHeaders:()Ljava/util/Dictionary;
     187: ldc           #21                 // String Bundle-Vendor
     189: invokevirtual #22                 // Method java/util/Dictionary.get:(Ljava/lang/Object;)Ljava/lang/Object;
     192: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     195: pop
     196: aload_2
     197: ldc           #23                 // String service.description
     199: ldc           #39                 // String Apache HTTP Client Caching Client Factory
     201: invokevirtual #17                 // Method java/util/Hashtable.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     204: pop
     205: aload_0
     206: aload_1
     207: ldc_w         #40                 // class org/apache/http/osgi/services/CachingHttpClientBuilderFactory
     210: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
     213: new           #41                 // class org/apache/http/osgi/impl/OSGiCachingHttpClientBuilderFactory
     216: dup
     217: aload_3
     218: aload_0
     219: getfield      #11                 // Field httpClientTracker:Lorg/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker;
     222: invokespecial #42                 // Method org/apache/http/osgi/impl/OSGiCachingHttpClientBuilderFactory."<init>":(Lorg/apache/http/osgi/impl/HttpClientBuilderConfigurator;Lorg/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker;)V
     225: aload_2
     226: invokeinterface #27,  4           // InterfaceMethod org/osgi/framework/BundleContext.registerService:(Ljava/lang/String;Ljava/lang/Object;Ljava/util/Dictionary;)Lorg/osgi/framework/ServiceRegistration;
     231: putfield      #43                 // Field cachingClientFactory:Lorg/osgi/framework/ServiceRegistration;
     234: return

  public void stop(org.osgi.framework.BundleContext) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field registeredConfigurations:Ljava/util/Map;
       4: invokeinterface #44,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       9: invokeinterface #45,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_2
      15: aload_2
      16: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          43
      24: aload_2
      25: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #48                 // class org/osgi/framework/ServiceRegistration
      33: astore_3
      34: aload_3
      35: invokeinterface #49,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.unregister:()V
      40: goto          15
      43: aload_0
      44: getfield      #5                  // Field registeredConfigurations:Ljava/util/Map;
      47: invokeinterface #50,  1           // InterfaceMethod java/util/Map.clear:()V
      52: aload_0
      53: getfield      #28                 // Field configurator:Lorg/osgi/framework/ServiceRegistration;
      56: ifnull        68
      59: aload_0
      60: getfield      #28                 // Field configurator:Lorg/osgi/framework/ServiceRegistration;
      63: invokeinterface #49,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.unregister:()V
      68: aload_0
      69: getfield      #37                 // Field clientFactory:Lorg/osgi/framework/ServiceRegistration;
      72: ifnull        84
      75: aload_0
      76: getfield      #37                 // Field clientFactory:Lorg/osgi/framework/ServiceRegistration;
      79: invokeinterface #49,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.unregister:()V
      84: aload_0
      85: getfield      #43                 // Field cachingClientFactory:Lorg/osgi/framework/ServiceRegistration;
      88: ifnull        100
      91: aload_0
      92: getfield      #43                 // Field cachingClientFactory:Lorg/osgi/framework/ServiceRegistration;
      95: invokeinterface #49,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.unregister:()V
     100: aload_0
     101: getfield      #11                 // Field httpClientTracker:Lorg/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker;
     104: invokevirtual #51                 // Method org/apache/http/osgi/impl/HttpProxyConfigurationActivator$HttpClientTracker.closeAll:()V
     107: return

  public java.lang.String getName();
    Code:
       0: ldc           #52                 // String org.apache.http.proxyconfigurator
       2: areturn

  public void updated(java.lang.String, java.util.Dictionary) throws org.osgi.service.cm.ConfigurationException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field registeredConfigurations:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #53,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #48                 // class org/osgi/framework/ServiceRegistration
      13: astore_3
      14: aload_3
      15: ifnonnull     75
      18: new           #54                 // class org/apache/http/osgi/impl/OSGiProxyConfiguration
      21: dup
      22: invokespecial #55                 // Method org/apache/http/osgi/impl/OSGiProxyConfiguration."<init>":()V
      25: astore        4
      27: aload_0
      28: getfield      #12                 // Field context:Lorg/osgi/framework/BundleContext;
      31: ldc_w         #56                 // class org/apache/http/osgi/services/ProxyConfiguration
      34: invokevirtual #26                 // Method java/lang/Class.getName:()Ljava/lang/String;
      37: aload         4
      39: aload_2
      40: invokeinterface #27,  4           // InterfaceMethod org/osgi/framework/BundleContext.registerService:(Ljava/lang/String;Ljava/lang/Object;Ljava/util/Dictionary;)Lorg/osgi/framework/ServiceRegistration;
      45: astore        5
      47: aload_0
      48: getfield      #5                  // Field registeredConfigurations:Ljava/util/Map;
      51: aload_1
      52: aload         5
      54: invokeinterface #57,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      59: pop
      60: aload_0
      61: getfield      #8                  // Field proxyConfigurations:Ljava/util/List;
      64: aload         4
      66: invokeinterface #58,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      71: pop
      72: goto          95
      75: aload_0
      76: getfield      #12                 // Field context:Lorg/osgi/framework/BundleContext;
      79: aload_3
      80: invokeinterface #59,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.getReference:()Lorg/osgi/framework/ServiceReference;
      85: invokeinterface #60,  2           // InterfaceMethod org/osgi/framework/BundleContext.getService:(Lorg/osgi/framework/ServiceReference;)Ljava/lang/Object;
      90: checkcast     #54                 // class org/apache/http/osgi/impl/OSGiProxyConfiguration
      93: astore        4
      95: aload_2
      96: astore        5
      98: aload         4
     100: aload         5
     102: invokevirtual #61                 // Method org/apache/http/osgi/impl/OSGiProxyConfiguration.update:(Ljava/util/Dictionary;)V
     105: return

  public void deleted(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field registeredConfigurations:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #62,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #48                 // class org/osgi/framework/ServiceRegistration
      13: astore_2
      14: aload_2
      15: ifnull        69
      18: aload_2
      19: invokeinterface #59,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.getReference:()Lorg/osgi/framework/ServiceReference;
      24: astore_3
      25: aload_0
      26: getfield      #12                 // Field context:Lorg/osgi/framework/BundleContext;
      29: aload_3
      30: invokeinterface #60,  2           // InterfaceMethod org/osgi/framework/BundleContext.getService:(Lorg/osgi/framework/ServiceReference;)Ljava/lang/Object;
      35: checkcast     #56                 // class org/apache/http/osgi/services/ProxyConfiguration
      38: astore        4
      40: aload_0
      41: getfield      #8                  // Field proxyConfigurations:Ljava/util/List;
      44: aload         4
      46: invokeinterface #63,  2           // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      51: pop
      52: aload_0
      53: getfield      #12                 // Field context:Lorg/osgi/framework/BundleContext;
      56: aload_3
      57: invokeinterface #64,  2           // InterfaceMethod org/osgi/framework/BundleContext.ungetService:(Lorg/osgi/framework/ServiceReference;)Z
      62: pop
      63: aload_2
      64: invokeinterface #49,  1           // InterfaceMethod org/osgi/framework/ServiceRegistration.unregister:()V
      69: return

  private static void closeQuietly(java.io.Closeable);
    Code:
       0: aload_0
       1: ifnull        14
       4: aload_0
       5: invokeinterface #65,  1           // InterfaceMethod java/io/Closeable.close:()V
      10: goto          14
      13: astore_1
      14: return
    Exception table:
       from    to  target type
           4    10    13   Class java/io/IOException

  static void access$000(java.io.Closeable);
    Code:
       0: aload_0
       1: invokestatic  #1                  // Method closeQuietly:(Ljava/io/Closeable;)V
       4: return
}
