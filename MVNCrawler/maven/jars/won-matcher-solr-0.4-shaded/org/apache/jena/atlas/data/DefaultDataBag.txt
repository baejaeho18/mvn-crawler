Compiled from "DefaultDataBag.java"
public class org.apache.jena.atlas.data.DefaultDataBag<E> extends org.apache.jena.atlas.data.AbstractDataBag<E> {
  private final org.apache.jena.atlas.data.ThresholdPolicy<E> policy;

  private final org.apache.jena.atlas.data.SerializationFactory<E> serializationFactory;

  protected boolean finishedAdding;

  protected boolean spilled;

  protected boolean closed;

  private org.apache.jena.atlas.lib.Sink<E> serializer;

  private java.io.OutputStream out;

  public org.apache.jena.atlas.data.DefaultDataBag(org.apache.jena.atlas.data.ThresholdPolicy<E>, org.apache.jena.atlas.data.SerializationFactory<E>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/jena/atlas/data/AbstractDataBag."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field finishedAdding:Z
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field spilled:Z
      14: aload_0
      15: iconst_0
      16: putfield      #4                  // Field closed:Z
      19: aload_0
      20: aload_1
      21: putfield      #5                  // Field policy:Lorg/apache/jena/atlas/data/ThresholdPolicy;
      24: aload_0
      25: aload_2
      26: putfield      #6                  // Field serializationFactory:Lorg/apache/jena/atlas/data/SerializationFactory;
      29: return

  private void checkClosed();
    Code:
       0: aload_0
       1: getfield      #4                  // Field closed:Z
       4: ifeq          17
       7: new           #7                  // class org/apache/jena/atlas/AtlasException
      10: dup
      11: ldc           #8                  // String DefaultDataBag is closed, no operations can be performed on it.
      13: invokespecial #9                  // Method org/apache/jena/atlas/AtlasException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: return

  public void add(E);
    Code:
       0: aload_0
       1: invokespecial #10                 // Method checkClosed:()V
       4: aload_0
       5: getfield      #2                  // Field finishedAdding:Z
       8: ifeq          21
      11: new           #7                  // class org/apache/jena/atlas/AtlasException
      14: dup
      15: ldc           #11                 // String DefaultDataBag: Cannot add any more items after the writing phase is complete.
      17: invokespecial #9                  // Method org/apache/jena/atlas/AtlasException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: aload_0
      22: getfield      #5                  // Field policy:Lorg/apache/jena/atlas/data/ThresholdPolicy;
      25: invokeinterface #12,  1           // InterfaceMethod org/apache/jena/atlas/data/ThresholdPolicy.isThresholdExceeded:()Z
      30: ifne          47
      33: aload_0
      34: getfield      #13                 // Field memory:Ljava/util/Collection;
      37: aload_1
      38: invokeinterface #14,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      43: pop
      44: goto          73
      47: aload_0
      48: getfield      #3                  // Field spilled:Z
      51: ifne          63
      54: aload_0
      55: invokespecial #15                 // Method spill:()V
      58: aload_0
      59: iconst_1
      60: putfield      #3                  // Field spilled:Z
      63: aload_0
      64: getfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      67: aload_1
      68: invokeinterface #17,  2           // InterfaceMethod org/apache/jena/atlas/lib/Sink.send:(Ljava/lang/Object;)V
      73: aload_0
      74: getfield      #5                  // Field policy:Lorg/apache/jena/atlas/data/ThresholdPolicy;
      77: aload_1
      78: invokeinterface #18,  2           // InterfaceMethod org/apache/jena/atlas/data/ThresholdPolicy.increment:(Ljava/lang/Object;)V
      83: aload_0
      84: dup
      85: getfield      #19                 // Field size:J
      88: lconst_1
      89: ladd
      90: putfield      #19                 // Field size:J
      93: return

  private void spill();
    Code:
       0: aload_0
       1: aload_0
       2: invokevirtual #20                 // Method getSpillStream:()Ljava/io/OutputStream;
       5: putfield      #21                 // Field out:Ljava/io/OutputStream;
       8: goto          21
      11: astore_1
      12: new           #7                  // class org/apache/jena/atlas/AtlasException
      15: dup
      16: aload_1
      17: invokespecial #23                 // Method org/apache/jena/atlas/AtlasException."<init>":(Ljava/lang/Throwable;)V
      20: athrow
      21: aload_0
      22: aload_0
      23: getfield      #6                  // Field serializationFactory:Lorg/apache/jena/atlas/data/SerializationFactory;
      26: aload_0
      27: getfield      #21                 // Field out:Ljava/io/OutputStream;
      30: invokeinterface #24,  2           // InterfaceMethod org/apache/jena/atlas/data/SerializationFactory.createSerializer:(Ljava/io/OutputStream;)Lorg/apache/jena/atlas/lib/Sink;
      35: putfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      38: aload_0
      39: getfield      #13                 // Field memory:Ljava/util/Collection;
      42: invokeinterface #25,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      47: astore_1
      48: aload_1
      49: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          77
      57: aload_1
      58: invokeinterface #27,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      63: astore_2
      64: aload_0
      65: getfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      68: aload_2
      69: invokeinterface #17,  2           // InterfaceMethod org/apache/jena/atlas/lib/Sink.send:(Ljava/lang/Object;)V
      74: goto          48
      77: aload_0
      78: aconst_null
      79: putfield      #13                 // Field memory:Ljava/util/Collection;
      82: return
    Exception table:
       from    to  target type
           0     8    11   Class java/io/IOException

  public boolean isSorted();
    Code:
       0: iconst_0
       1: ireturn

  public boolean isDistinct();
    Code:
       0: iconst_0
       1: ireturn

  public void flush();
    Code:
       0: aload_0
       1: getfield      #5                  // Field policy:Lorg/apache/jena/atlas/data/ThresholdPolicy;
       4: invokeinterface #12,  1           // InterfaceMethod org/apache/jena/atlas/data/ThresholdPolicy.isThresholdExceeded:()Z
       9: ifeq          29
      12: aconst_null
      13: aload_0
      14: getfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      17: if_acmpeq     29
      20: aload_0
      21: getfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      24: invokeinterface #28,  1           // InterfaceMethod org/apache/jena/atlas/lib/Sink.flush:()V
      29: return

  public java.util.Iterator<E> iterator();
    Code:
       0: aload_0
       1: invokespecial #10                 // Method checkClosed:()V
       4: aload_0
       5: invokevirtual #29                 // Method closeWriter:()V
       8: aload_0
       9: getfield      #5                  // Field policy:Lorg/apache/jena/atlas/data/ThresholdPolicy;
      12: invokeinterface #12,  1           // InterfaceMethod org/apache/jena/atlas/data/ThresholdPolicy.isThresholdExceeded:()Z
      17: ifeq          101
      20: aload_0
      21: invokevirtual #30                 // Method getSpillFiles:()Ljava/util/List;
      24: iconst_0
      25: invokeinterface #31,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      30: checkcast     #32                 // class java/io/File
      33: astore_2
      34: new           #33                 // class java/io/BufferedInputStream
      37: dup
      38: new           #34                 // class java/io/FileInputStream
      41: dup
      42: aload_2
      43: invokespecial #35                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      46: invokespecial #36                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      49: astore_3
      50: goto          65
      53: astore        4
      55: new           #7                  // class org/apache/jena/atlas/AtlasException
      58: dup
      59: aload         4
      61: invokespecial #23                 // Method org/apache/jena/atlas/AtlasException."<init>":(Ljava/lang/Throwable;)V
      64: athrow
      65: aload_0
      66: getfield      #6                  // Field serializationFactory:Lorg/apache/jena/atlas/data/SerializationFactory;
      69: aload_3
      70: invokeinterface #38,  2           // InterfaceMethod org/apache/jena/atlas/data/SerializationFactory.createDeserializer:(Ljava/io/InputStream;)Ljava/util/Iterator;
      75: astore        4
      77: new           #39                 // class org/apache/jena/atlas/iterator/IteratorResourceClosing
      80: dup
      81: aload         4
      83: aload_3
      84: invokespecial #40                 // Method org/apache/jena/atlas/iterator/IteratorResourceClosing."<init>":(Ljava/util/Iterator;Ljava/io/Closeable;)V
      87: astore        5
      89: aload_0
      90: aload         5
      92: invokevirtual #41                 // Method registerCloseableIterator:(Lorg/apache/jena/atlas/lib/Closeable;)V
      95: aload         5
      97: astore_1
      98: goto          111
     101: aload_0
     102: getfield      #13                 // Field memory:Ljava/util/Collection;
     105: invokeinterface #25,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     110: astore_1
     111: aload_1
     112: areturn
    Exception table:
       from    to  target type
          34    50    53   Class java/io/FileNotFoundException

  protected void closeWriter();
    Code:
       0: aload_0
       1: getfield      #2                  // Field finishedAdding:Z
       4: ifne          56
       7: aload_0
       8: getfield      #5                  // Field policy:Lorg/apache/jena/atlas/data/ThresholdPolicy;
      11: invokeinterface #12,  1           // InterfaceMethod org/apache/jena/atlas/data/ThresholdPolicy.isThresholdExceeded:()Z
      16: ifeq          51
      19: aconst_null
      20: aload_0
      21: getfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      24: if_acmpeq     36
      27: aload_0
      28: getfield      #16                 // Field serializer:Lorg/apache/jena/atlas/lib/Sink;
      31: invokeinterface #42,  1           // InterfaceMethod org/apache/jena/atlas/lib/Sink.close:()V
      36: aconst_null
      37: aload_0
      38: getfield      #21                 // Field out:Ljava/io/OutputStream;
      41: if_acmpeq     51
      44: aload_0
      45: getfield      #21                 // Field out:Ljava/io/OutputStream;
      48: invokestatic  #43                 // Method org/apache/jena/atlas/io/IO.close:(Ljava/io/Closeable;)V
      51: aload_0
      52: iconst_1
      53: putfield      #2                  // Field finishedAdding:Z
      56: return

  public void close();
    Code:
       0: aload_0
       1: getfield      #4                  // Field closed:Z
       4: ifne          29
       7: aload_0
       8: invokevirtual #29                 // Method closeWriter:()V
      11: aload_0
      12: invokevirtual #44                 // Method closeIterators:()V
      15: aload_0
      16: invokevirtual #45                 // Method deleteSpillFiles:()V
      19: aload_0
      20: aconst_null
      21: putfield      #13                 // Field memory:Ljava/util/Collection;
      24: aload_0
      25: iconst_1
      26: putfield      #4                  // Field closed:Z
      29: return
}
