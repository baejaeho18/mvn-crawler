Compiled from "RetainedMessageSubscriptionRecoveryPolicy.java"
public class org.apache.activemq.broker.region.policy.RetainedMessageSubscriptionRecoveryPolicy implements org.apache.activemq.broker.region.policy.SubscriptionRecoveryPolicy {
  public static final java.lang.String RETAIN_PROPERTY;

  public static final java.lang.String RETAINED_PROPERTY;

  private volatile org.apache.activemq.broker.region.MessageReference retainedMessage;

  private org.apache.activemq.broker.region.policy.SubscriptionRecoveryPolicy wrapped;

  public org.apache.activemq.broker.region.policy.RetainedMessageSubscriptionRecoveryPolicy(org.apache.activemq.broker.region.policy.SubscriptionRecoveryPolicy);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
       9: return

  public boolean add(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.MessageReference) throws java.lang.Exception;
    Code:
       0: aload_2
       1: invokeinterface #3,  1            // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
       6: astore_3
       7: aload_3
       8: ldc           #4                  // String ActiveMQ.Retain
      10: invokevirtual #5                  // Method org/apache/activemq/command/Message.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
      13: astore        4
      15: aload         4
      17: ifnull        35
      20: aload         4
      22: invokevirtual #6                  // Method java/lang/Object.toString:()Ljava/lang/String;
      25: invokestatic  #7                  // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      28: ifeq          35
      31: iconst_1
      32: goto          36
      35: iconst_0
      36: istore        5
      38: iload         5
      40: ifeq          112
      43: aload_3
      44: invokevirtual #8                  // Method org/apache/activemq/command/Message.getContent:()Lorg/apache/activemq/util/ByteSequence;
      47: invokevirtual #9                  // Method org/apache/activemq/util/ByteSequence.getLength:()I
      50: ifle          96
      53: aload_0
      54: aload_3
      55: invokevirtual #10                 // Method org/apache/activemq/command/Message.copy:()Lorg/apache/activemq/command/Message;
      58: putfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      61: aload_0
      62: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      65: invokeinterface #3,  1            // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      70: ldc           #4                  // String ActiveMQ.Retain
      72: invokevirtual #12                 // Method org/apache/activemq/command/Message.removeProperty:(Ljava/lang/String;)V
      75: aload_0
      76: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      79: invokeinterface #3,  1            // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      84: ldc           #13                 // String ActiveMQ.Retained
      86: iconst_1
      87: invokestatic  #14                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      90: invokevirtual #15                 // Method org/apache/activemq/command/Message.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      93: goto          101
      96: aload_0
      97: aconst_null
      98: putfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
     101: aload_2
     102: invokeinterface #3,  1            // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     107: ldc           #4                  // String ActiveMQ.Retain
     109: invokevirtual #12                 // Method org/apache/activemq/command/Message.removeProperty:(Ljava/lang/String;)V
     112: aload_0
     113: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
     116: ifnonnull     123
     119: iconst_1
     120: goto          134
     123: aload_0
     124: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
     127: aload_1
     128: aload_2
     129: invokeinterface #16,  3           // InterfaceMethod org/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy.add:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)Z
     134: ireturn

  public void recover(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Topic, org.apache.activemq.broker.region.SubscriptionRecovery) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
       4: ifnull        19
       7: aload_3
       8: aload_1
       9: aload_0
      10: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      13: invokeinterface #17,  3           // InterfaceMethod org/apache/activemq/broker/region/SubscriptionRecovery.addRecoveredMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)Z
      18: pop
      19: aload_0
      20: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
      23: ifnull        67
      26: iconst_1
      27: istore        4
      29: aload_3
      30: instanceof    #18                 // class org/apache/activemq/broker/region/DurableTopicSubscription
      33: ifeq          50
      36: aload_3
      37: checkcast     #18                 // class org/apache/activemq/broker/region/DurableTopicSubscription
      40: aload_2
      41: invokevirtual #19                 // Method org/apache/activemq/broker/region/DurableTopicSubscription.isEmpty:(Lorg/apache/activemq/broker/region/Topic;)Z
      44: ifne          50
      47: iconst_0
      48: istore        4
      50: iload         4
      52: ifeq          67
      55: aload_0
      56: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
      59: aload_1
      60: aload_2
      61: aload_3
      62: invokeinterface #20,  4           // InterfaceMethod org/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy.recover:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Topic;Lorg/apache/activemq/broker/region/SubscriptionRecovery;)V
      67: return

  public void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
       4: ifnull        16
       7: aload_0
       8: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
      11: invokeinterface #21,  1           // InterfaceMethod org/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy.start:()V
      16: return

  public void stop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
       4: ifnull        16
       7: aload_0
       8: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
      11: invokeinterface #22,  1           // InterfaceMethod org/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy.stop:()V
      16: return

  public org.apache.activemq.command.Message[] browse(org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: new           #23                 // class java/util/ArrayList
       3: dup
       4: invokespecial #24                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      12: ifnull        55
      15: aload_1
      16: invokestatic  #25                 // Method org/apache/activemq/filter/DestinationFilter.parseFilter:(Lorg/apache/activemq/command/ActiveMQDestination;)Lorg/apache/activemq/filter/DestinationFilter;
      19: astore_3
      20: aload_3
      21: aload_0
      22: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      25: invokeinterface #3,  1            // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      30: invokevirtual #26                 // Method org/apache/activemq/command/Message.getDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      33: invokevirtual #27                 // Method org/apache/activemq/filter/DestinationFilter.matches:(Lorg/apache/activemq/command/ActiveMQDestination;)Z
      36: ifeq          55
      39: aload_2
      40: aload_0
      41: getfield      #11                 // Field retainedMessage:Lorg/apache/activemq/broker/region/MessageReference;
      44: invokeinterface #3,  1            // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      49: invokeinterface #28,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      54: pop
      55: aload_2
      56: aload_2
      57: invokeinterface #29,  1           // InterfaceMethod java/util/List.size:()I
      62: anewarray     #30                 // class org/apache/activemq/command/Message
      65: invokeinterface #31,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      70: checkcast     #32                 // class "[Lorg/apache/activemq/command/Message;"
      73: astore_3
      74: aload_0
      75: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
      78: ifnull        134
      81: aload_0
      82: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
      85: aload_1
      86: invokeinterface #33,  2           // InterfaceMethod org/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy.browse:(Lorg/apache/activemq/command/ActiveMQDestination;)[Lorg/apache/activemq/command/Message;
      91: astore        4
      93: aload         4
      95: ifnull        134
      98: aload         4
     100: arraylength
     101: ifle          134
     104: aload_3
     105: arraylength
     106: istore        5
     108: aload_3
     109: iload         5
     111: aload         4
     113: arraylength
     114: iadd
     115: invokestatic  #34                 // Method java/util/Arrays.copyOf:([Ljava/lang/Object;I)[Ljava/lang/Object;
     118: checkcast     #32                 // class "[Lorg/apache/activemq/command/Message;"
     121: astore_3
     122: aload         4
     124: iconst_0
     125: aload_3
     126: iload         5
     128: aload         4
     130: arraylength
     131: invokestatic  #35                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
     134: aload_3
     135: areturn

  public org.apache.activemq.broker.region.policy.SubscriptionRecoveryPolicy copy();
    Code:
       0: new           #36                 // class org/apache/activemq/broker/region/policy/RetainedMessageSubscriptionRecoveryPolicy
       3: dup
       4: aload_0
       5: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
       8: invokespecial #37                 // Method "<init>":(Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;)V
      11: areturn

  public void setBroker(org.apache.activemq.broker.Broker);
    Code:
       0: return

  public void setWrapped(org.apache.activemq.broker.region.policy.SubscriptionRecoveryPolicy);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
       5: return

  public org.apache.activemq.broker.region.policy.SubscriptionRecoveryPolicy getWrapped();
    Code:
       0: aload_0
       1: getfield      #2                  // Field wrapped:Lorg/apache/activemq/broker/region/policy/SubscriptionRecoveryPolicy;
       4: areturn
}
