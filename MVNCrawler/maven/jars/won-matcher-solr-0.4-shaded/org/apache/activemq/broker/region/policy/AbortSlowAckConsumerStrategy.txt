Compiled from "AbortSlowAckConsumerStrategy.java"
public class org.apache.activemq.broker.region.policy.AbortSlowAckConsumerStrategy extends org.apache.activemq.broker.region.policy.AbortSlowConsumerStrategy {
  private static final org.slf4j.Logger LOG;

  private final java.util.List<org.apache.activemq.broker.region.Destination> destinations;

  private long maxTimeSinceLastAck;

  private boolean ignoreIdleConsumers;

  private boolean ignoreNetworkConsumers;

  public org.apache.activemq.broker.region.policy.AbortSlowAckConsumerStrategy();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/activemq/broker/region/policy/AbortSlowConsumerStrategy."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/LinkedList
       8: dup
       9: invokespecial #3                  // Method java/util/LinkedList."<init>":()V
      12: putfield      #4                  // Field destinations:Ljava/util/List;
      15: aload_0
      16: ldc2_w        #5                  // long 30000l
      19: putfield      #7                  // Field maxTimeSinceLastAck:J
      22: aload_0
      23: iconst_1
      24: putfield      #8                  // Field ignoreIdleConsumers:Z
      27: aload_0
      28: iconst_1
      29: putfield      #9                  // Field ignoreNetworkConsumers:Z
      32: aload_0
      33: new           #10                 // class java/lang/StringBuilder
      36: dup
      37: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      40: ldc           #12                 // String AbortSlowAckConsumerStrategy@
      42: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_0
      46: invokevirtual #14                 // Method java/lang/Object.hashCode:()I
      49: invokevirtual #15                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      52: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: putfield      #17                 // Field name:Ljava/lang/String;
      58: return

  public void setBrokerService(org.apache.activemq.broker.Broker);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #18                 // Method org/apache/activemq/broker/region/policy/AbortSlowConsumerStrategy.setBrokerService:(Lorg/apache/activemq/broker/Broker;)V
       5: aload_0
       6: getfield      #19                 // Field taskStarted:Ljava/util/concurrent/atomic/AtomicBoolean;
       9: iconst_0
      10: iconst_1
      11: invokevirtual #20                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      14: ifeq          29
      17: aload_0
      18: getfield      #21                 // Field scheduler:Lorg/apache/activemq/thread/Scheduler;
      21: aload_0
      22: aload_0
      23: invokevirtual #22                 // Method getCheckPeriod:()J
      26: invokevirtual #23                 // Method org/apache/activemq/thread/Scheduler.executePeriodically:(Ljava/lang/Runnable;J)V
      29: return

  public void slowConsumer(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription);
    Code:
       0: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #7                  // Field maxTimeSinceLastAck:J
       4: lconst_0
       5: lcmp
       6: ifge          20
       9: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
      12: ldc           #25                 // String no limit set, slowConsumer strategy has nothing to do
      14: invokeinterface #26,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      19: return
      20: aload_0
      21: invokevirtual #27                 // Method getMaxSlowDuration:()J
      24: lconst_0
      25: lcmp
      26: ifle          70
      29: aload_0
      30: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
      33: invokeinterface #29,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      38: invokeinterface #30,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      43: astore_1
      44: aload_1
      45: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      50: ifeq          70
      53: aload_1
      54: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      59: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
      62: astore_2
      63: aload_2
      64: invokevirtual #34                 // Method org/apache/activemq/broker/region/policy/SlowConsumerEntry.mark:()V
      67: goto          44
      70: new           #35                 // class java/util/ArrayList
      73: dup
      74: invokespecial #36                 // Method java/util/ArrayList."<init>":()V
      77: astore_1
      78: aload_0
      79: getfield      #4                  // Field destinations:Ljava/util/List;
      82: invokeinterface #37,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      87: astore_2
      88: aload_2
      89: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      94: ifeq          144
      97: aload_2
      98: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     103: checkcast     #38                 // class org/apache/activemq/broker/region/Destination
     106: astore_3
     107: aload_3
     108: invokeinterface #39,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.isDisposed:()Z
     113: ifeq          127
     116: aload_1
     117: aload_3
     118: invokeinterface #40,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     123: pop
     124: goto          88
     127: aload_3
     128: invokeinterface #41,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.getConsumers:()Ljava/util/List;
     133: astore        4
     135: aload_0
     136: aload         4
     138: invokespecial #42                 // Method updateSlowConsumersList:(Ljava/util/List;)V
     141: goto          88
     144: aload_0
     145: getfield      #4                  // Field destinations:Ljava/util/List;
     148: aload_1
     149: invokeinterface #43,  2           // InterfaceMethod java/util/List.removeAll:(Ljava/util/Collection;)Z
     154: pop
     155: aload_0
     156: invokespecial #44                 // Method abortAllQualifiedSlowConsumers:()V
     159: return

  private void updateSlowConsumersList(java.util.List<org.apache.activemq.broker.region.Subscription>);
    Code:
       0: aload_1
       1: invokeinterface #37,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: aload_2
       8: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          288
      16: aload_2
      17: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #45                 // class org/apache/activemq/broker/region/Subscription
      25: astore_3
      26: aload_0
      27: invokevirtual #46                 // Method isIgnoreNetworkSubscriptions:()Z
      30: ifeq          80
      33: aload_3
      34: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
      39: invokevirtual #48                 // Method org/apache/activemq/command/ConsumerInfo.isNetworkSubscription:()Z
      42: ifeq          80
      45: aload_0
      46: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
      49: aload_3
      50: invokeinterface #49,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      55: ifnull        7
      58: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
      61: ldc           #50                 // String network sub: {} is no longer slow
      63: aload_3
      64: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
      69: invokevirtual #51                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      72: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      77: goto          7
      80: aload_0
      81: invokevirtual #53                 // Method isIgnoreIdleConsumers:()Z
      84: ifeq          131
      87: aload_3
      88: invokeinterface #54,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getDispatchedQueueSize:()I
      93: ifne          131
      96: aload_0
      97: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
     100: aload_3
     101: invokeinterface #49,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     106: ifnull        7
     109: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     112: ldc           #55                 // String idle sub: {} is no longer slow
     114: aload_3
     115: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     120: invokevirtual #51                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     123: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     128: goto          7
     131: aload_3
     132: invokeinterface #56,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getTimeOfLastMessageAck:()J
     137: lstore        4
     139: invokestatic  #57                 // Method java/lang/System.currentTimeMillis:()J
     142: lload         4
     144: lsub
     145: lstore        6
     147: lload         6
     149: aload_0
     150: getfield      #7                  // Field maxTimeSinceLastAck:J
     153: lcmp
     154: ifle          253
     157: aload_0
     158: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
     161: aload_3
     162: invokeinterface #58,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     167: ifne          225
     170: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     173: ldc           #59                 // String sub: {} is now slow
     175: aload_3
     176: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     181: invokevirtual #51                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     184: invokeinterface #60,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     189: new           #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
     192: dup
     193: aload_3
     194: invokeinterface #61,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getContext:()Lorg/apache/activemq/broker/ConnectionContext;
     199: invokespecial #62                 // Method org/apache/activemq/broker/region/policy/SlowConsumerEntry."<init>":(Lorg/apache/activemq/broker/ConnectionContext;)V
     202: astore        8
     204: aload         8
     206: invokevirtual #34                 // Method org/apache/activemq/broker/region/policy/SlowConsumerEntry.mark:()V
     209: aload_0
     210: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
     213: aload_3
     214: aload         8
     216: invokeinterface #63,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     221: pop
     222: goto          285
     225: aload_0
     226: invokevirtual #64                 // Method getMaxSlowCount:()J
     229: lconst_0
     230: lcmp
     231: ifle          285
     234: aload_0
     235: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
     238: aload_3
     239: invokeinterface #65,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     244: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
     247: invokevirtual #66                 // Method org/apache/activemq/broker/region/policy/SlowConsumerEntry.slow:()V
     250: goto          285
     253: aload_0
     254: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
     257: aload_3
     258: invokeinterface #49,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     263: ifnull        285
     266: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     269: ldc           #67                 // String sub: {} is no longer slow
     271: aload_3
     272: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     277: invokevirtual #51                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     280: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     285: goto          7
     288: return

  private void abortAllQualifiedSlowConsumers();
    Code:
       0: new           #68                 // class java/util/HashMap
       3: dup
       4: invokespecial #69                 // Method java/util/HashMap."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
      12: invokeinterface #70,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      17: invokeinterface #71,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      22: astore_2
      23: aload_2
      24: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          298
      32: aload_2
      33: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #72                 // class java/util/Map$Entry
      41: astore_3
      42: aload_0
      43: invokevirtual #27                 // Method getMaxSlowDuration:()J
      46: lconst_0
      47: lcmp
      48: ifle          77
      51: aload_3
      52: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      57: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
      60: getfield      #74                 // Field org/apache/activemq/broker/region/policy/SlowConsumerEntry.markCount:I
      63: i2l
      64: aload_0
      65: invokevirtual #22                 // Method getCheckPeriod:()J
      68: lmul
      69: aload_0
      70: invokevirtual #27                 // Method getMaxSlowDuration:()J
      73: lcmp
      74: ifge          107
      77: aload_0
      78: invokevirtual #64                 // Method getMaxSlowCount:()J
      81: lconst_0
      82: lcmp
      83: ifle          219
      86: aload_3
      87: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      92: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
      95: getfield      #75                 // Field org/apache/activemq/broker/region/policy/SlowConsumerEntry.slowCount:I
      98: i2l
      99: aload_0
     100: invokevirtual #64                 // Method getMaxSlowCount:()J
     103: lcmp
     104: iflt          219
     107: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     110: ldc           #76                 // String Transferring consumer{} to the abort list: {} slow duration = {}, slow count = {}
     112: iconst_3
     113: anewarray     #77                 // class java/lang/Object
     116: dup
     117: iconst_0
     118: aload_3
     119: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     124: checkcast     #45                 // class org/apache/activemq/broker/region/Subscription
     127: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     132: invokevirtual #51                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     135: aastore
     136: dup
     137: iconst_1
     138: aload_3
     139: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     144: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
     147: getfield      #74                 // Field org/apache/activemq/broker/region/policy/SlowConsumerEntry.markCount:I
     150: i2l
     151: aload_0
     152: invokevirtual #22                 // Method getCheckPeriod:()J
     155: lmul
     156: invokestatic  #79                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     159: aastore
     160: dup
     161: iconst_2
     162: aload_3
     163: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     168: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
     171: invokevirtual #80                 // Method org/apache/activemq/broker/region/policy/SlowConsumerEntry.getSlowCount:()I
     174: invokestatic  #81                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     177: aastore
     178: invokeinterface #82,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     183: aload_1
     184: aload_3
     185: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     190: aload_3
     191: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     196: invokevirtual #83                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     199: pop
     200: aload_0
     201: getfield      #28                 // Field slowConsumers:Ljava/util/Map;
     204: aload_3
     205: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     210: invokeinterface #49,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     215: pop
     216: goto          295
     219: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     222: ldc           #84                 // String Not yet time to abort consumer {}: slow duration = {}, slow count = {}
     224: iconst_3
     225: anewarray     #77                 // class java/lang/Object
     228: dup
     229: iconst_0
     230: aload_3
     231: invokeinterface #78,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     236: checkcast     #45                 // class org/apache/activemq/broker/region/Subscription
     239: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     244: invokevirtual #51                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     247: aastore
     248: dup
     249: iconst_1
     250: aload_3
     251: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     256: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
     259: getfield      #74                 // Field org/apache/activemq/broker/region/policy/SlowConsumerEntry.markCount:I
     262: i2l
     263: aload_0
     264: invokevirtual #22                 // Method getCheckPeriod:()J
     267: lmul
     268: invokestatic  #79                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     271: aastore
     272: dup
     273: iconst_2
     274: aload_3
     275: invokeinterface #73,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     280: checkcast     #33                 // class org/apache/activemq/broker/region/policy/SlowConsumerEntry
     283: getfield      #75                 // Field org/apache/activemq/broker/region/policy/SlowConsumerEntry.slowCount:I
     286: invokestatic  #81                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     289: aastore
     290: invokeinterface #82,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     295: goto          23
     298: aload_0
     299: aload_1
     300: aload_0
     301: invokevirtual #85                 // Method isAbortConnection:()Z
     304: invokevirtual #86                 // Method abortSubscription:(Ljava/util/Map;Z)V
     307: return

  public void addDestination(org.apache.activemq.broker.region.Destination);
    Code:
       0: aload_0
       1: getfield      #4                  // Field destinations:Ljava/util/List;
       4: aload_1
       5: invokeinterface #40,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      10: pop
      11: return

  public long getMaxTimeSinceLastAck();
    Code:
       0: aload_0
       1: getfield      #7                  // Field maxTimeSinceLastAck:J
       4: lreturn

  public void setMaxTimeSinceLastAck(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #7                  // Field maxTimeSinceLastAck:J
       5: return

  public boolean isIgnoreIdleConsumers();
    Code:
       0: aload_0
       1: getfield      #8                  // Field ignoreIdleConsumers:Z
       4: ireturn

  public void setIgnoreIdleConsumers(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #8                  // Field ignoreIdleConsumers:Z
       5: return

  public boolean isIgnoreNetworkSubscriptions();
    Code:
       0: aload_0
       1: getfield      #9                  // Field ignoreNetworkConsumers:Z
       4: ireturn

  public void setIgnoreNetworkConsumers(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #9                  // Field ignoreNetworkConsumers:Z
       5: return

  static {};
    Code:
       0: ldc_w         #87                 // class org/apache/activemq/broker/region/policy/AbortSlowAckConsumerStrategy
       3: invokestatic  #88                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
