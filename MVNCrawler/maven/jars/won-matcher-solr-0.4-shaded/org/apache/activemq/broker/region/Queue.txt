Compiled from "Queue.java"
public class org.apache.activemq.broker.region.Queue extends org.apache.activemq.broker.region.BaseDestination implements org.apache.activemq.thread.Task,org.apache.activemq.usage.UsageListener {
  protected static final org.slf4j.Logger LOG;

  protected final org.apache.activemq.thread.TaskRunnerFactory taskFactory;

  protected org.apache.activemq.thread.TaskRunner taskRunner;

  private final java.util.concurrent.locks.ReentrantReadWriteLock consumersLock;

  protected final java.util.List<org.apache.activemq.broker.region.Subscription> consumers;

  private final java.util.concurrent.locks.ReentrantReadWriteLock messagesLock;

  protected org.apache.activemq.broker.region.cursors.PendingMessageCursor messages;

  private final java.util.concurrent.locks.ReentrantReadWriteLock pagedInMessagesLock;

  private final org.apache.activemq.broker.region.cursors.PendingList pagedInMessages;

  private final java.util.concurrent.locks.ReentrantReadWriteLock pagedInPendingDispatchLock;

  protected org.apache.activemq.broker.region.cursors.PendingList pagedInPendingDispatch;

  protected org.apache.activemq.broker.region.cursors.PendingList redeliveredWaitingDispatch;

  private org.apache.activemq.broker.region.group.MessageGroupMap messageGroupOwners;

  private org.apache.activemq.broker.region.policy.DispatchPolicy dispatchPolicy;

  private org.apache.activemq.broker.region.group.MessageGroupMapFactory messageGroupMapFactory;

  final java.util.concurrent.locks.Lock sendLock;

  private java.util.concurrent.ExecutorService executor;

  private final java.util.Map<org.apache.activemq.command.MessageId, java.lang.Runnable> messagesWaitingForSpace;

  private boolean useConsumerPriority;

  private boolean strictOrderDispatch;

  private final org.apache.activemq.broker.region.QueueDispatchSelector dispatchSelector;

  private boolean optimizedDispatch;

  private boolean iterationRunning;

  private boolean firstConsumer;

  private int timeBeforeDispatchStarts;

  private int consumersBeforeDispatchStarts;

  private java.util.concurrent.CountDownLatch consumersBeforeStartsLatch;

  private final java.util.concurrent.atomic.AtomicLong pendingWakeups;

  private boolean allConsumersExclusiveByDefault;

  private final java.util.concurrent.atomic.AtomicBoolean started;

  private boolean resetNeeded;

  private final java.lang.Runnable sendMessagesWaitingForSpaceTask;

  private final java.lang.Runnable expireMessagesTask;

  private final java.lang.Object iteratingMutex;

  java.util.concurrent.DelayQueue<org.apache.activemq.broker.region.Queue$TimeoutMessage> flowControlTimeoutMessages;

  private final org.apache.activemq.broker.region.Queue$FlowControlTimeoutTask flowControlTimeoutTask;

  private final java.util.Comparator<org.apache.activemq.broker.region.Subscription> orderedCompare;

  java.util.concurrent.ConcurrentLinkedQueue<org.apache.activemq.broker.region.Queue$BrowserDispatch> browserDispatches;

  final java.util.concurrent.ConcurrentHashMap<org.apache.activemq.transaction.Transaction, org.apache.activemq.broker.region.Queue$SendSync> sendSyncs;

  private final java.util.LinkedList<org.apache.activemq.transaction.Transaction> orderIndexUpdates;

  public org.apache.activemq.broker.region.Queue(org.apache.activemq.broker.BrokerService, org.apache.activemq.command.ActiveMQDestination, org.apache.activemq.store.MessageStore, org.apache.activemq.broker.region.DestinationStatistics, org.apache.activemq.thread.TaskRunnerFactory) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_3
       3: aload_2
       4: aload         4
       6: invokespecial #9                  // Method org/apache/activemq/broker/region/BaseDestination."<init>":(Lorg/apache/activemq/broker/BrokerService;Lorg/apache/activemq/store/MessageStore;Lorg/apache/activemq/command/ActiveMQDestination;Lorg/apache/activemq/broker/region/DestinationStatistics;)V
       9: aload_0
      10: new           #10                 // class java/util/concurrent/locks/ReentrantReadWriteLock
      13: dup
      14: invokespecial #11                 // Method java/util/concurrent/locks/ReentrantReadWriteLock."<init>":()V
      17: putfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      20: aload_0
      21: new           #13                 // class java/util/ArrayList
      24: dup
      25: bipush        50
      27: invokespecial #14                 // Method java/util/ArrayList."<init>":(I)V
      30: putfield      #15                 // Field consumers:Ljava/util/List;
      33: aload_0
      34: new           #10                 // class java/util/concurrent/locks/ReentrantReadWriteLock
      37: dup
      38: invokespecial #11                 // Method java/util/concurrent/locks/ReentrantReadWriteLock."<init>":()V
      41: putfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      44: aload_0
      45: new           #10                 // class java/util/concurrent/locks/ReentrantReadWriteLock
      48: dup
      49: invokespecial #11                 // Method java/util/concurrent/locks/ReentrantReadWriteLock."<init>":()V
      52: putfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      55: aload_0
      56: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
      59: dup
      60: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
      63: putfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      66: aload_0
      67: new           #10                 // class java/util/concurrent/locks/ReentrantReadWriteLock
      70: dup
      71: invokespecial #11                 // Method java/util/concurrent/locks/ReentrantReadWriteLock."<init>":()V
      74: putfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      77: aload_0
      78: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
      81: dup
      82: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
      85: putfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      88: aload_0
      89: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
      92: dup
      93: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
      96: putfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      99: aload_0
     100: new           #23                 // class org/apache/activemq/broker/region/policy/RoundRobinDispatchPolicy
     103: dup
     104: invokespecial #24                 // Method org/apache/activemq/broker/region/policy/RoundRobinDispatchPolicy."<init>":()V
     107: putfield      #25                 // Field dispatchPolicy:Lorg/apache/activemq/broker/region/policy/DispatchPolicy;
     110: aload_0
     111: new           #26                 // class org/apache/activemq/broker/region/group/CachedMessageGroupMapFactory
     114: dup
     115: invokespecial #27                 // Method org/apache/activemq/broker/region/group/CachedMessageGroupMapFactory."<init>":()V
     118: putfield      #28                 // Field messageGroupMapFactory:Lorg/apache/activemq/broker/region/group/MessageGroupMapFactory;
     121: aload_0
     122: new           #29                 // class java/util/concurrent/locks/ReentrantLock
     125: dup
     126: invokespecial #30                 // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
     129: putfield      #31                 // Field sendLock:Ljava/util/concurrent/locks/Lock;
     132: aload_0
     133: new           #32                 // class java/util/LinkedHashMap
     136: dup
     137: invokespecial #33                 // Method java/util/LinkedHashMap."<init>":()V
     140: putfield      #6                  // Field messagesWaitingForSpace:Ljava/util/Map;
     143: aload_0
     144: iconst_1
     145: putfield      #34                 // Field useConsumerPriority:Z
     148: aload_0
     149: iconst_0
     150: putfield      #35                 // Field strictOrderDispatch:Z
     153: aload_0
     154: iconst_0
     155: putfield      #36                 // Field optimizedDispatch:Z
     158: aload_0
     159: iconst_0
     160: putfield      #37                 // Field iterationRunning:Z
     163: aload_0
     164: iconst_0
     165: putfield      #38                 // Field firstConsumer:Z
     168: aload_0
     169: iconst_0
     170: putfield      #39                 // Field timeBeforeDispatchStarts:I
     173: aload_0
     174: iconst_0
     175: putfield      #40                 // Field consumersBeforeDispatchStarts:I
     178: aload_0
     179: new           #41                 // class java/util/concurrent/atomic/AtomicLong
     182: dup
     183: invokespecial #42                 // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
     186: putfield      #43                 // Field pendingWakeups:Ljava/util/concurrent/atomic/AtomicLong;
     189: aload_0
     190: iconst_0
     191: putfield      #44                 // Field allConsumersExclusiveByDefault:Z
     194: aload_0
     195: new           #45                 // class java/util/concurrent/atomic/AtomicBoolean
     198: dup
     199: invokespecial #46                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
     202: putfield      #47                 // Field started:Ljava/util/concurrent/atomic/AtomicBoolean;
     205: aload_0
     206: new           #48                 // class org/apache/activemq/broker/region/Queue$1
     209: dup
     210: aload_0
     211: invokespecial #49                 // Method org/apache/activemq/broker/region/Queue$1."<init>":(Lorg/apache/activemq/broker/region/Queue;)V
     214: putfield      #50                 // Field sendMessagesWaitingForSpaceTask:Ljava/lang/Runnable;
     217: aload_0
     218: new           #51                 // class org/apache/activemq/broker/region/Queue$2
     221: dup
     222: aload_0
     223: invokespecial #52                 // Method org/apache/activemq/broker/region/Queue$2."<init>":(Lorg/apache/activemq/broker/region/Queue;)V
     226: putfield      #53                 // Field expireMessagesTask:Ljava/lang/Runnable;
     229: aload_0
     230: new           #54                 // class java/lang/Object
     233: dup
     234: invokespecial #55                 // Method java/lang/Object."<init>":()V
     237: putfield      #56                 // Field iteratingMutex:Ljava/lang/Object;
     240: aload_0
     241: new           #57                 // class java/util/concurrent/DelayQueue
     244: dup
     245: invokespecial #58                 // Method java/util/concurrent/DelayQueue."<init>":()V
     248: putfield      #59                 // Field flowControlTimeoutMessages:Ljava/util/concurrent/DelayQueue;
     251: aload_0
     252: new           #60                 // class org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask
     255: dup
     256: aload_0
     257: invokespecial #61                 // Method org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask."<init>":(Lorg/apache/activemq/broker/region/Queue;)V
     260: putfield      #62                 // Field flowControlTimeoutTask:Lorg/apache/activemq/broker/region/Queue$FlowControlTimeoutTask;
     263: aload_0
     264: new           #63                 // class org/apache/activemq/broker/region/Queue$3
     267: dup
     268: aload_0
     269: invokespecial #64                 // Method org/apache/activemq/broker/region/Queue$3."<init>":(Lorg/apache/activemq/broker/region/Queue;)V
     272: putfield      #65                 // Field orderedCompare:Ljava/util/Comparator;
     275: aload_0
     276: new           #66                 // class java/util/concurrent/ConcurrentLinkedQueue
     279: dup
     280: invokespecial #67                 // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
     283: putfield      #68                 // Field browserDispatches:Ljava/util/concurrent/ConcurrentLinkedQueue;
     286: aload_0
     287: new           #69                 // class java/util/concurrent/ConcurrentHashMap
     290: dup
     291: invokespecial #70                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
     294: putfield      #71                 // Field sendSyncs:Ljava/util/concurrent/ConcurrentHashMap;
     297: aload_0
     298: new           #72                 // class java/util/LinkedList
     301: dup
     302: invokespecial #73                 // Method java/util/LinkedList."<init>":()V
     305: putfield      #2                  // Field orderIndexUpdates:Ljava/util/LinkedList;
     308: aload_0
     309: aload         5
     311: putfield      #74                 // Field taskFactory:Lorg/apache/activemq/thread/TaskRunnerFactory;
     314: aload_0
     315: new           #75                 // class org/apache/activemq/broker/region/QueueDispatchSelector
     318: dup
     319: aload_2
     320: invokespecial #76                 // Method org/apache/activemq/broker/region/QueueDispatchSelector."<init>":(Lorg/apache/activemq/command/ActiveMQDestination;)V
     323: putfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     326: return

  public java.util.List<org.apache.activemq.broker.region.Subscription> getConsumers();
    Code:
       0: aload_0
       1: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
       7: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      10: new           #13                 // class java/util/ArrayList
      13: dup
      14: aload_0
      15: getfield      #15                 // Field consumers:Ljava/util/List;
      18: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      21: astore_1
      22: aload_0
      23: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      26: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      29: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      32: aload_1
      33: areturn
      34: astore_2
      35: aload_0
      36: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      39: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      42: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      45: aload_2
      46: athrow
    Exception table:
       from    to  target type
          10    22    34   any
          34    35    34   any

  public void setPrioritizedMessages(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #82                 // Method org/apache/activemq/broker/region/BaseDestination.setPrioritizedMessages:(Z)V
       5: iload_1
       6: ifeq          44
       9: aload_0
      10: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      13: instanceof    #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
      16: ifeq          44
      19: aload_0
      20: new           #83                 // class org/apache/activemq/broker/region/cursors/PrioritizedPendingList
      23: dup
      24: invokespecial #84                 // Method org/apache/activemq/broker/region/cursors/PrioritizedPendingList."<init>":()V
      27: putfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      30: aload_0
      31: new           #83                 // class org/apache/activemq/broker/region/cursors/PrioritizedPendingList
      34: dup
      35: invokespecial #84                 // Method org/apache/activemq/broker/region/cursors/PrioritizedPendingList."<init>":()V
      38: putfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      41: goto          76
      44: aload_0
      45: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      48: instanceof    #83                 // class org/apache/activemq/broker/region/cursors/PrioritizedPendingList
      51: ifeq          76
      54: aload_0
      55: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
      58: dup
      59: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
      62: putfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      65: aload_0
      66: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
      69: dup
      70: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
      73: putfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      76: return

  public void initialize() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       4: ifnonnull     65
       7: aload_0
       8: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
      11: invokevirtual #87                 // Method org/apache/activemq/command/ActiveMQDestination.isTemporary:()Z
      14: ifne          31
      17: aload_0
      18: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
      21: ifnull        31
      24: aload_0
      25: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      28: ifnonnull     49
      31: aload_0
      32: new           #90                 // class org/apache/activemq/broker/region/cursors/VMPendingMessageCursor
      35: dup
      36: aload_0
      37: invokevirtual #91                 // Method isPrioritizedMessages:()Z
      40: invokespecial #92                 // Method org/apache/activemq/broker/region/cursors/VMPendingMessageCursor."<init>":(Z)V
      43: putfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      46: goto          65
      49: aload_0
      50: new           #93                 // class org/apache/activemq/broker/region/cursors/StoreQueueCursor
      53: dup
      54: aload_0
      55: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
      58: aload_0
      59: invokespecial #94                 // Method org/apache/activemq/broker/region/cursors/StoreQueueCursor."<init>":(Lorg/apache/activemq/broker/Broker;Lorg/apache/activemq/broker/region/Queue;)V
      62: putfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      65: aload_0
      66: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      69: instanceof    #90                 // class org/apache/activemq/broker/region/cursors/VMPendingMessageCursor
      72: ifeq          100
      75: aload_0
      76: aload_0
      77: getfield      #95                 // Field brokerService:Lorg/apache/activemq/broker/BrokerService;
      80: invokevirtual #96                 // Method org/apache/activemq/broker/BrokerService.getSystemUsage:()Lorg/apache/activemq/usage/SystemUsage;
      83: putfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      86: aload_0
      87: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      90: aload_0
      91: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      94: invokevirtual #99                 // Method org/apache/activemq/usage/SystemUsage.getMemoryUsage:()Lorg/apache/activemq/usage/MemoryUsage;
      97: invokevirtual #100                // Method org/apache/activemq/usage/MemoryUsage.setParent:(Lorg/apache/activemq/usage/Usage;)V
     100: aload_0
     101: aload_0
     102: getfield      #74                 // Field taskFactory:Lorg/apache/activemq/thread/TaskRunnerFactory;
     105: aload_0
     106: new           #101                // class java/lang/StringBuilder
     109: dup
     110: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     113: ldc           #103                // String Queue:
     115: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: aload_0
     119: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
     122: invokevirtual #105                // Method org/apache/activemq/command/ActiveMQDestination.getPhysicalName:()Ljava/lang/String;
     125: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     131: invokevirtual #107                // Method org/apache/activemq/thread/TaskRunnerFactory.createTaskRunner:(Lorg/apache/activemq/thread/Task;Ljava/lang/String;)Lorg/apache/activemq/thread/TaskRunner;
     134: putfield      #108                // Field taskRunner:Lorg/apache/activemq/thread/TaskRunner;
     137: aload_0
     138: invokespecial #109                // Method org/apache/activemq/broker/region/BaseDestination.initialize:()V
     141: aload_0
     142: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     145: ifnull        306
     148: aload_0
     149: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     152: aload_0
     153: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     156: invokeinterface #110,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setSystemUsage:(Lorg/apache/activemq/usage/SystemUsage;)V
     161: aload_0
     162: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     165: aload_0
     166: invokevirtual #111                // Method isEnableAudit:()Z
     169: invokeinterface #112,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setEnableAudit:(Z)V
     174: aload_0
     175: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     178: aload_0
     179: invokevirtual #113                // Method getMaxAuditDepth:()I
     182: invokeinterface #114,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setMaxAuditDepth:(I)V
     187: aload_0
     188: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     191: aload_0
     192: invokevirtual #115                // Method getMaxProducersToAudit:()I
     195: invokeinterface #116,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setMaxProducersToAudit:(I)V
     200: aload_0
     201: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     204: aload_0
     205: invokevirtual #117                // Method isUseCache:()Z
     208: invokeinterface #118,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setUseCache:(Z)V
     213: aload_0
     214: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     217: aload_0
     218: invokevirtual #119                // Method getCursorMemoryHighWaterMark:()I
     221: invokeinterface #120,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setMemoryUsageHighWaterMark:(I)V
     226: aload_0
     227: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     230: invokeinterface #121,  1          // InterfaceMethod org/apache/activemq/store/MessageStore.getMessageCount:()I
     235: istore_1
     236: iload_1
     237: ifle          294
     240: aload_0
     241: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     244: invokeinterface #122,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isRecoveryRequired:()Z
     249: ifeq          294
     252: new           #123                // class org/apache/activemq/broker/region/Queue$BatchMessageRecoveryListener
     255: dup
     256: aload_0
     257: iload_1
     258: invokespecial #124                // Method org/apache/activemq/broker/region/Queue$BatchMessageRecoveryListener."<init>":(Lorg/apache/activemq/broker/region/Queue;I)V
     261: astore_2
     262: aload_2
     263: invokevirtual #125                // Method org/apache/activemq/broker/region/Queue$BatchMessageRecoveryListener.reset:()V
     266: aload_0
     267: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     270: aload_0
     271: invokevirtual #126                // Method getMaxPageSize:()I
     274: aload_2
     275: invokeinterface #127,  3          // InterfaceMethod org/apache/activemq/store/MessageStore.recoverNextMessages:(ILorg/apache/activemq/store/MessageRecoveryListener;)V
     280: aload_2
     281: invokevirtual #128                // Method org/apache/activemq/broker/region/Queue$BatchMessageRecoveryListener.processExpired:()V
     284: aload_2
     285: invokevirtual #129                // Method org/apache/activemq/broker/region/Queue$BatchMessageRecoveryListener.done:()Z
     288: ifeq          262
     291: goto          306
     294: aload_0
     295: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     298: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     301: iload_1
     302: i2l
     303: invokevirtual #132                // Method org/apache/activemq/management/CountStatisticImpl.setCount:(J)V
     306: return

  public void addSubscription(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription) throws java.lang.Exception;
    Code:
       0: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #134                // String {} add sub: {}, dequeues: {}, dispatched: {}, inflight: {}
       5: iconst_4
       6: anewarray     #54                 // class java/lang/Object
       9: dup
      10: iconst_0
      11: aload_0
      12: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      15: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      18: aastore
      19: dup
      20: iconst_1
      21: aload_0
      22: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      25: invokevirtual #138                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
      28: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      31: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      34: aastore
      35: dup
      36: iconst_2
      37: aload_0
      38: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      41: invokevirtual #141                // Method org/apache/activemq/broker/region/DestinationStatistics.getDispatched:()Lorg/apache/activemq/management/CountStatisticImpl;
      44: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      47: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      50: aastore
      51: dup
      52: iconst_3
      53: aload_0
      54: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      57: invokevirtual #142                // Method org/apache/activemq/broker/region/DestinationStatistics.getInflight:()Lorg/apache/activemq/management/CountStatisticImpl;
      60: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      63: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      66: aastore
      67: invokeinterface #143,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      72: aload_0
      73: aload_1
      74: aload_2
      75: invokespecial #144                // Method org/apache/activemq/broker/region/BaseDestination.addSubscription:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;)V
      78: aload_0
      79: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      82: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      85: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      88: aload_2
      89: aload_1
      90: aload_0
      91: invokeinterface #147,  3          // InterfaceMethod org/apache/activemq/broker/region/Subscription.add:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Destination;)V
      96: aload_0
      97: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     100: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     103: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     106: aload_0
     107: getfield      #15                 // Field consumers:Ljava/util/List;
     110: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
     115: ifne          150
     118: aload_0
     119: iconst_1
     120: putfield      #38                 // Field firstConsumer:Z
     123: aload_0
     124: getfield      #40                 // Field consumersBeforeDispatchStarts:I
     127: ifeq          164
     130: aload_0
     131: new           #149                // class java/util/concurrent/CountDownLatch
     134: dup
     135: aload_0
     136: getfield      #40                 // Field consumersBeforeDispatchStarts:I
     139: iconst_1
     140: isub
     141: invokespecial #150                // Method java/util/concurrent/CountDownLatch."<init>":(I)V
     144: putfield      #151                // Field consumersBeforeStartsLatch:Ljava/util/concurrent/CountDownLatch;
     147: goto          164
     150: aload_0
     151: getfield      #151                // Field consumersBeforeStartsLatch:Ljava/util/concurrent/CountDownLatch;
     154: ifnull        164
     157: aload_0
     158: getfield      #151                // Field consumersBeforeStartsLatch:Ljava/util/concurrent/CountDownLatch;
     161: invokevirtual #152                // Method java/util/concurrent/CountDownLatch.countDown:()V
     164: aload_0
     165: aload_2
     166: invokespecial #153                // Method addToConsumerList:(Lorg/apache/activemq/broker/region/Subscription;)V
     169: aload_2
     170: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     175: invokevirtual #155                // Method org/apache/activemq/command/ConsumerInfo.isExclusive:()Z
     178: ifne          188
     181: aload_0
     182: invokevirtual #156                // Method isAllConsumersExclusiveByDefault:()Z
     185: ifeq          250
     188: aload_0
     189: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     192: invokevirtual #157                // Method org/apache/activemq/broker/region/QueueDispatchSelector.getExclusiveConsumer:()Lorg/apache/activemq/broker/region/Subscription;
     195: astore_3
     196: aload_3
     197: ifnonnull     205
     200: aload_2
     201: astore_3
     202: goto          242
     205: aload_2
     206: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     211: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     214: bipush        127
     216: if_icmpeq     240
     219: aload_2
     220: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     225: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     228: aload_3
     229: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     234: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     237: if_icmple     242
     240: aload_2
     241: astore_3
     242: aload_0
     243: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     246: aload_3
     247: invokevirtual #159                // Method org/apache/activemq/broker/region/QueueDispatchSelector.setExclusiveConsumer:(Lorg/apache/activemq/broker/region/Subscription;)V
     250: aload_0
     251: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     254: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     257: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     260: goto          278
     263: astore        4
     265: aload_0
     266: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     269: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     272: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     275: aload         4
     277: athrow
     278: aload_2
     279: instanceof    #161                // class org/apache/activemq/broker/region/QueueBrowserSubscription
     282: ifeq          311
     285: aload_2
     286: checkcast     #161                // class org/apache/activemq/broker/region/QueueBrowserSubscription
     289: astore_3
     290: new           #162                // class org/apache/activemq/broker/region/Queue$BrowserDispatch
     293: dup
     294: aload_0
     295: aload_3
     296: invokespecial #163                // Method org/apache/activemq/broker/region/Queue$BrowserDispatch."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/broker/region/QueueBrowserSubscription;)V
     299: astore        4
     301: aload_0
     302: getfield      #68                 // Field browserDispatches:Ljava/util/concurrent/ConcurrentLinkedQueue;
     305: aload         4
     307: invokevirtual #164                // Method java/util/concurrent/ConcurrentLinkedQueue.add:(Ljava/lang/Object;)Z
     310: pop
     311: aload_0
     312: getfield      #36                 // Field optimizedDispatch:Z
     315: ifne          322
     318: aload_0
     319: invokevirtual #165                // Method wakeup:()V
     322: aload_0
     323: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     326: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     329: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     332: goto          350
     335: astore        5
     337: aload_0
     338: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     341: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     344: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     347: aload         5
     349: athrow
     350: aload_0
     351: getfield      #36                 // Field optimizedDispatch:Z
     354: ifeq          361
     357: aload_0
     358: invokevirtual #165                // Method wakeup:()V
     361: return
    Exception table:
       from    to  target type
         106   250   263   any
         263   265   263   any
          88   322   335   any
         335   337   335   any

  public void removeSubscription(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription, long) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: lload_3
       4: invokespecial #166                // Method org/apache/activemq/broker/region/BaseDestination.removeSubscription:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;J)V
       7: aload_0
       8: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      11: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      14: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      17: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      20: ldc           #167                // String {} remove sub: {}, lastDeliveredSeqId: {}, dequeues: {}, dispatched: {}, inflight: {}
      22: bipush        6
      24: anewarray     #54                 // class java/lang/Object
      27: dup
      28: iconst_0
      29: aload_0
      30: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      33: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      36: aastore
      37: dup
      38: iconst_1
      39: aload_2
      40: aastore
      41: dup
      42: iconst_2
      43: lload_3
      44: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      47: aastore
      48: dup
      49: iconst_3
      50: aload_0
      51: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      54: invokevirtual #138                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
      57: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      60: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      63: aastore
      64: dup
      65: iconst_4
      66: aload_0
      67: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      70: invokevirtual #141                // Method org/apache/activemq/broker/region/DestinationStatistics.getDispatched:()Lorg/apache/activemq/management/CountStatisticImpl;
      73: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      76: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      79: aastore
      80: dup
      81: iconst_5
      82: aload_0
      83: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      86: invokevirtual #142                // Method org/apache/activemq/broker/region/DestinationStatistics.getInflight:()Lorg/apache/activemq/management/CountStatisticImpl;
      89: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      92: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      95: aastore
      96: invokeinterface #143,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     101: aload_0
     102: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     105: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     108: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     111: aload_0
     112: aload_2
     113: invokespecial #168                // Method removeFromConsumerList:(Lorg/apache/activemq/broker/region/Subscription;)Z
     116: pop
     117: aload_2
     118: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     123: invokevirtual #155                // Method org/apache/activemq/command/ConsumerInfo.isExclusive:()Z
     126: ifeq          240
     129: aload_0
     130: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     133: invokevirtual #157                // Method org/apache/activemq/broker/region/QueueDispatchSelector.getExclusiveConsumer:()Lorg/apache/activemq/broker/region/Subscription;
     136: astore        5
     138: aload         5
     140: aload_2
     141: if_acmpne     237
     144: aconst_null
     145: astore        5
     147: aload_0
     148: getfield      #15                 // Field consumers:Ljava/util/List;
     151: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     156: astore        6
     158: aload         6
     160: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     165: ifeq          228
     168: aload         6
     170: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     175: checkcast     #172                // class org/apache/activemq/broker/region/Subscription
     178: astore        7
     180: aload         7
     182: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     187: invokevirtual #155                // Method org/apache/activemq/command/ConsumerInfo.isExclusive:()Z
     190: ifeq          225
     193: aload         5
     195: ifnull        221
     198: aload         7
     200: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     205: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     208: aload         5
     210: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     215: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     218: if_icmple     225
     221: aload         7
     223: astore        5
     225: goto          158
     228: aload_0
     229: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     232: aload         5
     234: invokevirtual #159                // Method org/apache/activemq/broker/region/QueueDispatchSelector.setExclusiveConsumer:(Lorg/apache/activemq/broker/region/Subscription;)V
     237: goto          327
     240: aload_0
     241: invokevirtual #156                // Method isAllConsumersExclusiveByDefault:()Z
     244: ifeq          327
     247: aconst_null
     248: astore        5
     250: aload_0
     251: getfield      #15                 // Field consumers:Ljava/util/List;
     254: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     259: astore        6
     261: aload         6
     263: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     268: ifeq          318
     271: aload         6
     273: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     278: checkcast     #172                // class org/apache/activemq/broker/region/Subscription
     281: astore        7
     283: aload         5
     285: ifnull        311
     288: aload         7
     290: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     295: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     298: aload         5
     300: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     305: invokevirtual #158                // Method org/apache/activemq/command/ConsumerInfo.getPriority:()B
     308: if_icmple     315
     311: aload         7
     313: astore        5
     315: goto          261
     318: aload_0
     319: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     322: aload         5
     324: invokevirtual #159                // Method org/apache/activemq/broker/region/QueueDispatchSelector.setExclusiveConsumer:(Lorg/apache/activemq/broker/region/Subscription;)V
     327: aload_2
     328: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     333: invokevirtual #173                // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     336: astore        5
     338: aload_0
     339: invokevirtual #174                // Method getMessageGroupOwners:()Lorg/apache/activemq/broker/region/group/MessageGroupMap;
     342: aload         5
     344: invokeinterface #175,  2          // InterfaceMethod org/apache/activemq/broker/region/group/MessageGroupMap.removeConsumer:(Lorg/apache/activemq/command/ConsumerId;)Lorg/apache/activemq/broker/region/group/MessageGroupSet;
     349: pop
     350: iconst_0
     351: istore        6
     353: aconst_null
     354: astore        7
     356: aload_2
     357: aload_1
     358: aload_0
     359: invokeinterface #176,  3          // InterfaceMethod org/apache/activemq/broker/region/Subscription.remove:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Destination;)Ljava/util/List;
     364: astore        8
     366: lload_3
     367: lconst_0
     368: lcmp
     369: ifeq          452
     372: aload         8
     374: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     379: astore        9
     381: aload         9
     383: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     388: ifeq          452
     391: aload         9
     393: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     398: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     401: astore        10
     403: aload         10
     405: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     410: invokevirtual #179                // Method org/apache/activemq/command/MessageId.getBrokerSequenceId:()J
     413: lload_3
     414: lcmp
     415: ifne          449
     418: aload         10
     420: astore        7
     422: iconst_1
     423: istore        6
     425: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     428: ldc           #180                // String found lastDeliveredSeqID: {}, message reference: {}
     430: lload_3
     431: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     434: aload         10
     436: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     441: invokeinterface #181,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     446: goto          452
     449: goto          381
     452: aload         8
     454: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     459: astore        9
     461: aload         9
     463: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     468: ifeq          585
     471: aload         9
     473: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     478: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     481: astore        10
     483: aload_0
     484: getfield      #95                 // Field brokerService:Lorg/apache/activemq/broker/BrokerService;
     487: invokevirtual #182                // Method org/apache/activemq/broker/BrokerService.isStopping:()Z
     490: ifeq          496
     493: goto          585
     496: aload         10
     498: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     501: astore        11
     503: aload         11
     505: invokeinterface #184,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getLockOwner:()Lorg/apache/activemq/broker/region/LockOwner;
     510: aload_2
     511: if_acmpne     560
     514: aload         11
     516: invokeinterface #185,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.unlock:()Z
     521: pop
     522: lload_3
     523: lconst_0
     524: lcmp
     525: ifne          538
     528: aload         11
     530: invokeinterface #186,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.incrementRedeliveryCounter:()V
     535: goto          560
     538: iload         6
     540: ifeq          550
     543: aload         11
     545: invokeinterface #186,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.incrementRedeliveryCounter:()V
     550: aload         10
     552: aload         7
     554: if_acmpne     560
     557: iconst_0
     558: istore        6
     560: aload         11
     562: invokeinterface #187,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.isDropped:()Z
     567: ifne          582
     570: aload_0
     571: getfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     574: aload         11
     576: invokeinterface #188,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
     581: pop
     582: goto          461
     585: aload_2
     586: instanceof    #161                // class org/apache/activemq/broker/region/QueueBrowserSubscription
     589: ifeq          608
     592: aload_2
     593: checkcast     #161                // class org/apache/activemq/broker/region/QueueBrowserSubscription
     596: invokevirtual #189                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.decrementQueueRef:()V
     599: aload_0
     600: getfield      #68                 // Field browserDispatches:Ljava/util/concurrent/ConcurrentLinkedQueue;
     603: aload_2
     604: invokevirtual #190                // Method java/util/concurrent/ConcurrentLinkedQueue.remove:(Ljava/lang/Object;)Z
     607: pop
     608: aload_0
     609: getfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     612: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
     617: ifne          641
     620: aload_0
     621: getfield      #95                 // Field brokerService:Lorg/apache/activemq/broker/BrokerService;
     624: invokevirtual #182                // Method org/apache/activemq/broker/BrokerService.isStopping:()Z
     627: ifne          641
     630: aload_0
     631: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
     634: dup
     635: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
     638: invokespecial #192                // Method doDispatch:(Lorg/apache/activemq/broker/region/cursors/PendingList;)V
     641: aload_0
     642: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     645: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     648: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     651: goto          669
     654: astore        12
     656: aload_0
     657: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     660: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     663: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     666: aload         12
     668: athrow
     669: aload_0
     670: getfield      #36                 // Field optimizedDispatch:Z
     673: ifne          680
     676: aload_0
     677: invokevirtual #165                // Method wakeup:()V
     680: aload_0
     681: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     684: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     687: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     690: goto          708
     693: astore        13
     695: aload_0
     696: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     699: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     702: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     705: aload         13
     707: athrow
     708: aload_0
     709: getfield      #36                 // Field optimizedDispatch:Z
     712: ifeq          719
     715: aload_0
     716: invokevirtual #165                // Method wakeup:()V
     719: return
    Exception table:
       from    to  target type
         111   641   654   any
         654   656   654   any
          17   680   693   any
         693   695   693   any

  public void send(org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #193                // Method org/apache/activemq/broker/ProducerBrokerExchange.getConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
       4: astore_3
       5: aload_2
       6: aload_0
       7: invokevirtual #194                // Method org/apache/activemq/command/Message.setRegionDestination:(Lorg/apache/activemq/command/Message$MessageDestination;)V
      10: aload_1
      11: invokevirtual #195                // Method org/apache/activemq/broker/ProducerBrokerExchange.getProducerState:()Lorg/apache/activemq/state/ProducerState;
      14: astore        4
      16: aload         4
      18: ifnonnull     68
      21: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      24: ldc           #196                // String Send failed for: {}, missing producer state for: {}
      26: aload_2
      27: aload_1
      28: invokeinterface #197,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      33: new           #198                // class javax/jms/JMSException
      36: dup
      37: new           #101                // class java/lang/StringBuilder
      40: dup
      41: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
      44: ldc           #199                // String Cannot send message to
      46: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: aload_0
      50: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      53: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      56: ldc           #201                // String  with invalid (null) producer state
      58: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: invokespecial #202                // Method javax/jms/JMSException."<init>":(Ljava/lang/String;)V
      67: athrow
      68: aload_1
      69: invokevirtual #195                // Method org/apache/activemq/broker/ProducerBrokerExchange.getProducerState:()Lorg/apache/activemq/state/ProducerState;
      72: invokevirtual #203                // Method org/apache/activemq/state/ProducerState.getInfo:()Lorg/apache/activemq/command/ProducerInfo;
      75: astore        5
      77: aload_2
      78: invokevirtual #204                // Method org/apache/activemq/command/Message.isResponseRequired:()Z
      81: ifne          103
      84: aload         5
      86: invokevirtual #205                // Method org/apache/activemq/command/ProducerInfo.getWindowSize:()I
      89: ifle          103
      92: aload_3
      93: invokevirtual #206                // Method org/apache/activemq/broker/ConnectionContext.isInRecoveryMode:()Z
      96: ifne          103
      99: iconst_1
     100: goto          104
     103: iconst_0
     104: istore        6
     106: aload_2
     107: invokevirtual #207                // Method org/apache/activemq/command/Message.isExpired:()Z
     110: ifeq          165
     113: aload_0
     114: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
     117: invokeinterface #208,  1          // InterfaceMethod org/apache/activemq/broker/Broker.getRoot:()Lorg/apache/activemq/broker/Broker;
     122: aload_3
     123: aload_2
     124: aconst_null
     125: invokeinterface #209,  4          // InterfaceMethod org/apache/activemq/broker/Broker.messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/broker/region/Subscription;)V
     130: iload         6
     132: ifeq          164
     135: new           #210                // class org/apache/activemq/command/ProducerAck
     138: dup
     139: aload         5
     141: invokevirtual #211                // Method org/apache/activemq/command/ProducerInfo.getProducerId:()Lorg/apache/activemq/command/ProducerId;
     144: aload_2
     145: invokevirtual #212                // Method org/apache/activemq/command/Message.getSize:()I
     148: invokespecial #213                // Method org/apache/activemq/command/ProducerAck."<init>":(Lorg/apache/activemq/command/ProducerId;I)V
     151: astore        7
     153: aload_3
     154: invokevirtual #214                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
     157: aload         7
     159: invokeinterface #215,  2          // InterfaceMethod org/apache/activemq/broker/Connection.dispatchAsync:(Lorg/apache/activemq/command/Command;)V
     164: return
     165: aload_0
     166: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     169: invokevirtual #216                // Method org/apache/activemq/usage/MemoryUsage.isFull:()Z
     172: ifeq          615
     175: aload_0
     176: aload_3
     177: aload_0
     178: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     181: invokevirtual #217                // Method isFull:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/usage/Usage;)V
     184: aload_0
     185: aload_3
     186: aload         5
     188: invokevirtual #218                // Method fastProducer:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/ProducerInfo;)V
     191: aload_0
     192: invokevirtual #219                // Method isProducerFlowControl:()Z
     195: ifeq          615
     198: aload_3
     199: invokevirtual #220                // Method org/apache/activemq/broker/ConnectionContext.isProducerFlowControl:()Z
     202: ifeq          615
     205: aload_0
     206: getfield      #221                // Field warnOnProducerFlowControl:Z
     209: ifeq          270
     212: aload_0
     213: iconst_0
     214: putfield      #221                // Field warnOnProducerFlowControl:Z
     217: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     220: ldc           #222                // String Usage Manager Memory Limit ({}) reached on {}, size {}. Producers will be throttled to the rate at which messages are removed from this destination to prevent flooding it. See http://activemq.apache.org/producer-flow-control.html for more info.
     222: iconst_3
     223: anewarray     #54                 // class java/lang/Object
     226: dup
     227: iconst_0
     228: aload_0
     229: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     232: invokevirtual #223                // Method org/apache/activemq/usage/MemoryUsage.getLimit:()J
     235: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     238: aastore
     239: dup
     240: iconst_1
     241: aload_0
     242: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     245: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
     248: aastore
     249: dup
     250: iconst_2
     251: aload_0
     252: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     255: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     258: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     261: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     264: aastore
     265: invokeinterface #224,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     270: aload_3
     271: invokevirtual #225                // Method org/apache/activemq/broker/ConnectionContext.isNetworkConnection:()Z
     274: ifne          342
     277: aload_0
     278: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     281: invokevirtual #226                // Method org/apache/activemq/usage/SystemUsage.isSendFailIfNoSpace:()Z
     284: ifeq          342
     287: new           #227                // class javax/jms/ResourceAllocationException
     290: dup
     291: new           #101                // class java/lang/StringBuilder
     294: dup
     295: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     298: ldc           #228                // String Usage Manager Memory Limit reached. Stopping producer (
     300: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     303: aload_2
     304: invokevirtual #229                // Method org/apache/activemq/command/Message.getProducerId:()Lorg/apache/activemq/command/ProducerId;
     307: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     310: ldc           #230                // String ) to prevent flooding
     312: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     315: aload_0
     316: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     319: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
     322: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     325: ldc           #231                // String .
     327: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     330: ldc           #232                // String  See http://activemq.apache.org/producer-flow-control.html for more info
     332: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     335: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     338: invokespecial #233                // Method javax/jms/ResourceAllocationException."<init>":(Ljava/lang/String;)V
     341: athrow
     342: aload         5
     344: invokevirtual #205                // Method org/apache/activemq/command/ProducerInfo.getWindowSize:()I
     347: ifgt          357
     350: aload_2
     351: invokevirtual #204                // Method org/apache/activemq/command/Message.isResponseRequired:()Z
     354: ifeq          512
     357: aload_1
     358: invokevirtual #234                // Method org/apache/activemq/broker/ProducerBrokerExchange.copy:()Lorg/apache/activemq/broker/ProducerBrokerExchange;
     361: astore        7
     363: aload_0
     364: getfield      #6                  // Field messagesWaitingForSpace:Ljava/util/Map;
     367: dup
     368: astore        8
     370: monitorenter
     371: aload_0
     372: getfield      #62                 // Field flowControlTimeoutTask:Lorg/apache/activemq/broker/region/Queue$FlowControlTimeoutTask;
     375: invokevirtual #235                // Method org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask.isAlive:()Z
     378: ifne          417
     381: aload_0
     382: getfield      #62                 // Field flowControlTimeoutTask:Lorg/apache/activemq/broker/region/Queue$FlowControlTimeoutTask;
     385: new           #101                // class java/lang/StringBuilder
     388: dup
     389: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     392: aload_0
     393: invokevirtual #236                // Method getName:()Ljava/lang/String;
     396: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     399: ldc           #237                // String  Producer Flow Control Timeout Task
     401: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     404: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     407: invokevirtual #238                // Method org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask.setName:(Ljava/lang/String;)V
     410: aload_0
     411: getfield      #62                 // Field flowControlTimeoutTask:Lorg/apache/activemq/broker/region/Queue$FlowControlTimeoutTask;
     414: invokevirtual #239                // Method org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask.start:()V
     417: aload_0
     418: getfield      #6                  // Field messagesWaitingForSpace:Ljava/util/Map;
     421: aload_2
     422: invokevirtual #240                // Method org/apache/activemq/command/Message.getMessageId:()Lorg/apache/activemq/command/MessageId;
     425: new           #241                // class org/apache/activemq/broker/region/Queue$4
     428: dup
     429: aload_0
     430: aload_2
     431: aload_3
     432: aload         7
     434: iload         6
     436: aload         5
     438: invokespecial #242                // Method org/apache/activemq/broker/region/Queue$4."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/ProducerBrokerExchange;ZLorg/apache/activemq/command/ProducerInfo;)V
     441: invokeinterface #243,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     446: pop
     447: aload_3
     448: invokevirtual #225                // Method org/apache/activemq/broker/ConnectionContext.isNetworkConnection:()Z
     451: ifne          491
     454: aload_0
     455: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     458: invokevirtual #244                // Method org/apache/activemq/usage/SystemUsage.getSendFailIfNoSpaceAfterTimeout:()J
     461: lconst_0
     462: lcmp
     463: ifeq          491
     466: aload_0
     467: getfield      #59                 // Field flowControlTimeoutMessages:Ljava/util/concurrent/DelayQueue;
     470: new           #245                // class org/apache/activemq/broker/region/Queue$TimeoutMessage
     473: dup
     474: aload_0
     475: aload_2
     476: aload_3
     477: aload_0
     478: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     481: invokevirtual #244                // Method org/apache/activemq/usage/SystemUsage.getSendFailIfNoSpaceAfterTimeout:()J
     484: invokespecial #246                // Method org/apache/activemq/broker/region/Queue$TimeoutMessage."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/ConnectionContext;J)V
     487: invokevirtual #247                // Method java/util/concurrent/DelayQueue.add:(Ljava/util/concurrent/Delayed;)Z
     490: pop
     491: aload_0
     492: invokespecial #248                // Method registerCallbackForNotFullNotification:()V
     495: aload_3
     496: iconst_1
     497: invokevirtual #249                // Method org/apache/activemq/broker/ConnectionContext.setDontSendReponse:(Z)V
     500: aload         8
     502: monitorexit
     503: return
     504: astore        9
     506: aload         8
     508: monitorexit
     509: aload         9
     511: athrow
     512: aload_0
     513: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     516: invokevirtual #216                // Method org/apache/activemq/usage/MemoryUsage.isFull:()Z
     519: ifeq          579
     522: aload_0
     523: aload_3
     524: aload_1
     525: aload_0
     526: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     529: new           #101                // class java/lang/StringBuilder
     532: dup
     533: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     536: ldc           #250                // String Usage Manager Memory Limit reached. Producer (
     538: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     541: aload_2
     542: invokevirtual #229                // Method org/apache/activemq/command/Message.getProducerId:()Lorg/apache/activemq/command/ProducerId;
     545: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     548: ldc           #251                // String ) stopped to prevent flooding
     550: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     553: aload_0
     554: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     557: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
     560: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     563: ldc           #231                // String .
     565: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     568: ldc           #232                // String  See http://activemq.apache.org/producer-flow-control.html for more info
     570: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     573: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     576: invokevirtual #252                // Method waitForSpace:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/usage/Usage;Ljava/lang/String;)V
     579: aload_2
     580: invokevirtual #207                // Method org/apache/activemq/command/Message.isExpired:()Z
     583: ifeq          615
     586: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     589: ldc           #253                // String Expired message: {}
     591: aload_2
     592: invokeinterface #254,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     597: aload_0
     598: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
     601: invokeinterface #208,  1          // InterfaceMethod org/apache/activemq/broker/Broker.getRoot:()Lorg/apache/activemq/broker/Broker;
     606: aload_3
     607: aload_2
     608: aconst_null
     609: invokeinterface #209,  4          // InterfaceMethod org/apache/activemq/broker/Broker.messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/broker/region/Subscription;)V
     614: return
     615: aload_0
     616: aload_1
     617: aload_2
     618: invokevirtual #255                // Method doMessageSend:(Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;)V
     621: iload         6
     623: ifeq          655
     626: new           #210                // class org/apache/activemq/command/ProducerAck
     629: dup
     630: aload         5
     632: invokevirtual #211                // Method org/apache/activemq/command/ProducerInfo.getProducerId:()Lorg/apache/activemq/command/ProducerId;
     635: aload_2
     636: invokevirtual #212                // Method org/apache/activemq/command/Message.getSize:()I
     639: invokespecial #213                // Method org/apache/activemq/command/ProducerAck."<init>":(Lorg/apache/activemq/command/ProducerId;I)V
     642: astore        7
     644: aload_3
     645: invokevirtual #214                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
     648: aload         7
     650: invokeinterface #215,  2          // InterfaceMethod org/apache/activemq/broker/Connection.dispatchAsync:(Lorg/apache/activemq/command/Command;)V
     655: return
    Exception table:
       from    to  target type
         371   503   504   any
         504   509   504   any

  private void registerCallbackForNotFullNotification();
    Code:
       0: aload_0
       1: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
       4: aload_0
       5: getfield      #50                 // Field sendMessagesWaitingForSpaceTask:Ljava/lang/Runnable;
       8: invokevirtual #256                // Method org/apache/activemq/usage/MemoryUsage.notifyCallbackWhenNotFull:(Ljava/lang/Runnable;)Z
      11: ifne          23
      14: aload_0
      15: getfield      #50                 // Field sendMessagesWaitingForSpaceTask:Ljava/lang/Runnable;
      18: invokeinterface #257,  1          // InterfaceMethod java/lang/Runnable.run:()V
      23: return

  private void registerSendSync(org.apache.activemq.command.Message, org.apache.activemq.broker.ConnectionContext);
    Code:
       0: aload_1
       1: invokevirtual #258                // Method org/apache/activemq/command/Message.isInTransaction:()Z
       4: ifeq          14
       7: aload_2
       8: invokevirtual #259                // Method org/apache/activemq/broker/ConnectionContext.getTransaction:()Lorg/apache/activemq/transaction/Transaction;
      11: goto          22
      14: new           #260                // class org/apache/activemq/broker/region/Queue$OrderedNonTransactionWorkTx
      17: dup
      18: aload_0
      19: invokespecial #261                // Method org/apache/activemq/broker/region/Queue$OrderedNonTransactionWorkTx."<init>":(Lorg/apache/activemq/broker/region/Queue;)V
      22: astore_3
      23: aload_0
      24: getfield      #71                 // Field sendSyncs:Ljava/util/concurrent/ConcurrentHashMap;
      27: aload_3
      28: invokevirtual #262                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #263                // class org/apache/activemq/broker/region/Queue$SendSync
      34: astore        4
      36: aload         4
      38: ifnonnull     69
      41: new           #263                // class org/apache/activemq/broker/region/Queue$SendSync
      44: dup
      45: aload_0
      46: aload_3
      47: invokespecial #264                // Method org/apache/activemq/broker/region/Queue$SendSync."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/transaction/Transaction;)V
      50: astore        4
      52: aload_3
      53: aload         4
      55: invokevirtual #265                // Method org/apache/activemq/transaction/Transaction.addSynchronization:(Lorg/apache/activemq/transaction/Synchronization;)V
      58: aload_0
      59: getfield      #71                 // Field sendSyncs:Ljava/util/concurrent/ConcurrentHashMap;
      62: aload_3
      63: aload         4
      65: invokevirtual #266                // Method java/util/concurrent/ConcurrentHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      68: pop
      69: aload         4
      71: aload_2
      72: aload_1
      73: invokevirtual #267                // Method org/apache/activemq/broker/region/Queue$SendSync.add:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;)V
      76: return

  void doMessageSend(org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message) throws java.io.IOException, java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #193                // Method org/apache/activemq/broker/ProducerBrokerExchange.getConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
       4: astore_3
       5: aconst_null
       6: astore        4
       8: aload_3
       9: invokevirtual #268                // Method org/apache/activemq/broker/ConnectionContext.isInTransaction:()Z
      12: istore        5
      14: aload_1
      15: invokevirtual #269                // Method org/apache/activemq/broker/ProducerBrokerExchange.incrementSend:()V
      18: aload_0
      19: aload_3
      20: aload_1
      21: aload_2
      22: invokespecial #270                // Method checkUsage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;)V
      25: aload_0
      26: getfield      #31                 // Field sendLock:Ljava/util/concurrent/locks/Lock;
      29: invokeinterface #271,  1          // InterfaceMethod java/util/concurrent/locks/Lock.lockInterruptibly:()V
      34: aload_0
      35: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      38: ifnull        141
      41: aload_2
      42: invokevirtual #272                // Method org/apache/activemq/command/Message.isPersistent:()Z
      45: ifeq          141
      48: aload_2
      49: invokevirtual #240                // Method org/apache/activemq/command/Message.getMessageId:()Lorg/apache/activemq/command/MessageId;
      52: aload_0
      53: invokevirtual #273                // Method getDestinationSequenceId:()J
      56: invokevirtual #274                // Method org/apache/activemq/command/MessageId.setBrokerSequenceId:(J)V
      59: aload_0
      60: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      63: invokeinterface #275,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isCacheEnabled:()Z
      68: ifeq          106
      71: aload_0
      72: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      75: aload_3
      76: aload_2
      77: aload_0
      78: invokevirtual #276                // Method isOptimizeStorage:()Z
      81: invokeinterface #277,  4          // InterfaceMethod org/apache/activemq/store/MessageStore.asyncAddQueueMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;Z)Lorg/apache/activemq/store/ListenableFuture;
      86: astore        4
      88: aload         4
      90: new           #278                // class org/apache/activemq/broker/region/PendingMarshalUsageTracker
      93: dup
      94: aload_2
      95: invokespecial #279                // Method org/apache/activemq/broker/region/PendingMarshalUsageTracker."<init>":(Lorg/apache/activemq/command/Message;)V
      98: invokeinterface #280,  2          // InterfaceMethod org/apache/activemq/store/ListenableFuture.addListener:(Ljava/lang/Runnable;)V
     103: goto          117
     106: aload_0
     107: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     110: aload_3
     111: aload_2
     112: invokeinterface #281,  3          // InterfaceMethod org/apache/activemq/store/MessageStore.addMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;)V
     117: aload_0
     118: invokevirtual #282                // Method isReduceMemoryFootprint:()Z
     121: ifeq          128
     124: aload_2
     125: invokevirtual #283                // Method org/apache/activemq/command/Message.clearMarshalledState:()V
     128: goto          141
     131: astore        6
     133: aload_0
     134: iconst_1
     135: putfield      #285                // Field resetNeeded:Z
     138: aload         6
     140: athrow
     141: aload_0
     142: getfield      #2                  // Field orderIndexUpdates:Ljava/util/LinkedList;
     145: dup
     146: astore        6
     148: monitorenter
     149: iload         5
     151: aload_0
     152: getfield      #2                  // Field orderIndexUpdates:Ljava/util/LinkedList;
     155: invokevirtual #286                // Method java/util/LinkedList.isEmpty:()Z
     158: ifne          165
     161: iconst_1
     162: goto          166
     165: iconst_0
     166: ior
     167: istore        5
     169: aload         6
     171: monitorexit
     172: goto          183
     175: astore        7
     177: aload         6
     179: monitorexit
     180: aload         7
     182: athrow
     183: iload         5
     185: ifeq          202
     188: aload_2
     189: invokevirtual #287                // Method org/apache/activemq/command/Message.incrementReferenceCount:()I
     192: pop
     193: aload_0
     194: aload_2
     195: aload_3
     196: invokespecial #288                // Method registerSendSync:(Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/ConnectionContext;)V
     199: goto          207
     202: aload_0
     203: aload_2
     204: invokevirtual #289                // Method sendMessage:(Lorg/apache/activemq/command/Message;)V
     207: aload_0
     208: getfield      #31                 // Field sendLock:Ljava/util/concurrent/locks/Lock;
     211: invokeinterface #290,  1          // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     216: goto          233
     219: astore        8
     221: aload_0
     222: getfield      #31                 // Field sendLock:Ljava/util/concurrent/locks/Lock;
     225: invokeinterface #290,  1          // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
     230: aload         8
     232: athrow
     233: iload         5
     235: ifne          244
     238: aload_0
     239: aload_3
     240: aload_2
     241: invokevirtual #291                // Method messageSent:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;)V
     244: aload         4
     246: ifnull        279
     249: aload_2
     250: invokevirtual #204                // Method org/apache/activemq/command/Message.isResponseRequired:()Z
     253: ifeq          279
     256: aload         4
     258: invokeinterface #292,  1          // InterfaceMethod org/apache/activemq/store/ListenableFuture.isCancelled:()Z
     263: ifne          279
     266: aload         4
     268: invokeinterface #293,  1          // InterfaceMethod org/apache/activemq/store/ListenableFuture.get:()Ljava/lang/Object;
     273: pop
     274: goto          279
     277: astore        6
     279: return
    Exception table:
       from    to  target type
          48   128   131   Class java/lang/Exception
         149   172   175   any
         175   180   175   any
          34   207   219   any
         219   221   219   any
         266   274   277   Class java/util/concurrent/CancellationException

  private void checkUsage(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message) throws javax.jms.ResourceAllocationException, java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_3
       1: invokevirtual #272                // Method org/apache/activemq/command/Message.isPersistent:()Z
       4: ifeq          135
       7: aload_0
       8: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      11: ifnull        268
      14: aload_0
      15: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      18: invokevirtual #295                // Method org/apache/activemq/usage/SystemUsage.getStoreUsage:()Lorg/apache/activemq/usage/StoreUsage;
      21: aload_0
      22: invokevirtual #296                // Method getStoreUsageHighWaterMark:()I
      25: invokevirtual #297                // Method org/apache/activemq/usage/StoreUsage.isFull:(I)Z
      28: ifeq          268
      31: new           #101                // class java/lang/StringBuilder
      34: dup
      35: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
      38: ldc_w         #298                // String Persistent store is Full,
      41: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: aload_0
      45: invokevirtual #296                // Method getStoreUsageHighWaterMark:()I
      48: invokevirtual #299                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      51: ldc_w         #300                // String % of
      54: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: aload_0
      58: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      61: invokevirtual #295                // Method org/apache/activemq/usage/SystemUsage.getStoreUsage:()Lorg/apache/activemq/usage/StoreUsage;
      64: invokevirtual #301                // Method org/apache/activemq/usage/StoreUsage.getLimit:()J
      67: invokevirtual #302                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      70: ldc_w         #303                // String . Stopping producer (
      73: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: aload_3
      77: invokevirtual #229                // Method org/apache/activemq/command/Message.getProducerId:()Lorg/apache/activemq/command/ProducerId;
      80: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      83: ldc           #230                // String ) to prevent flooding
      85: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: aload_0
      89: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      92: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      95: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: ldc           #231                // String .
     100: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: ldc           #232                // String  See http://activemq.apache.org/producer-flow-control.html for more info
     105: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     111: astore        4
     113: aload_0
     114: aload_1
     115: aload_2
     116: aload_0
     117: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     120: invokevirtual #295                // Method org/apache/activemq/usage/SystemUsage.getStoreUsage:()Lorg/apache/activemq/usage/StoreUsage;
     123: aload_0
     124: invokevirtual #296                // Method getStoreUsageHighWaterMark:()I
     127: aload         4
     129: invokevirtual #304                // Method waitForSpace:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/usage/Usage;ILjava/lang/String;)V
     132: goto          268
     135: aload_0
     136: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     139: invokeinterface #305,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.getSystemUsage:()Lorg/apache/activemq/usage/SystemUsage;
     144: ifnull        268
     147: aload_0
     148: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     151: invokevirtual #306                // Method org/apache/activemq/usage/SystemUsage.getTempUsage:()Lorg/apache/activemq/usage/TempUsage;
     154: invokevirtual #307                // Method org/apache/activemq/usage/TempUsage.isFull:()Z
     157: ifeq          268
     160: new           #101                // class java/lang/StringBuilder
     163: dup
     164: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     167: ldc_w         #308                // String Temp Store is Full (
     170: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: aload_0
     174: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     177: invokevirtual #306                // Method org/apache/activemq/usage/SystemUsage.getTempUsage:()Lorg/apache/activemq/usage/TempUsage;
     180: invokevirtual #309                // Method org/apache/activemq/usage/TempUsage.getPercentUsage:()I
     183: invokevirtual #299                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     186: ldc_w         #300                // String % of
     189: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     192: aload_0
     193: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     196: invokevirtual #306                // Method org/apache/activemq/usage/SystemUsage.getTempUsage:()Lorg/apache/activemq/usage/TempUsage;
     199: invokevirtual #310                // Method org/apache/activemq/usage/TempUsage.getLimit:()J
     202: invokevirtual #302                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     205: ldc_w         #311                // String ). Stopping producer (
     208: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     211: aload_3
     212: invokevirtual #229                // Method org/apache/activemq/command/Message.getProducerId:()Lorg/apache/activemq/command/ProducerId;
     215: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     218: ldc           #230                // String ) to prevent flooding
     220: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     223: aload_0
     224: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     227: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
     230: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: ldc           #231                // String .
     235: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     238: ldc           #232                // String  See http://activemq.apache.org/producer-flow-control.html for more info
     240: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     243: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     246: astore        4
     248: aload_0
     249: aload_1
     250: aload_2
     251: aload_0
     252: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     255: invokeinterface #305,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.getSystemUsage:()Lorg/apache/activemq/usage/SystemUsage;
     260: invokevirtual #306                // Method org/apache/activemq/usage/SystemUsage.getTempUsage:()Lorg/apache/activemq/usage/TempUsage;
     263: aload         4
     265: invokevirtual #252                // Method waitForSpace:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/usage/Usage;Ljava/lang/String;)V
     268: return

  private void expireMessages();
    Code:
       0: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #312                // String {} expiring messages ..
       6: aload_0
       7: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      10: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      13: invokeinterface #254,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      18: new           #313                // class org/apache/activemq/broker/util/InsertionCountList
      21: dup
      22: invokespecial #314                // Method org/apache/activemq/broker/util/InsertionCountList."<init>":()V
      25: astore_1
      26: aload_0
      27: aload_1
      28: aload_0
      29: invokevirtual #315                // Method getMaxExpirePageSize:()I
      32: invokevirtual #316                // Method doBrowse:(Ljava/util/List;I)V
      35: aload_0
      36: invokespecial #8                  // Method asyncWakeup:()V
      39: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      42: ldc_w         #317                // String {} expiring messages done.
      45: aload_0
      46: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      49: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      52: invokeinterface #254,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      57: return

  public void gc();
    Code:
       0: return

  public void acknowledge(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription, org.apache.activemq.command.MessageAck, org.apache.activemq.broker.region.MessageReference) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload         4
       4: invokevirtual #318                // Method messageConsumed:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)V
       7: aload_0
       8: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      11: ifnull        41
      14: aload         4
      16: invokeinterface #319,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.isPersistent:()Z
      21: ifeq          41
      24: aload_0
      25: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      28: aload_1
      29: aload_0
      30: aload_3
      31: aload         4
      33: invokevirtual #320                // Method convertToNonRangedAck:(Lorg/apache/activemq/command/MessageAck;Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/command/MessageAck;
      36: invokeinterface #321,  3          // InterfaceMethod org/apache/activemq/store/MessageStore.removeAsyncMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/MessageAck;)V
      41: return

  org.apache.activemq.command.Message loadMessage(org.apache.activemq.command.MessageId) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
       6: ifnull        29
       9: aload_0
      10: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
      13: aload_1
      14: invokeinterface #322,  2          // InterfaceMethod org/apache/activemq/store/MessageStore.getMessage:(Lorg/apache/activemq/command/MessageId;)Lorg/apache/activemq/command/Message;
      19: astore_2
      20: aload_2
      21: ifnull        29
      24: aload_2
      25: aload_0
      26: invokevirtual #194                // Method org/apache/activemq/command/Message.setRegionDestination:(Lorg/apache/activemq/command/Message$MessageDestination;)V
      29: aload_2
      30: areturn

  public java.lang.String toString();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       6: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
       9: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      12: aload_0
      13: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      16: invokeinterface #323,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
      21: istore_1
      22: aload_0
      23: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      26: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      29: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      32: goto          48
      35: astore_2
      36: aload_0
      37: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      40: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      43: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      46: aload_2
      47: athrow
      48: new           #101                // class java/lang/StringBuilder
      51: dup
      52: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
      55: aload_0
      56: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
      59: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      62: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: ldc_w         #324                // String , subscriptions=
      68: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: aload_0
      72: getfield      #15                 // Field consumers:Ljava/util/List;
      75: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
      80: invokevirtual #299                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      83: ldc_w         #325                // String , memory=
      86: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: aload_0
      90: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      93: invokevirtual #326                // Method org/apache/activemq/usage/MemoryUsage.getPercentUsage:()I
      96: invokevirtual #299                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      99: ldc_w         #327                // String %, size=
     102: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: iload_1
     106: invokevirtual #299                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     109: ldc_w         #328                // String , in flight groups=
     112: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: aload_0
     116: getfield      #5                  // Field messageGroupOwners:Lorg/apache/activemq/broker/region/group/MessageGroupMap;
     119: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     122: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     125: areturn
    Exception table:
       from    to  target type
          12    22    35   any
          35    36    35   any

  public void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #47                 // Field started:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #329                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          95
      12: aload_0
      13: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      16: ifnull        26
      19: aload_0
      20: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      23: invokevirtual #330                // Method org/apache/activemq/usage/MemoryUsage.start:()V
      26: aload_0
      27: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      30: invokevirtual #295                // Method org/apache/activemq/usage/SystemUsage.getStoreUsage:()Lorg/apache/activemq/usage/StoreUsage;
      33: ifnull        46
      36: aload_0
      37: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      40: invokevirtual #295                // Method org/apache/activemq/usage/SystemUsage.getStoreUsage:()Lorg/apache/activemq/usage/StoreUsage;
      43: invokevirtual #331                // Method org/apache/activemq/usage/StoreUsage.start:()V
      46: aload_0
      47: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
      50: invokevirtual #99                 // Method org/apache/activemq/usage/SystemUsage.getMemoryUsage:()Lorg/apache/activemq/usage/MemoryUsage;
      53: aload_0
      54: invokevirtual #332                // Method org/apache/activemq/usage/MemoryUsage.addUsageListener:(Lorg/apache/activemq/usage/UsageListener;)V
      57: aload_0
      58: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      61: invokeinterface #333,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.start:()V
      66: aload_0
      67: invokevirtual #334                // Method getExpireMessagesPeriod:()J
      70: lconst_0
      71: lcmp
      72: ifle          90
      75: aload_0
      76: getfield      #335                // Field scheduler:Lorg/apache/activemq/thread/Scheduler;
      79: aload_0
      80: getfield      #53                 // Field expireMessagesTask:Ljava/lang/Runnable;
      83: aload_0
      84: invokevirtual #334                // Method getExpireMessagesPeriod:()J
      87: invokevirtual #336                // Method org/apache/activemq/thread/Scheduler.executePeriodically:(Ljava/lang/Runnable;J)V
      90: aload_0
      91: iconst_0
      92: invokespecial #337                // Method doPageIn:(Z)V
      95: return

  public void stop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #47                 // Field started:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: iconst_0
       6: invokevirtual #329                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          186
      12: aload_0
      13: getfield      #108                // Field taskRunner:Lorg/apache/activemq/thread/TaskRunner;
      16: ifnull        28
      19: aload_0
      20: getfield      #108                // Field taskRunner:Lorg/apache/activemq/thread/TaskRunner;
      23: invokeinterface #338,  1          // InterfaceMethod org/apache/activemq/thread/TaskRunner.shutdown:()V
      28: aload_0
      29: getfield      #339                // Field executor:Ljava/util/concurrent/ExecutorService;
      32: ifnull        48
      35: aload_0
      36: getfield      #339                // Field executor:Ljava/util/concurrent/ExecutorService;
      39: invokestatic  #340                // Method org/apache/activemq/util/ThreadPoolUtils.shutdownNow:(Ljava/util/concurrent/ExecutorService;)Ljava/util/List;
      42: pop
      43: aload_0
      44: aconst_null
      45: putfield      #339                // Field executor:Ljava/util/concurrent/ExecutorService;
      48: aload_0
      49: getfield      #335                // Field scheduler:Lorg/apache/activemq/thread/Scheduler;
      52: aload_0
      53: getfield      #53                 // Field expireMessagesTask:Ljava/lang/Runnable;
      56: invokevirtual #341                // Method org/apache/activemq/thread/Scheduler.cancel:(Ljava/lang/Runnable;)V
      59: aload_0
      60: getfield      #62                 // Field flowControlTimeoutTask:Lorg/apache/activemq/broker/region/Queue$FlowControlTimeoutTask;
      63: invokevirtual #235                // Method org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask.isAlive:()Z
      66: ifeq          76
      69: aload_0
      70: getfield      #62                 // Field flowControlTimeoutTask:Lorg/apache/activemq/broker/region/Queue$FlowControlTimeoutTask;
      73: invokevirtual #342                // Method org/apache/activemq/broker/region/Queue$FlowControlTimeoutTask.interrupt:()V
      76: aload_0
      77: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      80: ifnull        92
      83: aload_0
      84: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      87: invokeinterface #343,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.stop:()V
      92: aload_0
      93: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      96: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
     101: invokeinterface #345,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     106: astore_1
     107: aload_1
     108: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     113: ifeq          136
     116: aload_1
     117: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     122: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     125: astore_2
     126: aload_2
     127: invokeinterface #346,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
     132: pop
     133: goto          107
     136: aload_0
     137: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
     140: invokeinterface #347,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.clear:()V
     145: aload_0
     146: getfield      #97                 // Field systemUsage:Lorg/apache/activemq/usage/SystemUsage;
     149: invokevirtual #99                 // Method org/apache/activemq/usage/SystemUsage.getMemoryUsage:()Lorg/apache/activemq/usage/MemoryUsage;
     152: aload_0
     153: invokevirtual #348                // Method org/apache/activemq/usage/MemoryUsage.removeUsageListener:(Lorg/apache/activemq/usage/UsageListener;)V
     156: aload_0
     157: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     160: ifnull        170
     163: aload_0
     164: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
     167: invokevirtual #349                // Method org/apache/activemq/usage/MemoryUsage.stop:()V
     170: aload_0
     171: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     174: ifnull        186
     177: aload_0
     178: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     181: invokeinterface #350,  1          // InterfaceMethod org/apache/activemq/store/MessageStore.stop:()V
     186: return

  public org.apache.activemq.command.ActiveMQDestination getActiveMQDestination();
    Code:
       0: aload_0
       1: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
       4: areturn

  public org.apache.activemq.broker.region.group.MessageGroupMap getMessageGroupOwners();
    Code:
       0: aload_0
       1: getfield      #5                  // Field messageGroupOwners:Lorg/apache/activemq/broker/region/group/MessageGroupMap;
       4: ifnonnull     20
       7: aload_0
       8: aload_0
       9: invokevirtual #351                // Method getMessageGroupMapFactory:()Lorg/apache/activemq/broker/region/group/MessageGroupMapFactory;
      12: invokeinterface #352,  1          // InterfaceMethod org/apache/activemq/broker/region/group/MessageGroupMapFactory.createMessageGroupMap:()Lorg/apache/activemq/broker/region/group/MessageGroupMap;
      17: putfield      #5                  // Field messageGroupOwners:Lorg/apache/activemq/broker/region/group/MessageGroupMap;
      20: aload_0
      21: getfield      #5                  // Field messageGroupOwners:Lorg/apache/activemq/broker/region/group/MessageGroupMap;
      24: areturn

  public org.apache.activemq.broker.region.policy.DispatchPolicy getDispatchPolicy();
    Code:
       0: aload_0
       1: getfield      #25                 // Field dispatchPolicy:Lorg/apache/activemq/broker/region/policy/DispatchPolicy;
       4: areturn

  public void setDispatchPolicy(org.apache.activemq.broker.region.policy.DispatchPolicy);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #25                 // Field dispatchPolicy:Lorg/apache/activemq/broker/region/policy/DispatchPolicy;
       5: return

  public org.apache.activemq.broker.region.group.MessageGroupMapFactory getMessageGroupMapFactory();
    Code:
       0: aload_0
       1: getfield      #28                 // Field messageGroupMapFactory:Lorg/apache/activemq/broker/region/group/MessageGroupMapFactory;
       4: areturn

  public void setMessageGroupMapFactory(org.apache.activemq.broker.region.group.MessageGroupMapFactory);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #28                 // Field messageGroupMapFactory:Lorg/apache/activemq/broker/region/group/MessageGroupMapFactory;
       5: return

  public org.apache.activemq.broker.region.cursors.PendingMessageCursor getMessages();
    Code:
       0: aload_0
       1: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       4: areturn

  public void setMessages(org.apache.activemq.broker.region.cursors.PendingMessageCursor);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       5: return

  public boolean isUseConsumerPriority();
    Code:
       0: aload_0
       1: getfield      #34                 // Field useConsumerPriority:Z
       4: ireturn

  public void setUseConsumerPriority(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #34                 // Field useConsumerPriority:Z
       5: return

  public boolean isStrictOrderDispatch();
    Code:
       0: aload_0
       1: getfield      #35                 // Field strictOrderDispatch:Z
       4: ireturn

  public void setStrictOrderDispatch(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #35                 // Field strictOrderDispatch:Z
       5: return

  public boolean isOptimizedDispatch();
    Code:
       0: aload_0
       1: getfield      #36                 // Field optimizedDispatch:Z
       4: ireturn

  public void setOptimizedDispatch(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #36                 // Field optimizedDispatch:Z
       5: return

  public int getTimeBeforeDispatchStarts();
    Code:
       0: aload_0
       1: getfield      #39                 // Field timeBeforeDispatchStarts:I
       4: ireturn

  public void setTimeBeforeDispatchStarts(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #39                 // Field timeBeforeDispatchStarts:I
       5: return

  public int getConsumersBeforeDispatchStarts();
    Code:
       0: aload_0
       1: getfield      #40                 // Field consumersBeforeDispatchStarts:I
       4: ireturn

  public void setConsumersBeforeDispatchStarts(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #40                 // Field consumersBeforeDispatchStarts:I
       5: return

  public void setAllConsumersExclusiveByDefault(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #44                 // Field allConsumersExclusiveByDefault:Z
       5: return

  public boolean isAllConsumersExclusiveByDefault();
    Code:
       0: aload_0
       1: getfield      #44                 // Field allConsumersExclusiveByDefault:Z
       4: ireturn

  public boolean isResetNeeded();
    Code:
       0: aload_0
       1: getfield      #285                // Field resetNeeded:Z
       4: ireturn

  private org.apache.activemq.broker.region.QueueMessageReference createMessageReference(org.apache.activemq.command.Message);
    Code:
       0: new           #353                // class org/apache/activemq/broker/region/IndirectMessageReference
       3: dup
       4: aload_1
       5: invokespecial #354                // Method org/apache/activemq/broker/region/IndirectMessageReference."<init>":(Lorg/apache/activemq/command/Message;)V
       8: astore_2
       9: aload_2
      10: areturn

  public org.apache.activemq.command.Message[] browse();
    Code:
       0: new           #13                 // class java/util/ArrayList
       3: dup
       4: invokespecial #355                // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_0
       9: aload_1
      10: aload_0
      11: invokevirtual #356                // Method getMaxBrowsePageSize:()I
      14: invokevirtual #316                // Method doBrowse:(Ljava/util/List;I)V
      17: aload_1
      18: aload_1
      19: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
      24: anewarray     #357                // class org/apache/activemq/command/Message
      27: invokeinterface #358,  2          // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      32: checkcast     #359                // class "[Lorg/apache/activemq/command/Message;"
      35: areturn

  public void doBrowse(java.util.List<org.apache.activemq.command.Message>, int);
    Code:
       0: aload_0
       1: invokevirtual #360                // Method createConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
       4: astore_3
       5: aload_0
       6: iload_2
       7: invokespecial #361                // Method shouldPageInMoreForBrowse:(I)Z
      10: ifeq          37
      13: aload_0
      14: aload_0
      15: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      18: bipush        110
      20: invokevirtual #362                // Method org/apache/activemq/usage/MemoryUsage.isFull:(I)Z
      23: ifne          30
      26: iconst_1
      27: goto          31
      30: iconst_0
      31: invokevirtual #363                // Method pageInMessages:(Z)V
      34: goto          5
      37: aload_0
      38: aload_1
      39: iload_2
      40: aload_0
      41: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      44: aload_0
      45: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      48: aload_3
      49: ldc_w         #364                // String pagedInPendingDispatch
      52: invokevirtual #365                // Method doBrowseList:(Ljava/util/List;ILorg/apache/activemq/broker/region/cursors/PendingList;Ljava/util/concurrent/locks/ReentrantReadWriteLock;Lorg/apache/activemq/broker/ConnectionContext;Ljava/lang/String;)V
      55: aload_0
      56: aload_1
      57: iload_2
      58: aload_0
      59: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      62: aload_0
      63: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      66: aload_3
      67: ldc_w         #366                // String pagedInMessages
      70: invokevirtual #365                // Method doBrowseList:(Ljava/util/List;ILorg/apache/activemq/broker/region/cursors/PendingList;Ljava/util/concurrent/locks/ReentrantReadWriteLock;Lorg/apache/activemq/broker/ConnectionContext;Ljava/lang/String;)V
      73: goto          91
      76: astore        4
      78: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      81: ldc_w         #367                // String Problem retrieving message for browse
      84: aload         4
      86: invokeinterface #368,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      91: return
    Exception table:
       from    to  target type
           5    73    76   Class java/lang/Exception

  protected void doBrowseList(java.util.List<org.apache.activemq.command.Message>, int, org.apache.activemq.broker.region.cursors.PendingList, java.util.concurrent.locks.ReentrantReadWriteLock, org.apache.activemq.broker.ConnectionContext, java.lang.String) throws java.lang.Exception;
    Code:
       0: new           #13                 // class java/util/ArrayList
       3: dup
       4: invokespecial #355                // Method java/util/ArrayList."<init>":()V
       7: astore        7
       9: aload         4
      11: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      14: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      17: aload_0
      18: aload_3
      19: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
      24: aload_1
      25: iload_2
      26: aload         7
      28: invokespecial #369                // Method addAll:(Ljava/util/Collection;Ljava/util/List;ILjava/util/List;)V
      31: aload         4
      33: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      36: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      39: goto          55
      42: astore        8
      44: aload         4
      46: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      49: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      52: aload         8
      54: athrow
      55: aload         7
      57: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      62: astore        8
      64: aload         8
      66: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      71: ifeq          178
      74: aload         8
      76: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      81: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
      84: astore        9
      86: aload_0
      87: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
      90: aload         9
      92: invokeinterface #370,  2          // InterfaceMethod org/apache/activemq/broker/Broker.isExpired:(Lorg/apache/activemq/broker/region/MessageReference;)Z
      97: ifeq          126
     100: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     103: ldc_w         #371                // String expiring from {}: {}
     106: aload         6
     108: aload         9
     110: invokeinterface #181,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     115: aload_0
     116: aload         5
     118: aload         9
     120: invokevirtual #372                // Method messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)V
     123: goto          175
     126: aload         4
     128: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     131: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     134: aload_3
     135: aload         9
     137: invokeinterface #373,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.remove:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
     142: pop
     143: aload         4
     145: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     148: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     151: goto          167
     154: astore        10
     156: aload         4
     158: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     161: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     164: aload         10
     166: athrow
     167: aload         9
     169: invokeinterface #346,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
     174: pop
     175: goto          64
     178: return
    Exception table:
       from    to  target type
          17    31    42   any
          42    44    42   any
         134   143   154   any
         154   156   154   any

  private boolean shouldPageInMoreForBrowse(int);
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       6: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
       9: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      12: aload_0
      13: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      16: invokeinterface #374,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.size:()I
      21: istore_2
      22: aload_0
      23: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      26: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      29: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      32: goto          48
      35: astore_3
      36: aload_0
      37: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      40: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      43: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      46: aload_3
      47: athrow
      48: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      51: ldc_w         #375                // String max {}, alreadyPagedIn {}, messagesCount {}, memoryUsage {}%
      54: iconst_4
      55: anewarray     #54                 // class java/lang/Object
      58: dup
      59: iconst_0
      60: iload_1
      61: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      64: aastore
      65: dup
      66: iconst_1
      67: iload_2
      68: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      71: aastore
      72: dup
      73: iconst_2
      74: aload_0
      75: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      78: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
      81: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      84: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      87: aastore
      88: dup
      89: iconst_3
      90: aload_0
      91: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      94: invokevirtual #326                // Method org/apache/activemq/usage/MemoryUsage.getPercentUsage:()I
      97: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     100: aastore
     101: invokeinterface #377,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     106: iload_2
     107: iload_1
     108: if_icmpge     143
     111: iload_2
     112: i2l
     113: aload_0
     114: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     117: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     120: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     123: lcmp
     124: ifge          143
     127: aload_0
     128: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     131: invokeinterface #378,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasSpace:()Z
     136: ifeq          143
     139: iconst_1
     140: goto          144
     143: iconst_0
     144: ireturn
    Exception table:
       from    to  target type
          12    22    35   any
          35    36    35   any

  private void addAll(java.util.Collection<? extends org.apache.activemq.broker.region.MessageReference>, java.util.List<org.apache.activemq.command.Message>, int, java.util.List<org.apache.activemq.broker.region.MessageReference>) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #379,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       6: astore        5
       8: aload         5
      10: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          96
      18: aload_2
      19: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
      24: iload_3
      25: if_icmpge     96
      28: aload         5
      30: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
      38: astore        6
      40: aload         6
      42: invokeinterface #380,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.isExpired:()Z
      47: ifeq          63
      50: aload         4
      52: aload         6
      54: invokeinterface #381,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      59: pop
      60: goto          93
      63: aload_2
      64: aload         6
      66: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      71: invokeinterface #383,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      76: ifne          93
      79: aload_2
      80: aload         6
      82: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      87: invokeinterface #381,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      92: pop
      93: goto          8
      96: return

  public org.apache.activemq.broker.region.QueueMessageReference getMessage(java.lang.String);
    Code:
       0: new           #384                // class org/apache/activemq/command/MessageId
       3: dup
       4: aload_1
       5: invokespecial #385                // Method org/apache/activemq/command/MessageId."<init>":(Ljava/lang/String;)V
       8: astore_2
       9: aload_0
      10: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      13: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      16: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      19: aload_0
      20: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      23: aload_2
      24: invokeinterface #386,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.get:(Lorg/apache/activemq/command/MessageId;)Lorg/apache/activemq/broker/region/MessageReference;
      29: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
      32: astore_3
      33: aload_3
      34: ifnull        53
      37: aload_3
      38: astore        4
      40: aload_0
      41: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      44: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      47: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      50: aload         4
      52: areturn
      53: aload_0
      54: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      57: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      60: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      63: goto          81
      66: astore        5
      68: aload_0
      69: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      72: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      75: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      78: aload         5
      80: athrow
      81: aload_0
      82: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      85: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      88: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      91: aload_0
      92: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      95: invokeinterface #387,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
     100: aload_0
     101: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     104: invokeinterface #388,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasNext:()Z
     109: ifeq          201
     112: aload_0
     113: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     116: invokeinterface #389,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.next:()Lorg/apache/activemq/broker/region/MessageReference;
     121: astore_3
     122: aload_0
     123: aload_3
     124: invokeinterface #390,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     129: invokespecial #3                  // Method createMessageReference:(Lorg/apache/activemq/command/Message;)Lorg/apache/activemq/broker/region/QueueMessageReference;
     132: astore        4
     134: aload         4
     136: invokeinterface #391,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.decrementReferenceCount:()I
     141: pop
     142: aload_0
     143: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     146: aload         4
     148: invokeinterface #392,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     153: invokeinterface #393,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.rollback:(Lorg/apache/activemq/command/MessageId;)V
     158: aload_2
     159: aload         4
     161: invokeinterface #392,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     166: invokevirtual #394                // Method org/apache/activemq/command/MessageId.equals:(Ljava/lang/Object;)Z
     169: ifeq          198
     172: aload         4
     174: astore        5
     176: aload_0
     177: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     180: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     185: aload_0
     186: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     189: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     192: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     195: aload         5
     197: areturn
     198: goto          100
     201: aload_0
     202: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     205: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     210: goto          227
     213: astore        6
     215: aload_0
     216: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     219: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     224: aload         6
     226: athrow
     227: aload_0
     228: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     231: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     234: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     237: goto          255
     240: astore        7
     242: aload_0
     243: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     246: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     249: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     252: aload         7
     254: athrow
     255: aconst_null
     256: areturn
    Exception table:
       from    to  target type
          19    40    66   any
          66    68    66   any
          91   176   213   any
         198   201   213   any
         213   215   213   any
          91   185   240   any
         198   227   240   any
         240   242   240   any

  public void purge() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #360                // Method createConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
       4: astore_1
       5: aconst_null
       6: astore_2
       7: aload_0
       8: iconst_1
       9: iconst_0
      10: invokespecial #396                // Method doPageIn:(ZZ)V
      13: aload_0
      14: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      17: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      20: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      23: new           #13                 // class java/util/ArrayList
      26: dup
      27: aload_0
      28: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      31: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
      36: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      39: astore_2
      40: aload_0
      41: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      44: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      47: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      50: goto          66
      53: astore_3
      54: aload_0
      55: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      58: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      61: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      64: aload_3
      65: athrow
      66: aload_2
      67: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      72: astore_3
      73: aload_3
      74: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      79: ifeq          115
      82: aload_3
      83: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      88: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
      91: astore        4
      93: aload         4
      95: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
      98: astore        5
     100: aload_0
     101: aload_1
     102: aload         5
     104: invokevirtual #397                // Method removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
     107: goto          112
     110: astore        5
     112: goto          73
     115: aload_2
     116: invokeinterface #399,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     121: ifne          139
     124: aload_0
     125: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     128: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     131: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     134: lconst_0
     135: lcmp
     136: ifgt          7
     139: aload_0
     140: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     143: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     146: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     149: lconst_0
     150: lcmp
     151: ifle          185
     154: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     157: ldc_w         #400                // String {} after purge complete, message count stats report: {}
     160: aload_0
     161: invokevirtual #135                // Method getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     164: invokevirtual #136                // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
     167: aload_0
     168: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     171: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     174: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     177: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     180: invokeinterface #197,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     185: aload_0
     186: invokevirtual #401                // Method gc:()V
     189: aload_0
     190: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     193: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     196: lconst_0
     197: invokevirtual #132                // Method org/apache/activemq/management/CountStatisticImpl.setCount:(J)V
     200: aload_0
     201: invokevirtual #402                // Method getMessages:()Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     204: invokeinterface #403,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.clear:()V
     209: return
    Exception table:
       from    to  target type
          23    40    53   any
          53    54    53   any
          93   107   110   Class java/io/IOException

  public void clearPendingMessages();
    Code:
       0: aload_0
       1: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
       7: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      10: aload_0
      11: getfield      #285                // Field resetNeeded:Z
      14: ifeq          43
      17: aload_0
      18: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      21: invokeinterface #404,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.gc:()V
      26: aload_0
      27: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      30: invokeinterface #387,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
      35: aload_0
      36: iconst_0
      37: putfield      #285                // Field resetNeeded:Z
      40: goto          52
      43: aload_0
      44: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      47: invokeinterface #405,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.rebase:()V
      52: aload_0
      53: invokespecial #8                  // Method asyncWakeup:()V
      56: aload_0
      57: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      60: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      63: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      66: goto          82
      69: astore_1
      70: aload_0
      71: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      74: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      77: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      80: aload_1
      81: athrow
      82: return
    Exception table:
       from    to  target type
          10    56    69   any
          69    70    69   any

  public boolean removeMessage(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: invokevirtual #406                // Method createMessageIdFilter:(Ljava/lang/String;)Lorg/apache/activemq/broker/region/MessageReferenceFilter;
       6: iconst_1
       7: invokevirtual #407                // Method removeMatchingMessages:(Lorg/apache/activemq/broker/region/MessageReferenceFilter;I)I
      10: ifle          17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: ireturn

  public int removeMatchingMessages(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_m1
       3: invokevirtual #408                // Method removeMatchingMessages:(Ljava/lang/String;I)I
       6: ireturn

  public int removeMatchingMessages(java.lang.String, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: invokevirtual #409                // Method createSelectorFilter:(Ljava/lang/String;)Lorg/apache/activemq/broker/region/MessageReferenceFilter;
       6: iload_2
       7: invokevirtual #407                // Method removeMatchingMessages:(Lorg/apache/activemq/broker/region/MessageReferenceFilter;I)I
      10: ireturn

  public int removeMatchingMessages(org.apache.activemq.broker.region.MessageReferenceFilter, int) throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore_3
       2: new           #410                // class java/util/LinkedHashSet
       5: dup
       6: invokespecial #411                // Method java/util/LinkedHashSet."<init>":()V
       9: astore        4
      11: aload_0
      12: invokevirtual #360                // Method createConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
      15: astore        5
      17: aload_0
      18: iconst_1
      19: invokespecial #337                // Method doPageIn:(Z)V
      22: aload_0
      23: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      26: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      29: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      32: aload         4
      34: aload_0
      35: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      38: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
      43: invokeinterface #412,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      48: pop
      49: aload_0
      50: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      53: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      56: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      59: goto          77
      62: astore        6
      64: aload_0
      65: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      68: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      71: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      74: aload         6
      76: athrow
      77: new           #13                 // class java/util/ArrayList
      80: dup
      81: aload         4
      83: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      86: astore        6
      88: aload         6
      90: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      95: astore        7
      97: aload         7
      99: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     104: ifeq          174
     107: aload         7
     109: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     114: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     117: astore        8
     119: aload         8
     121: checkcast     #353                // class org/apache/activemq/broker/region/IndirectMessageReference
     124: astore        9
     126: aload_1
     127: aload         5
     129: aload         9
     131: invokeinterface #413,  3          // InterfaceMethod org/apache/activemq/broker/region/MessageReferenceFilter.evaluate:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)Z
     136: ifeq          171
     139: aload_0
     140: aload         5
     142: aload         9
     144: invokevirtual #397                // Method removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
     147: aload         4
     149: aload         9
     151: invokeinterface #414,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     156: pop
     157: iinc          3, 1
     160: iload_3
     161: iload_2
     162: if_icmplt     171
     165: iload_2
     166: ifle          171
     169: iload_3
     170: ireturn
     171: goto          97
     174: aload         4
     176: invokeinterface #415,  1          // InterfaceMethod java/util/Set.size:()I
     181: i2l
     182: aload_0
     183: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     186: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     189: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     192: lcmp
     193: iflt          17
     196: iload_3
     197: ireturn
    Exception table:
       from    to  target type
          32    49    62   any
          62    64    62   any

  public boolean copyMessageTo(org.apache.activemq.broker.ConnectionContext, java.lang.String, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: aload_2
       4: invokevirtual #406                // Method createMessageIdFilter:(Ljava/lang/String;)Lorg/apache/activemq/broker/region/MessageReferenceFilter;
       7: aload_3
       8: iconst_1
       9: invokevirtual #416                // Method copyMatchingMessages:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReferenceFilter;Lorg/apache/activemq/command/ActiveMQDestination;I)I
      12: ifle          19
      15: iconst_1
      16: goto          20
      19: iconst_0
      20: ireturn

  public int copyMatchingMessagesTo(org.apache.activemq.broker.ConnectionContext, java.lang.String, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iconst_m1
       5: invokevirtual #417                // Method copyMatchingMessagesTo:(Lorg/apache/activemq/broker/ConnectionContext;Ljava/lang/String;Lorg/apache/activemq/command/ActiveMQDestination;I)I
       8: ireturn

  public int copyMatchingMessagesTo(org.apache.activemq.broker.ConnectionContext, java.lang.String, org.apache.activemq.command.ActiveMQDestination, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: aload_2
       4: invokevirtual #409                // Method createSelectorFilter:(Ljava/lang/String;)Lorg/apache/activemq/broker/region/MessageReferenceFilter;
       7: aload_3
       8: iload         4
      10: invokevirtual #416                // Method copyMatchingMessages:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReferenceFilter;Lorg/apache/activemq/command/ActiveMQDestination;I)I
      13: ireturn

  public int copyMatchingMessages(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.MessageReferenceFilter, org.apache.activemq.command.ActiveMQDestination, int) throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore        5
       3: iconst_0
       4: istore        6
       6: new           #410                // class java/util/LinkedHashSet
       9: dup
      10: invokespecial #411                // Method java/util/LinkedHashSet."<init>":()V
      13: astore        7
      15: aload_0
      16: invokevirtual #126                // Method getMaxPageSize:()I
      19: istore        8
      21: aload_0
      22: aload_0
      23: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      26: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
      29: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
      32: l2i
      33: invokevirtual #418                // Method setMaxPageSize:(I)V
      36: aload_0
      37: iconst_1
      38: invokespecial #337                // Method doPageIn:(Z)V
      41: aload_0
      42: iload         8
      44: invokevirtual #418                // Method setMaxPageSize:(I)V
      47: aload_0
      48: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      51: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      54: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      57: aload         7
      59: aload_0
      60: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      63: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
      68: invokeinterface #412,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      73: pop
      74: aload_0
      75: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      78: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      81: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      84: goto          102
      87: astore        9
      89: aload_0
      90: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      93: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      96: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      99: aload         9
     101: athrow
     102: new           #13                 // class java/util/ArrayList
     105: dup
     106: aload         7
     108: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     111: astore        9
     113: aload         9
     115: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     120: astore        10
     122: aload         10
     124: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     129: ifeq          237
     132: aload         10
     134: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     139: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     142: astore        11
     144: aload         11
     146: checkcast     #353                // class org/apache/activemq/broker/region/IndirectMessageReference
     149: astore        12
     151: aload_2
     152: aload_1
     153: aload         12
     155: invokeinterface #413,  3          // InterfaceMethod org/apache/activemq/broker/region/MessageReferenceFilter.evaluate:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)Z
     160: ifeq          231
     163: aload         12
     165: invokevirtual #419                // Method org/apache/activemq/broker/region/IndirectMessageReference.incrementReferenceCount:()I
     168: pop
     169: aload         12
     171: invokevirtual #420                // Method org/apache/activemq/broker/region/IndirectMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     174: astore        13
     176: aload_1
     177: aload         13
     179: aload_3
     180: invokestatic  #421                // Method org/apache/activemq/util/BrokerSupport.resend:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/command/ActiveMQDestination;)V
     183: iinc          5, 1
     186: iload         5
     188: iload         4
     190: if_icmplt     211
     193: iload         4
     195: ifle          211
     198: iload         5
     200: istore        14
     202: aload         12
     204: invokevirtual #422                // Method org/apache/activemq/broker/region/IndirectMessageReference.decrementReferenceCount:()I
     207: pop
     208: iload         14
     210: ireturn
     211: aload         12
     213: invokevirtual #422                // Method org/apache/activemq/broker/region/IndirectMessageReference.decrementReferenceCount:()I
     216: pop
     217: goto          231
     220: astore        15
     222: aload         12
     224: invokevirtual #422                // Method org/apache/activemq/broker/region/IndirectMessageReference.decrementReferenceCount:()I
     227: pop
     228: aload         15
     230: athrow
     231: iinc          6, 1
     234: goto          122
     237: iload         6
     239: i2l
     240: aload_0
     241: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     244: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     247: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     250: lcmp
     251: iflt          15
     254: iload         5
     256: ireturn
    Exception table:
       from    to  target type
          57    74    87   any
          87    89    87   any
         169   202   220   any
         220   222   220   any

  public boolean moveMessageTo(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.QueueMessageReference, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_1
       1: aload_2
       2: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
       7: aload_3
       8: invokestatic  #421                // Method org/apache/activemq/util/BrokerSupport.resend:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/command/ActiveMQDestination;)V
      11: aload_0
      12: aload_1
      13: aload_2
      14: invokevirtual #397                // Method removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
      17: aload_0
      18: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      21: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      24: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      27: aload_0
      28: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      31: aload_2
      32: invokeinterface #392,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      37: invokeinterface #393,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.rollback:(Lorg/apache/activemq/command/MessageId;)V
      42: aload_0
      43: invokevirtual #423                // Method isDLQ:()Z
      46: ifeq          68
      49: aload_0
      50: invokevirtual #424                // Method getDeadLetterStrategy:()Lorg/apache/activemq/broker/region/policy/DeadLetterStrategy;
      53: astore        4
      55: aload         4
      57: aload_2
      58: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      63: invokeinterface #425,  2          // InterfaceMethod org/apache/activemq/broker/region/policy/DeadLetterStrategy.rollback:(Lorg/apache/activemq/command/Message;)V
      68: aload_0
      69: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      72: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      75: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      78: goto          96
      81: astore        5
      83: aload_0
      84: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      87: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      90: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      93: aload         5
      95: athrow
      96: iconst_1
      97: ireturn
    Exception table:
       from    to  target type
          27    68    81   any
          81    83    81   any

  public boolean moveMessageTo(org.apache.activemq.broker.ConnectionContext, java.lang.String, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: aload_2
       4: invokevirtual #406                // Method createMessageIdFilter:(Ljava/lang/String;)Lorg/apache/activemq/broker/region/MessageReferenceFilter;
       7: aload_3
       8: iconst_1
       9: invokevirtual #426                // Method moveMatchingMessagesTo:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReferenceFilter;Lorg/apache/activemq/command/ActiveMQDestination;I)I
      12: ifle          19
      15: iconst_1
      16: goto          20
      19: iconst_0
      20: ireturn

  public int moveMatchingMessagesTo(org.apache.activemq.broker.ConnectionContext, java.lang.String, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: ldc_w         #427                // int 2147483647
       7: invokevirtual #428                // Method moveMatchingMessagesTo:(Lorg/apache/activemq/broker/ConnectionContext;Ljava/lang/String;Lorg/apache/activemq/command/ActiveMQDestination;I)I
      10: ireturn

  public int moveMatchingMessagesTo(org.apache.activemq.broker.ConnectionContext, java.lang.String, org.apache.activemq.command.ActiveMQDestination, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: aload_2
       4: invokevirtual #409                // Method createSelectorFilter:(Ljava/lang/String;)Lorg/apache/activemq/broker/region/MessageReferenceFilter;
       7: aload_3
       8: iload         4
      10: invokevirtual #426                // Method moveMatchingMessagesTo:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReferenceFilter;Lorg/apache/activemq/command/ActiveMQDestination;I)I
      13: ireturn

  public int moveMatchingMessagesTo(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.MessageReferenceFilter, org.apache.activemq.command.ActiveMQDestination, int) throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore        5
       3: new           #410                // class java/util/LinkedHashSet
       6: dup
       7: invokespecial #411                // Method java/util/LinkedHashSet."<init>":()V
      10: astore        6
      12: aload_0
      13: iconst_1
      14: invokespecial #337                // Method doPageIn:(Z)V
      17: aload_0
      18: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      21: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      24: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      27: aload         6
      29: aload_0
      30: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      33: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
      38: invokeinterface #412,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      43: pop
      44: aload_0
      45: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      48: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      51: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      54: goto          72
      57: astore        7
      59: aload_0
      60: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      63: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      66: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      69: aload         7
      71: athrow
      72: new           #13                 // class java/util/ArrayList
      75: dup
      76: aload         6
      78: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      81: astore        7
      83: aload         7
      85: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      90: astore        8
      92: aload         8
      94: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      99: ifeq          169
     102: aload         8
     104: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     109: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     112: astore        9
     114: aload_2
     115: aload_1
     116: aload         9
     118: invokeinterface #413,  3          // InterfaceMethod org/apache/activemq/broker/region/MessageReferenceFilter.evaluate:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)Z
     123: ifeq          166
     126: aload_0
     127: aload_1
     128: aload         9
     130: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     133: aload_3
     134: invokevirtual #429                // Method moveMessageTo:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/QueueMessageReference;Lorg/apache/activemq/command/ActiveMQDestination;)Z
     137: pop
     138: aload         6
     140: aload         9
     142: invokeinterface #414,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     147: pop
     148: iinc          5, 1
     151: iload         5
     153: iload         4
     155: if_icmplt     166
     158: iload         4
     160: ifle          166
     163: iload         5
     165: ireturn
     166: goto          92
     169: aload         6
     171: invokeinterface #415,  1          // InterfaceMethod java/util/Set.size:()I
     176: i2l
     177: aload_0
     178: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     181: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     184: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     187: lcmp
     188: ifge          203
     191: aload         6
     193: invokeinterface #415,  1          // InterfaceMethod java/util/Set.size:()I
     198: iload         4
     200: if_icmplt     12
     203: iload         5
     205: ireturn
    Exception table:
       from    to  target type
          27    44    57   any
          57    59    57   any

  public int retryMessages(org.apache.activemq.broker.ConnectionContext, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #423                // Method isDLQ:()Z
       4: ifne          18
       7: new           #284                // class java/lang/Exception
      10: dup
      11: ldc_w         #430                // String Retry of message is only possible on Dead Letter Queues!
      14: invokespecial #431                // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
      17: athrow
      18: iconst_0
      19: istore_3
      20: new           #410                // class java/util/LinkedHashSet
      23: dup
      24: invokespecial #411                // Method java/util/LinkedHashSet."<init>":()V
      27: astore        4
      29: aload_0
      30: iconst_1
      31: invokespecial #337                // Method doPageIn:(Z)V
      34: aload_0
      35: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      38: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      41: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      44: aload         4
      46: aload_0
      47: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      50: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
      55: invokeinterface #412,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      60: pop
      61: aload_0
      62: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      65: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      68: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      71: goto          89
      74: astore        5
      76: aload_0
      77: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      80: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      83: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      86: aload         5
      88: athrow
      89: new           #13                 // class java/util/ArrayList
      92: dup
      93: aload         4
      95: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      98: astore        5
     100: aload         5
     102: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     107: astore        6
     109: aload         6
     111: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     116: ifeq          192
     119: aload         6
     121: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     126: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     129: astore        7
     131: aload         7
     133: invokeinterface #390,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     138: invokevirtual #432                // Method org/apache/activemq/command/Message.getOriginalDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     141: ifnull        189
     144: aload_0
     145: aload_1
     146: aload         7
     148: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     151: aload         7
     153: invokeinterface #390,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     158: invokevirtual #432                // Method org/apache/activemq/command/Message.getOriginalDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     161: invokevirtual #429                // Method moveMessageTo:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/QueueMessageReference;Lorg/apache/activemq/command/ActiveMQDestination;)Z
     164: pop
     165: aload         4
     167: aload         7
     169: invokeinterface #414,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     174: pop
     175: iinc          3, 1
     178: iload_3
     179: iload_2
     180: if_icmplt     189
     183: iload_2
     184: ifle          189
     187: iload_3
     188: ireturn
     189: goto          109
     192: aload         4
     194: invokeinterface #415,  1          // InterfaceMethod java/util/Set.size:()I
     199: i2l
     200: aload_0
     201: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     204: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
     207: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     210: lcmp
     211: ifge          225
     214: aload         4
     216: invokeinterface #415,  1          // InterfaceMethod java/util/Set.size:()I
     221: iload_2
     222: if_icmplt     29
     225: iload_3
     226: ireturn
    Exception table:
       from    to  target type
          44    61    74   any
          74    76    74   any

  public boolean iterate();
    Code:
       0: ldc_w         #433                // String activemq.destination
       3: aload_0
       4: invokevirtual #236                // Method getName:()Ljava/lang/String;
       7: invokestatic  #434                // Method org/slf4j/MDC.put:(Ljava/lang/String;Ljava/lang/String;)V
      10: iconst_0
      11: istore_1
      12: aload_0
      13: getfield      #56                 // Field iteratingMutex:Ljava/lang/Object;
      16: dup
      17: astore_2
      18: monitorenter
      19: aload_0
      20: iconst_1
      21: putfield      #37                 // Field iterationRunning:Z
      24: aload_0
      25: getfield      #6                  // Field messagesWaitingForSpace:Ljava/util/Map;
      28: dup
      29: astore_3
      30: monitorenter
      31: aload_0
      32: getfield      #6                  // Field messagesWaitingForSpace:Ljava/util/Map;
      35: invokeinterface #435,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      40: invokeinterface #379,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      45: astore        4
      47: aload         4
      49: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          103
      57: aload_0
      58: getfield      #98                 // Field memoryUsage:Lorg/apache/activemq/usage/MemoryUsage;
      61: invokevirtual #216                // Method org/apache/activemq/usage/MemoryUsage.isFull:()Z
      64: ifne          96
      67: aload         4
      69: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      74: checkcast     #436                // class java/lang/Runnable
      77: astore        5
      79: aload         4
      81: invokeinterface #437,  1          // InterfaceMethod java/util/Iterator.remove:()V
      86: aload         5
      88: invokeinterface #257,  1          // InterfaceMethod java/lang/Runnable.run:()V
      93: goto          47
      96: aload_0
      97: invokespecial #248                // Method registerCallbackForNotFullNotification:()V
     100: goto          103
     103: aload_3
     104: monitorexit
     105: goto          115
     108: astore        6
     110: aload_3
     111: monitorexit
     112: aload         6
     114: athrow
     115: aload_0
     116: getfield      #38                 // Field firstConsumer:Z
     119: ifeq          278
     122: aload_0
     123: iconst_0
     124: putfield      #38                 // Field firstConsumer:Z
     127: aload_0
     128: getfield      #40                 // Field consumersBeforeDispatchStarts:I
     131: ifle          218
     134: sipush        1000
     137: istore_3
     138: aload_0
     139: getfield      #39                 // Field timeBeforeDispatchStarts:I
     142: ifle          150
     145: aload_0
     146: getfield      #39                 // Field timeBeforeDispatchStarts:I
     149: istore_3
     150: aload_0
     151: getfield      #151                // Field consumersBeforeStartsLatch:Ljava/util/concurrent/CountDownLatch;
     154: iload_3
     155: i2l
     156: getstatic     #438                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     159: invokevirtual #439                // Method java/util/concurrent/CountDownLatch.await:(JLjava/util/concurrent/TimeUnit;)Z
     162: ifeq          191
     165: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     168: ldc_w         #440                // String {} consumers subscribed. Starting dispatch.
     171: aload_0
     172: getfield      #15                 // Field consumers:Ljava/util/List;
     175: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
     180: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     183: invokeinterface #254,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     188: goto          218
     191: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     194: ldc_w         #441                // String {} ms elapsed and {} consumers subscribed. Starting dispatch.
     197: iload_3
     198: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     201: aload_0
     202: getfield      #15                 // Field consumers:Ljava/util/List;
     205: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
     210: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     213: invokeinterface #181,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     218: aload_0
     219: getfield      #39                 // Field timeBeforeDispatchStarts:I
     222: ifle          262
     225: aload_0
     226: getfield      #40                 // Field consumersBeforeDispatchStarts:I
     229: ifgt          262
     232: aload_0
     233: getfield      #56                 // Field iteratingMutex:Ljava/lang/Object;
     236: aload_0
     237: getfield      #39                 // Field timeBeforeDispatchStarts:I
     240: i2l
     241: invokevirtual #442                // Method java/lang/Object.wait:(J)V
     244: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     247: ldc_w         #443                // String {} ms elapsed. Starting dispatch.
     250: aload_0
     251: getfield      #39                 // Field timeBeforeDispatchStarts:I
     254: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     257: invokeinterface #254,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     262: goto          278
     265: astore_3
     266: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     269: aload_3
     270: invokevirtual #444                // Method java/lang/Exception.toString:()Ljava/lang/String;
     273: invokeinterface #445,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     278: aload_0
     279: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     282: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     285: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
     288: iload_1
     289: aload_0
     290: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     293: invokeinterface #446,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isEmpty:()Z
     298: ifne          305
     301: iconst_1
     302: goto          306
     305: iconst_0
     306: ior
     307: istore_1
     308: aload_0
     309: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     312: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     315: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     318: goto          336
     321: astore        7
     323: aload_0
     324: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     327: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     330: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     333: aload         7
     335: athrow
     336: aload_0
     337: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     340: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     343: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
     346: iload_1
     347: aload_0
     348: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     351: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
     356: ifne          363
     359: iconst_1
     360: goto          364
     363: iconst_0
     364: ior
     365: istore_1
     366: aload_0
     367: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     370: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     373: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     376: goto          394
     379: astore        8
     381: aload_0
     382: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     385: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     388: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     391: aload         8
     393: athrow
     394: aload_0
     395: getfield      #68                 // Field browserDispatches:Ljava/util/concurrent/ConcurrentLinkedQueue;
     398: invokevirtual #447                // Method java/util/concurrent/ConcurrentLinkedQueue.size:()I
     401: ifle          408
     404: iconst_1
     405: goto          409
     408: iconst_0
     409: istore_3
     410: iload_1
     411: ifne          430
     414: iload_3
     415: ifne          430
     418: aload_0
     419: getfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     422: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
     427: ifne          453
     430: aload_0
     431: iload_3
     432: invokevirtual #363                // Method pageInMessages:(Z)V
     435: goto          453
     438: astore        4
     440: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     443: ldc_w         #449                // String Failed to page in more queue messages
     446: aload         4
     448: invokeinterface #368,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     453: iload_3
     454: ifeq          747
     457: aconst_null
     458: astore        4
     460: aload_0
     461: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     464: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     467: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
     470: new           #13                 // class java/util/ArrayList
     473: dup
     474: aload_0
     475: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
     478: invokeinterface #344,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.values:()Ljava/util/Collection;
     483: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     486: astore        4
     488: aload_0
     489: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     492: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     495: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     498: goto          516
     501: astore        9
     503: aload_0
     504: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     507: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     510: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     513: aload         9
     515: athrow
     516: aload_0
     517: getfield      #68                 // Field browserDispatches:Ljava/util/concurrent/ConcurrentLinkedQueue;
     520: invokevirtual #450                // Method java/util/concurrent/ConcurrentLinkedQueue.iterator:()Ljava/util/Iterator;
     523: astore        5
     525: aload         5
     527: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     532: ifeq          747
     535: aload         5
     537: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     542: checkcast     #162                // class org/apache/activemq/broker/region/Queue$BrowserDispatch
     545: astore        6
     547: new           #451                // class org/apache/activemq/filter/NonCachedMessageEvaluationContext
     550: dup
     551: invokespecial #452                // Method org/apache/activemq/filter/NonCachedMessageEvaluationContext."<init>":()V
     554: astore        7
     556: aload         7
     558: aload_0
     559: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
     562: invokevirtual #453                // Method org/apache/activemq/filter/MessageEvaluationContext.setDestination:(Lorg/apache/activemq/command/ActiveMQDestination;)V
     565: aload         6
     567: invokevirtual #454                // Method org/apache/activemq/broker/region/Queue$BrowserDispatch.getBrowser:()Lorg/apache/activemq/broker/region/QueueBrowserSubscription;
     570: astore        8
     572: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     575: ldc_w         #455                // String dispatch to browser: {}, already dispatched/paged count: {}
     578: aload         8
     580: aload         4
     582: invokevirtual #456                // Method java/util/ArrayList.size:()I
     585: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     588: invokeinterface #181,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     593: iconst_0
     594: istore        9
     596: aload         4
     598: invokevirtual #457                // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
     601: astore        10
     603: aload         10
     605: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     610: ifeq          693
     613: aload         10
     615: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     620: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     623: astore        11
     625: aload         11
     627: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     630: invokeinterface #458,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.isAcked:()Z
     635: ifne          690
     638: aload         8
     640: aload         11
     642: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     647: invokevirtual #459                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.isDuplicate:(Lorg/apache/activemq/command/MessageId;)Z
     650: ifne          690
     653: aload         8
     655: invokevirtual #460                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.atMax:()Z
     658: ifne          690
     661: aload         7
     663: aload         11
     665: invokevirtual #461                // Method org/apache/activemq/filter/MessageEvaluationContext.setMessageReference:(Lorg/apache/activemq/broker/region/MessageReference;)V
     668: aload         8
     670: aload         11
     672: aload         7
     674: invokevirtual #462                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.matches:(Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/filter/MessageEvaluationContext;)Z
     677: ifeq          690
     680: aload         8
     682: aload         11
     684: invokevirtual #463                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.add:(Lorg/apache/activemq/broker/region/MessageReference;)V
     687: iconst_1
     688: istore        9
     690: goto          603
     693: iload         9
     695: ifeq          706
     698: aload         8
     700: invokevirtual #460                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.atMax:()Z
     703: ifeq          721
     706: aload         8
     708: invokevirtual #189                // Method org/apache/activemq/broker/region/QueueBrowserSubscription.decrementQueueRef:()V
     711: aload_0
     712: getfield      #68                 // Field browserDispatches:Ljava/util/concurrent/ConcurrentLinkedQueue;
     715: aload         6
     717: invokevirtual #190                // Method java/util/concurrent/ConcurrentLinkedQueue.remove:(Ljava/lang/Object;)Z
     720: pop
     721: goto          744
     724: astore        7
     726: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     729: ldc_w         #464                // String exception on dispatch to browser: {}
     732: aload         6
     734: invokevirtual #454                // Method org/apache/activemq/broker/region/Queue$BrowserDispatch.getBrowser:()Lorg/apache/activemq/broker/region/QueueBrowserSubscription;
     737: aload         7
     739: invokeinterface #197,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     744: goto          525
     747: aload_0
     748: getfield      #43                 // Field pendingWakeups:Ljava/util/concurrent/atomic/AtomicLong;
     751: invokevirtual #465                // Method java/util/concurrent/atomic/AtomicLong.get:()J
     754: lconst_0
     755: lcmp
     756: ifle          767
     759: aload_0
     760: getfield      #43                 // Field pendingWakeups:Ljava/util/concurrent/atomic/AtomicLong;
     763: invokevirtual #466                // Method java/util/concurrent/atomic/AtomicLong.decrementAndGet:()J
     766: pop2
     767: ldc_w         #433                // String activemq.destination
     770: invokestatic  #467                // Method org/slf4j/MDC.remove:(Ljava/lang/String;)V
     773: aload_0
     774: iconst_0
     775: putfield      #37                 // Field iterationRunning:Z
     778: aload_0
     779: getfield      #43                 // Field pendingWakeups:Ljava/util/concurrent/atomic/AtomicLong;
     782: invokevirtual #465                // Method java/util/concurrent/atomic/AtomicLong.get:()J
     785: lconst_0
     786: lcmp
     787: ifle          794
     790: iconst_1
     791: goto          795
     794: iconst_0
     795: aload_2
     796: monitorexit
     797: ireturn
     798: astore        12
     800: aload_2
     801: monitorexit
     802: aload         12
     804: athrow
    Exception table:
       from    to  target type
          31   105   108   any
         108   112   108   any
         127   262   265   Class java/lang/Exception
         288   308   321   any
         321   323   321   any
         346   366   379   any
         379   381   379   any
         430   435   438   Class java/lang/Throwable
         470   488   501   any
         501   503   501   any
         547   721   724   Class java/lang/Exception
          19   797   798   any
         798   802   798   any

  protected org.apache.activemq.broker.region.MessageReferenceFilter createMessageIdFilter(java.lang.String);
    Code:
       0: new           #468                // class org/apache/activemq/broker/region/Queue$5
       3: dup
       4: aload_0
       5: aload_1
       6: invokespecial #469                // Method org/apache/activemq/broker/region/Queue$5."<init>":(Lorg/apache/activemq/broker/region/Queue;Ljava/lang/String;)V
       9: areturn

  protected org.apache.activemq.broker.region.MessageReferenceFilter createSelectorFilter(java.lang.String) throws javax.jms.InvalidSelectorException;
    Code:
       0: aload_1
       1: ifnull        11
       4: aload_1
       5: invokevirtual #470                // Method java/lang/String.isEmpty:()Z
       8: ifeq          20
      11: new           #471                // class org/apache/activemq/broker/region/Queue$6
      14: dup
      15: aload_0
      16: invokespecial #472                // Method org/apache/activemq/broker/region/Queue$6."<init>":(Lorg/apache/activemq/broker/region/Queue;)V
      19: areturn
      20: aload_1
      21: invokestatic  #473                // Method org/apache/activemq/selector/SelectorParser.parse:(Ljava/lang/String;)Lorg/apache/activemq/filter/BooleanExpression;
      24: astore_2
      25: new           #474                // class org/apache/activemq/broker/region/Queue$7
      28: dup
      29: aload_0
      30: aload_2
      31: invokespecial #475                // Method org/apache/activemq/broker/region/Queue$7."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/filter/BooleanExpression;)V
      34: areturn

  protected void removeMessage(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.QueueMessageReference) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: aload_2
       4: invokevirtual #476                // Method removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
       7: aload_0
       8: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      11: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      14: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      17: aload_0
      18: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      21: aload_2
      22: invokeinterface #373,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.remove:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
      27: pop
      28: aload_0
      29: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      32: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      35: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      38: goto          54
      41: astore_3
      42: aload_0
      43: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      46: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      49: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      52: aload_3
      53: athrow
      54: return
    Exception table:
       from    to  target type
          17    28    41   any
          41    42    41   any

  protected void removeMessage(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription, org.apache.activemq.broker.region.QueueMessageReference) throws java.io.IOException;
    Code:
       0: new           #477                // class org/apache/activemq/command/MessageAck
       3: dup
       4: invokespecial #478                // Method org/apache/activemq/command/MessageAck."<init>":()V
       7: astore        4
       9: aload         4
      11: iconst_2
      12: invokevirtual #479                // Method org/apache/activemq/command/MessageAck.setAckType:(B)V
      15: aload         4
      17: aload_0
      18: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
      21: invokevirtual #480                // Method org/apache/activemq/command/MessageAck.setDestination:(Lorg/apache/activemq/command/ActiveMQDestination;)V
      24: aload         4
      26: aload_3
      27: invokeinterface #392,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      32: invokevirtual #481                // Method org/apache/activemq/command/MessageAck.setMessageID:(Lorg/apache/activemq/command/MessageId;)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: aload_3
      39: aload         4
      41: invokevirtual #482                // Method removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/QueueMessageReference;Lorg/apache/activemq/command/MessageAck;)V
      44: return

  protected void removeMessage(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription, org.apache.activemq.broker.region.QueueMessageReference, org.apache.activemq.command.MessageAck) throws java.io.IOException;
    Code:
       0: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #483                // String ack of {} with {}
       6: aload_3
       7: invokeinterface #392,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      12: aload         4
      14: invokeinterface #484,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      19: aload_3
      20: iconst_1
      21: invokeinterface #485,  2          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.setAcked:(Z)V
      26: aload         4
      28: invokevirtual #486                // Method org/apache/activemq/command/MessageAck.isInTransaction:()Z
      31: ifne          61
      34: aload_0
      35: aload_1
      36: aload_2
      37: aload         4
      39: aload_3
      40: invokevirtual #487                // Method acknowledge:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/command/MessageAck;Lorg/apache/activemq/broker/region/MessageReference;)V
      43: aload_0
      44: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      47: invokevirtual #138                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
      50: invokevirtual #488                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
      53: aload_0
      54: aload_3
      55: invokespecial #1                  // Method dropMessage:(Lorg/apache/activemq/broker/region/QueueMessageReference;)V
      58: goto          110
      61: aload_0
      62: aload_1
      63: aload_2
      64: aload         4
      66: aload_3
      67: invokevirtual #487                // Method acknowledge:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/command/MessageAck;Lorg/apache/activemq/broker/region/MessageReference;)V
      70: aload_1
      71: invokevirtual #259                // Method org/apache/activemq/broker/ConnectionContext.getTransaction:()Lorg/apache/activemq/transaction/Transaction;
      74: new           #489                // class org/apache/activemq/broker/region/Queue$8
      77: dup
      78: aload_0
      79: aload_3
      80: invokespecial #490                // Method org/apache/activemq/broker/region/Queue$8."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
      83: invokevirtual #265                // Method org/apache/activemq/transaction/Transaction.addSynchronization:(Lorg/apache/activemq/transaction/Synchronization;)V
      86: goto          110
      89: astore        5
      91: aload_1
      92: invokevirtual #259                // Method org/apache/activemq/broker/ConnectionContext.getTransaction:()Lorg/apache/activemq/transaction/Transaction;
      95: new           #489                // class org/apache/activemq/broker/region/Queue$8
      98: dup
      99: aload_0
     100: aload_3
     101: invokespecial #490                // Method org/apache/activemq/broker/region/Queue$8."<init>":(Lorg/apache/activemq/broker/region/Queue;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
     104: invokevirtual #265                // Method org/apache/activemq/transaction/Transaction.addSynchronization:(Lorg/apache/activemq/transaction/Synchronization;)V
     107: aload         5
     109: athrow
     110: aload         4
     112: invokevirtual #491                // Method org/apache/activemq/command/MessageAck.isPoisonAck:()Z
     115: ifne          134
     118: aload_2
     119: ifnull        213
     122: aload_2
     123: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     128: invokevirtual #492                // Method org/apache/activemq/command/ConsumerInfo.isNetworkSubscription:()Z
     131: ifeq          213
     134: aload_0
     135: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     138: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     141: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     144: aload_0
     145: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     148: aload_3
     149: invokeinterface #392,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     154: invokeinterface #393,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.rollback:(Lorg/apache/activemq/command/MessageId;)V
     159: aload_0
     160: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     163: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     166: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     169: goto          187
     172: astore        6
     174: aload_0
     175: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     178: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     181: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     184: aload         6
     186: athrow
     187: aload_2
     188: ifnull        213
     191: aload_2
     192: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     197: invokevirtual #492                // Method org/apache/activemq/command/ConsumerInfo.isNetworkSubscription:()Z
     200: ifeq          213
     203: aload_0
     204: invokevirtual #137                // Method getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     207: invokevirtual #493                // Method org/apache/activemq/broker/region/DestinationStatistics.getForwards:()Lorg/apache/activemq/management/CountStatisticImpl;
     210: invokevirtual #488                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
     213: return
    Exception table:
       from    to  target type
          61    70    89   any
          89    91    89   any
         144   159   172   any
         172   174   172   any

  private void dropMessage(org.apache.activemq.broker.region.QueueMessageReference);
    Code:
       0: aload_1
       1: invokeinterface #187,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.isDropped:()Z
       6: ifne          72
       9: aload_1
      10: invokeinterface #494,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.drop:()V
      15: aload_0
      16: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      19: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
      22: invokevirtual #495                // Method org/apache/activemq/management/CountStatisticImpl.decrement:()V
      25: aload_0
      26: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      29: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      32: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      35: aload_0
      36: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
      39: aload_1
      40: invokeinterface #373,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.remove:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
      45: pop
      46: aload_0
      47: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      50: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      53: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      56: goto          72
      59: astore_2
      60: aload_0
      61: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      64: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      67: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      70: aload_2
      71: athrow
      72: return
    Exception table:
       from    to  target type
          35    46    59   any
          59    60    59   any

  public void messageExpired(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.MessageReference);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: aload_2
       4: invokevirtual #496                // Method messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/MessageReference;)V
       7: return

  public void messageExpired(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Subscription, org.apache.activemq.broker.region.MessageReference);
    Code:
       0: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #497                // String message expired: {}
       6: aload_3
       7: invokeinterface #254,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      12: aload_0
      13: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
      16: aload_1
      17: aload_3
      18: aload_2
      19: invokeinterface #209,  4          // InterfaceMethod org/apache/activemq/broker/Broker.messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/broker/region/Subscription;)V
      24: aload_0
      25: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      28: invokevirtual #498                // Method org/apache/activemq/broker/region/DestinationStatistics.getExpired:()Lorg/apache/activemq/management/CountStatisticImpl;
      31: invokevirtual #488                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
      34: aload_0
      35: aload_1
      36: aload_2
      37: aload_3
      38: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
      41: invokevirtual #476                // Method removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/QueueMessageReference;)V
      44: aload_0
      45: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      48: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      51: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      54: aload_0
      55: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      58: aload_3
      59: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      64: invokeinterface #393,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.rollback:(Lorg/apache/activemq/command/MessageId;)V
      69: aload_0
      70: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      73: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      76: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      79: goto          97
      82: astore        4
      84: aload_0
      85: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      88: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      91: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      94: aload         4
      96: athrow
      97: goto          115
     100: astore        4
     102: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     105: ldc_w         #499                // String Failed to remove expired Message from the store
     108: aload         4
     110: invokeinterface #368,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     115: return
    Exception table:
       from    to  target type
          54    69    82   any
          82    84    82   any
          34    97   100   Class java/io/IOException

  final void sendMessage(org.apache.activemq.command.Message) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
       7: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      10: aload_0
      11: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      14: aload_1
      15: invokeinterface #500,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.addMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;)V
      20: aload_0
      21: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      24: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      27: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      30: goto          46
      33: astore_2
      34: aload_0
      35: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      38: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      41: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      44: aload_2
      45: athrow
      46: return
    Exception table:
       from    to  target type
          10    20    33   any
          33    34    33   any

  final void messageSent(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.command.Message) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
       4: invokevirtual #501                // Method org/apache/activemq/broker/region/DestinationStatistics.getEnqueues:()Lorg/apache/activemq/management/CountStatisticImpl;
       7: invokevirtual #488                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
      10: aload_0
      11: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      14: invokevirtual #131                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessages:()Lorg/apache/activemq/management/CountStatisticImpl;
      17: invokevirtual #488                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
      20: aload_0
      21: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      24: invokevirtual #502                // Method org/apache/activemq/broker/region/DestinationStatistics.getMessageSize:()Lorg/apache/activemq/management/SizeStatisticImpl;
      27: aload_2
      28: invokevirtual #212                // Method org/apache/activemq/command/Message.getSize:()I
      31: i2l
      32: invokevirtual #503                // Method org/apache/activemq/management/SizeStatisticImpl.addSize:(J)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokevirtual #504                // Method messageDelivered:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)V
      41: aload_0
      42: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      45: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      48: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      51: aload_0
      52: getfield      #15                 // Field consumers:Ljava/util/List;
      55: invokeinterface #399,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      60: ifeq          69
      63: aload_0
      64: aload_1
      65: aload_2
      66: invokevirtual #505                // Method onMessageWithNoConsumers:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/Message;)V
      69: aload_0
      70: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      73: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      76: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      79: goto          95
      82: astore_3
      83: aload_0
      84: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      87: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      90: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      93: aload_3
      94: athrow
      95: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      98: ldc_w         #506                // String {} Message {} sent to {}
     101: iconst_3
     102: anewarray     #54                 // class java/lang/Object
     105: dup
     106: iconst_0
     107: aload_0
     108: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
     111: invokeinterface #507,  1          // InterfaceMethod org/apache/activemq/broker/Broker.getBrokerName:()Ljava/lang/String;
     116: aastore
     117: dup
     118: iconst_1
     119: aload_2
     120: invokevirtual #240                // Method org/apache/activemq/command/Message.getMessageId:()Lorg/apache/activemq/command/MessageId;
     123: aastore
     124: dup
     125: iconst_2
     126: aload_0
     127: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
     130: aastore
     131: invokeinterface #143,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     136: aload_0
     137: invokevirtual #165                // Method wakeup:()V
     140: return
    Exception table:
       from    to  target type
          51    69    82   any
          82    83    82   any

  public void wakeup();
    Code:
       0: aload_0
       1: getfield      #36                 // Field optimizedDispatch:Z
       4: ifeq          30
       7: aload_0
       8: getfield      #37                 // Field iterationRunning:Z
      11: ifne          30
      14: aload_0
      15: invokevirtual #508                // Method iterate:()Z
      18: pop
      19: aload_0
      20: getfield      #43                 // Field pendingWakeups:Ljava/util/concurrent/atomic/AtomicLong;
      23: invokevirtual #509                // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      26: pop2
      27: goto          34
      30: aload_0
      31: invokespecial #8                  // Method asyncWakeup:()V
      34: return

  private void asyncWakeup();
    Code:
       0: aload_0
       1: getfield      #43                 // Field pendingWakeups:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #509                // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
       7: pop2
       8: aload_0
       9: getfield      #108                // Field taskRunner:Lorg/apache/activemq/thread/TaskRunner;
      12: invokeinterface #510,  1          // InterfaceMethod org/apache/activemq/thread/TaskRunner.wakeup:()V
      17: goto          33
      20: astore_1
      21: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      24: ldc_w         #512                // String Async task runner failed to wakeup
      27: aload_1
      28: invokeinterface #513,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      33: return
    Exception table:
       from    to  target type
           0    17    20   Class java/lang/InterruptedException

  private void doPageIn(boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: iload_1
       2: iconst_1
       3: invokespecial #396                // Method doPageIn:(ZZ)V
       6: return

  private void doPageIn(boolean, boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: iload_1
       2: iload_2
       3: invokespecial #514                // Method doPageInForDispatch:(ZZ)Lorg/apache/activemq/broker/region/cursors/PendingList;
       6: astore_3
       7: aload_0
       8: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      11: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      14: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      17: aload_0
      18: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      21: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
      26: ifeq          42
      29: aload_0
      30: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      33: aload_3
      34: invokeinterface #515,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addAll:(Lorg/apache/activemq/broker/region/cursors/PendingList;)V
      39: goto          101
      42: aload_3
      43: invokeinterface #516,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.iterator:()Ljava/util/Iterator;
      48: astore        4
      50: aload         4
      52: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      57: ifeq          101
      60: aload         4
      62: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      67: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
      70: astore        5
      72: aload_0
      73: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      76: aload         5
      78: invokeinterface #517,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.contains:(Lorg/apache/activemq/broker/region/MessageReference;)Z
      83: ifne          98
      86: aload_0
      87: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      90: aload         5
      92: invokeinterface #188,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
      97: pop
      98: goto          50
     101: aload_0
     102: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     105: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     108: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     111: goto          129
     114: astore        6
     116: aload_0
     117: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     120: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     123: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     126: aload         6
     128: athrow
     129: return
    Exception table:
       from    to  target type
          17   101   114   any
         114   116   114   any

  private org.apache.activemq.broker.region.cursors.PendingList doPageInForDispatch(boolean, boolean) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_3
       2: aconst_null
       3: astore        4
       5: aload_0
       6: invokevirtual #126                // Method getMaxPageSize:()I
       9: aload_0
      10: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      13: invokeinterface #323,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
      18: invokestatic  #518                // Method java/lang/Math.min:(II)I
      21: istore        5
      23: iconst_0
      24: istore        6
      26: aload_0
      27: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      30: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      33: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      36: aload_0
      37: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      40: invokeinterface #374,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.size:()I
      45: istore        6
      47: aload_0
      48: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      51: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      54: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      57: goto          75
      60: astore        7
      62: aload_0
      63: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      66: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      69: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      72: aload         7
      74: athrow
      75: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
      78: ldc_w         #519                // String {} toPageIn: {}, Inflight: {}, pagedInMessages.size {}, pagedInPendingDispatch.size {}, enqueueCount: {}, dequeueCount: {}, memUsage:{}
      81: bipush        8
      83: anewarray     #54                 // class java/lang/Object
      86: dup
      87: iconst_0
      88: aload_0
      89: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
      92: invokevirtual #105                // Method org/apache/activemq/command/ActiveMQDestination.getPhysicalName:()Ljava/lang/String;
      95: aastore
      96: dup
      97: iconst_1
      98: iload         5
     100: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     103: aastore
     104: dup
     105: iconst_2
     106: aload_0
     107: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     110: invokevirtual #142                // Method org/apache/activemq/broker/region/DestinationStatistics.getInflight:()Lorg/apache/activemq/management/CountStatisticImpl;
     113: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     116: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     119: aastore
     120: dup
     121: iconst_3
     122: aload_0
     123: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
     126: invokeinterface #374,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.size:()I
     131: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     134: aastore
     135: dup
     136: iconst_4
     137: iload         6
     139: invokestatic  #376                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     142: aastore
     143: dup
     144: iconst_5
     145: aload_0
     146: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     149: invokevirtual #501                // Method org/apache/activemq/broker/region/DestinationStatistics.getEnqueues:()Lorg/apache/activemq/management/CountStatisticImpl;
     152: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     155: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     158: aastore
     159: dup
     160: bipush        6
     162: aload_0
     163: getfield      #130                // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
     166: invokevirtual #138                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
     169: invokevirtual #139                // Method org/apache/activemq/management/CountStatisticImpl.getCount:()J
     172: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     175: aastore
     176: dup
     177: bipush        7
     179: aload_0
     180: invokevirtual #520                // Method getMemoryUsage:()Lorg/apache/activemq/usage/MemoryUsage;
     183: invokevirtual #521                // Method org/apache/activemq/usage/MemoryUsage.getUsage:()J
     186: invokestatic  #140                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     189: aastore
     190: invokeinterface #143,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     195: aload_0
     196: invokevirtual #522                // Method isLazyDispatch:()Z
     199: ifeq          217
     202: iload_1
     203: ifne          217
     206: aload_0
     207: invokespecial #523                // Method getConsumerMessageCountBeforeFull:()I
     210: iload         5
     212: invokestatic  #518                // Method java/lang/Math.min:(II)I
     215: istore        5
     217: iload         5
     219: ifle          726
     222: iload_1
     223: ifne          247
     226: aload_0
     227: getfield      #15                 // Field consumers:Ljava/util/List;
     230: invokeinterface #399,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     235: ifne          726
     238: iload         6
     240: aload_0
     241: invokevirtual #126                // Method getMaxPageSize:()I
     244: if_icmpge     726
     247: iconst_0
     248: istore        7
     250: new           #13                 // class java/util/ArrayList
     253: dup
     254: iload         5
     256: invokespecial #14                 // Method java/util/ArrayList."<init>":(I)V
     259: astore_3
     260: aload_0
     261: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     264: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     267: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     270: aload_0
     271: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     274: iload         5
     276: invokeinterface #524,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setMaxBatchSize:(I)V
     281: aload_0
     282: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     285: invokeinterface #387,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
     290: aload_0
     291: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     294: invokeinterface #388,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasNext:()Z
     299: ifeq          409
     302: iload         7
     304: iload         5
     306: if_icmpge     409
     309: aload_0
     310: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     313: invokeinterface #389,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.next:()Lorg/apache/activemq/broker/region/MessageReference;
     318: astore        8
     320: aload_0
     321: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     324: invokeinterface #525,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.remove:()V
     329: aload_0
     330: aload         8
     332: invokeinterface #390,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     337: invokespecial #3                  // Method createMessageReference:(Lorg/apache/activemq/command/Message;)Lorg/apache/activemq/broker/region/QueueMessageReference;
     340: astore        9
     342: iload_2
     343: ifeq          394
     346: aload         9
     348: invokeinterface #380,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.isExpired:()Z
     353: ifeq          394
     356: aload_0
     357: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
     360: aload         9
     362: invokeinterface #370,  2          // InterfaceMethod org/apache/activemq/broker/Broker.isExpired:(Lorg/apache/activemq/broker/region/MessageReference;)Z
     367: ifeq          383
     370: aload_0
     371: aload_0
     372: invokevirtual #360                // Method createConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
     375: aload         9
     377: invokevirtual #372                // Method messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;)V
     380: goto          406
     383: aload         9
     385: invokeinterface #391,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.decrementReferenceCount:()I
     390: pop
     391: goto          406
     394: aload_3
     395: aload         9
     397: invokeinterface #381,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     402: pop
     403: iinc          7, 1
     406: goto          290
     409: aload_0
     410: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     413: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     418: goto          435
     421: astore        10
     423: aload_0
     424: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     427: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     432: aload         10
     434: athrow
     435: aload_0
     436: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     439: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     442: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     445: goto          463
     448: astore        11
     450: aload_0
     451: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     454: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     457: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     460: aload         11
     462: athrow
     463: aload_0
     464: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     467: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     470: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     473: aload_0
     474: invokevirtual #91                 // Method isPrioritizedMessages:()Z
     477: ifeq          492
     480: new           #83                 // class org/apache/activemq/broker/region/cursors/PrioritizedPendingList
     483: dup
     484: invokespecial #84                 // Method org/apache/activemq/broker/region/cursors/PrioritizedPendingList."<init>":()V
     487: astore        4
     489: goto          501
     492: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
     495: dup
     496: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
     499: astore        4
     501: aload_3
     502: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     507: astore        8
     509: aload         8
     511: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     516: ifeq          695
     519: aload         8
     521: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     526: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     529: astore        9
     531: aload_0
     532: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
     535: aload         9
     537: invokeinterface #517,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.contains:(Lorg/apache/activemq/broker/region/MessageReference;)Z
     542: ifne          570
     545: aload_0
     546: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
     549: aload         9
     551: invokeinterface #188,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
     556: pop
     557: aload         4
     559: aload         9
     561: invokeinterface #188,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
     566: pop
     567: goto          692
     570: aload         9
     572: invokeinterface #391,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.decrementReferenceCount:()I
     577: pop
     578: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     581: ldc_w         #526                // String {}, duplicate message {} paged in, is cursor audit disabled? Removing from store and redirecting to dlq
     584: aload_0
     585: aload         9
     587: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     592: invokeinterface #197,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     597: aload_0
     598: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     601: ifnull        692
     604: aload_0
     605: invokevirtual #360                // Method createConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
     608: astore        10
     610: aload_0
     611: getfield      #89                 // Field store:Lorg/apache/activemq/store/MessageStore;
     614: aload         10
     616: new           #477                // class org/apache/activemq/command/MessageAck
     619: dup
     620: aload         9
     622: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     627: iconst_1
     628: iconst_1
     629: invokespecial #527                // Method org/apache/activemq/command/MessageAck."<init>":(Lorg/apache/activemq/command/Message;BI)V
     632: invokeinterface #528,  3          // InterfaceMethod org/apache/activemq/store/MessageStore.removeMessage:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/MessageAck;)V
     637: aload_0
     638: getfield      #88                 // Field broker:Lorg/apache/activemq/broker/Broker;
     641: invokeinterface #208,  1          // InterfaceMethod org/apache/activemq/broker/Broker.getRoot:()Lorg/apache/activemq/broker/Broker;
     646: aload         10
     648: aload         9
     650: invokeinterface #382,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     655: aconst_null
     656: new           #448                // class java/lang/Throwable
     659: dup
     660: new           #101                // class java/lang/StringBuilder
     663: dup
     664: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     667: ldc_w         #529                // String duplicate paged in from store for
     670: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     673: aload_0
     674: getfield      #86                 // Field destination:Lorg/apache/activemq/command/ActiveMQDestination;
     677: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     680: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     683: invokespecial #530                // Method java/lang/Throwable."<init>":(Ljava/lang/String;)V
     686: invokeinterface #531,  5          // InterfaceMethod org/apache/activemq/broker/Broker.sendToDeadLetterQueue:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/broker/region/Subscription;Ljava/lang/Throwable;)Z
     691: pop
     692: goto          509
     695: aload_0
     696: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     699: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     702: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     705: goto          723
     708: astore        12
     710: aload_0
     711: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     714: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     717: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     720: aload         12
     722: athrow
     723: goto          735
     726: new           #17                 // class org/apache/activemq/broker/region/cursors/OrderedPendingList
     729: dup
     730: invokespecial #18                 // Method org/apache/activemq/broker/region/cursors/OrderedPendingList."<init>":()V
     733: astore        4
     735: aload         4
     737: areturn
    Exception table:
       from    to  target type
          36    47    60   any
          60    62    60   any
         270   409   421   any
         421   423   421   any
         270   435   448   any
         448   450   448   any
         473   695   708   any
         708   710   708   any

  private void doDispatch(org.apache.activemq.broker.region.cursors.PendingList) throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       6: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
       9: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      12: aload_0
      13: getfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      16: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
      21: ifne          36
      24: aload_0
      25: aload_0
      26: aload_0
      27: getfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      30: invokespecial #532                // Method doActualDispatch:(Lorg/apache/activemq/broker/region/cursors/PendingList;)Lorg/apache/activemq/broker/region/cursors/PendingList;
      33: putfield      #22                 // Field redeliveredWaitingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      36: aload_0
      37: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      40: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
      45: ifne          60
      48: aload_0
      49: aload_0
      50: aload_0
      51: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      54: invokespecial #532                // Method doActualDispatch:(Lorg/apache/activemq/broker/region/cursors/PendingList;)Lorg/apache/activemq/broker/region/cursors/PendingList;
      57: putfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      60: aload_1
      61: ifnull        160
      64: aload_1
      65: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
      70: ifne          160
      73: aload_0
      74: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      77: invokeinterface #191,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.isEmpty:()Z
      82: ifeq          102
      85: aload_0
      86: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      89: aload_0
      90: aload_1
      91: invokespecial #532                // Method doActualDispatch:(Lorg/apache/activemq/broker/region/cursors/PendingList;)Lorg/apache/activemq/broker/region/cursors/PendingList;
      94: invokeinterface #515,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addAll:(Lorg/apache/activemq/broker/region/cursors/PendingList;)V
      99: goto          160
     102: aload_1
     103: invokeinterface #516,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.iterator:()Ljava/util/Iterator;
     108: astore_3
     109: aload_3
     110: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     115: ifeq          158
     118: aload_3
     119: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     124: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     127: astore        4
     129: aload_0
     130: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     133: aload         4
     135: invokeinterface #517,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.contains:(Lorg/apache/activemq/broker/region/MessageReference;)Z
     140: ifne          155
     143: aload_0
     144: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     147: aload         4
     149: invokeinterface #188,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.addMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
     154: pop
     155: goto          109
     158: iconst_1
     159: istore_2
     160: aload_0
     161: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     164: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     167: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     170: goto          188
     173: astore        5
     175: aload_0
     176: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     179: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     182: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     185: aload         5
     187: athrow
     188: iload_2
     189: ifeq          196
     192: aload_0
     193: invokespecial #8                  // Method asyncWakeup:()V
     196: return
    Exception table:
       from    to  target type
          12   160   173   any
         173   175   173   any

  private org.apache.activemq.broker.region.cursors.PendingList doActualDispatch(org.apache.activemq.broker.region.cursors.PendingList) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
       7: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      10: aload_0
      11: getfield      #15                 // Field consumers:Ljava/util/List;
      14: invokeinterface #399,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      19: ifeq          36
      22: aload_1
      23: astore_3
      24: aload_0
      25: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      28: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      31: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      34: aload_3
      35: areturn
      36: new           #13                 // class java/util/ArrayList
      39: dup
      40: aload_0
      41: getfield      #15                 // Field consumers:Ljava/util/List;
      44: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      47: astore_2
      48: aload_0
      49: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      52: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      55: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      58: goto          76
      61: astore        4
      63: aload_0
      64: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      67: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      70: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      73: aload         4
      75: athrow
      76: new           #533                // class java/util/HashSet
      79: dup
      80: aload_0
      81: getfield      #15                 // Field consumers:Ljava/util/List;
      84: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
      89: invokespecial #534                // Method java/util/HashSet."<init>":(I)V
      92: astore_3
      93: aload_1
      94: invokeinterface #535,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.iterator:()Ljava/util/Iterator;
      99: astore        4
     101: aload         4
     103: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     108: ifeq          451
     111: aload         4
     113: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     118: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
     121: astore        5
     123: aconst_null
     124: astore        6
     126: aload_2
     127: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     132: astore        7
     134: aload         7
     136: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     141: ifeq          305
     144: aload         7
     146: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     151: checkcast     #172                // class org/apache/activemq/broker/region/Subscription
     154: astore        8
     156: aload         8
     158: instanceof    #161                // class org/apache/activemq/broker/region/QueueBrowserSubscription
     161: ifeq          167
     164: goto          134
     167: aload_3
     168: aload         8
     170: invokeinterface #536,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     175: ifne          302
     178: aload         8
     180: invokeinterface #537,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.isFull:()Z
     185: ifne          280
     188: aload_0
     189: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     192: aload         8
     194: aload         5
     196: invokevirtual #538                // Method org/apache/activemq/broker/region/QueueDispatchSelector.canSelect:(Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/MessageReference;)Z
     199: ifeq          302
     202: aload_0
     203: aload         8
     205: aload         5
     207: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     210: invokevirtual #539                // Method assignMessageGroup:(Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/QueueMessageReference;)Z
     213: ifeq          302
     216: aload         5
     218: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     221: invokeinterface #458,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.isAcked:()Z
     226: ifne          302
     229: aload         8
     231: aload         5
     233: invokeinterface #540,  2          // InterfaceMethod org/apache/activemq/broker/region/Subscription.add:(Lorg/apache/activemq/broker/region/MessageReference;)V
     238: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     241: ldc_w         #541                // String assigned {} to consumer {}
     244: aload         5
     246: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     251: aload         8
     253: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     258: invokevirtual #173                // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     261: invokeinterface #484,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     266: aload         4
     268: invokeinterface #437,  1          // InterfaceMethod java/util/Iterator.remove:()V
     273: aload         8
     275: astore        6
     277: goto          305
     280: aload_3
     281: aload         8
     283: invokeinterface #542,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     288: pop
     289: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
     292: ldc_w         #543                // String Subscription full {}
     295: aload         8
     297: invokeinterface #544,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     302: goto          134
     305: aload         6
     307: ifnonnull     327
     310: aload         5
     312: invokeinterface #545,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.isDropped:()Z
     317: ifeq          327
     320: aload         4
     322: invokeinterface #437,  1          // InterfaceMethod java/util/Iterator.remove:()V
     327: aload         6
     329: ifnonnull     349
     332: aload_2
     333: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
     338: aload_3
     339: invokeinterface #415,  1          // InterfaceMethod java/util/Set.size:()I
     344: if_icmpne     349
     347: aload_1
     348: areturn
     349: aload         6
     351: ifnull        448
     354: aload_0
     355: getfield      #35                 // Field strictOrderDispatch:Z
     358: ifne          448
     361: aload_2
     362: invokeinterface #148,  1          // InterfaceMethod java/util/List.size:()I
     367: iconst_1
     368: if_icmple     448
     371: aload_0
     372: getfield      #77                 // Field dispatchSelector:Lorg/apache/activemq/broker/region/QueueDispatchSelector;
     375: aload         6
     377: invokevirtual #546                // Method org/apache/activemq/broker/region/QueueDispatchSelector.isExclusiveConsumer:(Lorg/apache/activemq/broker/region/Subscription;)Z
     380: ifne          448
     383: aload_0
     384: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     387: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     390: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     393: aload_0
     394: aload         6
     396: invokespecial #168                // Method removeFromConsumerList:(Lorg/apache/activemq/broker/region/Subscription;)Z
     399: ifeq          420
     402: aload_0
     403: aload         6
     405: invokespecial #153                // Method addToConsumerList:(Lorg/apache/activemq/broker/region/Subscription;)V
     408: new           #13                 // class java/util/ArrayList
     411: dup
     412: aload_0
     413: getfield      #15                 // Field consumers:Ljava/util/List;
     416: invokespecial #80                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     419: astore_2
     420: aload_0
     421: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     424: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     427: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     430: goto          448
     433: astore        9
     435: aload_0
     436: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     439: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     442: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     445: aload         9
     447: athrow
     448: goto          101
     451: aload_1
     452: areturn
    Exception table:
       from    to  target type
          10    24    61   any
          36    48    61   any
          61    63    61   any
         393   420   433   any
         433   435   433   any

  protected boolean assignMessageGroup(org.apache.activemq.broker.region.Subscription, org.apache.activemq.broker.region.QueueMessageReference) throws java.lang.Exception;
    Code:
       0: iconst_1
       1: istore_3
       2: aload_2
       3: invokeinterface #547,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getGroupID:()Ljava/lang/String;
       8: astore        4
      10: aload_2
      11: invokeinterface #548,  1          // InterfaceMethod org/apache/activemq/broker/region/QueueMessageReference.getGroupSequence:()I
      16: istore        5
      18: aload         4
      20: ifnull        134
      23: aload_0
      24: invokevirtual #174                // Method getMessageGroupOwners:()Lorg/apache/activemq/broker/region/group/MessageGroupMap;
      27: astore        6
      29: iload         5
      31: iconst_1
      32: if_icmpne     48
      35: aload_0
      36: aload_1
      37: aload         6
      39: aload_2
      40: aload         4
      42: invokevirtual #549                // Method assignGroup:(Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/group/MessageGroupMap;Lorg/apache/activemq/broker/region/MessageReference;Ljava/lang/String;)V
      45: goto          134
      48: aload         6
      50: aload         4
      52: invokeinterface #550,  2          // InterfaceMethod org/apache/activemq/broker/region/group/MessageGroupMap.get:(Ljava/lang/String;)Lorg/apache/activemq/command/ConsumerId;
      57: astore        7
      59: aload         7
      61: ifnonnull     77
      64: aload_0
      65: aload_1
      66: aload         6
      68: aload_2
      69: aload         4
      71: invokevirtual #549                // Method assignGroup:(Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/group/MessageGroupMap;Lorg/apache/activemq/broker/region/MessageReference;Ljava/lang/String;)V
      74: goto          134
      77: aload         7
      79: aload_1
      80: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
      85: invokevirtual #173                // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      88: invokevirtual #551                // Method org/apache/activemq/command/ConsumerId.equals:(Ljava/lang/Object;)Z
      91: ifeq          132
      94: iload         5
      96: ifge          134
      99: aload         6
     101: aload         4
     103: invokeinterface #552,  2          // InterfaceMethod org/apache/activemq/broker/region/group/MessageGroupMap.removeGroup:(Ljava/lang/String;)Lorg/apache/activemq/command/ConsumerId;
     108: pop
     109: aload_1
     110: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     115: aload_1
     116: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
     121: invokevirtual #553                // Method org/apache/activemq/command/ConsumerInfo.getLastDeliveredSequenceId:()J
     124: lconst_1
     125: lsub
     126: invokevirtual #554                // Method org/apache/activemq/command/ConsumerInfo.setLastDeliveredSequenceId:(J)V
     129: goto          134
     132: iconst_0
     133: istore_3
     134: iload_3
     135: ireturn

  protected void assignGroup(org.apache.activemq.broker.region.Subscription, org.apache.activemq.broker.region.group.MessageGroupMap, org.apache.activemq.broker.region.MessageReference, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_2
       1: aload         4
       3: aload_1
       4: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
       9: invokevirtual #173                // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      12: invokeinterface #555,  3          // InterfaceMethod org/apache/activemq/broker/region/group/MessageGroupMap.put:(Ljava/lang/String;Lorg/apache/activemq/command/ConsumerId;)V
      17: aload_3
      18: invokeinterface #390,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      23: astore        5
      25: aload         5
      27: iconst_1
      28: invokevirtual #556                // Method org/apache/activemq/command/Message.setJMSXGroupFirstForConsumer:(Z)V
      31: aload_1
      32: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
      37: aload_1
      38: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
      43: invokevirtual #553                // Method org/apache/activemq/command/ConsumerInfo.getLastDeliveredSequenceId:()J
      46: lconst_1
      47: ladd
      48: invokevirtual #554                // Method org/apache/activemq/command/ConsumerInfo.setLastDeliveredSequenceId:(J)V
      51: return

  protected void pageInMessages(boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_0
       2: iload_1
       3: iconst_1
       4: invokespecial #514                // Method doPageInForDispatch:(ZZ)Lorg/apache/activemq/broker/region/cursors/PendingList;
       7: invokespecial #192                // Method doDispatch:(Lorg/apache/activemq/broker/region/cursors/PendingList;)V
      10: return

  private void addToConsumerList(org.apache.activemq.broker.region.Subscription);
    Code:
       0: aload_0
       1: getfield      #34                 // Field useConsumerPriority:Z
       4: ifeq          32
       7: aload_0
       8: getfield      #15                 // Field consumers:Ljava/util/List;
      11: aload_1
      12: invokeinterface #381,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      17: pop
      18: aload_0
      19: getfield      #15                 // Field consumers:Ljava/util/List;
      22: aload_0
      23: getfield      #65                 // Field orderedCompare:Ljava/util/Comparator;
      26: invokestatic  #557                // Method java/util/Collections.sort:(Ljava/util/List;Ljava/util/Comparator;)V
      29: goto          43
      32: aload_0
      33: getfield      #15                 // Field consumers:Ljava/util/List;
      36: aload_1
      37: invokeinterface #381,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      42: pop
      43: return

  private boolean removeFromConsumerList(org.apache.activemq.broker.region.Subscription);
    Code:
       0: aload_0
       1: getfield      #15                 // Field consumers:Ljava/util/List;
       4: aload_1
       5: invokeinterface #558,  2          // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      10: ireturn

  private int getConsumerMessageCountBeforeFull() throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore_1
       2: iconst_0
       3: istore_2
       4: aload_0
       5: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       8: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      11: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      14: aload_0
      15: getfield      #15                 // Field consumers:Ljava/util/List;
      18: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      23: astore_3
      24: aload_3
      25: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      30: ifeq          79
      33: aload_3
      34: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      39: checkcast     #172                // class org/apache/activemq/broker/region/Subscription
      42: astore        4
      44: iload_2
      45: aload         4
      47: invokeinterface #559,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getPrefetchSize:()I
      52: ifne          59
      55: iconst_1
      56: goto          60
      59: iconst_0
      60: ior
      61: istore_2
      62: aload         4
      64: invokeinterface #560,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.countBeforeFull:()I
      69: istore        5
      71: iload_1
      72: iload         5
      74: iadd
      75: istore_1
      76: goto          24
      79: aload_0
      80: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      83: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      86: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      89: goto          107
      92: astore        6
      94: aload_0
      95: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      98: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     101: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     104: aload         6
     106: athrow
     107: iload_1
     108: ifne          117
     111: iload_2
     112: ifeq          117
     115: iconst_1
     116: istore_1
     117: iload_1
     118: ireturn
    Exception table:
       from    to  target type
          14    79    92   any
          92    94    92   any

  public void processDispatchNotification(org.apache.activemq.command.MessageDispatchNotification) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #561                // Method getMatchingSubscription:(Lorg/apache/activemq/command/MessageDispatchNotification;)Lorg/apache/activemq/broker/region/Subscription;
       5: astore_2
       6: aload_2
       7: ifnull        30
      10: aload_0
      11: aload_1
      12: invokespecial #562                // Method getMatchingMessage:(Lorg/apache/activemq/command/MessageDispatchNotification;)Lorg/apache/activemq/broker/region/QueueMessageReference;
      15: astore_3
      16: aload_2
      17: aload_3
      18: invokeinterface #540,  2          // InterfaceMethod org/apache/activemq/broker/region/Subscription.add:(Lorg/apache/activemq/broker/region/MessageReference;)V
      23: aload_2
      24: aload_1
      25: invokeinterface #563,  2          // InterfaceMethod org/apache/activemq/broker/region/Subscription.processMessageDispatchNotification:(Lorg/apache/activemq/command/MessageDispatchNotification;)V
      30: return

  private org.apache.activemq.broker.region.QueueMessageReference getMatchingMessage(org.apache.activemq.command.MessageDispatchNotification) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: invokevirtual #564                // Method org/apache/activemq/command/MessageDispatchNotification.getMessageId:()Lorg/apache/activemq/command/MessageId;
       6: astore_3
       7: aload_0
       8: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      11: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      14: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      17: aload_0
      18: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      21: invokeinterface #516,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.iterator:()Ljava/util/Iterator;
      26: astore        4
      28: aload         4
      30: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      35: ifeq          88
      38: aload         4
      40: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      45: checkcast     #177                // class org/apache/activemq/broker/region/MessageReference
      48: astore        5
      50: aload_3
      51: aload         5
      53: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      58: invokevirtual #394                // Method org/apache/activemq/command/MessageId.equals:(Ljava/lang/Object;)Z
      61: ifeq          85
      64: aload         5
      66: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
      69: astore_2
      70: aload_0
      71: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
      74: aload         5
      76: invokeinterface #373,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.remove:(Lorg/apache/activemq/broker/region/MessageReference;)Lorg/apache/activemq/broker/region/cursors/PendingNode;
      81: pop
      82: goto          88
      85: goto          28
      88: aload_0
      89: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      92: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      95: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      98: goto          116
     101: astore        6
     103: aload_0
     104: getfield      #20                 // Field pagedInPendingDispatchLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     107: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     110: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     113: aload         6
     115: athrow
     116: aload_2
     117: ifnonnull     172
     120: aload_0
     121: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     124: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     127: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
     130: aload_0
     131: getfield      #19                 // Field pagedInMessages:Lorg/apache/activemq/broker/region/cursors/PendingList;
     134: aload_3
     135: invokeinterface #386,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.get:(Lorg/apache/activemq/command/MessageId;)Lorg/apache/activemq/broker/region/MessageReference;
     140: checkcast     #183                // class org/apache/activemq/broker/region/QueueMessageReference
     143: astore_2
     144: aload_0
     145: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     148: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     151: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     154: goto          172
     157: astore        7
     159: aload_0
     160: getfield      #16                 // Field pagedInMessagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     163: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     166: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     169: aload         7
     171: athrow
     172: aload_2
     173: ifnonnull     326
     176: aload_0
     177: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     180: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     183: invokevirtual #146                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
     186: aload_0
     187: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     190: aload_0
     191: invokevirtual #126                // Method getMaxPageSize:()I
     194: invokeinterface #524,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setMaxBatchSize:(I)V
     199: aload_0
     200: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     203: invokeinterface #387,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
     208: aload_0
     209: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     212: invokeinterface #388,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasNext:()Z
     217: ifeq          272
     220: aload_0
     221: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     224: invokeinterface #389,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.next:()Lorg/apache/activemq/broker/region/MessageReference;
     229: astore        4
     231: aload_0
     232: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     235: invokeinterface #525,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.remove:()V
     240: aload_3
     241: aload         4
     243: invokeinterface #178,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     248: invokevirtual #394                // Method org/apache/activemq/command/MessageId.equals:(Ljava/lang/Object;)Z
     251: ifeq          269
     254: aload_0
     255: aload         4
     257: invokeinterface #390,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
     262: invokespecial #3                  // Method createMessageReference:(Lorg/apache/activemq/command/Message;)Lorg/apache/activemq/broker/region/QueueMessageReference;
     265: astore_2
     266: goto          272
     269: goto          208
     272: aload_0
     273: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     276: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     281: goto          298
     284: astore        8
     286: aload_0
     287: getfield      #85                 // Field messages:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     290: invokeinterface #395,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     295: aload         8
     297: athrow
     298: aload_0
     299: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     302: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     305: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     308: goto          326
     311: astore        9
     313: aload_0
     314: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     317: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     320: invokevirtual #160                // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     323: aload         9
     325: athrow
     326: aload_2
     327: ifnonnull     349
     330: aload_0
     331: aload_3
     332: invokevirtual #565                // Method loadMessage:(Lorg/apache/activemq/command/MessageId;)Lorg/apache/activemq/command/Message;
     335: astore        4
     337: aload         4
     339: ifnull        349
     342: aload_0
     343: aload         4
     345: invokespecial #3                  // Method createMessageReference:(Lorg/apache/activemq/command/Message;)Lorg/apache/activemq/broker/region/QueueMessageReference;
     348: astore_2
     349: aload_2
     350: ifnonnull     428
     353: new           #198                // class javax/jms/JMSException
     356: dup
     357: new           #101                // class java/lang/StringBuilder
     360: dup
     361: invokespecial #102                // Method java/lang/StringBuilder."<init>":()V
     364: ldc_w         #566                // String Slave broker out of sync with master - Message:
     367: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     370: aload_1
     371: invokevirtual #564                // Method org/apache/activemq/command/MessageDispatchNotification.getMessageId:()Lorg/apache/activemq/command/MessageId;
     374: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     377: ldc_w         #567                // String  on
     380: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     383: aload_1
     384: invokevirtual #568                // Method org/apache/activemq/command/MessageDispatchNotification.getDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     387: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     390: ldc_w         #569                // String  does not exist among pending(
     393: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     396: aload_0
     397: getfield      #21                 // Field pagedInPendingDispatch:Lorg/apache/activemq/broker/region/cursors/PendingList;
     400: invokeinterface #374,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingList.size:()I
     405: invokevirtual #299                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     408: ldc_w         #570                // String ) for subscription:
     411: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     414: aload_1
     415: invokevirtual #571                // Method org/apache/activemq/command/MessageDispatchNotification.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     418: invokevirtual #200                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     421: invokevirtual #106                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     424: invokespecial #202                // Method javax/jms/JMSException."<init>":(Ljava/lang/String;)V
     427: athrow
     428: aload_2
     429: areturn
    Exception table:
       from    to  target type
          17    88   101   any
         101   103   101   any
         130   144   157   any
         157   159   157   any
         186   272   284   any
         284   286   284   any
         186   298   311   any
         311   313   311   any

  private org.apache.activemq.broker.region.Subscription getMatchingSubscription(org.apache.activemq.command.MessageDispatchNotification) throws javax.jms.JMSException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       6: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
       9: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      12: aload_0
      13: getfield      #15                 // Field consumers:Ljava/util/List;
      16: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      21: astore_3
      22: aload_3
      23: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      28: ifeq          71
      31: aload_3
      32: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      37: checkcast     #172                // class org/apache/activemq/broker/region/Subscription
      40: astore        4
      42: aload_1
      43: invokevirtual #571                // Method org/apache/activemq/command/MessageDispatchNotification.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      46: aload         4
      48: invokeinterface #154,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getConsumerInfo:()Lorg/apache/activemq/command/ConsumerInfo;
      53: invokevirtual #173                // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      56: invokevirtual #551                // Method org/apache/activemq/command/ConsumerId.equals:(Ljava/lang/Object;)Z
      59: ifeq          68
      62: aload         4
      64: astore_2
      65: goto          71
      68: goto          22
      71: aload_0
      72: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      75: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      78: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      81: goto          99
      84: astore        5
      86: aload_0
      87: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      90: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      93: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      96: aload         5
      98: athrow
      99: aload_2
     100: areturn
    Exception table:
       from    to  target type
          12    71    84   any
          84    86    84   any

  public void onUsageChanged(org.apache.activemq.usage.Usage, int, int);
    Code:
       0: iload_2
       1: iload_3
       2: if_icmple     9
       5: aload_0
       6: invokespecial #8                  // Method asyncWakeup:()V
       9: return

  protected org.slf4j.Logger getLog();
    Code:
       0: getstatic     #133                // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  protected boolean isOptimizeStorage();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: invokevirtual #572                // Method isDoOptimzeMessageStorage:()Z
       6: ifeq          139
       9: aload_0
      10: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      13: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      16: invokevirtual #79                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      19: aload_0
      20: getfield      #15                 // Field consumers:Ljava/util/List;
      23: invokeinterface #399,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      28: ifne          111
      31: iconst_1
      32: istore_1
      33: aload_0
      34: getfield      #15                 // Field consumers:Ljava/util/List;
      37: invokeinterface #169,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      42: astore_2
      43: aload_2
      44: invokeinterface #170,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      49: ifeq          111
      52: aload_2
      53: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      58: checkcast     #172                // class org/apache/activemq/broker/region/Subscription
      61: astore_3
      62: aload_3
      63: invokeinterface #559,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getPrefetchSize:()I
      68: ifne          76
      71: iconst_0
      72: istore_1
      73: goto          111
      76: aload_3
      77: invokeinterface #573,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.isSlowConsumer:()Z
      82: ifeq          90
      85: iconst_0
      86: istore_1
      87: goto          111
      90: aload_3
      91: invokeinterface #574,  1          // InterfaceMethod org/apache/activemq/broker/region/Subscription.getInFlightUsage:()I
      96: aload_0
      97: invokevirtual #575                // Method getOptimizeMessageStoreInFlightLimit:()I
     100: if_icmple     108
     103: iconst_0
     104: istore_1
     105: goto          111
     108: goto          43
     111: aload_0
     112: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     115: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     118: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     121: goto          139
     124: astore        4
     126: aload_0
     127: getfield      #12                 // Field consumersLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     130: invokevirtual #78                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     133: invokevirtual #81                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     136: aload         4
     138: athrow
     139: iload_1
     140: ireturn
    Exception table:
       from    to  target type
          19   111   124   any
         124   126   124   any

  static void access$000(org.apache.activemq.broker.region.Queue);
    Code:
       0: aload_0
       1: invokespecial #8                  // Method asyncWakeup:()V
       4: return

  static void access$100(org.apache.activemq.broker.region.Queue);
    Code:
       0: aload_0
       1: invokespecial #7                  // Method expireMessages:()V
       4: return

  static java.util.Map access$200(org.apache.activemq.broker.region.Queue);
    Code:
       0: aload_0
       1: getfield      #6                  // Field messagesWaitingForSpace:Ljava/util/Map;
       4: areturn

  static org.apache.activemq.broker.region.group.MessageGroupMap access$300(org.apache.activemq.broker.region.Queue);
    Code:
       0: aload_0
       1: getfield      #5                  // Field messageGroupOwners:Lorg/apache/activemq/broker/region/group/MessageGroupMap;
       4: areturn

  static java.util.concurrent.locks.ReentrantReadWriteLock access$400(org.apache.activemq.broker.region.Queue);
    Code:
       0: aload_0
       1: getfield      #4                  // Field messagesLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: areturn

  static org.apache.activemq.broker.region.QueueMessageReference access$500(org.apache.activemq.broker.region.Queue, org.apache.activemq.command.Message);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #3                  // Method createMessageReference:(Lorg/apache/activemq/command/Message;)Lorg/apache/activemq/broker/region/QueueMessageReference;
       5: areturn

  static java.util.LinkedList access$600(org.apache.activemq.broker.region.Queue);
    Code:
       0: aload_0
       1: getfield      #2                  // Field orderIndexUpdates:Ljava/util/LinkedList;
       4: areturn

  static void access$700(org.apache.activemq.broker.region.Queue, org.apache.activemq.broker.region.QueueMessageReference);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method dropMessage:(Lorg/apache/activemq/broker/region/QueueMessageReference;)V
       5: return

  static {};
    Code:
       0: ldc_w         #576                // class org/apache/activemq/broker/region/Queue
       3: invokestatic  #577                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #133                // Field LOG:Lorg/slf4j/Logger;
       9: return
}
