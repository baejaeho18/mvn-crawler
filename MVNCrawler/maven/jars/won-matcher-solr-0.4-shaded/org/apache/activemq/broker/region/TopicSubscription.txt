Compiled from "TopicSubscription.java"
public class org.apache.activemq.broker.region.TopicSubscription extends org.apache.activemq.broker.region.AbstractSubscription {
  private static final org.slf4j.Logger LOG;

  private static final java.util.concurrent.atomic.AtomicLong CURSOR_NAME_COUNTER;

  protected org.apache.activemq.broker.region.cursors.PendingMessageCursor matched;

  protected final org.apache.activemq.usage.SystemUsage usageManager;

  protected java.util.concurrent.atomic.AtomicLong dispatchedCounter;

  boolean singleDestination;

  org.apache.activemq.broker.region.Destination destination;

  private final org.apache.activemq.thread.Scheduler scheduler;

  private int maximumPendingMessages;

  private org.apache.activemq.broker.region.policy.MessageEvictionStrategy messageEvictionStrategy;

  private int discarded;

  private final java.lang.Object matchedListMutex;

  private final java.util.concurrent.atomic.AtomicLong enqueueCounter;

  private final java.util.concurrent.atomic.AtomicLong dequeueCounter;

  private final java.util.concurrent.atomic.AtomicInteger prefetchExtension;

  private int memoryUsageHighWaterMark;

  protected int maxProducersToAudit;

  protected int maxAuditDepth;

  protected boolean enableAudit;

  protected org.apache.activemq.ActiveMQMessageAudit audit;

  protected boolean active;

  public org.apache.activemq.broker.region.TopicSubscription(org.apache.activemq.broker.Broker, org.apache.activemq.broker.ConnectionContext, org.apache.activemq.command.ConsumerInfo, org.apache.activemq.usage.SystemUsage) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #4                  // Method org/apache/activemq/broker/region/AbstractSubscription."<init>":(Lorg/apache/activemq/broker/Broker;Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/ConsumerInfo;)V
       7: aload_0
       8: new           #5                  // class java/util/concurrent/atomic/AtomicLong
      11: dup
      12: invokespecial #6                  // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      15: putfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      18: aload_0
      19: iconst_1
      20: putfield      #8                  // Field singleDestination:Z
      23: aload_0
      24: iconst_m1
      25: putfield      #9                  // Field maximumPendingMessages:I
      28: aload_0
      29: new           #10                 // class org/apache/activemq/broker/region/policy/OldestMessageEvictionStrategy
      32: dup
      33: invokespecial #11                 // Method org/apache/activemq/broker/region/policy/OldestMessageEvictionStrategy."<init>":()V
      36: putfield      #12                 // Field messageEvictionStrategy:Lorg/apache/activemq/broker/region/policy/MessageEvictionStrategy;
      39: aload_0
      40: new           #13                 // class java/lang/Object
      43: dup
      44: invokespecial #14                 // Method java/lang/Object."<init>":()V
      47: putfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
      50: aload_0
      51: new           #5                  // class java/util/concurrent/atomic/AtomicLong
      54: dup
      55: lconst_0
      56: invokespecial #16                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      59: putfield      #17                 // Field enqueueCounter:Ljava/util/concurrent/atomic/AtomicLong;
      62: aload_0
      63: new           #5                  // class java/util/concurrent/atomic/AtomicLong
      66: dup
      67: lconst_0
      68: invokespecial #16                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      71: putfield      #3                  // Field dequeueCounter:Ljava/util/concurrent/atomic/AtomicLong;
      74: aload_0
      75: new           #18                 // class java/util/concurrent/atomic/AtomicInteger
      78: dup
      79: iconst_0
      80: invokespecial #19                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      83: putfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      86: aload_0
      87: bipush        95
      89: putfield      #21                 // Field memoryUsageHighWaterMark:I
      92: aload_0
      93: sipush        1024
      96: putfield      #22                 // Field maxProducersToAudit:I
      99: aload_0
     100: sipush        1000
     103: putfield      #23                 // Field maxAuditDepth:I
     106: aload_0
     107: iconst_0
     108: putfield      #24                 // Field enableAudit:Z
     111: aload_0
     112: iconst_0
     113: putfield      #25                 // Field active:Z
     116: aload_0
     117: aload         4
     119: putfield      #26                 // Field usageManager:Lorg/apache/activemq/usage/SystemUsage;
     122: new           #27                 // class java/lang/StringBuilder
     125: dup
     126: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     129: ldc           #29                 // String TopicSubscription:
     131: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: getstatic     #31                 // Field CURSOR_NAME_COUNTER:Ljava/util/concurrent/atomic/AtomicLong;
     137: invokevirtual #32                 // Method java/util/concurrent/atomic/AtomicLong.getAndIncrement:()J
     140: invokevirtual #33                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     143: ldc           #34                 // String [
     145: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: aload_3
     149: invokevirtual #35                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     152: invokevirtual #36                 // Method org/apache/activemq/command/ConsumerId.toString:()Ljava/lang/String;
     155: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     158: ldc           #37                 // String ]
     160: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     163: invokevirtual #38                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     166: astore        5
     168: aload_3
     169: invokevirtual #39                 // Method org/apache/activemq/command/ConsumerInfo.getDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
     172: invokevirtual #40                 // Method org/apache/activemq/command/ActiveMQDestination.isTemporary:()Z
     175: ifne          187
     178: aload_1
     179: invokeinterface #41,  1           // InterfaceMethod org/apache/activemq/broker/Broker.getTempDataStore:()Lorg/apache/activemq/store/PListStore;
     184: ifnonnull     202
     187: aload_0
     188: new           #42                 // class org/apache/activemq/broker/region/cursors/VMPendingMessageCursor
     191: dup
     192: iconst_0
     193: invokespecial #43                 // Method org/apache/activemq/broker/region/cursors/VMPendingMessageCursor."<init>":(Z)V
     196: putfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     199: goto          217
     202: aload_0
     203: new           #45                 // class org/apache/activemq/broker/region/cursors/FilePendingMessageCursor
     206: dup
     207: aload_1
     208: aload         5
     210: iconst_0
     211: invokespecial #46                 // Method org/apache/activemq/broker/region/cursors/FilePendingMessageCursor."<init>":(Lorg/apache/activemq/broker/Broker;Ljava/lang/String;Z)V
     214: putfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     217: aload_0
     218: aload_1
     219: invokeinterface #47,  1           // InterfaceMethod org/apache/activemq/broker/Broker.getScheduler:()Lorg/apache/activemq/thread/Scheduler;
     224: putfield      #48                 // Field scheduler:Lorg/apache/activemq/thread/Scheduler;
     227: return

  public void init() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       4: aload_0
       5: getfield      #26                 // Field usageManager:Lorg/apache/activemq/usage/SystemUsage;
       8: invokeinterface #49,  2           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setSystemUsage:(Lorg/apache/activemq/usage/SystemUsage;)V
      13: aload_0
      14: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      17: aload_0
      18: invokevirtual #50                 // Method getCursorMemoryHighWaterMark:()I
      21: invokeinterface #51,  2           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.setMemoryUsageHighWaterMark:(I)V
      26: aload_0
      27: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      30: invokeinterface #52,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.start:()V
      35: aload_0
      36: getfield      #24                 // Field enableAudit:Z
      39: ifeq          61
      42: aload_0
      43: new           #53                 // class org/apache/activemq/ActiveMQMessageAudit
      46: dup
      47: aload_0
      48: getfield      #23                 // Field maxAuditDepth:I
      51: aload_0
      52: getfield      #22                 // Field maxProducersToAudit:I
      55: invokespecial #54                 // Method org/apache/activemq/ActiveMQMessageAudit."<init>":(II)V
      58: putfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      61: aload_0
      62: iconst_1
      63: putfield      #25                 // Field active:Z
      66: return

  public void add(org.apache.activemq.broker.region.MessageReference) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #56                 // Method isDuplicate:(Lorg/apache/activemq/broker/region/MessageReference;)Z
       5: ifeq          9
       8: return
       9: new           #57                 // class org/apache/activemq/broker/region/IndirectMessageReference
      12: dup
      13: aload_1
      14: invokeinterface #58,  1           // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
      19: invokespecial #59                 // Method org/apache/activemq/broker/region/IndirectMessageReference."<init>":(Lorg/apache/activemq/command/Message;)V
      22: astore_1
      23: aload_0
      24: getfield      #17                 // Field enqueueCounter:Ljava/util/concurrent/atomic/AtomicLong;
      27: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      30: pop2
      31: aload_0
      32: invokevirtual #61                 // Method isFull:()Z
      35: ifne          63
      38: aload_0
      39: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      42: invokeinterface #62,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isEmpty:()Z
      47: ifeq          63
      50: aload_0
      51: aload_1
      52: invokespecial #63                 // Method dispatch:(Lorg/apache/activemq/broker/region/MessageReference;)V
      55: aload_0
      56: iconst_0
      57: invokevirtual #64                 // Method setSlowConsumer:(Z)V
      60: goto          697
      63: aload_0
      64: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
      67: invokevirtual #66                 // Method org/apache/activemq/command/ConsumerInfo.getPrefetchSize:()I
      70: iconst_1
      71: if_icmple     160
      74: aload_0
      75: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      78: invokeinterface #67,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
      83: aload_0
      84: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
      87: invokevirtual #66                 // Method org/apache/activemq/command/ConsumerInfo.getPrefetchSize:()I
      90: if_icmple     160
      93: aload_0
      94: invokevirtual #68                 // Method isSlowConsumer:()Z
      97: ifne          160
     100: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     103: ldc           #70                 // String {}: has twice its prefetch limit pending, without an ack; it appears to be slow
     105: aload_0
     106: invokevirtual #71                 // Method toString:()Ljava/lang/String;
     109: invokeinterface #72,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     114: aload_0
     115: iconst_1
     116: invokevirtual #64                 // Method setSlowConsumer:(Z)V
     119: aload_0
     120: getfield      #73                 // Field destinations:Ljava/util/concurrent/CopyOnWriteArrayList;
     123: invokevirtual #74                 // Method java/util/concurrent/CopyOnWriteArrayList.iterator:()Ljava/util/Iterator;
     126: astore_2
     127: aload_2
     128: invokeinterface #75,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     133: ifeq          160
     136: aload_2
     137: invokeinterface #76,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     142: checkcast     #77                 // class org/apache/activemq/broker/region/Destination
     145: astore_3
     146: aload_3
     147: aload_0
     148: invokevirtual #78                 // Method getContext:()Lorg/apache/activemq/broker/ConnectionContext;
     151: aload_0
     152: invokeinterface #79,  3           // InterfaceMethod org/apache/activemq/broker/region/Destination.slowConsumer:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;)V
     157: goto          127
     160: aload_0
     161: getfield      #9                  // Field maximumPendingMessages:I
     164: ifeq          697
     167: iconst_0
     168: istore_2
     169: aload_0
     170: getfield      #25                 // Field active:Z
     173: ifeq          364
     176: aload_0
     177: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
     180: dup
     181: astore_3
     182: monitorenter
     183: aload_0
     184: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     187: invokeinterface #80,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isFull:()Z
     192: ifeq          328
     195: aload_0
     196: invokevirtual #78                 // Method getContext:()Lorg/apache/activemq/broker/ConnectionContext;
     199: invokevirtual #81                 // Method org/apache/activemq/broker/ConnectionContext.getStopping:()Ljava/util/concurrent/atomic/AtomicBoolean;
     202: invokevirtual #82                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     205: ifeq          239
     208: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     211: ldc           #83                 // String {}: stopped waiting for space in pendingMessage cursor for: {}
     213: aload_0
     214: invokevirtual #71                 // Method toString:()Ljava/lang/String;
     217: aload_1
     218: invokeinterface #84,  1           // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
     223: invokeinterface #85,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     228: aload_0
     229: getfield      #17                 // Field enqueueCounter:Ljava/util/concurrent/atomic/AtomicLong;
     232: invokevirtual #86                 // Method java/util/concurrent/atomic/AtomicLong.decrementAndGet:()J
     235: pop2
     236: aload_3
     237: monitorexit
     238: return
     239: iload_2
     240: ifne          315
     243: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     246: ldc           #87                 // String {}: Pending message cursor [{}] is full, temp usag ({}%) or memory usage ({}%) limit reached, blocking message add() pending the release of resources.
     248: iconst_4
     249: anewarray     #13                 // class java/lang/Object
     252: dup
     253: iconst_0
     254: aload_0
     255: invokevirtual #71                 // Method toString:()Ljava/lang/String;
     258: aastore
     259: dup
     260: iconst_1
     261: aload_0
     262: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     265: aastore
     266: dup
     267: iconst_2
     268: aload_0
     269: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     272: invokeinterface #88,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.getSystemUsage:()Lorg/apache/activemq/usage/SystemUsage;
     277: invokevirtual #89                 // Method org/apache/activemq/usage/SystemUsage.getTempUsage:()Lorg/apache/activemq/usage/TempUsage;
     280: invokevirtual #90                 // Method org/apache/activemq/usage/TempUsage.getPercentUsage:()I
     283: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     286: aastore
     287: dup
     288: iconst_3
     289: aload_0
     290: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     293: invokeinterface #88,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.getSystemUsage:()Lorg/apache/activemq/usage/SystemUsage;
     298: invokevirtual #92                 // Method org/apache/activemq/usage/SystemUsage.getMemoryUsage:()Lorg/apache/activemq/usage/MemoryUsage;
     301: invokevirtual #93                 // Method org/apache/activemq/usage/MemoryUsage.getPercentUsage:()I
     304: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     307: aastore
     308: invokeinterface #94,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     313: iconst_1
     314: istore_2
     315: aload_0
     316: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
     319: ldc2_w        #95                 // long 20l
     322: invokevirtual #97                 // Method java/lang/Object.wait:(J)V
     325: goto          183
     328: aload_0
     329: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     332: aload_1
     333: ldc2_w        #98                 // long 10l
     336: invokeinterface #100,  4          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.tryAddMessageLast:(Lorg/apache/activemq/broker/region/MessageReference;J)Z
     341: ifeq          349
     344: aload_3
     345: monitorexit
     346: goto          364
     349: aload_3
     350: monitorexit
     351: goto          361
     354: astore        4
     356: aload_3
     357: monitorexit
     358: aload         4
     360: athrow
     361: goto          169
     364: aload_0
     365: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
     368: dup
     369: astore_3
     370: monitorenter
     371: aload_0
     372: getfield      #9                  // Field maximumPendingMessages:I
     375: ifle          681
     378: aload_0
     379: getfield      #12                 // Field messageEvictionStrategy:Lorg/apache/activemq/broker/region/policy/MessageEvictionStrategy;
     382: invokeinterface #101,  1          // InterfaceMethod org/apache/activemq/broker/region/policy/MessageEvictionStrategy.getEvictExpiredMessagesHighWatermark:()I
     387: istore        4
     389: aload_0
     390: getfield      #9                  // Field maximumPendingMessages:I
     393: ifle          411
     396: aload_0
     397: getfield      #9                  // Field maximumPendingMessages:I
     400: iload         4
     402: if_icmpge     411
     405: aload_0
     406: getfield      #9                  // Field maximumPendingMessages:I
     409: istore        4
     411: aload_0
     412: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     415: invokeinterface #62,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isEmpty:()Z
     420: ifne          441
     423: aload_0
     424: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     427: invokeinterface #67,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
     432: iload         4
     434: if_icmple     441
     437: aload_0
     438: invokevirtual #102                // Method removeExpiredMessages:()V
     441: aload_0
     442: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     445: invokeinterface #62,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isEmpty:()Z
     450: ifne          681
     453: aload_0
     454: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     457: invokeinterface #67,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
     462: aload_0
     463: getfield      #9                  // Field maximumPendingMessages:I
     466: if_icmple     681
     469: aload_0
     470: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     473: invokeinterface #67,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
     478: aload_0
     479: getfield      #9                  // Field maximumPendingMessages:I
     482: isub
     483: istore        5
     485: sipush        1000
     488: iload         5
     490: invokestatic  #103                // Method java/lang/Math.max:(II)I
     493: istore        5
     495: aconst_null
     496: astore        6
     498: aconst_null
     499: astore        7
     501: aload_0
     502: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     505: dup
     506: astore        8
     508: monitorenter
     509: aload_0
     510: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     513: iload         5
     515: invokeinterface #104,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.pageInList:(I)Ljava/util/LinkedList;
     520: astore        6
     522: aload_0
     523: getfield      #12                 // Field messageEvictionStrategy:Lorg/apache/activemq/broker/region/policy/MessageEvictionStrategy;
     526: aload         6
     528: invokeinterface #105,  2          // InterfaceMethod org/apache/activemq/broker/region/policy/MessageEvictionStrategy.evictMessages:(Ljava/util/LinkedList;)[Lorg/apache/activemq/broker/region/MessageReference;
     533: astore        7
     535: aload         6
     537: invokevirtual #106                // Method java/util/LinkedList.iterator:()Ljava/util/Iterator;
     540: astore        9
     542: aload         9
     544: invokeinterface #75,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     549: ifeq          575
     552: aload         9
     554: invokeinterface #76,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     559: checkcast     #107                // class org/apache/activemq/broker/region/MessageReference
     562: astore        10
     564: aload         10
     566: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
     571: pop
     572: goto          542
     575: aload         8
     577: monitorexit
     578: goto          589
     581: astore        11
     583: aload         8
     585: monitorexit
     586: aload         11
     588: athrow
     589: iconst_0
     590: istore        8
     592: aload         7
     594: ifnull        631
     597: aload         7
     599: arraylength
     600: istore        8
     602: iconst_0
     603: istore        9
     605: iload         9
     607: iload         8
     609: if_icmpge     631
     612: aload         7
     614: iload         9
     616: aaload
     617: astore        10
     619: aload_0
     620: aload         10
     622: invokespecial #109                // Method discard:(Lorg/apache/activemq/broker/region/MessageReference;)V
     625: iinc          9, 1
     628: goto          605
     631: iload         8
     633: ifne          678
     636: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
     639: ldc           #110                // String No messages to evict returned for {} from eviction strategy: {} out of {} candidates
     641: iconst_3
     642: anewarray     #13                 // class java/lang/Object
     645: dup
     646: iconst_0
     647: aload_0
     648: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     651: aastore
     652: dup
     653: iconst_1
     654: aload_0
     655: getfield      #12                 // Field messageEvictionStrategy:Lorg/apache/activemq/broker/region/policy/MessageEvictionStrategy;
     658: aastore
     659: dup
     660: iconst_2
     661: aload         6
     663: invokevirtual #112                // Method java/util/LinkedList.size:()I
     666: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     669: aastore
     670: invokeinterface #113,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     675: goto          681
     678: goto          441
     681: aload_3
     682: monitorexit
     683: goto          693
     686: astore        12
     688: aload_3
     689: monitorexit
     690: aload         12
     692: athrow
     693: aload_0
     694: invokespecial #2                  // Method dispatchMatched:()V
     697: return
    Exception table:
       from    to  target type
         183   238   354   any
         239   346   354   any
         349   351   354   any
         354   358   354   any
         509   578   581   any
         581   586   581   any
         371   683   686   any
         686   690   686   any

  private boolean isDuplicate(org.apache.activemq.broker.region.MessageReference);
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: getfield      #24                 // Field enableAudit:Z
       6: ifeq          57
       9: aload_0
      10: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      13: ifnull        57
      16: aload_0
      17: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      20: aload_1
      21: invokevirtual #114                // Method org/apache/activemq/ActiveMQMessageAudit.isDuplicate:(Lorg/apache/activemq/broker/region/MessageReference;)Z
      24: istore_2
      25: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      28: invokeinterface #115,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      33: ifeq          57
      36: iload_2
      37: ifeq          57
      40: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      43: ldc           #116                // String {}, ignoring duplicate add: {}
      45: aload_0
      46: aload_1
      47: invokeinterface #84,  1           // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      52: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      57: iload_2
      58: ireturn

  protected void removeExpiredMessages() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       4: invokeinterface #118,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
       9: aload_0
      10: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      13: invokeinterface #119,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasNext:()Z
      18: ifeq          116
      21: aload_0
      22: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      25: invokeinterface #120,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.next:()Lorg/apache/activemq/broker/region/MessageReference;
      30: astore_1
      31: aload_1
      32: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
      37: pop
      38: aload_0
      39: getfield      #121                // Field broker:Lorg/apache/activemq/broker/Broker;
      42: aload_1
      43: invokeinterface #122,  2          // InterfaceMethod org/apache/activemq/broker/Broker.isExpired:(Lorg/apache/activemq/broker/region/MessageReference;)Z
      48: ifeq          113
      51: aload_0
      52: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      55: invokeinterface #123,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.remove:()V
      60: aload_0
      61: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      64: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      67: pop2
      68: aload_1
      69: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
      74: pop
      75: aload_1
      76: invokeinterface #124,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getRegionDestination:()Lorg/apache/activemq/command/Message$MessageDestination;
      81: checkcast     #77                 // class org/apache/activemq/broker/region/Destination
      84: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      89: invokevirtual #126                // Method org/apache/activemq/broker/region/DestinationStatistics.getExpired:()Lorg/apache/activemq/management/CountStatisticImpl;
      92: invokevirtual #127                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
      95: aload_0
      96: getfield      #121                // Field broker:Lorg/apache/activemq/broker/Broker;
      99: aload_0
     100: invokevirtual #78                 // Method getContext:()Lorg/apache/activemq/broker/ConnectionContext;
     103: aload_1
     104: aload_0
     105: invokeinterface #128,  4          // InterfaceMethod org/apache/activemq/broker/Broker.messageExpired:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/broker/region/Subscription;)V
     110: goto          116
     113: goto          9
     116: aload_0
     117: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     120: invokeinterface #129,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     125: goto          140
     128: astore_2
     129: aload_0
     130: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     133: invokeinterface #129,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     138: aload_2
     139: athrow
     140: return
    Exception table:
       from    to  target type
           0   116   128   any
         128   129   128   any

  public void processMessageDispatchNotification(org.apache.activemq.command.MessageDispatchNotification);
    Code:
       0: aload_0
       1: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      11: invokeinterface #118,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
      16: aload_0
      17: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      20: invokeinterface #119,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasNext:()Z
      25: ifeq          91
      28: aload_0
      29: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      32: invokeinterface #120,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.next:()Lorg/apache/activemq/broker/region/MessageReference;
      37: astore_3
      38: aload_3
      39: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
      44: pop
      45: aload_3
      46: invokeinterface #84,  1           // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessageId:()Lorg/apache/activemq/command/MessageId;
      51: aload_1
      52: invokevirtual #130                // Method org/apache/activemq/command/MessageDispatchNotification.getMessageId:()Lorg/apache/activemq/command/MessageId;
      55: invokevirtual #131                // Method org/apache/activemq/command/MessageId.equals:(Ljava/lang/Object;)Z
      58: ifeq          88
      61: aload_0
      62: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      65: invokeinterface #123,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.remove:()V
      70: aload_0
      71: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      74: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      77: pop2
      78: aload_3
      79: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
      84: pop
      85: goto          91
      88: goto          16
      91: aload_0
      92: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      95: invokeinterface #129,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     100: goto          117
     103: astore        4
     105: aload_0
     106: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     109: invokeinterface #129,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     114: aload         4
     116: athrow
     117: aload_2
     118: monitorexit
     119: goto          129
     122: astore        5
     124: aload_2
     125: monitorexit
     126: aload         5
     128: athrow
     129: return
    Exception table:
       from    to  target type
           7    91   103   any
         103   105   103   any
           7   119   122   any
         122   126   122   any

  public synchronized void acknowledge(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.command.MessageAck) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #132                // Method org/apache/activemq/broker/region/AbstractSubscription.acknowledge:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/MessageAck;)V
       6: aload_2
       7: invokevirtual #133                // Method org/apache/activemq/command/MessageAck.isStandardAck:()Z
      10: ifne          27
      13: aload_2
      14: invokevirtual #134                // Method org/apache/activemq/command/MessageAck.isPoisonAck:()Z
      17: ifne          27
      20: aload_2
      21: invokevirtual #135                // Method org/apache/activemq/command/MessageAck.isIndividualAck:()Z
      24: ifeq          194
      27: aload_1
      28: invokevirtual #136                // Method org/apache/activemq/broker/ConnectionContext.isInTransaction:()Z
      31: ifeq          53
      34: aload_1
      35: invokevirtual #137                // Method org/apache/activemq/broker/ConnectionContext.getTransaction:()Lorg/apache/activemq/transaction/Transaction;
      38: new           #138                // class org/apache/activemq/broker/region/TopicSubscription$1
      41: dup
      42: aload_0
      43: aload_2
      44: invokespecial #139                // Method org/apache/activemq/broker/region/TopicSubscription$1."<init>":(Lorg/apache/activemq/broker/region/TopicSubscription;Lorg/apache/activemq/command/MessageAck;)V
      47: invokevirtual #140                // Method org/apache/activemq/transaction/Transaction.addSynchronization:(Lorg/apache/activemq/transaction/Synchronization;)V
      50: goto          150
      53: aload_0
      54: getfield      #8                  // Field singleDestination:Z
      57: ifeq          137
      60: aload_0
      61: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      64: ifnull        137
      67: aload_0
      68: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      71: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      76: invokevirtual #141                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
      79: aload_2
      80: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
      83: i2l
      84: invokevirtual #143                // Method org/apache/activemq/management/CountStatisticImpl.add:(J)V
      87: aload_0
      88: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      91: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      96: invokevirtual #144                // Method org/apache/activemq/broker/region/DestinationStatistics.getInflight:()Lorg/apache/activemq/management/CountStatisticImpl;
      99: aload_2
     100: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     103: i2l
     104: invokevirtual #145                // Method org/apache/activemq/management/CountStatisticImpl.subtract:(J)V
     107: aload_0
     108: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
     111: invokevirtual #146                // Method org/apache/activemq/command/ConsumerInfo.isNetworkSubscription:()Z
     114: ifeq          137
     117: aload_0
     118: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     121: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     126: invokevirtual #147                // Method org/apache/activemq/broker/region/DestinationStatistics.getForwards:()Lorg/apache/activemq/management/CountStatisticImpl;
     129: aload_2
     130: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     133: i2l
     134: invokevirtual #143                // Method org/apache/activemq/management/CountStatisticImpl.add:(J)V
     137: aload_0
     138: getfield      #3                  // Field dequeueCounter:Ljava/util/concurrent/atomic/AtomicLong;
     141: aload_2
     142: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     145: i2l
     146: invokevirtual #148                // Method java/util/concurrent/atomic/AtomicLong.addAndGet:(J)J
     149: pop2
     150: aload_0
     151: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
     154: invokevirtual #149                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     157: istore_3
     158: iconst_0
     159: iload_3
     160: aload_2
     161: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     164: isub
     165: invokestatic  #103                // Method java/lang/Math.max:(II)I
     168: istore        4
     170: aload_0
     171: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
     174: iload_3
     175: iload         4
     177: invokevirtual #150                // Method java/util/concurrent/atomic/AtomicInteger.compareAndSet:(II)Z
     180: ifeq          186
     183: goto          189
     186: goto          150
     189: aload_0
     190: invokespecial #2                  // Method dispatchMatched:()V
     193: return
     194: aload_2
     195: invokevirtual #151                // Method org/apache/activemq/command/MessageAck.isDeliveredAck:()Z
     198: ifeq          218
     201: aload_0
     202: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
     205: aload_2
     206: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     209: invokevirtual #152                // Method java/util/concurrent/atomic/AtomicInteger.addAndGet:(I)I
     212: pop
     213: aload_0
     214: invokespecial #2                  // Method dispatchMatched:()V
     217: return
     218: aload_2
     219: invokevirtual #153                // Method org/apache/activemq/command/MessageAck.isExpiredAck:()Z
     222: ifeq          356
     225: aload_0
     226: getfield      #8                  // Field singleDestination:Z
     229: ifeq          299
     232: aload_0
     233: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     236: ifnull        299
     239: aload_0
     240: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     243: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     248: invokevirtual #144                // Method org/apache/activemq/broker/region/DestinationStatistics.getInflight:()Lorg/apache/activemq/management/CountStatisticImpl;
     251: aload_2
     252: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     255: i2l
     256: invokevirtual #145                // Method org/apache/activemq/management/CountStatisticImpl.subtract:(J)V
     259: aload_0
     260: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     263: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     268: invokevirtual #126                // Method org/apache/activemq/broker/region/DestinationStatistics.getExpired:()Lorg/apache/activemq/management/CountStatisticImpl;
     271: aload_2
     272: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     275: i2l
     276: invokevirtual #143                // Method org/apache/activemq/management/CountStatisticImpl.add:(J)V
     279: aload_0
     280: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     283: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     288: invokevirtual #141                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
     291: aload_2
     292: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     295: i2l
     296: invokevirtual #143                // Method org/apache/activemq/management/CountStatisticImpl.add:(J)V
     299: aload_0
     300: getfield      #3                  // Field dequeueCounter:Ljava/util/concurrent/atomic/AtomicLong;
     303: aload_2
     304: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     307: i2l
     308: invokevirtual #148                // Method java/util/concurrent/atomic/AtomicLong.addAndGet:(J)J
     311: pop2
     312: aload_0
     313: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
     316: invokevirtual #149                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     319: istore_3
     320: iconst_0
     321: iload_3
     322: aload_2
     323: invokevirtual #142                // Method org/apache/activemq/command/MessageAck.getMessageCount:()I
     326: isub
     327: invokestatic  #103                // Method java/lang/Math.max:(II)I
     330: istore        4
     332: aload_0
     333: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
     336: iload_3
     337: iload         4
     339: invokevirtual #150                // Method java/util/concurrent/atomic/AtomicInteger.compareAndSet:(II)Z
     342: ifeq          348
     345: goto          351
     348: goto          312
     351: aload_0
     352: invokespecial #2                  // Method dispatchMatched:()V
     355: return
     356: aload_2
     357: invokevirtual #154                // Method org/apache/activemq/command/MessageAck.isRedeliveredAck:()Z
     360: ifeq          364
     363: return
     364: new           #155                // class javax/jms/JMSException
     367: dup
     368: new           #27                 // class java/lang/StringBuilder
     371: dup
     372: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     375: ldc           #156                // String Invalid acknowledgment:
     377: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     380: aload_2
     381: invokevirtual #157                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     384: invokevirtual #38                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     387: invokespecial #158                // Method javax/jms/JMSException."<init>":(Ljava/lang/String;)V
     390: athrow

  public org.apache.activemq.command.Response pullMessage(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.command.MessagePull) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #159                // Method getPrefetchSize:()I
       4: ifne          92
       7: aload_0
       8: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      11: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
      14: lstore_3
      15: aload_0
      16: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      19: invokevirtual #161                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      22: pop
      23: aload_0
      24: invokespecial #2                  // Method dispatchMatched:()V
      27: lload_3
      28: aload_0
      29: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      32: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
      35: lcmp
      36: ifne          92
      39: aload_2
      40: invokevirtual #162                // Method org/apache/activemq/command/MessagePull.getTimeout:()J
      43: ldc2_w        #163                // long -1l
      46: lcmp
      47: ifne          63
      50: aload_0
      51: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      54: invokevirtual #165                // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      57: pop
      58: aload_0
      59: aconst_null
      60: invokespecial #63                 // Method dispatch:(Lorg/apache/activemq/broker/region/MessageReference;)V
      63: aload_2
      64: invokevirtual #162                // Method org/apache/activemq/command/MessagePull.getTimeout:()J
      67: lconst_0
      68: lcmp
      69: ifle          92
      72: aload_0
      73: getfield      #48                 // Field scheduler:Lorg/apache/activemq/thread/Scheduler;
      76: new           #166                // class org/apache/activemq/broker/region/TopicSubscription$2
      79: dup
      80: aload_0
      81: lload_3
      82: invokespecial #167                // Method org/apache/activemq/broker/region/TopicSubscription$2."<init>":(Lorg/apache/activemq/broker/region/TopicSubscription;J)V
      85: aload_2
      86: invokevirtual #162                // Method org/apache/activemq/command/MessagePull.getTimeout:()J
      89: invokevirtual #168                // Method org/apache/activemq/thread/Scheduler.executeAfterDelay:(Ljava/lang/Runnable;J)V
      92: aconst_null
      93: areturn

  private final void pullTimeout(long);
    Code:
       0: aload_0
       1: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
       4: dup
       5: astore_3
       6: monitorenter
       7: lload_1
       8: aload_0
       9: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      12: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
      15: lcmp
      16: ifne          75
      19: aload_0
      20: aconst_null
      21: invokespecial #63                 // Method dispatch:(Lorg/apache/activemq/broker/region/MessageReference;)V
      24: aload_0
      25: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      28: invokevirtual #165                // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      31: pop
      32: goto          75
      35: astore        4
      37: aload_0
      38: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
      41: invokevirtual #171                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
      44: aload         4
      46: invokeinterface #172,  2          // InterfaceMethod org/apache/activemq/broker/Connection.serviceException:(Ljava/lang/Throwable;)V
      51: aload_0
      52: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      55: invokevirtual #165                // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      58: pop
      59: goto          75
      62: astore        5
      64: aload_0
      65: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      68: invokevirtual #165                // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      71: pop
      72: aload         5
      74: athrow
      75: aload_3
      76: monitorexit
      77: goto          87
      80: astore        6
      82: aload_3
      83: monitorexit
      84: aload         6
      86: athrow
      87: return
    Exception table:
       from    to  target type
          19    24    35   Class java/lang/Exception
          19    24    62   any
          35    51    62   any
          62    64    62   any
           7    77    80   any
          80    84    80   any

  public int getPendingQueueSize();
    Code:
       0: aload_0
       1: invokevirtual #173                // Method matched:()I
       4: ireturn

  public int getDispatchedQueueSize();
    Code:
       0: aload_0
       1: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: aload_0
       8: getfield      #20                 // Field prefetchExtension:Ljava/util/concurrent/atomic/AtomicInteger;
      11: invokevirtual #149                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      14: i2l
      15: lsub
      16: aload_0
      17: getfield      #3                  // Field dequeueCounter:Ljava/util/concurrent/atomic/AtomicLong;
      20: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
      23: lsub
      24: l2i
      25: ireturn

  public int getMaximumPendingMessages();
    Code:
       0: aload_0
       1: getfield      #9                  // Field maximumPendingMessages:I
       4: ireturn

  public long getDispatchedCounter();
    Code:
       0: aload_0
       1: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public long getEnqueueCounter();
    Code:
       0: aload_0
       1: getfield      #17                 // Field enqueueCounter:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public long getDequeueCounter();
    Code:
       0: aload_0
       1: getfield      #3                  // Field dequeueCounter:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #160                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public int discarded();
    Code:
       0: aload_0
       1: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #174                // Field discarded:I
      11: aload_1
      12: monitorexit
      13: ireturn
      14: astore_2
      15: aload_1
      16: monitorexit
      17: aload_2
      18: athrow
    Exception table:
       from    to  target type
           7    13    14   any
          14    17    14   any

  public int matched();
    Code:
       0: aload_0
       1: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      11: invokeinterface #67,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.size:()I
      16: aload_1
      17: monitorexit
      18: ireturn
      19: astore_2
      20: aload_1
      21: monitorexit
      22: aload_2
      23: athrow
    Exception table:
       from    to  target type
           7    18    19   any
          19    22    19   any

  public void setMaximumPendingMessages(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #9                  // Field maximumPendingMessages:I
       5: return

  public org.apache.activemq.broker.region.policy.MessageEvictionStrategy getMessageEvictionStrategy();
    Code:
       0: aload_0
       1: getfield      #12                 // Field messageEvictionStrategy:Lorg/apache/activemq/broker/region/policy/MessageEvictionStrategy;
       4: areturn

  public void setMessageEvictionStrategy(org.apache.activemq.broker.region.policy.MessageEvictionStrategy);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #12                 // Field messageEvictionStrategy:Lorg/apache/activemq/broker/region/policy/MessageEvictionStrategy;
       5: return

  public int getMaxProducersToAudit();
    Code:
       0: aload_0
       1: getfield      #22                 // Field maxProducersToAudit:I
       4: ireturn

  public synchronized void setMaxProducersToAudit(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #22                 // Field maxProducersToAudit:I
       5: aload_0
       6: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
       9: ifnull        20
      12: aload_0
      13: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      16: iload_1
      17: invokevirtual #175                // Method org/apache/activemq/ActiveMQMessageAudit.setMaximumNumberOfProducersToTrack:(I)V
      20: return

  public int getMaxAuditDepth();
    Code:
       0: aload_0
       1: getfield      #23                 // Field maxAuditDepth:I
       4: ireturn

  public synchronized void setMaxAuditDepth(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #23                 // Field maxAuditDepth:I
       5: aload_0
       6: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
       9: ifnull        20
      12: aload_0
      13: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      16: iload_1
      17: invokevirtual #176                // Method org/apache/activemq/ActiveMQMessageAudit.setAuditDepth:(I)V
      20: return

  public boolean isEnableAudit();
    Code:
       0: aload_0
       1: getfield      #24                 // Field enableAudit:Z
       4: ireturn

  public synchronized void setEnableAudit(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #24                 // Field enableAudit:Z
       5: iload_1
       6: ifeq          35
       9: aload_0
      10: getfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      13: ifnonnull     35
      16: aload_0
      17: new           #53                 // class org/apache/activemq/ActiveMQMessageAudit
      20: dup
      21: aload_0
      22: getfield      #23                 // Field maxAuditDepth:I
      25: aload_0
      26: getfield      #22                 // Field maxProducersToAudit:I
      29: invokespecial #54                 // Method org/apache/activemq/ActiveMQMessageAudit."<init>":(II)V
      32: putfield      #55                 // Field audit:Lorg/apache/activemq/ActiveMQMessageAudit;
      35: return

  public boolean isFull();
    Code:
       0: aload_0
       1: invokevirtual #177                // Method getDispatchedQueueSize:()I
       4: aload_0
       5: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
       8: invokevirtual #66                 // Method org/apache/activemq/command/ConsumerInfo.getPrefetchSize:()I
      11: if_icmplt     18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  public int getInFlightSize();
    Code:
       0: aload_0
       1: invokevirtual #177                // Method getDispatchedQueueSize:()I
       4: ireturn

  public boolean isLowWaterMark();
    Code:
       0: aload_0
       1: invokevirtual #177                // Method getDispatchedQueueSize:()I
       4: i2d
       5: aload_0
       6: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
       9: invokevirtual #66                 // Method org/apache/activemq/command/ConsumerInfo.getPrefetchSize:()I
      12: i2d
      13: ldc2_w        #178                // double 0.4d
      16: dmul
      17: dcmpg
      18: ifgt          25
      21: iconst_1
      22: goto          26
      25: iconst_0
      26: ireturn

  public boolean isHighWaterMark();
    Code:
       0: aload_0
       1: invokevirtual #177                // Method getDispatchedQueueSize:()I
       4: i2d
       5: aload_0
       6: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
       9: invokevirtual #66                 // Method org/apache/activemq/command/ConsumerInfo.getPrefetchSize:()I
      12: i2d
      13: ldc2_w        #180                // double 0.9d
      16: dmul
      17: dcmpl
      18: iflt          25
      21: iconst_1
      22: goto          26
      25: iconst_0
      26: ireturn

  public void setMemoryUsageHighWaterMark(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #21                 // Field memoryUsageHighWaterMark:I
       5: return

  public int getMemoryUsageHighWaterMark();
    Code:
       0: aload_0
       1: getfield      #21                 // Field memoryUsageHighWaterMark:I
       4: ireturn

  public org.apache.activemq.usage.SystemUsage getUsageManager();
    Code:
       0: aload_0
       1: getfield      #26                 // Field usageManager:Lorg/apache/activemq/usage/SystemUsage;
       4: areturn

  public org.apache.activemq.broker.region.cursors.PendingMessageCursor getMatched();
    Code:
       0: aload_0
       1: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       4: areturn

  public void setMatched(org.apache.activemq.broker.region.cursors.PendingMessageCursor);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
       5: return

  public void updateConsumerPrefetch(int);
    Code:
       0: aload_0
       1: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
       4: ifnull        69
       7: aload_0
       8: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
      11: invokevirtual #171                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
      14: ifnull        69
      17: aload_0
      18: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
      21: invokevirtual #171                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
      24: invokeinterface #182,  1          // InterfaceMethod org/apache/activemq/broker/Connection.isManageable:()Z
      29: ifeq          69
      32: new           #183                // class org/apache/activemq/command/ConsumerControl
      35: dup
      36: invokespecial #184                // Method org/apache/activemq/command/ConsumerControl."<init>":()V
      39: astore_2
      40: aload_2
      41: aload_0
      42: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
      45: invokevirtual #35                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      48: invokevirtual #185                // Method org/apache/activemq/command/ConsumerControl.setConsumerId:(Lorg/apache/activemq/command/ConsumerId;)V
      51: aload_2
      52: iload_1
      53: invokevirtual #186                // Method org/apache/activemq/command/ConsumerControl.setPrefetch:(I)V
      56: aload_0
      57: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
      60: invokevirtual #171                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
      63: aload_2
      64: invokeinterface #187,  2          // InterfaceMethod org/apache/activemq/broker/Connection.dispatchAsync:(Lorg/apache/activemq/command/Command;)V
      69: return

  private void dispatchMatched() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      11: invokeinterface #62,  1           // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.isEmpty:()Z
      16: ifne          129
      19: aload_0
      20: invokevirtual #61                 // Method isFull:()Z
      23: ifne          129
      26: aload_0
      27: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      30: invokeinterface #118,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.reset:()V
      35: aload_0
      36: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      39: invokeinterface #119,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.hasNext:()Z
      44: ifeq          105
      47: aload_0
      48: invokevirtual #61                 // Method isFull:()Z
      51: ifne          105
      54: aload_0
      55: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      58: invokeinterface #120,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.next:()Lorg/apache/activemq/broker/region/MessageReference;
      63: astore_2
      64: aload_2
      65: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
      70: pop
      71: aload_0
      72: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      75: invokeinterface #123,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.remove:()V
      80: aload_2
      81: invokeinterface #188,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.isExpired:()Z
      86: ifeq          97
      89: aload_0
      90: aload_2
      91: invokespecial #109                // Method discard:(Lorg/apache/activemq/broker/region/MessageReference;)V
      94: goto          35
      97: aload_0
      98: aload_2
      99: invokespecial #63                 // Method dispatch:(Lorg/apache/activemq/broker/region/MessageReference;)V
     102: goto          35
     105: aload_0
     106: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     109: invokeinterface #129,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     114: goto          129
     117: astore_3
     118: aload_0
     119: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
     122: invokeinterface #129,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.release:()V
     127: aload_3
     128: athrow
     129: aload_1
     130: monitorexit
     131: goto          141
     134: astore        4
     136: aload_1
     137: monitorexit
     138: aload         4
     140: athrow
     141: return
    Exception table:
       from    to  target type
          26   105   117   any
         117   118   117   any
           7   131   134   any
         134   138   134   any

  private void dispatch(org.apache.activemq.broker.region.MessageReference) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokeinterface #58,  1           // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getMessage:()Lorg/apache/activemq/command/Message;
       6: astore_2
       7: aload_1
       8: ifnull        18
      11: aload_1
      12: invokeinterface #189,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.incrementReferenceCount:()I
      17: pop
      18: new           #190                // class org/apache/activemq/command/MessageDispatch
      21: dup
      22: invokespecial #191                // Method org/apache/activemq/command/MessageDispatch."<init>":()V
      25: astore_3
      26: aload_3
      27: aload_2
      28: invokevirtual #192                // Method org/apache/activemq/command/MessageDispatch.setMessage:(Lorg/apache/activemq/command/Message;)V
      31: aload_3
      32: aload_0
      33: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
      36: invokevirtual #35                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      39: invokevirtual #193                // Method org/apache/activemq/command/MessageDispatch.setConsumerId:(Lorg/apache/activemq/command/ConsumerId;)V
      42: aload_1
      43: ifnull        120
      46: aload_3
      47: aload_1
      48: invokeinterface #124,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getRegionDestination:()Lorg/apache/activemq/command/Message$MessageDestination;
      53: checkcast     #77                 // class org/apache/activemq/broker/region/Destination
      56: invokeinterface #194,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      61: invokevirtual #195                // Method org/apache/activemq/command/MessageDispatch.setDestination:(Lorg/apache/activemq/command/ActiveMQDestination;)V
      64: aload_0
      65: getfield      #7                  // Field dispatchedCounter:Ljava/util/concurrent/atomic/AtomicLong;
      68: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      71: pop2
      72: aload_0
      73: getfield      #8                  // Field singleDestination:Z
      76: ifeq          120
      79: aload_0
      80: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      83: ifnonnull     102
      86: aload_0
      87: aload_1
      88: invokeinterface #124,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getRegionDestination:()Lorg/apache/activemq/command/Message$MessageDestination;
      93: checkcast     #77                 // class org/apache/activemq/broker/region/Destination
      96: putfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      99: goto          120
     102: aload_0
     103: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
     106: aload_1
     107: invokeinterface #124,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getRegionDestination:()Lorg/apache/activemq/command/Message$MessageDestination;
     112: if_acmpeq     120
     115: aload_0
     116: iconst_0
     117: putfield      #8                  // Field singleDestination:Z
     120: aload_0
     121: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
     124: invokevirtual #196                // Method org/apache/activemq/command/ConsumerInfo.isDispatchAsync:()Z
     127: ifeq          163
     130: aload_1
     131: ifnull        147
     134: aload_3
     135: new           #197                // class org/apache/activemq/broker/region/TopicSubscription$3
     138: dup
     139: aload_0
     140: aload_1
     141: invokespecial #198                // Method org/apache/activemq/broker/region/TopicSubscription$3."<init>":(Lorg/apache/activemq/broker/region/TopicSubscription;Lorg/apache/activemq/broker/region/MessageReference;)V
     144: invokevirtual #199                // Method org/apache/activemq/command/MessageDispatch.setTransmitCallback:(Lorg/apache/activemq/transport/TransmitCallback;)V
     147: aload_0
     148: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
     151: invokevirtual #171                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
     154: aload_3
     155: invokeinterface #187,  2          // InterfaceMethod org/apache/activemq/broker/Connection.dispatchAsync:(Lorg/apache/activemq/command/Command;)V
     160: goto          224
     163: aload_0
     164: getfield      #170                // Field context:Lorg/apache/activemq/broker/ConnectionContext;
     167: invokevirtual #171                // Method org/apache/activemq/broker/ConnectionContext.getConnection:()Lorg/apache/activemq/broker/Connection;
     170: aload_3
     171: invokeinterface #200,  2          // InterfaceMethod org/apache/activemq/broker/Connection.dispatchSync:(Lorg/apache/activemq/command/Command;)V
     176: aload_1
     177: ifnull        224
     180: aload_1
     181: invokeinterface #124,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getRegionDestination:()Lorg/apache/activemq/command/Message$MessageDestination;
     186: checkcast     #77                 // class org/apache/activemq/broker/region/Destination
     189: astore        4
     191: aload         4
     193: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     198: invokevirtual #201                // Method org/apache/activemq/broker/region/DestinationStatistics.getDispatched:()Lorg/apache/activemq/management/CountStatisticImpl;
     201: invokevirtual #127                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
     204: aload         4
     206: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
     211: invokevirtual #144                // Method org/apache/activemq/broker/region/DestinationStatistics.getInflight:()Lorg/apache/activemq/management/CountStatisticImpl;
     214: invokevirtual #127                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
     217: aload_1
     218: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
     223: pop
     224: return

  private void discard(org.apache.activemq.broker.region.MessageReference);
    Code:
       0: aload_1
       1: invokeinterface #108,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.decrementReferenceCount:()I
       6: pop
       7: aload_0
       8: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      11: aload_1
      12: invokeinterface #202,  2          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.remove:(Lorg/apache/activemq/broker/region/MessageReference;)V
      17: aload_0
      18: dup
      19: getfield      #174                // Field discarded:I
      22: iconst_1
      23: iadd
      24: putfield      #174                // Field discarded:I
      27: aload_0
      28: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      31: ifnull        49
      34: aload_0
      35: getfield      #111                // Field destination:Lorg/apache/activemq/broker/region/Destination;
      38: invokeinterface #125,  1          // InterfaceMethod org/apache/activemq/broker/region/Destination.getDestinationStatistics:()Lorg/apache/activemq/broker/region/DestinationStatistics;
      43: invokevirtual #141                // Method org/apache/activemq/broker/region/DestinationStatistics.getDequeues:()Lorg/apache/activemq/management/CountStatisticImpl;
      46: invokevirtual #127                // Method org/apache/activemq/management/CountStatisticImpl.increment:()V
      49: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      52: ldc           #203                // String {}, discarding message {}
      54: aload_0
      55: aload_1
      56: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      61: aload_1
      62: invokeinterface #124,  1          // InterfaceMethod org/apache/activemq/broker/region/MessageReference.getRegionDestination:()Lorg/apache/activemq/command/Message$MessageDestination;
      67: checkcast     #77                 // class org/apache/activemq/broker/region/Destination
      70: astore_2
      71: aload_2
      72: ifnull        87
      75: aload_2
      76: aload_0
      77: invokevirtual #78                 // Method getContext:()Lorg/apache/activemq/broker/ConnectionContext;
      80: aload_0
      81: aload_1
      82: invokeinterface #204,  4          // InterfaceMethod org/apache/activemq/broker/region/Destination.messageDiscarded:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/Subscription;Lorg/apache/activemq/broker/region/MessageReference;)V
      87: aload_0
      88: getfield      #121                // Field broker:Lorg/apache/activemq/broker/Broker;
      91: invokeinterface #205,  1          // InterfaceMethod org/apache/activemq/broker/Broker.getRoot:()Lorg/apache/activemq/broker/Broker;
      96: aload_0
      97: invokevirtual #78                 // Method getContext:()Lorg/apache/activemq/broker/ConnectionContext;
     100: aload_1
     101: aload_0
     102: new           #206                // class java/lang/Throwable
     105: dup
     106: new           #27                 // class java/lang/StringBuilder
     109: dup
     110: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     113: ldc           #207                // String TopicSubDiscard. ID:
     115: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: aload_0
     119: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
     122: invokevirtual #35                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
     125: invokevirtual #157                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     128: invokevirtual #38                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     131: invokespecial #208                // Method java/lang/Throwable."<init>":(Ljava/lang/String;)V
     134: invokeinterface #209,  5          // InterfaceMethod org/apache/activemq/broker/Broker.sendToDeadLetterQueue:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/broker/region/Subscription;Ljava/lang/Throwable;)Z
     139: pop
     140: return

  public java.lang.String toString();
    Code:
       0: new           #27                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #210                // String TopicSubscription: consumer=
       9: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
      16: invokevirtual #35                 // Method org/apache/activemq/command/ConsumerInfo.getConsumerId:()Lorg/apache/activemq/command/ConsumerId;
      19: invokevirtual #157                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      22: ldc           #211                // String , destinations=
      24: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: aload_0
      28: getfield      #73                 // Field destinations:Ljava/util/concurrent/CopyOnWriteArrayList;
      31: invokevirtual #212                // Method java/util/concurrent/CopyOnWriteArrayList.size:()I
      34: invokevirtual #213                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      37: ldc           #214                // String , dispatched=
      39: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: invokevirtual #177                // Method getDispatchedQueueSize:()I
      46: invokevirtual #213                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      49: ldc           #215                // String , delivered=
      51: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: aload_0
      55: invokevirtual #216                // Method getDequeueCounter:()J
      58: invokevirtual #33                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      61: ldc           #217                // String , matched=
      63: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_0
      67: invokevirtual #173                // Method matched:()I
      70: invokevirtual #213                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      73: ldc           #218                // String , discarded=
      75: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: aload_0
      79: invokevirtual #219                // Method discarded:()I
      82: invokevirtual #213                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      85: invokevirtual #38                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: areturn

  public void destroy();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #25                 // Field active:Z
       5: aload_0
       6: getfield      #15                 // Field matchedListMutex:Ljava/lang/Object;
       9: dup
      10: astore_1
      11: monitorenter
      12: aload_0
      13: getfield      #44                 // Field matched:Lorg/apache/activemq/broker/region/cursors/PendingMessageCursor;
      16: invokeinterface #220,  1          // InterfaceMethod org/apache/activemq/broker/region/cursors/PendingMessageCursor.destroy:()V
      21: goto          36
      24: astore_2
      25: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      28: ldc           #221                // String Failed to destroy cursor
      30: aload_2
      31: invokeinterface #222,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      36: aload_1
      37: monitorexit
      38: goto          46
      41: astore_3
      42: aload_1
      43: monitorexit
      44: aload_3
      45: athrow
      46: aload_0
      47: iconst_0
      48: invokevirtual #64                 // Method setSlowConsumer:(Z)V
      51: return
    Exception table:
       from    to  target type
          12    21    24   Class java/lang/Exception
          12    38    41   any
          41    44    41   any

  public int getPrefetchSize();
    Code:
       0: aload_0
       1: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
       4: invokevirtual #66                 // Method org/apache/activemq/command/ConsumerInfo.getPrefetchSize:()I
       7: ireturn

  public void setPrefetchSize(int);
    Code:
       0: aload_0
       1: getfield      #65                 // Field info:Lorg/apache/activemq/command/ConsumerInfo;
       4: iload_1
       5: invokevirtual #223                // Method org/apache/activemq/command/ConsumerInfo.setPrefetchSize:(I)V
       8: aload_0
       9: invokespecial #2                  // Method dispatchMatched:()V
      12: goto          26
      15: astore_2
      16: getstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
      19: ldc           #224                // String Caught exception on dispatch after prefetch size change.
      21: invokeinterface #225,  2          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
      26: return
    Exception table:
       from    to  target type
           8    12    15   Class java/lang/Exception

  static java.util.concurrent.atomic.AtomicLong access$000(org.apache.activemq.broker.region.TopicSubscription);
    Code:
       0: aload_0
       1: getfield      #3                  // Field dequeueCounter:Ljava/util/concurrent/atomic/AtomicLong;
       4: areturn

  static void access$100(org.apache.activemq.broker.region.TopicSubscription) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #2                  // Method dispatchMatched:()V
       4: return

  static void access$200(org.apache.activemq.broker.region.TopicSubscription, long);
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #1                  // Method pullTimeout:(J)V
       5: return

  static {};
    Code:
       0: ldc_w         #226                // class org/apache/activemq/broker/region/TopicSubscription
       3: invokestatic  #227                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #69                 // Field LOG:Lorg/slf4j/Logger;
       9: new           #5                  // class java/util/concurrent/atomic/AtomicLong
      12: dup
      13: lconst_0
      14: invokespecial #16                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      17: putstatic     #31                 // Field CURSOR_NAME_COUNTER:Ljava/util/concurrent/atomic/AtomicLong;
      20: return
}
