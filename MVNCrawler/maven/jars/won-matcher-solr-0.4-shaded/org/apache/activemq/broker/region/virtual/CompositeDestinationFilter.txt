Compiled from "CompositeDestinationFilter.java"
public class org.apache.activemq.broker.region.virtual.CompositeDestinationFilter extends org.apache.activemq.broker.region.DestinationFilter {
  private java.util.Collection forwardDestinations;

  private boolean forwardOnly;

  private boolean copyMessage;

  private boolean concurrentSend;

  public org.apache.activemq.broker.region.virtual.CompositeDestinationFilter(org.apache.activemq.broker.region.Destination, java.util.Collection, boolean, boolean, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method org/apache/activemq/broker/region/DestinationFilter."<init>":(Lorg/apache/activemq/broker/region/Destination;)V
       5: aload_0
       6: iconst_0
       7: putfield      #3                  // Field concurrentSend:Z
      10: aload_0
      11: aload_2
      12: putfield      #4                  // Field forwardDestinations:Ljava/util/Collection;
      15: aload_0
      16: iload_3
      17: putfield      #5                  // Field forwardOnly:Z
      20: aload_0
      21: iload         4
      23: putfield      #6                  // Field copyMessage:Z
      26: aload_0
      27: iload         5
      29: putfield      #3                  // Field concurrentSend:Z
      32: return

  public void send(org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_3
       2: new           #7                  // class java/util/LinkedList
       5: dup
       6: invokespecial #8                  // Method java/util/LinkedList."<init>":()V
       9: astore        4
      11: aload_0
      12: getfield      #4                  // Field forwardDestinations:Ljava/util/Collection;
      15: invokeinterface #9,  1            // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      20: astore        5
      22: aload         5
      24: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          140
      32: aconst_null
      33: astore        6
      35: aload         5
      37: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: astore        7
      44: aload         7
      46: instanceof    #12                 // class org/apache/activemq/broker/region/virtual/FilteredDestination
      49: ifeq          104
      52: aload         7
      54: checkcast     #12                 // class org/apache/activemq/broker/region/virtual/FilteredDestination
      57: astore        8
      59: aload_3
      60: ifnonnull     76
      63: new           #13                 // class org/apache/activemq/filter/NonCachedMessageEvaluationContext
      66: dup
      67: invokespecial #14                 // Method org/apache/activemq/filter/NonCachedMessageEvaluationContext."<init>":()V
      70: astore_3
      71: aload_3
      72: aload_2
      73: invokevirtual #15                 // Method org/apache/activemq/filter/MessageEvaluationContext.setMessageReference:(Lorg/apache/activemq/broker/region/MessageReference;)V
      76: aload_3
      77: aload         8
      79: invokevirtual #16                 // Method org/apache/activemq/broker/region/virtual/FilteredDestination.getDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      82: invokevirtual #17                 // Method org/apache/activemq/filter/MessageEvaluationContext.setDestination:(Lorg/apache/activemq/command/ActiveMQDestination;)V
      85: aload         8
      87: aload_3
      88: invokevirtual #18                 // Method org/apache/activemq/broker/region/virtual/FilteredDestination.matches:(Lorg/apache/activemq/filter/MessageEvaluationContext;)Z
      91: ifeq          101
      94: aload         8
      96: invokevirtual #16                 // Method org/apache/activemq/broker/region/virtual/FilteredDestination.getDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      99: astore        6
     101: goto          119
     104: aload         7
     106: instanceof    #19                 // class org/apache/activemq/command/ActiveMQDestination
     109: ifeq          119
     112: aload         7
     114: checkcast     #19                 // class org/apache/activemq/command/ActiveMQDestination
     117: astore        6
     119: aload         6
     121: ifnonnull     127
     124: goto          22
     127: aload         4
     129: aload         6
     131: invokeinterface #20,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     136: pop
     137: goto          22
     140: new           #21                 // class java/util/concurrent/CountDownLatch
     143: dup
     144: aload_0
     145: getfield      #3                  // Field concurrentSend:Z
     148: ifeq          161
     151: aload         4
     153: invokeinterface #22,  1           // InterfaceMethod java/util/Collection.size:()I
     158: goto          162
     161: iconst_0
     162: invokespecial #23                 // Method java/util/concurrent/CountDownLatch."<init>":(I)V
     165: astore        5
     167: new           #24                 // class java/util/concurrent/atomic/AtomicReference
     170: dup
     171: invokespecial #25                 // Method java/util/concurrent/atomic/AtomicReference."<init>":()V
     174: astore        6
     176: aload_1
     177: invokevirtual #26                 // Method org/apache/activemq/broker/ProducerBrokerExchange.getConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
     180: invokevirtual #27                 // Method org/apache/activemq/broker/ConnectionContext.getBroker:()Lorg/apache/activemq/broker/Broker;
     183: invokeinterface #28,  1           // InterfaceMethod org/apache/activemq/broker/Broker.getBrokerService:()Lorg/apache/activemq/broker/BrokerService;
     188: astore        7
     190: aload         4
     192: invokeinterface #29,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     197: astore        8
     199: aload         8
     201: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     206: ifeq          276
     209: aload         8
     211: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     216: checkcast     #19                 // class org/apache/activemq/command/ActiveMQDestination
     219: astore        9
     221: aload         5
     223: invokevirtual #30                 // Method java/util/concurrent/CountDownLatch.getCount:()J
     226: lconst_0
     227: lcmp
     228: ifle          260
     231: aload         7
     233: invokevirtual #31                 // Method org/apache/activemq/broker/BrokerService.getTaskRunnerFactory:()Lorg/apache/activemq/thread/TaskRunnerFactory;
     236: new           #32                 // class org/apache/activemq/broker/region/virtual/CompositeDestinationFilter$1
     239: dup
     240: aload_0
     241: aload         6
     243: aload_1
     244: aload_2
     245: aload         7
     247: aload         9
     249: aload         5
     251: invokespecial #33                 // Method org/apache/activemq/broker/region/virtual/CompositeDestinationFilter$1."<init>":(Lorg/apache/activemq/broker/region/virtual/CompositeDestinationFilter;Ljava/util/concurrent/atomic/AtomicReference;Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/BrokerService;Lorg/apache/activemq/command/ActiveMQDestination;Ljava/util/concurrent/CountDownLatch;)V
     254: invokevirtual #34                 // Method org/apache/activemq/thread/TaskRunnerFactory.execute:(Ljava/lang/Runnable;)V
     257: goto          273
     260: aload_0
     261: aload_1
     262: aload_2
     263: aload         7
     265: invokevirtual #35                 // Method org/apache/activemq/broker/BrokerService.getRegionBroker:()Lorg/apache/activemq/broker/Broker;
     268: aload         9
     270: invokespecial #1                  // Method doForward:(Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/Broker;Lorg/apache/activemq/command/ActiveMQDestination;)V
     273: goto          199
     276: aload_0
     277: getfield      #5                  // Field forwardOnly:Z
     280: ifne          289
     283: aload_0
     284: aload_1
     285: aload_2
     286: invokespecial #36                 // Method org/apache/activemq/broker/region/DestinationFilter.send:(Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;)V
     289: aload         5
     291: invokevirtual #37                 // Method java/util/concurrent/CountDownLatch.await:()V
     294: aload         6
     296: invokevirtual #38                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
     299: ifnull        311
     302: aload         6
     304: invokevirtual #38                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
     307: checkcast     #39                 // class java/lang/Exception
     310: athrow
     311: return

  private void doForward(org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message, org.apache.activemq.broker.Broker, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #6                  // Field copyMessage:Z
       4: ifeq          23
       7: aload_2
       8: invokevirtual #40                 // Method org/apache/activemq/command/Message.copy:()Lorg/apache/activemq/command/Message;
      11: astore        5
      13: aload         5
      15: aload         4
      17: invokevirtual #41                 // Method org/apache/activemq/command/Message.setDestination:(Lorg/apache/activemq/command/ActiveMQDestination;)V
      20: goto          26
      23: aload_2
      24: astore        5
      26: aload_1
      27: iconst_1
      28: invokevirtual #42                 // Method org/apache/activemq/broker/ProducerBrokerExchange.setMutable:(Z)V
      31: aload_3
      32: aload_1
      33: aload         5
      35: invokeinterface #43,  3           // InterfaceMethod org/apache/activemq/broker/Broker.send:(Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;)V
      40: return

  static void access$000(org.apache.activemq.broker.region.virtual.CompositeDestinationFilter, org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message, org.apache.activemq.broker.Broker, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: invokespecial #1                  // Method doForward:(Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/Broker;Lorg/apache/activemq/command/ActiveMQDestination;)V
       9: return
}
