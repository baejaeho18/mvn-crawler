Compiled from "SelectorAwareVirtualTopicInterceptor.java"
public class org.apache.activemq.broker.region.virtual.SelectorAwareVirtualTopicInterceptor extends org.apache.activemq.broker.region.virtual.VirtualTopicInterceptor {
  private static final org.slf4j.Logger LOG;

  org.apache.activemq.util.LRUCache<java.lang.String, org.apache.activemq.filter.BooleanExpression> expressionCache;

  private org.apache.activemq.plugin.SubQueueSelectorCacheBroker selectorCachePlugin;

  public org.apache.activemq.broker.region.virtual.SelectorAwareVirtualTopicInterceptor(org.apache.activemq.broker.region.Destination, java.lang.String, java.lang.String, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: iload         4
       6: invokespecial #1                  // Method org/apache/activemq/broker/region/virtual/VirtualTopicInterceptor."<init>":(Lorg/apache/activemq/broker/region/Destination;Ljava/lang/String;Ljava/lang/String;Z)V
       9: aload_0
      10: new           #2                  // class org/apache/activemq/util/LRUCache
      13: dup
      14: invokespecial #3                  // Method org/apache/activemq/util/LRUCache."<init>":()V
      17: putfield      #4                  // Field expressionCache:Lorg/apache/activemq/util/LRUCache;
      20: return

  protected void send(org.apache.activemq.broker.ProducerBrokerExchange, org.apache.activemq.command.Message, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #5                  // Method org/apache/activemq/broker/ProducerBrokerExchange.getConnectionContext:()Lorg/apache/activemq/broker/ConnectionContext;
       4: invokevirtual #6                  // Method org/apache/activemq/broker/ConnectionContext.getBroker:()Lorg/apache/activemq/broker/Broker;
       7: astore        4
       9: aload         4
      11: aload_3
      12: invokeinterface #7,  2            // InterfaceMethod org/apache/activemq/broker/Broker.getDestinations:(Lorg/apache/activemq/command/ActiveMQDestination;)Ljava/util/Set;
      17: astore        5
      19: aload         5
      21: invokeinterface #8,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      26: astore        6
      28: aload         6
      30: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      35: ifeq          77
      38: aload         6
      40: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      45: checkcast     #11                 // class org/apache/activemq/broker/region/Destination
      48: astore        7
      50: aload_0
      51: aload         4
      53: aload_2
      54: aload         7
      56: invokespecial #12                 // Method matchesSomeConsumer:(Lorg/apache/activemq/broker/Broker;Lorg/apache/activemq/command/Message;Lorg/apache/activemq/broker/region/Destination;)Z
      59: ifeq          74
      62: aload         7
      64: aload_1
      65: aload_2
      66: invokevirtual #13                 // Method org/apache/activemq/command/Message.copy:()Lorg/apache/activemq/command/Message;
      69: invokeinterface #14,  3           // InterfaceMethod org/apache/activemq/broker/region/Destination.send:(Lorg/apache/activemq/broker/ProducerBrokerExchange;Lorg/apache/activemq/command/Message;)V
      74: goto          28
      77: return

  private boolean matchesSomeConsumer(org.apache.activemq.broker.Broker, org.apache.activemq.command.Message, org.apache.activemq.broker.region.Destination) throws java.io.IOException;
    Code:
       0: iconst_0
       1: istore        4
       3: new           #15                 // class org/apache/activemq/filter/NonCachedMessageEvaluationContext
       6: dup
       7: invokespecial #16                 // Method org/apache/activemq/filter/NonCachedMessageEvaluationContext."<init>":()V
      10: astore        5
      12: aload         5
      14: aload_3
      15: invokeinterface #17,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      20: invokevirtual #18                 // Method org/apache/activemq/filter/MessageEvaluationContext.setDestination:(Lorg/apache/activemq/command/ActiveMQDestination;)V
      23: aload         5
      25: aload_2
      26: invokevirtual #19                 // Method org/apache/activemq/filter/MessageEvaluationContext.setMessageReference:(Lorg/apache/activemq/broker/region/MessageReference;)V
      29: aload_3
      30: invokeinterface #20,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.getConsumers:()Ljava/util/List;
      35: astore        6
      37: aload         6
      39: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      44: astore        7
      46: aload         7
      48: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      53: ifeq          90
      56: aload         7
      58: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      63: checkcast     #22                 // class org/apache/activemq/broker/region/Subscription
      66: astore        8
      68: aload         8
      70: aload_2
      71: aload         5
      73: invokeinterface #23,  3           // InterfaceMethod org/apache/activemq/broker/region/Subscription.matches:(Lorg/apache/activemq/broker/region/MessageReference;Lorg/apache/activemq/filter/MessageEvaluationContext;)Z
      78: ifeq          87
      81: iconst_1
      82: istore        4
      84: goto          90
      87: goto          46
      90: iload         4
      92: ifne          105
      95: aload_0
      96: aload_1
      97: aload_3
      98: aload         5
     100: invokespecial #24                 // Method tryMatchingCachedSubs:(Lorg/apache/activemq/broker/Broker;Lorg/apache/activemq/broker/region/Destination;Lorg/apache/activemq/filter/MessageEvaluationContext;)Z
     103: istore        4
     105: iload         4
     107: ireturn

  private boolean tryMatchingCachedSubs(org.apache.activemq.broker.Broker, org.apache.activemq.broker.region.Destination, org.apache.activemq.filter.MessageEvaluationContext);
    Code:
       0: iconst_0
       1: istore        4
       3: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       6: ldc           #26                 // String No active consumer match found. Will try cache if configured...
       8: invokeinterface #27,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      13: aload_0
      14: aload_1
      15: invokespecial #28                 // Method getSubQueueSelectorCacheBrokerPlugin:(Lorg/apache/activemq/broker/Broker;)Lorg/apache/activemq/plugin/SubQueueSelectorCacheBroker;
      18: astore        5
      20: aload         5
      22: ifnull        120
      25: aload         5
      27: aload_2
      28: invokeinterface #17,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      33: invokevirtual #29                 // Method org/apache/activemq/command/ActiveMQDestination.getQualifiedName:()Ljava/lang/String;
      36: invokevirtual #30                 // Method org/apache/activemq/plugin/SubQueueSelectorCacheBroker.getSelector:(Ljava/lang/String;)Ljava/util/Set;
      39: astore        6
      41: aload         6
      43: invokeinterface #8,  1            // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      48: astore        7
      50: aload         7
      52: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      57: ifeq          120
      60: aload         7
      62: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      67: checkcast     #31                 // class java/lang/String
      70: astore        8
      72: aload_0
      73: aload         8
      75: invokespecial #32                 // Method getExpression:(Ljava/lang/String;)Lorg/apache/activemq/filter/BooleanExpression;
      78: astore        9
      80: aload         9
      82: aload_3
      83: invokeinterface #33,  2           // InterfaceMethod org/apache/activemq/filter/BooleanExpression.matches:(Lorg/apache/activemq/filter/MessageEvaluationContext;)Z
      88: istore        4
      90: iload         4
      92: ifeq          97
      95: iconst_1
      96: ireturn
      97: goto          117
     100: astore        9
     102: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     105: aload         9
     107: invokevirtual #35                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     110: aload         9
     112: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     117: goto          50
     120: iload         4
     122: ireturn
    Exception table:
       from    to  target type
          72    96   100   Class java/lang/Exception

  private org.apache.activemq.filter.BooleanExpression getExpression(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field expressionCache:Lorg/apache/activemq/util/LRUCache;
       4: dup
       5: astore_3
       6: monitorenter
       7: aload_0
       8: getfield      #4                  // Field expressionCache:Lorg/apache/activemq/util/LRUCache;
      11: aload_1
      12: invokevirtual #37                 // Method org/apache/activemq/util/LRUCache.get:(Ljava/lang/Object;)Ljava/lang/Object;
      15: checkcast     #38                 // class org/apache/activemq/filter/BooleanExpression
      18: astore_2
      19: aload_2
      20: ifnonnull     39
      23: aload_0
      24: aload_1
      25: invokespecial #39                 // Method compileSelector:(Ljava/lang/String;)Lorg/apache/activemq/filter/BooleanExpression;
      28: astore_2
      29: aload_0
      30: getfield      #4                  // Field expressionCache:Lorg/apache/activemq/util/LRUCache;
      33: aload_1
      34: aload_2
      35: invokevirtual #40                 // Method org/apache/activemq/util/LRUCache.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      38: pop
      39: aload_3
      40: monitorexit
      41: goto          51
      44: astore        4
      46: aload_3
      47: monitorexit
      48: aload         4
      50: athrow
      51: aload_2
      52: areturn
    Exception table:
       from    to  target type
           7    41    44   any
          44    48    44   any

  private org.apache.activemq.plugin.SubQueueSelectorCacheBroker getSubQueueSelectorCacheBrokerPlugin(org.apache.activemq.broker.Broker);
    Code:
       0: aload_0
       1: getfield      #41                 // Field selectorCachePlugin:Lorg/apache/activemq/plugin/SubQueueSelectorCacheBroker;
       4: ifnonnull     23
       7: aload_0
       8: aload_1
       9: ldc_w         #42                 // class org/apache/activemq/plugin/SubQueueSelectorCacheBroker
      12: invokeinterface #43,  2           // InterfaceMethod org/apache/activemq/broker/Broker.getAdaptor:(Ljava/lang/Class;)Lorg/apache/activemq/broker/Broker;
      17: checkcast     #42                 // class org/apache/activemq/plugin/SubQueueSelectorCacheBroker
      20: putfield      #41                 // Field selectorCachePlugin:Lorg/apache/activemq/plugin/SubQueueSelectorCacheBroker;
      23: aload_0
      24: getfield      #41                 // Field selectorCachePlugin:Lorg/apache/activemq/plugin/SubQueueSelectorCacheBroker;
      27: areturn

  private org.apache.activemq.filter.BooleanExpression compileSelector(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokestatic  #44                 // Method org/apache/activemq/selector/SelectorParser.parse:(Ljava/lang/String;)Lorg/apache/activemq/filter/BooleanExpression;
       4: areturn

  static {};
    Code:
       0: ldc_w         #45                 // class org/apache/activemq/broker/region/virtual/SelectorAwareVirtualTopicInterceptor
       3: invokestatic  #46                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
