Compiled from "AbstractTempRegion.java"
public abstract class org.apache.activemq.broker.region.AbstractTempRegion extends org.apache.activemq.broker.region.AbstractRegion {
  private static final org.slf4j.Logger LOG;

  private java.util.Map<org.apache.activemq.broker.region.AbstractTempRegion$CachedDestination, org.apache.activemq.broker.region.Destination> cachedDestinations;

  private final boolean doCacheTempDestinations;

  private final int purgeTime;

  private java.util.Timer purgeTimer;

  private java.util.TimerTask purgeTask;

  public org.apache.activemq.broker.region.AbstractTempRegion(org.apache.activemq.broker.region.RegionBroker, org.apache.activemq.broker.region.DestinationStatistics, org.apache.activemq.usage.SystemUsage, org.apache.activemq.thread.TaskRunnerFactory, org.apache.activemq.broker.region.DestinationFactory);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: invokespecial #2                  // Method org/apache/activemq/broker/region/AbstractRegion."<init>":(Lorg/apache/activemq/broker/region/RegionBroker;Lorg/apache/activemq/broker/region/DestinationStatistics;Lorg/apache/activemq/usage/SystemUsage;Lorg/apache/activemq/thread/TaskRunnerFactory;Lorg/apache/activemq/broker/region/DestinationFactory;)V
      11: aload_0
      12: new           #3                  // class java/util/HashMap
      15: dup
      16: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      19: putfield      #5                  // Field cachedDestinations:Ljava/util/Map;
      22: aload_0
      23: aload_1
      24: invokevirtual #6                  // Method org/apache/activemq/broker/region/RegionBroker.getBrokerService:()Lorg/apache/activemq/broker/BrokerService;
      27: invokevirtual #7                  // Method org/apache/activemq/broker/BrokerService.isCacheTempDestinations:()Z
      30: putfield      #8                  // Field doCacheTempDestinations:Z
      33: aload_0
      34: aload_1
      35: invokevirtual #6                  // Method org/apache/activemq/broker/region/RegionBroker.getBrokerService:()Lorg/apache/activemq/broker/BrokerService;
      38: invokevirtual #9                  // Method org/apache/activemq/broker/BrokerService.getTimeBeforePurgeTempDestinations:()I
      41: putfield      #10                 // Field purgeTime:I
      44: aload_0
      45: getfield      #8                  // Field doCacheTempDestinations:Z
      48: ifeq          98
      51: aload_0
      52: new           #11                 // class java/util/Timer
      55: dup
      56: ldc           #12                 // String ActiveMQ Temp destination purge timer
      58: iconst_1
      59: invokespecial #13                 // Method java/util/Timer."<init>":(Ljava/lang/String;Z)V
      62: putfield      #14                 // Field purgeTimer:Ljava/util/Timer;
      65: aload_0
      66: new           #15                 // class org/apache/activemq/broker/region/AbstractTempRegion$1
      69: dup
      70: aload_0
      71: invokespecial #16                 // Method org/apache/activemq/broker/region/AbstractTempRegion$1."<init>":(Lorg/apache/activemq/broker/region/AbstractTempRegion;)V
      74: putfield      #17                 // Field purgeTask:Ljava/util/TimerTask;
      77: aload_0
      78: getfield      #14                 // Field purgeTimer:Ljava/util/Timer;
      81: aload_0
      82: getfield      #17                 // Field purgeTask:Ljava/util/TimerTask;
      85: aload_0
      86: getfield      #10                 // Field purgeTime:I
      89: i2l
      90: aload_0
      91: getfield      #10                 // Field purgeTime:I
      94: i2l
      95: invokevirtual #18                 // Method java/util/Timer.schedule:(Ljava/util/TimerTask;JJ)V
      98: return

  public void stop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #19                 // Method org/apache/activemq/broker/region/AbstractRegion.stop:()V
       4: aload_0
       5: getfield      #14                 // Field purgeTimer:Ljava/util/Timer;
       8: ifnull        18
      11: aload_0
      12: getfield      #14                 // Field purgeTimer:Ljava/util/Timer;
      15: invokevirtual #20                 // Method java/util/Timer.cancel:()V
      18: return

  protected synchronized org.apache.activemq.broker.region.Destination createDestination(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.command.ActiveMQDestination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field cachedDestinations:Ljava/util/Map;
       4: new           #21                 // class org/apache/activemq/broker/region/AbstractTempRegion$CachedDestination
       7: dup
       8: aload_2
       9: invokespecial #22                 // Method org/apache/activemq/broker/region/AbstractTempRegion$CachedDestination."<init>":(Lorg/apache/activemq/command/ActiveMQDestination;)V
      12: invokeinterface #23,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      17: checkcast     #24                 // class org/apache/activemq/broker/region/Destination
      20: astore_3
      21: aload_3
      22: ifnonnull     39
      25: aload_0
      26: getfield      #25                 // Field destinationFactory:Lorg/apache/activemq/broker/region/DestinationFactory;
      29: aload_1
      30: aload_2
      31: aload_0
      32: getfield      #26                 // Field destinationStatistics:Lorg/apache/activemq/broker/region/DestinationStatistics;
      35: invokevirtual #27                 // Method org/apache/activemq/broker/region/DestinationFactory.createDestination:(Lorg/apache/activemq/broker/ConnectionContext;Lorg/apache/activemq/command/ActiveMQDestination;Lorg/apache/activemq/broker/region/DestinationStatistics;)Lorg/apache/activemq/broker/region/Destination;
      38: astore_3
      39: aload_3
      40: areturn

  protected final synchronized void dispose(org.apache.activemq.broker.ConnectionContext, org.apache.activemq.broker.region.Destination) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #8                  // Field doCacheTempDestinations:Z
       4: ifeq          34
       7: aload_0
       8: getfield      #5                  // Field cachedDestinations:Ljava/util/Map;
      11: new           #21                 // class org/apache/activemq/broker/region/AbstractTempRegion$CachedDestination
      14: dup
      15: aload_2
      16: invokeinterface #28,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.getActiveMQDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
      21: invokespecial #22                 // Method org/apache/activemq/broker/region/AbstractTempRegion$CachedDestination."<init>":(Lorg/apache/activemq/command/ActiveMQDestination;)V
      24: aload_2
      25: invokeinterface #29,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      30: pop
      31: goto          63
      34: aload_2
      35: aload_1
      36: invokeinterface #30,  2           // InterfaceMethod org/apache/activemq/broker/region/Destination.dispose:(Lorg/apache/activemq/broker/ConnectionContext;)V
      41: aload_2
      42: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.stop:()V
      47: goto          63
      50: astore_3
      51: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
      54: ldc           #34                 // String Failed to dispose of {}
      56: aload_2
      57: aload_3
      58: invokeinterface #35,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      63: return
    Exception table:
       from    to  target type
          34    47    50   Class java/lang/Exception

  private void doDispose(org.apache.activemq.broker.region.Destination);
    Code:
       0: new           #36                 // class org/apache/activemq/broker/ConnectionContext
       3: dup
       4: invokespecial #37                 // Method org/apache/activemq/broker/ConnectionContext."<init>":()V
       7: astore_2
       8: aload_1
       9: aload_2
      10: invokeinterface #30,  2           // InterfaceMethod org/apache/activemq/broker/region/Destination.dispose:(Lorg/apache/activemq/broker/ConnectionContext;)V
      15: aload_1
      16: invokeinterface #31,  1           // InterfaceMethod org/apache/activemq/broker/region/Destination.stop:()V
      21: goto          37
      24: astore_3
      25: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
      28: ldc           #34                 // String Failed to dispose of {}
      30: aload_1
      31: aload_3
      32: invokeinterface #35,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      37: return
    Exception table:
       from    to  target type
           8    21    24   Class java/lang/Exception

  private synchronized void doPurge();
    Code:
       0: invokestatic  #38                 // Method java/lang/System.currentTimeMillis:()J
       3: lstore_1
       4: aload_0
       5: getfield      #5                  // Field cachedDestinations:Ljava/util/Map;
       8: invokeinterface #39,  1           // InterfaceMethod java/util/Map.size:()I
      13: ifle          109
      16: new           #40                 // class java/util/HashSet
      19: dup
      20: aload_0
      21: getfield      #5                  // Field cachedDestinations:Ljava/util/Map;
      24: invokeinterface #41,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      29: invokespecial #42                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      32: astore_3
      33: aload_3
      34: invokeinterface #43,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      39: astore        4
      41: aload         4
      43: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      48: ifeq          109
      51: aload         4
      53: invokeinterface #45,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      58: checkcast     #21                 // class org/apache/activemq/broker/region/AbstractTempRegion$CachedDestination
      61: astore        5
      63: aload         5
      65: getfield      #46                 // Field org/apache/activemq/broker/region/AbstractTempRegion$CachedDestination.timeStamp:J
      68: aload_0
      69: getfield      #10                 // Field purgeTime:I
      72: i2l
      73: ladd
      74: lload_1
      75: lcmp
      76: ifge          106
      79: aload_0
      80: getfield      #5                  // Field cachedDestinations:Ljava/util/Map;
      83: aload         5
      85: invokeinterface #23,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      90: checkcast     #24                 // class org/apache/activemq/broker/region/Destination
      93: astore        6
      95: aload         6
      97: ifnull        106
     100: aload_0
     101: aload         6
     103: invokespecial #47                 // Method doDispose:(Lorg/apache/activemq/broker/region/Destination;)V
     106: goto          41
     109: return

  static void access$000(org.apache.activemq.broker.region.AbstractTempRegion);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method doPurge:()V
       4: return

  static {};
    Code:
       0: ldc_w         #48                 // class org/apache/activemq/broker/region/TempQueueRegion
       3: invokestatic  #49                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
