Compiled from "MemoryUsage.java"
public class org.apache.activemq.usage.MemoryUsage extends org.apache.activemq.usage.Usage<org.apache.activemq.usage.MemoryUsage> {
  private long usage;

  public org.apache.activemq.usage.MemoryUsage();
    Code:
       0: aload_0
       1: aconst_null
       2: aconst_null
       3: invokespecial #1                  // Method "<init>":(Lorg/apache/activemq/usage/MemoryUsage;Ljava/lang/String;)V
       6: return

  public org.apache.activemq.usage.MemoryUsage(org.apache.activemq.usage.MemoryUsage);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #2                  // String default
       4: invokespecial #1                  // Method "<init>":(Lorg/apache/activemq/usage/MemoryUsage;Ljava/lang/String;)V
       7: return

  public org.apache.activemq.usage.MemoryUsage(java.lang.String);
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: invokespecial #1                  // Method "<init>":(Lorg/apache/activemq/usage/MemoryUsage;Ljava/lang/String;)V
       6: return

  public org.apache.activemq.usage.MemoryUsage(org.apache.activemq.usage.MemoryUsage, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: fconst_1
       4: invokespecial #3                  // Method "<init>":(Lorg/apache/activemq/usage/MemoryUsage;Ljava/lang/String;F)V
       7: return

  public org.apache.activemq.usage.MemoryUsage(org.apache.activemq.usage.MemoryUsage, java.lang.String, float);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: fload_3
       4: invokespecial #4                  // Method org/apache/activemq/usage/Usage."<init>":(Lorg/apache/activemq/usage/Usage;Ljava/lang/String;F)V
       7: return

  public void waitForSpace() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
       4: ifnull        17
       7: aload_0
       8: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      11: checkcast     #6                  // class org/apache/activemq/usage/MemoryUsage
      14: invokevirtual #7                  // Method waitForSpace:()V
      17: aload_0
      18: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      21: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      24: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      27: aload_0
      28: getfield      #11                 // Field percentUsage:I
      31: bipush        100
      33: if_icmplt     127
      36: aload_0
      37: invokevirtual #12                 // Method isStarted:()Z
      40: ifeq          127
      43: aload_0
      44: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      47: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      50: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      53: aload_0
      54: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      57: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      60: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      63: aload_0
      64: getfield      #11                 // Field percentUsage:I
      67: bipush        100
      69: if_icmplt     91
      72: aload_0
      73: invokevirtual #12                 // Method isStarted:()Z
      76: ifeq          91
      79: aload_0
      80: getfield      #16                 // Field waitForSpaceCondition:Ljava/util/concurrent/locks/Condition;
      83: invokeinterface #17,  1           // InterfaceMethod java/util/concurrent/locks/Condition.await:()V
      88: goto          63
      91: aload_0
      92: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      95: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      98: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
     101: aload_0
     102: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     105: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     108: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     111: goto          127
     114: astore_1
     115: aload_0
     116: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     119: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     122: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     125: aload_1
     126: athrow
     127: aload_0
     128: getfield      #11                 // Field percentUsage:I
     131: bipush        100
     133: if_icmplt     153
     136: aload_0
     137: invokevirtual #12                 // Method isStarted:()Z
     140: ifne          153
     143: new           #19                 // class java/lang/InterruptedException
     146: dup
     147: ldc           #20                 // String waitForSpace stopped during wait.
     149: invokespecial #21                 // Method java/lang/InterruptedException."<init>":(Ljava/lang/String;)V
     152: athrow
     153: aload_0
     154: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     157: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     160: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     163: goto          179
     166: astore_2
     167: aload_0
     168: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     171: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     174: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     177: aload_2
     178: athrow
     179: return
    Exception table:
       from    to  target type
          63   101   114   any
         114   115   114   any
          27   153   166   any
         166   167   166   any

  public boolean waitForSpace(long) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
       4: ifnull        23
       7: aload_0
       8: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      11: checkcast     #6                  // class org/apache/activemq/usage/MemoryUsage
      14: lload_1
      15: invokevirtual #22                 // Method waitForSpace:(J)Z
      18: ifne          23
      21: iconst_0
      22: ireturn
      23: aload_0
      24: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      27: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      30: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      33: aload_0
      34: getfield      #11                 // Field percentUsage:I
      37: bipush        100
      39: if_icmplt     124
      42: aload_0
      43: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      46: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      49: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      52: aload_0
      53: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      56: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      59: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      62: aload_0
      63: getfield      #11                 // Field percentUsage:I
      66: bipush        100
      68: if_icmplt     88
      71: aload_0
      72: getfield      #16                 // Field waitForSpaceCondition:Ljava/util/concurrent/locks/Condition;
      75: lload_1
      76: getstatic     #23                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      79: invokeinterface #24,  4           // InterfaceMethod java/util/concurrent/locks/Condition.await:(JLjava/util/concurrent/TimeUnit;)Z
      84: pop
      85: goto          62
      88: aload_0
      89: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      92: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      95: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      98: aload_0
      99: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     102: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     105: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     108: goto          124
     111: astore_3
     112: aload_0
     113: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     116: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
     119: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
     122: aload_3
     123: athrow
     124: aload_0
     125: getfield      #11                 // Field percentUsage:I
     128: bipush        100
     130: if_icmpge     137
     133: iconst_1
     134: goto          138
     137: iconst_0
     138: istore_3
     139: aload_0
     140: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     143: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     146: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     149: iload_3
     150: ireturn
     151: astore        4
     153: aload_0
     154: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     157: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     160: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     163: aload         4
     165: athrow
    Exception table:
       from    to  target type
          62    98   111   any
         111   112   111   any
          33   139   151   any
         151   153   151   any

  public boolean isFull();
    Code:
       0: aload_0
       1: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
       4: ifnull        22
       7: aload_0
       8: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      11: checkcast     #6                  // class org/apache/activemq/usage/MemoryUsage
      14: invokevirtual #25                 // Method isFull:()Z
      17: ifeq          22
      20: iconst_1
      21: ireturn
      22: aload_0
      23: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      26: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      29: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      32: aload_0
      33: getfield      #11                 // Field percentUsage:I
      36: bipush        100
      38: if_icmplt     45
      41: iconst_1
      42: goto          46
      45: iconst_0
      46: istore_1
      47: aload_0
      48: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      51: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      54: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      57: iload_1
      58: ireturn
      59: astore_2
      60: aload_0
      61: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      64: invokevirtual #9                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      67: invokevirtual #13                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      70: aload_2
      71: athrow
    Exception table:
       from    to  target type
          32    47    59   any
          59    60    59   any

  public void enqueueUsage(long) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method waitForSpace:()V
       4: aload_0
       5: lload_1
       6: invokevirtual #26                 // Method increaseUsage:(J)V
       9: return

  public void increaseUsage(long);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifne          7
       6: return
       7: aload_0
       8: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      11: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      14: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      17: aload_0
      18: dup
      19: getfield      #27                 // Field usage:J
      22: lload_1
      23: ladd
      24: putfield      #27                 // Field usage:J
      27: aload_0
      28: aload_0
      29: invokevirtual #28                 // Method caclPercentUsage:()I
      32: invokevirtual #29                 // Method setPercentUsage:(I)V
      35: aload_0
      36: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      39: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      42: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      45: goto          61
      48: astore_3
      49: aload_0
      50: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      53: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      56: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      59: aload_3
      60: athrow
      61: aload_0
      62: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      65: ifnull        79
      68: aload_0
      69: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      72: checkcast     #6                  // class org/apache/activemq/usage/MemoryUsage
      75: lload_1
      76: invokevirtual #26                 // Method increaseUsage:(J)V
      79: return
    Exception table:
       from    to  target type
          17    35    48   any
          48    49    48   any

  public void decreaseUsage(long);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifne          7
       6: return
       7: aload_0
       8: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      11: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      14: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.lock:()V
      17: aload_0
      18: dup
      19: getfield      #27                 // Field usage:J
      22: lload_1
      23: lsub
      24: putfield      #27                 // Field usage:J
      27: aload_0
      28: aload_0
      29: invokevirtual #28                 // Method caclPercentUsage:()I
      32: invokevirtual #29                 // Method setPercentUsage:(I)V
      35: aload_0
      36: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      39: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      42: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      45: goto          61
      48: astore_3
      49: aload_0
      50: getfield      #8                  // Field usageLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      53: invokevirtual #14                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.writeLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$WriteLock;
      56: invokevirtual #18                 // Method java/util/concurrent/locks/ReentrantReadWriteLock$WriteLock.unlock:()V
      59: aload_3
      60: athrow
      61: aload_0
      62: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      65: ifnull        79
      68: aload_0
      69: getfield      #5                  // Field parent:Lorg/apache/activemq/usage/Usage;
      72: checkcast     #6                  // class org/apache/activemq/usage/MemoryUsage
      75: lload_1
      76: invokevirtual #30                 // Method decreaseUsage:(J)V
      79: return
    Exception table:
       from    to  target type
          17    35    48   any
          48    49    48   any

  protected long retrieveUsage();
    Code:
       0: aload_0
       1: getfield      #27                 // Field usage:J
       4: lreturn

  public long getUsage();
    Code:
       0: aload_0
       1: getfield      #27                 // Field usage:J
       4: lreturn

  public void setUsage(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #27                 // Field usage:J
       5: return

  public void setPercentOfJvmHeap(int);
    Code:
       0: iload_1
       1: ifle          25
       4: aload_0
       5: invokestatic  #31                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
       8: invokevirtual #32                 // Method java/lang/Runtime.maxMemory:()J
      11: iload_1
      12: i2l
      13: lmul
      14: l2d
      15: ldc2_w        #33                 // double 100.0d
      18: ddiv
      19: invokestatic  #35                 // Method java/lang/Math.round:(D)J
      22: invokevirtual #36                 // Method setLimit:(J)V
      25: return
}
