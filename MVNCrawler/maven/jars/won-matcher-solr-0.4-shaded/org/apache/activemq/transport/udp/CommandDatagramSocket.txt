Compiled from "CommandDatagramSocket.java"
public class org.apache.activemq.transport.udp.CommandDatagramSocket extends org.apache.activemq.transport.udp.CommandChannelSupport {
  private static final org.slf4j.Logger LOG;

  private java.net.DatagramSocket channel;

  private java.lang.Object readLock;

  private java.lang.Object writeLock;

  private volatile int receiveCounter;

  public org.apache.activemq.transport.udp.CommandDatagramSocket(org.apache.activemq.transport.udp.UdpTransport, org.apache.activemq.openwire.OpenWireFormat, int, java.net.SocketAddress, org.apache.activemq.transport.udp.DatagramHeaderMarshaller, java.net.DatagramSocket);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: aload         4
       6: aload         5
       8: invokespecial #1                  // Method org/apache/activemq/transport/udp/CommandChannelSupport."<init>":(Lorg/apache/activemq/transport/udp/UdpTransport;Lorg/apache/activemq/openwire/OpenWireFormat;ILjava/net/SocketAddress;Lorg/apache/activemq/transport/udp/DatagramHeaderMarshaller;)V
      11: aload_0
      12: new           #2                  // class java/lang/Object
      15: dup
      16: invokespecial #3                  // Method java/lang/Object."<init>":()V
      19: putfield      #4                  // Field readLock:Ljava/lang/Object;
      22: aload_0
      23: new           #2                  // class java/lang/Object
      26: dup
      27: invokespecial #3                  // Method java/lang/Object."<init>":()V
      30: putfield      #5                  // Field writeLock:Ljava/lang/Object;
      33: aload_0
      34: aload         6
      36: putfield      #6                  // Field channel:Ljava/net/DatagramSocket;
      39: return

  public void start() throws java.lang.Exception;
    Code:
       0: return

  public void stop() throws java.lang.Exception;
    Code:
       0: return

  public org.apache.activemq.command.Command read() throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_1
       2: aconst_null
       3: astore_2
       4: aload_0
       5: getfield      #4                  // Field readLock:Ljava/lang/Object;
       8: dup
       9: astore_3
      10: monitorenter
      11: aload_0
      12: invokevirtual #7                  // Method createDatagramPacket:()Ljava/net/DatagramPacket;
      15: astore        4
      17: aload_0
      18: getfield      #6                  // Field channel:Ljava/net/DatagramSocket;
      21: aload         4
      23: invokevirtual #8                  // Method java/net/DatagramSocket.receive:(Ljava/net/DatagramPacket;)V
      26: aload_0
      27: dup
      28: getfield      #9                  // Field receiveCounter:I
      31: iconst_1
      32: iadd
      33: putfield      #9                  // Field receiveCounter:I
      36: new           #10                 // class java/io/DataInputStream
      39: dup
      40: new           #11                 // class org/apache/activemq/util/ByteArrayInputStream
      43: dup
      44: aload         4
      46: invokevirtual #12                 // Method java/net/DatagramPacket.getData:()[B
      49: iconst_0
      50: aload         4
      52: invokevirtual #13                 // Method java/net/DatagramPacket.getLength:()I
      55: invokespecial #14                 // Method org/apache/activemq/util/ByteArrayInputStream."<init>":([BII)V
      58: invokespecial #15                 // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      61: astore        5
      63: aload_0
      64: getfield      #16                 // Field headerMarshaller:Lorg/apache/activemq/transport/udp/DatagramHeaderMarshaller;
      67: aload         4
      69: aload         5
      71: invokevirtual #17                 // Method org/apache/activemq/transport/udp/DatagramHeaderMarshaller.createEndpoint:(Ljava/net/DatagramPacket;Ljava/io/DataInputStream;)Lorg/apache/activemq/command/Endpoint;
      74: astore_2
      75: aload_0
      76: getfield      #18                 // Field wireFormat:Lorg/apache/activemq/openwire/OpenWireFormat;
      79: aload         5
      81: invokevirtual #19                 // Method org/apache/activemq/openwire/OpenWireFormat.unmarshal:(Ljava/io/DataInput;)Ljava/lang/Object;
      84: checkcast     #20                 // class org/apache/activemq/command/Command
      87: astore_1
      88: goto          91
      91: aload_3
      92: monitorexit
      93: goto          103
      96: astore        6
      98: aload_3
      99: monitorexit
     100: aload         6
     102: athrow
     103: aload_1
     104: ifnull        164
     107: aload_1
     108: aload_2
     109: invokeinterface #21,  2           // InterfaceMethod org/apache/activemq/command/Command.setFrom:(Lorg/apache/activemq/command/Endpoint;)V
     114: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     117: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     122: ifeq          164
     125: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
     128: new           #24                 // class java/lang/StringBuilder
     131: dup
     132: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     135: ldc           #26                 // String Channel:
     137: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_0
     141: getfield      #28                 // Field name:Ljava/lang/String;
     144: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: ldc           #29                 // String  about to process:
     149: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: aload_1
     153: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     156: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     159: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     164: aload_1
     165: areturn
    Exception table:
       from    to  target type
          11    93    96   any
          96   100    96   any

  public void write(org.apache.activemq.command.Command, java.net.SocketAddress) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field writeLock:Ljava/lang/Object;
       4: dup
       5: astore_3
       6: monitorenter
       7: aload_0
       8: invokevirtual #33                 // Method createByteArrayOutputStream:()Lorg/apache/activemq/util/ByteArrayOutputStream;
      11: astore        4
      13: new           #34                 // class java/io/DataOutputStream
      16: dup
      17: aload         4
      19: invokespecial #35                 // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      22: astore        5
      24: aload_0
      25: getfield      #16                 // Field headerMarshaller:Lorg/apache/activemq/transport/udp/DatagramHeaderMarshaller;
      28: aload_1
      29: aload         5
      31: invokevirtual #36                 // Method org/apache/activemq/transport/udp/DatagramHeaderMarshaller.writeHeader:(Lorg/apache/activemq/command/Command;Ljava/io/DataOutputStream;)V
      34: aload         4
      36: invokevirtual #37                 // Method org/apache/activemq/util/ByteArrayOutputStream.size:()I
      39: istore        6
      41: aload_0
      42: getfield      #18                 // Field wireFormat:Lorg/apache/activemq/openwire/OpenWireFormat;
      45: aload_1
      46: aload         5
      48: invokevirtual #38                 // Method org/apache/activemq/openwire/OpenWireFormat.marshal:(Ljava/lang/Object;Ljava/io/DataOutput;)V
      51: aload_0
      52: aload         4
      54: invokevirtual #39                 // Method remaining:(Lorg/apache/activemq/util/ByteArrayOutputStream;)I
      57: iflt          76
      60: aload_0
      61: aload_2
      62: aload         4
      64: aload_1
      65: invokeinterface #40,  1           // InterfaceMethod org/apache/activemq/command/Command.getCommandId:()I
      70: invokevirtual #41                 // Method sendWriteBuffer:(Ljava/net/SocketAddress;Lorg/apache/activemq/util/ByteArrayOutputStream;I)V
      73: goto          343
      76: aload         4
      78: invokevirtual #42                 // Method org/apache/activemq/util/ByteArrayOutputStream.toByteArray:()[B
      81: astore        7
      83: iconst_0
      84: istore        8
      86: aload         7
      88: arraylength
      89: istore        9
      91: iconst_0
      92: istore        10
      94: iload         8
      96: ifne          343
      99: aload_0
     100: invokevirtual #33                 // Method createByteArrayOutputStream:()Lorg/apache/activemq/util/ByteArrayOutputStream;
     103: astore        4
     105: aload_0
     106: getfield      #16                 // Field headerMarshaller:Lorg/apache/activemq/transport/udp/DatagramHeaderMarshaller;
     109: aload_1
     110: aload         5
     112: invokevirtual #36                 // Method org/apache/activemq/transport/udp/DatagramHeaderMarshaller.writeHeader:(Lorg/apache/activemq/command/Command;Ljava/io/DataOutputStream;)V
     115: aload_0
     116: aload         4
     118: invokevirtual #39                 // Method remaining:(Lorg/apache/activemq/util/ByteArrayOutputStream;)I
     121: istore        11
     123: aconst_null
     124: astore        12
     126: aload_0
     127: getfield      #18                 // Field wireFormat:Lorg/apache/activemq/openwire/OpenWireFormat;
     130: invokevirtual #43                 // Method org/apache/activemq/openwire/OpenWireFormat.isTightEncodingEnabled:()Z
     133: ifeq          151
     136: new           #44                 // class org/apache/activemq/openwire/BooleanStream
     139: dup
     140: invokespecial #45                 // Method org/apache/activemq/openwire/BooleanStream."<init>":()V
     143: astore        12
     145: aload         12
     147: iconst_1
     148: invokevirtual #46                 // Method org/apache/activemq/openwire/BooleanStream.writeBoolean:(Z)V
     151: iinc          11, -9
     154: aload         12
     156: ifnull        172
     159: iload         11
     161: aload         12
     163: invokevirtual #47                 // Method org/apache/activemq/openwire/BooleanStream.marshalledSize:()I
     166: isub
     167: istore        11
     169: goto          175
     172: iinc          11, -1
     175: aload_0
     176: getfield      #18                 // Field wireFormat:Lorg/apache/activemq/openwire/OpenWireFormat;
     179: invokevirtual #48                 // Method org/apache/activemq/openwire/OpenWireFormat.isSizePrefixDisabled:()Z
     182: ifne          195
     185: aload         5
     187: iload         11
     189: invokevirtual #49                 // Method java/io/DataOutputStream.writeInt:(I)V
     192: iinc          11, -4
     195: iload         6
     197: iload         11
     199: iadd
     200: iload         9
     202: if_icmplt     209
     205: iconst_1
     206: goto          210
     209: iconst_0
     210: istore        8
     212: iload         11
     214: iload         6
     216: iadd
     217: iload         9
     219: if_icmple     229
     222: iload         9
     224: iload         6
     226: isub
     227: istore        11
     229: iload         8
     231: ifeq          244
     234: aload         5
     236: bipush        61
     238: invokevirtual #50                 // Method java/io/DataOutputStream.write:(I)V
     241: goto          251
     244: aload         5
     246: bipush        60
     248: invokevirtual #50                 // Method java/io/DataOutputStream.write:(I)V
     251: aload         12
     253: ifnull        263
     256: aload         12
     258: aload         5
     260: invokevirtual #51                 // Method org/apache/activemq/openwire/BooleanStream.marshal:(Ljava/io/DataOutput;)V
     263: aload_1
     264: invokeinterface #40,  1           // InterfaceMethod org/apache/activemq/command/Command.getCommandId:()I
     269: istore        13
     271: iload         10
     273: ifle          285
     276: aload_0
     277: getfield      #52                 // Field sequenceGenerator:Lorg/apache/activemq/util/IntSequenceGenerator;
     280: invokevirtual #53                 // Method org/apache/activemq/util/IntSequenceGenerator.getNextSequenceId:()I
     283: istore        13
     285: aload         5
     287: iload         13
     289: invokevirtual #49                 // Method java/io/DataOutputStream.writeInt:(I)V
     292: aload         12
     294: ifnonnull     303
     297: aload         5
     299: iconst_1
     300: invokevirtual #50                 // Method java/io/DataOutputStream.write:(I)V
     303: aload         5
     305: iload         11
     307: invokevirtual #49                 // Method java/io/DataOutputStream.writeInt:(I)V
     310: aload         5
     312: aload         7
     314: iload         6
     316: iload         11
     318: invokevirtual #54                 // Method java/io/DataOutputStream.write:([BII)V
     321: iload         6
     323: iload         11
     325: iadd
     326: istore        6
     328: aload_0
     329: aload_2
     330: aload         4
     332: iload         13
     334: invokevirtual #41                 // Method sendWriteBuffer:(Ljava/net/SocketAddress;Lorg/apache/activemq/util/ByteArrayOutputStream;I)V
     337: iinc          10, 1
     340: goto          94
     343: aload_3
     344: monitorexit
     345: goto          355
     348: astore        14
     350: aload_3
     351: monitorexit
     352: aload         14
     354: athrow
     355: return
    Exception table:
       from    to  target type
           7   345   348   any
         348   352   348   any

  public int getDatagramSize();
    Code:
       0: aload_0
       1: getfield      #55                 // Field datagramSize:I
       4: ireturn

  public void setDatagramSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #55                 // Field datagramSize:I
       5: return

  protected void sendWriteBuffer(java.net.SocketAddress, org.apache.activemq.util.ByteArrayOutputStream, int) throws java.io.IOException;
    Code:
       0: aload_2
       1: invokevirtual #42                 // Method org/apache/activemq/util/ByteArrayOutputStream.toByteArray:()[B
       4: astore        4
       6: aload_0
       7: iload_3
       8: aload_1
       9: aload         4
      11: iconst_0
      12: invokevirtual #56                 // Method sendWriteBuffer:(ILjava/net/SocketAddress;[BZ)V
      15: return

  protected void sendWriteBuffer(int, java.net.SocketAddress, byte[], boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #57                 // Method getReplayBuffer:()Lorg/apache/activemq/transport/reliable/ReplayBuffer;
       4: astore        5
       6: aload         5
       8: ifnull        25
      11: iload         4
      13: ifne          25
      16: aload         5
      18: iload_1
      19: aload_3
      20: invokeinterface #58,  3           // InterfaceMethod org/apache/activemq/transport/reliable/ReplayBuffer.addBuffer:(ILjava/lang/Object;)V
      25: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      28: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      33: ifeq          108
      36: iload         4
      38: ifeq          46
      41: ldc           #59                 // String REDELIVERING
      43: goto          48
      46: ldc           #60                 // String sending
      48: astore        6
      50: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      53: new           #24                 // class java/lang/StringBuilder
      56: dup
      57: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      60: ldc           #26                 // String Channel:
      62: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: aload_0
      66: getfield      #28                 // Field name:Ljava/lang/String;
      69: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: ldc           #61                 // String
      74: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload         6
      79: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: ldc           #62                 // String  datagram:
      84: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      87: iload_1
      88: invokevirtual #63                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      91: ldc           #64                 // String  to:
      93: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: aload_2
      97: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     100: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     103: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     108: new           #65                 // class java/net/DatagramPacket
     111: dup
     112: aload_3
     113: iconst_0
     114: aload_3
     115: arraylength
     116: aload_2
     117: invokespecial #66                 // Method java/net/DatagramPacket."<init>":([BIILjava/net/SocketAddress;)V
     120: astore        6
     122: aload_0
     123: getfield      #6                  // Field channel:Ljava/net/DatagramSocket;
     126: aload         6
     128: invokevirtual #67                 // Method java/net/DatagramSocket.send:(Ljava/net/DatagramPacket;)V
     131: return

  public void sendBuffer(int, java.lang.Object) throws java.io.IOException;
    Code:
       0: aload_2
       1: ifnull        26
       4: aload_2
       5: checkcast     #68                 // class "[B"
       8: checkcast     #68                 // class "[B"
      11: astore_3
      12: aload_0
      13: iload_1
      14: aload_0
      15: getfield      #69                 // Field replayAddress:Ljava/net/SocketAddress;
      18: aload_3
      19: iconst_1
      20: invokevirtual #56                 // Method sendWriteBuffer:(ILjava/net/SocketAddress;[BZ)V
      23: goto          69
      26: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      29: invokeinterface #70,  1           // InterfaceMethod org/slf4j/Logger.isWarnEnabled:()Z
      34: ifeq          69
      37: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      40: new           #24                 // class java/lang/StringBuilder
      43: dup
      44: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #71                 // String Request for buffer:
      49: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: iload_1
      53: invokevirtual #63                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      56: ldc           #72                 // String  is no longer present
      58: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: invokeinterface #73,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      69: return

  protected java.net.DatagramPacket createDatagramPacket();
    Code:
       0: new           #65                 // class java/net/DatagramPacket
       3: dup
       4: aload_0
       5: getfield      #55                 // Field datagramSize:I
       8: newarray       byte
      10: aload_0
      11: getfield      #55                 // Field datagramSize:I
      14: invokespecial #74                 // Method java/net/DatagramPacket."<init>":([BI)V
      17: areturn

  protected int remaining(org.apache.activemq.util.ByteArrayOutputStream);
    Code:
       0: aload_0
       1: getfield      #55                 // Field datagramSize:I
       4: aload_1
       5: invokevirtual #37                 // Method org/apache/activemq/util/ByteArrayOutputStream.size:()I
       8: isub
       9: ireturn

  protected org.apache.activemq.util.ByteArrayOutputStream createByteArrayOutputStream();
    Code:
       0: new           #75                 // class org/apache/activemq/util/ByteArrayOutputStream
       3: dup
       4: aload_0
       5: getfield      #55                 // Field datagramSize:I
       8: invokespecial #76                 // Method org/apache/activemq/util/ByteArrayOutputStream."<init>":(I)V
      11: areturn

  public int getReceiveCounter();
    Code:
       0: aload_0
       1: getfield      #9                  // Field receiveCounter:I
       4: ireturn

  static {};
    Code:
       0: ldc_w         #77                 // class org/apache/activemq/transport/udp/CommandDatagramSocket
       3: invokestatic  #78                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
