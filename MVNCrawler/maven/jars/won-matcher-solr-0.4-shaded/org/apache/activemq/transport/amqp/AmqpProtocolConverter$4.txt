Compiled from "AmqpProtocolConverter.java"
class org.apache.activemq.transport.amqp.AmqpProtocolConverter$4 extends org.apache.activemq.transport.amqp.AmqpProtocolConverter$BaseProducerContext {
  static final boolean $assertionsDisabled;

  final org.apache.activemq.transport.amqp.AmqpProtocolConverter this$0;

  org.apache.activemq.transport.amqp.AmqpProtocolConverter$4(org.apache.activemq.transport.amqp.AmqpProtocolConverter);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
       5: aload_0
       6: aload_1
       7: invokespecial #2                  // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter$BaseProducerContext."<init>":(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;)V
      10: return

  protected void onMessage(org.apache.qpid.proton.engine.Receiver, org.apache.qpid.proton.engine.Delivery, org.fusesource.hawtbuf.Buffer) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
       4: getfield      #3                  // Field org/apache/activemq/transport/amqp/AmqpProtocolConverter.messageFactory:Lorg/apache/qpid/proton/message/MessageFactory;
       7: invokeinterface #4,  1            // InterfaceMethod org/apache/qpid/proton/message/MessageFactory.createMessage:()Lorg/apache/qpid/proton/message/Message;
      12: astore        4
      14: aload_3
      15: getfield      #5                  // Field org/fusesource/hawtbuf/Buffer.offset:I
      18: istore        5
      20: aload_3
      21: getfield      #6                  // Field org/fusesource/hawtbuf/Buffer.length:I
      24: istore        6
      26: iload         6
      28: ifle          86
      31: aload         4
      33: aload_3
      34: getfield      #7                  // Field org/fusesource/hawtbuf/Buffer.data:[B
      37: iload         5
      39: iload         6
      41: invokeinterface #8,  4            // InterfaceMethod org/apache/qpid/proton/message/Message.decode:([BII)I
      46: istore        7
      48: getstatic     #9                  // Field $assertionsDisabled:Z
      51: ifne          69
      54: iload         7
      56: ifgt          69
      59: new           #10                 // class java/lang/AssertionError
      62: dup
      63: ldc           #11                 // String Make progress decoding the message
      65: invokespecial #12                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      68: athrow
      69: iload         5
      71: iload         7
      73: iadd
      74: istore        5
      76: iload         6
      78: iload         7
      80: isub
      81: istore        6
      83: goto          26
      86: aload         4
      88: invokeinterface #13,  1           // InterfaceMethod org/apache/qpid/proton/message/Message.getBody:()Lorg/apache/qpid/proton/amqp/messaging/Section;
      93: checkcast     #14                 // class org/apache/qpid/proton/amqp/messaging/AmqpValue
      96: invokevirtual #15                 // Method org/apache/qpid/proton/amqp/messaging/AmqpValue.getValue:()Ljava/lang/Object;
      99: astore        7
     101: invokestatic  #16                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$300:()Lorg/slf4j/Logger;
     104: ldc           #17                 // String COORDINATOR received: {}, [{}]
     106: aload         7
     108: aload_3
     109: invokeinterface #18,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     114: aload         7
     116: instanceof    #19                 // class org/apache/qpid/proton/amqp/transaction/Declare
     119: ifeq          268
     122: aload         7
     124: checkcast     #19                 // class org/apache/qpid/proton/amqp/transaction/Declare
     127: astore        8
     129: aload         8
     131: invokevirtual #20                 // Method org/apache/qpid/proton/amqp/transaction/Declare.getGlobalId:()Lorg/apache/qpid/proton/amqp/transaction/GlobalTxId;
     134: ifnull        147
     137: new           #21                 // class java/lang/Exception
     140: dup
     141: ldc           #22                 // String don\'t know how to handle a declare /w a set GlobalId
     143: invokespecial #23                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     146: athrow
     147: aload_0
     148: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     151: dup
     152: getfield      #24                 // Field org/apache/activemq/transport/amqp/AmqpProtocolConverter.nextTransactionId:J
     155: dup2_x1
     156: lconst_1
     157: ladd
     158: putfield      #24                 // Field org/apache/activemq/transport/amqp/AmqpProtocolConverter.nextTransactionId:J
     161: lstore        9
     163: new           #25                 // class org/apache/activemq/command/TransactionInfo
     166: dup
     167: aload_0
     168: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     171: invokestatic  #26                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$500:(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;)Lorg/apache/activemq/command/ConnectionId;
     174: new           #27                 // class org/apache/activemq/command/LocalTransactionId
     177: dup
     178: aload_0
     179: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     182: invokestatic  #26                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$500:(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;)Lorg/apache/activemq/command/ConnectionId;
     185: lload         9
     187: invokespecial #28                 // Method org/apache/activemq/command/LocalTransactionId."<init>":(Lorg/apache/activemq/command/ConnectionId;J)V
     190: iconst_0
     191: invokespecial #29                 // Method org/apache/activemq/command/TransactionInfo."<init>":(Lorg/apache/activemq/command/ConnectionId;Lorg/apache/activemq/command/TransactionId;B)V
     194: astore        11
     196: aload_0
     197: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     200: aload         11
     202: aconst_null
     203: invokevirtual #30                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.sendToActiveMQ:(Lorg/apache/activemq/command/Command;Lorg/apache/activemq/transport/amqp/ResponseHandler;)V
     206: invokestatic  #16                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$300:()Lorg/slf4j/Logger;
     209: ldc           #31                 // String started transaction {}
     211: lload         9
     213: invokestatic  #32                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     216: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     221: new           #34                 // class org/apache/qpid/proton/amqp/transaction/Declared
     224: dup
     225: invokespecial #35                 // Method org/apache/qpid/proton/amqp/transaction/Declared."<init>":()V
     228: astore        12
     230: aload         12
     232: new           #36                 // class org/apache/qpid/proton/amqp/Binary
     235: dup
     236: aload_0
     237: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     240: lload         9
     242: invokevirtual #37                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.toBytes:(J)[B
     245: invokespecial #38                 // Method org/apache/qpid/proton/amqp/Binary."<init>":([B)V
     248: invokevirtual #39                 // Method org/apache/qpid/proton/amqp/transaction/Declared.setTxnId:(Lorg/apache/qpid/proton/amqp/Binary;)V
     251: aload_2
     252: aload         12
     254: invokeinterface #40,  2           // InterfaceMethod org/apache/qpid/proton/engine/Delivery.disposition:(Lorg/apache/qpid/proton/amqp/transport/DeliveryState;)V
     259: aload_2
     260: invokeinterface #41,  1           // InterfaceMethod org/apache/qpid/proton/engine/Delivery.settle:()V
     265: goto          567
     268: aload         7
     270: instanceof    #42                 // class org/apache/qpid/proton/amqp/transaction/Discharge
     273: ifeq          536
     276: aload         7
     278: checkcast     #42                 // class org/apache/qpid/proton/amqp/transaction/Discharge
     281: astore        8
     283: aload_0
     284: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     287: aload         8
     289: invokevirtual #43                 // Method org/apache/qpid/proton/amqp/transaction/Discharge.getTxnId:()Lorg/apache/qpid/proton/amqp/Binary;
     292: invokestatic  #44                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$400:(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;Lorg/apache/qpid/proton/amqp/Binary;)J
     295: lstore        9
     297: aload         8
     299: invokevirtual #45                 // Method org/apache/qpid/proton/amqp/transaction/Discharge.getFail:()Ljava/lang/Boolean;
     302: invokevirtual #46                 // Method java/lang/Boolean.booleanValue:()Z
     305: ifeq          329
     308: invokestatic  #16                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$300:()Lorg/slf4j/Logger;
     311: ldc           #47                 // String rollback transaction {}
     313: lload         9
     315: invokestatic  #32                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     318: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     323: iconst_4
     324: istore        11
     326: goto          347
     329: invokestatic  #16                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$300:()Lorg/slf4j/Logger;
     332: ldc           #48                 // String commit transaction {}
     334: lload         9
     336: invokestatic  #32                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     339: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     344: iconst_2
     345: istore        11
     347: aload_1
     348: invokeinterface #49,  1           // InterfaceMethod org/apache/qpid/proton/engine/Receiver.getSession:()Lorg/apache/qpid/proton/engine/Session;
     353: invokeinterface #50,  1           // InterfaceMethod org/apache/qpid/proton/engine/Session.getContext:()Ljava/lang/Object;
     358: checkcast     #51                 // class org/apache/activemq/transport/amqp/AmqpProtocolConverter$AmqpSessionContext
     361: astore        12
     363: aload         12
     365: getfield      #52                 // Field org/apache/activemq/transport/amqp/AmqpProtocolConverter$AmqpSessionContext.consumers:Ljava/util/Map;
     368: invokeinterface #53,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     373: invokeinterface #54,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     378: astore        13
     380: aload         13
     382: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     387: ifeq          424
     390: aload         13
     392: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     397: checkcast     #57                 // class org/apache/activemq/transport/amqp/AmqpProtocolConverter$ConsumerContext
     400: astore        14
     402: iload         11
     404: iconst_4
     405: if_icmpne     416
     408: aload         14
     410: invokevirtual #58                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter$ConsumerContext.doRollback:()V
     413: goto          421
     416: aload         14
     418: invokevirtual #59                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter$ConsumerContext.doCommit:()V
     421: goto          380
     424: new           #25                 // class org/apache/activemq/command/TransactionInfo
     427: dup
     428: aload_0
     429: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     432: invokestatic  #26                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$500:(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;)Lorg/apache/activemq/command/ConnectionId;
     435: new           #27                 // class org/apache/activemq/command/LocalTransactionId
     438: dup
     439: aload_0
     440: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     443: invokestatic  #26                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.access$500:(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;)Lorg/apache/activemq/command/ConnectionId;
     446: lload         9
     448: invokespecial #28                 // Method org/apache/activemq/command/LocalTransactionId."<init>":(Lorg/apache/activemq/command/ConnectionId;J)V
     451: iload         11
     453: invokespecial #29                 // Method org/apache/activemq/command/TransactionInfo."<init>":(Lorg/apache/activemq/command/ConnectionId;Lorg/apache/activemq/command/TransactionId;B)V
     456: astore        13
     458: aload_0
     459: getfield      #1                  // Field this$0:Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter;
     462: aload         13
     464: new           #60                 // class org/apache/activemq/transport/amqp/AmqpProtocolConverter$4$1
     467: dup
     468: aload_0
     469: aload_2
     470: iload         11
     472: aload         7
     474: invokespecial #61                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter$4$1."<init>":(Lorg/apache/activemq/transport/amqp/AmqpProtocolConverter$4;Lorg/apache/qpid/proton/engine/Delivery;BLjava/lang/Object;)V
     477: invokevirtual #30                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter.sendToActiveMQ:(Lorg/apache/activemq/command/Command;Lorg/apache/activemq/transport/amqp/ResponseHandler;)V
     480: aload         12
     482: getfield      #52                 // Field org/apache/activemq/transport/amqp/AmqpProtocolConverter$AmqpSessionContext.consumers:Ljava/util/Map;
     485: invokeinterface #53,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     490: invokeinterface #54,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     495: astore        14
     497: aload         14
     499: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     504: ifeq          533
     507: aload         14
     509: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     514: checkcast     #57                 // class org/apache/activemq/transport/amqp/AmqpProtocolConverter$ConsumerContext
     517: astore        15
     519: iload         11
     521: iconst_4
     522: if_icmpne     530
     525: aload         15
     527: invokevirtual #62                 // Method org/apache/activemq/transport/amqp/AmqpProtocolConverter$ConsumerContext.pumpOutbound:()V
     530: goto          497
     533: goto          567
     536: new           #21                 // class java/lang/Exception
     539: dup
     540: new           #63                 // class java/lang/StringBuilder
     543: dup
     544: invokespecial #64                 // Method java/lang/StringBuilder."<init>":()V
     547: ldc           #65                 // String Expected coordinator message type:
     549: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     552: aload         7
     554: invokevirtual #67                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     557: invokevirtual #68                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     560: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     563: invokespecial #23                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     566: athrow
     567: return

  static {};
    Code:
       0: ldc_w         #70                 // class org/apache/activemq/transport/amqp/AmqpProtocolConverter
       3: invokevirtual #71                 // Method java/lang/Class.desiredAssertionStatus:()Z
       6: ifne          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: putstatic     #9                  // Field $assertionsDisabled:Z
      17: return
}
