Compiled from "TcpBufferedOutputStream.java"
public class org.apache.activemq.transport.tcp.TcpBufferedOutputStream extends java.io.FilterOutputStream implements org.apache.activemq.transport.tcp.TimeStampStream {
  private static final int BUFFER_SIZE;

  private byte[] buffer;

  private int bufferlen;

  private int count;

  private volatile long writeTimestamp;

  public org.apache.activemq.transport.tcp.TcpBufferedOutputStream(java.io.OutputStream);
    Code:
       0: aload_0
       1: aload_1
       2: sipush        8192
       5: invokespecial #1                  // Method "<init>":(Ljava/io/OutputStream;I)V
       8: return

  public org.apache.activemq.transport.tcp.TcpBufferedOutputStream(java.io.OutputStream, int);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method java/io/FilterOutputStream."<init>":(Ljava/io/OutputStream;)V
       5: aload_0
       6: ldc2_w        #3                  // long -1l
       9: putfield      #5                  // Field writeTimestamp:J
      12: iload_2
      13: ifgt          26
      16: new           #6                  // class java/lang/IllegalArgumentException
      19: dup
      20: ldc           #7                  // String Buffer size <= 0
      22: invokespecial #8                  // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: aload_0
      27: iload_2
      28: newarray       byte
      30: putfield      #9                  // Field buffer:[B
      33: aload_0
      34: iload_2
      35: putfield      #10                 // Field bufferlen:I
      38: return

  public void write(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field bufferlen:I
       4: aload_0
       5: getfield      #11                 // Field count:I
       8: isub
       9: iconst_1
      10: if_icmpge     17
      13: aload_0
      14: invokevirtual #12                 // Method flush:()V
      17: aload_0
      18: getfield      #9                  // Field buffer:[B
      21: aload_0
      22: dup
      23: getfield      #11                 // Field count:I
      26: dup_x1
      27: iconst_1
      28: iadd
      29: putfield      #11                 // Field count:I
      32: iload_1
      33: i2b
      34: bastore
      35: return

  public void write(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnull        96
       4: aload_0
       5: getfield      #10                 // Field bufferlen:I
       8: aload_0
       9: getfield      #11                 // Field count:I
      12: isub
      13: iload_3
      14: if_icmpge     21
      17: aload_0
      18: invokevirtual #12                 // Method flush:()V
      21: aload_0
      22: getfield      #9                  // Field buffer:[B
      25: arraylength
      26: iload_3
      27: if_icmplt     57
      30: aload_1
      31: iload_2
      32: aload_0
      33: getfield      #9                  // Field buffer:[B
      36: aload_0
      37: getfield      #11                 // Field count:I
      40: iload_3
      41: invokestatic  #13                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      44: aload_0
      45: dup
      46: getfield      #11                 // Field count:I
      49: iload_3
      50: iadd
      51: putfield      #11                 // Field count:I
      54: goto          96
      57: aload_0
      58: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      61: putfield      #5                  // Field writeTimestamp:J
      64: aload_0
      65: getfield      #15                 // Field out:Ljava/io/OutputStream;
      68: aload_1
      69: iload_2
      70: iload_3
      71: invokevirtual #16                 // Method java/io/OutputStream.write:([BII)V
      74: aload_0
      75: ldc2_w        #3                  // long -1l
      78: putfield      #5                  // Field writeTimestamp:J
      81: goto          96
      84: astore        4
      86: aload_0
      87: ldc2_w        #3                  // long -1l
      90: putfield      #5                  // Field writeTimestamp:J
      93: aload         4
      95: athrow
      96: return
    Exception table:
       from    to  target type
          57    74    84   any
          84    86    84   any

  public void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #11                 // Field count:I
       4: ifle          62
       7: aload_0
       8: getfield      #15                 // Field out:Ljava/io/OutputStream;
      11: ifnull        62
      14: aload_0
      15: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      18: putfield      #5                  // Field writeTimestamp:J
      21: aload_0
      22: getfield      #15                 // Field out:Ljava/io/OutputStream;
      25: aload_0
      26: getfield      #9                  // Field buffer:[B
      29: iconst_0
      30: aload_0
      31: getfield      #11                 // Field count:I
      34: invokevirtual #16                 // Method java/io/OutputStream.write:([BII)V
      37: aload_0
      38: ldc2_w        #3                  // long -1l
      41: putfield      #5                  // Field writeTimestamp:J
      44: goto          57
      47: astore_1
      48: aload_0
      49: ldc2_w        #3                  // long -1l
      52: putfield      #5                  // Field writeTimestamp:J
      55: aload_1
      56: athrow
      57: aload_0
      58: iconst_0
      59: putfield      #11                 // Field count:I
      62: return
    Exception table:
       from    to  target type
          14    37    47   any
          47    48    47   any

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #17                 // Method java/io/FilterOutputStream.close:()V
       4: return

  public boolean isWriting();
    Code:
       0: aload_0
       1: getfield      #5                  // Field writeTimestamp:J
       4: lconst_0
       5: lcmp
       6: ifle          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: ireturn

  public long getWriteTimestamp();
    Code:
       0: aload_0
       1: getfield      #5                  // Field writeTimestamp:J
       4: lreturn
}
