Compiled from "DestinationSource.java"
public class org.apache.activemq.advisory.DestinationSource implements javax.jms.MessageListener {
  private static final org.slf4j.Logger LOG;

  private java.util.concurrent.atomic.AtomicBoolean started;

  private final javax.jms.Connection connection;

  private javax.jms.Session session;

  private javax.jms.MessageConsumer queueConsumer;

  private javax.jms.MessageConsumer topicConsumer;

  private javax.jms.MessageConsumer tempTopicConsumer;

  private javax.jms.MessageConsumer tempQueueConsumer;

  private java.util.Set<org.apache.activemq.command.ActiveMQQueue> queues;

  private java.util.Set<org.apache.activemq.command.ActiveMQTopic> topics;

  private java.util.Set<org.apache.activemq.command.ActiveMQTempQueue> temporaryQueues;

  private java.util.Set<org.apache.activemq.command.ActiveMQTempTopic> temporaryTopics;

  private org.apache.activemq.advisory.DestinationListener listener;

  public org.apache.activemq.advisory.DestinationSource(javax.jms.Connection) throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/atomic/AtomicBoolean
       8: dup
       9: iconst_0
      10: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      13: putfield      #4                  // Field started:Ljava/util/concurrent/atomic/AtomicBoolean;
      16: aload_0
      17: new           #5                  // class java/util/concurrent/CopyOnWriteArraySet
      20: dup
      21: invokespecial #6                  // Method java/util/concurrent/CopyOnWriteArraySet."<init>":()V
      24: putfield      #7                  // Field queues:Ljava/util/Set;
      27: aload_0
      28: new           #5                  // class java/util/concurrent/CopyOnWriteArraySet
      31: dup
      32: invokespecial #6                  // Method java/util/concurrent/CopyOnWriteArraySet."<init>":()V
      35: putfield      #8                  // Field topics:Ljava/util/Set;
      38: aload_0
      39: new           #5                  // class java/util/concurrent/CopyOnWriteArraySet
      42: dup
      43: invokespecial #6                  // Method java/util/concurrent/CopyOnWriteArraySet."<init>":()V
      46: putfield      #9                  // Field temporaryQueues:Ljava/util/Set;
      49: aload_0
      50: new           #5                  // class java/util/concurrent/CopyOnWriteArraySet
      53: dup
      54: invokespecial #6                  // Method java/util/concurrent/CopyOnWriteArraySet."<init>":()V
      57: putfield      #10                 // Field temporaryTopics:Ljava/util/Set;
      60: aload_0
      61: aload_1
      62: putfield      #11                 // Field connection:Ljavax/jms/Connection;
      65: return

  public org.apache.activemq.advisory.DestinationListener getListener();
    Code:
       0: aload_0
       1: getfield      #12                 // Field listener:Lorg/apache/activemq/advisory/DestinationListener;
       4: areturn

  public void setDestinationListener(org.apache.activemq.advisory.DestinationListener);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #12                 // Field listener:Lorg/apache/activemq/advisory/DestinationListener;
       5: return

  public java.util.Set<org.apache.activemq.command.ActiveMQQueue> getQueues();
    Code:
       0: aload_0
       1: getfield      #7                  // Field queues:Ljava/util/Set;
       4: areturn

  public java.util.Set<org.apache.activemq.command.ActiveMQTopic> getTopics();
    Code:
       0: aload_0
       1: getfield      #8                  // Field topics:Ljava/util/Set;
       4: areturn

  public java.util.Set<org.apache.activemq.command.ActiveMQTempQueue> getTemporaryQueues();
    Code:
       0: aload_0
       1: getfield      #9                  // Field temporaryQueues:Ljava/util/Set;
       4: areturn

  public java.util.Set<org.apache.activemq.command.ActiveMQTempTopic> getTemporaryTopics();
    Code:
       0: aload_0
       1: getfield      #10                 // Field temporaryTopics:Ljava/util/Set;
       4: areturn

  public void start() throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field started:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #13                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          131
      12: aload_0
      13: aload_0
      14: getfield      #11                 // Field connection:Ljavax/jms/Connection;
      17: iconst_0
      18: iconst_1
      19: invokeinterface #14,  3           // InterfaceMethod javax/jms/Connection.createSession:(ZI)Ljavax/jms/Session;
      24: putfield      #15                 // Field session:Ljavax/jms/Session;
      27: aload_0
      28: aload_0
      29: getfield      #15                 // Field session:Ljavax/jms/Session;
      32: getstatic     #16                 // Field org/apache/activemq/advisory/AdvisorySupport.QUEUE_ADVISORY_TOPIC:Lorg/apache/activemq/command/ActiveMQTopic;
      35: invokeinterface #17,  2           // InterfaceMethod javax/jms/Session.createConsumer:(Ljavax/jms/Destination;)Ljavax/jms/MessageConsumer;
      40: putfield      #18                 // Field queueConsumer:Ljavax/jms/MessageConsumer;
      43: aload_0
      44: getfield      #18                 // Field queueConsumer:Ljavax/jms/MessageConsumer;
      47: aload_0
      48: invokeinterface #19,  2           // InterfaceMethod javax/jms/MessageConsumer.setMessageListener:(Ljavax/jms/MessageListener;)V
      53: aload_0
      54: aload_0
      55: getfield      #15                 // Field session:Ljavax/jms/Session;
      58: getstatic     #20                 // Field org/apache/activemq/advisory/AdvisorySupport.TOPIC_ADVISORY_TOPIC:Lorg/apache/activemq/command/ActiveMQTopic;
      61: invokeinterface #17,  2           // InterfaceMethod javax/jms/Session.createConsumer:(Ljavax/jms/Destination;)Ljavax/jms/MessageConsumer;
      66: putfield      #21                 // Field topicConsumer:Ljavax/jms/MessageConsumer;
      69: aload_0
      70: getfield      #21                 // Field topicConsumer:Ljavax/jms/MessageConsumer;
      73: aload_0
      74: invokeinterface #19,  2           // InterfaceMethod javax/jms/MessageConsumer.setMessageListener:(Ljavax/jms/MessageListener;)V
      79: aload_0
      80: aload_0
      81: getfield      #15                 // Field session:Ljavax/jms/Session;
      84: getstatic     #22                 // Field org/apache/activemq/advisory/AdvisorySupport.TEMP_QUEUE_ADVISORY_TOPIC:Lorg/apache/activemq/command/ActiveMQTopic;
      87: invokeinterface #17,  2           // InterfaceMethod javax/jms/Session.createConsumer:(Ljavax/jms/Destination;)Ljavax/jms/MessageConsumer;
      92: putfield      #23                 // Field tempQueueConsumer:Ljavax/jms/MessageConsumer;
      95: aload_0
      96: getfield      #23                 // Field tempQueueConsumer:Ljavax/jms/MessageConsumer;
      99: aload_0
     100: invokeinterface #19,  2           // InterfaceMethod javax/jms/MessageConsumer.setMessageListener:(Ljavax/jms/MessageListener;)V
     105: aload_0
     106: aload_0
     107: getfield      #15                 // Field session:Ljavax/jms/Session;
     110: getstatic     #24                 // Field org/apache/activemq/advisory/AdvisorySupport.TEMP_TOPIC_ADVISORY_TOPIC:Lorg/apache/activemq/command/ActiveMQTopic;
     113: invokeinterface #17,  2           // InterfaceMethod javax/jms/Session.createConsumer:(Ljavax/jms/Destination;)Ljavax/jms/MessageConsumer;
     118: putfield      #25                 // Field tempTopicConsumer:Ljavax/jms/MessageConsumer;
     121: aload_0
     122: getfield      #25                 // Field tempTopicConsumer:Ljavax/jms/MessageConsumer;
     125: aload_0
     126: invokeinterface #19,  2           // InterfaceMethod javax/jms/MessageConsumer.setMessageListener:(Ljavax/jms/MessageListener;)V
     131: return

  public void stop() throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field started:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: iconst_0
       6: invokevirtual #13                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          28
      12: aload_0
      13: getfield      #15                 // Field session:Ljavax/jms/Session;
      16: ifnull        28
      19: aload_0
      20: getfield      #15                 // Field session:Ljavax/jms/Session;
      23: invokeinterface #26,  1           // InterfaceMethod javax/jms/Session.close:()V
      28: return

  public void onMessage(javax.jms.Message);
    Code:
       0: aload_1
       1: instanceof    #27                 // class org/apache/activemq/command/ActiveMQMessage
       4: ifeq          81
       7: aload_1
       8: checkcast     #27                 // class org/apache/activemq/command/ActiveMQMessage
      11: astore_2
      12: aload_2
      13: invokevirtual #28                 // Method org/apache/activemq/command/ActiveMQMessage.getDataStructure:()Lorg/apache/activemq/command/DataStructure;
      16: astore_3
      17: aload_3
      18: instanceof    #29                 // class org/apache/activemq/command/DestinationInfo
      21: ifeq          51
      24: aload_3
      25: checkcast     #29                 // class org/apache/activemq/command/DestinationInfo
      28: astore        4
      30: new           #30                 // class org/apache/activemq/advisory/DestinationEvent
      33: dup
      34: aload_0
      35: aload         4
      37: invokespecial #31                 // Method org/apache/activemq/advisory/DestinationEvent."<init>":(Lorg/apache/activemq/advisory/DestinationSource;Lorg/apache/activemq/command/DestinationInfo;)V
      40: astore        5
      42: aload_0
      43: aload         5
      45: invokevirtual #32                 // Method fireDestinationEvent:(Lorg/apache/activemq/advisory/DestinationEvent;)V
      48: goto          78
      51: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
      54: new           #34                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #36                 // String Unknown dataStructure:
      63: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_3
      67: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      70: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      73: invokeinterface #40,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      78: goto          113
      81: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
      84: new           #34                 // class java/lang/StringBuilder
      87: dup
      88: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
      91: ldc           #41                 // String Unknown message type:
      93: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: aload_1
      97: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     100: ldc           #42                 // String . Message ignored
     102: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     108: invokeinterface #40,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     113: return

  protected void fireDestinationEvent(org.apache.activemq.advisory.DestinationEvent);
    Code:
       0: aload_1
       1: invokevirtual #43                 // Method org/apache/activemq/advisory/DestinationEvent.getDestination:()Lorg/apache/activemq/command/ActiveMQDestination;
       4: astore_2
       5: aload_1
       6: invokevirtual #44                 // Method org/apache/activemq/advisory/DestinationEvent.isAddOperation:()Z
       9: istore_3
      10: aload_2
      11: instanceof    #45                 // class org/apache/activemq/command/ActiveMQQueue
      14: ifeq          57
      17: aload_2
      18: checkcast     #45                 // class org/apache/activemq/command/ActiveMQQueue
      21: astore        4
      23: iload_3
      24: ifeq          42
      27: aload_0
      28: getfield      #7                  // Field queues:Ljava/util/Set;
      31: aload         4
      33: invokeinterface #46,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      38: pop
      39: goto          54
      42: aload_0
      43: getfield      #7                  // Field queues:Ljava/util/Set;
      46: aload         4
      48: invokeinterface #47,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      53: pop
      54: goto          225
      57: aload_2
      58: instanceof    #48                 // class org/apache/activemq/command/ActiveMQTopic
      61: ifeq          104
      64: aload_2
      65: checkcast     #48                 // class org/apache/activemq/command/ActiveMQTopic
      68: astore        4
      70: iload_3
      71: ifeq          89
      74: aload_0
      75: getfield      #8                  // Field topics:Ljava/util/Set;
      78: aload         4
      80: invokeinterface #46,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      85: pop
      86: goto          101
      89: aload_0
      90: getfield      #8                  // Field topics:Ljava/util/Set;
      93: aload         4
      95: invokeinterface #47,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     100: pop
     101: goto          225
     104: aload_2
     105: instanceof    #49                 // class org/apache/activemq/command/ActiveMQTempQueue
     108: ifeq          151
     111: aload_2
     112: checkcast     #49                 // class org/apache/activemq/command/ActiveMQTempQueue
     115: astore        4
     117: iload_3
     118: ifeq          136
     121: aload_0
     122: getfield      #9                  // Field temporaryQueues:Ljava/util/Set;
     125: aload         4
     127: invokeinterface #46,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     132: pop
     133: goto          148
     136: aload_0
     137: getfield      #9                  // Field temporaryQueues:Ljava/util/Set;
     140: aload         4
     142: invokeinterface #47,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     147: pop
     148: goto          225
     151: aload_2
     152: instanceof    #50                 // class org/apache/activemq/command/ActiveMQTempTopic
     155: ifeq          198
     158: aload_2
     159: checkcast     #50                 // class org/apache/activemq/command/ActiveMQTempTopic
     162: astore        4
     164: iload_3
     165: ifeq          183
     168: aload_0
     169: getfield      #10                 // Field temporaryTopics:Ljava/util/Set;
     172: aload         4
     174: invokeinterface #46,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     179: pop
     180: goto          195
     183: aload_0
     184: getfield      #10                 // Field temporaryTopics:Ljava/util/Set;
     187: aload         4
     189: invokeinterface #47,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     194: pop
     195: goto          225
     198: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
     201: new           #34                 // class java/lang/StringBuilder
     204: dup
     205: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     208: ldc           #51                 // String Unknown destination type:
     210: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     213: aload_2
     214: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     217: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     220: invokeinterface #40,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     225: aload_0
     226: getfield      #12                 // Field listener:Lorg/apache/activemq/advisory/DestinationListener;
     229: ifnull        242
     232: aload_0
     233: getfield      #12                 // Field listener:Lorg/apache/activemq/advisory/DestinationListener;
     236: aload_1
     237: invokeinterface #52,  2           // InterfaceMethod org/apache/activemq/advisory/DestinationListener.onDestinationEvent:(Lorg/apache/activemq/advisory/DestinationEvent;)V
     242: return

  static {};
    Code:
       0: ldc_w         #53                 // class org/apache/activemq/advisory/ConsumerEventSource
       3: invokestatic  #54                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
       9: return
}
