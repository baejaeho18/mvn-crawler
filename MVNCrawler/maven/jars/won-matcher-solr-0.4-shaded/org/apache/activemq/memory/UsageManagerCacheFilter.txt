Compiled from "UsageManagerCacheFilter.java"
public class org.apache.activemq.memory.UsageManagerCacheFilter extends org.apache.activemq.memory.CacheFilter {
  private final java.util.concurrent.atomic.AtomicLong totalUsage;

  private final org.apache.activemq.usage.MemoryUsage usage;

  public org.apache.activemq.memory.UsageManagerCacheFilter(org.apache.activemq.memory.Cache, org.apache.activemq.usage.MemoryUsage);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/apache/activemq/memory/CacheFilter."<init>":(Lorg/apache/activemq/memory/Cache;)V
       5: aload_0
       6: new           #2                  // class java/util/concurrent/atomic/AtomicLong
       9: dup
      10: lconst_0
      11: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      14: putfield      #4                  // Field totalUsage:Ljava/util/concurrent/atomic/AtomicLong;
      17: aload_0
      18: aload_2
      19: putfield      #5                  // Field usage:Lorg/apache/activemq/usage/MemoryUsage;
      22: return

  public java.lang.Object put(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: aload_2
       2: invokevirtual #6                  // Method getUsageOfAddedObject:(Ljava/lang/Object;)J
       5: lstore_3
       6: aload_0
       7: aload_1
       8: aload_2
       9: invokespecial #7                  // Method org/apache/activemq/memory/CacheFilter.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      12: astore        5
      14: aload         5
      16: ifnull        28
      19: lload_3
      20: aload_0
      21: aload         5
      23: invokevirtual #8                  // Method getUsageOfRemovedObject:(Ljava/lang/Object;)J
      26: lsub
      27: lstore_3
      28: aload_0
      29: getfield      #4                  // Field totalUsage:Ljava/util/concurrent/atomic/AtomicLong;
      32: lload_3
      33: invokevirtual #9                  // Method java/util/concurrent/atomic/AtomicLong.addAndGet:(J)J
      36: pop2
      37: aload_0
      38: getfield      #5                  // Field usage:Lorg/apache/activemq/usage/MemoryUsage;
      41: lload_3
      42: invokevirtual #10                 // Method org/apache/activemq/usage/MemoryUsage.increaseUsage:(J)V
      45: aload         5
      47: areturn

  public java.lang.Object remove(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #11                 // Method org/apache/activemq/memory/CacheFilter.remove:(Ljava/lang/Object;)Ljava/lang/Object;
       5: astore_2
       6: aload_2
       7: ifnull        34
      10: aload_0
      11: aload_2
      12: invokevirtual #8                  // Method getUsageOfRemovedObject:(Ljava/lang/Object;)J
      15: lstore_3
      16: aload_0
      17: getfield      #4                  // Field totalUsage:Ljava/util/concurrent/atomic/AtomicLong;
      20: lload_3
      21: lneg
      22: invokevirtual #9                  // Method java/util/concurrent/atomic/AtomicLong.addAndGet:(J)J
      25: pop2
      26: aload_0
      27: getfield      #5                  // Field usage:Lorg/apache/activemq/usage/MemoryUsage;
      30: lload_3
      31: invokevirtual #12                 // Method org/apache/activemq/usage/MemoryUsage.decreaseUsage:(J)V
      34: aload_2
      35: areturn

  protected long getUsageOfAddedObject(java.lang.Object);
    Code:
       0: lconst_1
       1: lreturn

  protected long getUsageOfRemovedObject(java.lang.Object);
    Code:
       0: lconst_1
       1: lreturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #5                  // Field usage:Lorg/apache/activemq/usage/MemoryUsage;
       4: aload_0
       5: getfield      #4                  // Field totalUsage:Ljava/util/concurrent/atomic/AtomicLong;
       8: invokevirtual #13                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
      11: invokevirtual #12                 // Method org/apache/activemq/usage/MemoryUsage.decreaseUsage:(J)V
      14: return
}
