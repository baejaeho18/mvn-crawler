Compiled from "DefaultSubscriptionRegistry.java"
class org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry$DestinationCache {
  private final java.util.Map<java.lang.String, org.springframework.util.LinkedMultiValueMap<java.lang.String, java.lang.String>> accessCache;

  private final java.util.Map<java.lang.String, org.springframework.util.LinkedMultiValueMap<java.lang.String, java.lang.String>> updateCache;

  final org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry this$0;

  private org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry$DestinationCache(org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field this$0:Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry;
       5: aload_0
       6: invokespecial #5                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #6                  // class java/util/concurrent/ConcurrentHashMap
      13: dup
      14: sipush        1024
      17: invokespecial #7                  // Method java/util/concurrent/ConcurrentHashMap."<init>":(I)V
      20: putfield      #2                  // Field accessCache:Ljava/util/Map;
      23: aload_0
      24: new           #8                  // class org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$DestinationCache$1
      27: dup
      28: aload_0
      29: sipush        1024
      32: ldc           #9                  // float 0.75f
      34: iconst_1
      35: invokespecial #10                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$DestinationCache$1."<init>":(Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$DestinationCache;IFZ)V
      38: putfield      #11                 // Field updateCache:Ljava/util/Map;
      41: return

  public org.springframework.util.LinkedMultiValueMap<java.lang.String, java.lang.String> getSubscriptions(java.lang.String, org.springframework.messaging.Message<?>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field accessCache:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #12,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #13                 // class org/springframework/util/LinkedMultiValueMap
      13: astore_3
      14: aload_3
      15: ifnonnull     232
      18: aload_0
      19: getfield      #11                 // Field updateCache:Ljava/util/Map;
      22: dup
      23: astore        4
      25: monitorenter
      26: new           #13                 // class org/springframework/util/LinkedMultiValueMap
      29: dup
      30: invokespecial #14                 // Method org/springframework/util/LinkedMultiValueMap."<init>":()V
      33: astore_3
      34: aload_0
      35: getfield      #4                  // Field this$0:Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry;
      38: invokestatic  #15                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry.access$400:(Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry;)Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionRegistry;
      41: invokevirtual #16                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionRegistry.getAllSubscriptions:()Ljava/util/Collection;
      44: invokeinterface #17,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      49: astore        5
      51: aload         5
      53: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifeq          184
      61: aload         5
      63: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      68: checkcast     #20                 // class org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionInfo
      71: astore        6
      73: aload         6
      75: invokevirtual #21                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionInfo.getDestinations:()Ljava/util/Set;
      78: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      83: astore        7
      85: aload         7
      87: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      92: ifeq          181
      95: aload         7
      97: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     102: checkcast     #23                 // class java/lang/String
     105: astore        8
     107: aload_0
     108: getfield      #4                  // Field this$0:Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry;
     111: invokevirtual #24                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry.getPathMatcher:()Lorg/springframework/util/PathMatcher;
     114: aload         8
     116: aload_1
     117: invokeinterface #25,  3           // InterfaceMethod org/springframework/util/PathMatcher.match:(Ljava/lang/String;Ljava/lang/String;)Z
     122: ifeq          178
     125: aload         6
     127: aload         8
     129: invokevirtual #26                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionInfo.getSubscriptions:(Ljava/lang/String;)Ljava/util/Set;
     132: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     137: astore        9
     139: aload         9
     141: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     146: ifeq          178
     149: aload         9
     151: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     156: checkcast     #27                 // class org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$Subscription
     159: astore        10
     161: aload_3
     162: aload         6
     164: invokestatic  #28                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionInfo.access$500:(Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionInfo;)Ljava/lang/String;
     167: aload         10
     169: invokevirtual #29                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$Subscription.getId:()Ljava/lang/String;
     172: invokevirtual #30                 // Method org/springframework/util/LinkedMultiValueMap.add:(Ljava/lang/Object;Ljava/lang/Object;)V
     175: goto          139
     178: goto          85
     181: goto          51
     184: aload_3
     185: invokevirtual #31                 // Method org/springframework/util/LinkedMultiValueMap.isEmpty:()Z
     188: ifne          218
     191: aload_0
     192: getfield      #11                 // Field updateCache:Ljava/util/Map;
     195: aload_1
     196: aload_3
     197: invokevirtual #32                 // Method org/springframework/util/LinkedMultiValueMap.deepCopy:()Lorg/springframework/util/LinkedMultiValueMap;
     200: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     205: pop
     206: aload_0
     207: getfield      #2                  // Field accessCache:Ljava/util/Map;
     210: aload_1
     211: aload_3
     212: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     217: pop
     218: aload         4
     220: monitorexit
     221: goto          232
     224: astore        11
     226: aload         4
     228: monitorexit
     229: aload         11
     231: athrow
     232: aload_3
     233: areturn
    Exception table:
       from    to  target type
          26   221   224   any
         224   229   224   any

  public void updateAfterNewSubscription(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #11                 // Field updateCache:Ljava/util/Map;
       4: dup
       5: astore        4
       7: monitorenter
       8: aload_0
       9: getfield      #11                 // Field updateCache:Ljava/util/Map;
      12: invokeinterface #34,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      17: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      22: astore        5
      24: aload         5
      26: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          139
      34: aload         5
      36: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      41: checkcast     #35                 // class java/util/Map$Entry
      44: astore        6
      46: aload         6
      48: invokeinterface #36,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      53: checkcast     #23                 // class java/lang/String
      56: astore        7
      58: aload_0
      59: getfield      #4                  // Field this$0:Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry;
      62: invokevirtual #24                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry.getPathMatcher:()Lorg/springframework/util/PathMatcher;
      65: aload_1
      66: aload         7
      68: invokeinterface #25,  3           // InterfaceMethod org/springframework/util/PathMatcher.match:(Ljava/lang/String;Ljava/lang/String;)Z
      73: ifeq          136
      76: aload         6
      78: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      83: checkcast     #13                 // class org/springframework/util/LinkedMultiValueMap
      86: astore        8
      88: aload         8
      90: aload_2
      91: invokevirtual #38                 // Method org/springframework/util/LinkedMultiValueMap.get:(Ljava/lang/Object;)Ljava/util/List;
      94: astore        9
      96: aload         9
      98: ifnull        112
     101: aload         9
     103: aload_3
     104: invokeinterface #39,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     109: ifne          136
     112: aload         8
     114: aload_2
     115: aload_3
     116: invokevirtual #30                 // Method org/springframework/util/LinkedMultiValueMap.add:(Ljava/lang/Object;Ljava/lang/Object;)V
     119: aload_0
     120: getfield      #2                  // Field accessCache:Ljava/util/Map;
     123: aload         7
     125: aload         8
     127: invokevirtual #32                 // Method org/springframework/util/LinkedMultiValueMap.deepCopy:()Lorg/springframework/util/LinkedMultiValueMap;
     130: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     135: pop
     136: goto          24
     139: aload         4
     141: monitorexit
     142: goto          153
     145: astore        10
     147: aload         4
     149: monitorexit
     150: aload         10
     152: athrow
     153: return
    Exception table:
       from    to  target type
           8   142   145   any
         145   150   145   any

  public void updateAfterRemovedSubscription(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #11                 // Field updateCache:Ljava/util/Map;
       4: dup
       5: astore_3
       6: monitorenter
       7: new           #40                 // class java/util/HashSet
      10: dup
      11: invokespecial #41                 // Method java/util/HashSet."<init>":()V
      14: astore        4
      16: aload_0
      17: getfield      #11                 // Field updateCache:Ljava/util/Map;
      20: invokeinterface #34,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      25: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      30: astore        5
      32: aload         5
      34: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      39: ifeq          158
      42: aload         5
      44: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      49: checkcast     #35                 // class java/util/Map$Entry
      52: astore        6
      54: aload         6
      56: invokeinterface #36,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      61: checkcast     #23                 // class java/lang/String
      64: astore        7
      66: aload         6
      68: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      73: checkcast     #13                 // class org/springframework/util/LinkedMultiValueMap
      76: astore        8
      78: aload         8
      80: aload_1
      81: invokevirtual #38                 // Method org/springframework/util/LinkedMultiValueMap.get:(Ljava/lang/Object;)Ljava/util/List;
      84: astore        9
      86: aload         9
      88: ifnull        155
      91: aload         9
      93: aload_2
      94: invokeinterface #42,  2           // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      99: pop
     100: aload         9
     102: invokeinterface #43,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     107: ifeq          117
     110: aload         8
     112: aload_1
     113: invokevirtual #44                 // Method org/springframework/util/LinkedMultiValueMap.remove:(Ljava/lang/Object;)Ljava/util/List;
     116: pop
     117: aload         8
     119: invokevirtual #31                 // Method org/springframework/util/LinkedMultiValueMap.isEmpty:()Z
     122: ifeq          138
     125: aload         4
     127: aload         7
     129: invokeinterface #45,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     134: pop
     135: goto          155
     138: aload_0
     139: getfield      #2                  // Field accessCache:Ljava/util/Map;
     142: aload         7
     144: aload         8
     146: invokevirtual #32                 // Method org/springframework/util/LinkedMultiValueMap.deepCopy:()Lorg/springframework/util/LinkedMultiValueMap;
     149: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     154: pop
     155: goto          32
     158: aload         4
     160: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     165: astore        5
     167: aload         5
     169: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     174: ifeq          216
     177: aload         5
     179: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     184: checkcast     #23                 // class java/lang/String
     187: astore        6
     189: aload_0
     190: getfield      #11                 // Field updateCache:Ljava/util/Map;
     193: aload         6
     195: invokeinterface #46,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     200: pop
     201: aload_0
     202: getfield      #2                  // Field accessCache:Ljava/util/Map;
     205: aload         6
     207: invokeinterface #46,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     212: pop
     213: goto          167
     216: aload_3
     217: monitorexit
     218: goto          228
     221: astore        10
     223: aload_3
     224: monitorexit
     225: aload         10
     227: athrow
     228: return
    Exception table:
       from    to  target type
           7   218   221   any
         221   225   221   any

  public void updateAfterRemovedSession(org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry$SessionSubscriptionInfo);
    Code:
       0: aload_0
       1: getfield      #11                 // Field updateCache:Ljava/util/Map;
       4: dup
       5: astore_2
       6: monitorenter
       7: new           #40                 // class java/util/HashSet
      10: dup
      11: invokespecial #41                 // Method java/util/HashSet."<init>":()V
      14: astore_3
      15: aload_0
      16: getfield      #11                 // Field updateCache:Ljava/util/Map;
      19: invokeinterface #34,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      24: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      29: astore        4
      31: aload         4
      33: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      38: ifeq          129
      41: aload         4
      43: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      48: checkcast     #35                 // class java/util/Map$Entry
      51: astore        5
      53: aload         5
      55: invokeinterface #36,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      60: checkcast     #23                 // class java/lang/String
      63: astore        6
      65: aload         5
      67: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      72: checkcast     #13                 // class org/springframework/util/LinkedMultiValueMap
      75: astore        7
      77: aload         7
      79: aload_1
      80: invokevirtual #47                 // Method org/springframework/messaging/simp/broker/DefaultSubscriptionRegistry$SessionSubscriptionInfo.getSessionId:()Ljava/lang/String;
      83: invokevirtual #44                 // Method org/springframework/util/LinkedMultiValueMap.remove:(Ljava/lang/Object;)Ljava/util/List;
      86: ifnull        126
      89: aload         7
      91: invokevirtual #31                 // Method org/springframework/util/LinkedMultiValueMap.isEmpty:()Z
      94: ifeq          109
      97: aload_3
      98: aload         6
     100: invokeinterface #45,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     105: pop
     106: goto          126
     109: aload_0
     110: getfield      #2                  // Field accessCache:Ljava/util/Map;
     113: aload         6
     115: aload         7
     117: invokevirtual #32                 // Method org/springframework/util/LinkedMultiValueMap.deepCopy:()Lorg/springframework/util/LinkedMultiValueMap;
     120: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     125: pop
     126: goto          31
     129: aload_3
     130: invokeinterface #22,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     135: astore        4
     137: aload         4
     139: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     144: ifeq          186
     147: aload         4
     149: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     154: checkcast     #23                 // class java/lang/String
     157: astore        5
     159: aload_0
     160: getfield      #11                 // Field updateCache:Ljava/util/Map;
     163: aload         5
     165: invokeinterface #46,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     170: pop
     171: aload_0
     172: getfield      #2                  // Field accessCache:Ljava/util/Map;
     175: aload         5
     177: invokeinterface #46,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     182: pop
     183: goto          137
     186: aload_2
     187: monitorexit
     188: goto          198
     191: astore        8
     193: aload_2
     194: monitorexit
     195: aload         8
     197: athrow
     198: return
    Exception table:
       from    to  target type
           7   188   191   any
         191   195   191   any

  public java.lang.String toString();
    Code:
       0: new           #48                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #50                 // String cache[
       9: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #2                  // Field accessCache:Ljava/util/Map;
      16: invokeinterface #52,  1           // InterfaceMethod java/util/Map.size:()I
      21: invokevirtual #53                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      24: ldc           #54                 // String  destination(s)]
      26: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: invokevirtual #55                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: areturn

  org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry$DestinationCache(org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry, org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry$1);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #3                  // Method "<init>":(Lorg/springframework/messaging/simp/broker/DefaultSubscriptionRegistry;)V
       5: return

  static java.util.Map access$300(org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry$DestinationCache);
    Code:
       0: aload_0
       1: getfield      #2                  // Field accessCache:Ljava/util/Map;
       4: areturn
}
