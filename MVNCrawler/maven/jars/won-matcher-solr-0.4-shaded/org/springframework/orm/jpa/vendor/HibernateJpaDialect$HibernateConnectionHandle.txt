Compiled from "HibernateJpaDialect.java"
class org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle implements org.springframework.jdbc.datasource.ConnectionHandle {
  private static final java.lang.reflect.Method sessionConnectionMethod;

  private static volatile java.lang.reflect.Method connectionMethodToUse;

  private final org.hibernate.Session session;

  public org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle(org.hibernate.Session);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field session:Lorg/hibernate/Session;
       9: return

  public java.sql.Connection getConnection();
    Code:
       0: aload_0
       1: getfield      #3                  // Field session:Lorg/hibernate/Session;
       4: invokestatic  #4                  // Method doGetConnection:(Lorg/hibernate/Session;)Ljava/sql/Connection;
       7: areturn

  public void releaseConnection(java.sql.Connection);
    Code:
       0: getstatic     #1                  // Field sessionConnectionMethod:Ljava/lang/reflect/Method;
       3: ifnull        10
       6: aload_1
       7: invokestatic  #5                  // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
      10: return

  public static java.sql.Connection doGetConnection(org.hibernate.Session);
    Code:
       0: getstatic     #6                  // Field connectionMethodToUse:Ljava/lang/reflect/Method;
       3: ifnonnull     22
       6: aload_0
       7: invokevirtual #7                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
      10: ldc           #8                  // String connection
      12: iconst_0
      13: anewarray     #9                  // class java/lang/Class
      16: invokevirtual #10                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      19: putstatic     #6                  // Field connectionMethodToUse:Ljava/lang/reflect/Method;
      22: getstatic     #6                  // Field connectionMethodToUse:Ljava/lang/reflect/Method;
      25: aload_0
      26: invokestatic  #11                 // Method org/springframework/util/ReflectionUtils.invokeMethod:(Ljava/lang/reflect/Method;Ljava/lang/Object;)Ljava/lang/Object;
      29: checkcast     #12                 // class java/sql/Connection
      32: areturn
      33: astore_1
      34: new           #14                 // class java/lang/IllegalStateException
      37: dup
      38: ldc           #15                 // String Cannot find connection() method on Hibernate Session
      40: aload_1
      41: invokespecial #16                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      44: athrow
    Exception table:
       from    to  target type
           0    32    33   Class java/lang/NoSuchMethodException

  static java.lang.reflect.Method access$000();
    Code:
       0: getstatic     #1                  // Field sessionConnectionMethod:Ljava/lang/reflect/Method;
       3: areturn

  static {};
    Code:
       0: ldc           #17                 // class org/hibernate/Session
       2: ldc           #8                  // String connection
       4: iconst_0
       5: anewarray     #9                  // class java/lang/Class
       8: invokestatic  #18                 // Method org/springframework/util/ClassUtils.getMethodIfAvailable:(Ljava/lang/Class;Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      11: putstatic     #1                  // Field sessionConnectionMethod:Ljava/lang/reflect/Method;
      14: getstatic     #1                  // Field sessionConnectionMethod:Ljava/lang/reflect/Method;
      17: putstatic     #6                  // Field connectionMethodToUse:Ljava/lang/reflect/Method;
      20: return
}
