Compiled from "DatabaseStartupValidator.java"
public class org.springframework.jdbc.support.DatabaseStartupValidator implements org.springframework.beans.factory.InitializingBean {
  public static final int DEFAULT_INTERVAL;

  public static final int DEFAULT_TIMEOUT;

  protected final org.apache.commons.logging.Log logger;

  private javax.sql.DataSource dataSource;

  private java.lang.String validationQuery;

  private int interval;

  private int timeout;

  public org.springframework.jdbc.support.DatabaseStartupValidator();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #3                  // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
      12: putfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
      15: aload_0
      16: iconst_1
      17: putfield      #6                  // Field interval:I
      20: aload_0
      21: bipush        60
      23: putfield      #7                  // Field timeout:I
      26: return

  public void setDataSource(javax.sql.DataSource);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #8                  // Field dataSource:Ljavax/sql/DataSource;
       5: return

  public void setValidationQuery(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field validationQuery:Ljava/lang/String;
       5: return

  public void setInterval(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #6                  // Field interval:I
       5: return

  public void setTimeout(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #7                  // Field timeout:I
       5: return

  public void afterPropertiesSet();
    Code:
       0: aload_0
       1: getfield      #8                  // Field dataSource:Ljavax/sql/DataSource;
       4: astore_1
       5: aload_1
       6: ifnonnull     19
       9: new           #10                 // class java/lang/IllegalArgumentException
      12: dup
      13: ldc           #11                 // String Property \'dataSource\' is required
      15: invokespecial #12                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      18: athrow
      19: aload_0
      20: getfield      #9                  // Field validationQuery:Ljava/lang/String;
      23: ifnonnull     36
      26: new           #10                 // class java/lang/IllegalArgumentException
      29: dup
      30: ldc           #13                 // String Property \'validationQuery\' is required
      32: invokespecial #12                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      35: athrow
      36: iconst_0
      37: istore_2
      38: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      41: lstore_3
      42: lload_3
      43: aload_0
      44: getfield      #7                  // Field timeout:I
      47: sipush        1000
      50: imul
      51: i2l
      52: ladd
      53: lstore        5
      55: aconst_null
      56: astore        7
      58: iload_2
      59: ifne          305
      62: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
      65: lload         5
      67: lcmp
      68: ifge          305
      71: aconst_null
      72: astore        8
      74: aconst_null
      75: astore        9
      77: aload_1
      78: invokeinterface #15,  1           // InterfaceMethod javax/sql/DataSource.getConnection:()Ljava/sql/Connection;
      83: astore        8
      85: aload         8
      87: invokeinterface #16,  1           // InterfaceMethod java/sql/Connection.createStatement:()Ljava/sql/Statement;
      92: astore        9
      94: aload         9
      96: aload_0
      97: getfield      #9                  // Field validationQuery:Ljava/lang/String;
     100: invokeinterface #17,  2           // InterfaceMethod java/sql/Statement.execute:(Ljava/lang/String;)Z
     105: pop
     106: iconst_1
     107: istore_2
     108: aload         9
     110: invokestatic  #18                 // Method org/springframework/jdbc/support/JdbcUtils.closeStatement:(Ljava/sql/Statement;)V
     113: aload         8
     115: invokestatic  #19                 // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
     118: goto          286
     121: astore        10
     123: aload         10
     125: astore        7
     127: aload_0
     128: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     131: invokeinterface #21,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     136: ifeq          177
     139: aload_0
     140: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     143: new           #22                 // class java/lang/StringBuilder
     146: dup
     147: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     150: ldc           #24                 // String Validation query [
     152: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: aload_0
     156: getfield      #9                  // Field validationQuery:Ljava/lang/String;
     159: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     162: ldc           #26                 // String ] threw exception
     164: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     167: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     170: aload         10
     172: invokeinterface #28,  3           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     177: aload_0
     178: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     181: invokeinterface #29,  1           // InterfaceMethod org/apache/commons/logging/Log.isWarnEnabled:()Z
     186: ifeq          258
     189: lload         5
     191: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
     194: lsub
     195: l2f
     196: ldc           #30                 // float 1000.0f
     198: fdiv
     199: fstore        11
     201: fload         11
     203: aload_0
     204: getfield      #6                  // Field interval:I
     207: i2f
     208: fcmpl
     209: ifle          258
     212: aload_0
     213: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     216: new           #22                 // class java/lang/StringBuilder
     219: dup
     220: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     223: ldc           #31                 // String Database has not started up yet - retrying in
     225: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     228: aload_0
     229: getfield      #6                  // Field interval:I
     232: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     235: ldc           #33                 // String  seconds (timeout in
     237: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     240: fload         11
     242: invokevirtual #34                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     245: ldc           #35                 // String  seconds)
     247: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     250: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     253: invokeinterface #36,  2           // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;)V
     258: aload         9
     260: invokestatic  #18                 // Method org/springframework/jdbc/support/JdbcUtils.closeStatement:(Ljava/sql/Statement;)V
     263: aload         8
     265: invokestatic  #19                 // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
     268: goto          286
     271: astore        12
     273: aload         9
     275: invokestatic  #18                 // Method org/springframework/jdbc/support/JdbcUtils.closeStatement:(Ljava/sql/Statement;)V
     278: aload         8
     280: invokestatic  #19                 // Method org/springframework/jdbc/support/JdbcUtils.closeConnection:(Ljava/sql/Connection;)V
     283: aload         12
     285: athrow
     286: iload_2
     287: ifne          302
     290: aload_0
     291: getfield      #6                  // Field interval:I
     294: sipush        1000
     297: imul
     298: i2l
     299: invokestatic  #37                 // Method java/lang/Thread.sleep:(J)V
     302: goto          58
     305: iload_2
     306: ifne          346
     309: new           #38                 // class org/springframework/jdbc/CannotGetJdbcConnectionException
     312: dup
     313: new           #22                 // class java/lang/StringBuilder
     316: dup
     317: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     320: ldc           #39                 // String Database has not started up within
     322: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     325: aload_0
     326: getfield      #7                  // Field timeout:I
     329: invokevirtual #32                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     332: ldc           #40                 // String  seconds
     334: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     337: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     340: aload         7
     342: invokespecial #41                 // Method org/springframework/jdbc/CannotGetJdbcConnectionException."<init>":(Ljava/lang/String;Ljava/sql/SQLException;)V
     345: athrow
     346: aload_0
     347: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     350: invokeinterface #42,  1           // InterfaceMethod org/apache/commons/logging/Log.isInfoEnabled:()Z
     355: ifeq          403
     358: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
     361: lload_3
     362: lsub
     363: l2f
     364: ldc           #30                 // float 1000.0f
     366: fdiv
     367: fstore        8
     369: aload_0
     370: getfield      #4                  // Field logger:Lorg/apache/commons/logging/Log;
     373: new           #22                 // class java/lang/StringBuilder
     376: dup
     377: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     380: ldc           #43                 // String Database startup detected after
     382: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     385: fload         8
     387: invokevirtual #34                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     390: ldc           #40                 // String  seconds
     392: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     395: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     398: invokeinterface #44,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
     403: goto          413
     406: astore_2
     407: invokestatic  #46                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     410: invokevirtual #47                 // Method java/lang/Thread.interrupt:()V
     413: return
    Exception table:
       from    to  target type
          77   108   121   Class java/sql/SQLException
          77   108   271   any
         121   258   271   any
         271   273   271   any
          36   403   406   Class java/lang/InterruptedException
}
