Compiled from "JpaQueryExecution.java"
class org.springframework.data.jpa.repository.query.JpaQueryExecution$StreamExecution extends org.springframework.data.jpa.repository.query.JpaQueryExecution {
  private static final java.lang.String NO_SURROUNDING_TRANSACTION;

  org.springframework.data.jpa.repository.query.JpaQueryExecution$StreamExecution();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/springframework/data/jpa/repository/query/JpaQueryExecution."<init>":()V
       4: return

  protected java.lang.Object doExecute(org.springframework.data.jpa.repository.query.AbstractJpaQuery, java.lang.Object[]);
    Code:
       0: getstatic     #2                  // Field org/springframework/data/repository/core/support/SurroundingTransactionDetectorMethodInterceptor.INSTANCE:Lorg/springframework/data/repository/core/support/SurroundingTransactionDetectorMethodInterceptor;
       3: invokevirtual #3                  // Method org/springframework/data/repository/core/support/SurroundingTransactionDetectorMethodInterceptor.isSurroundingTransactionActive:()Z
       6: ifne          19
       9: new           #4                  // class org/springframework/dao/InvalidDataAccessApiUsageException
      12: dup
      13: ldc           #6                  // String You\'re trying to execute a streaming query method without a surrounding transaction that keeps the connection open so that the Stream can actually be consumed. Make sure the code consuming the stream uses @Transactional or any other way of declaring a (read-only) transaction.
      15: invokespecial #7                  // Method org/springframework/dao/InvalidDataAccessApiUsageException."<init>":(Ljava/lang/String;)V
      18: athrow
      19: aload_1
      20: aload_2
      21: invokevirtual #8                  // Method org/springframework/data/jpa/repository/query/AbstractJpaQuery.createQuery:([Ljava/lang/Object;)Ljavax/persistence/Query;
      24: astore_3
      25: aload_1
      26: invokevirtual #9                  // Method org/springframework/data/jpa/repository/query/AbstractJpaQuery.getEntityManager:()Ljavax/persistence/EntityManager;
      29: invokestatic  #10                 // Method org/springframework/data/jpa/provider/PersistenceProvider.fromEntityManager:(Ljavax/persistence/EntityManager;)Lorg/springframework/data/jpa/provider/PersistenceProvider;
      32: astore        4
      34: aload         4
      36: aload_3
      37: invokevirtual #11                 // Method org/springframework/data/jpa/provider/PersistenceProvider.executeQueryWithResultStream:(Ljavax/persistence/Query;)Lorg/springframework/data/util/CloseableIterator;
      40: astore        5
      42: aload         5
      44: invokestatic  #12                 // Method org/springframework/data/util/StreamUtils.createStreamFromIterator:(Ljava/util/Iterator;)Ljava/util/stream/Stream;
      47: areturn
}
