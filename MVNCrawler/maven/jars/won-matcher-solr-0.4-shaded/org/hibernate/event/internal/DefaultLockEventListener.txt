Compiled from "DefaultLockEventListener.java"
public class org.hibernate.event.internal.DefaultLockEventListener extends org.hibernate.event.internal.AbstractLockUpgradeEventListener implements org.hibernate.event.spi.LockEventListener {
  private static final org.hibernate.internal.CoreMessageLogger LOG;

  public org.hibernate.event.internal.DefaultLockEventListener();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/hibernate/event/internal/AbstractLockUpgradeEventListener."<init>":()V
       4: return

  public void onLock(org.hibernate.event.spi.LockEvent) throws org.hibernate.HibernateException;
    Code:
       0: aload_1
       1: invokevirtual #2                  // Method org/hibernate/event/spi/LockEvent.getObject:()Ljava/lang/Object;
       4: ifnonnull     17
       7: new           #3                  // class java/lang/NullPointerException
      10: dup
      11: ldc           #4                  // String attempted to lock null
      13: invokespecial #5                  // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_1
      18: invokevirtual #6                  // Method org/hibernate/event/spi/LockEvent.getLockMode:()Lorg/hibernate/LockMode;
      21: getstatic     #7                  // Field org/hibernate/LockMode.WRITE:Lorg/hibernate/LockMode;
      24: if_acmpne     37
      27: new           #8                  // class org/hibernate/HibernateException
      30: dup
      31: ldc           #9                  // String Invalid lock mode for lock()
      33: invokespecial #10                 // Method org/hibernate/HibernateException."<init>":(Ljava/lang/String;)V
      36: athrow
      37: aload_1
      38: invokevirtual #6                  // Method org/hibernate/event/spi/LockEvent.getLockMode:()Lorg/hibernate/LockMode;
      41: getstatic     #11                 // Field org/hibernate/LockMode.UPGRADE_SKIPLOCKED:Lorg/hibernate/LockMode;
      44: if_acmpne     55
      47: getstatic     #12                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      50: invokeinterface #13,  1           // InterfaceMethod org/hibernate/internal/CoreMessageLogger.explicitSkipLockedLockCombo:()V
      55: aload_1
      56: invokevirtual #14                 // Method org/hibernate/event/spi/LockEvent.getSession:()Lorg/hibernate/event/spi/EventSource;
      59: astore_2
      60: aload_2
      61: invokeinterface #15,  1           // InterfaceMethod org/hibernate/engine/spi/SessionImplementor.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      66: aload_1
      67: invokevirtual #2                  // Method org/hibernate/event/spi/LockEvent.getObject:()Ljava/lang/Object;
      70: invokeinterface #16,  2           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.unproxyAndReassociate:(Ljava/lang/Object;)Ljava/lang/Object;
      75: astore_3
      76: aload_2
      77: invokeinterface #15,  1           // InterfaceMethod org/hibernate/engine/spi/SessionImplementor.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      82: aload_3
      83: invokeinterface #17,  2           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.getEntry:(Ljava/lang/Object;)Lorg/hibernate/engine/spi/EntityEntry;
      88: astore        4
      90: aload         4
      92: ifnonnull     187
      95: aload_2
      96: aload_1
      97: invokevirtual #18                 // Method org/hibernate/event/spi/LockEvent.getEntityName:()Ljava/lang/String;
     100: aload_3
     101: invokeinterface #19,  3           // InterfaceMethod org/hibernate/engine/spi/SessionImplementor.getEntityPersister:(Ljava/lang/String;Ljava/lang/Object;)Lorg/hibernate/persister/entity/EntityPersister;
     106: astore        5
     108: aload         5
     110: aload_3
     111: aload_2
     112: invokeinterface #20,  3           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.getIdentifier:(Ljava/lang/Object;Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Ljava/io/Serializable;
     117: astore        6
     119: aload_1
     120: invokevirtual #18                 // Method org/hibernate/event/spi/LockEvent.getEntityName:()Ljava/lang/String;
     123: aload_3
     124: getstatic     #21                 // Field java/lang/Boolean.FALSE:Ljava/lang/Boolean;
     127: aload_2
     128: invokestatic  #22                 // Method org/hibernate/engine/internal/ForeignKeys.isNotTransient:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Boolean;Lorg/hibernate/engine/spi/SharedSessionContractImplementor;)Z
     131: ifne          167
     134: new           #23                 // class org/hibernate/TransientObjectException
     137: dup
     138: new           #24                 // class java/lang/StringBuilder
     141: dup
     142: invokespecial #25                 // Method java/lang/StringBuilder."<init>":()V
     145: ldc           #26                 // String cannot lock an unsaved transient instance:
     147: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: aload         5
     152: invokeinterface #28,  1           // InterfaceMethod org/hibernate/persister/entity/EntityPersister.getEntityName:()Ljava/lang/String;
     157: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     160: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     163: invokespecial #30                 // Method org/hibernate/TransientObjectException."<init>":(Ljava/lang/String;)V
     166: athrow
     167: aload_0
     168: aload_1
     169: aload_3
     170: aload         6
     172: aload         5
     174: invokevirtual #31                 // Method reassociate:(Lorg/hibernate/event/spi/AbstractEvent;Ljava/lang/Object;Ljava/io/Serializable;Lorg/hibernate/persister/entity/EntityPersister;)Lorg/hibernate/engine/spi/EntityEntry;
     177: astore        4
     179: aload_0
     180: aload_1
     181: aload         5
     183: aload_3
     184: invokespecial #32                 // Method cascadeOnLock:(Lorg/hibernate/event/spi/LockEvent;Lorg/hibernate/persister/entity/EntityPersister;Ljava/lang/Object;)V
     187: aload_0
     188: aload_3
     189: aload         4
     191: aload_1
     192: invokevirtual #33                 // Method org/hibernate/event/spi/LockEvent.getLockOptions:()Lorg/hibernate/LockOptions;
     195: aload_1
     196: invokevirtual #14                 // Method org/hibernate/event/spi/LockEvent.getSession:()Lorg/hibernate/event/spi/EventSource;
     199: invokevirtual #34                 // Method upgradeLock:(Ljava/lang/Object;Lorg/hibernate/engine/spi/EntityEntry;Lorg/hibernate/LockOptions;Lorg/hibernate/event/spi/EventSource;)V
     202: return

  private void cascadeOnLock(org.hibernate.event.spi.LockEvent, org.hibernate.persister.entity.EntityPersister, java.lang.Object);
    Code:
       0: aload_1
       1: invokevirtual #14                 // Method org/hibernate/event/spi/LockEvent.getSession:()Lorg/hibernate/event/spi/EventSource;
       4: astore        4
       6: aload         4
       8: invokeinterface #35,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      13: invokeinterface #36,  1           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.incrementCascadeLevel:()I
      18: pop
      19: getstatic     #37                 // Field org/hibernate/engine/spi/CascadingActions.LOCK:Lorg/hibernate/engine/spi/CascadingAction;
      22: getstatic     #38                 // Field org/hibernate/engine/internal/CascadePoint.AFTER_LOCK:Lorg/hibernate/engine/internal/CascadePoint;
      25: aload         4
      27: aload_2
      28: aload_3
      29: aload_1
      30: invokevirtual #33                 // Method org/hibernate/event/spi/LockEvent.getLockOptions:()Lorg/hibernate/LockOptions;
      33: invokestatic  #39                 // Method org/hibernate/engine/internal/Cascade.cascade:(Lorg/hibernate/engine/spi/CascadingAction;Lorg/hibernate/engine/internal/CascadePoint;Lorg/hibernate/event/spi/EventSource;Lorg/hibernate/persister/entity/EntityPersister;Ljava/lang/Object;Ljava/lang/Object;)V
      36: aload         4
      38: invokeinterface #35,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      43: invokeinterface #40,  1           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.decrementCascadeLevel:()I
      48: pop
      49: goto          70
      52: astore        5
      54: aload         4
      56: invokeinterface #35,  1           // InterfaceMethod org/hibernate/event/spi/EventSource.getPersistenceContext:()Lorg/hibernate/engine/spi/PersistenceContext;
      61: invokeinterface #40,  1           // InterfaceMethod org/hibernate/engine/spi/PersistenceContext.decrementCascadeLevel:()I
      66: pop
      67: aload         5
      69: athrow
      70: return
    Exception table:
       from    to  target type
          19    36    52   any
          52    54    52   any

  static {};
    Code:
       0: ldc           #41                 // class org/hibernate/internal/CoreMessageLogger
       2: ldc           #42                 // class org/hibernate/event/internal/DefaultLockEventListener
       4: invokevirtual #43                 // Method java/lang/Class.getName:()Ljava/lang/String;
       7: invokestatic  #44                 // Method org/jboss/logging/Logger.getMessageLogger:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Object;
      10: checkcast     #41                 // class org/hibernate/internal/CoreMessageLogger
      13: putstatic     #12                 // Field LOG:Lorg/hibernate/internal/CoreMessageLogger;
      16: return
}
