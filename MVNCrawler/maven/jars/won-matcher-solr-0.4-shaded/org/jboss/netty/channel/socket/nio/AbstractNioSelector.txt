Compiled from "AbstractNioSelector.java"
abstract class org.jboss.netty.channel.socket.nio.AbstractNioSelector implements org.jboss.netty.channel.socket.nio.NioSelector {
  private static final java.util.concurrent.atomic.AtomicInteger nextId;

  private final int id;

  protected static final org.jboss.netty.logging.InternalLogger logger;

  private static final int CLEANUP_INTERVAL;

  private final java.util.concurrent.Executor executor;

  protected volatile java.lang.Thread thread;

  final java.util.concurrent.CountDownLatch startupLatch;

  protected volatile java.nio.channels.Selector selector;

  protected final java.util.concurrent.atomic.AtomicBoolean wakenUp;

  private final java.util.Queue<java.lang.Runnable> taskQueue;

  private volatile int cancelledKeys;

  private final java.util.concurrent.CountDownLatch shutdownLatch;

  private volatile boolean shutdown;

  static final boolean $assertionsDisabled;

  org.jboss.netty.channel.socket.nio.AbstractNioSelector(java.util.concurrent.Executor);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokespecial #1                  // Method "<init>":(Ljava/util/concurrent/Executor;Lorg/jboss/netty/util/ThreadNameDeterminer;)V
       6: return

  org.jboss.netty.channel.socket.nio.AbstractNioSelector(java.util.concurrent.Executor, org.jboss.netty.util.ThreadNameDeterminer);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: getstatic     #3                  // Field nextId:Ljava/util/concurrent/atomic/AtomicInteger;
       8: invokevirtual #4                  // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      11: putfield      #5                  // Field id:I
      14: aload_0
      15: new           #6                  // class java/util/concurrent/CountDownLatch
      18: dup
      19: iconst_1
      20: invokespecial #7                  // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      23: putfield      #8                  // Field startupLatch:Ljava/util/concurrent/CountDownLatch;
      26: aload_0
      27: new           #9                  // class java/util/concurrent/atomic/AtomicBoolean
      30: dup
      31: invokespecial #10                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      34: putfield      #11                 // Field wakenUp:Ljava/util/concurrent/atomic/AtomicBoolean;
      37: aload_0
      38: new           #12                 // class java/util/concurrent/ConcurrentLinkedQueue
      41: dup
      42: invokespecial #13                 // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
      45: putfield      #14                 // Field taskQueue:Ljava/util/Queue;
      48: aload_0
      49: new           #6                  // class java/util/concurrent/CountDownLatch
      52: dup
      53: iconst_1
      54: invokespecial #7                  // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      57: putfield      #15                 // Field shutdownLatch:Ljava/util/concurrent/CountDownLatch;
      60: aload_0
      61: aload_1
      62: putfield      #16                 // Field executor:Ljava/util/concurrent/Executor;
      65: aload_0
      66: aload_2
      67: invokespecial #17                 // Method openSelector:(Lorg/jboss/netty/util/ThreadNameDeterminer;)V
      70: return

  public void register(org.jboss.netty.channel.Channel, org.jboss.netty.channel.ChannelFuture);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #18                 // Method createRegisterTask:(Lorg/jboss/netty/channel/Channel;Lorg/jboss/netty/channel/ChannelFuture;)Ljava/lang/Runnable;
       6: astore_3
       7: aload_0
       8: aload_3
       9: invokevirtual #19                 // Method registerTask:(Ljava/lang/Runnable;)V
      12: return

  protected final void registerTask(java.lang.Runnable);
    Code:
       0: aload_0
       1: getfield      #14                 // Field taskQueue:Ljava/util/Queue;
       4: aload_1
       5: invokeinterface #20,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      10: pop
      11: aload_0
      12: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      15: astore_2
      16: aload_2
      17: ifnull        40
      20: aload_0
      21: getfield      #11                 // Field wakenUp:Ljava/util/concurrent/atomic/AtomicBoolean;
      24: iconst_0
      25: iconst_1
      26: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      29: ifeq          63
      32: aload_2
      33: invokevirtual #23                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      36: pop
      37: goto          63
      40: aload_0
      41: getfield      #14                 // Field taskQueue:Ljava/util/Queue;
      44: aload_1
      45: invokeinterface #24,  2           // InterfaceMethod java/util/Queue.remove:(Ljava/lang/Object;)Z
      50: ifeq          63
      53: new           #25                 // class java/util/concurrent/RejectedExecutionException
      56: dup
      57: ldc           #26                 // String Worker has already been shutdown
      59: invokespecial #27                 // Method java/util/concurrent/RejectedExecutionException."<init>":(Ljava/lang/String;)V
      62: athrow
      63: return

  protected final boolean isIoThread();
    Code:
       0: invokestatic  #28                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
       3: aload_0
       4: getfield      #29                 // Field thread:Ljava/lang/Thread;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  public void rebuildSelector();
    Code:
       0: aload_0
       1: invokevirtual #30                 // Method isIoThread:()Z
       4: ifne          26
       7: aload_0
       8: getfield      #14                 // Field taskQueue:Ljava/util/Queue;
      11: new           #31                 // class org/jboss/netty/channel/socket/nio/AbstractNioSelector$1
      14: dup
      15: aload_0
      16: invokespecial #32                 // Method org/jboss/netty/channel/socket/nio/AbstractNioSelector$1."<init>":(Lorg/jboss/netty/channel/socket/nio/AbstractNioSelector;)V
      19: invokeinterface #20,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      24: pop
      25: return
      26: aload_0
      27: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      30: astore_1
      31: aload_1
      32: ifnonnull     36
      35: return
      36: invokestatic  #33                 // Method org/jboss/netty/channel/socket/nio/SelectorUtil.open:()Ljava/nio/channels/Selector;
      39: astore_2
      40: goto          56
      43: astore_3
      44: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
      47: ldc           #36                 // String Failed to create a new Selector.
      49: aload_3
      50: invokeinterface #37,  3           // InterfaceMethod org/jboss/netty/logging/InternalLogger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      55: return
      56: iconst_0
      57: istore_3
      58: aload_1
      59: invokevirtual #38                 // Method java/nio/channels/Selector.keys:()Ljava/util/Set;
      62: invokeinterface #39,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      67: astore        4
      69: aload         4
      71: invokeinterface #40,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      76: ifeq          164
      79: aload         4
      81: invokeinterface #41,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      86: checkcast     #42                 // class java/nio/channels/SelectionKey
      89: astore        5
      91: aload         5
      93: invokevirtual #43                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      96: aload_2
      97: invokevirtual #44                 // Method java/nio/channels/SelectableChannel.keyFor:(Ljava/nio/channels/Selector;)Ljava/nio/channels/SelectionKey;
     100: ifnull        106
     103: goto          69
     106: aload         5
     108: invokevirtual #45                 // Method java/nio/channels/SelectionKey.interestOps:()I
     111: istore        6
     113: aload         5
     115: invokevirtual #46                 // Method java/nio/channels/SelectionKey.cancel:()V
     118: aload         5
     120: invokevirtual #43                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
     123: aload_2
     124: iload         6
     126: aload         5
     128: invokevirtual #47                 // Method java/nio/channels/SelectionKey.attachment:()Ljava/lang/Object;
     131: invokevirtual #48                 // Method java/nio/channels/SelectableChannel.register:(Ljava/nio/channels/Selector;ILjava/lang/Object;)Ljava/nio/channels/SelectionKey;
     134: pop
     135: iinc          3, 1
     138: goto          161
     141: astore        6
     143: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     146: ldc           #49                 // String Failed to re-register a Channel to the new Selector,
     148: aload         6
     150: invokeinterface #37,  3           // InterfaceMethod org/jboss/netty/logging/InternalLogger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     155: aload_0
     156: aload         5
     158: invokevirtual #50                 // Method close:(Ljava/nio/channels/SelectionKey;)V
     161: goto          69
     164: goto          172
     167: astore        4
     169: goto          58
     172: aload_0
     173: aload_2
     174: putfield      #21                 // Field selector:Ljava/nio/channels/Selector;
     177: aload_1
     178: invokevirtual #52                 // Method java/nio/channels/Selector.close:()V
     181: goto          209
     184: astore        4
     186: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     189: invokeinterface #54,  1           // InterfaceMethod org/jboss/netty/logging/InternalLogger.isWarnEnabled:()Z
     194: ifeq          209
     197: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     200: ldc           #55                 // String Failed to close the old Selector.
     202: aload         4
     204: invokeinterface #37,  3           // InterfaceMethod org/jboss/netty/logging/InternalLogger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     209: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     212: new           #56                 // class java/lang/StringBuilder
     215: dup
     216: invokespecial #57                 // Method java/lang/StringBuilder."<init>":()V
     219: ldc           #58                 // String Migrated
     221: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: iload_3
     225: invokevirtual #60                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     228: ldc           #61                 // String  channel(s) to the new Selector,
     230: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: invokevirtual #62                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     236: invokeinterface #63,  2           // InterfaceMethod org/jboss/netty/logging/InternalLogger.info:(Ljava/lang/String;)V
     241: return
    Exception table:
       from    to  target type
          36    40    43   Class java/lang/Exception
          91   103   141   Class java/lang/Exception
         106   138   141   Class java/lang/Exception
          58   164   167   Class java/util/ConcurrentModificationException
         177   181   184   Class java/lang/Throwable

  public void run();
    Code:
       0: aload_0
       1: invokestatic  #28                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
       4: putfield      #29                 // Field thread:Ljava/lang/Thread;
       7: aload_0
       8: getfield      #8                  // Field startupLatch:Ljava/util/concurrent/CountDownLatch;
      11: invokevirtual #64                 // Method java/util/concurrent/CountDownLatch.countDown:()V
      14: iconst_0
      15: istore_1
      16: aload_0
      17: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      20: astore_2
      21: aload_2
      22: ifnonnull     26
      25: return
      26: getstatic     #65                 // Field org/jboss/netty/channel/socket/nio/SelectorUtil.SELECT_TIMEOUT_NANOS:J
      29: ldc2_w        #66                 // long 80l
      32: lmul
      33: ldc2_w        #68                 // long 100l
      36: ldiv
      37: lstore_3
      38: iconst_0
      39: istore        5
      41: aload_0
      42: getfield      #11                 // Field wakenUp:Ljava/util/concurrent/atomic/AtomicBoolean;
      45: iconst_0
      46: invokevirtual #70                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      49: invokestatic  #71                 // Method java/lang/System.nanoTime:()J
      52: lstore        6
      54: aload_0
      55: aload_2
      56: invokevirtual #72                 // Method select:(Ljava/nio/channels/Selector;)I
      59: istore        8
      61: iload         8
      63: ifne          261
      66: iload         5
      68: ifne          261
      71: aload_0
      72: getfield      #11                 // Field wakenUp:Ljava/util/concurrent/atomic/AtomicBoolean;
      75: invokevirtual #73                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      78: ifne          261
      81: invokestatic  #71                 // Method java/lang/System.nanoTime:()J
      84: lload         6
      86: lsub
      87: lstore        9
      89: lload         9
      91: lload_3
      92: lcmp
      93: ifge          256
      96: iconst_0
      97: istore        11
      99: aload_2
     100: invokevirtual #38                 // Method java/nio/channels/Selector.keys:()Ljava/util/Set;
     103: invokeinterface #39,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     108: astore        12
     110: aload         12
     112: invokeinterface #40,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     117: ifeq          201
     120: aload         12
     122: invokeinterface #41,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     127: checkcast     #42                 // class java/nio/channels/SelectionKey
     130: astore        13
     132: aload         13
     134: invokevirtual #43                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
     137: astore        14
     139: aload         14
     141: instanceof    #74                 // class java/nio/channels/DatagramChannel
     144: ifeq          155
     147: aload         14
     149: invokevirtual #75                 // Method java/nio/channels/SelectableChannel.isOpen:()Z
     152: ifeq          185
     155: aload         14
     157: instanceof    #76                 // class java/nio/channels/SocketChannel
     160: ifeq          193
     163: aload         14
     165: checkcast     #76                 // class java/nio/channels/SocketChannel
     168: invokevirtual #77                 // Method java/nio/channels/SocketChannel.isConnected:()Z
     171: ifne          193
     174: aload         14
     176: checkcast     #76                 // class java/nio/channels/SocketChannel
     179: invokevirtual #78                 // Method java/nio/channels/SocketChannel.isConnectionPending:()Z
     182: ifne          193
     185: iconst_1
     186: istore        11
     188: aload         13
     190: invokevirtual #46                 // Method java/nio/channels/SelectionKey.cancel:()V
     193: goto          198
     196: astore        15
     198: goto          110
     201: iload         11
     203: ifeq          211
     206: iconst_0
     207: istore_1
     208: goto          253
     211: invokestatic  #80                 // Method java/lang/Thread.interrupted:()Z
     214: ifeq          250
     217: aload_0
     218: getfield      #81                 // Field shutdown:Z
     221: ifne          250
     224: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     227: invokeinterface #82,  1           // InterfaceMethod org/jboss/netty/logging/InternalLogger.isDebugEnabled:()Z
     232: ifeq          245
     235: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     238: ldc           #83                 // String Selector.select() returned prematurely because the I/O thread has been interrupted. Use shutdown() to shut the NioSelector down.
     240: invokeinterface #84,  2           // InterfaceMethod org/jboss/netty/logging/InternalLogger.debug:(Ljava/lang/String;)V
     245: iconst_0
     246: istore_1
     247: goto          253
     250: iinc          1, 1
     253: goto          258
     256: iconst_0
     257: istore_1
     258: goto          263
     261: iconst_0
     262: istore_1
     263: getstatic     #85                 // Field org/jboss/netty/channel/socket/nio/SelectorUtil.EPOLL_BUG_WORKAROUND:Z
     266: ifeq          293
     269: iload_1
     270: sipush        1024
     273: if_icmpne     295
     276: aload_0
     277: invokevirtual #86                 // Method rebuildSelector:()V
     280: aload_0
     281: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
     284: astore_2
     285: iconst_0
     286: istore_1
     287: iconst_0
     288: istore        5
     290: goto          41
     293: iconst_0
     294: istore_1
     295: aload_0
     296: getfield      #11                 // Field wakenUp:Ljava/util/concurrent/atomic/AtomicBoolean;
     299: invokevirtual #73                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     302: ifeq          316
     305: iconst_1
     306: istore        5
     308: aload_2
     309: invokevirtual #23                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
     312: pop
     313: goto          319
     316: iconst_0
     317: istore        5
     319: aload_0
     320: iconst_0
     321: putfield      #87                 // Field cancelledKeys:I
     324: aload_0
     325: invokespecial #88                 // Method processTaskQueue:()V
     328: aload_0
     329: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
     332: astore_2
     333: aload_0
     334: getfield      #81                 // Field shutdown:Z
     337: ifeq          422
     340: aload_0
     341: aconst_null
     342: putfield      #21                 // Field selector:Ljava/nio/channels/Selector;
     345: aload_0
     346: invokespecial #88                 // Method processTaskQueue:()V
     349: aload_2
     350: invokevirtual #38                 // Method java/nio/channels/Selector.keys:()Ljava/util/Set;
     353: invokeinterface #39,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     358: astore        9
     360: aload         9
     362: invokeinterface #40,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     367: ifeq          391
     370: aload         9
     372: invokeinterface #41,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     377: checkcast     #42                 // class java/nio/channels/SelectionKey
     380: astore        10
     382: aload_0
     383: aload         10
     385: invokevirtual #50                 // Method close:(Ljava/nio/channels/SelectionKey;)V
     388: goto          360
     391: aload_2
     392: invokevirtual #52                 // Method java/nio/channels/Selector.close:()V
     395: goto          412
     398: astore        9
     400: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     403: ldc           #90                 // String Failed to close a selector.
     405: aload         9
     407: invokeinterface #37,  3           // InterfaceMethod org/jboss/netty/logging/InternalLogger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     412: aload_0
     413: getfield      #15                 // Field shutdownLatch:Ljava/util/concurrent/CountDownLatch;
     416: invokevirtual #64                 // Method java/util/concurrent/CountDownLatch.countDown:()V
     419: goto          458
     422: aload_0
     423: aload_2
     424: invokevirtual #91                 // Method process:(Ljava/nio/channels/Selector;)V
     427: goto          41
     430: astore        6
     432: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
     435: ldc           #92                 // String Unexpected exception in the selector loop.
     437: aload         6
     439: invokeinterface #37,  3           // InterfaceMethod org/jboss/netty/logging/InternalLogger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     444: ldc2_w        #93                 // long 1000l
     447: invokestatic  #95                 // Method java/lang/Thread.sleep:(J)V
     450: goto          455
     453: astore        7
     455: goto          41
     458: return
    Exception table:
       from    to  target type
         139   193   196   Class java/nio/channels/CancelledKeyException
         391   395   398   Class java/io/IOException
          49   290   430   Class java/lang/Throwable
         293   419   430   Class java/lang/Throwable
         422   427   430   Class java/lang/Throwable
         444   450   453   Class java/lang/InterruptedException

  private void openSelector(org.jboss.netty.util.ThreadNameDeterminer);
    Code:
       0: aload_0
       1: invokestatic  #33                 // Method org/jboss/netty/channel/socket/nio/SelectorUtil.open:()Ljava/nio/channels/Selector;
       4: putfield      #21                 // Field selector:Ljava/nio/channels/Selector;
       7: goto          22
      10: astore_2
      11: new           #97                 // class org/jboss/netty/channel/ChannelException
      14: dup
      15: ldc           #98                 // String Failed to create a selector.
      17: aload_2
      18: invokespecial #99                 // Method org/jboss/netty/channel/ChannelException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      21: athrow
      22: iconst_0
      23: istore_2
      24: aload_0
      25: getfield      #16                 // Field executor:Ljava/util/concurrent/Executor;
      28: aload_0
      29: aload_0
      30: getfield      #5                  // Field id:I
      33: aload_1
      34: invokevirtual #100                // Method newThreadRenamingRunnable:(ILorg/jboss/netty/util/ThreadNameDeterminer;)Lorg/jboss/netty/util/ThreadRenamingRunnable;
      37: invokestatic  #101                // Method org/jboss/netty/util/internal/DeadLockProofWorker.start:(Ljava/util/concurrent/Executor;Ljava/lang/Runnable;)V
      40: iconst_1
      41: istore_2
      42: jsr           54
      45: goto          91
      48: astore_3
      49: jsr           54
      52: aload_3
      53: athrow
      54: astore        4
      56: iload_2
      57: ifne          89
      60: aload_0
      61: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      64: invokevirtual #52                 // Method java/nio/channels/Selector.close:()V
      67: goto          84
      70: astore        5
      72: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
      75: ldc           #90                 // String Failed to close a selector.
      77: aload         5
      79: invokeinterface #37,  3           // InterfaceMethod org/jboss/netty/logging/InternalLogger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      84: aload_0
      85: aconst_null
      86: putfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      89: ret           4
      91: getstatic     #102                // Field $assertionsDisabled:Z
      94: ifne          122
      97: aload_0
      98: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
     101: ifnull        114
     104: aload_0
     105: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
     108: invokevirtual #103                // Method java/nio/channels/Selector.isOpen:()Z
     111: ifne          122
     114: new           #104                // class java/lang/AssertionError
     117: dup
     118: invokespecial #105                // Method java/lang/AssertionError."<init>":()V
     121: athrow
     122: return
    Exception table:
       from    to  target type
           0     7    10   Class java/lang/Throwable
          24    45    48   any
          48    52    48   any
          60    67    70   Class java/lang/Throwable

  private void processTaskQueue();
    Code:
       0: aload_0
       1: getfield      #14                 // Field taskQueue:Ljava/util/Queue;
       4: invokeinterface #106,  1          // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
       9: checkcast     #107                // class java/lang/Runnable
      12: astore_1
      13: aload_1
      14: ifnonnull     20
      17: goto          38
      20: aload_1
      21: invokeinterface #108,  1          // InterfaceMethod java/lang/Runnable.run:()V
      26: aload_0
      27: invokevirtual #109                // Method cleanUpCancelledKeys:()Z
      30: pop
      31: goto          35
      34: astore_2
      35: goto          0
      38: return
    Exception table:
       from    to  target type
          26    31    34   Class java/io/IOException

  protected final void increaseCancelledKeys();
    Code:
       0: aload_0
       1: dup
       2: getfield      #87                 // Field cancelledKeys:I
       5: iconst_1
       6: iadd
       7: putfield      #87                 // Field cancelledKeys:I
      10: return

  protected final boolean cleanUpCancelledKeys() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #87                 // Field cancelledKeys:I
       4: sipush        256
       7: if_icmplt     25
      10: aload_0
      11: iconst_0
      12: putfield      #87                 // Field cancelledKeys:I
      15: aload_0
      16: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      19: invokevirtual #110                // Method java/nio/channels/Selector.selectNow:()I
      22: pop
      23: iconst_1
      24: ireturn
      25: iconst_0
      26: ireturn

  public void shutdown();
    Code:
       0: aload_0
       1: invokevirtual #30                 // Method isIoThread:()Z
       4: ifeq          17
       7: new           #111                // class java/lang/IllegalStateException
      10: dup
      11: ldc           #112                // String Must not be called from a I/O-Thread to prevent deadlocks!
      13: invokespecial #113                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #21                 // Field selector:Ljava/nio/channels/Selector;
      21: astore_1
      22: aload_0
      23: iconst_1
      24: putfield      #81                 // Field shutdown:Z
      27: aload_1
      28: ifnull        36
      31: aload_1
      32: invokevirtual #23                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      35: pop
      36: aload_0
      37: getfield      #15                 // Field shutdownLatch:Ljava/util/concurrent/CountDownLatch;
      40: invokevirtual #114                // Method java/util/concurrent/CountDownLatch.await:()V
      43: goto          83
      46: astore_2
      47: getstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
      50: new           #56                 // class java/lang/StringBuilder
      53: dup
      54: invokespecial #57                 // Method java/lang/StringBuilder."<init>":()V
      57: ldc           #115                // String Interrupted while wait for resources to be released #
      59: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: aload_0
      63: getfield      #5                  // Field id:I
      66: invokevirtual #60                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      69: invokevirtual #62                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      72: invokeinterface #116,  2          // InterfaceMethod org/jboss/netty/logging/InternalLogger.error:(Ljava/lang/String;)V
      77: invokestatic  #28                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      80: invokevirtual #117                // Method java/lang/Thread.interrupt:()V
      83: return
    Exception table:
       from    to  target type
          36    43    46   Class java/lang/InterruptedException

  protected abstract void process(java.nio.channels.Selector) throws java.io.IOException;

  protected int select(java.nio.channels.Selector) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokestatic  #118                // Method org/jboss/netty/channel/socket/nio/SelectorUtil.select:(Ljava/nio/channels/Selector;)I
       4: ireturn

  protected abstract void close(java.nio.channels.SelectionKey);

  protected abstract org.jboss.netty.util.ThreadRenamingRunnable newThreadRenamingRunnable(int, org.jboss.netty.util.ThreadNameDeterminer);

  protected abstract java.lang.Runnable createRegisterTask(org.jboss.netty.channel.Channel, org.jboss.netty.channel.ChannelFuture);

  static {};
    Code:
       0: ldc_w         #119                // class org/jboss/netty/channel/socket/nio/AbstractNioSelector
       3: invokevirtual #120                // Method java/lang/Class.desiredAssertionStatus:()Z
       6: ifne          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: putstatic     #102                // Field $assertionsDisabled:Z
      17: new           #121                // class java/util/concurrent/atomic/AtomicInteger
      20: dup
      21: invokespecial #122                // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      24: putstatic     #3                  // Field nextId:Ljava/util/concurrent/atomic/AtomicInteger;
      27: ldc_w         #119                // class org/jboss/netty/channel/socket/nio/AbstractNioSelector
      30: invokestatic  #123                // Method org/jboss/netty/logging/InternalLoggerFactory.getInstance:(Ljava/lang/Class;)Lorg/jboss/netty/logging/InternalLogger;
      33: putstatic     #35                 // Field logger:Lorg/jboss/netty/logging/InternalLogger;
      36: return
}
