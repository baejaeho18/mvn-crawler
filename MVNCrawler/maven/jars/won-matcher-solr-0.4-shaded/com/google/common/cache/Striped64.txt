Compiled from "Striped64.java"
abstract class com.google.common.cache.Striped64 extends java.lang.Number {
  static final com.google.common.cache.Striped64$ThreadHashCode threadHashCode;

  static final int NCPU;

  volatile transient com.google.common.cache.Striped64$Cell[] cells;

  volatile transient long base;

  volatile transient int busy;

  private static final sun.misc.Unsafe UNSAFE;

  private static final long baseOffset;

  private static final long busyOffset;

  com.google.common.cache.Striped64();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Number."<init>":()V
       4: return

  final boolean casBase(long, long);
    Code:
       0: getstatic     #3                  // Field UNSAFE:Lsun/misc/Unsafe;
       3: aload_0
       4: getstatic     #4                  // Field baseOffset:J
       7: lload_1
       8: lload_3
       9: invokevirtual #5                  // Method sun/misc/Unsafe.compareAndSwapLong:(Ljava/lang/Object;JJJ)Z
      12: ireturn

  final boolean casBusy();
    Code:
       0: getstatic     #3                  // Field UNSAFE:Lsun/misc/Unsafe;
       3: aload_0
       4: getstatic     #6                  // Field busyOffset:J
       7: iconst_0
       8: iconst_1
       9: invokevirtual #7                  // Method sun/misc/Unsafe.compareAndSwapInt:(Ljava/lang/Object;JII)Z
      12: ireturn

  abstract long fn(long, long);

  final void retryUpdate(long, com.google.common.cache.Striped64$HashCode, boolean);
    Code:
       0: aload_3
       1: getfield      #8                  // Field com/google/common/cache/Striped64$HashCode.code:I
       4: istore        5
       6: iconst_0
       7: istore        6
       9: aload_0
      10: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
      13: dup
      14: astore        7
      16: ifnull        346
      19: aload         7
      21: arraylength
      22: dup
      23: istore        9
      25: ifle          346
      28: aload         7
      30: iload         9
      32: iconst_1
      33: isub
      34: iload         5
      36: iand
      37: aaload
      38: dup
      39: astore        8
      41: ifnonnull     155
      44: aload_0
      45: getfield      #10                 // Field busy:I
      48: ifne          149
      51: new           #11                 // class com/google/common/cache/Striped64$Cell
      54: dup
      55: lload_1
      56: invokespecial #12                 // Method com/google/common/cache/Striped64$Cell."<init>":(J)V
      59: astore        12
      61: aload_0
      62: getfield      #10                 // Field busy:I
      65: ifne          149
      68: aload_0
      69: invokevirtual #13                 // Method casBusy:()Z
      72: ifeq          149
      75: iconst_0
      76: istore        13
      78: aload_0
      79: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
      82: dup
      83: astore        14
      85: ifnull        123
      88: aload         14
      90: arraylength
      91: dup
      92: istore        15
      94: ifle          123
      97: aload         14
      99: iload         15
     101: iconst_1
     102: isub
     103: iload         5
     105: iand
     106: dup
     107: istore        16
     109: aaload
     110: ifnonnull     123
     113: aload         14
     115: iload         16
     117: aload         12
     119: aastore
     120: iconst_1
     121: istore        13
     123: aload_0
     124: iconst_0
     125: putfield      #10                 // Field busy:I
     128: goto          141
     131: astore        17
     133: aload_0
     134: iconst_0
     135: putfield      #10                 // Field busy:I
     138: aload         17
     140: athrow
     141: iload         13
     143: ifeq          9
     146: goto          467
     149: iconst_0
     150: istore        6
     152: goto          314
     155: iload         4
     157: ifne          166
     160: iconst_1
     161: istore        4
     163: goto          314
     166: aload         8
     168: aload         8
     170: getfield      #14                 // Field com/google/common/cache/Striped64$Cell.value:J
     173: dup2
     174: lstore        10
     176: aload_0
     177: lload         10
     179: lload_1
     180: invokevirtual #15                 // Method fn:(JJ)J
     183: invokevirtual #16                 // Method com/google/common/cache/Striped64$Cell.cas:(JJ)Z
     186: ifeq          192
     189: goto          467
     192: iload         9
     194: getstatic     #17                 // Field NCPU:I
     197: if_icmpge     209
     200: aload_0
     201: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
     204: aload         7
     206: if_acmpeq     215
     209: iconst_0
     210: istore        6
     212: goto          314
     215: iload         6
     217: ifne          226
     220: iconst_1
     221: istore        6
     223: goto          314
     226: aload_0
     227: getfield      #10                 // Field busy:I
     230: ifne          314
     233: aload_0
     234: invokevirtual #13                 // Method casBusy:()Z
     237: ifeq          314
     240: aload_0
     241: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
     244: aload         7
     246: if_acmpne     290
     249: iload         9
     251: iconst_1
     252: ishl
     253: anewarray     #11                 // class com/google/common/cache/Striped64$Cell
     256: astore        12
     258: iconst_0
     259: istore        13
     261: iload         13
     263: iload         9
     265: if_icmpge     284
     268: aload         12
     270: iload         13
     272: aload         7
     274: iload         13
     276: aaload
     277: aastore
     278: iinc          13, 1
     281: goto          261
     284: aload_0
     285: aload         12
     287: putfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
     290: aload_0
     291: iconst_0
     292: putfield      #10                 // Field busy:I
     295: goto          308
     298: astore        18
     300: aload_0
     301: iconst_0
     302: putfield      #10                 // Field busy:I
     305: aload         18
     307: athrow
     308: iconst_0
     309: istore        6
     311: goto          9
     314: iload         5
     316: iload         5
     318: bipush        13
     320: ishl
     321: ixor
     322: istore        5
     324: iload         5
     326: iload         5
     328: bipush        17
     330: iushr
     331: ixor
     332: istore        5
     334: iload         5
     336: iload         5
     338: iconst_5
     339: ishl
     340: ixor
     341: istore        5
     343: goto          464
     346: aload_0
     347: getfield      #10                 // Field busy:I
     350: ifne          440
     353: aload_0
     354: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
     357: aload         7
     359: if_acmpne     440
     362: aload_0
     363: invokevirtual #13                 // Method casBusy:()Z
     366: ifeq          440
     369: iconst_0
     370: istore        12
     372: aload_0
     373: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
     376: aload         7
     378: if_acmpne     411
     381: iconst_2
     382: anewarray     #11                 // class com/google/common/cache/Striped64$Cell
     385: astore        13
     387: aload         13
     389: iload         5
     391: iconst_1
     392: iand
     393: new           #11                 // class com/google/common/cache/Striped64$Cell
     396: dup
     397: lload_1
     398: invokespecial #12                 // Method com/google/common/cache/Striped64$Cell."<init>":(J)V
     401: aastore
     402: aload_0
     403: aload         13
     405: putfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
     408: iconst_1
     409: istore        12
     411: aload_0
     412: iconst_0
     413: putfield      #10                 // Field busy:I
     416: goto          429
     419: astore        19
     421: aload_0
     422: iconst_0
     423: putfield      #10                 // Field busy:I
     426: aload         19
     428: athrow
     429: iload         12
     431: ifeq          437
     434: goto          467
     437: goto          464
     440: aload_0
     441: aload_0
     442: getfield      #18                 // Field base:J
     445: dup2
     446: lstore        10
     448: aload_0
     449: lload         10
     451: lload_1
     452: invokevirtual #15                 // Method fn:(JJ)J
     455: invokevirtual #19                 // Method casBase:(JJ)Z
     458: ifeq          464
     461: goto          467
     464: goto          9
     467: aload_3
     468: iload         5
     470: putfield      #8                  // Field com/google/common/cache/Striped64$HashCode.code:I
     473: return
    Exception table:
       from    to  target type
          78   123   131   any
         131   133   131   any
         240   290   298   any
         298   300   298   any
         372   411   419   any
         419   421   419   any

  final void internalReset(long);
    Code:
       0: aload_0
       1: getfield      #9                  // Field cells:[Lcom/google/common/cache/Striped64$Cell;
       4: astore_3
       5: aload_0
       6: lload_1
       7: putfield      #18                 // Field base:J
      10: aload_3
      11: ifnull        51
      14: aload_3
      15: arraylength
      16: istore        4
      18: iconst_0
      19: istore        5
      21: iload         5
      23: iload         4
      25: if_icmpge     51
      28: aload_3
      29: iload         5
      31: aaload
      32: astore        6
      34: aload         6
      36: ifnull        45
      39: aload         6
      41: lload_1
      42: putfield      #14                 // Field com/google/common/cache/Striped64$Cell.value:J
      45: iinc          5, 1
      48: goto          21
      51: return

  private static sun.misc.Unsafe getUnsafe();
    Code:
       0: invokestatic  #20                 // Method sun/misc/Unsafe.getUnsafe:()Lsun/misc/Unsafe;
       3: areturn
       4: astore_0
       5: new           #22                 // class com/google/common/cache/Striped64$1
       8: dup
       9: invokespecial #23                 // Method com/google/common/cache/Striped64$1."<init>":()V
      12: invokestatic  #24                 // Method java/security/AccessController.doPrivileged:(Ljava/security/PrivilegedExceptionAction;)Ljava/lang/Object;
      15: checkcast     #25                 // class sun/misc/Unsafe
      18: areturn
      19: astore_0
      20: new           #27                 // class java/lang/RuntimeException
      23: dup
      24: ldc           #28                 // String Could not initialize intrinsics
      26: aload_0
      27: invokevirtual #29                 // Method java/security/PrivilegedActionException.getCause:()Ljava/lang/Throwable;
      30: invokespecial #30                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      33: athrow
    Exception table:
       from    to  target type
           0     3     4   Class java/lang/SecurityException
           5    18    19   Class java/security/PrivilegedActionException

  static sun.misc.Unsafe access$000();
    Code:
       0: invokestatic  #1                  // Method getUnsafe:()Lsun/misc/Unsafe;
       3: areturn

  static {};
    Code:
       0: new           #31                 // class com/google/common/cache/Striped64$ThreadHashCode
       3: dup
       4: invokespecial #32                 // Method com/google/common/cache/Striped64$ThreadHashCode."<init>":()V
       7: putstatic     #33                 // Field threadHashCode:Lcom/google/common/cache/Striped64$ThreadHashCode;
      10: invokestatic  #34                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
      13: invokevirtual #35                 // Method java/lang/Runtime.availableProcessors:()I
      16: putstatic     #17                 // Field NCPU:I
      19: invokestatic  #1                  // Method getUnsafe:()Lsun/misc/Unsafe;
      22: putstatic     #3                  // Field UNSAFE:Lsun/misc/Unsafe;
      25: ldc_w         #36                 // class com/google/common/cache/Striped64
      28: astore_0
      29: getstatic     #3                  // Field UNSAFE:Lsun/misc/Unsafe;
      32: aload_0
      33: ldc           #37                 // String base
      35: invokevirtual #38                 // Method java/lang/Class.getDeclaredField:(Ljava/lang/String;)Ljava/lang/reflect/Field;
      38: invokevirtual #39                 // Method sun/misc/Unsafe.objectFieldOffset:(Ljava/lang/reflect/Field;)J
      41: putstatic     #4                  // Field baseOffset:J
      44: getstatic     #3                  // Field UNSAFE:Lsun/misc/Unsafe;
      47: aload_0
      48: ldc           #40                 // String busy
      50: invokevirtual #38                 // Method java/lang/Class.getDeclaredField:(Ljava/lang/String;)Ljava/lang/reflect/Field;
      53: invokevirtual #39                 // Method sun/misc/Unsafe.objectFieldOffset:(Ljava/lang/reflect/Field;)J
      56: putstatic     #6                  // Field busyOffset:J
      59: goto          72
      62: astore_0
      63: new           #42                 // class java/lang/Error
      66: dup
      67: aload_0
      68: invokespecial #43                 // Method java/lang/Error."<init>":(Ljava/lang/Throwable;)V
      71: athrow
      72: return
    Exception table:
       from    to  target type
          19    59    62   Class java/lang/Exception
}
