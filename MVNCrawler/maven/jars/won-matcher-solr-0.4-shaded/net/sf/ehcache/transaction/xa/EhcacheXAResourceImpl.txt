Compiled from "EhcacheXAResourceImpl.java"
public class net.sf.ehcache.transaction.xa.EhcacheXAResourceImpl implements net.sf.ehcache.transaction.xa.EhcacheXAResource {
  private static final org.slf4j.Logger LOG;

  private static final long MILLISECOND_PER_SECOND;

  private final net.sf.ehcache.Ehcache cache;

  private final net.sf.ehcache.store.Store underlyingStore;

  private final net.sf.ehcache.transaction.TransactionIDFactory transactionIDFactory;

  private final javax.transaction.TransactionManager txnManager;

  private final net.sf.ehcache.transaction.SoftLockManager softLockManager;

  private final java.util.concurrent.ConcurrentMap<javax.transaction.xa.Xid, net.sf.ehcache.transaction.xa.XATransactionContext> xidToContextMap;

  private final net.sf.ehcache.transaction.xa.processor.XARequestProcessor processor;

  private volatile javax.transaction.xa.Xid currentXid;

  private volatile int transactionTimeout;

  private final java.util.List<net.sf.ehcache.transaction.xa.XAExecutionListener> listeners;

  private final net.sf.ehcache.store.ElementValueComparator comparator;

  public net.sf.ehcache.transaction.xa.EhcacheXAResourceImpl(net.sf.ehcache.Ehcache, net.sf.ehcache.store.Store, net.sf.ehcache.transaction.manager.TransactionManagerLookup, net.sf.ehcache.transaction.SoftLockManager, net.sf.ehcache.transaction.TransactionIDFactory, net.sf.ehcache.store.compound.ReadWriteCopyStrategy<net.sf.ehcache.Element>);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #4                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #5                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
      15: aload_0
      16: new           #7                  // class java/util/ArrayList
      19: dup
      20: invokespecial #8                  // Method java/util/ArrayList."<init>":()V
      23: putfield      #9                  // Field listeners:Ljava/util/List;
      26: aload_0
      27: aload_1
      28: putfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      31: aload_0
      32: aload_2
      33: putfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
      36: aload_0
      37: aload         5
      39: putfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
      42: aload_0
      43: aload_3
      44: invokeinterface #11,  1           // InterfaceMethod net/sf/ehcache/transaction/manager/TransactionManagerLookup.getTransactionManager:()Ljavax/transaction/TransactionManager;
      49: putfield      #12                 // Field txnManager:Ljavax/transaction/TransactionManager;
      52: aload_0
      53: aload         4
      55: putfield      #13                 // Field softLockManager:Lnet/sf/ehcache/transaction/SoftLockManager;
      58: aload_0
      59: new           #14                 // class net/sf/ehcache/transaction/xa/processor/XARequestProcessor
      62: dup
      63: aload_0
      64: invokespecial #15                 // Method net/sf/ehcache/transaction/xa/processor/XARequestProcessor."<init>":(Lnet/sf/ehcache/transaction/xa/EhcacheXAResourceImpl;)V
      67: putfield      #16                 // Field processor:Lnet/sf/ehcache/transaction/xa/processor/XARequestProcessor;
      70: aload_0
      71: aload_1
      72: invokeinterface #17,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getCacheManager:()Lnet/sf/ehcache/CacheManager;
      77: invokevirtual #18                 // Method net/sf/ehcache/CacheManager.getTransactionController:()Lnet/sf/ehcache/TransactionController;
      80: invokevirtual #19                 // Method net/sf/ehcache/TransactionController.getDefaultTransactionTimeout:()I
      83: putfield      #20                 // Field transactionTimeout:I
      86: aload_0
      87: aload_1
      88: invokeinterface #21,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getCacheConfiguration:()Lnet/sf/ehcache/config/CacheConfiguration;
      93: invokevirtual #22                 // Method net/sf/ehcache/config/CacheConfiguration.getElementValueComparatorConfiguration:()Lnet/sf/ehcache/config/ElementValueComparatorConfiguration;
      96: aload_1
      97: invokeinterface #21,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getCacheConfiguration:()Lnet/sf/ehcache/config/CacheConfiguration;
     102: invokevirtual #23                 // Method net/sf/ehcache/config/ElementValueComparatorConfiguration.createElementComparatorInstance:(Lnet/sf/ehcache/config/CacheConfiguration;)Lnet/sf/ehcache/store/ElementValueComparator;
     105: putfield      #24                 // Field comparator:Lnet/sf/ehcache/store/ElementValueComparator;
     108: return

  public void start(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #26                 // String start [{}] [{}]
       5: aload_1
       6: iload_2
       7: invokestatic  #27                 // Method prettyPrintXAResourceFlags:(I)Ljava/lang/String;
      10: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      15: aload_0
      16: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      19: ifnull        54
      22: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      25: dup
      26: new           #31                 // class java/lang/StringBuilder
      29: dup
      30: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #33                 // String resource already started on
      35: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_0
      39: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      42: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      45: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: bipush        -6
      50: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      53: athrow
      54: iload_2
      55: ifne          108
      58: aload_0
      59: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
      62: aload_1
      63: invokeinterface #38,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
      68: ifeq          100
      71: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      74: dup
      75: new           #31                 // class java/lang/StringBuilder
      78: dup
      79: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      82: ldc           #39                 // String cannot start with duplicate XID:
      84: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      87: aload_1
      88: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      91: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      94: bipush        -8
      96: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      99: athrow
     100: aload_0
     101: aload_1
     102: putfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     105: goto          207
     108: iload_2
     109: ldc           #40                 // int 134217728
     111: if_icmpne     164
     114: aload_0
     115: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
     118: aload_1
     119: invokeinterface #38,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.containsKey:(Ljava/lang/Object;)Z
     124: ifne          156
     127: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     130: dup
     131: new           #31                 // class java/lang/StringBuilder
     134: dup
     135: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     138: ldc           #41                 // String cannot resume non-existent XID:
     140: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: aload_1
     144: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     147: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     150: bipush        -4
     152: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     155: athrow
     156: aload_0
     157: aload_1
     158: putfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     161: goto          207
     164: iload_2
     165: ldc           #42                 // int 2097152
     167: if_icmpne     178
     170: aload_0
     171: aload_1
     172: putfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     175: goto          207
     178: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     181: dup
     182: new           #31                 // class java/lang/StringBuilder
     185: dup
     186: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     189: ldc           #43                 // String unsupported flag:
     191: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     194: iload_2
     195: invokevirtual #44                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     198: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     201: bipush        -6
     203: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     206: athrow
     207: return

  public void end(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #45                 // String end [{}] [{}]
       5: aload_1
       6: iload_2
       7: invokestatic  #27                 // Method prettyPrintXAResourceFlags:(I)Ljava/lang/String;
      10: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      15: aload_0
      16: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      19: ifnonnull     51
      22: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      25: dup
      26: new           #31                 // class java/lang/StringBuilder
      29: dup
      30: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #46                 // String resource not started on
      35: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_1
      39: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      42: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: bipush        -6
      47: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      50: athrow
      51: iload_2
      52: ldc           #47                 // int 67108864
      54: if_icmpeq     63
      57: iload_2
      58: ldc           #48                 // int 33554432
      60: if_icmpne     111
      63: aload_0
      64: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      67: aload_1
      68: invokevirtual #49                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      71: ifne          103
      74: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      77: dup
      78: new           #31                 // class java/lang/StringBuilder
      81: dup
      82: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      85: ldc           #50                 // String cannot end working on unknown XID
      87: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: aload_1
      91: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      94: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      97: bipush        -4
      99: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     102: athrow
     103: aload_0
     104: aconst_null
     105: putfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     108: goto          222
     111: iload_2
     112: ldc           #51                 // int 536870912
     114: if_icmpne     193
     117: aload_0
     118: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     121: aload_1
     122: invokevirtual #49                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     125: ifne          174
     128: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     131: dup
     132: new           #31                 // class java/lang/StringBuilder
     135: dup
     136: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     139: ldc           #52                 // String cannot end working on
     141: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: aload_1
     145: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     148: ldc           #53                 // String  while work on current XID
     150: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     153: aload_0
     154: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     157: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     160: ldc           #54                 // String  hasn\'t ended
     162: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     165: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     168: bipush        -6
     170: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     173: athrow
     174: aload_0
     175: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
     178: aload_1
     179: invokeinterface #55,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     184: pop
     185: aload_0
     186: aconst_null
     187: putfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     190: goto          222
     193: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     196: dup
     197: new           #31                 // class java/lang/StringBuilder
     200: dup
     201: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     204: ldc           #43                 // String unsupported flag:
     206: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     209: iload_2
     210: invokevirtual #44                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     213: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     216: bipush        -6
     218: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     221: athrow
     222: return

  public void forget(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #56                 // String forget [{}]
       5: aload_1
       6: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_0
      12: getfield      #16                 // Field processor:Lnet/sf/ehcache/transaction/xa/processor/XARequestProcessor;
      15: new           #58                 // class net/sf/ehcache/transaction/xa/processor/XARequest
      18: dup
      19: getstatic     #59                 // Field net/sf/ehcache/transaction/xa/processor/XARequest$RequestType.FORGET:Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;
      22: aload_1
      23: invokespecial #60                 // Method net/sf/ehcache/transaction/xa/processor/XARequest."<init>":(Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;Ljavax/transaction/xa/Xid;)V
      26: invokevirtual #61                 // Method net/sf/ehcache/transaction/xa/processor/XARequestProcessor.process:(Lnet/sf/ehcache/transaction/xa/processor/XARequest;)I
      29: pop
      30: return

  public void forgetInternal(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: ldc           #62                 // int 16777216
       3: invokevirtual #63                 // Method recover:(I)[Ljavax/transaction/xa/Xid;
       6: invokestatic  #64                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
       9: astore_2
      10: aload_2
      11: aload_1
      12: invokeinterface #65,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      17: ifne          49
      20: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      23: dup
      24: new           #31                 // class java/lang/StringBuilder
      27: dup
      28: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      31: ldc           #66                 // String forget called on in-doubt XID
      33: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_1
      37: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      40: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: bipush        -6
      45: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      48: athrow
      49: return

  public int getTransactionTimeout() throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #20                 // Field transactionTimeout:I
       4: ireturn

  public boolean isSameRM(javax.transaction.xa.XAResource) throws javax.transaction.xa.XAException;
    Code:
       0: aload_1
       1: aload_0
       2: if_acmpne     10
       5: iconst_1
       6: istore_2
       7: goto          42
      10: aload_1
      11: instanceof    #67                 // class net/sf/ehcache/transaction/xa/EhcacheXAResourceImpl
      14: ifeq          40
      17: aload_0
      18: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      21: aload_1
      22: checkcast     #67                 // class net/sf/ehcache/transaction/xa/EhcacheXAResourceImpl
      25: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      28: if_acmpne     35
      31: iconst_1
      32: goto          36
      35: iconst_0
      36: istore_2
      37: goto          42
      40: iconst_0
      41: istore_2
      42: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      45: new           #31                 // class java/lang/StringBuilder
      48: dup
      49: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      52: ldc           #68                 // String {} isSameRm {} ->
      54: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: iload_2
      58: invokevirtual #69                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      61: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      64: aload_0
      65: aload_1
      66: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      71: iload_2
      72: ireturn

  public int prepare(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #70                 // String prepare [{}]
       5: aload_1
       6: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_0
      12: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      15: ifnull        47
      18: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      21: dup
      22: new           #31                 // class java/lang/StringBuilder
      25: dup
      26: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      29: ldc           #71                 // String prepare called on non-ended XID:
      31: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: aload_1
      35: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      38: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: bipush        -6
      43: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      46: athrow
      47: aload_0
      48: getfield      #16                 // Field processor:Lnet/sf/ehcache/transaction/xa/processor/XARequestProcessor;
      51: new           #58                 // class net/sf/ehcache/transaction/xa/processor/XARequest
      54: dup
      55: getstatic     #72                 // Field net/sf/ehcache/transaction/xa/processor/XARequest$RequestType.PREPARE:Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;
      58: aload_1
      59: invokespecial #60                 // Method net/sf/ehcache/transaction/xa/processor/XARequest."<init>":(Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;Ljavax/transaction/xa/Xid;)V
      62: invokevirtual #61                 // Method net/sf/ehcache/transaction/xa/processor/XARequestProcessor.process:(Lnet/sf/ehcache/transaction/xa/processor/XARequest;)I
      65: ireturn

  public int prepareInternal(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: invokespecial #73                 // Method fireBeforePrepare:()V
       4: aload_0
       5: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
       8: aload_1
       9: invokeinterface #74,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      14: checkcast     #75                 // class net/sf/ehcache/transaction/xa/XATransactionContext
      17: astore_2
      18: aload_2
      19: ifnonnull     51
      22: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      25: dup
      26: new           #31                 // class java/lang/StringBuilder
      29: dup
      30: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #76                 // String transaction never started:
      35: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_1
      39: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      42: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: bipush        -4
      47: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      50: athrow
      51: aload_0
      52: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
      55: aload_1
      56: aload_0
      57: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      60: invokeinterface #77,  3           // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.createXidTransactionID:(Ljavax/transaction/xa/Xid;Lnet/sf/ehcache/Ehcache;)Lnet/sf/ehcache/transaction/xa/XidTransactionID;
      65: astore_3
      66: aload_2
      67: invokevirtual #78                 // Method net/sf/ehcache/transaction/xa/XATransactionContext.getCommands:()Ljava/util/List;
      70: astore        4
      72: new           #79                 // class java/util/LinkedList
      75: dup
      76: invokespecial #80                 // Method java/util/LinkedList."<init>":()V
      79: astore        5
      81: iconst_0
      82: istore        6
      84: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      87: ldc           #81                 // String preparing {} command(s) for [{}]
      89: aload         4
      91: invokeinterface #82,  1           // InterfaceMethod java/util/List.size:()I
      96: invokestatic  #83                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      99: aload_1
     100: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     105: aload         4
     107: invokeinterface #84,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     112: astore        7
     114: aload         7
     116: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     121: ifeq          267
     124: aload         7
     126: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     131: checkcast     #87                 // class net/sf/ehcache/transaction/xa/commands/Command
     134: astore        8
     136: iload         6
     138: aload         8
     140: aload_0
     141: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     144: aload_0
     145: getfield      #13                 // Field softLockManager:Lnet/sf/ehcache/transaction/SoftLockManager;
     148: aload_3
     149: aload_0
     150: getfield      #24                 // Field comparator:Lnet/sf/ehcache/store/ElementValueComparator;
     153: invokeinterface #88,  5           // InterfaceMethod net/sf/ehcache/transaction/xa/commands/Command.prepare:(Lnet/sf/ehcache/store/Store;Lnet/sf/ehcache/transaction/SoftLockManager;Lnet/sf/ehcache/transaction/xa/XidTransactionID;Lnet/sf/ehcache/store/ElementValueComparator;)Z
     158: ior
     159: istore        6
     161: aload         5
     163: iconst_0
     164: aload         8
     166: invokeinterface #89,  3           // InterfaceMethod java/util/List.add:(ILjava/lang/Object;)V
     171: goto          264
     174: astore        9
     176: aload         5
     178: invokeinterface #84,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     183: astore        10
     185: aload         10
     187: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     192: ifeq          225
     195: aload         10
     197: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     202: checkcast     #87                 // class net/sf/ehcache/transaction/xa/commands/Command
     205: astore        11
     207: aload         11
     209: aload_0
     210: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     213: aload_0
     214: getfield      #13                 // Field softLockManager:Lnet/sf/ehcache/transaction/SoftLockManager;
     217: invokeinterface #91,  3           // InterfaceMethod net/sf/ehcache/transaction/xa/commands/Command.rollback:(Lnet/sf/ehcache/store/Store;Lnet/sf/ehcache/transaction/SoftLockManager;)V
     222: goto          185
     225: aload         5
     227: invokeinterface #92,  1           // InterfaceMethod java/util/List.clear:()V
     232: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     235: dup
     236: new           #31                 // class java/lang/StringBuilder
     239: dup
     240: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     243: aload         8
     245: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     248: ldc           #93                 // String  failed because value changed between execution and 2PC
     250: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     253: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     256: bipush        103
     258: aload         9
     260: invokespecial #94                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;ILjava/lang/Throwable;)V
     263: athrow
     264: goto          114
     267: aload_0
     268: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
     271: aload_1
     272: invokeinterface #55,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     277: pop
     278: iload         6
     280: ifne          288
     283: aload_0
     284: aload_1
     285: invokevirtual #95                 // Method rollbackInternal:(Ljavax/transaction/xa/Xid;)V
     288: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     291: ldc           #96                 // String prepared xid [{}] read only? {}
     293: aload_1
     294: iload         6
     296: ifne          303
     299: iconst_1
     300: goto          304
     303: iconst_0
     304: invokestatic  #97                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     307: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     312: iload         6
     314: ifeq          321
     317: iconst_0
     318: goto          322
     321: iconst_3
     322: ireturn
    Exception table:
       from    to  target type
         136   171   174   Class net/sf/ehcache/transaction/xa/OptimisticLockFailureException

  public void commit(javax.transaction.xa.Xid, boolean) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #98                 // String commit [{}] [{}]
       5: aload_1
       6: iload_2
       7: invokestatic  #97                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      10: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      15: aload_0
      16: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      19: ifnull        51
      22: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      25: dup
      26: new           #31                 // class java/lang/StringBuilder
      29: dup
      30: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #99                 // String commit called on non-ended XID:
      35: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: aload_1
      39: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      42: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: bipush        -6
      47: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      50: athrow
      51: aload_0
      52: getfield      #16                 // Field processor:Lnet/sf/ehcache/transaction/xa/processor/XARequestProcessor;
      55: new           #58                 // class net/sf/ehcache/transaction/xa/processor/XARequest
      58: dup
      59: getstatic     #100                // Field net/sf/ehcache/transaction/xa/processor/XARequest$RequestType.COMMIT:Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;
      62: aload_1
      63: iload_2
      64: invokespecial #101                // Method net/sf/ehcache/transaction/xa/processor/XARequest."<init>":(Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;Ljavax/transaction/xa/Xid;Z)V
      67: invokevirtual #61                 // Method net/sf/ehcache/transaction/xa/processor/XARequestProcessor.process:(Lnet/sf/ehcache/transaction/xa/processor/XARequest;)I
      70: pop
      71: return

  public void commitInternal(javax.transaction.xa.Xid, boolean) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
       4: aload_1
       5: aload_0
       6: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
       9: invokeinterface #77,  3           // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.createXidTransactionID:(Ljavax/transaction/xa/Xid;Lnet/sf/ehcache/Ehcache;)Lnet/sf/ehcache/transaction/xa/XidTransactionID;
      14: astore_3
      15: aload_0
      16: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      19: invokeinterface #102,  1          // InterfaceMethod net/sf/ehcache/Ehcache.getLiveCacheStatistics:()Lnet/sf/ehcache/statistics/LiveCacheStatistics;
      24: checkcast     #103                // class net/sf/ehcache/statistics/LiveCacheStatisticsWrapper
      27: astore        4
      29: aload         4
      31: invokevirtual #104                // Method net/sf/ehcache/statistics/LiveCacheStatisticsWrapper.xaCommit:()V
      34: iload_2
      35: ifeq          94
      38: aload_0
      39: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
      42: aload_1
      43: invokeinterface #74,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #75                 // class net/sf/ehcache/transaction/xa/XATransactionContext
      51: astore        5
      53: aload         5
      55: ifnonnull     70
      58: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
      61: dup
      62: ldc           #105                // String cannot call commit(onePhase=true) after prepare
      64: bipush        -6
      66: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      69: athrow
      70: aload_0
      71: aload_1
      72: invokevirtual #106                // Method prepareInternal:(Ljavax/transaction/xa/Xid;)I
      75: istore        6
      77: iload         6
      79: iconst_3
      80: if_icmpne     94
      83: aload_0
      84: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
      87: aload_3
      88: invokeinterface #107,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.clear:(Lnet/sf/ehcache/transaction/TransactionID;)V
      93: return
      94: aload_0
      95: getfield      #13                 // Field softLockManager:Lnet/sf/ehcache/transaction/SoftLockManager;
      98: aload_3
      99: invokeinterface #108,  2          // InterfaceMethod net/sf/ehcache/transaction/SoftLockManager.collectAllSoftLocksForTransactionID:(Lnet/sf/ehcache/transaction/TransactionID;)Ljava/util/Set;
     104: astore        5
     106: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     109: ldc           #109                // String committing {} soft lock(s) for [{}]
     111: aload         5
     113: invokeinterface #110,  1          // InterfaceMethod java/util/Set.size:()I
     118: invokestatic  #83                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     121: aload_1
     122: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     127: aload         5
     129: invokeinterface #111,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     134: astore        6
     136: aload         6
     138: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     143: ifeq          185
     146: aload         6
     148: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     153: checkcast     #112                // class net/sf/ehcache/transaction/SoftLock
     156: astore        7
     158: aload         7
     160: invokeinterface #113,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.isExpired:()Z
     165: ifeq          182
     168: aload         7
     170: invokeinterface #114,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.lock:()V
     175: aload         7
     177: invokeinterface #115,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.freeze:()V
     182: goto          136
     185: aload_0
     186: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
     189: aload_3
     190: invokeinterface #116,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.markForCommit:(Lnet/sf/ehcache/transaction/TransactionID;)V
     195: goto          262
     198: astore        6
     200: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     203: dup
     204: new           #31                 // class java/lang/StringBuilder
     207: dup
     208: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     211: ldc           #118                // String cannot find XID, it might have been duplicated and cleaned up earlier on:
     213: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     216: aload_1
     217: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     220: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     223: bipush        -4
     225: aload         6
     227: invokespecial #94                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;ILjava/lang/Throwable;)V
     230: athrow
     231: astore        6
     233: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     236: dup
     237: new           #31                 // class java/lang/StringBuilder
     240: dup
     241: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     244: ldc           #120                // String XID already was rolling back:
     246: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: aload_1
     250: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     253: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     256: bipush        -3
     258: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     261: athrow
     262: aload         5
     264: invokeinterface #111,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     269: astore        6
     271: aload         6
     273: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     278: ifeq          401
     281: aload         6
     283: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     288: checkcast     #112                // class net/sf/ehcache/transaction/SoftLock
     291: astore        7
     293: aload_0
     294: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     297: aload         7
     299: invokeinterface #121,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.getKey:()Ljava/lang/Object;
     304: invokeinterface #122,  2          // InterfaceMethod net/sf/ehcache/store/Store.getQuiet:(Ljava/lang/Object;)Lnet/sf/ehcache/Element;
     309: astore        8
     311: aload         8
     313: ifnonnull     319
     316: goto          271
     319: aload         8
     321: invokevirtual #123                // Method net/sf/ehcache/Element.getObjectValue:()Ljava/lang/Object;
     324: checkcast     #124                // class net/sf/ehcache/transaction/SoftLockID
     327: astore        9
     329: aload         9
     331: invokevirtual #125                // Method net/sf/ehcache/transaction/SoftLockID.getNewElement:()Lnet/sf/ehcache/Element;
     334: astore        10
     336: aload         10
     338: ifnull        356
     341: aload_0
     342: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     345: aload         10
     347: invokeinterface #126,  2          // InterfaceMethod net/sf/ehcache/store/Store.put:(Lnet/sf/ehcache/Element;)Z
     352: pop
     353: goto          373
     356: aload_0
     357: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     360: aload         7
     362: invokeinterface #121,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.getKey:()Ljava/lang/Object;
     367: invokeinterface #127,  2          // InterfaceMethod net/sf/ehcache/store/Store.remove:(Ljava/lang/Object;)Lnet/sf/ehcache/Element;
     372: pop
     373: aload         9
     375: invokevirtual #128                // Method net/sf/ehcache/transaction/SoftLockID.wasPinned:()Z
     378: ifne          398
     381: aload_0
     382: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     385: aload         7
     387: invokeinterface #121,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.getKey:()Ljava/lang/Object;
     392: iconst_0
     393: invokeinterface #129,  3          // InterfaceMethod net/sf/ehcache/store/Store.setPinned:(Ljava/lang/Object;Z)V
     398: goto          271
     401: aload         5
     403: invokeinterface #111,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     408: astore        6
     410: aload         6
     412: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     417: ifeq          449
     420: aload         6
     422: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     427: checkcast     #112                // class net/sf/ehcache/transaction/SoftLock
     430: astore        7
     432: aload         7
     434: invokeinterface #130,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.unfreeze:()V
     439: aload         7
     441: invokeinterface #131,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.unlock:()V
     446: goto          410
     449: aload_0
     450: invokespecial #132                // Method fireAfterCommitOrRollback:()V
     453: aload_0
     454: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
     457: aload_3
     458: invokeinterface #107,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.clear:(Lnet/sf/ehcache/transaction/TransactionID;)V
     463: goto          481
     466: astore        11
     468: aload_0
     469: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
     472: aload_3
     473: invokeinterface #107,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.clear:(Lnet/sf/ehcache/transaction/TransactionID;)V
     478: aload         11
     480: athrow
     481: return
    Exception table:
       from    to  target type
         185   195   198   Class net/sf/ehcache/transaction/TransactionIDNotFoundException
         185   195   231   Class java/lang/IllegalStateException
          15    83   466   any
          94   453   466   any
         466   468   466   any

  public javax.transaction.xa.Xid[] recover(int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #133                // String recover [{}]
       5: iload_1
       6: invokestatic  #27                 // Method prettyPrintXAResourceFlags:(I)Ljava/lang/String;
       9: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      14: iload_1
      15: ldc           #62                 // int 16777216
      17: iand
      18: ldc           #62                 // int 16777216
      20: if_icmpeq     28
      23: iconst_0
      24: anewarray     #134                // class javax/transaction/xa/Xid
      27: areturn
      28: new           #135                // class java/util/HashSet
      31: dup
      32: invokespecial #136                // Method java/util/HashSet."<init>":()V
      35: invokestatic  #137                // Method java/util/Collections.synchronizedSet:(Ljava/util/Set;)Ljava/util/Set;
      38: astore_2
      39: new           #138                // class net/sf/ehcache/transaction/xa/EhcacheXAResourceImpl$1
      42: dup
      43: aload_0
      44: new           #31                 // class java/lang/StringBuilder
      47: dup
      48: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      51: ldc           #139                // String ehcache [
      53: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: aload_0
      57: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      60: invokeinterface #140,  1          // InterfaceMethod net/sf/ehcache/Ehcache.getName:()Ljava/lang/String;
      65: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: ldc           #141                // String ] XA recovery thread
      70: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      76: aload_2
      77: invokespecial #142                // Method net/sf/ehcache/transaction/xa/EhcacheXAResourceImpl$1."<init>":(Lnet/sf/ehcache/transaction/xa/EhcacheXAResourceImpl;Ljava/lang/String;Ljava/util/Set;)V
      80: astore_3
      81: aload_3
      82: invokevirtual #143                // Method java/lang/Thread.start:()V
      85: aload_3
      86: aload_0
      87: getfield      #20                 // Field transactionTimeout:I
      90: i2l
      91: ldc2_w        #144                // long 1000l
      94: lmul
      95: invokevirtual #146                // Method java/lang/Thread.join:(J)V
      98: goto          103
     101: astore        4
     103: aload_3
     104: invokevirtual #148                // Method java/lang/Thread.isAlive:()Z
     107: ifeq          114
     110: aload_3
     111: invokevirtual #149                // Method java/lang/Thread.interrupt:()V
     114: aload_2
     115: invokeinterface #150,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     120: ifne          148
     123: aload_0
     124: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
     127: invokeinterface #102,  1          // InterfaceMethod net/sf/ehcache/Ehcache.getLiveCacheStatistics:()Lnet/sf/ehcache/statistics/LiveCacheStatistics;
     132: checkcast     #103                // class net/sf/ehcache/statistics/LiveCacheStatisticsWrapper
     135: astore        4
     137: aload         4
     139: aload_2
     140: invokeinterface #110,  1          // InterfaceMethod java/util/Set.size:()I
     145: invokevirtual #151                // Method net/sf/ehcache/statistics/LiveCacheStatisticsWrapper.xaRecovered:(I)V
     148: aload_2
     149: iconst_0
     150: anewarray     #134                // class javax/transaction/xa/Xid
     153: invokeinterface #152,  2          // InterfaceMethod java/util/Set.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     158: checkcast     #153                // class "[Ljavax/transaction/xa/Xid;"
     161: areturn
    Exception table:
       from    to  target type
          81    98   101   Class java/lang/InterruptedException

  public void rollback(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #154                // String rollback [{}]
       5: aload_1
       6: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      11: aload_0
      12: getfield      #16                 // Field processor:Lnet/sf/ehcache/transaction/xa/processor/XARequestProcessor;
      15: new           #58                 // class net/sf/ehcache/transaction/xa/processor/XARequest
      18: dup
      19: getstatic     #155                // Field net/sf/ehcache/transaction/xa/processor/XARequest$RequestType.ROLLBACK:Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;
      22: aload_1
      23: invokespecial #60                 // Method net/sf/ehcache/transaction/xa/processor/XARequest."<init>":(Lnet/sf/ehcache/transaction/xa/processor/XARequest$RequestType;Ljavax/transaction/xa/Xid;)V
      26: invokevirtual #61                 // Method net/sf/ehcache/transaction/xa/processor/XARequestProcessor.process:(Lnet/sf/ehcache/transaction/xa/processor/XARequest;)I
      29: pop
      30: return

  public void rollbackInternal(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
       4: aload_1
       5: aload_0
       6: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
       9: invokeinterface #77,  3           // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.createXidTransactionID:(Ljavax/transaction/xa/Xid;Lnet/sf/ehcache/Ehcache;)Lnet/sf/ehcache/transaction/xa/XidTransactionID;
      14: astore_2
      15: aload_0
      16: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      19: invokeinterface #102,  1          // InterfaceMethod net/sf/ehcache/Ehcache.getLiveCacheStatistics:()Lnet/sf/ehcache/statistics/LiveCacheStatistics;
      24: checkcast     #103                // class net/sf/ehcache/statistics/LiveCacheStatisticsWrapper
      27: astore_3
      28: aload_3
      29: invokevirtual #156                // Method net/sf/ehcache/statistics/LiveCacheStatisticsWrapper.xaRollback:()V
      32: aload_0
      33: getfield      #13                 // Field softLockManager:Lnet/sf/ehcache/transaction/SoftLockManager;
      36: aload_2
      37: invokeinterface #108,  2          // InterfaceMethod net/sf/ehcache/transaction/SoftLockManager.collectAllSoftLocksForTransactionID:(Lnet/sf/ehcache/transaction/TransactionID;)Ljava/util/Set;
      42: astore        4
      44: aload         4
      46: invokeinterface #111,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      51: astore        5
      53: aload         5
      55: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      60: ifeq          102
      63: aload         5
      65: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      70: checkcast     #112                // class net/sf/ehcache/transaction/SoftLock
      73: astore        6
      75: aload         6
      77: invokeinterface #113,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.isExpired:()Z
      82: ifeq          99
      85: aload         6
      87: invokeinterface #114,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.lock:()V
      92: aload         6
      94: invokeinterface #115,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.freeze:()V
      99: goto          53
     102: aload_0
     103: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
     106: aload_2
     107: invokeinterface #157,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.markForRollback:(Lnet/sf/ehcache/transaction/xa/XidTransactionID;)V
     112: goto          179
     115: astore        5
     117: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     120: dup
     121: new           #31                 // class java/lang/StringBuilder
     124: dup
     125: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     128: ldc           #158                // String cannot find XID, it might have been duplicated an cleaned up earlier on:
     130: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     133: aload_1
     134: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     137: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     140: bipush        -4
     142: aload         5
     144: invokespecial #94                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;ILjava/lang/Throwable;)V
     147: athrow
     148: astore        5
     150: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
     153: dup
     154: new           #31                 // class java/lang/StringBuilder
     157: dup
     158: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
     161: ldc           #159                // String XID already was committing:
     163: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: aload_1
     167: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     170: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     173: bipush        -3
     175: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
     178: athrow
     179: aload         4
     181: invokeinterface #111,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     186: astore        5
     188: aload         5
     190: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     195: ifeq          318
     198: aload         5
     200: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     205: checkcast     #112                // class net/sf/ehcache/transaction/SoftLock
     208: astore        6
     210: aload_0
     211: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     214: aload         6
     216: invokeinterface #121,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.getKey:()Ljava/lang/Object;
     221: invokeinterface #122,  2          // InterfaceMethod net/sf/ehcache/store/Store.getQuiet:(Ljava/lang/Object;)Lnet/sf/ehcache/Element;
     226: astore        7
     228: aload         7
     230: ifnonnull     236
     233: goto          188
     236: aload         7
     238: invokevirtual #123                // Method net/sf/ehcache/Element.getObjectValue:()Ljava/lang/Object;
     241: checkcast     #124                // class net/sf/ehcache/transaction/SoftLockID
     244: astore        8
     246: aload         8
     248: invokevirtual #160                // Method net/sf/ehcache/transaction/SoftLockID.getOldElement:()Lnet/sf/ehcache/Element;
     251: astore        9
     253: aload         9
     255: ifnull        273
     258: aload_0
     259: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     262: aload         9
     264: invokeinterface #126,  2          // InterfaceMethod net/sf/ehcache/store/Store.put:(Lnet/sf/ehcache/Element;)Z
     269: pop
     270: goto          290
     273: aload_0
     274: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     277: aload         6
     279: invokeinterface #121,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.getKey:()Ljava/lang/Object;
     284: invokeinterface #127,  2          // InterfaceMethod net/sf/ehcache/store/Store.remove:(Ljava/lang/Object;)Lnet/sf/ehcache/Element;
     289: pop
     290: aload         8
     292: invokevirtual #128                // Method net/sf/ehcache/transaction/SoftLockID.wasPinned:()Z
     295: ifne          315
     298: aload_0
     299: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     302: aload         6
     304: invokeinterface #121,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.getKey:()Ljava/lang/Object;
     309: iconst_0
     310: invokeinterface #129,  3          // InterfaceMethod net/sf/ehcache/store/Store.setPinned:(Ljava/lang/Object;Z)V
     315: goto          188
     318: aload         4
     320: invokeinterface #111,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     325: astore        5
     327: aload         5
     329: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     334: ifeq          366
     337: aload         5
     339: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     344: checkcast     #112                // class net/sf/ehcache/transaction/SoftLock
     347: astore        6
     349: aload         6
     351: invokeinterface #130,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.unfreeze:()V
     356: aload         6
     358: invokeinterface #131,  1          // InterfaceMethod net/sf/ehcache/transaction/SoftLock.unlock:()V
     363: goto          327
     366: aload_0
     367: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
     370: aload_1
     371: invokeinterface #55,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     376: pop
     377: aload_0
     378: invokespecial #132                // Method fireAfterCommitOrRollback:()V
     381: aload_0
     382: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
     385: aload_2
     386: invokeinterface #107,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.clear:(Lnet/sf/ehcache/transaction/TransactionID;)V
     391: goto          409
     394: astore        10
     396: aload_0
     397: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
     400: aload_2
     401: invokeinterface #107,  2          // InterfaceMethod net/sf/ehcache/transaction/TransactionIDFactory.clear:(Lnet/sf/ehcache/transaction/TransactionID;)V
     406: aload         10
     408: athrow
     409: return
    Exception table:
       from    to  target type
         102   112   115   Class net/sf/ehcache/transaction/TransactionIDNotFoundException
         102   112   148   Class java/lang/IllegalStateException
          15   381   394   any
         394   396   394   any

  public boolean setTransactionTimeout(int) throws javax.transaction.xa.XAException;
    Code:
       0: iload_1
       1: ifge          33
       4: new           #30                 // class net/sf/ehcache/transaction/xa/EhcacheXAException
       7: dup
       8: new           #31                 // class java/lang/StringBuilder
      11: dup
      12: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      15: ldc           #161                // String timeout must be >= 0, was:
      17: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: iload_1
      21: invokevirtual #44                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      24: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: bipush        -5
      29: invokespecial #37                 // Method net/sf/ehcache/transaction/xa/EhcacheXAException."<init>":(Ljava/lang/String;I)V
      32: athrow
      33: iload_1
      34: ifne          59
      37: aload_0
      38: aload_0
      39: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      42: invokeinterface #17,  1           // InterfaceMethod net/sf/ehcache/Ehcache.getCacheManager:()Lnet/sf/ehcache/CacheManager;
      47: invokevirtual #18                 // Method net/sf/ehcache/CacheManager.getTransactionController:()Lnet/sf/ehcache/TransactionController;
      50: invokevirtual #19                 // Method net/sf/ehcache/TransactionController.getDefaultTransactionTimeout:()I
      53: putfield      #20                 // Field transactionTimeout:I
      56: goto          64
      59: aload_0
      60: iload_1
      61: putfield      #20                 // Field transactionTimeout:I
      64: iconst_1
      65: ireturn

  public void addTwoPcExecutionListener(net.sf.ehcache.transaction.xa.XAExecutionListener);
    Code:
       0: aload_0
       1: getfield      #9                  // Field listeners:Ljava/util/List;
       4: aload_1
       5: invokeinterface #162,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      10: pop
      11: return

  private void fireBeforePrepare();
    Code:
       0: aload_0
       1: getfield      #9                  // Field listeners:Ljava/util/List;
       4: invokeinterface #84,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          39
      19: aload_1
      20: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #163                // class net/sf/ehcache/transaction/xa/XAExecutionListener
      28: astore_2
      29: aload_2
      30: aload_0
      31: invokeinterface #164,  2          // InterfaceMethod net/sf/ehcache/transaction/xa/XAExecutionListener.beforePrepare:(Lnet/sf/ehcache/transaction/xa/EhcacheXAResource;)V
      36: goto          10
      39: return

  private void fireAfterCommitOrRollback();
    Code:
       0: aload_0
       1: getfield      #9                  // Field listeners:Ljava/util/List;
       4: invokeinterface #84,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #85,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          39
      19: aload_1
      20: invokeinterface #86,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #163                // class net/sf/ehcache/transaction/xa/XAExecutionListener
      28: astore_2
      29: aload_2
      30: aload_0
      31: invokeinterface #165,  2          // InterfaceMethod net/sf/ehcache/transaction/xa/XAExecutionListener.afterCommitOrRollback:(Lnet/sf/ehcache/transaction/xa/EhcacheXAResource;)V
      36: goto          10
      39: return

  public java.lang.String getCacheName();
    Code:
       0: aload_0
       1: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
       4: invokeinterface #140,  1          // InterfaceMethod net/sf/ehcache/Ehcache.getName:()Ljava/lang/String;
       9: areturn

  public net.sf.ehcache.transaction.xa.XATransactionContext createTransactionContext() throws javax.transaction.SystemException, javax.transaction.RollbackException;
    Code:
       0: aload_0
       1: invokevirtual #166                // Method getCurrentTransactionContext:()Lnet/sf/ehcache/transaction/xa/XATransactionContext;
       4: astore_1
       5: aload_1
       6: ifnull        11
       9: aload_1
      10: areturn
      11: aload_0
      12: getfield      #12                 // Field txnManager:Ljavax/transaction/TransactionManager;
      15: invokeinterface #167,  1          // InterfaceMethod javax/transaction/TransactionManager.getTransaction:()Ljavax/transaction/Transaction;
      20: astore_2
      21: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      24: ldc           #168                // String enlisting {} in {}
      26: aload_0
      27: aload_2
      28: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      33: aload_2
      34: aload_0
      35: invokeinterface #169,  2          // InterfaceMethod javax/transaction/Transaction.enlistResource:(Ljavax/transaction/xa/XAResource;)Z
      40: pop
      41: aload_0
      42: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      45: ifnonnull     83
      48: new           #170                // class net/sf/ehcache/CacheException
      51: dup
      52: new           #31                 // class java/lang/StringBuilder
      55: dup
      56: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
      59: ldc           #171                // String enlistment of XAResource of cache named \'
      61: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: aload_0
      65: invokevirtual #172                // Method getCacheName:()Ljava/lang/String;
      68: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: ldc           #173                // String \' did not end up calling XAResource.start()
      73: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      79: invokespecial #174                // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
      82: athrow
      83: aload_0
      84: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
      87: aload_0
      88: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      91: invokeinterface #74,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      96: checkcast     #75                 // class net/sf/ehcache/transaction/xa/XATransactionContext
      99: astore_1
     100: aload_1
     101: ifnonnull     145
     104: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     107: ldc           #175                // String creating new context for XID [{}]
     109: aload_0
     110: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     113: invokeinterface #57,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     118: new           #75                 // class net/sf/ehcache/transaction/xa/XATransactionContext
     121: dup
     122: aload_0
     123: getfield      #10                 // Field underlyingStore:Lnet/sf/ehcache/store/Store;
     126: invokespecial #176                // Method net/sf/ehcache/transaction/xa/XATransactionContext."<init>":(Lnet/sf/ehcache/store/Store;)V
     129: astore_1
     130: aload_0
     131: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
     134: aload_0
     135: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
     138: aload_1
     139: invokeinterface #177,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     144: pop
     145: aload_1
     146: areturn

  public net.sf.ehcache.transaction.xa.XATransactionContext getCurrentTransactionContext();
    Code:
       0: aload_0
       1: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
       4: ifnonnull     19
       7: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      10: ldc           #178                // String getting current TX context of XAResource with current XID [null]: null
      12: invokeinterface #179,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      17: aconst_null
      18: areturn
      19: aload_0
      20: getfield      #6                  // Field xidToContextMap:Ljava/util/concurrent/ConcurrentMap;
      23: aload_0
      24: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      27: invokeinterface #74,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      32: checkcast     #75                 // class net/sf/ehcache/transaction/xa/XATransactionContext
      35: astore_1
      36: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      39: ldc           #180                // String getting current TX context of XAResource with current XID [{}]: {}
      41: aload_0
      42: getfield      #29                 // Field currentXid:Ljavax/transaction/xa/Xid;
      45: aload_1
      46: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      51: aload_1
      52: areturn

  private static java.lang.String prettyPrintXAResourceFlags(int);
    Code:
       0: new           #31                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: iload_0
       9: ldc           #181                // int 8388608
      11: iand
      12: ldc           #181                // int 8388608
      14: if_icmpne     38
      17: aload_1
      18: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
      21: ifle          31
      24: aload_1
      25: bipush        124
      27: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      30: pop
      31: aload_1
      32: ldc           #184                // String TMENDRSCAN
      34: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: pop
      38: iload_0
      39: ldc           #51                 // int 536870912
      41: iand
      42: ldc           #51                 // int 536870912
      44: if_icmpne     68
      47: aload_1
      48: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
      51: ifle          61
      54: aload_1
      55: bipush        124
      57: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      60: pop
      61: aload_1
      62: ldc           #185                // String TMFAIL
      64: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: pop
      68: iload_0
      69: ldc           #42                 // int 2097152
      71: iand
      72: ldc           #42                 // int 2097152
      74: if_icmpne     98
      77: aload_1
      78: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
      81: ifle          91
      84: aload_1
      85: bipush        124
      87: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      90: pop
      91: aload_1
      92: ldc           #186                // String TMJOIN
      94: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: pop
      98: iload_0
      99: ldc           #187                // int 1073741824
     101: iand
     102: ldc           #187                // int 1073741824
     104: if_icmpne     128
     107: aload_1
     108: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     111: ifle          121
     114: aload_1
     115: bipush        124
     117: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     120: pop
     121: aload_1
     122: ldc           #188                // String TMONEPHASE
     124: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: pop
     128: iload_0
     129: ldc           #40                 // int 134217728
     131: iand
     132: ldc           #40                 // int 134217728
     134: if_icmpne     158
     137: aload_1
     138: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     141: ifle          151
     144: aload_1
     145: bipush        124
     147: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     150: pop
     151: aload_1
     152: ldc           #189                // String TMRESUME
     154: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     157: pop
     158: iload_0
     159: ldc           #62                 // int 16777216
     161: iand
     162: ldc           #62                 // int 16777216
     164: if_icmpne     188
     167: aload_1
     168: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     171: ifle          181
     174: aload_1
     175: bipush        124
     177: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     180: pop
     181: aload_1
     182: ldc           #190                // String TMSTARTRSCAN
     184: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     187: pop
     188: iload_0
     189: ldc           #47                 // int 67108864
     191: iand
     192: ldc           #47                 // int 67108864
     194: if_icmpne     218
     197: aload_1
     198: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     201: ifle          211
     204: aload_1
     205: bipush        124
     207: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     210: pop
     211: aload_1
     212: ldc           #191                // String TMSUCCESS
     214: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     217: pop
     218: iload_0
     219: ldc           #48                 // int 33554432
     221: iand
     222: ldc           #48                 // int 33554432
     224: if_icmpne     248
     227: aload_1
     228: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     231: ifle          241
     234: aload_1
     235: bipush        124
     237: invokevirtual #183                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     240: pop
     241: aload_1
     242: ldc           #192                // String TMSUSPEND
     244: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     247: pop
     248: aload_1
     249: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     252: ifne          266
     255: iload_0
     256: ifne          266
     259: aload_1
     260: ldc           #193                // String TMNOFLAGS
     262: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     265: pop
     266: aload_1
     267: invokevirtual #182                // Method java/lang/StringBuilder.length:()I
     270: ifne          284
     273: aload_1
     274: ldc           #194                // String unknown flag:
     276: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: iload_0
     280: invokevirtual #44                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     283: pop
     284: aload_1
     285: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     288: areturn

  public java.lang.String toString();
    Code:
       0: new           #31                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #32                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #195                // String EhcacheXAResourceImpl of cache
       9: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
      16: invokeinterface #140,  1          // InterfaceMethod net/sf/ehcache/Ehcache.getName:()Ljava/lang/String;
      21: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: areturn

  static net.sf.ehcache.Ehcache access$000(net.sf.ehcache.transaction.xa.EhcacheXAResourceImpl);
    Code:
       0: aload_0
       1: getfield      #2                  // Field cache:Lnet/sf/ehcache/Ehcache;
       4: areturn

  static net.sf.ehcache.transaction.TransactionIDFactory access$100(net.sf.ehcache.transaction.xa.EhcacheXAResourceImpl);
    Code:
       0: aload_0
       1: getfield      #1                  // Field transactionIDFactory:Lnet/sf/ehcache/transaction/TransactionIDFactory;
       4: areturn

  static {};
    Code:
       0: ldc_w         #67                 // class net/sf/ehcache/transaction/xa/EhcacheXAResourceImpl
       3: invokevirtual #196                // Method java/lang/Class.getName:()Ljava/lang/String;
       6: invokestatic  #197                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/String;)Lorg/slf4j/Logger;
       9: putstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      12: return
}
