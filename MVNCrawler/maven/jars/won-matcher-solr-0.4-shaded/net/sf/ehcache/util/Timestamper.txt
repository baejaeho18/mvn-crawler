Compiled from "Timestamper.java"
public final class net.sf.ehcache.util.Timestamper {
  public static final int BIN_DIGITS;

  public static final int ONE_MS;

  private static final org.slf4j.Logger LOG;

  private static final int MAX_LOG;

  private static final java.util.concurrent.atomic.AtomicLong VALUE;

  private static final java.util.concurrent.atomic.AtomicLong LOGGED;

  private net.sf.ehcache.util.Timestamper();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static long next();
    Code:
       0: iconst_0
       1: istore_0
       2: invokestatic  #2                  // Method net/sf/ehcache/util/SlewClock.timeMillis:()J
       5: getstatic     #3                  // Field BIN_DIGITS:I
       8: lshl
       9: lstore_1
      10: lload_1
      11: getstatic     #4                  // Field ONE_MS:I
      14: i2l
      15: ladd
      16: lconst_1
      17: lsub
      18: lstore_3
      19: getstatic     #5                  // Field VALUE:Ljava/util/concurrent/atomic/AtomicLong;
      22: invokevirtual #6                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
      25: lstore        5
      27: lload_1
      28: lload         5
      30: lconst_1
      31: ladd
      32: invokestatic  #7                  // Method java/lang/Math.max:(JJ)J
      35: lstore        7
      37: lload         7
      39: lload_3
      40: lcmp
      41: ifge          103
      44: getstatic     #5                  // Field VALUE:Ljava/util/concurrent/atomic/AtomicLong;
      47: lload         5
      49: lload         7
      51: invokevirtual #8                  // Method java/util/concurrent/atomic/AtomicLong.compareAndSet:(JJ)Z
      54: ifeq          82
      57: iload_0
      58: iconst_1
      59: if_icmple     79
      62: lload_1
      63: ldc           #9                  // String Thread spin-waits on time to pass. Looped {} times, you might want to increase -Dnet.sf.ehcache.util.Timestamper.shift
      65: iconst_1
      66: anewarray     #10                 // class java/lang/Object
      69: dup
      70: iconst_0
      71: iload_0
      72: invokestatic  #11                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      75: aastore
      76: invokestatic  #12                 // Method log:(JLjava/lang/String;[Ljava/lang/Object;)V
      79: lload         7
      81: lreturn
      82: getstatic     #5                  // Field VALUE:Ljava/util/concurrent/atomic/AtomicLong;
      85: invokevirtual #6                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
      88: lstore        5
      90: lload_1
      91: lload         5
      93: lconst_1
      94: ladd
      95: invokestatic  #7                  // Method java/lang/Math.max:(JJ)J
      98: lstore        7
     100: goto          37
     103: iinc          0, 1
     106: goto          2

  private static void log(long, java.lang.String, java.lang.Object...);
    Code:
       0: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
       3: invokeinterface #14,  1           // InterfaceMethod org/slf4j/Logger.isInfoEnabled:()Z
       8: ifeq          62
      11: lload_0
      12: getstatic     #3                  // Field BIN_DIGITS:I
      15: lshr
      16: getstatic     #15                 // Field MAX_LOG:I
      19: i2l
      20: ldiv
      21: lstore        4
      23: getstatic     #16                 // Field LOGGED:Ljava/util/concurrent/atomic/AtomicLong;
      26: invokevirtual #6                  // Method java/util/concurrent/atomic/AtomicLong.get:()J
      29: lstore        6
      31: lload         6
      33: lload         4
      35: lcmp
      36: ifeq          62
      39: getstatic     #16                 // Field LOGGED:Ljava/util/concurrent/atomic/AtomicLong;
      42: lload         6
      44: lload         4
      46: invokevirtual #8                  // Method java/util/concurrent/atomic/AtomicLong.compareAndSet:(JJ)Z
      49: ifeq          62
      52: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      55: aload_2
      56: aload_3
      57: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      62: return

  static {};
    Code:
       0: ldc           #18                 // String net.sf.ehcache.util.Timestamper.shift
       2: bipush        12
       4: invokestatic  #19                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
       7: invokevirtual #20                 // Method java/lang/Integer.intValue:()I
      10: putstatic     #3                  // Field BIN_DIGITS:I
      13: iconst_1
      14: getstatic     #3                  // Field BIN_DIGITS:I
      17: ishl
      18: putstatic     #4                  // Field ONE_MS:I
      21: ldc_w         #21                 // class net/sf/ehcache/util/Timestamper
      24: invokestatic  #22                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      27: putstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      30: ldc           #23                 // String net.sf.ehcache.util.Timestamper.log.max
      32: iconst_1
      33: invokestatic  #19                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      36: invokevirtual #20                 // Method java/lang/Integer.intValue:()I
      39: sipush        1000
      42: imul
      43: putstatic     #15                 // Field MAX_LOG:I
      46: new           #24                 // class java/util/concurrent/atomic/AtomicLong
      49: dup
      50: invokespecial #25                 // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      53: putstatic     #5                  // Field VALUE:Ljava/util/concurrent/atomic/AtomicLong;
      56: new           #24                 // class java/util/concurrent/atomic/AtomicLong
      59: dup
      60: invokespecial #25                 // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      63: putstatic     #16                 // Field LOGGED:Ljava/util/concurrent/atomic/AtomicLong;
      66: return
}
