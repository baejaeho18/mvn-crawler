Compiled from "CacheManager.java"
class net.sf.ehcache.CacheManager$CacheRejoinAction implements net.sf.ehcache.terracotta.TerracottaClientRejoinListener {
  private final java.util.Collection<java.lang.ref.WeakReference<net.sf.ehcache.Cache>> caches;

  final net.sf.ehcache.CacheManager this$0;

  net.sf.ehcache.CacheManager$CacheRejoinAction(net.sf.ehcache.CacheManager);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #3                  // class java/util/concurrent/CopyOnWriteArrayList
      13: dup
      14: invokespecial #4                  // Method java/util/concurrent/CopyOnWriteArrayList."<init>":()V
      17: putfield      #5                  // Field caches:Ljava/util/Collection;
      20: return

  public void clusterRejoinStarted();
    Code:
       0: new           #6                  // class java/util/ArrayList
       3: dup
       4: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #5                  // Field caches:Ljava/util/Collection;
      12: invokeinterface #8,  1            // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      17: astore_2
      18: aload_2
      19: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          81
      27: aload_2
      28: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #11                 // class java/lang/ref/WeakReference
      36: astore_3
      37: aload_3
      38: invokevirtual #12                 // Method java/lang/ref/WeakReference.get:()Ljava/lang/Object;
      41: checkcast     #13                 // class net/sf/ehcache/Cache
      44: astore        4
      46: aload         4
      48: ifnonnull     62
      51: aload_1
      52: aload_3
      53: invokeinterface #14,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      58: pop
      59: goto          18
      62: aload         4
      64: invokevirtual #15                 // Method net/sf/ehcache/Cache.getCacheConfiguration:()Lnet/sf/ehcache/config/CacheConfiguration;
      67: invokevirtual #16                 // Method net/sf/ehcache/config/CacheConfiguration.isTerracottaClustered:()Z
      70: ifeq          78
      73: aload         4
      75: invokevirtual #17                 // Method net/sf/ehcache/Cache.clusterRejoinStarted:()V
      78: goto          18
      81: aload_0
      82: getfield      #5                  // Field caches:Ljava/util/Collection;
      85: aload_1
      86: invokeinterface #18,  2           // InterfaceMethod java/util/Collection.removeAll:(Ljava/util/Collection;)Z
      91: pop
      92: aload_0
      93: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
      96: invokestatic  #19                 // Method net/sf/ehcache/CacheManager.access$200:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/constructs/nonstop/NonstopExecutorServiceFactory;
      99: aload_0
     100: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     103: invokeinterface #20,  2           // InterfaceMethod net/sf/ehcache/constructs/nonstop/NonstopExecutorServiceFactory.shutdown:(Lnet/sf/ehcache/CacheManager;)V
     108: return

  public void clusterRejoinComplete();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
       4: invokestatic  #19                 // Method net/sf/ehcache/CacheManager.access$200:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/constructs/nonstop/NonstopExecutorServiceFactory;
       7: aload_0
       8: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
      11: invokeinterface #21,  2           // InterfaceMethod net/sf/ehcache/constructs/nonstop/NonstopExecutorServiceFactory.getOrCreateNonstopExecutorService:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/constructs/nonstop/NonstopExecutorService;
      16: pop
      17: new           #6                  // class java/util/ArrayList
      20: dup
      21: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
      24: astore_1
      25: aload_0
      26: getfield      #5                  // Field caches:Ljava/util/Collection;
      29: invokeinterface #8,  1            // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      34: astore_2
      35: aload_2
      36: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      41: ifeq          98
      44: aload_2
      45: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #11                 // class java/lang/ref/WeakReference
      53: astore_3
      54: aload_3
      55: invokevirtual #12                 // Method java/lang/ref/WeakReference.get:()Ljava/lang/Object;
      58: checkcast     #13                 // class net/sf/ehcache/Cache
      61: astore        4
      63: aload         4
      65: ifnonnull     79
      68: aload_1
      69: aload_3
      70: invokeinterface #14,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      75: pop
      76: goto          35
      79: aload         4
      81: invokevirtual #15                 // Method net/sf/ehcache/Cache.getCacheConfiguration:()Lnet/sf/ehcache/config/CacheConfiguration;
      84: invokevirtual #16                 // Method net/sf/ehcache/config/CacheConfiguration.isTerracottaClustered:()Z
      87: ifeq          95
      90: aload         4
      92: invokevirtual #22                 // Method net/sf/ehcache/Cache.clusterRejoinComplete:()V
      95: goto          35
      98: aload_0
      99: getfield      #5                  // Field caches:Ljava/util/Collection;
     102: aload_1
     103: invokeinterface #18,  2           // InterfaceMethod java/util/Collection.removeAll:(Ljava/util/Collection;)Z
     108: pop
     109: aload_0
     110: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     113: invokestatic  #23                 // Method net/sf/ehcache/CacheManager.access$300:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/management/provider/MBeanRegistrationProvider;
     116: invokeinterface #24,  1           // InterfaceMethod net/sf/ehcache/management/provider/MBeanRegistrationProvider.isInitialized:()Z
     121: ifeq          190
     124: aload_0
     125: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     128: invokestatic  #23                 // Method net/sf/ehcache/CacheManager.access$300:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/management/provider/MBeanRegistrationProvider;
     131: aload_0
     132: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     135: invokestatic  #25                 // Method net/sf/ehcache/CacheManager.access$400:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/terracotta/TerracottaClient;
     138: invokevirtual #26                 // Method net/sf/ehcache/terracotta/TerracottaClient.getClusteredInstanceFactory:()Lnet/sf/ehcache/terracotta/ClusteredInstanceFactory;
     141: invokeinterface #27,  2           // InterfaceMethod net/sf/ehcache/management/provider/MBeanRegistrationProvider.reinitialize:(Lnet/sf/ehcache/terracotta/ClusteredInstanceFactory;)V
     146: goto          190
     149: astore_2
     150: new           #29                 // class net/sf/ehcache/CacheException
     153: dup
     154: new           #30                 // class java/lang/StringBuilder
     157: dup
     158: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
     161: ldc           #32                 // String Problem in reinitializing MBeanRegistrationProvider -
     163: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: aload_0
     167: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     170: invokestatic  #23                 // Method net/sf/ehcache/CacheManager.access$300:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/management/provider/MBeanRegistrationProvider;
     173: invokevirtual #34                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     176: invokevirtual #35                 // Method java/lang/Class.getName:()Ljava/lang/String;
     179: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: invokevirtual #36                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: aload_2
     186: invokespecial #37                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     189: athrow
     190: aload_0
     191: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     194: aconst_null
     195: invokestatic  #38                 // Method net/sf/ehcache/CacheManager.access$502:(Lnet/sf/ehcache/CacheManager;Lnet/sf/ehcache/transaction/DelegatingTransactionIDFactory;)Lnet/sf/ehcache/transaction/DelegatingTransactionIDFactory;
     198: pop
     199: aload_0
     200: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     203: new           #39                 // class net/sf/ehcache/TransactionController
     206: dup
     207: aload_0
     208: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     211: invokevirtual #40                 // Method net/sf/ehcache/CacheManager.getOrCreateTransactionIDFactory:()Lnet/sf/ehcache/transaction/TransactionIDFactory;
     214: aload_0
     215: getfield      #1                  // Field this$0:Lnet/sf/ehcache/CacheManager;
     218: invokestatic  #41                 // Method net/sf/ehcache/CacheManager.access$600:(Lnet/sf/ehcache/CacheManager;)Lnet/sf/ehcache/config/Configuration$RuntimeCfg;
     221: invokevirtual #42                 // Method net/sf/ehcache/config/Configuration$RuntimeCfg.getConfiguration:()Lnet/sf/ehcache/config/Configuration;
     224: invokevirtual #43                 // Method net/sf/ehcache/config/Configuration.getDefaultTransactionTimeoutInSeconds:()I
     227: invokespecial #44                 // Method net/sf/ehcache/TransactionController."<init>":(Lnet/sf/ehcache/transaction/TransactionIDFactory;I)V
     230: invokestatic  #45                 // Method net/sf/ehcache/CacheManager.access$002:(Lnet/sf/ehcache/CacheManager;Lnet/sf/ehcache/TransactionController;)Lnet/sf/ehcache/TransactionController;
     233: pop
     234: return
    Exception table:
       from    to  target type
         124   146   149   Class net/sf/ehcache/management/provider/MBeanRegistrationProviderException

  public void register(net.sf.ehcache.Cache);
    Code:
       0: aload_0
       1: getfield      #5                  // Field caches:Ljava/util/Collection;
       4: new           #11                 // class java/lang/ref/WeakReference
       7: dup
       8: aload_1
       9: invokespecial #46                 // Method java/lang/ref/WeakReference."<init>":(Ljava/lang/Object;)V
      12: invokeinterface #14,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      17: pop
      18: return

  public void unregister(net.sf.ehcache.Cache);
    Code:
       0: new           #6                  // class java/util/ArrayList
       3: dup
       4: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #5                  // Field caches:Ljava/util/Collection;
      12: invokeinterface #8,  1            // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      17: astore_3
      18: aload_3
      19: invokeinterface #9,  1            // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          71
      27: aload_3
      28: invokeinterface #10,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #11                 // class java/lang/ref/WeakReference
      36: astore        4
      38: aload         4
      40: invokevirtual #12                 // Method java/lang/ref/WeakReference.get:()Ljava/lang/Object;
      43: checkcast     #13                 // class net/sf/ehcache/Cache
      46: astore        5
      48: aload         5
      50: ifnull        59
      53: aload         5
      55: aload_1
      56: if_acmpne     68
      59: aload_2
      60: aload         4
      62: invokeinterface #14,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      67: pop
      68: goto          18
      71: aload_0
      72: getfield      #5                  // Field caches:Ljava/util/Collection;
      75: aload_2
      76: invokeinterface #18,  2           // InterfaceMethod java/util/Collection.removeAll:(Ljava/util/Collection;)Z
      81: pop
      82: return

  public void unregisterAll();
    Code:
       0: aload_0
       1: getfield      #5                  // Field caches:Ljava/util/Collection;
       4: invokeinterface #47,  1           // InterfaceMethod java/util/Collection.clear:()V
       9: return
}
