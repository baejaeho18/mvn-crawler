Compiled from "TerracottaClusteredInstanceHelper.java"
class net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper {
  private static net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper instance;

  private static final boolean TC_DSO_MODE;

  private static final java.lang.String ENTERPRISE_EXPRESS_FACTORY;

  private static final java.lang.String ENTERPRISE_CUSTOM_FACTORY;

  private static final java.lang.String EXPRESS_FACTORY;

  private static final java.lang.String CUSTOM_FACTORY;

  private volatile net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper$TerracottaRuntimeType terracottaRuntimeType;

  private net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokespecial #2                  // Method lookupTerracottaRuntime:()Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
       8: pop
       9: return

  public static net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper getInstance();
    Code:
       0: getstatic     #3                  // Field instance:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper;
       3: areturn

  private static void setTestMode(net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper);
    Code:
       0: aload_0
       1: putstatic     #3                  // Field instance:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper;
       4: return

  private net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper$TerracottaRuntimeType lookupTerracottaRuntime();
    Code:
       0: aload_0
       1: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
       4: ifnonnull     79
       7: iconst_4
       8: anewarray     #5                  // class net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType
      11: dup
      12: iconst_0
      13: getstatic     #6                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.EnterpriseExpress:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      16: aastore
      17: dup
      18: iconst_1
      19: getstatic     #7                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.EnterpriseCustom:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      22: aastore
      23: dup
      24: iconst_2
      25: getstatic     #8                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.Express:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      28: aastore
      29: dup
      30: iconst_3
      31: getstatic     #9                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.Custom:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      34: aastore
      35: astore_1
      36: aload_1
      37: astore_2
      38: aload_2
      39: arraylength
      40: istore_3
      41: iconst_0
      42: istore        4
      44: iload         4
      46: iload_3
      47: if_icmpge     79
      50: aload_2
      51: iload         4
      53: aaload
      54: astore        5
      56: aload         5
      58: invokevirtual #10                 // Method net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.getFactoryClassOrNull:()Ljava/lang/Class;
      61: ifnull        73
      64: aload_0
      65: aload         5
      67: putfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      70: goto          79
      73: iinc          4, 1
      76: goto          44
      79: aload_0
      80: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      83: areturn

  net.sf.ehcache.terracotta.ClusteredInstanceFactory newClusteredInstanceFactory(java.util.Map<java.lang.String, net.sf.ehcache.config.CacheConfiguration>, net.sf.ehcache.config.TerracottaClientConfiguration);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method lookupTerracottaRuntime:()Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
       4: pop
       5: aload_0
       6: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
       9: ifnonnull     22
      12: new           #11                 // class net/sf/ehcache/CacheException
      15: dup
      16: ldc           #12                 // String Terracotta cache classes are not available, you are missing jar(s) most likely
      18: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
      21: athrow
      22: aload_0
      23: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      26: getstatic     #6                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.EnterpriseExpress:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      29: if_acmpeq     42
      32: aload_0
      33: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      36: getstatic     #8                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.Express:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      39: if_acmpne     50
      42: aload_1
      43: aload_2
      44: invokestatic  #14                 // Method assertExpress:(Ljava/util/Map;Lnet/sf/ehcache/config/TerracottaClientConfiguration;)V
      47: goto          107
      50: aload_0
      51: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      54: getstatic     #7                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.EnterpriseCustom:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      57: if_acmpeq     70
      60: aload_0
      61: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      64: getstatic     #9                  // Field net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.Custom:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      67: if_acmpne     77
      70: aload_2
      71: invokestatic  #15                 // Method assertCustom:(Lnet/sf/ehcache/config/TerracottaClientConfiguration;)V
      74: goto          107
      77: new           #11                 // class net/sf/ehcache/CacheException
      80: dup
      81: new           #16                 // class java/lang/StringBuilder
      84: dup
      85: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      88: ldc           #18                 // String Unknown Terracotta runtime type -
      90: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: aload_0
      94: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
      97: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     100: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     103: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
     106: athrow
     107: aload_0
     108: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
     111: invokevirtual #10                 // Method net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.getFactoryClassOrNull:()Ljava/lang/Class;
     114: astore_3
     115: aload_3
     116: ifnonnull     152
     119: new           #11                 // class net/sf/ehcache/CacheException
     122: dup
     123: new           #16                 // class java/lang/StringBuilder
     126: dup
     127: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     130: ldc           #22                 // String Not able to get factory class for:
     132: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: aload_0
     136: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
     139: invokevirtual #23                 // Method net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType.name:()Ljava/lang/String;
     142: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     145: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     148: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
     151: athrow
     152: aload_3
     153: invokevirtual #24                 // Method java/lang/Class.getName:()Ljava/lang/String;
     156: iconst_1
     157: anewarray     #25                 // class java/lang/Class
     160: dup
     161: iconst_0
     162: ldc_w         #26                 // class net/sf/ehcache/config/TerracottaClientConfiguration
     165: aastore
     166: iconst_1
     167: anewarray     #27                 // class java/lang/Object
     170: dup
     171: iconst_0
     172: aload_2
     173: aastore
     174: invokestatic  #28                 // Method net/sf/ehcache/util/ClassLoaderUtil.createNewInstance:(Ljava/lang/String;[Ljava/lang/Class;[Ljava/lang/Object;)Ljava/lang/Object;
     177: checkcast     #29                 // class net/sf/ehcache/terracotta/ClusteredInstanceFactory
     180: areturn
     181: astore        4
     183: aload         4
     185: invokevirtual #30                 // Method net/sf/ehcache/CacheException.getCause:()Ljava/lang/Throwable;
     188: instanceof    #31                 // class java/lang/NoClassDefFoundError
     191: ifeq          212
     194: new           #11                 // class net/sf/ehcache/CacheException
     197: dup
     198: ldc           #32                 // String Could not create ClusteredInstanceFactory due to missing class. Please verify that terracotta-toolkit is in your classpath.
     200: aload         4
     202: invokevirtual #30                 // Method net/sf/ehcache/CacheException.getCause:()Ljava/lang/Throwable;
     205: invokevirtual #33                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
     208: invokespecial #34                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     211: athrow
     212: aload         4
     214: athrow
    Exception table:
       from    to  target type
         152   180   181   Class net/sf/ehcache/CacheException

  private static void assertCustom(net.sf.ehcache.config.TerracottaClientConfiguration);
    Code:
       0: getstatic     #35                 // Field TC_DSO_MODE:Z
       3: ifne          16
       6: new           #11                 // class net/sf/ehcache/CacheException
       9: dup
      10: ldc           #36                 // String When not using standalone deployment, you need to use full install of Terracotta in order to use Terracotta Clustered Caches.
      12: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
      15: athrow
      16: aload_0
      17: ifnull        30
      20: new           #11                 // class net/sf/ehcache/CacheException
      23: dup
      24: ldc           #37                 // String The ehcache configuration specified Terracotta configuration information, but when using the full install of Terracotta, you must specify the Terracotta configuration only with an external tc-config.xml file, not embedded or referenced from the ehcache configuration file.
      26: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
      29: athrow
      30: return

  private static void assertExpress(java.util.Map<java.lang.String, net.sf.ehcache.config.CacheConfiguration>, net.sf.ehcache.config.TerracottaClientConfiguration);
    Code:
       0: new           #38                 // class java/util/ArrayList
       3: dup
       4: invokespecial #39                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: invokeinterface #40,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      14: invokeinterface #41,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      19: astore_3
      20: aload_3
      21: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          78
      29: aload_3
      30: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #44                 // class net/sf/ehcache/config/CacheConfiguration
      38: astore        4
      40: aload         4
      42: invokevirtual #45                 // Method net/sf/ehcache/config/CacheConfiguration.getTerracottaConfiguration:()Lnet/sf/ehcache/config/TerracottaConfiguration;
      45: astore        5
      47: aload         5
      49: ifnull        75
      52: aload         5
      54: invokevirtual #46                 // Method net/sf/ehcache/config/TerracottaConfiguration.getValueMode:()Lnet/sf/ehcache/config/TerracottaConfiguration$ValueMode;
      57: getstatic     #47                 // Field net/sf/ehcache/config/TerracottaConfiguration$ValueMode.IDENTITY:Lnet/sf/ehcache/config/TerracottaConfiguration$ValueMode;
      60: if_acmpne     75
      63: aload_2
      64: aload         4
      66: invokevirtual #48                 // Method net/sf/ehcache/config/CacheConfiguration.getName:()Ljava/lang/String;
      69: invokeinterface #49,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      74: pop
      75: goto          20
      78: aload_2
      79: invokeinterface #50,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      84: ifne          92
      87: aload_2
      88: invokestatic  #51                 // Method newExceptionIdentityNotSupportedInExpress:(Ljava/util/List;)Lnet/sf/ehcache/CacheException;
      91: athrow
      92: aload_1
      93: ifnonnull     106
      96: new           #11                 // class net/sf/ehcache/CacheException
      99: dup
     100: ldc           #52                 // String Terracotta caches are defined but no <terracottaConfig> element was used to specify the Terracotta configuration.
     102: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
     105: athrow
     106: return

  private static net.sf.ehcache.CacheException newExceptionIdentityNotSupportedInExpress(java.util.List<java.lang.String>);
    Code:
       0: new           #11                 // class net/sf/ehcache/CacheException
       3: dup
       4: new           #16                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #53                 // String One or more caches are configured for identity value mode which is not permitted with standalone deployment
      13: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: invokevirtual #54                 // Method java/lang/Object.toString:()Ljava/lang/String;
      20: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: invokespecial #13                 // Method net/sf/ehcache/CacheException."<init>":(Ljava/lang/String;)V
      29: areturn

  net.sf.ehcache.terracotta.TerracottaClusteredInstanceHelper$TerracottaRuntimeType getTerracottaRuntimeTypeOrNull();
    Code:
       0: aload_0
       1: getfield      #4                  // Field terracottaRuntimeType:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper$TerracottaRuntimeType;
       4: areturn

  static {};
    Code:
       0: new           #55                 // class net/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper
       3: dup
       4: invokespecial #56                 // Method "<init>":()V
       7: putstatic     #3                  // Field instance:Lnet/sf/ehcache/terracotta/TerracottaClusteredInstanceHelper;
      10: ldc           #57                 // String tc.active
      12: invokestatic  #58                 // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
      15: putstatic     #35                 // Field TC_DSO_MODE:Z
      18: return
}
