Compiled from "SignatureAddingWonMessageProcessor.java"
public class won.protocol.message.processor.impl.SignatureAddingWonMessageProcessor implements won.protocol.message.processor.WonMessageProcessor {
  private static final org.slf4j.Logger logger;

  private won.cryptography.service.CryptographyService cryptographyService;

  private won.cryptography.keymanagement.KeyPairAliasDerivationStrategy keyPairAliasDerivationStrategy;

  public won.protocol.message.processor.impl.SignatureAddingWonMessageProcessor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public won.protocol.message.WonMessage process(won.protocol.message.WonMessage) throws won.protocol.message.processor.exception.WonMessageProcessingException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field cryptographyService:Lwon/cryptography/service/CryptographyService;
       4: invokevirtual #3                  // Method won/cryptography/service/CryptographyService.getDefaultPrivateKey:()Ljava/security/PrivateKey;
       7: astore_2
       8: aload_0
       9: getfield      #2                  // Field cryptographyService:Lwon/cryptography/service/CryptographyService;
      12: invokevirtual #4                  // Method won/cryptography/service/CryptographyService.getDefaultPrivateKeyAlias:()Ljava/lang/String;
      15: astore_3
      16: aload_0
      17: getfield      #2                  // Field cryptographyService:Lwon/cryptography/service/CryptographyService;
      20: aload_3
      21: invokevirtual #5                  // Method won/cryptography/service/CryptographyService.getPublicKey:(Ljava/lang/String;)Ljava/security/PublicKey;
      24: astore        4
      26: aload_0
      27: aload_1
      28: aload_3
      29: aload_2
      30: aload         4
      32: invokespecial #6                  // Method processWithKey:(Lwon/protocol/message/WonMessage;Ljava/lang/String;Ljava/security/PrivateKey;Ljava/security/PublicKey;)Lwon/protocol/message/WonMessage;
      35: areturn
      36: astore        5
      38: getstatic     #8                  // Field logger:Lorg/slf4j/Logger;
      41: ldc           #9                  // String Failed to sign
      43: aload         5
      45: invokeinterface #10,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      50: new           #11                 // class won/protocol/message/processor/exception/WonMessageProcessingException
      53: dup
      54: new           #12                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #14                 // String Failed to sign message
      63: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_1
      67: invokevirtual #16                 // Method won/protocol/message/WonMessage.getMessageURI:()Ljava/net/URI;
      70: invokevirtual #17                 // Method java/net/URI.toString:()Ljava/lang/String;
      73: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      79: invokespecial #19                 // Method won/protocol/message/processor/exception/WonMessageProcessingException."<init>":(Ljava/lang/String;)V
      82: athrow
    Exception table:
       from    to  target type
          26    35    36   Class java/lang/Exception

  public won.protocol.message.WonMessage processOnBehalfOfAtom(won.protocol.message.WonMessage) throws won.protocol.message.processor.exception.WonMessageProcessingException;
    Code:
       0: aload_0
       1: getfield      #20                 // Field keyPairAliasDerivationStrategy:Lwon/cryptography/keymanagement/KeyPairAliasDerivationStrategy;
       4: aload_1
       5: invokevirtual #21                 // Method won/protocol/message/WonMessage.getSenderAtomURI:()Ljava/net/URI;
       8: invokevirtual #17                 // Method java/net/URI.toString:()Ljava/lang/String;
      11: invokeinterface #22,  2           // InterfaceMethod won/cryptography/keymanagement/KeyPairAliasDerivationStrategy.getAliasForAtomUri:(Ljava/lang/String;)Ljava/lang/String;
      16: astore_2
      17: aload_0
      18: getfield      #2                  // Field cryptographyService:Lwon/cryptography/service/CryptographyService;
      21: aload_2
      22: invokevirtual #23                 // Method won/cryptography/service/CryptographyService.getPrivateKey:(Ljava/lang/String;)Ljava/security/PrivateKey;
      25: astore_3
      26: aload_0
      27: getfield      #2                  // Field cryptographyService:Lwon/cryptography/service/CryptographyService;
      30: aload_2
      31: invokevirtual #5                  // Method won/cryptography/service/CryptographyService.getPublicKey:(Ljava/lang/String;)Ljava/security/PublicKey;
      34: astore        4
      36: aload_0
      37: aload_1
      38: aload_1
      39: invokevirtual #21                 // Method won/protocol/message/WonMessage.getSenderAtomURI:()Ljava/net/URI;
      42: invokevirtual #17                 // Method java/net/URI.toString:()Ljava/lang/String;
      45: aload_3
      46: aload         4
      48: invokespecial #6                  // Method processWithKey:(Lwon/protocol/message/WonMessage;Ljava/lang/String;Ljava/security/PrivateKey;Ljava/security/PublicKey;)Lwon/protocol/message/WonMessage;
      51: areturn
      52: astore        5
      54: getstatic     #8                  // Field logger:Lorg/slf4j/Logger;
      57: ldc           #9                  // String Failed to sign
      59: aload         5
      61: invokeinterface #10,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      66: new           #11                 // class won/protocol/message/processor/exception/WonMessageProcessingException
      69: dup
      70: new           #12                 // class java/lang/StringBuilder
      73: dup
      74: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      77: ldc           #14                 // String Failed to sign message
      79: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: aload_1
      83: invokevirtual #16                 // Method won/protocol/message/WonMessage.getMessageURI:()Ljava/net/URI;
      86: invokevirtual #17                 // Method java/net/URI.toString:()Ljava/lang/String;
      89: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      95: invokespecial #19                 // Method won/protocol/message/processor/exception/WonMessageProcessingException."<init>":(Ljava/lang/String;)V
      98: athrow
    Exception table:
       from    to  target type
          36    51    52   Class java/lang/Exception

  private won.protocol.message.WonMessage processWithKey(won.protocol.message.WonMessage, java.lang.String, java.security.PrivateKey, java.security.PublicKey) throws java.lang.Exception;
    Code:
       0: aload_3
       1: aload         4
       3: aload_2
       4: aload_1
       5: invokestatic  #24                 // Method won/protocol/message/processor/impl/WonMessageSignerVerifier.sign:(Ljava/security/PrivateKey;Ljava/security/PublicKey;Ljava/lang/String;Lwon/protocol/message/WonMessage;)Lwon/protocol/message/WonMessage;
       8: astore        5
      10: getstatic     #8                  // Field logger:Lorg/slf4j/Logger;
      13: new           #12                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #25                 // String SIGNED with key
      22: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_2
      26: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: ldc           #26                 // String :\n
      31: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: aload         5
      36: getstatic     #27                 // Field org/apache/jena/riot/Lang.TRIG:Lorg/apache/jena/riot/Lang;
      39: invokestatic  #28                 // Method won/protocol/message/WonMessageEncoder.encode:(Lwon/protocol/message/WonMessage;Lorg/apache/jena/riot/Lang;)Ljava/lang/String;
      42: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokeinterface #29,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      53: aload         5
      55: areturn

  public void setCryptographyService(won.cryptography.service.CryptographyService);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field cryptographyService:Lwon/cryptography/service/CryptographyService;
       5: return

  public void setKeyPairAliasDerivationStrategy(won.cryptography.keymanagement.KeyPairAliasDerivationStrategy);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #20                 // Field keyPairAliasDerivationStrategy:Lwon/cryptography/keymanagement/KeyPairAliasDerivationStrategy;
       5: return

  static {};
    Code:
       0: invokestatic  #30                 // Method java/lang/invoke/MethodHandles.lookup:()Ljava/lang/invoke/MethodHandles$Lookup;
       3: invokevirtual #31                 // Method java/lang/invoke/MethodHandles$Lookup.lookupClass:()Ljava/lang/Class;
       6: invokestatic  #32                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       9: putstatic     #8                  // Field logger:Lorg/slf4j/Logger;
      12: return
}
