Compiled from "ControlledFragmentAssembler.java"
public class io.aeron.ControlledFragmentAssembler implements io.aeron.logbuffer.ControlledFragmentHandler {
  private final io.aeron.logbuffer.ControlledFragmentHandler delegate;

  private final org.agrona.collections.Int2ObjectHashMap<io.aeron.BufferBuilder> builderBySessionIdMap;

  private final java.util.function.IntFunction<io.aeron.BufferBuilder> builderFunc;

  public io.aeron.ControlledFragmentAssembler(io.aeron.logbuffer.ControlledFragmentHandler);
    Code:
       0: aload_0
       1: aload_1
       2: sipush        4096
       5: invokespecial #3                  // Method "<init>":(Lio/aeron/logbuffer/ControlledFragmentHandler;I)V
       8: return

  public io.aeron.ControlledFragmentAssembler(io.aeron.logbuffer.ControlledFragmentHandler, int);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #5                  // class org/agrona/collections/Int2ObjectHashMap
       8: dup
       9: invokespecial #6                  // Method org/agrona/collections/Int2ObjectHashMap."<init>":()V
      12: putfield      #7                  // Field builderBySessionIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      15: aload_0
      16: aload_1
      17: putfield      #8                  // Field delegate:Lio/aeron/logbuffer/ControlledFragmentHandler;
      20: aload_0
      21: iload_2
      22: invokedynamic #9,  0              // InvokeDynamic #0:apply:(I)Ljava/util/function/IntFunction;
      27: putfield      #10                 // Field builderFunc:Ljava/util/function/IntFunction;
      30: return

  public io.aeron.logbuffer.ControlledFragmentHandler$Action onFragment(org.agrona.DirectBuffer, int, int, io.aeron.logbuffer.Header);
    Code:
       0: aload         4
       2: invokevirtual #11                 // Method io/aeron/logbuffer/Header.flags:()B
       5: istore        5
       7: getstatic     #12                 // Field io/aeron/logbuffer/ControlledFragmentHandler$Action.CONTINUE:Lio/aeron/logbuffer/ControlledFragmentHandler$Action;
      10: astore        6
      12: iload         5
      14: bipush        -64
      16: iand
      17: bipush        -64
      19: if_icmpne     41
      22: aload_0
      23: getfield      #8                  // Field delegate:Lio/aeron/logbuffer/ControlledFragmentHandler;
      26: aload_1
      27: iload_2
      28: iload_3
      29: aload         4
      31: invokeinterface #13,  5           // InterfaceMethod io/aeron/logbuffer/ControlledFragmentHandler.onFragment:(Lorg/agrona/DirectBuffer;IILio/aeron/logbuffer/Header;)Lio/aeron/logbuffer/ControlledFragmentHandler$Action;
      36: astore        6
      38: goto          196
      41: iload         5
      43: bipush        -128
      45: iand
      46: bipush        -128
      48: if_icmpne     87
      51: aload_0
      52: getfield      #7                  // Field builderBySessionIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      55: aload         4
      57: invokevirtual #14                 // Method io/aeron/logbuffer/Header.sessionId:()I
      60: aload_0
      61: getfield      #10                 // Field builderFunc:Ljava/util/function/IntFunction;
      64: invokevirtual #15                 // Method org/agrona/collections/Int2ObjectHashMap.computeIfAbsent:(ILjava/util/function/IntFunction;)Ljava/lang/Object;
      67: checkcast     #2                  // class io/aeron/BufferBuilder
      70: astore        7
      72: aload         7
      74: invokevirtual #16                 // Method io/aeron/BufferBuilder.reset:()Lio/aeron/BufferBuilder;
      77: aload_1
      78: iload_2
      79: iload_3
      80: invokevirtual #17                 // Method io/aeron/BufferBuilder.append:(Lorg/agrona/DirectBuffer;II)Lio/aeron/BufferBuilder;
      83: pop
      84: goto          196
      87: aload_0
      88: getfield      #7                  // Field builderBySessionIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      91: aload         4
      93: invokevirtual #14                 // Method io/aeron/logbuffer/Header.sessionId:()I
      96: invokevirtual #18                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      99: checkcast     #2                  // class io/aeron/BufferBuilder
     102: astore        7
     104: aconst_null
     105: aload         7
     107: if_acmpeq     196
     110: aload         7
     112: invokevirtual #19                 // Method io/aeron/BufferBuilder.limit:()I
     115: ifeq          196
     118: aload         7
     120: invokevirtual #19                 // Method io/aeron/BufferBuilder.limit:()I
     123: istore        8
     125: aload         7
     127: aload_1
     128: iload_2
     129: iload_3
     130: invokevirtual #17                 // Method io/aeron/BufferBuilder.append:(Lorg/agrona/DirectBuffer;II)Lio/aeron/BufferBuilder;
     133: pop
     134: iload         5
     136: bipush        64
     138: iand
     139: bipush        64
     141: if_icmpne     196
     144: aload         7
     146: invokevirtual #19                 // Method io/aeron/BufferBuilder.limit:()I
     149: istore        9
     151: aload_0
     152: getfield      #8                  // Field delegate:Lio/aeron/logbuffer/ControlledFragmentHandler;
     155: aload         7
     157: invokevirtual #20                 // Method io/aeron/BufferBuilder.buffer:()Lorg/agrona/MutableDirectBuffer;
     160: iconst_0
     161: iload         9
     163: aload         4
     165: invokeinterface #13,  5           // InterfaceMethod io/aeron/logbuffer/ControlledFragmentHandler.onFragment:(Lorg/agrona/DirectBuffer;IILio/aeron/logbuffer/Header;)Lio/aeron/logbuffer/ControlledFragmentHandler$Action;
     170: astore        6
     172: getstatic     #21                 // Field io/aeron/logbuffer/ControlledFragmentHandler$Action.ABORT:Lio/aeron/logbuffer/ControlledFragmentHandler$Action;
     175: aload         6
     177: if_acmpne     190
     180: aload         7
     182: iload         8
     184: invokevirtual #22                 // Method io/aeron/BufferBuilder.limit:(I)V
     187: goto          196
     190: aload         7
     192: invokevirtual #16                 // Method io/aeron/BufferBuilder.reset:()Lio/aeron/BufferBuilder;
     195: pop
     196: aload         6
     198: areturn

  public boolean freeSessionBuffer(int);
    Code:
       0: aconst_null
       1: aload_0
       2: getfield      #7                  // Field builderBySessionIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
       5: iload_1
       6: invokevirtual #23                 // Method org/agrona/collections/Int2ObjectHashMap.remove:(I)Ljava/lang/Object;
       9: if_acmpeq     16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ireturn

  private static io.aeron.BufferBuilder lambda$new$0(int, int);
    Code:
       0: new           #2                  // class io/aeron/BufferBuilder
       3: dup
       4: iload_0
       5: invokespecial #24                 // Method io/aeron/BufferBuilder."<init>":(I)V
       8: areturn
}
