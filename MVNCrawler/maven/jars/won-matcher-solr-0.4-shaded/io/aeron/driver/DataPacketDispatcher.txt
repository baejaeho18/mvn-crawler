Compiled from "DataPacketDispatcher.java"
public class io.aeron.driver.DataPacketDispatcher implements io.aeron.driver.DataPacketHandler,io.aeron.driver.SetupMessageHandler {
  private final org.agrona.collections.BiInt2ObjectMap<io.aeron.driver.DataPacketDispatcher$SessionStatus> ignoredSessionsMap;

  private final org.agrona.collections.Int2ObjectHashMap<org.agrona.collections.Int2ObjectHashMap<io.aeron.driver.PublicationImage>> sessionsByStreamIdMap;

  private final io.aeron.driver.DriverConductorProxy conductorProxy;

  private final io.aeron.driver.Receiver receiver;

  public io.aeron.driver.DataPacketDispatcher(io.aeron.driver.DriverConductorProxy, io.aeron.driver.Receiver);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/agrona/collections/BiInt2ObjectMap
       8: dup
       9: invokespecial #3                  // Method org/agrona/collections/BiInt2ObjectMap."<init>":()V
      12: putfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      15: aload_0
      16: new           #5                  // class org/agrona/collections/Int2ObjectHashMap
      19: dup
      20: invokespecial #6                  // Method org/agrona/collections/Int2ObjectHashMap."<init>":()V
      23: putfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      26: aload_0
      27: aload_1
      28: putfield      #8                  // Field conductorProxy:Lio/aeron/driver/DriverConductorProxy;
      31: aload_0
      32: aload_2
      33: putfield      #9                  // Field receiver:Lio/aeron/driver/Receiver;
      36: return

  public void addSubscription(int);
    Code:
       0: aconst_null
       1: aload_0
       2: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
       5: iload_1
       6: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
       9: if_acmpne     28
      12: aload_0
      13: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      16: iload_1
      17: new           #5                  // class org/agrona/collections/Int2ObjectHashMap
      20: dup
      21: invokespecial #6                  // Method org/agrona/collections/Int2ObjectHashMap."<init>":()V
      24: invokevirtual #11                 // Method org/agrona/collections/Int2ObjectHashMap.put:(ILjava/lang/Object;)Ljava/lang/Object;
      27: pop
      28: return

  public void removeSubscription(int);
    Code:
       0: aload_0
       1: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
       4: iload_1
       5: invokevirtual #12                 // Method org/agrona/collections/Int2ObjectHashMap.remove:(I)Ljava/lang/Object;
       8: checkcast     #5                  // class org/agrona/collections/Int2ObjectHashMap
      11: astore_2
      12: aconst_null
      13: aload_2
      14: if_acmpne     44
      17: new           #13                 // class io/aeron/driver/exceptions/UnknownSubscriptionException
      20: dup
      21: new           #14                 // class java/lang/StringBuilder
      24: dup
      25: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #16                 // String No subscription registered on stream
      30: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: iload_1
      34: invokevirtual #18                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      37: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: invokespecial #20                 // Method io/aeron/driver/exceptions/UnknownSubscriptionException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: aload_2
      45: invokevirtual #21                 // Method org/agrona/collections/Int2ObjectHashMap.values:()Ljava/util/Collection;
      48: invokedynamic #22,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
      53: invokeinterface #23,  2           // InterfaceMethod java/util/Collection.forEach:(Ljava/util/function/Consumer;)V
      58: return

  public void addPublicationImage(io.aeron.driver.PublicationImage);
    Code:
       0: aload_1
       1: invokevirtual #24                 // Method io/aeron/driver/PublicationImage.sessionId:()I
       4: istore_2
       5: aload_1
       6: invokevirtual #25                 // Method io/aeron/driver/PublicationImage.streamId:()I
       9: istore_3
      10: aload_0
      11: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      14: iload_3
      15: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      18: checkcast     #5                  // class org/agrona/collections/Int2ObjectHashMap
      21: astore        4
      23: aload         4
      25: iload_2
      26: aload_1
      27: invokevirtual #11                 // Method org/agrona/collections/Int2ObjectHashMap.put:(ILjava/lang/Object;)Ljava/lang/Object;
      30: pop
      31: aload_0
      32: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      35: iload_2
      36: iload_3
      37: invokevirtual #26                 // Method org/agrona/collections/BiInt2ObjectMap.remove:(II)Ljava/lang/Object;
      40: pop
      41: aload_1
      42: getstatic     #27                 // Field io/aeron/driver/PublicationImage$Status.ACTIVE:Lio/aeron/driver/PublicationImage$Status;
      45: invokevirtual #28                 // Method io/aeron/driver/PublicationImage.status:(Lio/aeron/driver/PublicationImage$Status;)V
      48: return

  public void removePublicationImage(io.aeron.driver.PublicationImage);
    Code:
       0: aload_1
       1: invokevirtual #24                 // Method io/aeron/driver/PublicationImage.sessionId:()I
       4: istore_2
       5: aload_1
       6: invokevirtual #25                 // Method io/aeron/driver/PublicationImage.streamId:()I
       9: istore_3
      10: aload_0
      11: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      14: iload_3
      15: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      18: checkcast     #5                  // class org/agrona/collections/Int2ObjectHashMap
      21: astore        4
      23: aconst_null
      24: aload         4
      26: if_acmpeq     46
      29: aload         4
      31: iload_2
      32: invokevirtual #12                 // Method org/agrona/collections/Int2ObjectHashMap.remove:(I)Ljava/lang/Object;
      35: pop
      36: aload_0
      37: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      40: iload_2
      41: iload_3
      42: invokevirtual #26                 // Method org/agrona/collections/BiInt2ObjectMap.remove:(II)Ljava/lang/Object;
      45: pop
      46: aload_1
      47: invokevirtual #29                 // Method io/aeron/driver/PublicationImage.ifActiveGoInactive:()V
      50: aload_0
      51: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      54: iload_2
      55: iload_3
      56: getstatic     #30                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.ON_COOL_DOWN:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
      59: invokevirtual #31                 // Method org/agrona/collections/BiInt2ObjectMap.put:(IILjava/lang/Object;)Ljava/lang/Object;
      62: pop
      63: return

  public void removePendingSetup(int, int);
    Code:
       0: getstatic     #32                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.PENDING_SETUP_FRAME:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
       3: aload_0
       4: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
       7: iload_1
       8: iload_2
       9: invokevirtual #33                 // Method org/agrona/collections/BiInt2ObjectMap.get:(II)Ljava/lang/Object;
      12: if_acmpne     25
      15: aload_0
      16: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      19: iload_1
      20: iload_2
      21: invokevirtual #26                 // Method org/agrona/collections/BiInt2ObjectMap.remove:(II)Ljava/lang/Object;
      24: pop
      25: return

  public void removeCoolDown(int, int);
    Code:
       0: getstatic     #30                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.ON_COOL_DOWN:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
       3: aload_0
       4: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
       7: iload_1
       8: iload_2
       9: invokevirtual #33                 // Method org/agrona/collections/BiInt2ObjectMap.get:(II)Ljava/lang/Object;
      12: if_acmpne     25
      15: aload_0
      16: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      19: iload_1
      20: iload_2
      21: invokevirtual #26                 // Method org/agrona/collections/BiInt2ObjectMap.remove:(II)Ljava/lang/Object;
      24: pop
      25: return

  public int onDataPacket(io.aeron.driver.media.ReceiveChannelEndpoint, io.aeron.protocol.DataHeaderFlyweight, org.agrona.concurrent.UnsafeBuffer, int, java.net.InetSocketAddress);
    Code:
       0: aload_2
       1: invokevirtual #34                 // Method io/aeron/protocol/DataHeaderFlyweight.streamId:()I
       4: istore        6
       6: aload_0
       7: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      10: iload         6
      12: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      15: checkcast     #5                  // class org/agrona/collections/Int2ObjectHashMap
      18: astore        7
      20: aconst_null
      21: aload         7
      23: if_acmpeq     97
      26: aload_2
      27: invokevirtual #35                 // Method io/aeron/protocol/DataHeaderFlyweight.sessionId:()I
      30: istore        8
      32: aload_2
      33: invokevirtual #36                 // Method io/aeron/protocol/DataHeaderFlyweight.termId:()I
      36: istore        9
      38: aload         7
      40: iload         8
      42: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      45: checkcast     #37                 // class io/aeron/driver/PublicationImage
      48: astore        10
      50: aconst_null
      51: aload         10
      53: if_acmpeq     71
      56: aload         10
      58: iload         9
      60: aload_2
      61: invokevirtual #38                 // Method io/aeron/protocol/DataHeaderFlyweight.termOffset:()I
      64: aload_3
      65: iload         4
      67: invokevirtual #39                 // Method io/aeron/driver/PublicationImage.insertPacket:(IILorg/agrona/concurrent/UnsafeBuffer;I)I
      70: ireturn
      71: aconst_null
      72: aload_0
      73: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      76: iload         8
      78: iload         6
      80: invokevirtual #33                 // Method org/agrona/collections/BiInt2ObjectMap.get:(II)Ljava/lang/Object;
      83: if_acmpne     97
      86: aload_0
      87: aload_1
      88: aload         5
      90: iload         6
      92: iload         8
      94: invokespecial #40                 // Method elicitSetupMessageFromSource:(Lio/aeron/driver/media/ReceiveChannelEndpoint;Ljava/net/InetSocketAddress;II)V
      97: iconst_0
      98: ireturn

  public void onSetupMessage(io.aeron.driver.media.ReceiveChannelEndpoint, io.aeron.protocol.SetupFlyweight, org.agrona.concurrent.UnsafeBuffer, java.net.InetSocketAddress);
    Code:
       0: aload_2
       1: invokevirtual #41                 // Method io/aeron/protocol/SetupFlyweight.streamId:()I
       4: istore        5
       6: aload_0
       7: getfield      #7                  // Field sessionsByStreamIdMap:Lorg/agrona/collections/Int2ObjectHashMap;
      10: iload         5
      12: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      15: checkcast     #5                  // class org/agrona/collections/Int2ObjectHashMap
      18: astore        6
      20: aconst_null
      21: aload         6
      23: if_acmpeq     122
      26: aload_2
      27: invokevirtual #42                 // Method io/aeron/protocol/SetupFlyweight.sessionId:()I
      30: istore        7
      32: aload_2
      33: invokevirtual #43                 // Method io/aeron/protocol/SetupFlyweight.initialTermId:()I
      36: istore        8
      38: aload_2
      39: invokevirtual #44                 // Method io/aeron/protocol/SetupFlyweight.activeTermId:()I
      42: istore        9
      44: aload         6
      46: iload         7
      48: invokevirtual #10                 // Method org/agrona/collections/Int2ObjectHashMap.get:(I)Ljava/lang/Object;
      51: checkcast     #37                 // class io/aeron/driver/PublicationImage
      54: astore        10
      56: aconst_null
      57: aload         10
      59: if_acmpne     122
      62: aload_0
      63: iload         5
      65: iload         7
      67: invokespecial #45                 // Method isNotAlreadyInProgressOrOnCoolDown:(II)Z
      70: ifeq          122
      73: aload_1
      74: invokevirtual #46                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.isMulticast:()Z
      77: ifeq          95
      80: aload_1
      81: invokevirtual #47                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.multicastTtl:()I
      84: aload_2
      85: invokevirtual #48                 // Method io/aeron/protocol/SetupFlyweight.ttl:()I
      88: if_icmpge     95
      91: aload_1
      92: invokevirtual #49                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.possibleTtlAsymmetryEncountered:()V
      95: aload_0
      96: aload_1
      97: aload         4
      99: iload         5
     101: iload         7
     103: iload         8
     105: iload         9
     107: aload_2
     108: invokevirtual #50                 // Method io/aeron/protocol/SetupFlyweight.termOffset:()I
     111: aload_2
     112: invokevirtual #51                 // Method io/aeron/protocol/SetupFlyweight.termLength:()I
     115: aload_2
     116: invokevirtual #52                 // Method io/aeron/protocol/SetupFlyweight.mtuLength:()I
     119: invokespecial #53                 // Method createPublicationImage:(Lio/aeron/driver/media/ReceiveChannelEndpoint;Ljava/net/InetSocketAddress;IIIIIII)V
     122: return

  private boolean isNotAlreadyInProgressOrOnCoolDown(int, int);
    Code:
       0: aload_0
       1: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
       4: iload_2
       5: iload_1
       6: invokevirtual #33                 // Method org/agrona/collections/BiInt2ObjectMap.get:(II)Ljava/lang/Object;
       9: checkcast     #54                 // class io/aeron/driver/DataPacketDispatcher$SessionStatus
      12: astore_3
      13: getstatic     #55                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.INIT_IN_PROGRESS:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
      16: aload_3
      17: if_acmpeq     31
      20: getstatic     #30                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.ON_COOL_DOWN:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
      23: aload_3
      24: if_acmpeq     31
      27: iconst_1
      28: goto          32
      31: iconst_0
      32: ireturn

  private void elicitSetupMessageFromSource(io.aeron.driver.media.ReceiveChannelEndpoint, java.net.InetSocketAddress, int, int);
    Code:
       0: aload_1
       1: invokevirtual #46                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.isMulticast:()Z
       4: ifeq          17
       7: aload_1
       8: invokevirtual #56                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.udpChannel:()Lio/aeron/driver/media/UdpChannel;
      11: invokevirtual #57                 // Method io/aeron/driver/media/UdpChannel.remoteControl:()Ljava/net/InetSocketAddress;
      14: goto          18
      17: aload_2
      18: astore        5
      20: aload_0
      21: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      24: iload         4
      26: iload_3
      27: getstatic     #32                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.PENDING_SETUP_FRAME:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
      30: invokevirtual #31                 // Method org/agrona/collections/BiInt2ObjectMap.put:(IILjava/lang/Object;)Ljava/lang/Object;
      33: pop
      34: aload_1
      35: aload         5
      37: iload         4
      39: iload_3
      40: invokevirtual #58                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.sendSetupElicitingStatusMessage:(Ljava/net/InetSocketAddress;II)V
      43: aload_0
      44: getfield      #9                  // Field receiver:Lio/aeron/driver/Receiver;
      47: iload         4
      49: iload_3
      50: aload_1
      51: invokevirtual #59                 // Method io/aeron/driver/Receiver.addPendingSetupMessage:(IILio/aeron/driver/media/ReceiveChannelEndpoint;)V
      54: return

  private void createPublicationImage(io.aeron.driver.media.ReceiveChannelEndpoint, java.net.InetSocketAddress, int, int, int, int, int, int, int);
    Code:
       0: aload_1
       1: invokevirtual #46                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.isMulticast:()Z
       4: ifeq          17
       7: aload_1
       8: invokevirtual #56                 // Method io/aeron/driver/media/ReceiveChannelEndpoint.udpChannel:()Lio/aeron/driver/media/UdpChannel;
      11: invokevirtual #57                 // Method io/aeron/driver/media/UdpChannel.remoteControl:()Ljava/net/InetSocketAddress;
      14: goto          18
      17: aload_2
      18: astore        10
      20: aload_0
      21: getfield      #4                  // Field ignoredSessionsMap:Lorg/agrona/collections/BiInt2ObjectMap;
      24: iload         4
      26: iload_3
      27: getstatic     #55                 // Field io/aeron/driver/DataPacketDispatcher$SessionStatus.INIT_IN_PROGRESS:Lio/aeron/driver/DataPacketDispatcher$SessionStatus;
      30: invokevirtual #31                 // Method org/agrona/collections/BiInt2ObjectMap.put:(IILjava/lang/Object;)Ljava/lang/Object;
      33: pop
      34: aload_0
      35: getfield      #8                  // Field conductorProxy:Lio/aeron/driver/DriverConductorProxy;
      38: iload         4
      40: iload_3
      41: iload         5
      43: iload         6
      45: iload         7
      47: iload         8
      49: iload         9
      51: aload         10
      53: aload_2
      54: aload_1
      55: invokevirtual #60                 // Method io/aeron/driver/DriverConductorProxy.createPublicationImage:(IIIIIIILjava/net/InetSocketAddress;Ljava/net/InetSocketAddress;Lio/aeron/driver/media/ReceiveChannelEndpoint;)V
      58: return
}
