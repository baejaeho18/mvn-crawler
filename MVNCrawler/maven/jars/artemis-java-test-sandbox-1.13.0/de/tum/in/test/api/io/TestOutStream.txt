Compiled from "TestOutStream.java"
final class de.tum.in.test.api.io.TestOutStream extends java.io.OutputStream {
  private static final java.nio.charset.CharsetDecoder decoder;

  private final de.tum.in.test.api.io.LineAcceptor outputAcceptor;

  private final java.io.OutputStream mirror;

  private final long maxChars;

  private long charCount;

  private volatile boolean closed;

  private final java.io.ByteArrayOutputStream currentInput;

  de.tum.in.test.api.io.TestOutStream(de.tum.in.test.api.io.LineAcceptor, java.io.OutputStream, long);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/io/OutputStream."<init>":()V
       4: aload_0
       5: aload_2
       6: putfield      #2                  // Field mirror:Ljava/io/OutputStream;
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field outputAcceptor:Lde/tum/in/test/api/io/LineAcceptor;
      14: aload_0
      15: new           #4                  // class java/io/ByteArrayOutputStream
      18: dup
      19: invokespecial #5                  // Method java/io/ByteArrayOutputStream."<init>":()V
      22: putfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
      25: aload_0
      26: lload_3
      27: putfield      #7                  // Field maxChars:J
      30: return

  public void write(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: iconst_1
       2: invokevirtual #8                  // Method checkCharCount:(I)V
       5: aload_0
       6: getfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
       9: iload_1
      10: invokevirtual #9                  // Method java/io/ByteArrayOutputStream.write:(I)V
      13: aload_0
      14: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      17: ifnull        28
      20: aload_0
      21: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      24: iload_1
      25: invokevirtual #10                 // Method java/io/OutputStream.write:(I)V
      28: return

  public void write(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: arraylength
       3: invokevirtual #8                  // Method checkCharCount:(I)V
       6: aload_0
       7: getfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
      10: aload_1
      11: invokevirtual #11                 // Method java/io/ByteArrayOutputStream.write:([B)V
      14: aload_0
      15: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      18: ifnull        29
      21: aload_0
      22: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      25: aload_1
      26: invokevirtual #12                 // Method java/io/OutputStream.write:([B)V
      29: return

  public void write(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: iload_3
       2: invokevirtual #8                  // Method checkCharCount:(I)V
       5: aload_0
       6: getfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
       9: aload_1
      10: iload_2
      11: iload_3
      12: invokevirtual #13                 // Method java/io/ByteArrayOutputStream.write:([BII)V
      15: aload_0
      16: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      19: ifnull        32
      22: aload_0
      23: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      26: aload_1
      27: iload_2
      28: iload_3
      29: invokevirtual #14                 // Method java/io/OutputStream.write:([BII)V
      32: return

  public void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #15                 // Method java/io/OutputStream.flush:()V
       4: aload_0
       5: getfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
       8: invokevirtual #16                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
      11: invokestatic  #17                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      14: astore_1
      15: getstatic     #18                 // Field decoder:Ljava/nio/charset/CharsetDecoder;
      18: aload_1
      19: invokevirtual #19                 // Method java/nio/charset/CharsetDecoder.decode:(Ljava/nio/ByteBuffer;)Ljava/nio/CharBuffer;
      22: astore_2
      23: goto          69
      26: astore_3
      27: new           #21                 // class java/lang/String
      30: dup
      31: aload_1
      32: invokevirtual #22                 // Method java/nio/ByteBuffer.array:()[B
      35: getstatic     #18                 // Field decoder:Ljava/nio/charset/CharsetDecoder;
      38: invokevirtual #23                 // Method java/nio/charset/CharsetDecoder.charset:()Ljava/nio/charset/Charset;
      41: invokespecial #24                 // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
      44: astore        4
      46: new           #25                 // class java/lang/IllegalArgumentException
      49: dup
      50: ldc           #26                 // String output_tester.output_is_invalid_utf8
      52: iconst_1
      53: anewarray     #27                 // class java/lang/Object
      56: dup
      57: iconst_0
      58: aload         4
      60: aastore
      61: invokestatic  #28                 // Method de/tum/in/test/api/localization/Messages.localized:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      64: aload_3
      65: invokespecial #29                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      68: athrow
      69: aload_0
      70: getfield      #3                  // Field outputAcceptor:Lde/tum/in/test/api/io/LineAcceptor;
      73: aload_2
      74: invokeinterface #30,  2           // InterfaceMethod de/tum/in/test/api/io/LineAcceptor.acceptOutput:(Ljava/nio/CharBuffer;)V
      79: aload_0
      80: getfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
      83: invokevirtual #31                 // Method java/io/ByteArrayOutputStream.reset:()V
      86: return
    Exception table:
       from    to  target type
          15    23    26   Class java/nio/charset/CharacterCodingException

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #32                 // Field closed:Z
       5: aload_0
       6: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
       9: ifnull        19
      12: aload_0
      13: getfield      #2                  // Field mirror:Ljava/io/OutputStream;
      16: invokevirtual #33                 // Method java/io/OutputStream.close:()V
      19: return

  void resetInternalState();
    Code:
       0: aload_0
       1: lconst_0
       2: putfield      #34                 // Field charCount:J
       5: aload_0
       6: getfield      #6                  // Field currentInput:Ljava/io/ByteArrayOutputStream;
       9: invokevirtual #31                 // Method java/io/ByteArrayOutputStream.reset:()V
      12: return

  private void checkCharCount(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #32                 // Field closed:Z
       4: ifeq          24
       7: new           #35                 // class java/io/IOException
      10: dup
      11: ldc           #36                 // String output_tester.output_closed
      13: iconst_0
      14: anewarray     #27                 // class java/lang/Object
      17: invokestatic  #28                 // Method de/tum/in/test/api/localization/Messages.localized:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      20: invokespecial #37                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      23: athrow
      24: aload_0
      25: dup
      26: getfield      #34                 // Field charCount:J
      29: iload_1
      30: i2l
      31: ladd
      32: putfield      #34                 // Field charCount:J
      35: aload_0
      36: getfield      #34                 // Field charCount:J
      39: aload_0
      40: getfield      #7                  // Field maxChars:J
      43: lcmp
      44: ifle          74
      47: new           #38                 // class java/lang/SecurityException
      50: dup
      51: ldc           #39                 // String output_tester.output_maxExceeded
      53: iconst_1
      54: anewarray     #27                 // class java/lang/Object
      57: dup
      58: iconst_0
      59: aload_0
      60: getfield      #34                 // Field charCount:J
      63: invokestatic  #40                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      66: aastore
      67: invokestatic  #28                 // Method de/tum/in/test/api/localization/Messages.localized:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      70: invokespecial #41                 // Method java/lang/SecurityException."<init>":(Ljava/lang/String;)V
      73: athrow
      74: return

  static {};
    Code:
       0: getstatic     #42                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
       3: invokevirtual #43                 // Method java/nio/charset/Charset.newDecoder:()Ljava/nio/charset/CharsetDecoder;
       6: putstatic     #18                 // Field decoder:Ljava/nio/charset/CharsetDecoder;
       9: getstatic     #18                 // Field decoder:Ljava/nio/charset/CharsetDecoder;
      12: getstatic     #44                 // Field java/nio/charset/CodingErrorAction.REPORT:Ljava/nio/charset/CodingErrorAction;
      15: invokevirtual #45                 // Method java/nio/charset/CharsetDecoder.onUnmappableCharacter:(Ljava/nio/charset/CodingErrorAction;)Ljava/nio/charset/CharsetDecoder;
      18: pop
      19: getstatic     #18                 // Field decoder:Ljava/nio/charset/CharsetDecoder;
      22: getstatic     #44                 // Field java/nio/charset/CodingErrorAction.REPORT:Ljava/nio/charset/CodingErrorAction;
      25: invokevirtual #46                 // Method java/nio/charset/CharsetDecoder.onMalformedInput:(Ljava/nio/charset/CodingErrorAction;)Ljava/nio/charset/CharsetDecoder;
      28: pop
      29: return
}
