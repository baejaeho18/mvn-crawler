Compiled from "EndPointMediaTypeTestCase.java"
public class org.wso2.carbon.esb.resource.test.endpoint.EndPointMediaTypeTestCase extends org.wso2.esb.integration.common.utils.ESBIntegrationTest {
  private org.apache.commons.logging.Log log;

  private org.wso2.esb.integration.common.clients.endpoint.EndPointAdminClient endpointAdminClient;

  private org.wso2.esb.integration.common.clients.registry.ResourceAdminServiceClient resourceAdmin;

  private boolean isDynamicEndpointExist;

  private boolean isDefinedEndpointExist;

  private final java.lang.String KEY;

  private final java.lang.String DEFINED_ENDPOINT_NAME;

  public org.wso2.carbon.esb.resource.test.endpoint.EndPointMediaTypeTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/wso2/esb/integration/common/utils/ESBIntegrationTest."<init>":()V
       4: aload_0
       5: ldc           #2                  // class org/wso2/carbon/esb/resource/test/endpoint/EndPointMediaTypeTestCase
       7: invokestatic  #3                  // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
      10: putfield      #4                  // Field log:Lorg/apache/commons/logging/Log;
      13: aload_0
      14: iconst_0
      15: putfield      #5                  // Field isDynamicEndpointExist:Z
      18: aload_0
      19: iconst_0
      20: putfield      #6                  // Field isDefinedEndpointExist:Z
      23: aload_0
      24: ldc           #7                  // String conf:/endpoint/testAutomationEndpoint
      26: putfield      #8                  // Field KEY:Ljava/lang/String;
      29: aload_0
      30: ldc           #9                  // String definedEndpoint
      32: putfield      #10                 // Field DEFINED_ENDPOINT_NAME:Ljava/lang/String;
      35: return

  public void init() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #11                 // Method org/wso2/esb/integration/common/utils/ESBIntegrationTest.init:()V
       4: aload_0
       5: new           #12                 // class org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient
       8: dup
       9: aload_0
      10: getfield      #13                 // Field contextUrls:Lorg/wso2/carbon/automation/engine/context/beans/ContextUrls;
      13: invokevirtual #14                 // Method org/wso2/carbon/automation/engine/context/beans/ContextUrls.getBackEndUrl:()Ljava/lang/String;
      16: aload_0
      17: getfield      #15                 // Field sessionCookie:Ljava/lang/String;
      20: invokespecial #16                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      23: putfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      26: aload_0
      27: new           #18                 // class org/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient
      30: dup
      31: aload_0
      32: getfield      #13                 // Field contextUrls:Lorg/wso2/carbon/automation/engine/context/beans/ContextUrls;
      35: invokevirtual #14                 // Method org/wso2/carbon/automation/engine/context/beans/ContextUrls.getBackEndUrl:()Ljava/lang/String;
      38: aload_0
      39: getfield      #15                 // Field sessionCookie:Ljava/lang/String;
      42: invokespecial #19                 // Method org/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      45: putfield      #20                 // Field resourceAdmin:Lorg/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient;
      48: return

  public void dynamicEndpointMediaTypeTest() throws java.lang.Exception;
    Code:
       0: ldc           #21                 // String automationEndpoint
       2: astore_1
       3: ldc           #22                 // String <endpoint xmlns=\"http://ws.apache.org/ns/synapse\" name=\"automationEndpoint\"><address uri=\"http://localhost:9000/services/SimpleStockQuoteService\"><suspendOnFailure><progressionFactor>1.0</progressionFactor></suspendOnFailure><markForSuspension><retriesBeforeSuspension>0</retriesBeforeSuspension><retryDelay>0</retryDelay></markForSuspension></address></endpoint>
       5: invokestatic  #23                 // Method org/apache/axiom/om/util/AXIOMUtil.stringToOM:(Ljava/lang/String;)Lorg/apache/axiom/om/OMElement;
       8: astore_2
       9: aload_0
      10: aload_0
      11: getfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      14: ldc           #7                  // String conf:/endpoint/testAutomationEndpoint
      16: aload_2
      17: invokevirtual #24                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient.addDynamicEndPoint:(Ljava/lang/String;Lorg/apache/axiom/om/OMElement;)Z
      20: putfield      #5                  // Field isDynamicEndpointExist:Z
      23: aload_0
      24: getfield      #5                  // Field isDynamicEndpointExist:Z
      27: ldc           #25                 // String Endpoint addition failed
      29: invokestatic  #26                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
      32: iconst_0
      33: istore_3
      34: aload_0
      35: getfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      38: invokevirtual #27                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient.getDynamicEndpoints:()[Ljava/lang/String;
      41: astore        4
      43: aload         4
      45: arraylength
      46: istore        5
      48: iconst_0
      49: istore        6
      51: iload         6
      53: iload         5
      55: if_icmpge     86
      58: aload         4
      60: iload         6
      62: aaload
      63: astore        7
      65: ldc           #7                  // String conf:/endpoint/testAutomationEndpoint
      67: aload         7
      69: invokevirtual #28                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      72: ifeq          80
      75: iconst_1
      76: istore_3
      77: goto          86
      80: iinc          6, 1
      83: goto          51
      86: iload_3
      87: ldc           #29                 // String Endpoint not found in Dynamic Endpoint list
      89: invokestatic  #26                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
      92: aload_0
      93: getfield      #20                 // Field resourceAdmin:Lorg/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient;
      96: ldc           #30                 // String /_system/config/endpoint/testAutomationEndpoint
      98: invokevirtual #31                 // Method org/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient.getMetadata:(Ljava/lang/String;)Lorg/wso2/carbon/registry/resource/stub/beans/xsd/MetadataBean;
     101: astore        4
     103: aload         4
     105: invokevirtual #32                 // Method org/wso2/carbon/registry/resource/stub/beans/xsd/MetadataBean.getMediaType:()Ljava/lang/String;
     108: ldc           #33                 // String application/vnd.wso2.esb.endpoint
     110: ldc           #34                 // String Media Type mismatched for Dynamic Endpoint
     112: invokestatic  #35                 // Method org/testng/Assert.assertEquals:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     115: return

  public void definedEndpointMediaTypeTest() throws java.lang.Exception;
    Code:
       0: ldc           #36                 // String <endpoint xmlns=\"http://ws.apache.org/ns/synapse\" name=\"definedEndpoint\"><address uri=\"http://localhost:9000/services/SimpleStockQuoteService\" /></endpoint>
       2: invokestatic  #23                 // Method org/apache/axiom/om/util/AXIOMUtil.stringToOM:(Ljava/lang/String;)Lorg/apache/axiom/om/OMElement;
       5: astore_1
       6: aload_0
       7: aload_0
       8: getfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      11: aload_1
      12: invokevirtual #37                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient.addEndPoint:(Lorg/apache/axiom/om/OMElement;)Z
      15: putfield      #6                  // Field isDefinedEndpointExist:Z
      18: aload_0
      19: getfield      #6                  // Field isDefinedEndpointExist:Z
      22: ldc           #25                 // String Endpoint addition failed
      24: invokestatic  #26                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
      27: iconst_0
      28: istore_2
      29: aload_0
      30: getfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      33: invokevirtual #38                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient.getEndpointNames:()[Ljava/lang/String;
      36: astore_3
      37: aload_3
      38: arraylength
      39: istore        4
      41: iconst_0
      42: istore        5
      44: iload         5
      46: iload         4
      48: if_icmpge     78
      51: aload_3
      52: iload         5
      54: aaload
      55: astore        6
      57: ldc           #9                  // String definedEndpoint
      59: aload         6
      61: invokevirtual #28                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      64: ifeq          72
      67: iconst_1
      68: istore_2
      69: goto          78
      72: iinc          5, 1
      75: goto          44
      78: iload_2
      79: ldc           #39                 // String Endpoint not found in Defined Endpoint list
      81: invokestatic  #26                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
      84: ldc2_w        #40                 // long 10000l
      87: invokestatic  #42                 // Method java/lang/Thread.sleep:(J)V
      90: aload_0
      91: getfield      #20                 // Field resourceAdmin:Lorg/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient;
      94: ldc           #43                 // String /_system/config/repository/synapse/default/endpoints/definedEndpoint
      96: invokevirtual #31                 // Method org/wso2/esb/integration/common/clients/registry/ResourceAdminServiceClient.getMetadata:(Ljava/lang/String;)Lorg/wso2/carbon/registry/resource/stub/beans/xsd/MetadataBean;
      99: astore_3
     100: aload_3
     101: invokevirtual #32                 // Method org/wso2/carbon/registry/resource/stub/beans/xsd/MetadataBean.getMediaType:()Ljava/lang/String;
     104: ldc           #44                 // String text/xml
     106: ldc           #45                 // String Media Type mismatched for Defined Endpoint
     108: invokestatic  #35                 // Method org/testng/Assert.assertEquals:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     111: return

  public void destroy() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #6                  // Field isDefinedEndpointExist:Z
       4: ifeq          17
       7: aload_0
       8: getfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      11: ldc           #9                  // String definedEndpoint
      13: invokevirtual #46                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient.deleteEndpoint:(Ljava/lang/String;)Z
      16: pop
      17: aload_0
      18: getfield      #5                  // Field isDynamicEndpointExist:Z
      21: ifeq          34
      24: aload_0
      25: getfield      #17                 // Field endpointAdminClient:Lorg/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient;
      28: ldc           #7                  // String conf:/endpoint/testAutomationEndpoint
      30: invokevirtual #47                 // Method org/wso2/esb/integration/common/clients/endpoint/EndPointAdminClient.deleteDynamicEndpoint:(Ljava/lang/String;)Z
      33: pop
      34: aload_0
      35: invokespecial #48                 // Method org/wso2/esb/integration/common/utils/ESBIntegrationTest.cleanup:()V
      38: return
}
