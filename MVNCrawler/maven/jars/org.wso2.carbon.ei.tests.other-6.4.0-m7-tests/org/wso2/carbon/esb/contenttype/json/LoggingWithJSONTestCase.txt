Compiled from "LoggingWithJSONTestCase.java"
public class org.wso2.carbon.esb.contenttype.json.LoggingWithJSONTestCase extends org.wso2.esb.integration.common.utils.ESBIntegrationTest {
  private org.wso2.carbon.integration.common.admin.client.LogViewerClient logViewer;

  private boolean isLogExists;

  private com.sun.jersey.api.client.Client client;

  public org.wso2.carbon.esb.contenttype.json.LoggingWithJSONTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/wso2/esb/integration/common/utils/ESBIntegrationTest."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field isLogExists:Z
       9: aload_0
      10: invokestatic  #3                  // Method com/sun/jersey/api/client/Client.create:()Lcom/sun/jersey/api/client/Client;
      13: putfield      #4                  // Field client:Lcom/sun/jersey/api/client/Client;
      16: return

  public void setEnvironment() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #5                  // Method org/wso2/esb/integration/common/utils/ESBIntegrationTest.init:()V
       4: aload_0
       5: ldc           #6                  // String /artifacts/ESB/jaxrs/loggingwithjson.xml
       7: invokevirtual #7                  // Method loadESBConfigurationFromClasspath:(Ljava/lang/String;)V
      10: aload_0
      11: new           #8                  // class org/wso2/carbon/integration/common/admin/client/LogViewerClient
      14: dup
      15: aload_0
      16: getfield      #9                  // Field context:Lorg/wso2/carbon/automation/engine/context/AutomationContext;
      19: invokevirtual #10                 // Method org/wso2/carbon/automation/engine/context/AutomationContext.getContextUrls:()Lorg/wso2/carbon/automation/engine/context/beans/ContextUrls;
      22: invokevirtual #11                 // Method org/wso2/carbon/automation/engine/context/beans/ContextUrls.getBackEndUrl:()Ljava/lang/String;
      25: aload_0
      26: getfield      #12                 // Field sessionCookie:Ljava/lang/String;
      29: invokespecial #13                 // Method org/wso2/carbon/integration/common/admin/client/LogViewerClient."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      32: putfield      #14                 // Field logViewer:Lorg/wso2/carbon/integration/common/admin/client/LogViewerClient;
      35: return

  public void stop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field client:Lcom/sun/jersey/api/client/Client;
       4: invokevirtual #15                 // Method com/sun/jersey/api/client/Client.destroy:()V
       7: aload_0
       8: invokespecial #16                 // Method org/wso2/esb/integration/common/utils/ESBIntegrationTest.cleanup:()V
      11: return

  public void testJSONLoggingTestScenario() throws java.lang.Exception;
    Code:
       0: ldc           #17                 // String {\"album\":\"Desperado\",\"singer\":\"Eagles\"}
       2: astore_1
       3: aload_0
       4: getfield      #4                  // Field client:Lcom/sun/jersey/api/client/Client;
       7: aload_0
       8: ldc           #18                 // String LoggingWithJSONProxy
      10: invokevirtual #19                 // Method getProxyServiceURLHttp:(Ljava/lang/String;)Ljava/lang/String;
      13: invokevirtual #20                 // Method com/sun/jersey/api/client/Client.resource:(Ljava/lang/String;)Lcom/sun/jersey/api/client/WebResource;
      16: astore_2
      17: aload_0
      18: getfield      #14                 // Field logViewer:Lorg/wso2/carbon/integration/common/admin/client/LogViewerClient;
      21: invokevirtual #21                 // Method org/wso2/carbon/integration/common/admin/client/LogViewerClient.getAllSystemLogs:()[Lorg/wso2/carbon/logging/view/stub/types/carbon/LogEvent;
      24: arraylength
      25: istore_3
      26: aload_2
      27: ldc           #22                 // String application/json
      29: invokevirtual #23                 // Method com/sun/jersey/api/client/WebResource.type:(Ljava/lang/String;)Lcom/sun/jersey/api/client/WebResource$Builder;
      32: ldc           #24                 // class com/sun/jersey/api/client/ClientResponse
      34: aload_1
      35: invokevirtual #25                 // Method com/sun/jersey/api/client/WebResource$Builder.post:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
      38: checkcast     #24                 // class com/sun/jersey/api/client/ClientResponse
      41: astore        4
      43: ldc2_w        #26                 // long 3000l
      46: invokestatic  #28                 // Method java/lang/Thread.sleep:(J)V
      49: aload_0
      50: getfield      #14                 // Field logViewer:Lorg/wso2/carbon/integration/common/admin/client/LogViewerClient;
      53: invokevirtual #21                 // Method org/wso2/carbon/integration/common/admin/client/LogViewerClient.getAllSystemLogs:()[Lorg/wso2/carbon/logging/view/stub/types/carbon/LogEvent;
      56: astore        5
      58: aload         5
      60: arraylength
      61: istore        6
      63: new           #29                 // class java/lang/StringBuilder
      66: dup
      67: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      70: ldc           #31                 // String Direction: request, JSON-RequestPayload =
      72: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload_1
      76: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      82: astore        7
      84: iload         6
      86: iload_3
      87: isub
      88: istore        8
      90: iload         8
      92: iflt          125
      95: aload         5
      97: iload         8
      99: aaload
     100: invokevirtual #34                 // Method org/wso2/carbon/logging/view/stub/types/carbon/LogEvent.getMessage:()Ljava/lang/String;
     103: aload         7
     105: invokevirtual #35                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     108: ifeq          119
     111: aload_0
     112: iconst_1
     113: putfield      #2                  // Field isLogExists:Z
     116: goto          125
     119: iinc          8, -1
     122: goto          90
     125: aload_0
     126: getfield      #2                  // Field isLogExists:Z
     129: ldc           #36                 // String Logging of JSON request payload failed
     131: invokestatic  #37                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
     134: aload         4
     136: invokevirtual #38                 // Method com/sun/jersey/api/client/ClientResponse.getType:()Ljavax/ws/rs/core/MediaType;
     139: invokevirtual #39                 // Method javax/ws/rs/core/MediaType.toString:()Ljava/lang/String;
     142: ldc           #40                 // String application/json;charset=UTF-8
     144: ldc           #41                 // String Content-Type Should be application/json
     146: invokestatic  #42                 // Method org/testng/Assert.assertEquals:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     149: aload         4
     151: invokevirtual #43                 // Method com/sun/jersey/api/client/ClientResponse.getStatus:()I
     154: sipush        201
     157: ldc           #44                 // String Response status should be 201
     159: invokestatic  #45                 // Method org/testng/Assert.assertEquals:(IILjava/lang/String;)V
     162: aload_0
     163: getfield      #14                 // Field logViewer:Lorg/wso2/carbon/integration/common/admin/client/LogViewerClient;
     166: invokevirtual #21                 // Method org/wso2/carbon/integration/common/admin/client/LogViewerClient.getAllSystemLogs:()[Lorg/wso2/carbon/logging/view/stub/types/carbon/LogEvent;
     169: arraylength
     170: istore_3
     171: aload_0
     172: iconst_0
     173: putfield      #2                  // Field isLogExists:Z
     176: aload_2
     177: ldc           #22                 // String application/json
     179: invokevirtual #23                 // Method com/sun/jersey/api/client/WebResource.type:(Ljava/lang/String;)Lcom/sun/jersey/api/client/WebResource$Builder;
     182: ldc           #24                 // class com/sun/jersey/api/client/ClientResponse
     184: invokevirtual #46                 // Method com/sun/jersey/api/client/WebResource$Builder.get:(Ljava/lang/Class;)Ljava/lang/Object;
     187: checkcast     #24                 // class com/sun/jersey/api/client/ClientResponse
     190: astore        8
     192: ldc2_w        #26                 // long 3000l
     195: invokestatic  #28                 // Method java/lang/Thread.sleep:(J)V
     198: aload         5
     200: arraylength
     201: istore        6
     203: ldc           #47                 // String <soapenv:Body><jsonObject><album>Desperado</album><singer>Eagles</singer></jsonObject></soapenv:Body>
     205: astore        9
     207: iload         6
     209: iload_3
     210: isub
     211: istore        10
     213: iload         10
     215: iflt          248
     218: aload         5
     220: iload         10
     222: aaload
     223: invokevirtual #34                 // Method org/wso2/carbon/logging/view/stub/types/carbon/LogEvent.getMessage:()Ljava/lang/String;
     226: aload         9
     228: invokevirtual #35                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     231: ifeq          242
     234: aload_0
     235: iconst_1
     236: putfield      #2                  // Field isLogExists:Z
     239: goto          248
     242: iinc          10, -1
     245: goto          213
     248: aload_0
     249: getfield      #2                  // Field isLogExists:Z
     252: ldc           #36                 // String Logging of JSON request payload failed
     254: invokestatic  #37                 // Method org/testng/Assert.assertTrue:(ZLjava/lang/String;)V
     257: aload         8
     259: ldc           #48                 // String Received Null response for while getting Music album details
     261: invokestatic  #49                 // Method org/testng/Assert.assertNotNull:(Ljava/lang/Object;Ljava/lang/String;)V
     264: aload         8
     266: ldc           #50                 // class java/lang/String
     268: invokevirtual #51                 // Method com/sun/jersey/api/client/ClientResponse.getEntity:(Ljava/lang/Class;)Ljava/lang/Object;
     271: checkcast     #50                 // class java/lang/String
     274: aload_1
     275: ldc           #52                 // String Response mismatch for HTTP Get call
     277: invokestatic  #42                 // Method org/testng/Assert.assertEquals:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     280: return
}
