Compiled from "GitHubIssueServiceExtension.java"
public class net.nemerosa.ontrack.extension.github.GitHubIssueServiceExtension extends net.nemerosa.ontrack.extension.issues.support.AbstractIssueServiceExtension {
  public static final java.lang.String GITHUB_SERVICE_ID;

  public static final java.lang.String GITHUB_ISSUE_PATTERN;

  private final net.nemerosa.ontrack.extension.github.service.GitHubConfigurationService configurationService;

  private final net.nemerosa.ontrack.extension.github.client.OntrackGitHubClientFactory gitHubClientFactory;

  public net.nemerosa.ontrack.extension.github.GitHubIssueServiceExtension(net.nemerosa.ontrack.extension.github.GitHubExtensionFeature, net.nemerosa.ontrack.extension.github.service.GitHubConfigurationService, net.nemerosa.ontrack.extension.github.client.OntrackGitHubClientFactory, net.nemerosa.ontrack.extension.issues.export.IssueExportServiceFactory);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #2                  // String github
       4: ldc           #3                  // String GitHub
       6: aload         4
       8: invokespecial #4                  // Method net/nemerosa/ontrack/extension/issues/support/AbstractIssueServiceExtension."<init>":(Lnet/nemerosa/ontrack/model/extension/ExtensionFeature;Ljava/lang/String;Ljava/lang/String;Lnet/nemerosa/ontrack/extension/issues/export/IssueExportServiceFactory;)V
      11: aload_0
      12: aload_2
      13: putfield      #5                  // Field configurationService:Lnet/nemerosa/ontrack/extension/github/service/GitHubConfigurationService;
      16: aload_0
      17: aload_3
      18: putfield      #6                  // Field gitHubClientFactory:Lnet/nemerosa/ontrack/extension/github/client/OntrackGitHubClientFactory;
      21: return

  public java.util.List<? extends net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration> getConfigurationList();
    Code:
       0: invokestatic  #7                  // Method java/util/Collections.emptyList:()Ljava/util/List;
       3: areturn

  public net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration getConfigurationByName(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #9                  // String :
       3: invokestatic  #10                 // Method org/apache/commons/lang3/StringUtils.split:(Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;
       6: astore_2
       7: aload_2
       8: ifnull        17
      11: aload_2
      12: arraylength
      13: iconst_2
      14: if_icmpeq     27
      17: new           #11                 // class java/lang/IllegalStateException
      20: dup
      21: ldc           #12                 // String The GitHub issue configuration identifier name is expected using configuration:repository as a format
      23: invokespecial #13                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: aload_2
      28: iconst_0
      29: aaload
      30: astore_3
      31: aload_2
      32: iconst_1
      33: aaload
      34: astore        4
      36: new           #14                 // class net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration
      39: dup
      40: aload_0
      41: getfield      #5                  // Field configurationService:Lnet/nemerosa/ontrack/extension/github/service/GitHubConfigurationService;
      44: aload_3
      45: invokeinterface #15,  2           // InterfaceMethod net/nemerosa/ontrack/extension/github/service/GitHubConfigurationService.getConfiguration:(Ljava/lang/String;)Lnet/nemerosa/ontrack/model/support/UserPasswordConfiguration;
      50: checkcast     #16                 // class net/nemerosa/ontrack/extension/github/model/GitHubEngineConfiguration
      53: aload         4
      55: invokespecial #17                 // Method net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration."<init>":(Lnet/nemerosa/ontrack/extension/github/model/GitHubEngineConfiguration;Ljava/lang/String;)V
      58: areturn

  public boolean validIssueToken(java.lang.String);
    Code:
       0: ldc           #18                 // String #(\\d+)
       2: aload_1
       3: invokestatic  #19                 // Method java/util/regex/Pattern.matches:(Ljava/lang/String;Ljava/lang/CharSequence;)Z
       6: ireturn

  public java.util.Set<java.lang.String> extractIssueKeysFromMessage(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration, java.lang.String);
    Code:
       0: new           #20                 // class java/util/HashSet
       3: dup
       4: invokespecial #21                 // Method java/util/HashSet."<init>":()V
       7: astore_3
       8: aload_2
       9: invokestatic  #22                 // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      12: ifeq          54
      15: ldc           #18                 // String #(\\d+)
      17: invokestatic  #23                 // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
      20: aload_2
      21: invokevirtual #24                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
      24: astore        4
      26: aload         4
      28: invokevirtual #25                 // Method java/util/regex/Matcher.find:()Z
      31: ifeq          54
      34: aload         4
      36: iconst_1
      37: invokevirtual #26                 // Method java/util/regex/Matcher.group:(I)Ljava/lang/String;
      40: astore        5
      42: aload_3
      43: aload         5
      45: invokeinterface #27,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      50: pop
      51: goto          26
      54: aload_3
      55: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.support.MessageAnnotator> getMessageAnnotator(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration);
    Code:
       0: aload_1
       1: checkcast     #14                 // class net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration
       4: astore_2
       5: new           #28                 // class net/nemerosa/ontrack/model/support/RegexMessageAnnotator
       8: dup
       9: ldc           #18                 // String #(\\d+)
      11: aload_2
      12: invokedynamic #29,  0             // InvokeDynamic #0:apply:(Lnet/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration;)Ljava/util/function/Function;
      17: invokespecial #30                 // Method net/nemerosa/ontrack/model/support/RegexMessageAnnotator."<init>":(Ljava/lang/String;Ljava/util/function/Function;)V
      20: invokestatic  #31                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      23: areturn

  public java.lang.String getLinkForAllIssues(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration, java.util.List<net.nemerosa.ontrack.extension.issues.model.Issue>);
    Code:
       0: aconst_null
       1: areturn

  public net.nemerosa.ontrack.extension.issues.model.Issue getIssue(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration, java.lang.String);
    Code:
       0: aload_1
       1: checkcast     #14                 // class net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration
       4: astore_3
       5: aload_0
       6: getfield      #6                  // Field gitHubClientFactory:Lnet/nemerosa/ontrack/extension/github/client/OntrackGitHubClientFactory;
       9: aload_3
      10: invokevirtual #32                 // Method net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration.getConfiguration:()Lnet/nemerosa/ontrack/extension/github/model/GitHubEngineConfiguration;
      13: invokeinterface #33,  2           // InterfaceMethod net/nemerosa/ontrack/extension/github/client/OntrackGitHubClientFactory.create:(Lnet/nemerosa/ontrack/extension/github/model/GitHubEngineConfiguration;)Lnet/nemerosa/ontrack/extension/github/client/OntrackGitHubClient;
      18: astore        4
      20: aload         4
      22: aload_3
      23: invokevirtual #34                 // Method net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration.getRepository:()Ljava/lang/String;
      26: aload_0
      27: aload_2
      28: invokevirtual #35                 // Method getIssueId:(Ljava/lang/String;)I
      31: invokeinterface #36,  3           // InterfaceMethod net/nemerosa/ontrack/extension/github/client/OntrackGitHubClient.getIssue:(Ljava/lang/String;I)Lnet/nemerosa/ontrack/extension/github/model/GitHubIssue;
      36: areturn

  public java.util.Optional<java.lang.String> getIssueId(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration, java.lang.String);
    Code:
       0: aload_2
       1: invokestatic  #37                 // Method org/apache/commons/lang3/StringUtils.isNumeric:(Ljava/lang/CharSequence;)Z
       4: ifne          15
       7: aload_0
       8: aload_2
       9: invokevirtual #38                 // Method validIssueToken:(Ljava/lang/String;)Z
      12: ifeq          27
      15: aload_0
      16: aload_2
      17: invokevirtual #35                 // Method getIssueId:(Ljava/lang/String;)I
      20: invokestatic  #39                 // Method java/lang/String.valueOf:(I)Ljava/lang/String;
      23: invokestatic  #31                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      26: areturn
      27: invokestatic  #40                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      30: areturn

  protected int getIssueId(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #41                 // String #
       3: invokestatic  #42                 // Method org/apache/commons/lang3/StringUtils.stripStart:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
       6: bipush        10
       8: invokestatic  #43                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;I)I
      11: ireturn

  public boolean containsIssueKey(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration, java.lang.String, java.util.Set<java.lang.String>);
    Code:
       0: aload_2
       1: invokestatic  #37                 // Method org/apache/commons/lang3/StringUtils.isNumeric:(Ljava/lang/CharSequence;)Z
       4: ifne          15
       7: aload_0
       8: aload_2
       9: invokevirtual #38                 // Method validIssueToken:(Ljava/lang/String;)Z
      12: ifeq          61
      15: aload_3
      16: invokeinterface #44,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      21: aload_0
      22: invokedynamic #45,  0             // InvokeDynamic #1:apply:(Lnet/nemerosa/ontrack/extension/github/GitHubIssueServiceExtension;)Ljava/util/function/Function;
      27: invokeinterface #46,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      32: invokestatic  #47                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      35: invokeinterface #48,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      40: checkcast     #49                 // class java/util/Set
      43: astore        4
      45: aload         4
      47: aload_0
      48: aload_2
      49: invokevirtual #35                 // Method getIssueId:(Ljava/lang/String;)I
      52: invokestatic  #50                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      55: invokeinterface #51,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      60: ireturn
      61: iconst_0
      62: ireturn

  protected java.util.Set<java.lang.String> getIssueTypes(net.nemerosa.ontrack.extension.issues.model.IssueServiceConfiguration, net.nemerosa.ontrack.extension.issues.model.Issue);
    Code:
       0: aload_2
       1: checkcast     #52                 // class net/nemerosa/ontrack/extension/github/model/GitHubIssue
       4: astore_3
       5: aload_3
       6: invokevirtual #53                 // Method net/nemerosa/ontrack/extension/github/model/GitHubIssue.getLabels:()Ljava/util/List;
       9: invokeinterface #54,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      14: invokedynamic #55,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      19: invokeinterface #46,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      24: invokestatic  #56                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      27: invokeinterface #48,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      32: checkcast     #57                 // class java/lang/Iterable
      35: invokestatic  #58                 // Method com/google/common/collect/Sets.newLinkedHashSet:(Ljava/lang/Iterable;)Ljava/util/LinkedHashSet;
      38: areturn

  private static net.nemerosa.ontrack.model.support.MessageAnnotation lambda$getMessageAnnotator$0(net.nemerosa.ontrack.extension.github.service.GitHubIssueServiceConfiguration, java.lang.String);
    Code:
       0: ldc           #59                 // String a
       2: invokestatic  #60                 // Method net/nemerosa/ontrack/model/support/MessageAnnotation.of:(Ljava/lang/String;)Lnet/nemerosa/ontrack/model/support/MessageAnnotation;
       5: ldc           #61                 // String href
       7: ldc           #62                 // String %s/%s/issues/%s
       9: iconst_3
      10: anewarray     #63                 // class java/lang/Object
      13: dup
      14: iconst_0
      15: aload_0
      16: invokevirtual #32                 // Method net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration.getConfiguration:()Lnet/nemerosa/ontrack/extension/github/model/GitHubEngineConfiguration;
      19: invokevirtual #64                 // Method net/nemerosa/ontrack/extension/github/model/GitHubEngineConfiguration.getUrl:()Ljava/lang/String;
      22: aastore
      23: dup
      24: iconst_1
      25: aload_0
      26: invokevirtual #34                 // Method net/nemerosa/ontrack/extension/github/service/GitHubIssueServiceConfiguration.getRepository:()Ljava/lang/String;
      29: aastore
      30: dup
      31: iconst_2
      32: aload_1
      33: iconst_1
      34: invokevirtual #65                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      37: aastore
      38: invokestatic  #66                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      41: invokevirtual #67                 // Method net/nemerosa/ontrack/model/support/MessageAnnotation.attr:(Ljava/lang/String;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/support/MessageAnnotation;
      44: aload_1
      45: invokevirtual #68                 // Method net/nemerosa/ontrack/model/support/MessageAnnotation.text:(Ljava/lang/String;)Lnet/nemerosa/ontrack/model/support/MessageAnnotation;
      48: areturn
}
