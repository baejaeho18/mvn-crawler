Compiled from "JAXBAttachmentMarshaller.java"
public final class org.apache.axis2.datasource.jaxb.JAXBAttachmentMarshaller extends javax.xml.bind.attachment.AttachmentMarshaller {
  private static final org.apache.commons.logging.Log log;

  private final org.apache.axis2.datasource.jaxb.AttachmentContext context;

  private final javax.xml.stream.XMLStreamWriter writer;

  private static final java.lang.String APPLICATION_OCTET;

  public org.apache.axis2.datasource.jaxb.JAXBAttachmentMarshaller(org.apache.axis2.datasource.jaxb.AttachmentContext, javax.xml.stream.XMLStreamWriter);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/xml/bind/attachment/AttachmentMarshaller."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field context:Lorg/apache/axis2/datasource/jaxb/AttachmentContext;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field writer:Ljavax/xml/stream/XMLStreamWriter;
      14: return

  public boolean isXOPPackage();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #2                  // Field context:Lorg/apache/axis2/datasource/jaxb/AttachmentContext;
       6: invokeinterface #4,  1            // InterfaceMethod org/apache/axis2/datasource/jaxb/AttachmentContext.isMTOMEnabled:()Z
      11: istore_1
      12: aload_0
      13: getfield      #3                  // Field writer:Ljavax/xml/stream/XMLStreamWriter;
      16: instanceof    #5                  // class org/apache/axiom/om/impl/MTOMXMLStreamWriter
      19: ifne          45
      22: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      25: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      30: ifeq          43
      33: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      36: ldc           #8                  // String The writer is not enabled for MTOM.  MTOM values will not be optimized
      38: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      43: iconst_0
      44: istore_1
      45: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      48: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      53: ifeq          83
      56: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      59: new           #10                 // class java/lang/StringBuilder
      62: dup
      63: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      66: ldc           #12                 // String isXOPPackage returns
      68: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: iload_1
      72: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      75: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      78: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      83: iload_1
      84: ireturn

  public final java.lang.String addMtomAttachment(byte[], int, int, java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: iload_2
       1: ifne          10
       4: iload_3
       5: aload_1
       6: arraylength
       7: if_icmpeq     34
      10: iload_3
      11: iload_2
      12: isub
      13: istore        7
      15: iload         7
      17: newarray       byte
      19: astore        8
      21: aload_1
      22: iload_2
      23: aload         8
      25: iconst_0
      26: iload         7
      28: invokestatic  #16                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      31: aload         8
      33: astore_1
      34: aload         4
      36: ifnull        47
      39: aload         4
      41: invokevirtual #17                 // Method java/lang/String.length:()I
      44: ifne          51
      47: ldc           #19                 // String application/octet-stream
      49: astore        4
      51: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      54: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      59: ifeq          100
      62: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      65: new           #10                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #20                 // String Adding MTOM/XOP byte array attachment for element: {
      74: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload         5
      79: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: ldc           #21                 // String }
      84: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      87: aload         6
      89: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      95: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     100: aconst_null
     101: astore        7
     103: new           #22                 // class javax/mail/internet/InternetHeaders
     106: dup
     107: invokespecial #23                 // Method javax/mail/internet/InternetHeaders."<init>":()V
     110: astore        8
     112: aload_1
     113: astore        9
     115: aload         8
     117: ldc           #25                 // String Content-Type
     119: aload         4
     121: invokevirtual #26                 // Method javax/mail/internet/InternetHeaders.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     124: new           #27                 // class org/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller$1
     127: dup
     128: aload_0
     129: aload         8
     131: aload         9
     133: invokespecial #28                 // Method org/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller$1."<init>":(Lorg/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller;Ljavax/mail/internet/InternetHeaders;[B)V
     136: invokestatic  #29                 // Method org/apache/axis2/java/security/AccessController.doPrivileged:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
     139: checkcast     #30                 // class javax/mail/internet/MimeBodyPart
     142: astore        10
     144: new           #31                 // class org/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller$2
     147: dup
     148: aload_0
     149: aload         10
     151: invokespecial #32                 // Method org/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller$2."<init>":(Lorg/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller;Ljavax/mail/internet/MimeBodyPart;)V
     154: invokestatic  #29                 // Method org/apache/axis2/java/security/AccessController.doPrivileged:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
     157: checkcast     #33                 // class javax/mail/internet/MimePartDataSource
     160: astore        11
     162: aload_1
     163: arraylength
     164: i2l
     165: lstore        12
     167: aconst_null
     168: astore        14
     170: aload_0
     171: getfield      #2                  // Field context:Lorg/apache/axis2/datasource/jaxb/AttachmentContext;
     174: invokeinterface #34,  1           // InterfaceMethod org/apache/axis2/datasource/jaxb/AttachmentContext.getMessageContext:()Lorg/apache/axis2/context/MessageContext;
     179: astore        15
     181: aload         15
     183: ifnull        201
     186: aload         15
     188: ldc           #36                 // String mtomThreshold
     190: invokevirtual #37                 // Method org/apache/axis2/context/MessageContext.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
     193: checkcast     #38                 // class java/lang/Integer
     196: astore        14
     198: goto          222
     201: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     204: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     209: ifeq          222
     212: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     215: ldc           #39                 // String The msgContext is null so the MTOM threshold value can not be determined; it will default to 0.
     217: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     222: aload         14
     224: ifnull        235
     227: aload         14
     229: invokevirtual #40                 // Method java/lang/Integer.intValue:()I
     232: goto          236
     235: iconst_0
     236: istore        16
     238: iload         16
     240: ifeq          252
     243: lload         12
     245: iload         16
     247: i2l
     248: lcmp
     249: ifle          272
     252: new           #41                 // class javax/activation/DataHandler
     255: dup
     256: aload         11
     258: invokespecial #42                 // Method javax/activation/DataHandler."<init>":(Ljavax/activation/DataSource;)V
     261: astore        17
     263: aload_0
     264: aload         17
     266: iconst_0
     267: invokespecial #43                 // Method addDataHandler:(Ljavax/activation/DataHandler;Z)Ljava/lang/String;
     270: astore        7
     272: aload         10
     274: ldc           #44                 // String Content-Id
     276: aload         7
     278: invokevirtual #45                 // Method javax/mail/internet/MimeBodyPart.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     281: goto          296
     284: astore        8
     286: new           #47                 // class org/apache/axiom/om/OMException
     289: dup
     290: aload         8
     292: invokespecial #48                 // Method org/apache/axiom/om/OMException."<init>":(Ljava/lang/Throwable;)V
     295: athrow
     296: aload         7
     298: ifnonnull     305
     301: aconst_null
     302: goto          325
     305: new           #10                 // class java/lang/StringBuilder
     308: dup
     309: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     312: ldc           #49                 // String cid:
     314: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     317: aload         7
     319: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     322: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     325: areturn
    Exception table:
       from    to  target type
         103   281   284   Class javax/mail/MessagingException

  public final java.lang.String addMtomAttachment(javax.activation.DataHandler, java.lang.String, java.lang.String);
    Code:
       0: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
       3: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
       8: ifeq          47
      11: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      14: new           #10                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #50                 // String Adding MTOM/XOP datahandler attachment for element: {
      23: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_2
      27: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #21                 // String }
      32: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: aload_3
      36: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      42: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      47: aload_0
      48: aload_1
      49: iconst_0
      50: invokespecial #43                 // Method addDataHandler:(Ljavax/activation/DataHandler;Z)Ljava/lang/String;
      53: astore        4
      55: aload         4
      57: ifnonnull     64
      60: aconst_null
      61: goto          84
      64: new           #10                 // class java/lang/StringBuilder
      67: dup
      68: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      71: ldc           #49                 // String cid:
      73: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: aload         4
      78: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      81: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: areturn

  public final java.lang.String addSwaRefAttachment(javax.activation.DataHandler);
    Code:
       0: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
       3: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
       8: ifeq          21
      11: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      14: ldc           #51                 // String Adding SWAREF attachment
      16: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      21: aload_0
      22: aload_1
      23: iconst_1
      24: invokespecial #43                 // Method addDataHandler:(Ljavax/activation/DataHandler;Z)Ljava/lang/String;
      27: astore_2
      28: aload_0
      29: getfield      #2                  // Field context:Lorg/apache/axis2/datasource/jaxb/AttachmentContext;
      32: invokeinterface #52,  1           // InterfaceMethod org/apache/axis2/datasource/jaxb/AttachmentContext.setDoingSWA:()V
      37: new           #10                 // class java/lang/StringBuilder
      40: dup
      41: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      44: ldc           #49                 // String cid:
      46: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: aload_2
      50: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      56: areturn

  private java.lang.String addDataHandler(javax.activation.DataHandler, boolean);
    Code:
       0: aconst_null
       1: astore_3
       2: iload_2
       3: ifeq          45
       6: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
       9: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      14: ifeq          27
      17: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      20: ldc           #53                 // String adding DataHandler for SWA
      22: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      27: invokestatic  #54                 // Method org/apache/axiom/util/UIDGenerator.generateContentId:()Ljava/lang/String;
      30: astore_3
      31: aload_0
      32: getfield      #2                  // Field context:Lorg/apache/axis2/datasource/jaxb/AttachmentContext;
      35: aload_1
      36: aload_3
      37: invokeinterface #55,  3           // InterfaceMethod org/apache/axis2/datasource/jaxb/AttachmentContext.addDataHandler:(Ljavax/activation/DataHandler;Ljava/lang/String;)V
      42: goto          172
      45: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      48: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      53: ifeq          66
      56: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      59: ldc           #56                 // String adding DataHandler for MTOM
      61: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      66: aload_0
      67: getfield      #3                  // Field writer:Ljavax/xml/stream/XMLStreamWriter;
      70: instanceof    #5                  // class org/apache/axiom/om/impl/MTOMXMLStreamWriter
      73: ifeq          151
      76: aload_0
      77: getfield      #3                  // Field writer:Ljavax/xml/stream/XMLStreamWriter;
      80: checkcast     #5                  // class org/apache/axiom/om/impl/MTOMXMLStreamWriter
      83: aload_1
      84: invokevirtual #57                 // Method org/apache/axiom/om/impl/MTOMXMLStreamWriter.prepareDataHandler:(Ljavax/activation/DataHandler;)Ljava/lang/String;
      87: astore_3
      88: aload_3
      89: ifnull        127
      92: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
      95: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     100: ifeq          113
     103: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     106: ldc           #58                 // String The MTOM attachment is written as an attachment part.
     108: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     113: aload_0
     114: getfield      #2                  // Field context:Lorg/apache/axis2/datasource/jaxb/AttachmentContext;
     117: aload_1
     118: aload_3
     119: invokeinterface #55,  3           // InterfaceMethod org/apache/axis2/datasource/jaxb/AttachmentContext.addDataHandler:(Ljavax/activation/DataHandler;Ljava/lang/String;)V
     124: goto          172
     127: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     130: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     135: ifeq          172
     138: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     141: ldc           #59                 // String The MTOM attachment is inlined.
     143: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     148: goto          172
     151: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     154: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     159: ifeq          172
     162: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     165: ldc           #60                 // String writer is not MTOM capable.  The attachment will be inlined.
     167: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     172: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     175: invokeinterface #7,  1            // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     180: ifeq          237
     183: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     186: new           #10                 // class java/lang/StringBuilder
     189: dup
     190: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     193: ldc           #61                 // String    content id=
     195: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     198: aload_3
     199: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     202: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     205: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     210: getstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
     213: new           #10                 // class java/lang/StringBuilder
     216: dup
     217: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     220: ldc           #62                 // String    dataHandler  =
     222: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: aload_1
     226: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     229: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     232: invokeinterface #9,  2            // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     237: aload_3
     238: areturn

  static {};
    Code:
       0: ldc           #18                 // class org/apache/axis2/datasource/jaxb/JAXBAttachmentMarshaller
       2: invokestatic  #64                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #6                  // Field log:Lorg/apache/commons/logging/Log;
       8: return
}
