Compiled from "DockerRegistry.java"
public class net.oneandone.stool.registry.DockerRegistry extends net.oneandone.stool.registry.Registry {
  private final java.lang.String host;

  private final net.oneandone.sushi.fs.http.HttpNode root;

  public static net.oneandone.stool.registry.DockerRegistry create(net.oneandone.sushi.fs.http.HttpNode);
    Code:
       0: aload_0
       1: aconst_null
       2: invokestatic  #1                  // Method create:(Lnet/oneandone/sushi/fs/http/HttpNode;Ljava/lang/String;)Lnet/oneandone/stool/registry/DockerRegistry;
       5: areturn

  public static net.oneandone.stool.registry.DockerRegistry create(net.oneandone.sushi.fs.http.HttpNode, java.lang.String);
    Code:
       0: aload_1
       1: ifnull        8
       4: aload_1
       5: invokestatic  #7                  // Method net/oneandone/sushi/fs/http/HttpFilesystem.wireLog:(Ljava/lang/String;)V
       8: new           #2                  // class net/oneandone/stool/registry/DockerRegistry
      11: dup
      12: aload_0
      13: invokevirtual #13                 // Method net/oneandone/sushi/fs/http/HttpNode.getRoot:()Lnet/oneandone/sushi/fs/http/HttpRoot;
      16: invokevirtual #19                 // Method net/oneandone/sushi/fs/http/HttpRoot.getHostname:()Ljava/lang/String;
      19: aload_0
      20: invokespecial #25                 // Method "<init>":(Ljava/lang/String;Lnet/oneandone/sushi/fs/http/HttpNode;)V
      23: areturn

  private net.oneandone.stool.registry.DockerRegistry(java.lang.String, net.oneandone.sushi.fs.http.HttpNode);
    Code:
       0: aload_0
       1: invokespecial #29                 // Method net/oneandone/stool/registry/Registry."<init>":()V
       4: aload_1
       5: ldc           #34                 // String /
       7: invokevirtual #36                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      10: ifeq          22
      13: new           #42                 // class java/lang/IllegalArgumentException
      16: dup
      17: aload_1
      18: invokespecial #44                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      21: athrow
      22: aload_0
      23: aload_1
      24: putfield      #46                 // Field host:Ljava/lang/String;
      27: aload_0
      28: aload_2
      29: putfield      #50                 // Field root:Lnet/oneandone/sushi/fs/http/HttpNode;
      32: return

  public java.util.List<java.lang.String> list() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #50                 // Field root:Lnet/oneandone/sushi/fs/http/HttpNode;
       4: iconst_1
       5: anewarray     #37                 // class java/lang/String
       8: dup
       9: iconst_0
      10: ldc           #54                 // String v2/_catalog
      12: aastore
      13: invokevirtual #56                 // Method net/oneandone/sushi/fs/http/HttpNode.join:([Ljava/lang/String;)Lnet/oneandone/sushi/fs/Node;
      16: checkcast     #14                 // class net/oneandone/sushi/fs/http/HttpNode
      19: invokestatic  #60                 // Method getJsonObject:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lcom/google/gson/JsonObject;
      22: astore_1
      23: aload_1
      24: ldc           #64                 // String repositories
      26: invokevirtual #66                 // Method com/google/gson/JsonObject.get:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
      29: invokevirtual #72                 // Method com/google/gson/JsonElement.getAsJsonArray:()Lcom/google/gson/JsonArray;
      32: invokestatic  #78                 // Method toList:(Lcom/google/gson/JsonArray;)Ljava/util/List;
      35: areturn

  public java.util.List<java.lang.String> tags(java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #50                 // Field root:Lnet/oneandone/sushi/fs/http/HttpNode;
       4: iconst_1
       5: anewarray     #37                 // class java/lang/String
       8: dup
       9: iconst_0
      10: aload_1
      11: invokedynamic #82,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      16: aastore
      17: invokevirtual #56                 // Method net/oneandone/sushi/fs/http/HttpNode.join:([Ljava/lang/String;)Lnet/oneandone/sushi/fs/Node;
      20: checkcast     #14                 // class net/oneandone/sushi/fs/http/HttpNode
      23: invokestatic  #60                 // Method getJsonObject:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lcom/google/gson/JsonObject;
      26: astore_2
      27: goto          40
      30: astore        4
      32: new           #88                 // class java/util/ArrayList
      35: dup
      36: invokespecial #90                 // Method java/util/ArrayList."<init>":()V
      39: areturn
      40: aload_2
      41: ldc           #91                 // String tags
      43: invokevirtual #66                 // Method com/google/gson/JsonObject.get:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
      46: astore_3
      47: aload_3
      48: invokevirtual #93                 // Method com/google/gson/JsonElement.isJsonNull:()Z
      51: ifeq          64
      54: new           #88                 // class java/util/ArrayList
      57: dup
      58: invokespecial #90                 // Method java/util/ArrayList."<init>":()V
      61: goto          71
      64: aload_3
      65: invokevirtual #72                 // Method com/google/gson/JsonElement.getAsJsonArray:()Lcom/google/gson/JsonArray;
      68: invokestatic  #78                 // Method toList:(Lcom/google/gson/JsonArray;)Ljava/util/List;
      71: areturn
    Exception table:
       from    to  target type
           0    27    30   Class net/oneandone/sushi/fs/FileNotFoundException

  public net.oneandone.stool.registry.TagInfo info(net.oneandone.stool.kubernetes.PodInfo, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_2
       2: invokevirtual #97                 // Method net/oneandone/stool/kubernetes/PodInfo.repositoryTag:(Ljava/lang/String;)Ljava/lang/String;
       5: aload_0
       6: getfield      #46                 // Field host:Ljava/lang/String;
       9: invokedynamic #102,  0            // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      14: invokestatic  #103                // Method net/oneandone/sushi/util/Strings.removeLeft:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      17: astore_3
      18: aload_3
      19: bipush        58
      21: invokevirtual #109                // Method java/lang/String.indexOf:(I)I
      24: istore        4
      26: iload         4
      28: iconst_m1
      29: if_icmpne     41
      32: new           #113                // class java/lang/IllegalStateException
      35: dup
      36: aload_3
      37: invokespecial #115                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: aload_3
      42: iload         4
      44: iconst_1
      45: iadd
      46: invokevirtual #116                // Method java/lang/String.substring:(I)Ljava/lang/String;
      49: astore        5
      51: aload_3
      52: iconst_0
      53: iload         4
      55: invokevirtual #120                // Method java/lang/String.substring:(II)Ljava/lang/String;
      58: astore_3
      59: aload_0
      60: aload_3
      61: aload         5
      63: invokevirtual #123                // Method info:(Ljava/lang/String;Ljava/lang/String;)Lnet/oneandone/stool/registry/TagInfo;
      66: areturn

  public net.oneandone.stool.registry.TagInfo info(java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #127                // Method manifest:(Ljava/lang/String;Ljava/lang/String;)Lcom/google/gson/JsonObject;
       6: astore_3
       7: aload_3
       8: ldc           #131                // String config
      10: invokevirtual #66                 // Method com/google/gson/JsonObject.get:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
      13: invokevirtual #133                // Method com/google/gson/JsonElement.getAsJsonObject:()Lcom/google/gson/JsonObject;
      16: ldc           #137                // String digest
      18: invokevirtual #66                 // Method com/google/gson/JsonObject.get:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
      21: invokevirtual #139                // Method com/google/gson/JsonElement.getAsString:()Ljava/lang/String;
      24: astore        4
      26: aload_0
      27: getfield      #50                 // Field root:Lnet/oneandone/sushi/fs/http/HttpNode;
      30: iconst_1
      31: anewarray     #37                 // class java/lang/String
      34: dup
      35: iconst_0
      36: aload_1
      37: aload         4
      39: invokedynamic #142,  0            // InvokeDynamic #2:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      44: aastore
      45: invokevirtual #56                 // Method net/oneandone/sushi/fs/http/HttpNode.join:([Ljava/lang/String;)Lnet/oneandone/sushi/fs/Node;
      48: checkcast     #14                 // class net/oneandone/sushi/fs/http/HttpNode
      51: invokestatic  #60                 // Method getJsonObject:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lcom/google/gson/JsonObject;
      54: astore        5
      56: aconst_null
      57: astore        7
      59: aconst_null
      60: astore        6
      62: aload         5
      64: ldc           #144                // String container_config
      66: invokevirtual #66                 // Method com/google/gson/JsonObject.get:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
      69: invokevirtual #133                // Method com/google/gson/JsonElement.getAsJsonObject:()Lcom/google/gson/JsonObject;
      72: ldc           #146                // String Labels
      74: invokevirtual #66                 // Method com/google/gson/JsonObject.get:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
      77: invokevirtual #133                // Method com/google/gson/JsonElement.getAsJsonObject:()Lcom/google/gson/JsonObject;
      80: invokestatic  #148                // Method toMap:(Lcom/google/gson/JsonObject;)Ljava/util/Map;
      83: astore        8
      85: aload         4
      87: aload_0
      88: getfield      #46                 // Field host:Ljava/lang/String;
      91: aload_1
      92: aload_2
      93: invokedynamic #152,  0            // InvokeDynamic #3:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      98: aload_2
      99: aload         6
     101: aload         7
     103: aload         8
     105: invokestatic  #155                // Method net/oneandone/stool/registry/TagInfo.create:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/time/LocalDateTime;Ljava/util/Map;)Lnet/oneandone/stool/registry/TagInfo;
     108: areturn

  public void delete(java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #160                // Method tags:(Ljava/lang/String;)Ljava/util/List;
       5: invokeinterface #163,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      10: astore_3
      11: aload_3
      12: invokeinterface #169,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      17: ifeq          51
      20: aload_3
      21: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      26: checkcast     #37                 // class java/lang/String
      29: astore        4
      31: aload_0
      32: aload_1
      33: aload         4
      35: invokevirtual #123                // Method info:(Ljava/lang/String;Ljava/lang/String;)Lnet/oneandone/stool/registry/TagInfo;
      38: getfield      #178                // Field net/oneandone/stool/registry/TagInfo.id:Ljava/lang/String;
      41: astore_2
      42: aload_0
      43: aload_1
      44: aload_2
      45: invokevirtual #181                // Method deleteTagByDigest:(Ljava/lang/String;Ljava/lang/String;)V
      48: goto          11
      51: return

  private void deleteTagByDigest(java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #50                 // Field root:Lnet/oneandone/sushi/fs/http/HttpNode;
       5: iconst_1
       6: anewarray     #37                 // class java/lang/String
       9: dup
      10: iconst_0
      11: aload_1
      12: aload_2
      13: invokedynamic #185,  0            // InvokeDynamic #4:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      18: aastore
      19: invokevirtual #56                 // Method net/oneandone/sushi/fs/http/HttpNode.join:([Ljava/lang/String;)Lnet/oneandone/sushi/fs/Node;
      22: checkcast     #14                 // class net/oneandone/sushi/fs/http/HttpNode
      25: invokevirtual #186                // Method withV2Header:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lnet/oneandone/sushi/fs/http/HttpNode;
      28: invokestatic  #190                // Method net/oneandone/sushi/fs/http/model/Method.delete:(Lnet/oneandone/sushi/fs/http/HttpNode;)V
      31: goto          51
      34: astore_3
      35: aload_3
      36: invokevirtual #198                // Method net/oneandone/sushi/fs/http/StatusException.getStatusLine:()Lnet/oneandone/sushi/fs/http/model/StatusLine;
      39: getfield      #202                // Field net/oneandone/sushi/fs/http/model/StatusLine.code:I
      42: sipush        202
      45: if_icmpne     49
      48: return
      49: aload_3
      50: athrow
      51: return
    Exception table:
       from    to  target type
           0    31    34   Class net/oneandone/sushi/fs/http/StatusException

  private com.google.gson.JsonObject manifest(java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #50                 // Field root:Lnet/oneandone/sushi/fs/http/HttpNode;
       5: iconst_1
       6: anewarray     #37                 // class java/lang/String
       9: dup
      10: iconst_0
      11: aload_1
      12: aload_2
      13: invokedynamic #185,  0            // InvokeDynamic #4:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      18: aastore
      19: invokevirtual #56                 // Method net/oneandone/sushi/fs/http/HttpNode.join:([Ljava/lang/String;)Lnet/oneandone/sushi/fs/Node;
      22: checkcast     #14                 // class net/oneandone/sushi/fs/http/HttpNode
      25: invokevirtual #186                // Method withV2Header:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lnet/oneandone/sushi/fs/http/HttpNode;
      28: invokestatic  #60                 // Method getJsonObject:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lcom/google/gson/JsonObject;
      31: areturn

  private net.oneandone.sushi.fs.http.HttpNode withV2Header(net.oneandone.sushi.fs.http.HttpNode);
    Code:
       0: iconst_2
       1: anewarray     #37                 // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #208                // String Accept
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #210                // String application/vnd.docker.distribution.manifest.v2+json
      13: aastore
      14: invokestatic  #212                // Method net/oneandone/sushi/fs/http/model/HeaderList.of:([Ljava/lang/String;)Lnet/oneandone/sushi/fs/http/model/HeaderList;
      17: astore_2
      18: aload_1
      19: aload_2
      20: invokevirtual #218                // Method net/oneandone/sushi/fs/http/HttpNode.withHeaders:(Lnet/oneandone/sushi/fs/http/model/HeaderList;)Lnet/oneandone/sushi/fs/http/HttpNode;
      23: areturn

  private static com.google.gson.JsonObject getJsonObject(net.oneandone.sushi.fs.http.HttpNode) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #222                // Method getJson:(Lnet/oneandone/sushi/fs/http/HttpNode;)Lcom/google/gson/JsonElement;
       4: invokevirtual #133                // Method com/google/gson/JsonElement.getAsJsonObject:()Lcom/google/gson/JsonObject;
       7: areturn

  private static com.google.gson.JsonElement getJson(net.oneandone.sushi.fs.http.HttpNode) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #226                // Method net/oneandone/sushi/fs/http/HttpNode.readString:()Ljava/lang/String;
       4: invokestatic  #229                // Method com/google/gson/JsonParser.parseString:(Ljava/lang/String;)Lcom/google/gson/JsonElement;
       7: areturn
       8: astore_3
       9: aload_3
      10: invokevirtual #236                // Method net/oneandone/sushi/fs/NewInputStreamException.getCause:()Ljava/lang/Throwable;
      13: instanceof    #196                // class net/oneandone/sushi/fs/http/StatusException
      16: ifeq          82
      19: aload_3
      20: invokevirtual #236                // Method net/oneandone/sushi/fs/NewInputStreamException.getCause:()Ljava/lang/Throwable;
      23: checkcast     #196                // class net/oneandone/sushi/fs/http/StatusException
      26: astore_1
      27: aload_1
      28: invokevirtual #198                // Method net/oneandone/sushi/fs/http/StatusException.getStatusLine:()Lnet/oneandone/sushi/fs/http/model/StatusLine;
      31: getfield      #202                // Field net/oneandone/sushi/fs/http/model/StatusLine.code:I
      34: sipush        401
      37: if_icmpne     82
      40: aload_1
      41: invokevirtual #240                // Method net/oneandone/sushi/fs/http/StatusException.getHeaderList:()Lnet/oneandone/sushi/fs/http/model/HeaderList;
      44: ldc           #244                // String Www-Authenticate
      46: invokevirtual #246                // Method net/oneandone/sushi/fs/http/model/HeaderList.getFirstValue:(Ljava/lang/String;)Ljava/lang/String;
      49: astore_2
      50: aload_2
      51: ifnull        82
      54: new           #249                // class net/oneandone/stool/docker/AuthException
      57: dup
      58: aload_2
      59: ldc           #251                // String realm
      61: invokestatic  #253                // Method getArgument:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      64: aload_2
      65: ldc_w         #256                // String service
      68: invokestatic  #253                // Method getArgument:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      71: aload_2
      72: ldc_w         #258                // String scope
      75: invokestatic  #253                // Method getArgument:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      78: invokespecial #260                // Method net/oneandone/stool/docker/AuthException."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      81: athrow
      82: aload_3
      83: athrow
    Exception table:
       from    to  target type
           0     7     8   Class net/oneandone/sushi/fs/NewInputStreamException
}
