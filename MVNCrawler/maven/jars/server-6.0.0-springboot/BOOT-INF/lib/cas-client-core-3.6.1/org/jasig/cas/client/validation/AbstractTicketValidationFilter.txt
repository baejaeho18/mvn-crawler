Compiled from "AbstractTicketValidationFilter.java"
public abstract class org.jasig.cas.client.validation.AbstractTicketValidationFilter extends org.jasig.cas.client.util.AbstractCasFilter {
  private org.jasig.cas.client.validation.TicketValidator ticketValidator;

  private boolean redirectAfterValidation;

  private boolean exceptionOnValidationFailure;

  private boolean useSession;

  protected org.jasig.cas.client.validation.AbstractTicketValidationFilter(org.jasig.cas.client.Protocol);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/jasig/cas/client/util/AbstractCasFilter."<init>":(Lorg/jasig/cas/client/Protocol;)V
       5: aload_0
       6: iconst_1
       7: putfield      #2                  // Field redirectAfterValidation:Z
      10: aload_0
      11: iconst_0
      12: putfield      #3                  // Field exceptionOnValidationFailure:Z
      15: aload_0
      16: iconst_1
      17: putfield      #4                  // Field useSession:Z
      20: return

  protected org.jasig.cas.client.validation.TicketValidator getTicketValidator(javax.servlet.FilterConfig);
    Code:
       0: aload_0
       1: getfield      #5                  // Field ticketValidator:Lorg/jasig/cas/client/validation/TicketValidator;
       4: areturn

  protected java.util.Properties getSSLConfig();
    Code:
       0: new           #6                  // class java/util/Properties
       3: dup
       4: invokespecial #7                  // Method java/util/Properties."<init>":()V
       7: astore_1
       8: aload_0
       9: getstatic     #8                  // Field org/jasig/cas/client/configuration/ConfigurationKeys.SSL_CONFIG_FILE:Lorg/jasig/cas/client/configuration/ConfigurationKey;
      12: invokevirtual #9                  // Method getString:(Lorg/jasig/cas/client/configuration/ConfigurationKey;)Ljava/lang/String;
      15: astore_2
      16: aload_2
      17: ifnull        96
      20: aconst_null
      21: astore_3
      22: new           #10                 // class java/io/FileInputStream
      25: dup
      26: aload_2
      27: invokespecial #11                 // Method java/io/FileInputStream."<init>":(Ljava/lang/String;)V
      30: astore_3
      31: aload_1
      32: aload_3
      33: invokevirtual #12                 // Method java/util/Properties.load:(Ljava/io/InputStream;)V
      36: aload_0
      37: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
      40: ldc           #14                 // String Loaded {} entries from {}
      42: aload_1
      43: invokevirtual #15                 // Method java/util/Properties.size:()I
      46: invokestatic  #16                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      49: aload_2
      50: invokeinterface #17,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      55: aload_3
      56: invokestatic  #18                 // Method org/jasig/cas/client/util/CommonUtils.closeQuietly:(Ljava/io/Closeable;)V
      59: goto          96
      62: astore        4
      64: aload_0
      65: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
      68: aload         4
      70: invokevirtual #20                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
      73: aload         4
      75: invokeinterface #21,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      80: aload_3
      81: invokestatic  #18                 // Method org/jasig/cas/client/util/CommonUtils.closeQuietly:(Ljava/io/Closeable;)V
      84: goto          96
      87: astore        5
      89: aload_3
      90: invokestatic  #18                 // Method org/jasig/cas/client/util/CommonUtils.closeQuietly:(Ljava/io/Closeable;)V
      93: aload         5
      95: athrow
      96: aload_1
      97: areturn
    Exception table:
       from    to  target type
          22    55    62   Class java/io/IOException
          22    55    87   any
          62    80    87   any
          87    89    87   any

  protected javax.net.ssl.HostnameVerifier getHostnameVerifier();
    Code:
       0: aload_0
       1: getstatic     #22                 // Field org/jasig/cas/client/configuration/ConfigurationKeys.HOSTNAME_VERIFIER:Lorg/jasig/cas/client/configuration/ConfigurationKey;
       4: invokevirtual #23                 // Method getClass:(Lorg/jasig/cas/client/configuration/ConfigurationKey;)Ljava/lang/Class;
       7: astore_1
       8: aload_0
       9: getstatic     #24                 // Field org/jasig/cas/client/configuration/ConfigurationKeys.HOSTNAME_VERIFIER_CONFIG:Lorg/jasig/cas/client/configuration/ConfigurationKey;
      12: invokevirtual #9                  // Method getString:(Lorg/jasig/cas/client/configuration/ConfigurationKey;)Ljava/lang/String;
      15: astore_2
      16: aload_1
      17: ifnull        52
      20: aload_2
      21: ifnull        40
      24: aload_1
      25: iconst_1
      26: anewarray     #25                 // class java/lang/Object
      29: dup
      30: iconst_0
      31: aload_2
      32: aastore
      33: invokestatic  #26                 // Method org/jasig/cas/client/util/ReflectUtils.newInstance:(Ljava/lang/Class;[Ljava/lang/Object;)Ljava/lang/Object;
      36: checkcast     #27                 // class javax/net/ssl/HostnameVerifier
      39: areturn
      40: aload_1
      41: iconst_0
      42: anewarray     #25                 // class java/lang/Object
      45: invokestatic  #26                 // Method org/jasig/cas/client/util/ReflectUtils.newInstance:(Ljava/lang/Class;[Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #27                 // class javax/net/ssl/HostnameVerifier
      51: areturn
      52: aconst_null
      53: areturn

  protected void initInternal(javax.servlet.FilterConfig) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_0
       2: getstatic     #28                 // Field org/jasig/cas/client/configuration/ConfigurationKeys.EXCEPTION_ON_VALIDATION_FAILURE:Lorg/jasig/cas/client/configuration/ConfigurationKey;
       5: invokevirtual #29                 // Method getBoolean:(Lorg/jasig/cas/client/configuration/ConfigurationKey;)Z
       8: invokevirtual #30                 // Method setExceptionOnValidationFailure:(Z)V
      11: aload_0
      12: aload_0
      13: getstatic     #31                 // Field org/jasig/cas/client/configuration/ConfigurationKeys.REDIRECT_AFTER_VALIDATION:Lorg/jasig/cas/client/configuration/ConfigurationKey;
      16: invokevirtual #29                 // Method getBoolean:(Lorg/jasig/cas/client/configuration/ConfigurationKey;)Z
      19: invokevirtual #32                 // Method setRedirectAfterValidation:(Z)V
      22: aload_0
      23: aload_0
      24: getstatic     #33                 // Field org/jasig/cas/client/configuration/ConfigurationKeys.USE_SESSION:Lorg/jasig/cas/client/configuration/ConfigurationKey;
      27: invokevirtual #29                 // Method getBoolean:(Lorg/jasig/cas/client/configuration/ConfigurationKey;)Z
      30: invokevirtual #34                 // Method setUseSession:(Z)V
      33: aload_0
      34: getfield      #4                  // Field useSession:Z
      37: ifne          63
      40: aload_0
      41: getfield      #2                  // Field redirectAfterValidation:Z
      44: ifeq          63
      47: aload_0
      48: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
      51: ldc           #35                 // String redirectAfterValidation parameter may not be true when useSession parameter is false. Resetting it to false in order to prevent infinite redirects.
      53: invokeinterface #36,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      58: aload_0
      59: iconst_0
      60: invokevirtual #32                 // Method setRedirectAfterValidation:(Z)V
      63: aload_0
      64: aload_0
      65: aload_1
      66: invokevirtual #37                 // Method getTicketValidator:(Ljavax/servlet/FilterConfig;)Lorg/jasig/cas/client/validation/TicketValidator;
      69: invokevirtual #38                 // Method setTicketValidator:(Lorg/jasig/cas/client/validation/TicketValidator;)V
      72: aload_0
      73: aload_1
      74: invokespecial #39                 // Method org/jasig/cas/client/util/AbstractCasFilter.initInternal:(Ljavax/servlet/FilterConfig;)V
      77: return

  public void init();
    Code:
       0: aload_0
       1: invokespecial #40                 // Method org/jasig/cas/client/util/AbstractCasFilter.init:()V
       4: aload_0
       5: getfield      #5                  // Field ticketValidator:Lorg/jasig/cas/client/validation/TicketValidator;
       8: ldc           #41                 // String ticketValidator cannot be null.
      10: invokestatic  #42                 // Method org/jasig/cas/client/util/CommonUtils.assertNotNull:(Ljava/lang/Object;Ljava/lang/String;)V
      13: return

  protected boolean preFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: iconst_1
       1: ireturn

  protected void onSuccessfulValidation(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, org.jasig.cas.client.validation.Assertion);
    Code:
       0: return

  protected void onFailedValidation(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse);
    Code:
       0: return

  public final void doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokevirtual #43                 // Method preFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)Z
       7: ifne          11
      10: return
      11: aload_1
      12: checkcast     #44                 // class javax/servlet/http/HttpServletRequest
      15: astore        4
      17: aload_2
      18: checkcast     #45                 // class javax/servlet/http/HttpServletResponse
      21: astore        5
      23: aload_0
      24: aload         4
      26: invokevirtual #46                 // Method retrieveTicketFromRequest:(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/String;
      29: astore        6
      31: aload         6
      33: invokestatic  #47                 // Method org/jasig/cas/client/util/CommonUtils.isNotBlank:(Ljava/lang/String;)Z
      36: ifeq          236
      39: aload_0
      40: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
      43: ldc           #48                 // String Attempting to validate ticket: {}
      45: aload         6
      47: invokeinterface #49,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      52: aload_0
      53: getfield      #5                  // Field ticketValidator:Lorg/jasig/cas/client/validation/TicketValidator;
      56: aload         6
      58: aload_0
      59: aload         4
      61: aload         5
      63: invokevirtual #50                 // Method constructServiceUrl:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljava/lang/String;
      66: invokeinterface #51,  3           // InterfaceMethod org/jasig/cas/client/validation/TicketValidator.validate:(Ljava/lang/String;Ljava/lang/String;)Lorg/jasig/cas/client/validation/Assertion;
      71: astore        7
      73: aload_0
      74: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
      77: ldc           #52                 // String Successfully authenticated user: {}
      79: aload         7
      81: invokeinterface #53,  1           // InterfaceMethod org/jasig/cas/client/validation/Assertion.getPrincipal:()Lorg/jasig/cas/client/authentication/AttributePrincipal;
      86: invokeinterface #54,  1           // InterfaceMethod org/jasig/cas/client/authentication/AttributePrincipal.getName:()Ljava/lang/String;
      91: invokeinterface #49,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      96: aload         4
      98: ldc           #56                 // String _const_cas_assertion_
     100: aload         7
     102: invokeinterface #57,  3           // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     107: aload_0
     108: getfield      #4                  // Field useSession:Z
     111: ifeq          130
     114: aload         4
     116: invokeinterface #58,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getSession:()Ljavax/servlet/http/HttpSession;
     121: ldc           #56                 // String _const_cas_assertion_
     123: aload         7
     125: invokeinterface #59,  3           // InterfaceMethod javax/servlet/http/HttpSession.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     130: aload_0
     131: aload         4
     133: aload         5
     135: aload         7
     137: invokevirtual #60                 // Method onSuccessfulValidation:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/jasig/cas/client/validation/Assertion;)V
     140: aload_0
     141: getfield      #2                  // Field redirectAfterValidation:Z
     144: ifeq          174
     147: aload_0
     148: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
     151: ldc           #61                 // String Redirecting after successful ticket validation.
     153: invokeinterface #62,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     158: aload         5
     160: aload_0
     161: aload         4
     163: aload         5
     165: invokevirtual #50                 // Method constructServiceUrl:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljava/lang/String;
     168: invokeinterface #63,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendRedirect:(Ljava/lang/String;)V
     173: return
     174: goto          236
     177: astore        7
     179: aload_0
     180: getfield      #13                 // Field logger:Lorg/slf4j/Logger;
     183: aload         7
     185: invokevirtual #65                 // Method org/jasig/cas/client/validation/TicketValidationException.getMessage:()Ljava/lang/String;
     188: aload         7
     190: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     195: aload_0
     196: aload         4
     198: aload         5
     200: invokevirtual #67                 // Method onFailedValidation:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
     203: aload_0
     204: getfield      #3                  // Field exceptionOnValidationFailure:Z
     207: ifeq          220
     210: new           #68                 // class javax/servlet/ServletException
     213: dup
     214: aload         7
     216: invokespecial #69                 // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
     219: athrow
     220: aload         5
     222: sipush        403
     225: aload         7
     227: invokevirtual #65                 // Method org/jasig/cas/client/validation/TicketValidationException.getMessage:()Ljava/lang/String;
     230: invokeinterface #70,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(ILjava/lang/String;)V
     235: return
     236: aload_3
     237: aload         4
     239: aload         5
     241: invokeinterface #71,  3           // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     246: return
    Exception table:
       from    to  target type
          52   173   177   Class org/jasig/cas/client/validation/TicketValidationException

  public final void setTicketValidator(org.jasig.cas.client.validation.TicketValidator);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field ticketValidator:Lorg/jasig/cas/client/validation/TicketValidator;
       5: return

  public final void setRedirectAfterValidation(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #2                  // Field redirectAfterValidation:Z
       5: return

  public final void setExceptionOnValidationFailure(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field exceptionOnValidationFailure:Z
       5: return

  public final void setUseSession(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #4                  // Field useSession:Z
       5: return
}
