Compiled from "ConstantResolver.java"
class com.kenai.constantine.platform.ConstantResolver<E extends java.lang.Enum<E>> {
  public static final java.lang.String __UNKNOWN_CONSTANT__;

  private final java.lang.Object modLock;

  private final java.lang.Class<E> enumType;

  private final java.util.Map<java.lang.Integer, E> reverseLookupMap;

  private final java.util.concurrent.atomic.AtomicInteger nextUnknown;

  private final int lastUnknown;

  private final boolean bitmask;

  private com.kenai.constantine.Constant[] cache;

  private volatile E[] valueCache;

  private volatile int cacheGuard;

  private volatile com.kenai.constantine.ConstantSet constants;

  private com.kenai.constantine.platform.ConstantResolver(java.lang.Class<E>);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #2                  // int -2147483648
       4: ldc           #3                  // int -2147482648
       6: iconst_0
       7: invokespecial #4                  // Method "<init>":(Ljava/lang/Class;IIZ)V
      10: return

  private com.kenai.constantine.platform.ConstantResolver(java.lang.Class<E>, int, int, boolean);
    Code:
       0: aload_0
       1: invokespecial #5                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #6                  // class java/lang/Object
       8: dup
       9: invokespecial #5                  // Method java/lang/Object."<init>":()V
      12: putfield      #7                  // Field modLock:Ljava/lang/Object;
      15: aload_0
      16: new           #8                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #9                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #10                 // Field reverseLookupMap:Ljava/util/Map;
      26: aload_0
      27: aconst_null
      28: putfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
      31: aload_0
      32: aconst_null
      33: putfield      #12                 // Field valueCache:[Ljava/lang/Enum;
      36: aload_0
      37: iconst_0
      38: putfield      #13                 // Field cacheGuard:I
      41: aload_0
      42: aload_1
      43: putfield      #14                 // Field enumType:Ljava/lang/Class;
      46: aload_0
      47: new           #15                 // class java/util/concurrent/atomic/AtomicInteger
      50: dup
      51: iload_2
      52: invokespecial #16                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      55: putfield      #17                 // Field nextUnknown:Ljava/util/concurrent/atomic/AtomicInteger;
      58: aload_0
      59: iload_3
      60: putfield      #18                 // Field lastUnknown:I
      63: aload_0
      64: iload         4
      66: putfield      #19                 // Field bitmask:Z
      69: return

  static final <T extends java.lang.Enum<T>> com.kenai.constantine.platform.ConstantResolver<T> getResolver(java.lang.Class<T>);
    Code:
       0: new           #20                 // class com/kenai/constantine/platform/ConstantResolver
       3: dup
       4: aload_0
       5: invokespecial #21                 // Method "<init>":(Ljava/lang/Class;)V
       8: areturn

  static final <T extends java.lang.Enum<T>> com.kenai.constantine.platform.ConstantResolver<T> getResolver(java.lang.Class<T>, int, int);
    Code:
       0: new           #20                 // class com/kenai/constantine/platform/ConstantResolver
       3: dup
       4: aload_0
       5: iload_1
       6: iload_2
       7: iconst_0
       8: invokespecial #4                  // Method "<init>":(Ljava/lang/Class;IIZ)V
      11: areturn

  static final <T extends java.lang.Enum<T>> com.kenai.constantine.platform.ConstantResolver<T> getBitmaskResolver(java.lang.Class<T>);
    Code:
       0: new           #20                 // class com/kenai/constantine/platform/ConstantResolver
       3: dup
       4: aload_0
       5: iconst_0
       6: ldc           #2                  // int -2147483648
       8: iconst_1
       9: invokespecial #4                  // Method "<init>":(Ljava/lang/Class;IIZ)V
      12: areturn

  private com.kenai.constantine.Constant getConstant(E);
    Code:
       0: aload_0
       1: getfield      #13                 // Field cacheGuard:I
       4: ifeq          23
       7: aload_0
       8: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
      11: aload_1
      12: invokevirtual #22                 // Method java/lang/Enum.ordinal:()I
      15: aaload
      16: dup
      17: astore_2
      18: ifnull        23
      21: aload_2
      22: areturn
      23: aload_0
      24: aload_1
      25: invokespecial #23                 // Method lookupAndCacheConstant:(Ljava/lang/Enum;)Lcom/kenai/constantine/Constant;
      28: areturn

  private com.kenai.constantine.Constant lookupAndCacheConstant(E);
    Code:
       0: aload_0
       1: getfield      #7                  // Field modLock:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: getfield      #13                 // Field cacheGuard:I
      11: ifeq          32
      14: aload_0
      15: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
      18: aload_1
      19: invokevirtual #22                 // Method java/lang/Enum.ordinal:()I
      22: aaload
      23: dup
      24: astore_3
      25: ifnull        32
      28: aload_3
      29: aload_2
      30: monitorexit
      31: areturn
      32: aload_0
      33: getfield      #14                 // Field enumType:Ljava/lang/Class;
      36: invokestatic  #24                 // Method java/util/EnumSet.allOf:(Ljava/lang/Class;)Ljava/util/EnumSet;
      39: astore        4
      41: aload_0
      42: invokespecial #25                 // Method getConstants:()Lcom/kenai/constantine/ConstantSet;
      45: astore        5
      47: aload_0
      48: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
      51: ifnonnull     66
      54: aload_0
      55: aload         4
      57: invokevirtual #26                 // Method java/util/EnumSet.size:()I
      60: anewarray     #27                 // class com/kenai/constantine/Constant
      63: putfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
      66: lconst_0
      67: lstore        6
      69: lconst_0
      70: lstore        8
      72: aload         4
      74: invokevirtual #28                 // Method java/util/EnumSet.iterator:()Ljava/util/Iterator;
      77: astore        10
      79: aload         10
      81: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      86: ifeq          209
      89: aload         10
      91: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      96: checkcast     #31                 // class java/lang/Enum
      99: astore        11
     101: aload         5
     103: aload         11
     105: invokevirtual #32                 // Method java/lang/Enum.name:()Ljava/lang/String;
     108: invokevirtual #33                 // Method com/kenai/constantine/ConstantSet.getConstant:(Ljava/lang/String;)Lcom/kenai/constantine/Constant;
     111: astore_3
     112: aload_3
     113: ifnonnull     176
     116: aload_0
     117: getfield      #19                 // Field bitmask:Z
     120: ifeq          152
     123: lload         8
     125: lconst_1
     126: aload         11
     128: invokevirtual #22                 // Method java/lang/Enum.ordinal:()I
     131: lshl
     132: lor
     133: lstore        8
     135: new           #34                 // class com/kenai/constantine/platform/ConstantResolver$UnknownConstant
     138: dup
     139: iconst_0
     140: aload         11
     142: invokevirtual #32                 // Method java/lang/Enum.name:()Ljava/lang/String;
     145: invokespecial #35                 // Method com/kenai/constantine/platform/ConstantResolver$UnknownConstant."<init>":(ILjava/lang/String;)V
     148: astore_3
     149: goto          195
     152: new           #34                 // class com/kenai/constantine/platform/ConstantResolver$UnknownConstant
     155: dup
     156: aload_0
     157: getfield      #17                 // Field nextUnknown:Ljava/util/concurrent/atomic/AtomicInteger;
     160: iconst_1
     161: invokevirtual #36                 // Method java/util/concurrent/atomic/AtomicInteger.getAndAdd:(I)I
     164: aload         11
     166: invokevirtual #32                 // Method java/lang/Enum.name:()Ljava/lang/String;
     169: invokespecial #35                 // Method com/kenai/constantine/platform/ConstantResolver$UnknownConstant."<init>":(ILjava/lang/String;)V
     172: astore_3
     173: goto          195
     176: aload_0
     177: getfield      #19                 // Field bitmask:Z
     180: ifeq          195
     183: lload         6
     185: aload_3
     186: invokeinterface #37,  1           // InterfaceMethod com/kenai/constantine/Constant.value:()I
     191: i2l
     192: lor
     193: lstore        6
     195: aload_0
     196: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
     199: aload         11
     201: invokevirtual #22                 // Method java/lang/Enum.ordinal:()I
     204: aload_3
     205: aastore
     206: goto          79
     209: aload_0
     210: getfield      #19                 // Field bitmask:Z
     213: ifeq          311
     216: lconst_0
     217: lstore        10
     219: lload         8
     221: invokestatic  #38                 // Method java/lang/Long.lowestOneBit:(J)J
     224: dup2
     225: lstore        10
     227: lconst_0
     228: lcmp
     229: ifeq          311
     232: lload         10
     234: invokestatic  #39                 // Method java/lang/Long.numberOfTrailingZeros:(J)I
     237: istore        12
     239: lload         6
     241: ldc2_w        #40                 // long -1l
     244: lxor
     245: invokestatic  #38                 // Method java/lang/Long.lowestOneBit:(J)J
     248: invokestatic  #39                 // Method java/lang/Long.numberOfTrailingZeros:(J)I
     251: istore        13
     253: iconst_1
     254: iload         13
     256: ishl
     257: istore        14
     259: aload_0
     260: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
     263: iload         12
     265: new           #34                 // class com/kenai/constantine/platform/ConstantResolver$UnknownConstant
     268: dup
     269: iload         14
     271: aload_0
     272: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
     275: iload         12
     277: aaload
     278: invokeinterface #42,  1           // InterfaceMethod com/kenai/constantine/Constant.name:()Ljava/lang/String;
     283: invokespecial #35                 // Method com/kenai/constantine/platform/ConstantResolver$UnknownConstant."<init>":(ILjava/lang/String;)V
     286: aastore
     287: lload         6
     289: iload         14
     291: i2l
     292: lor
     293: lstore        6
     295: lload         8
     297: lconst_1
     298: iload         12
     300: lshl
     301: ldc2_w        #40                 // long -1l
     304: lxor
     305: land
     306: lstore        8
     308: goto          219
     311: aload_0
     312: iconst_1
     313: putfield      #13                 // Field cacheGuard:I
     316: aload_0
     317: getfield      #11                 // Field cache:[Lcom/kenai/constantine/Constant;
     320: aload_1
     321: invokevirtual #22                 // Method java/lang/Enum.ordinal:()I
     324: aaload
     325: aload_2
     326: monitorexit
     327: areturn
     328: astore        15
     330: aload_2
     331: monitorexit
     332: aload         15
     334: athrow
    Exception table:
       from    to  target type
           7    31   328   any
          32   327   328   any
         328   332   328   any

  final int intValue(E);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #43                 // Method getConstant:(Ljava/lang/Enum;)Lcom/kenai/constantine/Constant;
       5: invokeinterface #37,  1           // InterfaceMethod com/kenai/constantine/Constant.value:()I
      10: ireturn

  final long longValue(E);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #43                 // Method getConstant:(Ljava/lang/Enum;)Lcom/kenai/constantine/Constant;
       5: invokeinterface #44,  1           // InterfaceMethod com/kenai/constantine/Constant.longValue:()J
      10: lreturn

  final java.lang.String description(E);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #43                 // Method getConstant:(Ljava/lang/Enum;)Lcom/kenai/constantine/Constant;
       5: invokevirtual #45                 // Method java/lang/Object.toString:()Ljava/lang/String;
       8: areturn

  final E valueOf(int);
    Code:
       0: iload_1
       1: iflt          31
       4: iload_1
       5: sipush        256
       8: if_icmpge     31
      11: aload_0
      12: getfield      #12                 // Field valueCache:[Ljava/lang/Enum;
      15: ifnull        31
      18: aload_0
      19: getfield      #12                 // Field valueCache:[Ljava/lang/Enum;
      22: iload_1
      23: aaload
      24: dup
      25: astore_2
      26: ifnull        31
      29: aload_2
      30: areturn
      31: aload_0
      32: getfield      #10                 // Field reverseLookupMap:Ljava/util/Map;
      35: iload_1
      36: invokestatic  #46                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      39: invokeinterface #47,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      44: checkcast     #31                 // class java/lang/Enum
      47: astore_2
      48: aload_2
      49: ifnull        54
      52: aload_2
      53: areturn
      54: aload_0
      55: invokespecial #25                 // Method getConstants:()Lcom/kenai/constantine/ConstantSet;
      58: iload_1
      59: invokevirtual #48                 // Method com/kenai/constantine/ConstantSet.getConstant:(I)Lcom/kenai/constantine/Constant;
      62: astore_3
      63: aload_3
      64: ifnull        166
      67: aload_0
      68: getfield      #14                 // Field enumType:Ljava/lang/Class;
      71: aload_3
      72: invokeinterface #42,  1           // InterfaceMethod com/kenai/constantine/Constant.name:()Ljava/lang/String;
      77: invokestatic  #49                 // Method java/lang/Enum.valueOf:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;
      80: astore_2
      81: aload_0
      82: getfield      #10                 // Field reverseLookupMap:Ljava/util/Map;
      85: iload_1
      86: invokestatic  #46                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      89: aload_2
      90: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      95: pop
      96: aload_3
      97: invokeinterface #37,  1           // InterfaceMethod com/kenai/constantine/Constant.value:()I
     102: iflt          162
     105: aload_3
     106: invokeinterface #37,  1           // InterfaceMethod com/kenai/constantine/Constant.value:()I
     111: sipush        256
     114: if_icmpge     162
     117: aload_0
     118: getfield      #12                 // Field valueCache:[Ljava/lang/Enum;
     121: astore        4
     123: aload         4
     125: ifnonnull     146
     128: aload_0
     129: getfield      #14                 // Field enumType:Ljava/lang/Class;
     132: sipush        256
     135: invokestatic  #51                 // Method java/lang/reflect/Array.newInstance:(Ljava/lang/Class;I)Ljava/lang/Object;
     138: checkcast     #52                 // class "[Ljava/lang/Enum;"
     141: checkcast     #52                 // class "[Ljava/lang/Enum;"
     144: astore        4
     146: aload         4
     148: aload_3
     149: invokeinterface #37,  1           // InterfaceMethod com/kenai/constantine/Constant.value:()I
     154: aload_2
     155: aastore
     156: aload_0
     157: aload         4
     159: putfield      #12                 // Field valueCache:[Ljava/lang/Enum;
     162: aload_2
     163: areturn
     164: astore        4
     166: getstatic     #54                 // Field java/lang/System.out:Ljava/io/PrintStream;
     169: new           #55                 // class java/lang/StringBuilder
     172: dup
     173: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
     176: ldc           #57                 // String failed to reverse lookup value
     178: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     181: iload_1
     182: invokevirtual #59                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     185: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     188: invokevirtual #61                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     191: aload_0
     192: getfield      #14                 // Field enumType:Ljava/lang/Class;
     195: ldc           #62                 // String __UNKNOWN_CONSTANT__
     197: invokestatic  #49                 // Method java/lang/Enum.valueOf:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;
     200: areturn
    Exception table:
       from    to  target type
          67   163   164   Class java/lang/IllegalArgumentException

  private final com.kenai.constantine.ConstantSet getConstants();
    Code:
       0: aload_0
       1: getfield      #63                 // Field constants:Lcom/kenai/constantine/ConstantSet;
       4: ifnonnull     61
       7: aload_0
       8: aload_0
       9: getfield      #14                 // Field enumType:Ljava/lang/Class;
      12: invokevirtual #64                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      15: invokestatic  #65                 // Method com/kenai/constantine/ConstantSet.getConstantSet:(Ljava/lang/String;)Lcom/kenai/constantine/ConstantSet;
      18: putfield      #63                 // Field constants:Lcom/kenai/constantine/ConstantSet;
      21: aload_0
      22: getfield      #63                 // Field constants:Lcom/kenai/constantine/ConstantSet;
      25: ifnonnull     61
      28: new           #66                 // class java/lang/RuntimeException
      31: dup
      32: new           #55                 // class java/lang/StringBuilder
      35: dup
      36: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
      39: ldc           #67                 // String Could not load platform constants for
      41: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: aload_0
      45: getfield      #14                 // Field enumType:Ljava/lang/Class;
      48: invokevirtual #64                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      51: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      57: invokespecial #68                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      60: athrow
      61: aload_0
      62: getfield      #63                 // Field constants:Lcom/kenai/constantine/ConstantSet;
      65: areturn
}
