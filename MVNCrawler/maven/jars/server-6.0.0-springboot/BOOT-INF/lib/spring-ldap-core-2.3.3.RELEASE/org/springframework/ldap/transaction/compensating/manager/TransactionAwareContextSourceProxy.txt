Compiled from "TransactionAwareContextSourceProxy.java"
public class org.springframework.ldap.transaction.compensating.manager.TransactionAwareContextSourceProxy extends org.springframework.ldap.core.support.DelegatingBaseLdapPathContextSourceSupport implements org.springframework.ldap.core.ContextSource {
  private org.springframework.ldap.core.ContextSource target;

  public org.springframework.ldap.transaction.compensating.manager.TransactionAwareContextSourceProxy(org.springframework.ldap.core.ContextSource);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/springframework/ldap/core/support/DelegatingBaseLdapPathContextSourceSupport."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field target:Lorg/springframework/ldap/core/ContextSource;
       9: return

  public org.springframework.ldap.core.ContextSource getTarget();
    Code:
       0: aload_0
       1: getfield      #2                  // Field target:Lorg/springframework/ldap/core/ContextSource;
       4: areturn

  public javax.naming.directory.DirContext getReadOnlyContext();
    Code:
       0: aload_0
       1: invokevirtual #3                  // Method getReadWriteContext:()Ljavax/naming/directory/DirContext;
       4: areturn

  private javax.naming.directory.DirContext getTransactionAwareDirContextProxy(javax.naming.directory.DirContext, org.springframework.ldap.core.ContextSource);
    Code:
       0: ldc           #4                  // class org/springframework/ldap/core/DirContextProxy
       2: invokevirtual #5                  // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
       5: iconst_2
       6: anewarray     #6                  // class java/lang/Class
       9: dup
      10: iconst_0
      11: aload_1
      12: invokestatic  #7                  // Method org/springframework/ldap/support/LdapUtils.getActualTargetClass:(Ljavax/naming/directory/DirContext;)Ljava/lang/Class;
      15: aastore
      16: dup
      17: iconst_1
      18: ldc           #4                  // class org/springframework/ldap/core/DirContextProxy
      20: aastore
      21: new           #8                  // class org/springframework/ldap/transaction/compensating/manager/TransactionAwareDirContextInvocationHandler
      24: dup
      25: aload_1
      26: aload_2
      27: invokespecial #9                  // Method org/springframework/ldap/transaction/compensating/manager/TransactionAwareDirContextInvocationHandler."<init>":(Ljavax/naming/directory/DirContext;Lorg/springframework/ldap/core/ContextSource;)V
      30: invokestatic  #10                 // Method java/lang/reflect/Proxy.newProxyInstance:(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;
      33: checkcast     #11                 // class javax/naming/directory/DirContext
      36: areturn

  public javax.naming.directory.DirContext getReadWriteContext();
    Code:
       0: aload_0
       1: getfield      #2                  // Field target:Lorg/springframework/ldap/core/ContextSource;
       4: invokestatic  #12                 // Method org/springframework/transaction/support/TransactionSynchronizationManager.getResource:(Ljava/lang/Object;)Ljava/lang/Object;
       7: checkcast     #13                 // class org/springframework/ldap/transaction/compensating/manager/DirContextHolder
      10: astore_1
      11: aconst_null
      12: astore_2
      13: aload_1
      14: ifnull        22
      17: aload_1
      18: invokevirtual #14                 // Method org/springframework/ldap/transaction/compensating/manager/DirContextHolder.getCtx:()Ljavax/naming/directory/DirContext;
      21: astore_2
      22: aload_2
      23: ifnonnull     45
      26: aload_0
      27: getfield      #2                  // Field target:Lorg/springframework/ldap/core/ContextSource;
      30: invokeinterface #15,  1           // InterfaceMethod org/springframework/ldap/core/ContextSource.getReadWriteContext:()Ljavax/naming/directory/DirContext;
      35: astore_2
      36: aload_1
      37: ifnull        45
      40: aload_1
      41: aload_2
      42: invokevirtual #16                 // Method org/springframework/ldap/transaction/compensating/manager/DirContextHolder.setCtx:(Ljavax/naming/directory/DirContext;)V
      45: aload_0
      46: aload_2
      47: aload_0
      48: getfield      #2                  // Field target:Lorg/springframework/ldap/core/ContextSource;
      51: invokespecial #17                 // Method getTransactionAwareDirContextProxy:(Ljavax/naming/directory/DirContext;Lorg/springframework/ldap/core/ContextSource;)Ljavax/naming/directory/DirContext;
      54: areturn

  public javax.naming.directory.DirContext getContext(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field target:Lorg/springframework/ldap/core/ContextSource;
       4: aload_1
       5: aload_2
       6: invokeinterface #18,  3           // InterfaceMethod org/springframework/ldap/core/ContextSource.getContext:(Ljava/lang/String;Ljava/lang/String;)Ljavax/naming/directory/DirContext;
      11: areturn
}
