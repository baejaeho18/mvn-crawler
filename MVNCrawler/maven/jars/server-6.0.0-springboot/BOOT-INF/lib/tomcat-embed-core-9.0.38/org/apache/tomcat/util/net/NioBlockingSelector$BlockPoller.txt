Compiled from "NioBlockingSelector.java"
public class org.apache.tomcat.util.net.NioBlockingSelector$BlockPoller extends java.lang.Thread {
  protected volatile boolean run;

  protected java.nio.channels.Selector selector;

  protected final org.apache.tomcat.util.collections.SynchronizedQueue<java.lang.Runnable> events;

  protected final java.util.concurrent.atomic.AtomicInteger wakeupCounter;

  protected org.apache.tomcat.util.net.NioBlockingSelector$BlockPoller();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Thread."<init>":()V
       4: aload_0
       5: iconst_1
       6: putfield      #2                  // Field run:Z
       9: aload_0
      10: aconst_null
      11: putfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      14: aload_0
      15: new           #4                  // class org/apache/tomcat/util/collections/SynchronizedQueue
      18: dup
      19: invokespecial #5                  // Method org/apache/tomcat/util/collections/SynchronizedQueue."<init>":()V
      22: putfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
      25: aload_0
      26: new           #7                  // class java/util/concurrent/atomic/AtomicInteger
      29: dup
      30: iconst_0
      31: invokespecial #8                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      34: putfield      #9                  // Field wakeupCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      37: return

  public void disable();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #2                  // Field run:Z
       5: aload_0
       6: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
       9: invokevirtual #10                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      12: pop
      13: return

  public void cancelKey(java.nio.channels.SelectionKey);
    Code:
       0: new           #11                 // class org/apache/tomcat/util/net/NioBlockingSelector$BlockPoller$RunnableCancel
       3: dup
       4: aload_1
       5: invokespecial #12                 // Method org/apache/tomcat/util/net/NioBlockingSelector$BlockPoller$RunnableCancel."<init>":(Ljava/nio/channels/SelectionKey;)V
       8: astore_2
       9: aload_0
      10: getfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
      13: aload_2
      14: invokevirtual #13                 // Method org/apache/tomcat/util/collections/SynchronizedQueue.offer:(Ljava/lang/Object;)Z
      17: pop
      18: aload_0
      19: invokevirtual #14                 // Method wakeup:()V
      22: return

  public void wakeup();
    Code:
       0: aload_0
       1: getfield      #9                  // Field wakeupCounter:Ljava/util/concurrent/atomic/AtomicInteger;
       4: iconst_1
       5: invokevirtual #15                 // Method java/util/concurrent/atomic/AtomicInteger.addAndGet:(I)I
       8: ifne          19
      11: aload_0
      12: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      15: invokevirtual #10                 // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
      18: pop
      19: return

  public void cancel(java.nio.channels.SelectionKey, org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper, int);
    Code:
       0: aload_1
       1: ifnull        44
       4: aload_1
       5: invokevirtual #16                 // Method java/nio/channels/SelectionKey.cancel:()V
       8: aload_1
       9: aconst_null
      10: invokevirtual #17                 // Method java/nio/channels/SelectionKey.attach:(Ljava/lang/Object;)Ljava/lang/Object;
      13: pop
      14: iconst_4
      15: iload_3
      16: iconst_4
      17: iand
      18: if_icmpne     29
      21: aload_0
      22: aload_2
      23: invokevirtual #19                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getWriteLatch:()Ljava/util/concurrent/CountDownLatch;
      26: invokevirtual #20                 // Method countDown:(Ljava/util/concurrent/CountDownLatch;)V
      29: iconst_1
      30: iload_3
      31: iconst_1
      32: iand
      33: if_icmpne     44
      36: aload_0
      37: aload_2
      38: invokevirtual #21                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getReadLatch:()Ljava/util/concurrent/CountDownLatch;
      41: invokevirtual #20                 // Method countDown:(Ljava/util/concurrent/CountDownLatch;)V
      44: return

  public void add(org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper, int, org.apache.tomcat.util.net.NioBlockingSelector$KeyReference);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: invokevirtual #22                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getSocket:()Ljava/lang/Object;
       9: checkcast     #23                 // class org/apache/tomcat/util/net/NioChannel
      12: astore        4
      14: aload         4
      16: invokevirtual #24                 // Method org/apache/tomcat/util/net/NioChannel.getIOChannel:()Ljava/nio/channels/SocketChannel;
      19: astore        5
      21: aload         5
      23: ifnonnull     27
      26: return
      27: new           #25                 // class org/apache/tomcat/util/net/NioBlockingSelector$BlockPoller$RunnableAdd
      30: dup
      31: aload_0
      32: aload         5
      34: aload_1
      35: iload_2
      36: aload_3
      37: invokespecial #26                 // Method org/apache/tomcat/util/net/NioBlockingSelector$BlockPoller$RunnableAdd."<init>":(Lorg/apache/tomcat/util/net/NioBlockingSelector$BlockPoller;Ljava/nio/channels/SocketChannel;Lorg/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper;ILorg/apache/tomcat/util/net/NioBlockingSelector$KeyReference;)V
      40: astore        6
      42: aload_0
      43: getfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
      46: aload         6
      48: invokevirtual #13                 // Method org/apache/tomcat/util/collections/SynchronizedQueue.offer:(Ljava/lang/Object;)Z
      51: pop
      52: aload_0
      53: invokevirtual #14                 // Method wakeup:()V
      56: return

  public void remove(org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper, int);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: invokevirtual #22                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getSocket:()Ljava/lang/Object;
       9: checkcast     #23                 // class org/apache/tomcat/util/net/NioChannel
      12: astore_3
      13: aload_3
      14: invokevirtual #24                 // Method org/apache/tomcat/util/net/NioChannel.getIOChannel:()Ljava/nio/channels/SocketChannel;
      17: astore        4
      19: aload         4
      21: ifnonnull     25
      24: return
      25: new           #27                 // class org/apache/tomcat/util/net/NioBlockingSelector$BlockPoller$RunnableRemove
      28: dup
      29: aload_0
      30: aload         4
      32: aload_1
      33: iload_2
      34: invokespecial #28                 // Method org/apache/tomcat/util/net/NioBlockingSelector$BlockPoller$RunnableRemove."<init>":(Lorg/apache/tomcat/util/net/NioBlockingSelector$BlockPoller;Ljava/nio/channels/SocketChannel;Lorg/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper;I)V
      37: astore        5
      39: aload_0
      40: getfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
      43: aload         5
      45: invokevirtual #13                 // Method org/apache/tomcat/util/collections/SynchronizedQueue.offer:(Ljava/lang/Object;)Z
      48: pop
      49: aload_0
      50: invokevirtual #14                 // Method wakeup:()V
      53: return

  public boolean events();
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
       6: invokevirtual #29                 // Method org/apache/tomcat/util/collections/SynchronizedQueue.size:()I
       9: istore_2
      10: iconst_0
      11: istore_3
      12: iload_3
      13: iload_2
      14: if_icmpge     44
      17: aload_0
      18: getfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
      21: invokevirtual #30                 // Method org/apache/tomcat/util/collections/SynchronizedQueue.poll:()Ljava/lang/Object;
      24: checkcast     #31                 // class java/lang/Runnable
      27: dup
      28: astore_1
      29: ifnull        44
      32: aload_1
      33: invokeinterface #32,  1           // InterfaceMethod java/lang/Runnable.run:()V
      38: iinc          3, 1
      41: goto          12
      44: iload_2
      45: ifle          52
      48: iconst_1
      49: goto          53
      52: iconst_0
      53: ireturn

  public void run();
    Code:
       0: aload_0
       1: getfield      #2                  // Field run:Z
       4: ifeq          331
       7: aload_0
       8: invokevirtual #33                 // Method events:()Z
      11: pop
      12: iconst_0
      13: istore_1
      14: aload_0
      15: getfield      #9                  // Field wakeupCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      18: invokevirtual #34                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      21: istore_2
      22: iload_2
      23: ifle          37
      26: aload_0
      27: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      30: invokevirtual #35                 // Method java/nio/channels/Selector.selectNow:()I
      33: istore_1
      34: goto          56
      37: aload_0
      38: getfield      #9                  // Field wakeupCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      41: iconst_m1
      42: invokevirtual #36                 // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
      45: aload_0
      46: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      49: ldc2_w        #37                 // long 1000l
      52: invokevirtual #39                 // Method java/nio/channels/Selector.select:(J)I
      55: istore_1
      56: aload_0
      57: getfield      #9                  // Field wakeupCounter:Ljava/util/concurrent/atomic/AtomicInteger;
      60: iconst_0
      61: invokevirtual #36                 // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
      64: aload_0
      65: getfield      #2                  // Field run:Z
      68: ifne          74
      71: goto          331
      74: goto          163
      77: astore_2
      78: aload_0
      79: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      82: ifnonnull     87
      85: aload_2
      86: athrow
      87: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
      90: invokeinterface #42,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      95: ifeq          109
      98: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     101: ldc           #43                 // String Possibly encountered sun bug 5076772 on windows JDK 1.5
     103: aload_2
     104: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     109: goto          0
     112: astore_2
     113: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     116: invokeinterface #42,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     121: ifeq          135
     124: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     127: ldc           #43                 // String Possibly encountered sun bug 5076772 on windows JDK 1.5
     129: aload_2
     130: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     135: goto          0
     138: astore_2
     139: aload_2
     140: invokestatic  #47                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     143: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     146: getstatic     #48                 // Field org/apache/tomcat/util/net/NioBlockingSelector.sm:Lorg/apache/tomcat/util/res/StringManager;
     149: ldc           #49                 // String nioBlockingSelector.selectError
     151: invokevirtual #50                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     154: aload_2
     155: invokeinterface #51,  3           // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     160: goto          0
     163: iload_1
     164: ifle          182
     167: aload_0
     168: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
     171: invokevirtual #52                 // Method java/nio/channels/Selector.selectedKeys:()Ljava/util/Set;
     174: invokeinterface #53,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     179: goto          183
     182: aconst_null
     183: astore_2
     184: aload_0
     185: getfield      #2                  // Field run:Z
     188: ifeq          307
     191: aload_2
     192: ifnull        307
     195: aload_2
     196: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     201: ifeq          307
     204: aload_2
     205: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     210: checkcast     #18                 // class java/nio/channels/SelectionKey
     213: astore_3
     214: aload_3
     215: invokevirtual #56                 // Method java/nio/channels/SelectionKey.attachment:()Ljava/lang/Object;
     218: checkcast     #57                 // class org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper
     221: astore        4
     223: aload_2
     224: invokeinterface #58,  1           // InterfaceMethod java/util/Iterator.remove:()V
     229: aload_3
     230: aload_3
     231: invokevirtual #59                 // Method java/nio/channels/SelectionKey.interestOps:()I
     234: aload_3
     235: invokevirtual #60                 // Method java/nio/channels/SelectionKey.readyOps:()I
     238: iconst_m1
     239: ixor
     240: iand
     241: invokevirtual #61                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
     244: pop
     245: aload_3
     246: invokevirtual #62                 // Method java/nio/channels/SelectionKey.isReadable:()Z
     249: ifeq          261
     252: aload_0
     253: aload         4
     255: invokevirtual #21                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getReadLatch:()Ljava/util/concurrent/CountDownLatch;
     258: invokevirtual #20                 // Method countDown:(Ljava/util/concurrent/CountDownLatch;)V
     261: aload_3
     262: invokevirtual #63                 // Method java/nio/channels/SelectionKey.isWritable:()Z
     265: ifeq          277
     268: aload_0
     269: aload         4
     271: invokevirtual #19                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getWriteLatch:()Ljava/util/concurrent/CountDownLatch;
     274: invokevirtual #20                 // Method countDown:(Ljava/util/concurrent/CountDownLatch;)V
     277: goto          304
     280: astore        5
     282: aload_3
     283: invokevirtual #16                 // Method java/nio/channels/SelectionKey.cancel:()V
     286: aload_0
     287: aload         4
     289: invokevirtual #21                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getReadLatch:()Ljava/util/concurrent/CountDownLatch;
     292: invokevirtual #20                 // Method countDown:(Ljava/util/concurrent/CountDownLatch;)V
     295: aload_0
     296: aload         4
     298: invokevirtual #19                 // Method org/apache/tomcat/util/net/NioEndpoint$NioSocketWrapper.getWriteLatch:()Ljava/util/concurrent/CountDownLatch;
     301: invokevirtual #20                 // Method countDown:(Ljava/util/concurrent/CountDownLatch;)V
     304: goto          184
     307: goto          0
     310: astore_1
     311: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     314: getstatic     #48                 // Field org/apache/tomcat/util/net/NioBlockingSelector.sm:Lorg/apache/tomcat/util/res/StringManager;
     317: ldc           #64                 // String nioBlockingSelector.processingError
     319: invokevirtual #50                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     322: aload_1
     323: invokeinterface #51,  3           // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     328: goto          0
     331: aload_0
     332: getfield      #6                  // Field events:Lorg/apache/tomcat/util/collections/SynchronizedQueue;
     335: invokevirtual #65                 // Method org/apache/tomcat/util/collections/SynchronizedQueue.clear:()V
     338: aload_0
     339: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
     342: invokevirtual #66                 // Method java/nio/channels/Selector.isOpen:()Z
     345: ifeq          382
     348: aload_0
     349: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
     352: invokevirtual #35                 // Method java/nio/channels/Selector.selectNow:()I
     355: pop
     356: goto          382
     359: astore_1
     360: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     363: invokeinterface #42,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     368: ifeq          382
     371: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     374: ldc           #68                 // String
     376: aload_1
     377: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     382: aload_0
     383: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
     386: invokevirtual #69                 // Method java/nio/channels/Selector.close:()V
     389: goto          415
     392: astore_1
     393: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     396: invokeinterface #42,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     401: ifeq          415
     404: invokestatic  #41                 // Method org/apache/tomcat/util/net/NioBlockingSelector.access$000:()Lorg/apache/juli/logging/Log;
     407: ldc           #68                 // String
     409: aload_1
     410: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     415: return
    Exception table:
       from    to  target type
          14    71    77   Class java/lang/NullPointerException
          14    71   112   Class java/nio/channels/CancelledKeyException
          14    71   138   Class java/lang/Throwable
         223   277   280   Class java/nio/channels/CancelledKeyException
           7    71   310   Class java/lang/Throwable
          74   109   310   Class java/lang/Throwable
         112   135   310   Class java/lang/Throwable
         138   160   310   Class java/lang/Throwable
         163   307   310   Class java/lang/Throwable
         348   356   359   Class java/lang/Exception
         382   389   392   Class java/lang/Exception

  public void countDown(java.util.concurrent.CountDownLatch);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: invokevirtual #70                 // Method java/util/concurrent/CountDownLatch.countDown:()V
       9: return
}
