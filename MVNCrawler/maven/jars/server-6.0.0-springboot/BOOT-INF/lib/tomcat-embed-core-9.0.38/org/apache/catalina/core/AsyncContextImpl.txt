Compiled from "AsyncContextImpl.java"
public class org.apache.catalina.core.AsyncContextImpl implements javax.servlet.AsyncContext,org.apache.coyote.AsyncContextCallback {
  private static final org.apache.juli.logging.Log log;

  protected static final org.apache.tomcat.util.res.StringManager sm;

  private final java.lang.Object asyncContextLock;

  private volatile javax.servlet.ServletRequest servletRequest;

  private volatile javax.servlet.ServletResponse servletResponse;

  private final java.util.List<org.apache.catalina.core.AsyncListenerWrapper> listeners;

  private boolean hasOriginalRequestAndResponse;

  private volatile java.lang.Runnable dispatch;

  private org.apache.catalina.Context context;

  private long timeout;

  private javax.servlet.AsyncEvent event;

  private volatile org.apache.catalina.connector.Request request;

  public org.apache.catalina.core.AsyncContextImpl(org.apache.catalina.connector.Request);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/lang/Object
       8: dup
       9: invokespecial #1                  // Method java/lang/Object."<init>":()V
      12: putfield      #3                  // Field asyncContextLock:Ljava/lang/Object;
      15: aload_0
      16: aconst_null
      17: putfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
      20: aload_0
      21: aconst_null
      22: putfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      25: aload_0
      26: new           #6                  // class java/util/ArrayList
      29: dup
      30: invokespecial #7                  // Method java/util/ArrayList."<init>":()V
      33: putfield      #8                  // Field listeners:Ljava/util/List;
      36: aload_0
      37: iconst_1
      38: putfield      #9                  // Field hasOriginalRequestAndResponse:Z
      41: aload_0
      42: aconst_null
      43: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      46: aload_0
      47: aconst_null
      48: putfield      #11                 // Field context:Lorg/apache/catalina/Context;
      51: aload_0
      52: ldc2_w        #12                 // long -1l
      55: putfield      #14                 // Field timeout:J
      58: aload_0
      59: aconst_null
      60: putfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      63: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      66: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      71: ifeq          80
      74: aload_0
      75: ldc           #18                 // String Constructor
      77: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      80: aload_0
      81: aload_1
      82: putfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      85: return

  public void complete();
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #21                 // String complete
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: invokespecial #22                 // Method check:()V
      21: aload_0
      22: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      25: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      28: getstatic     #24                 // Field org/apache/coyote/ActionCode.ASYNC_COMPLETE:Lorg/apache/coyote/ActionCode;
      31: aconst_null
      32: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      35: return

  public void fireOnComplete();
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          27
      11: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      14: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      17: ldc           #27                 // String asyncContextImpl.fireOnComplete
      19: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      22: invokeinterface #29,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      27: new           #6                  // class java/util/ArrayList
      30: dup
      31: aload_0
      32: getfield      #8                  // Field listeners:Ljava/util/List;
      35: invokespecial #30                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      38: astore_1
      39: aload_0
      40: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      43: getstatic     #31                 // Field org/apache/catalina/Globals.IS_SECURITY_ENABLED:Z
      46: aconst_null
      47: invokeinterface #32,  3           // InterfaceMethod org/apache/catalina/Context.bind:(ZLjava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      52: astore_2
      53: aload_1
      54: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      59: astore_3
      60: aload_3
      61: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      66: ifeq          135
      69: aload_3
      70: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      75: checkcast     #36                 // class org/apache/catalina/core/AsyncListenerWrapper
      78: astore        4
      80: aload         4
      82: aload_0
      83: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      86: invokevirtual #37                 // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnComplete:(Ljavax/servlet/AsyncEvent;)V
      89: goto          132
      92: astore        5
      94: aload         5
      96: invokestatic  #39                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
      99: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     102: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     105: ldc           #40                 // String asyncContextImpl.onCompleteError
     107: iconst_1
     108: anewarray     #2                  // class java/lang/Object
     111: dup
     112: iconst_0
     113: aload         4
     115: invokevirtual #41                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     118: invokevirtual #42                 // Method java/lang/Class.getName:()Ljava/lang/String;
     121: aastore
     122: invokevirtual #43                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     125: aload         5
     127: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     132: goto          60
     135: aload_0
     136: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     139: aload_0
     140: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     143: invokevirtual #45                 // Method org/apache/catalina/connector/Request.getRequest:()Ljavax/servlet/http/HttpServletRequest;
     146: invokeinterface #46,  2           // InterfaceMethod org/apache/catalina/Context.fireRequestDestroyEvent:(Ljavax/servlet/ServletRequest;)Z
     151: pop
     152: aload_0
     153: invokespecial #47                 // Method clearServletRequestResponse:()V
     156: aload_0
     157: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     160: invokeinterface #48,  1           // InterfaceMethod org/apache/catalina/Context.decrementInProgressAsyncCount:()V
     165: aload_0
     166: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     169: getstatic     #31                 // Field org/apache/catalina/Globals.IS_SECURITY_ENABLED:Z
     172: aload_2
     173: invokeinterface #49,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     178: goto          229
     181: astore        6
     183: aload_0
     184: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     187: aload_0
     188: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     191: invokevirtual #45                 // Method org/apache/catalina/connector/Request.getRequest:()Ljavax/servlet/http/HttpServletRequest;
     194: invokeinterface #46,  2           // InterfaceMethod org/apache/catalina/Context.fireRequestDestroyEvent:(Ljavax/servlet/ServletRequest;)Z
     199: pop
     200: aload_0
     201: invokespecial #47                 // Method clearServletRequestResponse:()V
     204: aload_0
     205: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     208: invokeinterface #48,  1           // InterfaceMethod org/apache/catalina/Context.decrementInProgressAsyncCount:()V
     213: aload_0
     214: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     217: getstatic     #31                 // Field org/apache/catalina/Globals.IS_SECURITY_ENABLED:Z
     220: aload_2
     221: invokeinterface #49,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     226: aload         6
     228: athrow
     229: return
    Exception table:
       from    to  target type
          80    89    92   Class java/lang/Throwable
          53   135   181   any
         181   183   181   any

  public boolean timeout();
    Code:
       0: new           #50                 // class java/util/concurrent/atomic/AtomicBoolean
       3: dup
       4: invokespecial #51                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      12: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      15: getstatic     #52                 // Field org/apache/coyote/ActionCode.ASYNC_TIMEOUT:Lorg/apache/coyote/ActionCode;
      18: aload_1
      19: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      22: aload_0
      23: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      26: astore_2
      27: aload_1
      28: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      31: ifeq          207
      34: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      37: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      42: ifeq          61
      45: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      48: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      51: ldc           #54                 // String asyncContextImpl.fireOnTimeout
      53: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      56: invokeinterface #29,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      61: aload_2
      62: iconst_0
      63: aconst_null
      64: invokeinterface #32,  3           // InterfaceMethod org/apache/catalina/Context.bind:(ZLjava/lang/ClassLoader;)Ljava/lang/ClassLoader;
      69: astore_3
      70: new           #6                  // class java/util/ArrayList
      73: dup
      74: aload_0
      75: getfield      #8                  // Field listeners:Ljava/util/List;
      78: invokespecial #30                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      81: astore        4
      83: aload         4
      85: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      90: astore        5
      92: aload         5
      94: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      99: ifeq          169
     102: aload         5
     104: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     109: checkcast     #36                 // class org/apache/catalina/core/AsyncListenerWrapper
     112: astore        6
     114: aload         6
     116: aload_0
     117: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
     120: invokevirtual #55                 // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnTimeout:(Ljavax/servlet/AsyncEvent;)V
     123: goto          166
     126: astore        7
     128: aload         7
     130: invokestatic  #39                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     133: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     136: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     139: ldc           #56                 // String asyncContextImpl.onTimeoutError
     141: iconst_1
     142: anewarray     #2                  // class java/lang/Object
     145: dup
     146: iconst_0
     147: aload         6
     149: invokevirtual #41                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     152: invokevirtual #42                 // Method java/lang/Class.getName:()Ljava/lang/String;
     155: aastore
     156: invokevirtual #43                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     159: aload         7
     161: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     166: goto          92
     169: aload_0
     170: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     173: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     176: getstatic     #57                 // Field org/apache/coyote/ActionCode.ASYNC_IS_TIMINGOUT:Lorg/apache/coyote/ActionCode;
     179: aload_1
     180: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     183: aload_2
     184: iconst_0
     185: aload_3
     186: invokeinterface #49,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     191: goto          207
     194: astore        8
     196: aload_2
     197: iconst_0
     198: aload_3
     199: invokeinterface #49,  3           // InterfaceMethod org/apache/catalina/Context.unbind:(ZLjava/lang/ClassLoader;)V
     204: aload         8
     206: athrow
     207: aload_1
     208: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     211: ifne          218
     214: iconst_1
     215: goto          219
     218: iconst_0
     219: ireturn
    Exception table:
       from    to  target type
         114   123   126   Class java/lang/Throwable
          70   183   194   any
         194   196   194   any

  public void dispatch();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: invokevirtual #58                 // Method getRequest:()Ljavax/servlet/ServletRequest;
       8: astore_3
       9: aload_3
      10: instanceof    #59                 // class javax/servlet/http/HttpServletRequest
      13: ifeq          41
      16: aload_3
      17: checkcast     #59                 // class javax/servlet/http/HttpServletRequest
      20: astore        4
      22: aload         4
      24: invokeinterface #60,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
      29: astore_1
      30: aload         4
      32: invokeinterface #61,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getContextPath:()Ljava/lang/String;
      37: astore_2
      38: goto          57
      41: aload_0
      42: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      45: invokevirtual #62                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
      48: astore_1
      49: aload_0
      50: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      53: invokevirtual #63                 // Method org/apache/catalina/connector/Request.getContextPath:()Ljava/lang/String;
      56: astore_2
      57: aload_2
      58: invokevirtual #64                 // Method java/lang/String.length:()I
      61: iconst_1
      62: if_icmple     74
      65: aload_1
      66: aload_2
      67: invokevirtual #64                 // Method java/lang/String.length:()I
      70: invokevirtual #65                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      73: astore_1
      74: aload_0
      75: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      78: invokeinterface #66,  1           // InterfaceMethod org/apache/catalina/Context.getDispatchersUseEncodedPaths:()Z
      83: ifne          94
      86: aload_1
      87: getstatic     #67                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      90: invokestatic  #68                 // Method org/apache/tomcat/util/buf/UDecoder.URLDecode:(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;
      93: astore_1
      94: aload_0
      95: aload_1
      96: invokevirtual #69                 // Method dispatch:(Ljava/lang/String;)V
      99: return

  public void dispatch(java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: aload_0
       6: invokevirtual #58                 // Method getRequest:()Ljavax/servlet/ServletRequest;
       9: invokeinterface #70,  1           // InterfaceMethod javax/servlet/ServletRequest.getServletContext:()Ljavax/servlet/ServletContext;
      14: aload_1
      15: invokevirtual #71                 // Method dispatch:(Ljavax/servlet/ServletContext;Ljava/lang/String;)V
      18: return

  public void dispatch(javax.servlet.ServletContext, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #3                  // Field asyncContextLock:Ljava/lang/Object;
       4: dup
       5: astore_3
       6: monitorenter
       7: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      10: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      15: ifeq          24
      18: aload_0
      19: ldc           #72                 // String dispatch
      21: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      24: aload_0
      25: invokespecial #22                 // Method check:()V
      28: aload_0
      29: getfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      32: ifnull        51
      35: new           #73                 // class java/lang/IllegalStateException
      38: dup
      39: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      42: ldc           #74                 // String asyncContextImpl.dispatchingStarted
      44: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      47: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      50: athrow
      51: aload_0
      52: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      55: ldc           #77                 // String javax.servlet.async.request_uri
      57: invokevirtual #78                 // Method org/apache/catalina/connector/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      60: ifnonnull     143
      63: aload_0
      64: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      67: ldc           #77                 // String javax.servlet.async.request_uri
      69: aload_0
      70: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      73: invokevirtual #62                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
      76: invokevirtual #79                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      79: aload_0
      80: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      83: ldc           #80                 // String javax.servlet.async.context_path
      85: aload_0
      86: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      89: invokevirtual #63                 // Method org/apache/catalina/connector/Request.getContextPath:()Ljava/lang/String;
      92: invokevirtual #79                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      95: aload_0
      96: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      99: ldc           #81                 // String javax.servlet.async.servlet_path
     101: aload_0
     102: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     105: invokevirtual #82                 // Method org/apache/catalina/connector/Request.getServletPath:()Ljava/lang/String;
     108: invokevirtual #79                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     111: aload_0
     112: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     115: ldc           #83                 // String javax.servlet.async.path_info
     117: aload_0
     118: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     121: invokevirtual #84                 // Method org/apache/catalina/connector/Request.getPathInfo:()Ljava/lang/String;
     124: invokevirtual #79                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     127: aload_0
     128: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     131: ldc           #85                 // String javax.servlet.async.query_string
     133: aload_0
     134: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     137: invokevirtual #86                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     140: invokevirtual #79                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     143: aload_1
     144: aload_2
     145: invokeinterface #87,  2           // InterfaceMethod javax/servlet/ServletContext.getRequestDispatcher:(Ljava/lang/String;)Ljavax/servlet/RequestDispatcher;
     150: astore        4
     152: aload         4
     154: instanceof    #88                 // class org/apache/catalina/AsyncDispatcher
     157: ifne          176
     160: new           #89                 // class java/lang/UnsupportedOperationException
     163: dup
     164: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     167: ldc           #90                 // String asyncContextImpl.noAsyncDispatcher
     169: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     172: invokespecial #91                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
     175: athrow
     176: aload         4
     178: checkcast     #88                 // class org/apache/catalina/AsyncDispatcher
     181: astore        5
     183: aload_0
     184: invokevirtual #58                 // Method getRequest:()Ljavax/servlet/ServletRequest;
     187: astore        6
     189: aload_0
     190: invokevirtual #92                 // Method getResponse:()Ljavax/servlet/ServletResponse;
     193: astore        7
     195: aload_0
     196: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     199: astore        8
     201: aload_0
     202: new           #93                 // class org/apache/catalina/core/AsyncContextImpl$AsyncRunnable
     205: dup
     206: aload_0
     207: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     210: aload         5
     212: aload         6
     214: aload         7
     216: invokespecial #94                 // Method org/apache/catalina/core/AsyncContextImpl$AsyncRunnable."<init>":(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/AsyncDispatcher;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     219: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
     222: aload_0
     223: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     226: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     229: getstatic     #95                 // Field org/apache/coyote/ActionCode.ASYNC_DISPATCH:Lorg/apache/coyote/ActionCode;
     232: aconst_null
     233: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     236: aload_0
     237: invokespecial #47                 // Method clearServletRequestResponse:()V
     240: aload         8
     242: invokeinterface #48,  1           // InterfaceMethod org/apache/catalina/Context.decrementInProgressAsyncCount:()V
     247: aload_3
     248: monitorexit
     249: goto          259
     252: astore        9
     254: aload_3
     255: monitorexit
     256: aload         9
     258: athrow
     259: return
    Exception table:
       from    to  target type
           7   249   252   any
         252   256   252   any

  public javax.servlet.ServletRequest getRequest();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
       8: ifnonnull     27
      11: new           #73                 // class java/lang/IllegalStateException
      14: dup
      15: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      18: ldc           #96                 // String asyncContextImpl.request.ise
      20: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      23: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: aload_0
      28: getfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
      31: areturn

  public javax.servlet.ServletResponse getResponse();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
       8: ifnonnull     27
      11: new           #73                 // class java/lang/IllegalStateException
      14: dup
      15: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      18: ldc           #97                 // String asyncContextImpl.response.ise
      20: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      23: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: aload_0
      28: getfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      31: areturn

  public void start(java.lang.Runnable);
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #98                 // String start
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: invokespecial #22                 // Method check:()V
      21: new           #99                 // class org/apache/catalina/core/AsyncContextImpl$RunnableWrapper
      24: dup
      25: aload_1
      26: aload_0
      27: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      30: aload_0
      31: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      34: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      37: invokespecial #100                // Method org/apache/catalina/core/AsyncContextImpl$RunnableWrapper."<init>":(Ljava/lang/Runnable;Lorg/apache/catalina/Context;Lorg/apache/coyote/Request;)V
      40: astore_2
      41: aload_0
      42: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      45: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      48: getstatic     #101                // Field org/apache/coyote/ActionCode.ASYNC_RUN:Lorg/apache/coyote/ActionCode;
      51: aload_2
      52: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      55: return

  public void addListener(javax.servlet.AsyncListener);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: new           #36                 // class org/apache/catalina/core/AsyncListenerWrapper
       7: dup
       8: invokespecial #102                // Method org/apache/catalina/core/AsyncListenerWrapper."<init>":()V
      11: astore_2
      12: aload_2
      13: aload_1
      14: invokevirtual #103                // Method org/apache/catalina/core/AsyncListenerWrapper.setListener:(Ljavax/servlet/AsyncListener;)V
      17: aload_0
      18: getfield      #8                  // Field listeners:Ljava/util/List;
      21: aload_2
      22: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      27: pop
      28: return

  public void addListener(javax.servlet.AsyncListener, javax.servlet.ServletRequest, javax.servlet.ServletResponse);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: new           #36                 // class org/apache/catalina/core/AsyncListenerWrapper
       7: dup
       8: invokespecial #102                // Method org/apache/catalina/core/AsyncListenerWrapper."<init>":()V
      11: astore        4
      13: aload         4
      15: aload_1
      16: invokevirtual #103                // Method org/apache/catalina/core/AsyncListenerWrapper.setListener:(Ljavax/servlet/AsyncListener;)V
      19: aload         4
      21: aload_2
      22: invokevirtual #105                // Method org/apache/catalina/core/AsyncListenerWrapper.setServletRequest:(Ljavax/servlet/ServletRequest;)V
      25: aload         4
      27: aload_3
      28: invokevirtual #106                // Method org/apache/catalina/core/AsyncListenerWrapper.setServletResponse:(Ljavax/servlet/ServletResponse;)V
      31: aload_0
      32: getfield      #8                  // Field listeners:Ljava/util/List;
      35: aload         4
      37: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      42: pop
      43: return

  public <T extends javax.servlet.AsyncListener> T createListener(java.lang.Class<T>) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aconst_null
       5: astore_2
       6: aload_0
       7: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
      10: invokeinterface #107,  1          // InterfaceMethod org/apache/catalina/Context.getInstanceManager:()Lorg/apache/tomcat/InstanceManager;
      15: aload_1
      16: invokevirtual #42                 // Method java/lang/Class.getName:()Ljava/lang/String;
      19: aload_1
      20: invokevirtual #108                // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      23: invokeinterface #109,  3          // InterfaceMethod org/apache/tomcat/InstanceManager.newInstance:(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljava/lang/Object;
      28: checkcast     #110                // class javax/servlet/AsyncListener
      31: astore_2
      32: goto          70
      35: astore_3
      36: new           #113                // class javax/servlet/ServletException
      39: dup
      40: aload_3
      41: invokespecial #114                // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
      44: astore        4
      46: aload         4
      48: athrow
      49: astore_3
      50: aload_3
      51: invokevirtual #116                // Method java/lang/Exception.getCause:()Ljava/lang/Throwable;
      54: invokestatic  #39                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
      57: new           #113                // class javax/servlet/ServletException
      60: dup
      61: aload_3
      62: invokespecial #114                // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
      65: astore        4
      67: aload         4
      69: athrow
      70: aload_2
      71: areturn
    Exception table:
       from    to  target type
           6    32    35   Class java/lang/ReflectiveOperationException
           6    32    35   Class javax/naming/NamingException
           6    32    49   Class java/lang/Exception

  public void recycle();
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #117                // String recycle
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: aconst_null
      19: putfield      #11                 // Field context:Lorg/apache/catalina/Context;
      22: aload_0
      23: aconst_null
      24: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      27: aload_0
      28: aconst_null
      29: putfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      32: aload_0
      33: iconst_1
      34: putfield      #9                  // Field hasOriginalRequestAndResponse:Z
      37: aload_0
      38: getfield      #8                  // Field listeners:Ljava/util/List;
      41: invokeinterface #118,  1          // InterfaceMethod java/util/List.clear:()V
      46: aload_0
      47: aconst_null
      48: putfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      51: aload_0
      52: invokespecial #47                 // Method clearServletRequestResponse:()V
      55: aload_0
      56: ldc2_w        #12                 // long -1l
      59: putfield      #14                 // Field timeout:J
      62: return

  private void clearServletRequestResponse();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
       5: aload_0
       6: aconst_null
       7: putfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      10: return

  public boolean isStarted();
    Code:
       0: new           #50                 // class java/util/concurrent/atomic/AtomicBoolean
       3: dup
       4: iconst_0
       5: invokespecial #119                // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
       8: astore_1
       9: aload_0
      10: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      13: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      16: getstatic     #120                // Field org/apache/coyote/ActionCode.ASYNC_IS_STARTED:Lorg/apache/coyote/ActionCode;
      19: aload_1
      20: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      23: aload_1
      24: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      27: ireturn

  public void setStarted(org.apache.catalina.Context, javax.servlet.ServletRequest, javax.servlet.ServletResponse, boolean);
    Code:
       0: aload_0
       1: getfield      #3                  // Field asyncContextLock:Ljava/lang/Object;
       4: dup
       5: astore        5
       7: monitorenter
       8: aload_0
       9: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      12: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      15: getstatic     #121                // Field org/apache/coyote/ActionCode.ASYNC_START:Lorg/apache/coyote/ActionCode;
      18: aload_0
      19: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      22: aload_0
      23: aload_1
      24: putfield      #11                 // Field context:Lorg/apache/catalina/Context;
      27: aload_1
      28: invokeinterface #122,  1          // InterfaceMethod org/apache/catalina/Context.incrementInProgressAsyncCount:()V
      33: aload_0
      34: aload_2
      35: putfield      #4                  // Field servletRequest:Ljavax/servlet/ServletRequest;
      38: aload_0
      39: aload_3
      40: putfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
      43: aload_0
      44: iload         4
      46: putfield      #9                  // Field hasOriginalRequestAndResponse:Z
      49: aload_0
      50: new           #123                // class javax/servlet/AsyncEvent
      53: dup
      54: aload_0
      55: aload_2
      56: aload_3
      57: invokespecial #124                // Method javax/servlet/AsyncEvent."<init>":(Ljavax/servlet/AsyncContext;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
      60: putfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      63: new           #6                  // class java/util/ArrayList
      66: dup
      67: aload_0
      68: getfield      #8                  // Field listeners:Ljava/util/List;
      71: invokespecial #30                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      74: astore        6
      76: aload_0
      77: getfield      #8                  // Field listeners:Ljava/util/List;
      80: invokeinterface #118,  1          // InterfaceMethod java/util/List.clear:()V
      85: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      88: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      93: ifeq          112
      96: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      99: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     102: ldc           #125                // String asyncContextImpl.fireOnStartAsync
     104: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     107: invokeinterface #29,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
     112: aload         6
     114: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     119: astore        7
     121: aload         7
     123: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     128: ifeq          198
     131: aload         7
     133: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     138: checkcast     #36                 // class org/apache/catalina/core/AsyncListenerWrapper
     141: astore        8
     143: aload         8
     145: aload_0
     146: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
     149: invokevirtual #126                // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnStartAsync:(Ljavax/servlet/AsyncEvent;)V
     152: goto          195
     155: astore        9
     157: aload         9
     159: invokestatic  #39                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     162: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     165: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     168: ldc           #127                // String asyncContextImpl.onStartAsyncError
     170: iconst_1
     171: anewarray     #2                  // class java/lang/Object
     174: dup
     175: iconst_0
     176: aload         8
     178: invokevirtual #41                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     181: invokevirtual #42                 // Method java/lang/Class.getName:()Ljava/lang/String;
     184: aastore
     185: invokevirtual #43                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     188: aload         9
     190: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     195: goto          121
     198: aload         5
     200: monitorexit
     201: goto          212
     204: astore        10
     206: aload         5
     208: monitorexit
     209: aload         10
     211: athrow
     212: return
    Exception table:
       from    to  target type
         143   152   155   Class java/lang/Throwable
           8   201   204   any
         204   209   204   any

  public boolean hasOriginalRequestAndResponse();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #9                  // Field hasOriginalRequestAndResponse:Z
       8: ireturn

  protected void doInternalDispatch() throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          17
      11: aload_0
      12: ldc           #128                // String intDispatch
      14: invokespecial #19                 // Method logDebug:(Ljava/lang/String;)V
      17: aload_0
      18: getfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      21: astore_1
      22: aload_0
      23: aconst_null
      24: putfield      #10                 // Field dispatch:Ljava/lang/Runnable;
      27: aload_1
      28: invokeinterface #129,  1          // InterfaceMethod java/lang/Runnable.run:()V
      33: aload_0
      34: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      37: invokevirtual #130                // Method org/apache/catalina/connector/Request.isAsync:()Z
      40: ifne          47
      43: aload_0
      44: invokevirtual #131                // Method fireOnComplete:()V
      47: goto          96
      50: astore_1
      51: aload_1
      52: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      55: instanceof    #113                // class javax/servlet/ServletException
      58: ifeq          69
      61: aload_1
      62: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      65: checkcast     #113                // class javax/servlet/ServletException
      68: athrow
      69: aload_1
      70: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      73: instanceof    #134                // class java/io/IOException
      76: ifeq          87
      79: aload_1
      80: invokevirtual #133                // Method java/lang/RuntimeException.getCause:()Ljava/lang/Throwable;
      83: checkcast     #134                // class java/io/IOException
      86: athrow
      87: new           #113                // class javax/servlet/ServletException
      90: dup
      91: aload_1
      92: invokespecial #114                // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
      95: athrow
      96: return
    Exception table:
       from    to  target type
          17    47    50   Class java/lang/RuntimeException

  public long getTimeout();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: getfield      #14                 // Field timeout:J
       8: lreturn

  public void setTimeout(long);
    Code:
       0: aload_0
       1: invokespecial #22                 // Method check:()V
       4: aload_0
       5: lload_1
       6: putfield      #14                 // Field timeout:J
       9: aload_0
      10: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      13: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      16: getstatic     #135                // Field org/apache/coyote/ActionCode.ASYNC_SETTIMEOUT:Lorg/apache/coyote/ActionCode;
      19: lload_1
      20: invokestatic  #136                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      23: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      26: return

  public boolean isAvailable();
    Code:
       0: aload_0
       1: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
       4: astore_1
       5: aload_1
       6: ifnonnull     11
       9: iconst_0
      10: ireturn
      11: aload_1
      12: invokeinterface #137,  1          // InterfaceMethod org/apache/catalina/Context.getState:()Lorg/apache/catalina/LifecycleState;
      17: invokevirtual #138                // Method org/apache/catalina/LifecycleState.isAvailable:()Z
      20: ireturn

  public void setErrorState(java.lang.Throwable, boolean);
    Code:
       0: aload_1
       1: ifnull        14
       4: aload_0
       5: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
       8: ldc           #140                // String javax.servlet.error.exception
      10: aload_1
      11: invokevirtual #79                 // Method org/apache/catalina/connector/Request.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      18: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      21: getstatic     #141                // Field org/apache/coyote/ActionCode.ASYNC_ERROR:Lorg/apache/coyote/ActionCode;
      24: aconst_null
      25: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      28: iload_2
      29: ifeq          185
      32: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      35: invokeinterface #17,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      40: ifeq          59
      43: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
      46: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      49: ldc           #142                // String asyncContextImpl.fireOnError
      51: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      54: invokeinterface #29,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      59: new           #123                // class javax/servlet/AsyncEvent
      62: dup
      63: aload_0
      64: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      67: invokevirtual #143                // Method javax/servlet/AsyncEvent.getAsyncContext:()Ljavax/servlet/AsyncContext;
      70: aload_0
      71: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      74: invokevirtual #144                // Method javax/servlet/AsyncEvent.getSuppliedRequest:()Ljavax/servlet/ServletRequest;
      77: aload_0
      78: getfield      #15                 // Field event:Ljavax/servlet/AsyncEvent;
      81: invokevirtual #145                // Method javax/servlet/AsyncEvent.getSuppliedResponse:()Ljavax/servlet/ServletResponse;
      84: aload_1
      85: invokespecial #146                // Method javax/servlet/AsyncEvent."<init>":(Ljavax/servlet/AsyncContext;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljava/lang/Throwable;)V
      88: astore_3
      89: new           #6                  // class java/util/ArrayList
      92: dup
      93: aload_0
      94: getfield      #8                  // Field listeners:Ljava/util/List;
      97: invokespecial #30                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     100: astore        4
     102: aload         4
     104: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     109: astore        5
     111: aload         5
     113: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     118: ifeq          185
     121: aload         5
     123: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     128: checkcast     #36                 // class org/apache/catalina/core/AsyncListenerWrapper
     131: astore        6
     133: aload         6
     135: aload_3
     136: invokevirtual #147                // Method org/apache/catalina/core/AsyncListenerWrapper.fireOnError:(Ljavax/servlet/AsyncEvent;)V
     139: goto          182
     142: astore        7
     144: aload         7
     146: invokestatic  #39                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     149: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     152: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     155: ldc           #148                // String asyncContextImpl.onErrorError
     157: iconst_1
     158: anewarray     #2                  // class java/lang/Object
     161: dup
     162: iconst_0
     163: aload         6
     165: invokevirtual #41                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     168: invokevirtual #42                 // Method java/lang/Class.getName:()Ljava/lang/String;
     171: aastore
     172: invokevirtual #43                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     175: aload         7
     177: invokeinterface #44,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     182: goto          111
     185: new           #50                 // class java/util/concurrent/atomic/AtomicBoolean
     188: dup
     189: invokespecial #51                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
     192: astore_3
     193: aload_0
     194: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     197: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     200: getstatic     #149                // Field org/apache/coyote/ActionCode.ASYNC_IS_ERROR:Lorg/apache/coyote/ActionCode;
     203: aload_3
     204: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     207: aload_3
     208: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     211: ifeq          322
     214: aload_0
     215: getfield      #5                  // Field servletResponse:Ljavax/servlet/ServletResponse;
     218: astore        4
     220: aload         4
     222: instanceof    #150                // class javax/servlet/http/HttpServletResponse
     225: ifeq          241
     228: aload         4
     230: checkcast     #150                // class javax/servlet/http/HttpServletResponse
     233: sipush        500
     236: invokeinterface #151,  2          // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
     241: aload_0
     242: getfield      #11                 // Field context:Lorg/apache/catalina/Context;
     245: invokeinterface #152,  1          // InterfaceMethod org/apache/catalina/Context.getParent:()Lorg/apache/catalina/Container;
     250: checkcast     #153                // class org/apache/catalina/Host
     253: astore        5
     255: aload         5
     257: invokeinterface #154,  1          // InterfaceMethod org/apache/catalina/Host.getPipeline:()Lorg/apache/catalina/Pipeline;
     262: invokeinterface #155,  1          // InterfaceMethod org/apache/catalina/Pipeline.getBasic:()Lorg/apache/catalina/Valve;
     267: astore        6
     269: aload         6
     271: instanceof    #156                // class org/apache/catalina/core/StandardHostValve
     274: ifeq          297
     277: aload         6
     279: checkcast     #156                // class org/apache/catalina/core/StandardHostValve
     282: aload_0
     283: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     286: aload_0
     287: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     290: invokevirtual #157                // Method org/apache/catalina/connector/Request.getResponse:()Lorg/apache/catalina/connector/Response;
     293: aload_1
     294: invokevirtual #158                // Method org/apache/catalina/core/StandardHostValve.throwable:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;Ljava/lang/Throwable;)V
     297: aload_0
     298: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     301: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
     304: getstatic     #149                // Field org/apache/coyote/ActionCode.ASYNC_IS_ERROR:Lorg/apache/coyote/ActionCode;
     307: aload_3
     308: invokevirtual #25                 // Method org/apache/coyote/Request.action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     311: aload_3
     312: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
     315: ifeq          322
     318: aload_0
     319: invokevirtual #159                // Method complete:()V
     322: return
    Exception table:
       from    to  target type
         133   139   142   Class java/lang/Throwable

  private void logDebug(java.lang.String);
    Code:
       0: new           #160                // class java/lang/StringBuilder
       3: dup
       4: invokespecial #161                // Method java/lang/StringBuilder."<init>":()V
       7: astore        6
       9: aload_0
      10: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      13: ifnonnull     41
      16: ldc           #162                // String null
      18: astore_2
      19: ldc           #162                // String null
      21: astore_3
      22: ldc           #162                // String null
      24: astore        4
      26: ldc           #163                // String -
      28: astore        5
      30: aload         6
      32: ldc           #164                // String N/A
      34: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: pop
      38: goto          176
      41: aload_0
      42: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      45: invokevirtual #166                // Method java/lang/Object.hashCode:()I
      48: invokestatic  #167                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      51: astore_2
      52: aload_0
      53: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
      56: invokevirtual #23                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      59: astore        7
      61: aload         7
      63: ifnonnull     80
      66: ldc           #162                // String null
      68: astore_3
      69: ldc           #162                // String null
      71: astore        4
      73: ldc           #163                // String -
      75: astore        5
      77: goto          132
      80: aload         7
      82: invokevirtual #166                // Method java/lang/Object.hashCode:()I
      85: invokestatic  #167                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      88: astore_3
      89: aload         7
      91: invokevirtual #168                // Method org/apache/coyote/Request.getRequestProcessor:()Lorg/apache/coyote/RequestInfo;
      94: astore        8
      96: aload         8
      98: ifnonnull     112
     101: ldc           #162                // String null
     103: astore        4
     105: ldc           #163                // String -
     107: astore        5
     109: goto          132
     112: aload         8
     114: invokevirtual #166                // Method java/lang/Object.hashCode:()I
     117: invokestatic  #167                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
     120: astore        4
     122: aload         8
     124: invokevirtual #169                // Method org/apache/coyote/RequestInfo.getStage:()I
     127: invokestatic  #170                // Method java/lang/Integer.toString:(I)Ljava/lang/String;
     130: astore        5
     132: aload         6
     134: aload_0
     135: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     138: invokevirtual #62                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
     141: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: pop
     145: aload_0
     146: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     149: invokevirtual #86                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     152: ifnull        176
     155: aload         6
     157: bipush        63
     159: invokevirtual #171                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     162: pop
     163: aload         6
     165: aload_0
     166: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
     169: invokevirtual #86                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     172: invokevirtual #165                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: pop
     176: invokestatic  #172                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     179: invokevirtual #173                // Method java/lang/Thread.getName:()Ljava/lang/String;
     182: astore        7
     184: aload         7
     186: invokevirtual #64                 // Method java/lang/String.length:()I
     189: istore        8
     191: iload         8
     193: bipush        20
     195: if_icmple     212
     198: aload         7
     200: iload         8
     202: bipush        20
     204: isub
     205: iload         8
     207: invokevirtual #174                // Method java/lang/String.substring:(II)Ljava/lang/String;
     210: astore        7
     212: ldc           #175                // String Req: %1$8s  CReq: %2$8s  RP: %3$8s  Stage: %4$s  Thread: %5$20s  State: %6$20s  Method: %7$11s  URI: %8$s
     214: bipush        8
     216: anewarray     #2                  // class java/lang/Object
     219: dup
     220: iconst_0
     221: aload_2
     222: aastore
     223: dup
     224: iconst_1
     225: aload_3
     226: aastore
     227: dup
     228: iconst_2
     229: aload         4
     231: aastore
     232: dup
     233: iconst_3
     234: aload         5
     236: aastore
     237: dup
     238: iconst_4
     239: aload         7
     241: aastore
     242: dup
     243: iconst_5
     244: ldc           #164                // String N/A
     246: aastore
     247: dup
     248: bipush        6
     250: aload_1
     251: aastore
     252: dup
     253: bipush        7
     255: aload         6
     257: aastore
     258: invokestatic  #176                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     261: astore        9
     263: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     266: invokeinterface #177,  1          // InterfaceMethod org/apache/juli/logging/Log.isTraceEnabled:()Z
     271: ifeq          295
     274: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     277: aload         9
     279: new           #178                // class org/apache/catalina/core/AsyncContextImpl$DebugException
     282: dup
     283: aconst_null
     284: invokespecial #179                // Method org/apache/catalina/core/AsyncContextImpl$DebugException."<init>":(Lorg/apache/catalina/core/AsyncContextImpl$1;)V
     287: invokeinterface #180,  3          // InterfaceMethod org/apache/juli/logging/Log.trace:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     292: goto          305
     295: getstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
     298: aload         9
     300: invokeinterface #29,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
     305: return

  private void check();
    Code:
       0: aload_0
       1: getfield      #20                 // Field request:Lorg/apache/catalina/connector/Request;
       4: ifnonnull     23
       7: new           #73                 // class java/lang/IllegalStateException
      10: dup
      11: getstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      14: ldc           #181                // String asyncContextImpl.requestEnded
      16: invokevirtual #28                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      19: invokespecial #75                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: return

  static {};
    Code:
       0: ldc           #182                // class org/apache/catalina/core/AsyncContextImpl
       2: invokestatic  #183                // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       5: putstatic     #16                 // Field log:Lorg/apache/juli/logging/Log;
       8: ldc           #185                // String org.apache.catalina.core
      10: invokestatic  #186                // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/String;)Lorg/apache/tomcat/util/res/StringManager;
      13: putstatic     #26                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      16: return
}
