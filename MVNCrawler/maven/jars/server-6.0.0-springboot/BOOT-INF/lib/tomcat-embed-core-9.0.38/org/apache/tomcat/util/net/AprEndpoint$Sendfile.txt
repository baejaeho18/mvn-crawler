Compiled from "AprEndpoint.java"
public class org.apache.tomcat.util.net.AprEndpoint$Sendfile implements java.lang.Runnable {
  protected long sendfilePollset;

  protected long pool;

  protected long[] desc;

  protected java.util.HashMap<java.lang.Long, org.apache.tomcat.util.net.AprEndpoint$SendfileData> sendfileData;

  protected int sendfileCount;

  protected java.util.ArrayList<org.apache.tomcat.util.net.AprEndpoint$SendfileData> addS;

  private volatile java.lang.Thread sendfileThread;

  private volatile boolean sendfileRunning;

  final org.apache.tomcat.util.net.AprEndpoint this$0;

  public org.apache.tomcat.util.net.AprEndpoint$Sendfile(org.apache.tomcat.util.net.AprEndpoint);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: lconst_0
      11: putfield      #3                  // Field sendfilePollset:J
      14: aload_0
      15: lconst_0
      16: putfield      #4                  // Field pool:J
      19: aload_0
      20: iconst_1
      21: putfield      #5                  // Field sendfileRunning:Z
      24: return

  public int getSendfileCount();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sendfileCount:I
       4: ireturn

  protected void init();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
       5: getfield      #7                  // Field org/apache/tomcat/util/net/AprEndpoint.serverSockPool:J
       8: invokestatic  #8                  // Method org/apache/tomcat/jni/Pool.create:(J)J
      11: putfield      #4                  // Field pool:J
      14: aload_0
      15: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      18: getfield      #9                  // Field org/apache/tomcat/util/net/AprEndpoint.sendfileSize:I
      21: istore_1
      22: iload_1
      23: ifgt          30
      26: sipush        16384
      29: istore_1
      30: aload_0
      31: aload_0
      32: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      35: iload_1
      36: aload_0
      37: getfield      #4                  // Field pool:J
      40: aload_0
      41: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      44: invokevirtual #10                 // Method org/apache/tomcat/util/net/AprEndpoint.getConnectionTimeout:()I
      47: invokevirtual #11                 // Method org/apache/tomcat/util/net/AprEndpoint.allocatePoller:(IJI)J
      50: putfield      #3                  // Field sendfilePollset:J
      53: aload_0
      54: iload_1
      55: iconst_2
      56: imul
      57: newarray       long
      59: putfield      #12                 // Field desc:[J
      62: aload_0
      63: new           #13                 // class java/util/HashMap
      66: dup
      67: iload_1
      68: invokespecial #14                 // Method java/util/HashMap."<init>":(I)V
      71: putfield      #15                 // Field sendfileData:Ljava/util/HashMap;
      74: aload_0
      75: new           #16                 // class java/util/ArrayList
      78: dup
      79: invokespecial #17                 // Method java/util/ArrayList."<init>":()V
      82: putfield      #18                 // Field addS:Ljava/util/ArrayList;
      85: return

  protected void start();
    Code:
       0: aload_0
       1: new           #19                 // class java/lang/Thread
       4: dup
       5: aload_0
       6: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
       9: getfield      #20                 // Field org/apache/tomcat/util/net/AprEndpoint.sendfile:Lorg/apache/tomcat/util/net/AprEndpoint$Sendfile;
      12: new           #21                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      19: aload_0
      20: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      23: invokevirtual #23                 // Method org/apache/tomcat/util/net/AprEndpoint.getName:()Ljava/lang/String;
      26: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: ldc           #25                 // String -Sendfile
      31: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokespecial #27                 // Method java/lang/Thread."<init>":(Ljava/lang/Runnable;Ljava/lang/String;)V
      40: putfield      #28                 // Field sendfileThread:Ljava/lang/Thread;
      43: aload_0
      44: getfield      #28                 // Field sendfileThread:Ljava/lang/Thread;
      47: aload_0
      48: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      51: getfield      #29                 // Field org/apache/tomcat/util/net/AprEndpoint.threadPriority:I
      54: invokevirtual #30                 // Method java/lang/Thread.setPriority:(I)V
      57: aload_0
      58: getfield      #28                 // Field sendfileThread:Ljava/lang/Thread;
      61: iconst_1
      62: invokevirtual #31                 // Method java/lang/Thread.setDaemon:(Z)V
      65: aload_0
      66: getfield      #28                 // Field sendfileThread:Ljava/lang/Thread;
      69: invokevirtual #32                 // Method java/lang/Thread.start:()V
      72: return

  protected synchronized void stop();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #5                  // Field sendfileRunning:Z
       5: aload_0
       6: invokevirtual #33                 // Method java/lang/Object.notify:()V
       9: bipush        50
      11: istore_1
      12: iload_1
      13: ifle          52
      16: aload_0
      17: getfield      #28                 // Field sendfileThread:Ljava/lang/Thread;
      20: invokevirtual #34                 // Method java/lang/Thread.isAlive:()Z
      23: ifeq          52
      26: aload_0
      27: aload_0
      28: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      31: getfield      #35                 // Field org/apache/tomcat/util/net/AprEndpoint.pollTime:I
      34: sipush        1000
      37: idiv
      38: i2l
      39: invokevirtual #36                 // Method java/lang/Object.wait:(J)V
      42: goto          46
      45: astore_2
      46: iinc          1, -1
      49: goto          12
      52: aload_0
      53: getfield      #28                 // Field sendfileThread:Ljava/lang/Thread;
      56: invokevirtual #34                 // Method java/lang/Thread.isAlive:()Z
      59: ifeq          78
      62: invokestatic  #38                 // Method org/apache/tomcat/util/net/AprEndpoint.access$000:()Lorg/apache/juli/logging/Log;
      65: getstatic     #39                 // Field org/apache/tomcat/util/net/AbstractEndpoint.sm:Lorg/apache/tomcat/util/res/StringManager;
      68: ldc           #40                 // String endpoint.sendfileThreadStop
      70: invokevirtual #41                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      73: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
      78: return
    Exception table:
       from    to  target type
          26    42    45   Class java/lang/InterruptedException

  protected void destroy();
    Code:
       0: aload_0
       1: getfield      #18                 // Field addS:Ljava/util/ArrayList;
       4: invokevirtual #43                 // Method java/util/ArrayList.size:()I
       7: iconst_1
       8: isub
       9: istore_1
      10: iload_1
      11: iflt          43
      14: aload_0
      15: getfield      #18                 // Field addS:Ljava/util/ArrayList;
      18: iload_1
      19: invokevirtual #44                 // Method java/util/ArrayList.get:(I)Ljava/lang/Object;
      22: checkcast     #45                 // class org/apache/tomcat/util/net/AprEndpoint$SendfileData
      25: astore_2
      26: aload_0
      27: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      30: aload_2
      31: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
      34: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
      37: iinc          1, -1
      40: goto          10
      43: aload_0
      44: getfield      #3                  // Field sendfilePollset:J
      47: aload_0
      48: getfield      #12                 // Field desc:[J
      51: invokestatic  #48                 // Method org/apache/tomcat/jni/Poll.pollset:(J[J)I
      54: istore_1
      55: iload_1
      56: ifle          89
      59: iconst_0
      60: istore_2
      61: iload_2
      62: iload_1
      63: if_icmpge     89
      66: aload_0
      67: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      70: aload_0
      71: getfield      #12                 // Field desc:[J
      74: iload_2
      75: iconst_2
      76: imul
      77: iconst_1
      78: iadd
      79: laload
      80: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
      83: iinc          2, 1
      86: goto          61
      89: aload_0
      90: getfield      #4                  // Field pool:J
      93: invokestatic  #49                 // Method org/apache/tomcat/jni/Pool.destroy:(J)V
      96: aload_0
      97: getfield      #15                 // Field sendfileData:Ljava/util/HashMap;
     100: invokevirtual #50                 // Method java/util/HashMap.clear:()V
     103: return

  public org.apache.tomcat.util.net.SendfileState add(org.apache.tomcat.util.net.AprEndpoint$SendfileData);
    Code:
       0: aload_1
       1: aload_1
       2: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
       5: invokestatic  #51                 // Method org/apache/tomcat/jni/Socket.pool:(J)J
       8: putfield      #52                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fdpool:J
      11: aload_1
      12: aload_1
      13: getfield      #53                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fileName:Ljava/lang/String;
      16: sipush        4129
      19: iconst_0
      20: aload_1
      21: getfield      #52                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fdpool:J
      24: invokestatic  #55                 // Method org/apache/tomcat/jni/File.open:(Ljava/lang/String;IIJ)J
      27: putfield      #56                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fd:J
      30: aload_1
      31: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
      34: lconst_0
      35: invokestatic  #57                 // Method org/apache/tomcat/jni/Socket.timeoutSet:(JJ)I
      38: pop
      39: aload_0
      40: getfield      #5                  // Field sendfileRunning:Z
      43: ifeq          161
      46: aload_1
      47: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
      50: aload_1
      51: getfield      #56                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fd:J
      54: aload_1
      55: getfield      #58                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.pos:J
      58: aload_1
      59: getfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
      62: iconst_0
      63: invokestatic  #60                 // Method org/apache/tomcat/jni/Socket.sendfilen:(JJJJI)J
      66: lstore_2
      67: lload_2
      68: lconst_0
      69: lcmp
      70: ifge          98
      73: lload_2
      74: lneg
      75: ldc2_w        #62                 // long 120002l
      78: lcmp
      79: ifeq          161
      82: aload_1
      83: getfield      #52                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fdpool:J
      86: invokestatic  #49                 // Method org/apache/tomcat/jni/Pool.destroy:(J)V
      89: aload_1
      90: lconst_0
      91: putfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
      94: getstatic     #64                 // Field org/apache/tomcat/util/net/SendfileState.ERROR:Lorg/apache/tomcat/util/net/SendfileState;
      97: areturn
      98: aload_1
      99: dup
     100: getfield      #58                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.pos:J
     103: lload_2
     104: ladd
     105: putfield      #58                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.pos:J
     108: aload_1
     109: dup
     110: getfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     113: lload_2
     114: lsub
     115: putfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     118: aload_1
     119: getfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     122: lconst_0
     123: lcmp
     124: ifne          158
     127: aload_1
     128: getfield      #52                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fdpool:J
     131: invokestatic  #49                 // Method org/apache/tomcat/jni/Pool.destroy:(J)V
     134: aload_1
     135: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     138: aload_0
     139: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     142: invokevirtual #10                 // Method org/apache/tomcat/util/net/AprEndpoint.getConnectionTimeout:()I
     145: sipush        1000
     148: imul
     149: i2l
     150: invokestatic  #57                 // Method org/apache/tomcat/jni/Socket.timeoutSet:(JJ)I
     153: pop
     154: getstatic     #65                 // Field org/apache/tomcat/util/net/SendfileState.DONE:Lorg/apache/tomcat/util/net/SendfileState;
     157: areturn
     158: goto          39
     161: goto          186
     164: astore_2
     165: invokestatic  #38                 // Method org/apache/tomcat/util/net/AprEndpoint.access$000:()Lorg/apache/juli/logging/Log;
     168: getstatic     #39                 // Field org/apache/tomcat/util/net/AbstractEndpoint.sm:Lorg/apache/tomcat/util/res/StringManager;
     171: ldc           #67                 // String endpoint.sendfile.error
     173: invokevirtual #41                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     176: aload_2
     177: invokeinterface #68,  3           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     182: getstatic     #64                 // Field org/apache/tomcat/util/net/SendfileState.ERROR:Lorg/apache/tomcat/util/net/SendfileState;
     185: areturn
     186: aload_0
     187: dup
     188: astore_2
     189: monitorenter
     190: aload_0
     191: getfield      #18                 // Field addS:Ljava/util/ArrayList;
     194: aload_1
     195: invokevirtual #69                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
     198: pop
     199: aload_0
     200: invokevirtual #33                 // Method java/lang/Object.notify:()V
     203: aload_2
     204: monitorexit
     205: goto          215
     208: astore        4
     210: aload_2
     211: monitorexit
     212: aload         4
     214: athrow
     215: getstatic     #70                 // Field org/apache/tomcat/util/net/SendfileState.PENDING:Lorg/apache/tomcat/util/net/SendfileState;
     218: areturn
    Exception table:
       from    to  target type
           0    97   164   Class java/lang/Exception
          98   157   164   Class java/lang/Exception
         158   161   164   Class java/lang/Exception
         190   205   208   any
         208   212   208   any

  protected void remove(org.apache.tomcat.util.net.AprEndpoint$SendfileData);
    Code:
       0: aload_0
       1: getfield      #3                  // Field sendfilePollset:J
       4: aload_1
       5: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
       8: invokestatic  #71                 // Method org/apache/tomcat/jni/Poll.remove:(JJ)I
      11: istore_2
      12: iload_2
      13: ifne          26
      16: aload_0
      17: dup
      18: getfield      #6                  // Field sendfileCount:I
      21: iconst_1
      22: isub
      23: putfield      #6                  // Field sendfileCount:I
      26: aload_0
      27: getfield      #15                 // Field sendfileData:Ljava/util/HashMap;
      30: aload_1
      31: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
      34: invokestatic  #72                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      37: invokevirtual #73                 // Method java/util/HashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      40: pop
      41: return

  public void run();
    Code:
       0: lconst_0
       1: lstore_1
       2: aload_0
       3: getfield      #5                  // Field sendfileRunning:Z
       6: ifeq          952
       9: aload_0
      10: getfield      #5                  // Field sendfileRunning:Z
      13: ifeq          48
      16: aload_0
      17: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      20: getfield      #74                 // Field org/apache/tomcat/util/net/AprEndpoint.paused:Z
      23: ifeq          48
      26: aload_0
      27: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
      30: getfield      #35                 // Field org/apache/tomcat/util/net/AprEndpoint.pollTime:I
      33: sipush        1000
      36: idiv
      37: i2l
      38: invokestatic  #75                 // Method java/lang/Thread.sleep:(J)V
      41: goto          9
      44: astore_3
      45: goto          9
      48: aload_0
      49: getfield      #5                  // Field sendfileRunning:Z
      52: ifeq          129
      55: aload_0
      56: getfield      #6                  // Field sendfileCount:I
      59: iconst_1
      60: if_icmpge     129
      63: aload_0
      64: getfield      #18                 // Field addS:Ljava/util/ArrayList;
      67: invokevirtual #43                 // Method java/util/ArrayList.size:()I
      70: iconst_1
      71: if_icmpge     129
      74: lconst_0
      75: lstore_1
      76: aload_0
      77: dup
      78: astore_3
      79: monitorenter
      80: aload_0
      81: getfield      #5                  // Field sendfileRunning:Z
      84: ifeq          110
      87: aload_0
      88: getfield      #6                  // Field sendfileCount:I
      91: iconst_1
      92: if_icmpge     110
      95: aload_0
      96: getfield      #18                 // Field addS:Ljava/util/ArrayList;
      99: invokevirtual #43                 // Method java/util/ArrayList.size:()I
     102: iconst_1
     103: if_icmpge     110
     106: aload_0
     107: invokevirtual #76                 // Method java/lang/Object.wait:()V
     110: aload_3
     111: monitorexit
     112: goto          122
     115: astore        4
     117: aload_3
     118: monitorexit
     119: aload         4
     121: athrow
     122: goto          48
     125: astore_3
     126: goto          48
     129: aload_0
     130: getfield      #5                  // Field sendfileRunning:Z
     133: ifne          139
     136: goto          952
     139: aload_0
     140: getfield      #18                 // Field addS:Ljava/util/ArrayList;
     143: invokevirtual #43                 // Method java/util/ArrayList.size:()I
     146: ifle          311
     149: aload_0
     150: dup
     151: astore_3
     152: monitorenter
     153: aload_0
     154: getfield      #18                 // Field addS:Ljava/util/ArrayList;
     157: invokevirtual #43                 // Method java/util/ArrayList.size:()I
     160: iconst_1
     161: isub
     162: istore        4
     164: iload         4
     166: iflt          292
     169: aload_0
     170: getfield      #18                 // Field addS:Ljava/util/ArrayList;
     173: iload         4
     175: invokevirtual #44                 // Method java/util/ArrayList.get:(I)Ljava/lang/Object;
     178: checkcast     #45                 // class org/apache/tomcat/util/net/AprEndpoint$SendfileData
     181: astore        5
     183: aload_0
     184: getfield      #3                  // Field sendfilePollset:J
     187: aload         5
     189: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     192: iconst_4
     193: invokestatic  #78                 // Method org/apache/tomcat/jni/Poll.add:(JJI)I
     196: istore        6
     198: iload         6
     200: ifne          234
     203: aload_0
     204: getfield      #15                 // Field sendfileData:Ljava/util/HashMap;
     207: aload         5
     209: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     212: invokestatic  #72                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     215: aload         5
     217: invokevirtual #79                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     220: pop
     221: aload_0
     222: dup
     223: getfield      #6                  // Field sendfileCount:I
     226: iconst_1
     227: iadd
     228: putfield      #6                  // Field sendfileCount:I
     231: goto          286
     234: aload_0
     235: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     238: invokevirtual #80                 // Method org/apache/tomcat/util/net/AprEndpoint.getLog:()Lorg/apache/juli/logging/Log;
     241: getstatic     #39                 // Field org/apache/tomcat/util/net/AbstractEndpoint.sm:Lorg/apache/tomcat/util/res/StringManager;
     244: ldc           #81                 // String endpoint.sendfile.addfail
     246: iconst_2
     247: anewarray     #82                 // class java/lang/Object
     250: dup
     251: iconst_0
     252: iload         6
     254: invokestatic  #83                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     257: aastore
     258: dup
     259: iconst_1
     260: iload         6
     262: invokestatic  #84                 // Method org/apache/tomcat/jni/Error.strerror:(I)Ljava/lang/String;
     265: aastore
     266: invokevirtual #85                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     269: invokeinterface #42,  2           // InterfaceMethod org/apache/juli/logging/Log.warn:(Ljava/lang/Object;)V
     274: aload_0
     275: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     278: aload         5
     280: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     283: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
     286: iinc          4, -1
     289: goto          164
     292: aload_0
     293: getfield      #18                 // Field addS:Ljava/util/ArrayList;
     296: invokevirtual #86                 // Method java/util/ArrayList.clear:()V
     299: aload_3
     300: monitorexit
     301: goto          311
     304: astore        7
     306: aload_3
     307: monitorexit
     308: aload         7
     310: athrow
     311: lload_1
     312: aload_0
     313: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     316: getfield      #35                 // Field org/apache/tomcat/util/net/AprEndpoint.pollTime:I
     319: i2l
     320: ladd
     321: lstore_1
     322: aload_0
     323: getfield      #3                  // Field sendfilePollset:J
     326: aload_0
     327: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     330: getfield      #35                 // Field org/apache/tomcat/util/net/AprEndpoint.pollTime:I
     333: i2l
     334: aload_0
     335: getfield      #12                 // Field desc:[J
     338: iconst_0
     339: invokestatic  #87                 // Method org/apache/tomcat/jni/Poll.poll:(JJ[JZ)I
     342: istore_3
     343: iload_3
     344: ifle          715
     347: iconst_0
     348: istore        4
     350: iload         4
     352: iload_3
     353: if_icmpge     712
     356: aload_0
     357: getfield      #15                 // Field sendfileData:Ljava/util/HashMap;
     360: aload_0
     361: getfield      #12                 // Field desc:[J
     364: iload         4
     366: iconst_2
     367: imul
     368: iconst_1
     369: iadd
     370: laload
     371: invokestatic  #72                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     374: invokevirtual #88                 // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     377: checkcast     #45                 // class org/apache/tomcat/util/net/AprEndpoint$SendfileData
     380: astore        5
     382: aload_0
     383: getfield      #12                 // Field desc:[J
     386: iload         4
     388: iconst_2
     389: imul
     390: laload
     391: ldc2_w        #89                 // long 32l
     394: land
     395: ldc2_w        #89                 // long 32l
     398: lcmp
     399: ifeq          422
     402: aload_0
     403: getfield      #12                 // Field desc:[J
     406: iload         4
     408: iconst_2
     409: imul
     410: laload
     411: ldc2_w        #91                 // long 16l
     414: land
     415: ldc2_w        #91                 // long 16l
     418: lcmp
     419: ifne          443
     422: aload_0
     423: aload         5
     425: invokevirtual #93                 // Method remove:(Lorg/apache/tomcat/util/net/AprEndpoint$SendfileData;)V
     428: aload_0
     429: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     432: aload         5
     434: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     437: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
     440: goto          706
     443: aload         5
     445: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     448: aload         5
     450: getfield      #56                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fd:J
     453: aload         5
     455: getfield      #58                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.pos:J
     458: aload         5
     460: getfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     463: iconst_0
     464: invokestatic  #60                 // Method org/apache/tomcat/jni/Socket.sendfilen:(JJJJI)J
     467: lstore        6
     469: lload         6
     471: lconst_0
     472: lcmp
     473: ifge          497
     476: aload_0
     477: aload         5
     479: invokevirtual #93                 // Method remove:(Lorg/apache/tomcat/util/net/AprEndpoint$SendfileData;)V
     482: aload_0
     483: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     486: aload         5
     488: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     491: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
     494: goto          706
     497: aload         5
     499: dup
     500: getfield      #58                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.pos:J
     503: lload         6
     505: ladd
     506: putfield      #58                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.pos:J
     509: aload         5
     511: dup
     512: getfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     515: lload         6
     517: lsub
     518: putfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     521: aload         5
     523: getfield      #59                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.length:J
     526: lconst_0
     527: lcmp
     528: ifne          706
     531: aload_0
     532: aload         5
     534: invokevirtual #93                 // Method remove:(Lorg/apache/tomcat/util/net/AprEndpoint$SendfileData;)V
     537: getstatic     #94                 // Field org/apache/tomcat/util/net/AprEndpoint$1.$SwitchMap$org$apache$tomcat$util$net$SendfileKeepAliveState:[I
     540: aload         5
     542: getfield      #95                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.keepAliveState:Lorg/apache/tomcat/util/net/SendfileKeepAliveState;
     545: invokevirtual #96                 // Method org/apache/tomcat/util/net/SendfileKeepAliveState.ordinal:()I
     548: iaload
     549: tableswitch   { // 1 to 3
                     1: 576
                     2: 591
                     3: 653
               default: 706
          }
     576: aload_0
     577: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     580: aload         5
     582: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     585: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
     588: goto          706
     591: aload         5
     593: getfield      #52                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fdpool:J
     596: invokestatic  #49                 // Method org/apache/tomcat/jni/Pool.destroy:(J)V
     599: aload         5
     601: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     604: aload_0
     605: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     608: invokevirtual #10                 // Method org/apache/tomcat/util/net/AprEndpoint.getConnectionTimeout:()I
     611: sipush        1000
     614: imul
     615: i2l
     616: invokestatic  #57                 // Method org/apache/tomcat/jni/Socket.timeoutSet:(JJ)I
     619: pop
     620: aload_0
     621: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     624: aload         5
     626: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     629: getstatic     #97                 // Field org/apache/tomcat/util/net/SocketEvent.OPEN_READ:Lorg/apache/tomcat/util/net/SocketEvent;
     632: invokevirtual #98                 // Method org/apache/tomcat/util/net/AprEndpoint.processSocket:(JLorg/apache/tomcat/util/net/SocketEvent;)Z
     635: ifne          706
     638: aload_0
     639: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     642: aload         5
     644: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     647: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
     650: goto          706
     653: aload         5
     655: getfield      #52                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.fdpool:J
     658: invokestatic  #49                 // Method org/apache/tomcat/jni/Pool.destroy:(J)V
     661: aload         5
     663: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     666: aload_0
     667: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     670: invokevirtual #10                 // Method org/apache/tomcat/util/net/AprEndpoint.getConnectionTimeout:()I
     673: sipush        1000
     676: imul
     677: i2l
     678: invokestatic  #57                 // Method org/apache/tomcat/jni/Socket.timeoutSet:(JJ)I
     681: pop
     682: aload_0
     683: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     686: invokevirtual #99                 // Method org/apache/tomcat/util/net/AprEndpoint.getPoller:()Lorg/apache/tomcat/util/net/AprEndpoint$Poller;
     689: aload         5
     691: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     694: aload_0
     695: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     698: invokevirtual #100                // Method org/apache/tomcat/util/net/AprEndpoint.getKeepAliveTimeout:()I
     701: i2l
     702: iconst_1
     703: invokestatic  #101                // Method org/apache/tomcat/util/net/AprEndpoint$Poller.access$400:(Lorg/apache/tomcat/util/net/AprEndpoint$Poller;JJI)V
     706: iinc          4, 1
     709: goto          350
     712: goto          821
     715: iload_3
     716: ifge          821
     719: iload_3
     720: ineg
     721: istore        4
     723: iload         4
     725: ldc           #102                // int 120001
     727: if_icmpeq     821
     730: iload         4
     732: ldc           #103                // int 120003
     734: if_icmpeq     821
     737: iload         4
     739: ldc           #104                // int 120000
     741: if_icmple     751
     744: iload         4
     746: ldc           #104                // int 120000
     748: isub
     749: istore        4
     751: aload_0
     752: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     755: invokevirtual #80                 // Method org/apache/tomcat/util/net/AprEndpoint.getLog:()Lorg/apache/juli/logging/Log;
     758: getstatic     #39                 // Field org/apache/tomcat/util/net/AbstractEndpoint.sm:Lorg/apache/tomcat/util/res/StringManager;
     761: ldc           #105                // String endpoint.apr.pollError
     763: iconst_2
     764: anewarray     #82                 // class java/lang/Object
     767: dup
     768: iconst_0
     769: iload         4
     771: invokestatic  #83                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     774: aastore
     775: dup
     776: iconst_1
     777: iload         4
     779: invokestatic  #84                 // Method org/apache/tomcat/jni/Error.strerror:(I)Ljava/lang/String;
     782: aastore
     783: invokevirtual #85                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     786: invokeinterface #106,  2          // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;)V
     791: aload_0
     792: dup
     793: astore        5
     795: monitorenter
     796: aload_0
     797: invokevirtual #107                // Method destroy:()V
     800: aload_0
     801: invokevirtual #108                // Method init:()V
     804: aload         5
     806: monitorexit
     807: goto          818
     810: astore        8
     812: aload         5
     814: monitorexit
     815: aload         8
     817: athrow
     818: goto          2
     821: aload_0
     822: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     825: invokevirtual #10                 // Method org/apache/tomcat/util/net/AprEndpoint.getConnectionTimeout:()I
     828: ifle          920
     831: lload_1
     832: ldc2_w        #109                // long 1000000l
     835: lcmp
     836: ifle          920
     839: aload_0
     840: getfield      #5                  // Field sendfileRunning:Z
     843: ifeq          920
     846: aload_0
     847: getfield      #3                  // Field sendfilePollset:J
     850: aload_0
     851: getfield      #12                 // Field desc:[J
     854: iconst_0
     855: invokestatic  #111                // Method org/apache/tomcat/jni/Poll.maintain:(J[JZ)I
     858: istore_3
     859: lconst_0
     860: lstore_1
     861: iload_3
     862: ifle          920
     865: iconst_0
     866: istore        4
     868: iload         4
     870: iload_3
     871: if_icmpge     920
     874: aload_0
     875: getfield      #15                 // Field sendfileData:Ljava/util/HashMap;
     878: aload_0
     879: getfield      #12                 // Field desc:[J
     882: iload         4
     884: laload
     885: invokestatic  #72                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     888: invokevirtual #88                 // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     891: checkcast     #45                 // class org/apache/tomcat/util/net/AprEndpoint$SendfileData
     894: astore        5
     896: aload_0
     897: aload         5
     899: invokevirtual #93                 // Method remove:(Lorg/apache/tomcat/util/net/AprEndpoint$SendfileData;)V
     902: aload_0
     903: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     906: aload         5
     908: getfield      #46                 // Field org/apache/tomcat/util/net/AprEndpoint$SendfileData.socket:J
     911: invokestatic  #47                 // Method org/apache/tomcat/util/net/AprEndpoint.access$100:(Lorg/apache/tomcat/util/net/AprEndpoint;J)V
     914: iinc          4, 1
     917: goto          868
     920: goto          2
     923: astore_3
     924: aload_3
     925: invokestatic  #113                // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
     928: aload_0
     929: getfield      #1                  // Field this$0:Lorg/apache/tomcat/util/net/AprEndpoint;
     932: invokevirtual #80                 // Method org/apache/tomcat/util/net/AprEndpoint.getLog:()Lorg/apache/juli/logging/Log;
     935: getstatic     #39                 // Field org/apache/tomcat/util/net/AbstractEndpoint.sm:Lorg/apache/tomcat/util/res/StringManager;
     938: ldc           #114                // String endpoint.poll.error
     940: invokevirtual #41                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
     943: aload_3
     944: invokeinterface #115,  3          // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     949: goto          2
     952: aload_0
     953: dup
     954: astore_3
     955: monitorenter
     956: aload_0
     957: invokevirtual #116                // Method java/lang/Object.notifyAll:()V
     960: aload_3
     961: monitorexit
     962: goto          972
     965: astore        9
     967: aload_3
     968: monitorexit
     969: aload         9
     971: athrow
     972: return
    Exception table:
       from    to  target type
          26    41    44   Class java/lang/InterruptedException
          80   112   115   any
         115   119   115   any
          76   122   125   Class java/lang/InterruptedException
         153   301   304   any
         304   308   304   any
         796   807   810   any
         810   815   810   any
         139   818   923   Class java/lang/Throwable
         821   920   923   Class java/lang/Throwable
         956   962   965   any
         965   969   965   any
}
