Compiled from "OpenShiftOAuthInterceptor.java"
public class io.fabric8.openshift.client.internal.OpenShiftOAuthInterceptor implements okhttp3.Interceptor {
  private static final java.lang.String AUTHORIZATION;

  private static final java.lang.String LOCATION;

  private static final java.lang.String AUTHORIZATION_SERVER_PATH;

  private static final java.lang.String AUTHORIZE_QUERY;

  private static final java.lang.String BEFORE_TOKEN;

  private static final java.lang.String AFTER_TOKEN;

  private final okhttp3.OkHttpClient client;

  private final io.fabric8.openshift.client.OpenShiftConfig config;

  private final java.util.concurrent.atomic.AtomicReference<java.lang.String> oauthToken;

  public io.fabric8.openshift.client.internal.OpenShiftOAuthInterceptor(okhttp3.OkHttpClient, io.fabric8.openshift.client.OpenShiftConfig);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/atomic/AtomicReference
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicReference."<init>":()V
      12: putfield      #4                  // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field client:Lokhttp3/OkHttpClient;
      20: aload_0
      21: aload_2
      22: putfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
      25: return

  public okhttp3.Response intercept(okhttp3.Interceptor$Chain) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokeinterface #7,  1            // InterfaceMethod okhttp3/Interceptor$Chain.request:()Lokhttp3/Request;
       6: astore_2
       7: aload_2
       8: invokevirtual #8                  // Method okhttp3/Request.newBuilder:()Lokhttp3/Request$Builder;
      11: astore_3
      12: aload_0
      13: getfield      #4                  // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
      16: invokevirtual #9                  // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
      19: checkcast     #10                 // class java/lang/String
      22: astore        4
      24: aload         4
      26: invokestatic  #11                 // Method io/fabric8/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
      29: ifeq          51
      32: aload_2
      33: ldc           #13                 // String Authorization
      35: invokevirtual #14                 // Method okhttp3/Request.header:(Ljava/lang/String;)Ljava/lang/String;
      38: invokestatic  #15                 // Method io/fabric8/kubernetes/client/utils/Utils.isNullOrEmpty:(Ljava/lang/String;)Z
      41: ifeq          51
      44: aload_0
      45: aload_3
      46: aload         4
      48: invokespecial #16                 // Method setAuthHeader:(Lokhttp3/Request$Builder;Ljava/lang/String;)V
      51: aload_3
      52: invokevirtual #17                 // Method okhttp3/Request$Builder.build:()Lokhttp3/Request;
      55: astore_2
      56: aload_1
      57: aload_2
      58: invokeinterface #18,  2           // InterfaceMethod okhttp3/Interceptor$Chain.proceed:(Lokhttp3/Request;)Lokhttp3/Response;
      63: astore        5
      65: aload         5
      67: invokevirtual #19                 // Method okhttp3/Response.code:()I
      70: sipush        401
      73: if_icmpeq     90
      76: aload         5
      78: invokevirtual #19                 // Method okhttp3/Response.code:()I
      81: sipush        403
      84: if_icmpeq     90
      87: aload         5
      89: areturn
      90: aload_0
      91: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
      94: invokevirtual #20                 // Method io/fabric8/openshift/client/OpenShiftConfig.getUsername:()Ljava/lang/String;
      97: invokestatic  #11                 // Method io/fabric8/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     100: ifeq          169
     103: aload_0
     104: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
     107: invokevirtual #21                 // Method io/fabric8/openshift/client/OpenShiftConfig.getPassword:()Ljava/lang/String;
     110: invokestatic  #11                 // Method io/fabric8/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     113: ifeq          169
     116: aload_0
     117: getfield      #5                  // Field client:Lokhttp3/OkHttpClient;
     120: dup
     121: astore        6
     123: monitorenter
     124: aload_0
     125: getfield      #4                  // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
     128: aconst_null
     129: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
     132: aload_0
     133: invokespecial #23                 // Method authorize:()Ljava/lang/String;
     136: astore        4
     138: aload         4
     140: ifnull        152
     143: aload_0
     144: getfield      #4                  // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
     147: aload         4
     149: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
     152: aload         6
     154: monitorexit
     155: goto          166
     158: astore        7
     160: aload         6
     162: monitorexit
     163: aload         7
     165: athrow
     166: goto          200
     169: aload_0
     170: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
     173: invokevirtual #24                 // Method io/fabric8/openshift/client/OpenShiftConfig.getOauthToken:()Ljava/lang/String;
     176: invokestatic  #11                 // Method io/fabric8/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     179: ifeq          200
     182: aload_0
     183: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
     186: invokevirtual #24                 // Method io/fabric8/openshift/client/OpenShiftConfig.getOauthToken:()Ljava/lang/String;
     189: astore        4
     191: aload_0
     192: getfield      #4                  // Field oauthToken:Ljava/util/concurrent/atomic/AtomicReference;
     195: aload         4
     197: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
     200: aload         4
     202: invokestatic  #11                 // Method io/fabric8/kubernetes/client/utils/Utils.isNotNullOrEmpty:(Ljava/lang/String;)Z
     205: ifeq          236
     208: aload         5
     210: invokevirtual #25                 // Method okhttp3/Response.body:()Lokhttp3/ResponseBody;
     213: invokevirtual #26                 // Method okhttp3/ResponseBody.close:()V
     216: aload_0
     217: aload_3
     218: aload         4
     220: invokespecial #16                 // Method setAuthHeader:(Lokhttp3/Request$Builder;Ljava/lang/String;)V
     223: aload_3
     224: invokevirtual #17                 // Method okhttp3/Request$Builder.build:()Lokhttp3/Request;
     227: astore_2
     228: aload_1
     229: aload_2
     230: invokeinterface #18,  2           // InterfaceMethod okhttp3/Interceptor$Chain.proceed:(Lokhttp3/Request;)Lokhttp3/Response;
     235: areturn
     236: aload         5
     238: areturn
    Exception table:
       from    to  target type
         124   155   158   any
         158   163   158   any

  private void setAuthHeader(okhttp3.Request$Builder, java.lang.String);
    Code:
       0: aload_2
       1: ifnull        24
       4: aload_1
       5: ldc           #13                 // String Authorization
       7: ldc           #27                 // String Bearer %s
       9: iconst_1
      10: anewarray     #28                 // class java/lang/Object
      13: dup
      14: iconst_0
      15: aload_2
      16: aastore
      17: invokestatic  #29                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      20: invokevirtual #30                 // Method okhttp3/Request$Builder.header:(Ljava/lang/String;Ljava/lang/String;)Lokhttp3/Request$Builder;
      23: pop
      24: return

  private java.lang.String authorize();
    Code:
       0: aload_0
       1: getfield      #5                  // Field client:Lokhttp3/OkHttpClient;
       4: invokevirtual #31                 // Method okhttp3/OkHttpClient.newBuilder:()Lokhttp3/OkHttpClient$Builder;
       7: astore_1
       8: aload_1
       9: invokevirtual #32                 // Method okhttp3/OkHttpClient$Builder.interceptors:()Ljava/util/List;
      12: aload_0
      13: invokeinterface #33,  2           // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      18: pop
      19: aload_1
      20: invokevirtual #34                 // Method okhttp3/OkHttpClient$Builder.build:()Lokhttp3/OkHttpClient;
      23: astore_2
      24: new           #35                 // class java/net/URL
      27: dup
      28: iconst_2
      29: anewarray     #10                 // class java/lang/String
      32: dup
      33: iconst_0
      34: aload_0
      35: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
      38: invokevirtual #36                 // Method io/fabric8/openshift/client/OpenShiftConfig.getMasterUrl:()Ljava/lang/String;
      41: aastore
      42: dup
      43: iconst_1
      44: ldc           #37                 // String .well-known/oauth-authorization-server
      46: aastore
      47: invokestatic  #38                 // Method io/fabric8/kubernetes/client/utils/URLUtils.join:([Ljava/lang/String;)Ljava/lang/String;
      50: invokespecial #39                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
      53: astore_3
      54: aload_2
      55: new           #40                 // class okhttp3/Request$Builder
      58: dup
      59: invokespecial #41                 // Method okhttp3/Request$Builder."<init>":()V
      62: invokevirtual #42                 // Method okhttp3/Request$Builder.get:()Lokhttp3/Request$Builder;
      65: aload_3
      66: invokevirtual #43                 // Method okhttp3/Request$Builder.url:(Ljava/net/URL;)Lokhttp3/Request$Builder;
      69: invokevirtual #17                 // Method okhttp3/Request$Builder.build:()Lokhttp3/Request;
      72: invokevirtual #44                 // Method okhttp3/OkHttpClient.newCall:(Lokhttp3/Request;)Lokhttp3/Call;
      75: invokeinterface #45,  1           // InterfaceMethod okhttp3/Call.execute:()Lokhttp3/Response;
      80: astore        4
      82: aload         4
      84: invokevirtual #46                 // Method okhttp3/Response.isSuccessful:()Z
      87: ifeq          98
      90: aload         4
      92: invokevirtual #25                 // Method okhttp3/Response.body:()Lokhttp3/ResponseBody;
      95: ifnonnull     147
      98: new           #47                 // class io/fabric8/kubernetes/client/KubernetesClientException
     101: dup
     102: new           #48                 // class java/lang/StringBuilder
     105: dup
     106: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
     109: ldc           #50                 // String Unexpected response (
     111: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: aload         4
     116: invokevirtual #19                 // Method okhttp3/Response.code:()I
     119: invokevirtual #52                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     122: ldc           #53                 // String
     124: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: aload         4
     129: invokevirtual #54                 // Method okhttp3/Response.message:()Ljava/lang/String;
     132: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: ldc           #55                 // String )
     137: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: invokevirtual #56                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     143: invokespecial #57                 // Method io/fabric8/kubernetes/client/KubernetesClientException."<init>":(Ljava/lang/String;)V
     146: athrow
     147: aload         4
     149: invokevirtual #25                 // Method okhttp3/Response.body:()Lokhttp3/ResponseBody;
     152: invokevirtual #58                 // Method okhttp3/ResponseBody.string:()Ljava/lang/String;
     155: astore        5
     157: invokestatic  #59                 // Method io/fabric8/kubernetes/client/utils/Serialization.jsonMapper:()Lcom/fasterxml/jackson/databind/ObjectMapper;
     160: aload         5
     162: invokevirtual #60                 // Method com/fasterxml/jackson/databind/ObjectMapper.readTree:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/JsonNode;
     165: astore        6
     167: aload         6
     169: ldc           #61                 // String authorization_endpoint
     171: invokevirtual #62                 // Method com/fasterxml/jackson/databind/JsonNode.get:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/JsonNode;
     174: invokevirtual #63                 // Method com/fasterxml/jackson/databind/JsonNode.asText:()Ljava/lang/String;
     177: astore        7
     179: aload         4
     181: invokevirtual #64                 // Method okhttp3/Response.close:()V
     184: new           #35                 // class java/net/URL
     187: dup
     188: new           #48                 // class java/lang/StringBuilder
     191: dup
     192: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
     195: aload         7
     197: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: ldc           #65                 // String ?response_type=token&client_id=openshift-challenging-client
     202: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: invokevirtual #56                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     208: invokespecial #39                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
     211: astore_3
     212: aload_0
     213: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
     216: invokevirtual #20                 // Method io/fabric8/openshift/client/OpenShiftConfig.getUsername:()Ljava/lang/String;
     219: aload_0
     220: getfield      #6                  // Field config:Lio/fabric8/openshift/client/OpenShiftConfig;
     223: invokevirtual #21                 // Method io/fabric8/openshift/client/OpenShiftConfig.getPassword:()Ljava/lang/String;
     226: invokestatic  #66                 // Method okhttp3/Credentials.basic:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     229: astore        8
     231: aload_2
     232: new           #40                 // class okhttp3/Request$Builder
     235: dup
     236: invokespecial #41                 // Method okhttp3/Request$Builder."<init>":()V
     239: invokevirtual #42                 // Method okhttp3/Request$Builder.get:()Lokhttp3/Request$Builder;
     242: aload_3
     243: invokevirtual #43                 // Method okhttp3/Request$Builder.url:(Ljava/net/URL;)Lokhttp3/Request$Builder;
     246: ldc           #13                 // String Authorization
     248: aload         8
     250: invokevirtual #30                 // Method okhttp3/Request$Builder.header:(Ljava/lang/String;Ljava/lang/String;)Lokhttp3/Request$Builder;
     253: invokevirtual #17                 // Method okhttp3/Request$Builder.build:()Lokhttp3/Request;
     256: invokevirtual #44                 // Method okhttp3/OkHttpClient.newCall:(Lokhttp3/Request;)Lokhttp3/Call;
     259: invokeinterface #45,  1           // InterfaceMethod okhttp3/Call.execute:()Lokhttp3/Response;
     264: astore        4
     266: aload         4
     268: invokevirtual #64                 // Method okhttp3/Response.close:()V
     271: aload         4
     273: invokevirtual #67                 // Method okhttp3/Response.priorResponse:()Lokhttp3/Response;
     276: ifnull        287
     279: aload         4
     281: invokevirtual #67                 // Method okhttp3/Response.priorResponse:()Lokhttp3/Response;
     284: goto          289
     287: aload         4
     289: astore        4
     291: aload         4
     293: invokevirtual #68                 // Method okhttp3/Response.networkResponse:()Lokhttp3/Response;
     296: ifnull        307
     299: aload         4
     301: invokevirtual #68                 // Method okhttp3/Response.networkResponse:()Lokhttp3/Response;
     304: goto          309
     307: aload         4
     309: astore        4
     311: aload         4
     313: ldc           #69                 // String Location
     315: invokevirtual #70                 // Method okhttp3/Response.header:(Ljava/lang/String;)Ljava/lang/String;
     318: astore        9
     320: aload         9
     322: ifnull        333
     325: aload         9
     327: invokevirtual #71                 // Method java/lang/String.isEmpty:()Z
     330: ifeq          392
     333: new           #47                 // class io/fabric8/kubernetes/client/KubernetesClientException
     336: dup
     337: new           #48                 // class java/lang/StringBuilder
     340: dup
     341: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
     344: ldc           #50                 // String Unexpected response (
     346: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     349: aload         4
     351: invokevirtual #19                 // Method okhttp3/Response.code:()I
     354: invokevirtual #52                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     357: ldc           #53                 // String
     359: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     362: aload         4
     364: invokevirtual #54                 // Method okhttp3/Response.message:()Ljava/lang/String;
     367: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     370: ldc           #72                 // String ), to the authorization request. Missing header:[
     372: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     375: ldc           #69                 // String Location
     377: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     380: ldc           #73                 // String ]!
     382: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     385: invokevirtual #56                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     388: invokespecial #57                 // Method io/fabric8/kubernetes/client/KubernetesClientException."<init>":(Ljava/lang/String;)V
     391: athrow
     392: aload         9
     394: aload         9
     396: ldc           #74                 // String access_token=
     398: invokevirtual #75                 // Method java/lang/String.indexOf:(Ljava/lang/String;)I
     401: ldc           #74                 // String access_token=
     403: invokevirtual #76                 // Method java/lang/String.length:()I
     406: iadd
     407: invokevirtual #77                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     410: astore        9
     412: aload         9
     414: iconst_0
     415: aload         9
     417: ldc           #78                 // String &expires
     419: invokevirtual #75                 // Method java/lang/String.indexOf:(Ljava/lang/String;)I
     422: invokevirtual #79                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     425: astore        9
     427: aload         9
     429: areturn
     430: astore_1
     431: aload_1
     432: invokestatic  #81                 // Method io/fabric8/kubernetes/client/KubernetesClientException.launderThrowable:(Ljava/lang/Throwable;)Ljava/lang/RuntimeException;
     435: athrow
    Exception table:
       from    to  target type
           0   429   430   Class java/lang/Exception
}
