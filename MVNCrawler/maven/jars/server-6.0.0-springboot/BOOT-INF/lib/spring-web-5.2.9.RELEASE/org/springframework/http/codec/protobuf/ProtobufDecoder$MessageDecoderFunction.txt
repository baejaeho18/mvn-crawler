Compiled from "ProtobufDecoder.java"
class org.springframework.http.codec.protobuf.ProtobufDecoder$MessageDecoderFunction implements java.util.function.Function<org.springframework.core.io.buffer.DataBuffer, java.lang.Iterable<? extends com.google.protobuf.Message>> {
  private final org.springframework.core.ResolvableType elementType;

  private final int maxMessageSize;

  private org.springframework.core.io.buffer.DataBuffer output;

  private int messageBytesToRead;

  private int offset;

  final org.springframework.http.codec.protobuf.ProtobufDecoder this$0;

  public org.springframework.http.codec.protobuf.ProtobufDecoder$MessageDecoderFunction(org.springframework.http.codec.protobuf.ProtobufDecoder, org.springframework.core.ResolvableType, int);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/springframework/http/codec/protobuf/ProtobufDecoder;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field elementType:Lorg/springframework/core/ResolvableType;
      14: aload_0
      15: iload_3
      16: putfield      #4                  // Field maxMessageSize:I
      19: return

  public java.lang.Iterable<? extends com.google.protobuf.Message> apply(org.springframework.core.io.buffer.DataBuffer);
    Code:
       0: new           #5                  // class java/util/ArrayList
       3: dup
       4: invokespecial #6                  // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
      12: ifnonnull     118
      15: aload_0
      16: aload_1
      17: invokespecial #8                  // Method readMessageSize:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
      20: ifne          34
      23: aload_2
      24: astore        5
      26: aload_1
      27: invokestatic  #9                  // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
      30: pop
      31: aload         5
      33: areturn
      34: aload_0
      35: getfield      #4                  // Field maxMessageSize:I
      38: ifle          99
      41: aload_0
      42: getfield      #10                 // Field messageBytesToRead:I
      45: aload_0
      46: getfield      #4                  // Field maxMessageSize:I
      49: if_icmple     99
      52: new           #11                 // class org/springframework/core/io/buffer/DataBufferLimitException
      55: dup
      56: new           #12                 // class java/lang/StringBuilder
      59: dup
      60: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      63: ldc           #14                 // String The number of bytes to read for message (
      65: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: aload_0
      69: getfield      #10                 // Field messageBytesToRead:I
      72: invokevirtual #16                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      75: ldc           #17                 // String ) exceeds the configured limit (
      77: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: aload_0
      81: getfield      #4                  // Field maxMessageSize:I
      84: invokevirtual #16                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      87: ldc           #18                 // String )
      89: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      95: invokespecial #20                 // Method org/springframework/core/io/buffer/DataBufferLimitException."<init>":(Ljava/lang/String;)V
      98: athrow
      99: aload_0
     100: aload_1
     101: invokeinterface #21,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.factory:()Lorg/springframework/core/io/buffer/DataBufferFactory;
     106: aload_0
     107: getfield      #10                 // Field messageBytesToRead:I
     110: invokeinterface #22,  2           // InterfaceMethod org/springframework/core/io/buffer/DataBufferFactory.allocateBuffer:(I)Lorg/springframework/core/io/buffer/DataBuffer;
     115: putfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
     118: aload_0
     119: getfield      #10                 // Field messageBytesToRead:I
     122: aload_1
     123: invokeinterface #23,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.readableByteCount:()I
     128: invokestatic  #24                 // Method java/lang/Math.min:(II)I
     131: istore        4
     133: aload_1
     134: invokeinterface #23,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.readableByteCount:()I
     139: iload         4
     141: isub
     142: istore_3
     143: iload         4
     145: newarray       byte
     147: astore        5
     149: aload_1
     150: aload         5
     152: iconst_0
     153: iload         4
     155: invokeinterface #25,  4           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.read:([BII)Lorg/springframework/core/io/buffer/DataBuffer;
     160: pop
     161: aload_0
     162: getfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
     165: aload         5
     167: invokeinterface #26,  2           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.write:([B)Lorg/springframework/core/io/buffer/DataBuffer;
     172: pop
     173: aload_0
     174: dup
     175: getfield      #10                 // Field messageBytesToRead:I
     178: iload         4
     180: isub
     181: putfield      #10                 // Field messageBytesToRead:I
     184: aload_0
     185: getfield      #10                 // Field messageBytesToRead:I
     188: ifne          258
     191: aload_0
     192: getfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
     195: invokeinterface #27,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.asByteBuffer:()Ljava/nio/ByteBuffer;
     200: invokestatic  #28                 // Method com/google/protobuf/CodedInputStream.newInstance:(Ljava/nio/ByteBuffer;)Lcom/google/protobuf/CodedInputStream;
     203: astore        6
     205: aload_0
     206: getfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
     209: invokestatic  #9                  // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     212: pop
     213: aload_0
     214: aconst_null
     215: putfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
     218: aload_0
     219: getfield      #3                  // Field elementType:Lorg/springframework/core/ResolvableType;
     222: invokevirtual #29                 // Method org/springframework/core/ResolvableType.toClass:()Ljava/lang/Class;
     225: invokestatic  #30                 // Method org/springframework/http/codec/protobuf/ProtobufDecoder.access$100:(Ljava/lang/Class;)Lcom/google/protobuf/Message$Builder;
     228: aload         6
     230: aload_0
     231: getfield      #1                  // Field this$0:Lorg/springframework/http/codec/protobuf/ProtobufDecoder;
     234: invokestatic  #31                 // Method org/springframework/http/codec/protobuf/ProtobufDecoder.access$000:(Lorg/springframework/http/codec/protobuf/ProtobufDecoder;)Lcom/google/protobuf/ExtensionRegistry;
     237: invokeinterface #32,  3           // InterfaceMethod com/google/protobuf/Message$Builder.mergeFrom:(Lcom/google/protobuf/CodedInputStream;Lcom/google/protobuf/ExtensionRegistryLite;)Lcom/google/protobuf/Message$Builder;
     242: invokeinterface #33,  1           // InterfaceMethod com/google/protobuf/Message$Builder.build:()Lcom/google/protobuf/Message;
     247: astore        7
     249: aload_2
     250: aload         7
     252: invokeinterface #34,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     257: pop
     258: iload_3
     259: ifgt          8
     262: aload_2
     263: astore        5
     265: aload_1
     266: invokestatic  #9                  // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     269: pop
     270: aload         5
     272: areturn
     273: astore_2
     274: aload_2
     275: athrow
     276: astore_2
     277: new           #35                 // class org/springframework/core/codec/DecodingException
     280: dup
     281: ldc           #37                 // String I/O error while parsing input stream
     283: aload_2
     284: invokespecial #38                 // Method org/springframework/core/codec/DecodingException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     287: athrow
     288: astore_2
     289: new           #35                 // class org/springframework/core/codec/DecodingException
     292: dup
     293: new           #12                 // class java/lang/StringBuilder
     296: dup
     297: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
     300: ldc           #40                 // String Could not read Protobuf message:
     302: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     305: aload_2
     306: invokevirtual #41                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     309: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     312: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     315: aload_2
     316: invokespecial #38                 // Method org/springframework/core/codec/DecodingException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     319: athrow
     320: astore        8
     322: aload_1
     323: invokestatic  #9                  // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     326: pop
     327: aload         8
     329: athrow
    Exception table:
       from    to  target type
           0    26   273   Class org/springframework/core/codec/DecodingException
          34   265   273   Class org/springframework/core/codec/DecodingException
           0    26   276   Class java/io/IOException
          34   265   276   Class java/io/IOException
           0    26   288   Class java/lang/Exception
          34   265   288   Class java/lang/Exception
           0    26   320   any
          34   265   320   any
         273   322   320   any

  private boolean readMessageSize(org.springframework.core.io.buffer.DataBuffer);
    Code:
       0: aload_0
       1: getfield      #42                 // Field offset:I
       4: ifne          54
       7: aload_1
       8: invokeinterface #23,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.readableByteCount:()I
      13: ifne          18
      16: iconst_0
      17: ireturn
      18: aload_1
      19: invokeinterface #43,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.read:()B
      24: istore_2
      25: iload_2
      26: sipush        128
      29: iand
      30: ifne          40
      33: aload_0
      34: iload_2
      35: putfield      #10                 // Field messageBytesToRead:I
      38: iconst_1
      39: ireturn
      40: aload_0
      41: iload_2
      42: bipush        127
      44: iand
      45: putfield      #10                 // Field messageBytesToRead:I
      48: aload_0
      49: bipush        7
      51: putfield      #42                 // Field offset:I
      54: aload_0
      55: getfield      #42                 // Field offset:I
      58: bipush        32
      60: if_icmpge     137
      63: aload_0
      64: getfield      #42                 // Field offset:I
      67: bipush        32
      69: if_icmpge     137
      72: aload_1
      73: invokeinterface #23,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.readableByteCount:()I
      78: ifne          83
      81: iconst_0
      82: ireturn
      83: aload_1
      84: invokeinterface #43,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.read:()B
      89: istore_2
      90: aload_0
      91: dup
      92: getfield      #10                 // Field messageBytesToRead:I
      95: iload_2
      96: bipush        127
      98: iand
      99: aload_0
     100: getfield      #42                 // Field offset:I
     103: ishl
     104: ior
     105: putfield      #10                 // Field messageBytesToRead:I
     108: iload_2
     109: sipush        128
     112: iand
     113: ifne          123
     116: aload_0
     117: iconst_0
     118: putfield      #42                 // Field offset:I
     121: iconst_1
     122: ireturn
     123: aload_0
     124: dup
     125: getfield      #42                 // Field offset:I
     128: bipush        7
     130: iadd
     131: putfield      #42                 // Field offset:I
     134: goto          63
     137: aload_0
     138: getfield      #42                 // Field offset:I
     141: bipush        64
     143: if_icmpge     193
     146: aload_1
     147: invokeinterface #23,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.readableByteCount:()I
     152: ifne          157
     155: iconst_0
     156: ireturn
     157: aload_1
     158: invokeinterface #43,  1           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.read:()B
     163: istore_2
     164: iload_2
     165: sipush        128
     168: iand
     169: ifne          179
     172: aload_0
     173: iconst_0
     174: putfield      #42                 // Field offset:I
     177: iconst_1
     178: ireturn
     179: aload_0
     180: dup
     181: getfield      #42                 // Field offset:I
     184: bipush        7
     186: iadd
     187: putfield      #42                 // Field offset:I
     190: goto          137
     193: aload_0
     194: iconst_0
     195: putfield      #42                 // Field offset:I
     198: new           #35                 // class org/springframework/core/codec/DecodingException
     201: dup
     202: ldc           #44                 // String Cannot parse message size: malformed varint
     204: invokespecial #45                 // Method org/springframework/core/codec/DecodingException."<init>":(Ljava/lang/String;)V
     207: athrow

  public void discard();
    Code:
       0: aload_0
       1: getfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
       4: ifnull        15
       7: aload_0
       8: getfield      #7                  // Field output:Lorg/springframework/core/io/buffer/DataBuffer;
      11: invokestatic  #9                  // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
      14: pop
      15: return

  public java.lang.Object apply(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #46                 // class org/springframework/core/io/buffer/DataBuffer
       5: invokevirtual #47                 // Method apply:(Lorg/springframework/core/io/buffer/DataBuffer;)Ljava/lang/Iterable;
       8: areturn
}
