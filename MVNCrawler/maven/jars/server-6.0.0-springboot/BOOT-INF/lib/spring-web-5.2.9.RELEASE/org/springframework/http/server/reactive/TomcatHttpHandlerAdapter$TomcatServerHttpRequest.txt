Compiled from "TomcatHttpHandlerAdapter.java"
final class org.springframework.http.server.reactive.TomcatHttpHandlerAdapter$TomcatServerHttpRequest extends org.springframework.http.server.reactive.ServletServerHttpRequest {
  private static final java.lang.reflect.Field COYOTE_REQUEST_FIELD;

  private final int bufferSize;

  private final org.springframework.core.io.buffer.DataBufferFactory factory;

  org.springframework.http.server.reactive.TomcatHttpHandlerAdapter$TomcatServerHttpRequest(javax.servlet.http.HttpServletRequest, javax.servlet.AsyncContext, java.lang.String, org.springframework.core.io.buffer.DataBufferFactory, int) throws java.io.IOException, java.net.URISyntaxException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #1                  // Method createTomcatHttpHeaders:(Ljavax/servlet/http/HttpServletRequest;)Lorg/springframework/http/HttpHeaders;
       5: aload_1
       6: aload_2
       7: aload_3
       8: aload         4
      10: iload         5
      12: invokespecial #2                  // Method org/springframework/http/server/reactive/ServletServerHttpRequest."<init>":(Lorg/springframework/http/HttpHeaders;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/AsyncContext;Ljava/lang/String;Lorg/springframework/core/io/buffer/DataBufferFactory;I)V
      15: aload_0
      16: aload         4
      18: putfield      #3                  // Field factory:Lorg/springframework/core/io/buffer/DataBufferFactory;
      21: aload_0
      22: iload         5
      24: putfield      #4                  // Field bufferSize:I
      27: return

  private static org.springframework.http.HttpHeaders createTomcatHttpHeaders(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_0
       1: invokestatic  #5                  // Method getRequestFacade:(Ljavax/servlet/http/HttpServletRequest;)Lorg/apache/catalina/connector/RequestFacade;
       4: astore_1
       5: getstatic     #6                  // Field COYOTE_REQUEST_FIELD:Ljava/lang/reflect/Field;
       8: aload_1
       9: invokestatic  #7                  // Method org/springframework/util/ReflectionUtils.getField:(Ljava/lang/reflect/Field;Ljava/lang/Object;)Ljava/lang/Object;
      12: checkcast     #8                  // class org/apache/catalina/connector/Request
      15: astore_2
      16: aload_2
      17: ifnull        24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ldc           #9                  // String No Tomcat connector request
      27: invokestatic  #10                 // Method org/springframework/util/Assert.state:(ZLjava/lang/String;)V
      30: aload_2
      31: invokevirtual #11                 // Method org/apache/catalina/connector/Request.getCoyoteRequest:()Lorg/apache/coyote/Request;
      34: astore_3
      35: new           #12                 // class org/springframework/http/server/reactive/TomcatHeadersAdapter
      38: dup
      39: aload_3
      40: invokevirtual #13                 // Method org/apache/coyote/Request.getMimeHeaders:()Lorg/apache/tomcat/util/http/MimeHeaders;
      43: invokespecial #14                 // Method org/springframework/http/server/reactive/TomcatHeadersAdapter."<init>":(Lorg/apache/tomcat/util/http/MimeHeaders;)V
      46: astore        4
      48: new           #15                 // class org/springframework/http/HttpHeaders
      51: dup
      52: aload         4
      54: invokespecial #16                 // Method org/springframework/http/HttpHeaders."<init>":(Lorg/springframework/util/MultiValueMap;)V
      57: areturn

  private static org.apache.catalina.connector.RequestFacade getRequestFacade(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_0
       1: instanceof    #17                 // class org/apache/catalina/connector/RequestFacade
       4: ifeq          12
       7: aload_0
       8: checkcast     #17                 // class org/apache/catalina/connector/RequestFacade
      11: areturn
      12: aload_0
      13: instanceof    #18                 // class javax/servlet/http/HttpServletRequestWrapper
      16: ifeq          37
      19: aload_0
      20: checkcast     #18                 // class javax/servlet/http/HttpServletRequestWrapper
      23: astore_1
      24: aload_1
      25: invokevirtual #19                 // Method javax/servlet/http/HttpServletRequestWrapper.getRequest:()Ljavax/servlet/ServletRequest;
      28: checkcast     #20                 // class javax/servlet/http/HttpServletRequest
      31: astore_2
      32: aload_2
      33: invokestatic  #5                  // Method getRequestFacade:(Ljavax/servlet/http/HttpServletRequest;)Lorg/apache/catalina/connector/RequestFacade;
      36: areturn
      37: new           #21                 // class java/lang/IllegalArgumentException
      40: dup
      41: new           #22                 // class java/lang/StringBuilder
      44: dup
      45: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      48: ldc           #24                 // String Cannot convert [
      50: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: aload_0
      54: invokevirtual #26                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      57: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      60: ldc           #28                 // String ] to org.apache.catalina.connector.RequestFacade
      62: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: invokevirtual #29                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      68: invokespecial #30                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      71: athrow

  protected org.springframework.core.io.buffer.DataBuffer readFromInputStream() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #31                 // Method getNativeRequest:()Ljava/lang/Object;
       4: checkcast     #32                 // class javax/servlet/ServletRequest
       7: invokeinterface #33,  1           // InterfaceMethod javax/servlet/ServletRequest.getInputStream:()Ljavax/servlet/ServletInputStream;
      12: astore_1
      13: aload_1
      14: instanceof    #34                 // class org/apache/catalina/connector/CoyoteInputStream
      17: ifne          25
      20: aload_0
      21: invokespecial #35                 // Method org/springframework/http/server/reactive/ServletServerHttpRequest.readFromInputStream:()Lorg/springframework/core/io/buffer/DataBuffer;
      24: areturn
      25: iconst_1
      26: istore_2
      27: aload_0
      28: getfield      #4                  // Field bufferSize:I
      31: istore_3
      32: aload_0
      33: getfield      #3                  // Field factory:Lorg/springframework/core/io/buffer/DataBufferFactory;
      36: iload_3
      37: invokeinterface #36,  2           // InterfaceMethod org/springframework/core/io/buffer/DataBufferFactory.allocateBuffer:(I)Lorg/springframework/core/io/buffer/DataBuffer;
      42: astore        4
      44: aload         4
      46: iconst_0
      47: iload_3
      48: invokeinterface #37,  3           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.asByteBuffer:(II)Ljava/nio/ByteBuffer;
      53: astore        5
      55: aload_1
      56: checkcast     #34                 // class org/apache/catalina/connector/CoyoteInputStream
      59: aload         5
      61: invokevirtual #38                 // Method org/apache/catalina/connector/CoyoteInputStream.read:(Ljava/nio/ByteBuffer;)I
      64: istore        6
      66: aload_0
      67: iload         6
      69: invokevirtual #39                 // Method logBytesRead:(I)V
      72: iload         6
      74: ifle          106
      77: aload         4
      79: iload         6
      81: invokeinterface #40,  2           // InterfaceMethod org/springframework/core/io/buffer/DataBuffer.writePosition:(I)Lorg/springframework/core/io/buffer/DataBuffer;
      86: pop
      87: iconst_0
      88: istore_2
      89: aload         4
      91: astore        7
      93: iload_2
      94: ifeq          103
      97: aload         4
      99: invokestatic  #41                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     102: pop
     103: aload         7
     105: areturn
     106: iload         6
     108: iconst_m1
     109: if_icmpne     130
     112: getstatic     #42                 // Field EOF_BUFFER:Lorg/springframework/core/io/buffer/DataBuffer;
     115: astore        7
     117: iload_2
     118: ifeq          127
     121: aload         4
     123: invokestatic  #41                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     126: pop
     127: aload         7
     129: areturn
     130: aconst_null
     131: astore        7
     133: iload_2
     134: ifeq          143
     137: aload         4
     139: invokestatic  #41                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     142: pop
     143: aload         7
     145: areturn
     146: astore        8
     148: iload_2
     149: ifeq          158
     152: aload         4
     154: invokestatic  #41                 // Method org/springframework/core/io/buffer/DataBufferUtils.release:(Lorg/springframework/core/io/buffer/DataBuffer;)Z
     157: pop
     158: aload         8
     160: athrow
    Exception table:
       from    to  target type
          44    93   146   any
         106   117   146   any
         130   133   146   any
         146   148   146   any

  static {};
    Code:
       0: ldc           #17                 // class org/apache/catalina/connector/RequestFacade
       2: ldc           #43                 // String request
       4: invokestatic  #44                 // Method org/springframework/util/ReflectionUtils.findField:(Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/reflect/Field;
       7: astore_0
       8: aload_0
       9: ifnull        16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ldc           #45                 // String Incompatible Tomcat implementation
      19: invokestatic  #10                 // Method org/springframework/util/Assert.state:(ZLjava/lang/String;)V
      22: aload_0
      23: invokestatic  #46                 // Method org/springframework/util/ReflectionUtils.makeAccessible:(Ljava/lang/reflect/Field;)V
      26: aload_0
      27: putstatic     #6                  // Field COYOTE_REQUEST_FIELD:Ljava/lang/reflect/Field;
      30: return
}
