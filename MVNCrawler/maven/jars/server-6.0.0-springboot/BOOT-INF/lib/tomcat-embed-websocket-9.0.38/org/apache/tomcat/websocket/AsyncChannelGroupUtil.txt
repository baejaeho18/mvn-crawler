Compiled from "AsyncChannelGroupUtil.java"
public class org.apache.tomcat.websocket.AsyncChannelGroupUtil {
  private static final org.apache.tomcat.util.res.StringManager sm;

  private static java.nio.channels.AsynchronousChannelGroup group;

  private static int usageCount;

  private static final java.lang.Object lock;

  private org.apache.tomcat.websocket.AsyncChannelGroupUtil();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static java.nio.channels.AsynchronousChannelGroup register();
    Code:
       0: getstatic     #2                  // Field lock:Ljava/lang/Object;
       3: dup
       4: astore_0
       5: monitorenter
       6: getstatic     #3                  // Field usageCount:I
       9: ifne          18
      12: invokestatic  #4                  // Method createAsynchronousChannelGroup:()Ljava/nio/channels/AsynchronousChannelGroup;
      15: putstatic     #5                  // Field group:Ljava/nio/channels/AsynchronousChannelGroup;
      18: getstatic     #3                  // Field usageCount:I
      21: iconst_1
      22: iadd
      23: putstatic     #3                  // Field usageCount:I
      26: getstatic     #5                  // Field group:Ljava/nio/channels/AsynchronousChannelGroup;
      29: aload_0
      30: monitorexit
      31: areturn
      32: astore_1
      33: aload_0
      34: monitorexit
      35: aload_1
      36: athrow
    Exception table:
       from    to  target type
           6    31    32   any
          32    35    32   any

  public static void unregister();
    Code:
       0: getstatic     #2                  // Field lock:Ljava/lang/Object;
       3: dup
       4: astore_0
       5: monitorenter
       6: getstatic     #3                  // Field usageCount:I
       9: iconst_1
      10: isub
      11: putstatic     #3                  // Field usageCount:I
      14: getstatic     #3                  // Field usageCount:I
      17: ifne          30
      20: getstatic     #5                  // Field group:Ljava/nio/channels/AsynchronousChannelGroup;
      23: invokevirtual #6                  // Method java/nio/channels/AsynchronousChannelGroup.shutdown:()V
      26: aconst_null
      27: putstatic     #5                  // Field group:Ljava/nio/channels/AsynchronousChannelGroup;
      30: aload_0
      31: monitorexit
      32: goto          40
      35: astore_1
      36: aload_0
      37: monitorexit
      38: aload_1
      39: athrow
      40: return
    Exception table:
       from    to  target type
           6    32    35   any
          35    38    35   any

  private static java.nio.channels.AsynchronousChannelGroup createAsynchronousChannelGroup();
    Code:
       0: invokestatic  #7                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
       3: invokevirtual #8                  // Method java/lang/Thread.getContextClassLoader:()Ljava/lang/ClassLoader;
       6: astore_0
       7: invokestatic  #7                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      10: ldc           #9                  // class org/apache/tomcat/websocket/AsyncChannelGroupUtil$AsyncIOThreadFactory
      12: invokevirtual #10                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      15: invokevirtual #11                 // Method java/lang/Thread.setContextClassLoader:(Ljava/lang/ClassLoader;)V
      18: invokestatic  #12                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
      21: invokevirtual #13                 // Method java/lang/Runtime.availableProcessors:()I
      24: istore_1
      25: new           #14                 // class org/apache/tomcat/util/threads/ThreadPoolExecutor
      28: dup
      29: iconst_0
      30: ldc           #16                 // int 2147483647
      32: ldc2_w        #18                 // long 9223372036854775807l
      35: getstatic     #20                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      38: new           #21                 // class java/util/concurrent/SynchronousQueue
      41: dup
      42: invokespecial #22                 // Method java/util/concurrent/SynchronousQueue."<init>":()V
      45: new           #9                  // class org/apache/tomcat/websocket/AsyncChannelGroupUtil$AsyncIOThreadFactory
      48: dup
      49: aconst_null
      50: invokespecial #23                 // Method org/apache/tomcat/websocket/AsyncChannelGroupUtil$AsyncIOThreadFactory."<init>":(Lorg/apache/tomcat/websocket/AsyncChannelGroupUtil$1;)V
      53: invokespecial #24                 // Method org/apache/tomcat/util/threads/ThreadPoolExecutor."<init>":(IIJLjava/util/concurrent/TimeUnit;Ljava/util/concurrent/BlockingQueue;Ljava/util/concurrent/ThreadFactory;)V
      56: astore_2
      57: aload_2
      58: iload_1
      59: invokestatic  #25                 // Method java/nio/channels/AsynchronousChannelGroup.withCachedThreadPool:(Ljava/util/concurrent/ExecutorService;I)Ljava/nio/channels/AsynchronousChannelGroup;
      62: astore_3
      63: invokestatic  #7                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      66: aload_0
      67: invokevirtual #11                 // Method java/lang/Thread.setContextClassLoader:(Ljava/lang/ClassLoader;)V
      70: aload_3
      71: areturn
      72: astore_3
      73: new           #27                 // class java/lang/IllegalStateException
      76: dup
      77: getstatic     #28                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      80: ldc           #29                 // String asyncChannelGroup.createFail
      82: invokevirtual #30                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      85: invokespecial #31                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      88: athrow
      89: astore        4
      91: invokestatic  #7                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      94: aload_0
      95: invokevirtual #11                 // Method java/lang/Thread.setContextClassLoader:(Ljava/lang/ClassLoader;)V
      98: aload         4
     100: athrow
    Exception table:
       from    to  target type
          57    63    72   Class java/io/IOException
           7    63    89   any
          72    91    89   any

  static {};
    Code:
       0: ldc           #32                 // class org/apache/tomcat/websocket/AsyncChannelGroupUtil
       2: invokestatic  #33                 // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/Class;)Lorg/apache/tomcat/util/res/StringManager;
       5: putstatic     #28                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
       8: aconst_null
       9: putstatic     #5                  // Field group:Ljava/nio/channels/AsynchronousChannelGroup;
      12: iconst_0
      13: putstatic     #3                  // Field usageCount:I
      16: new           #34                 // class java/lang/Object
      19: dup
      20: invokespecial #1                  // Method java/lang/Object."<init>":()V
      23: putstatic     #2                  // Field lock:Ljava/lang/Object;
      26: return
}
