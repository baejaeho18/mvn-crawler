Compiled from "DefaultObjectReferenceManager.java"
public final class jnr.ffi.provider.DefaultObjectReferenceManager extends jnr.ffi.ObjectReferenceManager {
  private final jnr.ffi.Runtime runtime;

  private final java.util.concurrent.ConcurrentMap<java.lang.Long, jnr.ffi.provider.DefaultObjectReferenceManager$ObjectReference> references;

  public jnr.ffi.provider.DefaultObjectReferenceManager(jnr.ffi.Runtime);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method jnr/ffi/ObjectReferenceManager."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field references:Ljava/util/concurrent/ConcurrentMap;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field runtime:Ljnr/ffi/Runtime;
      20: return

  public jnr.ffi.Pointer add(java.lang.Object);
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #6                  // class java/lang/IllegalArgumentException
       7: dup
       8: ldc           #7                  // String reference to null value not allowed
      10: invokespecial #8                  // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: aload_1
      16: invokespecial #9                  // Method id:(Ljava/lang/Object;)J
      19: lstore_2
      20: aload_0
      21: getfield      #4                  // Field references:Ljava/util/concurrent/ConcurrentMap;
      24: lload_2
      25: invokestatic  #10                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      28: new           #11                 // class jnr/ffi/provider/DefaultObjectReferenceManager$ObjectReference
      31: dup
      32: aload_0
      33: getfield      #5                  // Field runtime:Ljnr/ffi/Runtime;
      36: lload_2
      37: aload_1
      38: invokespecial #12                 // Method jnr/ffi/provider/DefaultObjectReferenceManager$ObjectReference."<init>":(Ljnr/ffi/Runtime;JLjava/lang/Object;)V
      41: dup
      42: astore        4
      44: invokeinterface #13,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      49: ifnull        59
      52: lload_2
      53: lconst_1
      54: ladd
      55: lstore_2
      56: goto          20
      59: aload         4
      61: areturn

  public boolean remove(jnr.ffi.Pointer);
    Code:
       0: aload_0
       1: getfield      #4                  // Field references:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokevirtual #14                 // Method jnr/ffi/Pointer.address:()J
       8: invokestatic  #10                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      11: invokeinterface #15,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #11                 // class jnr/ffi/provider/DefaultObjectReferenceManager$ObjectReference
      19: astore_2
      20: aload_2
      21: ifnull        28
      24: iconst_1
      25: goto          29
      28: iconst_0
      29: ireturn

  public java.lang.Object get(jnr.ffi.Pointer);
    Code:
       0: aload_0
       1: getfield      #4                  // Field references:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokevirtual #14                 // Method jnr/ffi/Pointer.address:()J
       8: invokestatic  #10                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      11: invokeinterface #16,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #11                 // class jnr/ffi/provider/DefaultObjectReferenceManager$ObjectReference
      19: astore_2
      20: aload_2
      21: ifnull        31
      24: aload_2
      25: invokestatic  #17                 // Method jnr/ffi/provider/DefaultObjectReferenceManager$ObjectReference.access$000:(Ljnr/ffi/provider/DefaultObjectReferenceManager$ObjectReference;)Ljava/lang/Object;
      28: goto          32
      31: aconst_null
      32: areturn

  private long id(java.lang.Object);
    Code:
       0: ldc2_w        #18                 // long -3819410108757049344l
       3: aload_1
       4: invokestatic  #20                 // Method java/lang/System.identityHashCode:(Ljava/lang/Object;)I
       7: i2l
       8: ldc2_w        #21                 // long 4294967295l
      11: land
      12: lor
      13: aload_0
      14: getfield      #5                  // Field runtime:Ljnr/ffi/Runtime;
      17: invokevirtual #23                 // Method jnr/ffi/Runtime.addressMask:()J
      20: land
      21: lreturn
}
