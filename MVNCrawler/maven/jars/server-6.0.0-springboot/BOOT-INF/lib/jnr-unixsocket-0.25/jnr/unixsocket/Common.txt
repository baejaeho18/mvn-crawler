Compiled from "Common.java"
final class jnr.unixsocket.Common {
  private static jnr.ffi.Platform$OS currentOS;

  private static final java.util.Map<java.net.SocketOption<?>, jnr.constants.platform.SocketOption> wMap;

  private static final java.util.Map<java.net.SocketOption<?>, jnr.constants.platform.SocketOption> rMap;

  private jnr.unixsocket.Common();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  static jnr.unixsocket.UnixSocketAddress bind(int, jnr.unixsocket.UnixSocketAddress) throws java.io.IOException;
    Code:
       0: aconst_null
       1: aload_1
       2: if_acmpne     71
       5: invokestatic  #2                  // Method jnr/unixsocket/SockAddrUnix.create:()Ljnr/unixsocket/SockAddrUnix;
       8: astore_2
       9: aload_2
      10: getstatic     #3                  // Field jnr/constants/platform/ProtocolFamily.PF_UNIX:Ljnr/constants/platform/ProtocolFamily;
      13: invokevirtual #4                  // Method jnr/unixsocket/SockAddrUnix.setFamily:(Ljnr/constants/platform/ProtocolFamily;)V
      16: getstatic     #5                  // Field currentOS:Ljnr/ffi/Platform$OS;
      19: getstatic     #6                  // Field jnr/ffi/Platform$OS.LINUX:Ljnr/ffi/Platform$OS;
      22: if_acmpne     34
      25: aload_2
      26: ldc           #7                  // String
      28: invokevirtual #8                  // Method jnr/unixsocket/SockAddrUnix.setPath:(Ljava/lang/String;)V
      31: goto          76
      34: ldc           #9                  // String jnr-unixsocket-tmp
      36: ldc           #10                 // String .sock
      38: iconst_0
      39: anewarray     #11                 // class java/nio/file/attribute/FileAttribute
      42: invokestatic  #12                 // Method java/nio/file/Files.createTempFile:(Ljava/lang/String;Ljava/lang/String;[Ljava/nio/file/attribute/FileAttribute;)Ljava/nio/file/Path;
      45: invokeinterface #13,  1           // InterfaceMethod java/nio/file/Path.toFile:()Ljava/io/File;
      50: astore_3
      51: aload_3
      52: invokevirtual #14                 // Method java/io/File.deleteOnExit:()V
      55: aload_3
      56: invokevirtual #15                 // Method java/io/File.delete:()Z
      59: pop
      60: aload_2
      61: aload_3
      62: invokevirtual #16                 // Method java/io/File.getPath:()Ljava/lang/String;
      65: invokevirtual #8                  // Method jnr/unixsocket/SockAddrUnix.setPath:(Ljava/lang/String;)V
      68: goto          76
      71: aload_1
      72: invokevirtual #17                 // Method jnr/unixsocket/UnixSocketAddress.getStruct:()Ljnr/unixsocket/SockAddrUnix;
      75: astore_2
      76: iload_0
      77: aload_2
      78: aload_2
      79: invokevirtual #18                 // Method jnr/unixsocket/SockAddrUnix.length:()I
      82: invokestatic  #19                 // Method jnr/unixsocket/Native.bind:(ILjnr/unixsocket/SockAddrUnix;I)I
      85: ifge          99
      88: new           #20                 // class java/io/IOException
      91: dup
      92: invokestatic  #21                 // Method jnr/unixsocket/Native.getLastErrorString:()Ljava/lang/String;
      95: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      98: athrow
      99: iload_0
     100: invokestatic  #23                 // Method getsockname:(I)Ljnr/unixsocket/UnixSocketAddress;
     103: areturn

  static jnr.unixsocket.UnixSocketAddress getsockname(int);
    Code:
       0: new           #24                 // class jnr/unixsocket/UnixSocketAddress
       3: dup
       4: invokespecial #25                 // Method jnr/unixsocket/UnixSocketAddress."<init>":()V
       7: astore_1
       8: aload_1
       9: invokevirtual #17                 // Method jnr/unixsocket/UnixSocketAddress.getStruct:()Ljnr/unixsocket/SockAddrUnix;
      12: astore_2
      13: new           #26                 // class jnr/ffi/byref/IntByReference
      16: dup
      17: aload_2
      18: invokevirtual #27                 // Method jnr/unixsocket/SockAddrUnix.getMaximumLength:()I
      21: invokespecial #28                 // Method jnr/ffi/byref/IntByReference."<init>":(I)V
      24: astore_3
      25: invokestatic  #29                 // Method jnr/unixsocket/Native.libc:()Ljnr/unixsocket/Native$LibC;
      28: iload_0
      29: aload_2
      30: aload_3
      31: invokeinterface #30,  4           // InterfaceMethod jnr/unixsocket/Native$LibC.getsockname:(ILjnr/unixsocket/SockAddrUnix;Ljnr/ffi/byref/IntByReference;)I
      36: ifge          50
      39: new           #31                 // class java/lang/Error
      42: dup
      43: invokestatic  #21                 // Method jnr/unixsocket/Native.getLastErrorString:()Ljava/lang/String;
      46: invokespecial #32                 // Method java/lang/Error."<init>":(Ljava/lang/String;)V
      49: athrow
      50: aload_2
      51: aload_3
      52: invokevirtual #33                 // Method jnr/ffi/byref/IntByReference.getValue:()Ljava/lang/Number;
      55: checkcast     #34                 // class java/lang/Integer
      58: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
      61: invokevirtual #36                 // Method jnr/unixsocket/SockAddrUnix.updatePath:(I)V
      64: aload_1
      65: areturn

  static jnr.unixsocket.UnixSocketAddress getpeername(int);
    Code:
       0: new           #24                 // class jnr/unixsocket/UnixSocketAddress
       3: dup
       4: invokespecial #25                 // Method jnr/unixsocket/UnixSocketAddress."<init>":()V
       7: astore_1
       8: aload_1
       9: invokevirtual #17                 // Method jnr/unixsocket/UnixSocketAddress.getStruct:()Ljnr/unixsocket/SockAddrUnix;
      12: astore_2
      13: new           #26                 // class jnr/ffi/byref/IntByReference
      16: dup
      17: aload_2
      18: invokevirtual #27                 // Method jnr/unixsocket/SockAddrUnix.getMaximumLength:()I
      21: invokespecial #28                 // Method jnr/ffi/byref/IntByReference."<init>":(I)V
      24: astore_3
      25: invokestatic  #29                 // Method jnr/unixsocket/Native.libc:()Ljnr/unixsocket/Native$LibC;
      28: iload_0
      29: aload_2
      30: aload_3
      31: invokeinterface #37,  4           // InterfaceMethod jnr/unixsocket/Native$LibC.getpeername:(ILjnr/unixsocket/SockAddrUnix;Ljnr/ffi/byref/IntByReference;)I
      36: ifge          50
      39: new           #31                 // class java/lang/Error
      42: dup
      43: invokestatic  #21                 // Method jnr/unixsocket/Native.getLastErrorString:()Ljava/lang/String;
      46: invokespecial #32                 // Method java/lang/Error."<init>":(Ljava/lang/String;)V
      49: athrow
      50: aload_2
      51: aload_3
      52: invokevirtual #33                 // Method jnr/ffi/byref/IntByReference.getValue:()Ljava/lang/Number;
      55: checkcast     #34                 // class java/lang/Integer
      58: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
      61: invokevirtual #36                 // Method jnr/unixsocket/SockAddrUnix.updatePath:(I)V
      64: aload_1
      65: areturn

  static <T> T getSocketOption(int, java.net.SocketOption<?>) throws java.io.IOException;
    Code:
       0: getstatic     #38                 // Field rMap:Ljava/util/Map;
       3: aload_1
       4: invokeinterface #39,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
       9: checkcast     #40                 // class jnr/constants/platform/SocketOption
      12: astore_2
      13: aconst_null
      14: aload_2
      15: if_acmpne     28
      18: new           #41                 // class java/lang/AssertionError
      21: dup
      22: ldc           #42                 // String Option not found
      24: invokespecial #43                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      27: athrow
      28: aload_1
      29: invokeinterface #44,  1           // InterfaceMethod java/net/SocketOption.type:()Ljava/lang/Class;
      34: astore_3
      35: aload_3
      36: ldc           #45                 // class jnr/unixsocket/Credentials
      38: if_acmpne     46
      41: iload_0
      42: invokestatic  #46                 // Method jnr/unixsocket/Credentials.getCredentials:(I)Ljnr/unixsocket/Credentials;
      45: areturn
      46: aload_3
      47: ldc           #34                 // class java/lang/Integer
      49: if_acmpne     67
      52: iload_0
      53: getstatic     #47                 // Field jnr/constants/platform/SocketLevel.SOL_SOCKET:Ljnr/constants/platform/SocketLevel;
      56: aload_2
      57: invokevirtual #48                 // Method jnr/constants/platform/SocketOption.intValue:()I
      60: invokestatic  #49                 // Method jnr/unixsocket/Native.getsockopt:(ILjnr/constants/platform/SocketLevel;I)I
      63: invokestatic  #50                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      66: areturn
      67: iload_0
      68: getstatic     #47                 // Field jnr/constants/platform/SocketLevel.SOL_SOCKET:Ljnr/constants/platform/SocketLevel;
      71: aload_2
      72: invokevirtual #48                 // Method jnr/constants/platform/SocketOption.intValue:()I
      75: invokestatic  #51                 // Method jnr/unixsocket/Native.getboolsockopt:(ILjnr/constants/platform/SocketLevel;I)Z
      78: invokestatic  #52                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      81: areturn

  static void setSocketOption(int, java.net.SocketOption<?>, java.lang.Object) throws java.io.IOException;
    Code:
       0: aconst_null
       1: aload_2
       2: if_acmpne     15
       5: new           #53                 // class java/lang/IllegalArgumentException
       8: dup
       9: ldc           #54                 // String Invalid option value
      11: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      14: athrow
      15: getstatic     #56                 // Field wMap:Ljava/util/Map;
      18: aload_1
      19: invokeinterface #39,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      24: checkcast     #40                 // class jnr/constants/platform/SocketOption
      27: astore_3
      28: aconst_null
      29: aload_3
      30: if_acmpne     43
      33: new           #41                 // class java/lang/AssertionError
      36: dup
      37: ldc           #57                 // String Option not found or not writable
      39: invokespecial #43                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      42: athrow
      43: aload_1
      44: invokeinterface #44,  1           // InterfaceMethod java/net/SocketOption.type:()Ljava/lang/Class;
      49: astore        4
      51: aload         4
      53: ldc           #34                 // class java/lang/Integer
      55: if_acmpeq     75
      58: aload         4
      60: ldc           #58                 // class java/lang/Boolean
      62: if_acmpeq     75
      65: new           #41                 // class java/lang/AssertionError
      68: dup
      69: ldc           #59                 // String Unsupported option type
      71: invokespecial #43                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      74: athrow
      75: aload         4
      77: ldc           #34                 // class java/lang/Integer
      79: if_acmpne     94
      82: aload_2
      83: checkcast     #34                 // class java/lang/Integer
      86: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
      89: istore        5
      91: goto          111
      94: aload_2
      95: checkcast     #58                 // class java/lang/Boolean
      98: invokevirtual #60                 // Method java/lang/Boolean.booleanValue:()Z
     101: ifeq          108
     104: iconst_1
     105: goto          109
     108: iconst_0
     109: istore        5
     111: aload_1
     112: getstatic     #61                 // Field jnr/unixsocket/UnixSocketOptions.SO_RCVBUF:Ljava/net/SocketOption;
     115: if_acmpeq     125
     118: aload_1
     119: getstatic     #62                 // Field jnr/unixsocket/UnixSocketOptions.SO_SNDBUF:Ljava/net/SocketOption;
     122: if_acmpne     149
     125: aload_2
     126: checkcast     #34                 // class java/lang/Integer
     129: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
     132: istore        6
     134: iload         6
     136: ifge          149
     139: new           #53                 // class java/lang/IllegalArgumentException
     142: dup
     143: ldc           #63                 // String Invalid send/receive buffer size
     145: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     148: athrow
     149: aload_1
     150: getstatic     #64                 // Field jnr/unixsocket/UnixSocketOptions.SO_RCVTIMEO:Ljava/net/SocketOption;
     153: if_acmpeq     163
     156: aload_1
     157: getstatic     #65                 // Field jnr/unixsocket/UnixSocketOptions.SO_SNDTIMEO:Ljava/net/SocketOption;
     160: if_acmpne     187
     163: aload_2
     164: checkcast     #34                 // class java/lang/Integer
     167: invokevirtual #35                 // Method java/lang/Integer.intValue:()I
     170: istore        6
     172: iload         6
     174: ifge          187
     177: new           #53                 // class java/lang/IllegalArgumentException
     180: dup
     181: ldc           #66                 // String Invalid send/receive timeout
     183: invokespecial #55                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     186: athrow
     187: iconst_0
     188: iload_0
     189: getstatic     #47                 // Field jnr/constants/platform/SocketLevel.SOL_SOCKET:Ljnr/constants/platform/SocketLevel;
     192: aload_3
     193: iload         5
     195: invokestatic  #67                 // Method jnr/unixsocket/Native.setsockopt:(ILjnr/constants/platform/SocketLevel;Ljnr/constants/platform/SocketOption;I)I
     198: if_icmpeq     212
     201: new           #20                 // class java/io/IOException
     204: dup
     205: invokestatic  #21                 // Method jnr/unixsocket/Native.getLastErrorString:()Ljava/lang/String;
     208: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     211: athrow
     212: return

  static {};
    Code:
       0: invokestatic  #68                 // Method jnr/ffi/Platform.getNativePlatform:()Ljnr/ffi/Platform;
       3: invokevirtual #69                 // Method jnr/ffi/Platform.getOS:()Ljnr/ffi/Platform$OS;
       6: putstatic     #5                  // Field currentOS:Ljnr/ffi/Platform$OS;
       9: new           #70                 // class java/util/HashMap
      12: dup
      13: invokespecial #71                 // Method java/util/HashMap."<init>":()V
      16: putstatic     #56                 // Field wMap:Ljava/util/Map;
      19: new           #70                 // class java/util/HashMap
      22: dup
      23: invokespecial #71                 // Method java/util/HashMap."<init>":()V
      26: putstatic     #38                 // Field rMap:Ljava/util/Map;
      29: getstatic     #56                 // Field wMap:Ljava/util/Map;
      32: getstatic     #61                 // Field jnr/unixsocket/UnixSocketOptions.SO_RCVBUF:Ljava/net/SocketOption;
      35: getstatic     #72                 // Field jnr/constants/platform/SocketOption.SO_RCVBUF:Ljnr/constants/platform/SocketOption;
      38: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      43: pop
      44: getstatic     #56                 // Field wMap:Ljava/util/Map;
      47: getstatic     #62                 // Field jnr/unixsocket/UnixSocketOptions.SO_SNDBUF:Ljava/net/SocketOption;
      50: getstatic     #74                 // Field jnr/constants/platform/SocketOption.SO_SNDBUF:Ljnr/constants/platform/SocketOption;
      53: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      58: pop
      59: getstatic     #56                 // Field wMap:Ljava/util/Map;
      62: getstatic     #64                 // Field jnr/unixsocket/UnixSocketOptions.SO_RCVTIMEO:Ljava/net/SocketOption;
      65: getstatic     #75                 // Field jnr/constants/platform/SocketOption.SO_RCVTIMEO:Ljnr/constants/platform/SocketOption;
      68: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      73: pop
      74: getstatic     #56                 // Field wMap:Ljava/util/Map;
      77: getstatic     #65                 // Field jnr/unixsocket/UnixSocketOptions.SO_SNDTIMEO:Ljava/net/SocketOption;
      80: getstatic     #76                 // Field jnr/constants/platform/SocketOption.SO_SNDTIMEO:Ljnr/constants/platform/SocketOption;
      83: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      88: pop
      89: getstatic     #56                 // Field wMap:Ljava/util/Map;
      92: getstatic     #77                 // Field jnr/unixsocket/UnixSocketOptions.SO_KEEPALIVE:Ljava/net/SocketOption;
      95: getstatic     #78                 // Field jnr/constants/platform/SocketOption.SO_KEEPALIVE:Ljnr/constants/platform/SocketOption;
      98: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     103: pop
     104: getstatic     #56                 // Field wMap:Ljava/util/Map;
     107: getstatic     #79                 // Field jnr/unixsocket/UnixSocketOptions.SO_PASSCRED:Ljava/net/SocketOption;
     110: getstatic     #80                 // Field jnr/constants/platform/SocketOption.SO_PASSCRED:Ljnr/constants/platform/SocketOption;
     113: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     118: pop
     119: getstatic     #38                 // Field rMap:Ljava/util/Map;
     122: getstatic     #56                 // Field wMap:Ljava/util/Map;
     125: invokeinterface #81,  2           // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
     130: getstatic     #38                 // Field rMap:Ljava/util/Map;
     133: getstatic     #82                 // Field jnr/unixsocket/UnixSocketOptions.SO_PEERCRED:Ljava/net/SocketOption;
     136: getstatic     #83                 // Field jnr/constants/platform/SocketOption.SO_PEERCRED:Ljnr/constants/platform/SocketOption;
     139: invokeinterface #73,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     144: pop
     145: return
}
