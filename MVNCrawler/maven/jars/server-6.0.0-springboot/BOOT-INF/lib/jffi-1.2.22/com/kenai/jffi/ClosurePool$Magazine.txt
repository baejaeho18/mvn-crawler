Compiled from "ClosurePool.java"
final class com.kenai.jffi.ClosurePool$Magazine {
  private static final com.kenai.jffi.MemoryIO IO;

  private final com.kenai.jffi.Foreign foreign;

  private final com.kenai.jffi.CallContext ctx;

  private final long magazine;

  private final com.kenai.jffi.ClosurePool$Magazine$Slot[] slots;

  private int next;

  private int freeCount;

  com.kenai.jffi.ClosurePool$Magazine(com.kenai.jffi.CallContext);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #3                  // Method com/kenai/jffi/Foreign.getInstance:()Lcom/kenai/jffi/Foreign;
       8: putfield      #4                  // Field foreign:Lcom/kenai/jffi/Foreign;
      11: aload_0
      12: aload_1
      13: putfield      #5                  // Field ctx:Lcom/kenai/jffi/CallContext;
      16: aload_0
      17: aload_0
      18: getfield      #4                  // Field foreign:Lcom/kenai/jffi/Foreign;
      21: aload_1
      22: invokevirtual #6                  // Method com/kenai/jffi/CallContext.getAddress:()J
      25: getstatic     #7                  // Field com/kenai/jffi/ClosurePool$Proxy.METHOD:Ljava/lang/reflect/Method;
      28: iconst_0
      29: invokevirtual #8                  // Method com/kenai/jffi/Foreign.newClosureMagazine:(JLjava/lang/reflect/Method;Z)J
      32: putfield      #9                  // Field magazine:J
      35: new           #10                 // class java/util/ArrayList
      38: dup
      39: invokespecial #11                 // Method java/util/ArrayList."<init>":()V
      42: astore_2
      43: new           #12                 // class com/kenai/jffi/ClosurePool$Proxy
      46: dup
      47: aload_1
      48: invokespecial #13                 // Method com/kenai/jffi/ClosurePool$Proxy."<init>":(Lcom/kenai/jffi/CallContext;)V
      51: astore        5
      53: aload_0
      54: getfield      #4                  // Field foreign:Lcom/kenai/jffi/Foreign;
      57: aload_0
      58: getfield      #9                  // Field magazine:J
      61: aload         5
      63: invokevirtual #14                 // Method com/kenai/jffi/Foreign.closureMagazineGet:(JLjava/lang/Object;)J
      66: dup2
      67: lstore_3
      68: lconst_0
      69: lcmp
      70: ifne          76
      73: goto          98
      76: new           #15                 // class com/kenai/jffi/ClosurePool$Magazine$Slot
      79: dup
      80: lload_3
      81: aload         5
      83: invokespecial #16                 // Method com/kenai/jffi/ClosurePool$Magazine$Slot."<init>":(JLcom/kenai/jffi/ClosurePool$Proxy;)V
      86: astore        6
      88: aload_2
      89: aload         6
      91: invokevirtual #17                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      94: pop
      95: goto          43
      98: aload_0
      99: aload_2
     100: invokevirtual #18                 // Method java/util/ArrayList.size:()I
     103: anewarray     #15                 // class com/kenai/jffi/ClosurePool$Magazine$Slot
     106: putfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
     109: aload_2
     110: aload_0
     111: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
     114: invokevirtual #20                 // Method java/util/ArrayList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     117: pop
     118: aload_0
     119: iconst_0
     120: putfield      #21                 // Field next:I
     123: aload_0
     124: aload_0
     125: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
     128: arraylength
     129: putfield      #22                 // Field freeCount:I
     132: return

  com.kenai.jffi.ClosurePool$Magazine$Slot get();
    Code:
       0: aload_0
       1: getfield      #22                 // Field freeCount:I
       4: ifle          58
       7: aload_0
       8: getfield      #21                 // Field next:I
      11: aload_0
      12: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
      15: arraylength
      16: if_icmpge     58
      19: aload_0
      20: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
      23: aload_0
      24: dup
      25: getfield      #21                 // Field next:I
      28: dup_x1
      29: iconst_1
      30: iadd
      31: putfield      #21                 // Field next:I
      34: aaload
      35: astore_1
      36: aload_1
      37: getfield      #23                 // Field com/kenai/jffi/ClosurePool$Magazine$Slot.autorelease:Z
      40: ifeq          55
      43: aload_0
      44: dup
      45: getfield      #22                 // Field freeCount:I
      48: iconst_1
      49: isub
      50: putfield      #22                 // Field freeCount:I
      53: aload_1
      54: areturn
      55: goto          0
      58: aconst_null
      59: areturn

  boolean isFull();
    Code:
       0: aload_0
       1: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
       4: arraylength
       5: aload_0
       6: getfield      #22                 // Field freeCount:I
       9: if_icmpne     16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ireturn

  boolean isEmpty();
    Code:
       0: aload_0
       1: getfield      #22                 // Field freeCount:I
       4: iconst_1
       5: if_icmpge     12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: ireturn

  void recycle();
    Code:
       0: iconst_0
       1: istore_1
       2: iload_1
       3: aload_0
       4: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
       7: arraylength
       8: if_icmpge     51
      11: aload_0
      12: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
      15: iload_1
      16: aaload
      17: astore_2
      18: aload_2
      19: getfield      #23                 // Field com/kenai/jffi/ClosurePool$Magazine$Slot.autorelease:Z
      22: ifeq          45
      25: aload_0
      26: dup
      27: getfield      #22                 // Field freeCount:I
      30: iconst_1
      31: iadd
      32: putfield      #22                 // Field freeCount:I
      35: aload_2
      36: getfield      #24                 // Field com/kenai/jffi/ClosurePool$Magazine$Slot.proxy:Lcom/kenai/jffi/ClosurePool$Proxy;
      39: invokestatic  #25                 // Method com/kenai/jffi/ClosurePool.access$000:()Lcom/kenai/jffi/Closure;
      42: putfield      #26                 // Field com/kenai/jffi/ClosurePool$Proxy.closure:Lcom/kenai/jffi/Closure;
      45: iinc          1, 1
      48: goto          2
      51: aload_0
      52: iconst_0
      53: putfield      #21                 // Field next:I
      56: return

  protected void finalize() throws java.lang.Throwable;
    Code:
       0: iconst_1
       1: istore_1
       2: iconst_0
       3: istore_2
       4: iload_2
       5: aload_0
       6: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
       9: arraylength
      10: if_icmpge     36
      13: aload_0
      14: getfield      #19                 // Field slots:[Lcom/kenai/jffi/ClosurePool$Magazine$Slot;
      17: iload_2
      18: aaload
      19: getfield      #23                 // Field com/kenai/jffi/ClosurePool$Magazine$Slot.autorelease:Z
      22: ifne          30
      25: iconst_0
      26: istore_1
      27: goto          36
      30: iinc          2, 1
      33: goto          4
      36: aload_0
      37: getfield      #9                  // Field magazine:J
      40: lconst_0
      41: lcmp
      42: ifeq          60
      45: iload_1
      46: ifeq          60
      49: aload_0
      50: getfield      #4                  // Field foreign:Lcom/kenai/jffi/Foreign;
      53: aload_0
      54: getfield      #9                  // Field magazine:J
      57: invokevirtual #27                 // Method com/kenai/jffi/Foreign.freeClosureMagazine:(J)V
      60: aload_0
      61: invokespecial #28                 // Method java/lang/Object.finalize:()V
      64: goto          74
      67: astore_3
      68: aload_0
      69: invokespecial #28                 // Method java/lang/Object.finalize:()V
      72: aload_3
      73: athrow
      74: return
    Exception table:
       from    to  target type
           0    60    67   any

  static com.kenai.jffi.MemoryIO access$100();
    Code:
       0: getstatic     #1                  // Field IO:Lcom/kenai/jffi/MemoryIO;
       3: areturn

  static {};
    Code:
       0: invokestatic  #29                 // Method com/kenai/jffi/MemoryIO.getInstance:()Lcom/kenai/jffi/MemoryIO;
       3: putstatic     #1                  // Field IO:Lcom/kenai/jffi/MemoryIO;
       6: return
}
