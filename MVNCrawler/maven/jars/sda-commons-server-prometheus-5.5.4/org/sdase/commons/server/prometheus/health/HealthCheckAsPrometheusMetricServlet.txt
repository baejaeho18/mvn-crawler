Compiled from "HealthCheckAsPrometheusMetricServlet.java"
public class org.sdase.commons.server.prometheus.health.HealthCheckAsPrometheusMetricServlet extends javax.servlet.http.HttpServlet {
  private static final long serialVersionUID;

  private com.codahale.metrics.health.HealthCheckRegistry registry;

  private org.sdase.commons.server.prometheus.health.HealthCheckMetricsCollector healthCheckMetricsCollector;

  public org.sdase.commons.server.prometheus.health.HealthCheckAsPrometheusMetricServlet();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/servlet/http/HttpServlet."<init>":()V
       4: return

  public void init(javax.servlet.ServletConfig) throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method javax/servlet/http/HttpServlet.init:(Ljavax/servlet/ServletConfig;)V
       5: aload_0
       6: getfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
       9: ifnonnull     57
      12: aload_1
      13: invokeinterface #4,  1            // InterfaceMethod javax/servlet/ServletConfig.getServletContext:()Ljavax/servlet/ServletContext;
      18: astore_2
      19: aload_2
      20: getstatic     #5                  // Field com/codahale/metrics/servlets/HealthCheckServlet.HEALTH_CHECK_REGISTRY:Ljava/lang/String;
      23: invokeinterface #6,  2            // InterfaceMethod javax/servlet/ServletContext.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      28: astore_3
      29: aload_3
      30: instanceof    #7                  // class com/codahale/metrics/health/HealthCheckRegistry
      33: ifeq          47
      36: aload_0
      37: aload_3
      38: checkcast     #7                  // class com/codahale/metrics/health/HealthCheckRegistry
      41: putfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
      44: goto          57
      47: new           #8                  // class javax/servlet/ServletException
      50: dup
      51: ldc           #9                  // String Couldn\'t find a HealthCheckRegistry instance.
      53: invokespecial #10                 // Method javax/servlet/ServletException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_0
      58: new           #11                 // class org/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector
      61: dup
      62: aload_0
      63: getfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
      66: invokespecial #12                 // Method org/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector."<init>":(Lcom/codahale/metrics/health/HealthCheckRegistry;)V
      69: putfield      #13                 // Field healthCheckMetricsCollector:Lorg/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector;
      72: return

  public void destroy();
    Code:
       0: aload_0
       1: invokespecial #14                 // Method javax/servlet/http/HttpServlet.destroy:()V
       4: aload_0
       5: getfield      #3                  // Field registry:Lcom/codahale/metrics/health/HealthCheckRegistry;
       8: invokevirtual #15                 // Method com/codahale/metrics/health/HealthCheckRegistry.shutdown:()V
      11: return

  protected void doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse);
    Code:
       0: aload_0
       1: getfield      #13                 // Field healthCheckMetricsCollector:Lorg/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector;
       4: invokevirtual #16                 // Method org/sdase/commons/server/prometheus/health/HealthCheckMetricsCollector.collect:()Ljava/util/List;
       7: astore_3
       8: aload_2
       9: ldc           #17                 // String Cache-Control
      11: ldc           #18                 // String must-revalidate,no-cache,no-store
      13: invokeinterface #19,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
      18: aload_2
      19: sipush        200
      22: invokeinterface #21,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
      27: aload_2
      28: ldc           #23                 // String text/plain; version=0.0.4; charset=utf-8
      30: invokeinterface #24,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setContentType:(Ljava/lang/String;)V
      35: aload_2
      36: invokeinterface #25,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getWriter:()Ljava/io/PrintWriter;
      41: astore        4
      43: aload         4
      45: aload_3
      46: invokestatic  #26                 // Method java/util/Collections.enumeration:(Ljava/util/Collection;)Ljava/util/Enumeration;
      49: invokestatic  #27                 // Method io/prometheus/client/exporter/common/TextFormat.write004:(Ljava/io/Writer;Ljava/util/Enumeration;)V
      52: aload         4
      54: ifnull        92
      57: aload         4
      59: invokevirtual #28                 // Method java/io/Writer.close:()V
      62: goto          92
      65: astore        5
      67: aload         4
      69: ifnull        89
      72: aload         4
      74: invokevirtual #28                 // Method java/io/Writer.close:()V
      77: goto          89
      80: astore        6
      82: aload         5
      84: aload         6
      86: invokevirtual #30                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      89: aload         5
      91: athrow
      92: goto          97
      95: astore        4
      97: return
    Exception table:
       from    to  target type
          43    52    65   Class java/lang/Throwable
          72    77    80   Class java/lang/Throwable
          35    92    95   Class java/io/IOException
}
