Compiled from "AuthorizationCodeHandler.kt"
public final class no.nav.security.mock.oauth2.grant.AuthorizationCodeHandler implements no.nav.security.mock.oauth2.grant.GrantHandler {
  private final no.nav.security.mock.oauth2.token.OAuth2TokenProvider tokenProvider;

  private final no.nav.security.mock.oauth2.grant.RefreshTokenManager refreshTokenManager;

  private final java.util.Map<com.nimbusds.oauth2.sdk.AuthorizationCode, com.nimbusds.openid.connect.sdk.AuthenticationRequest> codeToAuthRequestCache;

  private final java.util.Map<com.nimbusds.oauth2.sdk.AuthorizationCode, no.nav.security.mock.oauth2.login.Login> codeToLoginCache;

  public no.nav.security.mock.oauth2.grant.AuthorizationCodeHandler(no.nav.security.mock.oauth2.token.OAuth2TokenProvider, no.nav.security.mock.oauth2.grant.RefreshTokenManager);
    Code:
       0: aload_1
       1: ldc           #11                 // String tokenProvider
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #19                 // String refreshTokenManager
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: invokespecial #22                 // Method java/lang/Object."<init>":()V
      16: aload_0
      17: aload_1
      18: putfield      #25                 // Field tokenProvider:Lno/nav/security/mock/oauth2/token/OAuth2TokenProvider;
      21: aload_0
      22: aload_2
      23: putfield      #28                 // Field refreshTokenManager:Lno/nav/security/mock/oauth2/grant/RefreshTokenManager;
      26: aload_0
      27: new           #30                 // class java/util/HashMap
      30: dup
      31: invokespecial #31                 // Method java/util/HashMap."<init>":()V
      34: checkcast     #33                 // class java/util/Map
      37: putfield      #37                 // Field codeToAuthRequestCache:Ljava/util/Map;
      40: aload_0
      41: new           #30                 // class java/util/HashMap
      44: dup
      45: invokespecial #31                 // Method java/util/HashMap."<init>":()V
      48: checkcast     #33                 // class java/util/Map
      51: putfield      #40                 // Field codeToLoginCache:Ljava/util/Map;
      54: return

  public final com.nimbusds.openid.connect.sdk.AuthenticationSuccessResponse authorizationCodeResponse(com.nimbusds.openid.connect.sdk.AuthenticationRequest, no.nav.security.mock.oauth2.login.Login);
    Code:
       0: aload_1
       1: ldc           #47                 // String authenticationRequest
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: nop
       7: aload_1
       8: invokevirtual #53                 // Method com/nimbusds/openid/connect/sdk/AuthenticationRequest.getResponseType:()Lcom/nimbusds/oauth2/sdk/ResponseType;
      11: invokevirtual #59                 // Method com/nimbusds/oauth2/sdk/ResponseType.impliesCodeFlow:()Z
      14: ifeq          125
      17: new           #61                 // class com/nimbusds/oauth2/sdk/AuthorizationCode
      20: dup
      21: invokespecial #62                 // Method com/nimbusds/oauth2/sdk/AuthorizationCode."<init>":()V
      24: astore_3
      25: invokestatic  #68                 // Method no/nav/security/mock/oauth2/grant/AuthorizationCodeHandlerKt.access$getLog$p:()Lmu/KLogger;
      28: aload_3
      29: invokedynamic #80,  0             // InvokeDynamic #0:makeConcatWithConstants:(Lcom/nimbusds/oauth2/sdk/AuthorizationCode;)Ljava/lang/String;
      34: invokeinterface #86,  2           // InterfaceMethod mu/KLogger.debug:(Ljava/lang/String;)V
      39: aload_0
      40: getfield      #37                 // Field codeToAuthRequestCache:Ljava/util/Map;
      43: aload_3
      44: aload_1
      45: invokeinterface #90,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      50: pop
      51: aload_2
      52: dup
      53: ifnull        99
      56: astore        4
      58: aload         4
      60: astore        5
      62: iconst_0
      63: istore        6
      65: invokestatic  #68                 // Method no/nav/security/mock/oauth2/grant/AuthorizationCodeHandlerKt.access$getLog$p:()Lmu/KLogger;
      68: aload         5
      70: invokevirtual #96                 // Method no/nav/security/mock/oauth2/login/Login.getUsername:()Ljava/lang/String;
      73: invokedynamic #101,  0            // InvokeDynamic #1:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      78: invokeinterface #86,  2           // InterfaceMethod mu/KLogger.debug:(Ljava/lang/String;)V
      83: aload_0
      84: getfield      #40                 // Field codeToLoginCache:Ljava/util/Map;
      87: aload_3
      88: aload_2
      89: invokeinterface #90,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      94: pop
      95: nop
      96: goto          101
      99: pop
     100: nop
     101: new           #103                // class com/nimbusds/openid/connect/sdk/AuthenticationSuccessResponse
     104: dup
     105: aload_1
     106: invokevirtual #107                // Method com/nimbusds/openid/connect/sdk/AuthenticationRequest.getRedirectionURI:()Ljava/net/URI;
     109: aload_3
     110: aconst_null
     111: aconst_null
     112: aload_1
     113: invokevirtual #111                // Method com/nimbusds/openid/connect/sdk/AuthenticationRequest.getState:()Lcom/nimbusds/oauth2/sdk/id/State;
     116: aconst_null
     117: aload_1
     118: invokevirtual #115                // Method com/nimbusds/openid/connect/sdk/AuthenticationRequest.getResponseMode:()Lcom/nimbusds/oauth2/sdk/ResponseMode;
     121: invokespecial #118                // Method com/nimbusds/openid/connect/sdk/AuthenticationSuccessResponse."<init>":(Ljava/net/URI;Lcom/nimbusds/oauth2/sdk/AuthorizationCode;Lcom/nimbusds/jwt/JWT;Lcom/nimbusds/oauth2/sdk/token/AccessToken;Lcom/nimbusds/oauth2/sdk/id/State;Lcom/nimbusds/oauth2/sdk/id/State;Lcom/nimbusds/oauth2/sdk/ResponseMode;)V
     124: areturn
     125: new           #120                // class no/nav/security/mock/oauth2/OAuth2Exception
     128: dup
     129: getstatic     #126                // Field com/nimbusds/oauth2/sdk/OAuth2Error.INVALID_GRANT:Lcom/nimbusds/oauth2/sdk/ErrorObject;
     132: ldc           #128                // String hybrid og implicit flow not supported (yet).
     134: invokespecial #131                // Method no/nav/security/mock/oauth2/OAuth2Exception."<init>":(Lcom/nimbusds/oauth2/sdk/ErrorObject;Ljava/lang/String;)V
     137: athrow

  public static com.nimbusds.openid.connect.sdk.AuthenticationSuccessResponse authorizationCodeResponse$default(no.nav.security.mock.oauth2.grant.AuthorizationCodeHandler, com.nimbusds.openid.connect.sdk.AuthenticationRequest, no.nav.security.mock.oauth2.login.Login, int, java.lang.Object);
    Code:
       0: iload_3
       1: iconst_2
       2: iand
       3: ifeq          8
       6: aconst_null
       7: astore_2
       8: aload_0
       9: aload_1
      10: aload_2
      11: invokevirtual #143                // Method authorizationCodeResponse:(Lcom/nimbusds/openid/connect/sdk/AuthenticationRequest;Lno/nav/security/mock/oauth2/login/Login;)Lcom/nimbusds/openid/connect/sdk/AuthenticationSuccessResponse;
      14: areturn

  public no.nav.security.mock.oauth2.http.OAuth2TokenResponse tokenResponse(no.nav.security.mock.oauth2.http.OAuth2HttpRequest, okhttp3.HttpUrl, no.nav.security.mock.oauth2.token.OAuth2TokenCallback);
    Code:
       0: aload_1
       1: ldc           #147                // String request
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #149                // String issuerUrl
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_3
      13: ldc           #151                // String oAuth2TokenCallback
      15: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      18: aload_1
      19: invokevirtual #157                // Method no/nav/security/mock/oauth2/http/OAuth2HttpRequest.asNimbusTokenRequest:()Lcom/nimbusds/oauth2/sdk/TokenRequest;
      22: astore        4
      24: aload         4
      26: invokestatic  #163                // Method no/nav/security/mock/oauth2/extensions/NimbusExtensionsKt.authorizationCode:(Lcom/nimbusds/oauth2/sdk/TokenRequest;)Lcom/nimbusds/oauth2/sdk/AuthorizationCode;
      29: astore        5
      31: invokestatic  #68                 // Method no/nav/security/mock/oauth2/grant/AuthorizationCodeHandlerKt.access$getLog$p:()Lmu/KLogger;
      34: aload         5
      36: invokedynamic #166,  0            // InvokeDynamic #2:makeConcatWithConstants:(Lcom/nimbusds/oauth2/sdk/AuthorizationCode;)Ljava/lang/String;
      41: invokeinterface #86,  2           // InterfaceMethod mu/KLogger.debug:(Ljava/lang/String;)V
      46: aload_0
      47: aload         5
      49: invokespecial #170                // Method takeAuthenticationRequestFromCache:(Lcom/nimbusds/oauth2/sdk/AuthorizationCode;)Lcom/nimbusds/openid/connect/sdk/AuthenticationRequest;
      52: astore        6
      54: aload         6
      56: dup
      57: ifnull        68
      60: aload         4
      62: invokestatic  #174                // Method no/nav/security/mock/oauth2/extensions/NimbusExtensionsKt.verifyPkce:(Lcom/nimbusds/openid/connect/sdk/AuthenticationRequest;Lcom/nimbusds/oauth2/sdk/TokenRequest;)V
      65: goto          69
      68: pop
      69: aload         4
      71: invokevirtual #180                // Method com/nimbusds/oauth2/sdk/TokenRequest.getScope:()Lcom/nimbusds/oauth2/sdk/Scope;
      74: dup
      75: ifnull        84
      78: invokevirtual #185                // Method com/nimbusds/oauth2/sdk/Scope.toString:()Ljava/lang/String;
      81: goto          86
      84: pop
      85: aconst_null
      86: astore        7
      88: aload         6
      90: dup
      91: ifnull        107
      94: invokevirtual #189                // Method com/nimbusds/openid/connect/sdk/AuthenticationRequest.getNonce:()Lcom/nimbusds/openid/connect/sdk/Nonce;
      97: dup
      98: ifnull        107
     101: invokevirtual #194                // Method com/nimbusds/openid/connect/sdk/Nonce.getValue:()Ljava/lang/String;
     104: goto          109
     107: pop
     108: aconst_null
     109: astore        8
     111: aload_0
     112: aload         5
     114: aload_3
     115: invokespecial #198                // Method getLoginTokenCallbackOrDefault:(Lcom/nimbusds/oauth2/sdk/AuthorizationCode;Lno/nav/security/mock/oauth2/token/OAuth2TokenCallback;)Lno/nav/security/mock/oauth2/token/OAuth2TokenCallback;
     118: astore        9
     120: aload_0
     121: getfield      #25                 // Field tokenProvider:Lno/nav/security/mock/oauth2/token/OAuth2TokenProvider;
     124: aload         4
     126: aload_2
     127: aload         9
     129: aload         8
     131: invokevirtual #204                // Method no/nav/security/mock/oauth2/token/OAuth2TokenProvider.idToken:(Lcom/nimbusds/oauth2/sdk/TokenRequest;Lokhttp3/HttpUrl;Lno/nav/security/mock/oauth2/token/OAuth2TokenCallback;Ljava/lang/String;)Lcom/nimbusds/jwt/SignedJWT;
     134: astore        10
     136: aload_0
     137: getfield      #25                 // Field tokenProvider:Lno/nav/security/mock/oauth2/token/OAuth2TokenProvider;
     140: aload         4
     142: aload_2
     143: aload         9
     145: aload         8
     147: invokevirtual #207                // Method no/nav/security/mock/oauth2/token/OAuth2TokenProvider.accessToken:(Lcom/nimbusds/oauth2/sdk/TokenRequest;Lokhttp3/HttpUrl;Lno/nav/security/mock/oauth2/token/OAuth2TokenCallback;Ljava/lang/String;)Lcom/nimbusds/jwt/SignedJWT;
     150: astore        11
     152: aload_0
     153: getfield      #28                 // Field refreshTokenManager:Lno/nav/security/mock/oauth2/grant/RefreshTokenManager;
     156: aload         9
     158: aload         8
     160: invokevirtual #213                // Method no/nav/security/mock/oauth2/grant/RefreshTokenManager.refreshToken:(Lno/nav/security/mock/oauth2/token/OAuth2TokenCallback;Ljava/lang/String;)Ljava/lang/String;
     163: astore        12
     165: new           #215                // class no/nav/security/mock/oauth2/http/OAuth2TokenResponse
     168: dup
     169: ldc           #217                // String Bearer
     171: aconst_null
     172: aload         10
     174: invokevirtual #222                // Method com/nimbusds/jwt/SignedJWT.serialize:()Ljava/lang/String;
     177: aload         11
     179: invokevirtual #222                // Method com/nimbusds/jwt/SignedJWT.serialize:()Ljava/lang/String;
     182: aload         12
     184: aload         10
     186: invokestatic  #226                // Method no/nav/security/mock/oauth2/extensions/NimbusExtensionsKt.expiresIn:(Lcom/nimbusds/jwt/SignedJWT;)I
     189: aload         7
     191: iconst_2
     192: aconst_null
     193: invokespecial #229                // Method no/nav/security/mock/oauth2/http/OAuth2TokenResponse."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/lang/String;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
     196: areturn

  private final no.nav.security.mock.oauth2.token.OAuth2TokenCallback getLoginTokenCallbackOrDefault(com.nimbusds.oauth2.sdk.AuthorizationCode, no.nav.security.mock.oauth2.token.OAuth2TokenCallback);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #249                // Method takeLoginFromCache:(Lcom/nimbusds/oauth2/sdk/AuthorizationCode;)Lno/nav/security/mock/oauth2/login/Login;
       5: dup
       6: ifnull        29
       9: astore_3
      10: iconst_0
      11: istore        4
      13: new           #251                // class no/nav/security/mock/oauth2/grant/AuthorizationCodeHandler$LoginOAuth2TokenCallback
      16: dup
      17: aload_3
      18: aload_2
      19: invokespecial #254                // Method no/nav/security/mock/oauth2/grant/AuthorizationCodeHandler$LoginOAuth2TokenCallback."<init>":(Lno/nav/security/mock/oauth2/login/Login;Lno/nav/security/mock/oauth2/token/OAuth2TokenCallback;)V
      22: nop
      23: checkcast     #243                // class no/nav/security/mock/oauth2/token/OAuth2TokenCallback
      26: goto          31
      29: pop
      30: aload_2
      31: areturn

  private final no.nav.security.mock.oauth2.login.Login takeLoginFromCache(com.nimbusds.oauth2.sdk.AuthorizationCode);
    Code:
       0: aload_0
       1: getfield      #40                 // Field codeToLoginCache:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #260,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #92                 // class no/nav/security/mock/oauth2/login/Login
      13: areturn

  private final com.nimbusds.openid.connect.sdk.AuthenticationRequest takeAuthenticationRequestFromCache(com.nimbusds.oauth2.sdk.AuthorizationCode);
    Code:
       0: aload_0
       1: getfield      #37                 // Field codeToAuthRequestCache:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #260,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #49                 // class com/nimbusds/openid/connect/sdk/AuthenticationRequest
      13: areturn
}
