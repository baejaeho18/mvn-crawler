Compiled from "TCPClient.java"
final class org.xbill.DNS.TCPClient {
  private final long startTime;

  private final java.time.Duration timeout;

  private final java.nio.channels.SelectionKey key;

  org.xbill.DNS.TCPClient(java.time.Duration) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field timeout:Ljava/time/Duration;
       9: aload_0
      10: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
      13: putfield      #4                  // Field startTime:J
      16: iconst_0
      17: istore_2
      18: aconst_null
      19: astore_3
      20: invokestatic  #5                  // Method java/nio/channels/SocketChannel.open:()Ljava/nio/channels/SocketChannel;
      23: astore        4
      25: invokestatic  #6                  // Method java/nio/channels/Selector.open:()Ljava/nio/channels/Selector;
      28: astore_3
      29: aload         4
      31: iconst_0
      32: invokevirtual #7                  // Method java/nio/channels/SocketChannel.configureBlocking:(Z)Ljava/nio/channels/SelectableChannel;
      35: pop
      36: aload_0
      37: aload         4
      39: aload_3
      40: iconst_1
      41: invokevirtual #9                  // Method java/nio/channels/SocketChannel.register:(Ljava/nio/channels/Selector;I)Ljava/nio/channels/SelectionKey;
      44: putfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      47: iconst_1
      48: istore_2
      49: iload_2
      50: ifne          61
      53: aload_3
      54: ifnull        61
      57: aload_3
      58: invokevirtual #11                 // Method java/nio/channels/Selector.close:()V
      61: iload_2
      62: ifne          99
      65: aload         4
      67: invokevirtual #12                 // Method java/nio/channels/SocketChannel.close:()V
      70: goto          99
      73: astore        5
      75: iload_2
      76: ifne          87
      79: aload_3
      80: ifnull        87
      83: aload_3
      84: invokevirtual #11                 // Method java/nio/channels/Selector.close:()V
      87: iload_2
      88: ifne          96
      91: aload         4
      93: invokevirtual #12                 // Method java/nio/channels/SocketChannel.close:()V
      96: aload         5
      98: athrow
      99: return
    Exception table:
       from    to  target type
          25    49    73   any
          73    75    73   any

  void bind(java.net.SocketAddress) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #13                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #14                 // class java/nio/channels/SocketChannel
      10: astore_2
      11: aload_2
      12: invokevirtual #15                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      15: aload_1
      16: invokevirtual #16                 // Method java/net/Socket.bind:(Ljava/net/SocketAddress;)V
      19: return

  void connect(java.net.SocketAddress) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #13                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #14                 // class java/nio/channels/SocketChannel
      10: astore_2
      11: aload_2
      12: aload_1
      13: invokevirtual #17                 // Method java/nio/channels/SocketChannel.connect:(Ljava/net/SocketAddress;)Z
      16: ifeq          20
      19: return
      20: aload_0
      21: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      24: bipush        8
      26: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      29: pop
      30: aload_2
      31: invokevirtual #19                 // Method java/nio/channels/SocketChannel.finishConnect:()Z
      34: ifne          58
      37: aload_0
      38: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      41: invokevirtual #20                 // Method java/nio/channels/SelectionKey.isConnectable:()Z
      44: ifne          30
      47: aload_0
      48: aload_0
      49: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      52: invokespecial #21                 // Method blockUntil:(Ljava/nio/channels/SelectionKey;)V
      55: goto          30
      58: aload_0
      59: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      62: invokevirtual #22                 // Method java/nio/channels/SelectionKey.isValid:()Z
      65: ifeq          102
      68: aload_0
      69: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      72: iconst_0
      73: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      76: pop
      77: goto          102
      80: astore_3
      81: aload_0
      82: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      85: invokevirtual #22                 // Method java/nio/channels/SelectionKey.isValid:()Z
      88: ifeq          100
      91: aload_0
      92: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      95: iconst_0
      96: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      99: pop
     100: aload_3
     101: athrow
     102: return
    Exception table:
       from    to  target type
          30    58    80   any

  void send(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #13                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #14                 // class java/nio/channels/SocketChannel
      10: astore_2
      11: ldc           #23                 // String TCP write
      13: aload_2
      14: invokevirtual #15                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      17: invokevirtual #24                 // Method java/net/Socket.getLocalSocketAddress:()Ljava/net/SocketAddress;
      20: aload_2
      21: invokevirtual #15                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      24: invokevirtual #25                 // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      27: aload_1
      28: invokestatic  #26                 // Method org/xbill/DNS/NioClient.verboseLog:(Ljava/lang/String;Ljava/net/SocketAddress;Ljava/net/SocketAddress;[B)V
      31: iconst_2
      32: newarray       byte
      34: astore_3
      35: aload_3
      36: iconst_0
      37: aload_1
      38: arraylength
      39: bipush        8
      41: iushr
      42: i2b
      43: bastore
      44: aload_3
      45: iconst_1
      46: aload_1
      47: arraylength
      48: sipush        255
      51: iand
      52: i2b
      53: bastore
      54: iconst_2
      55: anewarray     #27                 // class java/nio/ByteBuffer
      58: astore        4
      60: aload         4
      62: iconst_0
      63: aload_3
      64: invokestatic  #28                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      67: aastore
      68: aload         4
      70: iconst_1
      71: aload_1
      72: invokestatic  #28                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      75: aastore
      76: iconst_0
      77: istore        5
      79: aload_0
      80: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      83: iconst_4
      84: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      87: pop
      88: iload         5
      90: aload_1
      91: arraylength
      92: iconst_2
      93: iadd
      94: if_icmpge     188
      97: aload_0
      98: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     101: invokevirtual #29                 // Method java/nio/channels/SelectionKey.isWritable:()Z
     104: ifeq          177
     107: aload_2
     108: aload         4
     110: invokevirtual #30                 // Method java/nio/channels/SocketChannel.write:([Ljava/nio/ByteBuffer;)J
     113: lstore        6
     115: lload         6
     117: lconst_0
     118: lcmp
     119: ifge          130
     122: new           #31                 // class java/io/EOFException
     125: dup
     126: invokespecial #32                 // Method java/io/EOFException."<init>":()V
     129: athrow
     130: iload         5
     132: lload         6
     134: l2i
     135: iadd
     136: istore        5
     138: iload         5
     140: aload_1
     141: arraylength
     142: iconst_2
     143: iadd
     144: if_icmpge     174
     147: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
     150: aload_0
     151: getfield      #4                  // Field startTime:J
     154: lsub
     155: aload_0
     156: getfield      #2                  // Field timeout:Ljava/time/Duration;
     159: invokevirtual #33                 // Method java/time/Duration.toNanos:()J
     162: lcmp
     163: iflt          174
     166: new           #34                 // class java/net/SocketTimeoutException
     169: dup
     170: invokespecial #35                 // Method java/net/SocketTimeoutException."<init>":()V
     173: athrow
     174: goto          88
     177: aload_0
     178: aload_0
     179: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     182: invokespecial #21                 // Method blockUntil:(Ljava/nio/channels/SelectionKey;)V
     185: goto          88
     188: aload_0
     189: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     192: invokevirtual #22                 // Method java/nio/channels/SelectionKey.isValid:()Z
     195: ifeq          234
     198: aload_0
     199: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     202: iconst_0
     203: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
     206: pop
     207: goto          234
     210: astore        8
     212: aload_0
     213: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     216: invokevirtual #22                 // Method java/nio/channels/SelectionKey.isValid:()Z
     219: ifeq          231
     222: aload_0
     223: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     226: iconst_0
     227: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
     230: pop
     231: aload         8
     233: athrow
     234: return
    Exception table:
       from    to  target type
          88   188   210   any
         210   212   210   any

  private byte[] _recv(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #13                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #14                 // class java/nio/channels/SocketChannel
      10: astore_2
      11: iconst_0
      12: istore_3
      13: iload_1
      14: newarray       byte
      16: astore        4
      18: aload         4
      20: invokestatic  #28                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      23: astore        5
      25: aload_0
      26: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      29: iconst_1
      30: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      33: pop
      34: iload_3
      35: iload_1
      36: if_icmpge     125
      39: aload_0
      40: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      43: invokevirtual #36                 // Method java/nio/channels/SelectionKey.isReadable:()Z
      46: ifeq          114
      49: aload_2
      50: aload         5
      52: invokevirtual #37                 // Method java/nio/channels/SocketChannel.read:(Ljava/nio/ByteBuffer;)I
      55: i2l
      56: lstore        6
      58: lload         6
      60: lconst_0
      61: lcmp
      62: ifge          73
      65: new           #31                 // class java/io/EOFException
      68: dup
      69: invokespecial #32                 // Method java/io/EOFException."<init>":()V
      72: athrow
      73: iload_3
      74: lload         6
      76: l2i
      77: iadd
      78: istore_3
      79: iload_3
      80: iload_1
      81: if_icmpge     111
      84: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
      87: aload_0
      88: getfield      #4                  // Field startTime:J
      91: lsub
      92: aload_0
      93: getfield      #2                  // Field timeout:Ljava/time/Duration;
      96: invokevirtual #33                 // Method java/time/Duration.toNanos:()J
      99: lcmp
     100: iflt          111
     103: new           #34                 // class java/net/SocketTimeoutException
     106: dup
     107: invokespecial #35                 // Method java/net/SocketTimeoutException."<init>":()V
     110: athrow
     111: goto          34
     114: aload_0
     115: aload_0
     116: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     119: invokespecial #21                 // Method blockUntil:(Ljava/nio/channels/SelectionKey;)V
     122: goto          34
     125: aload_0
     126: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     129: invokevirtual #22                 // Method java/nio/channels/SelectionKey.isValid:()Z
     132: ifeq          171
     135: aload_0
     136: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     139: iconst_0
     140: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
     143: pop
     144: goto          171
     147: astore        8
     149: aload_0
     150: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     153: invokevirtual #22                 // Method java/nio/channels/SelectionKey.isValid:()Z
     156: ifeq          168
     159: aload_0
     160: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
     163: iconst_0
     164: invokevirtual #18                 // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
     167: pop
     168: aload         8
     170: athrow
     171: aload         4
     173: areturn
    Exception table:
       from    to  target type
          34   125   147   any
         147   149   147   any

  private void blockUntil(java.nio.channels.SelectionKey) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field timeout:Ljava/time/Duration;
       4: invokestatic  #3                  // Method java/lang/System.nanoTime:()J
       7: aload_0
       8: getfield      #4                  // Field startTime:J
      11: lsub
      12: getstatic     #38                 // Field java/time/temporal/ChronoUnit.NANOS:Ljava/time/temporal/ChronoUnit;
      15: invokevirtual #39                 // Method java/time/Duration.minus:(JLjava/time/temporal/TemporalUnit;)Ljava/time/Duration;
      18: invokevirtual #40                 // Method java/time/Duration.toMillis:()J
      21: lstore_2
      22: iconst_0
      23: istore        4
      25: lload_2
      26: lconst_0
      27: lcmp
      28: ifle          44
      31: aload_1
      32: invokevirtual #41                 // Method java/nio/channels/SelectionKey.selector:()Ljava/nio/channels/Selector;
      35: lload_2
      36: invokevirtual #42                 // Method java/nio/channels/Selector.select:(J)I
      39: istore        4
      41: goto          59
      44: lload_2
      45: lconst_0
      46: lcmp
      47: ifne          59
      50: aload_1
      51: invokevirtual #41                 // Method java/nio/channels/SelectionKey.selector:()Ljava/nio/channels/Selector;
      54: invokevirtual #43                 // Method java/nio/channels/Selector.selectNow:()I
      57: istore        4
      59: iload         4
      61: ifne          72
      64: new           #34                 // class java/net/SocketTimeoutException
      67: dup
      68: invokespecial #35                 // Method java/net/SocketTimeoutException."<init>":()V
      71: athrow
      72: return

  void cleanup() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #41                 // Method java/nio/channels/SelectionKey.selector:()Ljava/nio/channels/Selector;
       7: invokevirtual #11                 // Method java/nio/channels/Selector.close:()V
      10: aload_0
      11: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      14: invokevirtual #13                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      17: invokevirtual #44                 // Method java/nio/channels/SelectableChannel.close:()V
      20: return

  byte[] recv() throws java.io.IOException;
    Code:
       0: aload_0
       1: iconst_2
       2: invokespecial #45                 // Method _recv:(I)[B
       5: astore_1
       6: aload_1
       7: iconst_0
       8: baload
       9: sipush        255
      12: iand
      13: bipush        8
      15: ishl
      16: aload_1
      17: iconst_1
      18: baload
      19: sipush        255
      22: iand
      23: iadd
      24: istore_2
      25: aload_0
      26: iload_2
      27: invokespecial #45                 // Method _recv:(I)[B
      30: astore_3
      31: aload_0
      32: getfield      #10                 // Field key:Ljava/nio/channels/SelectionKey;
      35: invokevirtual #13                 // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      38: checkcast     #14                 // class java/nio/channels/SocketChannel
      41: astore        4
      43: ldc           #46                 // String TCP read
      45: aload         4
      47: invokevirtual #15                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      50: invokevirtual #24                 // Method java/net/Socket.getLocalSocketAddress:()Ljava/net/SocketAddress;
      53: aload         4
      55: invokevirtual #15                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      58: invokevirtual #25                 // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      61: aload_3
      62: invokestatic  #26                 // Method org/xbill/DNS/NioClient.verboseLog:(Ljava/lang/String;Ljava/net/SocketAddress;Ljava/net/SocketAddress;[B)V
      65: aload_3
      66: areturn
}
