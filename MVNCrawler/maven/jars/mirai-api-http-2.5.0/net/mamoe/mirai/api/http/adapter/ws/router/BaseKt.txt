Compiled from "base.kt"
public final class net.mamoe.mirai.api.http.adapter.ws.router.BaseKt {
  public static final void websocketRouteModule(io.ktor.application.Application, net.mamoe.mirai.api.http.adapter.ws.WebsocketAdapter);
    Code:
       0: aload_0
       1: ldc           #9                  // String <this>
       3: invokestatic  #15                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_1
       7: ldc           #17                 // String wsAdapter
       9: invokestatic  #15                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: checkcast     #19                 // class io/ktor/util/pipeline/Pipeline
      16: getstatic     #25                 // Field io/ktor/websocket/WebSockets.Feature:Lio/ktor/websocket/WebSockets$Feature;
      19: checkcast     #27                 // class io/ktor/application/ApplicationFeature
      22: getstatic     #33                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$websocketRouteModule$1.INSTANCE:Lnet/mamoe/mirai/api/http/adapter/ws/router/BaseKt$websocketRouteModule$1;
      25: checkcast     #35                 // class kotlin/jvm/functions/Function1
      28: invokestatic  #41                 // Method io/ktor/application/ApplicationFeatureKt.install:(Lio/ktor/util/pipeline/Pipeline;Lio/ktor/application/ApplicationFeature;Lkotlin/jvm/functions/Function1;)Ljava/lang/Object;
      31: pop
      32: aload_0
      33: aload_1
      34: invokestatic  #45                 // Method wsRouter:(Lio/ktor/application/Application;Lnet/mamoe/mirai/api/http/adapter/ws/WebsocketAdapter;)Lio/ktor/routing/Routing;
      37: pop
      38: return

  private static final io.ktor.routing.Routing wsRouter(io.ktor.application.Application, net.mamoe.mirai.api.http.adapter.ws.WebsocketAdapter);
    Code:
       0: aload_0
       1: new           #50                 // class net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$wsRouter$1
       4: dup
       5: aload_1
       6: invokespecial #54                 // Method net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$wsRouter$1."<init>":(Lnet/mamoe/mirai/api/http/adapter/ws/WebsocketAdapter;)V
       9: checkcast     #35                 // class kotlin/jvm/functions/Function1
      12: invokestatic  #60                 // Method io/ktor/routing/RoutingKt.routing:(Lio/ktor/application/Application;Lkotlin/jvm/functions/Function1;)Lio/ktor/routing/Routing;
      15: areturn

  private static final java.lang.Object handleChannel(io.ktor.websocket.DefaultWebSocketServerSession, java.util.Map<java.lang.String, kotlinx.coroutines.channels.SendChannel<io.ktor.http.cio.websocket.Frame>>, java.lang.String, kotlin.coroutines.Continuation<? super kotlin.Unit>);
    Code:
       0: aload_3
       1: instanceof    #66                 // class net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1
       4: ifeq          39
       7: aload_3
       8: checkcast     #66                 // class net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1
      11: astore        9
      13: aload         9
      15: getfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
      18: ldc           #71                 // int -2147483648
      20: iand
      21: ifeq          39
      24: aload         9
      26: dup
      27: getfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
      30: ldc           #71                 // int -2147483648
      32: isub
      33: putfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
      36: goto          49
      39: new           #66                 // class net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1
      42: dup
      43: aload_3
      44: invokespecial #74                 // Method net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1."<init>":(Lkotlin/coroutines/Continuation;)V
      47: astore        9
      49: aload         9
      51: getfield      #78                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.result:Ljava/lang/Object;
      54: astore        8
      56: invokestatic  #84                 // Method kotlin/coroutines/intrinsics/IntrinsicsKt.getCOROUTINE_SUSPENDED:()Ljava/lang/Object;
      59: astore        10
      61: aload         9
      63: getfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
      66: tableswitch   { // 0 to 3
                     0: 96
                     1: 284
                     2: 381
                     3: 535
               default: 626
          }
      96: aload         8
      98: invokestatic  #90                 // Method kotlin/ResultKt.throwOnFailure:(Ljava/lang/Object;)V
     101: aload_1
     102: aload_2
     103: invokeinterface #96,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     108: checkcast     #98                 // class kotlinx/coroutines/channels/SendChannel
     111: dup
     112: ifnonnull     119
     115: pop
     116: goto          129
     119: aconst_null
     120: iconst_1
     121: aconst_null
     122: invokestatic  #104                // Method kotlinx/coroutines/channels/SendChannel$DefaultImpls.close$default:(Lkotlinx/coroutines/channels/SendChannel;Ljava/lang/Throwable;ILjava/lang/Object;)Z
     125: invokestatic  #110                // Method kotlin/coroutines/jvm/internal/Boxing.boxBoolean:(Z)Ljava/lang/Boolean;
     128: pop
     129: aload_1
     130: astore        4
     132: aload_0
     133: invokeinterface #116,  1          // InterfaceMethod io/ktor/websocket/DefaultWebSocketServerSession.getOutgoing:()Lkotlinx/coroutines/channels/SendChannel;
     138: astore        5
     140: aload         4
     142: aload_2
     143: aload         5
     145: invokeinterface #120,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     150: pop
     151: aload_0
     152: invokeinterface #116,  1          // InterfaceMethod io/ktor/websocket/DefaultWebSocketServerSession.getOutgoing:()Lkotlinx/coroutines/channels/SendChannel;
     157: new           #122                // class io/ktor/http/cio/websocket/Frame$Text
     160: dup
     161: new           #124                // class net/mamoe/mirai/api/http/adapter/ws/dto/WsOutgoing
     164: dup
     165: ldc           #126                // String
     167: new           #128                // class net/mamoe/mirai/api/http/adapter/internal/dto/VerifyRetDTO
     170: dup
     171: iconst_0
     172: aload_2
     173: invokespecial #131                // Method net/mamoe/mirai/api/http/adapter/internal/dto/VerifyRetDTO."<init>":(ILjava/lang/String;)V
     176: astore        4
     178: iconst_0
     179: istore        5
     181: getstatic     #136                // Field net/mamoe/mirai/api/http/context/serializer/InternalSerializerHolder.INSTANCE:Lnet/mamoe/mirai/api/http/context/serializer/InternalSerializerHolder;
     184: invokevirtual #140                // Method net/mamoe/mirai/api/http/context/serializer/InternalSerializerHolder.getSerializer$mirai_api_http:()Lnet/mamoe/mirai/api/http/adapter/internal/serializer/InternalSerializer;
     187: astore        6
     189: iconst_0
     190: istore        7
     192: aload         6
     194: aload         4
     196: ldc           #128                // class net/mamoe/mirai/api/http/adapter/internal/dto/VerifyRetDTO
     198: invokestatic  #146                // Method kotlin/jvm/internal/Reflection.getOrCreateKotlinClass:(Ljava/lang/Class;)Lkotlin/reflect/KClass;
     201: invokeinterface #152,  3          // InterfaceMethod net/mamoe/mirai/api/http/adapter/internal/serializer/InternalSerializer.encodeElement:(Ljava/lang/Object;Lkotlin/reflect/KClass;)Lkotlinx/serialization/json/JsonElement;
     206: nop
     207: invokespecial #155                // Method net/mamoe/mirai/api/http/adapter/ws/dto/WsOutgoing."<init>":(Ljava/lang/String;Lkotlinx/serialization/json/JsonElement;)V
     210: astore        4
     212: iconst_0
     213: istore        5
     215: getstatic     #136                // Field net/mamoe/mirai/api/http/context/serializer/InternalSerializerHolder.INSTANCE:Lnet/mamoe/mirai/api/http/context/serializer/InternalSerializerHolder;
     218: invokevirtual #140                // Method net/mamoe/mirai/api/http/context/serializer/InternalSerializerHolder.getSerializer$mirai_api_http:()Lnet/mamoe/mirai/api/http/adapter/internal/serializer/InternalSerializer;
     221: astore        6
     223: iconst_0
     224: istore        7
     226: aload         6
     228: aload         4
     230: ldc           #124                // class net/mamoe/mirai/api/http/adapter/ws/dto/WsOutgoing
     232: invokestatic  #146                // Method kotlin/jvm/internal/Reflection.getOrCreateKotlinClass:(Ljava/lang/Class;)Lkotlin/reflect/KClass;
     235: invokeinterface #159,  3          // InterfaceMethod net/mamoe/mirai/api/http/adapter/internal/serializer/InternalSerializer.encode:(Ljava/lang/Object;Lkotlin/reflect/KClass;)Ljava/lang/String;
     240: nop
     241: invokespecial #162                // Method io/ktor/http/cio/websocket/Frame$Text."<init>":(Ljava/lang/String;)V
     244: aload         9
     246: aload         9
     248: aload_0
     249: putfield      #165                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$0:Ljava/lang/Object;
     252: aload         9
     254: aload_1
     255: putfield      #168                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$1:Ljava/lang/Object;
     258: aload         9
     260: aload_2
     261: putfield      #171                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$2:Ljava/lang/Object;
     264: aload         9
     266: iconst_1
     267: putfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
     270: invokeinterface #175,  3          // InterfaceMethod kotlinx/coroutines/channels/SendChannel.send:(Ljava/lang/Object;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;
     275: dup
     276: aload         10
     278: if_acmpne     318
     281: aload         10
     283: areturn
     284: aload         9
     286: getfield      #171                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$2:Ljava/lang/Object;
     289: checkcast     #177                // class java/lang/String
     292: astore_2
     293: aload         9
     295: getfield      #168                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$1:Ljava/lang/Object;
     298: checkcast     #92                 // class java/util/Map
     301: astore_1
     302: aload         9
     304: getfield      #165                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$0:Ljava/lang/Object;
     307: checkcast     #112                // class io/ktor/websocket/DefaultWebSocketServerSession
     310: astore_0
     311: aload         8
     313: invokestatic  #90                 // Method kotlin/ResultKt.throwOnFailure:(Ljava/lang/Object;)V
     316: aload         8
     318: pop
     319: aload_0
     320: invokeinterface #181,  1          // InterfaceMethod io/ktor/websocket/DefaultWebSocketServerSession.getIncoming:()Lkotlinx/coroutines/channels/ReceiveChannel;
     325: invokeinterface #187,  1          // InterfaceMethod kotlinx/coroutines/channels/ReceiveChannel.iterator:()Lkotlinx/coroutines/channels/ChannelIterator;
     330: astore        4
     332: aload         4
     334: aload         9
     336: aload         9
     338: aload_0
     339: putfield      #165                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$0:Ljava/lang/Object;
     342: aload         9
     344: aload_1
     345: putfield      #168                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$1:Ljava/lang/Object;
     348: aload         9
     350: aload_2
     351: putfield      #171                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$2:Ljava/lang/Object;
     354: aload         9
     356: aload         4
     358: putfield      #190                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$3:Ljava/lang/Object;
     361: aload         9
     363: iconst_2
     364: putfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
     367: invokeinterface #196,  2          // InterfaceMethod kotlinx/coroutines/channels/ChannelIterator.hasNext:(Lkotlin/coroutines/Continuation;)Ljava/lang/Object;
     372: dup
     373: aload         10
     375: if_acmpne     425
     378: aload         10
     380: areturn
     381: aload         9
     383: getfield      #190                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$3:Ljava/lang/Object;
     386: checkcast     #192                // class kotlinx/coroutines/channels/ChannelIterator
     389: astore        4
     391: aload         9
     393: getfield      #171                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$2:Ljava/lang/Object;
     396: checkcast     #177                // class java/lang/String
     399: astore_2
     400: aload         9
     402: getfield      #168                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$1:Ljava/lang/Object;
     405: checkcast     #92                 // class java/util/Map
     408: astore_1
     409: aload         9
     411: getfield      #165                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$0:Ljava/lang/Object;
     414: checkcast     #112                // class io/ktor/websocket/DefaultWebSocketServerSession
     417: astore_0
     418: aload         8
     420: invokestatic  #90                 // Method kotlin/ResultKt.throwOnFailure:(Ljava/lang/Object;)V
     423: aload         8
     425: checkcast     #198                // class java/lang/Boolean
     428: invokevirtual #202                // Method java/lang/Boolean.booleanValue:()Z
     431: ifeq          583
     434: aload         4
     436: invokeinterface #205,  1          // InterfaceMethod kotlinx/coroutines/channels/ChannelIterator.next:()Ljava/lang/Object;
     441: checkcast     #207                // class io/ktor/http/cio/websocket/Frame
     444: astore        5
     446: getstatic     #212                // Field net/mamoe/mirai/api/http/context/MahContextHolder.INSTANCE:Lnet/mamoe/mirai/api/http/context/MahContextHolder;
     449: aload_2
     450: invokevirtual #215                // Method net/mamoe/mirai/api/http/context/MahContextHolder.get:(Ljava/lang/String;)Lnet/mamoe/mirai/api/http/context/session/Session;
     453: dup
     454: ifnonnull     461
     457: pop
     458: goto          583
     461: astore        6
     463: aload_0
     464: invokeinterface #116,  1          // InterfaceMethod io/ktor/websocket/DefaultWebSocketServerSession.getOutgoing:()Lkotlinx/coroutines/channels/SendChannel;
     469: aload         6
     471: aload         5
     473: invokevirtual #219                // Method io/ktor/http/cio/websocket/Frame.getData:()[B
     476: astore        7
     478: new           #177                // class java/lang/String
     481: dup
     482: aload         7
     484: getstatic     #225                // Field kotlin/text/Charsets.UTF_8:Ljava/nio/charset/Charset;
     487: invokespecial #228                // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
     490: aload         9
     492: aload         9
     494: aload_0
     495: putfield      #165                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$0:Ljava/lang/Object;
     498: aload         9
     500: aload_1
     501: putfield      #168                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$1:Ljava/lang/Object;
     504: aload         9
     506: aload_2
     507: putfield      #171                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$2:Ljava/lang/Object;
     510: aload         9
     512: aload         4
     514: putfield      #190                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$3:Ljava/lang/Object;
     517: aload         9
     519: iconst_3
     520: putfield      #70                 // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.label:I
     523: invokestatic  #234                // Method net/mamoe/mirai/api/http/adapter/ws/router/ActionKt.handleWsAction:(Lkotlinx/coroutines/channels/SendChannel;Lnet/mamoe/mirai/api/http/context/session/Session;Ljava/lang/String;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;
     526: dup
     527: aload         10
     529: if_acmpne     579
     532: aload         10
     534: areturn
     535: aload         9
     537: getfield      #190                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$3:Ljava/lang/Object;
     540: checkcast     #192                // class kotlinx/coroutines/channels/ChannelIterator
     543: astore        4
     545: aload         9
     547: getfield      #171                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$2:Ljava/lang/Object;
     550: checkcast     #177                // class java/lang/String
     553: astore_2
     554: aload         9
     556: getfield      #168                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$1:Ljava/lang/Object;
     559: checkcast     #92                 // class java/util/Map
     562: astore_1
     563: aload         9
     565: getfield      #165                // Field net/mamoe/mirai/api/http/adapter/ws/router/BaseKt$handleChannel$1.L$0:Ljava/lang/Object;
     568: checkcast     #112                // class io/ktor/websocket/DefaultWebSocketServerSession
     571: astore_0
     572: aload         8
     574: invokestatic  #90                 // Method kotlin/ResultKt.throwOnFailure:(Ljava/lang/Object;)V
     577: aload         8
     579: pop
     580: goto          332
     583: aload_1
     584: aload_2
     585: aload_0
     586: invokeinterface #116,  1          // InterfaceMethod io/ktor/websocket/DefaultWebSocketServerSession.getOutgoing:()Lkotlinx/coroutines/channels/SendChannel;
     591: invokeinterface #238,  3          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;Ljava/lang/Object;)Z
     596: pop
     597: getstatic     #212                // Field net/mamoe/mirai/api/http/context/MahContextHolder.INSTANCE:Lnet/mamoe/mirai/api/http/context/MahContextHolder;
     600: invokevirtual #242                // Method net/mamoe/mirai/api/http/context/MahContextHolder.getSessionManager:()Lnet/mamoe/mirai/api/http/context/session/manager/SessionManager;
     603: aload_2
     604: invokeinterface #247,  2          // InterfaceMethod net/mamoe/mirai/api/http/context/session/manager/SessionManager.closeSession:(Ljava/lang/String;)V
     609: aload_0
     610: invokeinterface #116,  1          // InterfaceMethod io/ktor/websocket/DefaultWebSocketServerSession.getOutgoing:()Lkotlinx/coroutines/channels/SendChannel;
     615: aconst_null
     616: iconst_1
     617: aconst_null
     618: invokestatic  #104                // Method kotlinx/coroutines/channels/SendChannel$DefaultImpls.close$default:(Lkotlinx/coroutines/channels/SendChannel;Ljava/lang/Throwable;ILjava/lang/Object;)Z
     621: pop
     622: getstatic     #252                // Field kotlin/Unit.INSTANCE:Lkotlin/Unit;
     625: areturn
     626: new           #254                // class java/lang/IllegalStateException
     629: dup
     630: ldc_w         #256                // String call to \'resume\' before \'invoke\' with coroutine
     633: invokespecial #257                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     636: athrow

  public static final java.lang.Object access$handleChannel(io.ktor.websocket.DefaultWebSocketServerSession, java.util.Map, java.lang.String, kotlin.coroutines.Continuation);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokestatic  #286                // Method handleChannel:(Lio/ktor/websocket/DefaultWebSocketServerSession;Ljava/util/Map;Ljava/lang/String;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;
       7: areturn
}
