Compiled from "SakaiPersistenceUnitManager.java"
public class org.sakaiproject.springframework.orm.hibernate.SakaiPersistenceUnitManager extends org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager {
  private java.lang.String defaultPersistenceUnitName;

  private javax.persistence.spi.PersistenceUnitInfo defaultPersistenceUnitInfo;

  private javax.sql.DataSource dataSource;

  private javax.sql.DataSource jtaDataSource;

  private org.sakaiproject.component.api.ServerConfigurationService serverConfigurationService;

  public org.sakaiproject.springframework.orm.hibernate.SakaiPersistenceUnitManager();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/springframework/orm/jpa/persistenceunit/DefaultPersistenceUnitManager."<init>":()V
       4: aload_0
       5: ldc           #2                  // String sakai
       7: putfield      #3                  // Field defaultPersistenceUnitName:Ljava/lang/String;
      10: return

  public void preparePersistenceUnitInfos();
    Code:
       0: new           #4                  // class org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo
       3: dup
       4: invokespecial #5                  // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo."<init>":()V
       7: astore_1
       8: aload_1
       9: aload_0
      10: getfield      #3                  // Field defaultPersistenceUnitName:Ljava/lang/String;
      13: invokevirtual #6                  // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.setPersistenceUnitName:(Ljava/lang/String;)V
      16: aload_1
      17: iconst_1
      18: invokevirtual #7                  // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.setExcludeUnlistedClasses:(Z)V
      21: aload_1
      22: invokevirtual #8                  // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.getJtaDataSource:()Ljavax/sql/DataSource;
      25: ifnonnull     36
      28: aload_1
      29: aload_0
      30: getfield      #9                  // Field jtaDataSource:Ljavax/sql/DataSource;
      33: invokevirtual #10                 // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.setJtaDataSource:(Ljavax/sql/DataSource;)V
      36: aload_1
      37: invokevirtual #11                 // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.getNonJtaDataSource:()Ljavax/sql/DataSource;
      40: ifnonnull     51
      43: aload_1
      44: aload_0
      45: getfield      #12                 // Field dataSource:Ljavax/sql/DataSource;
      48: invokevirtual #13                 // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.setNonJtaDataSource:(Ljavax/sql/DataSource;)V
      51: aload_1
      52: ldc           #15                 // String hibernate.ejb.identifier_generator_strategy_provider
      54: ldc           #16                 // class org/sakaiproject/springframework/orm/hibernate/SakaiIdentifierGeneratorProvider
      56: invokevirtual #17                 // Method java/lang/Class.getName:()Ljava/lang/String;
      59: invokevirtual #18                 // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.addProperty:(Ljava/lang/String;Ljava/lang/String;)V
      62: aload_0
      63: getfield      #19                 // Field serverConfigurationService:Lorg/sakaiproject/component/api/ServerConfigurationService;
      66: invokestatic  #20                 // Method org/sakaiproject/hibernate/AssignableUUIDGenerator.setServerConfigurationService:(Lorg/sakaiproject/component/api/ServerConfigurationService;)V
      69: aload_0
      70: aload_1
      71: invokevirtual #21                 // Method postProcessPersistenceUnitInfo:(Lorg/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo;)V
      74: aload_0
      75: getfield      #19                 // Field serverConfigurationService:Lorg/sakaiproject/component/api/ServerConfigurationService;
      78: ldc           #22                 // String auto.ddl
      80: iconst_1
      81: invokeinterface #23,  3           // InterfaceMethod org/sakaiproject/component/api/ServerConfigurationService.getBoolean:(Ljava/lang/String;Z)Z
      86: invokestatic  #24                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      89: astore_2
      90: aload_0
      91: getfield      #19                 // Field serverConfigurationService:Lorg/sakaiproject/component/api/ServerConfigurationService;
      94: ldc           #26                 // String hibernate.hbm2ddl.auto
      96: invokeinterface #27,  2           // InterfaceMethod org/sakaiproject/component/api/ServerConfigurationService.getString:(Ljava/lang/String;)Ljava/lang/String;
     101: astore_3
     102: aload_2
     103: invokevirtual #28                 // Method java/lang/Boolean.booleanValue:()Z
     106: ifeq          112
     109: ldc           #29                 // String update
     111: astore_3
     112: aload_1
     113: invokevirtual #30                 // Method org/springframework/orm/jpa/persistenceunit/MutablePersistenceUnitInfo.getProperties:()Ljava/util/Properties;
     116: ldc           #26                 // String hibernate.hbm2ddl.auto
     118: aload_3
     119: invokestatic  #31                 // Method org/apache/commons/lang3/StringUtils.defaultString:(Ljava/lang/String;)Ljava/lang/String;
     122: invokevirtual #32                 // Method java/util/Properties.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/Object;
     125: pop
     126: aload_0
     127: aload_1
     128: putfield      #33                 // Field defaultPersistenceUnitInfo:Ljavax/persistence/spi/PersistenceUnitInfo;
     131: return

  public javax.persistence.spi.PersistenceUnitInfo obtainDefaultPersistenceUnitInfo();
    Code:
       0: aload_0
       1: getfield      #33                 // Field defaultPersistenceUnitInfo:Ljavax/persistence/spi/PersistenceUnitInfo;
       4: areturn

  public void setDataSource(javax.sql.DataSource);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #12                 // Field dataSource:Ljavax/sql/DataSource;
       5: return

  public void setJtaDataSource(javax.sql.DataSource);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field jtaDataSource:Ljavax/sql/DataSource;
       5: return

  public void setServerConfigurationService(org.sakaiproject.component.api.ServerConfigurationService);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #19                 // Field serverConfigurationService:Lorg/sakaiproject/component/api/ServerConfigurationService;
       5: return
}
