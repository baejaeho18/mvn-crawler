Compiled from "PatchBundleUnitTestCase.java"
public class org.jboss.as.patching.tests.PatchBundleUnitTestCase extends org.jboss.as.patching.tests.AbstractPatchingTest {
  static final java.lang.String[] FILE_ONE;

  static final java.lang.String[] FILE_TWO;

  static final java.lang.String[] FILE_EXISTING;

  public org.jboss.as.patching.tests.PatchBundleUnitTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/patching/tests/AbstractPatchingTest."<init>":()V
       4: return

  public void testMultiInstall() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_3
       2: anewarray     #2                  // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #3                  // String layer-2
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #4                  // String layer-1
      14: aastore
      15: dup
      16: iconst_2
      17: ldc           #5                  // String base
      19: aastore
      20: invokevirtual #6                  // Method createDefaultBuilder:([Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestBuilder;
      23: astore_1
      24: bipush        20
      26: newarray       byte
      28: astore_2
      29: bipush        20
      31: newarray       byte
      33: astore_3
      34: bipush        20
      36: newarray       byte
      38: astore        4
      40: bipush        20
      42: newarray       byte
      44: astore        5
      46: bipush        20
      48: newarray       byte
      50: astore        6
      52: bipush        20
      54: newarray       byte
      56: astore        7
      58: aload_1
      59: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      62: astore        8
      64: aload         8
      66: ldc           #8                  // String CP1
      68: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      71: ldc           #10                 // String 6.2.0.GA
      73: ldc           #10                 // String 6.2.0.GA
      75: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      78: ldc           #12                 // String base-CP1
      80: ldc           #5                  // String base
      82: iconst_0
      83: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      86: ldc           #14                 // String org.jboss.test
      88: aload_2
      89: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      92: pop
      93: aload_1
      94: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      97: astore        9
      99: aload         9
     101: ldc           #16                 // String CP2
     103: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     106: ldc           #10                 // String 6.2.0.GA
     108: ldc           #10                 // String 6.2.0.GA
     110: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     113: ldc           #17                 // String layer-1-CP1
     115: ldc           #4                  // String layer-1
     117: iconst_0
     118: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     121: ldc           #18                 // String org.jboss.test.two
     123: aload_3
     124: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     127: pop
     128: aload_1
     129: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     132: astore        10
     134: aload         10
     136: ldc           #19                 // String CP3
     138: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     141: ldc           #10                 // String 6.2.0.GA
     143: ldc           #10                 // String 6.2.0.GA
     145: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     148: ldc           #20                 // String layer-2-CP1
     150: ldc           #3                  // String layer-2
     152: iconst_0
     153: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     156: ldc           #21                 // String org.jboss.test.three
     158: ldc           #22                 // String main
     160: aload         4
     162: invokevirtual #23                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.removeModule:(Ljava/lang/String;Ljava/lang/String;[B)Ljava/lang/Object;
     165: pop
     166: aload_1
     167: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     170: astore        11
     172: aload         11
     174: ldc           #24                 // String CP4
     176: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     179: ldc           #10                 // String 6.2.0.GA
     181: ldc           #10                 // String 6.2.0.GA
     183: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     186: ldc           #25                 // String base-CP2
     188: ldc           #5                  // String base
     190: iconst_0
     191: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     194: ldc           #26                 // String org.jboss.test.four
     196: aload         5
     198: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     201: pop
     202: aload_1
     203: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     206: astore        12
     208: aload         12
     210: ldc           #27                 // String CP5
     212: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     215: ldc           #10                 // String 6.2.0.GA
     217: ldc           #10                 // String 6.2.0.GA
     219: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     222: ldc           #28                 // String base-CP3
     224: ldc           #5                  // String base
     226: iconst_0
     227: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     230: ldc           #26                 // String org.jboss.test.four
     232: aload         5
     234: aconst_null
     235: invokevirtual #29                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.updateModuleWithRandomContent:(Ljava/lang/String;[B[B)Ljava/lang/Object;
     238: checkcast     #30                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     241: invokevirtual #31                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     244: ldc           #32                 // String layer-1-CP2
     246: ldc           #4                  // String layer-1
     248: iconst_0
     249: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     252: ldc           #33                 // String org.jboss.test.five
     254: aload         6
     256: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     259: checkcast     #30                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     262: invokevirtual #31                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     265: ldc           #34                 // String layer-2-CP2
     267: ldc           #3                  // String layer-2
     269: iconst_0
     270: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     273: ldc           #35                 // String org.jboss.test.six
     275: aload         7
     277: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     280: pop
     281: aload_0
     282: aload_1
     283: invokevirtual #36                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getRoot:()Ljava/io/File;
     286: iconst_5
     287: anewarray     #37                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     290: dup
     291: iconst_0
     292: aload         8
     294: aastore
     295: dup
     296: iconst_1
     297: aload         9
     299: aastore
     300: dup
     301: iconst_2
     302: aload         10
     304: aastore
     305: dup
     306: iconst_3
     307: aload         11
     309: aastore
     310: dup
     311: iconst_4
     312: aload         12
     314: aastore
     315: invokevirtual #38                 // Method prepare:(Ljava/io/File;[Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Ljava/io/File;
     318: astore        13
     320: aload_0
     321: invokevirtual #39                 // Method updateInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     324: astore        14
     326: aload         14
     328: invokestatic  #40                 // Method org/jboss/as/patching/tool/PatchTool$Factory.create:(Lorg/jboss/as/patching/installation/InstallationManager;)Lorg/jboss/as/patching/tool/PatchTool;
     331: astore        15
     333: aload         15
     335: aload         13
     337: getstatic     #41                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.STRICT:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     340: invokeinterface #42,  3           // InterfaceMethod org/jboss/as/patching/tool/PatchTool.applyPatch:(Ljava/io/File;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
     345: astore        16
     347: aload         16
     349: invokeinterface #43,  1           // InterfaceMethod org/jboss/as/patching/tool/PatchingResult.commit:()V
     354: getstatic     #44                 // Field org/jboss/as/patching/tests/PatchStepAssertions.APPLY:Lorg/jboss/as/patching/tests/PatchStepAssertions;
     357: aload_1
     358: iconst_1
     359: anewarray     #2                  // class java/lang/String
     362: dup
     363: iconst_0
     364: ldc           #45                 // String jboss-installation
     366: aastore
     367: invokevirtual #46                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getFile:([Ljava/lang/String;)Ljava/io/File;
     370: aload         12
     372: invokevirtual #47                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     375: aload         14
     377: invokevirtual #48                 // Method org/jboss/as/patching/tests/PatchStepAssertions.after:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Lorg/jboss/as/patching/installation/InstallationManager;)V
     380: goto          395
     383: astore        17
     385: new           #50                 // class org/jboss/as/patching/PatchingException
     388: dup
     389: aload         17
     391: invokespecial #51                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
     394: athrow
     395: aload_0
     396: invokevirtual #52                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     399: astore        14
     401: iconst_5
     402: anewarray     #2                  // class java/lang/String
     405: dup
     406: iconst_0
     407: ldc           #8                  // String CP1
     409: aastore
     410: dup
     411: iconst_1
     412: ldc           #16                 // String CP2
     414: aastore
     415: dup
     416: iconst_2
     417: ldc           #19                 // String CP3
     419: aastore
     420: dup
     421: iconst_3
     422: ldc           #24                 // String CP4
     424: aastore
     425: dup
     426: iconst_4
     427: ldc           #27                 // String CP5
     429: aastore
     430: invokestatic  #53                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     433: aload         14
     435: invokevirtual #54                 // Method org/jboss/as/patching/installation/InstallationManager.getAllInstalledPatches:()Ljava/util/List;
     438: invokestatic  #55                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
     441: ldc           #28                 // String base-CP3
     443: aload         14
     445: ldc           #5                  // String base
     447: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     450: ldc           #14                 // String org.jboss.test
     452: ldc           #22                 // String main
     454: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     457: ldc           #28                 // String base-CP3
     459: aload         14
     461: ldc           #5                  // String base
     463: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     466: ldc           #26                 // String org.jboss.test.four
     468: ldc           #22                 // String main
     470: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     473: ldc           #32                 // String layer-1-CP2
     475: aload         14
     477: ldc           #4                  // String layer-1
     479: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     482: ldc           #18                 // String org.jboss.test.two
     484: ldc           #22                 // String main
     486: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     489: ldc           #32                 // String layer-1-CP2
     491: aload         14
     493: ldc           #4                  // String layer-1
     495: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     498: ldc           #33                 // String org.jboss.test.five
     500: ldc           #22                 // String main
     502: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     505: ldc           #34                 // String layer-2-CP2
     507: aload         14
     509: ldc           #3                  // String layer-2
     511: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     514: ldc           #21                 // String org.jboss.test.three
     516: ldc           #22                 // String main
     518: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     521: ldc           #34                 // String layer-2-CP2
     523: aload         14
     525: ldc           #3                  // String layer-2
     527: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     530: ldc           #35                 // String org.jboss.test.six
     532: ldc           #22                 // String main
     534: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     537: aload_0
     538: aload         12
     540: invokevirtual #58                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     543: pop
     544: aload_0
     545: invokevirtual #52                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     548: astore        14
     550: ldc           #25                 // String base-CP2
     552: aload         14
     554: ldc           #5                  // String base
     556: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     559: ldc           #14                 // String org.jboss.test
     561: ldc           #22                 // String main
     563: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     566: ldc           #25                 // String base-CP2
     568: aload         14
     570: ldc           #5                  // String base
     572: invokevirtual #56                 // Method org/jboss/as/patching/installation/InstallationManager.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     575: ldc           #26                 // String org.jboss.test.four
     577: ldc           #22                 // String main
     579: invokestatic  #57                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     582: aload_0
     583: aload         11
     585: invokevirtual #58                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     588: pop
     589: aload_0
     590: aload         10
     592: invokevirtual #58                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     595: pop
     596: aload_0
     597: aload         9
     599: invokevirtual #58                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     602: pop
     603: aload_0
     604: aload         8
     606: invokevirtual #58                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     609: pop
     610: return
    Exception table:
       from    to  target type
         354   380   383   Class java/io/IOException

  public void testRevert() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_3
       2: anewarray     #2                  // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #3                  // String layer-2
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #4                  // String layer-1
      14: aastore
      15: dup
      16: iconst_2
      17: ldc           #5                  // String base
      19: aastore
      20: invokevirtual #6                  // Method createDefaultBuilder:([Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestBuilder;
      23: astore_1
      24: bipush        20
      26: newarray       byte
      28: astore_2
      29: bipush        20
      31: newarray       byte
      33: astore_3
      34: bipush        20
      36: newarray       byte
      38: astore        4
      40: bipush        20
      42: newarray       byte
      44: astore        5
      46: bipush        20
      48: newarray       byte
      50: astore        6
      52: bipush        20
      54: newarray       byte
      56: astore        7
      58: aload_1
      59: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      62: astore        8
      64: aload         8
      66: ldc           #8                  // String CP1
      68: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      71: ldc           #10                 // String 6.2.0.GA
      73: ldc           #10                 // String 6.2.0.GA
      75: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      78: ldc           #12                 // String base-CP1
      80: ldc           #5                  // String base
      82: iconst_0
      83: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      86: ldc           #14                 // String org.jboss.test
      88: aload_2
      89: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      92: pop
      93: aload_1
      94: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      97: astore        9
      99: aload         9
     101: ldc           #16                 // String CP2
     103: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     106: ldc           #10                 // String 6.2.0.GA
     108: ldc           #10                 // String 6.2.0.GA
     110: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     113: ldc           #17                 // String layer-1-CP1
     115: ldc           #4                  // String layer-1
     117: iconst_0
     118: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     121: ldc           #18                 // String org.jboss.test.two
     123: aload_3
     124: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     127: pop
     128: aload_1
     129: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     132: astore        10
     134: aload         10
     136: ldc           #19                 // String CP3
     138: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     141: ldc           #10                 // String 6.2.0.GA
     143: ldc           #10                 // String 6.2.0.GA
     145: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     148: ldc           #20                 // String layer-2-CP1
     150: ldc           #3                  // String layer-2
     152: iconst_0
     153: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     156: ldc           #21                 // String org.jboss.test.three
     158: ldc           #22                 // String main
     160: aload         4
     162: invokevirtual #23                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.removeModule:(Ljava/lang/String;Ljava/lang/String;[B)Ljava/lang/Object;
     165: pop
     166: aload_1
     167: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     170: astore        11
     172: aload         11
     174: ldc           #24                 // String CP4
     176: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     179: ldc           #10                 // String 6.2.0.GA
     181: ldc           #10                 // String 6.2.0.GA
     183: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     186: ldc           #25                 // String base-CP2
     188: ldc           #5                  // String base
     190: iconst_0
     191: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     194: ldc           #26                 // String org.jboss.test.four
     196: aload         5
     198: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     201: pop
     202: aload_1
     203: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     206: astore        12
     208: aload         12
     210: ldc           #27                 // String CP5
     212: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     215: ldc           #10                 // String 6.2.0.GA
     217: ldc           #10                 // String 6.2.0.GA
     219: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     222: ldc           #28                 // String base-CP3
     224: ldc           #5                  // String base
     226: iconst_0
     227: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     230: ldc           #26                 // String org.jboss.test.four
     232: aload         5
     234: aconst_null
     235: invokevirtual #29                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.updateModuleWithRandomContent:(Ljava/lang/String;[B[B)Ljava/lang/Object;
     238: checkcast     #30                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     241: invokevirtual #31                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     244: ldc           #32                 // String layer-1-CP2
     246: ldc           #4                  // String layer-1
     248: iconst_0
     249: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     252: ldc           #33                 // String org.jboss.test.five
     254: aload         6
     256: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     259: checkcast     #30                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     262: invokevirtual #31                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     265: ldc           #34                 // String layer-2-CP2
     267: ldc           #3                  // String layer-2
     269: iconst_0
     270: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     273: ldc           #35                 // String org.jboss.test.six
     275: aload         7
     277: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     280: pop
     281: aload_0
     282: aload_1
     283: invokevirtual #36                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getRoot:()Ljava/io/File;
     286: iconst_5
     287: anewarray     #37                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     290: dup
     291: iconst_0
     292: aload         8
     294: aastore
     295: dup
     296: iconst_1
     297: aload         9
     299: aastore
     300: dup
     301: iconst_2
     302: aload         10
     304: aastore
     305: dup
     306: iconst_3
     307: aload         11
     309: aastore
     310: dup
     311: iconst_4
     312: aload         12
     314: aastore
     315: invokevirtual #38                 // Method prepare:(Ljava/io/File;[Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Ljava/io/File;
     318: astore        13
     320: aload_0
     321: invokevirtual #52                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     324: astore        14
     326: aload         14
     328: invokestatic  #40                 // Method org/jboss/as/patching/tool/PatchTool$Factory.create:(Lorg/jboss/as/patching/installation/InstallationManager;)Lorg/jboss/as/patching/tool/PatchTool;
     331: astore        15
     333: aload         15
     335: aload         13
     337: getstatic     #41                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.STRICT:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     340: invokeinterface #42,  3           // InterfaceMethod org/jboss/as/patching/tool/PatchTool.applyPatch:(Ljava/io/File;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
     345: astore        16
     347: aload         16
     349: invokeinterface #59,  1           // InterfaceMethod org/jboss/as/patching/tool/PatchingResult.rollback:()V
     354: aload_0
     355: invokevirtual #52                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     358: astore        14
     360: aload_0
     361: aload_1
     362: invokevirtual #36                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getRoot:()Ljava/io/File;
     365: aload         14
     367: iconst_5
     368: anewarray     #37                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     371: dup
     372: iconst_0
     373: aload         8
     375: aastore
     376: dup
     377: iconst_1
     378: aload         9
     380: aastore
     381: dup
     382: iconst_2
     383: aload         10
     385: aastore
     386: dup
     387: iconst_3
     388: aload         11
     390: aastore
     391: dup
     392: iconst_4
     393: aload         12
     395: aastore
     396: invokevirtual #60                 // Method checkNotApplied:(Ljava/io/File;Lorg/jboss/as/patching/installation/InstallationManager;[Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)V
     399: return

  public void testConflicts() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #61                 // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: bipush        20
       7: newarray       byte
       9: astore_2
      10: bipush        20
      12: newarray       byte
      14: astore_3
      15: bipush        20
      17: newarray       byte
      19: astore        4
      21: aload_1
      22: getstatic     #62                 // Field FILE_EXISTING:[Ljava/lang/String;
      25: invokevirtual #46                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getFile:([Ljava/lang/String;)Ljava/io/File;
      28: astore        5
      30: aload         5
      32: iconst_0
      33: anewarray     #2                  // class java/lang/String
      36: invokestatic  #63                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      39: pop
      40: aload         5
      42: invokestatic  #64                 // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      45: invokestatic  #65                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      48: aload_1
      49: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      52: astore        6
      54: aload         6
      56: ldc           #66                 // String cp1
      58: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      61: ldc           #10                 // String 6.2.0.GA
      63: ldc           #10                 // String 6.2.0.GA
      65: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      68: aload_2
      69: getstatic     #67                 // Field FILE_ONE:[Ljava/lang/String;
      72: invokevirtual #68                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
      75: pop
      76: aload_1
      77: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      80: astore        7
      82: aload         7
      84: ldc           #69                 // String cp2
      86: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      89: ldc           #10                 // String 6.2.0.GA
      91: ldc           #10                 // String 6.2.0.GA
      93: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      96: aload_3
      97: getstatic     #70                 // Field FILE_TWO:[Ljava/lang/String;
     100: invokevirtual #68                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
     103: pop
     104: aload_1
     105: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     108: astore        8
     110: aload         8
     112: ldc           #71                 // String cp3
     114: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     117: ldc           #10                 // String 6.2.0.GA
     119: ldc           #10                 // String 6.2.0.GA
     121: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     124: aload         4
     126: getstatic     #62                 // Field FILE_EXISTING:[Ljava/lang/String;
     129: invokevirtual #68                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
     132: pop
     133: aload_0
     134: aload_1
     135: invokevirtual #36                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getRoot:()Ljava/io/File;
     138: iconst_3
     139: anewarray     #37                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     142: dup
     143: iconst_0
     144: aload         6
     146: aastore
     147: dup
     148: iconst_1
     149: aload         7
     151: aastore
     152: dup
     153: iconst_2
     154: aload         8
     156: aastore
     157: invokevirtual #38                 // Method prepare:(Ljava/io/File;[Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Ljava/io/File;
     160: astore        9
     162: aload_0
     163: invokevirtual #52                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     166: astore        10
     168: aload         10
     170: invokestatic  #40                 // Method org/jboss/as/patching/tool/PatchTool$Factory.create:(Lorg/jboss/as/patching/installation/InstallationManager;)Lorg/jboss/as/patching/tool/PatchTool;
     173: astore        11
     175: aload         11
     177: aload         9
     179: getstatic     #41                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.STRICT:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     182: invokeinterface #42,  3           // InterfaceMethod org/jboss/as/patching/tool/PatchTool.applyPatch:(Ljava/io/File;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
     187: pop
     188: invokestatic  #72                 // Method org/junit/Assert.fail:()V
     191: goto          196
     194: astore        12
     196: aload_1
     197: getstatic     #67                 // Field FILE_ONE:[Ljava/lang/String;
     200: invokevirtual #73                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     203: invokestatic  #74                 // Method org/junit/Assert.assertFalse:(Z)V
     206: aload_1
     207: getstatic     #70                 // Field FILE_TWO:[Ljava/lang/String;
     210: invokevirtual #73                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     213: invokestatic  #74                 // Method org/junit/Assert.assertFalse:(Z)V
     216: return
    Exception table:
       from    to  target type
         175   191   194   Class org/jboss/as/patching/PatchingException

  public void testSkipInstalled() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_3
       2: anewarray     #2                  // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #3                  // String layer-2
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #4                  // String layer-1
      14: aastore
      15: dup
      16: iconst_2
      17: ldc           #5                  // String base
      19: aastore
      20: invokevirtual #6                  // Method createDefaultBuilder:([Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestBuilder;
      23: astore_1
      24: bipush        20
      26: newarray       byte
      28: astore_2
      29: bipush        20
      31: newarray       byte
      33: astore_3
      34: bipush        20
      36: newarray       byte
      38: astore        4
      40: aload_1
      41: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      44: astore        5
      46: aload         5
      48: ldc           #8                  // String CP1
      50: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      53: ldc           #10                 // String 6.2.0.GA
      55: ldc           #10                 // String 6.2.0.GA
      57: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      60: ldc           #12                 // String base-CP1
      62: ldc           #5                  // String base
      64: iconst_0
      65: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      68: ldc           #14                 // String org.jboss.test
      70: aload_2
      71: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      74: pop
      75: aload_1
      76: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      79: astore        6
      81: aload         6
      83: ldc           #16                 // String CP2
      85: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      88: ldc           #10                 // String 6.2.0.GA
      90: ldc           #10                 // String 6.2.0.GA
      92: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      95: ldc           #17                 // String layer-1-CP1
      97: ldc           #4                  // String layer-1
      99: iconst_0
     100: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     103: ldc           #18                 // String org.jboss.test.two
     105: aload_3
     106: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     109: pop
     110: aload_1
     111: invokevirtual #7                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     114: astore        7
     116: aload         7
     118: ldc           #19                 // String CP3
     120: invokevirtual #9                  // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     123: ldc           #10                 // String 6.2.0.GA
     125: ldc           #10                 // String 6.2.0.GA
     127: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     130: ldc           #20                 // String layer-2-CP1
     132: ldc           #3                  // String layer-2
     134: iconst_0
     135: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     138: ldc           #21                 // String org.jboss.test.three
     140: ldc           #22                 // String main
     142: aload         4
     144: invokevirtual #23                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.removeModule:(Ljava/lang/String;Ljava/lang/String;[B)Ljava/lang/Object;
     147: pop
     148: aload_0
     149: aload         5
     151: invokevirtual #75                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     154: pop
     155: aload_0
     156: aload         6
     158: invokevirtual #75                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     161: pop
     162: aload_0
     163: aload_1
     164: invokevirtual #36                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getRoot:()Ljava/io/File;
     167: iconst_3
     168: anewarray     #37                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     171: dup
     172: iconst_0
     173: aload         5
     175: aastore
     176: dup
     177: iconst_1
     178: aload         6
     180: aastore
     181: dup
     182: iconst_2
     183: aload         7
     185: aastore
     186: invokevirtual #38                 // Method prepare:(Ljava/io/File;[Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Ljava/io/File;
     189: astore        8
     191: aload_0
     192: invokevirtual #39                 // Method updateInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     195: astore        9
     197: aload         9
     199: invokestatic  #40                 // Method org/jboss/as/patching/tool/PatchTool$Factory.create:(Lorg/jboss/as/patching/installation/InstallationManager;)Lorg/jboss/as/patching/tool/PatchTool;
     202: astore        10
     204: aload         10
     206: aload         8
     208: getstatic     #41                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.STRICT:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     211: invokeinterface #42,  3           // InterfaceMethod org/jboss/as/patching/tool/PatchTool.applyPatch:(Ljava/io/File;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
     216: astore        11
     218: aload         11
     220: invokeinterface #43,  1           // InterfaceMethod org/jboss/as/patching/tool/PatchingResult.commit:()V
     225: getstatic     #44                 // Field org/jboss/as/patching/tests/PatchStepAssertions.APPLY:Lorg/jboss/as/patching/tests/PatchStepAssertions;
     228: aload_1
     229: iconst_1
     230: anewarray     #2                  // class java/lang/String
     233: dup
     234: iconst_0
     235: ldc           #45                 // String jboss-installation
     237: aastore
     238: invokevirtual #46                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getFile:([Ljava/lang/String;)Ljava/io/File;
     241: aload         7
     243: invokevirtual #47                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     246: aload         9
     248: invokevirtual #48                 // Method org/jboss/as/patching/tests/PatchStepAssertions.after:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Lorg/jboss/as/patching/installation/InstallationManager;)V
     251: goto          266
     254: astore        12
     256: new           #50                 // class org/jboss/as/patching/PatchingException
     259: dup
     260: aload         12
     262: invokespecial #51                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
     265: athrow
     266: return
    Exception table:
       from    to  target type
         225   251   254   Class java/io/IOException

  protected void checkNotApplied(java.io.File, org.jboss.as.patching.installation.InstallationManager, org.jboss.as.patching.tests.PatchingTestStepBuilder...) throws java.lang.Exception;
    Code:
       0: aload_3
       1: astore        4
       3: aload         4
       5: arraylength
       6: istore        5
       8: iconst_0
       9: istore        6
      11: iload         6
      13: iload         5
      15: if_icmpge     44
      18: aload         4
      20: iload         6
      22: aaload
      23: astore        7
      25: getstatic     #44                 // Field org/jboss/as/patching/tests/PatchStepAssertions.APPLY:Lorg/jboss/as/patching/tests/PatchStepAssertions;
      28: aload_1
      29: aload         7
      31: invokevirtual #47                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
      34: aload_2
      35: invokevirtual #76                 // Method org/jboss/as/patching/tests/PatchStepAssertions.before:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Lorg/jboss/as/patching/installation/InstallationManager;)V
      38: iinc          6, 1
      41: goto          11
      44: return

  protected java.io.File prepare(java.io.File, org.jboss.as.patching.tests.PatchingTestStepBuilder...) throws org.jboss.as.patching.PatchingException;
    Code:
       0: new           #77                 // class java/io/File
       3: dup
       4: aload_1
       5: invokestatic  #64                 // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
       8: invokespecial #78                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      11: astore_3
      12: aload_3
      13: invokevirtual #79                 // Method java/io/File.mkdir:()Z
      16: pop
      17: new           #80                 // class java/util/ArrayList
      20: dup
      21: invokespecial #81                 // Method java/util/ArrayList."<init>":()V
      24: astore        4
      26: aload_2
      27: astore        5
      29: aload         5
      31: arraylength
      32: istore        6
      34: iconst_0
      35: istore        7
      37: iload         7
      39: iload         6
      41: if_icmpge     146
      44: aload         5
      46: iload         7
      48: aaload
      49: astore        8
      51: aload         8
      53: invokevirtual #47                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
      56: astore        9
      58: aload         8
      60: invokevirtual #82                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.getPatchDir:()Ljava/io/File;
      63: aload         9
      65: invokestatic  #83                 // Method writePatch:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;)V
      68: aload         9
      70: invokeinterface #84,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
      75: astore        10
      77: new           #85                 // class java/lang/StringBuilder
      80: dup
      81: invokespecial #86                 // Method java/lang/StringBuilder."<init>":()V
      84: aload         10
      86: invokevirtual #87                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: ldc           #88                 // String .zip
      91: invokevirtual #87                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: invokevirtual #89                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      97: astore        11
      99: new           #77                 // class java/io/File
     102: dup
     103: aload_3
     104: aload         11
     106: invokespecial #78                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     109: astore        12
     111: aload         8
     113: invokevirtual #82                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.getPatchDir:()Ljava/io/File;
     116: aload         12
     118: invokestatic  #90                 // Method org/jboss/as/patching/ZipUtils.zip:(Ljava/io/File;Ljava/io/File;)V
     121: aload         4
     123: new           #91                 // class org/jboss/as/patching/metadata/BundledPatch$BundledPatchEntry
     126: dup
     127: aload         10
     129: aload         11
     131: invokespecial #92                 // Method org/jboss/as/patching/metadata/BundledPatch$BundledPatchEntry."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     134: invokeinterface #93,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     139: pop
     140: iinc          7, 1
     143: goto          37
     146: new           #77                 // class java/io/File
     149: dup
     150: aload_3
     151: ldc           #94                 // String patches.xml
     153: invokespecial #78                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     156: astore        5
     158: new           #95                 // class java/io/FileOutputStream
     161: dup
     162: aload         5
     164: invokespecial #96                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     167: astore        6
     169: aload         6
     171: new           #97                 // class org/jboss/as/patching/tests/PatchBundleUnitTestCase$1
     174: dup
     175: aload_0
     176: aload         4
     178: invokespecial #98                 // Method org/jboss/as/patching/tests/PatchBundleUnitTestCase$1."<init>":(Lorg/jboss/as/patching/tests/PatchBundleUnitTestCase;Ljava/util/List;)V
     181: invokestatic  #99                 // Method org/jboss/as/patching/metadata/PatchBundleXml.marshal:(Ljava/io/OutputStream;Lorg/jboss/as/patching/metadata/BundledPatch;)V
     184: aload         6
     186: invokestatic  #100                // Method org/jboss/as/patching/IoUtils.safeClose:(Ljava/io/Closeable;)V
     189: goto          202
     192: astore        13
     194: aload         6
     196: invokestatic  #100                // Method org/jboss/as/patching/IoUtils.safeClose:(Ljava/io/Closeable;)V
     199: aload         13
     201: athrow
     202: goto          217
     205: astore        6
     207: new           #50                 // class org/jboss/as/patching/PatchingException
     210: dup
     211: aload         6
     213: invokespecial #51                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
     216: athrow
     217: new           #77                 // class java/io/File
     220: dup
     221: aload_1
     222: ldc           #102                // String multi-step-contents.zip
     224: invokespecial #78                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     227: astore        6
     229: aload_3
     230: aload         6
     232: invokestatic  #90                 // Method org/jboss/as/patching/ZipUtils.zip:(Ljava/io/File;Ljava/io/File;)V
     235: aload         6
     237: areturn
    Exception table:
       from    to  target type
         169   184   192   any
         192   194   192   any
         158   202   205   Class java/lang/Exception

  static {};
    Code:
       0: iconst_2
       1: anewarray     #2                  // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #103                // String bin
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #104                // String standalone.sh
      13: aastore
      14: putstatic     #67                 // Field FILE_ONE:[Ljava/lang/String;
      17: iconst_2
      18: anewarray     #2                  // class java/lang/String
      21: dup
      22: iconst_0
      23: ldc           #103                // String bin
      25: aastore
      26: dup
      27: iconst_1
      28: ldc           #105                // String standalone.conf
      30: aastore
      31: putstatic     #70                 // Field FILE_TWO:[Ljava/lang/String;
      34: iconst_2
      35: anewarray     #2                  // class java/lang/String
      38: dup
      39: iconst_0
      40: ldc           #103                // String bin
      42: aastore
      43: dup
      44: iconst_1
      45: ldc           #106                // String test
      47: aastore
      48: putstatic     #62                 // Field FILE_EXISTING:[Ljava/lang/String;
      51: return
}
