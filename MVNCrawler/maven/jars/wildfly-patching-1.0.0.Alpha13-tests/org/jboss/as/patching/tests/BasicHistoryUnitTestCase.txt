Compiled from "BasicHistoryUnitTestCase.java"
public class org.jboss.as.patching.tests.BasicHistoryUnitTestCase extends org.jboss.as.patching.tests.AbstractPatchingTest {
  static final java.lang.String[] FILE_ONE;

  static final java.lang.String[] FILE_TWO;

  static final java.lang.String[] FILE_EXISTING;

  public org.jboss.as.patching.tests.BasicHistoryUnitTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/patching/tests/AbstractPatchingTest."<init>":()V
       4: return

  public void testBasicPatchHistory() throws java.io.IOException, org.jboss.as.patching.PatchingException;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: bipush        20
       7: newarray       byte
       9: astore_2
      10: bipush        20
      12: newarray       byte
      14: astore_3
      15: aload_1
      16: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
      19: invokevirtual #4                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.getFile:([Ljava/lang/String;)Ljava/io/File;
      22: astore        4
      24: aload         4
      26: iconst_0
      27: anewarray     #5                  // class java/lang/String
      30: invokestatic  #6                  // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      33: pop
      34: aload         4
      36: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      39: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      42: aload         4
      44: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
      47: astore        5
      49: aload         5
      51: aload         5
      53: arraylength
      54: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
      57: astore        6
      59: aload_1
      60: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      63: astore        7
      65: aload         7
      67: ldc           #12                 // String CP1
      69: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      72: ldc           #14                 // String 6.2.0.GA
      74: ldc           #14                 // String 6.2.0.GA
      76: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      79: ldc           #16                 // String base-CP1
      81: ldc           #17                 // String base
      83: iconst_0
      84: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      87: ldc           #19                 // String org.jboss.test
      89: aload_3
      90: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      93: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
      96: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      99: aload_2
     100: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     103: invokevirtual #24                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
     106: checkcast     #25                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     109: aload         6
     111: aload         5
     113: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     116: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
     119: pop
     120: aload_0
     121: aload         7
     123: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     126: pop
     127: aload_1
     128: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     131: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     134: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     137: aload_1
     138: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     141: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     144: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     147: aload         5
     149: aload         4
     151: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     154: invokestatic  #30                 // Method java/util/Arrays.equals:([B[B)Z
     157: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     160: aload_1
     161: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     164: astore        8
     166: aload         8
     168: ldc           #31                 // String oneOff1
     170: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     173: ldc           #14                 // String 6.2.0.GA
     175: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     178: ldc           #33                 // String base-oneOff1
     180: ldc           #17                 // String base
     182: iconst_0
     183: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     186: ldc           #19                 // String org.jboss.test
     188: aload_3
     189: aconst_null
     190: invokevirtual #35                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.updateModuleWithRandomContent:(Ljava/lang/String;[B[B)Ljava/lang/Object;
     193: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     196: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     199: aload_2
     200: aconst_null
     201: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     204: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
     207: checkcast     #25                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     210: aload         5
     212: aload         5
     214: arraylength
     215: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
     218: aload         5
     220: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     223: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
     226: pop
     227: aload_0
     228: aload         8
     230: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     233: pop
     234: aload_1
     235: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     238: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     241: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     244: aload_1
     245: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     248: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     251: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     254: aload         5
     256: aload         4
     258: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     261: invokestatic  #30                 // Method java/util/Arrays.equals:([B[B)Z
     264: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     267: aload_1
     268: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     271: astore        9
     273: aload         9
     275: ldc           #36                 // String CP2
     277: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     280: ldc           #14                 // String 6.2.0.GA
     282: ldc           #14                 // String 6.2.0.GA
     284: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     287: ldc           #37                 // String base-CP2
     289: ldc           #17                 // String base
     291: iconst_0
     292: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     295: ldc           #19                 // String org.jboss.test
     297: aload_3
     298: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     301: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     304: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     307: aload_2
     308: getstatic     #38                 // Field FILE_TWO:[Ljava/lang/String;
     311: invokevirtual #24                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
     314: checkcast     #25                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     317: aload         5
     319: aload         5
     321: arraylength
     322: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
     325: aload         5
     327: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     330: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
     333: pop
     334: aload_0
     335: aload         9
     337: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     340: pop
     341: aload_1
     342: getstatic     #38                 // Field FILE_TWO:[Ljava/lang/String;
     345: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     348: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     351: aload_1
     352: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     355: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     358: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     361: aload_1
     362: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     365: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     368: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     371: aload         5
     373: aload         4
     375: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     378: invokestatic  #30                 // Method java/util/Arrays.equals:([B[B)Z
     381: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     384: aload_0
     385: aload         9
     387: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     390: pop
     391: aload_0
     392: aload         8
     394: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     397: pop
     398: aload_0
     399: aload         7
     401: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     404: pop
     405: return

  public void testAutoResolveConflicts() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: aload_1
       6: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
       9: invokevirtual #4                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.getFile:([Ljava/lang/String;)Ljava/io/File;
      12: astore_2
      13: aload_2
      14: iconst_0
      15: anewarray     #5                  // class java/lang/String
      18: invokestatic  #6                  // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      21: pop
      22: aload_2
      23: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      26: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      29: aload_2
      30: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
      33: astore_3
      34: aload_3
      35: aload_3
      36: arraylength
      37: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
      40: astore        4
      42: bipush        20
      44: newarray       byte
      46: astore        5
      48: aload_1
      49: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      52: astore        6
      54: aload         6
      56: ldc           #40                 // String one-off-one
      58: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      61: ldc           #14                 // String 6.2.0.GA
      63: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      66: aload         4
      68: aload_3
      69: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
      72: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
      75: checkcast     #25                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
      78: ldc           #41                 // String base-one-off
      80: ldc           #17                 // String base
      82: iconst_0
      83: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      86: ldc           #42                 // String test.module
      88: aload         5
      90: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      93: pop
      94: aload_0
      95: aload         6
      97: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     100: pop
     101: aload_1
     102: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     105: astore        7
     107: aload         7
     109: ldc           #12                 // String CP1
     111: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     114: ldc           #14                 // String 6.2.0.GA
     116: ldc           #14                 // String 6.2.0.GA
     118: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     121: aload         4
     123: aload_3
     124: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     127: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
     130: checkcast     #25                 // class org/jboss/as/patching/tests/PatchingTestStepBuilder
     133: ldc           #43                 // String base-cp1
     135: ldc           #17                 // String base
     137: iconst_0
     138: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     141: ldc           #42                 // String test.module
     143: aload         5
     145: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     148: pop
     149: aload_0
     150: aload         7
     152: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     155: pop
     156: aload_0
     157: aload         7
     159: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     162: pop
     163: aload_0
     164: aload         6
     166: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     169: pop
     170: return

  public void testLayersBasics() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_3
       2: anewarray     #5                  // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #44                 // String layer2
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #45                 // String layer1
      14: aastore
      15: dup
      16: iconst_2
      17: ldc           #17                 // String base
      19: aastore
      20: invokevirtual #46                 // Method createDefaultBuilder:([Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestBuilder;
      23: astore_1
      24: bipush        20
      26: newarray       byte
      28: astore_2
      29: bipush        20
      31: newarray       byte
      33: astore_3
      34: aload_1
      35: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      38: astore        4
      40: aload         4
      42: ldc           #12                 // String CP1
      44: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      47: ldc           #14                 // String 6.2.0.GA
      49: ldc           #14                 // String 6.2.0.GA
      51: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      54: ldc           #16                 // String base-CP1
      56: ldc           #17                 // String base
      58: iconst_0
      59: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      62: ldc           #19                 // String org.jboss.test
      64: aload_3
      65: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      68: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
      71: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      74: aload_2
      75: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
      78: invokevirtual #24                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
      81: pop
      82: aload_0
      83: aload         4
      85: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
      88: pop
      89: aload_1
      90: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
      93: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
      96: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
      99: aload_1
     100: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     103: astore        5
     105: aload         5
     107: ldc           #36                 // String CP2
     109: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     112: ldc           #14                 // String 6.2.0.GA
     114: ldc           #14                 // String 6.2.0.GA
     116: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     119: ldc           #47                 // String layer2-CP2
     121: ldc           #44                 // String layer2
     123: iconst_0
     124: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     127: ldc           #19                 // String org.jboss.test
     129: aconst_null
     130: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     133: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     136: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     139: ldc           #48                 // String layer1-CP2
     141: ldc           #45                 // String layer1
     143: iconst_0
     144: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     147: ldc           #19                 // String org.jboss.test
     149: aconst_null
     150: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     153: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     156: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     159: aload_2
     160: aload_2
     161: arraylength
     162: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
     165: aload_2
     166: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     169: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
     172: pop
     173: aload_0
     174: aload         5
     176: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     179: pop
     180: aload_1
     181: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     184: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     187: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     190: aload_1
     191: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     194: astore        6
     196: aload         6
     198: ldc           #49                 // String CP3
     200: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     203: ldc           #14                 // String 6.2.0.GA
     205: ldc           #14                 // String 6.2.0.GA
     207: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     210: aload_2
     211: aload_2
     212: arraylength
     213: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
     216: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     219: invokevirtual #50                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.removeFile:([B[Ljava/lang/String;)Ljava/lang/Object;
     222: pop
     223: aload_0
     224: aload         6
     226: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     229: pop
     230: aload_1
     231: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     234: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     237: invokestatic  #51                 // Method org/junit/Assert.assertFalse:(Z)V
     240: aload_0
     241: aload         6
     243: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     246: pop
     247: aload_1
     248: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     251: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     254: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     257: aload_0
     258: aload         5
     260: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     263: pop
     264: aload_1
     265: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     268: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     271: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     274: aload_0
     275: aload         4
     277: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     280: pop
     281: aload_1
     282: getstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
     285: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     288: invokestatic  #51                 // Method org/junit/Assert.assertFalse:(Z)V
     291: return

  public void testRemoveModule() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: aload_1
       6: invokevirtual #52                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.getRoot:()Ljava/io/File;
       9: astore_2
      10: new           #53                 // class java/io/File
      13: dup
      14: aload_2
      15: ldc           #54                 // String jboss-installation
      17: invokespecial #55                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      20: astore_3
      21: new           #53                 // class java/io/File
      24: dup
      25: aload_3
      26: ldc           #56                 // String modules/system/layers/base
      28: invokespecial #55                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      31: astore        4
      33: aload         4
      35: ldc           #42                 // String test.module
      37: iconst_1
      38: anewarray     #5                  // class java/lang/String
      41: dup
      42: iconst_0
      43: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      46: aastore
      47: invokestatic  #57                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
      50: astore        5
      52: aload         5
      54: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
      57: astore        6
      59: aload_1
      60: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      63: astore        7
      65: aload         7
      67: ldc           #58                 // String step1
      69: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      72: ldc           #14                 // String 6.2.0.GA
      74: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      77: ldc           #59                 // String base-1
      79: ldc           #17                 // String base
      81: iconst_0
      82: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      85: ldc           #42                 // String test.module
      87: ldc           #60                 // String main
      89: aload         6
      91: invokevirtual #61                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.removeModule:(Ljava/lang/String;Ljava/lang/String;[B)Ljava/lang/Object;
      94: pop
      95: aload_0
      96: aload         7
      98: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     101: pop
     102: aload_0
     103: aload         7
     105: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     108: pop
     109: return

  public void testBasicIncrementalPatch() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: bipush        20
       7: newarray       byte
       9: astore_2
      10: bipush        20
      12: newarray       byte
      14: astore_3
      15: aload_1
      16: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      19: astore        4
      21: aload         4
      23: ldc           #12                 // String CP1
      25: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      28: ldc           #14                 // String 6.2.0.GA
      30: ldc           #14                 // String 6.2.0.GA
      32: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      35: ldc           #16                 // String base-CP1
      37: ldc           #17                 // String base
      39: iconst_0
      40: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      43: ldc           #19                 // String org.jboss.test
      45: aload_2
      46: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      49: pop
      50: aload_0
      51: aload         4
      53: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
      56: pop
      57: aload_1
      58: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      61: astore        5
      63: aload         5
      65: ldc           #36                 // String CP2
      67: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      70: ldc           #14                 // String 6.2.0.GA
      72: ldc           #14                 // String 6.2.0.GA
      74: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      77: ldc           #37                 // String base-CP2
      79: ldc           #17                 // String base
      81: iconst_0
      82: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      85: ldc           #62                 // String org.jboss.test.two
      87: aload_3
      88: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      91: pop
      92: aload_0
      93: aload         5
      95: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
      98: pop
      99: aload_0
     100: invokevirtual #63                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     103: astore        6
     105: ldc           #37                 // String base-CP2
     107: aload         6
     109: ldc           #17                 // String base
     111: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     114: ldc           #19                 // String org.jboss.test
     116: ldc           #60                 // String main
     118: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     121: ldc           #37                 // String base-CP2
     123: aload         6
     125: ldc           #17                 // String base
     127: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     130: ldc           #62                 // String org.jboss.test.two
     132: ldc           #60                 // String main
     134: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     137: aload_1
     138: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     141: astore        7
     143: aload         7
     145: ldc           #49                 // String CP3
     147: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     150: ldc           #14                 // String 6.2.0.GA
     152: ldc           #14                 // String 6.2.0.GA
     154: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     157: ldc           #66                 // String base-CP3
     159: ldc           #17                 // String base
     161: iconst_0
     162: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     165: ldc           #62                 // String org.jboss.test.two
     167: ldc           #60                 // String main
     169: aload_3
     170: invokevirtual #61                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.removeModule:(Ljava/lang/String;Ljava/lang/String;[B)Ljava/lang/Object;
     173: pop
     174: aload_0
     175: aload         7
     177: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     180: pop
     181: aload_0
     182: invokevirtual #63                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     185: astore        6
     187: ldc           #66                 // String base-CP3
     189: aload         6
     191: ldc           #17                 // String base
     193: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     196: ldc           #19                 // String org.jboss.test
     198: ldc           #60                 // String main
     200: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     203: ldc           #66                 // String base-CP3
     205: aload         6
     207: ldc           #17                 // String base
     209: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     212: ldc           #62                 // String org.jboss.test.two
     214: ldc           #60                 // String main
     216: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     219: aload_0
     220: aload         7
     222: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     225: pop
     226: aload_0
     227: invokevirtual #63                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     230: astore        6
     232: ldc           #37                 // String base-CP2
     234: aload         6
     236: ldc           #17                 // String base
     238: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     241: ldc           #19                 // String org.jboss.test
     243: ldc           #60                 // String main
     245: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     248: ldc           #37                 // String base-CP2
     250: aload         6
     252: ldc           #17                 // String base
     254: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     257: ldc           #62                 // String org.jboss.test.two
     259: ldc           #60                 // String main
     261: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     264: aload_0
     265: aload         5
     267: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     270: pop
     271: aload_0
     272: invokevirtual #63                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     275: astore        6
     277: ldc           #16                 // String base-CP1
     279: aload         6
     281: ldc           #17                 // String base
     283: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     286: ldc           #19                 // String org.jboss.test
     288: ldc           #60                 // String main
     290: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     293: aload_0
     294: aload         4
     296: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     299: pop
     300: return

  public void testIncrementalLayersPatch() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_3
       2: anewarray     #5                  // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #67                 // String layer-2
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #68                 // String layer-1
      14: aastore
      15: dup
      16: iconst_2
      17: ldc           #17                 // String base
      19: aastore
      20: invokevirtual #46                 // Method createDefaultBuilder:([Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestBuilder;
      23: astore_1
      24: bipush        20
      26: newarray       byte
      28: astore_2
      29: bipush        20
      31: newarray       byte
      33: astore_3
      34: bipush        20
      36: newarray       byte
      38: astore        4
      40: bipush        20
      42: newarray       byte
      44: astore        5
      46: bipush        20
      48: newarray       byte
      50: astore        6
      52: bipush        20
      54: newarray       byte
      56: astore        7
      58: aload_1
      59: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      62: astore        8
      64: aload         8
      66: ldc           #12                 // String CP1
      68: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      71: ldc           #14                 // String 6.2.0.GA
      73: ldc           #14                 // String 6.2.0.GA
      75: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      78: ldc           #16                 // String base-CP1
      80: ldc           #17                 // String base
      82: iconst_0
      83: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      86: ldc           #19                 // String org.jboss.test
      88: aload_2
      89: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      92: pop
      93: aload_0
      94: aload         8
      96: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
      99: pop
     100: aload_1
     101: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     104: astore        9
     106: aload         9
     108: ldc           #36                 // String CP2
     110: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     113: ldc           #14                 // String 6.2.0.GA
     115: ldc           #14                 // String 6.2.0.GA
     117: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     120: ldc           #69                 // String layer-1-CP1
     122: ldc           #68                 // String layer-1
     124: iconst_0
     125: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     128: ldc           #62                 // String org.jboss.test.two
     130: aload_3
     131: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     134: pop
     135: aload_0
     136: aload         9
     138: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     141: pop
     142: aload_1
     143: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     146: astore        10
     148: aload         10
     150: ldc           #49                 // String CP3
     152: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     155: ldc           #14                 // String 6.2.0.GA
     157: ldc           #14                 // String 6.2.0.GA
     159: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     162: ldc           #70                 // String layer-2-CP1
     164: ldc           #67                 // String layer-2
     166: iconst_0
     167: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     170: ldc           #71                 // String org.jboss.test.three
     172: ldc           #60                 // String main
     174: aload         4
     176: invokevirtual #61                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.removeModule:(Ljava/lang/String;Ljava/lang/String;[B)Ljava/lang/Object;
     179: pop
     180: aload_0
     181: aload         10
     183: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     186: pop
     187: aload_1
     188: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     191: astore        11
     193: aload         11
     195: ldc           #72                 // String CP4
     197: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     200: ldc           #14                 // String 6.2.0.GA
     202: ldc           #14                 // String 6.2.0.GA
     204: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     207: ldc           #37                 // String base-CP2
     209: ldc           #17                 // String base
     211: iconst_0
     212: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     215: ldc           #73                 // String org.jboss.test.four
     217: aload         5
     219: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     222: pop
     223: aload_0
     224: aload         11
     226: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     229: pop
     230: aload_0
     231: invokevirtual #63                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     234: astore        12
     236: ldc           #37                 // String base-CP2
     238: aload         12
     240: ldc           #17                 // String base
     242: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     245: ldc           #19                 // String org.jboss.test
     247: ldc           #60                 // String main
     249: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     252: ldc           #37                 // String base-CP2
     254: aload         12
     256: ldc           #17                 // String base
     258: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     261: ldc           #73                 // String org.jboss.test.four
     263: ldc           #60                 // String main
     265: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     268: aload_1
     269: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     272: astore        13
     274: aload         13
     276: ldc           #74                 // String CP5
     278: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     281: ldc           #14                 // String 6.2.0.GA
     283: ldc           #14                 // String 6.2.0.GA
     285: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     288: ldc           #66                 // String base-CP3
     290: ldc           #17                 // String base
     292: iconst_0
     293: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     296: ldc           #73                 // String org.jboss.test.four
     298: aload         5
     300: aconst_null
     301: invokevirtual #35                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.updateModuleWithRandomContent:(Ljava/lang/String;[B[B)Ljava/lang/Object;
     304: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     307: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     310: ldc           #75                 // String layer-1-CP2
     312: ldc           #68                 // String layer-1
     314: iconst_0
     315: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     318: ldc           #76                 // String org.jboss.test.five
     320: aload         6
     322: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     325: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     328: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     331: ldc           #77                 // String layer-2-CP2
     333: ldc           #67                 // String layer-2
     335: iconst_0
     336: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     339: ldc           #78                 // String org.jboss.test.six
     341: aload         7
     343: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     346: pop
     347: aload_0
     348: aload         13
     350: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     353: pop
     354: aload_0
     355: invokevirtual #63                 // Method loadInstallationManager:()Lorg/jboss/as/patching/installation/InstallationManager;
     358: astore        12
     360: ldc           #66                 // String base-CP3
     362: aload         12
     364: ldc           #17                 // String base
     366: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     369: ldc           #19                 // String org.jboss.test
     371: ldc           #60                 // String main
     373: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     376: ldc           #66                 // String base-CP3
     378: aload         12
     380: ldc           #17                 // String base
     382: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     385: ldc           #73                 // String org.jboss.test.four
     387: ldc           #60                 // String main
     389: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     392: ldc           #75                 // String layer-1-CP2
     394: aload         12
     396: ldc           #68                 // String layer-1
     398: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     401: ldc           #62                 // String org.jboss.test.two
     403: ldc           #60                 // String main
     405: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     408: ldc           #75                 // String layer-1-CP2
     410: aload         12
     412: ldc           #68                 // String layer-1
     414: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     417: ldc           #76                 // String org.jboss.test.five
     419: ldc           #60                 // String main
     421: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     424: ldc           #77                 // String layer-2-CP2
     426: aload         12
     428: ldc           #67                 // String layer-2
     430: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     433: ldc           #71                 // String org.jboss.test.three
     435: ldc           #60                 // String main
     437: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     440: ldc           #77                 // String layer-2-CP2
     442: aload         12
     444: ldc           #67                 // String layer-2
     446: invokevirtual #64                 // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     449: ldc           #78                 // String org.jboss.test.six
     451: ldc           #60                 // String main
     453: invokestatic  #65                 // Method org/jboss/as/patching/tests/PatchStepAssertions.assertModule:(Ljava/lang/String;Lorg/jboss/as/patching/installation/PatchableTarget;Ljava/lang/String;Ljava/lang/String;)V
     456: aload_0
     457: aload         13
     459: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     462: pop
     463: aload_0
     464: aload         11
     466: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     469: pop
     470: aload_0
     471: aload         10
     473: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     476: pop
     477: aload_0
     478: aload         9
     480: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     483: pop
     484: aload_0
     485: aload         8
     487: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     490: pop
     491: return

  public void testRollbackTo() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: bipush        20
       7: newarray       byte
       9: astore_2
      10: aload_2
      11: aload_2
      12: arraylength
      13: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
      16: astore_3
      17: aload_1
      18: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      21: astore        4
      23: aload         4
      25: ldc           #79                 // String oop1
      27: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      30: ldc           #14                 // String 6.2.0.GA
      32: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      35: ldc           #80                 // String base-oop1
      37: ldc           #17                 // String base
      39: iconst_0
      40: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      43: ldc           #19                 // String org.jboss.test
      45: aload_2
      46: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      49: pop
      50: aload_0
      51: aload         4
      53: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
      56: pop
      57: aload_1
      58: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      61: astore        5
      63: aload         5
      65: ldc           #81                 // String oop2
      67: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      70: ldc           #14                 // String 6.2.0.GA
      72: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      75: ldc           #82                 // String base-oop2
      77: ldc           #17                 // String base
      79: iconst_0
      80: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      83: ldc           #19                 // String org.jboss.test
      85: aload_2
      86: aload_3
      87: invokevirtual #35                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.updateModuleWithRandomContent:(Ljava/lang/String;[B[B)Ljava/lang/Object;
      90: pop
      91: aload_0
      92: aload         5
      94: invokevirtual #27                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
      97: pop
      98: aload_0
      99: aload         4
     101: getstatic     #83                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.STRICT:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     104: getstatic     #84                 // Field org/jboss/as/patching/tests/PatchStepAssertions.NONE:Lorg/jboss/as/patching/tests/PatchStepAssertions;
     107: iconst_1
     108: invokevirtual #85                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;Lorg/jboss/as/patching/tests/PatchStepAssertions;Z)Lorg/jboss/as/patching/tool/PatchingResult;
     111: pop
     112: return

  public void testUpdateNonExistingFile() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: bipush        20
       7: newarray       byte
       9: astore_2
      10: aload_2
      11: aload_2
      12: arraylength
      13: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
      16: astore_3
      17: aload_1
      18: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      21: astore        4
      23: aload         4
      25: ldc           #79                 // String oop1
      27: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      30: ldc           #14                 // String 6.2.0.GA
      32: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      35: ldc           #80                 // String base-oop1
      37: ldc           #17                 // String base
      39: iconst_0
      40: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      43: ldc           #19                 // String org.jboss.test
      45: aconst_null
      46: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      49: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
      52: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      55: aload_2
      56: aload_3
      57: iconst_1
      58: anewarray     #5                  // class java/lang/String
      61: dup
      62: iconst_0
      63: ldc           #86                 // String client.jar
      65: aastore
      66: invokevirtual #26                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.updateFileWithRandomContent:([B[B[Ljava/lang/String;)Ljava/lang/Object;
      69: pop
      70: aload_0
      71: aload         4
      73: getstatic     #87                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.OVERRIDE_ALL:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
      76: invokevirtual #88                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
      79: pop
      80: aload_1
      81: iconst_1
      82: anewarray     #5                  // class java/lang/String
      85: dup
      86: iconst_0
      87: ldc           #86                 // String client.jar
      89: aastore
      90: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
      93: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
      96: bipush        20
      98: newarray       byte
     100: astore        5
     102: aload_1
     103: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     106: astore        6
     108: aload         6
     110: ldc           #12                 // String CP1
     112: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     115: ldc           #14                 // String 6.2.0.GA
     117: ldc           #14                 // String 6.2.0.GA
     119: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     122: ldc           #16                 // String base-CP1
     124: ldc           #17                 // String base
     126: iconst_0
     127: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     130: ldc           #19                 // String org.jboss.test
     132: aload         5
     134: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     137: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     140: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     143: pop
     144: aload_0
     145: aload         6
     147: getstatic     #87                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.OVERRIDE_ALL:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     150: invokevirtual #88                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
     153: pop
     154: aload_1
     155: iconst_1
     156: anewarray     #5                  // class java/lang/String
     159: dup
     160: iconst_0
     161: ldc           #86                 // String client.jar
     163: aastore
     164: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     167: invokestatic  #51                 // Method org/junit/Assert.assertFalse:(Z)V
     170: aload_0
     171: aload         6
     173: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     176: pop
     177: aload_0
     178: aload         4
     180: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     183: pop
     184: return

  public void testAddExistingFile() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method createDefaultBuilder:()Lorg/jboss/as/patching/tests/PatchingTestBuilder;
       4: astore_1
       5: aload_1
       6: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
       9: invokevirtual #4                  // Method org/jboss/as/patching/tests/PatchingTestBuilder.getFile:([Ljava/lang/String;)Ljava/io/File;
      12: astore_2
      13: aload_2
      14: iconst_0
      15: anewarray     #5                  // class java/lang/String
      18: invokestatic  #6                  // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      21: pop
      22: aload_2
      23: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      26: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      29: aload_2
      30: invokestatic  #9                  // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
      33: astore_3
      34: aload_3
      35: aload_3
      36: arraylength
      37: invokestatic  #10                 // Method java/util/Arrays.copyOf:([BI)[B
      40: astore        4
      42: aload_1
      43: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      46: astore        5
      48: aload         5
      50: ldc           #79                 // String oop1
      52: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      55: ldc           #14                 // String 6.2.0.GA
      57: invokevirtual #32                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchIdentity:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      60: ldc           #80                 // String base-oop1
      62: ldc           #17                 // String base
      64: iconst_0
      65: invokevirtual #34                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
      68: ldc           #19                 // String org.jboss.test
      70: aconst_null
      71: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
      74: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
      77: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
      80: aload         4
      82: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
      85: invokevirtual #24                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.addFileWithRandomContent:([B[Ljava/lang/String;)Ljava/lang/Object;
      88: pop
      89: aload_0
      90: aload         5
      92: getstatic     #87                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.OVERRIDE_ALL:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
      95: invokevirtual #88                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
      98: pop
      99: aload_1
     100: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     103: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     106: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     109: bipush        20
     111: newarray       byte
     113: astore        6
     115: aload_1
     116: invokevirtual #11                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.createStepBuilder:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     119: astore        7
     121: aload         7
     123: ldc           #12                 // String CP1
     125: invokevirtual #13                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     128: ldc           #14                 // String 6.2.0.GA
     130: ldc           #14                 // String 6.2.0.GA
     132: invokevirtual #15                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     135: ldc           #16                 // String base-CP1
     137: ldc           #17                 // String base
     139: iconst_0
     140: invokevirtual #18                 // Method org/jboss/as/patching/tests/PatchingTestStepBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/tests/PatchElementTestStepBuilder;
     143: ldc           #19                 // String org.jboss.test
     145: aload         6
     147: invokevirtual #20                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.addModuleWithRandomContent:(Ljava/lang/String;[B)Ljava/lang/Object;
     150: checkcast     #21                 // class org/jboss/as/patching/tests/PatchElementTestStepBuilder
     153: invokevirtual #22                 // Method org/jboss/as/patching/tests/PatchElementTestStepBuilder.getParent:()Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;
     156: pop
     157: aload_0
     158: aload         7
     160: getstatic     #87                 // Field org/jboss/as/patching/tool/ContentVerificationPolicy.OVERRIDE_ALL:Lorg/jboss/as/patching/tool/ContentVerificationPolicy;
     163: invokevirtual #88                 // Method apply:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;)Lorg/jboss/as/patching/tool/PatchingResult;
     166: pop
     167: aload_1
     168: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     171: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     174: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     177: aload_0
     178: aload         7
     180: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     183: pop
     184: aload_0
     185: aload         5
     187: invokevirtual #39                 // Method rollback:(Lorg/jboss/as/patching/tests/PatchingTestStepBuilder;)Lorg/jboss/as/patching/tool/PatchingResult;
     190: pop
     191: aload_1
     192: getstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
     195: invokevirtual #28                 // Method org/jboss/as/patching/tests/PatchingTestBuilder.hasFile:([Ljava/lang/String;)Z
     198: invokestatic  #29                 // Method org/junit/Assert.assertTrue:(Z)V
     201: return

  static {};
    Code:
       0: iconst_2
       1: anewarray     #5                  // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #89                 // String bin
       8: aastore
       9: dup
      10: iconst_1
      11: ldc           #90                 // String standalone.sh
      13: aastore
      14: putstatic     #23                 // Field FILE_ONE:[Ljava/lang/String;
      17: iconst_2
      18: anewarray     #5                  // class java/lang/String
      21: dup
      22: iconst_0
      23: ldc           #89                 // String bin
      25: aastore
      26: dup
      27: iconst_1
      28: ldc           #91                 // String standalone.conf
      30: aastore
      31: putstatic     #38                 // Field FILE_TWO:[Ljava/lang/String;
      34: iconst_2
      35: anewarray     #5                  // class java/lang/String
      38: dup
      39: iconst_0
      40: ldc           #89                 // String bin
      42: aastore
      43: dup
      44: iconst_1
      45: ldc           #92                 // String test
      47: aastore
      48: putstatic     #3                  // Field FILE_EXISTING:[Ljava/lang/String;
      51: return
}
