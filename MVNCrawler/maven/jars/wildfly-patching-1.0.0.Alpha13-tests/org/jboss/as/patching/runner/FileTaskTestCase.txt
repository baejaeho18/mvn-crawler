Compiled from "FileTaskTestCase.java"
public class org.jboss.as.patching.runner.FileTaskTestCase extends org.jboss.as.patching.runner.AbstractTaskTestCase {
  public org.jboss.as.patching.runner.FileTaskTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/patching/runner/AbstractTaskTestCase."<init>":()V
       4: return

  public void testAddFile() throws java.lang.Exception;
    Code:
       0: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
       3: astore_1
       4: aload_0
       5: getfield      #3                  // Field tempDir:Ljava/io/File;
       8: iconst_1
       9: anewarray     #4                  // class java/lang/String
      12: dup
      13: iconst_0
      14: aload_1
      15: aastore
      16: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      19: astore_2
      20: aload_2
      21: aload_1
      22: ldc           #6                  // String new file resource
      24: iconst_2
      25: anewarray     #4                  // class java/lang/String
      28: dup
      29: iconst_0
      30: ldc           #7                  // String bin
      32: aastore
      33: dup
      34: iconst_1
      35: ldc           #8                  // String my-new-standalone.sh
      37: aastore
      38: invokestatic  #9                  // Method org/jboss/as/patching/runner/ContentModificationUtils.addMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
      41: astore_3
      42: invokestatic  #10                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      45: aload_1
      46: invokevirtual #11                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
      49: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      52: invokevirtual #12                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
      55: aload_0
      56: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      59: invokevirtual #14                 // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
      62: aload_0
      63: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      66: invokevirtual #15                 // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
      69: invokevirtual #16                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
      72: invokevirtual #17                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      75: aload_3
      76: invokevirtual #18                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
      79: checkcast     #19                 // class org/jboss/as/patching/metadata/PatchBuilder
      82: invokevirtual #20                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
      85: astore        4
      87: aload_0
      88: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
      91: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
      94: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
      99: iconst_2
     100: anewarray     #4                  // class java/lang/String
     103: dup
     104: iconst_0
     105: ldc           #7                  // String bin
     107: aastore
     108: dup
     109: iconst_1
     110: aload_3
     111: invokevirtual #24                 // Method org/jboss/as/patching/metadata/ContentModification.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     114: invokevirtual #25                 // Method org/jboss/as/patching/metadata/ContentItem.getName:()Ljava/lang/String;
     117: aastore
     118: invokestatic  #26                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileDoesNotExist:(Ljava/io/File;[Ljava/lang/String;)V
     121: aload_2
     122: aload         4
     124: invokestatic  #27                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;)V
     127: aload_2
     128: aload         4
     130: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     135: invokestatic  #29                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     138: astore        5
     140: aload_0
     141: aload         5
     143: invokevirtual #30                 // Method executePatch:(Ljava/io/File;)Lorg/jboss/as/patching/tool/PatchingResult;
     146: astore        6
     148: aload         6
     150: aload         4
     152: invokestatic  #31                 // Method org/jboss/as/patching/runner/PatchingAssert.assertPatchHasBeenApplied:(Lorg/jboss/as/patching/tool/PatchingResult;Lorg/jboss/as/patching/metadata/Patch;)V
     155: aload_0
     156: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     159: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     162: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     167: iconst_2
     168: anewarray     #4                  // class java/lang/String
     171: dup
     172: iconst_0
     173: ldc           #7                  // String bin
     175: aastore
     176: dup
     177: iconst_1
     178: aload_3
     179: invokevirtual #24                 // Method org/jboss/as/patching/metadata/ContentModification.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     182: invokevirtual #25                 // Method org/jboss/as/patching/metadata/ContentItem.getName:()Ljava/lang/String;
     185: aastore
     186: invokestatic  #32                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileExists:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     189: pop
     190: return

  public void testRemoveFile() throws java.lang.Exception;
    Code:
       0: ldc           #33                 // String standalone.sh
       2: astore_1
       3: aload_0
       4: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
       7: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
      10: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
      15: iconst_2
      16: anewarray     #4                  // class java/lang/String
      19: dup
      20: iconst_0
      21: ldc           #7                  // String bin
      23: aastore
      24: dup
      25: iconst_1
      26: aload_1
      27: aastore
      28: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      31: astore_2
      32: aload_2
      33: ldc           #35                 // String original script to run standalone AS7
      35: invokestatic  #36                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      38: aload_2
      39: invokestatic  #37                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
      42: astore_3
      43: aload_2
      44: iconst_2
      45: anewarray     #4                  // class java/lang/String
      48: dup
      49: iconst_0
      50: ldc           #7                  // String bin
      52: aastore
      53: dup
      54: iconst_1
      55: aload_1
      56: aastore
      57: invokestatic  #38                 // Method org/jboss/as/patching/runner/ContentModificationUtils.removeMisc:(Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
      60: astore        4
      62: invokestatic  #10                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      65: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      68: invokevirtual #11                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
      71: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      74: invokevirtual #12                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
      77: aload_0
      78: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      81: invokevirtual #14                 // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
      84: aload_0
      85: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      88: invokevirtual #15                 // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
      91: invokevirtual #16                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
      94: invokevirtual #17                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      97: aload         4
      99: invokevirtual #18                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     102: checkcast     #19                 // class org/jboss/as/patching/metadata/PatchBuilder
     105: invokevirtual #20                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     108: astore        5
     110: aload_0
     111: getfield      #3                  // Field tempDir:Ljava/io/File;
     114: iconst_1
     115: anewarray     #4                  // class java/lang/String
     118: dup
     119: iconst_0
     120: aload         5
     122: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     127: aastore
     128: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     131: astore        6
     133: aload         6
     135: aload         5
     137: invokestatic  #27                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;)V
     140: aload         6
     142: aload         5
     144: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     149: invokestatic  #29                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     152: astore        7
     154: aload_0
     155: aload         7
     157: invokevirtual #30                 // Method executePatch:(Ljava/io/File;)Lorg/jboss/as/patching/tool/PatchingResult;
     160: astore        8
     162: aload         8
     164: aload         5
     166: invokestatic  #31                 // Method org/jboss/as/patching/runner/PatchingAssert.assertPatchHasBeenApplied:(Lorg/jboss/as/patching/tool/PatchingResult;Lorg/jboss/as/patching/metadata/Patch;)V
     169: aload_2
     170: iconst_0
     171: anewarray     #4                  // class java/lang/String
     174: invokestatic  #26                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileDoesNotExist:(Ljava/io/File;[Ljava/lang/String;)V
     177: aload_0
     178: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     181: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     184: aload         5
     186: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     191: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getPatchHistoryDir:(Ljava/lang/String;)Ljava/io/File;
     196: iconst_3
     197: anewarray     #4                  // class java/lang/String
     200: dup
     201: iconst_0
     202: ldc           #40                 // String misc
     204: aastore
     205: dup
     206: iconst_1
     207: ldc           #7                  // String bin
     209: aastore
     210: dup
     211: iconst_2
     212: aload_1
     213: aastore
     214: invokestatic  #32                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileExists:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     217: pop
     218: return

  public void testUpdateFile() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
       4: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
       7: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
      12: iconst_1
      13: anewarray     #4                  // class java/lang/String
      16: dup
      17: iconst_0
      18: ldc           #7                  // String bin
      20: aastore
      21: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      24: astore_1
      25: ldc           #33                 // String standalone.sh
      27: astore_2
      28: aload_1
      29: iconst_1
      30: anewarray     #4                  // class java/lang/String
      33: dup
      34: iconst_0
      35: aload_2
      36: aastore
      37: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      40: astore_3
      41: aload_3
      42: ldc           #35                 // String original script to run standalone AS7
      44: invokestatic  #36                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      47: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      50: astore        4
      52: aload_0
      53: getfield      #3                  // Field tempDir:Ljava/io/File;
      56: iconst_1
      57: anewarray     #4                  // class java/lang/String
      60: dup
      61: iconst_0
      62: aload         4
      64: aastore
      65: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      68: astore        5
      70: aload         5
      72: aload         4
      74: ldc           #41                 // String updated script
      76: aload_3
      77: iconst_2
      78: anewarray     #4                  // class java/lang/String
      81: dup
      82: iconst_0
      83: ldc           #7                  // String bin
      85: aastore
      86: dup
      87: iconst_1
      88: ldc           #33                 // String standalone.sh
      90: aastore
      91: invokestatic  #42                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
      94: astore        6
      96: invokestatic  #10                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      99: aload         4
     101: invokevirtual #11                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     104: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     107: invokevirtual #12                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     110: aload_0
     111: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     114: invokevirtual #14                 // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     117: aload_0
     118: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     121: invokevirtual #15                 // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     124: invokevirtual #16                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
     127: invokevirtual #17                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     130: aload         6
     132: invokevirtual #18                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     135: checkcast     #19                 // class org/jboss/as/patching/metadata/PatchBuilder
     138: invokevirtual #20                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     141: astore        7
     143: aload         5
     145: aload         7
     147: invokestatic  #27                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;)V
     150: aload         5
     152: aload         7
     154: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     159: invokestatic  #29                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     162: astore        8
     164: aload_0
     165: aload         8
     167: invokevirtual #30                 // Method executePatch:(Ljava/io/File;)Lorg/jboss/as/patching/tool/PatchingResult;
     170: astore        9
     172: aload         9
     174: aload         7
     176: invokestatic  #31                 // Method org/jboss/as/patching/runner/PatchingAssert.assertPatchHasBeenApplied:(Lorg/jboss/as/patching/tool/PatchingResult;Lorg/jboss/as/patching/metadata/Patch;)V
     179: aload_3
     180: iconst_0
     181: anewarray     #4                  // class java/lang/String
     184: invokestatic  #32                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileExists:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     187: pop
     188: aload         6
     190: invokevirtual #24                 // Method org/jboss/as/patching/metadata/ContentModification.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     193: invokevirtual #43                 // Method org/jboss/as/patching/metadata/ContentItem.getContentHash:()[B
     196: aload_3
     197: invokestatic  #44                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileContent:([BLjava/io/File;)V
     200: aload_0
     201: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     204: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     207: aload         4
     209: invokeinterface #39,  2           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getPatchHistoryDir:(Ljava/lang/String;)Ljava/io/File;
     214: iconst_3
     215: anewarray     #4                  // class java/lang/String
     218: dup
     219: iconst_0
     220: ldc           #40                 // String misc
     222: aastore
     223: dup
     224: iconst_1
     225: ldc           #7                  // String bin
     227: aastore
     228: dup
     229: iconst_2
     230: aload_2
     231: aastore
     232: invokestatic  #32                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileExists:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     235: astore        10
     237: aload         6
     239: invokevirtual #45                 // Method org/jboss/as/patching/metadata/ContentModification.getTargetHash:()[B
     242: aload         10
     244: invokestatic  #44                 // Method org/jboss/as/patching/runner/PatchingAssert.assertFileContent:([BLjava/io/File;)V
     247: return

  public void testRemoveDirectoryAndRollback() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
       4: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
       7: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
      12: iconst_1
      13: anewarray     #4                  // class java/lang/String
      16: dup
      17: iconst_0
      18: ldc           #46                 // String test
      20: aastore
      21: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      24: astore_1
      25: ldc           #47                 // String one
      27: astore_2
      28: ldc           #48                 // String two
      30: astore_3
      31: aload_1
      32: iconst_1
      33: anewarray     #4                  // class java/lang/String
      36: dup
      37: iconst_0
      38: aload_2
      39: aastore
      40: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      43: astore        4
      45: aload         4
      47: iconst_0
      48: anewarray     #4                  // class java/lang/String
      51: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      54: pop
      55: aload         4
      57: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      60: invokestatic  #36                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      63: aload_1
      64: iconst_1
      65: anewarray     #4                  // class java/lang/String
      68: dup
      69: iconst_0
      70: aload_3
      71: aastore
      72: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      75: astore        5
      77: aload         5
      79: iconst_0
      80: anewarray     #4                  // class java/lang/String
      83: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      86: pop
      87: aload         5
      89: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      92: invokestatic  #36                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
      95: aload_1
      96: iconst_1
      97: anewarray     #4                  // class java/lang/String
     100: dup
     101: iconst_0
     102: ldc           #49                 // String sub
     104: aastore
     105: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     108: astore        6
     110: aload         6
     112: iconst_1
     113: anewarray     #4                  // class java/lang/String
     116: dup
     117: iconst_0
     118: aload_2
     119: aastore
     120: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     123: astore        7
     125: aload         7
     127: iconst_0
     128: anewarray     #4                  // class java/lang/String
     131: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     134: pop
     135: aload         7
     137: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     140: invokestatic  #36                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     143: aload         6
     145: iconst_1
     146: anewarray     #4                  // class java/lang/String
     149: dup
     150: iconst_0
     151: aload_3
     152: aastore
     153: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     156: astore        8
     158: aload         8
     160: iconst_0
     161: anewarray     #4                  // class java/lang/String
     164: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     167: pop
     168: aload         8
     170: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     173: invokestatic  #36                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     176: aload_1
     177: invokestatic  #37                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     180: astore        9
     182: ldc           #50                 // String patchID
     184: astore        10
     186: aload_1
     187: iconst_0
     188: anewarray     #4                  // class java/lang/String
     191: invokestatic  #38                 // Method org/jboss/as/patching/runner/ContentModificationUtils.removeMisc:(Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     194: astore        11
     196: invokestatic  #10                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     199: aload         10
     201: invokevirtual #11                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     204: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     207: invokevirtual #12                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     210: aload_0
     211: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     214: invokevirtual #14                 // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     217: aload_0
     218: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     221: invokevirtual #15                 // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     224: invokevirtual #16                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
     227: invokevirtual #17                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     230: aload         11
     232: invokevirtual #18                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     235: checkcast     #19                 // class org/jboss/as/patching/metadata/PatchBuilder
     238: invokevirtual #20                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     241: astore        12
     243: aload_0
     244: getfield      #3                  // Field tempDir:Ljava/io/File;
     247: iconst_1
     248: anewarray     #4                  // class java/lang/String
     251: dup
     252: iconst_0
     253: aload         12
     255: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     260: aastore
     261: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     264: astore        13
     266: aload         13
     268: aload         12
     270: invokestatic  #27                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;)V
     273: aload         13
     275: aload         12
     277: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     282: invokestatic  #29                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     285: astore        14
     287: aload_0
     288: invokevirtual #51                 // Method loadInstalledIdentity:()Lorg/jboss/as/patching/installation/InstalledIdentity;
     291: invokevirtual #52                 // Method org/jboss/as/patching/installation/InstalledIdentity.getIdentity:()Lorg/jboss/as/patching/installation/Identity;
     294: astore        15
     296: aload_0
     297: aload         14
     299: invokevirtual #30                 // Method executePatch:(Ljava/io/File;)Lorg/jboss/as/patching/tool/PatchingResult;
     302: astore        16
     304: aload         16
     306: aload         12
     308: invokestatic  #31                 // Method org/jboss/as/patching/runner/PatchingAssert.assertPatchHasBeenApplied:(Lorg/jboss/as/patching/tool/PatchingResult;Lorg/jboss/as/patching/metadata/Patch;)V
     311: aload_1
     312: invokevirtual #53                 // Method java/io/File.exists:()Z
     315: invokestatic  #54                 // Method org/junit/Assert.assertFalse:(Z)V
     318: aload_0
     319: aload         12
     321: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     326: invokevirtual #55                 // Method rollback:(Ljava/lang/String;)Lorg/jboss/as/patching/tool/PatchingResult;
     329: astore        16
     331: aload         16
     333: aload         15
     335: invokestatic  #56                 // Method org/jboss/as/patching/runner/PatchingAssert.assertPatchHasBeenRolledBack:(Lorg/jboss/as/patching/tool/PatchingResult;Lorg/jboss/as/patching/installation/Identity;)V
     338: aload_1
     339: invokevirtual #53                 // Method java/io/File.exists:()Z
     342: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     345: aload         4
     347: invokevirtual #58                 // Method java/io/File.isFile:()Z
     350: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     353: aload         5
     355: invokevirtual #58                 // Method java/io/File.isFile:()Z
     358: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     361: aload         7
     363: invokevirtual #58                 // Method java/io/File.isFile:()Z
     366: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     369: aload         8
     371: invokevirtual #58                 // Method java/io/File.isFile:()Z
     374: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     377: return

  public void testAddDirectory() throws java.lang.Exception;
    Code:
       0: new           #59                 // class org/jboss/as/patching/metadata/MiscContentItem
       3: dup
       4: ldc           #60                 // String dir
       6: iconst_1
       7: anewarray     #4                  // class java/lang/String
      10: dup
      11: iconst_0
      12: ldc           #46                 // String test
      14: aastore
      15: getstatic     #61                 // Field org/jboss/as/patching/IoUtils.NO_CONTENT:[B
      18: iconst_1
      19: iconst_0
      20: invokespecial #62                 // Method org/jboss/as/patching/metadata/MiscContentItem."<init>":(Ljava/lang/String;[Ljava/lang/String;[BZZ)V
      23: astore_1
      24: new           #63                 // class org/jboss/as/patching/metadata/ContentModification
      27: dup
      28: aload_1
      29: getstatic     #61                 // Field org/jboss/as/patching/IoUtils.NO_CONTENT:[B
      32: getstatic     #64                 // Field org/jboss/as/patching/metadata/ModificationType.ADD:Lorg/jboss/as/patching/metadata/ModificationType;
      35: invokespecial #65                 // Method org/jboss/as/patching/metadata/ContentModification."<init>":(Lorg/jboss/as/patching/metadata/ContentItem;[BLorg/jboss/as/patching/metadata/ModificationType;)V
      38: astore_2
      39: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      42: astore_3
      43: invokestatic  #10                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      46: aload_3
      47: invokevirtual #11                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
      50: invokestatic  #2                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      53: invokevirtual #12                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
      56: aload_0
      57: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      60: invokevirtual #14                 // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
      63: aload_0
      64: getfield      #13                 // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      67: invokevirtual #15                 // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
      70: invokevirtual #16                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
      73: invokevirtual #17                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
      76: aload_2
      77: invokevirtual #18                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
      80: checkcast     #19                 // class org/jboss/as/patching/metadata/PatchBuilder
      83: invokevirtual #20                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
      86: astore        4
      88: aload_0
      89: getfield      #3                  // Field tempDir:Ljava/io/File;
      92: iconst_1
      93: anewarray     #4                  // class java/lang/String
      96: dup
      97: iconst_0
      98: aload         4
     100: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     105: aastore
     106: invokestatic  #5                  // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     109: astore        5
     111: aload         5
     113: aload         4
     115: invokestatic  #27                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;)V
     118: aload         5
     120: aload         4
     122: invokeinterface #28,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     127: invokestatic  #29                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     130: astore        6
     132: aload_0
     133: aload         6
     135: invokevirtual #30                 // Method executePatch:(Ljava/io/File;)Lorg/jboss/as/patching/tool/PatchingResult;
     138: astore        7
     140: aload         7
     142: aload         4
     144: invokestatic  #31                 // Method org/jboss/as/patching/runner/PatchingAssert.assertPatchHasBeenApplied:(Lorg/jboss/as/patching/tool/PatchingResult;Lorg/jboss/as/patching/metadata/Patch;)V
     147: new           #66                 // class java/io/File
     150: dup
     151: aload_0
     152: getfield      #21                 // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     155: invokevirtual #22                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     158: invokeinterface #23,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     163: ldc           #46                 // String test
     165: invokespecial #67                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     168: astore        8
     170: aload         8
     172: invokevirtual #53                 // Method java/io/File.exists:()Z
     175: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     178: aload         8
     180: invokevirtual #68                 // Method java/io/File.isDirectory:()Z
     183: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     186: new           #66                 // class java/io/File
     189: dup
     190: aload         8
     192: ldc           #60                 // String dir
     194: invokespecial #67                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     197: astore        9
     199: aload         9
     201: invokevirtual #53                 // Method java/io/File.exists:()Z
     204: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     207: aload         9
     209: invokevirtual #68                 // Method java/io/File.isDirectory:()Z
     212: invokestatic  #57                 // Method org/junit/Assert.assertTrue:(Z)V
     215: aload_0
     216: aload_3
     217: invokevirtual #55                 // Method rollback:(Ljava/lang/String;)Lorg/jboss/as/patching/tool/PatchingResult;
     220: pop
     221: return
}
