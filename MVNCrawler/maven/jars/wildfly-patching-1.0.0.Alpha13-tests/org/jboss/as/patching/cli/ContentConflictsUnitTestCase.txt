Compiled from "ContentConflictsUnitTestCase.java"
public class org.jboss.as.patching.cli.ContentConflictsUnitTestCase extends org.jboss.as.patching.runner.AbstractTaskTestCase {
  public org.jboss.as.patching.cli.ContentConflictsUnitTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/patching/runner/AbstractTaskTestCase."<init>":()V
       4: return

  public void testApply() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
       4: ldc           #3                  // String consoleSlot
       6: aload_0
       7: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      10: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
      13: aload_0
      14: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      17: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
      20: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.createInstalledImage:(Lorg/jboss/as/patching/DirectoryStructure;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
      23: astore_1
      24: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      27: astore_2
      28: aload_0
      29: getfield      #9                  // Field tempDir:Ljava/io/File;
      32: iconst_1
      33: anewarray     #10                 // class java/lang/String
      36: dup
      37: iconst_0
      38: aload_2
      39: aastore
      40: invokestatic  #11                 // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      43: astore_3
      44: aload_0
      45: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
      48: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
      51: invokeinterface #13,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getModulesDir:()Ljava/io/File;
      56: iconst_3
      57: anewarray     #10                 // class java/lang/String
      60: dup
      61: iconst_0
      62: ldc           #14                 // String system
      64: aastore
      65: dup
      66: iconst_1
      67: ldc           #15                 // String layers
      69: aastore
      70: dup
      71: iconst_2
      72: ldc           #16                 // String base
      74: aastore
      75: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      78: astore        4
      80: ldc           #18                 // String module-conflict
      82: astore        5
      84: aload         4
      86: aload         5
      88: iconst_0
      89: anewarray     #10                 // class java/lang/String
      92: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
      95: astore        6
      97: aload_3
      98: aload_2
      99: aload         6
     101: ldc           #20                 // String new resource in the module
     103: invokestatic  #21                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyModule:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     106: astore        7
     108: ldc           #22                 // String module-no-conflict
     110: astore        8
     112: aload         4
     114: aload         8
     116: iconst_0
     117: anewarray     #10                 // class java/lang/String
     120: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
     123: astore        9
     125: aload_3
     126: aload_2
     127: aload         9
     129: ldc           #20                 // String new resource in the module
     131: invokestatic  #21                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyModule:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     134: astore        10
     136: ldc           #23                 // String file-conflict.txt
     138: astore        11
     140: aload_1
     141: iconst_1
     142: anewarray     #10                 // class java/lang/String
     145: dup
     146: iconst_0
     147: aload         11
     149: aastore
     150: invokestatic  #24                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     153: astore        12
     155: aload         12
     157: ldc           #25                 // String original script to run standalone AS7
     159: invokestatic  #26                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     162: aload_3
     163: aload_2
     164: ldc           #27                 // String updated script
     166: aload         12
     168: iconst_2
     169: anewarray     #10                 // class java/lang/String
     172: dup
     173: iconst_0
     174: ldc           #28                 // String bin
     176: aastore
     177: dup
     178: iconst_1
     179: aload         11
     181: aastore
     182: invokestatic  #29                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     185: astore        13
     187: ldc           #30                 // String file-no-conflict.txt
     189: astore        14
     191: aload_1
     192: iconst_1
     193: anewarray     #10                 // class java/lang/String
     196: dup
     197: iconst_0
     198: aload         14
     200: aastore
     201: invokestatic  #24                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     204: astore        15
     206: aload         15
     208: ldc           #25                 // String original script to run standalone AS7
     210: invokestatic  #26                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     213: aload_3
     214: aload_2
     215: ldc           #27                 // String updated script
     217: aload         15
     219: iconst_2
     220: anewarray     #10                 // class java/lang/String
     223: dup
     224: iconst_0
     225: ldc           #28                 // String bin
     227: aastore
     228: dup
     229: iconst_1
     230: aload         14
     232: aastore
     233: invokestatic  #29                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     236: astore        16
     238: aload_0
     239: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     242: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     245: invokeinterface #31,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getBundlesDir:()Ljava/io/File;
     250: iconst_3
     251: anewarray     #10                 // class java/lang/String
     254: dup
     255: iconst_0
     256: ldc           #14                 // String system
     258: aastore
     259: dup
     260: iconst_1
     261: ldc           #15                 // String layers
     263: aastore
     264: dup
     265: iconst_2
     266: ldc           #16                 // String base
     268: aastore
     269: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     272: astore        17
     274: ldc           #32                 // String bundle-conflict
     276: astore        18
     278: aload         17
     280: aload         18
     282: ldc           #33                 // String bundle content
     284: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     287: astore        19
     289: aload_3
     290: aload_2
     291: aload         19
     293: ldc           #35                 // String updated bundle content
     295: invokestatic  #36                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyBundle:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     298: astore        20
     300: ldc           #37                 // String bundle-no-conflict
     302: astore        21
     304: aload         17
     306: aload         21
     308: ldc           #33                 // String bundle content
     310: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     313: astore        22
     315: aload_3
     316: aload_2
     317: aload         22
     319: ldc           #35                 // String updated bundle content
     321: invokestatic  #36                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyBundle:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     324: astore        23
     326: invokestatic  #38                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     329: aload_2
     330: invokevirtual #39                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     333: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     336: invokevirtual #40                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     339: aload_0
     340: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     343: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     346: aload_0
     347: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     350: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     353: invokevirtual #41                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
     356: invokevirtual #42                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     359: aload         13
     361: invokevirtual #43                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     364: checkcast     #44                 // class org/jboss/as/patching/metadata/PatchBuilder
     367: aload         16
     369: invokevirtual #43                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     372: checkcast     #44                 // class org/jboss/as/patching/metadata/PatchBuilder
     375: aload_2
     376: ldc           #16                 // String base
     378: iconst_0
     379: invokevirtual #45                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/metadata/PatchElementBuilder;
     382: aload         7
     384: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     387: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     390: aload         10
     392: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     395: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     398: aload         20
     400: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     403: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     406: aload         23
     408: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     411: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     414: invokevirtual #48                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     417: invokevirtual #49                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     420: astore        24
     422: aload_3
     423: aload         24
     425: iconst_0
     426: invokestatic  #50                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Z)V
     429: aload_3
     430: aload         24
     432: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     437: invokestatic  #52                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     440: astore        25
     442: aload         12
     444: ldc           #53                 // String conflicting change
     446: invokestatic  #26                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     449: aload         4
     451: aload         5
     453: iconst_1
     454: anewarray     #10                 // class java/lang/String
     457: dup
     458: iconst_0
     459: ldc           #54                 // String oops
     461: aastore
     462: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
     465: pop
     466: aload         17
     468: aload         18
     470: ldc           #54                 // String oops
     472: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     475: pop
     476: invokestatic  #55                 // Method org/jboss/as/cli/CommandContextFactory.getInstance:()Lorg/jboss/as/cli/CommandContextFactory;
     479: invokevirtual #56                 // Method org/jboss/as/cli/CommandContextFactory.newCommandContext:()Lorg/jboss/as/cli/CommandContext;
     482: astore        26
     484: aload         26
     486: new           #57                 // class java/lang/StringBuilder
     489: dup
     490: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     493: ldc           #59                 // String patch apply
     495: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     498: aload         25
     500: invokevirtual #61                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     503: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     506: ldc           #62                 // String  --distribution=
     508: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     511: aload_0
     512: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     515: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     518: invokeinterface #63,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     523: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     526: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     529: invokeinterface #66,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     534: ldc           #67                 // String Conflicts expected.
     536: invokestatic  #68                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
     539: aload         26
     541: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     546: goto          664
     549: astore        27
     551: aload_0
     552: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     555: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     558: invokeinterface #63,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     563: invokevirtual #61                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     566: invokevirtual #71                 // Method java/lang/String.length:()I
     569: iconst_1
     570: iadd
     571: istore        28
     573: aload_0
     574: aload         27
     576: iconst_3
     577: anewarray     #10                 // class java/lang/String
     580: dup
     581: iconst_0
     582: new           #57                 // class java/lang/StringBuilder
     585: dup
     586: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     589: aload         18
     591: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     594: ldc           #72                 // String :main
     596: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     599: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     602: aastore
     603: dup
     604: iconst_1
     605: new           #57                 // class java/lang/StringBuilder
     608: dup
     609: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     612: aload         5
     614: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     617: ldc           #72                 // String :main
     619: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     622: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     625: aastore
     626: dup
     627: iconst_2
     628: aload         12
     630: invokevirtual #61                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     633: iload         28
     635: invokevirtual #73                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     638: aastore
     639: invokevirtual #74                 // Method assertConflicts:(Lorg/jboss/as/cli/CommandLineException;[Ljava/lang/String;)V
     642: aload         26
     644: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     649: goto          664
     652: astore        29
     654: aload         26
     656: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     661: aload         29
     663: athrow
     664: return
    Exception table:
       from    to  target type
         484   539   549   Class org/jboss/as/cli/CommandLineException
         484   539   652   any
         549   642   652   any
         652   654   652   any

  public void testRollback() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
       4: ldc           #3                  // String consoleSlot
       6: aload_0
       7: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      10: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
      13: aload_0
      14: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      17: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
      20: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.createInstalledImage:(Lorg/jboss/as/patching/DirectoryStructure;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
      23: astore_1
      24: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      27: astore_2
      28: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      31: astore_3
      32: aload_0
      33: getfield      #9                  // Field tempDir:Ljava/io/File;
      36: iconst_1
      37: anewarray     #10                 // class java/lang/String
      40: dup
      41: iconst_0
      42: aload_2
      43: aastore
      44: invokestatic  #11                 // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      47: astore        4
      49: aload_0
      50: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
      53: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
      56: invokeinterface #13,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getModulesDir:()Ljava/io/File;
      61: iconst_3
      62: anewarray     #10                 // class java/lang/String
      65: dup
      66: iconst_0
      67: ldc           #14                 // String system
      69: aastore
      70: dup
      71: iconst_1
      72: ldc           #15                 // String layers
      74: aastore
      75: dup
      76: iconst_2
      77: ldc           #16                 // String base
      79: aastore
      80: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      83: astore        5
      85: ldc           #18                 // String module-conflict
      87: astore        6
      89: aload         5
      91: aload         6
      93: iconst_0
      94: anewarray     #10                 // class java/lang/String
      97: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
     100: astore        7
     102: aload         4
     104: aload_3
     105: aload         7
     107: ldc           #20                 // String new resource in the module
     109: invokestatic  #21                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyModule:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     112: astore        8
     114: ldc           #22                 // String module-no-conflict
     116: astore        9
     118: aload         5
     120: aload         9
     122: iconst_0
     123: anewarray     #10                 // class java/lang/String
     126: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
     129: astore        10
     131: aload         4
     133: aload_3
     134: aload         10
     136: ldc           #20                 // String new resource in the module
     138: invokestatic  #21                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyModule:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     141: astore        11
     143: ldc           #23                 // String file-conflict.txt
     145: astore        12
     147: aload_1
     148: iconst_1
     149: anewarray     #10                 // class java/lang/String
     152: dup
     153: iconst_0
     154: aload         12
     156: aastore
     157: invokestatic  #24                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     160: astore        13
     162: aload         13
     164: ldc           #25                 // String original script to run standalone AS7
     166: invokestatic  #26                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     169: aload         4
     171: aload_2
     172: ldc           #27                 // String updated script
     174: aload         13
     176: iconst_2
     177: anewarray     #10                 // class java/lang/String
     180: dup
     181: iconst_0
     182: ldc           #28                 // String bin
     184: aastore
     185: dup
     186: iconst_1
     187: aload         12
     189: aastore
     190: invokestatic  #29                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     193: astore        14
     195: ldc           #30                 // String file-no-conflict.txt
     197: astore        15
     199: aload_1
     200: iconst_1
     201: anewarray     #10                 // class java/lang/String
     204: dup
     205: iconst_0
     206: aload         15
     208: aastore
     209: invokestatic  #24                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     212: astore        16
     214: aload         16
     216: ldc           #25                 // String original script to run standalone AS7
     218: invokestatic  #26                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     221: aload         4
     223: aload_2
     224: ldc           #27                 // String updated script
     226: aload         16
     228: iconst_2
     229: anewarray     #10                 // class java/lang/String
     232: dup
     233: iconst_0
     234: ldc           #28                 // String bin
     236: aastore
     237: dup
     238: iconst_1
     239: aload         15
     241: aastore
     242: invokestatic  #29                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     245: astore        17
     247: aload_0
     248: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     251: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     254: invokeinterface #31,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getBundlesDir:()Ljava/io/File;
     259: iconst_3
     260: anewarray     #10                 // class java/lang/String
     263: dup
     264: iconst_0
     265: ldc           #14                 // String system
     267: aastore
     268: dup
     269: iconst_1
     270: ldc           #15                 // String layers
     272: aastore
     273: dup
     274: iconst_2
     275: ldc           #16                 // String base
     277: aastore
     278: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     281: astore        18
     283: ldc           #32                 // String bundle-conflict
     285: astore        19
     287: aload         18
     289: aload         19
     291: ldc           #33                 // String bundle content
     293: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     296: astore        20
     298: aload         4
     300: aload_3
     301: aload         20
     303: ldc           #35                 // String updated bundle content
     305: invokestatic  #36                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyBundle:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     308: astore        21
     310: ldc           #37                 // String bundle-no-conflict
     312: astore        22
     314: aload         18
     316: aload         22
     318: ldc           #33                 // String bundle content
     320: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     323: astore        23
     325: aload         4
     327: aload_3
     328: aload         23
     330: ldc           #35                 // String updated bundle content
     332: invokestatic  #36                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyBundle:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     335: astore        24
     337: invokestatic  #38                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     340: aload_2
     341: invokevirtual #39                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     344: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     347: invokevirtual #40                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     350: aload_0
     351: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     354: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     357: aload_0
     358: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     361: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     364: invokevirtual #41                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
     367: invokevirtual #42                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     370: aload         14
     372: invokevirtual #43                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     375: checkcast     #44                 // class org/jboss/as/patching/metadata/PatchBuilder
     378: aload         17
     380: invokevirtual #43                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     383: checkcast     #44                 // class org/jboss/as/patching/metadata/PatchBuilder
     386: aload_3
     387: ldc           #16                 // String base
     389: iconst_0
     390: invokevirtual #45                 // Method org/jboss/as/patching/metadata/PatchBuilder.oneOffPatchElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/metadata/PatchElementBuilder;
     393: aload         8
     395: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     398: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     401: aload         11
     403: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     406: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     409: aload         21
     411: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     414: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     417: aload         24
     419: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     422: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     425: invokevirtual #48                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     428: invokevirtual #49                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     431: astore        25
     433: aload         4
     435: aload         25
     437: iconst_0
     438: invokestatic  #50                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Z)V
     441: aload         4
     443: aload         25
     445: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     450: invokestatic  #52                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     453: astore        26
     455: invokestatic  #55                 // Method org/jboss/as/cli/CommandContextFactory.getInstance:()Lorg/jboss/as/cli/CommandContextFactory;
     458: invokevirtual #56                 // Method org/jboss/as/cli/CommandContextFactory.newCommandContext:()Lorg/jboss/as/cli/CommandContext;
     461: astore        27
     463: aload         27
     465: new           #57                 // class java/lang/StringBuilder
     468: dup
     469: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     472: ldc           #59                 // String patch apply
     474: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     477: aload         26
     479: invokevirtual #61                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     482: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     485: ldc           #62                 // String  --distribution=
     487: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     490: aload_0
     491: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     494: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     497: invokeinterface #63,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     502: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     505: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     508: invokeinterface #66,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     513: goto          548
     516: astore        28
     518: aload         27
     520: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     525: new           #57                 // class java/lang/StringBuilder
     528: dup
     529: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     532: ldc           #75                 // String Failed to apply the patch:
     534: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     537: aload         28
     539: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     542: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     545: invokestatic  #68                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
     548: aload         13
     550: ldc           #53                 // String conflicting change
     552: invokestatic  #26                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     555: aload         5
     557: aload         6
     559: iconst_1
     560: anewarray     #10                 // class java/lang/String
     563: dup
     564: iconst_0
     565: ldc           #54                 // String oops
     567: aastore
     568: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
     571: pop
     572: aload         18
     574: aload         19
     576: ldc           #54                 // String oops
     578: invokestatic  #34                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     581: pop
     582: aload         27
     584: new           #57                 // class java/lang/StringBuilder
     587: dup
     588: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     591: ldc           #76                 // String patch rollback --patch-id=
     593: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     596: aload_2
     597: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     600: ldc           #62                 // String  --distribution=
     602: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     605: aload_0
     606: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     609: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     612: invokeinterface #63,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     617: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     620: ldc           #77                 // String  --reset-configuration=false
     622: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     625: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     628: invokeinterface #66,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     633: ldc           #78                 // String Conflicts expected
     635: invokestatic  #68                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
     638: aload         27
     640: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     645: goto          763
     648: astore        28
     650: aload_0
     651: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     654: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     657: invokeinterface #63,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     662: invokevirtual #61                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     665: invokevirtual #71                 // Method java/lang/String.length:()I
     668: iconst_1
     669: iadd
     670: istore        29
     672: aload_0
     673: aload         28
     675: iconst_3
     676: anewarray     #10                 // class java/lang/String
     679: dup
     680: iconst_0
     681: new           #57                 // class java/lang/StringBuilder
     684: dup
     685: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     688: aload         19
     690: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     693: ldc           #72                 // String :main
     695: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     698: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     701: aastore
     702: dup
     703: iconst_1
     704: new           #57                 // class java/lang/StringBuilder
     707: dup
     708: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
     711: aload         6
     713: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     716: ldc           #72                 // String :main
     718: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     721: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     724: aastore
     725: dup
     726: iconst_2
     727: aload         13
     729: invokevirtual #61                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     732: iload         29
     734: invokevirtual #73                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     737: aastore
     738: invokevirtual #74                 // Method assertConflicts:(Lorg/jboss/as/cli/CommandLineException;[Ljava/lang/String;)V
     741: aload         27
     743: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     748: goto          763
     751: astore        30
     753: aload         27
     755: invokeinterface #69,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     760: aload         30
     762: athrow
     763: return
    Exception table:
       from    to  target type
         463   513   516   Class org/jboss/as/cli/CommandLineException
         582   638   648   Class org/jboss/as/cli/CommandLineException
         582   638   751   any
         648   741   751   any
         751   753   751   any

  protected void assertConflicts(org.jboss.as.cli.CommandLineException, java.lang.String...);
    Code:
       0: new           #57                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #58                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_3
       8: aload_3
       9: getstatic     #79                 // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      12: invokeinterface #80,  1           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.detectedConflicts:()Ljava/lang/String;
      17: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: ldc           #81                 // String :
      22: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: pop
      26: iconst_0
      27: istore        4
      29: iload         4
      31: aload_2
      32: arraylength
      33: if_icmpge     72
      36: aload_3
      37: aload_2
      38: iload         4
      40: iinc          4, 1
      43: aaload
      44: bipush        92
      46: bipush        47
      48: invokevirtual #82                 // Method java/lang/String.replace:(CC)Ljava/lang/String;
      51: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: pop
      55: iload         4
      57: aload_2
      58: arraylength
      59: if_icmpge     29
      62: aload_3
      63: ldc           #83                 // String ,
      65: invokevirtual #60                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: pop
      69: goto          29
      72: aload_1
      73: invokevirtual #84                 // Method org/jboss/as/cli/CommandLineException.getMessage:()Ljava/lang/String;
      76: ldc           #85                 // String line.separator
      78: invokestatic  #86                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      81: invokevirtual #87                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      84: iconst_0
      85: aaload
      86: aload_3
      87: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      90: invokestatic  #88                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
      93: return
}
