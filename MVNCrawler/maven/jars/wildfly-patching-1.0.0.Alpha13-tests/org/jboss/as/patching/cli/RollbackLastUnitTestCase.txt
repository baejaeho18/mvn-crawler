Compiled from "RollbackLastUnitTestCase.java"
public class org.jboss.as.patching.cli.RollbackLastUnitTestCase extends org.jboss.as.patching.runner.AbstractTaskTestCase {
  public org.jboss.as.patching.cli.RollbackLastUnitTestCase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jboss/as/patching/runner/AbstractTaskTestCase."<init>":()V
       4: return

  public void testMain() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
       4: ldc           #3                  // String consoleSlot
       6: aload_0
       7: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      10: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
      13: aload_0
      14: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
      17: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
      20: invokestatic  #7                  // Method org/jboss/as/patching/runner/TestUtils.createInstalledImage:(Lorg/jboss/as/patching/DirectoryStructure;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
      23: astore_1
      24: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      27: astore_2
      28: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
      31: astore_3
      32: aload_0
      33: getfield      #9                  // Field tempDir:Ljava/io/File;
      36: iconst_1
      37: anewarray     #10                 // class java/lang/String
      40: dup
      41: iconst_0
      42: aload_2
      43: aastore
      44: invokestatic  #11                 // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      47: astore        4
      49: aload_0
      50: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
      53: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
      56: invokeinterface #13,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getModulesDir:()Ljava/io/File;
      61: iconst_3
      62: anewarray     #10                 // class java/lang/String
      65: dup
      66: iconst_0
      67: ldc           #14                 // String system
      69: aastore
      70: dup
      71: iconst_1
      72: ldc           #15                 // String layers
      74: aastore
      75: dup
      76: iconst_2
      77: ldc           #16                 // String base
      79: aastore
      80: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      83: astore        5
      85: ldc           #18                 // String module-test
      87: astore        6
      89: aload         5
      91: aload         6
      93: iconst_0
      94: anewarray     #10                 // class java/lang/String
      97: invokestatic  #19                 // Method org/jboss/as/patching/runner/TestUtils.createModule0:(Ljava/io/File;Ljava/lang/String;[Ljava/lang/String;)Ljava/io/File;
     100: astore        7
     102: aload         4
     104: aload_3
     105: aload         7
     107: ldc           #20                 // String new resource in the module
     109: invokestatic  #21                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyModule:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     112: astore        8
     114: ldc           #22                 // String file-test.txt
     116: astore        9
     118: aload_1
     119: iconst_1
     120: anewarray     #10                 // class java/lang/String
     123: dup
     124: iconst_0
     125: aload         9
     127: aastore
     128: invokestatic  #23                 // Method org/jboss/as/patching/runner/TestUtils.touch:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     131: astore        10
     133: aload         10
     135: ldc           #24                 // String original script to run standalone AS7
     137: invokestatic  #25                 // Method org/jboss/as/patching/runner/TestUtils.dump:(Ljava/io/File;Ljava/lang/String;)V
     140: aload         10
     142: invokestatic  #26                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     145: astore        11
     147: aload         4
     149: aload_2
     150: ldc           #27                 // String updated script
     152: aload         10
     154: iconst_2
     155: anewarray     #10                 // class java/lang/String
     158: dup
     159: iconst_0
     160: ldc           #28                 // String bin
     162: aastore
     163: dup
     164: iconst_1
     165: aload         9
     167: aastore
     168: invokestatic  #29                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     171: astore        12
     173: aload_0
     174: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     177: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     180: invokeinterface #30,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getBundlesDir:()Ljava/io/File;
     185: iconst_3
     186: anewarray     #10                 // class java/lang/String
     189: dup
     190: iconst_0
     191: ldc           #14                 // String system
     193: aastore
     194: dup
     195: iconst_1
     196: ldc           #15                 // String layers
     198: aastore
     199: dup
     200: iconst_2
     201: ldc           #16                 // String base
     203: aastore
     204: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     207: astore        13
     209: ldc           #31                 // String bundle-test
     211: astore        14
     213: aload         13
     215: aload         14
     217: ldc           #32                 // String bundle content
     219: invokestatic  #33                 // Method org/jboss/as/patching/runner/TestUtils.createBundle0:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
     222: astore        15
     224: aload         4
     226: aload_3
     227: aload         15
     229: ldc           #34                 // String updated bundle content
     231: invokestatic  #35                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyBundle:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     234: astore        16
     236: invokestatic  #36                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     239: aload_2
     240: invokevirtual #37                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     243: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     246: invokevirtual #38                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     249: aload_0
     250: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     253: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     256: aload_0
     257: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     260: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     263: new           #39                 // class java/lang/StringBuilder
     266: dup
     267: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     270: aload_0
     271: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     274: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     277: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     280: ldc           #42                 // String CP1
     282: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     285: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     288: invokevirtual #44                 // Method org/jboss/as/patching/metadata/PatchBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
     291: invokevirtual #45                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     294: aload         12
     296: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     299: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchBuilder
     302: aload_3
     303: ldc           #16                 // String base
     305: iconst_0
     306: invokevirtual #48                 // Method org/jboss/as/patching/metadata/PatchBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/metadata/PatchElementBuilder;
     309: aload         8
     311: invokevirtual #49                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     314: checkcast     #50                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     317: aload         16
     319: invokevirtual #49                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     322: checkcast     #50                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     325: invokevirtual #51                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     328: invokevirtual #52                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     331: astore        17
     333: aload         4
     335: aload         17
     337: iconst_0
     338: invokestatic  #53                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Z)V
     341: aload         4
     343: aload         17
     345: invokeinterface #54,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     350: invokestatic  #55                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     353: astore        18
     355: aload         5
     357: aconst_null
     358: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     361: aload         13
     363: aconst_null
     364: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     367: invokestatic  #57                 // Method org/jboss/as/cli/CommandContextFactory.getInstance:()Lorg/jboss/as/cli/CommandContextFactory;
     370: invokevirtual #58                 // Method org/jboss/as/cli/CommandContextFactory.newCommandContext:()Lorg/jboss/as/cli/CommandContext;
     373: astore        19
     375: aload         19
     377: new           #39                 // class java/lang/StringBuilder
     380: dup
     381: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     384: ldc           #59                 // String patch apply
     386: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     389: aload         18
     391: invokevirtual #60                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     394: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     397: ldc           #61                 // String  --distribution=
     399: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     402: aload_0
     403: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     406: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     409: invokeinterface #62,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     414: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     417: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     420: invokeinterface #64,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     425: goto          440
     428: astore        20
     430: aload         19
     432: invokeinterface #66,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     437: aload         20
     439: athrow
     440: aload         5
     442: iconst_1
     443: anewarray     #10                 // class java/lang/String
     446: dup
     447: iconst_0
     448: aload_3
     449: aastore
     450: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     453: aload         13
     455: iconst_1
     456: anewarray     #10                 // class java/lang/String
     459: dup
     460: iconst_0
     461: aload_3
     462: aastore
     463: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     466: aload         10
     468: invokestatic  #26                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     471: astore        20
     473: aload         11
     475: aload         20
     477: invokestatic  #67                 // Method assertNotEqual:([B[B)V
     480: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     483: astore        21
     485: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     488: astore        22
     490: aload         5
     492: iconst_3
     493: anewarray     #10                 // class java/lang/String
     496: dup
     497: iconst_0
     498: ldc           #68                 // String .overlays
     500: aastore
     501: dup
     502: iconst_1
     503: aload_3
     504: aastore
     505: dup
     506: iconst_2
     507: aload         6
     509: aastore
     510: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     513: astore        23
     515: aload         13
     517: iconst_3
     518: anewarray     #10                 // class java/lang/String
     521: dup
     522: iconst_0
     523: ldc           #68                 // String .overlays
     525: aastore
     526: dup
     527: iconst_1
     528: aload_3
     529: aastore
     530: dup
     531: iconst_2
     532: aload         14
     534: aastore
     535: invokestatic  #17                 // Method org/jboss/as/patching/IoUtils.newFile:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
     538: astore        24
     540: aload         4
     542: aload         21
     544: ldc           #69                 // String another file update
     546: aload         10
     548: iconst_2
     549: anewarray     #10                 // class java/lang/String
     552: dup
     553: iconst_0
     554: ldc           #28                 // String bin
     556: aastore
     557: dup
     558: iconst_1
     559: aload         9
     561: aastore
     562: invokestatic  #29                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyMisc:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;[Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     565: astore        25
     567: aload         4
     569: aload         22
     571: aload         23
     573: ldc           #70                 // String another module update
     575: invokestatic  #21                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyModule:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     578: astore        26
     580: aload         4
     582: aload         22
     584: aload         24
     586: ldc           #71                 // String another bundle update
     588: invokestatic  #35                 // Method org/jboss/as/patching/runner/ContentModificationUtils.modifyBundle:(Ljava/io/File;Ljava/lang/String;Ljava/io/File;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/ContentModification;
     591: astore        27
     593: invokestatic  #36                 // Method org/jboss/as/patching/metadata/PatchBuilder.create:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     596: aload         21
     598: invokevirtual #37                 // Method org/jboss/as/patching/metadata/PatchBuilder.setPatchId:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     601: invokestatic  #8                  // Method org/jboss/as/patching/runner/TestUtils.randomString:()Ljava/lang/String;
     604: invokevirtual #38                 // Method org/jboss/as/patching/metadata/PatchBuilder.setDescription:(Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchBuilder;
     607: aload_0
     608: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     611: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     614: aload_0
     615: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     618: invokevirtual #6                  // Method org/jboss/as/version/ProductConfig.getProductVersion:()Ljava/lang/String;
     621: new           #39                 // class java/lang/StringBuilder
     624: dup
     625: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     628: aload_0
     629: getfield      #4                  // Field productConfig:Lorg/jboss/as/version/ProductConfig;
     632: invokevirtual #5                  // Method org/jboss/as/version/ProductConfig.getProductName:()Ljava/lang/String;
     635: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     638: ldc           #72                 // String CP2
     640: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     643: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     646: invokevirtual #44                 // Method org/jboss/as/patching/metadata/PatchBuilder.upgradeIdentity:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/PatchIdentityBuilder;
     649: invokevirtual #45                 // Method org/jboss/as/patching/metadata/PatchIdentityBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     652: aload         25
     654: invokevirtual #46                 // Method org/jboss/as/patching/metadata/PatchBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     657: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchBuilder
     660: aload         22
     662: ldc           #16                 // String base
     664: iconst_0
     665: invokevirtual #48                 // Method org/jboss/as/patching/metadata/PatchBuilder.upgradeElement:(Ljava/lang/String;Ljava/lang/String;Z)Lorg/jboss/as/patching/metadata/PatchElementBuilder;
     668: aload         26
     670: invokevirtual #49                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     673: checkcast     #50                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     676: aload         27
     678: invokevirtual #49                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.addContentModification:(Lorg/jboss/as/patching/metadata/ContentModification;)Ljava/lang/Object;
     681: checkcast     #50                 // class org/jboss/as/patching/metadata/PatchElementBuilder
     684: invokevirtual #51                 // Method org/jboss/as/patching/metadata/PatchElementBuilder.getParent:()Lorg/jboss/as/patching/metadata/PatchBuilder;
     687: invokevirtual #52                 // Method org/jboss/as/patching/metadata/PatchBuilder.build:()Lorg/jboss/as/patching/metadata/Patch;
     690: astore        28
     692: aload         4
     694: aload         28
     696: iconst_0
     697: invokestatic  #53                 // Method org/jboss/as/patching/runner/TestUtils.createPatchXMLFile:(Ljava/io/File;Lorg/jboss/as/patching/metadata/Patch;Z)V
     700: aload         4
     702: aload         28
     704: invokeinterface #54,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
     709: invokestatic  #55                 // Method org/jboss/as/patching/runner/TestUtils.createZippedPatchFile:(Ljava/io/File;Ljava/lang/String;)Ljava/io/File;
     712: astore        29
     714: aload         19
     716: new           #39                 // class java/lang/StringBuilder
     719: dup
     720: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     723: ldc           #59                 // String patch apply
     725: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     728: aload         29
     730: invokevirtual #60                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     733: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     736: ldc           #61                 // String  --distribution=
     738: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     741: aload_0
     742: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     745: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     748: invokeinterface #62,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     753: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     756: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     759: invokeinterface #64,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     764: goto          779
     767: astore        30
     769: aload         19
     771: invokeinterface #66,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     776: aload         30
     778: athrow
     779: aload         5
     781: iconst_2
     782: anewarray     #10                 // class java/lang/String
     785: dup
     786: iconst_0
     787: aload_3
     788: aastore
     789: dup
     790: iconst_1
     791: aload         22
     793: aastore
     794: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     797: aload         13
     799: iconst_2
     800: anewarray     #10                 // class java/lang/String
     803: dup
     804: iconst_0
     805: aload_3
     806: aastore
     807: dup
     808: iconst_1
     809: aload         22
     811: aastore
     812: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     815: aload         10
     817: invokestatic  #26                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     820: astore        30
     822: aload         20
     824: aload         30
     826: invokestatic  #67                 // Method assertNotEqual:([B[B)V
     829: aload         11
     831: aload         30
     833: invokestatic  #67                 // Method assertNotEqual:([B[B)V
     836: aload         19
     838: new           #39                 // class java/lang/StringBuilder
     841: dup
     842: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     845: ldc           #73                 // String patch rollback --reset-configuration=false --distribution=
     847: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     850: aload_0
     851: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     854: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     857: invokeinterface #62,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     862: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     865: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     868: invokeinterface #64,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     873: goto          888
     876: astore        31
     878: aload         19
     880: invokeinterface #66,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     885: aload         31
     887: athrow
     888: aload         5
     890: iconst_1
     891: anewarray     #10                 // class java/lang/String
     894: dup
     895: iconst_0
     896: aload_3
     897: aastore
     898: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     901: aload         13
     903: iconst_1
     904: anewarray     #10                 // class java/lang/String
     907: dup
     908: iconst_0
     909: aload_3
     910: aastore
     911: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
     914: aload         10
     916: invokestatic  #26                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
     919: astore        31
     921: aload         31
     923: aload         30
     925: invokestatic  #67                 // Method assertNotEqual:([B[B)V
     928: aload         31
     930: aload         20
     932: invokestatic  #74                 // Method org/junit/Assert.assertArrayEquals:([B[B)V
     935: aload         31
     937: aload         11
     939: invokestatic  #67                 // Method assertNotEqual:([B[B)V
     942: aload         19
     944: new           #39                 // class java/lang/StringBuilder
     947: dup
     948: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     951: ldc           #73                 // String patch rollback --reset-configuration=false --distribution=
     953: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     956: aload_0
     957: getfield      #2                  // Field env:Lorg/jboss/as/patching/DirectoryStructure;
     960: invokevirtual #12                 // Method org/jboss/as/patching/DirectoryStructure.getInstalledImage:()Lorg/jboss/as/patching/installation/InstalledImage;
     963: invokeinterface #62,  1           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getJbossHome:()Ljava/io/File;
     968: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     971: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     974: invokeinterface #64,  2           // InterfaceMethod org/jboss/as/cli/CommandContext.handle:(Ljava/lang/String;)V
     979: aload         19
     981: invokeinterface #66,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     986: goto          1013
     989: astore        32
     991: aload         19
     993: invokeinterface #66,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
     998: aload         32
    1000: athrow
    1001: astore        33
    1003: aload         19
    1005: invokeinterface #66,  1           // InterfaceMethod org/jboss/as/cli/CommandContext.terminateSession:()V
    1010: aload         33
    1012: athrow
    1013: aload         5
    1015: aconst_null
    1016: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
    1019: aload         13
    1021: aconst_null
    1022: invokestatic  #56                 // Method assertPatchElements:(Ljava/io/File;[Ljava/lang/String;)V
    1025: aload         10
    1027: invokestatic  #26                 // Method org/jboss/as/patching/HashUtils.hashFile:(Ljava/io/File;)[B
    1030: astore        31
    1032: aload         31
    1034: aload         30
    1036: invokestatic  #67                 // Method assertNotEqual:([B[B)V
    1039: aload         31
    1041: aload         20
    1043: invokestatic  #67                 // Method assertNotEqual:([B[B)V
    1046: aload         31
    1048: aload         11
    1050: invokestatic  #74                 // Method org/junit/Assert.assertArrayEquals:([B[B)V
    1053: return
    Exception table:
       from    to  target type
         375   425   428   Class java/lang/Exception
         714   764   767   Class java/lang/Exception
         836   873   876   Class java/lang/Exception
         942   979   989   Class java/lang/Exception
         942   979  1001   any
         989  1003  1001   any

  private static void assertPatchElements(java.io.File, java.lang.String[]);
    Code:
       0: new           #75                 // class java/io/File
       3: dup
       4: aload_0
       5: ldc           #68                 // String .overlays
       7: invokespecial #76                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      10: astore_2
      11: aload_2
      12: invokevirtual #77                 // Method java/io/File.exists:()Z
      15: ifne          23
      18: aload_1
      19: invokestatic  #78                 // Method org/junit/Assert.assertNull:(Ljava/lang/Object;)V
      22: return
      23: aload_2
      24: invokevirtual #77                 // Method java/io/File.exists:()Z
      27: invokestatic  #79                 // Method org/junit/Assert.assertTrue:(Z)V
      30: aload_2
      31: new           #80                 // class org/jboss/as/patching/cli/RollbackLastUnitTestCase$1
      34: dup
      35: invokespecial #81                 // Method org/jboss/as/patching/cli/RollbackLastUnitTestCase$1."<init>":()V
      38: invokevirtual #82                 // Method java/io/File.listFiles:(Ljava/io/FileFilter;)[Ljava/io/File;
      41: invokestatic  #83                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      44: astore_3
      45: aload_1
      46: ifnonnull     61
      49: aload_3
      50: invokeinterface #84,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      55: invokestatic  #79                 // Method org/junit/Assert.assertTrue:(Z)V
      58: goto          128
      61: aload_1
      62: invokestatic  #83                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      65: astore        4
      67: aload_3
      68: invokeinterface #85,  1           // InterfaceMethod java/util/List.size:()I
      73: i2l
      74: aload_1
      75: arraylength
      76: i2l
      77: invokestatic  #86                 // Method org/junit/Assert.assertEquals:(JJ)V
      80: aload_3
      81: invokeinterface #87,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      86: astore        5
      88: aload         5
      90: invokeinterface #88,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      95: ifeq          128
      98: aload         5
     100: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     105: checkcast     #75                 // class java/io/File
     108: astore        6
     110: aload         4
     112: aload         6
     114: invokevirtual #90                 // Method java/io/File.getName:()Ljava/lang/String;
     117: invokeinterface #91,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
     122: invokestatic  #79                 // Method org/junit/Assert.assertTrue:(Z)V
     125: goto          88
     128: return

  private static void assertNotEqual(byte[], byte[]);
    Code:
       0: aload_0
       1: arraylength
       2: aload_1
       3: arraylength
       4: if_icmpeq     8
       7: return
       8: iconst_0
       9: istore_2
      10: iload_2
      11: aload_0
      12: arraylength
      13: if_icmpge     32
      16: aload_0
      17: iload_2
      18: baload
      19: aload_1
      20: iload_2
      21: baload
      22: if_icmpeq     26
      25: return
      26: iinc          2, 1
      29: goto          10
      32: ldc           #92                 // String arrays are equal
      34: invokestatic  #93                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
      37: return
}
