Compiled from "GitBuildSyncActionExtension.java"
public class net.nemerosa.ontrack.extension.git.GitBuildSyncActionExtension extends net.nemerosa.ontrack.extension.support.AbstractExtension implements net.nemerosa.ontrack.extension.api.ProjectEntityActionExtension {
  private final net.nemerosa.ontrack.extension.git.service.GitService gitService;

  private final net.nemerosa.ontrack.model.security.SecurityService securityService;

  public net.nemerosa.ontrack.extension.git.GitBuildSyncActionExtension(net.nemerosa.ontrack.extension.git.GitExtensionFeature, net.nemerosa.ontrack.extension.git.service.GitService, net.nemerosa.ontrack.model.security.SecurityService);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method net/nemerosa/ontrack/extension/support/AbstractExtension."<init>":(Lnet/nemerosa/ontrack/model/extension/ExtensionFeature;)V
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field gitService:Lnet/nemerosa/ontrack/extension/git/service/GitService;
      10: aload_0
      11: aload_3
      12: putfield      #3                  // Field securityService:Lnet/nemerosa/ontrack/model/security/SecurityService;
      15: return

  public java.util.Optional<net.nemerosa.ontrack.model.support.Action> getAction(net.nemerosa.ontrack.model.structure.ProjectEntity);
    Code:
       0: aload_1
       1: instanceof    #4                  // class net/nemerosa/ontrack/model/structure/Branch
       4: ifeq          74
       7: aload_0
       8: getfield      #2                  // Field gitService:Lnet/nemerosa/ontrack/extension/git/service/GitService;
      11: aload_1
      12: checkcast     #4                  // class net/nemerosa/ontrack/model/structure/Branch
      15: invokeinterface #5,  2            // InterfaceMethod net/nemerosa/ontrack/extension/git/service/GitService.isBranchConfiguredForGit:(Lnet/nemerosa/ontrack/model/structure/Branch;)Z
      20: ifeq          74
      23: aload_0
      24: getfield      #3                  // Field securityService:Lnet/nemerosa/ontrack/model/security/SecurityService;
      27: aload_1
      28: ldc           #6                  // class net/nemerosa/ontrack/model/security/BuildCreate
      30: invokeinterface #7,  3            // InterfaceMethod net/nemerosa/ontrack/model/security/SecurityService.isProjectFunctionGranted:(Lnet/nemerosa/ontrack/model/structure/ProjectEntity;Ljava/lang/Class;)Z
      35: ifeq          74
      38: ldc           #8                  // String git-sync
      40: ldc           #9                  // String Git <-> Build sync
      42: ldc           #10                 // String sync/%d
      44: iconst_1
      45: anewarray     #11                 // class java/lang/Object
      48: dup
      49: iconst_0
      50: aload_1
      51: invokeinterface #12,  1           // InterfaceMethod net/nemerosa/ontrack/model/structure/ProjectEntity.id:()I
      56: invokestatic  #13                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      59: aastore
      60: invokestatic  #14                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      63: iconst_0
      64: anewarray     #11                 // class java/lang/Object
      67: invokestatic  #15                 // Method net/nemerosa/ontrack/model/support/Action.of:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/Object;)Lnet/nemerosa/ontrack/model/support/Action;
      70: invokestatic  #16                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      73: areturn
      74: invokestatic  #17                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      77: areturn
}
