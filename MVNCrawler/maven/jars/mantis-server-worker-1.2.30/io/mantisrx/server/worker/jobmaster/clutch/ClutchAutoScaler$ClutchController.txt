Compiled from "ClutchAutoScaler.java"
class io.mantisrx.server.worker.jobmaster.clutch.ClutchAutoScaler$ClutchController implements rx.Observable$Transformer<io.mantisrx.server.worker.jobmaster.JobAutoScaler$Event, io.mantisrx.server.worker.jobmaster.clutch.ClutchControllerOutput> {
  private final io.mantisrx.server.worker.jobmaster.clutch.ClutchPIDConfig config;

  private final io.mantisrx.runtime.descriptor.StageScalingPolicy$ScalingReason metric;

  private final io.mantisrx.runtime.descriptor.StageSchedulingInfo stageSchedulingInfo;

  private final com.google.common.util.concurrent.AtomicDouble gainFactor;

  private final long initialSize;

  private final long min;

  private final long max;

  private final io.mantisrx.server.worker.jobmaster.control.utils.Integrator integrator;

  final io.mantisrx.server.worker.jobmaster.clutch.ClutchAutoScaler this$0;

  public io.mantisrx.server.worker.jobmaster.clutch.ClutchAutoScaler$ClutchController(io.mantisrx.server.worker.jobmaster.clutch.ClutchAutoScaler, io.mantisrx.runtime.descriptor.StageScalingPolicy$ScalingReason, io.mantisrx.runtime.descriptor.StageSchedulingInfo, io.mantisrx.server.worker.jobmaster.clutch.ClutchPIDConfig, com.google.common.util.concurrent.AtomicDouble, long, long, long);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchAutoScaler;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field metric:Lio/mantisrx/runtime/descriptor/StageScalingPolicy$ScalingReason;
      14: aload_0
      15: aload         4
      17: putfield      #4                  // Field config:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig;
      20: aload_0
      21: aload         5
      23: putfield      #5                  // Field gainFactor:Lcom/google/common/util/concurrent/AtomicDouble;
      26: aload_0
      27: lload         6
      29: putfield      #6                  // Field initialSize:J
      32: aload_0
      33: aload_3
      34: putfield      #7                  // Field stageSchedulingInfo:Lio/mantisrx/runtime/descriptor/StageSchedulingInfo;
      37: aload_0
      38: lload         8
      40: putfield      #8                  // Field min:J
      43: aload_0
      44: lload         10
      46: putfield      #9                  // Field max:J
      49: aload_0
      50: new           #10                 // class io/mantisrx/server/worker/jobmaster/control/utils/Integrator
      53: dup
      54: aload_0
      55: getfield      #6                  // Field initialSize:J
      58: l2d
      59: aload_0
      60: getfield      #8                  // Field min:J
      63: lconst_1
      64: lsub
      65: l2d
      66: aload_0
      67: getfield      #9                  // Field max:J
      70: lconst_1
      71: ladd
      72: l2d
      73: invokespecial #11                 // Method io/mantisrx/server/worker/jobmaster/control/utils/Integrator."<init>":(DDD)V
      76: putfield      #12                 // Field integrator:Lio/mantisrx/server/worker/jobmaster/control/utils/Integrator;
      79: return

  public void resetIntegrator(double);
    Code:
       0: aload_0
       1: getfield      #12                 // Field integrator:Lio/mantisrx/server/worker/jobmaster/control/utils/Integrator;
       4: dload_1
       5: invokevirtual #13                 // Method io/mantisrx/server/worker/jobmaster/control/utils/Integrator.setSum:(D)V
       8: return

  public rx.Observable<io.mantisrx.server.worker.jobmaster.clutch.ClutchControllerOutput> call(rx.Observable<io.mantisrx.server.worker.jobmaster.JobAutoScaler$Event>);
    Code:
       0: aload_1
       1: aload_0
       2: invokedynamic #14,  0             // InvokeDynamic #0:call:(Lio/mantisrx/server/worker/jobmaster/clutch/ClutchAutoScaler$ClutchController;)Lrx/functions/Func1;
       7: invokevirtual #15                 // Method rx/Observable.map:(Lrx/functions/Func1;)Lrx/Observable;
      10: new           #16                 // class io/mantisrx/server/worker/jobmaster/control/utils/ErrorComputer
      13: dup
      14: aload_0
      15: getfield      #4                  // Field config:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig;
      18: getfield      #17                 // Field io/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig.setPoint:D
      21: iconst_1
      22: aload_0
      23: getfield      #4                  // Field config:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig;
      26: getfield      #18                 // Field io/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig.rope:Lio/vavr/Tuple2;
      29: getfield      #19                 // Field io/vavr/Tuple2._1:Ljava/lang/Object;
      32: checkcast     #20                 // class java/lang/Double
      35: invokevirtual #21                 // Method java/lang/Double.doubleValue:()D
      38: aload_0
      39: getfield      #4                  // Field config:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig;
      42: getfield      #18                 // Field io/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig.rope:Lio/vavr/Tuple2;
      45: getfield      #22                 // Field io/vavr/Tuple2._2:Ljava/lang/Object;
      48: checkcast     #20                 // class java/lang/Double
      51: invokevirtual #21                 // Method java/lang/Double.doubleValue:()D
      54: invokespecial #23                 // Method io/mantisrx/server/worker/jobmaster/control/utils/ErrorComputer."<init>":(DZDD)V
      57: invokevirtual #24                 // Method rx/Observable.lift:(Lrx/Observable$Operator;)Lrx/Observable;
      60: aload_0
      61: getfield      #4                  // Field config:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig;
      64: getfield      #25                 // Field io/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig.kp:D
      67: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      70: dconst_0
      71: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      74: aload_0
      75: getfield      #4                  // Field config:Lio/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig;
      78: getfield      #27                 // Field io/mantisrx/server/worker/jobmaster/clutch/ClutchPIDConfig.kd:D
      81: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      84: dconst_1
      85: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      88: aload_0
      89: getfield      #5                  // Field gainFactor:Lcom/google/common/util/concurrent/AtomicDouble;
      92: invokestatic  #28                 // Method io/mantisrx/server/worker/jobmaster/control/controllers/PIDController.of:(Ljava/lang/Double;Ljava/lang/Double;Ljava/lang/Double;Ljava/lang/Double;Lcom/google/common/util/concurrent/AtomicDouble;)Lio/mantisrx/server/worker/jobmaster/control/controllers/PIDController;
      95: invokevirtual #24                 // Method rx/Observable.lift:(Lrx/Observable$Operator;)Lrx/Observable;
      98: aload_0
      99: getfield      #12                 // Field integrator:Lio/mantisrx/server/worker/jobmaster/control/utils/Integrator;
     102: invokevirtual #24                 // Method rx/Observable.lift:(Lrx/Observable$Operator;)Lrx/Observable;
     105: aload_0
     106: invokedynamic #29,  0             // InvokeDynamic #1:call:(Lio/mantisrx/server/worker/jobmaster/clutch/ClutchAutoScaler$ClutchController;)Lrx/functions/Func1;
     111: invokevirtual #15                 // Method rx/Observable.map:(Lrx/functions/Func1;)Lrx/Observable;
     114: areturn

  public java.lang.Object call(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #30                 // class rx/Observable
       5: invokevirtual #31                 // Method call:(Lrx/Observable;)Lrx/Observable;
       8: areturn

  private io.mantisrx.server.worker.jobmaster.clutch.ClutchControllerOutput lambda$call$1(java.lang.Double);
    Code:
       0: new           #32                 // class io/mantisrx/server/worker/jobmaster/clutch/ClutchControllerOutput
       3: dup
       4: aload_0
       5: getfield      #3                  // Field metric:Lio/mantisrx/runtime/descriptor/StageScalingPolicy$ScalingReason;
       8: aload_1
       9: invokespecial #33                 // Method io/mantisrx/server/worker/jobmaster/clutch/ClutchControllerOutput."<init>":(Lio/mantisrx/runtime/descriptor/StageScalingPolicy$ScalingReason;Ljava/lang/Double;)V
      12: areturn

  private java.lang.Double lambda$call$0(io.mantisrx.server.worker.jobmaster.JobAutoScaler$Event);
    Code:
       0: aload_0
       1: getfield      #7                  // Field stageSchedulingInfo:Lio/mantisrx/runtime/descriptor/StageSchedulingInfo;
       4: aload_1
       5: invokevirtual #34                 // Method io/mantisrx/server/worker/jobmaster/JobAutoScaler$Event.getType:()Lio/mantisrx/runtime/descriptor/StageScalingPolicy$ScalingReason;
       8: aload_1
       9: invokevirtual #35                 // Method io/mantisrx/server/worker/jobmaster/JobAutoScaler$Event.getValue:()D
      12: invokestatic  #36                 // Method io/mantisrx/server/worker/jobmaster/Util.getEffectiveValue:(Lio/mantisrx/runtime/descriptor/StageSchedulingInfo;Lio/mantisrx/runtime/descriptor/StageScalingPolicy$ScalingReason;D)D
      15: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      18: areturn
}
