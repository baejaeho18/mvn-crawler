Compiled from "InMemoryStorage.java"
public final class zipkin2.storage.InMemoryStorage extends zipkin2.storage.StorageComponent implements zipkin2.storage.SpanStore,zipkin2.storage.SpanConsumer,zipkin2.storage.AutocompleteTags {
  private final zipkin2.storage.InMemoryStorage$SortedMultimap<zipkin2.storage.InMemoryStorage$TraceIdTimestamp, zipkin2.Span> spansByTraceIdTimeStamp;

  private final zipkin2.storage.InMemoryStorage$SortedMultimap<java.lang.String, zipkin2.storage.InMemoryStorage$TraceIdTimestamp> traceIdToTraceIdTimeStamps;

  private final zipkin2.storage.InMemoryStorage$ServiceNameToTraceIds serviceToTraceIds;

  private final zipkin2.storage.InMemoryStorage$SortedMultimap<java.lang.String, java.lang.String> serviceToSpanNames;

  private final zipkin2.storage.InMemoryStorage$SortedMultimap<java.lang.String, java.lang.String> autocompleteTags;

  final boolean strictTraceId;

  final boolean searchEnabled;

  final int maxSpanCount;

  final zipkin2.Call<java.util.List<java.lang.String>> autocompleteKeysCall;

  final java.util.Set<java.lang.String> autocompleteKeys;

  volatile int acceptedSpanCount;

  static final java.util.Comparator<java.lang.String> STRING_COMPARATOR;

  static final java.util.Comparator<zipkin2.storage.InMemoryStorage$TraceIdTimestamp> TIMESTAMP_DESCENDING;

  public static zipkin2.storage.InMemoryStorage$Builder newBuilder();
    Code:
       0: new           #25                 // class zipkin2/storage/InMemoryStorage$Builder
       3: dup
       4: invokespecial #85                 // Method zipkin2/storage/InMemoryStorage$Builder."<init>":()V
       7: areturn

  zipkin2.storage.InMemoryStorage(zipkin2.storage.InMemoryStorage$Builder);
    Code:
       0: aload_0
       1: invokespecial #87                 // Method zipkin2/storage/StorageComponent."<init>":()V
       4: aload_0
       5: new           #38                 // class zipkin2/storage/InMemoryStorage$1
       8: dup
       9: aload_0
      10: getstatic     #89                 // Field TIMESTAMP_DESCENDING:Ljava/util/Comparator;
      13: invokespecial #92                 // Method zipkin2/storage/InMemoryStorage$1."<init>":(Lzipkin2/storage/InMemoryStorage;Ljava/util/Comparator;)V
      16: putfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      19: aload_0
      20: new           #36                 // class zipkin2/storage/InMemoryStorage$2
      23: dup
      24: aload_0
      25: getstatic     #96                 // Field STRING_COMPARATOR:Ljava/util/Comparator;
      28: invokespecial #97                 // Method zipkin2/storage/InMemoryStorage$2."<init>":(Lzipkin2/storage/InMemoryStorage;Ljava/util/Comparator;)V
      31: putfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      34: aload_0
      35: new           #19                 // class zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds
      38: dup
      39: invokespecial #100                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds."<init>":()V
      42: putfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
      45: aload_0
      46: new           #34                 // class zipkin2/storage/InMemoryStorage$3
      49: dup
      50: aload_0
      51: getstatic     #96                 // Field STRING_COMPARATOR:Ljava/util/Comparator;
      54: invokespecial #103                // Method zipkin2/storage/InMemoryStorage$3."<init>":(Lzipkin2/storage/InMemoryStorage;Ljava/util/Comparator;)V
      57: putfield      #105                // Field serviceToSpanNames:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      60: aload_0
      61: new           #32                 // class zipkin2/storage/InMemoryStorage$4
      64: dup
      65: aload_0
      66: getstatic     #96                 // Field STRING_COMPARATOR:Ljava/util/Comparator;
      69: invokespecial #106                // Method zipkin2/storage/InMemoryStorage$4."<init>":(Lzipkin2/storage/InMemoryStorage;Ljava/util/Comparator;)V
      72: putfield      #108                // Field autocompleteTags:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      75: aload_0
      76: aload_1
      77: getfield      #110                // Field zipkin2/storage/InMemoryStorage$Builder.strictTraceId:Z
      80: putfield      #111                // Field strictTraceId:Z
      83: aload_0
      84: aload_1
      85: getfield      #113                // Field zipkin2/storage/InMemoryStorage$Builder.searchEnabled:Z
      88: putfield      #114                // Field searchEnabled:Z
      91: aload_0
      92: aload_1
      93: getfield      #116                // Field zipkin2/storage/InMemoryStorage$Builder.maxSpanCount:I
      96: putfield      #117                // Field maxSpanCount:I
      99: aload_0
     100: aload_1
     101: getfield      #120                // Field zipkin2/storage/InMemoryStorage$Builder.autocompleteKeys:Ljava/util/List;
     104: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
     107: putfield      #126                // Field autocompleteKeysCall:Lzipkin2/Call;
     110: aload_0
     111: new           #128                // class java/util/LinkedHashSet
     114: dup
     115: aload_1
     116: getfield      #120                // Field zipkin2/storage/InMemoryStorage$Builder.autocompleteKeys:Ljava/util/List;
     119: invokespecial #131                // Method java/util/LinkedHashSet."<init>":(Ljava/util/Collection;)V
     122: putfield      #133                // Field autocompleteKeys:Ljava/util/Set;
     125: return

  public int acceptedSpanCount();
    Code:
       0: aload_0
       1: getfield      #140                // Field acceptedSpanCount:I
       4: ireturn

  public synchronized void clear();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #140                // Field acceptedSpanCount:I
       5: aload_0
       6: getfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
       9: invokevirtual #143                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.clear:()V
      12: aload_0
      13: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      16: invokevirtual #143                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.clear:()V
      19: aload_0
      20: getfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
      23: invokevirtual #144                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds.clear:()V
      26: aload_0
      27: getfield      #105                // Field serviceToSpanNames:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      30: invokevirtual #143                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.clear:()V
      33: aload_0
      34: getfield      #108                // Field autocompleteTags:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      37: invokevirtual #143                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.clear:()V
      40: return

  public synchronized zipkin2.Call<java.lang.Void> accept(java.util.List<zipkin2.Span>);
    Code:
       0: aload_1
       1: invokeinterface #152,  1          // InterfaceMethod java/util/List.size:()I
       6: istore_2
       7: aload_0
       8: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      11: invokevirtual #153                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.size:()I
      14: iload_2
      15: iadd
      16: aload_0
      17: getfield      #117                // Field maxSpanCount:I
      20: isub
      21: istore_3
      22: aload_0
      23: iload_3
      24: invokevirtual #157                // Method evictToRecoverSpans:(I)I
      27: pop
      28: aload_1
      29: invokeinterface #161,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      34: astore        4
      36: aload         4
      38: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      43: ifeq          310
      46: aload         4
      48: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      53: checkcast     #173                // class zipkin2/Span
      56: astore        5
      58: aload         5
      60: invokevirtual #177                // Method zipkin2/Span.timestampAsLong:()J
      63: lstore        6
      65: aload         5
      67: invokevirtual #181                // Method zipkin2/Span.traceId:()Ljava/lang/String;
      70: invokestatic  #185                // Method lowTraceId:(Ljava/lang/String;)Ljava/lang/String;
      73: astore        8
      75: new           #13                 // class zipkin2/storage/InMemoryStorage$TraceIdTimestamp
      78: dup
      79: aload         8
      81: lload         6
      83: invokespecial #188                // Method zipkin2/storage/InMemoryStorage$TraceIdTimestamp."<init>":(Ljava/lang/String;J)V
      86: astore        9
      88: aload_0
      89: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      92: aload         9
      94: aload         5
      96: invokevirtual #192                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.put:(Ljava/lang/Object;Ljava/lang/Object;)V
      99: aload_0
     100: getfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
     103: aload         8
     105: aload         9
     107: invokevirtual #192                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     110: aload_0
     111: dup
     112: getfield      #140                // Field acceptedSpanCount:I
     115: iconst_1
     116: iadd
     117: putfield      #140                // Field acceptedSpanCount:I
     120: aload_0
     121: getfield      #114                // Field searchEnabled:Z
     124: ifne          130
     127: goto          36
     130: aload         5
     132: invokevirtual #197                // Method zipkin2/Span.name:()Ljava/lang/String;
     135: astore        10
     137: aload         5
     139: invokevirtual #200                // Method zipkin2/Span.localServiceName:()Ljava/lang/String;
     142: ifnull        178
     145: aload_0
     146: getfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
     149: aload         5
     151: invokevirtual #200                // Method zipkin2/Span.localServiceName:()Ljava/lang/String;
     154: aload         8
     156: invokevirtual #201                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     159: aload         10
     161: ifnull        178
     164: aload_0
     165: getfield      #105                // Field serviceToSpanNames:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
     168: aload         5
     170: invokevirtual #200                // Method zipkin2/Span.localServiceName:()Ljava/lang/String;
     173: aload         10
     175: invokevirtual #192                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     178: aload         5
     180: invokevirtual #204                // Method zipkin2/Span.remoteServiceName:()Ljava/lang/String;
     183: ifnull        219
     186: aload_0
     187: getfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
     190: aload         5
     192: invokevirtual #204                // Method zipkin2/Span.remoteServiceName:()Ljava/lang/String;
     195: aload         8
     197: invokevirtual #201                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     200: aload         10
     202: ifnull        219
     205: aload_0
     206: getfield      #105                // Field serviceToSpanNames:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
     209: aload         5
     211: invokevirtual #204                // Method zipkin2/Span.remoteServiceName:()Ljava/lang/String;
     214: aload         10
     216: invokevirtual #192                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     219: aload         5
     221: invokevirtual #208                // Method zipkin2/Span.tags:()Ljava/util/Map;
     224: invokeinterface #212,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     229: invokeinterface #215,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     234: astore        11
     236: aload         11
     238: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     243: ifeq          307
     246: aload         11
     248: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     253: checkcast     #40                 // class java/util/Map$Entry
     256: astore        12
     258: aload_0
     259: getfield      #133                // Field autocompleteKeys:Ljava/util/Set;
     262: aload         12
     264: invokeinterface #218,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     269: invokeinterface #222,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     274: ifeq          304
     277: aload_0
     278: getfield      #108                // Field autocompleteTags:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
     281: aload         12
     283: invokeinterface #218,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     288: checkcast     #194                // class java/lang/String
     291: aload         12
     293: invokeinterface #225,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     298: checkcast     #194                // class java/lang/String
     301: invokevirtual #192                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     304: goto          236
     307: goto          36
     310: aconst_null
     311: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
     314: areturn

  int evictToRecoverSpans(int);
    Code:
       0: iconst_0
       1: istore_2
       2: iload_1
       3: ifle          22
       6: aload_0
       7: invokespecial #243                // Method deleteOldestTrace:()I
      10: istore_3
      11: iload_1
      12: iload_3
      13: isub
      14: istore_1
      15: iload_2
      16: iload_3
      17: iadd
      18: istore_2
      19: goto          2
      22: iload_2
      23: ireturn

  private int deleteOldestTrace();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
       6: getfield      #249                // Field zipkin2/storage/InMemoryStorage$SortedMultimap.delegate:Ljava/util/SortedMap;
       9: invokeinterface #254,  1          // InterfaceMethod java/util/SortedMap.lastKey:()Ljava/lang/Object;
      14: checkcast     #13                 // class zipkin2/storage/InMemoryStorage$TraceIdTimestamp
      17: getfield      #256                // Field zipkin2/storage/InMemoryStorage$TraceIdTimestamp.lowTraceId:Ljava/lang/String;
      20: astore_2
      21: aload_0
      22: getfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      25: aload_2
      26: invokevirtual #260                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.remove:(Ljava/lang/Object;)Ljava/util/Collection;
      29: astore_3
      30: aload_3
      31: invokeinterface #263,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      36: astore        4
      38: aload         4
      40: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      45: ifeq          84
      48: aload         4
      50: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      55: checkcast     #13                 // class zipkin2/storage/InMemoryStorage$TraceIdTimestamp
      58: astore        5
      60: aload_0
      61: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      64: aload         5
      66: invokevirtual #260                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.remove:(Ljava/lang/Object;)Ljava/util/Collection;
      69: astore        6
      71: iload_1
      72: aload         6
      74: invokeinterface #264,  1          // InterfaceMethod java/util/Collection.size:()I
      79: iadd
      80: istore_1
      81: goto          38
      84: aload_0
      85: getfield      #114                // Field searchEnabled:Z
      88: ifeq          141
      91: aload_0
      92: getfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
      95: aload_2
      96: invokevirtual #268                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds.removeServiceIfTraceId:(Ljava/lang/String;)Ljava/util/Set;
      99: invokeinterface #215,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     104: astore        4
     106: aload         4
     108: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     113: ifeq          141
     116: aload         4
     118: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     123: checkcast     #194                // class java/lang/String
     126: astore        5
     128: aload_0
     129: getfield      #105                // Field serviceToSpanNames:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
     132: aload         5
     134: invokevirtual #260                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.remove:(Ljava/lang/Object;)Ljava/util/Collection;
     137: pop
     138: goto          106
     141: iload_1
     142: ireturn

  public synchronized zipkin2.Call<java.util.List<java.util.List<zipkin2.Span>>> getTraces(zipkin2.storage.QueryRequest);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #111                // Field strictTraceId:Z
       6: invokevirtual #282                // Method getTraces:(Lzipkin2/storage/QueryRequest;Z)Lzipkin2/Call;
       9: areturn

  synchronized zipkin2.Call<java.util.List<java.util.List<zipkin2.Span>>> getTraces(zipkin2.storage.QueryRequest, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #289                // Method traceIdsDescendingByTimestamp:(Lzipkin2/storage/QueryRequest;)Ljava/util/Set;
       5: astore_3
       6: aload_3
       7: invokeinterface #292,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      12: ifeq          19
      15: invokestatic  #296                // Method zipkin2/Call.emptyList:()Lzipkin2/Call;
      18: areturn
      19: new           #298                // class java/util/ArrayList
      22: dup
      23: invokespecial #299                // Method java/util/ArrayList."<init>":()V
      26: astore        4
      28: aload_3
      29: invokeinterface #215,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      34: astore        5
      36: aload         5
      38: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      43: ifeq          164
      46: aload         4
      48: invokeinterface #152,  1          // InterfaceMethod java/util/List.size:()I
      53: aload_1
      54: invokevirtual #302                // Method zipkin2/storage/QueryRequest.limit:()I
      57: if_icmpge     164
      60: aload_0
      61: aload         5
      63: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      68: checkcast     #194                // class java/lang/String
      71: invokevirtual #306                // Method spansByTraceId:(Ljava/lang/String;)Ljava/util/List;
      74: astore        6
      76: aload_1
      77: aload         6
      79: invokevirtual #310                // Method zipkin2/storage/QueryRequest.test:(Ljava/util/List;)Z
      82: ifne          88
      85: goto          36
      88: iload_2
      89: ifne          105
      92: aload         4
      94: aload         6
      96: invokeinterface #313,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     101: pop
     102: goto          36
     105: aload         6
     107: invokestatic  #317                // Method strictByTraceId:(Ljava/util/List;)Ljava/util/Collection;
     110: invokeinterface #263,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     115: astore        7
     117: aload         7
     119: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     124: ifeq          161
     127: aload         7
     129: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     134: checkcast     #149                // class java/util/List
     137: astore        8
     139: aload_1
     140: aload         8
     142: invokevirtual #310                // Method zipkin2/storage/QueryRequest.test:(Ljava/util/List;)Z
     145: ifeq          158
     148: aload         4
     150: aload         8
     152: invokeinterface #313,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     157: pop
     158: goto          117
     161: goto          36
     164: aload         4
     166: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
     169: areturn

  static java.util.Collection<java.util.List<zipkin2.Span>> strictByTraceId(java.util.List<zipkin2.Span>);
    Code:
       0: new           #325                // class java/util/LinkedHashMap
       3: dup
       4: invokespecial #326                // Method java/util/LinkedHashMap."<init>":()V
       7: astore_1
       8: aload_0
       9: invokeinterface #161,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      14: astore_2
      15: aload_2
      16: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          88
      24: aload_2
      25: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #173                // class zipkin2/Span
      33: astore_3
      34: aload_3
      35: invokevirtual #181                // Method zipkin2/Span.traceId:()Ljava/lang/String;
      38: astore        4
      40: aload_1
      41: aload         4
      43: invokeinterface #329,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      48: ifne          67
      51: aload_1
      52: aload         4
      54: new           #298                // class java/util/ArrayList
      57: dup
      58: invokespecial #299                // Method java/util/ArrayList."<init>":()V
      61: invokeinterface #332,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      66: pop
      67: aload_1
      68: aload         4
      70: invokeinterface #336,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      75: checkcast     #149                // class java/util/List
      78: aload_3
      79: invokeinterface #313,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      84: pop
      85: goto          15
      88: aload_1
      89: invokeinterface #340,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      94: areturn

  public synchronized java.util.List<java.util.List<zipkin2.Span>> getTraces();
    Code:
       0: new           #298                // class java/util/ArrayList
       3: dup
       4: invokespecial #299                // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      12: invokevirtual #348                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.keySet:()Ljava/util/Set;
      15: invokeinterface #215,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      20: astore_2
      21: aload_2
      22: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      27: ifeq          81
      30: aload_2
      31: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      36: checkcast     #194                // class java/lang/String
      39: astore_3
      40: aload_0
      41: aload_3
      42: invokevirtual #306                // Method spansByTraceId:(Ljava/lang/String;)Ljava/util/List;
      45: astore        4
      47: aload_0
      48: getfield      #111                // Field strictTraceId:Z
      51: ifeq          69
      54: aload_1
      55: aload         4
      57: invokestatic  #317                // Method strictByTraceId:(Ljava/util/List;)Ljava/util/Collection;
      60: invokeinterface #352,  2          // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      65: pop
      66: goto          78
      69: aload_1
      70: aload         4
      72: invokeinterface #313,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      77: pop
      78: goto          21
      81: aload_1
      82: areturn

  public synchronized java.util.List<zipkin2.DependencyLink> getDependencies();
    Code:
       0: getstatic     #359                // Field zipkin2/storage/InMemoryStorage$LinkDependencies.INSTANCE:Lzipkin2/storage/InMemoryStorage$LinkDependencies;
       3: aload_0
       4: invokevirtual #361                // Method getTraces:()Ljava/util/List;
       7: invokevirtual #365                // Method zipkin2/storage/InMemoryStorage$LinkDependencies.map:(Ljava/util/List;)Ljava/util/List;
      10: areturn

  java.util.Set<java.lang.String> traceIdsDescendingByTimestamp(zipkin2.storage.QueryRequest);
    Code:
       0: aload_0
       1: getfield      #114                // Field searchEnabled:Z
       4: ifne          11
       7: invokestatic  #371                // Method java/util/Collections.emptySet:()Ljava/util/Set;
      10: areturn
      11: aload_1
      12: invokevirtual #374                // Method zipkin2/storage/QueryRequest.serviceName:()Ljava/lang/String;
      15: ifnull        29
      18: aload_0
      19: aload_1
      20: invokevirtual #374                // Method zipkin2/storage/QueryRequest.serviceName:()Ljava/lang/String;
      23: invokevirtual #378                // Method traceIdTimestampsByServiceName:(Ljava/lang/String;)Ljava/util/Collection;
      26: goto          36
      29: aload_0
      30: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      33: invokevirtual #348                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.keySet:()Ljava/util/Set;
      36: astore_2
      37: aload_1
      38: invokevirtual #381                // Method zipkin2/storage/QueryRequest.endTs:()J
      41: ldc2_w        #382                // long 1000l
      44: lmul
      45: lstore_3
      46: lload_3
      47: aload_1
      48: invokevirtual #386                // Method zipkin2/storage/QueryRequest.lookback:()J
      51: ldc2_w        #382                // long 1000l
      54: lmul
      55: lsub
      56: lstore        5
      58: aload_2
      59: ifnull        71
      62: aload_2
      63: invokeinterface #387,  1          // InterfaceMethod java/util/Collection.isEmpty:()Z
      68: ifeq          75
      71: invokestatic  #371                // Method java/util/Collections.emptySet:()Ljava/util/Set;
      74: areturn
      75: new           #128                // class java/util/LinkedHashSet
      78: dup
      79: invokespecial #388                // Method java/util/LinkedHashSet."<init>":()V
      82: astore        7
      84: aload_2
      85: invokeinterface #263,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      90: astore        8
      92: aload         8
      94: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      99: ifeq          151
     102: aload         8
     104: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     109: checkcast     #13                 // class zipkin2/storage/InMemoryStorage$TraceIdTimestamp
     112: astore        9
     114: aload         9
     116: getfield      #390                // Field zipkin2/storage/InMemoryStorage$TraceIdTimestamp.timestamp:J
     119: lload         5
     121: lcmp
     122: ifge          135
     125: aload         9
     127: getfield      #390                // Field zipkin2/storage/InMemoryStorage$TraceIdTimestamp.timestamp:J
     130: lload_3
     131: lcmp
     132: ifgt          148
     135: aload         7
     137: aload         9
     139: getfield      #256                // Field zipkin2/storage/InMemoryStorage$TraceIdTimestamp.lowTraceId:Ljava/lang/String;
     142: invokeinterface #391,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     147: pop
     148: goto          92
     151: aload         7
     153: areturn

  public synchronized zipkin2.Call<java.util.List<zipkin2.Span>> getTrace(java.lang.String);
    Code:
       0: aload_1
       1: invokestatic  #400                // Method zipkin2/Span.normalizeTraceId:(Ljava/lang/String;)Ljava/lang/String;
       4: astore_1
       5: aload_0
       6: aload_1
       7: invokestatic  #185                // Method lowTraceId:(Ljava/lang/String;)Ljava/lang/String;
      10: invokevirtual #306                // Method spansByTraceId:(Ljava/lang/String;)Ljava/util/List;
      13: astore_2
      14: aload_2
      15: ifnull        27
      18: aload_2
      19: invokeinterface #401,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      24: ifeq          31
      27: invokestatic  #296                // Method zipkin2/Call.emptyList:()Lzipkin2/Call;
      30: areturn
      31: aload_0
      32: getfield      #111                // Field strictTraceId:Z
      35: ifne          43
      38: aload_2
      39: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
      42: areturn
      43: new           #298                // class java/util/ArrayList
      46: dup
      47: aload_2
      48: invokespecial #402                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      51: astore_3
      52: aload_3
      53: invokeinterface #161,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      58: astore        4
      60: aload         4
      62: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      67: ifeq          100
      70: aload         4
      72: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      77: checkcast     #173                // class zipkin2/Span
      80: invokevirtual #181                // Method zipkin2/Span.traceId:()Ljava/lang/String;
      83: aload_1
      84: invokevirtual #405                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      87: ifne          60
      90: aload         4
      92: invokeinterface #407,  1          // InterfaceMethod java/util/Iterator.remove:()V
      97: goto          60
     100: aload_3
     101: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
     104: areturn

  public synchronized zipkin2.Call<java.util.List<java.lang.String>> getServiceNames();
    Code:
       0: aload_0
       1: getfield      #114                // Field searchEnabled:Z
       4: ifne          11
       7: invokestatic  #296                // Method zipkin2/Call.emptyList:()Lzipkin2/Call;
      10: areturn
      11: new           #298                // class java/util/ArrayList
      14: dup
      15: aload_0
      16: getfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
      19: invokevirtual #412                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds.keySet:()Ljava/util/Set;
      22: invokespecial #402                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      25: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
      28: areturn

  public synchronized zipkin2.Call<java.util.List<java.lang.String>> getSpanNames(java.lang.String);
    Code:
       0: aload_1
       1: invokevirtual #415                // Method java/lang/String.isEmpty:()Z
       4: ifne          14
       7: aload_0
       8: getfield      #114                // Field searchEnabled:Z
      11: ifne          18
      14: invokestatic  #296                // Method zipkin2/Call.emptyList:()Lzipkin2/Call;
      17: areturn
      18: aload_1
      19: getstatic     #421                // Field java/util/Locale.ROOT:Ljava/util/Locale;
      22: invokevirtual #425                // Method java/lang/String.toLowerCase:(Ljava/util/Locale;)Ljava/lang/String;
      25: astore_1
      26: new           #298                // class java/util/ArrayList
      29: dup
      30: aload_0
      31: getfield      #105                // Field serviceToSpanNames:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      34: aload_1
      35: invokevirtual #427                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.get:(Ljava/lang/Object;)Ljava/util/Collection;
      38: invokespecial #402                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      41: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
      44: areturn

  public synchronized zipkin2.Call<java.util.List<zipkin2.DependencyLink>> getDependencies(long, long);
    Code:
       0: invokestatic  #433                // Method zipkin2/storage/QueryRequest.newBuilder:()Lzipkin2/storage/QueryRequest$Builder;
       3: lload_1
       4: invokevirtual #436                // Method zipkin2/storage/QueryRequest$Builder.endTs:(J)Lzipkin2/storage/QueryRequest$Builder;
       7: lload_3
       8: invokevirtual #438                // Method zipkin2/storage/QueryRequest$Builder.lookback:(J)Lzipkin2/storage/QueryRequest$Builder;
      11: ldc_w         #439                // int 2147483647
      14: invokevirtual #442                // Method zipkin2/storage/QueryRequest$Builder.limit:(I)Lzipkin2/storage/QueryRequest$Builder;
      17: invokevirtual #446                // Method zipkin2/storage/QueryRequest$Builder.build:()Lzipkin2/storage/QueryRequest;
      20: astore        5
      22: aload_0
      23: aload         5
      25: iconst_0
      26: invokevirtual #282                // Method getTraces:(Lzipkin2/storage/QueryRequest;Z)Lzipkin2/Call;
      29: astore        6
      31: aload         6
      33: getstatic     #359                // Field zipkin2/storage/InMemoryStorage$LinkDependencies.INSTANCE:Lzipkin2/storage/InMemoryStorage$LinkDependencies;
      36: invokevirtual #449                // Method zipkin2/Call.map:(Lzipkin2/Call$Mapper;)Lzipkin2/Call;
      39: areturn

  public zipkin2.Call<java.util.List<java.lang.String>> getKeys();
    Code:
       0: aload_0
       1: getfield      #114                // Field searchEnabled:Z
       4: ifne          11
       7: invokestatic  #296                // Method zipkin2/Call.emptyList:()Lzipkin2/Call;
      10: areturn
      11: aload_0
      12: getfield      #126                // Field autocompleteKeysCall:Lzipkin2/Call;
      15: invokevirtual #455                // Method zipkin2/Call.clone:()Lzipkin2/Call;
      18: areturn

  public zipkin2.Call<java.util.List<java.lang.String>> getValues(java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     15
       4: new           #458                // class java/lang/NullPointerException
       7: dup
       8: ldc_w         #460                // String key == null
      11: invokespecial #463                // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      14: athrow
      15: aload_1
      16: invokevirtual #415                // Method java/lang/String.isEmpty:()Z
      19: ifeq          33
      22: new           #465                // class java/lang/IllegalArgumentException
      25: dup
      26: ldc_w         #467                // String key was empty
      29: invokespecial #468                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_0
      34: getfield      #114                // Field searchEnabled:Z
      37: ifne          44
      40: invokestatic  #296                // Method zipkin2/Call.emptyList:()Lzipkin2/Call;
      43: areturn
      44: new           #298                // class java/util/ArrayList
      47: dup
      48: aload_0
      49: getfield      #108                // Field autocompleteTags:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      52: aload_1
      53: invokevirtual #427                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.get:(Ljava/lang/Object;)Ljava/util/Collection;
      56: invokespecial #402                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      59: invokestatic  #124                // Method zipkin2/Call.create:(Ljava/lang/Object;)Lzipkin2/Call;
      62: areturn

  java.util.List<zipkin2.Span> spansByTraceId(java.lang.String);
    Code:
       0: new           #298                // class java/util/ArrayList
       3: dup
       4: invokespecial #299                // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      12: aload_1
      13: invokevirtual #427                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.get:(Ljava/lang/Object;)Ljava/util/Collection;
      16: invokeinterface #263,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      21: astore_3
      22: aload_3
      23: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      28: ifeq          61
      31: aload_3
      32: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      37: checkcast     #13                 // class zipkin2/storage/InMemoryStorage$TraceIdTimestamp
      40: astore        4
      42: aload_2
      43: aload_0
      44: getfield      #94                 // Field spansByTraceIdTimeStamp:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      47: aload         4
      49: invokevirtual #427                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.get:(Ljava/lang/Object;)Ljava/util/Collection;
      52: invokeinterface #352,  2          // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      57: pop
      58: goto          22
      61: aload_2
      62: areturn

  java.util.Collection<zipkin2.storage.InMemoryStorage$TraceIdTimestamp> traceIdTimestampsByServiceName(java.lang.String);
    Code:
       0: new           #298                // class java/util/ArrayList
       3: dup
       4: invokespecial #299                // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #102                // Field serviceToTraceIds:Lzipkin2/storage/InMemoryStorage$ServiceNameToTraceIds;
      12: aload_1
      13: invokevirtual #472                // Method zipkin2/storage/InMemoryStorage$ServiceNameToTraceIds.get:(Ljava/lang/Object;)Ljava/util/Collection;
      16: invokeinterface #263,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      21: astore_3
      22: aload_3
      23: invokeinterface #167,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      28: ifeq          61
      31: aload_3
      32: invokeinterface #171,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      37: checkcast     #194                // class java/lang/String
      40: astore        4
      42: aload_2
      43: aload_0
      44: getfield      #99                 // Field traceIdToTraceIdTimeStamps:Lzipkin2/storage/InMemoryStorage$SortedMultimap;
      47: aload         4
      49: invokevirtual #427                // Method zipkin2/storage/InMemoryStorage$SortedMultimap.get:(Ljava/lang/Object;)Ljava/util/Collection;
      52: invokeinterface #352,  2          // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      57: pop
      58: goto          22
      61: aload_2
      62: getstatic     #89                 // Field TIMESTAMP_DESCENDING:Ljava/util/Comparator;
      65: invokestatic  #476                // Method java/util/Collections.sort:(Ljava/util/List;Ljava/util/Comparator;)V
      68: aload_2
      69: areturn

  static java.lang.String lowTraceId(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #480                // Method java/lang/String.length:()I
       4: bipush        32
       6: if_icmpne     18
       9: aload_0
      10: bipush        16
      12: invokevirtual #484                // Method java/lang/String.substring:(I)Ljava/lang/String;
      15: goto          19
      18: aload_0
      19: areturn

  public zipkin2.storage.InMemoryStorage spanStore();
    Code:
       0: aload_0
       1: areturn

  public zipkin2.storage.InMemoryStorage autocompleteTags();
    Code:
       0: aload_0
       1: areturn

  public zipkin2.storage.SpanConsumer spanConsumer();
    Code:
       0: aload_0
       1: areturn

  public void close();
    Code:
       0: return

  public zipkin2.storage.AutocompleteTags autocompleteTags();
    Code:
       0: aload_0
       1: invokevirtual #492                // Method autocompleteTags:()Lzipkin2/storage/InMemoryStorage;
       4: areturn

  public zipkin2.storage.SpanStore spanStore();
    Code:
       0: aload_0
       1: invokevirtual #495                // Method spanStore:()Lzipkin2/storage/InMemoryStorage;
       4: areturn

  static {};
    Code:
       0: new           #30                 // class zipkin2/storage/InMemoryStorage$5
       3: dup
       4: invokespecial #497                // Method zipkin2/storage/InMemoryStorage$5."<init>":()V
       7: putstatic     #96                 // Field STRING_COMPARATOR:Ljava/util/Comparator;
      10: new           #28                 // class zipkin2/storage/InMemoryStorage$6
      13: dup
      14: invokespecial #498                // Method zipkin2/storage/InMemoryStorage$6."<init>":()V
      17: putstatic     #89                 // Field TIMESTAMP_DESCENDING:Ljava/util/Comparator;
      20: return
}
