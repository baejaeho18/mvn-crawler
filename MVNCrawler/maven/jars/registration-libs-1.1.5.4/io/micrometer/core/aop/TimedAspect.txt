Compiled from "TimedAspect.java"
public class io.micrometer.core.aop.TimedAspect {
  public static final java.lang.String DEFAULT_METRIC_NAME;

  public static final java.lang.String EXCEPTION_TAG;

  private final io.micrometer.core.instrument.MeterRegistry registry;

  private final java.util.function.Function<org.aspectj.lang.ProceedingJoinPoint, java.lang.Iterable<io.micrometer.core.instrument.Tag>> tagsBasedOnJoinPoint;

  public io.micrometer.core.aop.TimedAspect();
    Code:
       0: aload_0
       1: getstatic     #1                  // Field io/micrometer/core/instrument/Metrics.globalRegistry:Lio/micrometer/core/instrument/composite/CompositeMeterRegistry;
       4: invokespecial #7                  // Method "<init>":(Lio/micrometer/core/instrument/MeterRegistry;)V
       7: return

  public io.micrometer.core.aop.TimedAspect(io.micrometer.core.instrument.MeterRegistry);
    Code:
       0: aload_0
       1: aload_1
       2: invokedynamic #13,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
       7: invokespecial #17                 // Method "<init>":(Lio/micrometer/core/instrument/MeterRegistry;Ljava/util/function/Function;)V
      10: return

  public io.micrometer.core.aop.TimedAspect(io.micrometer.core.instrument.MeterRegistry, java.util.function.Function<org.aspectj.lang.ProceedingJoinPoint, java.lang.Iterable<io.micrometer.core.instrument.Tag>>);
    Code:
       0: aload_0
       1: invokespecial #20                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #25                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
       9: aload_0
      10: aload_2
      11: putfield      #29                 // Field tagsBasedOnJoinPoint:Ljava/util/function/Function;
      14: return

  public java.lang.Object timedMethod(org.aspectj.lang.ProceedingJoinPoint) throws java.lang.Throwable;
    Code:
       0: aload_1
       1: invokeinterface #33,  1           // InterfaceMethod org/aspectj/lang/ProceedingJoinPoint.getSignature:()Lorg/aspectj/lang/Signature;
       6: checkcast     #39                 // class org/aspectj/lang/reflect/MethodSignature
       9: invokeinterface #41,  1           // InterfaceMethod org/aspectj/lang/reflect/MethodSignature.getMethod:()Ljava/lang/reflect/Method;
      14: astore_2
      15: aload_2
      16: ldc           #45                 // class io/micrometer/core/annotation/Timed
      18: invokevirtual #47                 // Method java/lang/reflect/Method.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      21: checkcast     #45                 // class io/micrometer/core/annotation/Timed
      24: astore_3
      25: aload_3
      26: ifnonnull     60
      29: aload_1
      30: invokeinterface #53,  1           // InterfaceMethod org/aspectj/lang/ProceedingJoinPoint.getTarget:()Ljava/lang/Object;
      35: invokevirtual #57                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      38: aload_2
      39: invokevirtual #61                 // Method java/lang/reflect/Method.getName:()Ljava/lang/String;
      42: aload_2
      43: invokevirtual #65                 // Method java/lang/reflect/Method.getParameterTypes:()[Ljava/lang/Class;
      46: invokevirtual #69                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      49: astore_2
      50: aload_2
      51: ldc           #45                 // class io/micrometer/core/annotation/Timed
      53: invokevirtual #47                 // Method java/lang/reflect/Method.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      56: checkcast     #45                 // class io/micrometer/core/annotation/Timed
      59: astore_3
      60: aload_3
      61: invokeinterface #74,  1           // InterfaceMethod io/micrometer/core/annotation/Timed.value:()Ljava/lang/String;
      66: invokevirtual #77                 // Method java/lang/String.isEmpty:()Z
      69: ifeq          77
      72: ldc           #83                 // String method.timed
      74: goto          83
      77: aload_3
      78: invokeinterface #74,  1           // InterfaceMethod io/micrometer/core/annotation/Timed.value:()Ljava/lang/String;
      83: astore        4
      85: aload_3
      86: invokeinterface #85,  1           // InterfaceMethod io/micrometer/core/annotation/Timed.longTask:()Z
      91: ifne          103
      94: aload_0
      95: aload_1
      96: aload_3
      97: aload         4
      99: invokespecial #88                 // Method processWithTimer:(Lorg/aspectj/lang/ProceedingJoinPoint;Lio/micrometer/core/annotation/Timed;Ljava/lang/String;)Ljava/lang/Object;
     102: areturn
     103: aload_0
     104: aload_1
     105: aload_3
     106: aload         4
     108: invokespecial #92                 // Method processWithLongTaskTimer:(Lorg/aspectj/lang/ProceedingJoinPoint;Lio/micrometer/core/annotation/Timed;Ljava/lang/String;)Ljava/lang/Object;
     111: areturn

  private java.lang.Object processWithTimer(org.aspectj.lang.ProceedingJoinPoint, io.micrometer.core.annotation.Timed, java.lang.String) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #25                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
       4: invokestatic  #95                 // InterfaceMethod io/micrometer/core/instrument/Timer.start:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer$Sample;
       7: astore        4
       9: ldc           #101                // String none
      11: astore        5
      13: aload_1
      14: invokeinterface #103,  1          // InterfaceMethod org/aspectj/lang/ProceedingJoinPoint.proceed:()Ljava/lang/Object;
      19: astore        6
      21: aload         4
      23: aload_3
      24: invokestatic  #106                // InterfaceMethod io/micrometer/core/instrument/Timer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
      27: aload_2
      28: invokeinterface #110,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.description:()Ljava/lang/String;
      33: invokevirtual #77                 // Method java/lang/String.isEmpty:()Z
      36: ifeq          43
      39: aconst_null
      40: goto          49
      43: aload_2
      44: invokeinterface #110,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.description:()Ljava/lang/String;
      49: invokevirtual #113                // Method io/micrometer/core/instrument/Timer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
      52: aload_2
      53: invokeinterface #117,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.extraTags:()[Ljava/lang/String;
      58: invokevirtual #121                // Method io/micrometer/core/instrument/Timer$Builder.tags:([Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
      61: iconst_2
      62: anewarray     #78                 // class java/lang/String
      65: dup
      66: iconst_0
      67: ldc           #125                // String exception
      69: aastore
      70: dup
      71: iconst_1
      72: aload         5
      74: aastore
      75: invokevirtual #121                // Method io/micrometer/core/instrument/Timer$Builder.tags:([Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
      78: aload_0
      79: getfield      #29                 // Field tagsBasedOnJoinPoint:Ljava/util/function/Function;
      82: aload_1
      83: invokeinterface #127,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      88: checkcast     #132                // class java/lang/Iterable
      91: invokevirtual #134                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
      94: aload_2
      95: invokeinterface #137,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.histogram:()Z
     100: invokestatic  #140                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     103: invokevirtual #146                // Method io/micrometer/core/instrument/Timer$Builder.publishPercentileHistogram:(Ljava/lang/Boolean;)Lio/micrometer/core/instrument/Timer$Builder;
     106: aload_2
     107: invokeinterface #150,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.percentiles:()[D
     112: arraylength
     113: ifne          120
     116: aconst_null
     117: goto          126
     120: aload_2
     121: invokeinterface #150,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.percentiles:()[D
     126: invokevirtual #154                // Method io/micrometer/core/instrument/Timer$Builder.publishPercentiles:([D)Lio/micrometer/core/instrument/Timer$Builder;
     129: aload_0
     130: getfield      #25                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
     133: invokevirtual #158                // Method io/micrometer/core/instrument/Timer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer;
     136: invokevirtual #162                // Method io/micrometer/core/instrument/Timer$Sample.stop:(Lio/micrometer/core/instrument/Timer;)J
     139: pop2
     140: goto          145
     143: astore        7
     145: aload         6
     147: areturn
     148: astore        6
     150: aload         6
     152: invokevirtual #57                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     155: invokevirtual #170                // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     158: astore        5
     160: aload         6
     162: athrow
     163: astore        8
     165: aload         4
     167: aload_3
     168: invokestatic  #106                // InterfaceMethod io/micrometer/core/instrument/Timer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     171: aload_2
     172: invokeinterface #110,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.description:()Ljava/lang/String;
     177: invokevirtual #77                 // Method java/lang/String.isEmpty:()Z
     180: ifeq          187
     183: aconst_null
     184: goto          193
     187: aload_2
     188: invokeinterface #110,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.description:()Ljava/lang/String;
     193: invokevirtual #113                // Method io/micrometer/core/instrument/Timer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     196: aload_2
     197: invokeinterface #117,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.extraTags:()[Ljava/lang/String;
     202: invokevirtual #121                // Method io/micrometer/core/instrument/Timer$Builder.tags:([Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     205: iconst_2
     206: anewarray     #78                 // class java/lang/String
     209: dup
     210: iconst_0
     211: ldc           #125                // String exception
     213: aastore
     214: dup
     215: iconst_1
     216: aload         5
     218: aastore
     219: invokevirtual #121                // Method io/micrometer/core/instrument/Timer$Builder.tags:([Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     222: aload_0
     223: getfield      #29                 // Field tagsBasedOnJoinPoint:Ljava/util/function/Function;
     226: aload_1
     227: invokeinterface #127,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     232: checkcast     #132                // class java/lang/Iterable
     235: invokevirtual #134                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
     238: aload_2
     239: invokeinterface #137,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.histogram:()Z
     244: invokestatic  #140                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     247: invokevirtual #146                // Method io/micrometer/core/instrument/Timer$Builder.publishPercentileHistogram:(Ljava/lang/Boolean;)Lio/micrometer/core/instrument/Timer$Builder;
     250: aload_2
     251: invokeinterface #150,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.percentiles:()[D
     256: arraylength
     257: ifne          264
     260: aconst_null
     261: goto          270
     264: aload_2
     265: invokeinterface #150,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.percentiles:()[D
     270: invokevirtual #154                // Method io/micrometer/core/instrument/Timer$Builder.publishPercentiles:([D)Lio/micrometer/core/instrument/Timer$Builder;
     273: aload_0
     274: getfield      #25                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
     277: invokevirtual #158                // Method io/micrometer/core/instrument/Timer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer;
     280: invokevirtual #162                // Method io/micrometer/core/instrument/Timer$Sample.stop:(Lio/micrometer/core/instrument/Timer;)J
     283: pop2
     284: goto          289
     287: astore        9
     289: aload         8
     291: athrow
    Exception table:
       from    to  target type
          21   140   143   Class java/lang/Exception
          13    21   148   Class java/lang/Exception
          13    21   163   any
         165   284   287   Class java/lang/Exception
         148   165   163   any

  private java.lang.Object processWithLongTaskTimer(org.aspectj.lang.ProceedingJoinPoint, io.micrometer.core.annotation.Timed, java.lang.String) throws java.lang.Throwable;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #173                // Method buildLongTaskTimer:(Lorg/aspectj/lang/ProceedingJoinPoint;Lio/micrometer/core/annotation/Timed;Ljava/lang/String;)Ljava/util/Optional;
       7: invokedynamic #177,  0            // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      12: invokevirtual #178                // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      15: astore        4
      17: aload_1
      18: invokeinterface #103,  1          // InterfaceMethod org/aspectj/lang/ProceedingJoinPoint.proceed:()Ljava/lang/Object;
      23: astore        5
      25: aload         4
      27: invokedynamic #184,  0            // InvokeDynamic #2:accept:()Ljava/util/function/Consumer;
      32: invokevirtual #188                // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
      35: goto          40
      38: astore        6
      40: aload         5
      42: areturn
      43: astore        7
      45: aload         4
      47: invokedynamic #184,  0            // InvokeDynamic #2:accept:()Ljava/util/function/Consumer;
      52: invokevirtual #188                // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
      55: goto          60
      58: astore        8
      60: aload         7
      62: athrow
    Exception table:
       from    to  target type
          25    35    38   Class java/lang/Exception
          17    25    43   any
          45    55    58   Class java/lang/Exception
          43    45    43   any

  private java.util.Optional<io.micrometer.core.instrument.LongTaskTimer> buildLongTaskTimer(org.aspectj.lang.ProceedingJoinPoint, io.micrometer.core.annotation.Timed, java.lang.String);
    Code:
       0: aload_3
       1: invokestatic  #192                // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
       4: aload_2
       5: invokeinterface #110,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.description:()Ljava/lang/String;
      10: invokevirtual #77                 // Method java/lang/String.isEmpty:()Z
      13: ifeq          20
      16: aconst_null
      17: goto          26
      20: aload_2
      21: invokeinterface #110,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.description:()Ljava/lang/String;
      26: invokevirtual #197                // Method io/micrometer/core/instrument/LongTaskTimer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
      29: aload_2
      30: invokeinterface #117,  1          // InterfaceMethod io/micrometer/core/annotation/Timed.extraTags:()[Ljava/lang/String;
      35: invokevirtual #201                // Method io/micrometer/core/instrument/LongTaskTimer$Builder.tags:([Ljava/lang/String;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
      38: aload_0
      39: getfield      #29                 // Field tagsBasedOnJoinPoint:Ljava/util/function/Function;
      42: aload_1
      43: invokeinterface #127,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #132                // class java/lang/Iterable
      51: invokevirtual #204                // Method io/micrometer/core/instrument/LongTaskTimer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
      54: aload_0
      55: getfield      #25                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
      58: invokevirtual #207                // Method io/micrometer/core/instrument/LongTaskTimer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/LongTaskTimer;
      61: invokestatic  #210                // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      64: areturn
      65: astore        4
      67: invokestatic  #214                // Method java/util/Optional.empty:()Ljava/util/Optional;
      70: areturn
    Exception table:
       from    to  target type
           0    64    65   Class java/lang/Exception

  private static java.lang.Iterable lambda$new$0(org.aspectj.lang.ProceedingJoinPoint);
    Code:
       0: iconst_4
       1: anewarray     #78                 // class java/lang/String
       4: dup
       5: iconst_0
       6: ldc           #218                // String class
       8: aastore
       9: dup
      10: iconst_1
      11: aload_0
      12: invokeinterface #220,  1          // InterfaceMethod org/aspectj/lang/ProceedingJoinPoint.getStaticPart:()Lorg/aspectj/lang/JoinPoint$StaticPart;
      17: invokeinterface #224,  1          // InterfaceMethod org/aspectj/lang/JoinPoint$StaticPart.getSignature:()Lorg/aspectj/lang/Signature;
      22: invokeinterface #227,  1          // InterfaceMethod org/aspectj/lang/Signature.getDeclaringTypeName:()Ljava/lang/String;
      27: aastore
      28: dup
      29: iconst_2
      30: ldc           #232                // String method
      32: aastore
      33: dup
      34: iconst_3
      35: aload_0
      36: invokeinterface #220,  1          // InterfaceMethod org/aspectj/lang/ProceedingJoinPoint.getStaticPart:()Lorg/aspectj/lang/JoinPoint$StaticPart;
      41: invokeinterface #224,  1          // InterfaceMethod org/aspectj/lang/JoinPoint$StaticPart.getSignature:()Lorg/aspectj/lang/Signature;
      46: invokeinterface #234,  1          // InterfaceMethod org/aspectj/lang/Signature.getName:()Ljava/lang/String;
      51: aastore
      52: invokestatic  #235                // Method io/micrometer/core/instrument/Tags.of:([Ljava/lang/String;)Lio/micrometer/core/instrument/Tags;
      55: areturn
}
