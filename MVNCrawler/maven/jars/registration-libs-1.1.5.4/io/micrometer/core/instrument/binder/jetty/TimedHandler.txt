Compiled from "TimedHandler.java"
public class io.micrometer.core.instrument.binder.jetty.TimedHandler extends org.eclipse.jetty.server.handler.HandlerWrapper implements org.eclipse.jetty.util.component.Graceful {
  private static final java.lang.String SAMPLE_REQUEST_TIMER_ATTRIBUTE;

  private static final java.lang.String SAMPLE_REQUEST_LONG_TASK_TIMER_ATTRIBUTE;

  private final io.micrometer.core.instrument.MeterRegistry registry;

  private final java.lang.Iterable<io.micrometer.core.instrument.Tag> tags;

  private final io.micrometer.core.instrument.binder.http.HttpServletRequestTagsProvider tagsProvider;

  private final org.eclipse.jetty.util.component.Graceful$Shutdown shutdown;

  private final io.micrometer.core.instrument.LongTaskTimer openRequests;

  private final io.micrometer.core.instrument.Counter asyncDispatches;

  private final io.micrometer.core.instrument.Counter asyncExpires;

  private final java.util.concurrent.atomic.AtomicInteger asyncWaits;

  private final javax.servlet.AsyncListener onCompletion;

  public io.micrometer.core.instrument.binder.jetty.TimedHandler(io.micrometer.core.instrument.MeterRegistry, java.lang.Iterable<io.micrometer.core.instrument.Tag>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: new           #7                  // class io/micrometer/core/instrument/binder/http/DefaultHttpServletRequestTagsProvider
       6: dup
       7: invokespecial #9                  // Method io/micrometer/core/instrument/binder/http/DefaultHttpServletRequestTagsProvider."<init>":()V
      10: invokespecial #13                 // Method "<init>":(Lio/micrometer/core/instrument/MeterRegistry;Ljava/lang/Iterable;Lio/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider;)V
      13: return

  public io.micrometer.core.instrument.binder.jetty.TimedHandler(io.micrometer.core.instrument.MeterRegistry, java.lang.Iterable<io.micrometer.core.instrument.Tag>, io.micrometer.core.instrument.binder.http.HttpServletRequestTagsProvider);
    Code:
       0: aload_0
       1: invokespecial #16                 // Method org/eclipse/jetty/server/handler/HandlerWrapper."<init>":()V
       4: aload_0
       5: new           #19                 // class io/micrometer/core/instrument/binder/jetty/TimedHandler$1
       8: dup
       9: aload_0
      10: invokespecial #21                 // Method io/micrometer/core/instrument/binder/jetty/TimedHandler$1."<init>":(Lio/micrometer/core/instrument/binder/jetty/TimedHandler;)V
      13: putfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
      16: aload_0
      17: new           #28                 // class java/util/concurrent/atomic/AtomicInteger
      20: dup
      21: invokespecial #30                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":()V
      24: putfield      #31                 // Field asyncWaits:Ljava/util/concurrent/atomic/AtomicInteger;
      27: aload_0
      28: new           #35                 // class io/micrometer/core/instrument/binder/jetty/OnCompletionAsyncListener
      31: dup
      32: aload_0
      33: invokespecial #37                 // Method io/micrometer/core/instrument/binder/jetty/OnCompletionAsyncListener."<init>":(Ljava/lang/Object;)V
      36: putfield      #40                 // Field onCompletion:Ljavax/servlet/AsyncListener;
      39: aload_0
      40: aload_1
      41: putfield      #44                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
      44: aload_0
      45: aload_2
      46: putfield      #48                 // Field tags:Ljava/lang/Iterable;
      49: aload_0
      50: aload_3
      51: putfield      #52                 // Field tagsProvider:Lio/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider;
      54: aload_0
      55: ldc           #56                 // String jetty.server.dispatches.open
      57: invokestatic  #58                 // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
      60: ldc           #64                 // String Jetty dispatches that are currently in progress
      62: invokevirtual #66                 // Method io/micrometer/core/instrument/LongTaskTimer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
      65: aload_2
      66: invokevirtual #71                 // Method io/micrometer/core/instrument/LongTaskTimer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/LongTaskTimer$Builder;
      69: aload_1
      70: invokevirtual #74                 // Method io/micrometer/core/instrument/LongTaskTimer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/LongTaskTimer;
      73: putfield      #78                 // Field openRequests:Lio/micrometer/core/instrument/LongTaskTimer;
      76: aload_0
      77: ldc           #82                 // String jetty.server.async.dispatches
      79: invokestatic  #84                 // InterfaceMethod io/micrometer/core/instrument/Counter.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Counter$Builder;
      82: ldc           #89                 // String Asynchronous dispatches
      84: invokevirtual #91                 // Method io/micrometer/core/instrument/Counter$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Counter$Builder;
      87: aload_2
      88: invokevirtual #95                 // Method io/micrometer/core/instrument/Counter$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Counter$Builder;
      91: aload_1
      92: invokevirtual #98                 // Method io/micrometer/core/instrument/Counter$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Counter;
      95: putfield      #101                // Field asyncDispatches:Lio/micrometer/core/instrument/Counter;
      98: aload_0
      99: ldc           #105                // String jetty.server.async.expires
     101: invokestatic  #84                 // InterfaceMethod io/micrometer/core/instrument/Counter.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Counter$Builder;
     104: ldc           #107                // String Asynchronous operations that timed out before completing
     106: invokevirtual #91                 // Method io/micrometer/core/instrument/Counter$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Counter$Builder;
     109: aload_2
     110: invokevirtual #95                 // Method io/micrometer/core/instrument/Counter$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Counter$Builder;
     113: aload_1
     114: invokevirtual #98                 // Method io/micrometer/core/instrument/Counter$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Counter;
     117: putfield      #109                // Field asyncExpires:Lio/micrometer/core/instrument/Counter;
     120: ldc           #112                // String jetty.server.async.waits
     122: aload_0
     123: getfield      #31                 // Field asyncWaits:Ljava/util/concurrent/atomic/AtomicInteger;
     126: invokedynamic #114,  0            // InvokeDynamic #0:applyAsDouble:()Ljava/util/function/ToDoubleFunction;
     131: invokestatic  #118                // InterfaceMethod io/micrometer/core/instrument/Gauge.builder:(Ljava/lang/String;Ljava/lang/Object;Ljava/util/function/ToDoubleFunction;)Lio/micrometer/core/instrument/Gauge$Builder;
     134: ldc           #123                // String Pending asynchronous wait operations
     136: invokevirtual #125                // Method io/micrometer/core/instrument/Gauge$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Gauge$Builder;
     139: ldc           #132                // String operations
     141: invokevirtual #134                // Method io/micrometer/core/instrument/Gauge$Builder.baseUnit:(Ljava/lang/String;)Lio/micrometer/core/instrument/Gauge$Builder;
     144: aload_2
     145: invokevirtual #137                // Method io/micrometer/core/instrument/Gauge$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Gauge$Builder;
     148: aload_1
     149: invokevirtual #140                // Method io/micrometer/core/instrument/Gauge$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Gauge;
     152: pop
     153: return

  public void handle(java.lang.String, org.eclipse.jetty.server.Request, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #44                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
       4: invokestatic  #143                // InterfaceMethod io/micrometer/core/instrument/Timer.start:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer$Sample;
       7: astore        5
       9: aload_2
      10: invokevirtual #149                // Method org/eclipse/jetty/server/Request.getHttpChannelState:()Lorg/eclipse/jetty/server/HttpChannelState;
      13: astore        7
      15: aload         7
      17: invokevirtual #155                // Method org/eclipse/jetty/server/HttpChannelState.isInitial:()Z
      20: ifeq          57
      23: aload_0
      24: getfield      #78                 // Field openRequests:Lio/micrometer/core/instrument/LongTaskTimer;
      27: invokeinterface #161,  1          // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.start:()Lio/micrometer/core/instrument/LongTaskTimer$Sample;
      32: astore        6
      34: aload_3
      35: ldc           #164                // String __micrometer_timer_sample
      37: aload         5
      39: invokeinterface #166,  3          // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      44: aload_3
      45: ldc           #172                // String __micrometer_ltt_sample
      47: aload         6
      49: invokeinterface #166,  3          // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      54: goto          89
      57: aload_0
      58: getfield      #101                // Field asyncDispatches:Lio/micrometer/core/instrument/Counter;
      61: invokeinterface #174,  1          // InterfaceMethod io/micrometer/core/instrument/Counter.increment:()V
      66: aload_3
      67: ldc           #164                // String __micrometer_timer_sample
      69: aload         5
      71: invokeinterface #166,  3          // InterfaceMethod javax/servlet/http/HttpServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      76: aload_3
      77: ldc           #172                // String __micrometer_ltt_sample
      79: invokeinterface #177,  2          // InterfaceMethod javax/servlet/http/HttpServletRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      84: checkcast     #181                // class io/micrometer/core/instrument/LongTaskTimer$Sample
      87: astore        6
      89: aload_0
      90: invokevirtual #183                // Method getHandler:()Lorg/eclipse/jetty/server/Handler;
      93: astore        8
      95: aload         8
      97: ifnull        132
     100: aload_0
     101: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
     104: invokevirtual #187                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.isShutdown:()Z
     107: ifne          132
     110: aload_0
     111: invokevirtual #192                // Method isStarted:()Z
     114: ifeq          132
     117: aload         8
     119: aload_1
     120: aload_2
     121: aload_3
     122: aload         4
     124: invokeinterface #195,  5          // InterfaceMethod org/eclipse/jetty/server/Handler.handle:(Ljava/lang/String;Lorg/eclipse/jetty/server/Request;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
     129: goto          164
     132: aload_2
     133: invokevirtual #201                // Method org/eclipse/jetty/server/Request.isHandled:()Z
     136: ifne          144
     139: aload_2
     140: iconst_1
     141: invokevirtual #204                // Method org/eclipse/jetty/server/Request.setHandled:(Z)V
     144: aload_2
     145: invokevirtual #208                // Method org/eclipse/jetty/server/Request.getResponse:()Lorg/eclipse/jetty/server/Response;
     148: invokevirtual #212                // Method org/eclipse/jetty/server/Response.isCommitted:()Z
     151: ifne          164
     154: aload         4
     156: sipush        503
     159: invokeinterface #219,  2          // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     164: aload         7
     166: invokevirtual #225                // Method org/eclipse/jetty/server/HttpChannelState.isSuspended:()Z
     169: ifeq          200
     172: aload         7
     174: invokevirtual #155                // Method org/eclipse/jetty/server/HttpChannelState.isInitial:()Z
     177: ifeq          438
     180: aload         7
     182: aload_0
     183: getfield      #40                 // Field onCompletion:Ljavax/servlet/AsyncListener;
     186: invokevirtual #228                // Method org/eclipse/jetty/server/HttpChannelState.addListener:(Ljavax/servlet/AsyncListener;)V
     189: aload_0
     190: getfield      #31                 // Field asyncWaits:Ljava/util/concurrent/atomic/AtomicInteger;
     193: invokevirtual #232                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     196: pop
     197: goto          438
     200: aload         7
     202: invokevirtual #155                // Method org/eclipse/jetty/server/HttpChannelState.isInitial:()Z
     205: ifeq          438
     208: aload         5
     210: ldc           #236                // String jetty.server.requests
     212: invokestatic  #238                // InterfaceMethod io/micrometer/core/instrument/Timer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     215: ldc           #241                // String HTTP requests to the Jetty server
     217: invokevirtual #243                // Method io/micrometer/core/instrument/Timer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     220: aload_0
     221: getfield      #52                 // Field tagsProvider:Lio/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider;
     224: aload_3
     225: aload         4
     227: invokeinterface #247,  3          // InterfaceMethod io/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider.getTags:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljava/lang/Iterable;
     232: invokevirtual #253                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
     235: aload_0
     236: getfield      #48                 // Field tags:Ljava/lang/Iterable;
     239: invokevirtual #253                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
     242: aload_0
     243: getfield      #44                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
     246: invokevirtual #256                // Method io/micrometer/core/instrument/Timer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer;
     249: invokevirtual #259                // Method io/micrometer/core/instrument/Timer$Sample.stop:(Lio/micrometer/core/instrument/Timer;)J
     252: pop2
     253: aload         6
     255: invokevirtual #265                // Method io/micrometer/core/instrument/LongTaskTimer$Sample.stop:()J
     258: pop2
     259: aload_0
     260: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
     263: invokevirtual #268                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.get:()Lorg/eclipse/jetty/util/FutureCallback;
     266: astore        8
     268: aload         8
     270: ifnull        297
     273: aload         4
     275: invokeinterface #271,  1          // InterfaceMethod javax/servlet/http/HttpServletResponse.flushBuffer:()V
     280: aload_0
     281: getfield      #78                 // Field openRequests:Lio/micrometer/core/instrument/LongTaskTimer;
     284: invokeinterface #274,  1          // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.activeTasks:()I
     289: ifne          297
     292: aload         8
     294: invokevirtual #277                // Method org/eclipse/jetty/util/FutureCallback.succeeded:()V
     297: goto          438
     300: astore        9
     302: aload         7
     304: invokevirtual #225                // Method org/eclipse/jetty/server/HttpChannelState.isSuspended:()Z
     307: ifeq          338
     310: aload         7
     312: invokevirtual #155                // Method org/eclipse/jetty/server/HttpChannelState.isInitial:()Z
     315: ifeq          435
     318: aload         7
     320: aload_0
     321: getfield      #40                 // Field onCompletion:Ljavax/servlet/AsyncListener;
     324: invokevirtual #228                // Method org/eclipse/jetty/server/HttpChannelState.addListener:(Ljavax/servlet/AsyncListener;)V
     327: aload_0
     328: getfield      #31                 // Field asyncWaits:Ljava/util/concurrent/atomic/AtomicInteger;
     331: invokevirtual #232                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     334: pop
     335: goto          435
     338: aload         7
     340: invokevirtual #155                // Method org/eclipse/jetty/server/HttpChannelState.isInitial:()Z
     343: ifeq          435
     346: aload         5
     348: ldc           #236                // String jetty.server.requests
     350: invokestatic  #238                // InterfaceMethod io/micrometer/core/instrument/Timer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     353: ldc           #241                // String HTTP requests to the Jetty server
     355: invokevirtual #243                // Method io/micrometer/core/instrument/Timer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
     358: aload_0
     359: getfield      #52                 // Field tagsProvider:Lio/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider;
     362: aload_3
     363: aload         4
     365: invokeinterface #247,  3          // InterfaceMethod io/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider.getTags:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljava/lang/Iterable;
     370: invokevirtual #253                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
     373: aload_0
     374: getfield      #48                 // Field tags:Ljava/lang/Iterable;
     377: invokevirtual #253                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
     380: aload_0
     381: getfield      #44                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
     384: invokevirtual #256                // Method io/micrometer/core/instrument/Timer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer;
     387: invokevirtual #259                // Method io/micrometer/core/instrument/Timer$Sample.stop:(Lio/micrometer/core/instrument/Timer;)J
     390: pop2
     391: aload         6
     393: invokevirtual #265                // Method io/micrometer/core/instrument/LongTaskTimer$Sample.stop:()J
     396: pop2
     397: aload_0
     398: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
     401: invokevirtual #268                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.get:()Lorg/eclipse/jetty/util/FutureCallback;
     404: astore        10
     406: aload         10
     408: ifnull        435
     411: aload         4
     413: invokeinterface #271,  1          // InterfaceMethod javax/servlet/http/HttpServletResponse.flushBuffer:()V
     418: aload_0
     419: getfield      #78                 // Field openRequests:Lio/micrometer/core/instrument/LongTaskTimer;
     422: invokeinterface #274,  1          // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.activeTasks:()I
     427: ifne          435
     430: aload         10
     432: invokevirtual #277                // Method org/eclipse/jetty/util/FutureCallback.succeeded:()V
     435: aload         9
     437: athrow
     438: return
    Exception table:
       from    to  target type
          89   164   300   any
         300   302   300   any

  protected void doStart() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
       4: invokevirtual #282                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.cancel:()V
       7: aload_0
       8: invokespecial #285                // Method org/eclipse/jetty/server/handler/HandlerWrapper.doStart:()V
      11: return

  protected void doStop() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
       4: invokevirtual #282                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.cancel:()V
       7: aload_0
       8: invokespecial #288                // Method org/eclipse/jetty/server/handler/HandlerWrapper.doStop:()V
      11: return

  public java.util.concurrent.Future<java.lang.Void> shutdown();
    Code:
       0: aload_0
       1: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
       4: invokevirtual #291                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.shutdown:()Ljava/util/concurrent/Future;
       7: areturn

  public boolean isShutdown();
    Code:
       0: aload_0
       1: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
       4: invokevirtual #187                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.isShutdown:()Z
       7: ireturn

  void onAsyncTimeout(javax.servlet.AsyncEvent);
    Code:
       0: aload_0
       1: getfield      #109                // Field asyncExpires:Lio/micrometer/core/instrument/Counter;
       4: invokeinterface #174,  1          // InterfaceMethod io/micrometer/core/instrument/Counter.increment:()V
       9: aload_1
      10: checkcast     #294                // class org/eclipse/jetty/server/AsyncContextEvent
      13: invokevirtual #296                // Method org/eclipse/jetty/server/AsyncContextEvent.getHttpChannelState:()Lorg/eclipse/jetty/server/HttpChannelState;
      16: astore_2
      17: aload_2
      18: invokevirtual #297                // Method org/eclipse/jetty/server/HttpChannelState.getBaseRequest:()Lorg/eclipse/jetty/server/Request;
      21: astore_3
      22: aload_3
      23: ldc           #172                // String __micrometer_ltt_sample
      25: invokevirtual #301                // Method org/eclipse/jetty/server/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      28: checkcast     #181                // class io/micrometer/core/instrument/LongTaskTimer$Sample
      31: astore        4
      33: aload         4
      35: invokevirtual #265                // Method io/micrometer/core/instrument/LongTaskTimer$Sample.stop:()J
      38: pop2
      39: return

  void onAsyncComplete(javax.servlet.AsyncEvent);
    Code:
       0: aload_1
       1: checkcast     #294                // class org/eclipse/jetty/server/AsyncContextEvent
       4: invokevirtual #296                // Method org/eclipse/jetty/server/AsyncContextEvent.getHttpChannelState:()Lorg/eclipse/jetty/server/HttpChannelState;
       7: astore_2
       8: aload_2
       9: invokevirtual #297                // Method org/eclipse/jetty/server/HttpChannelState.getBaseRequest:()Lorg/eclipse/jetty/server/Request;
      12: astore_3
      13: aload_3
      14: ldc           #164                // String __micrometer_timer_sample
      16: invokevirtual #301                // Method org/eclipse/jetty/server/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      19: checkcast     #260                // class io/micrometer/core/instrument/Timer$Sample
      22: astore        4
      24: aload_3
      25: ldc           #172                // String __micrometer_ltt_sample
      27: invokevirtual #301                // Method org/eclipse/jetty/server/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      30: checkcast     #181                // class io/micrometer/core/instrument/LongTaskTimer$Sample
      33: astore        5
      35: aload         4
      37: ifnull        93
      40: aload         4
      42: ldc           #236                // String jetty.server.requests
      44: invokestatic  #238                // InterfaceMethod io/micrometer/core/instrument/Timer.builder:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
      47: ldc           #241                // String HTTP requests to the Jetty server
      49: invokevirtual #243                // Method io/micrometer/core/instrument/Timer$Builder.description:(Ljava/lang/String;)Lio/micrometer/core/instrument/Timer$Builder;
      52: aload_0
      53: getfield      #52                 // Field tagsProvider:Lio/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider;
      56: aload_3
      57: aload_3
      58: invokevirtual #208                // Method org/eclipse/jetty/server/Request.getResponse:()Lorg/eclipse/jetty/server/Response;
      61: invokeinterface #247,  3          // InterfaceMethod io/micrometer/core/instrument/binder/http/HttpServletRequestTagsProvider.getTags:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljava/lang/Iterable;
      66: invokevirtual #253                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
      69: aload_0
      70: getfield      #48                 // Field tags:Ljava/lang/Iterable;
      73: invokevirtual #253                // Method io/micrometer/core/instrument/Timer$Builder.tags:(Ljava/lang/Iterable;)Lio/micrometer/core/instrument/Timer$Builder;
      76: aload_0
      77: getfield      #44                 // Field registry:Lio/micrometer/core/instrument/MeterRegistry;
      80: invokevirtual #256                // Method io/micrometer/core/instrument/Timer$Builder.register:(Lio/micrometer/core/instrument/MeterRegistry;)Lio/micrometer/core/instrument/Timer;
      83: invokevirtual #259                // Method io/micrometer/core/instrument/Timer$Sample.stop:(Lio/micrometer/core/instrument/Timer;)J
      86: pop2
      87: aload         5
      89: invokevirtual #265                // Method io/micrometer/core/instrument/LongTaskTimer$Sample.stop:()J
      92: pop2
      93: aload_0
      94: getfield      #31                 // Field asyncWaits:Ljava/util/concurrent/atomic/AtomicInteger;
      97: invokevirtual #302                // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     100: pop
     101: aload_0
     102: getfield      #24                 // Field shutdown:Lorg/eclipse/jetty/util/component/Graceful$Shutdown;
     105: invokevirtual #268                // Method org/eclipse/jetty/util/component/Graceful$Shutdown.get:()Lorg/eclipse/jetty/util/FutureCallback;
     108: astore        6
     110: aload         6
     112: ifnull        132
     115: aload_0
     116: getfield      #78                 // Field openRequests:Lio/micrometer/core/instrument/LongTaskTimer;
     119: invokeinterface #274,  1          // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.activeTasks:()I
     124: ifne          132
     127: aload         6
     129: invokevirtual #277                // Method org/eclipse/jetty/util/FutureCallback.succeeded:()V
     132: return

  private org.eclipse.jetty.util.FutureCallback newShutdownCallback();
    Code:
       0: new           #278                // class org/eclipse/jetty/util/FutureCallback
       3: dup
       4: aload_0
       5: getfield      #78                 // Field openRequests:Lio/micrometer/core/instrument/LongTaskTimer;
       8: invokeinterface #274,  1          // InterfaceMethod io/micrometer/core/instrument/LongTaskTimer.activeTasks:()I
      13: ifne          20
      16: iconst_1
      17: goto          21
      20: iconst_0
      21: invokespecial #305                // Method org/eclipse/jetty/util/FutureCallback."<init>":(Z)V
      24: areturn

  static org.eclipse.jetty.util.FutureCallback access$000(io.micrometer.core.instrument.binder.jetty.TimedHandler);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method newShutdownCallback:()Lorg/eclipse/jetty/util/FutureCallback;
       4: areturn
}
