Compiled from "PGXAConnection.java"
public class org.postgresql.xa.PGXAConnection extends org.postgresql.ds.PGPooledConnection implements javax.sql.XAConnection,javax.transaction.xa.XAResource {
  private static final java.util.logging.Logger LOGGER;

  private final org.postgresql.core.BaseConnection conn;

  private javax.transaction.xa.Xid currentXid;

  private org.postgresql.xa.PGXAConnection$State state;

  private javax.transaction.xa.Xid preparedXid;

  private boolean committedOrRolledBack;

  private boolean localAutoCommitMode;

  private void debug(java.lang.String);
    Code:
       0: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          41
      12: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
      15: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
      18: ldc           #45                 // String XAResource {0}: {1}
      20: iconst_2
      21: anewarray     #47                 // class java/lang/Object
      24: dup
      25: iconst_0
      26: aload_0
      27: invokevirtual #51                 // Method java/lang/Object.hashCode:()I
      30: invokestatic  #57                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
      33: aastore
      34: dup
      35: iconst_1
      36: aload_1
      37: aastore
      38: invokevirtual #61                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;[Ljava/lang/Object;)V
      41: return

  public org.postgresql.xa.PGXAConnection(org.postgresql.core.BaseConnection) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: iconst_1
       4: invokespecial #72                 // Method org/postgresql/ds/PGPooledConnection."<init>":(Ljava/sql/Connection;ZZ)V
       7: aload_0
       8: iconst_1
       9: putfield      #74                 // Field localAutoCommitMode:Z
      12: aload_0
      13: aload_1
      14: putfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      17: aload_0
      18: getstatic     #79                 // Field org/postgresql/xa/PGXAConnection$State.IDLE:Lorg/postgresql/xa/PGXAConnection$State;
      21: putfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
      24: return

  public java.sql.Connection getConnection() throws java.sql.SQLException;
    Code:
       0: aload_0
       1: invokespecial #85                 // Method org/postgresql/ds/PGPooledConnection.getConnection:()Ljava/sql/Connection;
       4: astore_1
       5: aload_0
       6: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
       9: getstatic     #79                 // Field org/postgresql/xa/PGXAConnection$State.IDLE:Lorg/postgresql/xa/PGXAConnection$State;
      12: if_acmpne     22
      15: aload_1
      16: iconst_1
      17: invokeinterface #91,  2           // InterfaceMethod java/sql/Connection.setAutoCommit:(Z)V
      22: new           #14                 // class org/postgresql/xa/PGXAConnection$ConnectionHandler
      25: dup
      26: aload_0
      27: aload_1
      28: invokespecial #94                 // Method org/postgresql/xa/PGXAConnection$ConnectionHandler."<init>":(Lorg/postgresql/xa/PGXAConnection;Ljava/sql/Connection;)V
      31: astore_2
      32: aload_0
      33: invokevirtual #98                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      36: invokevirtual #104                // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
      39: iconst_2
      40: anewarray     #100                // class java/lang/Class
      43: dup
      44: iconst_0
      45: ldc           #87                 // class java/sql/Connection
      47: aastore
      48: dup
      49: iconst_1
      50: ldc           #106                // class org/postgresql/PGConnection
      52: aastore
      53: aload_2
      54: invokestatic  #112                // Method java/lang/reflect/Proxy.newProxyInstance:(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;
      57: checkcast     #87                 // class java/sql/Connection
      60: areturn

  public javax.transaction.xa.XAResource getXAResource();
    Code:
       0: aload_0
       1: areturn

  public void start(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #123                // class java/lang/StringBuilder
      16: dup
      17: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #128                // String starting transaction xid =
      22: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #141                // Method debug:(Ljava/lang/String;)V
      35: iload_2
      36: ifeq          77
      39: iload_2
      40: ldc           #142                // int 134217728
      42: if_icmpeq     77
      45: iload_2
      46: ldc           #143                // int 2097152
      48: if_icmpeq     77
      51: new           #145                // class org/postgresql/xa/PGXAException
      54: dup
      55: ldc           #147                // String Invalid flags {0}
      57: iconst_1
      58: anewarray     #47                 // class java/lang/Object
      61: dup
      62: iconst_0
      63: iload_2
      64: invokestatic  #151                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      67: aastore
      68: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      71: bipush        -5
      73: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      76: athrow
      77: aload_1
      78: ifnonnull     100
      81: new           #145                // class org/postgresql/xa/PGXAException
      84: dup
      85: ldc           #162                // String xid must not be null
      87: iconst_0
      88: anewarray     #47                 // class java/lang/Object
      91: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      94: bipush        -5
      96: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      99: athrow
     100: aload_0
     101: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     104: getstatic     #165                // Field org/postgresql/xa/PGXAConnection$State.ACTIVE:Lorg/postgresql/xa/PGXAConnection$State;
     107: if_acmpne     129
     110: new           #145                // class org/postgresql/xa/PGXAException
     113: dup
     114: ldc           #167                // String Connection is busy with another transaction
     116: iconst_0
     117: anewarray     #47                 // class java/lang/Object
     120: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     123: bipush        -6
     125: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     128: athrow
     129: iload_2
     130: ldc           #142                // int 134217728
     132: if_icmpne     154
     135: new           #145                // class org/postgresql/xa/PGXAException
     138: dup
     139: ldc           #169                // String suspend/resume not implemented
     141: iconst_0
     142: anewarray     #47                 // class java/lang/Object
     145: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     148: bipush        -3
     150: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     153: athrow
     154: iload_2
     155: ldc           #143                // int 2097152
     157: if_icmpne     269
     160: aload_0
     161: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     164: getstatic     #172                // Field org/postgresql/xa/PGXAConnection$State.ENDED:Lorg/postgresql/xa/PGXAConnection$State;
     167: if_acmpeq     214
     170: new           #145                // class org/postgresql/xa/PGXAException
     173: dup
     174: ldc           #174                // String Invalid protocol state requested. Attempted transaction interleaving is not supported. xid={0}, currentXid={1}, state={2}, flags={3}
     176: iconst_4
     177: anewarray     #47                 // class java/lang/Object
     180: dup
     181: iconst_0
     182: aload_1
     183: aastore
     184: dup
     185: iconst_1
     186: aload_0
     187: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     190: aastore
     191: dup
     192: iconst_2
     193: aload_0
     194: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     197: aastore
     198: dup
     199: iconst_3
     200: iload_2
     201: invokestatic  #151                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     204: aastore
     205: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     208: bipush        -3
     210: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     213: athrow
     214: aload_1
     215: aload_0
     216: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     219: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     222: ifne          323
     225: new           #145                // class org/postgresql/xa/PGXAException
     228: dup
     229: ldc           #174                // String Invalid protocol state requested. Attempted transaction interleaving is not supported. xid={0}, currentXid={1}, state={2}, flags={3}
     231: iconst_4
     232: anewarray     #47                 // class java/lang/Object
     235: dup
     236: iconst_0
     237: aload_1
     238: aastore
     239: dup
     240: iconst_1
     241: aload_0
     242: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     245: aastore
     246: dup
     247: iconst_2
     248: aload_0
     249: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     252: aastore
     253: dup
     254: iconst_3
     255: iload_2
     256: invokestatic  #151                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     259: aastore
     260: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     263: bipush        -3
     265: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     268: athrow
     269: aload_0
     270: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     273: getstatic     #172                // Field org/postgresql/xa/PGXAConnection$State.ENDED:Lorg/postgresql/xa/PGXAConnection$State;
     276: if_acmpne     323
     279: new           #145                // class org/postgresql/xa/PGXAException
     282: dup
     283: ldc           #174                // String Invalid protocol state requested. Attempted transaction interleaving is not supported. xid={0}, currentXid={1}, state={2}, flags={3}
     285: iconst_4
     286: anewarray     #47                 // class java/lang/Object
     289: dup
     290: iconst_0
     291: aload_1
     292: aastore
     293: dup
     294: iconst_1
     295: aload_0
     296: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     299: aastore
     300: dup
     301: iconst_2
     302: aload_0
     303: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     306: aastore
     307: dup
     308: iconst_3
     309: iload_2
     310: invokestatic  #151                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     313: aastore
     314: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     317: bipush        -3
     319: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     322: athrow
     323: iload_2
     324: ifne          374
     327: aload_0
     328: aload_0
     329: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     332: invokeinterface #186,  1          // InterfaceMethod org/postgresql/core/BaseConnection.getAutoCommit:()Z
     337: putfield      #74                 // Field localAutoCommitMode:Z
     340: aload_0
     341: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     344: iconst_0
     345: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     350: goto          374
     353: astore_3
     354: new           #145                // class org/postgresql/xa/PGXAException
     357: dup
     358: ldc           #189                // String Error disabling autocommit
     360: iconst_0
     361: anewarray     #47                 // class java/lang/Object
     364: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     367: aload_3
     368: bipush        -3
     370: invokespecial #192                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     373: athrow
     374: aload_0
     375: getstatic     #165                // Field org/postgresql/xa/PGXAConnection$State.ACTIVE:Lorg/postgresql/xa/PGXAConnection$State;
     378: putfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     381: aload_0
     382: aload_1
     383: putfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     386: aload_0
     387: aconst_null
     388: putfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     391: aload_0
     392: iconst_0
     393: putfield      #196                // Field committedOrRolledBack:Z
     396: return
    Exception table:
       from    to  target type
         327   350   353   Class java/sql/SQLException

  public void end(javax.transaction.xa.Xid, int) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #123                // class java/lang/StringBuilder
      16: dup
      17: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #204                // String ending transaction xid =
      22: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #141                // Method debug:(Ljava/lang/String;)V
      35: iload_2
      36: ldc           #205                // int 33554432
      38: if_icmpeq     79
      41: iload_2
      42: ldc           #206                // int 536870912
      44: if_icmpeq     79
      47: iload_2
      48: ldc           #207                // int 67108864
      50: if_icmpeq     79
      53: new           #145                // class org/postgresql/xa/PGXAException
      56: dup
      57: ldc           #147                // String Invalid flags {0}
      59: iconst_1
      60: anewarray     #47                 // class java/lang/Object
      63: dup
      64: iconst_0
      65: iload_2
      66: invokestatic  #151                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      69: aastore
      70: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      73: bipush        -5
      75: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      78: athrow
      79: aload_1
      80: ifnonnull     102
      83: new           #145                // class org/postgresql/xa/PGXAException
      86: dup
      87: ldc           #162                // String xid must not be null
      89: iconst_0
      90: anewarray     #47                 // class java/lang/Object
      93: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      96: bipush        -5
      98: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     101: athrow
     102: aload_0
     103: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     106: getstatic     #165                // Field org/postgresql/xa/PGXAConnection$State.ACTIVE:Lorg/postgresql/xa/PGXAConnection$State;
     109: if_acmpne     123
     112: aload_0
     113: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     116: aload_1
     117: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     120: ifne          167
     123: new           #145                // class org/postgresql/xa/PGXAException
     126: dup
     127: ldc           #209                // String tried to call end without corresponding start call. state={0}, start xid={1}, currentXid={2}, preparedXid={3}
     129: iconst_4
     130: anewarray     #47                 // class java/lang/Object
     133: dup
     134: iconst_0
     135: aload_0
     136: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     139: aastore
     140: dup
     141: iconst_1
     142: aload_1
     143: aastore
     144: dup
     145: iconst_2
     146: aload_0
     147: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     150: aastore
     151: dup
     152: iconst_3
     153: aload_0
     154: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     157: aastore
     158: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     161: bipush        -6
     163: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     166: athrow
     167: iload_2
     168: ldc           #205                // int 33554432
     170: if_icmpne     192
     173: new           #145                // class org/postgresql/xa/PGXAException
     176: dup
     177: ldc           #169                // String suspend/resume not implemented
     179: iconst_0
     180: anewarray     #47                 // class java/lang/Object
     183: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     186: bipush        -3
     188: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     191: athrow
     192: aload_0
     193: getstatic     #172                // Field org/postgresql/xa/PGXAConnection$State.ENDED:Lorg/postgresql/xa/PGXAConnection$State;
     196: putfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     199: return

  public int prepare(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          35
      12: aload_0
      13: new           #123                // class java/lang/StringBuilder
      16: dup
      17: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #213                // String preparing transaction xid =
      22: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #141                // Method debug:(Ljava/lang/String;)V
      35: aload_0
      36: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      39: ifnonnull     126
      42: aload_0
      43: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
      46: ifnull        126
      49: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
      52: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
      55: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
      58: ifeq          96
      61: aload_0
      62: new           #123                // class java/lang/StringBuilder
      65: dup
      66: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
      69: ldc           #215                // String Prepare xid
      71: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: aload_1
      75: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      78: ldc           #217                // String  but current connection is not attached to a transaction while it was prepared in past with prepared xid
      80: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: aload_0
      84: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
      87: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      90: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: invokespecial #141                // Method debug:(Ljava/lang/String;)V
      96: new           #145                // class org/postgresql/xa/PGXAException
      99: dup
     100: ldc           #219                // String Preparing already prepared transaction, the prepared xid {0}, prepare xid={1}
     102: iconst_2
     103: anewarray     #47                 // class java/lang/Object
     106: dup
     107: iconst_0
     108: aload_0
     109: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     112: aastore
     113: dup
     114: iconst_1
     115: aload_1
     116: aastore
     117: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     120: bipush        -6
     122: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     125: athrow
     126: aload_0
     127: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     130: ifnonnull     156
     133: new           #145                // class org/postgresql/xa/PGXAException
     136: dup
     137: ldc           #221                // String Current connection does not have an associated xid. prepare xid={0}
     139: iconst_1
     140: anewarray     #47                 // class java/lang/Object
     143: dup
     144: iconst_0
     145: aload_1
     146: aastore
     147: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     150: bipush        -4
     152: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     155: athrow
     156: aload_0
     157: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     160: aload_1
     161: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     164: ifne          244
     167: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
     170: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     173: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     176: ifeq          214
     179: aload_0
     180: new           #123                // class java/lang/StringBuilder
     183: dup
     184: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     187: ldc           #223                // String Error to prepare xid
     189: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     192: aload_1
     193: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     196: ldc           #225                // String , the current connection already bound with xid
     198: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     201: aload_0
     202: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     205: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     208: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     211: invokespecial #141                // Method debug:(Ljava/lang/String;)V
     214: new           #145                // class org/postgresql/xa/PGXAException
     217: dup
     218: ldc           #227                // String Not implemented: Prepare must be issued using the same connection that started the transaction. currentXid={0}, prepare xid={1}
     220: iconst_2
     221: anewarray     #47                 // class java/lang/Object
     224: dup
     225: iconst_0
     226: aload_0
     227: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     230: aastore
     231: dup
     232: iconst_1
     233: aload_1
     234: aastore
     235: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     238: bipush        -3
     240: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     243: athrow
     244: aload_0
     245: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     248: getstatic     #172                // Field org/postgresql/xa/PGXAConnection$State.ENDED:Lorg/postgresql/xa/PGXAConnection$State;
     251: if_acmpeq     277
     254: new           #145                // class org/postgresql/xa/PGXAException
     257: dup
     258: ldc           #229                // String Prepare called before end. prepare xid={0}, state={1}
     260: iconst_1
     261: anewarray     #47                 // class java/lang/Object
     264: dup
     265: iconst_0
     266: aload_1
     267: aastore
     268: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     271: bipush        -5
     273: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     276: athrow
     277: aload_0
     278: getstatic     #79                 // Field org/postgresql/xa/PGXAConnection$State.IDLE:Lorg/postgresql/xa/PGXAConnection$State;
     281: putfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     284: aload_0
     285: aload_0
     286: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     289: putfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     292: aload_0
     293: aconst_null
     294: putfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     297: aload_1
     298: invokestatic  #235                // Method org/postgresql/xa/RecoveredXid.xidToString:(Ljavax/transaction/xa/Xid;)Ljava/lang/String;
     301: astore_2
     302: aload_0
     303: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     306: invokeinterface #239,  1          // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
     311: astore_3
     312: aload_3
     313: new           #123                // class java/lang/StringBuilder
     316: dup
     317: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     320: ldc           #241                // String PREPARE TRANSACTION \'
     322: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     325: aload_2
     326: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     329: ldc           #243                // String \'
     331: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     334: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     337: invokeinterface #249,  2          // InterfaceMethod java/sql/Statement.executeUpdate:(Ljava/lang/String;)I
     342: pop
     343: aload_3
     344: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     349: goto          363
     352: astore        4
     354: aload_3
     355: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     360: aload         4
     362: athrow
     363: aload_0
     364: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     367: aload_0
     368: getfield      #74                 // Field localAutoCommitMode:Z
     371: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     376: iconst_0
     377: ireturn
     378: astore_2
     379: new           #145                // class org/postgresql/xa/PGXAException
     382: dup
     383: ldc_w         #260                // String Error preparing transaction. prepare xid={0}
     386: iconst_1
     387: anewarray     #47                 // class java/lang/Object
     390: dup
     391: iconst_0
     392: aload_1
     393: aastore
     394: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     397: aload_2
     398: bipush        -3
     400: invokespecial #192                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     403: athrow
    Exception table:
       from    to  target type
         312   343   352   any
         352   354   352   any
         297   377   378   Class java/sql/SQLException

  public javax.transaction.xa.Xid[] recover(int) throws javax.transaction.xa.XAException;
    Code:
       0: iload_1
       1: ldc_w         #265                // int 16777216
       4: if_icmpeq     51
       7: iload_1
       8: ldc_w         #266                // int 8388608
      11: if_icmpeq     51
      14: iload_1
      15: ifeq          51
      18: iload_1
      19: ldc_w         #267                // int 25165824
      22: if_icmpeq     51
      25: new           #145                // class org/postgresql/xa/PGXAException
      28: dup
      29: ldc           #147                // String Invalid flags {0}
      31: iconst_1
      32: anewarray     #47                 // class java/lang/Object
      35: dup
      36: iconst_0
      37: iload_1
      38: invokestatic  #151                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      41: aastore
      42: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      45: bipush        -5
      47: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      50: athrow
      51: iload_1
      52: ldc_w         #265                // int 16777216
      55: iand
      56: ifne          64
      59: iconst_0
      60: anewarray     #254                // class javax/transaction/xa/Xid
      63: areturn
      64: aload_0
      65: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      68: invokeinterface #239,  1          // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
      73: astore_2
      74: aload_2
      75: ldc_w         #269                // String SELECT gid FROM pg_prepared_xacts where database = current_database()
      78: invokeinterface #273,  2          // InterfaceMethod java/sql/Statement.executeQuery:(Ljava/lang/String;)Ljava/sql/ResultSet;
      83: astore_3
      84: new           #275                // class java/util/LinkedList
      87: dup
      88: invokespecial #276                // Method java/util/LinkedList."<init>":()V
      91: astore        4
      93: aload_3
      94: invokeinterface #281,  1          // InterfaceMethod java/sql/ResultSet.next:()Z
      99: ifeq          130
     102: aload_3
     103: iconst_1
     104: invokeinterface #284,  2          // InterfaceMethod java/sql/ResultSet.getString:(I)Ljava/lang/String;
     109: invokestatic  #288                // Method org/postgresql/xa/RecoveredXid.stringToXid:(Ljava/lang/String;)Ljavax/transaction/xa/Xid;
     112: astore        5
     114: aload         5
     116: ifnull        127
     119: aload         4
     121: aload         5
     123: invokevirtual #291                // Method java/util/LinkedList.add:(Ljava/lang/Object;)Z
     126: pop
     127: goto          93
     130: aload_3
     131: invokeinterface #292,  1          // InterfaceMethod java/sql/ResultSet.close:()V
     136: aload         4
     138: aload         4
     140: invokevirtual #295                // Method java/util/LinkedList.size:()I
     143: anewarray     #254                // class javax/transaction/xa/Xid
     146: invokevirtual #299                // Method java/util/LinkedList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     149: checkcast     #301                // class "[Ljavax/transaction/xa/Xid;"
     152: astore        5
     154: aload_2
     155: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     160: aload         5
     162: areturn
     163: astore        6
     165: aload_2
     166: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     171: aload         6
     173: athrow
     174: astore_2
     175: new           #145                // class org/postgresql/xa/PGXAException
     178: dup
     179: ldc_w         #303                // String Error during recover
     182: iconst_0
     183: anewarray     #47                 // class java/lang/Object
     186: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     189: aload_2
     190: bipush        -3
     192: invokespecial #192                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     195: athrow
    Exception table:
       from    to  target type
          74   154   163   any
         163   165   163   any
          64   160   174   Class java/sql/SQLException
         163   174   174   Class java/sql/SQLException

  public void rollback(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          36
      12: aload_0
      13: new           #123                // class java/lang/StringBuilder
      16: dup
      17: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
      20: ldc_w         #314                // String rolling back xid =
      23: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      30: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      33: invokespecial #141                // Method debug:(Ljava/lang/String;)V
      36: aload_0
      37: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      40: ifnull        91
      43: aload_0
      44: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      47: aload_1
      48: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      51: ifeq          91
      54: aload_0
      55: getstatic     #79                 // Field org/postgresql/xa/PGXAConnection$State.IDLE:Lorg/postgresql/xa/PGXAConnection$State;
      58: putfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
      61: aload_0
      62: aconst_null
      63: putfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      66: aload_0
      67: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      70: invokeinterface #316,  1          // InterfaceMethod org/postgresql/core/BaseConnection.rollback:()V
      75: aload_0
      76: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      79: aload_0
      80: getfield      #74                 // Field localAutoCommitMode:Z
      83: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
      88: goto          168
      91: aload_1
      92: invokestatic  #235                // Method org/postgresql/xa/RecoveredXid.xidToString:(Ljavax/transaction/xa/Xid;)Ljava/lang/String;
      95: astore_2
      96: aload_0
      97: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     100: iconst_1
     101: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     106: aload_0
     107: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     110: invokeinterface #239,  1          // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
     115: astore_3
     116: aload_3
     117: new           #123                // class java/lang/StringBuilder
     120: dup
     121: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     124: ldc_w         #318                // String ROLLBACK PREPARED \'
     127: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: aload_2
     131: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     134: ldc           #243                // String \'
     136: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     139: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     142: invokeinterface #249,  2          // InterfaceMethod java/sql/Statement.executeUpdate:(Ljava/lang/String;)I
     147: pop
     148: aload_3
     149: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     154: goto          168
     157: astore        4
     159: aload_3
     160: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     165: aload         4
     167: athrow
     168: aload_0
     169: iconst_1
     170: putfield      #196                // Field committedOrRolledBack:Z
     173: goto          374
     176: astore_2
     177: bipush        -3
     179: istore_3
     180: getstatic     #324                // Field org/postgresql/util/PSQLState.UNDEFINED_OBJECT:Lorg/postgresql/util/PSQLState;
     183: invokevirtual #327                // Method org/postgresql/util/PSQLState.getState:()Ljava/lang/String;
     186: aload_2
     187: invokevirtual #330                // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     190: invokevirtual #331                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     193: ifeq          285
     196: aload_0
     197: getfield      #196                // Field committedOrRolledBack:Z
     200: ifne          214
     203: aload_1
     204: aload_0
     205: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     208: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     211: ifne          285
     214: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
     217: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     220: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     223: ifeq          282
     226: aload_0
     227: new           #123                // class java/lang/StringBuilder
     230: dup
     231: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     234: ldc_w         #333                // String rolling back xid
     237: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     240: aload_1
     241: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     244: ldc_w         #335                // String  while the connection prepared xid is
     247: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     250: aload_0
     251: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     254: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     257: aload_0
     258: getfield      #196                // Field committedOrRolledBack:Z
     261: ifeq          270
     264: ldc_w         #337                // String , but the connection was already committed/rolled-back
     267: goto          273
     270: ldc_w         #339                // String
     273: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     276: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     279: invokespecial #141                // Method debug:(Ljava/lang/String;)V
     282: bipush        -4
     284: istore_3
     285: aload_2
     286: invokevirtual #330                // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     289: invokestatic  #343                // Method org/postgresql/util/PSQLState.isConnectionError:(Ljava/lang/String;)Z
     292: ifeq          343
     295: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
     298: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     301: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     304: ifeq          340
     307: aload_0
     308: new           #123                // class java/lang/StringBuilder
     311: dup
     312: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     315: ldc_w         #345                // String rollback connection failure (sql error code
     318: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     321: aload_2
     322: invokevirtual #330                // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     325: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     328: ldc_w         #347                // String ), reconnection could be expected
     331: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     334: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     337: invokespecial #141                // Method debug:(Ljava/lang/String;)V
     340: bipush        -7
     342: istore_3
     343: new           #145                // class org/postgresql/xa/PGXAException
     346: dup
     347: ldc_w         #349                // String Error rolling back prepared transaction. rollback xid={0}, preparedXid={1}, currentXid={2}
     350: iconst_2
     351: anewarray     #47                 // class java/lang/Object
     354: dup
     355: iconst_0
     356: aload_1
     357: aastore
     358: dup
     359: iconst_1
     360: aload_0
     361: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     364: aastore
     365: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     368: aload_2
     369: iload_3
     370: invokespecial #192                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     373: athrow
     374: return
    Exception table:
       from    to  target type
         116   148   157   any
         157   159   157   any
          36   173   176   Class java/sql/SQLException

  public void commit(javax.transaction.xa.Xid, boolean) throws javax.transaction.xa.XAException;
    Code:
       0: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
       3: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
       6: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
       9: ifeq          52
      12: aload_0
      13: new           #123                // class java/lang/StringBuilder
      16: dup
      17: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
      20: ldc_w         #354                // String committing xid =
      23: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      30: iload_2
      31: ifeq          40
      34: ldc_w         #356                // String  (one phase)
      37: goto          43
      40: ldc_w         #358                // String  (two phase)
      43: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: invokespecial #141                // Method debug:(Ljava/lang/String;)V
      52: aload_1
      53: ifnonnull     75
      56: new           #145                // class org/postgresql/xa/PGXAException
      59: dup
      60: ldc           #162                // String xid must not be null
      62: iconst_0
      63: anewarray     #47                 // class java/lang/Object
      66: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      69: bipush        -5
      71: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      74: athrow
      75: iload_2
      76: ifeq          87
      79: aload_0
      80: aload_1
      81: invokespecial #361                // Method commitOnePhase:(Ljavax/transaction/xa/Xid;)V
      84: goto          92
      87: aload_0
      88: aload_1
      89: invokespecial #364                // Method commitPrepared:(Ljavax/transaction/xa/Xid;)V
      92: return

  private void commitOnePhase(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
       5: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
       8: ifeq          42
      11: new           #145                // class org/postgresql/xa/PGXAException
      14: dup
      15: ldc_w         #367                // String One-phase commit called for xid {0} but connection was prepared with xid {1}
      18: iconst_2
      19: anewarray     #47                 // class java/lang/Object
      22: dup
      23: iconst_0
      24: aload_1
      25: aastore
      26: dup
      27: iconst_1
      28: aload_0
      29: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
      32: aastore
      33: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      36: bipush        -6
      38: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      41: athrow
      42: aload_0
      43: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      46: ifnonnull     80
      49: aload_0
      50: getfield      #196                // Field committedOrRolledBack:Z
      53: ifne          80
      56: new           #145                // class org/postgresql/xa/PGXAException
      59: dup
      60: ldc_w         #369                // String Not implemented: one-phase commit must be issued using the same connection that was used to start it
      63: iconst_1
      64: anewarray     #47                 // class java/lang/Object
      67: dup
      68: iconst_0
      69: aload_1
      70: aastore
      71: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      74: bipush        -3
      76: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      79: athrow
      80: aload_1
      81: aload_0
      82: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      85: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      88: ifeq          98
      91: aload_0
      92: getfield      #196                // Field committedOrRolledBack:Z
      95: ifeq          129
      98: new           #145                // class org/postgresql/xa/PGXAException
     101: dup
     102: ldc_w         #371                // String One-phase commit with unknown xid. commit xid={0}, currentXid={1}
     105: iconst_2
     106: anewarray     #47                 // class java/lang/Object
     109: dup
     110: iconst_0
     111: aload_1
     112: aastore
     113: dup
     114: iconst_1
     115: aload_0
     116: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     119: aastore
     120: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     123: bipush        -4
     125: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     128: athrow
     129: aload_0
     130: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     133: getstatic     #172                // Field org/postgresql/xa/PGXAConnection$State.ENDED:Lorg/postgresql/xa/PGXAConnection$State;
     136: if_acmpeq     170
     139: new           #145                // class org/postgresql/xa/PGXAException
     142: dup
     143: ldc_w         #373                // String commit called before end. commit xid={0}, state={1}
     146: iconst_2
     147: anewarray     #47                 // class java/lang/Object
     150: dup
     151: iconst_0
     152: aload_1
     153: aastore
     154: dup
     155: iconst_1
     156: aload_0
     157: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     160: aastore
     161: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     164: bipush        -6
     166: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
     169: athrow
     170: aload_0
     171: getstatic     #79                 // Field org/postgresql/xa/PGXAConnection$State.IDLE:Lorg/postgresql/xa/PGXAConnection$State;
     174: putfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
     177: aload_0
     178: aconst_null
     179: putfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     182: aload_0
     183: iconst_1
     184: putfield      #196                // Field committedOrRolledBack:Z
     187: aload_0
     188: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     191: invokeinterface #375,  1          // InterfaceMethod org/postgresql/core/BaseConnection.commit:()V
     196: aload_0
     197: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     200: aload_0
     201: getfield      #74                 // Field localAutoCommitMode:Z
     204: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     209: goto          238
     212: astore_2
     213: new           #145                // class org/postgresql/xa/PGXAException
     216: dup
     217: ldc_w         #377                // String Error during one-phase commit. commit xid={0}
     220: iconst_1
     221: anewarray     #47                 // class java/lang/Object
     224: dup
     225: iconst_0
     226: aload_1
     227: aastore
     228: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     231: aload_2
     232: bipush        -7
     234: invokespecial #192                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     237: athrow
     238: return
    Exception table:
       from    to  target type
           0   209   212   Class java/sql/SQLException

  private void commitPrepared(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: aload_0
       1: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
       4: getstatic     #79                 // Field org/postgresql/xa/PGXAConnection$State.IDLE:Lorg/postgresql/xa/PGXAConnection$State;
       7: if_acmpne     25
      10: aload_0
      11: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      14: invokeinterface #381,  1          // InterfaceMethod org/postgresql/core/BaseConnection.getTransactionState:()Lorg/postgresql/core/TransactionState;
      19: getstatic     #386                // Field org/postgresql/core/TransactionState.IDLE:Lorg/postgresql/core/TransactionState;
      22: if_acmpeq     75
      25: new           #145                // class org/postgresql/xa/PGXAException
      28: dup
      29: ldc_w         #388                // String Not implemented: 2nd phase commit must be issued using an idle connection. commit xid={0}, currentXid={1}, state={2], transactionState={3}
      32: iconst_4
      33: anewarray     #47                 // class java/lang/Object
      36: dup
      37: iconst_0
      38: aload_1
      39: aastore
      40: dup
      41: iconst_1
      42: aload_0
      43: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
      46: aastore
      47: dup
      48: iconst_2
      49: aload_0
      50: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
      53: aastore
      54: dup
      55: iconst_3
      56: aload_0
      57: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      60: invokeinterface #381,  1          // InterfaceMethod org/postgresql/core/BaseConnection.getTransactionState:()Lorg/postgresql/core/TransactionState;
      65: aastore
      66: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      69: bipush        -3
      71: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      74: athrow
      75: aload_1
      76: invokestatic  #235                // Method org/postgresql/xa/RecoveredXid.xidToString:(Ljavax/transaction/xa/Xid;)Ljava/lang/String;
      79: astore_2
      80: aload_0
      81: aload_0
      82: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      85: invokeinterface #186,  1          // InterfaceMethod org/postgresql/core/BaseConnection.getAutoCommit:()Z
      90: putfield      #74                 // Field localAutoCommitMode:Z
      93: aload_0
      94: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
      97: iconst_1
      98: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     103: aload_0
     104: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     107: invokeinterface #239,  1          // InterfaceMethod org/postgresql/core/BaseConnection.createStatement:()Ljava/sql/Statement;
     112: astore_3
     113: aload_3
     114: new           #123                // class java/lang/StringBuilder
     117: dup
     118: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     121: ldc_w         #390                // String COMMIT PREPARED \'
     124: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: aload_2
     128: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: ldc           #243                // String \'
     133: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     139: invokeinterface #249,  2          // InterfaceMethod java/sql/Statement.executeUpdate:(Ljava/lang/String;)I
     144: pop
     145: aload_3
     146: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     151: aload_0
     152: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     155: aload_0
     156: getfield      #74                 // Field localAutoCommitMode:Z
     159: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     164: goto          191
     167: astore        4
     169: aload_3
     170: invokeinterface #252,  1          // InterfaceMethod java/sql/Statement.close:()V
     175: aload_0
     176: getfield      #76                 // Field conn:Lorg/postgresql/core/BaseConnection;
     179: aload_0
     180: getfield      #74                 // Field localAutoCommitMode:Z
     183: invokeinterface #187,  2          // InterfaceMethod org/postgresql/core/BaseConnection.setAutoCommit:(Z)V
     188: aload         4
     190: athrow
     191: aload_0
     192: iconst_1
     193: putfield      #196                // Field committedOrRolledBack:Z
     196: goto          404
     199: astore_2
     200: bipush        -3
     202: istore_3
     203: getstatic     #324                // Field org/postgresql/util/PSQLState.UNDEFINED_OBJECT:Lorg/postgresql/util/PSQLState;
     206: invokevirtual #327                // Method org/postgresql/util/PSQLState.getState:()Ljava/lang/String;
     209: aload_2
     210: invokevirtual #330                // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     213: invokevirtual #331                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     216: ifeq          308
     219: aload_0
     220: getfield      #196                // Field committedOrRolledBack:Z
     223: ifne          237
     226: aload_1
     227: aload_0
     228: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     231: invokevirtual #180                // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     234: ifne          308
     237: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
     240: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     243: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     246: ifeq          305
     249: aload_0
     250: new           #123                // class java/lang/StringBuilder
     253: dup
     254: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     257: ldc_w         #392                // String committing xid
     260: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     263: aload_1
     264: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     267: ldc_w         #335                // String  while the connection prepared xid is
     270: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     273: aload_0
     274: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     277: invokevirtual #135                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     280: aload_0
     281: getfield      #196                // Field committedOrRolledBack:Z
     284: ifeq          293
     287: ldc_w         #337                // String , but the connection was already committed/rolled-back
     290: goto          296
     293: ldc_w         #339                // String
     296: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     299: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     302: invokespecial #141                // Method debug:(Ljava/lang/String;)V
     305: bipush        -4
     307: istore_3
     308: aload_2
     309: invokevirtual #330                // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     312: invokestatic  #343                // Method org/postgresql/util/PSQLState.isConnectionError:(Ljava/lang/String;)Z
     315: ifeq          366
     318: getstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
     321: getstatic     #37                 // Field java/util/logging/Level.FINEST:Ljava/util/logging/Level;
     324: invokevirtual #43                 // Method java/util/logging/Logger.isLoggable:(Ljava/util/logging/Level;)Z
     327: ifeq          363
     330: aload_0
     331: new           #123                // class java/lang/StringBuilder
     334: dup
     335: invokespecial #126                // Method java/lang/StringBuilder."<init>":()V
     338: ldc_w         #394                // String commit connection failure (sql error code
     341: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     344: aload_2
     345: invokevirtual #330                // Method java/sql/SQLException.getSQLState:()Ljava/lang/String;
     348: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     351: ldc_w         #347                // String ), reconnection could be expected
     354: invokevirtual #132                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     357: invokevirtual #139                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     360: invokespecial #141                // Method debug:(Ljava/lang/String;)V
     363: bipush        -7
     365: istore_3
     366: new           #145                // class org/postgresql/xa/PGXAException
     369: dup
     370: ldc_w         #396                // String Error committing prepared transaction. commit xid={0}, preparedXid={1}, currentXid={2}
     373: iconst_3
     374: anewarray     #47                 // class java/lang/Object
     377: dup
     378: iconst_0
     379: aload_1
     380: aastore
     381: dup
     382: iconst_1
     383: aload_0
     384: getfield      #194                // Field preparedXid:Ljavax/transaction/xa/Xid;
     387: aastore
     388: dup
     389: iconst_2
     390: aload_0
     391: getfield      #176                // Field currentXid:Ljavax/transaction/xa/Xid;
     394: aastore
     395: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     398: aload_2
     399: iload_3
     400: invokespecial #192                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;I)V
     403: athrow
     404: return
    Exception table:
       from    to  target type
         113   145   167   any
         167   169   167   any
           0   196   199   Class java/sql/SQLException

  public boolean isSameRM(javax.transaction.xa.XAResource) throws javax.transaction.xa.XAException;
    Code:
       0: aload_1
       1: aload_0
       2: if_acmpne     9
       5: iconst_1
       6: goto          10
       9: iconst_0
      10: ireturn

  public void forget(javax.transaction.xa.Xid) throws javax.transaction.xa.XAException;
    Code:
       0: new           #145                // class org/postgresql/xa/PGXAException
       3: dup
       4: ldc_w         #403                // String Heuristic commit/rollback not supported. forget xid={0}
       7: iconst_1
       8: anewarray     #47                 // class java/lang/Object
      11: dup
      12: iconst_0
      13: aload_1
      14: aastore
      15: invokestatic  #157                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      18: bipush        -4
      20: invokespecial #160                // Method org/postgresql/xa/PGXAException."<init>":(Ljava/lang/String;I)V
      23: athrow

  public int getTransactionTimeout();
    Code:
       0: iconst_0
       1: ireturn

  public boolean setTransactionTimeout(int);
    Code:
       0: iconst_0
       1: ireturn

  static org.postgresql.xa.PGXAConnection$State access$000(org.postgresql.xa.PGXAConnection);
    Code:
       0: aload_0
       1: getfield      #81                 // Field state:Lorg/postgresql/xa/PGXAConnection$State;
       4: areturn

  static {};
    Code:
       0: ldc           #2                  // class org/postgresql/xa/PGXAConnection
       2: invokevirtual #414                // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokestatic  #418                // Method java/util/logging/Logger.getLogger:(Ljava/lang/String;)Ljava/util/logging/Logger;
       8: putstatic     #31                 // Field LOGGER:Ljava/util/logging/Logger;
      11: return
}
