Compiled from "LazyKeyManager.java"
public class org.postgresql.ssl.jdbc4.LazyKeyManager implements javax.net.ssl.X509KeyManager {
  private java.security.cert.X509Certificate[] cert;

  private java.security.PrivateKey key;

  private java.lang.String certfile;

  private java.lang.String keyfile;

  private javax.security.auth.callback.CallbackHandler cbh;

  private boolean defaultfile;

  private org.postgresql.util.PSQLException error;

  public org.postgresql.ssl.jdbc4.LazyKeyManager(java.lang.String, java.lang.String, javax.security.auth.callback.CallbackHandler, boolean);
    Code:
       0: aload_0
       1: invokespecial #30                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #32                 // Field cert:[Ljava/security/cert/X509Certificate;
       9: aload_0
      10: aconst_null
      11: putfield      #34                 // Field key:Ljava/security/PrivateKey;
      14: aload_0
      15: aconst_null
      16: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
      19: aload_0
      20: aload_1
      21: putfield      #38                 // Field certfile:Ljava/lang/String;
      24: aload_0
      25: aload_2
      26: putfield      #40                 // Field keyfile:Ljava/lang/String;
      29: aload_0
      30: aload_3
      31: putfield      #42                 // Field cbh:Ljavax/security/auth/callback/CallbackHandler;
      34: aload_0
      35: iload         4
      37: putfield      #44                 // Field defaultfile:Z
      40: return

  public void throwKeyManagerException() throws org.postgresql.util.PSQLException;
    Code:
       0: aload_0
       1: getfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
       4: ifnull        12
       7: aload_0
       8: getfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
      11: athrow
      12: return

  public java.lang.String chooseClientAlias(java.lang.String[], java.security.Principal[], java.net.Socket);
    Code:
       0: aload_0
       1: getfield      #38                 // Field certfile:Ljava/lang/String;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_2
      10: ifnull        18
      13: aload_2
      14: arraylength
      15: ifne          21
      18: ldc           #53                 // String user
      20: areturn
      21: aload_0
      22: ldc           #53                 // String user
      24: invokevirtual #57                 // Method getCertificateChain:(Ljava/lang/String;)[Ljava/security/cert/X509Certificate;
      27: astore        4
      29: aload         4
      31: ifnonnull     36
      34: aconst_null
      35: areturn
      36: aload         4
      38: aload         4
      40: arraylength
      41: iconst_1
      42: isub
      43: aaload
      44: invokevirtual #64                 // Method java/security/cert/X509Certificate.getIssuerX500Principal:()Ljavax/security/auth/x500/X500Principal;
      47: astore        5
      49: iconst_0
      50: istore        6
      52: aload_2
      53: astore        7
      55: aload         7
      57: arraylength
      58: istore        8
      60: iconst_0
      61: istore        9
      63: iload         9
      65: iload         8
      67: if_icmpge     96
      70: aload         7
      72: iload         9
      74: aaload
      75: astore        10
      77: aload         5
      79: aload         10
      81: invokevirtual #76                 // Method javax/security/auth/x500/X500Principal.equals:(Ljava/lang/Object;)Z
      84: ifeq          90
      87: iconst_1
      88: istore        6
      90: iinc          9, 1
      93: goto          63
      96: iload         6
      98: ifeq          106
     101: ldc           #53                 // String user
     103: goto          107
     106: aconst_null
     107: areturn

  public java.lang.String chooseServerAlias(java.lang.String, java.security.Principal[], java.net.Socket);
    Code:
       0: aconst_null
       1: areturn

  public java.security.cert.X509Certificate[] getCertificateChain(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #32                 // Field cert:[Ljava/security/cert/X509Certificate;
       4: ifnonnull     170
       7: aload_0
       8: getfield      #38                 // Field certfile:Ljava/lang/String;
      11: ifnull        170
      14: ldc           #96                 // String X.509
      16: invokestatic  #102                // Method java/security/cert/CertificateFactory.getInstance:(Ljava/lang/String;)Ljava/security/cert/CertificateFactory;
      19: astore_2
      20: goto          50
      23: astore_3
      24: aload_0
      25: new           #49                 // class org/postgresql/util/PSQLException
      28: dup
      29: ldc           #104                // String Could not find a java cryptographic algorithm: X.509 CertificateFactory not available.
      31: iconst_0
      32: anewarray     #4                  // class java/lang/Object
      35: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      38: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
      41: aload_3
      42: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
      45: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
      48: aconst_null
      49: areturn
      50: aload_2
      51: new           #121                // class java/io/FileInputStream
      54: dup
      55: aload_0
      56: getfield      #38                 // Field certfile:Ljava/lang/String;
      59: invokespecial #124                // Method java/io/FileInputStream."<init>":(Ljava/lang/String;)V
      62: invokevirtual #128                // Method java/security/cert/CertificateFactory.generateCertificates:(Ljava/io/InputStream;)Ljava/util/Collection;
      65: astore_3
      66: goto          148
      69: astore        4
      71: aload_0
      72: getfield      #44                 // Field defaultfile:Z
      75: ifne          110
      78: aload_0
      79: new           #49                 // class org/postgresql/util/PSQLException
      82: dup
      83: ldc           #130                // String Could not open SSL certificate file {0}.
      85: iconst_1
      86: anewarray     #4                  // class java/lang/Object
      89: dup
      90: iconst_0
      91: aload_0
      92: getfield      #38                 // Field certfile:Ljava/lang/String;
      95: aastore
      96: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      99: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     102: aload         4
     104: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     107: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     110: aconst_null
     111: areturn
     112: astore        4
     114: aload_0
     115: new           #49                 // class org/postgresql/util/PSQLException
     118: dup
     119: ldc           #132                // String Loading the SSL certificate {0} into a KeyManager failed.
     121: iconst_1
     122: anewarray     #4                  // class java/lang/Object
     125: dup
     126: iconst_0
     127: aload_0
     128: getfield      #38                 // Field certfile:Ljava/lang/String;
     131: aastore
     132: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     135: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     138: aload         4
     140: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     143: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     146: aconst_null
     147: areturn
     148: aload_0
     149: aload_3
     150: aload_3
     151: invokeinterface #138,  1          // InterfaceMethod java/util/Collection.size:()I
     156: anewarray     #60                 // class java/security/cert/X509Certificate
     159: invokeinterface #142,  2          // InterfaceMethod java/util/Collection.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     164: checkcast     #58                 // class "[Ljava/security/cert/X509Certificate;"
     167: putfield      #32                 // Field cert:[Ljava/security/cert/X509Certificate;
     170: aload_0
     171: getfield      #32                 // Field cert:[Ljava/security/cert/X509Certificate;
     174: areturn
    Exception table:
       from    to  target type
          14    20    23   Class java/security/cert/CertificateException
          50    66    69   Class java/io/FileNotFoundException
          50    66   112   Class java/security/cert/CertificateException

  public java.lang.String[] getClientAliases(java.lang.String, java.security.Principal[]);
    Code:
       0: aload_0
       1: iconst_1
       2: anewarray     #78                 // class java/lang/String
       5: dup
       6: iconst_0
       7: aload_1
       8: aastore
       9: aload_2
      10: aconst_null
      11: checkcast     #70                 // class java/net/Socket
      14: invokevirtual #157                // Method chooseClientAlias:([Ljava/lang/String;[Ljava/security/Principal;Ljava/net/Socket;)Ljava/lang/String;
      17: astore_3
      18: aload_3
      19: ifnonnull     29
      22: iconst_0
      23: anewarray     #78                 // class java/lang/String
      26: goto          37
      29: iconst_1
      30: anewarray     #78                 // class java/lang/String
      33: dup
      34: iconst_0
      35: aload_3
      36: aastore
      37: areturn

  public java.security.PrivateKey getPrivateKey(java.lang.String);
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: getfield      #34                 // Field key:Ljava/security/PrivateKey;
       6: ifnonnull     418
       9: aload_0
      10: getfield      #40                 // Field keyfile:Ljava/lang/String;
      13: ifnull        418
      16: aload_0
      17: getfield      #32                 // Field cert:[Ljava/security/cert/X509Certificate;
      20: ifnonnull     34
      23: aload_0
      24: ldc           #53                 // String user
      26: invokevirtual #57                 // Method getCertificateChain:(Ljava/lang/String;)[Ljava/security/cert/X509Certificate;
      29: ifnonnull     34
      32: aconst_null
      33: areturn
      34: new           #173                // class java/io/RandomAccessFile
      37: dup
      38: new           #175                // class java/io/File
      41: dup
      42: aload_0
      43: getfield      #40                 // Field keyfile:Ljava/lang/String;
      46: invokespecial #176                // Method java/io/File."<init>":(Ljava/lang/String;)V
      49: ldc           #178                // String r
      51: invokespecial #181                // Method java/io/RandomAccessFile."<init>":(Ljava/io/File;Ljava/lang/String;)V
      54: astore_2
      55: goto          70
      58: astore_3
      59: aload_0
      60: getfield      #44                 // Field defaultfile:Z
      63: ifne          68
      66: aload_3
      67: athrow
      68: aconst_null
      69: areturn
      70: aload_2
      71: invokevirtual #185                // Method java/io/RandomAccessFile.length:()J
      74: l2i
      75: newarray       byte
      77: astore_3
      78: aload_2
      79: aload_3
      80: invokevirtual #189                // Method java/io/RandomAccessFile.readFully:([B)V
      83: aload_2
      84: invokevirtual #192                // Method java/io/RandomAccessFile.close:()V
      87: aconst_null
      88: astore_2
      89: aload_0
      90: getfield      #32                 // Field cert:[Ljava/security/cert/X509Certificate;
      93: iconst_0
      94: aaload
      95: invokevirtual #196                // Method java/security/cert/X509Certificate.getPublicKey:()Ljava/security/PublicKey;
      98: invokeinterface #202,  1          // InterfaceMethod java/security/PublicKey.getAlgorithm:()Ljava/lang/String;
     103: invokestatic  #207                // Method java/security/KeyFactory.getInstance:(Ljava/lang/String;)Ljava/security/KeyFactory;
     106: astore        4
     108: new           #209                // class java/security/spec/PKCS8EncodedKeySpec
     111: dup
     112: aload_3
     113: invokespecial #211                // Method java/security/spec/PKCS8EncodedKeySpec."<init>":([B)V
     116: astore        5
     118: aload_0
     119: aload         4
     121: aload         5
     123: invokevirtual #215                // Method java/security/KeyFactory.generatePrivate:(Ljava/security/spec/KeySpec;)Ljava/security/PrivateKey;
     126: putfield      #34                 // Field key:Ljava/security/PrivateKey;
     129: goto          418
     132: astore        5
     134: new           #219                // class javax/crypto/EncryptedPrivateKeyInfo
     137: dup
     138: aload_3
     139: invokespecial #220                // Method javax/crypto/EncryptedPrivateKeyInfo."<init>":([B)V
     142: astore        6
     144: aload         6
     146: invokevirtual #223                // Method javax/crypto/EncryptedPrivateKeyInfo.getAlgName:()Ljava/lang/String;
     149: invokestatic  #228                // Method javax/crypto/Cipher.getInstance:(Ljava/lang/String;)Ljavax/crypto/Cipher;
     152: astore        7
     154: goto          174
     157: astore        8
     159: new           #171                // class java/security/NoSuchAlgorithmException
     162: dup
     163: aload         8
     165: invokevirtual #231                // Method javax/crypto/NoSuchPaddingException.getMessage:()Ljava/lang/String;
     168: aload         8
     170: invokespecial #234                // Method java/security/NoSuchAlgorithmException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     173: athrow
     174: new           #236                // class javax/security/auth/callback/PasswordCallback
     177: dup
     178: ldc           #238                // String Enter SSL password:
     180: iconst_0
     181: anewarray     #4                  // class java/lang/Object
     184: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     187: iconst_0
     188: invokespecial #241                // Method javax/security/auth/callback/PasswordCallback."<init>":(Ljava/lang/String;Z)V
     191: astore        8
     193: aload_0
     194: getfield      #42                 // Field cbh:Ljavax/security/auth/callback/CallbackHandler;
     197: iconst_1
     198: anewarray     #243                // class javax/security/auth/callback/Callback
     201: dup
     202: iconst_0
     203: aload         8
     205: aastore
     206: invokeinterface #249,  2          // InterfaceMethod javax/security/auth/callback/CallbackHandler.handle:([Ljavax/security/auth/callback/Callback;)V
     211: goto          308
     214: astore        9
     216: aload_0
     217: getfield      #42                 // Field cbh:Ljavax/security/auth/callback/CallbackHandler;
     220: instanceof    #9                  // class org/postgresql/ssl/jdbc4/LibPQFactory$ConsoleCallbackHandler
     223: ifeq          267
     226: ldc           #251                // String Console is not available
     228: aload         9
     230: invokevirtual #252                // Method javax/security/auth/callback/UnsupportedCallbackException.getMessage:()Ljava/lang/String;
     233: invokevirtual #253                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     236: ifeq          267
     239: aload_0
     240: new           #49                 // class org/postgresql/util/PSQLException
     243: dup
     244: ldc           #255                // String Could not read password for SSL key file, console is not available.
     246: iconst_0
     247: anewarray     #4                  // class java/lang/Object
     250: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     253: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     256: aload         9
     258: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     261: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     264: goto          306
     267: aload_0
     268: new           #49                 // class org/postgresql/util/PSQLException
     271: dup
     272: ldc_w         #257                // String Could not read password for SSL key file by callbackhandler {0}.
     275: iconst_1
     276: anewarray     #4                  // class java/lang/Object
     279: dup
     280: iconst_0
     281: aload_0
     282: getfield      #42                 // Field cbh:Ljavax/security/auth/callback/CallbackHandler;
     285: invokevirtual #261                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     288: invokevirtual #266                // Method java/lang/Class.getName:()Ljava/lang/String;
     291: aastore
     292: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     295: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     298: aload         9
     300: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     303: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     306: aconst_null
     307: areturn
     308: new           #268                // class javax/crypto/spec/PBEKeySpec
     311: dup
     312: aload         8
     314: invokevirtual #272                // Method javax/security/auth/callback/PasswordCallback.getPassword:()[C
     317: invokespecial #275                // Method javax/crypto/spec/PBEKeySpec."<init>":([C)V
     320: astore        9
     322: aload         6
     324: invokevirtual #223                // Method javax/crypto/EncryptedPrivateKeyInfo.getAlgName:()Ljava/lang/String;
     327: invokestatic  #280                // Method javax/crypto/SecretKeyFactory.getInstance:(Ljava/lang/String;)Ljavax/crypto/SecretKeyFactory;
     330: astore        10
     332: aload         10
     334: aload         9
     336: invokevirtual #284                // Method javax/crypto/SecretKeyFactory.generateSecret:(Ljava/security/spec/KeySpec;)Ljavax/crypto/SecretKey;
     339: astore        11
     341: aload         6
     343: invokevirtual #288                // Method javax/crypto/EncryptedPrivateKeyInfo.getAlgParameters:()Ljava/security/AlgorithmParameters;
     346: astore        12
     348: aload         7
     350: iconst_2
     351: aload         11
     353: aload         12
     355: invokevirtual #292                // Method javax/crypto/Cipher.init:(ILjava/security/Key;Ljava/security/AlgorithmParameters;)V
     358: aload         6
     360: aload         7
     362: invokevirtual #296                // Method javax/crypto/EncryptedPrivateKeyInfo.getKeySpec:(Ljavax/crypto/Cipher;)Ljava/security/spec/PKCS8EncodedKeySpec;
     365: astore        13
     367: aload_0
     368: aload         4
     370: aload         13
     372: invokevirtual #215                // Method java/security/KeyFactory.generatePrivate:(Ljava/security/spec/KeySpec;)Ljava/security/PrivateKey;
     375: putfield      #34                 // Field key:Ljava/security/PrivateKey;
     378: goto          418
     381: astore        9
     383: aload_0
     384: new           #49                 // class org/postgresql/util/PSQLException
     387: dup
     388: ldc_w         #298                // String Could not decrypt SSL key file {0}.
     391: iconst_1
     392: anewarray     #4                  // class java/lang/Object
     395: dup
     396: iconst_0
     397: aload_0
     398: getfield      #40                 // Field keyfile:Ljava/lang/String;
     401: aastore
     402: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     405: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     408: aload         9
     410: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     413: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     416: aconst_null
     417: areturn
     418: goto          505
     421: astore_3
     422: aload_2
     423: ifnull        435
     426: aload_2
     427: invokevirtual #192                // Method java/io/RandomAccessFile.close:()V
     430: goto          435
     433: astore        4
     435: aload_0
     436: new           #49                 // class org/postgresql/util/PSQLException
     439: dup
     440: ldc_w         #300                // String Could not read SSL key file {0}.
     443: iconst_1
     444: anewarray     #4                  // class java/lang/Object
     447: dup
     448: iconst_0
     449: aload_0
     450: getfield      #40                 // Field keyfile:Ljava/lang/String;
     453: aastore
     454: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     457: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     460: aload_3
     461: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     464: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     467: goto          505
     470: astore_3
     471: aload_0
     472: new           #49                 // class org/postgresql/util/PSQLException
     475: dup
     476: ldc_w         #302                // String Could not find a java cryptographic algorithm: {0}.
     479: iconst_1
     480: anewarray     #4                  // class java/lang/Object
     483: dup
     484: iconst_0
     485: aload_3
     486: invokevirtual #303                // Method java/security/NoSuchAlgorithmException.getMessage:()Ljava/lang/String;
     489: aastore
     490: invokestatic  #110                // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     493: getstatic     #116                // Field org/postgresql/util/PSQLState.CONNECTION_FAILURE:Lorg/postgresql/util/PSQLState;
     496: aload_3
     497: invokespecial #119                // Method org/postgresql/util/PSQLException."<init>":(Ljava/lang/String;Lorg/postgresql/util/PSQLState;Ljava/lang/Throwable;)V
     500: putfield      #36                 // Field error:Lorg/postgresql/util/PSQLException;
     503: aconst_null
     504: areturn
     505: aload_0
     506: getfield      #34                 // Field key:Ljava/security/PrivateKey;
     509: areturn
    Exception table:
       from    to  target type
          34    55    58   Class java/io/FileNotFoundException
         108   129   132   Class java/security/spec/InvalidKeySpecException
         144   154   157   Class javax/crypto/NoSuchPaddingException
         193   211   214   Class javax/security/auth/callback/UnsupportedCallbackException
         308   378   381   Class java/security/GeneralSecurityException
           2    33   421   Class java/io/IOException
          34    69   421   Class java/io/IOException
          70   307   421   Class java/io/IOException
         308   417   421   Class java/io/IOException
         426   430   433   Class java/io/IOException
           2    33   470   Class java/security/NoSuchAlgorithmException
          34    69   470   Class java/security/NoSuchAlgorithmException
          70   307   470   Class java/security/NoSuchAlgorithmException
         308   417   470   Class java/security/NoSuchAlgorithmException

  public java.lang.String[] getServerAliases(java.lang.String, java.security.Principal[]);
    Code:
       0: iconst_0
       1: anewarray     #78                 // class java/lang/String
       4: areturn
}
