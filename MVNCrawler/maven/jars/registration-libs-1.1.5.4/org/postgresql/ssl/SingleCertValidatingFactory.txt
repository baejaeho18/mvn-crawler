Compiled from "SingleCertValidatingFactory.java"
public class org.postgresql.ssl.SingleCertValidatingFactory extends org.postgresql.ssl.WrappedFactory {
  private static final java.lang.String FILE_PREFIX;

  private static final java.lang.String CLASSPATH_PREFIX;

  private static final java.lang.String ENV_PREFIX;

  private static final java.lang.String SYS_PROP_PREFIX;

  public org.postgresql.ssl.SingleCertValidatingFactory(java.lang.String) throws java.security.GeneralSecurityException;
    Code:
       0: aload_0
       1: invokespecial #32                 // Method org/postgresql/ssl/WrappedFactory."<init>":()V
       4: aload_1
       5: ifnull        17
       8: aload_1
       9: ldc           #34                 // String
      11: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      14: ifeq          34
      17: new           #25                 // class java/security/GeneralSecurityException
      20: dup
      21: ldc           #42                 // String The sslfactoryarg property may not be empty.
      23: iconst_0
      24: anewarray     #44                 // class java/lang/Object
      27: invokestatic  #50                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      30: invokespecial #52                 // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
      33: athrow
      34: aconst_null
      35: astore_2
      36: aload_1
      37: ldc           #12                 // String file:
      39: invokevirtual #56                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      42: ifeq          74
      45: aload_1
      46: ldc           #12                 // String file:
      48: invokevirtual #60                 // Method java/lang/String.length:()I
      51: invokevirtual #64                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      54: astore_3
      55: new           #66                 // class java/io/BufferedInputStream
      58: dup
      59: new           #68                 // class java/io/FileInputStream
      62: dup
      63: aload_3
      64: invokespecial #69                 // Method java/io/FileInputStream."<init>":(Ljava/lang/String;)V
      67: invokespecial #72                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      70: astore_2
      71: goto          307
      74: aload_1
      75: ldc           #15                 // String classpath:
      77: invokevirtual #56                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      80: ifeq          114
      83: aload_1
      84: ldc           #15                 // String classpath:
      86: invokevirtual #60                 // Method java/lang/String.length:()I
      89: invokevirtual #64                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      92: astore_3
      93: new           #66                 // class java/io/BufferedInputStream
      96: dup
      97: invokestatic  #80                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     100: invokevirtual #84                 // Method java/lang/Thread.getContextClassLoader:()Ljava/lang/ClassLoader;
     103: aload_3
     104: invokevirtual #90                 // Method java/lang/ClassLoader.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
     107: invokespecial #72                 // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
     110: astore_2
     111: goto          307
     114: aload_1
     115: ldc           #18                 // String env:
     117: invokevirtual #56                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     120: ifeq          189
     123: aload_1
     124: ldc           #18                 // String env:
     126: invokevirtual #60                 // Method java/lang/String.length:()I
     129: invokevirtual #64                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     132: astore_3
     133: aload_3
     134: invokestatic  #96                 // Method java/lang/System.getenv:(Ljava/lang/String;)Ljava/lang/String;
     137: astore        4
     139: aload         4
     141: ifnull        154
     144: ldc           #34                 // String
     146: aload         4
     148: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     151: ifeq          171
     154: new           #25                 // class java/security/GeneralSecurityException
     157: dup
     158: ldc           #98                 // String The environment variable containing the server\'s SSL certificate must not be empty.
     160: iconst_0
     161: anewarray     #44                 // class java/lang/Object
     164: invokestatic  #50                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     167: invokespecial #52                 // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
     170: athrow
     171: new           #100                // class java/io/ByteArrayInputStream
     174: dup
     175: aload         4
     177: ldc           #102                // String UTF-8
     179: invokevirtual #106                // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     182: invokespecial #109                // Method java/io/ByteArrayInputStream."<init>":([B)V
     185: astore_2
     186: goto          307
     189: aload_1
     190: ldc           #21                 // String sys:
     192: invokevirtual #56                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     195: ifeq          264
     198: aload_1
     199: ldc           #21                 // String sys:
     201: invokevirtual #60                 // Method java/lang/String.length:()I
     204: invokevirtual #64                 // Method java/lang/String.substring:(I)Ljava/lang/String;
     207: astore_3
     208: aload_3
     209: invokestatic  #112                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     212: astore        4
     214: aload         4
     216: ifnull        229
     219: ldc           #34                 // String
     221: aload         4
     223: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     226: ifeq          246
     229: new           #25                 // class java/security/GeneralSecurityException
     232: dup
     233: ldc           #114                // String The system property containing the server\'s SSL certificate must not be empty.
     235: iconst_0
     236: anewarray     #44                 // class java/lang/Object
     239: invokestatic  #50                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     242: invokespecial #52                 // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
     245: athrow
     246: new           #100                // class java/io/ByteArrayInputStream
     249: dup
     250: aload         4
     252: ldc           #102                // String UTF-8
     254: invokevirtual #106                // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     257: invokespecial #109                // Method java/io/ByteArrayInputStream."<init>":([B)V
     260: astore_2
     261: goto          307
     264: aload_1
     265: ldc           #116                // String -----BEGIN CERTIFICATE-----
     267: invokevirtual #56                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     270: ifeq          290
     273: new           #100                // class java/io/ByteArrayInputStream
     276: dup
     277: aload_1
     278: ldc           #102                // String UTF-8
     280: invokevirtual #106                // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     283: invokespecial #109                // Method java/io/ByteArrayInputStream."<init>":([B)V
     286: astore_2
     287: goto          307
     290: new           #25                 // class java/security/GeneralSecurityException
     293: dup
     294: ldc           #118                // String The sslfactoryarg property must start with the prefix file:, classpath:, env:, sys:, or -----BEGIN CERTIFICATE-----.
     296: iconst_0
     297: anewarray     #44                 // class java/lang/Object
     300: invokestatic  #50                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     303: invokespecial #52                 // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;)V
     306: athrow
     307: ldc           #120                // String TLS
     309: invokestatic  #126                // Method javax/net/ssl/SSLContext.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/SSLContext;
     312: astore_3
     313: aload_3
     314: aconst_null
     315: iconst_1
     316: anewarray     #128                // class javax/net/ssl/TrustManager
     319: dup
     320: iconst_0
     321: new           #7                  // class org/postgresql/ssl/SingleCertValidatingFactory$SingleCertTrustManager
     324: dup
     325: aload_0
     326: aload_2
     327: invokespecial #131                // Method org/postgresql/ssl/SingleCertValidatingFactory$SingleCertTrustManager."<init>":(Lorg/postgresql/ssl/SingleCertValidatingFactory;Ljava/io/InputStream;)V
     330: aastore
     331: aconst_null
     332: invokevirtual #135                // Method javax/net/ssl/SSLContext.init:([Ljavax/net/ssl/KeyManager;[Ljavax/net/ssl/TrustManager;Ljava/security/SecureRandom;)V
     335: aload_0
     336: aload_3
     337: invokevirtual #139                // Method javax/net/ssl/SSLContext.getSocketFactory:()Ljavax/net/ssl/SSLSocketFactory;
     340: putfield      #143                // Field _factory:Ljavax/net/ssl/SSLSocketFactory;
     343: aload_2
     344: ifnull        410
     347: aload_2
     348: invokevirtual #146                // Method java/io/InputStream.close:()V
     351: goto          410
     354: astore_3
     355: goto          410
     358: astore_3
     359: aload_3
     360: athrow
     361: astore_3
     362: aload_3
     363: instanceof    #25                 // class java/security/GeneralSecurityException
     366: ifeq          374
     369: aload_3
     370: checkcast     #25                 // class java/security/GeneralSecurityException
     373: athrow
     374: new           #25                 // class java/security/GeneralSecurityException
     377: dup
     378: ldc           #148                // String An error occurred reading the certificate
     380: iconst_0
     381: anewarray     #44                 // class java/lang/Object
     384: invokestatic  #50                 // Method org/postgresql/util/GT.tr:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     387: aload_3
     388: invokespecial #151                // Method java/security/GeneralSecurityException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     391: athrow
     392: astore        5
     394: aload_2
     395: ifnull        407
     398: aload_2
     399: invokevirtual #146                // Method java/io/InputStream.close:()V
     402: goto          407
     405: astore        6
     407: aload         5
     409: athrow
     410: return
    Exception table:
       from    to  target type
         347   351   354   Class java/lang/Exception
          36   343   358   Class java/lang/RuntimeException
          36   343   361   Class java/lang/Exception
          36   343   392   any
         398   402   405   Class java/lang/Exception
         358   394   392   any
}
