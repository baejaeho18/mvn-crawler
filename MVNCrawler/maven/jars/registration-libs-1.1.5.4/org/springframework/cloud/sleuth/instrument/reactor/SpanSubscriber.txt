Compiled from "SpanSubscriber.java"
final class org.springframework.cloud.sleuth.instrument.reactor.SpanSubscriber<T> extends java.util.concurrent.atomic.AtomicBoolean implements org.springframework.cloud.sleuth.instrument.reactor.SpanSubscription<T> {
  private static final reactor.util.Logger log;

  private final brave.Span span;

  private final brave.Span rootSpan;

  private final org.reactivestreams.Subscriber<? super T> subscriber;

  private final reactor.util.context.Context context;

  private final brave.Tracer tracer;

  private org.reactivestreams.Subscription s;

  org.springframework.cloud.sleuth.instrument.reactor.SpanSubscriber(org.reactivestreams.Subscriber<? super T>, reactor.util.context.Context, brave.Tracing, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field subscriber:Lorg/reactivestreams/Subscriber;
       9: aload_0
      10: aload_3
      11: invokevirtual #3                  // Method brave/Tracing.tracer:()Lbrave/Tracer;
      14: putfield      #4                  // Field tracer:Lbrave/Tracer;
      17: aload_2
      18: ldc           #5                  // class brave/Span
      20: aload_0
      21: getfield      #4                  // Field tracer:Lbrave/Tracer;
      24: invokevirtual #6                  // Method brave/Tracer.currentSpan:()Lbrave/Span;
      27: invokeinterface #7,  3            // InterfaceMethod reactor/util/context/Context.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      32: checkcast     #5                  // class brave/Span
      35: astore        5
      37: getstatic     #8                  // Field log:Lreactor/util/Logger;
      40: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      45: ifeq          67
      48: getstatic     #8                  // Field log:Lreactor/util/Logger;
      51: ldc           #10                 // String Span from context [{}]
      53: iconst_1
      54: anewarray     #11                 // class java/lang/Object
      57: dup
      58: iconst_0
      59: aload         5
      61: aastore
      62: invokeinterface #12,  3           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
      67: aload_0
      68: aload         5
      70: putfield      #13                 // Field rootSpan:Lbrave/Span;
      73: getstatic     #8                  // Field log:Lreactor/util/Logger;
      76: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      81: ifeq          105
      84: getstatic     #8                  // Field log:Lreactor/util/Logger;
      87: ldc           #14                 // String Stored context root span [{}]
      89: iconst_1
      90: anewarray     #11                 // class java/lang/Object
      93: dup
      94: iconst_0
      95: aload_0
      96: getfield      #13                 // Field rootSpan:Lbrave/Span;
      99: aastore
     100: invokeinterface #12,  3           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     105: aload_0
     106: aload         5
     108: ifnull        134
     111: aload_0
     112: getfield      #4                  // Field tracer:Lbrave/Tracer;
     115: aload         5
     117: invokevirtual #15                 // Method brave/Span.context:()Lbrave/propagation/TraceContext;
     120: invokestatic  #16                 // Method brave/propagation/TraceContextOrSamplingFlags.create:(Lbrave/propagation/TraceContext;)Lbrave/propagation/TraceContextOrSamplingFlags;
     123: invokevirtual #17                 // Method brave/Tracer.nextSpan:(Lbrave/propagation/TraceContextOrSamplingFlags;)Lbrave/Span;
     126: aload         4
     128: invokevirtual #18                 // Method brave/Span.name:(Ljava/lang/String;)Lbrave/Span;
     131: goto          146
     134: aload_0
     135: getfield      #4                  // Field tracer:Lbrave/Tracer;
     138: invokevirtual #19                 // Method brave/Tracer.nextSpan:()Lbrave/Span;
     141: aload         4
     143: invokevirtual #18                 // Method brave/Span.name:(Ljava/lang/String;)Lbrave/Span;
     146: putfield      #20                 // Field span:Lbrave/Span;
     149: getstatic     #8                  // Field log:Lreactor/util/Logger;
     152: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
     157: ifeq          186
     160: getstatic     #8                  // Field log:Lreactor/util/Logger;
     163: ldc           #21                 // String Created span [{}], with name [{}]
     165: iconst_2
     166: anewarray     #11                 // class java/lang/Object
     169: dup
     170: iconst_0
     171: aload_0
     172: getfield      #20                 // Field span:Lbrave/Span;
     175: aastore
     176: dup
     177: iconst_1
     178: aload         4
     180: aastore
     181: invokeinterface #12,  3           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     186: aload_0
     187: aload_2
     188: ldc           #5                  // class brave/Span
     190: aload_0
     191: getfield      #20                 // Field span:Lbrave/Span;
     194: invokeinterface #22,  3           // InterfaceMethod reactor/util/context/Context.put:(Ljava/lang/Object;Ljava/lang/Object;)Lreactor/util/context/Context;
     199: putfield      #23                 // Field context:Lreactor/util/context/Context;
     202: return

  public void onSubscribe(org.reactivestreams.Subscription);
    Code:
       0: getstatic     #8                  // Field log:Lreactor/util/Logger;
       3: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
       8: ifeq          21
      11: getstatic     #8                  // Field log:Lreactor/util/Logger;
      14: ldc           #24                 // String On subscribe
      16: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      21: aload_0
      22: aload_1
      23: putfield      #26                 // Field s:Lorg/reactivestreams/Subscription;
      26: aload_0
      27: getfield      #4                  // Field tracer:Lbrave/Tracer;
      30: aload_0
      31: getfield      #20                 // Field span:Lbrave/Span;
      34: invokevirtual #27                 // Method brave/Tracer.withSpanInScope:(Lbrave/Span;)Lbrave/Tracer$SpanInScope;
      37: astore_2
      38: aconst_null
      39: astore_3
      40: getstatic     #8                  // Field log:Lreactor/util/Logger;
      43: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      48: ifeq          61
      51: getstatic     #8                  // Field log:Lreactor/util/Logger;
      54: ldc           #28                 // String On subscribe - span continued
      56: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      61: aload_0
      62: getfield      #2                  // Field subscriber:Lorg/reactivestreams/Subscriber;
      65: aload_0
      66: invokeinterface #29,  2           // InterfaceMethod org/reactivestreams/Subscriber.onSubscribe:(Lorg/reactivestreams/Subscription;)V
      71: aload_2
      72: ifnull        147
      75: aload_3
      76: ifnull        97
      79: aload_2
      80: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
      83: goto          147
      86: astore        4
      88: aload_3
      89: aload         4
      91: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      94: goto          147
      97: aload_2
      98: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     101: goto          147
     104: astore        4
     106: aload         4
     108: astore_3
     109: aload         4
     111: athrow
     112: astore        5
     114: aload_2
     115: ifnull        144
     118: aload_3
     119: ifnull        140
     122: aload_2
     123: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     126: goto          144
     129: astore        6
     131: aload_3
     132: aload         6
     134: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     137: goto          144
     140: aload_2
     141: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     144: aload         5
     146: athrow
     147: return
    Exception table:
       from    to  target type
          79    83    86   Class java/lang/Throwable
          40    71   104   Class java/lang/Throwable
          40    71   112   any
         122   126   129   Class java/lang/Throwable
         104   114   112   any

  public void request(long);
    Code:
       0: getstatic     #8                  // Field log:Lreactor/util/Logger;
       3: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
       8: ifeq          21
      11: getstatic     #8                  // Field log:Lreactor/util/Logger;
      14: ldc           #33                 // String Request
      16: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      21: aload_0
      22: getfield      #4                  // Field tracer:Lbrave/Tracer;
      25: aload_0
      26: getfield      #20                 // Field span:Lbrave/Span;
      29: invokevirtual #27                 // Method brave/Tracer.withSpanInScope:(Lbrave/Span;)Lbrave/Tracer$SpanInScope;
      32: astore_3
      33: aconst_null
      34: astore        4
      36: getstatic     #8                  // Field log:Lreactor/util/Logger;
      39: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      44: ifeq          57
      47: getstatic     #8                  // Field log:Lreactor/util/Logger;
      50: ldc           #34                 // String Request - continued
      52: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      57: aload_0
      58: getfield      #26                 // Field s:Lorg/reactivestreams/Subscription;
      61: lload_1
      62: invokeinterface #35,  3           // InterfaceMethod org/reactivestreams/Subscription.request:(J)V
      67: getstatic     #8                  // Field log:Lreactor/util/Logger;
      70: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      75: ifeq          102
      78: getstatic     #8                  // Field log:Lreactor/util/Logger;
      81: ldc           #36                 // String Request after cleaning. Current span [{}]
      83: iconst_1
      84: anewarray     #11                 // class java/lang/Object
      87: dup
      88: iconst_0
      89: aload_0
      90: getfield      #4                  // Field tracer:Lbrave/Tracer;
      93: invokevirtual #6                  // Method brave/Tracer.currentSpan:()Lbrave/Span;
      96: aastore
      97: invokeinterface #12,  3           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     102: aload_3
     103: ifnull        183
     106: aload         4
     108: ifnull        130
     111: aload_3
     112: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     115: goto          183
     118: astore        5
     120: aload         4
     122: aload         5
     124: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     127: goto          183
     130: aload_3
     131: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     134: goto          183
     137: astore        5
     139: aload         5
     141: astore        4
     143: aload         5
     145: athrow
     146: astore        6
     148: aload_3
     149: ifnull        180
     152: aload         4
     154: ifnull        176
     157: aload_3
     158: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     161: goto          180
     164: astore        7
     166: aload         4
     168: aload         7
     170: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     173: goto          180
     176: aload_3
     177: invokevirtual #30                 // Method brave/Tracer$SpanInScope.close:()V
     180: aload         6
     182: athrow
     183: return
    Exception table:
       from    to  target type
         111   115   118   Class java/lang/Throwable
          36   102   137   Class java/lang/Throwable
          36   102   146   any
         157   161   164   Class java/lang/Throwable
         137   148   146   any

  public void cancel();
    Code:
       0: getstatic     #8                  // Field log:Lreactor/util/Logger;
       3: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
       8: ifeq          21
      11: getstatic     #8                  // Field log:Lreactor/util/Logger;
      14: ldc           #37                 // String Cancel
      16: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      21: aload_0
      22: getfield      #26                 // Field s:Lorg/reactivestreams/Subscription;
      25: invokeinterface #38,  1           // InterfaceMethod org/reactivestreams/Subscription.cancel:()V
      30: aload_0
      31: invokevirtual #39                 // Method cleanup:()V
      34: goto          44
      37: astore_1
      38: aload_0
      39: invokevirtual #39                 // Method cleanup:()V
      42: aload_1
      43: athrow
      44: return
    Exception table:
       from    to  target type
           0    30    37   any

  public void onNext(T);
    Code:
       0: aload_0
       1: getfield      #2                  // Field subscriber:Lorg/reactivestreams/Subscriber;
       4: aload_1
       5: invokeinterface #40,  2           // InterfaceMethod org/reactivestreams/Subscriber.onNext:(Ljava/lang/Object;)V
      10: return

  public void onError(java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #2                  // Field subscriber:Lorg/reactivestreams/Subscriber;
       4: aload_1
       5: invokeinterface #41,  2           // InterfaceMethod org/reactivestreams/Subscriber.onError:(Ljava/lang/Throwable;)V
      10: aload_0
      11: invokevirtual #39                 // Method cleanup:()V
      14: goto          24
      17: astore_2
      18: aload_0
      19: invokevirtual #39                 // Method cleanup:()V
      22: aload_2
      23: athrow
      24: return
    Exception table:
       from    to  target type
           0    10    17   any

  public void onComplete();
    Code:
       0: aload_0
       1: getfield      #2                  // Field subscriber:Lorg/reactivestreams/Subscriber;
       4: invokeinterface #42,  1           // InterfaceMethod org/reactivestreams/Subscriber.onComplete:()V
       9: aload_0
      10: invokevirtual #39                 // Method cleanup:()V
      13: goto          23
      16: astore_1
      17: aload_0
      18: invokevirtual #39                 // Method cleanup:()V
      21: aload_1
      22: athrow
      23: return
    Exception table:
       from    to  target type
           0     9    16   any

  void cleanup();
    Code:
       0: aload_0
       1: iconst_0
       2: iconst_1
       3: invokevirtual #43                 // Method compareAndSet:(ZZ)Z
       6: ifeq          93
       9: getstatic     #8                  // Field log:Lreactor/util/Logger;
      12: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      17: ifeq          30
      20: getstatic     #8                  // Field log:Lreactor/util/Logger;
      23: ldc           #44                 // String Cleaning up
      25: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      30: aload_0
      31: getfield      #20                 // Field span:Lbrave/Span;
      34: invokevirtual #45                 // Method brave/Span.finish:()V
      37: getstatic     #8                  // Field log:Lreactor/util/Logger;
      40: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      45: ifeq          58
      48: getstatic     #8                  // Field log:Lreactor/util/Logger;
      51: ldc           #46                 // String Span closed
      53: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      58: aload_0
      59: getfield      #13                 // Field rootSpan:Lbrave/Span;
      62: ifnull        93
      65: aload_0
      66: getfield      #13                 // Field rootSpan:Lbrave/Span;
      69: invokevirtual #45                 // Method brave/Span.finish:()V
      72: getstatic     #8                  // Field log:Lreactor/util/Logger;
      75: invokeinterface #9,  1            // InterfaceMethod reactor/util/Logger.isTraceEnabled:()Z
      80: ifeq          93
      83: getstatic     #8                  // Field log:Lreactor/util/Logger;
      86: ldc           #47                 // String Closed root span
      88: invokeinterface #25,  2           // InterfaceMethod reactor/util/Logger.trace:(Ljava/lang/String;)V
      93: return

  public reactor.util.context.Context currentContext();
    Code:
       0: aload_0
       1: getfield      #23                 // Field context:Lreactor/util/context/Context;
       4: areturn

  static {};
    Code:
       0: ldc           #48                 // class org/springframework/cloud/sleuth/instrument/reactor/SpanSubscriber
       2: invokestatic  #49                 // Method reactor/util/Loggers.getLogger:(Ljava/lang/Class;)Lreactor/util/Logger;
       5: putstatic     #8                  // Field log:Lreactor/util/Logger;
       8: return
}
