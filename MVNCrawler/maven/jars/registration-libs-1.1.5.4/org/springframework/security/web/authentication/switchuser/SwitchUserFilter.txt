Compiled from "SwitchUserFilter.java"
public class org.springframework.security.web.authentication.switchuser.SwitchUserFilter extends org.springframework.web.filter.GenericFilterBean implements org.springframework.context.ApplicationEventPublisherAware,org.springframework.context.MessageSourceAware {
  public static final java.lang.String SPRING_SECURITY_SWITCH_USERNAME_KEY;

  public static final java.lang.String ROLE_PREVIOUS_ADMINISTRATOR;

  private org.springframework.context.ApplicationEventPublisher eventPublisher;

  private org.springframework.security.authentication.AuthenticationDetailsSource<javax.servlet.http.HttpServletRequest, ?> authenticationDetailsSource;

  protected org.springframework.context.support.MessageSourceAccessor messages;

  private java.lang.String exitUserUrl;

  private java.lang.String switchUserUrl;

  private java.lang.String targetUrl;

  private java.lang.String switchFailureUrl;

  private java.lang.String usernameParameter;

  private java.lang.String switchAuthorityRole;

  private org.springframework.security.web.authentication.switchuser.SwitchUserAuthorityChanger switchUserAuthorityChanger;

  private org.springframework.security.core.userdetails.UserDetailsService userDetailsService;

  private org.springframework.security.core.userdetails.UserDetailsChecker userDetailsChecker;

  private org.springframework.security.web.authentication.AuthenticationSuccessHandler successHandler;

  private org.springframework.security.web.authentication.AuthenticationFailureHandler failureHandler;

  public org.springframework.security.web.authentication.switchuser.SwitchUserFilter();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/springframework/web/filter/GenericFilterBean."<init>":()V
       4: aload_0
       5: new           #2                  // class org/springframework/security/web/authentication/WebAuthenticationDetailsSource
       8: dup
       9: invokespecial #3                  // Method org/springframework/security/web/authentication/WebAuthenticationDetailsSource."<init>":()V
      12: putfield      #4                  // Field authenticationDetailsSource:Lorg/springframework/security/authentication/AuthenticationDetailsSource;
      15: aload_0
      16: invokestatic  #5                  // Method org/springframework/security/core/SpringSecurityMessageSource.getAccessor:()Lorg/springframework/context/support/MessageSourceAccessor;
      19: putfield      #6                  // Field messages:Lorg/springframework/context/support/MessageSourceAccessor;
      22: aload_0
      23: ldc           #7                  // String /logout/impersonate
      25: putfield      #8                  // Field exitUserUrl:Ljava/lang/String;
      28: aload_0
      29: ldc           #9                  // String /login/impersonate
      31: putfield      #10                 // Field switchUserUrl:Ljava/lang/String;
      34: aload_0
      35: ldc           #12                 // String username
      37: putfield      #13                 // Field usernameParameter:Ljava/lang/String;
      40: aload_0
      41: ldc           #14                 // String ROLE_PREVIOUS_ADMINISTRATOR
      43: putfield      #15                 // Field switchAuthorityRole:Ljava/lang/String;
      46: aload_0
      47: new           #16                 // class org/springframework/security/authentication/AccountStatusUserDetailsChecker
      50: dup
      51: invokespecial #17                 // Method org/springframework/security/authentication/AccountStatusUserDetailsChecker."<init>":()V
      54: putfield      #18                 // Field userDetailsChecker:Lorg/springframework/security/core/userdetails/UserDetailsChecker;
      57: return

  public void afterPropertiesSet();
    Code:
       0: aload_0
       1: getfield      #19                 // Field userDetailsService:Lorg/springframework/security/core/userdetails/UserDetailsService;
       4: ldc           #20                 // String userDetailsService must be specified
       6: invokestatic  #21                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       9: aload_0
      10: getfield      #22                 // Field successHandler:Lorg/springframework/security/web/authentication/AuthenticationSuccessHandler;
      13: ifnonnull     23
      16: aload_0
      17: getfield      #23                 // Field targetUrl:Ljava/lang/String;
      20: ifnull        27
      23: iconst_1
      24: goto          28
      27: iconst_0
      28: ldc           #24                 // String You must set either a successHandler or the targetUrl
      30: invokestatic  #25                 // Method org/springframework/util/Assert.isTrue:(ZLjava/lang/String;)V
      33: aload_0
      34: getfield      #23                 // Field targetUrl:Ljava/lang/String;
      37: ifnull        64
      40: aload_0
      41: getfield      #22                 // Field successHandler:Lorg/springframework/security/web/authentication/AuthenticationSuccessHandler;
      44: ldc           #26                 // String You cannot set both successHandler and targetUrl
      46: invokestatic  #27                 // Method org/springframework/util/Assert.isNull:(Ljava/lang/Object;Ljava/lang/String;)V
      49: aload_0
      50: new           #28                 // class org/springframework/security/web/authentication/SimpleUrlAuthenticationSuccessHandler
      53: dup
      54: aload_0
      55: getfield      #23                 // Field targetUrl:Ljava/lang/String;
      58: invokespecial #29                 // Method org/springframework/security/web/authentication/SimpleUrlAuthenticationSuccessHandler."<init>":(Ljava/lang/String;)V
      61: putfield      #22                 // Field successHandler:Lorg/springframework/security/web/authentication/AuthenticationSuccessHandler;
      64: aload_0
      65: getfield      #30                 // Field failureHandler:Lorg/springframework/security/web/authentication/AuthenticationFailureHandler;
      68: ifnonnull     106
      71: aload_0
      72: aload_0
      73: getfield      #31                 // Field switchFailureUrl:Ljava/lang/String;
      76: ifnonnull     89
      79: new           #32                 // class org/springframework/security/web/authentication/SimpleUrlAuthenticationFailureHandler
      82: dup
      83: invokespecial #33                 // Method org/springframework/security/web/authentication/SimpleUrlAuthenticationFailureHandler."<init>":()V
      86: goto          100
      89: new           #32                 // class org/springframework/security/web/authentication/SimpleUrlAuthenticationFailureHandler
      92: dup
      93: aload_0
      94: getfield      #31                 // Field switchFailureUrl:Ljava/lang/String;
      97: invokespecial #34                 // Method org/springframework/security/web/authentication/SimpleUrlAuthenticationFailureHandler."<init>":(Ljava/lang/String;)V
     100: putfield      #30                 // Field failureHandler:Lorg/springframework/security/web/authentication/AuthenticationFailureHandler;
     103: goto          115
     106: aload_0
     107: getfield      #31                 // Field switchFailureUrl:Ljava/lang/String;
     110: ldc           #35                 // String You cannot set both a switchFailureUrl and a failureHandler
     112: invokestatic  #27                 // Method org/springframework/util/Assert.isNull:(Ljava/lang/Object;Ljava/lang/String;)V
     115: return

  public void doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_1
       1: checkcast     #36                 // class javax/servlet/http/HttpServletRequest
       4: astore        4
       6: aload_2
       7: checkcast     #37                 // class javax/servlet/http/HttpServletResponse
      10: astore        5
      12: aload_0
      13: aload         4
      15: invokevirtual #38                 // Method requiresSwitchUser:(Ljavax/servlet/http/HttpServletRequest;)Z
      18: ifeq          88
      21: aload_0
      22: aload         4
      24: invokevirtual #39                 // Method attemptSwitchUser:(Ljavax/servlet/http/HttpServletRequest;)Lorg/springframework/security/core/Authentication;
      27: astore        6
      29: invokestatic  #40                 // Method org/springframework/security/core/context/SecurityContextHolder.getContext:()Lorg/springframework/security/core/context/SecurityContext;
      32: aload         6
      34: invokeinterface #41,  2           // InterfaceMethod org/springframework/security/core/context/SecurityContext.setAuthentication:(Lorg/springframework/security/core/Authentication;)V
      39: aload_0
      40: getfield      #22                 // Field successHandler:Lorg/springframework/security/web/authentication/AuthenticationSuccessHandler;
      43: aload         4
      45: aload         5
      47: aload         6
      49: invokeinterface #42,  4           // InterfaceMethod org/springframework/security/web/authentication/AuthenticationSuccessHandler.onAuthenticationSuccess:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/springframework/security/core/Authentication;)V
      54: goto          87
      57: astore        6
      59: aload_0
      60: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
      63: ldc           #45                 // String Switch User failed
      65: aload         6
      67: invokeinterface #46,  3           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      72: aload_0
      73: getfield      #30                 // Field failureHandler:Lorg/springframework/security/web/authentication/AuthenticationFailureHandler;
      76: aload         4
      78: aload         5
      80: aload         6
      82: invokeinterface #47,  4           // InterfaceMethod org/springframework/security/web/authentication/AuthenticationFailureHandler.onAuthenticationFailure:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/springframework/security/core/AuthenticationException;)V
      87: return
      88: aload_0
      89: aload         4
      91: invokevirtual #48                 // Method requiresExitUser:(Ljavax/servlet/http/HttpServletRequest;)Z
      94: ifeq          131
      97: aload_0
      98: aload         4
     100: invokevirtual #49                 // Method attemptExitUser:(Ljavax/servlet/http/HttpServletRequest;)Lorg/springframework/security/core/Authentication;
     103: astore        6
     105: invokestatic  #40                 // Method org/springframework/security/core/context/SecurityContextHolder.getContext:()Lorg/springframework/security/core/context/SecurityContext;
     108: aload         6
     110: invokeinterface #41,  2           // InterfaceMethod org/springframework/security/core/context/SecurityContext.setAuthentication:(Lorg/springframework/security/core/Authentication;)V
     115: aload_0
     116: getfield      #22                 // Field successHandler:Lorg/springframework/security/web/authentication/AuthenticationSuccessHandler;
     119: aload         4
     121: aload         5
     123: aload         6
     125: invokeinterface #42,  4           // InterfaceMethod org/springframework/security/web/authentication/AuthenticationSuccessHandler.onAuthenticationSuccess:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/springframework/security/core/Authentication;)V
     130: return
     131: aload_3
     132: aload         4
     134: aload         5
     136: invokeinterface #50,  3           // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     141: return
    Exception table:
       from    to  target type
          21    54    57   Class org/springframework/security/core/AuthenticationException

  protected org.springframework.security.core.Authentication attemptSwitchUser(javax.servlet.http.HttpServletRequest) throws org.springframework.security.core.AuthenticationException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #13                 // Field usernameParameter:Ljava/lang/String;
       5: invokeinterface #51,  2           // InterfaceMethod javax/servlet/http/HttpServletRequest.getParameter:(Ljava/lang/String;)Ljava/lang/String;
      10: astore_3
      11: aload_3
      12: ifnonnull     18
      15: ldc           #52                 // String
      17: astore_3
      18: aload_0
      19: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
      22: invokeinterface #53,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      27: ifeq          63
      30: aload_0
      31: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
      34: new           #54                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
      41: ldc           #56                 // String Attempt to switch to user [
      43: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_3
      47: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: ldc           #58                 // String ]
      52: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      58: invokeinterface #60,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      63: aload_0
      64: getfield      #19                 // Field userDetailsService:Lorg/springframework/security/core/userdetails/UserDetailsService;
      67: aload_3
      68: invokeinterface #61,  2           // InterfaceMethod org/springframework/security/core/userdetails/UserDetailsService.loadUserByUsername:(Ljava/lang/String;)Lorg/springframework/security/core/userdetails/UserDetails;
      73: astore        4
      75: aload_0
      76: getfield      #18                 // Field userDetailsChecker:Lorg/springframework/security/core/userdetails/UserDetailsChecker;
      79: aload         4
      81: invokeinterface #62,  2           // InterfaceMethod org/springframework/security/core/userdetails/UserDetailsChecker.check:(Lorg/springframework/security/core/userdetails/UserDetails;)V
      86: aload_0
      87: aload_1
      88: aload         4
      90: invokespecial #63                 // Method createSwitchUserToken:(Ljavax/servlet/http/HttpServletRequest;Lorg/springframework/security/core/userdetails/UserDetails;)Lorg/springframework/security/authentication/UsernamePasswordAuthenticationToken;
      93: astore_2
      94: aload_0
      95: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
      98: invokeinterface #53,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     103: ifeq          139
     106: aload_0
     107: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
     110: new           #54                 // class java/lang/StringBuilder
     113: dup
     114: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
     117: ldc           #64                 // String Switch User Token [
     119: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     122: aload_2
     123: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     126: ldc           #58                 // String ]
     128: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     134: invokeinterface #60,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     139: aload_0
     140: getfield      #66                 // Field eventPublisher:Lorg/springframework/context/ApplicationEventPublisher;
     143: ifnull        172
     146: aload_0
     147: getfield      #66                 // Field eventPublisher:Lorg/springframework/context/ApplicationEventPublisher;
     150: new           #67                 // class org/springframework/security/web/authentication/switchuser/AuthenticationSwitchUserEvent
     153: dup
     154: invokestatic  #40                 // Method org/springframework/security/core/context/SecurityContextHolder.getContext:()Lorg/springframework/security/core/context/SecurityContext;
     157: invokeinterface #68,  1           // InterfaceMethod org/springframework/security/core/context/SecurityContext.getAuthentication:()Lorg/springframework/security/core/Authentication;
     162: aload         4
     164: invokespecial #69                 // Method org/springframework/security/web/authentication/switchuser/AuthenticationSwitchUserEvent."<init>":(Lorg/springframework/security/core/Authentication;Lorg/springframework/security/core/userdetails/UserDetails;)V
     167: invokeinterface #70,  2           // InterfaceMethod org/springframework/context/ApplicationEventPublisher.publishEvent:(Lorg/springframework/context/ApplicationEvent;)V
     172: aload_2
     173: areturn

  protected org.springframework.security.core.Authentication attemptExitUser(javax.servlet.http.HttpServletRequest) throws org.springframework.security.authentication.AuthenticationCredentialsNotFoundException;
    Code:
       0: invokestatic  #40                 // Method org/springframework/security/core/context/SecurityContextHolder.getContext:()Lorg/springframework/security/core/context/SecurityContext;
       3: invokeinterface #68,  1           // InterfaceMethod org/springframework/security/core/context/SecurityContext.getAuthentication:()Lorg/springframework/security/core/Authentication;
       8: astore_2
       9: aconst_null
      10: aload_2
      11: if_acmpne     33
      14: new           #71                 // class org/springframework/security/authentication/AuthenticationCredentialsNotFoundException
      17: dup
      18: aload_0
      19: getfield      #6                  // Field messages:Lorg/springframework/context/support/MessageSourceAccessor;
      22: ldc           #72                 // String SwitchUserFilter.noCurrentUser
      24: ldc           #73                 // String No current user associated with this request
      26: invokevirtual #74                 // Method org/springframework/context/support/MessageSourceAccessor.getMessage:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      29: invokespecial #75                 // Method org/springframework/security/authentication/AuthenticationCredentialsNotFoundException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_0
      34: aload_2
      35: invokespecial #76                 // Method getSourceAuthentication:(Lorg/springframework/security/core/Authentication;)Lorg/springframework/security/core/Authentication;
      38: astore_3
      39: aload_3
      40: ifnonnull     73
      43: aload_0
      44: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
      47: ldc           #77                 // String Could not find original user Authentication object!
      49: invokeinterface #60,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      54: new           #71                 // class org/springframework/security/authentication/AuthenticationCredentialsNotFoundException
      57: dup
      58: aload_0
      59: getfield      #6                  // Field messages:Lorg/springframework/context/support/MessageSourceAccessor;
      62: ldc           #78                 // String SwitchUserFilter.noOriginalAuthentication
      64: ldc           #79                 // String Could not find original Authentication object
      66: invokevirtual #74                 // Method org/springframework/context/support/MessageSourceAccessor.getMessage:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      69: invokespecial #75                 // Method org/springframework/security/authentication/AuthenticationCredentialsNotFoundException."<init>":(Ljava/lang/String;)V
      72: athrow
      73: aconst_null
      74: astore        4
      76: aload_3
      77: invokeinterface #80,  1           // InterfaceMethod org/springframework/security/core/Authentication.getPrincipal:()Ljava/lang/Object;
      82: astore        5
      84: aload         5
      86: ifnull        104
      89: aload         5
      91: instanceof    #81                 // class org/springframework/security/core/userdetails/UserDetails
      94: ifeq          104
      97: aload         5
      99: checkcast     #81                 // class org/springframework/security/core/userdetails/UserDetails
     102: astore        4
     104: aload_0
     105: getfield      #66                 // Field eventPublisher:Lorg/springframework/context/ApplicationEventPublisher;
     108: ifnull        130
     111: aload_0
     112: getfield      #66                 // Field eventPublisher:Lorg/springframework/context/ApplicationEventPublisher;
     115: new           #67                 // class org/springframework/security/web/authentication/switchuser/AuthenticationSwitchUserEvent
     118: dup
     119: aload_2
     120: aload         4
     122: invokespecial #69                 // Method org/springframework/security/web/authentication/switchuser/AuthenticationSwitchUserEvent."<init>":(Lorg/springframework/security/core/Authentication;Lorg/springframework/security/core/userdetails/UserDetails;)V
     125: invokeinterface #70,  2           // InterfaceMethod org/springframework/context/ApplicationEventPublisher.publishEvent:(Lorg/springframework/context/ApplicationEvent;)V
     130: aload_3
     131: areturn

  private org.springframework.security.authentication.UsernamePasswordAuthenticationToken createSwitchUserToken(javax.servlet.http.HttpServletRequest, org.springframework.security.core.userdetails.UserDetails);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #49                 // Method attemptExitUser:(Ljavax/servlet/http/HttpServletRequest;)Lorg/springframework/security/core/Authentication;
       5: astore        4
       7: goto          22
      10: astore        5
      12: invokestatic  #40                 // Method org/springframework/security/core/context/SecurityContextHolder.getContext:()Lorg/springframework/security/core/context/SecurityContext;
      15: invokeinterface #68,  1           // InterfaceMethod org/springframework/security/core/context/SecurityContext.getAuthentication:()Lorg/springframework/security/core/Authentication;
      20: astore        4
      22: new           #82                 // class org/springframework/security/web/authentication/switchuser/SwitchUserGrantedAuthority
      25: dup
      26: aload_0
      27: getfield      #15                 // Field switchAuthorityRole:Ljava/lang/String;
      30: aload         4
      32: invokespecial #83                 // Method org/springframework/security/web/authentication/switchuser/SwitchUserGrantedAuthority."<init>":(Ljava/lang/String;Lorg/springframework/security/core/Authentication;)V
      35: astore        5
      37: aload_2
      38: invokeinterface #84,  1           // InterfaceMethod org/springframework/security/core/userdetails/UserDetails.getAuthorities:()Ljava/util/Collection;
      43: astore        6
      45: aload_0
      46: getfield      #85                 // Field switchUserAuthorityChanger:Lorg/springframework/security/web/authentication/switchuser/SwitchUserAuthorityChanger;
      49: ifnull        68
      52: aload_0
      53: getfield      #85                 // Field switchUserAuthorityChanger:Lorg/springframework/security/web/authentication/switchuser/SwitchUserAuthorityChanger;
      56: aload_2
      57: aload         4
      59: aload         6
      61: invokeinterface #86,  4           // InterfaceMethod org/springframework/security/web/authentication/switchuser/SwitchUserAuthorityChanger.modifyGrantedAuthorities:(Lorg/springframework/security/core/userdetails/UserDetails;Lorg/springframework/security/core/Authentication;Ljava/util/Collection;)Ljava/util/Collection;
      66: astore        6
      68: new           #87                 // class java/util/ArrayList
      71: dup
      72: aload         6
      74: invokespecial #88                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      77: astore        7
      79: aload         7
      81: aload         5
      83: invokeinterface #89,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      88: pop
      89: new           #90                 // class org/springframework/security/authentication/UsernamePasswordAuthenticationToken
      92: dup
      93: aload_2
      94: aload_2
      95: invokeinterface #91,  1           // InterfaceMethod org/springframework/security/core/userdetails/UserDetails.getPassword:()Ljava/lang/String;
     100: aload         7
     102: invokespecial #92                 // Method org/springframework/security/authentication/UsernamePasswordAuthenticationToken."<init>":(Ljava/lang/Object;Ljava/lang/Object;Ljava/util/Collection;)V
     105: astore_3
     106: aload_3
     107: aload_0
     108: getfield      #4                  // Field authenticationDetailsSource:Lorg/springframework/security/authentication/AuthenticationDetailsSource;
     111: aload_1
     112: invokeinterface #93,  2           // InterfaceMethod org/springframework/security/authentication/AuthenticationDetailsSource.buildDetails:(Ljava/lang/Object;)Ljava/lang/Object;
     117: invokevirtual #94                 // Method org/springframework/security/authentication/UsernamePasswordAuthenticationToken.setDetails:(Ljava/lang/Object;)V
     120: aload_3
     121: areturn
    Exception table:
       from    to  target type
           0     7    10   Class org/springframework/security/authentication/AuthenticationCredentialsNotFoundException

  private org.springframework.security.core.Authentication getSourceAuthentication(org.springframework.security.core.Authentication);
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: invokeinterface #95,  1           // InterfaceMethod org/springframework/security/core/Authentication.getAuthorities:()Ljava/util/Collection;
       8: astore_3
       9: aload_3
      10: invokeinterface #96,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      15: astore        4
      17: aload         4
      19: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          92
      27: aload         4
      29: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #99                 // class org/springframework/security/core/GrantedAuthority
      37: astore        5
      39: aload         5
      41: instanceof    #82                 // class org/springframework/security/web/authentication/switchuser/SwitchUserGrantedAuthority
      44: ifeq          89
      47: aload         5
      49: checkcast     #82                 // class org/springframework/security/web/authentication/switchuser/SwitchUserGrantedAuthority
      52: invokevirtual #100                // Method org/springframework/security/web/authentication/switchuser/SwitchUserGrantedAuthority.getSource:()Lorg/springframework/security/core/Authentication;
      55: astore_2
      56: aload_0
      57: getfield      #44                 // Field logger:Lorg/apache/commons/logging/Log;
      60: new           #54                 // class java/lang/StringBuilder
      63: dup
      64: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
      67: ldc           #101                // String Found original switch user granted authority [
      69: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: aload_2
      73: invokevirtual #65                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      76: ldc           #58                 // String ]
      78: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      81: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: invokeinterface #60,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      89: goto          17
      92: aload_2
      93: areturn

  protected boolean requiresExitUser(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #102                // Method stripUri:(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/String;
       5: astore_2
       6: aload_2
       7: new           #54                 // class java/lang/StringBuilder
      10: dup
      11: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
      14: aload_1
      15: invokeinterface #103,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getContextPath:()Ljava/lang/String;
      20: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: aload_0
      24: getfield      #8                  // Field exitUserUrl:Ljava/lang/String;
      27: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      33: invokevirtual #104                // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      36: ireturn

  protected boolean requiresSwitchUser(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #102                // Method stripUri:(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/String;
       5: astore_2
       6: aload_2
       7: new           #54                 // class java/lang/StringBuilder
      10: dup
      11: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
      14: aload_1
      15: invokeinterface #103,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getContextPath:()Ljava/lang/String;
      20: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: aload_0
      24: getfield      #10                 // Field switchUserUrl:Ljava/lang/String;
      27: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      33: invokevirtual #104                // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      36: ireturn

  public void setApplicationEventPublisher(org.springframework.context.ApplicationEventPublisher) throws org.springframework.beans.BeansException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #66                 // Field eventPublisher:Lorg/springframework/context/ApplicationEventPublisher;
       5: return

  public void setAuthenticationDetailsSource(org.springframework.security.authentication.AuthenticationDetailsSource<javax.servlet.http.HttpServletRequest, ?>);
    Code:
       0: aload_1
       1: ldc           #105                // String AuthenticationDetailsSource required
       3: invokestatic  #21                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #4                  // Field authenticationDetailsSource:Lorg/springframework/security/authentication/AuthenticationDetailsSource;
      11: return

  public void setMessageSource(org.springframework.context.MessageSource);
    Code:
       0: aload_1
       1: ldc           #106                // String messageSource cannot be null
       3: invokestatic  #21                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: new           #107                // class org/springframework/context/support/MessageSourceAccessor
      10: dup
      11: aload_1
      12: invokespecial #108                // Method org/springframework/context/support/MessageSourceAccessor."<init>":(Lorg/springframework/context/MessageSource;)V
      15: putfield      #6                  // Field messages:Lorg/springframework/context/support/MessageSourceAccessor;
      18: return

  public void setUserDetailsService(org.springframework.security.core.userdetails.UserDetailsService);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #19                 // Field userDetailsService:Lorg/springframework/security/core/userdetails/UserDetailsService;
       5: return

  public void setExitUserUrl(java.lang.String);
    Code:
       0: aload_1
       1: invokestatic  #109                // Method org/springframework/security/web/util/UrlUtils.isValidRedirectUrl:(Ljava/lang/String;)Z
       4: ldc           #110                // String exitUserUrl cannot be empty and must be a valid redirect URL
       6: invokestatic  #25                 // Method org/springframework/util/Assert.isTrue:(ZLjava/lang/String;)V
       9: aload_0
      10: aload_1
      11: putfield      #8                  // Field exitUserUrl:Ljava/lang/String;
      14: return

  public void setSwitchUserUrl(java.lang.String);
    Code:
       0: aload_1
       1: invokestatic  #109                // Method org/springframework/security/web/util/UrlUtils.isValidRedirectUrl:(Ljava/lang/String;)Z
       4: ldc           #111                // String switchUserUrl cannot be empty and must be a valid redirect URL
       6: invokestatic  #25                 // Method org/springframework/util/Assert.isTrue:(ZLjava/lang/String;)V
       9: aload_0
      10: aload_1
      11: putfield      #10                 // Field switchUserUrl:Ljava/lang/String;
      14: return

  public void setTargetUrl(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #23                 // Field targetUrl:Ljava/lang/String;
       5: return

  public void setSuccessHandler(org.springframework.security.web.authentication.AuthenticationSuccessHandler);
    Code:
       0: aload_1
       1: ldc           #112                // String successHandler cannot be null
       3: invokestatic  #21                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #22                 // Field successHandler:Lorg/springframework/security/web/authentication/AuthenticationSuccessHandler;
      11: return

  public void setSwitchFailureUrl(java.lang.String);
    Code:
       0: aload_1
       1: invokestatic  #109                // Method org/springframework/security/web/util/UrlUtils.isValidRedirectUrl:(Ljava/lang/String;)Z
       4: ldc           #113                // String switchFailureUrl must be a valid redirect URL
       6: invokestatic  #25                 // Method org/springframework/util/Assert.isTrue:(ZLjava/lang/String;)V
       9: aload_0
      10: aload_1
      11: putfield      #31                 // Field switchFailureUrl:Ljava/lang/String;
      14: return

  public void setFailureHandler(org.springframework.security.web.authentication.AuthenticationFailureHandler);
    Code:
       0: aload_1
       1: ldc           #114                // String failureHandler cannot be null
       3: invokestatic  #21                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #30                 // Field failureHandler:Lorg/springframework/security/web/authentication/AuthenticationFailureHandler;
      11: return

  public void setSwitchUserAuthorityChanger(org.springframework.security.web.authentication.switchuser.SwitchUserAuthorityChanger);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #85                 // Field switchUserAuthorityChanger:Lorg/springframework/security/web/authentication/switchuser/SwitchUserAuthorityChanger;
       5: return

  public void setUserDetailsChecker(org.springframework.security.core.userdetails.UserDetailsChecker);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #18                 // Field userDetailsChecker:Lorg/springframework/security/core/userdetails/UserDetailsChecker;
       5: return

  public void setUsernameParameter(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #13                 // Field usernameParameter:Ljava/lang/String;
       5: return

  public void setSwitchAuthorityRole(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #115                // String switchAuthorityRole cannot be null
       3: invokestatic  #21                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #15                 // Field switchAuthorityRole:Ljava/lang/String;
      11: return

  private java.lang.String stripUri(javax.servlet.http.HttpServletRequest);
    Code:
       0: aload_1
       1: invokeinterface #116,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
       6: astore_2
       7: aload_2
       8: bipush        59
      10: invokevirtual #117                // Method java/lang/String.indexOf:(I)I
      13: istore_3
      14: iload_3
      15: ifle          25
      18: aload_2
      19: iconst_0
      20: iload_3
      21: invokevirtual #118                // Method java/lang/String.substring:(II)Ljava/lang/String;
      24: astore_2
      25: aload_2
      26: areturn
}
