Compiled from "WiretapConnector.java"
class org.springframework.test.web.reactive.server.WiretapConnector implements org.springframework.http.client.reactive.ClientHttpConnector {
  private static final org.springframework.core.io.buffer.DataBufferFactory bufferFactory;

  private final org.springframework.http.client.reactive.ClientHttpConnector delegate;

  private final java.util.Map<java.lang.String, org.springframework.test.web.reactive.server.WiretapConnector$Info> exchanges;

  org.springframework.test.web.reactive.server.WiretapConnector(org.springframework.http.client.reactive.ClientHttpConnector);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #4                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #5                  // Field exchanges:Ljava/util/Map;
      15: aload_0
      16: aload_1
      17: putfield      #6                  // Field delegate:Lorg/springframework/http/client/reactive/ClientHttpConnector;
      20: return

  public reactor.core.publisher.Mono<org.springframework.http.client.reactive.ClientHttpResponse> connect(org.springframework.http.HttpMethod, java.net.URI, java.util.function.Function<? super org.springframework.http.client.reactive.ClientHttpRequest, reactor.core.publisher.Mono<java.lang.Void>>);
    Code:
       0: new           #7                  // class java/util/concurrent/atomic/AtomicReference
       3: dup
       4: invokespecial #8                  // Method java/util/concurrent/atomic/AtomicReference."<init>":()V
       7: astore        4
       9: aload_0
      10: getfield      #6                  // Field delegate:Lorg/springframework/http/client/reactive/ClientHttpConnector;
      13: aload_1
      14: aload_2
      15: aload         4
      17: aload_3
      18: invokedynamic #9,  0              // InvokeDynamic #0:apply:(Ljava/util/concurrent/atomic/AtomicReference;Ljava/util/function/Function;)Ljava/util/function/Function;
      23: invokeinterface #10,  4           // InterfaceMethod org/springframework/http/client/reactive/ClientHttpConnector.connect:(Lorg/springframework/http/HttpMethod;Ljava/net/URI;Ljava/util/function/Function;)Lreactor/core/publisher/Mono;
      28: aload_0
      29: aload         4
      31: invokedynamic #11,  0             // InvokeDynamic #1:apply:(Lorg/springframework/test/web/reactive/server/WiretapConnector;Ljava/util/concurrent/atomic/AtomicReference;)Ljava/util/function/Function;
      36: invokevirtual #12                 // Method reactor/core/publisher/Mono.map:(Ljava/util/function/Function;)Lreactor/core/publisher/Mono;
      39: areturn

  public org.springframework.test.web.reactive.server.WiretapConnector$Info claimRequest(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field exchanges:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #13,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #14                 // class org/springframework/test/web/reactive/server/WiretapConnector$Info
      13: astore_2
      14: aload_2
      15: ifnull        22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: aload_1
      24: invokedynamic #15,  0             // InvokeDynamic #2:get:(Ljava/lang/String;)Ljava/util/function/Supplier;
      29: invokestatic  #16                 // Method org/springframework/util/Assert.state:(ZLjava/util/function/Supplier;)V
      32: aload_2
      33: areturn

  private static java.lang.String lambda$claimRequest$3(java.lang.String);
    Code:
       0: ldc           #18                 // String WebTestClient-Request-Id
       2: astore_1
       3: new           #19                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #21                 // String No match for
      12: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: ldc           #23                 // String =
      21: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: areturn

  private org.springframework.http.client.reactive.ClientHttpResponse lambda$connect$2(java.util.concurrent.atomic.AtomicReference, org.springframework.http.client.reactive.ClientHttpResponse);
    Code:
       0: aload_1
       1: invokevirtual #25                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       4: checkcast     #26                 // class org/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpRequest
       7: astore_3
       8: ldc           #18                 // String WebTestClient-Request-Id
      10: astore        4
      12: aload_3
      13: invokevirtual #27                 // Method org/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpRequest.getHeaders:()Lorg/springframework/http/HttpHeaders;
      16: aload         4
      18: invokevirtual #28                 // Method org/springframework/http/HttpHeaders.getFirst:(Ljava/lang/String;)Ljava/lang/String;
      21: astore        5
      23: aload         5
      25: ifnull        32
      28: iconst_1
      29: goto          33
      32: iconst_0
      33: aload         4
      35: invokedynamic #29,  0             // InvokeDynamic #3:get:(Ljava/lang/String;)Ljava/util/function/Supplier;
      40: invokestatic  #16                 // Method org/springframework/util/Assert.state:(ZLjava/util/function/Supplier;)V
      43: new           #30                 // class org/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpResponse
      46: dup
      47: aload_2
      48: invokespecial #31                 // Method org/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpResponse."<init>":(Lorg/springframework/http/client/reactive/ClientHttpResponse;)V
      51: astore        6
      53: aload_0
      54: getfield      #5                  // Field exchanges:Ljava/util/Map;
      57: aload         5
      59: new           #14                 // class org/springframework/test/web/reactive/server/WiretapConnector$Info
      62: dup
      63: aload_0
      64: aload_3
      65: aload         6
      67: invokespecial #32                 // Method org/springframework/test/web/reactive/server/WiretapConnector$Info."<init>":(Lorg/springframework/test/web/reactive/server/WiretapConnector;Lorg/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpRequest;Lorg/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpResponse;)V
      70: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      75: pop
      76: aload         6
      78: areturn

  private static java.lang.String lambda$null$1(java.lang.String);
    Code:
       0: new           #19                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
       7: ldc           #34                 // String No \"
       9: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload_0
      13: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: ldc           #35                 // String \" header
      18: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: invokevirtual #24                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: areturn

  private static reactor.core.publisher.Mono lambda$connect$0(java.util.concurrent.atomic.AtomicReference, java.util.function.Function, org.springframework.http.client.reactive.ClientHttpRequest);
    Code:
       0: new           #26                 // class org/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpRequest
       3: dup
       4: aload_2
       5: invokespecial #36                 // Method org/springframework/test/web/reactive/server/WiretapConnector$WiretapClientHttpRequest."<init>":(Lorg/springframework/http/client/reactive/ClientHttpRequest;)V
       8: astore_3
       9: aload_0
      10: aload_3
      11: invokevirtual #37                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      14: aload_1
      15: aload_3
      16: invokeinterface #38,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      21: checkcast     #39                 // class reactor/core/publisher/Mono
      24: areturn

  static org.springframework.core.io.buffer.DataBufferFactory access$000();
    Code:
       0: getstatic     #1                  // Field bufferFactory:Lorg/springframework/core/io/buffer/DataBufferFactory;
       3: areturn

  static {};
    Code:
       0: new           #40                 // class org/springframework/core/io/buffer/DefaultDataBufferFactory
       3: dup
       4: invokespecial #41                 // Method org/springframework/core/io/buffer/DefaultDataBufferFactory."<init>":()V
       7: putstatic     #1                  // Field bufferFactory:Lorg/springframework/core/io/buffer/DataBufferFactory;
      10: return
}
