Compiled from "UserDatabaseRealm.java"
public class org.apache.catalina.realm.UserDatabaseRealm extends org.apache.catalina.realm.RealmBase {
  protected org.apache.catalina.UserDatabase database;

  protected static final java.lang.String name;

  protected java.lang.String resourceName;

  public org.apache.catalina.realm.UserDatabaseRealm();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/catalina/realm/RealmBase."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
       9: aload_0
      10: ldc           #3                  // String UserDatabase
      12: putfield      #4                  // Field resourceName:Ljava/lang/String;
      15: return

  public java.lang.String getResourceName();
    Code:
       0: aload_0
       1: getfield      #4                  // Field resourceName:Ljava/lang/String;
       4: areturn

  public void setResourceName(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field resourceName:Ljava/lang/String;
       5: return

  public boolean hasRole(org.apache.catalina.Wrapper, java.security.Principal, java.lang.String);
    Code:
       0: aload_1
       1: ifnull        21
       4: aload_1
       5: aload_3
       6: invokeinterface #5,  2            // InterfaceMethod org/apache/catalina/Wrapper.findSecurityReference:(Ljava/lang/String;)Ljava/lang/String;
      11: astore        4
      13: aload         4
      15: ifnull        21
      18: aload         4
      20: astore_3
      21: aload_2
      22: instanceof    #6                  // class org/apache/catalina/realm/GenericPrincipal
      25: ifeq          51
      28: aload_2
      29: checkcast     #6                  // class org/apache/catalina/realm/GenericPrincipal
      32: astore        4
      34: aload         4
      36: invokevirtual #7                  // Method org/apache/catalina/realm/GenericPrincipal.getUserPrincipal:()Ljava/security/Principal;
      39: instanceof    #8                  // class org/apache/catalina/User
      42: ifeq          51
      45: aload         4
      47: invokevirtual #7                  // Method org/apache/catalina/realm/GenericPrincipal.getUserPrincipal:()Ljava/security/Principal;
      50: astore_2
      51: aload_2
      52: instanceof    #8                  // class org/apache/catalina/User
      55: ifne          66
      58: aload_0
      59: aconst_null
      60: aload_2
      61: aload_3
      62: invokespecial #9                  // Method org/apache/catalina/realm/RealmBase.hasRole:(Lorg/apache/catalina/Wrapper;Ljava/security/Principal;Ljava/lang/String;)Z
      65: ireturn
      66: ldc           #10                 // String *
      68: aload_3
      69: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      72: ifeq          77
      75: iconst_1
      76: ireturn
      77: aload_3
      78: ifnonnull     83
      81: iconst_0
      82: ireturn
      83: aload_2
      84: checkcast     #8                  // class org/apache/catalina/User
      87: astore        4
      89: aload_0
      90: getfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
      93: aload_3
      94: invokeinterface #12,  2           // InterfaceMethod org/apache/catalina/UserDatabase.findRole:(Ljava/lang/String;)Lorg/apache/catalina/Role;
      99: astore        5
     101: aload         5
     103: ifnonnull     108
     106: iconst_0
     107: ireturn
     108: aload         4
     110: aload         5
     112: invokeinterface #13,  2           // InterfaceMethod org/apache/catalina/User.isInRole:(Lorg/apache/catalina/Role;)Z
     117: ifeq          122
     120: iconst_1
     121: ireturn
     122: aload         4
     124: invokeinterface #14,  1           // InterfaceMethod org/apache/catalina/User.getGroups:()Ljava/util/Iterator;
     129: astore        6
     131: aload         6
     133: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     138: ifeq          170
     141: aload         6
     143: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     148: checkcast     #17                 // class org/apache/catalina/Group
     151: astore        7
     153: aload         7
     155: aload         5
     157: invokeinterface #18,  2           // InterfaceMethod org/apache/catalina/Group.isInRole:(Lorg/apache/catalina/Role;)Z
     162: ifeq          167
     165: iconst_1
     166: ireturn
     167: goto          131
     170: iconst_0
     171: ireturn

  protected java.lang.String getName();
    Code:
       0: ldc           #19                 // String UserDatabaseRealm
       2: areturn

  public void backgroundProcess();
    Code:
       0: aload_0
       1: getfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
       4: instanceof    #20                 // class org/apache/catalina/users/MemoryUserDatabase
       7: ifeq          20
      10: aload_0
      11: getfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
      14: checkcast     #20                 // class org/apache/catalina/users/MemoryUserDatabase
      17: invokevirtual #21                 // Method org/apache/catalina/users/MemoryUserDatabase.backgroundProcess:()V
      20: return

  protected java.lang.String getPassword(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
       4: aload_1
       5: invokeinterface #22,  2           // InterfaceMethod org/apache/catalina/UserDatabase.findUser:(Ljava/lang/String;)Lorg/apache/catalina/User;
      10: astore_2
      11: aload_2
      12: ifnonnull     17
      15: aconst_null
      16: areturn
      17: aload_2
      18: invokeinterface #23,  1           // InterfaceMethod org/apache/catalina/User.getPassword:()Ljava/lang/String;
      23: areturn

  protected java.security.Principal getPrincipal(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
       4: aload_1
       5: invokeinterface #22,  2           // InterfaceMethod org/apache/catalina/UserDatabase.findUser:(Ljava/lang/String;)Lorg/apache/catalina/User;
      10: astore_2
      11: aload_2
      12: ifnonnull     17
      15: aconst_null
      16: areturn
      17: new           #24                 // class java/util/ArrayList
      20: dup
      21: invokespecial #25                 // Method java/util/ArrayList."<init>":()V
      24: astore_3
      25: aload_2
      26: invokeinterface #26,  1           // InterfaceMethod org/apache/catalina/User.getRoles:()Ljava/util/Iterator;
      31: astore        4
      33: aload         4
      35: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      40: ifeq          72
      43: aload         4
      45: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #27                 // class org/apache/catalina/Role
      53: astore        5
      55: aload_3
      56: aload         5
      58: invokeinterface #28,  1           // InterfaceMethod org/apache/catalina/Role.getName:()Ljava/lang/String;
      63: invokeinterface #29,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      68: pop
      69: goto          33
      72: aload_2
      73: invokeinterface #14,  1           // InterfaceMethod org/apache/catalina/User.getGroups:()Ljava/util/Iterator;
      78: astore        5
      80: aload         5
      82: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      87: ifeq          153
      90: aload         5
      92: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      97: checkcast     #17                 // class org/apache/catalina/Group
     100: astore        6
     102: aload         6
     104: invokeinterface #30,  1           // InterfaceMethod org/apache/catalina/Group.getRoles:()Ljava/util/Iterator;
     109: astore        4
     111: aload         4
     113: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     118: ifeq          150
     121: aload         4
     123: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     128: checkcast     #27                 // class org/apache/catalina/Role
     131: astore        7
     133: aload_3
     134: aload         7
     136: invokeinterface #28,  1           // InterfaceMethod org/apache/catalina/Role.getName:()Ljava/lang/String;
     141: invokeinterface #29,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     146: pop
     147: goto          111
     150: goto          80
     153: new           #6                  // class org/apache/catalina/realm/GenericPrincipal
     156: dup
     157: aload_1
     158: aload_2
     159: invokeinterface #23,  1           // InterfaceMethod org/apache/catalina/User.getPassword:()Ljava/lang/String;
     164: aload_3
     165: aload_2
     166: invokespecial #31                 // Method org/apache/catalina/realm/GenericPrincipal."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;Ljava/security/Principal;)V
     169: areturn

  protected void startInternal() throws org.apache.catalina.LifecycleException;
    Code:
       0: aload_0
       1: invokevirtual #32                 // Method getServer:()Lorg/apache/catalina/Server;
       4: invokeinterface #33,  1           // InterfaceMethod org/apache/catalina/Server.getGlobalNamingContext:()Ljavax/naming/Context;
       9: astore_1
      10: aload_0
      11: aload_1
      12: aload_0
      13: getfield      #4                  // Field resourceName:Ljava/lang/String;
      16: invokeinterface #34,  2           // InterfaceMethod javax/naming/Context.lookup:(Ljava/lang/String;)Ljava/lang/Object;
      21: checkcast     #35                 // class org/apache/catalina/UserDatabase
      24: putfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
      27: goto          69
      30: astore_1
      31: aload_1
      32: invokestatic  #37                 // Method org/apache/tomcat/util/ExceptionUtils.handleThrowable:(Ljava/lang/Throwable;)V
      35: aload_0
      36: getfield      #38                 // Field containerLog:Lorg/apache/juli/logging/Log;
      39: getstatic     #39                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      42: ldc           #40                 // String userDatabaseRealm.lookup
      44: iconst_1
      45: anewarray     #41                 // class java/lang/Object
      48: dup
      49: iconst_0
      50: aload_0
      51: getfield      #4                  // Field resourceName:Ljava/lang/String;
      54: aastore
      55: invokevirtual #42                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      58: aload_1
      59: invokeinterface #43,  3           // InterfaceMethod org/apache/juli/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      64: aload_0
      65: aconst_null
      66: putfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
      69: aload_0
      70: getfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
      73: ifnonnull     103
      76: new           #44                 // class org/apache/catalina/LifecycleException
      79: dup
      80: getstatic     #39                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      83: ldc           #45                 // String userDatabaseRealm.noDatabase
      85: iconst_1
      86: anewarray     #41                 // class java/lang/Object
      89: dup
      90: iconst_0
      91: aload_0
      92: getfield      #4                  // Field resourceName:Ljava/lang/String;
      95: aastore
      96: invokevirtual #42                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      99: invokespecial #46                 // Method org/apache/catalina/LifecycleException."<init>":(Ljava/lang/String;)V
     102: athrow
     103: aload_0
     104: invokespecial #47                 // Method org/apache/catalina/realm/RealmBase.startInternal:()V
     107: return
    Exception table:
       from    to  target type
           0    27    30   Class java/lang/Throwable

  protected void stopInternal() throws org.apache.catalina.LifecycleException;
    Code:
       0: aload_0
       1: invokespecial #48                 // Method org/apache/catalina/realm/RealmBase.stopInternal:()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field database:Lorg/apache/catalina/UserDatabase;
       9: return
}
