Compiled from "LoadBalancerDrainingValve.java"
public class org.apache.catalina.valves.LoadBalancerDrainingValve extends org.apache.catalina.valves.ValveBase {
  public static final java.lang.String ATTRIBUTE_KEY_JK_LB_ACTIVATION;

  private int _redirectStatusCode;

  private java.lang.String _ignoreCookieName;

  private java.lang.String _ignoreCookieValue;

  public org.apache.catalina.valves.LoadBalancerDrainingValve();
    Code:
       0: aload_0
       1: iconst_1
       2: invokespecial #1                  // Method org/apache/catalina/valves/ValveBase."<init>":(Z)V
       5: aload_0
       6: sipush        307
       9: putfield      #2                  // Field _redirectStatusCode:I
      12: return

  public void setRedirectStatusCode(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #2                  // Field _redirectStatusCode:I
       5: return

  public java.lang.String getIgnoreCookieName();
    Code:
       0: aload_0
       1: getfield      #3                  // Field _ignoreCookieName:Ljava/lang/String;
       4: areturn

  public void setIgnoreCookieName(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field _ignoreCookieName:Ljava/lang/String;
       5: return

  public java.lang.String getIgnoreCookieValue();
    Code:
       0: aload_0
       1: getfield      #4                  // Field _ignoreCookieValue:Ljava/lang/String;
       4: areturn

  public void setIgnoreCookieValue(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field _ignoreCookieValue:Ljava/lang/String;
       5: return

  public void invoke(org.apache.catalina.connector.Request, org.apache.catalina.connector.Response) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: ldc           #5                  // String DIS
       2: aload_1
       3: ldc           #6                  // String JK_LB_ACTIVATION
       5: invokevirtual #7                  // Method org/apache/catalina/connector/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
       8: invokevirtual #8                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      11: ifeq          481
      14: aload_1
      15: invokevirtual #9                  // Method org/apache/catalina/connector/Request.isRequestedSessionIdValid:()Z
      18: ifne          481
      21: aload_0
      22: getfield      #10                 // Field containerLog:Lorg/apache/juli/logging/Log;
      25: invokeinterface #11,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      30: ifeq          44
      33: aload_0
      34: getfield      #10                 // Field containerLog:Lorg/apache/juli/logging/Log;
      37: ldc           #12                 // String Load-balancer is in DISABLED state; draining this node
      39: invokeinterface #13,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      44: iconst_0
      45: istore_3
      46: aconst_null
      47: astore        4
      49: aload_1
      50: invokevirtual #14                 // Method org/apache/catalina/connector/Request.getCookies:()[Ljavax/servlet/http/Cookie;
      53: astore        5
      55: aload_1
      56: invokevirtual #15                 // Method org/apache/catalina/connector/Request.getContext:()Lorg/apache/catalina/Context;
      59: invokestatic  #16                 // Method org/apache/catalina/util/SessionConfig.getSessionCookieName:(Lorg/apache/catalina/Context;)Ljava/lang/String;
      62: astore        6
      64: aconst_null
      65: aload         5
      67: if_acmpeq     240
      70: aload         5
      72: astore        7
      74: aload         7
      76: arraylength
      77: istore        8
      79: iconst_0
      80: istore        9
      82: iload         9
      84: iload         8
      86: if_icmpge     240
      89: aload         7
      91: iload         9
      93: aaload
      94: astore        10
      96: aload         10
      98: invokevirtual #17                 // Method javax/servlet/http/Cookie.getName:()Ljava/lang/String;
     101: astore        11
     103: aload_0
     104: getfield      #10                 // Field containerLog:Lorg/apache/juli/logging/Log;
     107: invokeinterface #18,  1           // InterfaceMethod org/apache/juli/logging/Log.isTraceEnabled:()Z
     112: ifeq          157
     115: aload_0
     116: getfield      #10                 // Field containerLog:Lorg/apache/juli/logging/Log;
     119: new           #19                 // class java/lang/StringBuilder
     122: dup
     123: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     126: ldc           #21                 // String Checking cookie
     128: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: aload         11
     133: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: ldc           #23                 // String =
     138: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: aload         10
     143: invokevirtual #24                 // Method javax/servlet/http/Cookie.getValue:()Ljava/lang/String;
     146: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     152: invokeinterface #26,  2           // InterfaceMethod org/apache/juli/logging/Log.trace:(Ljava/lang/Object;)V
     157: aload         6
     159: aload         11
     161: invokevirtual #8                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     164: ifeq          189
     167: aload_1
     168: invokevirtual #27                 // Method org/apache/catalina/connector/Request.getRequestedSessionId:()Ljava/lang/String;
     171: aload         10
     173: invokevirtual #24                 // Method javax/servlet/http/Cookie.getValue:()Ljava/lang/String;
     176: invokevirtual #8                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     179: ifeq          189
     182: aload         10
     184: astore        4
     186: goto          234
     189: aconst_null
     190: aload_0
     191: getfield      #3                  // Field _ignoreCookieName:Ljava/lang/String;
     194: if_acmpeq     234
     197: aload_0
     198: getfield      #3                  // Field _ignoreCookieName:Ljava/lang/String;
     201: aload         11
     203: invokevirtual #8                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     206: ifeq          234
     209: aconst_null
     210: aload_0
     211: getfield      #4                  // Field _ignoreCookieValue:Ljava/lang/String;
     214: if_acmpeq     234
     217: aload_0
     218: getfield      #4                  // Field _ignoreCookieValue:Ljava/lang/String;
     221: aload         10
     223: invokevirtual #24                 // Method javax/servlet/http/Cookie.getValue:()Ljava/lang/String;
     226: invokevirtual #8                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     229: ifeq          234
     232: iconst_1
     233: istore_3
     234: iinc          9, 1
     237: goto          82
     240: iload_3
     241: ifeq          304
     244: aload_0
     245: getfield      #10                 // Field containerLog:Lorg/apache/juli/logging/Log;
     248: invokeinterface #11,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     253: ifeq          292
     256: aload_0
     257: getfield      #10                 // Field containerLog:Lorg/apache/juli/logging/Log;
     260: new           #19                 // class java/lang/StringBuilder
     263: dup
     264: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     267: ldc           #28                 // String Client is presenting a valid
     269: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     272: aload_0
     273: getfield      #3                  // Field _ignoreCookieName:Ljava/lang/String;
     276: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: ldc           #29                 // String  cookie, re-balancing is being skipped
     281: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     284: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     287: invokeinterface #13,  2           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
     292: aload_0
     293: invokevirtual #30                 // Method getNext:()Lorg/apache/catalina/Valve;
     296: aload_1
     297: aload_2
     298: invokeinterface #31,  3           // InterfaceMethod org/apache/catalina/Valve.invoke:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
     303: return
     304: aconst_null
     305: aload         4
     307: if_acmpeq     341
     310: aload         4
     312: aload_1
     313: invokevirtual #15                 // Method org/apache/catalina/connector/Request.getContext:()Lorg/apache/catalina/Context;
     316: invokestatic  #32                 // Method org/apache/catalina/util/SessionConfig.getSessionCookiePath:(Lorg/apache/catalina/Context;)Ljava/lang/String;
     319: invokevirtual #33                 // Method javax/servlet/http/Cookie.setPath:(Ljava/lang/String;)V
     322: aload         4
     324: iconst_0
     325: invokevirtual #34                 // Method javax/servlet/http/Cookie.setMaxAge:(I)V
     328: aload         4
     330: ldc           #35                 // String
     332: invokevirtual #36                 // Method javax/servlet/http/Cookie.setValue:(Ljava/lang/String;)V
     335: aload_2
     336: aload         4
     338: invokevirtual #37                 // Method org/apache/catalina/connector/Response.addCookie:(Ljavax/servlet/http/Cookie;)V
     341: aload_1
     342: invokevirtual #38                 // Method org/apache/catalina/connector/Request.getRequestURI:()Ljava/lang/String;
     345: astore        7
     347: aload_1
     348: invokevirtual #15                 // Method org/apache/catalina/connector/Request.getContext:()Lorg/apache/catalina/Context;
     351: invokestatic  #39                 // Method org/apache/catalina/util/SessionConfig.getSessionUriParamName:(Lorg/apache/catalina/Context;)Ljava/lang/String;
     354: astore        8
     356: aload         7
     358: new           #19                 // class java/lang/StringBuilder
     361: dup
     362: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     365: ldc           #40                 // String ;
     367: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     370: aload         8
     372: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     375: ldc           #23                 // String =
     377: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     380: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     383: invokevirtual #41                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     386: ifeq          423
     389: aload         7
     391: new           #19                 // class java/lang/StringBuilder
     394: dup
     395: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     398: ldc           #40                 // String ;
     400: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     403: aload         8
     405: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     408: ldc           #42                 // String =[^&?]*
     410: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     413: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     416: ldc           #35                 // String
     418: invokevirtual #43                 // Method java/lang/String.replaceFirst:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     421: astore        7
     423: aload_1
     424: invokevirtual #44                 // Method org/apache/catalina/connector/Request.getQueryString:()Ljava/lang/String;
     427: astore        9
     429: aconst_null
     430: aload         9
     432: if_acmpeq     462
     435: new           #19                 // class java/lang/StringBuilder
     438: dup
     439: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     442: aload         7
     444: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     447: ldc           #45                 // String ?
     449: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     452: aload         9
     454: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     457: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     460: astore        7
     462: aload_2
     463: ldc           #46                 // String Location
     465: aload         7
     467: invokevirtual #47                 // Method org/apache/catalina/connector/Response.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     470: aload_2
     471: aload_0
     472: getfield      #2                  // Field _redirectStatusCode:I
     475: invokevirtual #48                 // Method org/apache/catalina/connector/Response.setStatus:(I)V
     478: goto          492
     481: aload_0
     482: invokevirtual #30                 // Method getNext:()Lorg/apache/catalina/Valve;
     485: aload_1
     486: aload_2
     487: invokeinterface #31,  3           // InterfaceMethod org/apache/catalina/Valve.invoke:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;)V
     492: return
}
