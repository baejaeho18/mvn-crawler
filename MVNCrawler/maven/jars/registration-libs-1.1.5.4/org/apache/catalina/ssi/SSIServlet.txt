Compiled from "SSIServlet.java"
public class org.apache.catalina.ssi.SSIServlet extends javax.servlet.http.HttpServlet {
  private static final long serialVersionUID;

  protected int debug;

  protected boolean buffered;

  protected java.lang.Long expires;

  protected boolean isVirtualWebappRelative;

  protected java.lang.String inputEncoding;

  protected java.lang.String outputEncoding;

  protected boolean allowExec;

  public org.apache.catalina.ssi.SSIServlet();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/servlet/http/HttpServlet."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field debug:I
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field buffered:Z
      14: aload_0
      15: aconst_null
      16: putfield      #4                  // Field expires:Ljava/lang/Long;
      19: aload_0
      20: iconst_0
      21: putfield      #5                  // Field isVirtualWebappRelative:Z
      24: aload_0
      25: aconst_null
      26: putfield      #6                  // Field inputEncoding:Ljava/lang/String;
      29: aload_0
      30: ldc           #7                  // String UTF-8
      32: putfield      #8                  // Field outputEncoding:Ljava/lang/String;
      35: aload_0
      36: iconst_0
      37: putfield      #9                  // Field allowExec:Z
      40: return

  public void init() throws javax.servlet.ServletException;
    Code:
       0: aload_0
       1: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
       4: ldc           #11                 // String debug
       6: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      11: ifnull        32
      14: aload_0
      15: aload_0
      16: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
      19: ldc           #11                 // String debug
      21: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      26: invokestatic  #13                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      29: putfield      #2                  // Field debug:I
      32: aload_0
      33: aload_0
      34: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
      37: ldc           #14                 // String isVirtualWebappRelative
      39: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      44: invokestatic  #15                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      47: putfield      #5                  // Field isVirtualWebappRelative:Z
      50: aload_0
      51: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
      54: ldc           #16                 // String expires
      56: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      61: ifnull        82
      64: aload_0
      65: aload_0
      66: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
      69: ldc           #16                 // String expires
      71: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      76: invokestatic  #17                 // Method java/lang/Long.valueOf:(Ljava/lang/String;)Ljava/lang/Long;
      79: putfield      #4                  // Field expires:Ljava/lang/Long;
      82: aload_0
      83: aload_0
      84: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
      87: ldc           #18                 // String buffered
      89: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
      94: invokestatic  #15                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      97: putfield      #3                  // Field buffered:Z
     100: aload_0
     101: aload_0
     102: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
     105: ldc           #19                 // String inputEncoding
     107: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     112: putfield      #6                  // Field inputEncoding:Ljava/lang/String;
     115: aload_0
     116: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
     119: ldc           #20                 // String outputEncoding
     121: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     126: ifnull        144
     129: aload_0
     130: aload_0
     131: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
     134: ldc           #20                 // String outputEncoding
     136: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     141: putfield      #8                  // Field outputEncoding:Ljava/lang/String;
     144: aload_0
     145: aload_0
     146: invokevirtual #10                 // Method getServletConfig:()Ljavax/servlet/ServletConfig;
     149: ldc           #21                 // String allowExec
     151: invokeinterface #12,  2           // InterfaceMethod javax/servlet/ServletConfig.getInitParameter:(Ljava/lang/String;)Ljava/lang/String;
     156: invokestatic  #15                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     159: putfield      #9                  // Field allowExec:Z
     162: aload_0
     163: getfield      #2                  // Field debug:I
     166: ifle          195
     169: aload_0
     170: new           #22                 // class java/lang/StringBuilder
     173: dup
     174: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     177: ldc           #24                 // String SSIServlet.init() SSI invoker started with \'debug\'=
     179: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: aload_0
     183: getfield      #2                  // Field debug:I
     186: invokevirtual #26                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     189: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     192: invokevirtual #28                 // Method log:(Ljava/lang/String;)V
     195: return

  public void doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field debug:I
       4: ifle          13
       7: aload_0
       8: ldc           #29                 // String SSIServlet.doGet()
      10: invokevirtual #28                 // Method log:(Ljava/lang/String;)V
      13: aload_0
      14: aload_1
      15: aload_2
      16: invokevirtual #30                 // Method requestHandler:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      19: return

  public void doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field debug:I
       4: ifle          13
       7: aload_0
       8: ldc           #31                 // String SSIServlet.doPost()
      10: invokevirtual #28                 // Method log:(Ljava/lang/String;)V
      13: aload_0
      14: aload_1
      15: aload_2
      16: invokevirtual #30                 // Method requestHandler:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      19: return

  protected void requestHandler(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #32                 // Method getServletContext:()Ljavax/servlet/ServletContext;
       4: astore_3
       5: aload_1
       6: invokestatic  #33                 // Method org/apache/catalina/ssi/SSIServletRequestUtil.getRelativePath:(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/String;
       9: astore        4
      11: aload_0
      12: getfield      #2                  // Field debug:I
      15: ifle          69
      18: aload_0
      19: new           #22                 // class java/lang/StringBuilder
      22: dup
      23: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      26: ldc           #34                 // String SSIServlet.requestHandler()\nServing
      28: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: aload_0
      32: getfield      #3                  // Field buffered:Z
      35: ifeq          43
      38: ldc           #35                 // String buffered
      40: goto          45
      43: ldc           #36                 // String unbuffered
      45: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: ldc           #37                 // String resource \'
      50: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: aload         4
      55: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: ldc           #38                 // String \'
      60: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      66: invokevirtual #28                 // Method log:(Ljava/lang/String;)V
      69: aload         4
      71: ifnull        106
      74: aload         4
      76: getstatic     #39                 // Field java/util/Locale.ENGLISH:Ljava/util/Locale;
      79: invokevirtual #40                 // Method java/lang/String.toUpperCase:(Ljava/util/Locale;)Ljava/lang/String;
      82: ldc           #41                 // String /WEB-INF
      84: invokevirtual #42                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      87: ifne          106
      90: aload         4
      92: getstatic     #39                 // Field java/util/Locale.ENGLISH:Ljava/util/Locale;
      95: invokevirtual #40                 // Method java/lang/String.toUpperCase:(Ljava/util/Locale;)Ljava/lang/String;
      98: ldc           #43                 // String /META-INF
     100: invokevirtual #42                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     103: ifeq          140
     106: aload_2
     107: sipush        404
     110: invokeinterface #44,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     115: aload_0
     116: new           #22                 // class java/lang/StringBuilder
     119: dup
     120: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     123: ldc           #45                 // String Can\'t serve file:
     125: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload         4
     130: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     133: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     136: invokevirtual #28                 // Method log:(Ljava/lang/String;)V
     139: return
     140: aload_3
     141: aload         4
     143: invokeinterface #46,  2           // InterfaceMethod javax/servlet/ServletContext.getResource:(Ljava/lang/String;)Ljava/net/URL;
     148: astore        5
     150: aload         5
     152: ifnonnull     189
     155: aload_2
     156: sipush        404
     159: invokeinterface #44,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     164: aload_0
     165: new           #22                 // class java/lang/StringBuilder
     168: dup
     169: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     172: ldc           #47                 // String Can\'t find file:
     174: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     177: aload         4
     179: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: invokevirtual #28                 // Method log:(Ljava/lang/String;)V
     188: return
     189: aload_3
     190: aload         4
     192: invokeinterface #48,  2           // InterfaceMethod javax/servlet/ServletContext.getMimeType:(Ljava/lang/String;)Ljava/lang/String;
     197: astore        6
     199: aload         6
     201: ifnonnull     208
     204: ldc           #49                 // String text/html
     206: astore        6
     208: aload_2
     209: new           #22                 // class java/lang/StringBuilder
     212: dup
     213: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     216: aload         6
     218: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     221: ldc           #50                 // String ;charset=
     223: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     226: aload_0
     227: getfield      #8                  // Field outputEncoding:Ljava/lang/String;
     230: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     236: invokeinterface #51,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.setContentType:(Ljava/lang/String;)V
     241: aload_0
     242: getfield      #4                  // Field expires:Ljava/lang/Long;
     245: ifnull        278
     248: aload_2
     249: ldc           #52                 // String Expires
     251: new           #53                 // class java/util/Date
     254: dup
     255: invokespecial #54                 // Method java/util/Date."<init>":()V
     258: invokevirtual #55                 // Method java/util/Date.getTime:()J
     261: aload_0
     262: getfield      #4                  // Field expires:Ljava/lang/Long;
     265: invokevirtual #56                 // Method java/lang/Long.longValue:()J
     268: ldc2_w        #57                 // long 1000l
     271: lmul
     272: ladd
     273: invokeinterface #59,  4           // InterfaceMethod javax/servlet/http/HttpServletResponse.setDateHeader:(Ljava/lang/String;J)V
     278: aload_0
     279: aload_1
     280: aload_2
     281: aload         5
     283: invokevirtual #60                 // Method processSSI:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljava/net/URL;)V
     286: return

  protected void processSSI(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, java.net.URL) throws java.io.IOException;
    Code:
       0: new           #61                 // class org/apache/catalina/ssi/SSIServletExternalResolver
       3: dup
       4: aload_0
       5: invokevirtual #32                 // Method getServletContext:()Ljavax/servlet/ServletContext;
       8: aload_1
       9: aload_2
      10: aload_0
      11: getfield      #5                  // Field isVirtualWebappRelative:Z
      14: aload_0
      15: getfield      #2                  // Field debug:I
      18: aload_0
      19: getfield      #6                  // Field inputEncoding:Ljava/lang/String;
      22: invokespecial #62                 // Method org/apache/catalina/ssi/SSIServletExternalResolver."<init>":(Ljavax/servlet/ServletContext;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;ZILjava/lang/String;)V
      25: astore        4
      27: new           #63                 // class org/apache/catalina/ssi/SSIProcessor
      30: dup
      31: aload         4
      33: aload_0
      34: getfield      #2                  // Field debug:I
      37: aload_0
      38: getfield      #9                  // Field allowExec:Z
      41: invokespecial #64                 // Method org/apache/catalina/ssi/SSIProcessor."<init>":(Lorg/apache/catalina/ssi/SSIExternalResolver;IZ)V
      44: astore        5
      46: aconst_null
      47: astore        6
      49: aconst_null
      50: astore        7
      52: aload_0
      53: getfield      #3                  // Field buffered:Z
      56: ifeq          82
      59: new           #65                 // class java/io/StringWriter
      62: dup
      63: invokespecial #66                 // Method java/io/StringWriter."<init>":()V
      66: astore        7
      68: new           #67                 // class java/io/PrintWriter
      71: dup
      72: aload         7
      74: invokespecial #68                 // Method java/io/PrintWriter."<init>":(Ljava/io/Writer;)V
      77: astore        6
      79: goto          90
      82: aload_2
      83: invokeinterface #69,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getWriter:()Ljava/io/PrintWriter;
      88: astore        6
      90: aload_3
      91: invokevirtual #70                 // Method java/net/URL.openConnection:()Ljava/net/URLConnection;
      94: astore        8
      96: aload         8
      98: invokevirtual #71                 // Method java/net/URLConnection.getInputStream:()Ljava/io/InputStream;
     101: astore        9
     103: aload         8
     105: invokevirtual #72                 // Method java/net/URLConnection.getContentEncoding:()Ljava/lang/String;
     108: astore        10
     110: aload         10
     112: ifnonnull     121
     115: aload_0
     116: getfield      #6                  // Field inputEncoding:Ljava/lang/String;
     119: astore        10
     121: aload         10
     123: ifnonnull     140
     126: new           #73                 // class java/io/InputStreamReader
     129: dup
     130: aload         9
     132: invokespecial #74                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
     135: astore        11
     137: goto          153
     140: new           #73                 // class java/io/InputStreamReader
     143: dup
     144: aload         9
     146: aload         10
     148: invokespecial #75                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/lang/String;)V
     151: astore        11
     153: new           #76                 // class java/io/BufferedReader
     156: dup
     157: aload         11
     159: invokespecial #77                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     162: astore        12
     164: aload         5
     166: aload         12
     168: aload         8
     170: invokevirtual #78                 // Method java/net/URLConnection.getLastModified:()J
     173: aload         6
     175: invokevirtual #79                 // Method org/apache/catalina/ssi/SSIProcessor.process:(Ljava/io/Reader;JLjava/io/PrintWriter;)J
     178: lstore        13
     180: lload         13
     182: lconst_0
     183: lcmp
     184: ifle          197
     187: aload_2
     188: ldc           #80                 // String last-modified
     190: lload         13
     192: invokeinterface #59,  4           // InterfaceMethod javax/servlet/http/HttpServletResponse.setDateHeader:(Ljava/lang/String;J)V
     197: aload_0
     198: getfield      #3                  // Field buffered:Z
     201: ifeq          227
     204: aload         6
     206: invokevirtual #81                 // Method java/io/PrintWriter.flush:()V
     209: aload         7
     211: invokevirtual #82                 // Method java/io/StringWriter.toString:()Ljava/lang/String;
     214: astore        15
     216: aload_2
     217: invokeinterface #69,  1           // InterfaceMethod javax/servlet/http/HttpServletResponse.getWriter:()Ljava/io/PrintWriter;
     222: aload         15
     224: invokevirtual #83                 // Method java/io/PrintWriter.write:(Ljava/lang/String;)V
     227: aload         12
     229: invokevirtual #84                 // Method java/io/BufferedReader.close:()V
     232: return
}
