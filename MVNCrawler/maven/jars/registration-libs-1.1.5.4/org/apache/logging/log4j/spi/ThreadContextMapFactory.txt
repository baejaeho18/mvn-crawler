Compiled from "ThreadContextMapFactory.java"
public final class org.apache.logging.log4j.spi.ThreadContextMapFactory {
  private static final org.apache.logging.log4j.Logger LOGGER;

  private static final java.lang.String THREAD_CONTEXT_KEY;

  private static final java.lang.String GC_FREE_THREAD_CONTEXT_KEY;

  private org.apache.logging.log4j.spi.ThreadContextMapFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static org.apache.logging.log4j.spi.ThreadContextMap createThreadContextMap();
    Code:
       0: invokestatic  #2                  // Method org/apache/logging/log4j/util/PropertiesUtil.getProperties:()Lorg/apache/logging/log4j/util/PropertiesUtil;
       3: astore_0
       4: aload_0
       5: ldc           #3                  // String log4j2.threadContextMap
       7: invokevirtual #4                  // Method org/apache/logging/log4j/util/PropertiesUtil.getStringProperty:(Ljava/lang/String;)Ljava/lang/String;
      10: astore_1
      11: invokestatic  #5                  // Method org/apache/logging/log4j/util/ProviderUtil.findClassLoader:()Ljava/lang/ClassLoader;
      14: astore_2
      15: aconst_null
      16: astore_3
      17: aload_1
      18: ifnull        82
      21: aload_2
      22: aload_1
      23: invokevirtual #6                  // Method java/lang/ClassLoader.loadClass:(Ljava/lang/String;)Ljava/lang/Class;
      26: astore        4
      28: ldc_w         #7                  // class org/apache/logging/log4j/spi/ThreadContextMap
      31: aload         4
      33: invokevirtual #8                  // Method java/lang/Class.isAssignableFrom:(Ljava/lang/Class;)Z
      36: ifeq          48
      39: aload         4
      41: invokevirtual #9                  // Method java/lang/Class.newInstance:()Ljava/lang/Object;
      44: checkcast     #7                  // class org/apache/logging/log4j/spi/ThreadContextMap
      47: astore_3
      48: goto          82
      51: astore        4
      53: getstatic     #11                 // Field LOGGER:Lorg/apache/logging/log4j/Logger;
      56: ldc           #12                 // String Unable to locate configured ThreadContextMap {}
      58: aload_1
      59: invokeinterface #13,  3           // InterfaceMethod org/apache/logging/log4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      64: goto          82
      67: astore        4
      69: getstatic     #11                 // Field LOGGER:Lorg/apache/logging/log4j/Logger;
      72: ldc           #15                 // String Unable to create configured ThreadContextMap {}
      74: aload_1
      75: aload         4
      77: invokeinterface #16,  4           // InterfaceMethod org/apache/logging/log4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      82: aload_3
      83: ifnonnull     204
      86: invokestatic  #17                 // Method org/apache/logging/log4j/util/ProviderUtil.hasProviders:()Z
      89: ifeq          204
      92: invokestatic  #18                 // Method org/apache/logging/log4j/LogManager.getFactory:()Lorg/apache/logging/log4j/spi/LoggerContextFactory;
      95: ifnull        204
      98: invokestatic  #18                 // Method org/apache/logging/log4j/LogManager.getFactory:()Lorg/apache/logging/log4j/spi/LoggerContextFactory;
     101: invokevirtual #19                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     104: invokevirtual #20                 // Method java/lang/Class.getName:()Ljava/lang/String;
     107: astore        4
     109: invokestatic  #21                 // Method org/apache/logging/log4j/util/ProviderUtil.getProviders:()Ljava/lang/Iterable;
     112: invokeinterface #22,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
     117: astore        5
     119: aload         5
     121: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     126: ifeq          204
     129: aload         5
     131: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     136: checkcast     #25                 // class org/apache/logging/log4j/spi/Provider
     139: astore        6
     141: aload         4
     143: aload         6
     145: invokevirtual #26                 // Method org/apache/logging/log4j/spi/Provider.getClassName:()Ljava/lang/String;
     148: invokevirtual #27                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     151: ifeq          201
     154: aload         6
     156: invokevirtual #28                 // Method org/apache/logging/log4j/spi/Provider.loadThreadContextMap:()Ljava/lang/Class;
     159: astore        7
     161: aload         7
     163: ifnull        201
     166: aload         7
     168: invokevirtual #9                  // Method java/lang/Class.newInstance:()Ljava/lang/Object;
     171: checkcast     #7                  // class org/apache/logging/log4j/spi/ThreadContextMap
     174: astore_3
     175: goto          204
     178: astore        8
     180: getstatic     #11                 // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     183: ldc           #29                 // String Unable to locate or load configured ThreadContextMap {}
     185: aload         6
     187: invokevirtual #30                 // Method org/apache/logging/log4j/spi/Provider.getThreadContextMap:()Ljava/lang/String;
     190: aload         8
     192: invokeinterface #16,  4           // InterfaceMethod org/apache/logging/log4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     197: invokestatic  #31                 // Method createDefaultThreadContextMap:()Lorg/apache/logging/log4j/spi/ThreadContextMap;
     200: astore_3
     201: goto          119
     204: aload_3
     205: ifnonnull     212
     208: invokestatic  #31                 // Method createDefaultThreadContextMap:()Lorg/apache/logging/log4j/spi/ThreadContextMap;
     211: astore_3
     212: aload_3
     213: areturn
    Exception table:
       from    to  target type
          21    48    51   Class java/lang/ClassNotFoundException
          21    48    67   Class java/lang/Exception
         166   175   178   Class java/lang/Exception

  private static org.apache.logging.log4j.spi.ThreadContextMap createDefaultThreadContextMap();
    Code:
       0: getstatic     #32                 // Field org/apache/logging/log4j/util/Constants.ENABLE_THREADLOCALS:Z
       3: ifeq          33
       6: invokestatic  #2                  // Method org/apache/logging/log4j/util/PropertiesUtil.getProperties:()Lorg/apache/logging/log4j/util/PropertiesUtil;
       9: ldc           #33                 // String log4j2.garbagefree.threadContextMap
      11: invokevirtual #34                 // Method org/apache/logging/log4j/util/PropertiesUtil.getBooleanProperty:(Ljava/lang/String;)Z
      14: ifeq          25
      17: new           #35                 // class org/apache/logging/log4j/spi/GarbageFreeSortedArrayThreadContextMap
      20: dup
      21: invokespecial #36                 // Method org/apache/logging/log4j/spi/GarbageFreeSortedArrayThreadContextMap."<init>":()V
      24: areturn
      25: new           #37                 // class org/apache/logging/log4j/spi/CopyOnWriteSortedArrayThreadContextMap
      28: dup
      29: invokespecial #38                 // Method org/apache/logging/log4j/spi/CopyOnWriteSortedArrayThreadContextMap."<init>":()V
      32: areturn
      33: new           #39                 // class org/apache/logging/log4j/spi/DefaultThreadContextMap
      36: dup
      37: iconst_1
      38: invokespecial #40                 // Method org/apache/logging/log4j/spi/DefaultThreadContextMap."<init>":(Z)V
      41: areturn

  static {};
    Code:
       0: invokestatic  #41                 // Method org/apache/logging/log4j/status/StatusLogger.getLogger:()Lorg/apache/logging/log4j/status/StatusLogger;
       3: putstatic     #11                 // Field LOGGER:Lorg/apache/logging/log4j/Logger;
       6: return
}
