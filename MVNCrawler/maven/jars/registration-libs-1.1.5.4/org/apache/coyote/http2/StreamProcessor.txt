Compiled from "StreamProcessor.java"
class org.apache.coyote.http2.StreamProcessor extends org.apache.coyote.AbstractProcessor {
  private static final org.apache.juli.logging.Log log;

  private static final org.apache.tomcat.util.res.StringManager sm;

  private final org.apache.coyote.http2.Http2UpgradeHandler handler;

  private final org.apache.coyote.http2.Stream stream;

  org.apache.coyote.http2.StreamProcessor(org.apache.coyote.http2.Http2UpgradeHandler, org.apache.coyote.http2.Stream, org.apache.coyote.Adapter, org.apache.tomcat.util.net.SocketWrapperBase<?>);
    Code:
       0: aload_0
       1: aload         4
       3: invokevirtual #1                  // Method org/apache/tomcat/util/net/SocketWrapperBase.getEndpoint:()Lorg/apache/tomcat/util/net/AbstractEndpoint;
       6: aload_2
       7: invokevirtual #2                  // Method org/apache/coyote/http2/Stream.getCoyoteRequest:()Lorg/apache/coyote/Request;
      10: aload_2
      11: invokevirtual #3                  // Method org/apache/coyote/http2/Stream.getCoyoteResponse:()Lorg/apache/coyote/Response;
      14: invokespecial #4                  // Method org/apache/coyote/AbstractProcessor."<init>":(Lorg/apache/tomcat/util/net/AbstractEndpoint;Lorg/apache/coyote/Request;Lorg/apache/coyote/Response;)V
      17: aload_0
      18: aload_1
      19: putfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
      22: aload_0
      23: aload_2
      24: putfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      27: aload_0
      28: aload_3
      29: invokevirtual #7                  // Method setAdapter:(Lorg/apache/coyote/Adapter;)V
      32: aload_0
      33: aload         4
      35: invokevirtual #8                  // Method setSocketWrapper:(Lorg/apache/tomcat/util/net/SocketWrapperBase;)V
      38: return

  final void process(org.apache.tomcat.util.net.SocketEvent);
    Code:
       0: aload_0
       1: dup
       2: astore_2
       3: monitorenter
       4: invokestatic  #9                  // Method org/apache/coyote/ContainerThreadMarker.set:()V
       7: getstatic     #10                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.CLOSED:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
      10: astore_3
      11: aload_0
      12: aload_0
      13: getfield      #11                 // Field socketWrapper:Lorg/apache/tomcat/util/net/SocketWrapperBase;
      16: aload_1
      17: invokevirtual #12                 // Method process:(Lorg/apache/tomcat/util/net/SocketWrapperBase;Lorg/apache/tomcat/util/net/SocketEvent;)Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
      20: astore_3
      21: aload_3
      22: getstatic     #13                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.LONG:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
      25: if_acmpne     45
      28: aload_0
      29: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
      32: invokevirtual #14                 // Method org/apache/coyote/http2/Http2UpgradeHandler.getProtocol:()Lorg/apache/coyote/http2/Http2Protocol;
      35: invokevirtual #15                 // Method org/apache/coyote/http2/Http2Protocol.getHttp11Protocol:()Lorg/apache/coyote/http11/AbstractHttp11Protocol;
      38: aload_0
      39: invokevirtual #16                 // Method org/apache/coyote/http11/AbstractHttp11Protocol.addWaitingProcessor:(Lorg/apache/coyote/Processor;)V
      42: goto          216
      45: aload_3
      46: getstatic     #10                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.CLOSED:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
      49: if_acmpne     216
      52: aload_0
      53: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
      56: invokevirtual #14                 // Method org/apache/coyote/http2/Http2UpgradeHandler.getProtocol:()Lorg/apache/coyote/http2/Http2Protocol;
      59: invokevirtual #15                 // Method org/apache/coyote/http2/Http2Protocol.getHttp11Protocol:()Lorg/apache/coyote/http11/AbstractHttp11Protocol;
      62: aload_0
      63: invokevirtual #17                 // Method org/apache/coyote/http11/AbstractHttp11Protocol.removeWaitingProcessor:(Lorg/apache/coyote/Processor;)V
      66: aload_0
      67: invokevirtual #18                 // Method getErrorState:()Lorg/apache/coyote/ErrorState;
      70: invokevirtual #19                 // Method org/apache/coyote/ErrorState.isConnectionIoAllowed:()Z
      73: ifne          132
      76: new           #20                 // class org/apache/coyote/http2/ConnectionException
      79: dup
      80: getstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      83: ldc           #22                 // String streamProcessor.error.connection
      85: iconst_2
      86: anewarray     #23                 // class java/lang/Object
      89: dup
      90: iconst_0
      91: aload_0
      92: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      95: invokevirtual #24                 // Method org/apache/coyote/http2/Stream.getConnectionId:()Ljava/lang/String;
      98: aastore
      99: dup
     100: iconst_1
     101: aload_0
     102: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     105: invokevirtual #25                 // Method org/apache/coyote/http2/Stream.getIdentifier:()Ljava/lang/Integer;
     108: aastore
     109: invokevirtual #26                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     112: getstatic     #27                 // Field org/apache/coyote/http2/Http2Error.INTERNAL_ERROR:Lorg/apache/coyote/http2/Http2Error;
     115: invokespecial #28                 // Method org/apache/coyote/http2/ConnectionException."<init>":(Ljava/lang/String;Lorg/apache/coyote/http2/Http2Error;)V
     118: astore        4
     120: aload_0
     121: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     124: aload         4
     126: invokevirtual #29                 // Method org/apache/coyote/http2/Stream.close:(Lorg/apache/coyote/http2/Http2Exception;)V
     129: goto          216
     132: aload_0
     133: invokevirtual #18                 // Method getErrorState:()Lorg/apache/coyote/ErrorState;
     136: invokevirtual #30                 // Method org/apache/coyote/ErrorState.isIoAllowed:()Z
     139: ifne          216
     142: aload_0
     143: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     146: invokevirtual #31                 // Method org/apache/coyote/http2/Stream.getResetException:()Lorg/apache/coyote/http2/StreamException;
     149: astore        4
     151: aload         4
     153: ifnonnull     207
     156: new           #32                 // class org/apache/coyote/http2/StreamException
     159: dup
     160: getstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     163: ldc           #33                 // String streamProcessor.error.stream
     165: iconst_2
     166: anewarray     #23                 // class java/lang/Object
     169: dup
     170: iconst_0
     171: aload_0
     172: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     175: invokevirtual #24                 // Method org/apache/coyote/http2/Stream.getConnectionId:()Ljava/lang/String;
     178: aastore
     179: dup
     180: iconst_1
     181: aload_0
     182: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     185: invokevirtual #25                 // Method org/apache/coyote/http2/Stream.getIdentifier:()Ljava/lang/Integer;
     188: aastore
     189: invokevirtual #26                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     192: getstatic     #27                 // Field org/apache/coyote/http2/Http2Error.INTERNAL_ERROR:Lorg/apache/coyote/http2/Http2Error;
     195: aload_0
     196: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     199: invokevirtual #34                 // Method org/apache/coyote/http2/Stream.getIdAsInt:()I
     202: invokespecial #35                 // Method org/apache/coyote/http2/StreamException."<init>":(Ljava/lang/String;Lorg/apache/coyote/http2/Http2Error;I)V
     205: astore        4
     207: aload_0
     208: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     211: aload         4
     213: invokevirtual #29                 // Method org/apache/coyote/http2/Stream.close:(Lorg/apache/coyote/http2/Http2Exception;)V
     216: invokestatic  #36                 // Method org/apache/coyote/ContainerThreadMarker.clear:()V
     219: goto          326
     222: astore        4
     224: getstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
     227: ldc           #22                 // String streamProcessor.error.connection
     229: iconst_2
     230: anewarray     #23                 // class java/lang/Object
     233: dup
     234: iconst_0
     235: aload_0
     236: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     239: invokevirtual #24                 // Method org/apache/coyote/http2/Stream.getConnectionId:()Ljava/lang/String;
     242: aastore
     243: dup
     244: iconst_1
     245: aload_0
     246: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     249: invokevirtual #25                 // Method org/apache/coyote/http2/Stream.getIdentifier:()Ljava/lang/Integer;
     252: aastore
     253: invokevirtual #26                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     256: astore        5
     258: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
     261: invokeinterface #39,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
     266: ifeq          281
     269: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
     272: aload         5
     274: aload         4
     276: invokeinterface #40,  3           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     281: new           #20                 // class org/apache/coyote/http2/ConnectionException
     284: dup
     285: aload         5
     287: getstatic     #27                 // Field org/apache/coyote/http2/Http2Error.INTERNAL_ERROR:Lorg/apache/coyote/http2/Http2Error;
     290: invokespecial #28                 // Method org/apache/coyote/http2/ConnectionException."<init>":(Ljava/lang/String;Lorg/apache/coyote/http2/Http2Error;)V
     293: astore        6
     295: aload         6
     297: aload         4
     299: invokevirtual #41                 // Method org/apache/coyote/http2/ConnectionException.initCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
     302: pop
     303: aload_0
     304: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
     307: aload         6
     309: invokevirtual #29                 // Method org/apache/coyote/http2/Stream.close:(Lorg/apache/coyote/http2/Http2Exception;)V
     312: invokestatic  #36                 // Method org/apache/coyote/ContainerThreadMarker.clear:()V
     315: goto          326
     318: astore        7
     320: invokestatic  #36                 // Method org/apache/coyote/ContainerThreadMarker.clear:()V
     323: aload         7
     325: athrow
     326: aload_2
     327: monitorexit
     328: goto          338
     331: astore        8
     333: aload_2
     334: monitorexit
     335: aload         8
     337: athrow
     338: aload_0
     339: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
     342: invokevirtual #42                 // Method org/apache/coyote/http2/Http2UpgradeHandler.executeQueuedStream:()V
     345: goto          360
     348: astore        9
     350: aload_0
     351: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
     354: invokevirtual #42                 // Method org/apache/coyote/http2/Http2UpgradeHandler.executeQueuedStream:()V
     357: aload         9
     359: athrow
     360: return
    Exception table:
       from    to  target type
          11   216   222   Class java/lang/Exception
          11   216   318   any
         222   312   318   any
         318   320   318   any
           4   328   331   any
         331   335   331   any
           0   338   348   any
         348   350   348   any

  protected final void prepareResponse() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #43                 // Field response:Lorg/apache/coyote/Response;
       4: iconst_1
       5: invokevirtual #44                 // Method org/apache/coyote/Response.setCommitted:(Z)V
       8: aload_0
       9: getfield      #45                 // Field request:Lorg/apache/coyote/Request;
      12: aload_0
      13: getfield      #43                 // Field response:Lorg/apache/coyote/Response;
      16: aload_0
      17: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
      20: invokevirtual #14                 // Method org/apache/coyote/http2/Http2UpgradeHandler.getProtocol:()Lorg/apache/coyote/http2/Http2Protocol;
      23: aload_0
      24: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      27: invokestatic  #46                 // Method prepareHeaders:(Lorg/apache/coyote/Request;Lorg/apache/coyote/Response;Lorg/apache/coyote/http2/Http2Protocol;Lorg/apache/coyote/http2/Stream;)V
      30: aload_0
      31: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      34: invokevirtual #47                 // Method org/apache/coyote/http2/Stream.writeHeaders:()V
      37: return

  static void prepareHeaders(org.apache.coyote.Request, org.apache.coyote.Response, org.apache.coyote.http2.Http2Protocol, org.apache.coyote.http2.Stream);
    Code:
       0: aload_1
       1: invokevirtual #48                 // Method org/apache/coyote/Response.getMimeHeaders:()Lorg/apache/tomcat/util/http/MimeHeaders;
       4: astore        4
       6: aload_1
       7: invokevirtual #49                 // Method org/apache/coyote/Response.getStatus:()I
      10: istore        5
      12: aload         4
      14: ldc           #50                 // String :status
      16: invokevirtual #51                 // Method org/apache/tomcat/util/http/MimeHeaders.addValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
      19: iload         5
      21: invokestatic  #52                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      24: invokevirtual #53                 // Method org/apache/tomcat/util/buf/MessageBytes.setString:(Ljava/lang/String;)V
      27: aload_2
      28: ifnull        51
      31: aload_2
      32: aload_0
      33: aload_1
      34: invokevirtual #54                 // Method org/apache/coyote/http2/Http2Protocol.useCompression:(Lorg/apache/coyote/Request;Lorg/apache/coyote/Response;)Z
      37: ifeq          51
      40: aload_3
      41: new           #55                 // class org/apache/coyote/http11/filters/GzipOutputFilter
      44: dup
      45: invokespecial #56                 // Method org/apache/coyote/http11/filters/GzipOutputFilter."<init>":()V
      48: invokevirtual #57                 // Method org/apache/coyote/http2/Stream.addOutputFilter:(Lorg/apache/coyote/http11/OutputFilter;)V
      51: iload         5
      53: sipush        200
      56: if_icmplt     169
      59: iload         5
      61: sipush        204
      64: if_icmpeq     169
      67: iload         5
      69: sipush        205
      72: if_icmpeq     169
      75: iload         5
      77: sipush        304
      80: if_icmpeq     169
      83: aload_1
      84: invokevirtual #58                 // Method org/apache/coyote/Response.getContentType:()Ljava/lang/String;
      87: astore        6
      89: aload         6
      91: ifnull        106
      94: aload         4
      96: ldc           #59                 // String content-type
      98: invokevirtual #60                 // Method org/apache/tomcat/util/http/MimeHeaders.setValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     101: aload         6
     103: invokevirtual #53                 // Method org/apache/tomcat/util/buf/MessageBytes.setString:(Ljava/lang/String;)V
     106: aload_1
     107: invokevirtual #61                 // Method org/apache/coyote/Response.getContentLanguage:()Ljava/lang/String;
     110: astore        7
     112: aload         7
     114: ifnull        129
     117: aload         4
     119: ldc           #62                 // String content-language
     121: invokevirtual #60                 // Method org/apache/tomcat/util/http/MimeHeaders.setValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     124: aload         7
     126: invokevirtual #53                 // Method org/apache/tomcat/util/buf/MessageBytes.setString:(Ljava/lang/String;)V
     129: aload_1
     130: invokevirtual #63                 // Method org/apache/coyote/Response.getContentLengthLong:()J
     133: lstore        8
     135: lload         8
     137: ldc2_w        #64                 // long -1l
     140: lcmp
     141: ifeq          166
     144: aload         4
     146: ldc           #66                 // String content-length
     148: invokevirtual #67                 // Method org/apache/tomcat/util/http/MimeHeaders.getValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     151: ifnonnull     166
     154: aload         4
     156: ldc           #66                 // String content-length
     158: invokevirtual #51                 // Method org/apache/tomcat/util/http/MimeHeaders.addValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     161: lload         8
     163: invokevirtual #68                 // Method org/apache/tomcat/util/buf/MessageBytes.setLong:(J)V
     166: goto          192
     169: iload         5
     171: sipush        205
     174: if_icmpne     185
     177: aload_1
     178: lconst_0
     179: invokevirtual #69                 // Method org/apache/coyote/Response.setContentLength:(J)V
     182: goto          192
     185: aload_1
     186: ldc2_w        #64                 // long -1l
     189: invokevirtual #69                 // Method org/apache/coyote/Response.setContentLength:(J)V
     192: iload         5
     194: sipush        200
     197: if_icmplt     223
     200: aload         4
     202: ldc           #70                 // String date
     204: invokevirtual #67                 // Method org/apache/tomcat/util/http/MimeHeaders.getValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     207: ifnonnull     223
     210: aload         4
     212: ldc           #70                 // String date
     214: invokevirtual #51                 // Method org/apache/tomcat/util/http/MimeHeaders.addValue:(Ljava/lang/String;)Lorg/apache/tomcat/util/buf/MessageBytes;
     217: invokestatic  #71                 // Method org/apache/tomcat/util/http/FastHttpDateFormat.getCurrentDate:()Ljava/lang/String;
     220: invokevirtual #53                 // Method org/apache/tomcat/util/buf/MessageBytes.setString:(Ljava/lang/String;)V
     223: return

  protected final void finishResponse() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #72                 // Method org/apache/coyote/http2/Stream.getOutputBuffer:()Lorg/apache/coyote/http11/HttpOutputBuffer;
       7: invokeinterface #73,  1           // InterfaceMethod org/apache/coyote/http11/HttpOutputBuffer.end:()V
      12: return

  protected final void ack();
    Code:
       0: aload_0
       1: getfield      #43                 // Field response:Lorg/apache/coyote/Response;
       4: invokevirtual #74                 // Method org/apache/coyote/Response.isCommitted:()Z
       7: ifne          39
      10: aload_0
      11: getfield      #45                 // Field request:Lorg/apache/coyote/Request;
      14: invokevirtual #75                 // Method org/apache/coyote/Request.hasExpectation:()Z
      17: ifeq          39
      20: aload_0
      21: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      24: invokevirtual #76                 // Method org/apache/coyote/http2/Stream.writeAck:()V
      27: goto          39
      30: astore_1
      31: aload_0
      32: getstatic     #78                 // Field org/apache/coyote/ErrorState.CLOSE_CONNECTION_NOW:Lorg/apache/coyote/ErrorState;
      35: aload_1
      36: invokevirtual #79                 // Method setErrorState:(Lorg/apache/coyote/ErrorState;Ljava/lang/Throwable;)V
      39: return
    Exception table:
       from    to  target type
          20    27    30   Class java/io/IOException

  protected final void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #72                 // Method org/apache/coyote/http2/Stream.getOutputBuffer:()Lorg/apache/coyote/http11/HttpOutputBuffer;
       7: invokeinterface #80,  1           // InterfaceMethod org/apache/coyote/http11/HttpOutputBuffer.flush:()V
      12: return

  protected final int available(boolean);
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #81                 // Method org/apache/coyote/http2/Stream.getInputBuffer:()Lorg/apache/coyote/http2/Stream$StreamInputBuffer;
       7: invokevirtual #82                 // Method org/apache/coyote/http2/Stream$StreamInputBuffer.available:()I
      10: ireturn

  protected final void setRequestBody(org.apache.tomcat.util.buf.ByteChunk);
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #81                 // Method org/apache/coyote/http2/Stream.getInputBuffer:()Lorg/apache/coyote/http2/Stream$StreamInputBuffer;
       7: aload_1
       8: invokevirtual #83                 // Method org/apache/coyote/http2/Stream$StreamInputBuffer.insertReplayedBody:(Lorg/apache/tomcat/util/buf/ByteChunk;)V
      11: aload_0
      12: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      15: invokevirtual #84                 // Method org/apache/coyote/http2/Stream.receivedEndOfStream:()V
      18: goto          22
      21: astore_2
      22: return
    Exception table:
       from    to  target type
          11    18    21   Class org/apache/coyote/http2/ConnectionException

  protected final void setSwallowResponse();
    Code:
       0: return

  protected final void disableSwallowRequest();
    Code:
       0: return

  protected void processSocketEvent(org.apache.tomcat.util.net.SocketEvent, boolean);
    Code:
       0: iload_2
       1: ifeq          16
       4: aload_0
       5: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
       8: aload_0
       9: aload_1
      10: invokevirtual #85                 // Method org/apache/coyote/http2/Http2UpgradeHandler.processStreamOnContainerThread:(Lorg/apache/coyote/http2/StreamProcessor;Lorg/apache/tomcat/util/net/SocketEvent;)V
      13: goto          21
      16: aload_0
      17: aload_1
      18: invokevirtual #86                 // Method process:(Lorg/apache/tomcat/util/net/SocketEvent;)V
      21: return

  protected final boolean isReadyForRead();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #81                 // Method org/apache/coyote/http2/Stream.getInputBuffer:()Lorg/apache/coyote/http2/Stream$StreamInputBuffer;
       7: invokevirtual #87                 // Method org/apache/coyote/http2/Stream$StreamInputBuffer.isReadyForRead:()Z
      10: ireturn

  protected final boolean isRequestBodyFullyRead();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #81                 // Method org/apache/coyote/http2/Stream.getInputBuffer:()Lorg/apache/coyote/http2/Stream$StreamInputBuffer;
       7: invokevirtual #88                 // Method org/apache/coyote/http2/Stream$StreamInputBuffer.isRequestBodyFullyRead:()Z
      10: ireturn

  protected final void registerReadInterest();
    Code:
       0: new           #89                 // class java/lang/UnsupportedOperationException
       3: dup
       4: invokespecial #90                 // Method java/lang/UnsupportedOperationException."<init>":()V
       7: athrow

  protected final boolean isReadyForWrite();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #91                 // Method org/apache/coyote/http2/Stream.isReadyForWrite:()Z
       7: ireturn

  protected final void executeDispatches();
    Code:
       0: aload_0
       1: invokevirtual #92                 // Method getIteratorAndClearDispatches:()Ljava/util/Iterator;
       4: astore_1
       5: aload_1
       6: ifnull        40
       9: aload_1
      10: invokeinterface #93,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          40
      18: aload_1
      19: invokeinterface #94,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      24: checkcast     #95                 // class org/apache/tomcat/util/net/DispatchType
      27: astore_2
      28: aload_0
      29: aload_2
      30: invokevirtual #96                 // Method org/apache/tomcat/util/net/DispatchType.getSocketStatus:()Lorg/apache/tomcat/util/net/SocketEvent;
      33: iconst_1
      34: invokevirtual #97                 // Method processSocketEvent:(Lorg/apache/tomcat/util/net/SocketEvent;Z)V
      37: goto          5
      40: return

  protected final boolean isPushSupported();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #98                 // Method org/apache/coyote/http2/Stream.isPushSupported:()Z
       7: ireturn

  protected final void doPush(org.apache.coyote.Request);
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: aload_1
       5: invokevirtual #99                 // Method org/apache/coyote/http2/Stream.push:(Lorg/apache/coyote/Request;)V
       8: goto          28
      11: astore_2
      12: aload_0
      13: getstatic     #78                 // Field org/apache/coyote/ErrorState.CLOSE_CONNECTION_NOW:Lorg/apache/coyote/ErrorState;
      16: aload_2
      17: invokevirtual #79                 // Method setErrorState:(Lorg/apache/coyote/ErrorState;Ljava/lang/Throwable;)V
      20: aload_0
      21: getfield      #43                 // Field response:Lorg/apache/coyote/Response;
      24: aload_2
      25: invokevirtual #100                // Method org/apache/coyote/Response.setErrorException:(Ljava/lang/Exception;)V
      28: return
    Exception table:
       from    to  target type
           0     8    11   Class java/io/IOException

  protected java.lang.Object getConnectionID();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #24                 // Method org/apache/coyote/http2/Stream.getConnectionId:()Ljava/lang/String;
       7: areturn

  protected java.lang.Object getStreamID();
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #25                 // Method org/apache/coyote/http2/Stream.getIdentifier:()Ljava/lang/Integer;
       7: invokevirtual #101                // Method java/lang/Integer.toString:()Ljava/lang/String;
      10: areturn

  public void recycle();
    Code:
       0: aload_0
       1: aconst_null
       2: invokevirtual #8                  // Method setSocketWrapper:(Lorg/apache/tomcat/util/net/SocketWrapperBase;)V
       5: aload_0
       6: aconst_null
       7: invokevirtual #7                  // Method setAdapter:(Lorg/apache/coyote/Adapter;)V
      10: return

  protected org.apache.juli.logging.Log getLog();
    Code:
       0: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
       3: areturn

  public void pause();
    Code:
       0: return

  public org.apache.tomcat.util.net.AbstractEndpoint$Handler$SocketState service(org.apache.tomcat.util.net.SocketWrapperBase<?>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #102                // Field adapter:Lorg/apache/coyote/Adapter;
       4: aload_0
       5: getfield      #45                 // Field request:Lorg/apache/coyote/Request;
       8: aload_0
       9: getfield      #43                 // Field response:Lorg/apache/coyote/Response;
      12: invokeinterface #103,  3          // InterfaceMethod org/apache/coyote/Adapter.service:(Lorg/apache/coyote/Request;Lorg/apache/coyote/Response;)V
      17: goto          67
      20: astore_2
      21: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
      24: invokeinterface #39,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
      29: ifeq          49
      32: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
      35: getstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      38: ldc           #104                // String streamProcessor.service.error
      40: invokevirtual #105                // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;)Ljava/lang/String;
      43: aload_2
      44: invokeinterface #40,  3           // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      49: aload_0
      50: getfield      #43                 // Field response:Lorg/apache/coyote/Response;
      53: sipush        500
      56: invokevirtual #106                // Method org/apache/coyote/Response.setStatus:(I)V
      59: aload_0
      60: getstatic     #107                // Field org/apache/coyote/ErrorState.CLOSE_NOW:Lorg/apache/coyote/ErrorState;
      63: aload_2
      64: invokevirtual #79                 // Method setErrorState:(Lorg/apache/coyote/ErrorState;Ljava/lang/Throwable;)V
      67: aload_0
      68: invokevirtual #108                // Method isAsync:()Z
      71: ifne          78
      74: aload_0
      75: invokespecial #109                // Method endRequest:()V
      78: aload_0
      79: invokevirtual #18                 // Method getErrorState:()Lorg/apache/coyote/ErrorState;
      82: invokevirtual #110                // Method org/apache/coyote/ErrorState.isError:()Z
      85: ifeq          107
      88: aload_0
      89: getstatic     #111                // Field org/apache/coyote/ActionCode.CLOSE:Lorg/apache/coyote/ActionCode;
      92: aconst_null
      93: invokevirtual #112                // Method action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
      96: aload_0
      97: getfield      #45                 // Field request:Lorg/apache/coyote/Request;
     100: invokevirtual #113                // Method org/apache/coyote/Request.updateCounters:()V
     103: getstatic     #10                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.CLOSED:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
     106: areturn
     107: aload_0
     108: invokevirtual #108                // Method isAsync:()Z
     111: ifeq          118
     114: getstatic     #13                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.LONG:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
     117: areturn
     118: aload_0
     119: getstatic     #111                // Field org/apache/coyote/ActionCode.CLOSE:Lorg/apache/coyote/ActionCode;
     122: aconst_null
     123: invokevirtual #112                // Method action:(Lorg/apache/coyote/ActionCode;Ljava/lang/Object;)V
     126: aload_0
     127: getfield      #45                 // Field request:Lorg/apache/coyote/Request;
     130: invokevirtual #113                // Method org/apache/coyote/Request.updateCounters:()V
     133: getstatic     #10                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.CLOSED:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
     136: areturn
    Exception table:
       from    to  target type
           0    17    20   Class java/lang/Exception

  protected boolean flushBufferedWrite() throws java.io.IOException;
    Code:
       0: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
       3: invokeinterface #39,  1           // InterfaceMethod org/apache/juli/logging/Log.isDebugEnabled:()Z
       8: ifeq          51
      11: getstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
      14: getstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      17: ldc           #114                // String streamProcessor.flushBufferedWrite.entry
      19: iconst_2
      20: anewarray     #23                 // class java/lang/Object
      23: dup
      24: iconst_0
      25: aload_0
      26: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      29: invokevirtual #24                 // Method org/apache/coyote/http2/Stream.getConnectionId:()Ljava/lang/String;
      32: aastore
      33: dup
      34: iconst_1
      35: aload_0
      36: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      39: invokevirtual #25                 // Method org/apache/coyote/http2/Stream.getIdentifier:()Ljava/lang/Integer;
      42: aastore
      43: invokevirtual #26                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      46: invokeinterface #115,  2          // InterfaceMethod org/apache/juli/logging/Log.debug:(Ljava/lang/Object;)V
      51: aload_0
      52: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      55: iconst_0
      56: invokevirtual #116                // Method org/apache/coyote/http2/Stream.flush:(Z)Z
      59: ifeq          82
      62: aload_0
      63: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      66: invokevirtual #91                 // Method org/apache/coyote/http2/Stream.isReadyForWrite:()Z
      69: ifeq          80
      72: new           #117                // class java/lang/IllegalStateException
      75: dup
      76: invokespecial #118                // Method java/lang/IllegalStateException."<init>":()V
      79: athrow
      80: iconst_1
      81: ireturn
      82: iconst_0
      83: ireturn

  protected final org.apache.tomcat.util.net.AbstractEndpoint$Handler$SocketState dispatchEndRequest() throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #109                // Method endRequest:()V
       4: getstatic     #10                 // Field org/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState.CLOSED:Lorg/apache/tomcat/util/net/AbstractEndpoint$Handler$SocketState;
       7: areturn

  private void endRequest() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
       4: invokevirtual #119                // Method org/apache/coyote/http2/Stream.isInputFinished:()Z
       7: ifne          78
      10: aload_0
      11: invokevirtual #18                 // Method getErrorState:()Lorg/apache/coyote/ErrorState;
      14: invokevirtual #30                 // Method org/apache/coyote/ErrorState.isIoAllowed:()Z
      17: ifeq          78
      20: new           #32                 // class org/apache/coyote/http2/StreamException
      23: dup
      24: getstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      27: ldc           #120                // String streamProcessor.cancel
      29: iconst_2
      30: anewarray     #23                 // class java/lang/Object
      33: dup
      34: iconst_0
      35: aload_0
      36: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      39: invokevirtual #24                 // Method org/apache/coyote/http2/Stream.getConnectionId:()Ljava/lang/String;
      42: aastore
      43: dup
      44: iconst_1
      45: aload_0
      46: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      49: invokevirtual #25                 // Method org/apache/coyote/http2/Stream.getIdentifier:()Ljava/lang/Integer;
      52: aastore
      53: invokevirtual #26                 // Method org/apache/tomcat/util/res/StringManager.getString:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      56: getstatic     #121                // Field org/apache/coyote/http2/Http2Error.CANCEL:Lorg/apache/coyote/http2/Http2Error;
      59: aload_0
      60: getfield      #6                  // Field stream:Lorg/apache/coyote/http2/Stream;
      63: invokevirtual #34                 // Method org/apache/coyote/http2/Stream.getIdAsInt:()I
      66: invokespecial #35                 // Method org/apache/coyote/http2/StreamException."<init>":(Ljava/lang/String;Lorg/apache/coyote/http2/Http2Error;I)V
      69: astore_1
      70: aload_0
      71: getfield      #5                  // Field handler:Lorg/apache/coyote/http2/Http2UpgradeHandler;
      74: aload_1
      75: invokevirtual #122                // Method org/apache/coyote/http2/Http2UpgradeHandler.sendStreamReset:(Lorg/apache/coyote/http2/StreamException;)V
      78: return

  static {};
    Code:
       0: ldc_w         #123                // class org/apache/coyote/http2/StreamProcessor
       3: invokestatic  #124                // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       6: putstatic     #38                 // Field log:Lorg/apache/juli/logging/Log;
       9: ldc_w         #123                // class org/apache/coyote/http2/StreamProcessor
      12: invokestatic  #125                // Method org/apache/tomcat/util/res/StringManager.getManager:(Ljava/lang/Class;)Lorg/apache/tomcat/util/res/StringManager;
      15: putstatic     #21                 // Field sm:Lorg/apache/tomcat/util/res/StringManager;
      18: return
}
