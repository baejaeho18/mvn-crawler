Compiled from "JoinBatch.java"
abstract class org.h2.table.JoinBatch$ViewIndexLookupBatchBase<R extends org.h2.table.JoinBatch$QueryRunnerBase> implements org.h2.index.IndexLookupBatch {
  protected final org.h2.index.ViewIndex viewIndex;

  private final java.util.ArrayList<java.util.concurrent.Future<org.h2.index.Cursor>> result;

  private int resultSize;

  private boolean findCalled;

  protected org.h2.table.JoinBatch$ViewIndexLookupBatchBase(org.h2.index.ViewIndex);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #2                  // Method org/h2/util/New.arrayList:()Ljava/util/ArrayList;
       8: putfield      #3                  // Field result:Ljava/util/ArrayList;
      11: aload_0
      12: aload_1
      13: putfield      #4                  // Field viewIndex:Lorg/h2/index/ViewIndex;
      16: return

  public java.lang.String getPlanSQL();
    Code:
       0: ldc           #5                  // String view
       2: areturn

  protected abstract boolean collectSearchRows(R);

  protected abstract R newQueryRunner();

  protected abstract void startQueryRunners(int);

  protected final boolean resetAfterFind();
    Code:
       0: aload_0
       1: getfield      #6                  // Field findCalled:Z
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_0
      10: iconst_0
      11: putfield      #6                  // Field findCalled:Z
      14: iconst_0
      15: istore_1
      16: iload_1
      17: aload_0
      18: getfield      #7                  // Field resultSize:I
      21: if_icmpge     39
      24: aload_0
      25: iload_1
      26: invokevirtual #8                  // Method queryRunner:(I)Lorg/h2/table/JoinBatch$QueryRunnerBase;
      29: invokevirtual #9                  // Method org/h2/table/JoinBatch$QueryRunnerBase.reset:()Z
      32: pop
      33: iinc          1, 1
      36: goto          16
      39: aload_0
      40: iconst_0
      41: putfield      #7                  // Field resultSize:I
      44: iconst_1
      45: ireturn

  protected R queryRunner(int);
    Code:
       0: aload_0
       1: getfield      #3                  // Field result:Ljava/util/ArrayList;
       4: iload_1
       5: invokevirtual #10                 // Method java/util/ArrayList.get:(I)Ljava/lang/Object;
       8: checkcast     #11                 // class org/h2/table/JoinBatch$QueryRunnerBase
      11: areturn

  public final boolean addSearchRows(org.h2.result.SearchRow, org.h2.result.SearchRow);
    Code:
       0: aload_0
       1: invokevirtual #12                 // Method resetAfterFind:()Z
       4: pop
       5: aload_0
       6: getfield      #4                  // Field viewIndex:Lorg/h2/index/ViewIndex;
       9: aload_0
      10: getfield      #4                  // Field viewIndex:Lorg/h2/index/ViewIndex;
      13: invokevirtual #13                 // Method org/h2/index/ViewIndex.getSession:()Lorg/h2/engine/Session;
      16: aload_1
      17: aload_2
      18: aconst_null
      19: invokevirtual #14                 // Method org/h2/index/ViewIndex.setupQueryParameters:(Lorg/h2/engine/Session;Lorg/h2/result/SearchRow;Lorg/h2/result/SearchRow;Lorg/h2/result/SearchRow;)V
      22: aload_0
      23: getfield      #7                  // Field resultSize:I
      26: aload_0
      27: getfield      #3                  // Field result:Ljava/util/ArrayList;
      30: invokevirtual #15                 // Method java/util/ArrayList.size:()I
      33: if_icmpge     48
      36: aload_0
      37: aload_0
      38: getfield      #7                  // Field resultSize:I
      41: invokevirtual #8                  // Method queryRunner:(I)Lorg/h2/table/JoinBatch$QueryRunnerBase;
      44: astore_3
      45: goto          62
      48: aload_0
      49: getfield      #3                  // Field result:Ljava/util/ArrayList;
      52: aload_0
      53: invokevirtual #16                 // Method newQueryRunner:()Lorg/h2/table/JoinBatch$QueryRunnerBase;
      56: dup
      57: astore_3
      58: invokevirtual #17                 // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      61: pop
      62: aload_3
      63: aload_1
      64: putfield      #18                 // Field org/h2/table/JoinBatch$QueryRunnerBase.first:Lorg/h2/result/SearchRow;
      67: aload_3
      68: aload_2
      69: putfield      #19                 // Field org/h2/table/JoinBatch$QueryRunnerBase.last:Lorg/h2/result/SearchRow;
      72: aload_0
      73: aload_3
      74: invokevirtual #20                 // Method collectSearchRows:(Lorg/h2/table/JoinBatch$QueryRunnerBase;)Z
      77: ifne          86
      80: aload_3
      81: invokevirtual #21                 // Method org/h2/table/JoinBatch$QueryRunnerBase.clear:()V
      84: iconst_0
      85: ireturn
      86: aload_0
      87: dup
      88: getfield      #7                  // Field resultSize:I
      91: iconst_1
      92: iadd
      93: putfield      #7                  // Field resultSize:I
      96: iconst_1
      97: ireturn

  public void reset(boolean);
    Code:
       0: aload_0
       1: getfield      #7                  // Field resultSize:I
       4: ifeq          43
       7: aload_0
       8: invokevirtual #12                 // Method resetAfterFind:()Z
      11: ifne          43
      14: iconst_0
      15: istore_2
      16: iload_2
      17: aload_0
      18: getfield      #7                  // Field resultSize:I
      21: if_icmpge     38
      24: aload_0
      25: iload_2
      26: invokevirtual #8                  // Method queryRunner:(I)Lorg/h2/table/JoinBatch$QueryRunnerBase;
      29: invokevirtual #21                 // Method org/h2/table/JoinBatch$QueryRunnerBase.clear:()V
      32: iinc          2, 1
      35: goto          16
      38: aload_0
      39: iconst_0
      40: putfield      #7                  // Field resultSize:I
      43: return

  public final java.util.List<java.util.concurrent.Future<org.h2.index.Cursor>> find();
    Code:
       0: aload_0
       1: getfield      #7                  // Field resultSize:I
       4: ifne          11
       7: invokestatic  #22                 // Method java/util/Collections.emptyList:()Ljava/util/List;
      10: areturn
      11: aload_0
      12: iconst_1
      13: putfield      #6                  // Field findCalled:Z
      16: aload_0
      17: aload_0
      18: getfield      #7                  // Field resultSize:I
      21: invokevirtual #23                 // Method startQueryRunners:(I)V
      24: aload_0
      25: getfield      #7                  // Field resultSize:I
      28: aload_0
      29: getfield      #3                  // Field result:Ljava/util/ArrayList;
      32: invokevirtual #15                 // Method java/util/ArrayList.size:()I
      35: if_icmpne     45
      38: aload_0
      39: getfield      #3                  // Field result:Ljava/util/ArrayList;
      42: goto          57
      45: aload_0
      46: getfield      #3                  // Field result:Ljava/util/ArrayList;
      49: iconst_0
      50: aload_0
      51: getfield      #7                  // Field resultSize:I
      54: invokevirtual #24                 // Method java/util/ArrayList.subList:(II)Ljava/util/List;
      57: areturn
}
