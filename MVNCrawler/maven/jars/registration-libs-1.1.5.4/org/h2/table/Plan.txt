Compiled from "Plan.java"
public class org.h2.table.Plan {
  private final org.h2.table.TableFilter[] filters;

  private final java.util.HashMap<org.h2.table.TableFilter, org.h2.table.PlanItem> planItems;

  private final org.h2.expression.Expression[] allConditions;

  private final org.h2.table.TableFilter[] allFilters;

  public org.h2.table.Plan(org.h2.table.TableFilter[], int, org.h2.expression.Expression);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/HashMap
       8: dup
       9: invokespecial #3                  // Method java/util/HashMap."<init>":()V
      12: putfield      #4                  // Field planItems:Ljava/util/HashMap;
      15: aload_0
      16: iload_2
      17: anewarray     #5                  // class org/h2/table/TableFilter
      20: putfield      #6                  // Field filters:[Lorg/h2/table/TableFilter;
      23: aload_1
      24: iconst_0
      25: aload_0
      26: getfield      #6                  // Field filters:[Lorg/h2/table/TableFilter;
      29: iconst_0
      30: iload_2
      31: invokestatic  #7                  // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      34: invokestatic  #8                  // Method org/h2/util/New.arrayList:()Ljava/util/ArrayList;
      37: astore        4
      39: invokestatic  #8                  // Method org/h2/util/New.arrayList:()Ljava/util/ArrayList;
      42: astore        5
      44: aload_3
      45: ifnull        55
      48: aload         4
      50: aload_3
      51: invokevirtual #9                  // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      54: pop
      55: iconst_0
      56: istore        6
      58: iload         6
      60: iload_2
      61: if_icmpge     93
      64: aload_1
      65: iload         6
      67: aaload
      68: astore        7
      70: aload         7
      72: new           #10                 // class org/h2/table/Plan$1
      75: dup
      76: aload_0
      77: aload         5
      79: aload         4
      81: invokespecial #11                 // Method org/h2/table/Plan$1."<init>":(Lorg/h2/table/Plan;Ljava/util/ArrayList;Ljava/util/ArrayList;)V
      84: invokevirtual #12                 // Method org/h2/table/TableFilter.visit:(Lorg/h2/table/TableFilter$TableFilterVisitor;)V
      87: iinc          6, 1
      90: goto          58
      93: aload_0
      94: aload         4
      96: iconst_0
      97: anewarray     #13                 // class org/h2/expression/Expression
     100: invokevirtual #14                 // Method java/util/ArrayList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     103: checkcast     #15                 // class "[Lorg/h2/expression/Expression;"
     106: putfield      #16                 // Field allConditions:[Lorg/h2/expression/Expression;
     109: aload_0
     110: aload         5
     112: iconst_0
     113: anewarray     #5                  // class org/h2/table/TableFilter
     116: invokevirtual #14                 // Method java/util/ArrayList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     119: checkcast     #17                 // class "[Lorg/h2/table/TableFilter;"
     122: putfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
     125: return

  public org.h2.table.PlanItem getItem(org.h2.table.TableFilter);
    Code:
       0: aload_0
       1: getfield      #4                  // Field planItems:Ljava/util/HashMap;
       4: aload_1
       5: invokevirtual #19                 // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #20                 // class org/h2/table/PlanItem
      11: areturn

  public org.h2.table.TableFilter[] getFilters();
    Code:
       0: aload_0
       1: getfield      #6                  // Field filters:[Lorg/h2/table/TableFilter;
       4: areturn

  public void removeUnusableIndexConditions();
    Code:
       0: iconst_0
       1: istore_1
       2: iload_1
       3: aload_0
       4: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
       7: arraylength
       8: if_icmpge     66
      11: aload_0
      12: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      15: iload_1
      16: aaload
      17: astore_2
      18: aload_0
      19: aload_2
      20: iconst_1
      21: invokespecial #21                 // Method setEvaluatable:(Lorg/h2/table/TableFilter;Z)V
      24: iload_1
      25: aload_0
      26: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      29: arraylength
      30: iconst_1
      31: isub
      32: if_icmplt     51
      35: aload_2
      36: invokevirtual #22                 // Method org/h2/table/TableFilter.getSession:()Lorg/h2/engine/Session;
      39: invokevirtual #23                 // Method org/h2/engine/Session.getDatabase:()Lorg/h2/engine/Database;
      42: invokevirtual #24                 // Method org/h2/engine/Database.getSettings:()Lorg/h2/engine/DbSettings;
      45: getfield      #25                 // Field org/h2/engine/DbSettings.earlyFilter:Z
      48: ifeq          56
      51: aload_2
      52: iconst_0
      53: invokevirtual #26                 // Method org/h2/table/TableFilter.optimizeFullCondition:(Z)V
      56: aload_2
      57: invokevirtual #27                 // Method org/h2/table/TableFilter.removeUnusableIndexConditions:()V
      60: iinc          1, 1
      63: goto          2
      66: aload_0
      67: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      70: astore_1
      71: aload_1
      72: arraylength
      73: istore_2
      74: iconst_0
      75: istore_3
      76: iload_3
      77: iload_2
      78: if_icmpge     99
      81: aload_1
      82: iload_3
      83: aaload
      84: astore        4
      86: aload_0
      87: aload         4
      89: iconst_0
      90: invokespecial #21                 // Method setEvaluatable:(Lorg/h2/table/TableFilter;Z)V
      93: iinc          3, 1
      96: goto          76
      99: return

  public double calculateCost(org.h2.engine.Session);
    Code:
       0: aload_1
       1: invokevirtual #28                 // Method org/h2/engine/Session.getTrace:()Lorg/h2/message/Trace;
       4: astore_2
       5: aload_2
       6: invokevirtual #29                 // Method org/h2/message/Trace.isDebugEnabled:()Z
       9: ifeq          32
      12: aload_2
      13: ldc           #30                 // String Plan       : calculate cost for plan {0}
      15: iconst_1
      16: anewarray     #31                 // class java/lang/Object
      19: dup
      20: iconst_0
      21: aload_0
      22: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      25: invokestatic  #32                 // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      28: aastore
      29: invokevirtual #33                 // Method org/h2/message/Trace.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      32: dconst_1
      33: dstore_3
      34: iconst_0
      35: istore        5
      37: aload_0
      38: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      41: invokestatic  #34                 // Method org/h2/expression/ExpressionVisitor.allColumnsForTableFilters:([Lorg/h2/table/TableFilter;)Ljava/util/HashSet;
      44: astore        6
      46: iconst_0
      47: istore        7
      49: iload         7
      51: aload_0
      52: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      55: arraylength
      56: if_icmpge     211
      59: aload_0
      60: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      63: iload         7
      65: aaload
      66: astore        8
      68: aload_2
      69: invokevirtual #29                 // Method org/h2/message/Trace.isDebugEnabled:()Z
      72: ifeq          90
      75: aload_2
      76: ldc           #35                 // String Plan       :   for table filter {0}
      78: iconst_1
      79: anewarray     #31                 // class java/lang/Object
      82: dup
      83: iconst_0
      84: aload         8
      86: aastore
      87: invokevirtual #33                 // Method org/h2/message/Trace.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      90: aload         8
      92: aload_1
      93: aload_0
      94: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
      97: iload         7
      99: aload         6
     101: invokevirtual #36                 // Method org/h2/table/TableFilter.getBestPlanItem:(Lorg/h2/engine/Session;[Lorg/h2/table/TableFilter;ILjava/util/HashSet;)Lorg/h2/table/PlanItem;
     104: astore        9
     106: aload_0
     107: getfield      #4                  // Field planItems:Ljava/util/HashMap;
     110: aload         8
     112: aload         9
     114: invokevirtual #37                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     117: pop
     118: aload_2
     119: invokevirtual #29                 // Method org/h2/message/Trace.isDebugEnabled:()Z
     122: ifeq          159
     125: aload_2
     126: ldc           #38                 // String Plan       :   best plan item cost {0} index {1}
     128: iconst_2
     129: anewarray     #31                 // class java/lang/Object
     132: dup
     133: iconst_0
     134: aload         9
     136: getfield      #39                 // Field org/h2/table/PlanItem.cost:D
     139: invokestatic  #40                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     142: aastore
     143: dup
     144: iconst_1
     145: aload         9
     147: invokevirtual #41                 // Method org/h2/table/PlanItem.getIndex:()Lorg/h2/index/Index;
     150: invokeinterface #42,  1           // InterfaceMethod org/h2/index/Index.getPlanSQL:()Ljava/lang/String;
     155: aastore
     156: invokevirtual #33                 // Method org/h2/message/Trace.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     159: dload_3
     160: dload_3
     161: aload         9
     163: getfield      #39                 // Field org/h2/table/PlanItem.cost:D
     166: dmul
     167: dadd
     168: dstore_3
     169: aload_0
     170: aload         8
     172: iconst_1
     173: invokespecial #21                 // Method setEvaluatable:(Lorg/h2/table/TableFilter;Z)V
     176: aload         8
     178: invokevirtual #43                 // Method org/h2/table/TableFilter.getJoinCondition:()Lorg/h2/expression/Expression;
     181: astore        10
     183: aload         10
     185: ifnull        205
     188: aload         10
     190: getstatic     #44                 // Field org/h2/expression/ExpressionVisitor.EVALUATABLE_VISITOR:Lorg/h2/expression/ExpressionVisitor;
     193: invokevirtual #45                 // Method org/h2/expression/Expression.isEverything:(Lorg/h2/expression/ExpressionVisitor;)Z
     196: ifne          205
     199: iconst_1
     200: istore        5
     202: goto          211
     205: iinc          7, 1
     208: goto          49
     211: iload         5
     213: ifeq          220
     216: ldc2_w        #46                 // double Infinityd
     219: dstore_3
     220: aload_2
     221: invokevirtual #29                 // Method org/h2/message/Trace.isDebugEnabled:()Z
     224: ifeq          247
     227: aload_1
     228: invokevirtual #28                 // Method org/h2/engine/Session.getTrace:()Lorg/h2/message/Trace;
     231: ldc           #48                 // String Plan       : plan cost {0}
     233: iconst_1
     234: anewarray     #31                 // class java/lang/Object
     237: dup
     238: iconst_0
     239: dload_3
     240: invokestatic  #40                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     243: aastore
     244: invokevirtual #33                 // Method org/h2/message/Trace.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     247: aload_0
     248: getfield      #18                 // Field allFilters:[Lorg/h2/table/TableFilter;
     251: astore        7
     253: aload         7
     255: arraylength
     256: istore        8
     258: iconst_0
     259: istore        9
     261: iload         9
     263: iload         8
     265: if_icmpge     288
     268: aload         7
     270: iload         9
     272: aaload
     273: astore        10
     275: aload_0
     276: aload         10
     278: iconst_0
     279: invokespecial #21                 // Method setEvaluatable:(Lorg/h2/table/TableFilter;Z)V
     282: iinc          9, 1
     285: goto          261
     288: dload_3
     289: dreturn

  private void setEvaluatable(org.h2.table.TableFilter, boolean);
    Code:
       0: aload_1
       1: aload_1
       2: iload_2
       3: invokevirtual #49                 // Method org/h2/table/TableFilter.setEvaluatable:(Lorg/h2/table/TableFilter;Z)V
       6: aload_0
       7: getfield      #16                 // Field allConditions:[Lorg/h2/expression/Expression;
      10: astore_3
      11: aload_3
      12: arraylength
      13: istore        4
      15: iconst_0
      16: istore        5
      18: iload         5
      20: iload         4
      22: if_icmpge     44
      25: aload_3
      26: iload         5
      28: aaload
      29: astore        6
      31: aload         6
      33: aload_1
      34: iload_2
      35: invokevirtual #50                 // Method org/h2/expression/Expression.setEvaluatable:(Lorg/h2/table/TableFilter;Z)V
      38: iinc          5, 1
      41: goto          18
      44: return
}
