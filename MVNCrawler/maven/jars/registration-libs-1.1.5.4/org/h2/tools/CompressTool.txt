Compiled from "CompressTool.java"
public class org.h2.tools.CompressTool {
  private static final int MAX_BUFFER_SIZE;

  private byte[] cachedBuffer;

  private org.h2.tools.CompressTool();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  private byte[] getBuffer(int);
    Code:
       0: iload_1
       1: ldc           #2                  // int 393216
       3: if_icmple     11
       6: iload_1
       7: invokestatic  #3                  // Method org/h2/util/Utils.newBytes:(I)[B
      10: areturn
      11: aload_0
      12: getfield      #4                  // Field cachedBuffer:[B
      15: ifnull        27
      18: aload_0
      19: getfield      #4                  // Field cachedBuffer:[B
      22: arraylength
      23: iload_1
      24: if_icmpge     35
      27: aload_0
      28: iload_1
      29: invokestatic  #3                  // Method org/h2/util/Utils.newBytes:(I)[B
      32: putfield      #4                  // Field cachedBuffer:[B
      35: aload_0
      36: getfield      #4                  // Field cachedBuffer:[B
      39: areturn

  public static org.h2.tools.CompressTool getInstance();
    Code:
       0: new           #5                  // class org/h2/tools/CompressTool
       3: dup
       4: invokespecial #6                  // Method "<init>":()V
       7: areturn

  public byte[] compress(byte[], java.lang.String);
    Code:
       0: aload_1
       1: arraylength
       2: istore_3
       3: aload_1
       4: arraylength
       5: iconst_5
       6: if_icmpge     12
       9: ldc           #7                  // String NO
      11: astore_2
      12: aload_2
      13: invokestatic  #8                  // Method getCompressor:(Ljava/lang/String;)Lorg/h2/compress/Compressor;
      16: astore        4
      18: aload_0
      19: iload_3
      20: bipush        100
      22: if_icmpge     32
      25: iload_3
      26: bipush        100
      28: iadd
      29: goto          33
      32: iload_3
      33: iconst_2
      34: imul
      35: invokespecial #9                  // Method getBuffer:(I)[B
      38: astore        5
      40: aload_1
      41: aload_1
      42: arraylength
      43: aload         4
      45: aload         5
      47: invokestatic  #10                 // Method compress:([BILorg/h2/compress/Compressor;[B)I
      50: istore        6
      52: aload         5
      54: iload         6
      56: invokestatic  #11                 // Method org/h2/util/Utils.copyBytes:([BI)[B
      59: areturn

  private static int compress(byte[], int, org.h2.compress.Compressor, byte[]);
    Code:
       0: iconst_0
       1: istore        4
       3: aload_3
       4: iconst_0
       5: aload_2
       6: invokeinterface #12,  1           // InterfaceMethod org/h2/compress/Compressor.getAlgorithm:()I
      11: i2b
      12: bastore
      13: iconst_1
      14: aload_3
      15: iconst_1
      16: iload_1
      17: invokestatic  #13                 // Method writeVariableInt:([BII)I
      20: iadd
      21: istore        5
      23: aload_2
      24: aload_0
      25: iload_1
      26: aload_3
      27: iload         5
      29: invokeinterface #14,  5           // InterfaceMethod org/h2/compress/Compressor.compress:([BI[BI)I
      34: istore        4
      36: iload         4
      38: iload_1
      39: iload         5
      41: iadd
      42: if_icmpgt     50
      45: iload         4
      47: ifgt          69
      50: aload_3
      51: iconst_0
      52: iconst_0
      53: bastore
      54: aload_0
      55: iconst_0
      56: aload_3
      57: iload         5
      59: iload_1
      60: invokestatic  #15                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      63: iload_1
      64: iload         5
      66: iadd
      67: istore        4
      69: iload         4
      71: ireturn

  public byte[] expand(byte[]);
    Code:
       0: aload_1
       1: iconst_0
       2: baload
       3: istore_2
       4: iload_2
       5: invokestatic  #16                 // Method getCompressor:(I)Lorg/h2/compress/Compressor;
       8: astore_3
       9: aload_1
      10: iconst_1
      11: invokestatic  #17                 // Method readVariableInt:([BI)I
      14: istore        4
      16: iconst_1
      17: iload         4
      19: invokestatic  #18                 // Method getVariableIntLength:(I)I
      22: iadd
      23: istore        5
      25: iload         4
      27: invokestatic  #3                  // Method org/h2/util/Utils.newBytes:(I)[B
      30: astore        6
      32: aload_3
      33: aload_1
      34: iload         5
      36: aload_1
      37: arraylength
      38: iload         5
      40: isub
      41: aload         6
      43: iconst_0
      44: iload         4
      46: invokeinterface #19,  7           // InterfaceMethod org/h2/compress/Compressor.expand:([BII[BII)V
      51: aload         6
      53: areturn
      54: astore        4
      56: ldc           #21                 // int 90104
      58: aload         4
      60: iconst_0
      61: anewarray     #22                 // class java/lang/String
      64: invokestatic  #23                 // Method org/h2/message/DbException.get:(ILjava/lang/Throwable;[Ljava/lang/String;)Lorg/h2/message/DbException;
      67: athrow
    Exception table:
       from    to  target type
           9    53    54   Class java/lang/Exception

  public static void expand(byte[], byte[], int);
    Code:
       0: aload_0
       1: iconst_0
       2: baload
       3: istore_3
       4: iload_3
       5: invokestatic  #16                 // Method getCompressor:(I)Lorg/h2/compress/Compressor;
       8: astore        4
      10: aload_0
      11: iconst_1
      12: invokestatic  #17                 // Method readVariableInt:([BI)I
      15: istore        5
      17: iconst_1
      18: iload         5
      20: invokestatic  #18                 // Method getVariableIntLength:(I)I
      23: iadd
      24: istore        6
      26: aload         4
      28: aload_0
      29: iload         6
      31: aload_0
      32: arraylength
      33: iload         6
      35: isub
      36: aload_1
      37: iload_2
      38: iload         5
      40: invokeinterface #19,  7           // InterfaceMethod org/h2/compress/Compressor.expand:([BII[BII)V
      45: goto          62
      48: astore        5
      50: ldc           #21                 // int 90104
      52: aload         5
      54: iconst_0
      55: anewarray     #22                 // class java/lang/String
      58: invokestatic  #23                 // Method org/h2/message/DbException.get:(ILjava/lang/Throwable;[Ljava/lang/String;)Lorg/h2/message/DbException;
      61: athrow
      62: return
    Exception table:
       from    to  target type
          10    45    48   Class java/lang/Exception

  public static int readVariableInt(byte[], int);
    Code:
       0: aload_0
       1: iload_1
       2: iinc          1, 1
       5: baload
       6: sipush        255
       9: iand
      10: istore_2
      11: iload_2
      12: sipush        128
      15: if_icmpge     20
      18: iload_2
      19: ireturn
      20: iload_2
      21: sipush        192
      24: if_icmpge     43
      27: iload_2
      28: bipush        63
      30: iand
      31: bipush        8
      33: ishl
      34: aload_0
      35: iload_1
      36: baload
      37: sipush        255
      40: iand
      41: iadd
      42: ireturn
      43: iload_2
      44: sipush        224
      47: if_icmpge     80
      50: iload_2
      51: bipush        31
      53: iand
      54: bipush        16
      56: ishl
      57: aload_0
      58: iload_1
      59: iinc          1, 1
      62: baload
      63: sipush        255
      66: iand
      67: bipush        8
      69: ishl
      70: iadd
      71: aload_0
      72: iload_1
      73: baload
      74: sipush        255
      77: iand
      78: iadd
      79: ireturn
      80: iload_2
      81: sipush        240
      84: if_icmpge     131
      87: iload_2
      88: bipush        15
      90: iand
      91: bipush        24
      93: ishl
      94: aload_0
      95: iload_1
      96: iinc          1, 1
      99: baload
     100: sipush        255
     103: iand
     104: bipush        16
     106: ishl
     107: iadd
     108: aload_0
     109: iload_1
     110: iinc          1, 1
     113: baload
     114: sipush        255
     117: iand
     118: bipush        8
     120: ishl
     121: iadd
     122: aload_0
     123: iload_1
     124: baload
     125: sipush        255
     128: iand
     129: iadd
     130: ireturn
     131: aload_0
     132: iload_1
     133: invokestatic  #24                 // Method org/h2/util/Bits.readInt:([BI)I
     136: ireturn

  public static int writeVariableInt(byte[], int, int);
    Code:
       0: iload_2
       1: ifge          20
       4: aload_0
       5: iload_1
       6: iinc          1, 1
       9: bipush        -16
      11: bastore
      12: aload_0
      13: iload_1
      14: iload_2
      15: invokestatic  #25                 // Method org/h2/util/Bits.writeInt:([BII)V
      18: iconst_5
      19: ireturn
      20: iload_2
      21: sipush        128
      24: if_icmpge     34
      27: aload_0
      28: iload_1
      29: iload_2
      30: i2b
      31: bastore
      32: iconst_1
      33: ireturn
      34: iload_2
      35: sipush        16384
      38: if_icmpge     63
      41: aload_0
      42: iload_1
      43: iinc          1, 1
      46: sipush        128
      49: iload_2
      50: bipush        8
      52: ishr
      53: ior
      54: i2b
      55: bastore
      56: aload_0
      57: iload_1
      58: iload_2
      59: i2b
      60: bastore
      61: iconst_2
      62: ireturn
      63: iload_2
      64: ldc           #26                 // int 2097152
      66: if_icmpge     102
      69: aload_0
      70: iload_1
      71: iinc          1, 1
      74: sipush        192
      77: iload_2
      78: bipush        16
      80: ishr
      81: ior
      82: i2b
      83: bastore
      84: aload_0
      85: iload_1
      86: iinc          1, 1
      89: iload_2
      90: bipush        8
      92: ishr
      93: i2b
      94: bastore
      95: aload_0
      96: iload_1
      97: iload_2
      98: i2b
      99: bastore
     100: iconst_3
     101: ireturn
     102: iload_2
     103: ldc           #27                 // int 268435456
     105: if_icmpge     119
     108: aload_0
     109: iload_1
     110: iload_2
     111: ldc           #28                 // int -536870912
     113: ior
     114: invokestatic  #25                 // Method org/h2/util/Bits.writeInt:([BII)V
     117: iconst_4
     118: ireturn
     119: aload_0
     120: iload_1
     121: iinc          1, 1
     124: bipush        -16
     126: bastore
     127: aload_0
     128: iload_1
     129: iload_2
     130: invokestatic  #25                 // Method org/h2/util/Bits.writeInt:([BII)V
     133: iconst_5
     134: ireturn

  public static int getVariableIntLength(int);
    Code:
       0: iload_0
       1: ifge          6
       4: iconst_5
       5: ireturn
       6: iload_0
       7: sipush        128
      10: if_icmpge     15
      13: iconst_1
      14: ireturn
      15: iload_0
      16: sipush        16384
      19: if_icmpge     24
      22: iconst_2
      23: ireturn
      24: iload_0
      25: ldc           #26                 // int 2097152
      27: if_icmpge     32
      30: iconst_3
      31: ireturn
      32: iload_0
      33: ldc           #27                 // int 268435456
      35: if_icmpge     40
      38: iconst_4
      39: ireturn
      40: iconst_5
      41: ireturn

  private static org.h2.compress.Compressor getCompressor(java.lang.String);
    Code:
       0: aload_0
       1: ifnonnull     7
       4: ldc           #29                 // String LZF
       6: astore_0
       7: aload_0
       8: bipush        32
      10: invokevirtual #30                 // Method java/lang/String.indexOf:(I)I
      13: istore_1
      14: aconst_null
      15: astore_2
      16: iload_1
      17: ifle          35
      20: aload_0
      21: iload_1
      22: iconst_1
      23: iadd
      24: invokevirtual #31                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      27: astore_2
      28: aload_0
      29: iconst_0
      30: iload_1
      31: invokevirtual #32                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      34: astore_0
      35: aload_0
      36: invokestatic  #33                 // Method getCompressAlgorithm:(Ljava/lang/String;)I
      39: istore_3
      40: iload_3
      41: invokestatic  #16                 // Method getCompressor:(I)Lorg/h2/compress/Compressor;
      44: astore        4
      46: aload         4
      48: aload_2
      49: invokeinterface #34,  2           // InterfaceMethod org/h2/compress/Compressor.setOptions:(Ljava/lang/String;)V
      54: aload         4
      56: areturn

  public static int getCompressAlgorithm(java.lang.String);
    Code:
       0: aload_0
       1: invokestatic  #35                 // Method org/h2/util/StringUtils.toUpperEnglish:(Ljava/lang/String;)Ljava/lang/String;
       4: astore_0
       5: ldc           #7                  // String NO
       7: aload_0
       8: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      11: ifeq          16
      14: iconst_0
      15: ireturn
      16: ldc           #29                 // String LZF
      18: aload_0
      19: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      22: ifeq          27
      25: iconst_1
      26: ireturn
      27: ldc           #37                 // String DEFLATE
      29: aload_0
      30: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      33: ifeq          38
      36: iconst_2
      37: ireturn
      38: ldc           #38                 // int 90103
      40: aload_0
      41: invokestatic  #39                 // Method org/h2/message/DbException.get:(ILjava/lang/String;)Lorg/h2/message/DbException;
      44: athrow

  private static org.h2.compress.Compressor getCompressor(int);
    Code:
       0: iload_0
       1: tableswitch   { // 0 to 2
                     0: 28
                     1: 36
                     2: 44
               default: 52
          }
      28: new           #40                 // class org/h2/compress/CompressNo
      31: dup
      32: invokespecial #41                 // Method org/h2/compress/CompressNo."<init>":()V
      35: areturn
      36: new           #42                 // class org/h2/compress/CompressLZF
      39: dup
      40: invokespecial #43                 // Method org/h2/compress/CompressLZF."<init>":()V
      43: areturn
      44: new           #44                 // class org/h2/compress/CompressDeflate
      47: dup
      48: invokespecial #45                 // Method org/h2/compress/CompressDeflate."<init>":()V
      51: areturn
      52: ldc           #38                 // int 90103
      54: new           #46                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #48                 // String
      63: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: iload_0
      67: invokevirtual #50                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      70: invokevirtual #51                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      73: invokestatic  #39                 // Method org/h2/message/DbException.get:(ILjava/lang/String;)Lorg/h2/message/DbException;
      76: athrow

  public static java.io.OutputStream wrapOutputStream(java.io.OutputStream, java.lang.String, java.lang.String);
    Code:
       0: ldc           #52                 // String GZIP
       2: aload_1
       3: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ifeq          21
       9: new           #53                 // class java/util/zip/GZIPOutputStream
      12: dup
      13: aload_0
      14: invokespecial #54                 // Method java/util/zip/GZIPOutputStream."<init>":(Ljava/io/OutputStream;)V
      17: astore_0
      18: goto          109
      21: ldc           #55                 // String ZIP
      23: aload_1
      24: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      27: ifeq          56
      30: new           #56                 // class java/util/zip/ZipOutputStream
      33: dup
      34: aload_0
      35: invokespecial #57                 // Method java/util/zip/ZipOutputStream."<init>":(Ljava/io/OutputStream;)V
      38: astore_3
      39: aload_3
      40: new           #58                 // class java/util/zip/ZipEntry
      43: dup
      44: aload_2
      45: invokespecial #59                 // Method java/util/zip/ZipEntry."<init>":(Ljava/lang/String;)V
      48: invokevirtual #60                 // Method java/util/zip/ZipOutputStream.putNextEntry:(Ljava/util/zip/ZipEntry;)V
      51: aload_3
      52: astore_0
      53: goto          109
      56: ldc           #37                 // String DEFLATE
      58: aload_1
      59: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      62: ifeq          77
      65: new           #61                 // class java/util/zip/DeflaterOutputStream
      68: dup
      69: aload_0
      70: invokespecial #62                 // Method java/util/zip/DeflaterOutputStream."<init>":(Ljava/io/OutputStream;)V
      73: astore_0
      74: goto          109
      77: ldc           #29                 // String LZF
      79: aload_1
      80: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      83: ifeq          98
      86: new           #63                 // class org/h2/compress/LZFOutputStream
      89: dup
      90: aload_0
      91: invokespecial #64                 // Method org/h2/compress/LZFOutputStream."<init>":(Ljava/io/OutputStream;)V
      94: astore_0
      95: goto          109
      98: aload_1
      99: ifnull        109
     102: ldc           #38                 // int 90103
     104: aload_1
     105: invokestatic  #39                 // Method org/h2/message/DbException.get:(ILjava/lang/String;)Lorg/h2/message/DbException;
     108: athrow
     109: aload_0
     110: areturn
     111: astore_3
     112: aload_3
     113: aconst_null
     114: invokestatic  #66                 // Method org/h2/message/DbException.convertIOException:(Ljava/io/IOException;Ljava/lang/String;)Lorg/h2/message/DbException;
     117: athrow
    Exception table:
       from    to  target type
           0   110   111   Class java/io/IOException

  public static java.io.InputStream wrapInputStream(java.io.InputStream, java.lang.String, java.lang.String);
    Code:
       0: ldc           #52                 // String GZIP
       2: aload_1
       3: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ifeq          21
       9: new           #67                 // class java/util/zip/GZIPInputStream
      12: dup
      13: aload_0
      14: invokespecial #68                 // Method java/util/zip/GZIPInputStream."<init>":(Ljava/io/InputStream;)V
      17: astore_0
      18: goto          128
      21: ldc           #55                 // String ZIP
      23: aload_1
      24: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      27: ifeq          75
      30: new           #69                 // class java/util/zip/ZipInputStream
      33: dup
      34: aload_0
      35: invokespecial #70                 // Method java/util/zip/ZipInputStream."<init>":(Ljava/io/InputStream;)V
      38: astore_3
      39: aload_3
      40: invokevirtual #71                 // Method java/util/zip/ZipInputStream.getNextEntry:()Ljava/util/zip/ZipEntry;
      43: astore        4
      45: aload         4
      47: ifnonnull     52
      50: aconst_null
      51: areturn
      52: aload_2
      53: aload         4
      55: invokevirtual #72                 // Method java/util/zip/ZipEntry.getName:()Ljava/lang/String;
      58: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      61: ifeq          67
      64: goto          70
      67: goto          39
      70: aload_3
      71: astore_0
      72: goto          128
      75: ldc           #37                 // String DEFLATE
      77: aload_1
      78: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      81: ifeq          96
      84: new           #73                 // class java/util/zip/InflaterInputStream
      87: dup
      88: aload_0
      89: invokespecial #74                 // Method java/util/zip/InflaterInputStream."<init>":(Ljava/io/InputStream;)V
      92: astore_0
      93: goto          128
      96: ldc           #29                 // String LZF
      98: aload_1
      99: invokevirtual #36                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     102: ifeq          117
     105: new           #75                 // class org/h2/compress/LZFInputStream
     108: dup
     109: aload_0
     110: invokespecial #76                 // Method org/h2/compress/LZFInputStream."<init>":(Ljava/io/InputStream;)V
     113: astore_0
     114: goto          128
     117: aload_1
     118: ifnull        128
     121: ldc           #38                 // int 90103
     123: aload_1
     124: invokestatic  #39                 // Method org/h2/message/DbException.get:(ILjava/lang/String;)Lorg/h2/message/DbException;
     127: athrow
     128: aload_0
     129: areturn
     130: astore_3
     131: aload_3
     132: aconst_null
     133: invokestatic  #66                 // Method org/h2/message/DbException.convertIOException:(Ljava/io/IOException;Ljava/lang/String;)Lorg/h2/message/DbException;
     136: athrow
    Exception table:
       from    to  target type
           0    51   130   Class java/io/IOException
          52   129   130   Class java/io/IOException
}
