Compiled from "OsgiDataSourceFactory.java"
public class org.h2.util.OsgiDataSourceFactory implements org.osgi.service.jdbc.DataSourceFactory {
  private final org.h2.Driver driver;

  public org.h2.util.OsgiDataSourceFactory(org.h2.Driver);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field driver:Lorg/h2/Driver;
       9: return

  public javax.sql.DataSource createDataSource(java.util.Properties) throws java.sql.SQLException;
    Code:
       0: new           #3                  // class java/util/Properties
       3: dup
       4: invokespecial #4                  // Method java/util/Properties."<init>":()V
       7: astore_2
       8: aload_1
       9: ifnull        17
      12: aload_2
      13: aload_1
      14: invokevirtual #5                  // Method java/util/Properties.putAll:(Ljava/util/Map;)V
      17: aload_2
      18: invokestatic  #6                  // Method rejectUnsupportedOptions:(Ljava/util/Properties;)V
      21: aload_2
      22: invokestatic  #7                  // Method rejectPoolingOptions:(Ljava/util/Properties;)V
      25: new           #8                  // class org/h2/jdbcx/JdbcDataSource
      28: dup
      29: invokespecial #9                  // Method org/h2/jdbcx/JdbcDataSource."<init>":()V
      32: astore_3
      33: aload_3
      34: aload_2
      35: invokestatic  #10                 // Method setupH2DataSource:(Lorg/h2/jdbcx/JdbcDataSource;Ljava/util/Properties;)V
      38: aload_3
      39: areturn

  public javax.sql.ConnectionPoolDataSource createConnectionPoolDataSource(java.util.Properties) throws java.sql.SQLException;
    Code:
       0: new           #3                  // class java/util/Properties
       3: dup
       4: invokespecial #4                  // Method java/util/Properties."<init>":()V
       7: astore_2
       8: aload_1
       9: ifnull        17
      12: aload_2
      13: aload_1
      14: invokevirtual #5                  // Method java/util/Properties.putAll:(Ljava/util/Map;)V
      17: aload_2
      18: invokestatic  #6                  // Method rejectUnsupportedOptions:(Ljava/util/Properties;)V
      21: aload_2
      22: invokestatic  #7                  // Method rejectPoolingOptions:(Ljava/util/Properties;)V
      25: new           #8                  // class org/h2/jdbcx/JdbcDataSource
      28: dup
      29: invokespecial #9                  // Method org/h2/jdbcx/JdbcDataSource."<init>":()V
      32: astore_3
      33: aload_3
      34: aload_2
      35: invokestatic  #10                 // Method setupH2DataSource:(Lorg/h2/jdbcx/JdbcDataSource;Ljava/util/Properties;)V
      38: aload_3
      39: areturn

  public javax.sql.XADataSource createXADataSource(java.util.Properties) throws java.sql.SQLException;
    Code:
       0: new           #3                  // class java/util/Properties
       3: dup
       4: invokespecial #4                  // Method java/util/Properties."<init>":()V
       7: astore_2
       8: aload_1
       9: ifnull        17
      12: aload_2
      13: aload_1
      14: invokevirtual #5                  // Method java/util/Properties.putAll:(Ljava/util/Map;)V
      17: aload_2
      18: invokestatic  #6                  // Method rejectUnsupportedOptions:(Ljava/util/Properties;)V
      21: aload_2
      22: invokestatic  #7                  // Method rejectPoolingOptions:(Ljava/util/Properties;)V
      25: new           #8                  // class org/h2/jdbcx/JdbcDataSource
      28: dup
      29: invokespecial #9                  // Method org/h2/jdbcx/JdbcDataSource."<init>":()V
      32: astore_3
      33: aload_3
      34: aload_2
      35: invokestatic  #10                 // Method setupH2DataSource:(Lorg/h2/jdbcx/JdbcDataSource;Ljava/util/Properties;)V
      38: aload_3
      39: areturn

  public java.sql.Driver createDriver(java.util.Properties) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: ifnull        19
       4: aload_1
       5: invokevirtual #11                 // Method java/util/Properties.isEmpty:()Z
       8: ifne          19
      11: new           #12                 // class java/sql/SQLException
      14: dup
      15: invokespecial #13                 // Method java/sql/SQLException."<init>":()V
      18: athrow
      19: aload_0
      20: getfield      #2                  // Field driver:Lorg/h2/Driver;
      23: areturn

  private static void rejectUnsupportedOptions(java.util.Properties) throws java.sql.SQLFeatureNotSupportedException;
    Code:
       0: aload_0
       1: ldc           #14                 // String roleName
       3: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
       6: ifeq          19
       9: new           #16                 // class java/sql/SQLFeatureNotSupportedException
      12: dup
      13: ldc           #17                 // String The roleName property is not supported by H2
      15: invokespecial #18                 // Method java/sql/SQLFeatureNotSupportedException."<init>":(Ljava/lang/String;)V
      18: athrow
      19: aload_0
      20: ldc           #19                 // String dataSourceName
      22: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      25: ifeq          38
      28: new           #16                 // class java/sql/SQLFeatureNotSupportedException
      31: dup
      32: ldc           #20                 // String The dataSourceName property is not supported by H2
      34: invokespecial #18                 // Method java/sql/SQLFeatureNotSupportedException."<init>":(Ljava/lang/String;)V
      37: athrow
      38: return

  private static void setupH2DataSource(org.h2.jdbcx.JdbcDataSource, java.util.Properties);
    Code:
       0: aload_1
       1: ldc           #21                 // String user
       3: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
       6: ifeq          22
       9: aload_0
      10: aload_1
      11: ldc           #21                 // String user
      13: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #23                 // class java/lang/String
      19: invokevirtual #24                 // Method org/h2/jdbcx/JdbcDataSource.setUser:(Ljava/lang/String;)V
      22: aload_1
      23: ldc           #25                 // String password
      25: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      28: ifeq          44
      31: aload_0
      32: aload_1
      33: ldc           #25                 // String password
      35: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      38: checkcast     #23                 // class java/lang/String
      41: invokevirtual #26                 // Method org/h2/jdbcx/JdbcDataSource.setPassword:(Ljava/lang/String;)V
      44: aload_1
      45: ldc           #27                 // String description
      47: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      50: ifeq          66
      53: aload_0
      54: aload_1
      55: ldc           #27                 // String description
      57: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      60: checkcast     #23                 // class java/lang/String
      63: invokevirtual #28                 // Method org/h2/jdbcx/JdbcDataSource.setDescription:(Ljava/lang/String;)V
      66: new           #29                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      73: astore_2
      74: aload_1
      75: ldc           #31                 // String url
      77: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      80: ifeq          125
      83: aload_2
      84: aload_1
      85: ldc           #31                 // String url
      87: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      90: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      93: pop
      94: aload_1
      95: ldc           #33                 // String networkProtocol
      97: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     100: pop
     101: aload_1
     102: ldc           #34                 // String serverName
     104: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     107: pop
     108: aload_1
     109: ldc           #35                 // String portNumber
     111: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     114: pop
     115: aload_1
     116: ldc           #36                 // String databaseName
     118: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     121: pop
     122: goto          303
     125: aload_2
     126: ldc           #37                 // String jdbc:h2:
     128: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: pop
     132: ldc           #39                 // String
     134: astore_3
     135: aload_1
     136: ldc           #33                 // String networkProtocol
     138: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
     141: ifeq          165
     144: aload_1
     145: ldc           #33                 // String networkProtocol
     147: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     150: checkcast     #23                 // class java/lang/String
     153: astore_3
     154: aload_2
     155: aload_3
     156: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     159: ldc           #40                 // String :
     161: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     164: pop
     165: aload_1
     166: ldc           #34                 // String serverName
     168: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
     171: ifeq          225
     174: aload_2
     175: ldc           #41                 // String //
     177: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: aload_1
     181: ldc           #34                 // String serverName
     183: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     186: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     189: pop
     190: aload_1
     191: ldc           #35                 // String portNumber
     193: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
     196: ifeq          215
     199: aload_2
     200: ldc           #40                 // String :
     202: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: aload_1
     206: ldc           #35                 // String portNumber
     208: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     211: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     214: pop
     215: aload_2
     216: ldc           #42                 // String /
     218: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     221: pop
     222: goto          283
     225: aload_1
     226: ldc           #35                 // String portNumber
     228: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
     231: ifeq          258
     234: aload_2
     235: ldc           #43                 // String //localhost:
     237: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     240: aload_1
     241: ldc           #35                 // String portNumber
     243: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     246: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     249: ldc           #42                 // String /
     251: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     254: pop
     255: goto          283
     258: aload_3
     259: ldc           #44                 // String tcp
     261: invokevirtual #45                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     264: ifne          276
     267: aload_3
     268: ldc           #46                 // String ssl
     270: invokevirtual #45                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     273: ifeq          283
     276: aload_2
     277: ldc           #47                 // String //localhost/
     279: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     282: pop
     283: aload_1
     284: ldc           #36                 // String databaseName
     286: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
     289: ifeq          303
     292: aload_2
     293: aload_1
     294: ldc           #36                 // String databaseName
     296: invokevirtual #22                 // Method java/util/Properties.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     299: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     302: pop
     303: aload_1
     304: invokevirtual #48                 // Method java/util/Properties.keySet:()Ljava/util/Set;
     307: invokeinterface #49,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     312: astore_3
     313: aload_3
     314: invokeinterface #50,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     319: ifeq          359
     322: aload_3
     323: invokeinterface #51,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     328: astore        4
     330: aload_2
     331: ldc           #52                 // String ;
     333: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     336: aload         4
     338: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     341: ldc           #53                 // String =
     343: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     346: aload_1
     347: aload         4
     349: invokevirtual #54                 // Method java/util/Properties.get:(Ljava/lang/Object;)Ljava/lang/Object;
     352: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     355: pop
     356: goto          313
     359: aload_2
     360: invokevirtual #55                 // Method java/lang/StringBuilder.length:()I
     363: ldc           #37                 // String jdbc:h2:
     365: invokevirtual #56                 // Method java/lang/String.length:()I
     368: if_icmple     379
     371: aload_0
     372: aload_2
     373: invokevirtual #57                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     376: invokevirtual #58                 // Method org/h2/jdbcx/JdbcDataSource.setURL:(Ljava/lang/String;)V
     379: return

  private static void rejectPoolingOptions(java.util.Properties) throws java.sql.SQLFeatureNotSupportedException;
    Code:
       0: aload_0
       1: ldc           #59                 // String initialPoolSize
       3: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
       6: ifne          54
       9: aload_0
      10: ldc           #60                 // String maxIdleTime
      12: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      15: ifne          54
      18: aload_0
      19: ldc           #61                 // String maxPoolSize
      21: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      24: ifne          54
      27: aload_0
      28: ldc           #62                 // String maxStatements
      30: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      33: ifne          54
      36: aload_0
      37: ldc           #63                 // String minPoolSize
      39: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      42: ifne          54
      45: aload_0
      46: ldc           #64                 // String propertyCycle
      48: invokevirtual #15                 // Method java/util/Properties.containsKey:(Ljava/lang/Object;)Z
      51: ifeq          64
      54: new           #16                 // class java/sql/SQLFeatureNotSupportedException
      57: dup
      58: ldc           #65                 // String Pooling properties are not supported by H2
      60: invokespecial #18                 // Method java/sql/SQLFeatureNotSupportedException."<init>":(Ljava/lang/String;)V
      63: athrow
      64: return

  static void registerService(org.osgi.framework.BundleContext, org.h2.Driver);
    Code:
       0: new           #3                  // class java/util/Properties
       3: dup
       4: invokespecial #4                  // Method java/util/Properties."<init>":()V
       7: astore_2
       8: aload_2
       9: ldc           #66                 // String osgi.jdbc.driver.class
      11: ldc_w         #67                 // class org/h2/Driver
      14: invokevirtual #68                 // Method java/lang/Class.getName:()Ljava/lang/String;
      17: invokevirtual #69                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      20: pop
      21: aload_2
      22: ldc           #70                 // String osgi.jdbc.driver.name
      24: ldc           #71                 // String H2 JDBC Driver
      26: invokevirtual #69                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      29: pop
      30: aload_2
      31: ldc           #72                 // String osgi.jdbc.driver.version
      33: invokestatic  #73                 // Method org/h2/engine/Constants.getFullVersion:()Ljava/lang/String;
      36: invokevirtual #69                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      39: pop
      40: aload_0
      41: ldc_w         #74                 // class org/osgi/service/jdbc/DataSourceFactory
      44: invokevirtual #68                 // Method java/lang/Class.getName:()Ljava/lang/String;
      47: new           #75                 // class org/h2/util/OsgiDataSourceFactory
      50: dup
      51: aload_1
      52: invokespecial #76                 // Method "<init>":(Lorg/h2/Driver;)V
      55: aload_2
      56: invokeinterface #77,  4           // InterfaceMethod org/osgi/framework/BundleContext.registerService:(Ljava/lang/String;Ljava/lang/Object;Ljava/util/Dictionary;)Lorg/osgi/framework/ServiceRegistration;
      61: pop
      62: return
}
