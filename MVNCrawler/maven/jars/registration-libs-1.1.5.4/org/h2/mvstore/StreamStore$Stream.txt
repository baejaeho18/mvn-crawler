Compiled from "StreamStore.java"
class org.h2.mvstore.StreamStore$Stream extends java.io.InputStream {
  private final org.h2.mvstore.StreamStore store;

  private byte[] oneByteBuffer;

  private java.nio.ByteBuffer idBuffer;

  private java.io.ByteArrayInputStream buffer;

  private long skip;

  private final long length;

  private long pos;

  org.h2.mvstore.StreamStore$Stream(org.h2.mvstore.StreamStore, byte[]);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/io/InputStream."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field store:Lorg/h2/mvstore/StreamStore;
       9: aload_0
      10: aload_1
      11: aload_2
      12: invokevirtual #3                  // Method org/h2/mvstore/StreamStore.length:([B)J
      15: putfield      #4                  // Field length:J
      18: aload_0
      19: aload_2
      20: invokestatic  #5                  // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      23: putfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      26: return

  public int read() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field oneByteBuffer:[B
       4: astore_1
       5: aload_1
       6: ifnonnull     18
       9: aload_0
      10: iconst_1
      11: newarray       byte
      13: dup_x1
      14: putfield      #7                  // Field oneByteBuffer:[B
      17: astore_1
      18: aload_0
      19: aload_1
      20: iconst_0
      21: iconst_1
      22: invokevirtual #8                  // Method read:([BII)I
      25: istore_2
      26: iload_2
      27: iconst_m1
      28: if_icmpne     35
      31: iconst_m1
      32: goto          42
      35: aload_1
      36: iconst_0
      37: baload
      38: sipush        255
      41: iand
      42: ireturn

  public long skip(long);
    Code:
       0: aload_0
       1: getfield      #4                  // Field length:J
       4: aload_0
       5: getfield      #9                  // Field pos:J
       8: lsub
       9: lload_1
      10: invokestatic  #10                 // Method java/lang/Math.min:(JJ)J
      13: lstore_1
      14: lload_1
      15: lconst_0
      16: lcmp
      17: ifne          22
      20: lconst_0
      21: lreturn
      22: aload_0
      23: getfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      26: ifnull        67
      29: aload_0
      30: getfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      33: lload_1
      34: invokevirtual #12                 // Method java/io/ByteArrayInputStream.skip:(J)J
      37: lstore_3
      38: lload_3
      39: lconst_0
      40: lcmp
      41: ifle          49
      44: lload_3
      45: lstore_1
      46: goto          64
      49: aload_0
      50: aconst_null
      51: putfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      54: aload_0
      55: dup
      56: getfield      #13                 // Field skip:J
      59: lload_1
      60: ladd
      61: putfield      #13                 // Field skip:J
      64: goto          77
      67: aload_0
      68: dup
      69: getfield      #13                 // Field skip:J
      72: lload_1
      73: ladd
      74: putfield      #13                 // Field skip:J
      77: aload_0
      78: dup
      79: getfield      #9                  // Field pos:J
      82: lload_1
      83: ladd
      84: putfield      #9                  // Field pos:J
      87: lload_1
      88: lreturn

  public void close();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
       5: aload_0
       6: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
       9: aload_0
      10: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      13: invokevirtual #14                 // Method java/nio/ByteBuffer.limit:()I
      16: invokevirtual #15                 // Method java/nio/ByteBuffer.position:(I)Ljava/nio/Buffer;
      19: pop
      20: aload_0
      21: aload_0
      22: getfield      #4                  // Field length:J
      25: putfield      #9                  // Field pos:J
      28: return

  public int read(byte[], int, int) throws java.io.IOException;
    Code:
       0: iload_3
       1: ifgt          6
       4: iconst_0
       5: ireturn
       6: aload_0
       7: getfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      10: ifnonnull     73
      13: aload_0
      14: aload_0
      15: invokespecial #16                 // Method nextBuffer:()Ljava/io/ByteArrayInputStream;
      18: putfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      21: goto          64
      24: astore        4
      26: bipush        50
      28: ldc           #18                 // String Block not found in id {0}
      30: iconst_1
      31: anewarray     #19                 // class java/lang/Object
      34: dup
      35: iconst_0
      36: aload_0
      37: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      40: invokevirtual #20                 // Method java/nio/ByteBuffer.array:()[B
      43: invokestatic  #21                 // Method java/util/Arrays.toString:([B)Ljava/lang/String;
      46: aastore
      47: invokestatic  #22                 // Method org/h2/mvstore/DataUtils.formatMessage:(ILjava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      50: astore        5
      52: new           #23                 // class java/io/IOException
      55: dup
      56: aload         5
      58: aload         4
      60: invokespecial #24                 // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      63: athrow
      64: aload_0
      65: getfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      68: ifnonnull     73
      71: iconst_m1
      72: ireturn
      73: aload_0
      74: getfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
      77: aload_1
      78: iload_2
      79: iload_3
      80: invokevirtual #25                 // Method java/io/ByteArrayInputStream.read:([BII)I
      83: istore        4
      85: iload         4
      87: ifle          105
      90: aload_0
      91: dup
      92: getfield      #9                  // Field pos:J
      95: iload         4
      97: i2l
      98: ladd
      99: putfield      #9                  // Field pos:J
     102: iload         4
     104: ireturn
     105: aload_0
     106: aconst_null
     107: putfield      #11                 // Field buffer:Ljava/io/ByteArrayInputStream;
     110: goto          6
    Exception table:
       from    to  target type
          13    21    24   Class java/lang/IllegalStateException

  private java.io.ByteArrayInputStream nextBuffer();
    Code:
       0: aload_0
       1: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
       4: invokevirtual #26                 // Method java/nio/ByteBuffer.hasRemaining:()Z
       7: ifeq          355
      10: aload_0
      11: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      14: invokevirtual #27                 // Method java/nio/ByteBuffer.get:()B
      17: tableswitch   { // 0 to 2
                     0: 44
                     1: 145
                     2: 225
               default: 332
          }
      44: aload_0
      45: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      48: invokestatic  #28                 // Method org/h2/mvstore/DataUtils.readVarInt:(Ljava/nio/ByteBuffer;)I
      51: istore_1
      52: aload_0
      53: getfield      #13                 // Field skip:J
      56: iload_1
      57: i2l
      58: lcmp
      59: iflt          93
      62: aload_0
      63: dup
      64: getfield      #13                 // Field skip:J
      67: iload_1
      68: i2l
      69: lsub
      70: putfield      #13                 // Field skip:J
      73: aload_0
      74: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      77: aload_0
      78: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      81: invokevirtual #29                 // Method java/nio/ByteBuffer.position:()I
      84: iload_1
      85: iadd
      86: invokevirtual #15                 // Method java/nio/ByteBuffer.position:(I)Ljava/nio/Buffer;
      89: pop
      90: goto          0
      93: aload_0
      94: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
      97: invokevirtual #29                 // Method java/nio/ByteBuffer.position:()I
     100: i2l
     101: aload_0
     102: getfield      #13                 // Field skip:J
     105: ladd
     106: l2i
     107: istore_2
     108: iload_1
     109: i2l
     110: aload_0
     111: getfield      #13                 // Field skip:J
     114: lsub
     115: l2i
     116: istore_3
     117: aload_0
     118: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     121: iload_2
     122: iload_3
     123: iadd
     124: invokevirtual #15                 // Method java/nio/ByteBuffer.position:(I)Ljava/nio/Buffer;
     127: pop
     128: new           #30                 // class java/io/ByteArrayInputStream
     131: dup
     132: aload_0
     133: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     136: invokevirtual #20                 // Method java/nio/ByteBuffer.array:()[B
     139: iload_2
     140: iload_3
     141: invokespecial #31                 // Method java/io/ByteArrayInputStream."<init>":([BII)V
     144: areturn
     145: aload_0
     146: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     149: invokestatic  #28                 // Method org/h2/mvstore/DataUtils.readVarInt:(Ljava/nio/ByteBuffer;)I
     152: istore_1
     153: aload_0
     154: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     157: invokestatic  #32                 // Method org/h2/mvstore/DataUtils.readVarLong:(Ljava/nio/ByteBuffer;)J
     160: lstore_2
     161: aload_0
     162: getfield      #13                 // Field skip:J
     165: iload_1
     166: i2l
     167: lcmp
     168: iflt          185
     171: aload_0
     172: dup
     173: getfield      #13                 // Field skip:J
     176: iload_1
     177: i2l
     178: lsub
     179: putfield      #13                 // Field skip:J
     182: goto          0
     185: aload_0
     186: getfield      #2                  // Field store:Lorg/h2/mvstore/StreamStore;
     189: lload_2
     190: invokevirtual #33                 // Method org/h2/mvstore/StreamStore.getBlock:(J)[B
     193: astore        4
     195: aload_0
     196: getfield      #13                 // Field skip:J
     199: l2i
     200: istore        5
     202: aload_0
     203: lconst_0
     204: putfield      #13                 // Field skip:J
     207: new           #30                 // class java/io/ByteArrayInputStream
     210: dup
     211: aload         4
     213: iload         5
     215: aload         4
     217: arraylength
     218: iload         5
     220: isub
     221: invokespecial #31                 // Method java/io/ByteArrayInputStream."<init>":([BII)V
     224: areturn
     225: aload_0
     226: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     229: invokestatic  #32                 // Method org/h2/mvstore/DataUtils.readVarLong:(Ljava/nio/ByteBuffer;)J
     232: lstore_1
     233: aload_0
     234: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     237: invokestatic  #32                 // Method org/h2/mvstore/DataUtils.readVarLong:(Ljava/nio/ByteBuffer;)J
     240: lstore_3
     241: aload_0
     242: getfield      #13                 // Field skip:J
     245: lload_1
     246: lcmp
     247: iflt          263
     250: aload_0
     251: dup
     252: getfield      #13                 // Field skip:J
     255: lload_1
     256: lsub
     257: putfield      #13                 // Field skip:J
     260: goto          0
     263: aload_0
     264: getfield      #2                  // Field store:Lorg/h2/mvstore/StreamStore;
     267: lload_3
     268: invokevirtual #33                 // Method org/h2/mvstore/StreamStore.getBlock:(J)[B
     271: astore        5
     273: aload         5
     275: arraylength
     276: aload_0
     277: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     280: invokevirtual #14                 // Method java/nio/ByteBuffer.limit:()I
     283: iadd
     284: aload_0
     285: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     288: invokevirtual #29                 // Method java/nio/ByteBuffer.position:()I
     291: isub
     292: invokestatic  #34                 // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
     295: astore        6
     297: aload         6
     299: aload         5
     301: invokevirtual #35                 // Method java/nio/ByteBuffer.put:([B)Ljava/nio/ByteBuffer;
     304: pop
     305: aload         6
     307: aload_0
     308: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     311: invokevirtual #36                 // Method java/nio/ByteBuffer.put:(Ljava/nio/ByteBuffer;)Ljava/nio/ByteBuffer;
     314: pop
     315: aload         6
     317: invokevirtual #37                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     320: pop
     321: aload_0
     322: aload         6
     324: putfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     327: aload_0
     328: invokespecial #16                 // Method nextBuffer:()Ljava/io/ByteArrayInputStream;
     331: areturn
     332: ldc           #38                 // String Unsupported id {0}
     334: iconst_1
     335: anewarray     #19                 // class java/lang/Object
     338: dup
     339: iconst_0
     340: aload_0
     341: getfield      #6                  // Field idBuffer:Ljava/nio/ByteBuffer;
     344: invokevirtual #20                 // Method java/nio/ByteBuffer.array:()[B
     347: invokestatic  #21                 // Method java/util/Arrays.toString:([B)Ljava/lang/String;
     350: aastore
     351: invokestatic  #39                 // Method org/h2/mvstore/DataUtils.newIllegalArgumentException:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/IllegalArgumentException;
     354: athrow
     355: aconst_null
     356: areturn
}
