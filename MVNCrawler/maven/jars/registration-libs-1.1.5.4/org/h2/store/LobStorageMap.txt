Compiled from "LobStorageMap.java"
public class org.h2.store.LobStorageMap implements org.h2.store.LobStorageInterface {
  private static final boolean TRACE;

  private final org.h2.engine.Database database;

  private boolean init;

  private final java.lang.Object nextLobIdSync;

  private long nextLobId;

  private org.h2.mvstore.MVMap<java.lang.Long, java.lang.Object[]> lobMap;

  private org.h2.mvstore.MVMap<java.lang.Object[], java.lang.Boolean> refMap;

  private org.h2.mvstore.MVMap<java.lang.Long, byte[]> dataMap;

  private org.h2.mvstore.StreamStore streamStore;

  public org.h2.store.LobStorageMap(org.h2.engine.Database);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/lang/Object
       8: dup
       9: invokespecial #1                  // Method java/lang/Object."<init>":()V
      12: putfield      #3                  // Field nextLobIdSync:Ljava/lang/Object;
      15: aload_0
      16: aload_1
      17: putfield      #4                  // Field database:Lorg/h2/engine/Database;
      20: return

  public void init();
    Code:
       0: aload_0
       1: getfield      #5                  // Field init:Z
       4: ifeq          8
       7: return
       8: aload_0
       9: iconst_1
      10: putfield      #5                  // Field init:Z
      13: aload_0
      14: getfield      #4                  // Field database:Lorg/h2/engine/Database;
      17: invokevirtual #6                  // Method org/h2/engine/Database.getMvStore:()Lorg/h2/mvstore/db/MVTableEngine$Store;
      20: astore_1
      21: aload_1
      22: ifnonnull     33
      25: aconst_null
      26: invokestatic  #7                  // Method org/h2/mvstore/MVStore.open:(Ljava/lang/String;)Lorg/h2/mvstore/MVStore;
      29: astore_2
      30: goto          38
      33: aload_1
      34: invokevirtual #8                  // Method org/h2/mvstore/db/MVTableEngine$Store.getStore:()Lorg/h2/mvstore/MVStore;
      37: astore_2
      38: aload_0
      39: aload_2
      40: ldc           #9                  // String lobMap
      42: invokevirtual #10                 // Method org/h2/mvstore/MVStore.openMap:(Ljava/lang/String;)Lorg/h2/mvstore/MVMap;
      45: putfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
      48: aload_0
      49: aload_2
      50: ldc           #12                 // String lobRef
      52: invokevirtual #10                 // Method org/h2/mvstore/MVStore.openMap:(Ljava/lang/String;)Lorg/h2/mvstore/MVMap;
      55: putfield      #13                 // Field refMap:Lorg/h2/mvstore/MVMap;
      58: aload_0
      59: aload_2
      60: ldc           #14                 // String lobData
      62: invokevirtual #10                 // Method org/h2/mvstore/MVStore.openMap:(Ljava/lang/String;)Lorg/h2/mvstore/MVMap;
      65: putfield      #15                 // Field dataMap:Lorg/h2/mvstore/MVMap;
      68: aload_0
      69: new           #16                 // class org/h2/mvstore/StreamStore
      72: dup
      73: aload_0
      74: getfield      #15                 // Field dataMap:Lorg/h2/mvstore/MVMap;
      77: invokespecial #17                 // Method org/h2/mvstore/StreamStore."<init>":(Ljava/util/Map;)V
      80: putfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
      83: aload_0
      84: getfield      #4                  // Field database:Lorg/h2/engine/Database;
      87: invokevirtual #19                 // Method org/h2/engine/Database.isReadOnly:()Z
      90: ifeq          94
      93: return
      94: aload_0
      95: getfield      #15                 // Field dataMap:Lorg/h2/mvstore/MVMap;
      98: invokevirtual #20                 // Method org/h2/mvstore/MVMap.isEmpty:()Z
     101: ifeq          105
     104: return
     105: ldc2_w        #21                 // long -1l
     108: lstore_3
     109: aload_0
     110: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
     113: invokevirtual #23                 // Method org/h2/mvstore/MVMap.entrySet:()Ljava/util/Set;
     116: invokeinterface #24,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     121: astore        5
     123: aload         5
     125: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     130: ifeq          217
     133: aload         5
     135: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     140: checkcast     #27                 // class java/util/Map$Entry
     143: astore        6
     145: aload         6
     147: invokeinterface #28,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     152: checkcast     #29                 // class java/lang/Long
     155: invokevirtual #30                 // Method java/lang/Long.longValue:()J
     158: lstore        7
     160: aload         6
     162: invokeinterface #31,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     167: checkcast     #32                 // class "[Ljava/lang/Object;"
     170: astore        9
     172: aload         9
     174: iconst_0
     175: aaload
     176: checkcast     #33                 // class "[B"
     179: checkcast     #33                 // class "[B"
     182: astore        10
     184: aload_0
     185: getfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
     188: aload         10
     190: invokevirtual #34                 // Method org/h2/mvstore/StreamStore.getMaxBlockKey:([B)J
     193: lstore        11
     195: lload         11
     197: ldc2_w        #21                 // long -1l
     200: lcmp
     201: ifeq          214
     204: lload         11
     206: lload_3
     207: lcmp
     208: ifle          214
     211: lload         11
     213: lstore_3
     214: goto          123
     217: aload_0
     218: getfield      #15                 // Field dataMap:Lorg/h2/mvstore/MVMap;
     221: invokevirtual #35                 // Method org/h2/mvstore/MVMap.lastKey:()Ljava/lang/Object;
     224: checkcast     #29                 // class java/lang/Long
     227: astore        5
     229: aload         5
     231: ifnull        260
     234: aload         5
     236: invokevirtual #30                 // Method java/lang/Long.longValue:()J
     239: lload_3
     240: lcmp
     241: ifgt          247
     244: goto          260
     247: aload_0
     248: getfield      #15                 // Field dataMap:Lorg/h2/mvstore/MVMap;
     251: aload         5
     253: invokevirtual #36                 // Method org/h2/mvstore/MVMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     256: pop
     257: goto          217
     260: aload_0
     261: getfield      #15                 // Field dataMap:Lorg/h2/mvstore/MVMap;
     264: invokevirtual #35                 // Method org/h2/mvstore/MVMap.lastKey:()Ljava/lang/Object;
     267: checkcast     #29                 // class java/lang/Long
     270: astore        5
     272: aload         5
     274: ifnull        291
     277: aload_0
     278: getfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
     281: aload         5
     283: invokevirtual #30                 // Method java/lang/Long.longValue:()J
     286: lconst_1
     287: ladd
     288: invokevirtual #37                 // Method org/h2/mvstore/StreamStore.setNextKey:(J)V
     291: return

  public org.h2.value.Value createBlob(java.io.InputStream, long);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method init:()V
       4: bipush        15
       6: istore        4
       8: lload_2
       9: ldc2_w        #21                 // long -1l
      12: lcmp
      13: ifeq          115
      16: lload_2
      17: aload_0
      18: getfield      #4                  // Field database:Lorg/h2/engine/Database;
      21: invokevirtual #39                 // Method org/h2/engine/Database.getMaxLengthInplaceLob:()I
      24: i2l
      25: lcmp
      26: ifgt          115
      29: lload_2
      30: l2i
      31: newarray       byte
      33: astore        5
      35: aload_1
      36: aload         5
      38: lload_2
      39: l2i
      40: invokestatic  #40                 // Method org/h2/util/IOUtils.readFully:(Ljava/io/InputStream;[BI)I
      43: istore        6
      45: iload         6
      47: i2l
      48: lload_2
      49: lcmp
      50: ifle          90
      53: new           #41                 // class java/lang/IllegalStateException
      56: dup
      57: new           #42                 // class java/lang/StringBuilder
      60: dup
      61: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      64: ldc           #44                 // String len > blobLength,
      66: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      69: iload         6
      71: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      74: ldc           #47                 // String  >
      76: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: lload_2
      80: invokevirtual #48                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      83: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      86: invokespecial #50                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      89: athrow
      90: iload         6
      92: aload         5
      94: arraylength
      95: if_icmpge     107
      98: aload         5
     100: iload         6
     102: invokestatic  #51                 // Method java/util/Arrays.copyOf:([BI)[B
     105: astore        5
     107: iload         4
     109: aload         5
     111: invokestatic  #52                 // Method org/h2/value/ValueLobDb.createSmallLob:(I[B)Lorg/h2/value/Value;
     114: areturn
     115: lload_2
     116: ldc2_w        #21                 // long -1l
     119: lcmp
     120: ifeq          134
     123: new           #53                 // class org/h2/store/RangeInputStream
     126: dup
     127: aload_1
     128: lconst_0
     129: lload_2
     130: invokespecial #54                 // Method org/h2/store/RangeInputStream."<init>":(Ljava/io/InputStream;JJ)V
     133: astore_1
     134: aload_0
     135: aload_1
     136: iload         4
     138: invokespecial #55                 // Method createLob:(Ljava/io/InputStream;I)Lorg/h2/value/ValueLobDb;
     141: areturn
     142: astore        5
     144: ldc           #56                 // int 90007
     146: aload         5
     148: iconst_0
     149: anewarray     #57                 // class java/lang/String
     152: invokestatic  #58                 // Method org/h2/message/DbException.get:(ILjava/lang/Throwable;[Ljava/lang/String;)Lorg/h2/message/DbException;
     155: athrow
     156: astore        5
     158: aload         5
     160: aconst_null
     161: invokestatic  #60                 // Method org/h2/message/DbException.convertIOException:(Ljava/io/IOException;Ljava/lang/String;)Lorg/h2/message/DbException;
     164: athrow
    Exception table:
       from    to  target type
           8   114   142   Class java/lang/IllegalStateException
         115   141   142   Class java/lang/IllegalStateException
           8   114   156   Class java/io/IOException
         115   141   156   Class java/io/IOException

  public org.h2.value.Value createClob(java.io.Reader, long);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method init:()V
       4: bipush        16
       6: istore        4
       8: lload_2
       9: ldc2_w        #21                 // long -1l
      12: lcmp
      13: ifeq          179
      16: lload_2
      17: ldc2_w        #61                 // long 3l
      20: lmul
      21: aload_0
      22: getfield      #4                  // Field database:Lorg/h2/engine/Database;
      25: invokevirtual #39                 // Method org/h2/engine/Database.getMaxLengthInplaceLob:()I
      28: i2l
      29: lcmp
      30: ifgt          179
      33: lload_2
      34: l2i
      35: newarray       char
      37: astore        5
      39: aload_1
      40: aload         5
      42: lload_2
      43: l2i
      44: invokestatic  #63                 // Method org/h2/util/IOUtils.readFully:(Ljava/io/Reader;[CI)I
      47: istore        6
      49: iload         6
      51: i2l
      52: lload_2
      53: lcmp
      54: ifle          94
      57: new           #41                 // class java/lang/IllegalStateException
      60: dup
      61: new           #42                 // class java/lang/StringBuilder
      64: dup
      65: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      68: ldc           #44                 // String len > blobLength,
      70: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: iload         6
      75: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      78: ldc           #47                 // String  >
      80: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: lload_2
      84: invokevirtual #48                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      87: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      90: invokespecial #50                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      93: athrow
      94: new           #57                 // class java/lang/String
      97: dup
      98: aload         5
     100: iconst_0
     101: iload         6
     103: invokespecial #64                 // Method java/lang/String."<init>":([CII)V
     106: getstatic     #65                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     109: invokevirtual #66                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     112: astore        7
     114: aload         7
     116: arraylength
     117: aload_0
     118: getfield      #4                  // Field database:Lorg/h2/engine/Database;
     121: invokevirtual #39                 // Method org/h2/engine/Database.getMaxLengthInplaceLob:()I
     124: if_icmple     171
     127: new           #41                 // class java/lang/IllegalStateException
     130: dup
     131: new           #42                 // class java/lang/StringBuilder
     134: dup
     135: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     138: ldc           #67                 // String len > maxinplace,
     140: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: aload         7
     145: arraylength
     146: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     149: ldc           #47                 // String  >
     151: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     154: aload_0
     155: getfield      #4                  // Field database:Lorg/h2/engine/Database;
     158: invokevirtual #39                 // Method org/h2/engine/Database.getMaxLengthInplaceLob:()I
     161: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     164: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     167: invokespecial #50                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     170: athrow
     171: iload         4
     173: aload         7
     175: invokestatic  #52                 // Method org/h2/value/ValueLobDb.createSmallLob:(I[B)Lorg/h2/value/Value;
     178: areturn
     179: lload_2
     180: lconst_0
     181: lcmp
     182: ifge          189
     185: ldc2_w        #68                 // long 9223372036854775807l
     188: lstore_2
     189: new           #70                 // class org/h2/store/CountingReaderInputStream
     192: dup
     193: aload_1
     194: lload_2
     195: invokespecial #71                 // Method org/h2/store/CountingReaderInputStream."<init>":(Ljava/io/Reader;J)V
     198: astore        5
     200: aload_0
     201: aload         5
     203: iload         4
     205: invokespecial #55                 // Method createLob:(Ljava/io/InputStream;I)Lorg/h2/value/ValueLobDb;
     208: astore        6
     210: iload         4
     212: aload_0
     213: getfield      #4                  // Field database:Lorg/h2/engine/Database;
     216: aload         6
     218: invokevirtual #72                 // Method org/h2/value/ValueLobDb.getTableId:()I
     221: aload         6
     223: invokevirtual #73                 // Method org/h2/value/ValueLobDb.getLobId:()J
     226: aconst_null
     227: aload         5
     229: invokevirtual #74                 // Method org/h2/store/CountingReaderInputStream.getLength:()J
     232: invokestatic  #75                 // Method org/h2/value/ValueLobDb.create:(ILorg/h2/store/DataHandler;IJ[BJ)Lorg/h2/value/ValueLobDb;
     235: astore        6
     237: aload         6
     239: areturn
     240: astore        5
     242: ldc           #56                 // int 90007
     244: aload         5
     246: iconst_0
     247: anewarray     #57                 // class java/lang/String
     250: invokestatic  #58                 // Method org/h2/message/DbException.get:(ILjava/lang/Throwable;[Ljava/lang/String;)Lorg/h2/message/DbException;
     253: athrow
     254: astore        5
     256: aload         5
     258: aconst_null
     259: invokestatic  #60                 // Method org/h2/message/DbException.convertIOException:(Ljava/io/IOException;Ljava/lang/String;)Lorg/h2/message/DbException;
     262: athrow
    Exception table:
       from    to  target type
           8   178   240   Class java/lang/IllegalStateException
         179   239   240   Class java/lang/IllegalStateException
           8   178   254   Class java/io/IOException
         179   239   254   Class java/io/IOException

  private org.h2.value.ValueLobDb createLob(java.io.InputStream, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
       4: aload_1
       5: invokevirtual #76                 // Method org/h2/mvstore/StreamStore.put:(Ljava/io/InputStream;)[B
       8: astore_3
       9: goto          20
      12: astore        4
      14: aload         4
      16: invokestatic  #78                 // Method org/h2/message/DbException.convertToIOException:(Ljava/lang/Throwable;)Ljava/io/IOException;
      19: athrow
      20: aload_0
      21: invokespecial #79                 // Method generateLobId:()J
      24: lstore        4
      26: aload_0
      27: getfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
      30: aload_3
      31: invokevirtual #80                 // Method org/h2/mvstore/StreamStore.length:([B)J
      34: lstore        6
      36: bipush        -2
      38: istore        8
      40: iconst_4
      41: anewarray     #2                  // class java/lang/Object
      44: dup
      45: iconst_0
      46: aload_3
      47: aastore
      48: dup
      49: iconst_1
      50: iload         8
      52: invokestatic  #81                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      55: aastore
      56: dup
      57: iconst_2
      58: lload         6
      60: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      63: aastore
      64: dup
      65: iconst_3
      66: iconst_0
      67: invokestatic  #81                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      70: aastore
      71: astore        9
      73: aload_0
      74: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
      77: lload         4
      79: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      82: aload         9
      84: invokevirtual #83                 // Method org/h2/mvstore/MVMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      87: pop
      88: iconst_2
      89: anewarray     #2                  // class java/lang/Object
      92: dup
      93: iconst_0
      94: aload_3
      95: aastore
      96: dup
      97: iconst_1
      98: lload         4
     100: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     103: aastore
     104: astore        10
     106: aload_0
     107: getfield      #13                 // Field refMap:Lorg/h2/mvstore/MVMap;
     110: aload         10
     112: getstatic     #84                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
     115: invokevirtual #83                 // Method org/h2/mvstore/MVMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     118: pop
     119: iload_2
     120: aload_0
     121: getfield      #4                  // Field database:Lorg/h2/engine/Database;
     124: iload         8
     126: lload         4
     128: aconst_null
     129: lload         6
     131: invokestatic  #75                 // Method org/h2/value/ValueLobDb.create:(ILorg/h2/store/DataHandler;IJ[BJ)Lorg/h2/value/ValueLobDb;
     134: astore        11
     136: aload         11
     138: areturn
    Exception table:
       from    to  target type
           0     9    12   Class java/lang/Exception

  private long generateLobId();
    Code:
       0: aload_0
       1: getfield      #3                  // Field nextLobIdSync:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #85                 // Field nextLobId:J
      11: lconst_0
      12: lcmp
      13: ifne          45
      16: aload_0
      17: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
      20: invokevirtual #35                 // Method org/h2/mvstore/MVMap.lastKey:()Ljava/lang/Object;
      23: checkcast     #29                 // class java/lang/Long
      26: astore_2
      27: aload_0
      28: aload_2
      29: ifnonnull     36
      32: lconst_1
      33: goto          42
      36: aload_2
      37: invokevirtual #30                 // Method java/lang/Long.longValue:()J
      40: lconst_1
      41: ladd
      42: putfield      #85                 // Field nextLobId:J
      45: aload_0
      46: dup
      47: getfield      #85                 // Field nextLobId:J
      50: dup2_x1
      51: lconst_1
      52: ladd
      53: putfield      #85                 // Field nextLobId:J
      56: aload_1
      57: monitorexit
      58: lreturn
      59: astore_3
      60: aload_1
      61: monitorexit
      62: aload_3
      63: athrow
    Exception table:
       from    to  target type
           7    58    59   any
          59    62    59   any

  public boolean isReadOnly();
    Code:
       0: aload_0
       1: getfield      #4                  // Field database:Lorg/h2/engine/Database;
       4: invokevirtual #19                 // Method org/h2/engine/Database.isReadOnly:()Z
       7: ireturn

  public org.h2.value.ValueLobDb copyLob(org.h2.value.ValueLobDb, int, long);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method init:()V
       4: aload_1
       5: invokevirtual #86                 // Method org/h2/value/ValueLobDb.getType:()I
       8: istore        5
      10: aload_1
      11: invokevirtual #73                 // Method org/h2/value/ValueLobDb.getLobId:()J
      14: lstore        6
      16: aload_1
      17: invokevirtual #87                 // Method org/h2/value/ValueLobDb.getPrecision:()J
      20: lstore        8
      22: lload         8
      24: lload_3
      25: lcmp
      26: ifeq          35
      29: ldc           #88                 // String Length is different
      31: invokestatic  #89                 // Method org/h2/message/DbException.throwInternalError:(Ljava/lang/String;)Ljava/lang/RuntimeException;
      34: athrow
      35: aload_0
      36: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
      39: lload         6
      41: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: invokevirtual #90                 // Method org/h2/mvstore/MVMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      47: checkcast     #32                 // class "[Ljava/lang/Object;"
      50: astore        10
      52: aload         10
      54: invokevirtual #91                 // Method "[Ljava/lang/Object;".clone:()Ljava/lang/Object;
      57: checkcast     #32                 // class "[Ljava/lang/Object;"
      60: astore        10
      62: aload         10
      64: iconst_0
      65: aaload
      66: checkcast     #33                 // class "[B"
      69: checkcast     #33                 // class "[B"
      72: astore        11
      74: aload_0
      75: invokespecial #79                 // Method generateLobId:()J
      78: lstore        12
      80: aload         10
      82: iconst_1
      83: iload_2
      84: invokestatic  #81                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      87: aastore
      88: aload_0
      89: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
      92: lload         12
      94: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      97: aload         10
      99: invokevirtual #83                 // Method org/h2/mvstore/MVMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     102: pop
     103: iconst_2
     104: anewarray     #2                  // class java/lang/Object
     107: dup
     108: iconst_0
     109: aload         11
     111: aastore
     112: dup
     113: iconst_1
     114: lload         12
     116: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     119: aastore
     120: astore        14
     122: aload_0
     123: getfield      #13                 // Field refMap:Lorg/h2/mvstore/MVMap;
     126: aload         14
     128: getstatic     #84                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
     131: invokevirtual #83                 // Method org/h2/mvstore/MVMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     134: pop
     135: iload         5
     137: aload_0
     138: getfield      #4                  // Field database:Lorg/h2/engine/Database;
     141: iload_2
     142: lload         12
     144: aconst_null
     145: lload_3
     146: invokestatic  #75                 // Method org/h2/value/ValueLobDb.create:(ILorg/h2/store/DataHandler;IJ[BJ)Lorg/h2/value/ValueLobDb;
     149: astore        15
     151: aload         15
     153: areturn

  public java.io.InputStream getInputStream(org.h2.value.ValueLobDb, byte[], long) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method init:()V
       4: aload_0
       5: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
       8: aload_1
       9: invokevirtual #73                 // Method org/h2/value/ValueLobDb.getLobId:()J
      12: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      15: invokevirtual #90                 // Method org/h2/mvstore/MVMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      18: checkcast     #32                 // class "[Ljava/lang/Object;"
      21: astore        5
      23: aload         5
      25: ifnonnull     123
      28: aload_1
      29: invokevirtual #72                 // Method org/h2/value/ValueLobDb.getTableId:()I
      32: bipush        -3
      34: if_icmpeq     45
      37: aload_1
      38: invokevirtual #72                 // Method org/h2/value/ValueLobDb.getTableId:()I
      41: iconst_m1
      42: if_icmpne     85
      45: ldc           #92                 // int 90039
      47: new           #42                 // class java/lang/StringBuilder
      50: dup
      51: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      54: ldc           #93                 // String
      56: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: aload_1
      60: invokevirtual #73                 // Method org/h2/value/ValueLobDb.getLobId:()J
      63: invokevirtual #48                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      66: ldc           #94                 // String /
      68: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: aload_1
      72: invokevirtual #72                 // Method org/h2/value/ValueLobDb.getTableId:()I
      75: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      78: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      81: invokestatic  #95                 // Method org/h2/message/DbException.get:(ILjava/lang/String;)Lorg/h2/message/DbException;
      84: athrow
      85: new           #42                 // class java/lang/StringBuilder
      88: dup
      89: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      92: ldc           #96                 // String Lob not found:
      94: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: aload_1
      98: invokevirtual #73                 // Method org/h2/value/ValueLobDb.getLobId:()J
     101: invokevirtual #48                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     104: ldc           #94                 // String /
     106: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: aload_1
     110: invokevirtual #72                 // Method org/h2/value/ValueLobDb.getTableId:()I
     113: invokevirtual #46                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     116: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokestatic  #89                 // Method org/h2/message/DbException.throwInternalError:(Ljava/lang/String;)Ljava/lang/RuntimeException;
     122: athrow
     123: aload         5
     125: iconst_0
     126: aaload
     127: checkcast     #33                 // class "[B"
     130: checkcast     #33                 // class "[B"
     133: astore        6
     135: aload_0
     136: getfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
     139: aload         6
     141: invokevirtual #97                 // Method org/h2/mvstore/StreamStore.get:([B)Ljava/io/InputStream;
     144: areturn

  public void removeAllForTable(int);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method init:()V
       4: aload_0
       5: getfield      #4                  // Field database:Lorg/h2/engine/Database;
       8: invokevirtual #6                  // Method org/h2/engine/Database.getMvStore:()Lorg/h2/mvstore/db/MVTableEngine$Store;
      11: invokevirtual #8                  // Method org/h2/mvstore/db/MVTableEngine$Store.getStore:()Lorg/h2/mvstore/MVStore;
      14: invokevirtual #98                 // Method org/h2/mvstore/MVStore.isClosed:()Z
      17: ifeq          21
      20: return
      21: invokestatic  #99                 // Method org/h2/util/New.arrayList:()Ljava/util/ArrayList;
      24: astore_2
      25: aload_0
      26: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
      29: invokevirtual #23                 // Method org/h2/mvstore/MVMap.entrySet:()Ljava/util/Set;
      32: invokeinterface #24,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      37: astore_3
      38: aload_3
      39: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          103
      47: aload_3
      48: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      53: checkcast     #27                 // class java/util/Map$Entry
      56: astore        4
      58: aload         4
      60: invokeinterface #31,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      65: checkcast     #32                 // class "[Ljava/lang/Object;"
      68: astore        5
      70: aload         5
      72: iconst_1
      73: aaload
      74: checkcast     #100                // class java/lang/Integer
      77: invokevirtual #101                // Method java/lang/Integer.intValue:()I
      80: istore        6
      82: iload         6
      84: iload_1
      85: if_icmpne     100
      88: aload_2
      89: aload         4
      91: invokeinterface #28,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      96: invokevirtual #102                // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      99: pop
     100: goto          38
     103: aload_2
     104: invokevirtual #103                // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
     107: astore_3
     108: aload_3
     109: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     114: ifeq          141
     117: aload_3
     118: invokeinterface #26,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     123: checkcast     #29                 // class java/lang/Long
     126: invokevirtual #30                 // Method java/lang/Long.longValue:()J
     129: lstore        4
     131: aload_0
     132: iload_1
     133: lload         4
     135: invokespecial #104                // Method removeLob:(IJ)V
     138: goto          108
     141: iload_1
     142: iconst_m1
     143: if_icmpne     158
     146: aload_0
     147: bipush        -2
     149: invokevirtual #105                // Method removeAllForTable:(I)V
     152: aload_0
     153: bipush        -3
     155: invokevirtual #105                // Method removeAllForTable:(I)V
     158: return

  public void removeLob(org.h2.value.ValueLobDb);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method init:()V
       4: aload_1
       5: invokevirtual #72                 // Method org/h2/value/ValueLobDb.getTableId:()I
       8: istore_2
       9: aload_1
      10: invokevirtual #73                 // Method org/h2/value/ValueLobDb.getLobId:()J
      13: lstore_3
      14: aload_0
      15: iload_2
      16: lload_3
      17: invokespecial #104                // Method removeLob:(IJ)V
      20: return

  private void removeLob(int, long);
    Code:
       0: aload_0
       1: getfield      #11                 // Field lobMap:Lorg/h2/mvstore/MVMap;
       4: lload_2
       5: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokevirtual #36                 // Method org/h2/mvstore/MVMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #32                 // class "[Ljava/lang/Object;"
      14: astore        4
      16: aload         4
      18: ifnonnull     22
      21: return
      22: aload         4
      24: iconst_0
      25: aaload
      26: checkcast     #33                 // class "[B"
      29: checkcast     #33                 // class "[B"
      32: astore        5
      34: iconst_2
      35: anewarray     #2                  // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload         5
      42: aastore
      43: dup
      44: iconst_1
      45: lload_2
      46: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      49: aastore
      50: astore        6
      52: aload_0
      53: getfield      #13                 // Field refMap:Lorg/h2/mvstore/MVMap;
      56: aload         6
      58: invokevirtual #36                 // Method org/h2/mvstore/MVMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      61: pop
      62: iconst_2
      63: anewarray     #2                  // class java/lang/Object
      66: dup
      67: iconst_0
      68: aload         5
      70: aastore
      71: dup
      72: iconst_1
      73: lconst_0
      74: invokestatic  #82                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      77: aastore
      78: astore        6
      80: aload_0
      81: getfield      #13                 // Field refMap:Lorg/h2/mvstore/MVMap;
      84: aload         6
      86: invokevirtual #106                // Method org/h2/mvstore/MVMap.ceilingKey:(Ljava/lang/Object;)Ljava/lang/Object;
      89: checkcast     #32                 // class "[Ljava/lang/Object;"
      92: astore        4
      94: iconst_0
      95: istore        7
      97: aload         4
      99: ifnull        127
     102: aload         4
     104: iconst_0
     105: aaload
     106: checkcast     #33                 // class "[B"
     109: checkcast     #33                 // class "[B"
     112: astore        8
     114: aload         5
     116: aload         8
     118: invokestatic  #107                // Method java/util/Arrays.equals:([B[B)Z
     121: ifeq          127
     124: iconst_1
     125: istore        7
     127: iload         7
     129: ifne          141
     132: aload_0
     133: getfield      #18                 // Field streamStore:Lorg/h2/mvstore/StreamStore;
     136: aload         5
     138: invokevirtual #108                // Method org/h2/mvstore/StreamStore.remove:([B)V
     141: return

  private static void trace(java.lang.String);
    Code:
       0: getstatic     #109                // Field java/lang/System.out:Ljava/io/PrintStream;
       3: new           #42                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #110                // String [
      12: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: invokestatic  #111                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      18: invokevirtual #112                // Method java/lang/Thread.getName:()Ljava/lang/String;
      21: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: ldc           #113                // String ] LOB
      26: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_0
      30: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokevirtual #114                // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      39: return
}
