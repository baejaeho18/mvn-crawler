Compiled from "TracingFilter.java"
public final class brave.servlet.TracingFilter implements javax.servlet.Filter {
  static final brave.propagation.Propagation$Getter<javax.servlet.http.HttpServletRequest, java.lang.String> GETTER;

  static final brave.servlet.HttpServletAdapter ADAPTER;

  final brave.servlet.ServletRuntime servlet;

  final brave.propagation.CurrentTraceContext currentTraceContext;

  final brave.Tracer tracer;

  final brave.http.HttpServerHandler<javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse> handler;

  final brave.propagation.TraceContext$Extractor<javax.servlet.http.HttpServletRequest> extractor;

  public static javax.servlet.Filter create(brave.Tracing);
    Code:
       0: new           #2                  // class brave/servlet/TracingFilter
       3: dup
       4: aload_0
       5: invokestatic  #48                 // Method brave/http/HttpTracing.create:(Lbrave/Tracing;)Lbrave/http/HttpTracing;
       8: invokespecial #52                 // Method "<init>":(Lbrave/http/HttpTracing;)V
      11: areturn

  public static javax.servlet.Filter create(brave.http.HttpTracing);
    Code:
       0: new           #2                  // class brave/servlet/TracingFilter
       3: dup
       4: aload_0
       5: invokespecial #52                 // Method "<init>":(Lbrave/http/HttpTracing;)V
       8: areturn

  brave.servlet.TracingFilter(brave.http.HttpTracing);
    Code:
       0: aload_0
       1: invokespecial #60                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #66                 // Method brave/servlet/ServletRuntime.get:()Lbrave/servlet/ServletRuntime;
       8: putfield      #68                 // Field servlet:Lbrave/servlet/ServletRuntime;
      11: aload_0
      12: aload_1
      13: invokevirtual #71                 // Method brave/http/HttpTracing.tracing:()Lbrave/Tracing;
      16: invokevirtual #76                 // Method brave/Tracing.tracer:()Lbrave/Tracer;
      19: putfield      #78                 // Field tracer:Lbrave/Tracer;
      22: aload_0
      23: aload_1
      24: invokevirtual #71                 // Method brave/http/HttpTracing.tracing:()Lbrave/Tracing;
      27: invokevirtual #81                 // Method brave/Tracing.currentTraceContext:()Lbrave/propagation/CurrentTraceContext;
      30: putfield      #83                 // Field currentTraceContext:Lbrave/propagation/CurrentTraceContext;
      33: aload_0
      34: aload_1
      35: getstatic     #85                 // Field ADAPTER:Lbrave/servlet/HttpServletAdapter;
      38: invokestatic  #90                 // Method brave/http/HttpServerHandler.create:(Lbrave/http/HttpTracing;Lbrave/http/HttpServerAdapter;)Lbrave/http/HttpServerHandler;
      41: putfield      #92                 // Field handler:Lbrave/http/HttpServerHandler;
      44: aload_0
      45: aload_1
      46: invokevirtual #71                 // Method brave/http/HttpTracing.tracing:()Lbrave/Tracing;
      49: invokevirtual #96                 // Method brave/Tracing.propagation:()Lbrave/propagation/Propagation;
      52: getstatic     #98                 // Field GETTER:Lbrave/propagation/Propagation$Getter;
      55: invokeinterface #101,  2          // InterfaceMethod brave/propagation/Propagation.extractor:(Lbrave/propagation/Propagation$Getter;)Lbrave/propagation/TraceContext$Extractor;
      60: putfield      #103                // Field extractor:Lbrave/propagation/TraceContext$Extractor;
      63: return

  public void doFilter(javax.servlet.ServletRequest, javax.servlet.ServletResponse, javax.servlet.FilterChain) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_1
       1: checkcast     #117                // class javax/servlet/http/HttpServletRequest
       4: astore        4
       6: aload_0
       7: getfield      #68                 // Field servlet:Lbrave/servlet/ServletRuntime;
      10: aload_2
      11: invokevirtual #121                // Method brave/servlet/ServletRuntime.httpResponse:(Ljavax/servlet/ServletResponse;)Ljavax/servlet/http/HttpServletResponse;
      14: astore        5
      16: aload_1
      17: ldc           #18                 // class brave/propagation/TraceContext
      19: invokevirtual #127                // Method java/lang/Class.getName:()Ljava/lang/String;
      22: invokeinterface #133,  2          // InterfaceMethod javax/servlet/ServletRequest.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
      27: checkcast     #18                 // class brave/propagation/TraceContext
      30: astore        6
      32: aload         6
      34: ifnull        79
      37: aload_0
      38: getfield      #83                 // Field currentTraceContext:Lbrave/propagation/CurrentTraceContext;
      41: aload         6
      43: invokevirtual #137                // Method brave/propagation/CurrentTraceContext.maybeScope:(Lbrave/propagation/TraceContext;)Lbrave/propagation/CurrentTraceContext$Scope;
      46: astore        7
      48: aload_3
      49: aload_1
      50: aload_2
      51: invokeinterface #142,  3          // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
      56: aload         7
      58: invokeinterface #145,  1          // InterfaceMethod brave/propagation/CurrentTraceContext$Scope.close:()V
      63: goto          78
      66: astore        8
      68: aload         7
      70: invokeinterface #145,  1          // InterfaceMethod brave/propagation/CurrentTraceContext$Scope.close:()V
      75: aload         8
      77: athrow
      78: return
      79: aload_0
      80: getfield      #92                 // Field handler:Lbrave/http/HttpServerHandler;
      83: aload_0
      84: getfield      #103                // Field extractor:Lbrave/propagation/TraceContext$Extractor;
      87: aload         4
      89: invokevirtual #155                // Method brave/http/HttpServerHandler.handleReceive:(Lbrave/propagation/TraceContext$Extractor;Ljava/lang/Object;)Lbrave/Span;
      92: astore        7
      94: aload_1
      95: ldc           #157                // class brave/SpanCustomizer
      97: invokevirtual #127                // Method java/lang/Class.getName:()Ljava/lang/String;
     100: aload         7
     102: invokevirtual #163                // Method brave/Span.customizer:()Lbrave/SpanCustomizer;
     105: invokeinterface #167,  3          // InterfaceMethod javax/servlet/ServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     110: aload_1
     111: ldc           #18                 // class brave/propagation/TraceContext
     113: invokevirtual #127                // Method java/lang/Class.getName:()Ljava/lang/String;
     116: aload         7
     118: invokevirtual #171                // Method brave/Span.context:()Lbrave/propagation/TraceContext;
     121: invokeinterface #167,  3          // InterfaceMethod javax/servlet/ServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
     126: aconst_null
     127: astore        8
     129: aload_0
     130: getfield      #83                 // Field currentTraceContext:Lbrave/propagation/CurrentTraceContext;
     133: aload         7
     135: invokevirtual #171                // Method brave/Span.context:()Lbrave/propagation/TraceContext;
     138: invokevirtual #174                // Method brave/propagation/CurrentTraceContext.newScope:(Lbrave/propagation/TraceContext;)Lbrave/propagation/CurrentTraceContext$Scope;
     141: astore        9
     143: aload_3
     144: aload         4
     146: aload         5
     148: invokeinterface #142,  3          // InterfaceMethod javax/servlet/FilterChain.doFilter:(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     153: aload         9
     155: invokeinterface #145,  1          // InterfaceMethod brave/propagation/CurrentTraceContext$Scope.close:()V
     160: aload_0
     161: getfield      #68                 // Field servlet:Lbrave/servlet/ServletRuntime;
     164: aload         4
     166: invokevirtual #178                // Method brave/servlet/ServletRuntime.isAsync:(Ljavax/servlet/http/HttpServletRequest;)Z
     169: ifeq          192
     172: aload_0
     173: getfield      #68                 // Field servlet:Lbrave/servlet/ServletRuntime;
     176: aload_0
     177: getfield      #92                 // Field handler:Lbrave/http/HttpServerHandler;
     180: aload         4
     182: aload         5
     184: aload         7
     186: invokevirtual #182                // Method brave/servlet/ServletRuntime.handleAsync:(Lbrave/http/HttpServerHandler;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lbrave/Span;)V
     189: goto          290
     192: aload_0
     193: getfield      #92                 // Field handler:Lbrave/http/HttpServerHandler;
     196: getstatic     #85                 // Field ADAPTER:Lbrave/servlet/HttpServletAdapter;
     199: aload         4
     201: aload         5
     203: invokevirtual #188                // Method brave/servlet/HttpServletAdapter.adaptResponse:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljavax/servlet/http/HttpServletResponse;
     206: aload         8
     208: aload         7
     210: invokevirtual #192                // Method brave/http/HttpServerHandler.handleSend:(Ljava/lang/Object;Ljava/lang/Throwable;Lbrave/Span;)V
     213: goto          290
     216: astore        10
     218: aload         10
     220: astore        8
     222: aload         10
     224: athrow
     225: astore        11
     227: aload         9
     229: invokeinterface #145,  1          // InterfaceMethod brave/propagation/CurrentTraceContext$Scope.close:()V
     234: aload_0
     235: getfield      #68                 // Field servlet:Lbrave/servlet/ServletRuntime;
     238: aload         4
     240: invokevirtual #178                // Method brave/servlet/ServletRuntime.isAsync:(Ljavax/servlet/http/HttpServletRequest;)Z
     243: ifeq          266
     246: aload_0
     247: getfield      #68                 // Field servlet:Lbrave/servlet/ServletRuntime;
     250: aload_0
     251: getfield      #92                 // Field handler:Lbrave/http/HttpServerHandler;
     254: aload         4
     256: aload         5
     258: aload         7
     260: invokevirtual #182                // Method brave/servlet/ServletRuntime.handleAsync:(Lbrave/http/HttpServerHandler;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lbrave/Span;)V
     263: goto          287
     266: aload_0
     267: getfield      #92                 // Field handler:Lbrave/http/HttpServerHandler;
     270: getstatic     #85                 // Field ADAPTER:Lbrave/servlet/HttpServletAdapter;
     273: aload         4
     275: aload         5
     277: invokevirtual #188                // Method brave/servlet/HttpServletAdapter.adaptResponse:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Ljavax/servlet/http/HttpServletResponse;
     280: aload         8
     282: aload         7
     284: invokevirtual #192                // Method brave/http/HttpServerHandler.handleSend:(Ljava/lang/Object;Ljava/lang/Throwable;Lbrave/Span;)V
     287: aload         11
     289: athrow
     290: return
    Exception table:
       from    to  target type
          48    56    66   any
          66    68    66   any
         143   153   216   Class java/io/IOException
         143   153   216   Class javax/servlet/ServletException
         143   153   216   Class java/lang/RuntimeException
         143   153   216   Class java/lang/Error
         143   153   225   any
         216   227   225   any

  public void destroy();
    Code:
       0: return

  public void init(javax.servlet.FilterConfig);
    Code:
       0: return

  static {};
    Code:
       0: new           #9                  // class brave/servlet/TracingFilter$1
       3: dup
       4: invokespecial #216                // Method brave/servlet/TracingFilter$1."<init>":()V
       7: putstatic     #98                 // Field GETTER:Lbrave/propagation/Propagation$Getter;
      10: new           #184                // class brave/servlet/HttpServletAdapter
      13: dup
      14: invokespecial #217                // Method brave/servlet/HttpServletAdapter."<init>":()V
      17: putstatic     #85                 // Field ADAPTER:Lbrave/servlet/HttpServletAdapter;
      20: return
}
