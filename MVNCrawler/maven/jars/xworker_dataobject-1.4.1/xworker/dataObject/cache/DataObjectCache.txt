Compiled from "DataObjectCache.java"
public class xworker.dataObject.cache.DataObjectCache {
  private static java.util.Map<java.lang.String, java.util.Map<java.lang.Object, xworker.dataObject.cache.DataObjectCacheEntry>> caches;

  private static java.lang.ThreadLocal<xworker.dataObject.cache.ThreadLocalCache> threadLocalCaches;

  public xworker.dataObject.cache.DataObjectCache();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static synchronized xworker.dataObject.DataObject getDataObject(org.xmeta.Thing, java.lang.String, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method org/xmeta/Thing.getMetadata:()Lorg/xmeta/ThingMetadata;
       4: invokevirtual #3                  // Method org/xmeta/ThingMetadata.getPath:()Ljava/lang/String;
       7: astore_3
       8: getstatic     #4                  // Field caches:Ljava/util/Map;
      11: aload_3
      12: invokeinterface #5,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      17: checkcast     #6                  // class java/util/Map
      20: astore        4
      22: aload         4
      24: ifnonnull     48
      27: new           #7                  // class java/util/HashMap
      30: dup
      31: invokespecial #8                  // Method java/util/HashMap."<init>":()V
      34: astore        4
      36: getstatic     #4                  // Field caches:Ljava/util/Map;
      39: aload_3
      40: aload         4
      42: invokeinterface #9,  3            // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      47: pop
      48: aload         4
      50: aload_2
      51: invokeinterface #5,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      56: checkcast     #10                 // class xworker/dataObject/cache/DataObjectCacheEntry
      59: astore        5
      61: aload         5
      63: ifnull        106
      66: aload_0
      67: ldc           #11                 // String cacheRelationTimeout
      69: invokevirtual #12                 // Method org/xmeta/Thing.getLong:(Ljava/lang/String;)J
      72: lstore        6
      74: lload         6
      76: lconst_0
      77: lcmp
      78: ifle          100
      81: invokestatic  #13                 // Method java/lang/System.currentTimeMillis:()J
      84: aload         5
      86: getfield      #14                 // Field xworker/dataObject/cache/DataObjectCacheEntry.cacheTime:J
      89: lsub
      90: lload         6
      92: ldc2_w        #15                 // long 1000l
      95: lmul
      96: lcmp
      97: ifge          106
     100: aload         5
     102: getfield      #17                 // Field xworker/dataObject/cache/DataObjectCacheEntry.dataObject:Lxworker/dataObject/DataObject;
     105: areturn
     106: new           #18                 // class xworker/dataObject/DataObject
     109: dup
     110: aload_3
     111: invokespecial #19                 // Method xworker/dataObject/DataObject."<init>":(Ljava/lang/String;)V
     114: astore        6
     116: aload         6
     118: aload_1
     119: aload_2
     120: invokevirtual #20                 // Method xworker/dataObject/DataObject.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     123: pop
     124: aload         6
     126: iconst_0
     127: invokevirtual #21                 // Method xworker/dataObject/DataObject.setInited:(Z)V
     130: aload_0
     131: ldc           #22                 // String cacheRelationMaxSize
     133: invokevirtual #23                 // Method org/xmeta/Thing.getInt:(Ljava/lang/String;)I
     136: ifle          155
     139: aload         4
     141: invokeinterface #24,  1           // InterfaceMethod java/util/Map.size:()I
     146: aload_0
     147: ldc           #22                 // String cacheRelationMaxSize
     149: invokevirtual #23                 // Method org/xmeta/Thing.getInt:(Ljava/lang/String;)I
     152: if_icmpge     182
     155: new           #10                 // class xworker/dataObject/cache/DataObjectCacheEntry
     158: dup
     159: invokespecial #25                 // Method xworker/dataObject/cache/DataObjectCacheEntry."<init>":()V
     162: astore        5
     164: aload         5
     166: aload         6
     168: putfield      #17                 // Field xworker/dataObject/cache/DataObjectCacheEntry.dataObject:Lxworker/dataObject/DataObject;
     171: aload         4
     173: aload_2
     174: aload         5
     176: invokeinterface #9,  3            // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     181: pop
     182: aload         6
     184: areturn

  public static synchronized void clearCache();
    Code:
       0: getstatic     #4                  // Field caches:Ljava/util/Map;
       3: invokeinterface #26,  1           // InterfaceMethod java/util/Map.clear:()V
       8: return

  public static synchronized void clearCache(java.lang.String);
    Code:
       0: getstatic     #4                  // Field caches:Ljava/util/Map;
       3: aload_0
       4: invokeinterface #5,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
       9: checkcast     #6                  // class java/util/Map
      12: astore_1
      13: aload_1
      14: ifnull        34
      17: aload_1
      18: invokeinterface #26,  1           // InterfaceMethod java/util/Map.clear:()V
      23: getstatic     #4                  // Field caches:Ljava/util/Map;
      26: aload_0
      27: aconst_null
      28: invokeinterface #9,  3            // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      33: pop
      34: return

  public static synchronized void clearCache(java.lang.String, java.lang.Object);
    Code:
       0: getstatic     #4                  // Field caches:Ljava/util/Map;
       3: aload_0
       4: invokeinterface #5,  2            // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
       9: checkcast     #6                  // class java/util/Map
      12: astore_2
      13: aload_2
      14: ifnull        25
      17: aload_2
      18: aload_1
      19: invokeinterface #27,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      24: pop
      25: return

  public static void begin();
    Code:
       0: getstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
       3: invokevirtual #29                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #30                 // class xworker/dataObject/cache/ThreadLocalCache
       9: astore_0
      10: aload_0
      11: ifnonnull     29
      14: new           #30                 // class xworker/dataObject/cache/ThreadLocalCache
      17: dup
      18: invokespecial #31                 // Method xworker/dataObject/cache/ThreadLocalCache."<init>":()V
      21: astore_0
      22: getstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
      25: aload_0
      26: invokevirtual #32                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      29: aload_0
      30: dup
      31: getfield      #33                 // Field xworker/dataObject/cache/ThreadLocalCache.count:I
      34: iconst_1
      35: iadd
      36: putfield      #33                 // Field xworker/dataObject/cache/ThreadLocalCache.count:I
      39: return

  public static void finish();
    Code:
       0: getstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
       3: invokevirtual #29                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #30                 // class xworker/dataObject/cache/ThreadLocalCache
       9: astore_0
      10: aload_0
      11: ifnonnull     29
      14: new           #30                 // class xworker/dataObject/cache/ThreadLocalCache
      17: dup
      18: invokespecial #31                 // Method xworker/dataObject/cache/ThreadLocalCache."<init>":()V
      21: astore_0
      22: getstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
      25: aload_0
      26: invokevirtual #32                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      29: aload_0
      30: dup
      31: getfield      #33                 // Field xworker/dataObject/cache/ThreadLocalCache.count:I
      34: iconst_1
      35: isub
      36: putfield      #33                 // Field xworker/dataObject/cache/ThreadLocalCache.count:I
      39: aload_0
      40: getfield      #33                 // Field xworker/dataObject/cache/ThreadLocalCache.count:I
      43: ifne          50
      46: aload_0
      47: invokevirtual #34                 // Method xworker/dataObject/cache/ThreadLocalCache.clearCache:()V
      50: return

  public static synchronized xworker.dataObject.DataObject getDataObjectThreadCache(org.xmeta.Thing, java.lang.String, java.lang.Object);
    Code:
       0: getstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
       3: invokevirtual #29                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       6: checkcast     #30                 // class xworker/dataObject/cache/ThreadLocalCache
       9: astore_3
      10: aload_3
      11: ifnonnull     29
      14: new           #30                 // class xworker/dataObject/cache/ThreadLocalCache
      17: dup
      18: invokespecial #31                 // Method xworker/dataObject/cache/ThreadLocalCache."<init>":()V
      21: astore_3
      22: getstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
      25: aload_3
      26: invokevirtual #32                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      29: aload_3
      30: aload_0
      31: aload_1
      32: aload_2
      33: invokevirtual #35                 // Method xworker/dataObject/cache/ThreadLocalCache.getDataObject:(Lorg/xmeta/Thing;Ljava/lang/String;Ljava/lang/Object;)Lxworker/dataObject/DataObject;
      36: areturn

  static {};
    Code:
       0: new           #7                  // class java/util/HashMap
       3: dup
       4: invokespecial #8                  // Method java/util/HashMap."<init>":()V
       7: putstatic     #4                  // Field caches:Ljava/util/Map;
      10: new           #36                 // class java/lang/ThreadLocal
      13: dup
      14: invokespecial #37                 // Method java/lang/ThreadLocal."<init>":()V
      17: putstatic     #28                 // Field threadLocalCaches:Ljava/lang/ThreadLocal;
      20: return
}
