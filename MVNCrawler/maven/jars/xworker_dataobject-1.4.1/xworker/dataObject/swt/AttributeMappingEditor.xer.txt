^1395123843639
@xworker.dataObject.swt.AttributeMappingEditor
sname
AttributeMappingEditor
slabel
AttributeMappingEditor
sdescription
<p>快速编辑Csv数据对象属性的编辑器。</p>
sid
AttributeMappingEditor
sdescriptors
xworker.swt.widgets.Display
@xworker.dataObject.swt.AttributeMappingEditor/@shell
sname
shell
stext
数据对象属性映射
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
800
sheight
400
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
shell
sdescriptors
xworker.swt.widgets.Display/@Shell
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@shellGridLayout
sname
shellGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sid
shellGridLayout
slabel
shellGridLayout
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable
sname
dataTable
sselectStyle
SINGLE
sV_SCROLL
true
sH_SCROLL
true
sCHECK
true
sFULL_SELECTION
true
sHIDE_SELECTION
false
sBORDER
true
slineVisible
true
smultipleColumns
true
sheaderVisible
true
ssortIndicator
true
smoveableColumns
true
sheadImages
false
ssubImages
false
sVIRTUAL
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
dataTable
slabel
dataTable
sdescriptors
xworker.swt.Widgets/@Table
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataTableGridData
sname
dataTableGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sid
dataTableGridData
slabel
dataTableGridData
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore
sname
dataStore
sattachToParent
true
sloadBackground
true
sautoLoad
false
sautoSave
false
spaging
extend
spageSize
50
sstoreSortField
_extend
sstoreSortDir
ASC
seditable
extend
seditmethod
extend
sid
dataStore
slabel
dataStore
sdescriptors
xworker.swt.widgets.Table/@DataStore
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects
sname
dataObjects
sid
dataObjects
slabel
dataObjects
sdescriptors
xworker.app.view.swt.data.DataStore/@DataObjects
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject
sname
ListDataObject
slistData
attributes
seditCols
2
spaging
true
sreadUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@read
screateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@create
supdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@update
sdestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectStore/@destroy
LstoreAutoDestroy
false
sstoreAutoLoad
false
LstoreAutoSave
true
LstoreBatch
true
LstorePruneModifiedRecords
false
LstoreRemoteSort
false
LstoreRestful
false
sstoreRoot
'rows'
sstoreSuccessProperty
'success'
sstoreTotalProperty
'totalCount'
sstoreMessageProperty
'msg'
sgridEditable
true
sformReadUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@read
sformCreateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@create
sformUpdateUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@update
sformDestroyUrl
do?sc=xworker.app.view.extjs.server.DataObjectForm/@delete
spaging_afterPageText
页 共
spaging_beforePageText
第
Lpaging_displayInfo
false
spaging_displayMsg
第{0}-第{1}条，共{2}条
spaging_emptyMsg
没有数据
spaging_firstText
首页
spaging_lastText
最后一页
spaging_nextText
下一页
Lpaging_prependButtons
false
spaging_prevText
上一页
spaging_refreshText
刷新
sgridColumnLocking
false
sgridLockText
'锁定'
sgridUnlockText
'解锁'
scolumnGroup
false
sgridCheckable
false
sgridRowNumber
false
sgridGrouping
false
sgridGroupTextTpl
'{text} ({[values.rs.length]} 条)'
sgridRowExpander
false
sautoGenerateId
false
sidGenerateType
action
sidAction
generateId
sstoreSortDir
ASC
sautoInit
false
sautoInitAction
autoInit
scacheRelation
false
scacheRelationMaxSize
1000
scacheRelationReadnone
false
sid
ListDataObject
sdescriptors
xworker.dataObject.DataObjects/@ListDataObject
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@colName
sname
colName
slabel
烈名
spropertyPath
colName
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
false
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
colName
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@colTitle
sname
colTitle
slabel
列标题
spropertyPath
colTitle
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
false
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
120
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
colTitle
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@attributeName
sname
attributeName
slabel
属性名
spropertyPath
attributeName
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
120
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
attributeName
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@attributeLabel
sname
attributeLabel
slabel
属性标签
spropertyPath
attributeLabel
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
120
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
attributeLabel
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@type
sname
type
slabel
类型
spropertyPath
type
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sinputtype
select
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
type
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sextends
xworker.dataObject.Attribute/@type
sth_createIndex
false
sth_mark
false
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@inputtype
sname
inputtype
slabel
编辑方式
spropertyPath
inputtype
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sinputtype
inputSelect
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
inputtype
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
sextends
xworker.dataObject.AttributeEditConfig/@inputtype
sth_createIndex
false
sth_mark
false
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@rowspan
sname
rowspan
slabel
跨行
spropertyPath
rowspan
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
60
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
rowspan
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@colspan
sname
colspan
slabel
跨列
spropertyPath
colspan
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridWidth
60
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
colspan
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@dataObjects/@ListDataObject/@queryEditor
sname
queryEditor
slabel
可查询
spropertyPath
queryEditor
stype
string
soptional
true
skey
false
sdataField
true
sviewField
true
sreadField
true
screateEditor
true
seditEditor
true
sviewEditor
true
sgridEditor
true
squeryEditor
true
sinputtype
truefalse
sreadOnly
false
seditable
true
sshowLabel
true
slabelAlign
right
slabelVAlign
baseline
svalidateAllowBlank
true
LvalidateOnBlur
true
LallowDecimals
true
LallowNegative
true
sshowInTable
true
sgridFixed
false
sgridHidden
false
sgridHideable
true
sgridSortable
false
scolumnLocked
false
sgridGroupable
true
sgridMenuDisabled
false
sgridResizable
true
sid
queryEditor
sdescriptors
xworker.dataObject.java.ListDataObject/@attribute
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@Listeners
sname
Listeners
sid
Listeners
slabel
Listeners
sdescriptors
xworker.app.view.swt.data.DataStore/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@Listeners/@Listener
sname
Listener
safterAttach
true
sid
Listener
sdescriptors
xworker.app.view.swt.data.DataStore/@Listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@Listeners/@Listener/@actions
sname
actions
sid
actions
slabel
actions
sdescriptors
xworker.app.view.swt.data.DataStore/@Listeners/@Listener/@actions1
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@dataTable/@dataStore/@Listeners/@Listener/@actions/@afterLoaded
sname
onLoaded
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
dataTable.display.asyncExec({
    int index = 0;
    for(item in dataTable.getItems()){
        if(attributes.get(index).checked){
            item.setChecked(true);
        }
        index++;
    }
});
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
sid
afterLoaded
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
4526
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4527
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sid
4527
slabel
buttonCompositeGridData
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4528
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sid
4528
slabel
buttonCompositeRowLayout
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327
sname
selectAllButton
stext
全选
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
3327
slabel
selectAllButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3328
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
3328
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3329
sname
Listeners
sid
3329
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3329/@3330
sname
selectAllButtonSelection
stype
Selection
sid
3330
slabel
selectAllButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3329/@3330/@Iterator
sname
Iterator
svarName
item
scollectionName
dataTable.getItems()
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@Iterate
sth_createIndex
false
sth_mark
false
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3329/@3330/@Iterator/@ChildAction
sname
ChildAction
sdescriptors
xworker.lang.actions.Iterator/@ChildAction
sth_createIndex
false
sth_mark
false
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3329/@3330/@Iterator/@ChildAction/@setChecked
sname
setChecked
sobject
item
smethod
setChecked
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sid
setChecked
sdescriptors
xworker.lang.actions.Actions/@MethodCall
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3327/@3329/@3330/@Iterator/@ChildAction/@setChecked/@true
sname
true
stype
boolean
svalue
true
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sid
true
sdescriptors
xworker.lang.actions.MethodCall/@ValueFactory
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451
sname
unSelectAllButton
stext
全不选
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
3451
slabel
unSelectAllButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3452
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
3452
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3453
sname
Listeners
sid
3453
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3453/@3454
sname
unSelectAllButtonSelection
stype
Selection
sid
3454
slabel
unSelectAllButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3453/@3454/@Iterator
sname
Iterator
svarName
item
scollectionName
dataTable.getItems()
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
sdisableGlobalContext
false
sdescriptors
xworker.lang.actions.Actions/@Iterate
sth_createIndex
false
sth_mark
false
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3453/@3454/@Iterator/@ChildAction
sname
ChildAction
sdescriptors
xworker.lang.actions.Iterator/@ChildAction
sth_createIndex
false
sth_mark
false
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3453/@3454/@Iterator/@ChildAction/@setChecked
sname
setChecked
sobject
item
smethod
setChecked
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sid
setChecked
sdescriptors
xworker.lang.actions.Actions/@MethodCall
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3451/@3453/@3454/@Iterator/@ChildAction/@setChecked/@true
sname
false
stype
boolean
svalue
false
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
sattributeTemplate
false
schildsAttributeTemplate
false
svarScope
Local
sisSynchronized
false
sthrowException
true
suseOtherAction
false
sdisableGlobalContext
false
sid
true
sdescriptors
xworker.lang.actions.MethodCall/@ValueFactory
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3455
sname
copyColNameTitle
stext
拷贝名称标签
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
3455
slabel
copyColNameTitle
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3455/@3456
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
3456
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3455/@3457
sname
Listeners
sid
3457
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3455/@3457/@3458
sname
copyColNameTitleSelection
stype
Selection
sid
3458
slabel
copyColNameTitleSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@3455/@3457/@3458/@copyName
sname
copyName
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
for(attribute in attributes){
    if(attribute.attributeName == null || attribute.attributeName == ""){
        attribute.attributeName = attribute.colName;
    }
    if(attribute.attributeLabel == null || attribute.attributeLabel == ""){
        if(attribute.colTitle == null || attribute.colTitle == ""){
            attribute.attributeLabel = attribute.colName;
        }else{
            attribute.attributeLabel = attribute.colTitle;
        }
    }
}

int index = 0;
for(item in dataTable.getItems()){
    attributes.get(index).checked = item.getChecked();
    index++;
}

dataStore.doAction("load", actionContext);
#$@text#$@
sid
copyName
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@6949
sname
helpButton
stext
帮助
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
6949
slabel
helpButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@6949/@6950
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
6950
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@6949/@6951
sname
Listeners
sid
6951
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@6949/@6951/@6952
sname
helpButtonSelection
stype
Selection
sid
6952
slabel
helpButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@6949/@6951/@6952/@openHelp
sname
openHelp
ssingleInstance
true
sanotherThread
false
sparent
shell
sshellPath
xworker.dataObject.swt.AttributeMappingEditor/@shellHelp
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sid
openHelp
sdescriptors
xworker.swt.actions.ShellActions/@OpenShell
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4529
sname
okButton
stext
确定
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
4529
slabel
okButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4529/@4530
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
4530
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4529/@4531
sname
Listeners
sid
4531
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4529/@4531/@4532
sname
okButtonSelection
stype
Selection
sid
4532
slabel
okButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4529/@4531/@4532/@saveThing
sname
saveThing
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.xmeta.Thing;

import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.TreeItem;
import org.eclipse.swt.widgets.MessageBox;

import xworker.swt.util.XWorkerTreeUtil;

boolean checked = false;
def treeItem = thingContext.get("innerOutline").getSelection()[0];
for(item in dataTable.getItems()){
    def data = item.getData();
    if(item.getChecked()){
        checked = true;
        //已存在修改，不存在增加
        def have = false;
        for(attr in thing.get("attribute@")){
            if(attr.get(mappingFieldName) == data.colName){
                have = true;
                attr.put("name", data.attributeName);
                attr.put("label", data.attributeLabel);
                attr.put("inputtype", data.inputtype);
                attr.put("type", data.type);
                attr.put("colspan", data.colspan);
                attr.put("rowspan", data.rowspan);
                attr.put("queryEditor", data.queryEditor);
                break;
            }
        }
        if(!have){
            def attr = new Thing(attributeDescritpor);
            attr.put("name", data.attributeName);
            attr.put("label", data.attributeLabel);
            attr.put("inputtype", data.inputtype);
            attr.put("type", data.type);
            attr.put("colspan", data.colspan);
            attr.put("rowspan", data.rowspan);
            attr.put(mappingFieldName, data.colName);
            attr.put("queryEditor", data.queryEditor);
            thing.addChild(attr);
            
            //更新Outline
            def childTreeItem = new TreeItem(treeItem, SWT.NONE);
            childTreeItem.setText(attr.metadata.label + " (" + attr.thingName + ")");            
            childTreeItem.setData(attr);
            XWorkerTreeUtil.initItem(childTreeItem, attr, actionContext);
        }
    }else{
        //删除对应的属性
        for(attr in thing.get("attribute@")){
            if(attr.get(mappingFieldName) == data.colName){
                thing.removeChild(attr);
                for(childItem in treeItem.getItems()){
                    if(childItem.getData() == attr){
                        childItem.dispose();
                    }
                }
                break;
            }
        }
    }
}

if(!checked){
    def box = new MessageBox(shell, SWT.ICON_WARNING | SWT.OK);
    box.setText("保存");
    box.setMessage("没有选择任何记录，表示删除所有字段，确定？");
    box.open();
    return;
}

if(thingContext.get("okButtonSelection") != null){
    thingContext.okButtonSelection.handleEvent(null);
}else{
    thing.save();
}
shell.dispose();
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
screateLocalVarScope
false
ssaveReturn
false
sid
saveThing
sdescriptors
xworker.lang.actions.Actions/@GroovyAction
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4533
sname
cancelButton
stext
取消
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
4533
slabel
cancelButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4533/@4534
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
4534
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4533/@4535
sname
Listeners
sid
4535
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4533/@4535/@4536
sname
cancelButtonSelection
stype
Selection
sid
4536
slabel
cancelButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@4526/@4533/@4535/@4536/@shellDispose
sname
shellDispose
sshellName
shell
smethod
dispose
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sid
shellDispose
sdescriptors
xworker.swt.actions.ShellActions/@ShellNormalActions1
@xworker.dataObject.swt.AttributeMappingEditor/@shell/@init
sname
init
sisSynchronized
false
sthrowException
true
suseOtherAction
false
svarScope
Local
sdisableGlobalContext
false
Scode
#$@text#$@
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.MessageBox;

try{
    if(!thing.doAction("isMappingAble", actionContext)){
        shell.setData("menuShellDispose", true);
        throw new Exception("DataObject can not mapping attribute.");
    }
}catch(Exception e){
    log.error("isMappingable error", e);
    def box = new MessageBox(shell, SWT.ICON_INFORMATION | SWT.OK);
    box.setText("提示");
    box.setMessage("" + e.getCause().getCause().getMessage());
    box.open();
    shell.setData("menuShellDispose", true);
    return;
}


def mappingFields = thing.doAction("getMappingFields", actionContext);
def mappingFieldName = thing.doAction("getMappingAttributeName", actionContext);
actionContext.getScope(0).put("mappingFieldName", mappingFieldName);
def thingAttrs = thing.get("attribute@");
def attributes = [];
for(field in mappingFields){
    addAttribute(attributes, field.colName, field.colTitle, thingAttrs, mappingFieldName);
}

//初始化表格
actionContext.getScope(0).put("attributes", attributes);
actionContext.getScope(0).put("attributeDescritpor", thing.doAction("getAttributeDescriptor", actionContext));
dataStore.doAction("load", actionContext);

def addAttribute(attributes, colName, colTitle, thingAttrs, mappingFieldName){
    def attr = ["colName":colName, "colTitle":colTitle, "checked":false, "type":"string",
            "attributeName":colName, "attributeLabel":colTitle==null?colName:colTitle];
    for(thingAttr in thingAttrs){
        if(thingAttr.get(mappingFieldName) == colName){
            attr.checked = true;
            attr.attributeName = thingAttr.name;
            attr.attributeLabel = thingAttr.label;
            attr.inputtype = thingAttr.inputtype;
            attr.type = thingAttr.type;
            if(attr.type == null){
                attr.type = "";
            }
            attr.colspan = thingAttr.colspan;
            if(attr.colspan == null){
                attr.colspan = "";
            }
            attr.rowspan = thingAttr.rowspan;       
            if(attr.rowspan == null){
                attr.rowspan = "";
            }
            attr.queryEditor = thingAttr.queryEditor;     
            break;
        }
    }
    attributes.add(attr);
}
#$@text#$@
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Action
sid
init
sdescriptors
xworker.swt.Widgets/@Code
@xworker.dataObject.swt.AttributeMappingEditor/@description
sname
description
Sdescription
#$@text#$@
<p><strong>说明：</strong></p>
<ul>
    <li><strong>快速编辑器功能说明。<br />
    </strong>主要用于编辑和数据源的列和数据对象的属性映射，并编辑属性的部分属性，没有和源的列对应的属性不编辑。<br />
    &nbsp;</li>
    <li><strong>属性添加和删除说明。</strong><br />
    &nbsp;选择框选中的行，如果数据对象没有对应的属性名，那么添加，否则更新。如果行的选择框没有勾选且属性名在数据对象的属性有对应的，那么对应的属性将被删除。<br />
    属性名为空的行对数据对象的属性没有影响。<br />
    &nbsp;</li>
    <li><strong>数据对象属性的顺序。</strong><br />
    表格中的行顺序仅是数据源的列的顺序，不修改数据对象属性的顺序。<br />
    &nbsp;</li>
    <li><strong>为什么表格中没有数据？<br />
    </strong>确定数据源有列，确定数据对象有快速编辑映射列的功能。</li>
</ul>
<p>&nbsp;</p>
#$@text#$@
sid
description
slabel
description
sdescriptors
xworker.swt.widgets.Display/@scripts1
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp
sname
shellHelp
stext
帮助
sNO_TRIM
false
sCLOSE
true
sTITLE
true
sMIN
true
sMAX
true
sBORDER
false
sRESIZE
true
sON_TOP
false
sTOOL
false
sNO_FOCUS
false
swidth
640
sheight
480
scenterScreen
true
spack
false
smaximized
false
sfullScreen
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
shellHelp
sdescriptors
xworker.swt.widgets.Display/@Shell
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@shellGridLayout
sname
shellGridLayout
smakeColumnsEqualWidth
false
smarginWidth
5
smarginHeight
5
smarginLeft
0
smarginTop
0
smarginRight
0
smarginBottom
0
shorizontalSpacing
5
sverticalSpacing
5
sid
shellGridLayout
slabel
shellGridLayout
sdescriptors
xworker.swt.Layouts/@GridLayout
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@descBrowser
sname
descBrowser
sthing
xworker.dataObject.swt.AttributeMappingEditor/@description
sBRODER
false
sMOZILLA
false
sNO_FOCUS
false
sid
descBrowser
slabel
descBrowser
sdescriptors
xworker.swt.Widgets/@ThingDescBrowser
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@descBrowser/@descBrowserGridData
sname
descBrowserGridData
sstyle
FILL_BOTH
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
BEGINNING
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sxw_cl_global
false
sid
descBrowserGridData
slabel
descBrowserGridData
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719
sname
buttonComposite
sBORDER
false
sH_SCROLL
false
sV_SCROLL
false
sNO_BACKGROUND
false
sNO_FOCUS
false
sNO_MERGE_PAINTS
false
sNO_REDRAW_RESIZE
false
sNO_RADIO_GROUP
false
sEMBEDDED
false
sDOUBLE_BUFFERED
false
scapture
false
senabled
true
sredraw
true
svisible
true
sid
5719
sdescriptors
xworker.swt.Widgets/@Composite
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5720
sname
buttonCompositeGridData
sstyle
FILL_HORIZONTAL
shorizontalIndent
0
swidth
-1
sheight
-1
shorizontalAlignment
END
sverticalAlignment
CENTER
shorizontalSpan
1
sverticalSpan
1
sgrabExcessHorizontalSpace
false
sgrabExcessVerticalSpace
false
sid
5720
slabel
buttonCompositeGridData
sdescriptors
xworker.swt.layout.LayoutDatas/@GridData
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5721
sname
buttonCompositeRowLayout
sfill
false
sjustify
false
smarginWidth
0
smarginHeight
0
smarginLeft
3
smarginTop
3
smarginRight
3
smarginBottom
3
spack
true
sspacing
3
stype
SWT.HORIZONTAL
swrap
true
sid
5721
slabel
buttonCompositeRowLayout
sdescriptors
xworker.swt.Layouts/@RowLayout
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5722
sname
closeButton
stext
关闭
stype
SWT.PUSH
sflat
false
sborder
false
sselected
false
scapture
false
senabled
true
sredraw
true
svisible
true
sxw_cl_global
false
sid
5722
slabel
closeButton
sdescriptors
xworker.swt.Widgets/@Button
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5722/@5723
sname
RowData
sexclude
false
swidth
80
sheight
-1
sid
5723
slabel
RowData
sdescriptors
xworker.swt.layout.LayoutDatas/@RowData
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5722/@5724
sname
Listeners
sid
5724
slabel
Listeners
sdescriptors
xworker.swt.widgets.Widget/@Listeners
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5722/@5724/@5725
sname
closeButtonSelection
stype
Selection
sid
5725
slabel
closeButtonSelection
sdescriptors
xworker.swt.events.Listeners/@listeners/@Listener
@xworker.dataObject.swt.AttributeMappingEditor/@shellHelp/@5719/@5722/@5724/@5725/@shellDispose
sname
shellDispose
sshellName
shellHelp
smethod
dispose
sinitBreakPoint
false
ssuccessBreakPoint
false
sexceptionBreakPoint
false
seditBreakPoint
false
sinterpretationType
Self
svarScope
Local
sid
shellDispose
sdescriptors
xworker.swt.actions.ShellActions/@ShellNormalActions1
