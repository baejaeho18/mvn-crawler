Compiled from "ReplicationHub.java"
class net.openhft.chronicle.engine.map.ReplicationHub extends net.openhft.chronicle.network.connection.AbstractStatelessClient {
  private static final org.slf4j.Logger LOG;

  final java.lang.ThreadLocal<net.openhft.chronicle.engine.map.CMap2EngineReplicator$VanillaReplicatedEntry> vre;

  private final net.openhft.chronicle.core.threads.EventLoop eventLoop;

  private final java.util.concurrent.atomic.AtomicBoolean isClosed;

  private final java.util.function.Function<net.openhft.chronicle.bytes.Bytes, net.openhft.chronicle.wire.Wire> wireType;

  static final boolean $assertionsDisabled;

  public net.openhft.chronicle.engine.map.ReplicationHub(net.openhft.chronicle.engine.api.tree.RequestContext, net.openhft.chronicle.network.connection.TcpChannelHub, net.openhft.chronicle.core.threads.EventLoop, java.util.concurrent.atomic.AtomicBoolean, java.util.function.Function<net.openhft.chronicle.bytes.Bytes, net.openhft.chronicle.wire.Wire>);
    Code:
       0: aload_0
       1: aload_2
       2: lconst_0
       3: aload_1
       4: invokestatic  #7                  // Method toUri:(Lnet/openhft/chronicle/engine/api/tree/RequestContext;)Ljava/lang/String;
       7: invokespecial #8                  // Method net/openhft/chronicle/network/connection/AbstractStatelessClient."<init>":(Lnet/openhft/chronicle/network/connection/TcpChannelHub;JLjava/lang/String;)V
      10: aload_0
      11: invokedynamic #9,  0              // InvokeDynamic #0:get:()Ljava/util/function/Supplier;
      16: invokestatic  #10                 // Method java/lang/ThreadLocal.withInitial:(Ljava/util/function/Supplier;)Ljava/lang/ThreadLocal;
      19: putfield      #11                 // Field vre:Ljava/lang/ThreadLocal;
      22: aload_0
      23: aload_3
      24: putfield      #12                 // Field eventLoop:Lnet/openhft/chronicle/core/threads/EventLoop;
      27: aload_0
      28: aload         4
      30: putfield      #2                  // Field isClosed:Ljava/util/concurrent/atomic/AtomicBoolean;
      33: aload_0
      34: aload         5
      36: putfield      #3                  // Field wireType:Ljava/util/function/Function;
      39: return

  private static java.lang.String toUri(net.openhft.chronicle.engine.api.tree.RequestContext);
    Code:
       0: new           #13                 // class java/lang/StringBuilder
       3: dup
       4: new           #13                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      11: aload_0
      12: invokevirtual #15                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.fullName:()Ljava/lang/String;
      15: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      18: ldc           #17                 // String ?view=Replication
      20: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: invokespecial #19                 // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
      29: astore_1
      30: aload_0
      31: invokevirtual #20                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.keyType:()Ljava/lang/Class;
      34: ldc           #21                 // class java/lang/String
      36: if_acmpeq     56
      39: aload_1
      40: ldc           #22                 // String &keyType=
      42: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_0
      46: invokevirtual #20                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.keyType:()Ljava/lang/Class;
      49: invokevirtual #23                 // Method java/lang/Class.getName:()Ljava/lang/String;
      52: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: pop
      56: aload_0
      57: invokevirtual #24                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.valueType:()Ljava/lang/Class;
      60: ldc           #21                 // class java/lang/String
      62: if_acmpeq     82
      65: aload_1
      66: ldc           #25                 // String &valueType=
      68: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: aload_0
      72: invokevirtual #24                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.valueType:()Ljava/lang/Class;
      75: invokevirtual #23                 // Method java/lang/Class.getName:()Ljava/lang/String;
      78: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      81: pop
      82: aload_1
      83: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      86: areturn

  public void bootstrap(net.openhft.chronicle.engine.api.EngineReplication, byte, byte);
    Code:
       0: aload_0
       1: getfield      #5                  // Field hub:Lnet/openhft/chronicle/network/connection/TcpChannelHub;
       4: new           #26                 // class net/openhft/chronicle/engine/map/ReplicationHub$1
       7: dup
       8: aload_0
       9: aload_0
      10: getfield      #5                  // Field hub:Lnet/openhft/chronicle/network/connection/TcpChannelHub;
      13: aload_0
      14: getfield      #27                 // Field csp:Ljava/lang/String;
      17: iload_2
      18: ldc           #28                 // String ReplicationHub bootstrap
      20: iload_2
      21: iload_3
      22: aload_1
      23: invokespecial #29                 // Method net/openhft/chronicle/engine/map/ReplicationHub$1."<init>":(Lnet/openhft/chronicle/engine/map/ReplicationHub;Lnet/openhft/chronicle/network/connection/TcpChannelHub;Ljava/lang/String;BLjava/lang/String;BBLnet/openhft/chronicle/engine/api/EngineReplication;)V
      26: invokevirtual #30                 // Method net/openhft/chronicle/network/connection/TcpChannelHub.subscribe:(Lnet/openhft/chronicle/network/connection/AsyncSubscription;)V
      29: return

  private void onConnected(byte, byte, net.openhft.chronicle.engine.api.EngineReplication);
    Code:
       0: aload_3
       1: iload_2
       2: invokeinterface #31,  2           // InterfaceMethod net/openhft/chronicle/engine/api/EngineReplication.acquireModificationIterator:(B)Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationIterator;
       7: astore        4
       9: getstatic     #32                 // Field $assertionsDisabled:Z
      12: ifne          28
      15: aload         4
      17: ifnonnull     28
      20: new           #33                 // class java/lang/AssertionError
      23: dup
      24: invokespecial #34                 // Method java/lang/AssertionError."<init>":()V
      27: athrow
      28: aload_3
      29: iload_2
      30: invokeinterface #35,  2           // InterfaceMethod net/openhft/chronicle/engine/api/EngineReplication.lastModificationTime:(B)J
      35: lstore        5
      37: new           #36                 // class net/openhft/chronicle/engine/map/replication/Bootstrap
      40: dup
      41: invokespecial #37                 // Method net/openhft/chronicle/engine/map/replication/Bootstrap."<init>":()V
      44: astore        7
      46: aload         7
      48: lload         5
      50: invokevirtual #38                 // Method net/openhft/chronicle/engine/map/replication/Bootstrap.lastUpdatedTime:(J)V
      53: aload         7
      55: iload_1
      56: invokevirtual #39                 // Method net/openhft/chronicle/engine/map/replication/Bootstrap.identifier:(B)V
      59: aload_0
      60: getfield      #5                  // Field hub:Lnet/openhft/chronicle/network/connection/TcpChannelHub;
      63: new           #40                 // class net/openhft/chronicle/engine/map/ReplicationHub$2
      66: dup
      67: aload_0
      68: aload_0
      69: getfield      #5                  // Field hub:Lnet/openhft/chronicle/network/connection/TcpChannelHub;
      72: aload_0
      73: getfield      #27                 // Field csp:Ljava/lang/String;
      76: iload_1
      77: ldc           #41                 // String replication onConnected
      79: aload         7
      81: aload         4
      83: iload_2
      84: aload_3
      85: invokespecial #42                 // Method net/openhft/chronicle/engine/map/ReplicationHub$2."<init>":(Lnet/openhft/chronicle/engine/map/ReplicationHub;Lnet/openhft/chronicle/network/connection/TcpChannelHub;Ljava/lang/String;BLjava/lang/String;Lnet/openhft/chronicle/engine/map/replication/Bootstrap;Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationIterator;BLnet/openhft/chronicle/engine/api/EngineReplication;)V
      88: invokevirtual #30                 // Method net/openhft/chronicle/network/connection/TcpChannelHub.subscribe:(Lnet/openhft/chronicle/network/connection/AsyncSubscription;)V
      91: return

  void publish(net.openhft.chronicle.engine.api.EngineReplication$ModificationIterator, net.openhft.chronicle.engine.map.replication.Bootstrap, byte);
    Code:
       0: aload_0
       1: getfield      #5                  // Field hub:Lnet/openhft/chronicle/network/connection/TcpChannelHub;
       4: astore        4
       6: aload_1
       7: aload_0
       8: getfield      #12                 // Field eventLoop:Lnet/openhft/chronicle/core/threads/EventLoop;
      11: dup
      12: invokevirtual #43                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      15: pop
      16: invokedynamic #44,  0             // InvokeDynamic #1:onChange:(Lnet/openhft/chronicle/core/threads/EventLoop;)Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationNotifier;
      21: invokeinterface #45,  2           // InterfaceMethod net/openhft/chronicle/engine/api/EngineReplication$ModificationIterator.setModificationNotifier:(Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationNotifier;)V
      26: aload_0
      27: getfield      #12                 // Field eventLoop:Lnet/openhft/chronicle/core/threads/EventLoop;
      30: iconst_1
      31: new           #46                 // class net/openhft/chronicle/engine/map/ReplicationHub$RepEventHandler
      34: dup
      35: aload_0
      36: aload         4
      38: aload_1
      39: iload_3
      40: invokespecial #47                 // Method net/openhft/chronicle/engine/map/ReplicationHub$RepEventHandler."<init>":(Lnet/openhft/chronicle/engine/map/ReplicationHub;Lnet/openhft/chronicle/network/connection/TcpChannelHub;Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationIterator;B)V
      43: invokeinterface #48,  3           // InterfaceMethod net/openhft/chronicle/core/threads/EventLoop.addHandler:(ZLnet/openhft/chronicle/core/threads/EventHandler;)V
      48: aload_1
      49: aload_2
      50: invokevirtual #49                 // Method net/openhft/chronicle/engine/map/replication/Bootstrap.lastUpdatedTime:()J
      53: invokeinterface #50,  3           // InterfaceMethod net/openhft/chronicle/engine/api/EngineReplication$ModificationIterator.dirtyEntries:(J)V
      58: return

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static net.openhft.chronicle.network.connection.TcpChannelHub access$100(net.openhft.chronicle.engine.map.ReplicationHub);
    Code:
       0: aload_0
       1: getfield      #5                  // Field hub:Lnet/openhft/chronicle/network/connection/TcpChannelHub;
       4: areturn

  static void access$200(net.openhft.chronicle.engine.map.ReplicationHub, byte, byte, net.openhft.chronicle.engine.api.EngineReplication);
    Code:
       0: aload_0
       1: iload_1
       2: iload_2
       3: aload_3
       4: invokespecial #4                  // Method onConnected:(BBLnet/openhft/chronicle/engine/api/EngineReplication;)V
       7: return

  static java.util.function.Function access$300(net.openhft.chronicle.engine.map.ReplicationHub);
    Code:
       0: aload_0
       1: getfield      #3                  // Field wireType:Ljava/util/function/Function;
       4: areturn

  static java.util.concurrent.atomic.AtomicBoolean access$400(net.openhft.chronicle.engine.map.ReplicationHub);
    Code:
       0: aload_0
       1: getfield      #2                  // Field isClosed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: areturn

  static boolean access$500(net.openhft.chronicle.engine.map.ReplicationHub, net.openhft.chronicle.bytes.Bytes, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: invokevirtual #1                  // Method sendBytes:(Lnet/openhft/chronicle/bytes/Bytes;Z)Z
       6: ireturn

  static boolean access$600(net.openhft.chronicle.engine.map.ReplicationHub, net.openhft.chronicle.bytes.Bytes, boolean);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: invokevirtual #1                  // Method sendBytes:(Lnet/openhft/chronicle/bytes/Bytes;Z)Z
       6: ireturn

  static {};
    Code:
       0: ldc           #51                 // class net/openhft/chronicle/engine/map/ReplicationHub
       2: invokevirtual #52                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #32                 // Field $assertionsDisabled:Z
      16: ldc           #53                 // class net/openhft/chronicle/engine/map/ChronicleMapKeyValueStore
      18: invokestatic  #54                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      21: putstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      24: return
}
