Compiled from "CspTcpHander.java"
abstract class net.openhft.chronicle.engine.server.internal.CspTcpHander<T extends net.openhft.chronicle.network.NetworkContext> extends net.openhft.chronicle.network.WireTcpHandler<T> {
  final java.util.List<net.openhft.chronicle.wire.WriteMarshallable> writers;

  private final java.util.Map<java.lang.Long, net.openhft.chronicle.network.api.session.SubHandler> cidToHandle;

  private net.openhft.chronicle.network.api.session.SubHandler handler;

  private net.openhft.chronicle.network.cluster.HeartbeatEventHandler heartbeatEventHandler;

  private long lastCid;

  static final boolean $assertionsDisabled;

  net.openhft.chronicle.engine.server.internal.CspTcpHander();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method net/openhft/chronicle/network/WireTcpHandler."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/ArrayList
       8: dup
       9: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      12: putfield      #4                  // Field writers:Ljava/util/List;
      15: aload_0
      16: new           #5                  // class java/util/HashMap
      19: dup
      20: invokespecial #6                  // Method java/util/HashMap."<init>":()V
      23: putfield      #7                  // Field cidToHandle:Ljava/util/Map;
      26: return

  net.openhft.chronicle.network.api.session.SubHandler handler();
    Code:
       0: aload_0
       1: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
       4: areturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #7                  // Field cidToHandle:Ljava/util/Map;
       4: invokeinterface #9,  1            // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       9: invokedynamic #10,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
      14: invokeinterface #11,  2           // InterfaceMethod java/util/Collection.forEach:(Ljava/util/function/Consumer;)V
      19: aload_0
      20: invokespecial #12                 // Method net/openhft/chronicle/network/WireTcpHandler.close:()V
      23: return

  boolean readMeta(net.openhft.chronicle.wire.WireIn);
    Code:
       0: invokestatic  #13                 // Method net/openhft/chronicle/wire/Wires.acquireStringBuilder:()Ljava/lang/StringBuilder;
       3: astore_2
       4: aload_1
       5: aload_2
       6: invokeinterface #14,  2           // InterfaceMethod net/openhft/chronicle/wire/WireIn.readEventName:(Ljava/lang/StringBuilder;)Lnet/openhft/chronicle/wire/ValueIn;
      11: astore_3
      12: getstatic     #15                 // Field net/openhft/chronicle/network/connection/CoreFields.csp:Lnet/openhft/chronicle/network/connection/CoreFields;
      15: aload_2
      16: invokevirtual #16                 // Method net/openhft/chronicle/network/connection/CoreFields.contentEquals:(Ljava/lang/CharSequence;)Z
      19: ifeq          324
      22: aload_3
      23: invokeinterface #17,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.text:()Ljava/lang/String;
      28: astore        4
      30: aload_2
      31: iconst_0
      32: invokevirtual #18                 // Method java/lang/StringBuilder.setLength:(I)V
      35: aload_1
      36: aload_2
      37: invokeinterface #14,  2           // InterfaceMethod net/openhft/chronicle/wire/WireIn.readEventName:(Ljava/lang/StringBuilder;)Lnet/openhft/chronicle/wire/ValueIn;
      42: astore_3
      43: getstatic     #19                 // Field net/openhft/chronicle/network/connection/CoreFields.cid:Lnet/openhft/chronicle/network/connection/CoreFields;
      46: aload_2
      47: invokevirtual #16                 // Method net/openhft/chronicle/network/connection/CoreFields.contentEquals:(Ljava/lang/CharSequence;)Z
      50: ifeq          64
      53: aload_3
      54: invokeinterface #20,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.int64:()J
      59: lstore        5
      61: goto          91
      64: new           #21                 // class java/lang/IllegalStateException
      67: dup
      68: new           #22                 // class java/lang/StringBuilder
      71: dup
      72: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      75: ldc           #24                 // String expecting \'cid\' but eventName=
      77: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: aload_2
      81: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      84: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      87: invokespecial #28                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      90: athrow
      91: aload_2
      92: iconst_0
      93: invokevirtual #18                 // Method java/lang/StringBuilder.setLength:(I)V
      96: aload_1
      97: aload_2
      98: invokeinterface #14,  2           // InterfaceMethod net/openhft/chronicle/wire/WireIn.readEventName:(Ljava/lang/StringBuilder;)Lnet/openhft/chronicle/wire/ValueIn;
     103: astore_3
     104: getstatic     #29                 // Field net/openhft/chronicle/network/connection/CoreFields.handler:Lnet/openhft/chronicle/network/connection/CoreFields;
     107: aload_2
     108: invokevirtual #16                 // Method net/openhft/chronicle/network/connection/CoreFields.contentEquals:(Ljava/lang/CharSequence;)Z
     111: ifeq          295
     114: aload_0
     115: getfield      #7                  // Field cidToHandle:Ljava/util/Map;
     118: lload         5
     120: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     123: invokeinterface #31,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     128: ifeq          133
     131: iconst_0
     132: ireturn
     133: aload_0
     134: aload_3
     135: invokeinterface #32,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.typedMarshallable:()Ljava/lang/Object;
     140: checkcast     #33                 // class net/openhft/chronicle/network/api/session/SubHandler
     143: putfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     146: aload_0
     147: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     150: aload_0
     151: invokevirtual #34                 // Method nc:()Lnet/openhft/chronicle/network/NetworkContext;
     154: invokeinterface #35,  2           // InterfaceMethod net/openhft/chronicle/network/api/session/SubHandler.nc:(Lnet/openhft/chronicle/network/NetworkContext;)V
     159: aload_0
     160: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     163: aload_0
     164: invokeinterface #36,  2           // InterfaceMethod net/openhft/chronicle/network/api/session/SubHandler.closeable:(Lnet/openhft/chronicle/core/io/Closeable;)V
     169: aload_0
     170: invokevirtual #37                 // Method handler:()Lnet/openhft/chronicle/network/api/session/SubHandler;
     173: instanceof    #38                 // class net/openhft/chronicle/network/cluster/HeartbeatEventHandler
     176: ifeq          213
     179: getstatic     #39                 // Field $assertionsDisabled:Z
     182: ifne          202
     185: aload_0
     186: getfield      #40                 // Field heartbeatEventHandler:Lnet/openhft/chronicle/network/cluster/HeartbeatEventHandler;
     189: ifnull        202
     192: new           #41                 // class java/lang/AssertionError
     195: dup
     196: ldc           #42                 // String its assumed that you will only have a single heartbeatReceiver per connection
     198: invokespecial #43                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
     201: athrow
     202: aload_0
     203: aload_0
     204: invokevirtual #37                 // Method handler:()Lnet/openhft/chronicle/network/api/session/SubHandler;
     207: checkcast     #38                 // class net/openhft/chronicle/network/cluster/HeartbeatEventHandler
     210: putfield      #40                 // Field heartbeatEventHandler:Lnet/openhft/chronicle/network/cluster/HeartbeatEventHandler;
     213: aload_0
     214: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     217: lload         5
     219: invokeinterface #44,  3           // InterfaceMethod net/openhft/chronicle/network/api/session/SubHandler.cid:(J)V
     224: aload_0
     225: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     228: aload         4
     230: invokeinterface #45,  2           // InterfaceMethod net/openhft/chronicle/network/api/session/SubHandler.csp:(Ljava/lang/String;)V
     235: aload_0
     236: lload         5
     238: putfield      #46                 // Field lastCid:J
     241: aload_0
     242: getfield      #7                  // Field cidToHandle:Ljava/util/Map;
     245: lload         5
     247: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     250: aload_0
     251: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     254: invokeinterface #47,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     259: pop
     260: aload_0
     261: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     264: instanceof    #48                 // class net/openhft/chronicle/network/cluster/WritableSubHandler
     267: ifeq          322
     270: aload_0
     271: getfield      #4                  // Field writers:Ljava/util/List;
     274: aload_0
     275: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     278: checkcast     #48                 // class net/openhft/chronicle/network/cluster/WritableSubHandler
     281: invokeinterface #49,  1           // InterfaceMethod net/openhft/chronicle/network/cluster/WritableSubHandler.writer:()Lnet/openhft/chronicle/wire/WriteMarshallable;
     286: invokeinterface #50,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     291: pop
     292: goto          322
     295: new           #21                 // class java/lang/IllegalStateException
     298: dup
     299: new           #22                 // class java/lang/StringBuilder
     302: dup
     303: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     306: ldc           #24                 // String expecting \'cid\' but eventName=
     308: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     311: aload_2
     312: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     315: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     318: invokespecial #28                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     321: athrow
     322: iconst_1
     323: ireturn
     324: getstatic     #19                 // Field net/openhft/chronicle/network/connection/CoreFields.cid:Lnet/openhft/chronicle/network/connection/CoreFields;
     327: aload_2
     328: invokevirtual #16                 // Method net/openhft/chronicle/network/connection/CoreFields.contentEquals:(Ljava/lang/CharSequence;)Z
     331: ifeq          436
     334: aload_3
     335: invokeinterface #20,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.int64:()J
     340: lstore        4
     342: lload         4
     344: aload_0
     345: getfield      #46                 // Field lastCid:J
     348: lcmp
     349: ifne          354
     352: iconst_0
     353: ireturn
     354: aload_0
     355: lload         4
     357: putfield      #46                 // Field lastCid:J
     360: aload_0
     361: aload_0
     362: getfield      #7                  // Field cidToHandle:Ljava/util/Map;
     365: lload         4
     367: invokestatic  #30                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     370: invokeinterface #51,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     375: checkcast     #33                 // class net/openhft/chronicle/network/api/session/SubHandler
     378: putfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     381: aload_0
     382: getfield      #8                  // Field handler:Lnet/openhft/chronicle/network/api/session/SubHandler;
     385: ifnonnull     433
     388: new           #21                 // class java/lang/IllegalStateException
     391: dup
     392: new           #22                 // class java/lang/StringBuilder
     395: dup
     396: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     399: ldc           #52                 // String handler not found : for CID=
     401: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     404: lload         4
     406: invokevirtual #53                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     409: ldc           #54                 // String , known cids=
     411: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     414: aload_0
     415: getfield      #7                  // Field cidToHandle:Ljava/util/Map;
     418: invokeinterface #55,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     423: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     426: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     429: invokespecial #28                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     432: athrow
     433: goto          463
     436: new           #21                 // class java/lang/IllegalStateException
     439: dup
     440: new           #22                 // class java/lang/StringBuilder
     443: dup
     444: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     447: ldc           #56                 // String expecting either csp or cid, event=
     449: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     452: aload_2
     453: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     456: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     459: invokespecial #28                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     462: athrow
     463: iconst_0
     464: ireturn

  net.openhft.chronicle.network.cluster.HeartbeatEventHandler heartbeatEventHandler();
    Code:
       0: aload_0
       1: getfield      #40                 // Field heartbeatEventHandler:Lnet/openhft/chronicle/network/cluster/HeartbeatEventHandler;
       4: areturn

  static {};
    Code:
       0: ldc           #57                 // class net/openhft/chronicle/engine/server/internal/CspTcpHander
       2: invokevirtual #58                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #39                 // Field $assertionsDisabled:Z
      16: return
}
