Compiled from "MapReplicationHandler.java"
public class net.openhft.chronicle.engine.server.internal.MapReplicationHandler extends net.openhft.chronicle.network.cluster.AbstractSubHandler<net.openhft.chronicle.engine.server.internal.EngineWireNetworkContext> implements net.openhft.chronicle.wire.Demarshallable, net.openhft.chronicle.wire.WriteMarshallable {
  private static final org.slf4j.Logger LOG;

  private final java.lang.ThreadLocal<net.openhft.chronicle.engine.map.CMap2EngineReplicator$VanillaReplicatedEntry> vre;

  private net.openhft.chronicle.engine.api.pubsub.Replication replication;

  private long timestamp;

  private byte localIdentifier;

  private volatile boolean closed;

  private java.lang.Class keyType;

  private java.lang.Class valueType;

  private net.openhft.chronicle.engine.server.internal.MapReplicationHandler(net.openhft.chronicle.wire.WireIn);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method net/openhft/chronicle/network/cluster/AbstractSubHandler."<init>":()V
       4: aload_0
       5: invokedynamic #4,  0              // InvokeDynamic #0:get:()Ljava/util/function/Supplier;
      10: invokestatic  #5                  // Method java/lang/ThreadLocal.withInitial:(Ljava/util/function/Supplier;)Ljava/lang/ThreadLocal;
      13: putfield      #6                  // Field vre:Ljava/lang/ThreadLocal;
      16: aload_0
      17: aload_1
      18: invokedynamic #7,  0              // InvokeDynamic #1:name:()Lnet/openhft/chronicle/wire/WireKey;
      23: invokeinterface #8,  2            // InterfaceMethod net/openhft/chronicle/wire/WireIn.read:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueIn;
      28: invokeinterface #9,  1            // InterfaceMethod net/openhft/chronicle/wire/ValueIn.int64:()J
      33: putfield      #10                 // Field timestamp:J
      36: aload_0
      37: aload_1
      38: invokedynamic #11,  0             // InvokeDynamic #2:name:()Lnet/openhft/chronicle/wire/WireKey;
      43: invokeinterface #8,  2            // InterfaceMethod net/openhft/chronicle/wire/WireIn.read:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueIn;
      48: invokeinterface #12,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.typeLiteral:()Ljava/lang/Class;
      53: putfield      #13                 // Field keyType:Ljava/lang/Class;
      56: aload_0
      57: aload_1
      58: invokedynamic #14,  0             // InvokeDynamic #3:name:()Lnet/openhft/chronicle/wire/WireKey;
      63: invokeinterface #8,  2            // InterfaceMethod net/openhft/chronicle/wire/WireIn.read:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueIn;
      68: invokeinterface #12,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.typeLiteral:()Ljava/lang/Class;
      73: putfield      #15                 // Field valueType:Ljava/lang/Class;
      76: return

  private net.openhft.chronicle.engine.server.internal.MapReplicationHandler(long, java.lang.Class, java.lang.Class);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method net/openhft/chronicle/network/cluster/AbstractSubHandler."<init>":()V
       4: aload_0
       5: invokedynamic #4,  0              // InvokeDynamic #0:get:()Ljava/util/function/Supplier;
      10: invokestatic  #5                  // Method java/lang/ThreadLocal.withInitial:(Ljava/util/function/Supplier;)Ljava/lang/ThreadLocal;
      13: putfield      #6                  // Field vre:Ljava/lang/ThreadLocal;
      16: aload_0
      17: lload_1
      18: putfield      #10                 // Field timestamp:J
      21: aload_0
      22: aload_3
      23: putfield      #13                 // Field keyType:Ljava/lang/Class;
      26: aload_0
      27: aload         4
      29: putfield      #15                 // Field valueType:Ljava/lang/Class;
      32: return

  public static net.openhft.chronicle.wire.WriteMarshallable newMapReplicationHandler(long, java.lang.Class, java.lang.Class, java.lang.String, long);
    Code:
       0: new           #16                 // class net/openhft/chronicle/engine/server/internal/MapReplicationHandler
       3: dup
       4: lload_0
       5: aload_2
       6: aload_3
       7: invokespecial #17                 // Method "<init>":(JLjava/lang/Class;Ljava/lang/Class;)V
      10: astore        7
      12: aload         4
      14: lload         5
      16: aload         7
      18: invokedynamic #18,  0             // InvokeDynamic #4:writeMarshallable:(Ljava/lang/String;JLnet/openhft/chronicle/engine/server/internal/MapReplicationHandler;)Lnet/openhft/chronicle/wire/WriteMarshallable;
      23: areturn

  public void writeMarshallable(net.openhft.chronicle.wire.WireOut);
    Code:
       0: aload_1
       1: ldc           #19                 // String timestamp
       3: invokeinterface #20,  2           // InterfaceMethod net/openhft/chronicle/wire/WireOut.write:(Ljava/lang/CharSequence;)Lnet/openhft/chronicle/wire/ValueOut;
       8: aload_0
       9: getfield      #10                 // Field timestamp:J
      12: invokeinterface #21,  3           // InterfaceMethod net/openhft/chronicle/wire/ValueOut.int64:(J)Lnet/openhft/chronicle/wire/WireOut;
      17: pop
      18: aload_1
      19: ldc           #22                 // String keyType
      21: invokeinterface #20,  2           // InterfaceMethod net/openhft/chronicle/wire/WireOut.write:(Ljava/lang/CharSequence;)Lnet/openhft/chronicle/wire/ValueOut;
      26: aload_0
      27: getfield      #13                 // Field keyType:Ljava/lang/Class;
      30: invokeinterface #23,  2           // InterfaceMethod net/openhft/chronicle/wire/ValueOut.typeLiteral:(Ljava/lang/Class;)Lnet/openhft/chronicle/wire/WireOut;
      35: pop
      36: aload_1
      37: ldc           #24                 // String valueType
      39: invokeinterface #20,  2           // InterfaceMethod net/openhft/chronicle/wire/WireOut.write:(Ljava/lang/CharSequence;)Lnet/openhft/chronicle/wire/ValueOut;
      44: aload_0
      45: getfield      #15                 // Field valueType:Ljava/lang/Class;
      48: invokeinterface #23,  2           // InterfaceMethod net/openhft/chronicle/wire/ValueOut.typeLiteral:(Ljava/lang/Class;)Lnet/openhft/chronicle/wire/WireOut;
      53: pop
      54: return

  public void onRead(net.openhft.chronicle.wire.WireIn, net.openhft.chronicle.wire.WireOut);
    Code:
       0: invokestatic  #25                 // Method net/openhft/chronicle/wire/Wires.acquireStringBuilder:()Ljava/lang/StringBuilder;
       3: astore_3
       4: aload_1
       5: aload_3
       6: invokeinterface #26,  2           // InterfaceMethod net/openhft/chronicle/wire/WireIn.readEventName:(Ljava/lang/StringBuilder;)Lnet/openhft/chronicle/wire/ValueIn;
      11: astore        4
      13: getstatic     #27                 // Field net/openhft/chronicle/network/connection/CoreFields.lastUpdateTime:Lnet/openhft/chronicle/network/connection/CoreFields;
      16: aload_3
      17: invokevirtual #28                 // Method net/openhft/chronicle/network/connection/CoreFields.contentEquals:(Ljava/lang/CharSequence;)Z
      20: ifeq          64
      23: aload         4
      25: invokeinterface #9,  1            // InterfaceMethod net/openhft/chronicle/wire/ValueIn.int64:()J
      30: lstore        5
      32: aload_1
      33: invokedynamic #29,  0             // InvokeDynamic #5:name:()Lnet/openhft/chronicle/wire/WireKey;
      38: invokeinterface #8,  2            // InterfaceMethod net/openhft/chronicle/wire/WireIn.read:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueIn;
      43: invokeinterface #30,  1           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.int8:()B
      48: istore        7
      50: aload_0
      51: getfield      #31                 // Field replication:Lnet/openhft/chronicle/engine/api/pubsub/Replication;
      54: iload         7
      56: lload         5
      58: invokeinterface #32,  4           // InterfaceMethod net/openhft/chronicle/engine/api/pubsub/Replication.setLastModificationTime:(BJ)V
      63: return
      64: getstatic     #33                 // Field net/openhft/chronicle/engine/server/internal/MapReplicationHandler$EventId.replicationEvent:Lnet/openhft/chronicle/engine/server/internal/MapReplicationHandler$EventId;
      67: aload_3
      68: invokevirtual #34                 // Method net/openhft/chronicle/engine/server/internal/MapReplicationHandler$EventId.contentEquals:(Ljava/lang/CharSequence;)Z
      71: ifeq          112
      74: aload_0
      75: getfield      #6                  // Field vre:Ljava/lang/ThreadLocal;
      78: invokevirtual #35                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      81: checkcast     #36                 // class net/openhft/chronicle/engine/map/CMap2EngineReplicator$VanillaReplicatedEntry
      84: astore        5
      86: aload         5
      88: invokevirtual #37                 // Method net/openhft/chronicle/engine/map/CMap2EngineReplicator$VanillaReplicatedEntry.clear:()V
      91: aload         4
      93: aload         5
      95: invokeinterface #38,  2           // InterfaceMethod net/openhft/chronicle/wire/ValueIn.marshallable:(Lnet/openhft/chronicle/wire/ReadMarshallable;)Z
     100: pop
     101: aload_0
     102: getfield      #31                 // Field replication:Lnet/openhft/chronicle/engine/api/pubsub/Replication;
     105: aload         5
     107: invokeinterface #39,  2           // InterfaceMethod net/openhft/chronicle/engine/api/pubsub/Replication.applyReplication:(Lnet/openhft/chronicle/engine/api/EngineReplication$ReplicationEntry;)V
     112: return

  public void onInitialize(net.openhft.chronicle.wire.WireOut);
    Code:
       0: aload_0
       1: invokevirtual #40                 // Method isClosed:()Z
       4: ifeq          8
       7: return
       8: aload_0
       9: invokevirtual #41                 // Method nc:()Lnet/openhft/chronicle/network/NetworkContext;
      12: checkcast     #42                 // class net/openhft/chronicle/engine/server/internal/EngineWireNetworkContext
      15: invokevirtual #43                 // Method net/openhft/chronicle/engine/server/internal/EngineWireNetworkContext.rootAsset:()Lnet/openhft/chronicle/engine/api/tree/Asset;
      18: astore_2
      19: aload_0
      20: invokevirtual #44                 // Method csp:()Ljava/lang/String;
      23: invokestatic  #45                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.requestContext:(Ljava/lang/String;)Lnet/openhft/chronicle/engine/api/tree/RequestContext;
      26: astore_3
      27: aload_2
      28: aload_3
      29: invokevirtual #46                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.fullName:()Ljava/lang/String;
      32: invokeinterface #47,  2           // InterfaceMethod net/openhft/chronicle/engine/api/tree/Asset.acquireAsset:(Ljava/lang/String;)Lnet/openhft/chronicle/engine/api/tree/Asset;
      37: astore        4
      39: aload_0
      40: aload         4
      42: ldc           #48                 // class net/openhft/chronicle/engine/api/pubsub/Replication
      44: aload         4
      46: invokeinterface #49,  1           // InterfaceMethod net/openhft/chronicle/engine/api/tree/Asset.fullName:()Ljava/lang/String;
      51: invokestatic  #45                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.requestContext:(Ljava/lang/String;)Lnet/openhft/chronicle/engine/api/tree/RequestContext;
      54: aload_0
      55: getfield      #13                 // Field keyType:Ljava/lang/Class;
      58: invokevirtual #50                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.keyType:(Ljava/lang/Class;)Lnet/openhft/chronicle/engine/api/tree/RequestContext;
      61: aload_0
      62: getfield      #15                 // Field valueType:Ljava/lang/Class;
      65: invokevirtual #51                 // Method net/openhft/chronicle/engine/api/tree/RequestContext.valueType:(Ljava/lang/Class;)Lnet/openhft/chronicle/engine/api/tree/RequestContext;
      68: invokeinterface #52,  3           // InterfaceMethod net/openhft/chronicle/engine/api/tree/Asset.acquireView:(Ljava/lang/Class;Lnet/openhft/chronicle/engine/api/tree/RequestContext;)Ljava/lang/Object;
      73: checkcast     #48                 // class net/openhft/chronicle/engine/api/pubsub/Replication
      76: putfield      #31                 // Field replication:Lnet/openhft/chronicle/engine/api/pubsub/Replication;
      79: aload_0
      80: getfield      #31                 // Field replication:Lnet/openhft/chronicle/engine/api/pubsub/Replication;
      83: aload_0
      84: invokevirtual #53                 // Method remoteIdentifier:()I
      87: i2b
      88: invokeinterface #54,  2           // InterfaceMethod net/openhft/chronicle/engine/api/pubsub/Replication.lastModificationTime:(B)J
      93: lstore        5
      95: lload         5
      97: aload_0
      98: getfield      #13                 // Field keyType:Ljava/lang/Class;
     101: aload_0
     102: getfield      #15                 // Field valueType:Ljava/lang/Class;
     105: aload_0
     106: invokevirtual #44                 // Method csp:()Ljava/lang/String;
     109: aload_0
     110: invokevirtual #55                 // Method cid:()J
     113: invokestatic  #56                 // Method newMapReplicationHandler:(JLjava/lang/Class;Ljava/lang/Class;Ljava/lang/String;J)Lnet/openhft/chronicle/wire/WriteMarshallable;
     116: astore        7
     118: aload_0
     119: aload         7
     121: invokevirtual #57                 // Method publish:(Lnet/openhft/chronicle/wire/WriteMarshallable;)V
     124: aload_2
     125: ldc           #58                 // class net/openhft/chronicle/engine/tree/HostIdentifier
     127: invokeinterface #59,  2           // InterfaceMethod net/openhft/chronicle/engine/api/tree/Asset.findOrCreateView:(Ljava/lang/Class;)Ljava/lang/Object;
     132: checkcast     #58                 // class net/openhft/chronicle/engine/tree/HostIdentifier
     135: astore        8
     137: aload         8
     139: ifnull        151
     142: aload_0
     143: aload         8
     145: invokevirtual #60                 // Method net/openhft/chronicle/engine/tree/HostIdentifier.hostId:()B
     148: putfield      #1                  // Field localIdentifier:B
     151: aload_2
     152: ldc           #61                 // class net/openhft/chronicle/core/threads/EventLoop
     154: invokeinterface #59,  2           // InterfaceMethod net/openhft/chronicle/engine/api/tree/Asset.findOrCreateView:(Ljava/lang/Class;)Ljava/lang/Object;
     159: checkcast     #61                 // class net/openhft/chronicle/core/threads/EventLoop
     162: astore        9
     164: aload         9
     166: invokeinterface #62,  1           // InterfaceMethod net/openhft/chronicle/core/threads/EventLoop.start:()V
     171: aload_0
     172: getfield      #31                 // Field replication:Lnet/openhft/chronicle/engine/api/pubsub/Replication;
     175: aload_0
     176: invokevirtual #53                 // Method remoteIdentifier:()I
     179: i2b
     180: invokeinterface #63,  2           // InterfaceMethod net/openhft/chronicle/engine/api/pubsub/Replication.acquireModificationIterator:(B)Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationIterator;
     185: astore        10
     187: aload         10
     189: ifnull        203
     192: aload         10
     194: aload_0
     195: getfield      #10                 // Field timestamp:J
     198: invokeinterface #64,  3           // InterfaceMethod net/openhft/chronicle/engine/api/EngineReplication$ModificationIterator.dirtyEntries:(J)V
     203: aload         10
     205: ifnonnull     209
     208: return
     209: aload         10
     211: aload         9
     213: dup
     214: invokevirtual #65                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     217: pop
     218: invokedynamic #66,  0             // InvokeDynamic #6:onChange:(Lnet/openhft/chronicle/core/threads/EventLoop;)Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationNotifier;
     223: invokeinterface #67,  2           // InterfaceMethod net/openhft/chronicle/engine/api/EngineReplication$ModificationIterator.setModificationNotifier:(Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationNotifier;)V
     228: aload         9
     230: invokeinterface #68,  1           // InterfaceMethod net/openhft/chronicle/core/threads/EventLoop.isAlive:()Z
     235: ifne          258
     238: aload         9
     240: invokeinterface #69,  1           // InterfaceMethod net/openhft/chronicle/core/threads/EventLoop.isClosed:()Z
     245: ifne          258
     248: new           #70                 // class java/lang/IllegalStateException
     251: dup
     252: ldc           #71                 // String the event loop is not yet running !
     254: invokespecial #72                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     257: athrow
     258: aload         9
     260: iconst_1
     261: new           #73                 // class net/openhft/chronicle/engine/server/internal/MapReplicationHandler$ReplicationEventHandler
     264: dup
     265: aload_0
     266: aload         10
     268: aload_0
     269: invokevirtual #53                 // Method remoteIdentifier:()I
     272: i2b
     273: invokespecial #74                 // Method net/openhft/chronicle/engine/server/internal/MapReplicationHandler$ReplicationEventHandler."<init>":(Lnet/openhft/chronicle/engine/server/internal/MapReplicationHandler;Lnet/openhft/chronicle/engine/api/EngineReplication$ModificationIterator;B)V
     276: invokeinterface #75,  3           // InterfaceMethod net/openhft/chronicle/core/threads/EventLoop.addHandler:(ZLnet/openhft/chronicle/core/threads/EventHandler;)V
     281: return

  public void close();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #2                  // Field closed:Z
       5: return

  private static java.lang.CharSequence lambda$onRead$5();
    Code:
       0: ldc           #76                 // String id
       2: areturn

  private static void lambda$newMapReplicationHandler$4(java.lang.String, long, net.openhft.chronicle.engine.server.internal.MapReplicationHandler, net.openhft.chronicle.wire.WireOut);
    Code:
       0: aload         4
       2: iconst_1
       3: aload_0
       4: lload_1
       5: aload_3
       6: invokedynamic #77,  0             // InvokeDynamic #7:writeMarshallable:(Ljava/lang/String;JLnet/openhft/chronicle/engine/server/internal/MapReplicationHandler;)Lnet/openhft/chronicle/wire/WriteMarshallable;
      11: invokeinterface #78,  3           // InterfaceMethod net/openhft/chronicle/wire/WireOut.writeDocument:(ZLnet/openhft/chronicle/wire/WriteMarshallable;)V
      16: return

  private static void lambda$null$3(java.lang.String, long, net.openhft.chronicle.engine.server.internal.MapReplicationHandler, net.openhft.chronicle.wire.WireOut);
    Code:
       0: aload         4
       2: getstatic     #79                 // Field net/openhft/chronicle/network/connection/CoreFields.csp:Lnet/openhft/chronicle/network/connection/CoreFields;
       5: invokeinterface #80,  2           // InterfaceMethod net/openhft/chronicle/wire/WireOut.writeEventName:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueOut;
      10: aload_0
      11: invokeinterface #81,  2           // InterfaceMethod net/openhft/chronicle/wire/ValueOut.text:(Ljava/lang/String;)Lnet/openhft/chronicle/wire/WireOut;
      16: getstatic     #82                 // Field net/openhft/chronicle/network/connection/CoreFields.cid:Lnet/openhft/chronicle/network/connection/CoreFields;
      19: invokeinterface #80,  2           // InterfaceMethod net/openhft/chronicle/wire/WireOut.writeEventName:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueOut;
      24: lload_1
      25: invokeinterface #21,  3           // InterfaceMethod net/openhft/chronicle/wire/ValueOut.int64:(J)Lnet/openhft/chronicle/wire/WireOut;
      30: getstatic     #83                 // Field net/openhft/chronicle/network/connection/CoreFields.handler:Lnet/openhft/chronicle/network/connection/CoreFields;
      33: invokeinterface #80,  2           // InterfaceMethod net/openhft/chronicle/wire/WireOut.writeEventName:(Lnet/openhft/chronicle/wire/WireKey;)Lnet/openhft/chronicle/wire/ValueOut;
      38: aload_3
      39: invokeinterface #84,  2           // InterfaceMethod net/openhft/chronicle/wire/ValueOut.typedMarshallable:(Lnet/openhft/chronicle/wire/WriteMarshallable;)Lnet/openhft/chronicle/wire/WireOut;
      44: pop
      45: return

  private static java.lang.CharSequence lambda$new$2();
    Code:
       0: ldc           #24                 // String valueType
       2: areturn

  private static java.lang.CharSequence lambda$new$1();
    Code:
       0: ldc           #22                 // String keyType
       2: areturn

  private static java.lang.CharSequence lambda$new$0();
    Code:
       0: ldc           #19                 // String timestamp
       2: areturn

  static boolean access$000(net.openhft.chronicle.engine.server.internal.MapReplicationHandler);
    Code:
       0: aload_0
       1: getfield      #2                  // Field closed:Z
       4: ireturn

  static byte access$100(net.openhft.chronicle.engine.server.internal.MapReplicationHandler);
    Code:
       0: aload_0
       1: getfield      #1                  // Field localIdentifier:B
       4: ireturn

  static {};
    Code:
       0: ldc           #16                 // class net/openhft/chronicle/engine/server/internal/MapReplicationHandler
       2: invokestatic  #85                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #86                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
