Compiled from "CaptureConsoleExtension.java"
public class org.xwiki.test.junit5.CaptureConsoleExtension implements org.junit.jupiter.api.extension.BeforeAllCallback,org.junit.jupiter.api.extension.BeforeEachCallback,org.junit.jupiter.api.extension.AfterAllCallback,org.junit.jupiter.api.extension.AfterEachCallback {
  private static final org.slf4j.Logger LOGGER;

  private static final java.lang.String CAPTURECONSOLESKIP_PROPERTY;

  private static final org.junit.jupiter.api.extension.ExtensionContext$Namespace NAMESPACE;

  private static final java.lang.String ALL;

  private static final java.lang.String EACH;

  private static java.lang.Boolean skip;

  private java.io.PrintStream savedOriginalOut;

  private java.io.PrintStream savedOriginalErr;

  private java.util.Map<java.lang.String, java.io.ByteArrayOutputStream> collectingContentStream;

  public org.xwiki.test.junit5.CaptureConsoleExtension();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/HashMap
       8: dup
       9: invokespecial #3                  // Method java/util/HashMap."<init>":()V
      12: putfield      #4                  // Field collectingContentStream:Ljava/util/Map;
      15: return

  public void beforeAll(org.junit.jupiter.api.extension.ExtensionContext);
    Code:
       0: aload_0
       1: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;
       4: putfield      #6                  // Field savedOriginalOut:Ljava/io/PrintStream;
       7: aload_0
       8: getstatic     #7                  // Field java/lang/System.err:Ljava/io/PrintStream;
      11: putfield      #8                  // Field savedOriginalErr:Ljava/io/PrintStream;
      14: aload_0
      15: ldc           #10                 // String all
      17: invokespecial #11                 // Method captureOutput:(Ljava/lang/String;)V
      20: return

  public void beforeEach(org.junit.jupiter.api.extension.ExtensionContext);
    Code:
       0: aload_0
       1: ldc           #12                 // String each
       3: invokespecial #11                 // Method captureOutput:(Ljava/lang/String;)V
       6: return

  public void afterEach(org.junit.jupiter.api.extension.ExtensionContext);
    Code:
       0: aload_0
       1: ldc           #12                 // String each
       3: invokespecial #13                 // Method validateOutput:(Ljava/lang/String;)V
       6: return

  public void afterAll(org.junit.jupiter.api.extension.ExtensionContext);
    Code:
       0: aload_0
       1: ldc           #10                 // String all
       3: invokespecial #13                 // Method validateOutput:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #6                  // Field savedOriginalOut:Ljava/io/PrintStream;
      10: invokestatic  #14                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
      13: aload_0
      14: getfield      #8                  // Field savedOriginalErr:Ljava/io/PrintStream;
      17: invokestatic  #14                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
      20: return

  private void captureOutput(java.lang.String);
    Code:
       0: invokestatic  #15                 // Method shouldSkip:()Z
       3: ifeq          7
       6: return
       7: new           #16                 // class java/io/ByteArrayOutputStream
      10: dup
      11: invokespecial #17                 // Method java/io/ByteArrayOutputStream."<init>":()V
      14: astore_2
      15: aload_0
      16: getfield      #4                  // Field collectingContentStream:Ljava/util/Map;
      19: aload_1
      20: aload_2
      21: invokeinterface #18,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      26: pop
      27: new           #19                 // class java/io/PrintStream
      30: dup
      31: new           #20                 // class org/apache/commons/io/output/TeeOutputStream
      34: dup
      35: aload_2
      36: aload_0
      37: getfield      #6                  // Field savedOriginalOut:Ljava/io/PrintStream;
      40: invokespecial #21                 // Method org/apache/commons/io/output/TeeOutputStream."<init>":(Ljava/io/OutputStream;Ljava/io/OutputStream;)V
      43: invokespecial #22                 // Method java/io/PrintStream."<init>":(Ljava/io/OutputStream;)V
      46: invokestatic  #14                 // Method java/lang/System.setOut:(Ljava/io/PrintStream;)V
      49: new           #19                 // class java/io/PrintStream
      52: dup
      53: new           #20                 // class org/apache/commons/io/output/TeeOutputStream
      56: dup
      57: aload_2
      58: aload_0
      59: getfield      #8                  // Field savedOriginalErr:Ljava/io/PrintStream;
      62: invokespecial #21                 // Method org/apache/commons/io/output/TeeOutputStream."<init>":(Ljava/io/OutputStream;Ljava/io/OutputStream;)V
      65: invokespecial #22                 // Method java/io/PrintStream."<init>":(Ljava/io/OutputStream;)V
      68: invokestatic  #23                 // Method java/lang/System.setErr:(Ljava/io/PrintStream;)V
      71: return

  private void validateOutput(java.lang.String);
    Code:
       0: invokestatic  #15                 // Method shouldSkip:()Z
       3: ifeq          7
       6: return
       7: aload_0
       8: getfield      #4                  // Field collectingContentStream:Ljava/util/Map;
      11: aload_1
      12: invokeinterface #24,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      17: ifeq          72
      20: aload_0
      21: aload_0
      22: getfield      #4                  // Field collectingContentStream:Ljava/util/Map;
      25: aload_1
      26: invokeinterface #25,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #16                 // class java/io/ByteArrayOutputStream
      34: invokevirtual #26                 // Method java/io/ByteArrayOutputStream.toString:()Ljava/lang/String;
      37: invokespecial #27                 // Method filteredString:(Ljava/lang/String;)Ljava/lang/String;
      40: astore_2
      41: aload_2
      42: invokevirtual #28                 // Method java/lang/String.trim:()Ljava/lang/String;
      45: invokevirtual #29                 // Method java/lang/String.isEmpty:()Z
      48: ifne          72
      51: new           #30                 // class java/lang/AssertionError
      54: dup
      55: ldc           #31                 // String There should be no content output to the console by the test! Instead we got [%s]
      57: iconst_1
      58: anewarray     #32                 // class java/lang/Object
      61: dup
      62: iconst_0
      63: aload_2
      64: aastore
      65: invokestatic  #33                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      68: invokespecial #34                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      71: athrow
      72: return

  private java.lang.String filteredString(java.lang.String);
    Code:
       0: new           #35                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #36                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_2
       8: iconst_0
       9: istore_3
      10: aload_1
      11: ldc           #37                 // String \\r?\\n
      13: invokevirtual #38                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      16: astore        4
      18: iconst_0
      19: istore        5
      21: iload         5
      23: aload         4
      25: arraylength
      26: if_icmpge     100
      29: aload         4
      31: iload         5
      33: aaload
      34: astore        6
      36: iload_3
      37: ifeq          55
      40: aload         6
      42: ldc           #40                 // String ---- End of environment debugging information
      44: invokevirtual #41                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      47: ifeq          94
      50: iconst_0
      51: istore_3
      52: goto          94
      55: aload         6
      57: ldc           #42                 // String ---- Start of environment debugging information
      59: invokevirtual #41                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      62: ifeq          70
      65: iconst_1
      66: istore_3
      67: goto          94
      70: aload_2
      71: aload         6
      73: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: pop
      77: iload         5
      79: aload         4
      81: arraylength
      82: iconst_1
      83: isub
      84: if_icmpge     94
      87: aload_2
      88: bipush        10
      90: invokevirtual #44                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      93: pop
      94: iinc          5, 1
      97: goto          21
     100: aload_1
     101: invokevirtual #29                 // Method java/lang/String.isEmpty:()Z
     104: ifne          114
     107: aload_2
     108: bipush        10
     110: invokevirtual #44                 // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
     113: pop
     114: aload_2
     115: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     118: areturn

  private static java.lang.String getPropertyValue(java.lang.String);
    Code:
       0: aload_0
       1: invokestatic  #46                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       4: astore_1
       5: aload_1
       6: ifnonnull     14
       9: aload_0
      10: invokestatic  #47                 // Method getPropertyValueFromPOM:(Ljava/lang/String;)Ljava/lang/String;
      13: astore_1
      14: aload_1
      15: areturn

  static boolean shouldSkip();
    Code:
       0: getstatic     #48                 // Field skip:Ljava/lang/Boolean;
       3: ifnonnull     22
       6: ldc           #49                 // String xwiki.surefire.captureconsole.skip
       8: invokestatic  #50                 // Method getPropertyValue:(Ljava/lang/String;)Ljava/lang/String;
      11: astore_0
      12: aload_0
      13: invokestatic  #51                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      16: invokestatic  #52                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      19: putstatic     #48                 // Field skip:Ljava/lang/Boolean;
      22: getstatic     #48                 // Field skip:Ljava/lang/Boolean;
      25: invokevirtual #53                 // Method java/lang/Boolean.booleanValue:()Z
      28: ireturn

  private static java.lang.String getPropertyValueFromPOM(java.lang.String);
    Code:
       0: aconst_null
       1: astore_1
       2: invokestatic  #54                 // Method getPOMPath:()Ljava/nio/file/Path;
       5: iconst_0
       6: anewarray     #55                 // class java/nio/file/LinkOption
       9: invokestatic  #56                 // Method java/nio/file/Files.exists:(Ljava/nio/file/Path;[Ljava/nio/file/LinkOption;)Z
      12: ifeq          105
      15: new           #57                 // class java/lang/String
      18: dup
      19: invokestatic  #54                 // Method getPOMPath:()Ljava/nio/file/Path;
      22: invokestatic  #58                 // Method java/nio/file/Files.readAllBytes:(Ljava/nio/file/Path;)[B
      25: invokespecial #59                 // Method java/lang/String."<init>":([B)V
      28: astore_2
      29: ldc           #60                 // String <%s>(.*)</%s>
      31: iconst_2
      32: anewarray     #32                 // class java/lang/Object
      35: dup
      36: iconst_0
      37: aload_0
      38: aastore
      39: dup
      40: iconst_1
      41: aload_0
      42: aastore
      43: invokestatic  #33                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      46: bipush        32
      48: invokestatic  #62                 // Method java/util/regex/Pattern.compile:(Ljava/lang/String;I)Ljava/util/regex/Pattern;
      51: astore_3
      52: aload_3
      53: aload_2
      54: invokevirtual #63                 // Method java/util/regex/Pattern.matcher:(Ljava/lang/CharSequence;)Ljava/util/regex/Matcher;
      57: astore        4
      59: aload         4
      61: invokevirtual #64                 // Method java/util/regex/Matcher.find:()Z
      64: ifeq          77
      67: aload         4
      69: iconst_1
      70: invokevirtual #65                 // Method java/util/regex/Matcher.group:(I)Ljava/lang/String;
      73: invokevirtual #28                 // Method java/lang/String.trim:()Ljava/lang/String;
      76: astore_1
      77: goto          132
      80: astore_2
      81: new           #67                 // class java/lang/RuntimeException
      84: dup
      85: ldc           #68                 // String Error reading file [%s]
      87: iconst_1
      88: anewarray     #32                 // class java/lang/Object
      91: dup
      92: iconst_0
      93: invokestatic  #54                 // Method getPOMPath:()Ljava/nio/file/Path;
      96: aastore
      97: invokestatic  #33                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     100: aload_2
     101: invokespecial #69                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     104: athrow
     105: getstatic     #70                 // Field LOGGER:Lorg/slf4j/Logger;
     108: ldc           #71                 // String No [{}] file in current directory [{}]
     110: invokestatic  #54                 // Method getPOMPath:()Ljava/nio/file/Path;
     113: ldc           #72                 // String
     115: iconst_0
     116: anewarray     #57                 // class java/lang/String
     119: invokestatic  #73                 // Method java/nio/file/Paths.get:(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;
     122: invokeinterface #74,  1           // InterfaceMethod java/nio/file/Path.toAbsolutePath:()Ljava/nio/file/Path;
     127: invokeinterface #75,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     132: aload_1
     133: areturn
    Exception table:
       from    to  target type
          15    77    80   Class java/io/IOException

  private static java.nio.file.Path getPOMPath();
    Code:
       0: ldc           #76                 // String pom.xml
       2: iconst_0
       3: anewarray     #57                 // class java/lang/String
       6: invokestatic  #73                 // Method java/nio/file/Paths.get:(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;
       9: areturn

  private static org.junit.jupiter.api.extension.ExtensionContext$Store getStore(org.junit.jupiter.api.extension.ExtensionContext);
    Code:
       0: aload_0
       1: invokeinterface #77,  1           // InterfaceMethod org/junit/jupiter/api/extension/ExtensionContext.getRoot:()Lorg/junit/jupiter/api/extension/ExtensionContext;
       6: getstatic     #78                 // Field NAMESPACE:Lorg/junit/jupiter/api/extension/ExtensionContext$Namespace;
       9: invokeinterface #79,  2           // InterfaceMethod org/junit/jupiter/api/extension/ExtensionContext.getStore:(Lorg/junit/jupiter/api/extension/ExtensionContext$Namespace;)Lorg/junit/jupiter/api/extension/ExtensionContext$Store;
      14: areturn

  static {};
    Code:
       0: ldc           #9                  // class org/xwiki/test/junit5/CaptureConsoleExtension
       2: invokestatic  #80                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #70                 // Field LOGGER:Lorg/slf4j/Logger;
       8: iconst_1
       9: anewarray     #32                 // class java/lang/Object
      12: dup
      13: iconst_0
      14: ldc           #9                  // class org/xwiki/test/junit5/CaptureConsoleExtension
      16: aastore
      17: invokestatic  #81                 // Method org/junit/jupiter/api/extension/ExtensionContext$Namespace.create:([Ljava/lang/Object;)Lorg/junit/jupiter/api/extension/ExtensionContext$Namespace;
      20: putstatic     #78                 // Field NAMESPACE:Lorg/junit/jupiter/api/extension/ExtensionContext$Namespace;
      23: return
}
