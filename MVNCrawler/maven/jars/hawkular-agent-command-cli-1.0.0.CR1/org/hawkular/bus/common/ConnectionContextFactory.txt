Compiled from "ConnectionContextFactory.java"
public class org.hawkular.bus.common.ConnectionContextFactory implements java.lang.AutoCloseable {
  private final org.hawkular.bus.common.log.MsgLogger msglog;

  private final org.jboss.logging.Logger log;

  private boolean reuseConnection;

  protected javax.jms.ConnectionFactory connectionFactory;

  private javax.jms.Connection connection;

  public org.hawkular.bus.common.ConnectionContextFactory(javax.jms.ConnectionFactory) throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: iconst_0
       2: aload_1
       3: invokespecial #1                  // Method "<init>":(ZLjavax/jms/ConnectionFactory;)V
       6: return

  public org.hawkular.bus.common.ConnectionContextFactory(boolean, javax.jms.ConnectionFactory) throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: getstatic     #3                  // Field org/hawkular/bus/common/log/MsgLogger.LOGGER:Lorg/hawkular/bus/common/log/MsgLogger;
       8: putfield      #4                  // Field msglog:Lorg/hawkular/bus/common/log/MsgLogger;
      11: aload_0
      12: ldc           #5                  // class org/hawkular/bus/common/ConnectionContextFactory
      14: invokestatic  #6                  // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/Class;)Lorg/jboss/logging/Logger;
      17: putfield      #7                  // Field log:Lorg/jboss/logging/Logger;
      20: aload_0
      21: iload_1
      22: putfield      #8                  // Field reuseConnection:Z
      25: aload_0
      26: aload_2
      27: putfield      #9                  // Field connectionFactory:Ljavax/jms/ConnectionFactory;
      30: aload_0
      31: getfield      #7                  // Field log:Lorg/jboss/logging/Logger;
      34: ldc           #10                 // String %s has been created with an existing connection factory: %s
      36: aload_0
      37: invokevirtual #11                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      40: invokevirtual #12                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      43: aload_2
      44: invokevirtual #13                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      47: return

  public org.hawkular.bus.common.producer.ProducerConnectionContext createProducerConnectionContext(org.hawkular.bus.common.Endpoint) throws javax.jms.JMSException;
    Code:
       0: new           #14                 // class org/hawkular/bus/common/producer/ProducerConnectionContext
       3: dup
       4: invokespecial #15                 // Method org/hawkular/bus/common/producer/ProducerConnectionContext."<init>":()V
       7: astore_2
       8: aload_0
       9: aload_2
      10: iconst_1
      11: invokevirtual #16                 // Method createOrReuseConnection:(Lorg/hawkular/bus/common/ConnectionContext;Z)V
      14: aload_0
      15: aload_2
      16: invokevirtual #17                 // Method createSession:(Lorg/hawkular/bus/common/ConnectionContext;)V
      19: aload_0
      20: aload_2
      21: aload_1
      22: invokevirtual #18                 // Method createDestination:(Lorg/hawkular/bus/common/ConnectionContext;Lorg/hawkular/bus/common/Endpoint;)V
      25: aload_0
      26: aload_2
      27: invokevirtual #19                 // Method createProducer:(Lorg/hawkular/bus/common/producer/ProducerConnectionContext;)V
      30: aload_2
      31: areturn

  public org.hawkular.bus.common.consumer.ConsumerConnectionContext createConsumerConnectionContext(org.hawkular.bus.common.Endpoint) throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokevirtual #20                 // Method createConsumerConnectionContext:(Lorg/hawkular/bus/common/Endpoint;Ljava/lang/String;)Lorg/hawkular/bus/common/consumer/ConsumerConnectionContext;
       6: areturn

  public org.hawkular.bus.common.consumer.ConsumerConnectionContext createConsumerConnectionContext(org.hawkular.bus.common.Endpoint, java.lang.String) throws javax.jms.JMSException;
    Code:
       0: new           #21                 // class org/hawkular/bus/common/consumer/ConsumerConnectionContext
       3: dup
       4: invokespecial #22                 // Method org/hawkular/bus/common/consumer/ConsumerConnectionContext."<init>":()V
       7: astore_3
       8: aload_0
       9: aload_3
      10: iconst_1
      11: invokevirtual #16                 // Method createOrReuseConnection:(Lorg/hawkular/bus/common/ConnectionContext;Z)V
      14: aload_0
      15: aload_3
      16: invokevirtual #17                 // Method createSession:(Lorg/hawkular/bus/common/ConnectionContext;)V
      19: aload_0
      20: aload_3
      21: aload_1
      22: invokevirtual #18                 // Method createDestination:(Lorg/hawkular/bus/common/ConnectionContext;Lorg/hawkular/bus/common/Endpoint;)V
      25: aload_0
      26: aload_3
      27: aload_2
      28: invokevirtual #23                 // Method createConsumer:(Lorg/hawkular/bus/common/consumer/ConsumerConnectionContext;Ljava/lang/String;)V
      31: aload_3
      32: areturn

  public void close() throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: aconst_null
       2: iconst_1
       3: invokevirtual #24                 // Method cacheConnection:(Ljavax/jms/Connection;Z)V
       6: aload_0
       7: getfield      #7                  // Field log:Lorg/jboss/logging/Logger;
      10: ldc           #25                 // String %s has been closed
      12: aload_0
      13: invokevirtual #26                 // Method org/jboss/logging/Logger.debugf:(Ljava/lang/String;Ljava/lang/Object;)V
      16: return

  protected boolean isReuseConnection();
    Code:
       0: aload_0
       1: getfield      #8                  // Field reuseConnection:Z
       4: ireturn

  protected javax.jms.ConnectionFactory getConnectionFactory();
    Code:
       0: aload_0
       1: getfield      #9                  // Field connectionFactory:Ljavax/jms/ConnectionFactory;
       4: areturn

  protected javax.jms.Connection getConnection();
    Code:
       0: aload_0
       1: getfield      #27                 // Field connection:Ljavax/jms/Connection;
       4: areturn

  protected void cacheConnection(javax.jms.Connection, boolean);
    Code:
       0: aload_0
       1: getfield      #27                 // Field connection:Ljavax/jms/Connection;
       4: ifnull        34
       7: iload_2
       8: ifeq          34
      11: aload_0
      12: getfield      #27                 // Field connection:Ljavax/jms/Connection;
      15: invokeinterface #28,  1           // InterfaceMethod javax/jms/Connection.close:()V
      20: goto          34
      23: astore_3
      24: aload_0
      25: getfield      #4                  // Field msglog:Lorg/hawkular/bus/common/log/MsgLogger;
      28: aload_3
      29: invokeinterface #30,  2           // InterfaceMethod org/hawkular/bus/common/log/MsgLogger.errorCannotCloseConnectionMemoryMightLeak:(Ljava/lang/Throwable;)V
      34: aload_0
      35: aload_1
      36: putfield      #27                 // Field connection:Ljavax/jms/Connection;
      39: return
    Exception table:
       from    to  target type
          11    20    23   Class javax/jms/JMSException

  protected void createOrReuseConnection(org.hawkular.bus.common.ConnectionContext, boolean) throws javax.jms.JMSException;
    Code:
       0: aload_0
       1: invokevirtual #31                 // Method isReuseConnection:()Z
       4: ifeq          43
       7: aload_0
       8: invokevirtual #32                 // Method getConnection:()Ljavax/jms/Connection;
      11: astore_3
      12: aload_3
      13: ifnull        24
      16: aload_1
      17: aload_3
      18: invokevirtual #33                 // Method org/hawkular/bus/common/ConnectionContext.setConnection:(Ljavax/jms/Connection;)V
      21: goto          59
      24: aload_0
      25: aload_1
      26: invokevirtual #34                 // Method createConnection:(Lorg/hawkular/bus/common/ConnectionContext;)V
      29: aload_1
      30: invokevirtual #35                 // Method org/hawkular/bus/common/ConnectionContext.getConnection:()Ljavax/jms/Connection;
      33: astore_3
      34: aload_0
      35: aload_3
      36: iconst_0
      37: invokevirtual #24                 // Method cacheConnection:(Ljavax/jms/Connection;Z)V
      40: goto          59
      43: aload_0
      44: aload_1
      45: invokevirtual #34                 // Method createConnection:(Lorg/hawkular/bus/common/ConnectionContext;)V
      48: aload_1
      49: invokevirtual #35                 // Method org/hawkular/bus/common/ConnectionContext.getConnection:()Ljavax/jms/Connection;
      52: astore_3
      53: aload_0
      54: aload_3
      55: iconst_0
      56: invokevirtual #24                 // Method cacheConnection:(Ljavax/jms/Connection;Z)V
      59: iload_2
      60: ifeq          94
      63: aload_3
      64: invokeinterface #36,  1           // InterfaceMethod javax/jms/Connection.start:()V
      69: goto          94
      72: astore        4
      74: aload_0
      75: getfield      #4                  // Field msglog:Lorg/hawkular/bus/common/log/MsgLogger;
      78: aload         4
      80: invokeinterface #37,  2           // InterfaceMethod org/hawkular/bus/common/log/MsgLogger.errorFailedToStartConnection:(Ljava/lang/Throwable;)V
      85: aload_0
      86: aconst_null
      87: iconst_1
      88: invokevirtual #24                 // Method cacheConnection:(Ljavax/jms/Connection;Z)V
      91: aload         4
      93: athrow
      94: return
    Exception table:
       from    to  target type
          63    69    72   Class javax/jms/JMSException

  protected void createConnection(org.hawkular.bus.common.ConnectionContext) throws javax.jms.JMSException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #38                 // class java/lang/IllegalStateException
       7: dup
       8: ldc           #39                 // String The context is null
      10: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: invokevirtual #41                 // Method getConnectionFactory:()Ljavax/jms/ConnectionFactory;
      18: astore_2
      19: aload_2
      20: invokeinterface #42,  1           // InterfaceMethod javax/jms/ConnectionFactory.createConnection:()Ljavax/jms/Connection;
      25: astore_3
      26: aload_1
      27: aload_3
      28: invokevirtual #33                 // Method org/hawkular/bus/common/ConnectionContext.setConnection:(Ljavax/jms/Connection;)V
      31: return

  protected void createSession(org.hawkular.bus.common.ConnectionContext) throws javax.jms.JMSException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #38                 // class java/lang/IllegalStateException
       7: dup
       8: ldc           #39                 // String The context is null
      10: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_1
      15: invokevirtual #35                 // Method org/hawkular/bus/common/ConnectionContext.getConnection:()Ljavax/jms/Connection;
      18: astore_2
      19: aload_2
      20: ifnonnull     33
      23: new           #38                 // class java/lang/IllegalStateException
      26: dup
      27: ldc           #43                 // String The context had a null connection
      29: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_2
      34: iconst_0
      35: iconst_1
      36: invokeinterface #45,  3           // InterfaceMethod javax/jms/Connection.createSession:(ZI)Ljavax/jms/Session;
      41: astore_3
      42: aload_1
      43: aload_3
      44: invokevirtual #46                 // Method org/hawkular/bus/common/ConnectionContext.setSession:(Ljavax/jms/Session;)V
      47: return

  protected void createDestination(org.hawkular.bus.common.ConnectionContext, org.hawkular.bus.common.Endpoint) throws javax.jms.JMSException;
    Code:
       0: aload_2
       1: ifnonnull     14
       4: new           #38                 // class java/lang/IllegalStateException
       7: dup
       8: ldc           #47                 // String Endpoint is null
      10: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_1
      15: ifnonnull     28
      18: new           #38                 // class java/lang/IllegalStateException
      21: dup
      22: ldc           #39                 // String The context is null
      24: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      27: athrow
      28: aload_1
      29: invokevirtual #48                 // Method org/hawkular/bus/common/ConnectionContext.getSession:()Ljavax/jms/Session;
      32: astore_3
      33: aload_3
      34: ifnonnull     47
      37: new           #38                 // class java/lang/IllegalStateException
      40: dup
      41: ldc           #49                 // String The context had a null session
      43: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      46: athrow
      47: aload_2
      48: invokevirtual #50                 // Method org/hawkular/bus/common/Endpoint.getType:()Lorg/hawkular/bus/common/Endpoint$Type;
      51: getstatic     #51                 // Field org/hawkular/bus/common/Endpoint$Type.QUEUE:Lorg/hawkular/bus/common/Endpoint$Type;
      54: if_acmpne     91
      57: aload_2
      58: invokevirtual #52                 // Method org/hawkular/bus/common/Endpoint.isTemporary:()Z
      61: ifeq          75
      64: aload_3
      65: invokeinterface #53,  1           // InterfaceMethod javax/jms/Session.createTemporaryQueue:()Ljavax/jms/TemporaryQueue;
      70: astore        4
      72: goto          122
      75: aload_3
      76: aload_0
      77: aload_2
      78: invokespecial #54                 // Method getDestinationName:(Lorg/hawkular/bus/common/Endpoint;)Ljava/lang/String;
      81: invokeinterface #55,  2           // InterfaceMethod javax/jms/Session.createQueue:(Ljava/lang/String;)Ljavax/jms/Queue;
      86: astore        4
      88: goto          122
      91: aload_2
      92: invokevirtual #52                 // Method org/hawkular/bus/common/Endpoint.isTemporary:()Z
      95: ifeq          109
      98: aload_3
      99: invokeinterface #56,  1           // InterfaceMethod javax/jms/Session.createTemporaryTopic:()Ljavax/jms/TemporaryTopic;
     104: astore        4
     106: goto          122
     109: aload_3
     110: aload_0
     111: aload_2
     112: invokespecial #54                 // Method getDestinationName:(Lorg/hawkular/bus/common/Endpoint;)Ljava/lang/String;
     115: invokeinterface #57,  2           // InterfaceMethod javax/jms/Session.createTopic:(Ljava/lang/String;)Ljavax/jms/Topic;
     120: astore        4
     122: aload_1
     123: aload         4
     125: invokevirtual #58                 // Method org/hawkular/bus/common/ConnectionContext.setDestination:(Ljavax/jms/Destination;)V
     128: return

  private java.lang.String getDestinationName(org.hawkular.bus.common.Endpoint);
    Code:
       0: aload_1
       1: invokevirtual #59                 // Method org/hawkular/bus/common/Endpoint.getName:()Ljava/lang/String;
       4: bipush        47
       6: invokevirtual #60                 // Method java/lang/String.lastIndexOf:(I)I
       9: iconst_1
      10: iadd
      11: istore_2
      12: aload_1
      13: invokevirtual #59                 // Method org/hawkular/bus/common/Endpoint.getName:()Ljava/lang/String;
      16: iload_2
      17: invokevirtual #61                 // Method java/lang/String.substring:(I)Ljava/lang/String;
      20: areturn

  protected void createProducer(org.hawkular.bus.common.producer.ProducerConnectionContext) throws javax.jms.JMSException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #38                 // class java/lang/IllegalStateException
       7: dup
       8: ldc           #39                 // String The context is null
      10: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_1
      15: invokevirtual #62                 // Method org/hawkular/bus/common/producer/ProducerConnectionContext.getSession:()Ljavax/jms/Session;
      18: astore_2
      19: aload_2
      20: ifnonnull     33
      23: new           #38                 // class java/lang/IllegalStateException
      26: dup
      27: ldc           #49                 // String The context had a null session
      29: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_1
      34: invokevirtual #63                 // Method org/hawkular/bus/common/producer/ProducerConnectionContext.getDestination:()Ljavax/jms/Destination;
      37: astore_3
      38: aload_3
      39: ifnonnull     52
      42: new           #38                 // class java/lang/IllegalStateException
      45: dup
      46: ldc           #64                 // String The context had a null destination
      48: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      51: athrow
      52: aload_2
      53: aload_3
      54: invokeinterface #65,  2           // InterfaceMethod javax/jms/Session.createProducer:(Ljavax/jms/Destination;)Ljavax/jms/MessageProducer;
      59: astore        4
      61: aload_1
      62: aload         4
      64: invokevirtual #66                 // Method org/hawkular/bus/common/producer/ProducerConnectionContext.setMessageProducer:(Ljavax/jms/MessageProducer;)V
      67: return

  protected void createConsumer(org.hawkular.bus.common.consumer.ConsumerConnectionContext, java.lang.String) throws javax.jms.JMSException;
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #38                 // class java/lang/IllegalStateException
       7: dup
       8: ldc           #39                 // String The context is null
      10: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_1
      15: invokevirtual #67                 // Method org/hawkular/bus/common/consumer/ConsumerConnectionContext.getSession:()Ljavax/jms/Session;
      18: astore_3
      19: aload_3
      20: ifnonnull     33
      23: new           #38                 // class java/lang/IllegalStateException
      26: dup
      27: ldc           #49                 // String The context had a null session
      29: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_1
      34: invokevirtual #68                 // Method org/hawkular/bus/common/consumer/ConsumerConnectionContext.getDestination:()Ljavax/jms/Destination;
      37: astore        4
      39: aload         4
      41: ifnonnull     54
      44: new           #38                 // class java/lang/IllegalStateException
      47: dup
      48: ldc           #64                 // String The context had a null destination
      50: invokespecial #40                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      53: athrow
      54: aload_3
      55: aload         4
      57: aload_2
      58: invokeinterface #69,  3           // InterfaceMethod javax/jms/Session.createConsumer:(Ljavax/jms/Destination;Ljava/lang/String;)Ljavax/jms/MessageConsumer;
      63: astore        5
      65: aload_1
      66: aload         5
      68: invokevirtual #70                 // Method org/hawkular/bus/common/consumer/ConsumerConnectionContext.setMessageConsumer:(Ljavax/jms/MessageConsumer;)V
      71: return
}
