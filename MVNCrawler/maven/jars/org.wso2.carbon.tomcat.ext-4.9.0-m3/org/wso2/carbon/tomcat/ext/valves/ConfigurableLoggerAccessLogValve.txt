Compiled from "ConfigurableLoggerAccessLogValve.java"
public class org.wso2.carbon.tomcat.ext.valves.ConfigurableLoggerAccessLogValve extends org.apache.catalina.valves.AbstractAccessLogValve {
  private static final org.apache.juli.logging.Log log;

  private static final org.apache.commons.logging.Log ACCESS_LOG;

  public org.wso2.carbon.tomcat.ext.valves.ConfigurableLoggerAccessLogValve();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/catalina/valves/AbstractAccessLogValve."<init>":()V
       4: return

  public void log(org.apache.catalina.connector.Request, org.apache.catalina.connector.Response, long);
    Code:
       0: aload_1
       1: ldc           #3                  // String org.wso2.request.correlation.MDC
       3: invokevirtual #4                  // Method org/apache/catalina/connector/Request.getAttribute:(Ljava/lang/String;)Ljava/lang/Object;
       6: checkcast     #5                  // class java/util/Map
       9: astore        5
      11: aload_0
      12: aload         5
      14: invokespecial #6                  // Method copyMdcFromRequest:(Ljava/util/Map;)V
      17: aload_0
      18: aload_1
      19: aload_2
      20: lload_3
      21: invokespecial #7                  // Method org/apache/catalina/valves/AbstractAccessLogValve.log:(Lorg/apache/catalina/connector/Request;Lorg/apache/catalina/connector/Response;J)V
      24: aload_0
      25: aload         5
      27: invokespecial #8                  // Method removeMdcCopiedFromRequest:(Ljava/util/Map;)V
      30: goto          44
      33: astore        6
      35: aload_0
      36: aload         5
      38: invokespecial #8                  // Method removeMdcCopiedFromRequest:(Ljava/util/Map;)V
      41: aload         6
      43: athrow
      44: return
    Exception table:
       from    to  target type
          17    24    33   any
          33    35    33   any

  public void log(java.io.CharArrayWriter);
    Code:
       0: getstatic     #9                  // Field ACCESS_LOG:Lorg/apache/commons/logging/Log;
       3: invokeinterface #10,  1           // InterfaceMethod org/apache/commons/logging/Log.isInfoEnabled:()Z
       8: ifeq          23
      11: getstatic     #9                  // Field ACCESS_LOG:Lorg/apache/commons/logging/Log;
      14: aload_1
      15: invokevirtual #11                 // Method java/io/CharArrayWriter.toString:()Ljava/lang/String;
      18: invokeinterface #12,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
      23: return

  private void removeMdcCopiedFromRequest(java.util.Map<java.lang.String, java.lang.String>);
    Code:
       0: aload_1
       1: ifnull        50
       4: aload_1
       5: invokeinterface #13,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      10: invokeinterface #14,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      15: astore_2
      16: aload_2
      17: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      22: ifeq          50
      25: aload_2
      26: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      31: checkcast     #17                 // class java/util/Map$Entry
      34: astore_3
      35: aload_3
      36: invokeinterface #18,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      41: checkcast     #19                 // class java/lang/String
      44: invokestatic  #20                 // Method org/apache/logging/log4j/ThreadContext.remove:(Ljava/lang/String;)V
      47: goto          16
      50: return

  private void copyMdcFromRequest(java.util.Map<java.lang.String, java.lang.String>);
    Code:
       0: aload_1
       1: ifnull        59
       4: aload_1
       5: invokeinterface #13,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      10: invokeinterface #14,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      15: astore_2
      16: aload_2
      17: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      22: ifeq          59
      25: aload_2
      26: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      31: checkcast     #17                 // class java/util/Map$Entry
      34: astore_3
      35: aload_3
      36: invokeinterface #18,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      41: checkcast     #19                 // class java/lang/String
      44: aload_3
      45: invokeinterface #21,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      50: checkcast     #19                 // class java/lang/String
      53: invokestatic  #22                 // Method org/apache/logging/log4j/ThreadContext.put:(Ljava/lang/String;Ljava/lang/String;)V
      56: goto          16
      59: return

  static {};
    Code:
       0: ldc           #23                 // class org/apache/catalina/valves/AccessLogValve
       2: invokestatic  #24                 // Method org/apache/juli/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/juli/logging/Log;
       5: putstatic     #25                 // Field log:Lorg/apache/juli/logging/Log;
       8: ldc           #26                 // String HTTP_ACCESS
      10: invokestatic  #27                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/String;)Lorg/apache/commons/logging/Log;
      13: putstatic     #9                  // Field ACCESS_LOG:Lorg/apache/commons/logging/Log;
      16: return
}
