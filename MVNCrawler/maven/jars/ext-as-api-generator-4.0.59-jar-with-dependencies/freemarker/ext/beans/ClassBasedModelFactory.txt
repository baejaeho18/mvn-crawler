Compiled from "ClassBasedModelFactory.java"
abstract class freemarker.ext.beans.ClassBasedModelFactory implements freemarker.template.TemplateHashModel {
  private final freemarker.ext.beans.BeansWrapper wrapper;

  private final java.util.Map cache;

  private final java.util.Set classIntrospectionsInProgress;

  protected freemarker.ext.beans.ClassBasedModelFactory(freemarker.ext.beans.BeansWrapper);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field cache:Ljava/util/Map;
      15: aload_0
      16: new           #5                  // class java/util/HashSet
      19: dup
      20: invokespecial #6                  // Method java/util/HashSet."<init>":()V
      23: putfield      #7                  // Field classIntrospectionsInProgress:Ljava/util/Set;
      26: aload_0
      27: aload_1
      28: putfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
      31: return

  public freemarker.template.TemplateModel get(java.lang.String) throws freemarker.template.TemplateModelException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #9                  // Method getInternal:(Ljava/lang/String;)Lfreemarker/template/TemplateModel;
       5: areturn
       6: astore_2
       7: aload_2
       8: instanceof    #11                 // class freemarker/template/TemplateModelException
      11: ifeq          19
      14: aload_2
      15: checkcast     #11                 // class freemarker/template/TemplateModelException
      18: athrow
      19: new           #11                 // class freemarker/template/TemplateModelException
      22: dup
      23: aload_2
      24: invokespecial #12                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/Exception;)V
      27: athrow
    Exception table:
       from    to  target type
           0     5     6   Class java/lang/Exception

  private freemarker.template.TemplateModel getInternal(java.lang.String) throws freemarker.template.TemplateModelException, java.lang.ClassNotFoundException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field cache:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #14                 // class freemarker/template/TemplateModel
      13: astore_2
      14: aload_2
      15: ifnull        20
      18: aload_2
      19: areturn
      20: aload_0
      21: getfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
      24: invokevirtual #15                 // Method freemarker/ext/beans/BeansWrapper.getSharedIntrospectionLock:()Ljava/lang/Object;
      27: astore        4
      29: aload         4
      31: dup
      32: astore        5
      34: monitorenter
      35: aload_0
      36: getfield      #4                  // Field cache:Ljava/util/Map;
      39: aload_1
      40: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      45: checkcast     #14                 // class freemarker/template/TemplateModel
      48: astore        6
      50: aload         6
      52: ifnull        61
      55: aload         6
      57: aload         5
      59: monitorexit
      60: areturn
      61: aload         6
      63: ifnonnull     132
      66: aload_0
      67: getfield      #7                  // Field classIntrospectionsInProgress:Ljava/util/Set;
      70: aload_1
      71: invokeinterface #16,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      76: ifeq          132
      79: aload         4
      81: invokevirtual #17                 // Method java/lang/Object.wait:()V
      84: aload_0
      85: getfield      #4                  // Field cache:Ljava/util/Map;
      88: aload_1
      89: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      94: checkcast     #14                 // class freemarker/template/TemplateModel
      97: astore        6
      99: goto          61
     102: astore        7
     104: new           #19                 // class java/lang/RuntimeException
     107: dup
     108: new           #20                 // class java/lang/StringBuilder
     111: dup
     112: invokespecial #21                 // Method java/lang/StringBuilder."<init>":()V
     115: ldc           #22                 // String Class inrospection data lookup aborded:
     117: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: aload         7
     122: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     125: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     128: invokespecial #26                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     131: athrow
     132: aload         6
     134: ifnull        143
     137: aload         6
     139: aload         5
     141: monitorexit
     142: areturn
     143: aload_0
     144: getfield      #7                  // Field classIntrospectionsInProgress:Ljava/util/Set;
     147: aload_1
     148: invokeinterface #27,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     153: pop
     154: aload_0
     155: getfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
     158: invokevirtual #28                 // Method freemarker/ext/beans/BeansWrapper.getClassIntrospector:()Lfreemarker/ext/beans/ClassIntrospector;
     161: astore_2
     162: aload_2
     163: invokevirtual #29                 // Method freemarker/ext/beans/ClassIntrospector.getClearingCounter:()I
     166: istore_3
     167: aload         5
     169: monitorexit
     170: goto          181
     173: astore        8
     175: aload         5
     177: monitorexit
     178: aload         8
     180: athrow
     181: aload_1
     182: invokestatic  #30                 // Method freemarker/template/utility/ClassUtil.forName:(Ljava/lang/String;)Ljava/lang/Class;
     185: astore        5
     187: aload_2
     188: aload         5
     190: invokevirtual #31                 // Method freemarker/ext/beans/ClassIntrospector.get:(Ljava/lang/Class;)Ljava/util/Map;
     193: pop
     194: aload_0
     195: aload         5
     197: invokevirtual #32                 // Method createModel:(Ljava/lang/Class;)Lfreemarker/template/TemplateModel;
     200: astore        6
     202: aload         6
     204: ifnull        259
     207: aload         4
     209: dup
     210: astore        7
     212: monitorenter
     213: aload_2
     214: aload_0
     215: getfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
     218: invokevirtual #28                 // Method freemarker/ext/beans/BeansWrapper.getClassIntrospector:()Lfreemarker/ext/beans/ClassIntrospector;
     221: if_acmpne     245
     224: iload_3
     225: aload_2
     226: invokevirtual #29                 // Method freemarker/ext/beans/ClassIntrospector.getClearingCounter:()I
     229: if_icmpne     245
     232: aload_0
     233: getfield      #4                  // Field cache:Ljava/util/Map;
     236: aload_1
     237: aload         6
     239: invokeinterface #33,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     244: pop
     245: aload         7
     247: monitorexit
     248: goto          259
     251: astore        9
     253: aload         7
     255: monitorexit
     256: aload         9
     258: athrow
     259: aload         6
     261: astore        7
     263: aload         4
     265: dup
     266: astore        8
     268: monitorenter
     269: aload_0
     270: getfield      #7                  // Field classIntrospectionsInProgress:Ljava/util/Set;
     273: aload_1
     274: invokeinterface #34,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     279: pop
     280: aload         4
     282: invokevirtual #35                 // Method java/lang/Object.notifyAll:()V
     285: aload         8
     287: monitorexit
     288: goto          299
     291: astore        10
     293: aload         8
     295: monitorexit
     296: aload         10
     298: athrow
     299: aload         7
     301: areturn
     302: astore        11
     304: aload         4
     306: dup
     307: astore        12
     309: monitorenter
     310: aload_0
     311: getfield      #7                  // Field classIntrospectionsInProgress:Ljava/util/Set;
     314: aload_1
     315: invokeinterface #34,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     320: pop
     321: aload         4
     323: invokevirtual #35                 // Method java/lang/Object.notifyAll:()V
     326: aload         12
     328: monitorexit
     329: goto          340
     332: astore        13
     334: aload         12
     336: monitorexit
     337: aload         13
     339: athrow
     340: aload         11
     342: athrow
    Exception table:
       from    to  target type
          79    99   102   Class java/lang/InterruptedException
          35    60   173   any
          61   142   173   any
         143   170   173   any
         173   178   173   any
         213   248   251   any
         251   256   251   any
         269   288   291   any
         291   296   291   any
         181   263   302   any
         310   329   332   any
         332   337   332   any
         302   304   302   any

  void clearCache();
    Code:
       0: aload_0
       1: getfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
       4: invokevirtual #15                 // Method freemarker/ext/beans/BeansWrapper.getSharedIntrospectionLock:()Ljava/lang/Object;
       7: dup
       8: astore_1
       9: monitorenter
      10: aload_0
      11: getfield      #4                  // Field cache:Ljava/util/Map;
      14: invokeinterface #36,  1           // InterfaceMethod java/util/Map.clear:()V
      19: aload_1
      20: monitorexit
      21: goto          29
      24: astore_2
      25: aload_1
      26: monitorexit
      27: aload_2
      28: athrow
      29: return
    Exception table:
       from    to  target type
          10    21    24   any
          24    27    24   any

  void removeFromCache(java.lang.Class);
    Code:
       0: aload_0
       1: getfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
       4: invokevirtual #15                 // Method freemarker/ext/beans/BeansWrapper.getSharedIntrospectionLock:()Ljava/lang/Object;
       7: dup
       8: astore_2
       9: monitorenter
      10: aload_0
      11: getfield      #4                  // Field cache:Ljava/util/Map;
      14: aload_1
      15: invokevirtual #37                 // Method java/lang/Class.getName:()Ljava/lang/String;
      18: invokeinterface #38,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      23: pop
      24: aload_2
      25: monitorexit
      26: goto          34
      29: astore_3
      30: aload_2
      31: monitorexit
      32: aload_3
      33: athrow
      34: return
    Exception table:
       from    to  target type
          10    26    29   any
          29    32    29   any

  public boolean isEmpty();
    Code:
       0: iconst_0
       1: ireturn

  protected abstract freemarker.template.TemplateModel createModel(java.lang.Class) throws freemarker.template.TemplateModelException;

  protected freemarker.ext.beans.BeansWrapper getWrapper();
    Code:
       0: aload_0
       1: getfield      #8                  // Field wrapper:Lfreemarker/ext/beans/BeansWrapper;
       4: areturn
}
