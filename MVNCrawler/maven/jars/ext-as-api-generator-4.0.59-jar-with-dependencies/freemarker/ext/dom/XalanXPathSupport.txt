Compiled from "XalanXPathSupport.java"
class freemarker.ext.dom.XalanXPathSupport implements freemarker.ext.dom.XPathSupport {
  private org.apache.xpath.XPathContext xpathContext;

  private static final java.lang.String ERRMSG_EMPTY_NODE_SET;

  private static org.apache.xml.utils.PrefixResolver customPrefixResolver;

  freemarker.ext.dom.XalanXPathSupport();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/xpath/XPathContext
       8: dup
       9: invokespecial #3                  // Method org/apache/xpath/XPathContext."<init>":()V
      12: putfield      #4                  // Field xpathContext:Lorg/apache/xpath/XPathContext;
      15: return

  public synchronized freemarker.template.TemplateModel executeQuery(java.lang.Object, java.lang.String) throws freemarker.template.TemplateModelException;
    Code:
       0: aload_1
       1: instanceof    #5                  // class org/w3c/dom/Node
       4: ifne          122
       7: aload_1
       8: ifnull        112
      11: aload_1
      12: invokestatic  #6                  // Method isNodeList:(Ljava/lang/Object;)Z
      15: ifeq          74
      18: aload_1
      19: checkcast     #7                  // class java/util/List
      22: invokeinterface #8,  1            // InterfaceMethod java/util/List.size:()I
      27: istore_3
      28: iload_3
      29: ifeq          64
      32: new           #9                  // class freemarker/template/TemplateModelException
      35: dup
      36: new           #10                 // class java/lang/StringBuilder
      39: dup
      40: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      43: ldc           #12                 // String Cannot perform an XPath query against a node set of
      45: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: iload_3
      49: invokevirtual #14                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      52: ldc           #15                 // String  nodes. Expecting a single node.
      54: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      60: invokespecial #17                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
      63: athrow
      64: new           #9                  // class freemarker/template/TemplateModelException
      67: dup
      68: ldc           #19                 // String Cannot perform an XPath query against an empty node set.
      70: invokespecial #17                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
      73: athrow
      74: new           #9                  // class freemarker/template/TemplateModelException
      77: dup
      78: new           #10                 // class java/lang/StringBuilder
      81: dup
      82: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      85: ldc           #20                 // String Cannot perform an XPath query against a
      87: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: aload_1
      91: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      94: invokevirtual #22                 // Method java/lang/Class.getName:()Ljava/lang/String;
      97: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: ldc           #23                 // String . Expecting a single org.w3c.dom.Node.
     102: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     108: invokespecial #17                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
     111: athrow
     112: new           #9                  // class freemarker/template/TemplateModelException
     115: dup
     116: ldc           #19                 // String Cannot perform an XPath query against an empty node set.
     118: invokespecial #17                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
     121: athrow
     122: aload_1
     123: checkcast     #5                  // class org/w3c/dom/Node
     126: astore_3
     127: new           #24                 // class org/apache/xpath/XPath
     130: dup
     131: aload_2
     132: aconst_null
     133: getstatic     #25                 // Field customPrefixResolver:Lorg/apache/xml/utils/PrefixResolver;
     136: iconst_0
     137: aconst_null
     138: invokespecial #26                 // Method org/apache/xpath/XPath."<init>":(Ljava/lang/String;Ljavax/xml/transform/SourceLocator;Lorg/apache/xml/utils/PrefixResolver;ILjavax/xml/transform/ErrorListener;)V
     141: astore        4
     143: aload_0
     144: getfield      #4                  // Field xpathContext:Lorg/apache/xpath/XPathContext;
     147: aload_3
     148: invokevirtual #27                 // Method org/apache/xpath/XPathContext.getDTMHandleFromNode:(Lorg/w3c/dom/Node;)I
     151: istore        5
     153: aload         4
     155: aload_0
     156: getfield      #4                  // Field xpathContext:Lorg/apache/xpath/XPathContext;
     159: iload         5
     161: getstatic     #25                 // Field customPrefixResolver:Lorg/apache/xml/utils/PrefixResolver;
     164: invokevirtual #28                 // Method org/apache/xpath/XPath.execute:(Lorg/apache/xpath/XPathContext;ILorg/apache/xml/utils/PrefixResolver;)Lorg/apache/xpath/objects/XObject;
     167: astore        6
     169: aload         6
     171: instanceof    #29                 // class org/apache/xpath/objects/XNodeSet
     174: ifeq          247
     177: new           #30                 // class freemarker/ext/dom/NodeListModel
     180: dup
     181: aload_3
     182: invokespecial #31                 // Method freemarker/ext/dom/NodeListModel."<init>":(Lorg/w3c/dom/Node;)V
     185: astore        7
     187: aload         7
     189: aload_0
     190: putfield      #32                 // Field freemarker/ext/dom/NodeListModel.xpathSupport:Lfreemarker/ext/dom/XPathSupport;
     193: aload         6
     195: invokevirtual #33                 // Method org/apache/xpath/objects/XObject.nodeset:()Lorg/w3c/dom/traversal/NodeIterator;
     198: astore        8
     200: aload         8
     202: invokeinterface #34,  1           // InterfaceMethod org/w3c/dom/traversal/NodeIterator.nextNode:()Lorg/w3c/dom/Node;
     207: astore        9
     209: aload         9
     211: ifnull        221
     214: aload         7
     216: aload         9
     218: invokevirtual #35                 // Method freemarker/ext/dom/NodeListModel.add:(Ljava/lang/Object;)V
     221: aload         9
     223: ifnonnull     200
     226: aload         7
     228: invokevirtual #36                 // Method freemarker/ext/dom/NodeListModel.size:()I
     231: iconst_1
     232: if_icmpne     244
     235: aload         7
     237: iconst_0
     238: invokevirtual #37                 // Method freemarker/ext/dom/NodeListModel.get:(I)Lfreemarker/template/TemplateModel;
     241: goto          246
     244: aload         7
     246: areturn
     247: aload         6
     249: instanceof    #38                 // class org/apache/xpath/objects/XBoolean
     252: ifeq          276
     255: aload         6
     257: checkcast     #38                 // class org/apache/xpath/objects/XBoolean
     260: invokevirtual #39                 // Method org/apache/xpath/objects/XBoolean.bool:()Z
     263: ifeq          272
     266: getstatic     #40                 // Field freemarker/template/TemplateBooleanModel.TRUE:Lfreemarker/template/TemplateBooleanModel;
     269: goto          275
     272: getstatic     #41                 // Field freemarker/template/TemplateBooleanModel.FALSE:Lfreemarker/template/TemplateBooleanModel;
     275: areturn
     276: aload         6
     278: instanceof    #42                 // class org/apache/xpath/objects/XNull
     281: ifeq          286
     284: aconst_null
     285: areturn
     286: aload         6
     288: instanceof    #43                 // class org/apache/xpath/objects/XString
     291: ifeq          307
     294: new           #44                 // class freemarker/template/SimpleScalar
     297: dup
     298: aload         6
     300: invokevirtual #45                 // Method org/apache/xpath/objects/XObject.toString:()Ljava/lang/String;
     303: invokespecial #46                 // Method freemarker/template/SimpleScalar."<init>":(Ljava/lang/String;)V
     306: areturn
     307: aload         6
     309: instanceof    #47                 // class org/apache/xpath/objects/XNumber
     312: ifeq          334
     315: new           #48                 // class freemarker/template/SimpleNumber
     318: dup
     319: aload         6
     321: checkcast     #47                 // class org/apache/xpath/objects/XNumber
     324: invokevirtual #49                 // Method org/apache/xpath/objects/XNumber.num:()D
     327: invokestatic  #50                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     330: invokespecial #51                 // Method freemarker/template/SimpleNumber."<init>":(Ljava/lang/Number;)V
     333: areturn
     334: new           #9                  // class freemarker/template/TemplateModelException
     337: dup
     338: new           #10                 // class java/lang/StringBuilder
     341: dup
     342: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     345: ldc           #52                 // String Cannot deal with type:
     347: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     350: aload         6
     352: invokevirtual #21                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     355: invokevirtual #22                 // Method java/lang/Class.getName:()Ljava/lang/String;
     358: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     361: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     364: invokespecial #17                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
     367: athrow
     368: astore        4
     370: new           #9                  // class freemarker/template/TemplateModelException
     373: dup
     374: aload         4
     376: invokespecial #54                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/Exception;)V
     379: athrow
    Exception table:
       from    to  target type
         127   246   368   Class javax/xml/transform/TransformerException
         247   275   368   Class javax/xml/transform/TransformerException
         276   285   368   Class javax/xml/transform/TransformerException
         286   306   368   Class javax/xml/transform/TransformerException
         307   333   368   Class javax/xml/transform/TransformerException
         334   368   368   Class javax/xml/transform/TransformerException

  private static boolean isNodeList(java.lang.Object);
    Code:
       0: aload_0
       1: instanceof    #7                  // class java/util/List
       4: ifeq          49
       7: aload_0
       8: checkcast     #7                  // class java/util/List
      11: astore_1
      12: aload_1
      13: invokeinterface #8,  1            // InterfaceMethod java/util/List.size:()I
      18: istore_2
      19: iconst_0
      20: istore_3
      21: iload_3
      22: iload_2
      23: if_icmpge     47
      26: aload_1
      27: iload_3
      28: invokeinterface #55,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      33: instanceof    #5                  // class org/w3c/dom/Node
      36: ifne          41
      39: iconst_0
      40: ireturn
      41: iinc          3, 1
      44: goto          21
      47: iconst_1
      48: ireturn
      49: iconst_0
      50: ireturn

  static {};
    Code:
       0: new           #56                 // class freemarker/ext/dom/XalanXPathSupport$1
       3: dup
       4: invokespecial #57                 // Method freemarker/ext/dom/XalanXPathSupport$1."<init>":()V
       7: putstatic     #25                 // Field customPrefixResolver:Lorg/apache/xml/utils/PrefixResolver;
      10: return
}
