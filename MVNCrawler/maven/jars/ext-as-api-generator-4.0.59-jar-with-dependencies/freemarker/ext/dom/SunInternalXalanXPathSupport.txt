Compiled from "SunInternalXalanXPathSupport.java"
class freemarker.ext.dom.SunInternalXalanXPathSupport implements freemarker.ext.dom.XPathSupport {
  private com.sun.org.apache.xpath.internal.XPathContext xpathContext;

  private static final java.lang.String ERRMSG_RECOMMEND_JAXEN;

  private static final java.lang.String ERRMSG_EMPTY_NODE_SET;

  private static com.sun.org.apache.xml.internal.utils.PrefixResolver customPrefixResolver;

  freemarker.ext.dom.SunInternalXalanXPathSupport();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class com/sun/org/apache/xpath/internal/XPathContext
       8: dup
       9: invokespecial #4                  // Method com/sun/org/apache/xpath/internal/XPathContext."<init>":()V
      12: putfield      #5                  // Field xpathContext:Lcom/sun/org/apache/xpath/internal/XPathContext;
      15: return

  public synchronized freemarker.template.TemplateModel executeQuery(java.lang.Object, java.lang.String) throws freemarker.template.TemplateModelException;
    Code:
       0: aload_1
       1: instanceof    #6                  // class org/w3c/dom/Node
       4: ifne          127
       7: aload_1
       8: ifnull        117
      11: aload_1
      12: invokestatic  #7                  // Method isNodeList:(Ljava/lang/Object;)Z
      15: ifeq          79
      18: aload_1
      19: checkcast     #8                  // class java/util/List
      22: invokeinterface #9,  1            // InterfaceMethod java/util/List.size:()I
      27: istore_3
      28: iload_3
      29: ifeq          69
      32: new           #10                 // class freemarker/template/TemplateModelException
      35: dup
      36: new           #11                 // class java/lang/StringBuilder
      39: dup
      40: invokespecial #12                 // Method java/lang/StringBuilder."<init>":()V
      43: ldc           #13                 // String Cannot perform an XPath query against a node set of
      45: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: iload_3
      49: invokevirtual #15                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      52: ldc           #16                 // String  nodes. Expecting a single node.
      54: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: ldc           #17                 // String (Note that there is no such restriction if you configure FreeMarker to use Jaxen instead of Xalan.)
      59: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      65: invokespecial #19                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
      68: athrow
      69: new           #10                 // class freemarker/template/TemplateModelException
      72: dup
      73: ldc           #20                 // String Cannot perform an XPath query against an empty node set.(Note that there is no such restriction if you configure FreeMarker to use Jaxen instead of Xalan.)
      75: invokespecial #19                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
      78: athrow
      79: new           #10                 // class freemarker/template/TemplateModelException
      82: dup
      83: new           #11                 // class java/lang/StringBuilder
      86: dup
      87: invokespecial #12                 // Method java/lang/StringBuilder."<init>":()V
      90: ldc           #21                 // String Cannot perform an XPath query against a
      92: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: aload_1
      96: invokevirtual #22                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      99: invokevirtual #23                 // Method java/lang/Class.getName:()Ljava/lang/String;
     102: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: ldc           #24                 // String . Expecting a single org.w3c.dom.Node.
     107: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: invokespecial #19                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
     116: athrow
     117: new           #10                 // class freemarker/template/TemplateModelException
     120: dup
     121: ldc           #20                 // String Cannot perform an XPath query against an empty node set.(Note that there is no such restriction if you configure FreeMarker to use Jaxen instead of Xalan.)
     123: invokespecial #19                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
     126: athrow
     127: aload_1
     128: checkcast     #6                  // class org/w3c/dom/Node
     131: astore_3
     132: new           #25                 // class com/sun/org/apache/xpath/internal/XPath
     135: dup
     136: aload_2
     137: aconst_null
     138: getstatic     #26                 // Field customPrefixResolver:Lcom/sun/org/apache/xml/internal/utils/PrefixResolver;
     141: iconst_0
     142: aconst_null
     143: invokespecial #27                 // Method com/sun/org/apache/xpath/internal/XPath."<init>":(Ljava/lang/String;Ljavax/xml/transform/SourceLocator;Lcom/sun/org/apache/xml/internal/utils/PrefixResolver;ILjavax/xml/transform/ErrorListener;)V
     146: astore        4
     148: aload_0
     149: getfield      #5                  // Field xpathContext:Lcom/sun/org/apache/xpath/internal/XPathContext;
     152: aload_3
     153: invokevirtual #28                 // Method com/sun/org/apache/xpath/internal/XPathContext.getDTMHandleFromNode:(Lorg/w3c/dom/Node;)I
     156: istore        5
     158: aload         4
     160: aload_0
     161: getfield      #5                  // Field xpathContext:Lcom/sun/org/apache/xpath/internal/XPathContext;
     164: iload         5
     166: getstatic     #26                 // Field customPrefixResolver:Lcom/sun/org/apache/xml/internal/utils/PrefixResolver;
     169: invokevirtual #29                 // Method com/sun/org/apache/xpath/internal/XPath.execute:(Lcom/sun/org/apache/xpath/internal/XPathContext;ILcom/sun/org/apache/xml/internal/utils/PrefixResolver;)Lcom/sun/org/apache/xpath/internal/objects/XObject;
     172: astore        6
     174: aload         6
     176: instanceof    #30                 // class com/sun/org/apache/xpath/internal/objects/XNodeSet
     179: ifeq          252
     182: new           #31                 // class freemarker/ext/dom/NodeListModel
     185: dup
     186: aload_3
     187: invokespecial #32                 // Method freemarker/ext/dom/NodeListModel."<init>":(Lorg/w3c/dom/Node;)V
     190: astore        7
     192: aload         7
     194: aload_0
     195: putfield      #33                 // Field freemarker/ext/dom/NodeListModel.xpathSupport:Lfreemarker/ext/dom/XPathSupport;
     198: aload         6
     200: invokevirtual #34                 // Method com/sun/org/apache/xpath/internal/objects/XObject.nodeset:()Lorg/w3c/dom/traversal/NodeIterator;
     203: astore        8
     205: aload         8
     207: invokeinterface #35,  1           // InterfaceMethod org/w3c/dom/traversal/NodeIterator.nextNode:()Lorg/w3c/dom/Node;
     212: astore        9
     214: aload         9
     216: ifnull        226
     219: aload         7
     221: aload         9
     223: invokevirtual #36                 // Method freemarker/ext/dom/NodeListModel.add:(Ljava/lang/Object;)V
     226: aload         9
     228: ifnonnull     205
     231: aload         7
     233: invokevirtual #37                 // Method freemarker/ext/dom/NodeListModel.size:()I
     236: iconst_1
     237: if_icmpne     249
     240: aload         7
     242: iconst_0
     243: invokevirtual #38                 // Method freemarker/ext/dom/NodeListModel.get:(I)Lfreemarker/template/TemplateModel;
     246: goto          251
     249: aload         7
     251: areturn
     252: aload         6
     254: instanceof    #39                 // class com/sun/org/apache/xpath/internal/objects/XBoolean
     257: ifeq          281
     260: aload         6
     262: checkcast     #39                 // class com/sun/org/apache/xpath/internal/objects/XBoolean
     265: invokevirtual #40                 // Method com/sun/org/apache/xpath/internal/objects/XBoolean.bool:()Z
     268: ifeq          277
     271: getstatic     #41                 // Field freemarker/template/TemplateBooleanModel.TRUE:Lfreemarker/template/TemplateBooleanModel;
     274: goto          280
     277: getstatic     #42                 // Field freemarker/template/TemplateBooleanModel.FALSE:Lfreemarker/template/TemplateBooleanModel;
     280: areturn
     281: aload         6
     283: instanceof    #43                 // class com/sun/org/apache/xpath/internal/objects/XNull
     286: ifeq          291
     289: aconst_null
     290: areturn
     291: aload         6
     293: instanceof    #44                 // class com/sun/org/apache/xpath/internal/objects/XString
     296: ifeq          312
     299: new           #45                 // class freemarker/template/SimpleScalar
     302: dup
     303: aload         6
     305: invokevirtual #46                 // Method com/sun/org/apache/xpath/internal/objects/XObject.toString:()Ljava/lang/String;
     308: invokespecial #47                 // Method freemarker/template/SimpleScalar."<init>":(Ljava/lang/String;)V
     311: areturn
     312: aload         6
     314: instanceof    #48                 // class com/sun/org/apache/xpath/internal/objects/XNumber
     317: ifeq          339
     320: new           #49                 // class freemarker/template/SimpleNumber
     323: dup
     324: aload         6
     326: checkcast     #48                 // class com/sun/org/apache/xpath/internal/objects/XNumber
     329: invokevirtual #50                 // Method com/sun/org/apache/xpath/internal/objects/XNumber.num:()D
     332: invokestatic  #51                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     335: invokespecial #52                 // Method freemarker/template/SimpleNumber."<init>":(Ljava/lang/Number;)V
     338: areturn
     339: new           #10                 // class freemarker/template/TemplateModelException
     342: dup
     343: new           #11                 // class java/lang/StringBuilder
     346: dup
     347: invokespecial #12                 // Method java/lang/StringBuilder."<init>":()V
     350: ldc           #53                 // String Cannot deal with type:
     352: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     355: aload         6
     357: invokevirtual #22                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     360: invokevirtual #23                 // Method java/lang/Class.getName:()Ljava/lang/String;
     363: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     366: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     369: invokespecial #19                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/String;)V
     372: athrow
     373: astore        4
     375: new           #10                 // class freemarker/template/TemplateModelException
     378: dup
     379: aload         4
     381: invokespecial #55                 // Method freemarker/template/TemplateModelException."<init>":(Ljava/lang/Exception;)V
     384: athrow
    Exception table:
       from    to  target type
         132   251   373   Class javax/xml/transform/TransformerException
         252   280   373   Class javax/xml/transform/TransformerException
         281   290   373   Class javax/xml/transform/TransformerException
         291   311   373   Class javax/xml/transform/TransformerException
         312   338   373   Class javax/xml/transform/TransformerException
         339   373   373   Class javax/xml/transform/TransformerException

  private static boolean isNodeList(java.lang.Object);
    Code:
       0: aload_0
       1: instanceof    #8                  // class java/util/List
       4: ifeq          49
       7: aload_0
       8: checkcast     #8                  // class java/util/List
      11: astore_1
      12: aload_1
      13: invokeinterface #9,  1            // InterfaceMethod java/util/List.size:()I
      18: istore_2
      19: iconst_0
      20: istore_3
      21: iload_3
      22: iload_2
      23: if_icmpge     47
      26: aload_1
      27: iload_3
      28: invokeinterface #56,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      33: instanceof    #6                  // class org/w3c/dom/Node
      36: ifne          41
      39: iconst_0
      40: ireturn
      41: iinc          3, 1
      44: goto          21
      47: iconst_1
      48: ireturn
      49: iconst_0
      50: ireturn

  static {};
    Code:
       0: new           #57                 // class freemarker/ext/dom/SunInternalXalanXPathSupport$1
       3: dup
       4: invokespecial #58                 // Method freemarker/ext/dom/SunInternalXalanXPathSupport$1."<init>":()V
       7: putstatic     #26                 // Field customPrefixResolver:Lcom/sun/org/apache/xml/internal/utils/PrefixResolver;
      10: return
}
