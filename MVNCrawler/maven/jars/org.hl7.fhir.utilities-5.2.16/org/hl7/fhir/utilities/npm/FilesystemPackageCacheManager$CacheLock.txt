Compiled from "FilesystemPackageCacheManager.java"
public class org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager$CacheLock {
  private final java.io.File lockFile;

  final org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager this$0;

  public org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager$CacheLock(org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/hl7/fhir/utilities/npm/FilesystemPackageCacheManager;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #3                  // class java/io/File
      13: dup
      14: aload_1
      15: invokestatic  #4                  // Method org/hl7/fhir/utilities/npm/FilesystemPackageCacheManager.access$100:(Lorg/hl7/fhir/utilities/npm/FilesystemPackageCacheManager;)Ljava/lang/String;
      18: new           #5                  // class java/lang/StringBuilder
      21: dup
      22: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
      25: aload_2
      26: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: ldc           #8                  // String .lock
      31: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: invokevirtual #9                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokespecial #10                 // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      40: putfield      #11                 // Field lockFile:Ljava/io/File;
      43: aload_0
      44: getfield      #11                 // Field lockFile:Ljava/io/File;
      47: invokevirtual #12                 // Method java/io/File.isFile:()Z
      50: ifne          62
      53: ldc           #13                 // String
      55: aload_0
      56: getfield      #11                 // Field lockFile:Ljava/io/File;
      59: invokestatic  #14                 // Method org/hl7/fhir/utilities/TextFile.stringToFile:(Ljava/lang/String;Ljava/io/File;)V
      62: return

  public <T> T doWithLock(org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager$CacheLockFunction<T>) throws java.io.FileNotFoundException, java.io.IOException;
    Code:
       0: new           #15                 // class java/io/RandomAccessFile
       3: dup
       4: aload_0
       5: getfield      #11                 // Field lockFile:Ljava/io/File;
       8: ldc           #16                 // String rw
      10: invokespecial #17                 // Method java/io/RandomAccessFile."<init>":(Ljava/io/File;Ljava/lang/String;)V
      13: invokevirtual #18                 // Method java/io/RandomAccessFile.getChannel:()Ljava/nio/channels/FileChannel;
      16: astore_2
      17: aconst_null
      18: astore_3
      19: aload_2
      20: invokevirtual #19                 // Method java/nio/channels/FileChannel.lock:()Ljava/nio/channels/FileLock;
      23: astore        4
      25: aconst_null
      26: astore        5
      28: aload_1
      29: invokeinterface #20,  1           // InterfaceMethod org/hl7/fhir/utilities/npm/FilesystemPackageCacheManager$CacheLockFunction.get:()Ljava/lang/Object;
      34: astore        5
      36: aload         4
      38: invokevirtual #21                 // Method java/nio/channels/FileLock.release:()V
      41: goto          54
      44: astore        6
      46: aload         4
      48: invokevirtual #21                 // Method java/nio/channels/FileLock.release:()V
      51: aload         6
      53: athrow
      54: aload_0
      55: getfield      #11                 // Field lockFile:Ljava/io/File;
      58: invokevirtual #22                 // Method java/io/File.delete:()Z
      61: ifne          71
      64: aload_0
      65: getfield      #11                 // Field lockFile:Ljava/io/File;
      68: invokevirtual #23                 // Method java/io/File.deleteOnExit:()V
      71: aload         5
      73: astore        6
      75: aload_2
      76: ifnull        105
      79: aload_3
      80: ifnull        101
      83: aload_2
      84: invokevirtual #24                 // Method java/nio/channels/FileChannel.close:()V
      87: goto          105
      90: astore        7
      92: aload_3
      93: aload         7
      95: invokevirtual #26                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      98: goto          105
     101: aload_2
     102: invokevirtual #24                 // Method java/nio/channels/FileChannel.close:()V
     105: aload         6
     107: areturn
     108: astore        4
     110: aload         4
     112: astore_3
     113: aload         4
     115: athrow
     116: astore        8
     118: aload_2
     119: ifnull        148
     122: aload_3
     123: ifnull        144
     126: aload_2
     127: invokevirtual #24                 // Method java/nio/channels/FileChannel.close:()V
     130: goto          148
     133: astore        9
     135: aload_3
     136: aload         9
     138: invokevirtual #26                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     141: goto          148
     144: aload_2
     145: invokevirtual #24                 // Method java/nio/channels/FileChannel.close:()V
     148: aload         8
     150: athrow
    Exception table:
       from    to  target type
          28    36    44   any
          44    46    44   any
          83    87    90   Class java/lang/Throwable
          19    75   108   Class java/lang/Throwable
          19    75   116   any
         126   130   133   Class java/lang/Throwable
         108   118   116   any
}
