Compiled from "BasePackageCacheManager.java"
public abstract class org.hl7.fhir.utilities.npm.BasePackageCacheManager implements org.hl7.fhir.utilities.npm.IPackageCacheManager {
  private static final org.slf4j.Logger ourLog;

  private java.util.List<java.lang.String> myPackageServers;

  private java.util.function.Function<java.lang.String, org.hl7.fhir.utilities.npm.PackageClient> myClientFactory;

  public org.hl7.fhir.utilities.npm.BasePackageCacheManager();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/ArrayList
       8: dup
       9: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      12: putfield      #4                  // Field myPackageServers:Ljava/util/List;
      15: aload_0
      16: invokedynamic #5,  0              // InvokeDynamic #0:apply:()Ljava/util/function/Function;
      21: putfield      #6                  // Field myClientFactory:Ljava/util/function/Function;
      24: return

  public void setClientFactory(java.util.function.Function<java.lang.String, org.hl7.fhir.utilities.npm.PackageClient>);
    Code:
       0: aload_1
       1: ldc           #7                  // String theClientFactory must not be null
       3: iconst_0
       4: anewarray     #8                  // class java/lang/Object
       7: invokestatic  #9                  // Method org/apache/commons/lang3/Validate.notNull:(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;
      10: pop
      11: aload_0
      12: aload_1
      13: putfield      #6                  // Field myClientFactory:Ljava/util/function/Function;
      16: return

  public java.util.List<java.lang.String> getPackageServers();
    Code:
       0: aload_0
       1: getfield      #4                  // Field myPackageServers:Ljava/util/List;
       4: areturn

  public void addPackageServer(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #10                 // String thePackageServer must not be null or empty
       3: iconst_0
       4: anewarray     #8                  // class java/lang/Object
       7: invokestatic  #11                 // Method org/apache/commons/lang3/Validate.notBlank:(Ljava/lang/CharSequence;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/CharSequence;
      10: pop
      11: aload_0
      12: getfield      #4                  // Field myPackageServers:Ljava/util/List;
      15: aload_1
      16: invokeinterface #12,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      21: ifne          35
      24: aload_0
      25: getfield      #4                  // Field myPackageServers:Ljava/util/List;
      28: aload_1
      29: invokeinterface #13,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      34: pop
      35: return

  public org.hl7.fhir.utilities.npm.NpmPackage loadPackageFromCacheOnly(java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokevirtual #14                 // Method loadPackageFromCacheOnly:(Ljava/lang/String;Ljava/lang/String;)Lorg/hl7/fhir/utilities/npm/NpmPackage;
       6: areturn

  protected org.hl7.fhir.utilities.npm.BasePackageCacheManager$InputStreamWithSrc loadFromPackageServer(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #15                 // Method getPackageServers:()Ljava/util/List;
       4: invokeinterface #16,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_3
      10: aload_3
      11: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          141
      19: aload_3
      20: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #19                 // class java/lang/String
      28: astore        4
      30: aload_0
      31: getfield      #6                  // Field myClientFactory:Ljava/util/function/Function;
      34: aload         4
      36: invokeinterface #20,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      41: checkcast     #21                 // class org/hl7/fhir/utilities/npm/PackageClient
      44: astore        5
      46: aload_2
      47: invokestatic  #22                 // Method org/hl7/fhir/utilities/Utilities.noString:(Ljava/lang/String;)Z
      50: ifeq          60
      53: aload         5
      55: aload_1
      56: invokevirtual #23                 // Method org/hl7/fhir/utilities/npm/PackageClient.getLatestVersion:(Ljava/lang/String;)Ljava/lang/String;
      59: astore_2
      60: aload_2
      61: ldc           #24                 // String .x
      63: invokevirtual #25                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      66: ifeq          77
      69: aload         5
      71: aload_1
      72: aload_2
      73: invokevirtual #26                 // Method org/hl7/fhir/utilities/npm/PackageClient.getLatestVersion:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      76: astore_2
      77: aload         5
      79: aload_1
      80: aload_2
      81: invokevirtual #27                 // Method org/hl7/fhir/utilities/npm/PackageClient.fetch:(Ljava/lang/String;Ljava/lang/String;)Ljava/io/InputStream;
      84: astore        6
      86: aload         5
      88: aload_1
      89: aload_2
      90: invokevirtual #28                 // Method org/hl7/fhir/utilities/npm/PackageClient.url:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      93: astore        7
      95: new           #29                 // class org/hl7/fhir/utilities/npm/BasePackageCacheManager$InputStreamWithSrc
      98: dup
      99: aload_0
     100: aload         6
     102: aload         7
     104: aload_2
     105: invokespecial #30                 // Method org/hl7/fhir/utilities/npm/BasePackageCacheManager$InputStreamWithSrc."<init>":(Lorg/hl7/fhir/utilities/npm/BasePackageCacheManager;Ljava/io/InputStream;Ljava/lang/String;Ljava/lang/String;)V
     108: areturn
     109: astore        6
     111: getstatic     #32                 // Field ourLog:Lorg/slf4j/Logger;
     114: ldc           #33                 // String Failed to resolve package {}#{} from server: {}
     116: iconst_3
     117: anewarray     #8                  // class java/lang/Object
     120: dup
     121: iconst_0
     122: aload_1
     123: aastore
     124: dup
     125: iconst_1
     126: aload_2
     127: aastore
     128: dup
     129: iconst_2
     130: aload         4
     132: aastore
     133: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     138: goto          10
     141: aconst_null
     142: areturn
    Exception table:
       from    to  target type
          46   108   109   Class java/io/IOException

  public abstract org.hl7.fhir.utilities.npm.NpmPackage loadPackageFromCacheOnly(java.lang.String, java.lang.String) throws java.io.IOException;

  public java.lang.String getPackageUrl(java.lang.String) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: aload_1
       4: invokevirtual #35                 // Method loadPackageFromCacheOnly:(Ljava/lang/String;)Lorg/hl7/fhir/utilities/npm/NpmPackage;
       7: astore_3
       8: aload_3
       9: ifnull        17
      12: aload_3
      13: invokevirtual #36                 // Method org/hl7/fhir/utilities/npm/NpmPackage.canonical:()Ljava/lang/String;
      16: areturn
      17: aload_0
      18: invokevirtual #15                 // Method getPackageServers:()Ljava/util/List;
      21: invokeinterface #16,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      26: astore        4
      28: aload         4
      30: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      35: ifeq          67
      38: aload         4
      40: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      45: checkcast     #19                 // class java/lang/String
      48: astore        5
      50: aload_0
      51: aload_1
      52: aload         5
      54: invokespecial #37                 // Method getPackageUrl:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      57: astore_2
      58: aload_2
      59: ifnull        64
      62: aload_2
      63: areturn
      64: goto          28
      67: aload_2
      68: areturn

  private java.lang.String getPackageUrl(java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field myClientFactory:Ljava/util/function/Function;
       4: aload_2
       5: invokeinterface #20,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #21                 // class org/hl7/fhir/utilities/npm/PackageClient
      13: astore_3
      14: aload_3
      15: aload_1
      16: aconst_null
      17: aconst_null
      18: iconst_0
      19: invokevirtual #38                 // Method org/hl7/fhir/utilities/npm/PackageClient.search:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Z)Ljava/util/List;
      22: astore        4
      24: aload         4
      26: invokeinterface #39,  1           // InterfaceMethod java/util/List.size:()I
      31: ifne          36
      34: aconst_null
      35: areturn
      36: aload         4
      38: iconst_0
      39: invokeinterface #40,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      44: checkcast     #41                 // class org/hl7/fhir/utilities/npm/PackageClient$PackageInfo
      47: invokevirtual #42                 // Method org/hl7/fhir/utilities/npm/PackageClient$PackageInfo.getUrl:()Ljava/lang/String;
      50: areturn

  public java.lang.String getPackageId(java.lang.String) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: invokevirtual #15                 // Method getPackageServers:()Ljava/util/List;
       6: invokeinterface #16,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      11: astore_3
      12: aload_3
      13: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifeq          50
      21: aload_3
      22: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      27: checkcast     #19                 // class java/lang/String
      30: astore        4
      32: aload_0
      33: aload_1
      34: aload         4
      36: invokespecial #43                 // Method getPackageId:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      39: astore_2
      40: aload_2
      41: ifnull        47
      44: goto          50
      47: goto          12
      50: aload_2
      51: areturn

  private java.lang.String getPackageId(java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnonnull     6
       4: aconst_null
       5: areturn
       6: aload_0
       7: getfield      #6                  // Field myClientFactory:Ljava/util/function/Function;
      10: aload_2
      11: invokeinterface #20,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #21                 // class org/hl7/fhir/utilities/npm/PackageClient
      19: astore_3
      20: aload_3
      21: aconst_null
      22: aload_1
      23: aconst_null
      24: iconst_0
      25: invokevirtual #38                 // Method org/hl7/fhir/utilities/npm/PackageClient.search:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Z)Ljava/util/List;
      28: astore        4
      30: aload         4
      32: invokeinterface #39,  1           // InterfaceMethod java/util/List.size:()I
      37: ifne          42
      40: aconst_null
      41: areturn
      42: aload         4
      44: invokeinterface #16,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      49: astore        5
      51: aload         5
      53: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifeq          94
      61: aload         5
      63: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      68: checkcast     #41                 // class org/hl7/fhir/utilities/npm/PackageClient$PackageInfo
      71: astore        6
      73: aload_1
      74: aload         6
      76: invokevirtual #44                 // Method org/hl7/fhir/utilities/npm/PackageClient$PackageInfo.getCanonical:()Ljava/lang/String;
      79: invokevirtual #45                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      82: ifeq          91
      85: aload         6
      87: invokevirtual #46                 // Method org/hl7/fhir/utilities/npm/PackageClient$PackageInfo.getId:()Ljava/lang/String;
      90: areturn
      91: goto          51
      94: aload         4
      96: iconst_0
      97: invokeinterface #40,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     102: checkcast     #41                 // class org/hl7/fhir/utilities/npm/PackageClient$PackageInfo
     105: invokevirtual #46                 // Method org/hl7/fhir/utilities/npm/PackageClient$PackageInfo.getId:()Ljava/lang/String;
     108: areturn

  public org.hl7.fhir.utilities.npm.NpmPackage loadPackage(java.lang.String) throws org.hl7.fhir.exceptions.FHIRException, java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokevirtual #47                 // Method loadPackage:(Ljava/lang/String;Ljava/lang/String;)Lorg/hl7/fhir/utilities/npm/NpmPackage;
       6: areturn

  private static org.hl7.fhir.utilities.npm.PackageClient lambda$new$0(java.lang.String);
    Code:
       0: new           #48                 // class org/hl7/fhir/utilities/npm/CachingPackageClient
       3: dup
       4: aload_0
       5: invokespecial #49                 // Method org/hl7/fhir/utilities/npm/CachingPackageClient."<init>":(Ljava/lang/String;)V
       8: areturn

  static {};
    Code:
       0: ldc           #50                 // class org/hl7/fhir/utilities/npm/BasePackageCacheManager
       2: invokestatic  #51                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #32                 // Field ourLog:Lorg/slf4j/Logger;
       8: return
}
