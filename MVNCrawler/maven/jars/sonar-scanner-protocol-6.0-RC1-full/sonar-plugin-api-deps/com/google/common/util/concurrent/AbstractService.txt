Compiled from "AbstractService.java"
public abstract class com.google.common.util.concurrent.AbstractService implements com.google.common.util.concurrent.Service {
  private final java.util.concurrent.locks.ReentrantLock lock;

  private final com.google.common.util.concurrent.AbstractService$Transition startup;

  private final com.google.common.util.concurrent.AbstractService$Transition shutdown;

  private com.google.common.util.concurrent.Service$State state;

  private boolean shutdownWhenStartupFinishes;

  public com.google.common.util.concurrent.AbstractService();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/locks/ReentrantLock
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/locks/ReentrantLock."<init>":()V
      12: putfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      15: aload_0
      16: new           #5                  // class com/google/common/util/concurrent/AbstractService$Transition
      19: dup
      20: aload_0
      21: aconst_null
      22: invokespecial #6                  // Method com/google/common/util/concurrent/AbstractService$Transition."<init>":(Lcom/google/common/util/concurrent/AbstractService;Lcom/google/common/util/concurrent/AbstractService$1;)V
      25: putfield      #7                  // Field startup:Lcom/google/common/util/concurrent/AbstractService$Transition;
      28: aload_0
      29: new           #5                  // class com/google/common/util/concurrent/AbstractService$Transition
      32: dup
      33: aload_0
      34: aconst_null
      35: invokespecial #6                  // Method com/google/common/util/concurrent/AbstractService$Transition."<init>":(Lcom/google/common/util/concurrent/AbstractService;Lcom/google/common/util/concurrent/AbstractService$1;)V
      38: putfield      #8                  // Field shutdown:Lcom/google/common/util/concurrent/AbstractService$Transition;
      41: aload_0
      42: getstatic     #9                  // Field com/google/common/util/concurrent/Service$State.NEW:Lcom/google/common/util/concurrent/Service$State;
      45: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      48: aload_0
      49: iconst_0
      50: putfield      #11                 // Field shutdownWhenStartupFinishes:Z
      53: return

  protected abstract void doStart();

  protected abstract void doStop();

  public final com.google.common.util.concurrent.ListenableFuture<com.google.common.util.concurrent.Service$State> start();
    Code:
       0: aload_0
       1: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      11: getstatic     #9                  // Field com/google/common/util/concurrent/Service$State.NEW:Lcom/google/common/util/concurrent/Service$State;
      14: if_acmpne     28
      17: aload_0
      18: getstatic     #13                 // Field com/google/common/util/concurrent/Service$State.STARTING:Lcom/google/common/util/concurrent/Service$State;
      21: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      24: aload_0
      25: invokevirtual #14                 // Method doStart:()V
      28: aload_0
      29: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      32: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      35: goto          64
      38: astore_1
      39: aload_0
      40: aload_1
      41: invokevirtual #17                 // Method notifyFailed:(Ljava/lang/Throwable;)V
      44: aload_0
      45: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      48: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      51: goto          64
      54: astore_2
      55: aload_0
      56: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      59: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      62: aload_2
      63: athrow
      64: aload_0
      65: getfield      #7                  // Field startup:Lcom/google/common/util/concurrent/AbstractService$Transition;
      68: areturn
    Exception table:
       from    to  target type
           7    28    38   Class java/lang/Throwable
           7    28    54   any
          38    44    54   any
          54    55    54   any

  public final com.google.common.util.concurrent.ListenableFuture<com.google.common.util.concurrent.Service$State> stop();
    Code:
       0: aload_0
       1: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      11: getstatic     #9                  // Field com/google/common/util/concurrent/Service$State.NEW:Lcom/google/common/util/concurrent/Service$State;
      14: if_acmpne     49
      17: aload_0
      18: getstatic     #18                 // Field com/google/common/util/concurrent/Service$State.TERMINATED:Lcom/google/common/util/concurrent/Service$State;
      21: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      24: aload_0
      25: getfield      #7                  // Field startup:Lcom/google/common/util/concurrent/AbstractService$Transition;
      28: getstatic     #18                 // Field com/google/common/util/concurrent/Service$State.TERMINATED:Lcom/google/common/util/concurrent/Service$State;
      31: invokevirtual #19                 // Method com/google/common/util/concurrent/AbstractService$Transition.set:(Ljava/lang/Object;)Z
      34: pop
      35: aload_0
      36: getfield      #8                  // Field shutdown:Lcom/google/common/util/concurrent/AbstractService$Transition;
      39: getstatic     #18                 // Field com/google/common/util/concurrent/Service$State.TERMINATED:Lcom/google/common/util/concurrent/Service$State;
      42: invokevirtual #19                 // Method com/google/common/util/concurrent/AbstractService$Transition.set:(Ljava/lang/Object;)Z
      45: pop
      46: goto          99
      49: aload_0
      50: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      53: getstatic     #13                 // Field com/google/common/util/concurrent/Service$State.STARTING:Lcom/google/common/util/concurrent/Service$State;
      56: if_acmpne     78
      59: aload_0
      60: iconst_1
      61: putfield      #11                 // Field shutdownWhenStartupFinishes:Z
      64: aload_0
      65: getfield      #7                  // Field startup:Lcom/google/common/util/concurrent/AbstractService$Transition;
      68: getstatic     #20                 // Field com/google/common/util/concurrent/Service$State.STOPPING:Lcom/google/common/util/concurrent/Service$State;
      71: invokevirtual #19                 // Method com/google/common/util/concurrent/AbstractService$Transition.set:(Ljava/lang/Object;)Z
      74: pop
      75: goto          99
      78: aload_0
      79: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      82: getstatic     #21                 // Field com/google/common/util/concurrent/Service$State.RUNNING:Lcom/google/common/util/concurrent/Service$State;
      85: if_acmpne     99
      88: aload_0
      89: getstatic     #20                 // Field com/google/common/util/concurrent/Service$State.STOPPING:Lcom/google/common/util/concurrent/Service$State;
      92: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      95: aload_0
      96: invokevirtual #22                 // Method doStop:()V
      99: aload_0
     100: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
     103: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     106: goto          135
     109: astore_1
     110: aload_0
     111: aload_1
     112: invokevirtual #17                 // Method notifyFailed:(Ljava/lang/Throwable;)V
     115: aload_0
     116: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
     119: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     122: goto          135
     125: astore_2
     126: aload_0
     127: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
     130: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     133: aload_2
     134: athrow
     135: aload_0
     136: getfield      #8                  // Field shutdown:Lcom/google/common/util/concurrent/AbstractService$Transition;
     139: areturn
    Exception table:
       from    to  target type
           7    99   109   Class java/lang/Throwable
           7    99   125   any
         109   115   125   any
         125   126   125   any

  public com.google.common.util.concurrent.Service$State startAndWait();
    Code:
       0: aload_0
       1: invokevirtual #23                 // Method start:()Lcom/google/common/util/concurrent/ListenableFuture;
       4: invokestatic  #24                 // Method com/google/common/util/concurrent/Futures.getUnchecked:(Ljava/util/concurrent/Future;)Ljava/lang/Object;
       7: checkcast     #25                 // class com/google/common/util/concurrent/Service$State
      10: areturn

  public com.google.common.util.concurrent.Service$State stopAndWait();
    Code:
       0: aload_0
       1: invokevirtual #26                 // Method stop:()Lcom/google/common/util/concurrent/ListenableFuture;
       4: invokestatic  #24                 // Method com/google/common/util/concurrent/Futures.getUnchecked:(Ljava/util/concurrent/Future;)Ljava/lang/Object;
       7: checkcast     #25                 // class com/google/common/util/concurrent/Service$State
      10: areturn

  protected final void notifyStarted();
    Code:
       0: aload_0
       1: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      11: getstatic     #13                 // Field com/google/common/util/concurrent/Service$State.STARTING:Lcom/google/common/util/concurrent/Service$State;
      14: if_acmpeq     54
      17: new           #27                 // class java/lang/IllegalStateException
      20: dup
      21: new           #28                 // class java/lang/StringBuilder
      24: dup
      25: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #30                 // String Cannot notifyStarted() when the service is
      30: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_0
      34: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      37: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      40: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: invokespecial #34                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      46: astore_1
      47: aload_0
      48: aload_1
      49: invokevirtual #17                 // Method notifyFailed:(Ljava/lang/Throwable;)V
      52: aload_1
      53: athrow
      54: aload_0
      55: getstatic     #21                 // Field com/google/common/util/concurrent/Service$State.RUNNING:Lcom/google/common/util/concurrent/Service$State;
      58: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      61: aload_0
      62: getfield      #11                 // Field shutdownWhenStartupFinishes:Z
      65: ifeq          76
      68: aload_0
      69: invokevirtual #26                 // Method stop:()Lcom/google/common/util/concurrent/ListenableFuture;
      72: pop
      73: goto          87
      76: aload_0
      77: getfield      #7                  // Field startup:Lcom/google/common/util/concurrent/AbstractService$Transition;
      80: getstatic     #21                 // Field com/google/common/util/concurrent/Service$State.RUNNING:Lcom/google/common/util/concurrent/Service$State;
      83: invokevirtual #19                 // Method com/google/common/util/concurrent/AbstractService$Transition.set:(Ljava/lang/Object;)Z
      86: pop
      87: aload_0
      88: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      91: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      94: goto          107
      97: astore_2
      98: aload_0
      99: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
     102: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     105: aload_2
     106: athrow
     107: return
    Exception table:
       from    to  target type
           7    87    97   any
          97    98    97   any

  protected final void notifyStopped();
    Code:
       0: aload_0
       1: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      11: getstatic     #20                 // Field com/google/common/util/concurrent/Service$State.STOPPING:Lcom/google/common/util/concurrent/Service$State;
      14: if_acmpeq     64
      17: aload_0
      18: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      21: getstatic     #21                 // Field com/google/common/util/concurrent/Service$State.RUNNING:Lcom/google/common/util/concurrent/Service$State;
      24: if_acmpeq     64
      27: new           #27                 // class java/lang/IllegalStateException
      30: dup
      31: new           #28                 // class java/lang/StringBuilder
      34: dup
      35: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      38: ldc           #35                 // String Cannot notifyStopped() when the service is
      40: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: aload_0
      44: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      47: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      50: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokespecial #34                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      56: astore_1
      57: aload_0
      58: aload_1
      59: invokevirtual #17                 // Method notifyFailed:(Ljava/lang/Throwable;)V
      62: aload_1
      63: athrow
      64: aload_0
      65: getstatic     #18                 // Field com/google/common/util/concurrent/Service$State.TERMINATED:Lcom/google/common/util/concurrent/Service$State;
      68: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      71: aload_0
      72: getfield      #8                  // Field shutdown:Lcom/google/common/util/concurrent/AbstractService$Transition;
      75: getstatic     #18                 // Field com/google/common/util/concurrent/Service$State.TERMINATED:Lcom/google/common/util/concurrent/Service$State;
      78: invokevirtual #19                 // Method com/google/common/util/concurrent/AbstractService$Transition.set:(Ljava/lang/Object;)Z
      81: pop
      82: aload_0
      83: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      86: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      89: goto          102
      92: astore_2
      93: aload_0
      94: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      97: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
     100: aload_2
     101: athrow
     102: return
    Exception table:
       from    to  target type
           7    82    92   any
          92    93    92   any

  protected final void notifyFailed(java.lang.Throwable);
    Code:
       0: aload_1
       1: invokestatic  #36                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       4: pop
       5: aload_0
       6: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
       9: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
      12: aload_0
      13: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      16: getstatic     #13                 // Field com/google/common/util/concurrent/Service$State.STARTING:Lcom/google/common/util/concurrent/Service$State;
      19: if_acmpne     52
      22: aload_0
      23: getfield      #7                  // Field startup:Lcom/google/common/util/concurrent/AbstractService$Transition;
      26: aload_1
      27: invokevirtual #37                 // Method com/google/common/util/concurrent/AbstractService$Transition.setException:(Ljava/lang/Throwable;)Z
      30: pop
      31: aload_0
      32: getfield      #8                  // Field shutdown:Lcom/google/common/util/concurrent/AbstractService$Transition;
      35: new           #38                 // class java/lang/Exception
      38: dup
      39: ldc           #39                 // String Service failed to start.
      41: aload_1
      42: invokespecial #40                 // Method java/lang/Exception."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      45: invokevirtual #37                 // Method com/google/common/util/concurrent/AbstractService$Transition.setException:(Ljava/lang/Throwable;)Z
      48: pop
      49: goto          71
      52: aload_0
      53: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      56: getstatic     #20                 // Field com/google/common/util/concurrent/Service$State.STOPPING:Lcom/google/common/util/concurrent/Service$State;
      59: if_acmpne     71
      62: aload_0
      63: getfield      #8                  // Field shutdown:Lcom/google/common/util/concurrent/AbstractService$Transition;
      66: aload_1
      67: invokevirtual #37                 // Method com/google/common/util/concurrent/AbstractService$Transition.setException:(Ljava/lang/Throwable;)Z
      70: pop
      71: aload_0
      72: getstatic     #41                 // Field com/google/common/util/concurrent/Service$State.FAILED:Lcom/google/common/util/concurrent/Service$State;
      75: putfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      78: aload_0
      79: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      82: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      85: goto          98
      88: astore_2
      89: aload_0
      90: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      93: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      96: aload_2
      97: athrow
      98: return
    Exception table:
       from    to  target type
          12    78    88   any
          88    89    88   any

  public final boolean isRunning();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method state:()Lcom/google/common/util/concurrent/Service$State;
       4: getstatic     #21                 // Field com/google/common/util/concurrent/Service$State.RUNNING:Lcom/google/common/util/concurrent/Service$State;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  public final com.google.common.util.concurrent.Service$State state();
    Code:
       0: aload_0
       1: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
       4: invokevirtual #12                 // Method java/util/concurrent/locks/ReentrantLock.lock:()V
       7: aload_0
       8: getfield      #11                 // Field shutdownWhenStartupFinishes:Z
      11: ifeq          37
      14: aload_0
      15: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      18: getstatic     #13                 // Field com/google/common/util/concurrent/Service$State.STARTING:Lcom/google/common/util/concurrent/Service$State;
      21: if_acmpne     37
      24: getstatic     #20                 // Field com/google/common/util/concurrent/Service$State.STOPPING:Lcom/google/common/util/concurrent/Service$State;
      27: astore_1
      28: aload_0
      29: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      32: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      35: aload_1
      36: areturn
      37: aload_0
      38: getfield      #10                 // Field state:Lcom/google/common/util/concurrent/Service$State;
      41: astore_1
      42: aload_0
      43: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      46: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      49: aload_1
      50: areturn
      51: astore_2
      52: aload_0
      53: getfield      #4                  // Field lock:Ljava/util/concurrent/locks/ReentrantLock;
      56: invokevirtual #15                 // Method java/util/concurrent/locks/ReentrantLock.unlock:()V
      59: aload_2
      60: athrow
    Exception table:
       from    to  target type
           7    28    51   any
          37    42    51   any
          51    52    51   any

  public java.lang.String toString();
    Code:
       0: new           #28                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: invokevirtual #43                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      11: invokevirtual #44                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
      14: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      17: ldc           #45                 // String  [
      19: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: aload_0
      23: invokevirtual #42                 // Method state:()Lcom/google/common/util/concurrent/Service$State;
      26: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: ldc           #46                 // String ]
      31: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: areturn
}
