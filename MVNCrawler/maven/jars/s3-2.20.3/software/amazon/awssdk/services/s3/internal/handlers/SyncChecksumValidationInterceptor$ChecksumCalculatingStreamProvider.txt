Compiled from "SyncChecksumValidationInterceptor.java"
final class software.amazon.awssdk.services.s3.internal.handlers.SyncChecksumValidationInterceptor$ChecksumCalculatingStreamProvider implements software.amazon.awssdk.http.ContentStreamProvider {
  private final software.amazon.awssdk.core.checksums.SdkChecksum checksum;

  private java.io.InputStream currentStream;

  private final software.amazon.awssdk.http.ContentStreamProvider underlyingInputStreamProvider;

  software.amazon.awssdk.services.s3.internal.handlers.SyncChecksumValidationInterceptor$ChecksumCalculatingStreamProvider(software.amazon.awssdk.http.ContentStreamProvider, software.amazon.awssdk.core.checksums.SdkChecksum);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field underlyingInputStreamProvider:Lsoftware/amazon/awssdk/http/ContentStreamProvider;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field checksum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      14: return

  public java.io.InputStream newStream();
    Code:
       0: aload_0
       1: invokespecial #4                  // Method closeCurrentStream:()V
       4: aload_0
       5: aload_0
       6: invokedynamic #5,  0              // InvokeDynamic #0:get:(Lsoftware/amazon/awssdk/services/s3/internal/handlers/SyncChecksumValidationInterceptor$ChecksumCalculatingStreamProvider;)Lsoftware/amazon/awssdk/utils/FunctionalUtils$UnsafeSupplier;
      11: invokestatic  #6                  // Method software/amazon/awssdk/utils/FunctionalUtils.invokeSafely:(Lsoftware/amazon/awssdk/utils/FunctionalUtils$UnsafeSupplier;)Ljava/lang/Object;
      14: checkcast     #7                  // class java/io/InputStream
      17: putfield      #8                  // Field currentStream:Ljava/io/InputStream;
      20: aload_0
      21: getfield      #8                  // Field currentStream:Ljava/io/InputStream;
      24: areturn

  private void closeCurrentStream();
    Code:
       0: aload_0
       1: getfield      #3                  // Field checksum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
       4: invokeinterface #9,  1            // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.reset:()V
       9: aload_0
      10: getfield      #8                  // Field currentStream:Ljava/io/InputStream;
      13: ifnull        38
      16: aload_0
      17: getfield      #8                  // Field currentStream:Ljava/io/InputStream;
      20: dup
      21: invokevirtual #10                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      24: pop
      25: invokedynamic #11,  0             // InvokeDynamic #1:run:(Ljava/io/InputStream;)Lsoftware/amazon/awssdk/utils/FunctionalUtils$UnsafeRunnable;
      30: invokestatic  #12                 // Method software/amazon/awssdk/utils/FunctionalUtils.invokeSafely:(Lsoftware/amazon/awssdk/utils/FunctionalUtils$UnsafeRunnable;)V
      33: aload_0
      34: aconst_null
      35: putfield      #8                  // Field currentStream:Ljava/io/InputStream;
      38: return

  private software.amazon.awssdk.services.s3.checksums.ChecksumCalculatingInputStream lambda$newStream$0() throws java.lang.Exception;
    Code:
       0: new           #13                 // class software/amazon/awssdk/services/s3/checksums/ChecksumCalculatingInputStream
       3: dup
       4: aload_0
       5: getfield      #2                  // Field underlyingInputStreamProvider:Lsoftware/amazon/awssdk/http/ContentStreamProvider;
       8: invokeinterface #14,  1           // InterfaceMethod software/amazon/awssdk/http/ContentStreamProvider.newStream:()Ljava/io/InputStream;
      13: aload_0
      14: getfield      #3                  // Field checksum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      17: invokespecial #15                 // Method software/amazon/awssdk/services/s3/checksums/ChecksumCalculatingInputStream."<init>":(Ljava/io/InputStream;Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;)V
      20: areturn
}
