Compiled from "ChecksumValidatingInputStream.java"
public class software.amazon.awssdk.services.s3.checksums.ChecksumValidatingInputStream extends java.io.InputStream implements software.amazon.awssdk.http.Abortable {
  private static final int CHECKSUM_SIZE;

  private final software.amazon.awssdk.core.checksums.SdkChecksum checkSum;

  private final java.io.InputStream inputStream;

  private long strippedLength;

  private byte[] streamChecksum;

  private long lengthRead;

  private byte[] computedChecksum;

  public software.amazon.awssdk.services.s3.checksums.ChecksumValidatingInputStream(java.io.InputStream, software.amazon.awssdk.core.checksums.SdkChecksum, long);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/io/InputStream."<init>":()V
       4: aload_0
       5: bipush        16
       7: newarray       byte
       9: putfield      #3                  // Field streamChecksum:[B
      12: aload_0
      13: lconst_0
      14: putfield      #4                  // Field lengthRead:J
      17: aload_0
      18: aload_1
      19: putfield      #5                  // Field inputStream:Ljava/io/InputStream;
      22: aload_0
      23: aload_2
      24: putfield      #6                  // Field checkSum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      27: aload_0
      28: lload_3
      29: ldc2_w        #7                  // long 16l
      32: lsub
      33: putfield      #9                  // Field strippedLength:J
      36: return

  public int read() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
       4: invokevirtual #10                 // Method java/io/InputStream.read:()I
       7: istore_1
       8: iload_1
       9: iconst_m1
      10: if_icmpeq     35
      13: aload_0
      14: getfield      #4                  // Field lengthRead:J
      17: aload_0
      18: getfield      #9                  // Field strippedLength:J
      21: lcmp
      22: ifge          35
      25: aload_0
      26: getfield      #6                  // Field checkSum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      29: iload_1
      30: invokeinterface #11,  2           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.update:(I)V
      35: iload_1
      36: iconst_m1
      37: if_icmpeq     50
      40: aload_0
      41: dup
      42: getfield      #4                  // Field lengthRead:J
      45: lconst_1
      46: ladd
      47: putfield      #4                  // Field lengthRead:J
      50: iload_1
      51: iconst_m1
      52: if_icmpeq     143
      55: aload_0
      56: getfield      #4                  // Field lengthRead:J
      59: aload_0
      60: getfield      #9                  // Field strippedLength:J
      63: lcmp
      64: ifne          143
      67: iconst_m1
      68: istore_2
      69: aload_0
      70: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
      73: invokevirtual #10                 // Method java/io/InputStream.read:()I
      76: istore_2
      77: iload_2
      78: iconst_m1
      79: if_icmpeq     143
      82: aload_0
      83: getfield      #4                  // Field lengthRead:J
      86: aload_0
      87: getfield      #9                  // Field strippedLength:J
      90: ldc2_w        #7                  // long 16l
      93: ladd
      94: lcmp
      95: ifge          143
      98: aload_0
      99: getfield      #4                  // Field lengthRead:J
     102: aload_0
     103: getfield      #9                  // Field strippedLength:J
     106: lsub
     107: l2i
     108: bipush        15
     110: invokestatic  #12                 // Method java/lang/Math.min:(II)I
     113: istore_3
     114: aload_0
     115: getfield      #3                  // Field streamChecksum:[B
     118: iload_3
     119: iload_2
     120: i2b
     121: bastore
     122: aload_0
     123: dup
     124: getfield      #4                  // Field lengthRead:J
     127: lconst_1
     128: ladd
     129: putfield      #4                  // Field lengthRead:J
     132: aload_0
     133: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
     136: invokevirtual #10                 // Method java/io/InputStream.read:()I
     139: istore_2
     140: goto          77
     143: iload_1
     144: iconst_m1
     145: if_icmpne     152
     148: aload_0
     149: invokespecial #13                 // Method validateAndThrow:()V
     152: iload_1
     153: ireturn

  public int read(byte[], int, int) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnonnull     12
       4: new           #14                 // class java/lang/NullPointerException
       7: dup
       8: invokespecial #15                 // Method java/lang/NullPointerException."<init>":()V
      11: athrow
      12: iconst_m1
      13: istore        4
      15: aload_0
      16: getfield      #4                  // Field lengthRead:J
      19: aload_0
      20: getfield      #9                  // Field strippedLength:J
      23: lcmp
      24: ifge          124
      27: ldc2_w        #17                 // long 2147483647l
      30: aload_0
      31: getfield      #9                  // Field strippedLength:J
      34: aload_0
      35: getfield      #4                  // Field lengthRead:J
      38: lsub
      39: invokestatic  #19                 // Method java/lang/Math.min:(JJ)J
      42: lstore        5
      44: lload         5
      46: iload_3
      47: i2l
      48: invokestatic  #19                 // Method java/lang/Math.min:(JJ)J
      51: l2i
      52: istore        7
      54: aload_0
      55: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
      58: aload_1
      59: iload_2
      60: iload         7
      62: invokevirtual #20                 // Method java/io/InputStream.read:([BII)I
      65: istore        4
      67: aload_0
      68: getfield      #9                  // Field strippedLength:J
      71: aload_0
      72: getfield      #4                  // Field lengthRead:J
      75: lsub
      76: iload         4
      78: i2l
      79: invokestatic  #19                 // Method java/lang/Math.min:(JJ)J
      82: l2i
      83: istore        8
      85: iload         8
      87: ifle          103
      90: aload_0
      91: getfield      #6                  // Field checkSum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      94: aload_1
      95: iload_2
      96: iload         8
      98: invokeinterface #21,  4           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.update:([BII)V
     103: aload_0
     104: dup
     105: getfield      #4                  // Field lengthRead:J
     108: iload         4
     110: iflt          119
     113: iload         4
     115: i2l
     116: goto          120
     119: lconst_0
     120: ladd
     121: putfield      #4                  // Field lengthRead:J
     124: aload_0
     125: getfield      #4                  // Field lengthRead:J
     128: aload_0
     129: getfield      #9                  // Field strippedLength:J
     132: lcmp
     133: iflt          203
     136: iconst_0
     137: istore        5
     139: aload_0
     140: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
     143: invokevirtual #10                 // Method java/io/InputStream.read:()I
     146: dup
     147: istore        5
     149: iconst_m1
     150: if_icmpeq     193
     153: aload_0
     154: getfield      #4                  // Field lengthRead:J
     157: aload_0
     158: getfield      #9                  // Field strippedLength:J
     161: lsub
     162: l2i
     163: bipush        15
     165: invokestatic  #12                 // Method java/lang/Math.min:(II)I
     168: istore        6
     170: aload_0
     171: getfield      #3                  // Field streamChecksum:[B
     174: iload         6
     176: iload         5
     178: i2b
     179: bastore
     180: aload_0
     181: dup
     182: getfield      #4                  // Field lengthRead:J
     185: lconst_1
     186: ladd
     187: putfield      #4                  // Field lengthRead:J
     190: goto          139
     193: iload         4
     195: iconst_m1
     196: if_icmpne     203
     199: aload_0
     200: invokespecial #13                 // Method validateAndThrow:()V
     203: iload         4
     205: ireturn

  public synchronized void reset() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
       4: invokevirtual #22                 // Method java/io/InputStream.reset:()V
       7: aload_0
       8: getfield      #6                  // Field checkSum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      11: invokeinterface #23,  1           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.reset:()V
      16: aload_0
      17: lconst_0
      18: putfield      #4                  // Field lengthRead:J
      21: iconst_0
      22: istore_1
      23: iload_1
      24: bipush        16
      26: if_icmpge     42
      29: aload_0
      30: getfield      #3                  // Field streamChecksum:[B
      33: iload_1
      34: iconst_0
      35: bastore
      36: iinc          1, 1
      39: goto          23
      42: return

  public void abort();
    Code:
       0: aload_0
       1: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
       4: instanceof    #24                 // class software/amazon/awssdk/http/Abortable
       7: ifeq          22
      10: aload_0
      11: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
      14: checkcast     #24                 // class software/amazon/awssdk/http/Abortable
      17: invokeinterface #25,  1           // InterfaceMethod software/amazon/awssdk/http/Abortable.abort:()V
      22: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field inputStream:Ljava/io/InputStream;
       4: invokevirtual #26                 // Method java/io/InputStream.close:()V
       7: return

  private void validateAndThrow();
    Code:
       0: aload_0
       1: getfield      #27                 // Field computedChecksum:[B
       4: ifnonnull     20
       7: aload_0
       8: aload_0
       9: getfield      #6                  // Field checkSum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      12: invokeinterface #28,  1           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.getChecksumBytes:()[B
      17: putfield      #27                 // Field computedChecksum:[B
      20: aload_0
      21: getfield      #27                 // Field computedChecksum:[B
      24: aload_0
      25: getfield      #3                  // Field streamChecksum:[B
      28: invokestatic  #29                 // Method java/util/Arrays.equals:([B[B)Z
      31: ifne          67
      34: ldc           #30                 // String Data read has a different checksum than expected. Was 0x%s, but expected 0x%s. This commonly means that the data was corrupted between the client and service.
      36: iconst_2
      37: anewarray     #31                 // class java/lang/Object
      40: dup
      41: iconst_0
      42: aload_0
      43: getfield      #27                 // Field computedChecksum:[B
      46: invokestatic  #32                 // Method software/amazon/awssdk/utils/BinaryUtils.toHex:([B)Ljava/lang/String;
      49: aastore
      50: dup
      51: iconst_1
      52: aload_0
      53: getfield      #3                  // Field streamChecksum:[B
      56: invokestatic  #32                 // Method software/amazon/awssdk/utils/BinaryUtils.toHex:([B)Ljava/lang/String;
      59: aastore
      60: invokestatic  #33                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      63: invokestatic  #34                 // Method software/amazon/awssdk/core/exception/RetryableException.create:(Ljava/lang/String;)Lsoftware/amazon/awssdk/core/exception/RetryableException;
      66: athrow
      67: return
}
