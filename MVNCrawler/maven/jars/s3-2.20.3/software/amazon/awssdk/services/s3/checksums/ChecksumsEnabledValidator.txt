Compiled from "ChecksumsEnabledValidator.java"
public final class software.amazon.awssdk.services.s3.checksums.ChecksumsEnabledValidator {
  public static final software.amazon.awssdk.core.interceptor.ExecutionAttribute<software.amazon.awssdk.core.checksums.SdkChecksum> CHECKSUM;

  private software.amazon.awssdk.services.s3.checksums.ChecksumsEnabledValidator();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: return

  public static boolean getObjectChecksumEnabledPerRequest(software.amazon.awssdk.core.SdkRequest, software.amazon.awssdk.core.interceptor.ExecutionAttributes);
    Code:
       0: aload_0
       1: instanceof    #3                  // class software/amazon/awssdk/services/s3/model/GetObjectRequest
       4: ifeq          18
       7: aload_1
       8: invokestatic  #4                  // Method checksumEnabledPerConfig:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttributes;)Z
      11: ifeq          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  public static boolean getObjectChecksumEnabledPerResponse(software.amazon.awssdk.core.SdkRequest, software.amazon.awssdk.http.SdkHttpHeaders);
    Code:
       0: aload_0
       1: instanceof    #3                  // class software/amazon/awssdk/services/s3/model/GetObjectRequest
       4: ifeq          18
       7: aload_1
       8: invokestatic  #5                  // Method checksumEnabledPerResponse:(Lsoftware/amazon/awssdk/http/SdkHttpHeaders;)Z
      11: ifeq          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  public static boolean shouldRecordChecksum(software.amazon.awssdk.core.SdkRequest, software.amazon.awssdk.core.ClientType, software.amazon.awssdk.core.interceptor.ExecutionAttributes, software.amazon.awssdk.http.SdkHttpRequest);
    Code:
       0: aload_0
       1: instanceof    #6                  // class software/amazon/awssdk/services/s3/model/PutObjectRequest
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_2
      10: getstatic     #7                  // Field software/amazon/awssdk/core/interceptor/SdkExecutionAttribute.CLIENT_TYPE:Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;
      13: invokevirtual #8                  // Method software/amazon/awssdk/core/interceptor/ExecutionAttributes.getAttribute:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;)Ljava/lang/Object;
      16: checkcast     #9                  // class software/amazon/awssdk/core/ClientType
      19: astore        4
      21: aload_1
      22: aload         4
      24: if_acmpeq     29
      27: iconst_0
      28: ireturn
      29: aload_3
      30: invokestatic  #10                 // Method hasServerSideEncryptionHeader:(Lsoftware/amazon/awssdk/http/SdkHttpHeaders;)Z
      33: ifeq          38
      36: iconst_0
      37: ireturn
      38: aload_2
      39: invokestatic  #11                 // Method isHttpCheckSumValidationEnabled:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttributes;)Z
      42: ifeq          47
      45: iconst_0
      46: ireturn
      47: aload_2
      48: invokestatic  #4                  // Method checksumEnabledPerConfig:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttributes;)Z
      51: ireturn

  private static boolean isHttpCheckSumValidationEnabled(software.amazon.awssdk.core.interceptor.ExecutionAttributes);
    Code:
       0: aload_0
       1: getstatic     #12                 // Field software/amazon/awssdk/core/interceptor/SdkExecutionAttribute.RESOLVED_CHECKSUM_SPECS:Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;
       4: invokevirtual #13                 // Method software/amazon/awssdk/core/interceptor/ExecutionAttributes.getOptionalAttribute:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;)Ljava/util/Optional;
       7: astore_1
       8: aload_1
       9: invokevirtual #14                 // Method java/util/Optional.isPresent:()Z
      12: ifeq          36
      15: aload_1
      16: invokevirtual #15                 // Method java/util/Optional.get:()Ljava/lang/Object;
      19: checkcast     #16                 // class software/amazon/awssdk/core/checksums/ChecksumSpecs
      22: astore_2
      23: aload_2
      24: invokevirtual #17                 // Method software/amazon/awssdk/core/checksums/ChecksumSpecs.algorithm:()Lsoftware/amazon/awssdk/core/checksums/Algorithm;
      27: ifnull        34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: ireturn
      36: iconst_0
      37: ireturn

  public static boolean responseChecksumIsValid(software.amazon.awssdk.http.SdkHttpResponse);
    Code:
       0: aload_0
       1: invokestatic  #10                 // Method hasServerSideEncryptionHeader:(Lsoftware/amazon/awssdk/http/SdkHttpHeaders;)Z
       4: ifne          11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  private static boolean hasServerSideEncryptionHeader(software.amazon.awssdk.http.SdkHttpHeaders);
    Code:
       0: aload_0
       1: ldc           #18                 // String x-amz-server-side-encryption-customer-algorithm
       3: invokeinterface #19,  2           // InterfaceMethod software/amazon/awssdk/http/SdkHttpHeaders.firstMatchingHeader:(Ljava/lang/String;)Ljava/util/Optional;
       8: invokevirtual #14                 // Method java/util/Optional.isPresent:()Z
      11: ifeq          16
      14: iconst_1
      15: ireturn
      16: aload_0
      17: ldc           #20                 // String x-amz-server-side-encryption
      19: invokeinterface #19,  2           // InterfaceMethod software/amazon/awssdk/http/SdkHttpHeaders.firstMatchingHeader:(Ljava/lang/String;)Ljava/util/Optional;
      24: invokedynamic #21,  0             // InvokeDynamic #0:test:()Ljava/util/function/Predicate;
      29: invokevirtual #22                 // Method java/util/Optional.filter:(Ljava/util/function/Predicate;)Ljava/util/Optional;
      32: invokevirtual #14                 // Method java/util/Optional.isPresent:()Z
      35: ifeq          40
      38: iconst_1
      39: ireturn
      40: iconst_0
      41: ireturn

  public static void validatePutObjectChecksum(software.amazon.awssdk.services.s3.model.PutObjectResponse, software.amazon.awssdk.core.interceptor.ExecutionAttributes);
    Code:
       0: aload_1
       1: getstatic     #23                 // Field CHECKSUM:Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;
       4: invokevirtual #8                  // Method software/amazon/awssdk/core/interceptor/ExecutionAttributes.getAttribute:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;)Ljava/lang/Object;
       7: checkcast     #24                 // class software/amazon/awssdk/core/checksums/SdkChecksum
      10: astore_2
      11: aload_0
      12: invokevirtual #25                 // Method software/amazon/awssdk/services/s3/model/PutObjectResponse.eTag:()Ljava/lang/String;
      15: ifnull        89
      18: aload_2
      19: invokeinterface #26,  1           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.getChecksumBytes:()[B
      24: invokestatic  #27                 // Method software/amazon/awssdk/utils/BinaryUtils.toBase64:([B)Ljava/lang/String;
      27: astore_3
      28: aload_3
      29: invokestatic  #28                 // Method software/amazon/awssdk/utils/BinaryUtils.fromBase64:(Ljava/lang/String;)[B
      32: astore        4
      34: aload_0
      35: invokevirtual #25                 // Method software/amazon/awssdk/services/s3/model/PutObjectResponse.eTag:()Ljava/lang/String;
      38: ldc           #29                 // String \"
      40: ldc           #30                 // String
      42: invokestatic  #31                 // Method software/amazon/awssdk/utils/StringUtils.replace:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      45: invokestatic  #32                 // Method software/amazon/awssdk/utils/internal/Base16Lower.decode:(Ljava/lang/String;)[B
      48: astore        5
      50: aload         4
      52: aload         5
      54: invokestatic  #33                 // Method java/util/Arrays.equals:([B[B)Z
      57: ifne          89
      60: ldc           #34                 // String Data read has a different checksum than expected. Was 0x%s, but expected 0x%s. This commonly means that the data was corrupted between the client and service. Note: Despite this error, the upload still completed and was persisted in S3.
      62: iconst_2
      63: anewarray     #35                 // class java/lang/Object
      66: dup
      67: iconst_0
      68: aload         4
      70: invokestatic  #36                 // Method software/amazon/awssdk/utils/BinaryUtils.toHex:([B)Ljava/lang/String;
      73: aastore
      74: dup
      75: iconst_1
      76: aload         5
      78: invokestatic  #36                 // Method software/amazon/awssdk/utils/BinaryUtils.toHex:([B)Ljava/lang/String;
      81: aastore
      82: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      85: invokestatic  #38                 // Method software/amazon/awssdk/core/exception/RetryableException.create:(Ljava/lang/String;)Lsoftware/amazon/awssdk/core/exception/RetryableException;
      88: athrow
      89: return

  private static boolean checksumEnabledPerResponse(software.amazon.awssdk.http.SdkHttpHeaders);
    Code:
       0: aload_0
       1: ldc           #39                 // String x-amz-transfer-encoding
       3: invokeinterface #19,  2           // InterfaceMethod software/amazon/awssdk/http/SdkHttpHeaders.firstMatchingHeader:(Ljava/lang/String;)Ljava/util/Optional;
       8: invokedynamic #40,  0             // InvokeDynamic #1:test:()Ljava/util/function/Predicate;
      13: invokevirtual #22                 // Method java/util/Optional.filter:(Ljava/util/function/Predicate;)Ljava/util/Optional;
      16: invokevirtual #14                 // Method java/util/Optional.isPresent:()Z
      19: ireturn

  private static boolean checksumEnabledPerConfig(software.amazon.awssdk.core.interceptor.ExecutionAttributes);
    Code:
       0: aload_0
       1: getstatic     #41                 // Field software/amazon/awssdk/auth/signer/AwsSignerExecutionAttribute.SERVICE_CONFIG:Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;
       4: invokevirtual #8                  // Method software/amazon/awssdk/core/interceptor/ExecutionAttributes.getAttribute:(Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;)Ljava/lang/Object;
       7: checkcast     #42                 // class software/amazon/awssdk/services/s3/S3Configuration
      10: astore_1
      11: aload_1
      12: ifnull        22
      15: aload_1
      16: invokevirtual #43                 // Method software/amazon/awssdk/services/s3/S3Configuration.checksumValidationEnabled:()Z
      19: ifeq          26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ireturn

  private static boolean lambda$checksumEnabledPerResponse$1(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #44                 // String append-md5
       3: invokevirtual #45                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ireturn

  private static boolean lambda$hasServerSideEncryptionHeader$0(java.lang.String);
    Code:
       0: aload_0
       1: getstatic     #46                 // Field software/amazon/awssdk/services/s3/model/ServerSideEncryption.AWS_KMS:Lsoftware/amazon/awssdk/services/s3/model/ServerSideEncryption;
       4: invokevirtual #47                 // Method software/amazon/awssdk/services/s3/model/ServerSideEncryption.toString:()Ljava/lang/String;
       7: invokevirtual #48                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      10: ireturn

  static {};
    Code:
       0: new           #49                 // class software/amazon/awssdk/core/interceptor/ExecutionAttribute
       3: dup
       4: ldc           #50                 // String checksum
       6: invokespecial #51                 // Method software/amazon/awssdk/core/interceptor/ExecutionAttribute."<init>":(Ljava/lang/String;)V
       9: putstatic     #23                 // Field CHECKSUM:Lsoftware/amazon/awssdk/core/interceptor/ExecutionAttribute;
      12: return
}
