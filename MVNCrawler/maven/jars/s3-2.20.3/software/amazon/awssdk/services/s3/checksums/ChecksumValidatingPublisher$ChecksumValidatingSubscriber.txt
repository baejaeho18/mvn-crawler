Compiled from "ChecksumValidatingPublisher.java"
class software.amazon.awssdk.services.s3.checksums.ChecksumValidatingPublisher$ChecksumValidatingSubscriber implements org.reactivestreams.Subscriber<java.nio.ByteBuffer> {
  private static final int CHECKSUM_SIZE;

  private final org.reactivestreams.Subscriber<? super java.nio.ByteBuffer> wrapped;

  private final software.amazon.awssdk.core.checksums.SdkChecksum sdkChecksum;

  private final long strippedLength;

  private byte[] streamChecksum;

  private long lengthRead;

  software.amazon.awssdk.services.s3.checksums.ChecksumValidatingPublisher$ChecksumValidatingSubscriber(org.reactivestreams.Subscriber<? super java.nio.ByteBuffer>, software.amazon.awssdk.core.checksums.SdkChecksum, long);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: bipush        16
       7: newarray       byte
       9: putfield      #3                  // Field streamChecksum:[B
      12: aload_0
      13: lconst_0
      14: putfield      #4                  // Field lengthRead:J
      17: aload_0
      18: aload_1
      19: putfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
      22: aload_0
      23: aload_2
      24: putfield      #6                  // Field sdkChecksum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      27: aload_0
      28: lload_3
      29: ldc2_w        #7                  // long 16l
      32: lsub
      33: putfield      #9                  // Field strippedLength:J
      36: return

  public void onSubscribe(org.reactivestreams.Subscription);
    Code:
       0: aload_0
       1: getfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
       4: aload_1
       5: invokeinterface #10,  2           // InterfaceMethod org/reactivestreams/Subscriber.onSubscribe:(Lorg/reactivestreams/Subscription;)V
      10: return

  public void onNext(java.nio.ByteBuffer);
    Code:
       0: aload_1
       1: invokestatic  #11                 // Method software/amazon/awssdk/utils/BinaryUtils.copyBytesFrom:(Ljava/nio/ByteBuffer;)[B
       4: astore_2
       5: aload_0
       6: getfield      #4                  // Field lengthRead:J
       9: aload_0
      10: getfield      #9                  // Field strippedLength:J
      13: lcmp
      14: ifge          46
      17: aload_0
      18: getfield      #9                  // Field strippedLength:J
      21: aload_0
      22: getfield      #4                  // Field lengthRead:J
      25: lsub
      26: aload_2
      27: arraylength
      28: i2l
      29: invokestatic  #12                 // Method java/lang/Math.min:(JJ)J
      32: l2i
      33: istore_3
      34: aload_0
      35: getfield      #6                  // Field sdkChecksum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      38: aload_2
      39: iconst_0
      40: iload_3
      41: invokeinterface #13,  4           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.update:([BII)V
      46: aload_0
      47: dup
      48: getfield      #4                  // Field lengthRead:J
      51: aload_2
      52: arraylength
      53: i2l
      54: ladd
      55: putfield      #4                  // Field lengthRead:J
      58: aload_0
      59: getfield      #4                  // Field lengthRead:J
      62: aload_0
      63: getfield      #9                  // Field strippedLength:J
      66: lcmp
      67: iflt          183
      70: aload_0
      71: getfield      #4                  // Field lengthRead:J
      74: aload_0
      75: getfield      #9                  // Field strippedLength:J
      78: lsub
      79: invokestatic  #14                 // Method java/lang/Math.toIntExact:(J)I
      82: istore_3
      83: aload_2
      84: arraylength
      85: iload_3
      86: if_icmple     96
      89: aload_2
      90: arraylength
      91: iload_3
      92: isub
      93: goto          97
      96: iconst_0
      97: istore        4
      99: aload_2
     100: arraylength
     101: iload_3
     102: if_icmple     109
     105: iconst_0
     106: goto          113
     109: iload_3
     110: aload_2
     111: arraylength
     112: isub
     113: istore        5
     115: iload_3
     116: aload_2
     117: arraylength
     118: invokestatic  #15                 // Method java/lang/Math.min:(II)I
     121: istore        6
     123: aload_2
     124: iload         4
     126: aload_0
     127: getfield      #3                  // Field streamChecksum:[B
     130: iload         5
     132: iload         6
     134: invokestatic  #16                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
     137: aload_2
     138: arraylength
     139: iload_3
     140: if_icmple     167
     143: aload_0
     144: getfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
     147: aload_2
     148: iconst_0
     149: aload_2
     150: arraylength
     151: iload_3
     152: isub
     153: invokestatic  #17                 // Method java/util/Arrays.copyOfRange:([BII)[B
     156: invokestatic  #18                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     159: invokeinterface #19,  2           // InterfaceMethod org/reactivestreams/Subscriber.onNext:(Ljava/lang/Object;)V
     164: goto          180
     167: aload_0
     168: getfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
     171: iconst_0
     172: invokestatic  #20                 // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
     175: invokeinterface #19,  2           // InterfaceMethod org/reactivestreams/Subscriber.onNext:(Ljava/lang/Object;)V
     180: goto          193
     183: aload_0
     184: getfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
     187: aload_1
     188: invokeinterface #19,  2           // InterfaceMethod org/reactivestreams/Subscriber.onNext:(Ljava/lang/Object;)V
     193: return

  public void onError(java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
       4: aload_1
       5: invokeinterface #21,  2           // InterfaceMethod org/reactivestreams/Subscriber.onError:(Ljava/lang/Throwable;)V
      10: return

  public void onComplete();
    Code:
       0: aload_0
       1: getfield      #9                  // Field strippedLength:J
       4: lconst_0
       5: lcmp
       6: ifle          64
       9: aload_0
      10: getfield      #6                  // Field sdkChecksum:Lsoftware/amazon/awssdk/core/checksums/SdkChecksum;
      13: invokeinterface #22,  1           // InterfaceMethod software/amazon/awssdk/core/checksums/SdkChecksum.getChecksumBytes:()[B
      18: astore_1
      19: aload_1
      20: aload_0
      21: getfield      #3                  // Field streamChecksum:[B
      24: invokestatic  #23                 // Method java/util/Arrays.equals:([B[B)Z
      27: ifne          64
      30: aload_0
      31: ldc           #24                 // String Data read has a different checksum than expected. Was 0x%s, but expected 0x%s. Common causes: (1) You modified a request ByteBuffer before it could be written to the service. Please ensure your data source does not modify the  byte buffers after you pass them to the SDK. (2) The data was corrupted between the client and service. Note: Despite this error, the upload still completed and was persisted in S3.
      33: iconst_2
      34: anewarray     #25                 // class java/lang/Object
      37: dup
      38: iconst_0
      39: aload_1
      40: invokestatic  #26                 // Method software/amazon/awssdk/utils/BinaryUtils.toHex:([B)Ljava/lang/String;
      43: aastore
      44: dup
      45: iconst_1
      46: aload_0
      47: getfield      #3                  // Field streamChecksum:[B
      50: invokestatic  #26                 // Method software/amazon/awssdk/utils/BinaryUtils.toHex:([B)Ljava/lang/String;
      53: aastore
      54: invokestatic  #27                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      57: invokestatic  #28                 // Method software/amazon/awssdk/core/exception/RetryableException.create:(Ljava/lang/String;)Lsoftware/amazon/awssdk/core/exception/RetryableException;
      60: invokevirtual #29                 // Method onError:(Ljava/lang/Throwable;)V
      63: return
      64: aload_0
      65: getfield      #5                  // Field wrapped:Lorg/reactivestreams/Subscriber;
      68: invokeinterface #30,  1           // InterfaceMethod org/reactivestreams/Subscriber.onComplete:()V
      73: return

  public void onNext(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #31                 // class java/nio/ByteBuffer
       5: invokevirtual #32                 // Method onNext:(Ljava/nio/ByteBuffer;)V
       8: return
}
