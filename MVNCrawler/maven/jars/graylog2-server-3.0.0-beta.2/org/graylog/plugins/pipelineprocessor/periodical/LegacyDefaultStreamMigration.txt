Compiled from "LegacyDefaultStreamMigration.java"
public class org.graylog.plugins.pipelineprocessor.periodical.LegacyDefaultStreamMigration extends org.graylog2.plugin.periodical.Periodical {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.plugin.cluster.ClusterConfigService clusterConfigService;

  private final org.graylog.plugins.pipelineprocessor.db.PipelineStreamConnectionsService connectionsService;

  private static final java.lang.String LEGACY_STREAM_ID;

  public org.graylog.plugins.pipelineprocessor.periodical.LegacyDefaultStreamMigration(org.graylog2.plugin.cluster.ClusterConfigService, org.graylog.plugins.pipelineprocessor.db.PipelineStreamConnectionsService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/plugin/periodical/Periodical."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field connectionsService:Lorg/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService;
      14: return

  public boolean runsForever();
    Code:
       0: iconst_1
       1: ireturn

  public boolean stopOnGracefulShutdown();
    Code:
       0: iconst_0
       1: ireturn

  public boolean masterOnly();
    Code:
       0: iconst_1
       1: ireturn

  public boolean startOnThisNode();
    Code:
       0: aload_0
       1: getfield      #2                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
       4: ldc           #4                  // class org/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated
       6: iconst_0
       7: invokestatic  #5                  // Method org/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated.create:(Z)Lorg/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated;
      10: invokeinterface #6,  3            // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.getOrDefault:(Ljava/lang/Class;Ljava/lang/Object;)Ljava/lang/Object;
      15: checkcast     #4                  // class org/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated
      18: astore_1
      19: aload_1
      20: invokevirtual #7                  // Method org/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated.migrationDone:()Z
      23: ifne          30
      26: iconst_1
      27: goto          31
      30: iconst_0
      31: ireturn

  public boolean isDaemon();
    Code:
       0: iconst_0
       1: ireturn

  public int getInitialDelaySeconds();
    Code:
       0: iconst_0
       1: ireturn

  public int getPeriodSeconds();
    Code:
       0: iconst_0
       1: ireturn

  protected org.slf4j.Logger getLogger();
    Code:
       0: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  public void doRun();
    Code:
       0: aload_0
       1: getfield      #3                  // Field connectionsService:Lorg/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService;
       4: ldc           #10                 // String default
       6: invokeinterface #11,  2           // InterfaceMethod org/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService.load:(Ljava/lang/String;)Lorg/graylog/plugins/pipelineprocessor/rest/PipelineConnections;
      11: astore_1
      12: aload_0
      13: getfield      #3                  // Field connectionsService:Lorg/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService;
      16: aload_1
      17: invokevirtual #12                 // Method org/graylog/plugins/pipelineprocessor/rest/PipelineConnections.toBuilder:()Lorg/graylog/plugins/pipelineprocessor/rest/PipelineConnections$Builder;
      20: ldc           #14                 // String 000000000000000000000001
      22: invokevirtual #15                 // Method org/graylog/plugins/pipelineprocessor/rest/PipelineConnections$Builder.streamId:(Ljava/lang/String;)Lorg/graylog/plugins/pipelineprocessor/rest/PipelineConnections$Builder;
      25: invokevirtual #16                 // Method org/graylog/plugins/pipelineprocessor/rest/PipelineConnections$Builder.build:()Lorg/graylog/plugins/pipelineprocessor/rest/PipelineConnections;
      28: invokeinterface #17,  2           // InterfaceMethod org/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService.save:(Lorg/graylog/plugins/pipelineprocessor/rest/PipelineConnections;)Lorg/graylog/plugins/pipelineprocessor/rest/PipelineConnections;
      33: pop
      34: aload_0
      35: getfield      #3                  // Field connectionsService:Lorg/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService;
      38: ldc           #10                 // String default
      40: invokeinterface #18,  2           // InterfaceMethod org/graylog/plugins/pipelineprocessor/db/PipelineStreamConnectionsService.delete:(Ljava/lang/String;)V
      45: aload_0
      46: getfield      #2                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
      49: iconst_1
      50: invokestatic  #5                  // Method org/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated.create:(Z)Lorg/graylog/plugins/pipelineprocessor/events/LegacyDefaultStreamMigrated;
      53: invokeinterface #19,  2           // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.write:(Ljava/lang/Object;)V
      58: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
      61: ldc           #20                 // String Pipeline connections to legacy default streams migrated successfully.
      63: invokeinterface #21,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      68: goto          82
      71: astore_1
      72: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
      75: ldc           #23                 // String Legacy default stream has no connections, no migration needed.
      77: invokeinterface #21,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      82: return
    Exception table:
       from    to  target type
           0    68    71   Class org/graylog2/database/NotFoundException

  static {};
    Code:
       0: ldc           #9                  // class org/graylog/plugins/pipelineprocessor/periodical/LegacyDefaultStreamMigration
       2: invokestatic  #24                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
