Compiled from "MessageFilterChainProcessor.java"
public class org.graylog2.messageprocessors.MessageFilterChainProcessor implements org.graylog2.plugin.messageprocessors.MessageProcessor {
  private static final org.slf4j.Logger LOG;

  private final java.util.List<org.graylog2.plugin.filters.MessageFilter> filterRegistry;

  private final com.codahale.metrics.MetricRegistry metricRegistry;

  private final org.graylog2.shared.journal.Journal journal;

  private final org.graylog2.plugin.ServerStatus serverStatus;

  private final com.codahale.metrics.Meter filteredOutMessages;

  public org.graylog2.messageprocessors.MessageFilterChainProcessor(com.codahale.metrics.MetricRegistry, java.util.Set<org.graylog2.plugin.filters.MessageFilter>, org.graylog2.shared.journal.Journal, org.graylog2.plugin.ServerStatus);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field metricRegistry:Lcom/codahale/metrics/MetricRegistry;
       9: aload_0
      10: aload_3
      11: putfield      #3                  // Field journal:Lorg/graylog2/shared/journal/Journal;
      14: aload_0
      15: aload         4
      17: putfield      #4                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
      20: aload_0
      21: new           #5                  // class org/graylog2/messageprocessors/MessageFilterChainProcessor$1
      24: dup
      25: aload_0
      26: invokespecial #6                  // Method org/graylog2/messageprocessors/MessageFilterChainProcessor$1."<init>":(Lorg/graylog2/messageprocessors/MessageFilterChainProcessor;)V
      29: invokestatic  #7                  // Method com/google/common/collect/Ordering.from:(Ljava/util/Comparator;)Lcom/google/common/collect/Ordering;
      32: aload_2
      33: invokevirtual #8                  // Method com/google/common/collect/Ordering.immutableSortedCopy:(Ljava/lang/Iterable;)Lcom/google/common/collect/ImmutableList;
      36: putfield      #9                  // Field filterRegistry:Ljava/util/List;
      39: aload_2
      40: invokeinterface #10,  1           // InterfaceMethod java/util/Set.size:()I
      45: ifne          58
      48: new           #11                 // class java/lang/RuntimeException
      51: dup
      52: ldc           #12                 // String Empty filter registry!
      54: invokespecial #13                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      57: athrow
      58: aload_0
      59: aload_1
      60: ldc           #14                 // class org/graylog2/shared/buffers/processors/ProcessBufferProcessor
      62: iconst_1
      63: anewarray     #15                 // class java/lang/String
      66: dup
      67: iconst_0
      68: ldc           #16                 // String filteredOutMessages
      70: aastore
      71: invokestatic  #17                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      74: invokevirtual #18                 // Method com/codahale/metrics/MetricRegistry.meter:(Ljava/lang/String;)Lcom/codahale/metrics/Meter;
      77: putfield      #19                 // Field filteredOutMessages:Lcom/codahale/metrics/Meter;
      80: return

  public org.graylog2.plugin.Messages process(org.graylog2.plugin.Messages);
    Code:
       0: aload_0
       1: getfield      #9                  // Field filterRegistry:Ljava/util/List;
       4: invokeinterface #20,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_2
      10: aload_2
      11: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          306
      19: aload_2
      20: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #23                 // class org/graylog2/plugin/filters/MessageFilter
      28: astore_3
      29: aload_1
      30: invokeinterface #24,  1           // InterfaceMethod org/graylog2/plugin/Messages.iterator:()Ljava/util/Iterator;
      35: astore        4
      37: aload         4
      39: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          303
      47: aload         4
      49: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #25                 // class org/graylog2/plugin/Message
      57: astore        5
      59: aload_3
      60: invokevirtual #26                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      63: iconst_1
      64: anewarray     #15                 // class java/lang/String
      67: dup
      68: iconst_0
      69: ldc           #27                 // String executionTime
      71: aastore
      72: invokestatic  #17                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      75: astore        6
      77: aload_0
      78: getfield      #2                  // Field metricRegistry:Lcom/codahale/metrics/MetricRegistry;
      81: aload         6
      83: invokevirtual #28                 // Method com/codahale/metrics/MetricRegistry.timer:(Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      86: astore        7
      88: aload         7
      90: invokevirtual #29                 // Method com/codahale/metrics/Timer.time:()Lcom/codahale/metrics/Timer$Context;
      93: astore        8
      95: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
      98: ldc           #31                 // String Applying filter [{}] on message <{}>.
     100: aload_3
     101: invokeinterface #32,  1           // InterfaceMethod org/graylog2/plugin/filters/MessageFilter.getName:()Ljava/lang/String;
     106: aload         5
     108: invokevirtual #33                 // Method org/graylog2/plugin/Message.getId:()Ljava/lang/String;
     111: invokeinterface #34,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     116: aload_3
     117: aload         5
     119: invokeinterface #35,  2           // InterfaceMethod org/graylog2/plugin/filters/MessageFilter.filter:(Lorg/graylog2/plugin/Message;)Z
     124: ifeq          175
     127: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     130: ldc           #36                 // String Filter [{}] marked message <{}> to be discarded. Dropping message.
     132: aload_3
     133: invokeinterface #32,  1           // InterfaceMethod org/graylog2/plugin/filters/MessageFilter.getName:()Ljava/lang/String;
     138: aload         5
     140: invokevirtual #33                 // Method org/graylog2/plugin/Message.getId:()Ljava/lang/String;
     143: invokeinterface #34,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     148: aload         5
     150: iconst_1
     151: invokevirtual #37                 // Method org/graylog2/plugin/Message.setFilterOut:(Z)V
     154: aload_0
     155: getfield      #19                 // Field filteredOutMessages:Lcom/codahale/metrics/Meter;
     158: invokevirtual #38                 // Method com/codahale/metrics/Meter.mark:()V
     161: aload_0
     162: getfield      #3                  // Field journal:Lorg/graylog2/shared/journal/Journal;
     165: aload         5
     167: invokevirtual #39                 // Method org/graylog2/plugin/Message.getJournalOffset:()J
     170: invokeinterface #40,  3           // InterfaceMethod org/graylog2/shared/journal/Journal.markJournalOffsetCommitted:(J)V
     175: aload         8
     177: invokevirtual #41                 // Method com/codahale/metrics/Timer$Context.stop:()J
     180: lstore        9
     182: aload         5
     184: aload_0
     185: getfield      #4                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     188: aload         6
     190: lload         9
     192: invokevirtual #42                 // Method org/graylog2/plugin/Message.recordTiming:(Lorg/graylog2/plugin/ServerStatus;Ljava/lang/String;J)V
     195: goto          300
     198: astore        9
     200: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     203: new           #44                 // class java/lang/StringBuilder
     206: dup
     207: invokespecial #45                 // Method java/lang/StringBuilder."<init>":()V
     210: ldc           #46                 // String Could not apply filter [
     212: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     215: aload_3
     216: invokeinterface #32,  1           // InterfaceMethod org/graylog2/plugin/filters/MessageFilter.getName:()Ljava/lang/String;
     221: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: ldc           #48                 // String ] on message <
     226: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     229: aload         5
     231: invokevirtual #33                 // Method org/graylog2/plugin/Message.getId:()Ljava/lang/String;
     234: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     237: ldc           #49                 // String >:
     239: invokevirtual #47                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     242: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     245: aload         9
     247: invokeinterface #51,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     252: aload         8
     254: invokevirtual #41                 // Method com/codahale/metrics/Timer$Context.stop:()J
     257: lstore        9
     259: aload         5
     261: aload_0
     262: getfield      #4                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     265: aload         6
     267: lload         9
     269: invokevirtual #42                 // Method org/graylog2/plugin/Message.recordTiming:(Lorg/graylog2/plugin/ServerStatus;Ljava/lang/String;J)V
     272: goto          300
     275: astore        11
     277: aload         8
     279: invokevirtual #41                 // Method com/codahale/metrics/Timer$Context.stop:()J
     282: lstore        12
     284: aload         5
     286: aload_0
     287: getfield      #4                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     290: aload         6
     292: lload         12
     294: invokevirtual #42                 // Method org/graylog2/plugin/Message.recordTiming:(Lorg/graylog2/plugin/ServerStatus;Ljava/lang/String;J)V
     297: aload         11
     299: athrow
     300: goto          37
     303: goto          10
     306: aload_1
     307: areturn
    Exception table:
       from    to  target type
          95   175   198   Class java/lang/Exception
          95   175   275   any
         198   252   275   any
         275   277   275   any

  protected java.util.List<org.graylog2.plugin.filters.MessageFilter> getFilterRegistry();
    Code:
       0: aload_0
       1: getfield      #9                  // Field filterRegistry:Ljava/util/List;
       4: areturn

  static {};
    Code:
       0: ldc           #52                 // class org/graylog2/messageprocessors/MessageFilterChainProcessor
       2: invokestatic  #53                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
