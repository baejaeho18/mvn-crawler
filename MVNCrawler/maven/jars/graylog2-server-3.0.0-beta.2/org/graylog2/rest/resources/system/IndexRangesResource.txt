Compiled from "IndexRangesResource.java"
public class org.graylog2.rest.resources.system.IndexRangesResource extends org.graylog2.shared.rest.resources.RestResource {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.indexer.ranges.IndexRangeService indexRangeService;

  private final org.graylog2.indexer.ranges.RebuildIndexRangesJob$Factory rebuildIndexRangesJobFactory;

  private final org.graylog2.indexer.ranges.CreateNewSingleIndexRangeJob$Factory singleIndexRangeJobFactory;

  private final org.graylog2.indexer.IndexSetRegistry indexSetRegistry;

  private final org.graylog2.system.jobs.SystemJobManager systemJobManager;

  public org.graylog2.rest.resources.system.IndexRangesResource(org.graylog2.indexer.ranges.IndexRangeService, org.graylog2.indexer.ranges.RebuildIndexRangesJob$Factory, org.graylog2.indexer.ranges.CreateNewSingleIndexRangeJob$Factory, org.graylog2.indexer.IndexSetRegistry, org.graylog2.system.jobs.SystemJobManager);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/shared/rest/resources/RestResource."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field indexRangeService:Lorg/graylog2/indexer/ranges/IndexRangeService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field rebuildIndexRangesJobFactory:Lorg/graylog2/indexer/ranges/RebuildIndexRangesJob$Factory;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field singleIndexRangeJobFactory:Lorg/graylog2/indexer/ranges/CreateNewSingleIndexRangeJob$Factory;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
      25: aload_0
      26: aload         5
      28: putfield      #6                  // Field systemJobManager:Lorg/graylog2/system/jobs/SystemJobManager;
      31: return

  public org.graylog2.rest.models.system.indexer.responses.IndexRangesResponse list();
    Code:
       0: aload_0
       1: getfield      #2                  // Field indexRangeService:Lorg/graylog2/indexer/ranges/IndexRangeService;
       4: invokeinterface #7,  1            // InterfaceMethod org/graylog2/indexer/ranges/IndexRangeService.findAll:()Ljava/util/SortedSet;
       9: astore_1
      10: aload_1
      11: invokeinterface #8,  1            // InterfaceMethod java/util/SortedSet.size:()I
      16: invokestatic  #9                  // Method com/google/common/collect/Lists.newArrayListWithCapacity:(I)Ljava/util/ArrayList;
      19: astore_2
      20: aload_1
      21: invokeinterface #10,  1           // InterfaceMethod java/util/SortedSet.iterator:()Ljava/util/Iterator;
      26: astore_3
      27: aload_3
      28: invokeinterface #11,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          118
      36: aload_3
      37: invokeinterface #12,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #13                 // class org/graylog2/indexer/ranges/IndexRange
      45: astore        4
      47: aload_0
      48: ldc           #15                 // String indexranges:read
      50: aload         4
      52: invokeinterface #16,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.indexName:()Ljava/lang/String;
      57: invokevirtual #17                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      60: ifne          66
      63: goto          27
      66: aload         4
      68: invokeinterface #16,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.indexName:()Ljava/lang/String;
      73: aload         4
      75: invokeinterface #18,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.begin:()Lorg/joda/time/DateTime;
      80: aload         4
      82: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.end:()Lorg/joda/time/DateTime;
      87: aload         4
      89: invokeinterface #20,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.calculatedAt:()Lorg/joda/time/DateTime;
      94: aload         4
      96: invokeinterface #21,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.calculationDuration:()I
     101: invokestatic  #22                 // Method org/graylog2/rest/models/system/indexer/responses/IndexRangeSummary.create:(Ljava/lang/String;Lorg/joda/time/DateTime;Lorg/joda/time/DateTime;Lorg/joda/time/DateTime;I)Lorg/graylog2/rest/models/system/indexer/responses/IndexRangeSummary;
     104: astore        5
     106: aload_2
     107: aload         5
     109: invokeinterface #23,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     114: pop
     115: goto          27
     118: aload_2
     119: invokeinterface #24,  1           // InterfaceMethod java/util/List.size:()I
     124: aload_2
     125: invokestatic  #25                 // Method org/graylog2/rest/models/system/indexer/responses/IndexRangesResponse.create:(ILjava/util/List;)Lorg/graylog2/rest/models/system/indexer/responses/IndexRangesResponse;
     128: areturn

  public org.graylog2.rest.models.system.indexer.responses.IndexRangeSummary show(java.lang.String) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
       4: aload_1
       5: invokeinterface #26,  2           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.isManagedIndex:(Ljava/lang/String;)Z
      10: ifne          40
      13: new           #27                 // class javax/ws/rs/BadRequestException
      16: dup
      17: new           #28                 // class java/lang/StringBuilder
      20: dup
      21: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      24: aload_1
      25: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: ldc           #31                 // String  is not a Graylog-managed Elasticsearch index.
      30: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokespecial #33                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
      39: athrow
      40: aload_0
      41: ldc           #15                 // String indexranges:read
      43: aload_1
      44: invokevirtual #34                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
      47: aload_0
      48: getfield      #2                  // Field indexRangeService:Lorg/graylog2/indexer/ranges/IndexRangeService;
      51: aload_1
      52: invokeinterface #35,  2           // InterfaceMethod org/graylog2/indexer/ranges/IndexRangeService.get:(Ljava/lang/String;)Lorg/graylog2/indexer/ranges/IndexRange;
      57: astore_2
      58: aload_2
      59: invokeinterface #16,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.indexName:()Ljava/lang/String;
      64: aload_2
      65: invokeinterface #18,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.begin:()Lorg/joda/time/DateTime;
      70: aload_2
      71: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.end:()Lorg/joda/time/DateTime;
      76: aload_2
      77: invokeinterface #20,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.calculatedAt:()Lorg/joda/time/DateTime;
      82: aload_2
      83: invokeinterface #21,  1           // InterfaceMethod org/graylog2/indexer/ranges/IndexRange.calculationDuration:()I
      88: invokestatic  #22                 // Method org/graylog2/rest/models/system/indexer/responses/IndexRangeSummary.create:(Ljava/lang/String;Lorg/joda/time/DateTime;Lorg/joda/time/DateTime;Lorg/joda/time/DateTime;I)Lorg/graylog2/rest/models/system/indexer/responses/IndexRangeSummary;
      91: areturn

  public javax.ws.rs.core.Response rebuild();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
       5: invokeinterface #36,  1           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.getAll:()Ljava/util/Set;
      10: invokespecial #37                 // Method submitIndexRangesJob:(Ljava/util/Set;)V
      13: invokestatic  #38                 // Method javax/ws/rs/core/Response.accepted:()Ljavax/ws/rs/core/Response$ResponseBuilder;
      16: invokevirtual #39                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      19: areturn

  public javax.ws.rs.core.Response rebuildIndexSet(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
       4: aload_1
       5: invokeinterface #40,  2           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.get:(Ljava/lang/String;)Ljava/util/Optional;
      10: aload_1
      11: invokedynamic #41,  0             // InvokeDynamic #0:get:(Ljava/lang/String;)Ljava/util/function/Supplier;
      16: invokevirtual #42                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      19: checkcast     #43                 // class org/graylog2/indexer/IndexSet
      22: astore_2
      23: aload_0
      24: aload_2
      25: invokestatic  #44                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      28: invokespecial #37                 // Method submitIndexRangesJob:(Ljava/util/Set;)V
      31: invokestatic  #38                 // Method javax/ws/rs/core/Response.accepted:()Ljavax/ws/rs/core/Response$ResponseBuilder;
      34: invokevirtual #39                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      37: areturn

  public javax.ws.rs.core.Response rebuildIndex(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
       4: aload_1
       5: invokeinterface #26,  2           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.isManagedIndex:(Ljava/lang/String;)Z
      10: ifne          40
      13: new           #27                 // class javax/ws/rs/BadRequestException
      16: dup
      17: new           #28                 // class java/lang/StringBuilder
      20: dup
      21: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      24: aload_1
      25: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: ldc           #31                 // String  is not a Graylog-managed Elasticsearch index.
      30: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokespecial #33                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
      39: athrow
      40: aload_0
      41: ldc           #45                 // String indexranges:rebuild
      43: aload_1
      44: invokevirtual #34                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
      47: aload_0
      48: getfield      #4                  // Field singleIndexRangeJobFactory:Lorg/graylog2/indexer/ranges/CreateNewSingleIndexRangeJob$Factory;
      51: aload_0
      52: getfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
      55: invokeinterface #36,  1           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.getAll:()Ljava/util/Set;
      60: aload_1
      61: invokeinterface #46,  3           // InterfaceMethod org/graylog2/indexer/ranges/CreateNewSingleIndexRangeJob$Factory.create:(Ljava/util/Set;Ljava/lang/String;)Lorg/graylog2/indexer/ranges/CreateNewSingleIndexRangeJob;
      66: astore_2
      67: aload_0
      68: getfield      #6                  // Field systemJobManager:Lorg/graylog2/system/jobs/SystemJobManager;
      71: aload_2
      72: invokevirtual #47                 // Method org/graylog2/system/jobs/SystemJobManager.submit:(Lorg/graylog2/system/jobs/SystemJob;)Ljava/lang/String;
      75: pop
      76: goto          125
      79: astore_3
      80: new           #28                 // class java/lang/StringBuilder
      83: dup
      84: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      87: ldc           #49                 // String Concurrency level of this job reached:
      89: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: aload_3
      93: invokevirtual #50                 // Method org/graylog2/system/jobs/SystemJobConcurrencyException.getMessage:()Ljava/lang/String;
      96: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      99: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     102: astore        4
     104: getstatic     #51                 // Field LOG:Lorg/slf4j/Logger;
     107: aload         4
     109: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     114: new           #53                 // class javax/ws/rs/ForbiddenException
     117: dup
     118: aload         4
     120: aload_3
     121: invokespecial #54                 // Method javax/ws/rs/ForbiddenException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     124: athrow
     125: invokestatic  #38                 // Method javax/ws/rs/core/Response.accepted:()Ljavax/ws/rs/core/Response$ResponseBuilder;
     128: invokevirtual #39                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
     131: areturn
    Exception table:
       from    to  target type
          67    76    79   Class org/graylog2/system/jobs/SystemJobConcurrencyException

  private void submitIndexRangesJob(java.util.Set<org.graylog2.indexer.IndexSet>);
    Code:
       0: aload_0
       1: getfield      #3                  // Field rebuildIndexRangesJobFactory:Lorg/graylog2/indexer/ranges/RebuildIndexRangesJob$Factory;
       4: aload_1
       5: invokeinterface #55,  2           // InterfaceMethod org/graylog2/indexer/ranges/RebuildIndexRangesJob$Factory.create:(Ljava/util/Set;)Lorg/graylog2/indexer/ranges/RebuildIndexRangesJob;
      10: astore_2
      11: aload_0
      12: getfield      #6                  // Field systemJobManager:Lorg/graylog2/system/jobs/SystemJobManager;
      15: aload_2
      16: invokevirtual #47                 // Method org/graylog2/system/jobs/SystemJobManager.submit:(Lorg/graylog2/system/jobs/SystemJob;)Ljava/lang/String;
      19: pop
      20: goto          69
      23: astore_3
      24: new           #28                 // class java/lang/StringBuilder
      27: dup
      28: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      31: ldc           #49                 // String Concurrency level of this job reached:
      33: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_3
      37: invokevirtual #50                 // Method org/graylog2/system/jobs/SystemJobConcurrencyException.getMessage:()Ljava/lang/String;
      40: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: astore        4
      48: getstatic     #51                 // Field LOG:Lorg/slf4j/Logger;
      51: aload         4
      53: aload_3
      54: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      59: new           #53                 // class javax/ws/rs/ForbiddenException
      62: dup
      63: aload         4
      65: invokespecial #57                 // Method javax/ws/rs/ForbiddenException."<init>":(Ljava/lang/String;)V
      68: athrow
      69: return
    Exception table:
       from    to  target type
          11    20    23   Class org/graylog2/system/jobs/SystemJobConcurrencyException

  private static javax.ws.rs.NotFoundException lambda$rebuildIndexSet$0(java.lang.String);
    Code:
       0: new           #58                 // class javax/ws/rs/NotFoundException
       3: dup
       4: new           #28                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #59                 // String Index set <
      13: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: ldc           #60                 // String > not found!
      22: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: invokevirtual #32                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      28: invokespecial #61                 // Method javax/ws/rs/NotFoundException."<init>":(Ljava/lang/String;)V
      31: areturn

  static {};
    Code:
       0: ldc           #62                 // class org/graylog2/rest/resources/system/IndexRangesResource
       2: invokestatic  #63                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #51                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
