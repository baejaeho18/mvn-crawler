Compiled from "GrokResource.java"
public class org.graylog2.rest.resources.system.GrokResource extends org.graylog2.shared.rest.resources.RestResource {
  private static final java.util.regex.Pattern GROK_LINE_PATTERN;

  private final org.graylog2.grok.GrokPatternService grokPatternService;

  public org.graylog2.rest.resources.system.GrokResource(org.graylog2.grok.GrokPatternService);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method org/graylog2/shared/rest/resources/RestResource."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
       9: return

  public org.graylog2.rest.models.system.responses.GrokPatternList listGrokPatterns();
    Code:
       0: aload_0
       1: ldc           #7                  // String inputs:read
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      10: invokeinterface #9,  1            // InterfaceMethod org/graylog2/grok/GrokPatternService.loadAll:()Ljava/util/Set;
      15: invokestatic  #10                 // Method org/graylog2/rest/models/system/responses/GrokPatternList.create:(Ljava/util/Collection;)Lorg/graylog2/rest/models/system/responses/GrokPatternList;
      18: areturn

  public org.graylog2.grok.GrokPattern listPattern(java.lang.String) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: ldc           #7                  // String inputs:read
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      10: aload_1
      11: invokeinterface #11,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.load:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern;
      16: areturn

  public javax.ws.rs.core.Response testPattern(org.graylog2.rest.models.system.grokpattern.requests.GrokPatternTestRequest);
    Code:
       0: aload_0
       1: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
       4: aload_1
       5: invokevirtual #12                 // Method org/graylog2/rest/models/system/grokpattern/requests/GrokPatternTestRequest.grokPattern:()Lorg/graylog2/grok/GrokPattern;
       8: aload_1
       9: invokevirtual #13                 // Method org/graylog2/rest/models/system/grokpattern/requests/GrokPatternTestRequest.sampleData:()Ljava/lang/String;
      12: invokeinterface #14,  3           // InterfaceMethod org/graylog2/grok/GrokPatternService.match:(Lorg/graylog2/grok/GrokPattern;Ljava/lang/String;)Ljava/util/Map;
      17: astore_2
      18: goto          55
      21: astore_3
      22: ldc           #17                 // String message
      24: aload_3
      25: invokevirtual #18                 // Method java/lang/RuntimeException.getMessage:()Ljava/lang/String;
      28: invokestatic  #19                 // Method com/google/common/collect/ImmutableMap.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;
      31: astore        4
      33: new           #20                 // class javax/ws/rs/BadRequestException
      36: dup
      37: getstatic     #21                 // Field javax/ws/rs/core/Response$Status.BAD_REQUEST:Ljavax/ws/rs/core/Response$Status;
      40: invokestatic  #22                 // Method javax/ws/rs/core/Response.status:(Ljavax/ws/rs/core/Response$Status;)Ljavax/ws/rs/core/Response$ResponseBuilder;
      43: aload         4
      45: invokevirtual #23                 // Method javax/ws/rs/core/Response$ResponseBuilder.entity:(Ljava/lang/Object;)Ljavax/ws/rs/core/Response$ResponseBuilder;
      48: invokevirtual #24                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      51: invokespecial #25                 // Method javax/ws/rs/BadRequestException."<init>":(Ljavax/ws/rs/core/Response;)V
      54: athrow
      55: aload_2
      56: invokestatic  #26                 // Method javax/ws/rs/core/Response.ok:(Ljava/lang/Object;)Ljavax/ws/rs/core/Response$ResponseBuilder;
      59: invokevirtual #24                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      62: areturn
    Exception table:
       from    to  target type
           0    18    21   Class io/krakens/grok/api/exception/GrokException
           0    18    21   Class java/lang/IllegalArgumentException

  public javax.ws.rs.core.Response createPattern(org.graylog2.grok.GrokPattern) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: ldc           #27                 // String inputs:create
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      10: aload_1
      11: invokevirtual #28                 // Method org/graylog2/grok/GrokPattern.toBuilder:()Lorg/graylog2/grok/GrokPattern$Builder;
      14: aconst_null
      15: invokevirtual #29                 // Method org/graylog2/grok/GrokPattern$Builder.id:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern$Builder;
      18: invokevirtual #30                 // Method org/graylog2/grok/GrokPattern$Builder.build:()Lorg/graylog2/grok/GrokPattern;
      21: invokeinterface #31,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.save:(Lorg/graylog2/grok/GrokPattern;)Lorg/graylog2/grok/GrokPattern;
      26: astore_2
      27: aload_0
      28: invokevirtual #32                 // Method getUriBuilderToSelf:()Ljavax/ws/rs/core/UriBuilder;
      31: ldc           #33                 // class org/graylog2/rest/resources/system/GrokResource
      33: ldc           #34                 // String listPattern
      35: invokevirtual #35                 // Method javax/ws/rs/core/UriBuilder.path:(Ljava/lang/Class;Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder;
      38: iconst_1
      39: anewarray     #36                 // class java/lang/Object
      42: dup
      43: iconst_0
      44: aload_2
      45: invokevirtual #37                 // Method org/graylog2/grok/GrokPattern.id:()Ljava/lang/String;
      48: aastore
      49: invokevirtual #38                 // Method javax/ws/rs/core/UriBuilder.build:([Ljava/lang/Object;)Ljava/net/URI;
      52: astore_3
      53: aload_3
      54: invokestatic  #39                 // Method javax/ws/rs/core/Response.created:(Ljava/net/URI;)Ljavax/ws/rs/core/Response$ResponseBuilder;
      57: aload_2
      58: invokevirtual #23                 // Method javax/ws/rs/core/Response$ResponseBuilder.entity:(Ljava/lang/Object;)Ljavax/ws/rs/core/Response$ResponseBuilder;
      61: invokevirtual #24                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      64: areturn

  public javax.ws.rs.core.Response bulkUpdatePatterns(org.graylog2.rest.models.system.responses.GrokPatternList, boolean) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: ldc           #27                 // String inputs:create
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      10: aload_1
      11: invokevirtual #40                 // Method org/graylog2/rest/models/system/responses/GrokPatternList.patterns:()Ljava/util/Collection;
      14: invokeinterface #41,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.validateAll:(Ljava/util/Collection;)Z
      19: ifne          32
      22: new           #42                 // class org/graylog2/plugin/database/ValidationException
      25: dup
      26: ldc           #43                 // String Invalid pattern contained. Did not save any patterns.
      28: invokespecial #44                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      31: athrow
      32: goto          66
      35: astore_3
      36: new           #42                 // class org/graylog2/plugin/database/ValidationException
      39: dup
      40: new           #45                 // class java/lang/StringBuilder
      43: dup
      44: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #47                 // String Invalid pattern. Did not save any patterns\n
      49: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: aload_3
      53: invokevirtual #18                 // Method java/lang/RuntimeException.getMessage:()Ljava/lang/String;
      56: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      62: invokespecial #44                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      65: athrow
      66: aload_0
      67: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      70: aload_1
      71: invokevirtual #40                 // Method org/graylog2/rest/models/system/responses/GrokPatternList.patterns:()Ljava/util/Collection;
      74: iload_2
      75: invokeinterface #50,  3           // InterfaceMethod org/graylog2/grok/GrokPatternService.saveAll:(Ljava/util/Collection;Z)Ljava/util/List;
      80: pop
      81: invokestatic  #51                 // Method javax/ws/rs/core/Response.accepted:()Ljavax/ws/rs/core/Response$ResponseBuilder;
      84: invokevirtual #24                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      87: areturn
    Exception table:
       from    to  target type
           6    32    35   Class io/krakens/grok/api/exception/GrokException
           6    32    35   Class java/lang/IllegalArgumentException

  public javax.ws.rs.core.Response bulkUpdatePatternsFromTextFile(java.io.InputStream, boolean) throws org.graylog2.plugin.database.ValidationException, java.io.IOException;
    Code:
       0: aload_0
       1: ldc           #27                 // String inputs:create
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: invokespecial #52                 // Method readGrokPatterns:(Ljava/io/InputStream;)Ljava/util/List;
      11: astore_3
      12: aload_3
      13: invokeinterface #53,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      18: ifne          92
      21: aload_0
      22: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      25: aload_3
      26: invokeinterface #41,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.validateAll:(Ljava/util/Collection;)Z
      31: ifne          44
      34: new           #42                 // class org/graylog2/plugin/database/ValidationException
      37: dup
      38: ldc           #43                 // String Invalid pattern contained. Did not save any patterns.
      40: invokespecial #44                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: goto          80
      47: astore        4
      49: new           #42                 // class org/graylog2/plugin/database/ValidationException
      52: dup
      53: new           #45                 // class java/lang/StringBuilder
      56: dup
      57: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      60: ldc           #47                 // String Invalid pattern. Did not save any patterns\n
      62: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: aload         4
      67: invokevirtual #18                 // Method java/lang/RuntimeException.getMessage:()Ljava/lang/String;
      70: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      76: invokespecial #44                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      79: athrow
      80: aload_0
      81: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      84: aload_3
      85: iload_2
      86: invokeinterface #50,  3           // InterfaceMethod org/graylog2/grok/GrokPatternService.saveAll:(Ljava/util/Collection;Z)Ljava/util/List;
      91: pop
      92: invokestatic  #51                 // Method javax/ws/rs/core/Response.accepted:()Ljavax/ws/rs/core/Response$ResponseBuilder;
      95: invokevirtual #24                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
      98: areturn
    Exception table:
       from    to  target type
          21    44    47   Class io/krakens/grok/api/exception/GrokException
          21    44    47   Class java/lang/IllegalArgumentException

  private java.util.List<org.graylog2.grok.GrokPattern> readGrokPatterns(java.io.InputStream) throws java.io.IOException;
    Code:
       0: new           #54                 // class java/io/InputStreamReader
       3: dup
       4: aload_1
       5: getstatic     #55                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
       8: invokespecial #56                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
      11: astore_2
      12: aconst_null
      13: astore_3
      14: new           #57                 // class java/io/BufferedReader
      17: dup
      18: aload_2
      19: invokespecial #58                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      22: astore        4
      24: aconst_null
      25: astore        5
      27: aload         4
      29: invokevirtual #59                 // Method java/io/BufferedReader.lines:()Ljava/util/stream/Stream;
      32: invokedynamic #60,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
      37: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      42: invokedynamic #62,  0             // InvokeDynamic #1:test:()Ljava/util/function/Predicate;
      47: invokeinterface #63,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      52: getstatic     #64                 // Field GROK_LINE_PATTERN:Ljava/util/regex/Pattern;
      55: dup
      56: invokestatic  #65                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      59: pop
      60: invokedynamic #66,  0             // InvokeDynamic #2:apply:(Ljava/util/regex/Pattern;)Ljava/util/function/Function;
      65: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      70: invokedynamic #67,  0             // InvokeDynamic #3:test:()Ljava/util/function/Predicate;
      75: invokeinterface #63,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      80: invokedynamic #68,  0             // InvokeDynamic #4:apply:()Ljava/util/function/Function;
      85: invokeinterface #61,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      90: invokestatic  #69                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      93: invokeinterface #70,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      98: checkcast     #71                 // class java/util/List
     101: astore        6
     103: aload         5
     105: aload         4
     107: invokestatic  #72                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
     110: aload_3
     111: aload_2
     112: invokestatic  #72                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
     115: aload         6
     117: areturn
     118: astore        6
     120: aload         6
     122: astore        5
     124: aload         6
     126: athrow
     127: astore        7
     129: aload         5
     131: aload         4
     133: invokestatic  #72                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
     136: aload         7
     138: athrow
     139: astore        4
     141: aload         4
     143: astore_3
     144: aload         4
     146: athrow
     147: astore        8
     149: aload_3
     150: aload_2
     151: invokestatic  #72                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
     154: aload         8
     156: athrow
    Exception table:
       from    to  target type
          27   103   118   Class java/lang/Throwable
          27   103   127   any
         118   129   127   any
          14   110   139   Class java/lang/Throwable
         118   139   139   Class java/lang/Throwable
          14   110   147   any
         118   149   147   any

  public org.graylog2.grok.GrokPattern updatePattern(java.lang.String, org.graylog2.grok.GrokPattern) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: ldc           #73                 // String inputs:edit
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: invokestatic  #74                 // Method org/graylog2/grok/GrokPattern.builder:()Lorg/graylog2/grok/GrokPattern$Builder;
       9: aload_1
      10: invokevirtual #29                 // Method org/graylog2/grok/GrokPattern$Builder.id:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern$Builder;
      13: aload_2
      14: invokevirtual #75                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      17: invokevirtual #76                 // Method org/graylog2/grok/GrokPattern$Builder.name:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern$Builder;
      20: aload_2
      21: invokevirtual #77                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      24: invokevirtual #78                 // Method org/graylog2/grok/GrokPattern$Builder.pattern:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern$Builder;
      27: invokevirtual #30                 // Method org/graylog2/grok/GrokPattern$Builder.build:()Lorg/graylog2/grok/GrokPattern;
      30: astore_3
      31: aload_0
      32: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      35: aload_3
      36: invokeinterface #31,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.save:(Lorg/graylog2/grok/GrokPattern;)Lorg/graylog2/grok/GrokPattern;
      41: areturn

  public void removePattern(java.lang.String) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: ldc           #73                 // String inputs:edit
       3: invokevirtual #8                  // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      10: aload_1
      11: invokeinterface #11,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.load:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern;
      16: pop
      17: aload_0
      18: getfield      #5                  // Field grokPatternService:Lorg/graylog2/grok/GrokPatternService;
      21: aload_1
      22: invokeinterface #79,  2           // InterfaceMethod org/graylog2/grok/GrokPatternService.delete:(Ljava/lang/String;)I
      27: ifne          57
      30: new           #80                 // class javax/ws/rs/NotFoundException
      33: dup
      34: new           #45                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      41: ldc           #81                 // String Couldn\'t remove Grok pattern with ID
      43: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_1
      47: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #49                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokespecial #82                 // Method javax/ws/rs/NotFoundException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: return

  private static org.graylog2.grok.GrokPattern lambda$readGrokPatterns$1(java.util.regex.Matcher);
    Code:
       0: aload_0
       1: iconst_1
       2: invokevirtual #83                 // Method java/util/regex/Matcher.group:(I)Ljava/lang/String;
       5: aload_0
       6: iconst_2
       7: invokevirtual #83                 // Method java/util/regex/Matcher.group:(I)Ljava/lang/String;
      10: invokestatic  #84                 // Method org/graylog2/grok/GrokPattern.create:(Ljava/lang/String;Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern;
      13: areturn

  private static boolean lambda$readGrokPatterns$0(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #85                 // String #
       3: invokevirtual #86                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
       6: ifne          20
       9: aload_0
      10: invokevirtual #87                 // Method java/lang/String.isEmpty:()Z
      13: ifne          20
      16: iconst_1
      17: goto          21
      20: iconst_0
      21: ireturn

  private static void $closeResource(java.lang.Throwable, java.lang.AutoCloseable);
    Code:
       0: aload_0
       1: ifnull        22
       4: aload_1
       5: invokeinterface #1,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      10: goto          28
      13: astore_2
      14: aload_0
      15: aload_2
      16: invokevirtual #3                  // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      19: goto          28
      22: aload_1
      23: invokeinterface #1,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      28: return
    Exception table:
       from    to  target type
           4    10    13   Class java/lang/Throwable

  static {};
    Code:
       0: ldc           #88                 // String ^(\\w+)[ \t]+(.*)$
       2: invokestatic  #89                 // Method java/util/regex/Pattern.compile:(Ljava/lang/String;)Ljava/util/regex/Pattern;
       5: putstatic     #64                 // Field GROK_LINE_PATTERN:Ljava/util/regex/Pattern;
       8: return
}
