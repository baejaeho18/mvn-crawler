Compiled from "StreamResource.java"
public class org.graylog2.rest.resources.streams.StreamResource extends org.graylog2.shared.rest.resources.RestResource {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.streams.StreamService streamService;

  private final org.graylog2.streams.StreamRuleService streamRuleService;

  private final org.graylog2.streams.StreamRouterEngine$Factory streamRouterEngineFactory;

  private final org.graylog2.indexer.IndexSetRegistry indexSetRegistry;

  private final org.graylog2.alarmcallbacks.AlarmCallbackConfigurationService alarmCallbackConfigurationService;

  private final org.graylog2.alerts.AlertService alertService;

  public org.graylog2.rest.resources.streams.StreamResource(org.graylog2.streams.StreamService, org.graylog2.streams.StreamRuleService, org.graylog2.streams.StreamRouterEngine$Factory, org.graylog2.indexer.IndexSetRegistry, org.graylog2.alarmcallbacks.AlarmCallbackConfigurationService, org.graylog2.alerts.AlertService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/shared/rest/resources/RestResource."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field streamRuleService:Lorg/graylog2/streams/StreamRuleService;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field streamRouterEngineFactory:Lorg/graylog2/streams/StreamRouterEngine$Factory;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
      25: aload_0
      26: aload         5
      28: putfield      #6                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
      31: aload_0
      32: aload         6
      34: putfield      #7                  // Field alertService:Lorg/graylog2/alerts/AlertService;
      37: return

  public javax.ws.rs.core.Response create(org.graylog2.rest.resources.streams.requests.CreateStreamRequest) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
       4: aload_1
       5: aload_0
       6: invokevirtual #8                  // Method getCurrentUser:()Lorg/graylog2/plugin/database/users/User;
       9: invokeinterface #9,  1            // InterfaceMethod org/graylog2/plugin/database/users/User.getName:()Ljava/lang/String;
      14: invokeinterface #10,  3           // InterfaceMethod org/graylog2/streams/StreamService.create:(Lorg/graylog2/rest/resources/streams/requests/CreateStreamRequest;Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      19: astore_2
      20: aload_2
      21: iconst_1
      22: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      25: invokeinterface #12,  2           // InterfaceMethod org/graylog2/plugin/streams/Stream.setDisabled:(Ljava/lang/Boolean;)V
      30: aload_2
      31: invokeinterface #13,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getIndexSet:()Lorg/graylog2/indexer/IndexSet;
      36: invokeinterface #14,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
      41: invokevirtual #15                 // Method org/graylog2/indexer/indexset/IndexSetConfig.isWritable:()Z
      44: ifne          57
      47: new           #16                 // class javax/ws/rs/BadRequestException
      50: dup
      51: ldc           #17                 // String Assigned index set must be writable!
      53: invokespecial #18                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_1
      58: invokevirtual #19                 // Method org/graylog2/rest/resources/streams/requests/CreateStreamRequest.rules:()Ljava/util/List;
      61: invokeinterface #20,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      66: aload_0
      67: invokedynamic #21,  0             // InvokeDynamic #0:apply:(Lorg/graylog2/rest/resources/streams/StreamResource;)Ljava/util/function/Function;
      72: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      77: invokestatic  #23                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      80: invokeinterface #24,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      85: checkcast     #25                 // class java/util/Set
      88: astore_3
      89: aload_0
      90: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      93: aload_2
      94: aload_3
      95: invokeinterface #26,  3           // InterfaceMethod org/graylog2/streams/StreamService.saveWithRules:(Lorg/graylog2/plugin/streams/Stream;Ljava/util/Collection;)Ljava/lang/String;
     100: astore        4
     102: aload_0
     103: aload_0
     104: invokevirtual #8                  // Method getCurrentUser:()Lorg/graylog2/plugin/database/users/User;
     107: aload         4
     109: invokespecial #27                 // Method ensureUserHasPermissionsForStream:(Lorg/graylog2/plugin/database/users/User;Ljava/lang/String;)Z
     112: pop
     113: ldc           #28                 // String stream_id
     115: aload         4
     117: invokestatic  #29                 // Method com/google/common/collect/ImmutableMap.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;
     120: astore        5
     122: aload_0
     123: invokevirtual #30                 // Method getUriBuilderToSelf:()Ljavax/ws/rs/core/UriBuilder;
     126: ldc           #31                 // class org/graylog2/rest/resources/streams/StreamResource
     128: invokevirtual #32                 // Method javax/ws/rs/core/UriBuilder.path:(Ljava/lang/Class;)Ljavax/ws/rs/core/UriBuilder;
     131: ldc           #33                 // String {streamId}
     133: invokevirtual #34                 // Method javax/ws/rs/core/UriBuilder.path:(Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder;
     136: iconst_1
     137: anewarray     #35                 // class java/lang/Object
     140: dup
     141: iconst_0
     142: aload         4
     144: aastore
     145: invokevirtual #36                 // Method javax/ws/rs/core/UriBuilder.build:([Ljava/lang/Object;)Ljava/net/URI;
     148: astore        6
     150: aload         6
     152: invokestatic  #37                 // Method javax/ws/rs/core/Response.created:(Ljava/net/URI;)Ljavax/ws/rs/core/Response$ResponseBuilder;
     155: aload         5
     157: invokevirtual #38                 // Method javax/ws/rs/core/Response$ResponseBuilder.entity:(Ljava/lang/Object;)Ljavax/ws/rs/core/Response$ResponseBuilder;
     160: invokevirtual #39                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
     163: areturn

  private boolean ensureUserHasPermissionsForStream(org.graylog2.plugin.database.users.User, java.lang.String) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: iconst_0
       1: istore_3
       2: invokestatic  #40                 // Method com/google/common/collect/ImmutableList.builder:()Lcom/google/common/collect/ImmutableList$Builder;
       5: aload_1
       6: invokeinterface #41,  1           // InterfaceMethod org/graylog2/plugin/database/users/User.getPermissions:()Ljava/util/List;
      11: invokevirtual #42                 // Method com/google/common/collect/ImmutableList$Builder.addAll:(Ljava/lang/Iterable;)Lcom/google/common/collect/ImmutableList$Builder;
      14: astore        4
      16: aload_0
      17: ldc           #44                 // String streams:read
      19: aload_2
      20: invokevirtual #45                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      23: ifne          53
      26: iconst_1
      27: istore_3
      28: aload         4
      30: new           #46                 // class java/lang/StringBuilder
      33: dup
      34: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      37: ldc           #48                 // String streams:read:
      39: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_2
      43: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: invokevirtual #51                 // Method com/google/common/collect/ImmutableList$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableList$Builder;
      52: pop
      53: aload_0
      54: ldc           #52                 // String streams:edit
      56: aload_2
      57: invokevirtual #45                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      60: ifne          90
      63: iconst_1
      64: istore_3
      65: aload         4
      67: new           #46                 // class java/lang/StringBuilder
      70: dup
      71: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      74: ldc           #53                 // String streams:edit:
      76: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_2
      80: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      86: invokevirtual #51                 // Method com/google/common/collect/ImmutableList$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableList$Builder;
      89: pop
      90: aload_0
      91: ldc           #54                 // String streams:changestate
      93: aload_2
      94: invokevirtual #45                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      97: ifne          127
     100: iconst_1
     101: istore_3
     102: aload         4
     104: new           #46                 // class java/lang/StringBuilder
     107: dup
     108: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
     111: ldc           #55                 // String streams:changestate:
     113: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: aload_2
     117: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: invokevirtual #51                 // Method com/google/common/collect/ImmutableList$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableList$Builder;
     126: pop
     127: iload_3
     128: ifeq          153
     131: aload_1
     132: aload         4
     134: invokevirtual #56                 // Method com/google/common/collect/ImmutableList$Builder.build:()Lcom/google/common/collect/ImmutableList;
     137: invokeinterface #57,  2           // InterfaceMethod org/graylog2/plugin/database/users/User.setPermissions:(Ljava/util/List;)V
     142: aload_0
     143: getfield      #58                 // Field userService:Lorg/graylog2/shared/users/UserService;
     146: aload_1
     147: invokeinterface #59,  2           // InterfaceMethod org/graylog2/shared/users/UserService.save:(Lorg/graylog2/plugin/database/Persisted;)Ljava/lang/String;
     152: pop
     153: iload_3
     154: ireturn

  public org.graylog2.rest.resources.streams.responses.StreamListResponse get();
    Code:
       0: aload_0
       1: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
       4: invokeinterface #60,  1           // InterfaceMethod org/graylog2/streams/StreamService.loadAll:()Ljava/util/List;
       9: astore_1
      10: new           #61                 // class java/util/ArrayList
      13: dup
      14: aload_1
      15: invokeinterface #62,  1           // InterfaceMethod java/util/List.size:()I
      20: invokespecial #63                 // Method java/util/ArrayList."<init>":(I)V
      23: astore_2
      24: aload_1
      25: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      30: astore_3
      31: aload_3
      32: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      37: ifeq          79
      40: aload_3
      41: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: checkcast     #67                 // class org/graylog2/plugin/streams/Stream
      49: astore        4
      51: aload_0
      52: ldc           #44                 // String streams:read
      54: aload         4
      56: invokeinterface #68,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
      61: invokevirtual #45                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      64: ifeq          76
      67: aload_2
      68: aload         4
      70: invokeinterface #69,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      75: pop
      76: goto          31
      79: aload_2
      80: invokeinterface #62,  1           // InterfaceMethod java/util/List.size:()I
      85: i2l
      86: aload_2
      87: invokeinterface #20,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      92: aload_0
      93: invokedynamic #70,  0             // InvokeDynamic #1:apply:(Lorg/graylog2/rest/resources/streams/StreamResource;)Ljava/util/function/Function;
      98: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     103: invokestatic  #23                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
     106: invokeinterface #24,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     111: checkcast     #71                 // class java/util/Collection
     114: invokestatic  #72                 // Method org/graylog2/rest/resources/streams/responses/StreamListResponse.create:(JLjava/util/Collection;)Lorg/graylog2/rest/resources/streams/responses/StreamListResponse;
     117: areturn

  public org.graylog2.rest.resources.streams.responses.StreamListResponse getEnabled() throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
       4: invokeinterface #73,  1           // InterfaceMethod org/graylog2/streams/StreamService.loadAllEnabled:()Ljava/util/List;
       9: astore_1
      10: new           #61                 // class java/util/ArrayList
      13: dup
      14: aload_1
      15: invokeinterface #62,  1           // InterfaceMethod java/util/List.size:()I
      20: invokespecial #63                 // Method java/util/ArrayList."<init>":(I)V
      23: astore_2
      24: aload_1
      25: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      30: astore_3
      31: aload_3
      32: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      37: ifeq          79
      40: aload_3
      41: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: checkcast     #67                 // class org/graylog2/plugin/streams/Stream
      49: astore        4
      51: aload_0
      52: ldc           #44                 // String streams:read
      54: aload         4
      56: invokeinterface #68,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
      61: invokevirtual #45                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      64: ifeq          76
      67: aload_2
      68: aload         4
      70: invokeinterface #69,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      75: pop
      76: goto          31
      79: aload_2
      80: invokeinterface #62,  1           // InterfaceMethod java/util/List.size:()I
      85: i2l
      86: aload_2
      87: invokeinterface #20,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      92: aload_0
      93: invokedynamic #70,  0             // InvokeDynamic #1:apply:(Lorg/graylog2/rest/resources/streams/StreamResource;)Ljava/util/function/Function;
      98: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     103: invokestatic  #23                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
     106: invokeinterface #24,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     111: checkcast     #71                 // class java/util/Collection
     114: invokestatic  #72                 // Method org/graylog2/rest/resources/streams/responses/StreamListResponse.create:(JLjava/util/Collection;)Lorg/graylog2/rest/resources/streams/responses/StreamListResponse;
     117: areturn

  public org.graylog2.rest.resources.streams.responses.StreamResponse get(java.lang.String) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: ldc           #44                 // String streams:read
       3: aload_1
       4: invokevirtual #74                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
       7: aload_0
       8: aload_0
       9: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      12: aload_1
      13: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      18: invokespecial #76                 // Method streamToResponse:(Lorg/graylog2/plugin/streams/Stream;)Lorg/graylog2/rest/resources/streams/responses/StreamResponse;
      21: areturn

  public org.graylog2.rest.resources.streams.responses.StreamResponse update(java.lang.String, org.graylog2.rest.models.streams.requests.UpdateStreamRequest) throws org.graylog2.database.NotFoundException, org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: ldc           #52                 // String streams:edit
       3: aload_1
       4: invokevirtual #74                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
       7: aload_0
       8: aload_1
       9: ldc           #77                 // String The default stream cannot be edited.
      11: invokespecial #78                 // Method checkNotDefaultStream:(Ljava/lang/String;Ljava/lang/String;)V
      14: aload_0
      15: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      18: aload_1
      19: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      24: astore_3
      25: aload_2
      26: invokevirtual #79                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.title:()Ljava/lang/String;
      29: invokestatic  #80                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      32: ifne          45
      35: aload_3
      36: aload_2
      37: invokevirtual #79                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.title:()Ljava/lang/String;
      40: invokeinterface #81,  2           // InterfaceMethod org/graylog2/plugin/streams/Stream.setTitle:(Ljava/lang/String;)V
      45: aload_2
      46: invokevirtual #82                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.description:()Ljava/lang/String;
      49: invokestatic  #80                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      52: ifne          65
      55: aload_3
      56: aload_2
      57: invokevirtual #82                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.description:()Ljava/lang/String;
      60: invokeinterface #83,  2           // InterfaceMethod org/graylog2/plugin/streams/Stream.setDescription:(Ljava/lang/String;)V
      65: aload_2
      66: invokevirtual #84                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.matchingType:()Ljava/lang/String;
      69: ifnull        134
      72: aload_3
      73: aload_2
      74: invokevirtual #84                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.matchingType:()Ljava/lang/String;
      77: invokestatic  #85                 // Method org/graylog2/plugin/streams/Stream$MatchingType.valueOf:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream$MatchingType;
      80: invokeinterface #86,  2           // InterfaceMethod org/graylog2/plugin/streams/Stream.setMatchingType:(Lorg/graylog2/plugin/streams/Stream$MatchingType;)V
      85: goto          134
      88: astore        4
      90: new           #16                 // class javax/ws/rs/BadRequestException
      93: dup
      94: new           #46                 // class java/lang/StringBuilder
      97: dup
      98: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
     101: ldc           #88                 // String Invalid matching type \'
     103: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: aload_2
     107: invokevirtual #84                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.matchingType:()Ljava/lang/String;
     110: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     113: ldc           #89                 // String \' specified. Should be one of:
     115: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: invokestatic  #90                 // Method org/graylog2/plugin/streams/Stream$MatchingType.values:()[Lorg/graylog2/plugin/streams/Stream$MatchingType;
     121: invokestatic  #91                 // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
     124: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     130: invokespecial #18                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
     133: athrow
     134: aload_2
     135: invokevirtual #92                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.removeMatchesFromDefaultStream:()Ljava/lang/Boolean;
     138: astore        4
     140: aload         4
     142: ifnull        156
     145: aload_3
     146: aload         4
     148: invokevirtual #93                 // Method java/lang/Boolean.booleanValue:()Z
     151: invokeinterface #94,  2           // InterfaceMethod org/graylog2/plugin/streams/Stream.setRemoveMatchesFromDefaultStream:(Z)V
     156: aload_2
     157: invokevirtual #95                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.indexSetId:()Ljava/lang/String;
     160: invokestatic  #80                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
     163: ifne          176
     166: aload_3
     167: aload_2
     168: invokevirtual #95                 // Method org/graylog2/rest/models/streams/requests/UpdateStreamRequest.indexSetId:()Ljava/lang/String;
     171: invokeinterface #96,  2           // InterfaceMethod org/graylog2/plugin/streams/Stream.setIndexSetId:(Ljava/lang/String;)V
     176: aload_0
     177: getfield      #5                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
     180: aload_3
     181: invokeinterface #97,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getIndexSetId:()Ljava/lang/String;
     186: invokeinterface #98,  2           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.get:(Ljava/lang/String;)Ljava/util/Optional;
     191: astore        5
     193: aload         5
     195: invokevirtual #99                 // Method java/util/Optional.isPresent:()Z
     198: ifne          238
     201: new           #16                 // class javax/ws/rs/BadRequestException
     204: dup
     205: new           #46                 // class java/lang/StringBuilder
     208: dup
     209: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
     212: ldc           #100                // String Index set with ID <
     214: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     217: aload_3
     218: invokeinterface #97,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getIndexSetId:()Ljava/lang/String;
     223: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     226: ldc           #101                // String > does not exist!
     228: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     231: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     234: invokespecial #18                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
     237: athrow
     238: aload         5
     240: invokevirtual #102                // Method java/util/Optional.get:()Ljava/lang/Object;
     243: checkcast     #103                // class org/graylog2/indexer/IndexSet
     246: invokeinterface #14,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
     251: invokevirtual #15                 // Method org/graylog2/indexer/indexset/IndexSetConfig.isWritable:()Z
     254: ifne          267
     257: new           #16                 // class javax/ws/rs/BadRequestException
     260: dup
     261: ldc           #17                 // String Assigned index set must be writable!
     263: invokespecial #18                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
     266: athrow
     267: aload_0
     268: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
     271: aload_3
     272: invokeinterface #104,  2          // InterfaceMethod org/graylog2/streams/StreamService.save:(Lorg/graylog2/plugin/streams/Stream;)Ljava/lang/String;
     277: pop
     278: aload_0
     279: aload_3
     280: invokespecial #76                 // Method streamToResponse:(Lorg/graylog2/plugin/streams/Stream;)Lorg/graylog2/rest/resources/streams/responses/StreamResponse;
     283: areturn
    Exception table:
       from    to  target type
          72    85    88   Class java/lang/IllegalArgumentException

  public void delete(java.lang.String) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: ldc           #52                 // String streams:edit
       3: aload_1
       4: invokevirtual #74                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
       7: aload_0
       8: aload_1
       9: ldc           #105                // String The default stream cannot be deleted.
      11: invokespecial #78                 // Method checkNotDefaultStream:(Ljava/lang/String;Ljava/lang/String;)V
      14: aload_0
      15: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      18: aload_1
      19: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      24: astore_2
      25: aload_0
      26: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      29: aload_2
      30: invokeinterface #106,  2          // InterfaceMethod org/graylog2/streams/StreamService.destroy:(Lorg/graylog2/plugin/streams/Stream;)V
      35: return

  public void pause(java.lang.String) throws org.graylog2.database.NotFoundException, org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: iconst_2
       2: anewarray     #107                // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #54                 // String streams:changestate
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #52                 // String streams:edit
      14: aastore
      15: aload_1
      16: invokevirtual #108                // Method checkAnyPermission:([Ljava/lang/String;Ljava/lang/String;)V
      19: aload_0
      20: aload_1
      21: ldc           #109                // String The default stream cannot be paused.
      23: invokespecial #78                 // Method checkNotDefaultStream:(Ljava/lang/String;Ljava/lang/String;)V
      26: aload_0
      27: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      30: aload_1
      31: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      36: astore_2
      37: aload_0
      38: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      41: aload_2
      42: invokeinterface #110,  2          // InterfaceMethod org/graylog2/streams/StreamService.pause:(Lorg/graylog2/plugin/streams/Stream;)V
      47: return

  public void resume(java.lang.String) throws org.graylog2.database.NotFoundException, org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: iconst_2
       2: anewarray     #107                // class java/lang/String
       5: dup
       6: iconst_0
       7: ldc           #54                 // String streams:changestate
       9: aastore
      10: dup
      11: iconst_1
      12: ldc           #52                 // String streams:edit
      14: aastore
      15: aload_1
      16: invokevirtual #108                // Method checkAnyPermission:([Ljava/lang/String;Ljava/lang/String;)V
      19: aload_0
      20: aload_1
      21: ldc           #111                // String The default stream cannot be resumed.
      23: invokespecial #78                 // Method checkNotDefaultStream:(Ljava/lang/String;Ljava/lang/String;)V
      26: aload_0
      27: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      30: aload_1
      31: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      36: astore_2
      37: aload_0
      38: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      41: aload_2
      42: invokeinterface #112,  2          // InterfaceMethod org/graylog2/streams/StreamService.resume:(Lorg/graylog2/plugin/streams/Stream;)V
      47: return

  public org.graylog2.rest.resources.streams.responses.TestMatchResponse testMatch(java.lang.String, java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>>) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: ldc           #44                 // String streams:read
       3: aload_1
       4: invokevirtual #74                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
       7: aload_0
       8: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      11: aload_1
      12: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      17: astore_3
      18: new           #113                // class java/util/HashMap
      21: dup
      22: aload_2
      23: ldc           #114                // String message
      25: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #116                // class java/util/Map
      33: invokespecial #117                // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
      36: astore        4
      38: aload         4
      40: ldc           #119                // String timestamp
      42: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      47: checkcast     #107                // class java/lang/String
      50: getstatic     #120                // Field org/joda/time/DateTimeZone.UTC:Lorg/joda/time/DateTimeZone;
      53: invokestatic  #121                // Method org/joda/time/DateTime.now:(Lorg/joda/time/DateTimeZone;)Lorg/joda/time/DateTime;
      56: invokestatic  #122                // Method org/joda/time/format/ISODateTimeFormat.dateTime:()Lorg/joda/time/format/DateTimeFormatter;
      59: invokevirtual #123                // Method org/joda/time/DateTime.toString:(Lorg/joda/time/format/DateTimeFormatter;)Ljava/lang/String;
      62: invokestatic  #124                // Method com/google/common/base/MoreObjects.firstNonNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      65: checkcast     #107                // class java/lang/String
      68: astore        5
      70: aload         4
      72: ldc           #119                // String timestamp
      74: aload         5
      76: invokestatic  #125                // Method org/graylog2/plugin/Tools.dateTimeFromString:(Ljava/lang/String;)Lorg/joda/time/DateTime;
      79: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      84: pop
      85: new           #118                // class org/graylog2/plugin/Message
      88: dup
      89: aload         4
      91: invokespecial #127                // Method org/graylog2/plugin/Message."<init>":(Ljava/util/Map;)V
      94: astore        6
      96: new           #128                // class com/google/common/util/concurrent/ThreadFactoryBuilder
      99: dup
     100: invokespecial #129                // Method com/google/common/util/concurrent/ThreadFactoryBuilder."<init>":()V
     103: new           #46                 // class java/lang/StringBuilder
     106: dup
     107: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
     110: ldc           #130                // String stream-
     112: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: aload_1
     116: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     119: ldc           #131                // String -test-match-%d
     121: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     124: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     127: invokevirtual #132                // Method com/google/common/util/concurrent/ThreadFactoryBuilder.setNameFormat:(Ljava/lang/String;)Lcom/google/common/util/concurrent/ThreadFactoryBuilder;
     130: invokevirtual #133                // Method com/google/common/util/concurrent/ThreadFactoryBuilder.build:()Ljava/util/concurrent/ThreadFactory;
     133: invokestatic  #134                // Method java/util/concurrent/Executors.newSingleThreadExecutor:(Ljava/util/concurrent/ThreadFactory;)Ljava/util/concurrent/ExecutorService;
     136: astore        7
     138: aload_0
     139: getfield      #4                  // Field streamRouterEngineFactory:Lorg/graylog2/streams/StreamRouterEngine$Factory;
     142: iconst_1
     143: anewarray     #67                 // class org/graylog2/plugin/streams/Stream
     146: dup
     147: iconst_0
     148: aload_3
     149: aastore
     150: invokestatic  #135                // Method com/google/common/collect/Lists.newArrayList:([Ljava/lang/Object;)Ljava/util/ArrayList;
     153: aload         7
     155: invokeinterface #136,  3          // InterfaceMethod org/graylog2/streams/StreamRouterEngine$Factory.create:(Ljava/util/List;Ljava/util/concurrent/ExecutorService;)Lorg/graylog2/streams/StreamRouterEngine;
     160: astore        8
     162: aload         8
     164: aload         6
     166: invokevirtual #137                // Method org/graylog2/streams/StreamRouterEngine.testMatch:(Lorg/graylog2/plugin/Message;)Ljava/util/List;
     169: astore        9
     171: aload         9
     173: iconst_0
     174: invokeinterface #138,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     179: checkcast     #139                // class org/graylog2/streams/StreamRouterEngine$StreamTestMatch
     182: astore        10
     184: invokestatic  #140                // Method com/google/common/collect/Maps.newHashMap:()Ljava/util/HashMap;
     187: astore        11
     189: aload         10
     191: invokevirtual #141                // Method org/graylog2/streams/StreamRouterEngine$StreamTestMatch.getMatches:()Ljava/util/Map;
     194: invokeinterface #142,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     199: invokeinterface #143,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     204: astore        12
     206: aload         12
     208: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     213: ifeq          264
     216: aload         12
     218: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     223: checkcast     #144                // class java/util/Map$Entry
     226: astore        13
     228: aload         11
     230: aload         13
     232: invokeinterface #145,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     237: checkcast     #146                // class org/graylog2/plugin/streams/StreamRule
     240: invokeinterface #147,  1          // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getId:()Ljava/lang/String;
     245: aload         13
     247: invokeinterface #148,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     252: checkcast     #149                // class java/lang/Boolean
     255: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     260: pop
     261: goto          206
     264: aload         10
     266: invokevirtual #150                // Method org/graylog2/streams/StreamRouterEngine$StreamTestMatch.isMatched:()Z
     269: aload         11
     271: invokestatic  #151                // Method org/graylog2/rest/resources/streams/responses/TestMatchResponse.create:(ZLjava/util/Map;)Lorg/graylog2/rest/resources/streams/responses/TestMatchResponse;
     274: areturn

  public javax.ws.rs.core.Response cloneStream(java.lang.String, org.graylog2.rest.resources.streams.requests.CloneStreamRequest) throws org.graylog2.plugin.database.ValidationException, org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: ldc           #152                // String streams:create
       3: invokevirtual #153                // Method checkPermission:(Ljava/lang/String;)V
       6: aload_0
       7: ldc           #44                 // String streams:read
       9: aload_1
      10: invokevirtual #74                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
      13: aload_0
      14: aload_1
      15: ldc           #154                // String The default stream cannot be cloned.
      17: invokespecial #78                 // Method checkNotDefaultStream:(Ljava/lang/String;Ljava/lang/String;)V
      20: aload_0
      21: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      24: aload_1
      25: invokeinterface #75,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      30: astore_3
      31: aload_0
      32: invokevirtual #8                  // Method getCurrentUser:()Lorg/graylog2/plugin/database/users/User;
      35: invokeinterface #9,  1            // InterfaceMethod org/graylog2/plugin/database/users/User.getName:()Ljava/lang/String;
      40: astore        4
      42: aload_0
      43: getfield      #3                  // Field streamRuleService:Lorg/graylog2/streams/StreamRuleService;
      46: aload_3
      47: invokeinterface #155,  2          // InterfaceMethod org/graylog2/streams/StreamRuleService.loadForStream:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
      52: astore        5
      54: aload         5
      56: invokeinterface #62,  1           // InterfaceMethod java/util/List.size:()I
      61: invokestatic  #156                // Method com/google/common/collect/ImmutableSet.builderWithExpectedSize:(I)Lcom/google/common/collect/ImmutableSet$Builder;
      64: astore        6
      66: aload         5
      68: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      73: astore        7
      75: aload         7
      77: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      82: ifeq          219
      85: aload         7
      87: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      92: checkcast     #146                // class org/graylog2/plugin/streams/StreamRule
      95: astore        8
      97: bipush        6
      99: invokestatic  #157                // Method com/google/common/collect/Maps.newHashMapWithExpectedSize:(I)Ljava/util/HashMap;
     102: astore        9
     104: aload         9
     106: ldc           #159                // String type
     108: aload         8
     110: invokeinterface #160,  1          // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getType:()Lorg/graylog2/plugin/streams/StreamRuleType;
     115: invokevirtual #161                // Method org/graylog2/plugin/streams/StreamRuleType.toInteger:()I
     118: invokestatic  #162                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     121: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     126: pop
     127: aload         9
     129: ldc           #163                // String field
     131: aload         8
     133: invokeinterface #164,  1          // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getField:()Ljava/lang/String;
     138: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     143: pop
     144: aload         9
     146: ldc           #165                // String value
     148: aload         8
     150: invokeinterface #166,  1          // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getValue:()Ljava/lang/String;
     155: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     160: pop
     161: aload         9
     163: ldc           #167                // String inverted
     165: aload         8
     167: invokeinterface #168,  1          // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getInverted:()Ljava/lang/Boolean;
     172: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     177: pop
     178: aload         9
     180: ldc           #169                // String description
     182: aload         8
     184: invokeinterface #170,  1          // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getDescription:()Ljava/lang/String;
     189: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     194: pop
     195: aload_0
     196: getfield      #3                  // Field streamRuleService:Lorg/graylog2/streams/StreamRuleService;
     199: aload         9
     201: invokeinterface #171,  2          // InterfaceMethod org/graylog2/streams/StreamRuleService.create:(Ljava/util/Map;)Lorg/graylog2/plugin/streams/StreamRule;
     206: astore        10
     208: aload         6
     210: aload         10
     212: invokevirtual #172                // Method com/google/common/collect/ImmutableSet$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet$Builder;
     215: pop
     216: goto          75
     219: invokestatic  #140                // Method com/google/common/collect/Maps.newHashMap:()Ljava/util/HashMap;
     222: astore        7
     224: aload         7
     226: ldc           #174                // String title
     228: aload_2
     229: invokevirtual #175                // Method org/graylog2/rest/resources/streams/requests/CloneStreamRequest.title:()Ljava/lang/String;
     232: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     237: pop
     238: aload         7
     240: ldc           #169                // String description
     242: aload_2
     243: invokevirtual #176                // Method org/graylog2/rest/resources/streams/requests/CloneStreamRequest.description:()Ljava/lang/String;
     246: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     251: pop
     252: aload         7
     254: ldc           #177                // String creator_user_id
     256: aload         4
     258: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     263: pop
     264: aload         7
     266: ldc           #178                // String created_at
     268: invokestatic  #179                // Method org/graylog2/plugin/Tools.nowUTC:()Lorg/joda/time/DateTime;
     271: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     276: pop
     277: aload         7
     279: ldc           #180                // String matching_type
     281: aload_3
     282: invokeinterface #181,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getMatchingType:()Lorg/graylog2/plugin/streams/Stream$MatchingType;
     287: invokevirtual #182                // Method org/graylog2/plugin/streams/Stream$MatchingType.toString:()Ljava/lang/String;
     290: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     295: pop
     296: aload         7
     298: ldc           #183                // String remove_matches_from_default_stream
     300: aload_2
     301: invokevirtual #184                // Method org/graylog2/rest/resources/streams/requests/CloneStreamRequest.removeMatchesFromDefaultStream:()Z
     304: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     307: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     312: pop
     313: aload         7
     315: ldc           #185                // String disabled
     317: iconst_1
     318: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     321: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     326: pop
     327: aload         7
     329: ldc           #186                // String index_set_id
     331: aload_2
     332: invokevirtual #187                // Method org/graylog2/rest/resources/streams/requests/CloneStreamRequest.indexSetId:()Ljava/lang/String;
     335: invokeinterface #126,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     340: pop
     341: aload_0
     342: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
     345: aload         7
     347: invokeinterface #188,  2          // InterfaceMethod org/graylog2/streams/StreamService.create:(Ljava/util/Map;)Lorg/graylog2/plugin/streams/Stream;
     352: astore        8
     354: aload_0
     355: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
     358: aload         8
     360: aload         6
     362: invokevirtual #189                // Method com/google/common/collect/ImmutableSet$Builder.build:()Lcom/google/common/collect/ImmutableSet;
     365: invokeinterface #26,  3           // InterfaceMethod org/graylog2/streams/StreamService.saveWithRules:(Lorg/graylog2/plugin/streams/Stream;Ljava/util/Collection;)Ljava/lang/String;
     370: astore        9
     372: new           #190                // class org/bson/types/ObjectId
     375: dup
     376: aload         9
     378: invokespecial #191                // Method org/bson/types/ObjectId."<init>":(Ljava/lang/String;)V
     381: astore        10
     383: aload_0
     384: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
     387: aload_3
     388: invokeinterface #192,  2          // InterfaceMethod org/graylog2/streams/StreamService.getAlertConditions:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
     393: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     398: astore        11
     400: aload         11
     402: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     407: ifeq          517
     410: aload         11
     412: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     417: checkcast     #193                // class org/graylog2/plugin/alarms/AlertCondition
     420: astore        12
     422: aload_0
     423: getfield      #7                  // Field alertService:Lorg/graylog2/alerts/AlertService;
     426: aload         12
     428: invokeinterface #194,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getType:()Ljava/lang/String;
     433: aload         12
     435: invokeinterface #195,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getTitle:()Ljava/lang/String;
     440: aload         12
     442: invokeinterface #196,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getParameters:()Ljava/util/Map;
     447: invokestatic  #197                // Method org/graylog2/rest/models/streams/alerts/requests/CreateConditionRequest.create:(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;)Lorg/graylog2/rest/models/streams/alerts/requests/CreateConditionRequest;
     450: aload         8
     452: aload         4
     454: invokeinterface #198,  4          // InterfaceMethod org/graylog2/alerts/AlertService.fromRequest:(Lorg/graylog2/rest/models/streams/alerts/requests/CreateConditionRequest;Lorg/graylog2/plugin/streams/Stream;Ljava/lang/String;)Lorg/graylog2/plugin/alarms/AlertCondition;
     459: astore        13
     461: aload_0
     462: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
     465: aload         8
     467: aload         13
     469: invokeinterface #199,  3          // InterfaceMethod org/graylog2/streams/StreamService.addAlertCondition:(Lorg/graylog2/plugin/streams/Stream;Lorg/graylog2/plugin/alarms/AlertCondition;)V
     474: goto          514
     477: astore        13
     479: getstatic     #201                // Field LOG:Lorg/slf4j/Logger;
     482: new           #46                 // class java/lang/StringBuilder
     485: dup
     486: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
     489: ldc           #202                // String Unable to clone alert condition <
     491: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     494: aload         12
     496: invokevirtual #203                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     499: ldc           #204                // String > - skipping:
     501: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     504: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     507: aload         13
     509: invokeinterface #205,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     514: goto          400
     517: aload_0
     518: getfield      #6                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
     521: aload_3
     522: invokeinterface #206,  2          // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.getForStream:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
     527: invokeinterface #64,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     532: astore        11
     534: aload         11
     536: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     541: ifeq          607
     544: aload         11
     546: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     551: checkcast     #207                // class org/graylog2/alarmcallbacks/AlarmCallbackConfiguration
     554: astore        12
     556: aload         12
     558: invokestatic  #208                // Method org/graylog2/rest/models/alarmcallbacks/requests/CreateAlarmCallbackRequest.create:(Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;)Lorg/graylog2/rest/models/alarmcallbacks/requests/CreateAlarmCallbackRequest;
     561: astore        13
     563: aload_0
     564: getfield      #6                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
     567: aload         8
     569: invokeinterface #68,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
     574: aload         13
     576: aload_0
     577: invokevirtual #8                  // Method getCurrentUser:()Lorg/graylog2/plugin/database/users/User;
     580: invokeinterface #9,  1            // InterfaceMethod org/graylog2/plugin/database/users/User.getName:()Ljava/lang/String;
     585: invokeinterface #209,  4          // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.create:(Ljava/lang/String;Lorg/graylog2/rest/models/alarmcallbacks/requests/CreateAlarmCallbackRequest;Ljava/lang/String;)Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;
     590: astore        14
     592: aload_0
     593: getfield      #6                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
     596: aload         14
     598: invokeinterface #210,  2          // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.save:(Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;)Ljava/lang/String;
     603: pop
     604: goto          534
     607: aload_3
     608: invokeinterface #211,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getOutputs:()Ljava/util/Set;
     613: invokeinterface #212,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
     618: invokedynamic #213,  0            // InvokeDynamic #2:apply:()Ljava/util/function/Function;
     623: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     628: invokedynamic #214,  0            // InvokeDynamic #3:apply:()Ljava/util/function/Function;
     633: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     638: invokestatic  #23                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
     641: invokeinterface #24,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     646: checkcast     #25                 // class java/util/Set
     649: astore        11
     651: aload_0
     652: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
     655: aload         10
     657: aload         11
     659: invokeinterface #215,  3          // InterfaceMethod org/graylog2/streams/StreamService.addOutputs:(Lorg/bson/types/ObjectId;Ljava/util/Collection;)V
     664: aload_0
     665: aload_0
     666: invokevirtual #8                  // Method getCurrentUser:()Lorg/graylog2/plugin/database/users/User;
     669: aload         9
     671: invokespecial #27                 // Method ensureUserHasPermissionsForStream:(Lorg/graylog2/plugin/database/users/User;Ljava/lang/String;)Z
     674: pop
     675: ldc           #28                 // String stream_id
     677: aload         9
     679: invokestatic  #29                 // Method com/google/common/collect/ImmutableMap.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;
     682: astore        12
     684: aload_0
     685: invokevirtual #30                 // Method getUriBuilderToSelf:()Ljavax/ws/rs/core/UriBuilder;
     688: ldc           #31                 // class org/graylog2/rest/resources/streams/StreamResource
     690: invokevirtual #32                 // Method javax/ws/rs/core/UriBuilder.path:(Ljava/lang/Class;)Ljavax/ws/rs/core/UriBuilder;
     693: ldc           #33                 // String {streamId}
     695: invokevirtual #34                 // Method javax/ws/rs/core/UriBuilder.path:(Ljava/lang/String;)Ljavax/ws/rs/core/UriBuilder;
     698: iconst_1
     699: anewarray     #35                 // class java/lang/Object
     702: dup
     703: iconst_0
     704: aload         9
     706: aastore
     707: invokevirtual #36                 // Method javax/ws/rs/core/UriBuilder.build:([Ljava/lang/Object;)Ljava/net/URI;
     710: astore        13
     712: aload         13
     714: invokestatic  #37                 // Method javax/ws/rs/core/Response.created:(Ljava/net/URI;)Ljavax/ws/rs/core/Response$ResponseBuilder;
     717: aload         12
     719: invokevirtual #38                 // Method javax/ws/rs/core/Response$ResponseBuilder.entity:(Ljava/lang/Object;)Ljavax/ws/rs/core/Response$ResponseBuilder;
     722: invokevirtual #39                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
     725: areturn
    Exception table:
       from    to  target type
         422   474   477   Class org/graylog2/plugin/configuration/ConfigurationException

  private org.graylog2.rest.resources.streams.responses.StreamResponse streamToResponse(org.graylog2.plugin.streams.Stream);
    Code:
       0: aload_1
       1: invokeinterface #216,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getAlertReceivers:()Ljava/util/Map;
       6: ldc           #217                // String emails
       8: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #218                // class java/util/List
      16: astore_2
      17: aload_1
      18: invokeinterface #216,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getAlertReceivers:()Ljava/util/Map;
      23: ldc           #219                // String users
      25: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #218                // class java/util/List
      33: astore_3
      34: aload_0
      35: getfield      #2                  // Field streamService:Lorg/graylog2/streams/StreamService;
      38: aload_1
      39: invokeinterface #192,  2          // InterfaceMethod org/graylog2/streams/StreamService.getAlertConditions:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
      44: invokeinterface #20,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      49: invokedynamic #220,  0            // InvokeDynamic #4:apply:()Ljava/util/function/Function;
      54: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      59: invokestatic  #221                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      62: invokeinterface #24,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      67: checkcast     #71                 // class java/util/Collection
      70: astore        4
      72: aload_1
      73: invokeinterface #68,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
      78: aload_1
      79: invokeinterface #222,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getFields:()Ljava/util/Map;
      84: ldc           #177                // String creator_user_id
      86: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      91: checkcast     #107                // class java/lang/String
      94: aload_0
      95: aload_1
      96: invokeinterface #211,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getOutputs:()Ljava/util/Set;
     101: invokespecial #223                // Method outputsToSummaries:(Ljava/util/Collection;)Ljava/util/Collection;
     104: aload_1
     105: invokeinterface #181,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getMatchingType:()Lorg/graylog2/plugin/streams/Stream$MatchingType;
     110: invokevirtual #224                // Method org/graylog2/plugin/streams/Stream$MatchingType.name:()Ljava/lang/String;
     113: aload_1
     114: invokeinterface #225,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getDescription:()Ljava/lang/String;
     119: aload_1
     120: invokeinterface #222,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getFields:()Ljava/util/Map;
     125: ldc           #178                // String created_at
     127: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     132: invokevirtual #226                // Method java/lang/Object.toString:()Ljava/lang/String;
     135: aload_1
     136: invokeinterface #227,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getDisabled:()Ljava/lang/Boolean;
     141: invokevirtual #93                 // Method java/lang/Boolean.booleanValue:()Z
     144: aload_1
     145: invokeinterface #228,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getStreamRules:()Ljava/util/List;
     150: aload         4
     152: aload_2
     153: invokestatic  #229                // Method java/util/Collections.emptyList:()Ljava/util/List;
     156: invokestatic  #124                // Method com/google/common/base/MoreObjects.firstNonNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     159: checkcast     #218                // class java/util/List
     162: aload_3
     163: invokestatic  #229                // Method java/util/Collections.emptyList:()Ljava/util/List;
     166: invokestatic  #124                // Method com/google/common/base/MoreObjects.firstNonNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     169: checkcast     #218                // class java/util/List
     172: invokestatic  #230                // Method org/graylog2/rest/models/alarmcallbacks/requests/AlertReceivers.create:(Ljava/util/List;Ljava/util/List;)Lorg/graylog2/rest/models/alarmcallbacks/requests/AlertReceivers;
     175: aload_1
     176: invokeinterface #231,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getTitle:()Ljava/lang/String;
     181: aload_1
     182: invokeinterface #232,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getContentPack:()Ljava/lang/String;
     187: aload_1
     188: invokeinterface #233,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.isDefaultStream:()Z
     193: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     196: aload_1
     197: invokeinterface #234,  1          // InterfaceMethod org/graylog2/plugin/streams/Stream.getRemoveMatchesFromDefaultStream:()Z
     202: invokestatic  #11                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     205: aload_1
     206: invokeinterface #97,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getIndexSetId:()Ljava/lang/String;
     211: invokestatic  #235                // Method org/graylog2/rest/resources/streams/responses/StreamResponse.create:(Ljava/lang/String;Ljava/lang/String;Ljava/util/Collection;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/util/Collection;Ljava/util/Collection;Lorg/graylog2/rest/models/alarmcallbacks/requests/AlertReceivers;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Boolean;Ljava/lang/Boolean;Ljava/lang/String;)Lorg/graylog2/rest/resources/streams/responses/StreamResponse;
     214: areturn

  private java.util.Collection<org.graylog2.rest.models.system.outputs.responses.OutputSummary> outputsToSummaries(java.util.Collection<org.graylog2.plugin.streams.Output>);
    Code:
       0: aload_1
       1: invokeinterface #236,  1          // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
       6: invokedynamic #237,  0            // InvokeDynamic #5:apply:()Ljava/util/function/Function;
      11: invokeinterface #22,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      16: invokestatic  #23                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      19: invokeinterface #24,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      24: checkcast     #71                 // class java/util/Collection
      27: areturn

  private void checkNotDefaultStream(java.lang.String, java.lang.String);
    Code:
       0: ldc           #238                // String 000000000000000000000001
       2: aload_1
       3: invokevirtual #239                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ifeq          18
       9: new           #16                 // class javax/ws/rs/BadRequestException
      12: dup
      13: aload_2
      14: invokespecial #18                 // Method javax/ws/rs/BadRequestException."<init>":(Ljava/lang/String;)V
      17: athrow
      18: return

  private static org.graylog2.rest.models.system.outputs.responses.OutputSummary lambda$outputsToSummaries$2(org.graylog2.plugin.streams.Output);
    Code:
       0: aload_0
       1: invokeinterface #240,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getId:()Ljava/lang/String;
       6: aload_0
       7: invokeinterface #241,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getTitle:()Ljava/lang/String;
      12: aload_0
      13: invokeinterface #242,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getType:()Ljava/lang/String;
      18: aload_0
      19: invokeinterface #243,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getCreatorUserId:()Ljava/lang/String;
      24: new           #244                // class org/joda/time/DateTime
      27: dup
      28: aload_0
      29: invokeinterface #245,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getCreatedAt:()Ljava/util/Date;
      34: invokespecial #246                // Method org/joda/time/DateTime."<init>":(Ljava/lang/Object;)V
      37: aload_0
      38: invokeinterface #247,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getConfiguration:()Ljava/util/Map;
      43: aload_0
      44: invokeinterface #248,  1          // InterfaceMethod org/graylog2/plugin/streams/Output.getContentPack:()Ljava/lang/String;
      49: invokestatic  #249                // Method org/graylog2/rest/models/system/outputs/responses/OutputSummary.create:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/joda/time/DateTime;Ljava/util/Map;Ljava/lang/String;)Lorg/graylog2/rest/models/system/outputs/responses/OutputSummary;
      52: areturn

  private static org.graylog2.rest.models.streams.alerts.AlertConditionSummary lambda$streamToResponse$1(org.graylog2.plugin.alarms.AlertCondition);
    Code:
       0: aload_0
       1: invokeinterface #250,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getId:()Ljava/lang/String;
       6: aload_0
       7: invokeinterface #194,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getType:()Ljava/lang/String;
      12: aload_0
      13: invokeinterface #251,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getCreatorUserId:()Ljava/lang/String;
      18: aload_0
      19: invokeinterface #252,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getCreatedAt:()Lorg/joda/time/DateTime;
      24: invokevirtual #253                // Method org/joda/time/DateTime.toDate:()Ljava/util/Date;
      27: aload_0
      28: invokeinterface #196,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getParameters:()Ljava/util/Map;
      33: aload_0
      34: invokeinterface #195,  1          // InterfaceMethod org/graylog2/plugin/alarms/AlertCondition.getTitle:()Ljava/lang/String;
      39: invokestatic  #254                // Method org/graylog2/rest/models/streams/alerts/AlertConditionSummary.createWithoutGrace:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/util/Date;Ljava/util/Map;Ljava/lang/String;)Lorg/graylog2/rest/models/streams/alerts/AlertConditionSummary;
      42: areturn

  private org.graylog2.plugin.streams.StreamRule lambda$create$0(org.graylog2.rest.resources.streams.rules.requests.CreateStreamRuleRequest);
    Code:
       0: aload_0
       1: getfield      #3                  // Field streamRuleService:Lorg/graylog2/streams/StreamRuleService;
       4: aconst_null
       5: aload_1
       6: invokeinterface #255,  3          // InterfaceMethod org/graylog2/streams/StreamRuleService.create:(Ljava/lang/String;Lorg/graylog2/rest/resources/streams/rules/requests/CreateStreamRuleRequest;)Lorg/graylog2/plugin/streams/StreamRule;
      11: areturn

  static {};
    Code:
       0: ldc           #31                 // class org/graylog2/rest/resources/streams/StreamResource
       2: invokestatic  #256                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #201                // Field LOG:Lorg/slf4j/Logger;
       8: return
}
