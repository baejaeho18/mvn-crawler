Compiled from "AlarmCallbacksResource.java"
public class org.graylog2.rest.resources.alarmcallbacks.AlarmCallbacksResource extends org.graylog2.shared.rest.resources.RestResource {
  private final org.graylog2.alarmcallbacks.AlarmCallbackConfigurationService alarmCallbackConfigurationService;

  private final org.graylog2.streams.StreamService streamService;

  private final java.util.Set<org.graylog2.plugin.alarms.callbacks.AlarmCallback> availableAlarmCallbacks;

  private final org.graylog2.alarmcallbacks.AlarmCallbackFactory alarmCallbackFactory;

  public org.graylog2.rest.resources.alarmcallbacks.AlarmCallbacksResource(org.graylog2.alarmcallbacks.AlarmCallbackConfigurationService, org.graylog2.streams.StreamService, java.util.Set<org.graylog2.plugin.alarms.callbacks.AlarmCallback>, org.graylog2.alarmcallbacks.AlarmCallbackFactory);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/graylog2/shared/rest/resources/RestResource."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
       9: aload_0
      10: aload_2
      11: putfield      #4                  // Field streamService:Lorg/graylog2/streams/StreamService;
      14: aload_0
      15: aload_3
      16: putfield      #5                  // Field availableAlarmCallbacks:Ljava/util/Set;
      19: aload_0
      20: aload         4
      22: putfield      #6                  // Field alarmCallbackFactory:Lorg/graylog2/alarmcallbacks/AlarmCallbackFactory;
      25: return

  public org.graylog2.rest.models.alarmcallbacks.AlarmCallbackListSummary all() throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field streamService:Lorg/graylog2/streams/StreamService;
       4: invokeinterface #7,  1            // InterfaceMethod org/graylog2/streams/StreamService.loadAll:()Ljava/util/List;
       9: invokeinterface #8,  1            // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      14: aload_0
      15: invokedynamic #9,  0              // InvokeDynamic #0:test:(Lorg/graylog2/rest/resources/alarmcallbacks/AlarmCallbacksResource;)Ljava/util/function/Predicate;
      20: invokeinterface #10,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      25: aload_0
      26: invokedynamic #11,  0             // InvokeDynamic #1:apply:(Lorg/graylog2/rest/resources/alarmcallbacks/AlarmCallbacksResource;)Ljava/util/function/Function;
      31: invokeinterface #12,  2           // InterfaceMethod java/util/stream/Stream.flatMap:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      36: invokestatic  #13                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      39: invokeinterface #14,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      44: checkcast     #15                 // class java/util/List
      47: astore_1
      48: aload_1
      49: invokestatic  #16                 // Method org/graylog2/rest/models/alarmcallbacks/AlarmCallbackListSummary.create:(Ljava/util/List;)Lorg/graylog2/rest/models/alarmcallbacks/AlarmCallbackListSummary;
      52: areturn

  public org.graylog2.rest.models.alarmcallbacks.responses.AvailableAlarmCallbacksResponse available();
    Code:
       0: aload_0
       1: getfield      #5                  // Field availableAlarmCallbacks:Ljava/util/Set;
       4: invokeinterface #17,  1           // InterfaceMethod java/util/Set.size:()I
       9: invokestatic  #18                 // Method com/google/common/collect/Maps.newHashMapWithExpectedSize:(I)Ljava/util/HashMap;
      12: astore_1
      13: aload_0
      14: getfield      #5                  // Field availableAlarmCallbacks:Ljava/util/Set;
      17: invokeinterface #19,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      22: astore_2
      23: aload_2
      24: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      29: ifeq          94
      32: aload_2
      33: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      38: checkcast     #22                 // class org/graylog2/plugin/alarms/callbacks/AlarmCallback
      41: astore_3
      42: new           #23                 // class org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbackSummaryResponse
      45: dup
      46: invokespecial #24                 // Method org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbackSummaryResponse."<init>":()V
      49: astore        4
      51: aload         4
      53: aload_3
      54: invokeinterface #25,  1           // InterfaceMethod org/graylog2/plugin/alarms/callbacks/AlarmCallback.getName:()Ljava/lang/String;
      59: putfield      #26                 // Field org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbackSummaryResponse.name:Ljava/lang/String;
      62: aload         4
      64: aload_0
      65: aload_3
      66: invokespecial #27                 // Method getConfigurationRequest:(Lorg/graylog2/plugin/alarms/callbacks/AlarmCallback;)Lorg/graylog2/plugin/configuration/ConfigurationRequest;
      69: invokevirtual #28                 // Method org/graylog2/plugin/configuration/ConfigurationRequest.asList:()Ljava/util/Map;
      72: putfield      #29                 // Field org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbackSummaryResponse.requested_configuration:Ljava/util/Map;
      75: aload_1
      76: aload_3
      77: invokevirtual #30                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      80: invokevirtual #31                 // Method java/lang/Class.getCanonicalName:()Ljava/lang/String;
      83: aload         4
      85: invokeinterface #32,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      90: pop
      91: goto          23
      94: new           #33                 // class org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbacksResponse
      97: dup
      98: invokespecial #34                 // Method org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbacksResponse."<init>":()V
     101: astore_2
     102: aload_2
     103: aload_1
     104: putfield      #35                 // Field org/graylog2/rest/models/alarmcallbacks/responses/AvailableAlarmCallbacksResponse.types:Ljava/util/Map;
     107: aload_2
     108: areturn

  public javax.ws.rs.core.Response test(java.lang.String) throws org.graylog2.plugin.alarms.transports.TransportConfigurationException, org.apache.commons.mail.EmailException, org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
       4: aload_1
       5: invokeinterface #36,  2           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.load:(Ljava/lang/String;)Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;
      10: astore_2
      11: aload_2
      12: invokeinterface #37,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getStreamId:()Ljava/lang/String;
      17: astore_3
      18: aload_0
      19: ldc           #38                 // String streams:edit
      21: aload_3
      22: invokevirtual #39                 // Method checkPermission:(Ljava/lang/String;Ljava/lang/String;)V
      25: aload_0
      26: getfield      #4                  // Field streamService:Lorg/graylog2/streams/StreamService;
      29: aload_3
      30: invokeinterface #40,  2           // InterfaceMethod org/graylog2/streams/StreamService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/streams/Stream;
      35: astore        4
      37: new           #41                 // class org/graylog2/alerts/types/DummyAlertCondition
      40: dup
      41: aload         4
      43: aconst_null
      44: invokestatic  #42                 // Method org/graylog2/plugin/Tools.nowUTC:()Lorg/joda/time/DateTime;
      47: aload_0
      48: invokevirtual #43                 // Method getSubject:()Lorg/apache/shiro/subject/Subject;
      51: invokeinterface #44,  1           // InterfaceMethod org/apache/shiro/subject/Subject.getPrincipal:()Ljava/lang/Object;
      56: invokevirtual #45                 // Method java/lang/Object.toString:()Ljava/lang/String;
      59: invokestatic  #46                 // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      62: ldc           #47                 // String Test Alert
      64: invokespecial #48                 // Method org/graylog2/alerts/types/DummyAlertCondition."<init>":(Lorg/graylog2/plugin/streams/Stream;Ljava/lang/String;Lorg/joda/time/DateTime;Ljava/lang/String;Ljava/util/Map;Ljava/lang/String;)V
      67: astore        5
      69: aload         5
      71: invokevirtual #49                 // Method org/graylog2/alerts/types/DummyAlertCondition.runCheck:()Lorg/graylog2/alerts/AbstractAlertCondition$CheckResult;
      74: astore        6
      76: aload_0
      77: getfield      #6                  // Field alarmCallbackFactory:Lorg/graylog2/alarmcallbacks/AlarmCallbackFactory;
      80: aload_2
      81: invokevirtual #50                 // Method org/graylog2/alarmcallbacks/AlarmCallbackFactory.create:(Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;)Lorg/graylog2/plugin/alarms/callbacks/AlarmCallback;
      84: astore        7
      86: aload         7
      88: aload         4
      90: aload         6
      92: invokeinterface #51,  3           // InterfaceMethod org/graylog2/plugin/alarms/callbacks/AlarmCallback.call:(Lorg/graylog2/plugin/streams/Stream;Lorg/graylog2/plugin/alarms/AlertCondition$CheckResult;)V
      97: goto          117
     100: astore        6
     102: new           #53                 // class javax/ws/rs/InternalServerErrorException
     105: dup
     106: aload         6
     108: invokevirtual #54                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     111: aload         6
     113: invokespecial #55                 // Method javax/ws/rs/InternalServerErrorException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     116: athrow
     117: invokestatic  #56                 // Method javax/ws/rs/core/Response.ok:()Ljavax/ws/rs/core/Response$ResponseBuilder;
     120: invokevirtual #57                 // Method javax/ws/rs/core/Response$ResponseBuilder.build:()Ljavax/ws/rs/core/Response;
     123: areturn
    Exception table:
       from    to  target type
          69    97   100   Class java/lang/Exception

  private org.graylog2.plugin.configuration.ConfigurationRequest getConfigurationRequest(org.graylog2.plugin.alarms.callbacks.AlarmCallback);
    Code:
       0: aload_1
       1: instanceof    #58                 // class org/graylog2/alarmcallbacks/EmailAlarmCallback
       4: ifeq          24
       7: aload_0
       8: ldc           #59                 // String users:list
      10: invokevirtual #60                 // Method isPermitted:(Ljava/lang/String;)Z
      13: ifeq          24
      16: aload_1
      17: checkcast     #58                 // class org/graylog2/alarmcallbacks/EmailAlarmCallback
      20: invokevirtual #61                 // Method org/graylog2/alarmcallbacks/EmailAlarmCallback.getEnrichedRequestedConfiguration:()Lorg/graylog2/plugin/configuration/ConfigurationRequest;
      23: areturn
      24: aload_1
      25: invokeinterface #62,  1           // InterfaceMethod org/graylog2/plugin/alarms/callbacks/AlarmCallback.getRequestedConfiguration:()Lorg/graylog2/plugin/configuration/ConfigurationRequest;
      30: areturn

  private java.util.stream.Stream lambda$all$2(org.graylog2.plugin.streams.Stream);
    Code:
       0: aload_0
       1: getfield      #3                  // Field alarmCallbackConfigurationService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
       4: aload_1
       5: invokeinterface #63,  2           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.getForStream:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
      10: invokeinterface #8,  1            // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      15: invokedynamic #64,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      20: invokeinterface #65,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      25: areturn

  private static org.graylog2.rest.models.alarmcallbacks.AlarmCallbackSummary lambda$all$1(org.graylog2.alarmcallbacks.AlarmCallbackConfiguration);
    Code:
       0: aload_0
       1: invokeinterface #66,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getId:()Ljava/lang/String;
       6: aload_0
       7: invokeinterface #37,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getStreamId:()Ljava/lang/String;
      12: aload_0
      13: invokeinterface #67,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getType:()Ljava/lang/String;
      18: aload_0
      19: invokeinterface #68,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getTitle:()Ljava/lang/String;
      24: aload_0
      25: invokeinterface #69,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getConfiguration:()Ljava/util/Map;
      30: aload_0
      31: invokeinterface #70,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getCreatedAt:()Ljava/util/Date;
      36: aload_0
      37: invokeinterface #71,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getCreatorUserId:()Ljava/lang/String;
      42: invokestatic  #72                 // Method org/graylog2/rest/models/alarmcallbacks/AlarmCallbackSummary.create:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;Ljava/util/Date;Ljava/lang/String;)Lorg/graylog2/rest/models/alarmcallbacks/AlarmCallbackSummary;
      45: areturn

  private boolean lambda$all$0(org.graylog2.plugin.streams.Stream);
    Code:
       0: aload_0
       1: ldc           #73                 // String streams:read
       3: aload_1
       4: invokeinterface #74,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
       9: invokevirtual #75                 // Method isPermitted:(Ljava/lang/String;Ljava/lang/String;)Z
      12: ireturn
}
