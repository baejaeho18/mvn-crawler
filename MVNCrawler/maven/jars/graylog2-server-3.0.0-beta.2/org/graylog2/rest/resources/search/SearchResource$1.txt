Compiled from "SearchResource.java"
class org.graylog2.rest.resources.search.SearchResource$1 implements java.lang.Runnable {
  private int collectedHits;

  final org.graylog2.indexer.results.ScrollResult val$scroll;

  final org.glassfish.jersey.server.ChunkedOutput val$output;

  final int val$limit;

  final org.graylog2.rest.resources.search.SearchResource this$0;

  org.graylog2.rest.resources.search.SearchResource$1(org.graylog2.rest.resources.search.SearchResource, org.graylog2.indexer.results.ScrollResult, org.glassfish.jersey.server.ChunkedOutput, int);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/graylog2/rest/resources/search/SearchResource;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
      10: aload_0
      11: aload_3
      12: putfield      #3                  // Field val$output:Lorg/glassfish/jersey/server/ChunkedOutput;
      15: aload_0
      16: iload         4
      18: putfield      #4                  // Field val$limit:I
      21: aload_0
      22: invokespecial #5                  // Method java/lang/Object."<init>":()V
      25: aload_0
      26: iconst_0
      27: putfield      #6                  // Field collectedHits:I
      30: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
       4: invokevirtual #7                  // Method org/graylog2/indexer/results/ScrollResult.nextChunk:()Lorg/graylog2/indexer/results/ScrollResult$ScrollChunk;
       7: astore_1
       8: aload_1
       9: ifnull        146
      12: invokestatic  #8                  // Method org/graylog2/rest/resources/search/SearchResource.access$000:()Lorg/slf4j/Logger;
      15: ldc           #9                  // String [{}] Writing scroll chunk with {} messages
      17: aload_0
      18: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
      21: invokevirtual #10                 // Method org/graylog2/indexer/results/ScrollResult.getQueryHash:()Ljava/lang/String;
      24: aload_1
      25: invokevirtual #11                 // Method org/graylog2/indexer/results/ScrollResult$ScrollChunk.getMessages:()Ljava/util/List;
      28: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
      33: invokestatic  #13                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      36: invokeinterface #14,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #3                  // Field val$output:Lorg/glassfish/jersey/server/ChunkedOutput;
      45: invokevirtual #15                 // Method org/glassfish/jersey/server/ChunkedOutput.isClosed:()Z
      48: ifeq          76
      51: invokestatic  #8                  // Method org/graylog2/rest/resources/search/SearchResource.access$000:()Lorg/slf4j/Logger;
      54: ldc           #16                 // String [{}] Client connection is closed, client disconnected. Aborting scroll.
      56: aload_0
      57: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
      60: invokevirtual #10                 // Method org/graylog2/indexer/results/ScrollResult.getQueryHash:()Ljava/lang/String;
      63: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      68: aload_0
      69: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
      72: invokevirtual #18                 // Method org/graylog2/indexer/results/ScrollResult.cancel:()V
      75: return
      76: aload_0
      77: getfield      #3                  // Field val$output:Lorg/glassfish/jersey/server/ChunkedOutput;
      80: aload_1
      81: invokevirtual #19                 // Method org/glassfish/jersey/server/ChunkedOutput.write:(Ljava/lang/Object;)V
      84: aload_0
      85: dup
      86: getfield      #6                  // Field collectedHits:I
      89: aload_1
      90: invokevirtual #11                 // Method org/graylog2/indexer/results/ScrollResult$ScrollChunk.getMessages:()Ljava/util/List;
      93: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
      98: iadd
      99: putfield      #6                  // Field collectedHits:I
     102: aload_0
     103: getfield      #4                  // Field val$limit:I
     106: ifeq          135
     109: aload_0
     110: getfield      #6                  // Field collectedHits:I
     113: aload_0
     114: getfield      #4                  // Field val$limit:I
     117: if_icmplt     135
     120: aload_0
     121: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
     124: invokevirtual #18                 // Method org/graylog2/indexer/results/ScrollResult.cancel:()V
     127: aload_0
     128: getfield      #3                  // Field val$output:Lorg/glassfish/jersey/server/ChunkedOutput;
     131: invokevirtual #20                 // Method org/glassfish/jersey/server/ChunkedOutput.close:()V
     134: return
     135: aload_0
     136: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
     139: invokevirtual #7                  // Method org/graylog2/indexer/results/ScrollResult.nextChunk:()Lorg/graylog2/indexer/results/ScrollResult$ScrollChunk;
     142: astore_1
     143: goto          8
     146: invokestatic  #8                  // Method org/graylog2/rest/resources/search/SearchResource.access$000:()Lorg/slf4j/Logger;
     149: ldc           #21                 // String [{}] Reached end of scroll result.
     151: aload_0
     152: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
     155: invokevirtual #10                 // Method org/graylog2/indexer/results/ScrollResult.getQueryHash:()Ljava/lang/String;
     158: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     163: aload_0
     164: getfield      #3                  // Field val$output:Lorg/glassfish/jersey/server/ChunkedOutput;
     167: invokevirtual #20                 // Method org/glassfish/jersey/server/ChunkedOutput.close:()V
     170: goto          191
     173: astore_1
     174: invokestatic  #8                  // Method org/graylog2/rest/resources/search/SearchResource.access$000:()Lorg/slf4j/Logger;
     177: ldc           #23                 // String [{}] Could not close chunked output stream for query scroll.
     179: aload_0
     180: getfield      #2                  // Field val$scroll:Lorg/graylog2/indexer/results/ScrollResult;
     183: invokevirtual #10                 // Method org/graylog2/indexer/results/ScrollResult.getQueryHash:()Ljava/lang/String;
     186: invokeinterface #24,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     191: return
    Exception table:
       from    to  target type
           0    75   173   Class java/io/IOException
          76   134   173   Class java/io/IOException
         135   170   173   Class java/io/IOException
}
