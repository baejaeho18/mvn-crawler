Compiled from "LookupDataAdapter.java"
public abstract class org.graylog2.plugin.lookup.LookupDataAdapter extends com.google.common.util.concurrent.AbstractIdleService {
  private static final org.slf4j.Logger LOG;

  private final java.lang.String id;

  private final java.lang.String name;

  private final org.graylog2.plugin.lookup.LookupDataAdapterConfiguration config;

  private final com.codahale.metrics.Timer requestTimer;

  private final com.codahale.metrics.Timer refreshTimer;

  private java.util.concurrent.atomic.AtomicReference<java.lang.Throwable> dataSourceError;

  protected org.graylog2.plugin.lookup.LookupDataAdapter(java.lang.String, java.lang.String, org.graylog2.plugin.lookup.LookupDataAdapterConfiguration, com.codahale.metrics.MetricRegistry);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method com/google/common/util/concurrent/AbstractIdleService."<init>":()V
       4: aload_0
       5: new           #5                  // class java/util/concurrent/atomic/AtomicReference
       8: dup
       9: invokespecial #6                  // Method java/util/concurrent/atomic/AtomicReference."<init>":()V
      12: putfield      #7                  // Field dataSourceError:Ljava/util/concurrent/atomic/AtomicReference;
      15: aload_0
      16: aload_1
      17: putfield      #8                  // Field id:Ljava/lang/String;
      20: aload_0
      21: aload_2
      22: putfield      #9                  // Field name:Ljava/lang/String;
      25: aload_0
      26: aload_3
      27: putfield      #10                 // Field config:Lorg/graylog2/plugin/lookup/LookupDataAdapterConfiguration;
      30: aload_0
      31: aload         4
      33: ldc           #11                 // String org.graylog2.lookup.adapters
      35: iconst_2
      36: anewarray     #12                 // class java/lang/String
      39: dup
      40: iconst_0
      41: aload_1
      42: aastore
      43: dup
      44: iconst_1
      45: ldc           #13                 // String requests
      47: aastore
      48: invokestatic  #14                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/String;[Ljava/lang/String;)Ljava/lang/String;
      51: invokevirtual #15                 // Method com/codahale/metrics/MetricRegistry.timer:(Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      54: putfield      #16                 // Field requestTimer:Lcom/codahale/metrics/Timer;
      57: aload_0
      58: aload         4
      60: ldc           #11                 // String org.graylog2.lookup.adapters
      62: iconst_2
      63: anewarray     #12                 // class java/lang/String
      66: dup
      67: iconst_0
      68: aload_1
      69: aastore
      70: dup
      71: iconst_1
      72: ldc           #17                 // String refresh
      74: aastore
      75: invokestatic  #14                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/String;[Ljava/lang/String;)Ljava/lang/String;
      78: invokevirtual #15                 // Method com/codahale/metrics/MetricRegistry.timer:(Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      81: putfield      #18                 // Field refreshTimer:Lcom/codahale/metrics/Timer;
      84: return

  protected void startUp() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #19                 // Method doStart:()V
       4: goto          52
       7: astore_1
       8: getstatic     #21                 // Field LOG:Lorg/slf4j/Logger;
      11: ldc           #22                 // String Couldn\'t start data adapter <{}/{}/@{}>
      13: iconst_4
      14: anewarray     #23                 // class java/lang/Object
      17: dup
      18: iconst_0
      19: aload_0
      20: invokevirtual #24                 // Method name:()Ljava/lang/String;
      23: aastore
      24: dup
      25: iconst_1
      26: aload_0
      27: invokevirtual #25                 // Method id:()Ljava/lang/String;
      30: aastore
      31: dup
      32: iconst_2
      33: aload_0
      34: invokestatic  #26                 // Method org/graylog2/utilities/ObjectUtils.objectId:(Ljava/lang/Object;)Ljava/lang/String;
      37: aastore
      38: dup
      39: iconst_3
      40: aload_1
      41: aastore
      42: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      47: aload_0
      48: aload_1
      49: invokevirtual #28                 // Method setError:(Ljava/lang/Throwable;)V
      52: return
    Exception table:
       from    to  target type
           0     4     7   Class java/lang/Exception

  protected abstract void doStart() throws java.lang.Exception;

  protected void shutDown() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #29                 // Method doStop:()V
       4: goto          47
       7: astore_1
       8: getstatic     #21                 // Field LOG:Lorg/slf4j/Logger;
      11: ldc           #30                 // String Couldn\'t stop data adapter <{}/{}/@{}>
      13: iconst_4
      14: anewarray     #23                 // class java/lang/Object
      17: dup
      18: iconst_0
      19: aload_0
      20: invokevirtual #24                 // Method name:()Ljava/lang/String;
      23: aastore
      24: dup
      25: iconst_1
      26: aload_0
      27: invokevirtual #25                 // Method id:()Ljava/lang/String;
      30: aastore
      31: dup
      32: iconst_2
      33: aload_0
      34: invokestatic  #26                 // Method org/graylog2/utilities/ObjectUtils.objectId:(Ljava/lang/Object;)Ljava/lang/String;
      37: aastore
      38: dup
      39: iconst_3
      40: aload_1
      41: aastore
      42: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      47: return
    Exception table:
       from    to  target type
           0     4     7   Class java/lang/Exception

  protected abstract void doStop() throws java.lang.Exception;

  public abstract org.joda.time.Duration refreshInterval();

  public void refresh(org.graylog2.plugin.lookup.LookupCachePurge);
    Code:
       0: aload_0
       1: getfield      #18                 // Field refreshTimer:Lcom/codahale/metrics/Timer;
       4: invokevirtual #31                 // Method com/codahale/metrics/Timer.time:()Lcom/codahale/metrics/Timer$Context;
       7: astore_2
       8: aconst_null
       9: astore_3
      10: aload_0
      11: aload_1
      12: invokevirtual #32                 // Method doRefresh:(Lorg/graylog2/plugin/lookup/LookupCachePurge;)V
      15: aload_2
      16: ifnull        49
      19: aload_3
      20: aload_2
      21: invokestatic  #33                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      24: goto          49
      27: astore        4
      29: aload         4
      31: astore_3
      32: aload         4
      34: athrow
      35: astore        5
      37: aload_2
      38: ifnull        46
      41: aload_3
      42: aload_2
      43: invokestatic  #33                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      46: aload         5
      48: athrow
      49: goto          92
      52: astore_2
      53: getstatic     #21                 // Field LOG:Lorg/slf4j/Logger;
      56: ldc           #34                 // String Couldn\'t refresh data adapter <{}/{}/@{}>
      58: iconst_4
      59: anewarray     #23                 // class java/lang/Object
      62: dup
      63: iconst_0
      64: aload_0
      65: invokevirtual #24                 // Method name:()Ljava/lang/String;
      68: aastore
      69: dup
      70: iconst_1
      71: aload_0
      72: invokevirtual #25                 // Method id:()Ljava/lang/String;
      75: aastore
      76: dup
      77: iconst_2
      78: aload_0
      79: invokestatic  #26                 // Method org/graylog2/utilities/ObjectUtils.objectId:(Ljava/lang/Object;)Ljava/lang/String;
      82: aastore
      83: dup
      84: iconst_3
      85: aload_2
      86: aastore
      87: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      92: return
    Exception table:
       from    to  target type
          10    15    27   Class java/lang/Throwable
          10    15    35   any
          27    37    35   any
           0    49    52   Class java/lang/Exception

  protected abstract void doRefresh(org.graylog2.plugin.lookup.LookupCachePurge) throws java.lang.Exception;

  protected void clearError();
    Code:
       0: aload_0
       1: getfield      #7                  // Field dataSourceError:Ljava/util/concurrent/atomic/AtomicReference;
       4: aconst_null
       5: invokevirtual #35                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
       8: return

  public java.util.Optional<java.lang.Throwable> getError();
    Code:
       0: aload_0
       1: getfield      #7                  // Field dataSourceError:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #36                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: checkcast     #2                  // class java/lang/Throwable
      10: invokestatic  #37                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      13: areturn

  protected void setError(java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #7                  // Field dataSourceError:Ljava/util/concurrent/atomic/AtomicReference;
       4: aload_1
       5: invokevirtual #35                 // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
       8: return

  public java.lang.String id();
    Code:
       0: aload_0
       1: getfield      #8                  // Field id:Ljava/lang/String;
       4: areturn

  public java.lang.String name();
    Code:
       0: aload_0
       1: getfield      #9                  // Field name:Ljava/lang/String;
       4: areturn

  public org.graylog2.plugin.lookup.LookupResult get(java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method state:()Lcom/google/common/util/concurrent/Service$State;
       4: getstatic     #39                 // Field com/google/common/util/concurrent/Service$State.FAILED:Lcom/google/common/util/concurrent/Service$State;
       7: if_acmpne     14
      10: invokestatic  #40                 // Method org/graylog2/plugin/lookup/LookupResult.empty:()Lorg/graylog2/plugin/lookup/LookupResult;
      13: areturn
      14: aload_0
      15: invokevirtual #41                 // Method isRunning:()Z
      18: ldc           #42                 // String Data adapter needs to be started before it can be used
      20: invokestatic  #43                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      23: aload_0
      24: getfield      #16                 // Field requestTimer:Lcom/codahale/metrics/Timer;
      27: invokevirtual #31                 // Method com/codahale/metrics/Timer.time:()Lcom/codahale/metrics/Timer$Context;
      30: astore_2
      31: aconst_null
      32: astore_3
      33: aload_0
      34: aload_1
      35: invokevirtual #44                 // Method doGet:(Ljava/lang/Object;)Lorg/graylog2/plugin/lookup/LookupResult;
      38: astore        4
      40: aload_2
      41: ifnull        49
      44: aload_3
      45: aload_2
      46: invokestatic  #33                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      49: aload         4
      51: areturn
      52: astore        4
      54: aload         4
      56: astore_3
      57: aload         4
      59: athrow
      60: astore        5
      62: aload_2
      63: ifnull        71
      66: aload_3
      67: aload_2
      68: invokestatic  #33                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      71: aload         5
      73: athrow
    Exception table:
       from    to  target type
          33    40    52   Class java/lang/Throwable
          33    40    60   any
          52    62    60   any

  protected abstract org.graylog2.plugin.lookup.LookupResult doGet(java.lang.Object);

  public abstract void set(java.lang.Object, java.lang.Object);

  public org.graylog2.plugin.lookup.LookupDataAdapterConfiguration getConfig();
    Code:
       0: aload_0
       1: getfield      #10                 // Field config:Lorg/graylog2/plugin/lookup/LookupDataAdapterConfiguration;
       4: areturn

  private static void $closeResource(java.lang.Throwable, java.lang.AutoCloseable);
    Code:
       0: aload_0
       1: ifnull        22
       4: aload_1
       5: invokeinterface #1,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      10: goto          28
      13: astore_2
      14: aload_0
      15: aload_2
      16: invokevirtual #3                  // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      19: goto          28
      22: aload_1
      23: invokeinterface #1,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      28: return
    Exception table:
       from    to  target type
           4    10    13   Class java/lang/Throwable

  static {};
    Code:
       0: ldc           #45                 // class org/graylog2/plugin/lookup/LookupDataAdapter
       2: invokestatic  #46                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #21                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
