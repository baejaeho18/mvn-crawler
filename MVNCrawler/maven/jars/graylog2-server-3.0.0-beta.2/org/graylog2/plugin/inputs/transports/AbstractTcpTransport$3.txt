Compiled from "AbstractTcpTransport.java"
class org.graylog2.plugin.inputs.transports.AbstractTcpTransport$3 implements java.util.concurrent.Callable<io.netty.channel.ChannelHandler> {
  final org.graylog2.plugin.inputs.MessageInput val$input;

  final io.netty.handler.ssl.ClientAuth val$clientAuth;

  final java.io.File val$clientAuthCertFile;

  final java.io.File val$certFile;

  final java.io.File val$keyFile;

  final java.lang.String val$password;

  final io.netty.handler.ssl.SslProvider val$tlsProvider;

  final org.graylog2.plugin.inputs.transports.AbstractTcpTransport this$0;

  org.graylog2.plugin.inputs.transports.AbstractTcpTransport$3(org.graylog2.plugin.inputs.transports.AbstractTcpTransport, org.graylog2.plugin.inputs.MessageInput, io.netty.handler.ssl.ClientAuth, java.io.File, java.io.File, java.io.File, java.lang.String, io.netty.handler.ssl.SslProvider);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/graylog2/plugin/inputs/transports/AbstractTcpTransport;
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field val$input:Lorg/graylog2/plugin/inputs/MessageInput;
      10: aload_0
      11: aload_3
      12: putfield      #3                  // Field val$clientAuth:Lio/netty/handler/ssl/ClientAuth;
      15: aload_0
      16: aload         4
      18: putfield      #4                  // Field val$clientAuthCertFile:Ljava/io/File;
      21: aload_0
      22: aload         5
      24: putfield      #5                  // Field val$certFile:Ljava/io/File;
      27: aload_0
      28: aload         6
      30: putfield      #6                  // Field val$keyFile:Ljava/io/File;
      33: aload_0
      34: aload         7
      36: putfield      #7                  // Field val$password:Ljava/lang/String;
      39: aload_0
      40: aload         8
      42: putfield      #8                  // Field val$tlsProvider:Lio/netty/handler/ssl/SslProvider;
      45: aload_0
      46: invokespecial #9                  // Method java/lang/Object."<init>":()V
      49: return

  public io.netty.channel.ChannelHandler call() throws java.lang.Exception;
    Code:
       0: new           #10                 // class io/netty/handler/ssl/SslHandler
       3: dup
       4: aload_0
       5: aload_0
       6: getfield      #2                  // Field val$input:Lorg/graylog2/plugin/inputs/MessageInput;
       9: invokespecial #11                 // Method createSslEngine:(Lorg/graylog2/plugin/inputs/MessageInput;)Ljavax/net/ssl/SSLEngine;
      12: invokespecial #12                 // Method io/netty/handler/ssl/SslHandler."<init>":(Ljavax/net/ssl/SSLEngine;)V
      15: areturn
      16: astore_1
      17: invokestatic  #14                 // Method org/graylog2/plugin/inputs/transports/AbstractTcpTransport.access$200:()Lorg/slf4j/Logger;
      20: ldc           #15                 // String Error creating SSL context. Make sure the certificate and key are in the correct format: cert=X.509 key=PKCS#8
      22: invokeinterface #16,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      27: aload_1
      28: athrow
    Exception table:
       from    to  target type
           0    15    16   Class javax/net/ssl/SSLException

  private javax.net.ssl.SSLEngine createSslEngine(org.graylog2.plugin.inputs.MessageInput) throws java.io.IOException, java.security.cert.CertificateException;
    Code:
       0: getstatic     #17                 // Field io/netty/handler/ssl/ClientAuth.OPTIONAL:Lio/netty/handler/ssl/ClientAuth;
       3: getstatic     #18                 // Field io/netty/handler/ssl/ClientAuth.REQUIRE:Lio/netty/handler/ssl/ClientAuth;
       6: invokestatic  #19                 // Method java/util/EnumSet.of:(Ljava/lang/Enum;Ljava/lang/Enum;)Ljava/util/EnumSet;
       9: aload_0
      10: getfield      #3                  // Field val$clientAuth:Lio/netty/handler/ssl/ClientAuth;
      13: invokevirtual #20                 // Method java/util/EnumSet.contains:(Ljava/lang/Object;)Z
      16: ifeq          104
      19: aload_0
      20: getfield      #4                  // Field val$clientAuthCertFile:Ljava/io/File;
      23: invokevirtual #21                 // Method java/io/File.exists:()Z
      26: ifeq          81
      29: aload_0
      30: getfield      #4                  // Field val$clientAuthCertFile:Ljava/io/File;
      33: invokevirtual #22                 // Method java/io/File.toPath:()Ljava/nio/file/Path;
      36: invokestatic  #23                 // Method org/graylog2/plugin/inputs/transports/util/KeyUtil.loadCertificates:(Ljava/nio/file/Path;)Ljava/util/Collection;
      39: invokeinterface #24,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
      44: invokedynamic #25,  0             // InvokeDynamic #0:test:()Ljava/util/function/Predicate;
      49: invokeinterface #26,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      54: invokedynamic #27,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      59: invokeinterface #28,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      64: invokedynamic #29,  0             // InvokeDynamic #2:apply:()Ljava/util/function/IntFunction;
      69: invokeinterface #30,  2           // InterfaceMethod java/util/stream/Stream.toArray:(Ljava/util/function/IntFunction;)[Ljava/lang/Object;
      74: checkcast     #31                 // class "[Ljava/security/cert/X509Certificate;"
      77: astore_2
      78: goto          106
      81: invokestatic  #14                 // Method org/graylog2/plugin/inputs/transports/AbstractTcpTransport.access$200:()Lorg/slf4j/Logger;
      84: ldc           #32                 // String Client auth configured, but no authorized certificates / certificate authorities configured for input [{}/{}]
      86: aload_1
      87: invokevirtual #33                 // Method org/graylog2/plugin/inputs/MessageInput.getName:()Ljava/lang/String;
      90: aload_1
      91: invokevirtual #34                 // Method org/graylog2/plugin/inputs/MessageInput.getId:()Ljava/lang/String;
      94: invokeinterface #35,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      99: aconst_null
     100: astore_2
     101: goto          106
     104: aconst_null
     105: astore_2
     106: aload_0
     107: getfield      #5                  // Field val$certFile:Ljava/io/File;
     110: aload_0
     111: getfield      #6                  // Field val$keyFile:Ljava/io/File;
     114: aload_0
     115: getfield      #7                  // Field val$password:Ljava/lang/String;
     118: invokestatic  #36                 // Method com/google/common/base/Strings.emptyToNull:(Ljava/lang/String;)Ljava/lang/String;
     121: invokestatic  #37                 // Method io/netty/handler/ssl/SslContextBuilder.forServer:(Ljava/io/File;Ljava/io/File;Ljava/lang/String;)Lio/netty/handler/ssl/SslContextBuilder;
     124: aload_0
     125: getfield      #8                  // Field val$tlsProvider:Lio/netty/handler/ssl/SslProvider;
     128: invokevirtual #38                 // Method io/netty/handler/ssl/SslContextBuilder.sslProvider:(Lio/netty/handler/ssl/SslProvider;)Lio/netty/handler/ssl/SslContextBuilder;
     131: aload_0
     132: getfield      #3                  // Field val$clientAuth:Lio/netty/handler/ssl/ClientAuth;
     135: invokevirtual #39                 // Method io/netty/handler/ssl/SslContextBuilder.clientAuth:(Lio/netty/handler/ssl/ClientAuth;)Lio/netty/handler/ssl/SslContextBuilder;
     138: aload_2
     139: invokevirtual #40                 // Method io/netty/handler/ssl/SslContextBuilder.trustManager:([Ljava/security/cert/X509Certificate;)Lio/netty/handler/ssl/SslContextBuilder;
     142: invokevirtual #41                 // Method io/netty/handler/ssl/SslContextBuilder.build:()Lio/netty/handler/ssl/SslContext;
     145: astore_3
     146: aload_3
     147: getstatic     #42                 // Field io/netty/buffer/ByteBufAllocator.DEFAULT:Lio/netty/buffer/ByteBufAllocator;
     150: invokevirtual #43                 // Method io/netty/handler/ssl/SslContext.newEngine:(Lio/netty/buffer/ByteBufAllocator;)Ljavax/net/ssl/SSLEngine;
     153: areturn

  public java.lang.Object call() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #44                 // Method call:()Lio/netty/channel/ChannelHandler;
       4: areturn

  private static java.security.cert.X509Certificate[] lambda$createSslEngine$2(int);
    Code:
       0: iload_0
       1: anewarray     #45                 // class java/security/cert/X509Certificate
       4: areturn

  private static java.security.cert.X509Certificate lambda$createSslEngine$1(java.security.cert.Certificate);
    Code:
       0: aload_0
       1: checkcast     #45                 // class java/security/cert/X509Certificate
       4: areturn

  private static boolean lambda$createSslEngine$0(java.security.cert.Certificate);
    Code:
       0: aload_0
       1: instanceof    #45                 // class java/security/cert/X509Certificate
       4: ireturn
}
