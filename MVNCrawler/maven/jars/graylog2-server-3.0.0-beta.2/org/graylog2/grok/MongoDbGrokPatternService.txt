Compiled from "MongoDbGrokPatternService.java"
public class org.graylog2.grok.MongoDbGrokPatternService implements org.graylog2.grok.GrokPatternService {
  public static final java.lang.String COLLECTION_NAME;

  public static final java.lang.String INDEX_NAME;

  private static final org.slf4j.Logger log;

  private final org.mongojack.JacksonDBCollection<org.graylog2.grok.GrokPattern, org.bson.types.ObjectId> dbCollection;

  private final org.graylog2.events.ClusterEventBus clusterBus;

  protected org.graylog2.grok.MongoDbGrokPatternService(org.graylog2.database.MongoConnection, org.graylog2.bindings.providers.MongoJackObjectMapperProvider, org.graylog2.events.ClusterEventBus);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: invokeinterface #2,  1            // InterfaceMethod org/graylog2/database/MongoConnection.getDatabase:()Lcom/mongodb/DB;
      11: ldc           #4                  // String grok_patterns
      13: invokevirtual #5                  // Method com/mongodb/DB.getCollection:(Ljava/lang/String;)Lcom/mongodb/DBCollection;
      16: ldc           #6                  // class org/graylog2/grok/GrokPattern
      18: ldc           #7                  // class org/bson/types/ObjectId
      20: aload_2
      21: invokevirtual #8                  // Method org/graylog2/bindings/providers/MongoJackObjectMapperProvider.get:()Lcom/fasterxml/jackson/databind/ObjectMapper;
      24: invokestatic  #9                  // Method org/mongojack/JacksonDBCollection.wrap:(Lcom/mongodb/DBCollection;Ljava/lang/Class;Ljava/lang/Class;Lcom/fasterxml/jackson/databind/ObjectMapper;)Lorg/mongojack/JacksonDBCollection;
      27: putfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
      30: aload_0
      31: aload_3
      32: putfield      #11                 // Field clusterBus:Lorg/graylog2/events/ClusterEventBus;
      35: return

  private static void createIndex(org.graylog2.database.MongoConnection);
    Code:
       0: new           #12                 // class com/mongodb/client/model/IndexOptions
       3: dup
       4: invokespecial #13                 // Method com/mongodb/client/model/IndexOptions."<init>":()V
       7: ldc           #14                 // String idx_name_asc_unique
       9: invokevirtual #15                 // Method com/mongodb/client/model/IndexOptions.name:(Ljava/lang/String;)Lcom/mongodb/client/model/IndexOptions;
      12: iconst_1
      13: invokevirtual #16                 // Method com/mongodb/client/model/IndexOptions.unique:(Z)Lcom/mongodb/client/model/IndexOptions;
      16: astore_1
      17: aload_0
      18: invokeinterface #17,  1           // InterfaceMethod org/graylog2/database/MongoConnection.getMongoDatabase:()Lcom/mongodb/client/MongoDatabase;
      23: ldc           #4                  // String grok_patterns
      25: invokeinterface #18,  2           // InterfaceMethod com/mongodb/client/MongoDatabase.getCollection:(Ljava/lang/String;)Lcom/mongodb/client/MongoCollection;
      30: iconst_1
      31: anewarray     #19                 // class java/lang/String
      34: dup
      35: iconst_0
      36: ldc           #20                 // String name
      38: aastore
      39: invokestatic  #21                 // Method com/mongodb/client/model/Indexes.ascending:([Ljava/lang/String;)Lorg/bson/conversions/Bson;
      42: aload_1
      43: invokeinterface #22,  3           // InterfaceMethod com/mongodb/client/MongoCollection.createIndex:(Lorg/bson/conversions/Bson;Lcom/mongodb/client/model/IndexOptions;)Ljava/lang/String;
      48: pop
      49: return

  public org.graylog2.grok.GrokPattern load(java.lang.String) throws org.graylog2.database.NotFoundException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
       4: new           #7                  // class org/bson/types/ObjectId
       7: dup
       8: aload_1
       9: invokespecial #23                 // Method org/bson/types/ObjectId."<init>":(Ljava/lang/String;)V
      12: invokevirtual #24                 // Method org/mongojack/JacksonDBCollection.findOneById:(Ljava/lang/Object;)Ljava/lang/Object;
      15: checkcast     #6                  // class org/graylog2/grok/GrokPattern
      18: astore_2
      19: aload_2
      20: ifnonnull     50
      23: new           #25                 // class org/graylog2/database/NotFoundException
      26: dup
      27: new           #26                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
      34: ldc           #28                 // String Couldn\'t find Grok pattern with ID
      36: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_1
      40: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokespecial #31                 // Method org/graylog2/database/NotFoundException."<init>":(Ljava/lang/String;)V
      49: athrow
      50: aload_2
      51: areturn

  public java.util.Optional<org.graylog2.grok.GrokPattern> loadByName(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
       4: ldc           #20                 // String name
       6: aload_1
       7: invokestatic  #32                 // Method org/mongojack/DBQuery.is:(Ljava/lang/String;Ljava/lang/Object;)Lorg/mongojack/DBQuery$Query;
      10: invokevirtual #33                 // Method org/mongojack/JacksonDBCollection.findOne:(Lorg/mongojack/DBQuery$Query;)Ljava/lang/Object;
      13: checkcast     #6                  // class org/graylog2/grok/GrokPattern
      16: astore_2
      17: aload_2
      18: invokestatic  #34                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      21: areturn

  public java.util.Set<org.graylog2.grok.GrokPattern> bulkLoad(java.util.Collection<java.lang.String>);
    Code:
       0: aload_0
       1: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
       4: ldc           #35                 // String _id
       6: aload_1
       7: invokestatic  #36                 // Method org/mongojack/DBQuery.in:(Ljava/lang/String;Ljava/util/Collection;)Lorg/mongojack/DBQuery$Query;
      10: invokevirtual #37                 // Method org/mongojack/JacksonDBCollection.find:(Lorg/mongojack/DBQuery$Query;)Lorg/mongojack/DBCursor;
      13: astore_2
      14: aload_2
      15: invokestatic  #38                 // Method com/google/common/collect/ImmutableSet.copyOf:(Ljava/util/Iterator;)Lcom/google/common/collect/ImmutableSet;
      18: areturn

  public java.util.Set<org.graylog2.grok.GrokPattern> loadAll();
    Code:
       0: aload_0
       1: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
       4: invokevirtual #39                 // Method org/mongojack/JacksonDBCollection.find:()Lorg/mongojack/DBCursor;
       7: astore_1
       8: aconst_null
       9: astore_2
      10: aload_1
      11: invokestatic  #38                 // Method com/google/common/collect/ImmutableSet.copyOf:(Ljava/util/Iterator;)Lcom/google/common/collect/ImmutableSet;
      14: astore_3
      15: aload_1
      16: ifnull        45
      19: aload_2
      20: ifnull        41
      23: aload_1
      24: invokevirtual #40                 // Method org/mongojack/DBCursor.close:()V
      27: goto          45
      30: astore        4
      32: aload_2
      33: aload         4
      35: invokevirtual #42                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      38: goto          45
      41: aload_1
      42: invokevirtual #40                 // Method org/mongojack/DBCursor.close:()V
      45: aload_3
      46: areturn
      47: astore_3
      48: aload_3
      49: astore_2
      50: aload_3
      51: athrow
      52: astore        5
      54: aload_1
      55: ifnull        84
      58: aload_2
      59: ifnull        80
      62: aload_1
      63: invokevirtual #40                 // Method org/mongojack/DBCursor.close:()V
      66: goto          84
      69: astore        6
      71: aload_2
      72: aload         6
      74: invokevirtual #42                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      77: goto          84
      80: aload_1
      81: invokevirtual #40                 // Method org/mongojack/DBCursor.close:()V
      84: aload         5
      86: athrow
    Exception table:
       from    to  target type
          23    27    30   Class java/lang/Throwable
          10    15    47   Class java/lang/Throwable
          10    15    52   any
          62    66    69   Class java/lang/Throwable
          47    54    52   any

  public org.graylog2.grok.GrokPattern save(org.graylog2.grok.GrokPattern) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #43                 // Method validate:(Lorg/graylog2/grok/GrokPattern;)Z
       5: ifne          35
       8: new           #44                 // class org/graylog2/plugin/database/ValidationException
      11: dup
      12: new           #26                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #45                 // String Invalid pattern
      21: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_1
      25: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: invokespecial #47                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      34: athrow
      35: goto          78
      38: astore_2
      39: new           #44                 // class org/graylog2/plugin/database/ValidationException
      42: dup
      43: new           #26                 // class java/lang/StringBuilder
      46: dup
      47: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
      50: ldc           #45                 // String Invalid pattern
      52: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_1
      56: invokevirtual #46                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      59: ldc           #50                 // String \n
      61: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: aload_2
      65: invokevirtual #51                 // Method java/lang/RuntimeException.getMessage:()Ljava/lang/String;
      68: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      74: invokespecial #47                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      77: athrow
      78: aload_0
      79: aload_1
      80: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      83: invokevirtual #53                 // Method loadByName:(Ljava/lang/String;)Ljava/util/Optional;
      86: invokevirtual #54                 // Method java/util/Optional.isPresent:()Z
      89: ifeq          127
      92: new           #44                 // class org/graylog2/plugin/database/ValidationException
      95: dup
      96: new           #26                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     103: ldc           #55                 // String Grok pattern
     105: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload_1
     109: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
     112: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: ldc           #56                 // String  already exists
     117: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: invokespecial #47                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
     126: athrow
     127: aload_0
     128: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
     131: aload_1
     132: invokevirtual #57                 // Method org/mongojack/JacksonDBCollection.save:(Ljava/lang/Object;)Lorg/mongojack/WriteResult;
     135: astore_2
     136: aload_2
     137: invokevirtual #58                 // Method org/mongojack/WriteResult.getSavedObject:()Ljava/lang/Object;
     140: checkcast     #6                  // class org/graylog2/grok/GrokPattern
     143: astore_3
     144: aload_0
     145: getfield      #11                 // Field clusterBus:Lorg/graylog2/events/ClusterEventBus;
     148: aload_3
     149: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
     152: invokestatic  #59                 // Method com/google/common/collect/ImmutableSet.of:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet;
     155: invokestatic  #60                 // Method org/graylog2/grok/GrokPatternsUpdatedEvent.create:(Ljava/util/Set;)Lorg/graylog2/grok/GrokPatternsUpdatedEvent;
     158: invokevirtual #61                 // Method org/graylog2/events/ClusterEventBus.post:(Ljava/lang/Object;)V
     161: aload_3
     162: areturn
    Exception table:
       from    to  target type
           0    35    38   Class io/krakens/grok/api/exception/GrokException
           0    35    38   Class java/util/regex/PatternSyntaxException

  public java.util.List<org.graylog2.grok.GrokPattern> saveAll(java.util.Collection<org.graylog2.grok.GrokPattern>, boolean) throws org.graylog2.plugin.database.ValidationException;
    Code:
       0: iload_2
       1: ifne          98
       4: aload_0
       5: invokevirtual #62                 // Method loadAll:()Ljava/util/Set;
       8: invokeinterface #63,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      13: astore_3
      14: aload_3
      15: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          98
      23: aload_3
      24: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      29: checkcast     #6                  // class org/graylog2/grok/GrokPattern
      32: astore        4
      34: aload_1
      35: invokeinterface #66,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
      40: aload         4
      42: invokedynamic #67,  0             // InvokeDynamic #0:test:(Lorg/graylog2/grok/GrokPattern;)Ljava/util/function/Predicate;
      47: invokeinterface #68,  2           // InterfaceMethod java/util/stream/Stream.anyMatch:(Ljava/util/function/Predicate;)Z
      52: istore        5
      54: iload         5
      56: ifeq          95
      59: new           #44                 // class org/graylog2/plugin/database/ValidationException
      62: dup
      63: new           #26                 // class java/lang/StringBuilder
      66: dup
      67: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
      70: ldc           #55                 // String Grok pattern
      72: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload         4
      77: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      80: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: ldc           #56                 // String  already exists
      85: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      91: invokespecial #47                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
      94: athrow
      95: goto          14
      98: aload_0
      99: aload_1
     100: invokevirtual #69                 // Method validateAll:(Ljava/util/Collection;)Z
     103: ifne          116
     106: new           #44                 // class org/graylog2/plugin/database/ValidationException
     109: dup
     110: ldc           #70                 // String Invalid patterns
     112: invokespecial #47                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
     115: athrow
     116: goto          150
     119: astore_3
     120: new           #44                 // class org/graylog2/plugin/database/ValidationException
     123: dup
     124: new           #26                 // class java/lang/StringBuilder
     127: dup
     128: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     131: ldc           #71                 // String Invalid patterns.\n
     133: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: aload_3
     137: invokevirtual #51                 // Method java/lang/RuntimeException.getMessage:()Ljava/lang/String;
     140: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     146: invokespecial #47                 // Method org/graylog2/plugin/database/ValidationException."<init>":(Ljava/lang/String;)V
     149: athrow
     150: iload_2
     151: ifeq          159
     154: aload_0
     155: invokevirtual #72                 // Method deleteAll:()I
     158: pop
     159: invokestatic  #73                 // Method com/google/common/collect/ImmutableList.builder:()Lcom/google/common/collect/ImmutableList$Builder;
     162: astore_3
     163: invokestatic  #74                 // Method com/google/common/collect/ImmutableSet.builder:()Lcom/google/common/collect/ImmutableSet$Builder;
     166: astore        4
     168: aload_1
     169: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     174: astore        5
     176: aload         5
     178: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     183: ifeq          240
     186: aload         5
     188: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     193: checkcast     #6                  // class org/graylog2/grok/GrokPattern
     196: astore        6
     198: aload_0
     199: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
     202: aload         6
     204: invokevirtual #57                 // Method org/mongojack/JacksonDBCollection.save:(Ljava/lang/Object;)Lorg/mongojack/WriteResult;
     207: astore        7
     209: aload         7
     211: invokevirtual #58                 // Method org/mongojack/WriteResult.getSavedObject:()Ljava/lang/Object;
     214: checkcast     #6                  // class org/graylog2/grok/GrokPattern
     217: astore        8
     219: aload_3
     220: aload         8
     222: invokevirtual #76                 // Method com/google/common/collect/ImmutableList$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableList$Builder;
     225: pop
     226: aload         4
     228: aload         8
     230: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
     233: invokevirtual #77                 // Method com/google/common/collect/ImmutableSet$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet$Builder;
     236: pop
     237: goto          176
     240: aload_3
     241: invokevirtual #78                 // Method com/google/common/collect/ImmutableList$Builder.build:()Lcom/google/common/collect/ImmutableList;
     244: areturn
    Exception table:
       from    to  target type
          98   116   119   Class io/krakens/grok/api/exception/GrokException
          98   116   119   Class java/util/regex/PatternSyntaxException

  public java.util.Map<java.lang.String, java.lang.Object> match(org.graylog2.grok.GrokPattern, java.lang.String) throws io.krakens.grok.api.exception.GrokException;
    Code:
       0: aload_0
       1: invokevirtual #62                 // Method loadAll:()Ljava/util/Set;
       4: astore_3
       5: invokestatic  #79                 // Method io/krakens/grok/api/GrokCompiler.newInstance:()Lio/krakens/grok/api/GrokCompiler;
       8: astore        4
      10: aload_3
      11: invokeinterface #63,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      16: astore        5
      18: aload         5
      20: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      25: ifeq          58
      28: aload         5
      30: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #6                  // class org/graylog2/grok/GrokPattern
      38: astore        6
      40: aload         4
      42: aload         6
      44: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      47: aload         6
      49: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      52: invokevirtual #81                 // Method io/krakens/grok/api/GrokCompiler.register:(Ljava/lang/String;Ljava/lang/String;)V
      55: goto          18
      58: aload         4
      60: aload_1
      61: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      64: aload_1
      65: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      68: invokevirtual #81                 // Method io/krakens/grok/api/GrokCompiler.register:(Ljava/lang/String;Ljava/lang/String;)V
      71: aload         4
      73: new           #26                 // class java/lang/StringBuilder
      76: dup
      77: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
      80: ldc           #82                 // String %{
      82: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: aload_1
      86: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      89: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: ldc           #83                 // String }
      94: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: invokevirtual #84                 // Method io/krakens/grok/api/GrokCompiler.compile:(Ljava/lang/String;)Lio/krakens/grok/api/Grok;
     103: astore        5
     105: aload         5
     107: aload_2
     108: invokevirtual #85                 // Method io/krakens/grok/api/Grok.capture:(Ljava/lang/String;)Ljava/util/Map;
     111: areturn

  public boolean validate(org.graylog2.grok.GrokPattern) throws io.krakens.grok.api.exception.GrokException;
    Code:
       0: aload_1
       1: ldc           #86                 // String A pattern must be given
       3: invokestatic  #87                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_0
       8: invokevirtual #62                 // Method loadAll:()Ljava/util/Set;
      11: astore_2
      12: aload_1
      13: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      16: invokestatic  #88                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      19: ifne          32
      22: aload_1
      23: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      26: invokestatic  #88                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      29: ifeq          36
      32: iconst_1
      33: goto          37
      36: iconst_0
      37: istore_3
      38: invokestatic  #79                 // Method io/krakens/grok/api/GrokCompiler.newInstance:()Lio/krakens/grok/api/GrokCompiler;
      41: astore        4
      43: aload_2
      44: invokeinterface #63,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      49: astore        5
      51: aload         5
      53: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifeq          91
      61: aload         5
      63: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      68: checkcast     #6                  // class org/graylog2/grok/GrokPattern
      71: astore        6
      73: aload         4
      75: aload         6
      77: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      80: aload         6
      82: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      85: invokevirtual #81                 // Method io/krakens/grok/api/GrokCompiler.register:(Ljava/lang/String;Ljava/lang/String;)V
      88: goto          51
      91: aload         4
      93: aload_1
      94: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      97: aload_1
      98: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
     101: invokevirtual #81                 // Method io/krakens/grok/api/GrokCompiler.register:(Ljava/lang/String;Ljava/lang/String;)V
     104: aload         4
     106: new           #26                 // class java/lang/StringBuilder
     109: dup
     110: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     113: ldc           #82                 // String %{
     115: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: aload_1
     119: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
     122: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     125: ldc           #83                 // String }
     127: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     133: invokevirtual #84                 // Method io/krakens/grok/api/GrokCompiler.compile:(Ljava/lang/String;)Lio/krakens/grok/api/Grok;
     136: pop
     137: iload_3
     138: ifne          145
     141: iconst_1
     142: goto          146
     145: iconst_0
     146: ireturn

  public boolean validateAll(java.util.Collection<org.graylog2.grok.GrokPattern>) throws io.krakens.grok.api.exception.GrokException;
    Code:
       0: aload_0
       1: invokevirtual #62                 // Method loadAll:()Ljava/util/Set;
       4: astore_2
       5: invokestatic  #79                 // Method io/krakens/grok/api/GrokCompiler.newInstance:()Lio/krakens/grok/api/GrokCompiler;
       8: astore_3
       9: aload_1
      10: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      15: astore        4
      17: aload         4
      19: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          92
      27: aload         4
      29: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #6                  // class org/graylog2/grok/GrokPattern
      37: astore        5
      39: aload         5
      41: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      44: invokestatic  #88                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      47: ifne          61
      50: aload         5
      52: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      55: invokestatic  #88                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      58: ifeq          65
      61: iconst_1
      62: goto          66
      65: iconst_0
      66: istore        6
      68: iload         6
      70: ifeq          75
      73: iconst_0
      74: ireturn
      75: aload_3
      76: aload         5
      78: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      81: aload         5
      83: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
      86: invokevirtual #81                 // Method io/krakens/grok/api/GrokCompiler.register:(Ljava/lang/String;Ljava/lang/String;)V
      89: goto          17
      92: aload_2
      93: invokeinterface #63,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      98: astore        4
     100: aload         4
     102: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     107: ifeq          139
     110: aload         4
     112: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     117: checkcast     #6                  // class org/graylog2/grok/GrokPattern
     120: astore        5
     122: aload_3
     123: aload         5
     125: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
     128: aload         5
     130: invokevirtual #80                 // Method org/graylog2/grok/GrokPattern.pattern:()Ljava/lang/String;
     133: invokevirtual #81                 // Method io/krakens/grok/api/GrokCompiler.register:(Ljava/lang/String;Ljava/lang/String;)V
     136: goto          100
     139: aload_1
     140: invokeinterface #75,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     145: astore        4
     147: aload         4
     149: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     154: ifeq          205
     157: aload         4
     159: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     164: checkcast     #6                  // class org/graylog2/grok/GrokPattern
     167: astore        5
     169: aload_3
     170: new           #26                 // class java/lang/StringBuilder
     173: dup
     174: invokespecial #27                 // Method java/lang/StringBuilder."<init>":()V
     177: ldc           #82                 // String %{
     179: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: aload         5
     184: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
     187: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     190: ldc           #83                 // String }
     192: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     195: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     198: invokevirtual #84                 // Method io/krakens/grok/api/GrokCompiler.compile:(Ljava/lang/String;)Lio/krakens/grok/api/Grok;
     201: pop
     202: goto          147
     205: iconst_1
     206: ireturn

  public int delete(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #89                 // Method load:(Ljava/lang/String;)Lorg/graylog2/grok/GrokPattern;
       5: astore_2
       6: goto          24
       9: astore_3
      10: getstatic     #90                 // Field log:Lorg/slf4j/Logger;
      13: ldc           #91                 // String Couldn\'t find grok pattern with ID <{}> for deletion
      15: aload_1
      16: aload_3
      17: invokeinterface #92,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: iconst_0
      23: ireturn
      24: new           #7                  // class org/bson/types/ObjectId
      27: dup
      28: aload_1
      29: invokespecial #23                 // Method org/bson/types/ObjectId."<init>":(Ljava/lang/String;)V
      32: astore_3
      33: aload_2
      34: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
      37: astore        4
      39: aload_0
      40: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
      43: aload_3
      44: invokevirtual #93                 // Method org/mongojack/JacksonDBCollection.removeById:(Ljava/lang/Object;)Lorg/mongojack/WriteResult;
      47: invokevirtual #94                 // Method org/mongojack/WriteResult.getN:()I
      50: istore        5
      52: aload_0
      53: getfield      #11                 // Field clusterBus:Lorg/graylog2/events/ClusterEventBus;
      56: aload         4
      58: invokestatic  #59                 // Method com/google/common/collect/ImmutableSet.of:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet;
      61: invokestatic  #95                 // Method org/graylog2/grok/GrokPatternsDeletedEvent.create:(Ljava/util/Set;)Lorg/graylog2/grok/GrokPatternsDeletedEvent;
      64: invokevirtual #61                 // Method org/graylog2/events/ClusterEventBus.post:(Ljava/lang/Object;)V
      67: iload         5
      69: ireturn
    Exception table:
       from    to  target type
           0     6     9   Class org/graylog2/database/NotFoundException

  public int deleteAll();
    Code:
       0: aload_0
       1: invokevirtual #62                 // Method loadAll:()Ljava/util/Set;
       4: astore_1
       5: aload_1
       6: invokeinterface #96,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      11: invokedynamic #97,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      16: invokeinterface #98,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      21: invokestatic  #99                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      24: invokeinterface #100,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      29: checkcast     #101                // class java/util/Set
      32: astore_2
      33: aload_0
      34: getfield      #10                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
      37: invokestatic  #102                // Method org/mongojack/DBQuery.empty:()Lorg/mongojack/DBQuery$Query;
      40: invokevirtual #103                // Method org/mongojack/JacksonDBCollection.remove:(Lorg/mongojack/DBQuery$Query;)Lorg/mongojack/WriteResult;
      43: invokevirtual #94                 // Method org/mongojack/WriteResult.getN:()I
      46: istore_3
      47: aload_0
      48: getfield      #11                 // Field clusterBus:Lorg/graylog2/events/ClusterEventBus;
      51: aload_2
      52: invokestatic  #95                 // Method org/graylog2/grok/GrokPatternsDeletedEvent.create:(Ljava/util/Set;)Lorg/graylog2/grok/GrokPatternsDeletedEvent;
      55: invokevirtual #61                 // Method org/graylog2/events/ClusterEventBus.post:(Ljava/lang/Object;)V
      58: iload_3
      59: ireturn

  private static boolean lambda$saveAll$0(org.graylog2.grok.GrokPattern, org.graylog2.grok.GrokPattern);
    Code:
       0: aload_1
       1: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
       4: aload_0
       5: invokevirtual #52                 // Method org/graylog2/grok/GrokPattern.name:()Ljava/lang/String;
       8: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      11: ireturn

  static {};
    Code:
       0: ldc           #3                  // class org/graylog2/grok/MongoDbGrokPatternService
       2: invokestatic  #105                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #90                 // Field log:Lorg/slf4j/Logger;
       8: return
}
