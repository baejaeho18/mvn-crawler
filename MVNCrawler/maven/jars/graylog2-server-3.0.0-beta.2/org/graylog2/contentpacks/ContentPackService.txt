Compiled from "ContentPackService.java"
public class org.graylog2.contentpacks.ContentPackService {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.contentpacks.ContentPackInstallationPersistenceService contentPackInstallationPersistenceService;

  private final java.util.Set<org.graylog2.contentpacks.constraints.ConstraintChecker> constraintCheckers;

  private final java.util.Map<org.graylog2.contentpacks.model.ModelType, org.graylog2.contentpacks.facades.EntityFacade<?>> entityFacades;

  public org.graylog2.contentpacks.ContentPackService(org.graylog2.contentpacks.ContentPackInstallationPersistenceService, java.util.Set<org.graylog2.contentpacks.constraints.ConstraintChecker>, java.util.Map<org.graylog2.contentpacks.model.ModelType, org.graylog2.contentpacks.facades.EntityFacade<?>>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field contentPackInstallationPersistenceService:Lorg/graylog2/contentpacks/ContentPackInstallationPersistenceService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field constraintCheckers:Ljava/util/Set;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field entityFacades:Ljava/util/Map;
      19: return

  public org.graylog2.contentpacks.model.ContentPackInstallation installContentPack(org.graylog2.contentpacks.model.ContentPack, java.util.Map<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference>, java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: instanceof    #5                  // class org/graylog2/contentpacks/model/ContentPackV1
       4: ifeq          20
       7: aload_0
       8: aload_1
       9: checkcast     #5                  // class org/graylog2/contentpacks/model/ContentPackV1
      12: aload_2
      13: aload_3
      14: aload         4
      16: invokespecial #6                  // Method installContentPack:(Lorg/graylog2/contentpacks/model/ContentPackV1;Ljava/util/Map;Ljava/lang/String;Ljava/lang/String;)Lorg/graylog2/contentpacks/model/ContentPackInstallation;
      19: areturn
      20: new           #7                  // class java/lang/IllegalArgumentException
      23: dup
      24: new           #8                  // class java/lang/StringBuilder
      27: dup
      28: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      31: ldc           #10                 // String Unsupported content pack version:
      33: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: aload_1
      37: invokeinterface #12,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.version:()Lorg/graylog2/contentpacks/model/ModelVersion;
      42: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      45: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokespecial #15                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      51: athrow

  private org.graylog2.contentpacks.model.ContentPackInstallation installContentPack(org.graylog2.contentpacks.model.ContentPackV1, java.util.Map<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference>, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #16                 // Method org/graylog2/contentpacks/model/ContentPackV1.constraints:()Ljava/util/Set;
       5: invokespecial #17                 // Method ensureConstraints:(Ljava/util/Set;)V
       8: aload_1
       9: invokestatic  #18                 // Method org/graylog2/contentpacks/model/entities/EntityV1.createRoot:(Lorg/graylog2/contentpacks/model/ContentPack;)Lorg/graylog2/contentpacks/model/entities/Entity;
      12: astore        5
      14: aload_0
      15: aload_2
      16: aload_1
      17: invokevirtual #19                 // Method org/graylog2/contentpacks/model/ContentPackV1.parameters:()Lcom/google/common/collect/ImmutableSet;
      20: invokespecial #20                 // Method validateParameters:(Ljava/util/Map;Ljava/util/Set;)Lcom/google/common/collect/ImmutableMap;
      23: astore        6
      25: aload_0
      26: aload         5
      28: aload_1
      29: invokevirtual #21                 // Method org/graylog2/contentpacks/model/ContentPackV1.entities:()Lcom/google/common/collect/ImmutableSet;
      32: aload         6
      34: invokespecial #22                 // Method buildEntityGraph:(Lorg/graylog2/contentpacks/model/entities/Entity;Ljava/util/Set;Ljava/util/Map;)Lcom/google/common/graph/ImmutableGraph;
      37: astore        7
      39: aload         7
      41: invokestatic  #23                 // Method com/google/common/graph/Traverser.forGraph:(Lcom/google/common/graph/SuccessorsFunction;)Lcom/google/common/graph/Traverser;
      44: astore        8
      46: aload         8
      48: aload         5
      50: invokevirtual #24                 // Method com/google/common/graph/Traverser.depthFirstPostOrder:(Ljava/lang/Object;)Ljava/lang/Iterable;
      53: astore        9
      55: new           #25                 // class java/util/LinkedHashMap
      58: dup
      59: invokespecial #26                 // Method java/util/LinkedHashMap."<init>":()V
      62: astore        10
      64: new           #27                 // class java/util/HashMap
      67: dup
      68: invokespecial #28                 // Method java/util/HashMap."<init>":()V
      71: astore        11
      73: invokestatic  #29                 // Method com/google/common/collect/ImmutableSet.builder:()Lcom/google/common/collect/ImmutableSet$Builder;
      76: astore        12
      78: aload         9
      80: invokeinterface #30,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      85: astore        13
      87: aload         13
      89: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      94: ifeq          299
      97: aload         13
      99: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     104: checkcast     #33                 // class org/graylog2/contentpacks/model/entities/Entity
     107: astore        14
     109: aload         14
     111: aload         5
     113: invokevirtual #34                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     116: ifeq          122
     119: goto          87
     122: aload         14
     124: invokeinterface #35,  1           // InterfaceMethod org/graylog2/contentpacks/model/entities/Entity.toEntityDescriptor:()Lorg/graylog2/contentpacks/model/entities/EntityDescriptor;
     129: astore        15
     131: aload_0
     132: getfield      #4                  // Field entityFacades:Ljava/util/Map;
     135: aload         14
     137: invokeinterface #36,  1           // InterfaceMethod org/graylog2/contentpacks/model/entities/Entity.type:()Lorg/graylog2/contentpacks/model/ModelType;
     142: getstatic     #37                 // Field org/graylog2/contentpacks/facades/UnsupportedEntityFacade.INSTANCE:Lorg/graylog2/contentpacks/facades/UnsupportedEntityFacade;
     145: invokeinterface #38,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     150: checkcast     #39                 // class org/graylog2/contentpacks/facades/EntityFacade
     153: astore        16
     155: aload         16
     157: aload         14
     159: aload_2
     160: invokeinterface #40,  3           // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.findExisting:(Lorg/graylog2/contentpacks/model/entities/Entity;Ljava/util/Map;)Ljava/util/Optional;
     165: astore        17
     167: aload         17
     169: invokevirtual #41                 // Method java/util/Optional.isPresent:()Z
     172: ifeq          226
     175: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     178: ldc           #43                 // String Found existing entity for {}
     180: aload         15
     182: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     187: aload         17
     189: invokevirtual #45                 // Method java/util/Optional.get:()Ljava/lang/Object;
     192: checkcast     #46                 // class org/graylog2/contentpacks/model/entities/NativeEntity
     195: astore        18
     197: aload         12
     199: aload         18
     201: invokevirtual #47                 // Method org/graylog2/contentpacks/model/entities/NativeEntity.descriptor:()Lorg/graylog2/contentpacks/model/entities/NativeEntityDescriptor;
     204: invokevirtual #48                 // Method com/google/common/collect/ImmutableSet$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet$Builder;
     207: pop
     208: aload         11
     210: aload         15
     212: aload         18
     214: invokevirtual #49                 // Method org/graylog2/contentpacks/model/entities/NativeEntity.entity:()Ljava/lang/Object;
     217: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     222: pop
     223: goto          296
     226: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     229: ldc           #51                 // String Creating new entity for {}
     231: aload         15
     233: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     238: aload         16
     240: aload         14
     242: aload         6
     244: aload         11
     246: aload         4
     248: invokeinterface #52,  5           // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.createNativeEntity:(Lorg/graylog2/contentpacks/model/entities/Entity;Ljava/util/Map;Ljava/util/Map;Ljava/lang/String;)Lorg/graylog2/contentpacks/model/entities/NativeEntity;
     253: astore        18
     255: aload         12
     257: aload         18
     259: invokevirtual #47                 // Method org/graylog2/contentpacks/model/entities/NativeEntity.descriptor:()Lorg/graylog2/contentpacks/model/entities/NativeEntityDescriptor;
     262: invokevirtual #48                 // Method com/google/common/collect/ImmutableSet$Builder.add:(Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet$Builder;
     265: pop
     266: aload         10
     268: aload         15
     270: aload         18
     272: invokevirtual #49                 // Method org/graylog2/contentpacks/model/entities/NativeEntity.entity:()Ljava/lang/Object;
     275: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     280: pop
     281: aload         11
     283: aload         15
     285: aload         18
     287: invokevirtual #49                 // Method org/graylog2/contentpacks/model/entities/NativeEntity.entity:()Ljava/lang/Object;
     290: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     295: pop
     296: goto          87
     299: goto          359
     302: astore        13
     304: aload_0
     305: aload         10
     307: invokespecial #54                 // Method rollback:(Ljava/util/Map;)V
     310: new           #55                 // class org/graylog2/contentpacks/exceptions/ContentPackException
     313: dup
     314: new           #8                  // class java/lang/StringBuilder
     317: dup
     318: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
     321: ldc           #56                 // String Failed to install content pack <
     323: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     326: aload_1
     327: invokevirtual #57                 // Method org/graylog2/contentpacks/model/ContentPackV1.id:()Lorg/graylog2/contentpacks/model/ModelId;
     330: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     333: ldc           #58                 // String /
     335: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     338: aload_1
     339: invokevirtual #59                 // Method org/graylog2/contentpacks/model/ContentPackV1.revision:()I
     342: invokevirtual #60                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     345: ldc           #61                 // String >
     347: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     350: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     353: aload         13
     355: invokespecial #62                 // Method org/graylog2/contentpacks/exceptions/ContentPackException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     358: athrow
     359: invokestatic  #63                 // Method org/graylog2/contentpacks/model/ContentPackInstallation.builder:()Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     362: aload_1
     363: invokevirtual #57                 // Method org/graylog2/contentpacks/model/ContentPackV1.id:()Lorg/graylog2/contentpacks/model/ModelId;
     366: invokevirtual #64                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.contentPackId:(Lorg/graylog2/contentpacks/model/ModelId;)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     369: aload_1
     370: invokevirtual #59                 // Method org/graylog2/contentpacks/model/ContentPackV1.revision:()I
     373: invokevirtual #65                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.contentPackRevision:(I)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     376: aload         6
     378: invokevirtual #66                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.parameters:(Lcom/google/common/collect/ImmutableMap;)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     381: aload_3
     382: invokevirtual #67                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.comment:(Ljava/lang/String;)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     385: aload         12
     387: invokevirtual #68                 // Method com/google/common/collect/ImmutableSet$Builder.build:()Lcom/google/common/collect/ImmutableSet;
     390: invokevirtual #69                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.entities:(Lcom/google/common/collect/ImmutableSet;)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     393: invokestatic  #70                 // Method java/time/Instant.now:()Ljava/time/Instant;
     396: invokevirtual #71                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.createdAt:(Ljava/time/Instant;)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     399: aload         4
     401: invokevirtual #72                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.createdBy:(Ljava/lang/String;)Lorg/graylog2/contentpacks/model/ContentPackInstallation$Builder;
     404: invokevirtual #73                 // Method org/graylog2/contentpacks/model/ContentPackInstallation$Builder.build:()Lorg/graylog2/contentpacks/model/ContentPackInstallation;
     407: astore        13
     409: aload_0
     410: getfield      #2                  // Field contentPackInstallationPersistenceService:Lorg/graylog2/contentpacks/ContentPackInstallationPersistenceService;
     413: aload         13
     415: invokevirtual #74                 // Method org/graylog2/contentpacks/ContentPackInstallationPersistenceService.insert:(Lorg/graylog2/contentpacks/model/ContentPackInstallation;)Lorg/graylog2/contentpacks/model/ContentPackInstallation;
     418: areturn
    Exception table:
       from    to  target type
          78   299   302   Class java/lang/Exception

  private void rollback(java.util.Map<org.graylog2.contentpacks.model.entities.EntityDescriptor, java.lang.Object>);
    Code:
       0: aload_1
       1: invokeinterface #75,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
       6: invokestatic  #76                 // Method com/google/common/collect/ImmutableList.copyOf:(Ljava/util/Collection;)Lcom/google/common/collect/ImmutableList;
       9: astore_2
      10: aload_2
      11: invokevirtual #77                 // Method com/google/common/collect/ImmutableList.reverse:()Lcom/google/common/collect/ImmutableList;
      14: invokevirtual #78                 // Method com/google/common/collect/ImmutableList.iterator:()Lcom/google/common/collect/UnmodifiableIterator;
      17: astore_3
      18: aload_3
      19: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          105
      27: aload_3
      28: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #79                 // class java/util/Map$Entry
      36: astore        4
      38: aload         4
      40: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      45: checkcast     #81                 // class org/graylog2/contentpacks/model/entities/EntityDescriptor
      48: astore        5
      50: aload         4
      52: invokeinterface #82,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      57: astore        6
      59: aload_0
      60: getfield      #4                  // Field entityFacades:Ljava/util/Map;
      63: aload         5
      65: invokevirtual #83                 // Method org/graylog2/contentpacks/model/entities/EntityDescriptor.type:()Lorg/graylog2/contentpacks/model/ModelType;
      68: getstatic     #37                 // Field org/graylog2/contentpacks/facades/UnsupportedEntityFacade.INSTANCE:Lorg/graylog2/contentpacks/facades/UnsupportedEntityFacade;
      71: invokeinterface #38,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      76: checkcast     #39                 // class org/graylog2/contentpacks/facades/EntityFacade
      79: astore        7
      81: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
      84: ldc           #84                 // String Removing entity {}
      86: aload         5
      88: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      93: aload         7
      95: aload         6
      97: invokeinterface #86,  2           // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.delete:(Ljava/lang/Object;)V
     102: goto          18
     105: return

  public org.graylog2.contentpacks.model.ContentPackUninstallDetails getUninstallDetails(org.graylog2.contentpacks.model.ContentPack, org.graylog2.contentpacks.model.ContentPackInstallation);
    Code:
       0: aload_1
       1: instanceof    #5                  // class org/graylog2/contentpacks/model/ContentPackV1
       4: ifeq          17
       7: aload_0
       8: aload_1
       9: checkcast     #5                  // class org/graylog2/contentpacks/model/ContentPackV1
      12: aload_2
      13: invokespecial #87                 // Method getUninstallDetails:(Lorg/graylog2/contentpacks/model/ContentPackV1;Lorg/graylog2/contentpacks/model/ContentPackInstallation;)Lorg/graylog2/contentpacks/model/ContentPackUninstallDetails;
      16: areturn
      17: new           #7                  // class java/lang/IllegalArgumentException
      20: dup
      21: new           #8                  // class java/lang/StringBuilder
      24: dup
      25: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #10                 // String Unsupported content pack version:
      30: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_1
      34: invokeinterface #12,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.version:()Lorg/graylog2/contentpacks/model/ModelVersion;
      39: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      42: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokespecial #15                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      48: athrow

  private org.graylog2.contentpacks.model.ContentPackUninstallDetails getUninstallDetails(org.graylog2.contentpacks.model.ContentPackV1, org.graylog2.contentpacks.model.ContentPackInstallation);
    Code:
       0: aload_1
       1: invokestatic  #18                 // Method org/graylog2/contentpacks/model/entities/EntityV1.createRoot:(Lorg/graylog2/contentpacks/model/ContentPack;)Lorg/graylog2/contentpacks/model/entities/Entity;
       4: astore_3
       5: aload_2
       6: invokevirtual #88                 // Method org/graylog2/contentpacks/model/ContentPackInstallation.parameters:()Lcom/google/common/collect/ImmutableMap;
       9: astore        4
      11: aload_0
      12: aload_3
      13: aload_1
      14: invokevirtual #21                 // Method org/graylog2/contentpacks/model/ContentPackV1.entities:()Lcom/google/common/collect/ImmutableSet;
      17: aload         4
      19: invokespecial #22                 // Method buildEntityGraph:(Lorg/graylog2/contentpacks/model/entities/Entity;Ljava/util/Set;Ljava/util/Map;)Lcom/google/common/graph/ImmutableGraph;
      22: astore        5
      24: aload         5
      26: invokestatic  #23                 // Method com/google/common/graph/Traverser.forGraph:(Lcom/google/common/graph/SuccessorsFunction;)Lcom/google/common/graph/Traverser;
      29: astore        6
      31: aload         6
      33: aload_3
      34: invokevirtual #89                 // Method com/google/common/graph/Traverser.breadthFirst:(Ljava/lang/Object;)Ljava/lang/Iterable;
      37: astore        7
      39: new           #90                 // class java/util/HashSet
      42: dup
      43: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      46: astore        8
      48: aload         7
      50: aload_0
      51: aload_3
      52: aload_2
      53: aload         8
      55: invokedynamic #92,  0             // InvokeDynamic #0:accept:(Lorg/graylog2/contentpacks/ContentPackService;Lorg/graylog2/contentpacks/model/entities/Entity;Lorg/graylog2/contentpacks/model/ContentPackInstallation;Ljava/util/Set;)Ljava/util/function/Consumer;
      60: invokeinterface #93,  2           // InterfaceMethod java/lang/Iterable.forEach:(Ljava/util/function/Consumer;)V
      65: aload         8
      67: invokestatic  #94                 // Method org/graylog2/contentpacks/model/ContentPackUninstallDetails.create:(Ljava/util/Set;)Lorg/graylog2/contentpacks/model/ContentPackUninstallDetails;
      70: areturn

  public org.graylog2.contentpacks.model.ContentPackUninstallation uninstallContentPack(org.graylog2.contentpacks.model.ContentPack, org.graylog2.contentpacks.model.ContentPackInstallation);
    Code:
       0: aload_1
       1: instanceof    #5                  // class org/graylog2/contentpacks/model/ContentPackV1
       4: ifeq          17
       7: aload_0
       8: aload_2
       9: aload_1
      10: checkcast     #5                  // class org/graylog2/contentpacks/model/ContentPackV1
      13: invokespecial #95                 // Method uninstallContentPack:(Lorg/graylog2/contentpacks/model/ContentPackInstallation;Lorg/graylog2/contentpacks/model/ContentPackV1;)Lorg/graylog2/contentpacks/model/ContentPackUninstallation;
      16: areturn
      17: new           #7                  // class java/lang/IllegalArgumentException
      20: dup
      21: new           #8                  // class java/lang/StringBuilder
      24: dup
      25: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      28: ldc           #10                 // String Unsupported content pack version:
      30: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_1
      34: invokeinterface #12,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.version:()Lorg/graylog2/contentpacks/model/ModelVersion;
      39: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      42: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokespecial #15                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      48: athrow

  private org.graylog2.contentpacks.model.ContentPackUninstallation uninstallContentPack(org.graylog2.contentpacks.model.ContentPackInstallation, org.graylog2.contentpacks.model.ContentPackV1);
    Code:
       0: aload_2
       1: invokestatic  #18                 // Method org/graylog2/contentpacks/model/entities/EntityV1.createRoot:(Lorg/graylog2/contentpacks/model/ContentPack;)Lorg/graylog2/contentpacks/model/entities/Entity;
       4: astore_3
       5: aload_1
       6: invokevirtual #88                 // Method org/graylog2/contentpacks/model/ContentPackInstallation.parameters:()Lcom/google/common/collect/ImmutableMap;
       9: astore        4
      11: aload_0
      12: aload_3
      13: aload_2
      14: invokevirtual #21                 // Method org/graylog2/contentpacks/model/ContentPackV1.entities:()Lcom/google/common/collect/ImmutableSet;
      17: aload         4
      19: invokespecial #22                 // Method buildEntityGraph:(Lorg/graylog2/contentpacks/model/entities/Entity;Ljava/util/Set;Ljava/util/Map;)Lcom/google/common/graph/ImmutableGraph;
      22: astore        5
      24: aload         5
      26: invokestatic  #23                 // Method com/google/common/graph/Traverser.forGraph:(Lcom/google/common/graph/SuccessorsFunction;)Lcom/google/common/graph/Traverser;
      29: astore        6
      31: aload         6
      33: aload_3
      34: invokevirtual #89                 // Method com/google/common/graph/Traverser.breadthFirst:(Ljava/lang/Object;)Ljava/lang/Iterable;
      37: astore        7
      39: new           #90                 // class java/util/HashSet
      42: dup
      43: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      46: astore        8
      48: new           #90                 // class java/util/HashSet
      51: dup
      52: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      55: astore        9
      57: new           #90                 // class java/util/HashSet
      60: dup
      61: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      64: astore        10
      66: aload         7
      68: invokeinterface #30,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      73: astore        11
      75: aload         11
      77: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      82: ifeq          327
      85: aload         11
      87: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      92: checkcast     #33                 // class org/graylog2/contentpacks/model/entities/Entity
      95: astore        12
      97: aload         12
      99: aload_3
     100: invokevirtual #34                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
     103: ifeq          109
     106: goto          75
     109: aload_1
     110: invokevirtual #96                 // Method org/graylog2/contentpacks/model/ContentPackInstallation.entities:()Lcom/google/common/collect/ImmutableSet;
     113: invokevirtual #97                 // Method com/google/common/collect/ImmutableSet.stream:()Ljava/util/stream/Stream;
     116: aload         12
     118: invokedynamic #98,  0             // InvokeDynamic #1:test:(Lorg/graylog2/contentpacks/model/entities/Entity;)Ljava/util/function/Predicate;
     123: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
     128: invokeinterface #100,  1          // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
     133: astore        13
     135: aload_0
     136: getfield      #4                  // Field entityFacades:Ljava/util/Map;
     139: aload         12
     141: invokeinterface #36,  1           // InterfaceMethod org/graylog2/contentpacks/model/entities/Entity.type:()Lorg/graylog2/contentpacks/model/ModelType;
     146: getstatic     #37                 // Field org/graylog2/contentpacks/facades/UnsupportedEntityFacade.INSTANCE:Lorg/graylog2/contentpacks/facades/UnsupportedEntityFacade;
     149: invokeinterface #38,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     154: checkcast     #39                 // class org/graylog2/contentpacks/facades/EntityFacade
     157: astore        14
     159: aload         13
     161: invokevirtual #41                 // Method java/util/Optional.isPresent:()Z
     164: ifeq          324
     167: aload         13
     169: invokevirtual #45                 // Method java/util/Optional.get:()Ljava/lang/Object;
     172: checkcast     #101                // class org/graylog2/contentpacks/model/entities/NativeEntityDescriptor
     175: astore        15
     177: aload         14
     179: aload         15
     181: invokeinterface #102,  2          // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.loadNativeEntity:(Lorg/graylog2/contentpacks/model/entities/NativeEntityDescriptor;)Ljava/util/Optional;
     186: astore        16
     188: aload_0
     189: getfield      #2                  // Field contentPackInstallationPersistenceService:Lorg/graylog2/contentpacks/ContentPackInstallationPersistenceService;
     192: aload         15
     194: invokevirtual #103                // Method org/graylog2/contentpacks/model/entities/NativeEntityDescriptor.contentPackEntityId:()Lorg/graylog2/contentpacks/model/ModelId;
     197: invokevirtual #104                // Method org/graylog2/contentpacks/ContentPackInstallationPersistenceService.countInstallationOfEntityById:(Lorg/graylog2/contentpacks/model/ModelId;)J
     200: lconst_1
     201: lcmp
     202: ifle          230
     205: aload         10
     207: aload         15
     209: invokeinterface #105,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     214: pop
     215: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     218: ldc           #106                // String Did not remove entity since other content pack installations still use them: {}
     220: aload         15
     222: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     227: goto          324
     230: aload         16
     232: invokevirtual #41                 // Method java/util/Optional.isPresent:()Z
     235: ifeq          312
     238: aload         16
     240: invokevirtual #45                 // Method java/util/Optional.get:()Ljava/lang/Object;
     243: astore        17
     245: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     248: ldc           #107                // String Removing existing native entity for {} ({})
     250: aload         15
     252: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     257: aload         14
     259: aload         17
     261: checkcast     #46                 // class org/graylog2/contentpacks/model/entities/NativeEntity
     264: invokevirtual #49                 // Method org/graylog2/contentpacks/model/entities/NativeEntity.entity:()Ljava/lang/Object;
     267: invokeinterface #86,  2           // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.delete:(Ljava/lang/Object;)V
     272: aload         8
     274: aload         15
     276: invokeinterface #105,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     281: pop
     282: goto          309
     285: astore        18
     287: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     290: ldc           #108                // String Couldn\'t remove native entity {}
     292: aload         17
     294: invokeinterface #109,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     299: aload         9
     301: aload         15
     303: invokeinterface #105,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     308: pop
     309: goto          324
     312: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     315: ldc           #110                // String Couldn\'t find existing native entity for {} ({})
     317: aload         15
     319: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     324: goto          75
     327: goto          381
     330: astore        11
     332: new           #55                 // class org/graylog2/contentpacks/exceptions/ContentPackException
     335: dup
     336: new           #8                  // class java/lang/StringBuilder
     339: dup
     340: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
     343: ldc           #111                // String Failed to remove content pack <
     345: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     348: aload_2
     349: invokevirtual #57                 // Method org/graylog2/contentpacks/model/ContentPackV1.id:()Lorg/graylog2/contentpacks/model/ModelId;
     352: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     355: ldc           #58                 // String /
     357: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     360: aload_2
     361: invokevirtual #59                 // Method org/graylog2/contentpacks/model/ContentPackV1.revision:()I
     364: invokevirtual #60                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     367: ldc           #61                 // String >
     369: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     372: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     375: aload         11
     377: invokespecial #62                 // Method org/graylog2/contentpacks/exceptions/ContentPackException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     380: athrow
     381: aload_0
     382: getfield      #2                  // Field contentPackInstallationPersistenceService:Lorg/graylog2/contentpacks/ContentPackInstallationPersistenceService;
     385: aload_1
     386: invokevirtual #112                // Method org/graylog2/contentpacks/model/ContentPackInstallation.id:()Lorg/bson/types/ObjectId;
     389: invokevirtual #113                // Method org/graylog2/contentpacks/ContentPackInstallationPersistenceService.deleteById:(Lorg/bson/types/ObjectId;)I
     392: istore        11
     394: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     397: ldc           #114                // String Deleted {} installation(s) of content pack {}
     399: iload         11
     401: invokestatic  #115                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     404: aload_2
     405: invokevirtual #57                 // Method org/graylog2/contentpacks/model/ContentPackV1.id:()Lorg/graylog2/contentpacks/model/ModelId;
     408: invokeinterface #116,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     413: invokestatic  #117                // Method org/graylog2/contentpacks/model/ContentPackUninstallation.builder:()Lorg/graylog2/contentpacks/model/ContentPackUninstallation$Builder;
     416: aload         8
     418: invokestatic  #118                // Method com/google/common/collect/ImmutableSet.copyOf:(Ljava/util/Collection;)Lcom/google/common/collect/ImmutableSet;
     421: invokevirtual #119                // Method org/graylog2/contentpacks/model/ContentPackUninstallation$Builder.entities:(Lcom/google/common/collect/ImmutableSet;)Lorg/graylog2/contentpacks/model/ContentPackUninstallation$Builder;
     424: aload         10
     426: invokestatic  #118                // Method com/google/common/collect/ImmutableSet.copyOf:(Ljava/util/Collection;)Lcom/google/common/collect/ImmutableSet;
     429: invokevirtual #120                // Method org/graylog2/contentpacks/model/ContentPackUninstallation$Builder.skippedEntities:(Lcom/google/common/collect/ImmutableSet;)Lorg/graylog2/contentpacks/model/ContentPackUninstallation$Builder;
     432: aload         9
     434: invokestatic  #118                // Method com/google/common/collect/ImmutableSet.copyOf:(Ljava/util/Collection;)Lcom/google/common/collect/ImmutableSet;
     437: invokevirtual #121                // Method org/graylog2/contentpacks/model/ContentPackUninstallation$Builder.failedEntities:(Lcom/google/common/collect/ImmutableSet;)Lorg/graylog2/contentpacks/model/ContentPackUninstallation$Builder;
     440: invokevirtual #122                // Method org/graylog2/contentpacks/model/ContentPackUninstallation$Builder.build:()Lorg/graylog2/contentpacks/model/ContentPackUninstallation;
     443: areturn
    Exception table:
       from    to  target type
         257   282   285   Class java/lang/Exception
          66   327   330   Class java/lang/Exception

  public java.util.Set<org.graylog2.contentpacks.model.entities.EntityExcerpt> listAllEntityExcerpts();
    Code:
       0: invokestatic  #29                 // Method com/google/common/collect/ImmutableSet.builder:()Lcom/google/common/collect/ImmutableSet$Builder;
       3: astore_1
       4: aload_0
       5: getfield      #4                  // Field entityFacades:Ljava/util/Map;
       8: invokeinterface #123,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      13: aload_1
      14: invokedynamic #124,  0            // InvokeDynamic #2:accept:(Lcom/google/common/collect/ImmutableSet$Builder;)Ljava/util/function/Consumer;
      19: invokeinterface #125,  2          // InterfaceMethod java/util/Collection.forEach:(Ljava/util/function/Consumer;)V
      24: aload_1
      25: invokevirtual #68                 // Method com/google/common/collect/ImmutableSet$Builder.build:()Lcom/google/common/collect/ImmutableSet;
      28: areturn

  public java.util.Set<org.graylog2.contentpacks.model.entities.EntityDescriptor> resolveEntities(java.util.Collection<org.graylog2.contentpacks.model.entities.EntityDescriptor>);
    Code:
       0: invokestatic  #126                // Method com/google/common/graph/GraphBuilder.directed:()Lcom/google/common/graph/GraphBuilder;
       3: iconst_0
       4: invokevirtual #127                // Method com/google/common/graph/GraphBuilder.allowsSelfLoops:(Z)Lcom/google/common/graph/GraphBuilder;
       7: invokestatic  #128                // Method com/google/common/graph/ElementOrder.insertion:()Lcom/google/common/graph/ElementOrder;
      10: invokevirtual #129                // Method com/google/common/graph/GraphBuilder.nodeOrder:(Lcom/google/common/graph/ElementOrder;)Lcom/google/common/graph/GraphBuilder;
      13: invokevirtual #130                // Method com/google/common/graph/GraphBuilder.build:()Lcom/google/common/graph/MutableGraph;
      16: astore_2
      17: aload_1
      18: aload_2
      19: dup
      20: invokestatic  #131                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      23: pop
      24: invokedynamic #132,  0            // InvokeDynamic #3:accept:(Lcom/google/common/graph/MutableGraph;)Ljava/util/function/Consumer;
      29: invokeinterface #125,  2          // InterfaceMethod java/util/Collection.forEach:(Ljava/util/function/Consumer;)V
      34: new           #90                 // class java/util/HashSet
      37: dup
      38: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      41: astore_3
      42: aload_0
      43: aload_2
      44: aload_3
      45: invokespecial #133                // Method resolveDependencyGraph:(Lcom/google/common/graph/Graph;Ljava/util/Set;)Lcom/google/common/graph/MutableGraph;
      48: astore        4
      50: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
      53: ldc           #134                // String Final dependency graph: {}
      55: aload         4
      57: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      62: aload         4
      64: invokeinterface #135,  1          // InterfaceMethod com/google/common/graph/MutableGraph.nodes:()Ljava/util/Set;
      69: areturn

  private com.google.common.graph.MutableGraph<org.graylog2.contentpacks.model.entities.EntityDescriptor> resolveDependencyGraph(com.google.common.graph.Graph<org.graylog2.contentpacks.model.entities.EntityDescriptor>, java.util.Set<org.graylog2.contentpacks.model.entities.EntityDescriptor>);
    Code:
       0: aload_1
       1: invokestatic  #136                // Method com/google/common/graph/GraphBuilder.from:(Lcom/google/common/graph/Graph;)Lcom/google/common/graph/GraphBuilder;
       4: invokevirtual #130                // Method com/google/common/graph/GraphBuilder.build:()Lcom/google/common/graph/MutableGraph;
       7: astore_3
       8: aload_3
       9: aload_1
      10: invokestatic  #137                // Method org/graylog2/utilities/Graphs.merge:(Lcom/google/common/graph/MutableGraph;Lcom/google/common/graph/Graph;)V
      13: aload_1
      14: invokeinterface #138,  1          // InterfaceMethod com/google/common/graph/Graph.nodes:()Ljava/util/Set;
      19: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      24: astore        4
      26: aload         4
      28: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          176
      36: aload         4
      38: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      43: checkcast     #81                 // class org/graylog2/contentpacks/model/entities/EntityDescriptor
      46: astore        5
      48: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
      51: ldc           #140                // String Resolving entity {}
      53: aload         5
      55: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      60: aload_2
      61: aload         5
      63: invokeinterface #141,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      68: ifeq          86
      71: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
      74: ldc           #142                // String Entity {} already resolved, skipping.
      76: aload         5
      78: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      83: goto          26
      86: aload_0
      87: getfield      #4                  // Field entityFacades:Ljava/util/Map;
      90: aload         5
      92: invokevirtual #83                 // Method org/graylog2/contentpacks/model/entities/EntityDescriptor.type:()Lorg/graylog2/contentpacks/model/ModelType;
      95: getstatic     #37                 // Field org/graylog2/contentpacks/facades/UnsupportedEntityFacade.INSTANCE:Lorg/graylog2/contentpacks/facades/UnsupportedEntityFacade;
      98: invokeinterface #38,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     103: checkcast     #39                 // class org/graylog2/contentpacks/facades/EntityFacade
     106: astore        6
     108: aload         6
     110: aload         5
     112: invokeinterface #143,  2          // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.resolveNativeEntity:(Lorg/graylog2/contentpacks/model/entities/EntityDescriptor;)Lcom/google/common/graph/Graph;
     117: astore        7
     119: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     122: ldc           #144                // String Dependencies of entity {}: {}
     124: aload         5
     126: aload         7
     128: invokeinterface #145,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     133: aload_3
     134: aload         7
     136: invokestatic  #137                // Method org/graylog2/utilities/Graphs.merge:(Lcom/google/common/graph/MutableGraph;Lcom/google/common/graph/Graph;)V
     139: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     142: ldc           #146                // String New dependency graph: {}
     144: aload_3
     145: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     150: aload_2
     151: aload         5
     153: invokeinterface #105,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     158: pop
     159: aload_0
     160: aload_3
     161: aload_2
     162: invokespecial #133                // Method resolveDependencyGraph:(Lcom/google/common/graph/Graph;Ljava/util/Set;)Lcom/google/common/graph/MutableGraph;
     165: astore        8
     167: aload_3
     168: aload         8
     170: invokestatic  #137                // Method org/graylog2/utilities/Graphs.merge:(Lcom/google/common/graph/MutableGraph;Lcom/google/common/graph/Graph;)V
     173: goto          26
     176: aload_3
     177: areturn

  public com.google.common.collect.ImmutableSet<org.graylog2.contentpacks.model.entities.Entity> collectEntities(java.util.Collection<org.graylog2.contentpacks.model.entities.EntityDescriptor>);
    Code:
       0: aload_1
       1: invokestatic  #147                // Method org/graylog2/contentpacks/EntityDescriptorIds.of:(Ljava/util/Collection;)Lorg/graylog2/contentpacks/EntityDescriptorIds;
       4: astore_2
       5: invokestatic  #29                 // Method com/google/common/collect/ImmutableSet.builder:()Lcom/google/common/collect/ImmutableSet$Builder;
       8: astore_3
       9: aload_1
      10: invokeinterface #148,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      15: astore        4
      17: aload         4
      19: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          88
      27: aload         4
      29: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #81                 // class org/graylog2/contentpacks/model/entities/EntityDescriptor
      37: astore        5
      39: aload_0
      40: getfield      #4                  // Field entityFacades:Ljava/util/Map;
      43: aload         5
      45: invokevirtual #83                 // Method org/graylog2/contentpacks/model/entities/EntityDescriptor.type:()Lorg/graylog2/contentpacks/model/ModelType;
      48: getstatic     #37                 // Field org/graylog2/contentpacks/facades/UnsupportedEntityFacade.INSTANCE:Lorg/graylog2/contentpacks/facades/UnsupportedEntityFacade;
      51: invokeinterface #38,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      56: checkcast     #39                 // class org/graylog2/contentpacks/facades/EntityFacade
      59: astore        6
      61: aload         6
      63: aload         5
      65: aload_2
      66: invokeinterface #149,  3          // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.exportEntity:(Lorg/graylog2/contentpacks/model/entities/EntityDescriptor;Lorg/graylog2/contentpacks/EntityDescriptorIds;)Ljava/util/Optional;
      71: aload_3
      72: dup
      73: invokestatic  #131                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      76: pop
      77: invokedynamic #150,  0            // InvokeDynamic #4:accept:(Lcom/google/common/collect/ImmutableSet$Builder;)Ljava/util/function/Consumer;
      82: invokevirtual #151                // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
      85: goto          17
      88: aload_3
      89: invokevirtual #68                 // Method com/google/common/collect/ImmutableSet$Builder.build:()Lcom/google/common/collect/ImmutableSet;
      92: areturn

  private com.google.common.graph.ImmutableGraph<org.graylog2.contentpacks.model.entities.Entity> buildEntityGraph(org.graylog2.contentpacks.model.entities.Entity, java.util.Set<org.graylog2.contentpacks.model.entities.Entity>, java.util.Map<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference>);
    Code:
       0: aload_2
       1: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
       6: invokedynamic #153,  0            // InvokeDynamic #5:apply:()Ljava/util/function/Function;
      11: invokestatic  #154                // InterfaceMethod java/util/function/Function.identity:()Ljava/util/function/Function;
      14: invokestatic  #155                // Method java/util/stream/Collectors.toMap:(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;
      17: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      22: checkcast     #157                // class java/util/Map
      25: astore        4
      27: invokestatic  #126                // Method com/google/common/graph/GraphBuilder.directed:()Lcom/google/common/graph/GraphBuilder;
      30: iconst_0
      31: invokevirtual #127                // Method com/google/common/graph/GraphBuilder.allowsSelfLoops:(Z)Lcom/google/common/graph/GraphBuilder;
      34: aload_2
      35: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
      40: invokevirtual #159                // Method com/google/common/graph/GraphBuilder.expectedNodeCount:(I)Lcom/google/common/graph/GraphBuilder;
      43: invokevirtual #130                // Method com/google/common/graph/GraphBuilder.build:()Lcom/google/common/graph/MutableGraph;
      46: astore        5
      48: aload         4
      50: invokeinterface #75,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      55: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      60: astore        6
      62: aload         6
      64: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      69: ifeq          193
      72: aload         6
      74: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      79: checkcast     #79                 // class java/util/Map$Entry
      82: astore        7
      84: aload         7
      86: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      91: checkcast     #81                 // class org/graylog2/contentpacks/model/entities/EntityDescriptor
      94: astore        8
      96: aload         7
      98: invokeinterface #82,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     103: checkcast     #33                 // class org/graylog2/contentpacks/model/entities/Entity
     106: astore        9
     108: aload_0
     109: getfield      #4                  // Field entityFacades:Ljava/util/Map;
     112: aload         9
     114: invokeinterface #36,  1           // InterfaceMethod org/graylog2/contentpacks/model/entities/Entity.type:()Lorg/graylog2/contentpacks/model/ModelType;
     119: getstatic     #37                 // Field org/graylog2/contentpacks/facades/UnsupportedEntityFacade.INSTANCE:Lorg/graylog2/contentpacks/facades/UnsupportedEntityFacade;
     122: invokeinterface #38,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     127: checkcast     #39                 // class org/graylog2/contentpacks/facades/EntityFacade
     130: astore        10
     132: aload         10
     134: aload         9
     136: aload_3
     137: aload         4
     139: invokeinterface #160,  4          // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.resolveForInstallation:(Lorg/graylog2/contentpacks/model/entities/Entity;Ljava/util/Map;Ljava/util/Map;)Lcom/google/common/graph/Graph;
     144: astore        11
     146: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     149: ldc           #144                // String Dependencies of entity {}: {}
     151: aload         8
     153: aload         11
     155: invokeinterface #145,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     160: aload         5
     162: aload_1
     163: aload         9
     165: invokeinterface #161,  3          // InterfaceMethod com/google/common/graph/MutableGraph.putEdge:(Ljava/lang/Object;Ljava/lang/Object;)Z
     170: pop
     171: aload         5
     173: aload         11
     175: invokestatic  #137                // Method org/graylog2/utilities/Graphs.merge:(Lcom/google/common/graph/MutableGraph;Lcom/google/common/graph/Graph;)V
     178: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
     181: ldc           #146                // String New dependency graph: {}
     183: aload         5
     185: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     190: goto          62
     193: aload         5
     195: invokeinterface #135,  1          // InterfaceMethod com/google/common/graph/MutableGraph.nodes:()Ljava/util/Set;
     200: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
     205: aload_1
     206: invokedynamic #162,  0            // InvokeDynamic #6:test:(Lorg/graylog2/contentpacks/model/entities/Entity;)Ljava/util/function/Predicate;
     211: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
     216: aload_2
     217: invokedynamic #163,  0            // InvokeDynamic #7:test:(Ljava/util/Set;)Ljava/util/function/Predicate;
     222: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
     227: invokestatic  #164                // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
     230: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     235: checkcast     #165                // class java/util/Set
     238: astore        6
     240: aload         6
     242: invokeinterface #166,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     247: ifne          260
     250: new           #167                // class org/graylog2/contentpacks/exceptions/UnexpectedEntitiesException
     253: dup
     254: aload         6
     256: invokespecial #168                // Method org/graylog2/contentpacks/exceptions/UnexpectedEntitiesException."<init>":(Ljava/util/Collection;)V
     259: athrow
     260: aload         5
     262: invokestatic  #169                // Method com/google/common/graph/ImmutableGraph.copyOf:(Lcom/google/common/graph/Graph;)Lcom/google/common/graph/ImmutableGraph;
     265: areturn

  private void ensureConstraints(java.util.Set<org.graylog2.contentpacks.model.constraints.Constraint>);
    Code:
       0: new           #90                 // class java/util/HashSet
       3: dup
       4: invokespecial #91                 // Method java/util/HashSet."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #3                  // Field constraintCheckers:Ljava/util/Set;
      12: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      17: astore_3
      18: aload_3
      19: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          56
      27: aload_3
      28: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #170                // class org/graylog2/contentpacks/constraints/ConstraintChecker
      36: astore        4
      38: aload_2
      39: aload         4
      41: aload_1
      42: invokeinterface #171,  2          // InterfaceMethod org/graylog2/contentpacks/constraints/ConstraintChecker.ensureConstraints:(Ljava/util/Collection;)Ljava/util/Set;
      47: invokeinterface #172,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      52: pop
      53: goto          18
      56: aload_2
      57: aload_1
      58: invokeinterface #173,  2          // InterfaceMethod java/util/Set.equals:(Ljava/lang/Object;)Z
      63: ifne          81
      66: aload_1
      67: aload_2
      68: invokestatic  #174                // Method com/google/common/collect/Sets.difference:(Ljava/util/Set;Ljava/util/Set;)Lcom/google/common/collect/Sets$SetView;
      71: astore_3
      72: new           #175                // class org/graylog2/contentpacks/exceptions/FailedConstraintsException
      75: dup
      76: aload_3
      77: invokespecial #176                // Method org/graylog2/contentpacks/exceptions/FailedConstraintsException."<init>":(Ljava/util/Collection;)V
      80: athrow
      81: return

  public java.util.Set<org.graylog2.contentpacks.model.constraints.ConstraintCheckResult> checkConstraints(org.graylog2.contentpacks.model.ContentPack);
    Code:
       0: aload_1
       1: instanceof    #5                  // class org/graylog2/contentpacks/model/ContentPackV1
       4: ifeq          16
       7: aload_0
       8: aload_1
       9: checkcast     #5                  // class org/graylog2/contentpacks/model/ContentPackV1
      12: invokespecial #177                // Method checkConstraintsV1:(Lorg/graylog2/contentpacks/model/ContentPackV1;)Ljava/util/Set;
      15: areturn
      16: aload_1
      17: instanceof    #178                // class org/graylog2/contentpacks/model/LegacyContentPack
      20: ifeq          27
      23: invokestatic  #179                // Method java/util/Collections.emptySet:()Ljava/util/Set;
      26: areturn
      27: new           #7                  // class java/lang/IllegalArgumentException
      30: dup
      31: new           #8                  // class java/lang/StringBuilder
      34: dup
      35: invokespecial #9                  // Method java/lang/StringBuilder."<init>":()V
      38: ldc           #10                 // String Unsupported content pack version:
      40: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: aload_1
      44: invokeinterface #12,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.version:()Lorg/graylog2/contentpacks/model/ModelVersion;
      49: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      52: invokevirtual #14                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: invokespecial #15                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      58: athrow

  private java.util.Set<org.graylog2.contentpacks.model.constraints.ConstraintCheckResult> checkConstraintsV1(org.graylog2.contentpacks.model.ContentPackV1);
    Code:
       0: aload_1
       1: invokevirtual #16                 // Method org/graylog2/contentpacks/model/ContentPackV1.constraints:()Ljava/util/Set;
       4: astore_2
       5: new           #90                 // class java/util/HashSet
       8: dup
       9: invokespecial #91                 // Method java/util/HashSet."<init>":()V
      12: astore_3
      13: aload_0
      14: getfield      #3                  // Field constraintCheckers:Ljava/util/Set;
      17: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      22: astore        4
      24: aload         4
      26: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          64
      34: aload         4
      36: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      41: checkcast     #170                // class org/graylog2/contentpacks/constraints/ConstraintChecker
      44: astore        5
      46: aload_3
      47: aload         5
      49: aload_2
      50: invokeinterface #180,  2          // InterfaceMethod org/graylog2/contentpacks/constraints/ConstraintChecker.checkConstraints:(Ljava/util/Collection;)Ljava/util/Set;
      55: invokeinterface #172,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      60: pop
      61: goto          24
      64: aload_3
      65: areturn

  private com.google.common.collect.ImmutableMap<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference> validateParameters(java.util.Map<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference>, java.util.Set<org.graylog2.contentpacks.model.parameters.Parameter>);
    Code:
       0: aload_2
       1: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
       6: invokedynamic #181,  0            // InvokeDynamic #8:apply:()Ljava/util/function/Function;
      11: invokeinterface #182,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      16: invokestatic  #164                // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      19: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      24: checkcast     #165                // class java/util/Set
      27: astore_3
      28: aload_0
      29: aload_1
      30: aload_3
      31: invokespecial #183                // Method checkUnknownParameters:(Ljava/util/Map;Ljava/util/Set;)V
      34: aload_0
      35: aload_1
      36: aload_3
      37: invokespecial #184                // Method checkMissingParameters:(Ljava/util/Map;Ljava/util/Set;)V
      40: aload_2
      41: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      46: invokedynamic #181,  0            // InvokeDynamic #8:apply:()Ljava/util/function/Function;
      51: invokedynamic #185,  0            // InvokeDynamic #9:apply:()Ljava/util/function/Function;
      56: invokestatic  #155                // Method java/util/stream/Collectors.toMap:(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;
      59: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      64: checkcast     #157                // class java/util/Map
      67: astore        4
      69: aload_1
      70: invokeinterface #75,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      75: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      80: aload         4
      82: invokedynamic #186,  0            // InvokeDynamic #10:test:(Ljava/util/Map;)Ljava/util/function/Predicate;
      87: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      92: invokedynamic #187,  0            // InvokeDynamic #11:apply:()Ljava/util/function/Function;
      97: invokeinterface #182,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     102: invokestatic  #164                // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
     105: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     110: checkcast     #165                // class java/util/Set
     113: astore        5
     115: aload         5
     117: invokeinterface #166,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     122: ifne          135
     125: new           #188                // class org/graylog2/contentpacks/exceptions/InvalidParametersException
     128: dup
     129: aload         5
     131: invokespecial #189                // Method org/graylog2/contentpacks/exceptions/InvalidParametersException."<init>":(Ljava/util/Collection;)V
     134: athrow
     135: invokestatic  #190                // Method com/google/common/collect/ImmutableMap.builder:()Lcom/google/common/collect/ImmutableMap$Builder;
     138: astore        6
     140: aload_2
     141: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     146: astore        7
     148: aload         7
     150: invokeinterface #31,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     155: ifeq          304
     158: aload         7
     160: invokeinterface #32,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     165: checkcast     #191                // class org/graylog2/contentpacks/model/parameters/Parameter
     168: astore        8
     170: aload         8
     172: invokeinterface #192,  1          // InterfaceMethod org/graylog2/contentpacks/model/parameters/Parameter.name:()Ljava/lang/String;
     177: astore        9
     179: aload_1
     180: aload         9
     182: invokeinterface #193,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     187: checkcast     #194                // class org/graylog2/contentpacks/model/entities/references/ValueReference
     190: astore        10
     192: aload         10
     194: ifnonnull     256
     197: aload         8
     199: invokeinterface #195,  1          // InterfaceMethod org/graylog2/contentpacks/model/parameters/Parameter.defaultValue:()Ljava/util/Optional;
     204: astore        11
     206: aload         11
     208: aload         9
     210: invokedynamic #196,  0            // InvokeDynamic #12:get:(Ljava/lang/String;)Ljava/util/function/Supplier;
     215: invokevirtual #197                // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
     218: astore        12
     220: invokestatic  #198                // Method org/graylog2/contentpacks/model/entities/references/ValueReference.builder:()Lorg/graylog2/contentpacks/model/entities/references/ValueReference$Builder;
     223: aload         8
     225: invokeinterface #199,  1          // InterfaceMethod org/graylog2/contentpacks/model/parameters/Parameter.valueType:()Lorg/graylog2/contentpacks/model/entities/references/ValueType;
     230: invokevirtual #200                // Method org/graylog2/contentpacks/model/entities/references/ValueReference$Builder.valueType:(Lorg/graylog2/contentpacks/model/entities/references/ValueType;)Lorg/graylog2/contentpacks/model/entities/references/ValueReference$Builder;
     233: aload         12
     235: invokevirtual #201                // Method org/graylog2/contentpacks/model/entities/references/ValueReference$Builder.value:(Ljava/lang/Object;)Lorg/graylog2/contentpacks/model/entities/references/ValueReference$Builder;
     238: invokevirtual #202                // Method org/graylog2/contentpacks/model/entities/references/ValueReference$Builder.build:()Lorg/graylog2/contentpacks/model/entities/references/ValueReference;
     241: astore        13
     243: aload         6
     245: aload         9
     247: aload         13
     249: invokevirtual #203                // Method com/google/common/collect/ImmutableMap$Builder.put:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap$Builder;
     252: pop
     253: goto          301
     256: aload         10
     258: invokevirtual #204                // Method org/graylog2/contentpacks/model/entities/references/ValueReference.valueType:()Lorg/graylog2/contentpacks/model/entities/references/ValueType;
     261: aload         8
     263: invokeinterface #199,  1          // InterfaceMethod org/graylog2/contentpacks/model/parameters/Parameter.valueType:()Lorg/graylog2/contentpacks/model/entities/references/ValueType;
     268: if_acmpeq     291
     271: new           #205                // class org/graylog2/contentpacks/exceptions/InvalidParameterTypeException
     274: dup
     275: aload         8
     277: invokeinterface #199,  1          // InterfaceMethod org/graylog2/contentpacks/model/parameters/Parameter.valueType:()Lorg/graylog2/contentpacks/model/entities/references/ValueType;
     282: aload         10
     284: invokevirtual #204                // Method org/graylog2/contentpacks/model/entities/references/ValueReference.valueType:()Lorg/graylog2/contentpacks/model/entities/references/ValueType;
     287: invokespecial #206                // Method org/graylog2/contentpacks/exceptions/InvalidParameterTypeException."<init>":(Lorg/graylog2/contentpacks/model/entities/references/ValueType;Lorg/graylog2/contentpacks/model/entities/references/ValueType;)V
     290: athrow
     291: aload         6
     293: aload         9
     295: aload         10
     297: invokevirtual #203                // Method com/google/common/collect/ImmutableMap$Builder.put:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap$Builder;
     300: pop
     301: goto          148
     304: aload         6
     306: invokevirtual #207                // Method com/google/common/collect/ImmutableMap$Builder.build:()Lcom/google/common/collect/ImmutableMap;
     309: areturn

  private void checkUnknownParameters(java.util.Map<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference>, java.util.Set<java.lang.String>);
    Code:
       0: aload_2
       1: dup
       2: invokestatic  #131                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
       5: pop
       6: invokedynamic #208,  0            // InvokeDynamic #13:test:(Ljava/util/Set;)Ljava/util/function/Predicate;
      11: astore_3
      12: aload_1
      13: invokeinterface #209,  1          // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      18: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      23: aload_3
      24: invokeinterface #210,  1          // InterfaceMethod java/util/function/Predicate.negate:()Ljava/util/function/Predicate;
      29: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      34: invokestatic  #164                // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      37: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      42: checkcast     #165                // class java/util/Set
      45: astore        4
      47: aload         4
      49: invokeinterface #166,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      54: ifne          69
      57: getstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
      60: ldc           #211                // String Unknown parameters: {}
      62: aload         4
      64: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      69: return

  private void checkMissingParameters(java.util.Map<java.lang.String, org.graylog2.contentpacks.model.entities.references.ValueReference>, java.util.Set<java.lang.String>);
    Code:
       0: aload_1
       1: dup
       2: invokestatic  #131                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
       5: pop
       6: invokedynamic #212,  0            // InvokeDynamic #14:test:(Ljava/util/Map;)Ljava/util/function/Predicate;
      11: astore_3
      12: aload_2
      13: invokeinterface #152,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      18: aload_3
      19: invokeinterface #210,  1          // InterfaceMethod java/util/function/Predicate.negate:()Ljava/util/function/Predicate;
      24: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      29: invokestatic  #164                // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      32: invokeinterface #156,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      37: checkcast     #165                // class java/util/Set
      40: astore        4
      42: aload         4
      44: invokeinterface #166,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      49: ifne          62
      52: new           #213                // class org/graylog2/contentpacks/exceptions/MissingParametersException
      55: dup
      56: aload         4
      58: invokespecial #214                // Method org/graylog2/contentpacks/exceptions/MissingParametersException."<init>":(Ljava/util/Collection;)V
      61: athrow
      62: return

  private static org.graylog2.contentpacks.exceptions.EmptyDefaultValueException lambda$validateParameters$7(java.lang.String);
    Code:
       0: new           #215                // class org/graylog2/contentpacks/exceptions/EmptyDefaultValueException
       3: dup
       4: aload_0
       5: invokespecial #216                // Method org/graylog2/contentpacks/exceptions/EmptyDefaultValueException."<init>":(Ljava/lang/String;)V
       8: areturn

  private static boolean lambda$validateParameters$6(java.util.Map, java.util.Map$Entry);
    Code:
       0: aload_1
       1: invokeinterface #82,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
       6: checkcast     #194                // class org/graylog2/contentpacks/model/entities/references/ValueReference
       9: invokevirtual #204                // Method org/graylog2/contentpacks/model/entities/references/ValueReference.valueType:()Lorg/graylog2/contentpacks/model/entities/references/ValueType;
      12: aload_0
      13: aload_1
      14: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      19: invokeinterface #193,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      24: if_acmpeq     31
      27: iconst_1
      28: goto          32
      31: iconst_0
      32: ireturn

  private static boolean lambda$buildEntityGraph$5(java.util.Set, org.graylog2.contentpacks.model.entities.Entity);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #141,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
       7: ifne          14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  private static boolean lambda$buildEntityGraph$4(org.graylog2.contentpacks.model.entities.Entity, org.graylog2.contentpacks.model.entities.Entity);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #34                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: ireturn

  private static void lambda$listAllEntityExcerpts$3(com.google.common.collect.ImmutableSet$Builder, org.graylog2.contentpacks.facades.EntityFacade);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #217,  1          // InterfaceMethod org/graylog2/contentpacks/facades/EntityFacade.listEntityExcerpts:()Ljava/util/Set;
       7: invokevirtual #218                // Method com/google/common/collect/ImmutableSet$Builder.addAll:(Ljava/lang/Iterable;)Lcom/google/common/collect/ImmutableSet$Builder;
      10: pop
      11: return

  private static boolean lambda$uninstallContentPack$2(org.graylog2.contentpacks.model.entities.Entity, org.graylog2.contentpacks.model.entities.NativeEntityDescriptor);
    Code:
       0: aload_0
       1: invokeinterface #219,  1          // InterfaceMethod org/graylog2/contentpacks/model/entities/Entity.id:()Lorg/graylog2/contentpacks/model/ModelId;
       6: aload_1
       7: invokevirtual #103                // Method org/graylog2/contentpacks/model/entities/NativeEntityDescriptor.contentPackEntityId:()Lorg/graylog2/contentpacks/model/ModelId;
      10: invokevirtual #34                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      13: ireturn

  private void lambda$getUninstallDetails$1(org.graylog2.contentpacks.model.entities.Entity, org.graylog2.contentpacks.model.ContentPackInstallation, java.util.Set, org.graylog2.contentpacks.model.entities.Entity);
    Code:
       0: aload         4
       2: aload_1
       3: invokevirtual #34                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
       6: ifeq          10
       9: return
      10: aload_2
      11: invokevirtual #96                 // Method org/graylog2/contentpacks/model/ContentPackInstallation.entities:()Lcom/google/common/collect/ImmutableSet;
      14: invokevirtual #97                 // Method com/google/common/collect/ImmutableSet.stream:()Ljava/util/stream/Stream;
      17: aload         4
      19: invokedynamic #220,  0            // InvokeDynamic #15:test:(Lorg/graylog2/contentpacks/model/entities/Entity;)Ljava/util/function/Predicate;
      24: invokeinterface #99,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      29: invokeinterface #100,  1          // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
      34: astore        5
      36: aload         5
      38: invokevirtual #41                 // Method java/util/Optional.isPresent:()Z
      41: ifeq          80
      44: aload         5
      46: invokevirtual #45                 // Method java/util/Optional.get:()Ljava/lang/Object;
      49: checkcast     #101                // class org/graylog2/contentpacks/model/entities/NativeEntityDescriptor
      52: astore        6
      54: aload_0
      55: getfield      #2                  // Field contentPackInstallationPersistenceService:Lorg/graylog2/contentpacks/ContentPackInstallationPersistenceService;
      58: aload         6
      60: invokevirtual #103                // Method org/graylog2/contentpacks/model/entities/NativeEntityDescriptor.contentPackEntityId:()Lorg/graylog2/contentpacks/model/ModelId;
      63: invokevirtual #104                // Method org/graylog2/contentpacks/ContentPackInstallationPersistenceService.countInstallationOfEntityById:(Lorg/graylog2/contentpacks/model/ModelId;)J
      66: lconst_1
      67: lcmp
      68: ifgt          80
      71: aload_3
      72: aload         6
      74: invokeinterface #105,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      79: pop
      80: return

  private static boolean lambda$getUninstallDetails$0(org.graylog2.contentpacks.model.entities.Entity, org.graylog2.contentpacks.model.entities.NativeEntityDescriptor);
    Code:
       0: aload_0
       1: invokeinterface #219,  1          // InterfaceMethod org/graylog2/contentpacks/model/entities/Entity.id:()Lorg/graylog2/contentpacks/model/ModelId;
       6: aload_1
       7: invokevirtual #103                // Method org/graylog2/contentpacks/model/entities/NativeEntityDescriptor.contentPackEntityId:()Lorg/graylog2/contentpacks/model/ModelId;
      10: invokevirtual #34                 // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      13: ireturn

  static {};
    Code:
       0: ldc           #221                // class org/graylog2/contentpacks/ContentPackService
       2: invokestatic  #222                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #42                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
