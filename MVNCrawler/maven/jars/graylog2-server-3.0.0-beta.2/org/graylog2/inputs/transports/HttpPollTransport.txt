Compiled from "HttpPollTransport.java"
public class org.graylog2.inputs.transports.HttpPollTransport extends org.graylog2.plugin.inputs.transports.ThrottleableTransport {
  private static final org.slf4j.Logger LOG;

  private static final java.lang.String CK_URL;

  private static final java.lang.String CK_HEADERS;

  private static final java.lang.String CK_TIMEUNIT;

  private static final java.lang.String CK_INTERVAL;

  private final org.graylog2.plugin.configuration.Configuration configuration;

  private final com.google.common.eventbus.EventBus serverEventBus;

  private final org.graylog2.plugin.ServerStatus serverStatus;

  private final java.util.concurrent.ScheduledExecutorService scheduler;

  private final okhttp3.OkHttpClient httpClient;

  private volatile boolean paused;

  private java.util.concurrent.ScheduledFuture<?> scheduledFuture;

  public org.graylog2.inputs.transports.HttpPollTransport(org.graylog2.plugin.configuration.Configuration, com.google.common.eventbus.EventBus, org.graylog2.plugin.ServerStatus, java.util.concurrent.ScheduledExecutorService, okhttp3.OkHttpClient);
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokespecial #1                  // Method org/graylog2/plugin/inputs/transports/ThrottleableTransport."<init>":(Lcom/google/common/eventbus/EventBus;Lorg/graylog2/plugin/configuration/Configuration;)V
       6: aload_0
       7: iconst_1
       8: putfield      #2                  // Field paused:Z
      11: aload_0
      12: aload_1
      13: putfield      #3                  // Field configuration:Lorg/graylog2/plugin/configuration/Configuration;
      16: aload_0
      17: aload_2
      18: putfield      #4                  // Field serverEventBus:Lcom/google/common/eventbus/EventBus;
      21: aload_0
      22: aload_3
      23: putfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
      26: aload_0
      27: aload         4
      29: putfield      #6                  // Field scheduler:Ljava/util/concurrent/ScheduledExecutorService;
      32: aload_0
      33: aload         5
      35: putfield      #7                  // Field httpClient:Lokhttp3/OkHttpClient;
      38: return

  static java.util.Map<java.lang.String, java.lang.String> parseHeaders(java.lang.String);
    Code:
       0: aload_0
       1: invokestatic  #8                  // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
       4: ifeq          11
       7: invokestatic  #9                  // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      10: areturn
      11: invokestatic  #10                 // Method com/google/common/collect/Maps.newHashMap:()Ljava/util/HashMap;
      14: astore_1
      15: aload_0
      16: invokevirtual #11                 // Method java/lang/String.trim:()Ljava/lang/String;
      19: ldc           #12                 // String ,
      21: invokevirtual #13                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      24: astore_2
      25: aload_2
      26: arraylength
      27: istore_3
      28: iconst_0
      29: istore        4
      31: iload         4
      33: iload_3
      34: if_icmpge     89
      37: aload_2
      38: iload         4
      40: aaload
      41: astore        5
      43: aload         5
      45: invokevirtual #11                 // Method java/lang/String.trim:()Ljava/lang/String;
      48: ldc           #14                 // String :
      50: invokevirtual #13                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      53: astore        6
      55: aload         6
      57: arraylength
      58: iconst_2
      59: if_icmpne     83
      62: aload_1
      63: aload         6
      65: iconst_0
      66: aaload
      67: invokevirtual #11                 // Method java/lang/String.trim:()Ljava/lang/String;
      70: aload         6
      72: iconst_1
      73: aaload
      74: invokevirtual #11                 // Method java/lang/String.trim:()Ljava/lang/String;
      77: invokeinterface #15,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      82: pop
      83: iinc          4, 1
      86: goto          31
      89: aload_1
      90: areturn

  public void lifecycleStateChange(org.graylog2.plugin.lifecycles.Lifecycle);
    Code:
       0: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #17                 // String Lifecycle changed to {}
       5: aload_1
       6: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      11: getstatic     #19                 // Field org/graylog2/inputs/transports/HttpPollTransport$1.$SwitchMap$org$graylog2$plugin$lifecycles$Lifecycle:[I
      14: aload_1
      15: invokevirtual #20                 // Method org/graylog2/plugin/lifecycles/Lifecycle.ordinal:()I
      18: iaload
      19: lookupswitch  { // 1
                     1: 36
               default: 44
          }
      36: aload_0
      37: iconst_0
      38: putfield      #2                  // Field paused:Z
      41: goto          49
      44: aload_0
      45: iconst_1
      46: putfield      #2                  // Field paused:Z
      49: return

  public void setMessageAggregator(org.graylog2.plugin.inputs.codecs.CodecAggregator);
    Code:
       0: return

  public void doLaunch(org.graylog2.plugin.inputs.MessageInput) throws org.graylog2.plugin.inputs.MisfireException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
       4: aload_0
       5: invokedynamic #21,  0             // InvokeDynamic #0:run:(Lorg/graylog2/inputs/transports/HttpPollTransport;)Ljava/lang/Runnable;
      10: invokevirtual #22                 // Method org/graylog2/plugin/ServerStatus.awaitRunning:(Ljava/lang/Runnable;)V
      13: aload_0
      14: getfield      #4                  // Field serverEventBus:Lcom/google/common/eventbus/EventBus;
      17: aload_0
      18: invokevirtual #23                 // Method com/google/common/eventbus/EventBus.register:(Ljava/lang/Object;)V
      21: aload_0
      22: getfield      #3                  // Field configuration:Lorg/graylog2/plugin/configuration/Configuration;
      25: ldc           #25                 // String headers
      27: invokevirtual #26                 // Method org/graylog2/plugin/configuration/Configuration.getString:(Ljava/lang/String;)Ljava/lang/String;
      30: invokestatic  #27                 // Method parseHeaders:(Ljava/lang/String;)Ljava/util/Map;
      33: astore_2
      34: aload_0
      35: getfield      #3                  // Field configuration:Lorg/graylog2/plugin/configuration/Configuration;
      38: ldc           #28                 // String target_url
      40: invokevirtual #26                 // Method org/graylog2/plugin/configuration/Configuration.getString:(Ljava/lang/String;)Ljava/lang/String;
      43: astore_3
      44: new           #29                 // class java/net/URL
      47: dup
      48: aload_3
      49: invokespecial #30                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
      52: astore        6
      54: aload         6
      56: invokevirtual #31                 // Method java/net/URL.getPort:()I
      59: istore        7
      61: new           #32                 // class java/net/InetSocketAddress
      64: dup
      65: aload         6
      67: invokevirtual #33                 // Method java/net/URL.getHost:()Ljava/lang/String;
      70: iload         7
      72: iconst_m1
      73: if_icmpeq     81
      76: iload         7
      78: goto          83
      81: bipush        80
      83: invokespecial #34                 // Method java/net/InetSocketAddress."<init>":(Ljava/lang/String;I)V
      86: astore        5
      88: goto          96
      91: astore        6
      93: aconst_null
      94: astore        5
      96: aload         5
      98: astore        4
     100: aload_0
     101: aload_3
     102: aload_2
     103: aload_1
     104: aload         4
     106: invokedynamic #36,  0             // InvokeDynamic #1:run:(Lorg/graylog2/inputs/transports/HttpPollTransport;Ljava/lang/String;Ljava/util/Map;Lorg/graylog2/plugin/inputs/MessageInput;Ljava/net/InetSocketAddress;)Ljava/lang/Runnable;
     111: astore        6
     113: aload_0
     114: aload_0
     115: getfield      #6                  // Field scheduler:Ljava/util/concurrent/ScheduledExecutorService;
     118: aload         6
     120: lconst_0
     121: aload_0
     122: getfield      #3                  // Field configuration:Lorg/graylog2/plugin/configuration/Configuration;
     125: ldc           #37                 // String interval
     127: invokevirtual #38                 // Method org/graylog2/plugin/configuration/Configuration.getInt:(Ljava/lang/String;)I
     130: i2l
     131: aload_0
     132: getfield      #3                  // Field configuration:Lorg/graylog2/plugin/configuration/Configuration;
     135: ldc           #39                 // String timeunit
     137: invokevirtual #26                 // Method org/graylog2/plugin/configuration/Configuration.getString:(Ljava/lang/String;)Ljava/lang/String;
     140: invokestatic  #40                 // Method java/util/concurrent/TimeUnit.valueOf:(Ljava/lang/String;)Ljava/util/concurrent/TimeUnit;
     143: invokeinterface #41,  7           // InterfaceMethod java/util/concurrent/ScheduledExecutorService.scheduleAtFixedRate:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
     148: putfield      #42                 // Field scheduledFuture:Ljava/util/concurrent/ScheduledFuture;
     151: return
    Exception table:
       from    to  target type
          44    88    91   Class java/net/MalformedURLException

  public void doStop();
    Code:
       0: aload_0
       1: getfield      #4                  // Field serverEventBus:Lcom/google/common/eventbus/EventBus;
       4: aload_0
       5: invokevirtual #43                 // Method com/google/common/eventbus/EventBus.unregister:(Ljava/lang/Object;)V
       8: aload_0
       9: getfield      #42                 // Field scheduledFuture:Ljava/util/concurrent/ScheduledFuture;
      12: ifnull        26
      15: aload_0
      16: getfield      #42                 // Field scheduledFuture:Ljava/util/concurrent/ScheduledFuture;
      19: iconst_1
      20: invokeinterface #44,  2           // InterfaceMethod java/util/concurrent/ScheduledFuture.cancel:(Z)Z
      25: pop
      26: return

  public com.codahale.metrics.MetricSet getMetricSet();
    Code:
       0: aconst_null
       1: areturn

  private void lambda$doLaunch$1(java.lang.String, java.util.Map, org.graylog2.plugin.inputs.MessageInput, java.net.InetSocketAddress);
    Code:
       0: aload_0
       1: getfield      #2                  // Field paused:Z
       4: ifeq          19
       7: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
      10: ldc           #45                 // String Message processing paused, not polling HTTP resource {}.
      12: aload_1
      13: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      18: return
      19: aload_0
      20: invokevirtual #46                 // Method isThrottled:()Z
      23: ifeq          37
      26: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
      29: ldc           #47                 // String Not polling HTTP resource {} because we are throttled.
      31: aload_1
      32: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      37: new           #48                 // class okhttp3/Request$Builder
      40: dup
      41: invokespecial #49                 // Method okhttp3/Request$Builder."<init>":()V
      44: invokevirtual #50                 // Method okhttp3/Request$Builder.get:()Lokhttp3/Request$Builder;
      47: aload_1
      48: invokevirtual #51                 // Method okhttp3/Request$Builder.url:(Ljava/lang/String;)Lokhttp3/Request$Builder;
      51: aload_2
      52: invokestatic  #52                 // Method okhttp3/Headers.of:(Ljava/util/Map;)Lokhttp3/Headers;
      55: invokevirtual #53                 // Method okhttp3/Request$Builder.headers:(Lokhttp3/Headers;)Lokhttp3/Request$Builder;
      58: astore        5
      60: aload_0
      61: getfield      #7                  // Field httpClient:Lokhttp3/OkHttpClient;
      64: aload         5
      66: invokevirtual #54                 // Method okhttp3/Request$Builder.build:()Lokhttp3/Request;
      69: invokevirtual #55                 // Method okhttp3/OkHttpClient.newCall:(Lokhttp3/Request;)Lokhttp3/Call;
      72: invokeinterface #56,  1           // InterfaceMethod okhttp3/Call.execute:()Lokhttp3/Response;
      77: astore        6
      79: aconst_null
      80: astore        7
      82: aload         6
      84: invokevirtual #57                 // Method okhttp3/Response.isSuccessful:()Z
      87: ifne          121
      90: new           #58                 // class java/lang/RuntimeException
      93: dup
      94: new           #59                 // class java/lang/StringBuilder
      97: dup
      98: invokespecial #60                 // Method java/lang/StringBuilder."<init>":()V
     101: ldc           #61                 // String Expected successful HTTP status code [2xx], got
     103: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: aload         6
     108: invokevirtual #63                 // Method okhttp3/Response.code:()I
     111: invokevirtual #64                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     114: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     117: invokespecial #66                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     120: athrow
     121: aload_3
     122: new           #67                 // class org/graylog2/plugin/journal/RawMessage
     125: dup
     126: aload         6
     128: invokevirtual #68                 // Method okhttp3/Response.body:()Lokhttp3/ResponseBody;
     131: invokevirtual #69                 // Method okhttp3/ResponseBody.bytes:()[B
     134: aload         4
     136: invokespecial #70                 // Method org/graylog2/plugin/journal/RawMessage."<init>":([BLjava/net/InetSocketAddress;)V
     139: invokevirtual #71                 // Method org/graylog2/plugin/inputs/MessageInput.processRawMessage:(Lorg/graylog2/plugin/journal/RawMessage;)V
     142: aload         6
     144: ifnull        229
     147: aload         7
     149: ifnull        172
     152: aload         6
     154: invokevirtual #72                 // Method okhttp3/Response.close:()V
     157: goto          229
     160: astore        8
     162: aload         7
     164: aload         8
     166: invokevirtual #74                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     169: goto          229
     172: aload         6
     174: invokevirtual #72                 // Method okhttp3/Response.close:()V
     177: goto          229
     180: astore        8
     182: aload         8
     184: astore        7
     186: aload         8
     188: athrow
     189: astore        9
     191: aload         6
     193: ifnull        226
     196: aload         7
     198: ifnull        221
     201: aload         6
     203: invokevirtual #72                 // Method okhttp3/Response.close:()V
     206: goto          226
     209: astore        10
     211: aload         7
     213: aload         10
     215: invokevirtual #74                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     218: goto          226
     221: aload         6
     223: invokevirtual #72                 // Method okhttp3/Response.close:()V
     226: aload         9
     228: athrow
     229: goto          263
     232: astore        6
     234: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
     237: new           #59                 // class java/lang/StringBuilder
     240: dup
     241: invokespecial #60                 // Method java/lang/StringBuilder."<init>":()V
     244: ldc           #76                 // String Could not fetch HTTP resource at
     246: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: aload_1
     250: invokevirtual #62                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     253: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     256: aload         6
     258: invokeinterface #77,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     263: return
    Exception table:
       from    to  target type
         152   157   160   Class java/lang/Throwable
          82   142   180   Class java/lang/Throwable
          82   142   189   any
         201   206   209   Class java/lang/Throwable
         180   191   189   any
          60   229   232   Class java/io/IOException

  private void lambda$doLaunch$0();
    Code:
       0: aload_0
       1: getstatic     #78                 // Field org/graylog2/plugin/lifecycles/Lifecycle.RUNNING:Lorg/graylog2/plugin/lifecycles/Lifecycle;
       4: invokevirtual #79                 // Method lifecycleStateChange:(Lorg/graylog2/plugin/lifecycles/Lifecycle;)V
       7: return

  static {};
    Code:
       0: ldc           #24                 // class org/graylog2/inputs/transports/HttpPollTransport
       2: invokestatic  #80                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
