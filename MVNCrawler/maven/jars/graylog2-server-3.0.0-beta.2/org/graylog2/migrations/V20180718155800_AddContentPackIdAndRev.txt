Compiled from "V20180718155800_AddContentPackIdAndRev.java"
public class org.graylog2.migrations.V20180718155800_AddContentPackIdAndRev extends org.graylog2.migrations.Migration {
  private static final org.slf4j.Logger LOG;

  private final com.mongodb.client.MongoCollection<org.bson.Document> collection;

  public org.graylog2.migrations.V20180718155800_AddContentPackIdAndRev(org.graylog2.database.MongoConnection);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #1,  1            // InterfaceMethod org/graylog2/database/MongoConnection.getMongoDatabase:()Lcom/mongodb/client/MongoDatabase;
       7: ldc           #3                  // String content_packs
       9: invokeinterface #4,  2            // InterfaceMethod com/mongodb/client/MongoDatabase.getCollection:(Ljava/lang/String;)Lcom/mongodb/client/MongoCollection;
      14: invokespecial #5                  // Method "<init>":(Lcom/mongodb/client/MongoCollection;)V
      17: return

  private org.graylog2.migrations.V20180718155800_AddContentPackIdAndRev(com.mongodb.client.MongoCollection<org.bson.Document>);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method org/graylog2/migrations/Migration."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #7                  // Field collection:Lcom/mongodb/client/MongoCollection;
       9: return

  public java.time.ZonedDateTime createdAt();
    Code:
       0: ldc           #8                  // String 2018-07-18T15:58:00Z
       2: invokestatic  #9                  // Method java/time/ZonedDateTime.parse:(Ljava/lang/CharSequence;)Ljava/time/ZonedDateTime;
       5: areturn

  public void upgrade();
    Code:
       0: aload_0
       1: getfield      #7                  // Field collection:Lcom/mongodb/client/MongoCollection;
       4: iconst_2
       5: anewarray     #10                 // class org/bson/conversions/Bson
       8: dup
       9: iconst_0
      10: ldc           #12                 // String id
      12: invokestatic  #13                 // Method com/mongodb/client/model/Filters.exists:(Ljava/lang/String;)Lorg/bson/conversions/Bson;
      15: invokestatic  #14                 // Method com/mongodb/client/model/Filters.not:(Lorg/bson/conversions/Bson;)Lorg/bson/conversions/Bson;
      18: aastore
      19: dup
      20: iconst_1
      21: ldc           #15                 // String rev
      23: invokestatic  #13                 // Method com/mongodb/client/model/Filters.exists:(Ljava/lang/String;)Lorg/bson/conversions/Bson;
      26: invokestatic  #14                 // Method com/mongodb/client/model/Filters.not:(Lorg/bson/conversions/Bson;)Lorg/bson/conversions/Bson;
      29: aastore
      30: invokestatic  #16                 // Method com/mongodb/client/model/Filters.or:([Lorg/bson/conversions/Bson;)Lorg/bson/conversions/Bson;
      33: invokeinterface #17,  2           // InterfaceMethod com/mongodb/client/MongoCollection.find:(Lorg/bson/conversions/Bson;)Lcom/mongodb/client/FindIterable;
      38: astore_1
      39: aload_1
      40: invokeinterface #18,  1           // InterfaceMethod com/mongodb/client/FindIterable.iterator:()Lcom/mongodb/client/MongoCursor;
      45: astore_2
      46: aload_2
      47: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      52: ifeq          197
      55: aload_2
      56: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      61: checkcast     #21                 // class org/bson/Document
      64: astore_3
      65: aload_3
      66: ldc           #22                 // String _id
      68: invokevirtual #23                 // Method org/bson/Document.getObjectId:(Ljava/lang/Object;)Lorg/bson/types/ObjectId;
      71: astore        4
      73: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
      76: ldc           #25                 // String Found document with missing \"id\" or \"rev\" field with ID <{}>
      78: aload         4
      80: invokeinterface #26,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      85: aload_3
      86: ldc           #12                 // String id
      88: aload         4
      90: invokevirtual #27                 // Method org/bson/types/ObjectId.toHexString:()Ljava/lang/String;
      93: invokevirtual #28                 // Method org/bson/Document.get:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      96: checkcast     #29                 // class java/lang/String
      99: astore        5
     101: aload_3
     102: ldc           #15                 // String rev
     104: iconst_0
     105: invokestatic  #30                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     108: invokevirtual #28                 // Method org/bson/Document.get:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     111: checkcast     #31                 // class java/lang/Integer
     114: invokevirtual #32                 // Method java/lang/Integer.intValue:()I
     117: istore        6
     119: aload_3
     120: ldc           #12                 // String id
     122: aload         5
     124: invokevirtual #33                 // Method org/bson/Document.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     127: pop
     128: aload_3
     129: ldc           #15                 // String rev
     131: iload         6
     133: invokestatic  #30                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     136: invokevirtual #33                 // Method org/bson/Document.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     139: pop
     140: aload_0
     141: getfield      #7                  // Field collection:Lcom/mongodb/client/MongoCollection;
     144: ldc           #22                 // String _id
     146: aload         4
     148: invokestatic  #34                 // Method com/mongodb/client/model/Filters.eq:(Ljava/lang/String;Ljava/lang/Object;)Lorg/bson/conversions/Bson;
     151: aload_3
     152: invokeinterface #35,  3           // InterfaceMethod com/mongodb/client/MongoCollection.replaceOne:(Lorg/bson/conversions/Bson;Ljava/lang/Object;)Lcom/mongodb/client/result/UpdateResult;
     157: astore        7
     159: aload         7
     161: invokevirtual #36                 // Method com/mongodb/client/result/UpdateResult.wasAcknowledged:()Z
     164: ifeq          182
     167: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     170: ldc           #37                 // String Successfully updated document with ID <{}>
     172: aload         4
     174: invokeinterface #26,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     179: goto          194
     182: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     185: ldc           #38                 // String Failed to update document with ID <{}>
     187: aload         4
     189: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
     194: goto          46
     197: return

  static {};
    Code:
       0: ldc           #40                 // class org/graylog2/migrations/V20180718155800_AddContentPackIdAndRev
       2: invokestatic  #41                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
