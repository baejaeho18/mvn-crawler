Compiled from "V20180214093600_AdjustDashboardPositionToNewResolution.java"
public class org.graylog2.migrations.V20180214093600_AdjustDashboardPositionToNewResolution extends org.graylog2.migrations.Migration {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.dashboards.DashboardService dashboardService;

  private final org.graylog2.plugin.cluster.ClusterConfigService clusterConfigService;

  public org.graylog2.migrations.V20180214093600_AdjustDashboardPositionToNewResolution(org.graylog2.dashboards.DashboardService, org.graylog2.plugin.cluster.ClusterConfigService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/migrations/Migration."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field dashboardService:Lorg/graylog2/dashboards/DashboardService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
      14: return

  public java.time.ZonedDateTime createdAt();
    Code:
       0: ldc           #4                  // String 2018-02-14T09:36:00Z
       2: invokestatic  #5                  // Method java/time/ZonedDateTime.parse:(Ljava/lang/CharSequence;)Ljava/time/ZonedDateTime;
       5: areturn

  public void upgrade();
    Code:
       0: aload_0
       1: getfield      #3                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
       4: ldc           #6                  // class org/graylog2/migrations/V20180214093600_AdjustDashboardPositionToNewResolution$MigrationCompleted
       6: invokeinterface #7,  2            // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.get:(Ljava/lang/Class;)Ljava/lang/Object;
      11: ifnull        25
      14: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
      17: ldc           #9                  // String Migration already completed!
      19: invokeinterface #10,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      24: return
      25: new           #11                 // class java/util/HashMap
      28: dup
      29: invokespecial #12                 // Method java/util/HashMap."<init>":()V
      32: astore_1
      33: aload_0
      34: getfield      #2                  // Field dashboardService:Lorg/graylog2/dashboards/DashboardService;
      37: invokeinterface #13,  1           // InterfaceMethod org/graylog2/dashboards/DashboardService.all:()Ljava/util/List;
      42: invokeinterface #14,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      47: astore_2
      48: aload_2
      49: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      54: ifeq          313
      57: aload_2
      58: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      63: checkcast     #17                 // class org/graylog2/dashboards/Dashboard
      66: astore_3
      67: aload_3
      68: invokeinterface #18,  1           // InterfaceMethod org/graylog2/dashboards/Dashboard.getPositions:()Ljava/util/List;
      73: astore        4
      75: aload         4
      77: invokeinterface #19,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      82: ifeq          103
      85: aload_1
      86: aload_3
      87: invokeinterface #20,  1           // InterfaceMethod org/graylog2/dashboards/Dashboard.getId:()Ljava/lang/String;
      92: ldc           #21                 // String skipped
      94: invokeinterface #22,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      99: pop
     100: goto          48
     103: new           #23                 // class java/util/ArrayList
     106: dup
     107: aload         4
     109: invokeinterface #24,  1           // InterfaceMethod java/util/List.size:()I
     114: invokespecial #25                 // Method java/util/ArrayList."<init>":(I)V
     117: astore        5
     119: aload         4
     121: invokeinterface #14,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     126: astore        6
     128: aload         6
     130: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     135: ifeq          259
     138: aload         6
     140: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     145: checkcast     #26                 // class org/graylog2/dashboards/widgets/WidgetPosition
     148: astore        7
     150: aload         7
     152: invokevirtual #27                 // Method org/graylog2/dashboards/widgets/WidgetPosition.width:()I
     155: iconst_2
     156: imul
     157: invokestatic  #28                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     160: astore        8
     162: aload         7
     164: invokevirtual #29                 // Method org/graylog2/dashboards/widgets/WidgetPosition.height:()I
     167: iconst_2
     168: imul
     169: invokestatic  #28                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     172: astore        9
     174: aload_0
     175: aload         7
     177: invokevirtual #30                 // Method org/graylog2/dashboards/widgets/WidgetPosition.col:()I
     180: invokestatic  #28                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     183: invokespecial #31                 // Method adjustPosition:(Ljava/lang/Integer;)Ljava/lang/Integer;
     186: astore        10
     188: aload_0
     189: aload         7
     191: invokevirtual #32                 // Method org/graylog2/dashboards/widgets/WidgetPosition.row:()I
     194: invokestatic  #28                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     197: invokespecial #31                 // Method adjustPosition:(Ljava/lang/Integer;)Ljava/lang/Integer;
     200: astore        11
     202: aload         5
     204: invokestatic  #33                 // Method org/graylog2/dashboards/widgets/WidgetPosition.builder:()Lorg/graylog2/dashboards/widgets/WidgetPosition$Builder;
     207: aload         7
     209: invokevirtual #34                 // Method org/graylog2/dashboards/widgets/WidgetPosition.id:()Ljava/lang/String;
     212: invokevirtual #35                 // Method org/graylog2/dashboards/widgets/WidgetPosition$Builder.id:(Ljava/lang/String;)Lorg/graylog2/dashboards/widgets/WidgetPosition$Builder;
     215: aload         8
     217: invokevirtual #36                 // Method java/lang/Integer.intValue:()I
     220: invokevirtual #37                 // Method org/graylog2/dashboards/widgets/WidgetPosition$Builder.width:(I)Lorg/graylog2/dashboards/widgets/WidgetPosition$Builder;
     223: aload         9
     225: invokevirtual #36                 // Method java/lang/Integer.intValue:()I
     228: invokevirtual #38                 // Method org/graylog2/dashboards/widgets/WidgetPosition$Builder.height:(I)Lorg/graylog2/dashboards/widgets/WidgetPosition$Builder;
     231: aload         10
     233: invokevirtual #36                 // Method java/lang/Integer.intValue:()I
     236: invokevirtual #39                 // Method org/graylog2/dashboards/widgets/WidgetPosition$Builder.col:(I)Lorg/graylog2/dashboards/widgets/WidgetPosition$Builder;
     239: aload         11
     241: invokevirtual #36                 // Method java/lang/Integer.intValue:()I
     244: invokevirtual #40                 // Method org/graylog2/dashboards/widgets/WidgetPosition$Builder.row:(I)Lorg/graylog2/dashboards/widgets/WidgetPosition$Builder;
     247: invokevirtual #41                 // Method org/graylog2/dashboards/widgets/WidgetPosition$Builder.build:()Lorg/graylog2/dashboards/widgets/WidgetPosition;
     250: invokeinterface #42,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     255: pop
     256: goto          128
     259: aload_3
     260: aload         5
     262: invokeinterface #43,  2           // InterfaceMethod org/graylog2/dashboards/Dashboard.setPositions:(Ljava/util/List;)V
     267: aload_0
     268: getfield      #2                  // Field dashboardService:Lorg/graylog2/dashboards/DashboardService;
     271: aload_3
     272: invokeinterface #44,  2           // InterfaceMethod org/graylog2/dashboards/DashboardService.save:(Lorg/graylog2/plugin/database/Persisted;)Ljava/lang/String;
     277: pop
     278: aload_1
     279: aload_3
     280: invokeinterface #20,  1           // InterfaceMethod org/graylog2/dashboards/Dashboard.getId:()Ljava/lang/String;
     285: ldc           #45                 // String updated
     287: invokeinterface #22,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     292: pop
     293: goto          310
     296: astore        6
     298: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
     301: ldc           #47                 // String Could not update dashboard position: {}
     303: aload         6
     305: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     310: goto          48
     313: aload_0
     314: getfield      #3                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
     317: aload_1
     318: invokestatic  #49                 // Method org/graylog2/migrations/V20180214093600_AdjustDashboardPositionToNewResolution$MigrationCompleted.create:(Ljava/util/Map;)Lorg/graylog2/migrations/V20180214093600_AdjustDashboardPositionToNewResolution$MigrationCompleted;
     321: invokeinterface #50,  2           // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.write:(Ljava/lang/Object;)V
     326: return
    Exception table:
       from    to  target type
         259   293   296   Class org/graylog2/plugin/database/ValidationException

  private java.lang.Integer adjustPosition(java.lang.Integer);
    Code:
       0: aload_1
       1: invokevirtual #36                 // Method java/lang/Integer.intValue:()I
       4: iconst_2
       5: imul
       6: iconst_1
       7: isub
       8: invokestatic  #28                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      11: areturn

  static {};
    Code:
       0: ldc           #51                 // class org/graylog2/migrations/V20180214093600_AdjustDashboardPositionToNewResolution
       2: invokestatic  #52                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
