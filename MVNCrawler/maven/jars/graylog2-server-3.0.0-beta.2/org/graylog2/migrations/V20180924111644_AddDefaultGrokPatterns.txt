Compiled from "V20180924111644_AddDefaultGrokPatterns.java"
public class org.graylog2.migrations.V20180924111644_AddDefaultGrokPatterns extends org.graylog2.migrations.Migration {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.contentpacks.ContentPackService contentPackService;

  private final com.fasterxml.jackson.databind.ObjectMapper objectMapper;

  private final org.graylog2.plugin.cluster.ClusterConfigService configService;

  private final org.graylog2.contentpacks.ContentPackPersistenceService contentPackPersistenceService;

  public org.graylog2.migrations.V20180924111644_AddDefaultGrokPatterns(org.graylog2.contentpacks.ContentPackPersistenceService, org.graylog2.contentpacks.ContentPackService, com.fasterxml.jackson.databind.ObjectMapper, org.graylog2.plugin.cluster.ClusterConfigService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/migrations/Migration."<init>":()V
       4: aload_0
       5: aload_2
       6: putfield      #2                  // Field contentPackService:Lorg/graylog2/contentpacks/ContentPackService;
       9: aload_0
      10: aload_3
      11: putfield      #3                  // Field objectMapper:Lcom/fasterxml/jackson/databind/ObjectMapper;
      14: aload_0
      15: aload_1
      16: putfield      #4                  // Field contentPackPersistenceService:Lorg/graylog2/contentpacks/ContentPackPersistenceService;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field configService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
      25: return

  public java.time.ZonedDateTime createdAt();
    Code:
       0: ldc           #6                  // String 2018-09-24T11:16:44Z
       2: invokestatic  #7                  // Method java/time/ZonedDateTime.parse:(Ljava/lang/CharSequence;)Ljava/time/ZonedDateTime;
       5: areturn

  public void upgrade();
    Code:
       0: aload_0
       1: getfield      #5                  // Field configService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
       4: ldc           #8                  // class org/graylog2/migrations/V20180924111644_AddDefaultGrokPatterns$MigrationCompleted
       6: invokeinterface #9,  2            // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.get:(Ljava/lang/Class;)Ljava/lang/Object;
      11: ifnull        25
      14: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      17: ldc           #11                 // String Migration already completed.
      19: invokeinterface #12,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      24: return
      25: ldc           #13                 // class org/graylog2/migrations/V20180924111644_AddDefaultGrokPatterns
      27: ldc           #14                 // String V20180924111644_AddDefaultGrokPatterns_Default_Grok_Patterns.json
      29: invokevirtual #15                 // Method java/lang/Class.getResource:(Ljava/lang/String;)Ljava/net/URL;
      32: astore_1
      33: aload_0
      34: getfield      #3                  // Field objectMapper:Lcom/fasterxml/jackson/databind/ObjectMapper;
      37: aload_1
      38: ldc           #16                 // class org/graylog2/contentpacks/model/ContentPack
      40: invokevirtual #17                 // Method com/fasterxml/jackson/databind/ObjectMapper.readValue:(Ljava/net/URL;Ljava/lang/Class;)Ljava/lang/Object;
      43: checkcast     #16                 // class org/graylog2/contentpacks/model/ContentPack
      46: astore_2
      47: aload_0
      48: getfield      #4                  // Field contentPackPersistenceService:Lorg/graylog2/contentpacks/ContentPackPersistenceService;
      51: aload_2
      52: invokevirtual #18                 // Method org/graylog2/contentpacks/ContentPackPersistenceService.insert:(Lorg/graylog2/contentpacks/model/ContentPack;)Ljava/util/Optional;
      55: aload_2
      56: invokedynamic #19,  0             // InvokeDynamic #0:get:(Lorg/graylog2/contentpacks/model/ContentPack;)Ljava/util/function/Supplier;
      61: invokevirtual #20                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      64: checkcast     #16                 // class org/graylog2/contentpacks/model/ContentPack
      67: astore_3
      68: aload_0
      69: getfield      #2                  // Field contentPackService:Lorg/graylog2/contentpacks/ContentPackService;
      72: aload_3
      73: invokestatic  #21                 // Method java/util/Collections.emptyMap:()Ljava/util/Map;
      76: ldc           #22                 // String Add default Grok patterns
      78: ldc           #23                 // String admin
      80: invokevirtual #24                 // Method org/graylog2/contentpacks/ContentPackService.installContentPack:(Lorg/graylog2/contentpacks/model/ContentPack;Ljava/util/Map;Ljava/lang/String;Ljava/lang/String;)Lorg/graylog2/contentpacks/model/ContentPackInstallation;
      83: pop
      84: aload_0
      85: getfield      #5                  // Field configService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
      88: aload_3
      89: invokeinterface #25,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.id:()Lorg/graylog2/contentpacks/model/ModelId;
      94: invokevirtual #26                 // Method org/graylog2/contentpacks/model/ModelId.toString:()Ljava/lang/String;
      97: invokestatic  #27                 // Method org/graylog2/migrations/V20180924111644_AddDefaultGrokPatterns$MigrationCompleted.create:(Ljava/lang/String;)Lorg/graylog2/migrations/V20180924111644_AddDefaultGrokPatterns$MigrationCompleted;
     100: invokeinterface #28,  2           // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.write:(Ljava/lang/Object;)V
     105: goto          120
     108: astore_1
     109: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
     112: ldc           #30                 // String Unable to import content pack for default grok patterns: {}
     114: aload_1
     115: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     120: return
    Exception table:
       from    to  target type
          25   105   108   Class java/io/IOException

  private static java.lang.Error lambda$upgrade$0(org.graylog2.contentpacks.model.ContentPack);
    Code:
       0: new           #32                 // class java/lang/Error
       3: dup
       4: new           #33                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #35                 // String Content pack
      13: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: invokeinterface #25,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.id:()Lorg/graylog2/contentpacks/model/ModelId;
      22: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      25: ldc           #38                 // String  with this revision
      27: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: aload_0
      31: invokeinterface #39,  1           // InterfaceMethod org/graylog2/contentpacks/model/ContentPack.revision:()I
      36: invokevirtual #40                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      39: ldc           #41                 // String  already found!
      41: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: invokevirtual #42                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      47: invokespecial #43                 // Method java/lang/Error."<init>":(Ljava/lang/String;)V
      50: areturn

  static {};
    Code:
       0: ldc           #13                 // class org/graylog2/migrations/V20180924111644_AddDefaultGrokPatterns
       2: invokestatic  #44                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
