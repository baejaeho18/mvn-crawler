Compiled from "V20161125161400_AlertReceiversMigration.java"
public class org.graylog2.migrations.V20161125161400_AlertReceiversMigration extends org.graylog2.migrations.Migration {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.plugin.cluster.ClusterConfigService clusterConfigService;

  private final org.graylog2.streams.StreamService streamService;

  private final org.graylog2.alarmcallbacks.AlarmCallbackConfigurationService alarmCallbackService;

  private final com.mongodb.DBCollection dbCollection;

  public org.graylog2.migrations.V20161125161400_AlertReceiversMigration(org.graylog2.plugin.cluster.ClusterConfigService, org.graylog2.streams.StreamService, org.graylog2.alarmcallbacks.AlarmCallbackConfigurationService, org.graylog2.database.MongoConnection);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/migrations/Migration."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field streamService:Lorg/graylog2/streams/StreamService;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field alarmCallbackService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
      19: ldc           #5                  // class org/graylog2/streams/StreamImpl
      21: ldc           #6                  // class org/graylog2/database/CollectionName
      23: invokevirtual #7                  // Method java/lang/Class.getAnnotation:(Ljava/lang/Class;)Ljava/lang/annotation/Annotation;
      26: checkcast     #6                  // class org/graylog2/database/CollectionName
      29: invokeinterface #8,  1            // InterfaceMethod org/graylog2/database/CollectionName.value:()Ljava/lang/String;
      34: astore        5
      36: aload_0
      37: aload         4
      39: invokeinterface #9,  1            // InterfaceMethod org/graylog2/database/MongoConnection.getDatabase:()Lcom/mongodb/DB;
      44: aload         5
      46: invokevirtual #10                 // Method com/mongodb/DB.getCollection:(Ljava/lang/String;)Lcom/mongodb/DBCollection;
      49: putfield      #11                 // Field dbCollection:Lcom/mongodb/DBCollection;
      52: return

  public java.time.ZonedDateTime createdAt();
    Code:
       0: ldc           #12                 // String 2016-11-25T16:14:00Z
       2: invokestatic  #13                 // Method java/time/ZonedDateTime.parse:(Ljava/lang/CharSequence;)Ljava/time/ZonedDateTime;
       5: areturn

  private boolean hasAlertReceivers(org.graylog2.plugin.streams.Stream);
    Code:
       0: aload_1
       1: invokeinterface #14,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getAlertReceivers:()Ljava/util/Map;
       6: astore_2
       7: aload_2
       8: ifnull        20
      11: aload_2
      12: invokeinterface #15,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      17: ifeq          22
      20: iconst_0
      21: ireturn
      22: aload_2
      23: ldc           #16                 // String users
      25: invokeinterface #17,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #18                 // class java/util/List
      33: astore_3
      34: aload_2
      35: ldc           #19                 // String emails
      37: invokeinterface #17,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      42: checkcast     #18                 // class java/util/List
      45: astore        4
      47: aload_3
      48: ifnull        60
      51: aload_3
      52: invokeinterface #20,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      57: ifeq          75
      60: aload         4
      62: ifnull        79
      65: aload         4
      67: invokeinterface #20,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      72: ifne          79
      75: iconst_1
      76: goto          80
      79: iconst_0
      80: ireturn

  public void upgrade();
    Code:
       0: aload_0
       1: getfield      #2                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
       4: ldc           #21                 // class org/graylog2/migrations/V20161125161400_AlertReceiversMigration$MigrationCompleted
       6: invokeinterface #22,  2           // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.get:(Ljava/lang/Class;)Ljava/lang/Object;
      11: ifnull        15
      14: return
      15: aload_0
      16: getfield      #3                  // Field streamService:Lorg/graylog2/streams/StreamService;
      19: invokeinterface #23,  1           // InterfaceMethod org/graylog2/streams/StreamService.loadAll:()Ljava/util/List;
      24: invokeinterface #24,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      29: aload_0
      30: invokedynamic #25,  0             // InvokeDynamic #0:test:(Lorg/graylog2/migrations/V20161125161400_AlertReceiversMigration;)Ljava/util/function/Predicate;
      35: invokeinterface #26,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      40: invokedynamic #27,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      45: aload_0
      46: invokedynamic #28,  0             // InvokeDynamic #2:apply:(Lorg/graylog2/migrations/V20161125161400_AlertReceiversMigration;)Ljava/util/function/Function;
      51: invokestatic  #29                 // Method java/util/stream/Collectors.toMap:(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;
      54: invokeinterface #30,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      59: checkcast     #31                 // class java/util/Map
      62: astore_1
      63: aload_1
      64: invokeinterface #32,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      69: invokeinterface #33,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
      74: invokedynamic #34,  0             // InvokeDynamic #3:test:()Ljava/util/function/Predicate;
      79: invokeinterface #35,  2           // InterfaceMethod java/util/stream/Stream.allMatch:(Ljava/util/function/Predicate;)Z
      84: istore_2
      85: aload_1
      86: invokeinterface #36,  1           // InterfaceMethod java/util/Map.size:()I
      91: i2l
      92: lstore_3
      93: iload_2
      94: ifeq          164
      97: lload_3
      98: lconst_0
      99: lcmp
     100: ifle          138
     103: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     106: new           #38                 // class java/lang/StringBuilder
     109: dup
     110: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     113: ldc           #40                 // String Successfully migrated alert receivers from
     115: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: lload_3
     119: invokevirtual #42                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     122: ldc           #43                 // String  streams to its email alarm callbacks.
     124: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     130: invokeinterface #45,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     135: goto          148
     138: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     141: ldc           #46                 // String No streams needed to be migrated.
     143: invokeinterface #45,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     148: aload_0
     149: getfield      #2                  // Field clusterConfigService:Lorg/graylog2/plugin/cluster/ClusterConfigService;
     152: aload_1
     153: invokestatic  #47                 // Method org/graylog2/migrations/V20161125161400_AlertReceiversMigration$MigrationCompleted.create:(Ljava/util/Map;)Lorg/graylog2/migrations/V20161125161400_AlertReceiversMigration$MigrationCompleted;
     156: invokeinterface #48,  2           // InterfaceMethod org/graylog2/plugin/cluster/ClusterConfigService.write:(Ljava/lang/Object;)V
     161: goto          234
     164: aload_1
     165: invokeinterface #32,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     170: invokeinterface #33,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
     175: invokedynamic #49,  0             // InvokeDynamic #4:test:()Ljava/util/function/Predicate;
     180: invokeinterface #26,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
     185: invokeinterface #50,  1           // InterfaceMethod java/util/stream/Stream.count:()J
     190: lstore        5
     192: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     195: new           #38                 // class java/lang/StringBuilder
     198: dup
     199: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     202: ldc           #51                 // String Failed migrating
     204: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     207: lload         5
     209: invokevirtual #42                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     212: ldc           #52                 // String /
     214: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     217: lload_3
     218: invokevirtual #42                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     221: ldc           #53                 // String  alert receivers from streams to its email alarm callbacks.
     223: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     226: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     229: invokeinterface #54,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     234: return

  private java.util.Optional<java.lang.String> migrateStream(org.graylog2.plugin.streams.Stream);
    Code:
       0: aload_0
       1: getfield      #4                  // Field alarmCallbackService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
       4: aload_1
       5: invokeinterface #55,  2           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.getForStream:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
      10: astore_2
      11: aload_2
      12: invokeinterface #24,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      17: invokedynamic #56,  0             // InvokeDynamic #5:test:()Ljava/util/function/Predicate;
      22: invokeinterface #26,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      27: aload_0
      28: aload_1
      29: invokedynamic #57,  0             // InvokeDynamic #6:apply:(Lorg/graylog2/migrations/V20161125161400_AlertReceiversMigration;Lorg/graylog2/plugin/streams/Stream;)Ljava/util/function/Function;
      34: invokeinterface #58,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      39: invokestatic  #59                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      42: invokeinterface #30,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      47: checkcast     #18                 // class java/util/List
      50: astore_3
      51: aload_3
      52: invokeinterface #24,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      57: invokedynamic #34,  0             // InvokeDynamic #3:test:()Ljava/util/function/Predicate;
      62: invokeinterface #35,  2           // InterfaceMethod java/util/stream/Stream.allMatch:(Ljava/util/function/Predicate;)Z
      67: ifne          130
      70: aload_3
      71: invokeinterface #24,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      76: invokedynamic #60,  0             // InvokeDynamic #7:test:()Ljava/util/function/Predicate;
      81: invokeinterface #26,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      86: invokeinterface #50,  1           // InterfaceMethod java/util/stream/Stream.count:()J
      91: lstore        4
      93: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
      96: new           #38                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     103: ldc           #61                 // String Failed moving alert receivers in
     105: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: lload         4
     110: invokevirtual #42                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     113: ldc           #62                 // String  email alarm callbacks.
     115: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     121: invokeinterface #54,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     126: invokestatic  #63                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     129: areturn
     130: aload_0
     131: getfield      #11                 // Field dbCollection:Lcom/mongodb/DBCollection;
     134: new           #64                 // class com/mongodb/BasicDBObject
     137: dup
     138: ldc           #65                 // String _id
     140: new           #66                 // class org/bson/types/ObjectId
     143: dup
     144: aload_1
     145: invokeinterface #67,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
     150: invokespecial #68                 // Method org/bson/types/ObjectId."<init>":(Ljava/lang/String;)V
     153: invokespecial #69                 // Method com/mongodb/BasicDBObject."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     156: new           #64                 // class com/mongodb/BasicDBObject
     159: dup
     160: ldc           #70                 // String $unset
     162: new           #64                 // class com/mongodb/BasicDBObject
     165: dup
     166: ldc           #71                 // String alert_receivers
     168: ldc           #72                 // String
     170: invokespecial #69                 // Method com/mongodb/BasicDBObject."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     173: invokespecial #69                 // Method com/mongodb/BasicDBObject."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     176: invokevirtual #73                 // Method com/mongodb/DBCollection.update:(Lcom/mongodb/DBObject;Lcom/mongodb/DBObject;)Lcom/mongodb/WriteResult;
     179: pop
     180: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     183: new           #38                 // class java/lang/StringBuilder
     186: dup
     187: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     190: ldc           #74                 // String Successfully removed alert receivers from stream <
     192: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     195: aload_1
     196: invokeinterface #67,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
     201: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     204: ldc           #75                 // String >.
     206: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     209: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     212: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     217: aload_3
     218: invokeinterface #24,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
     223: invokedynamic #77,  0             // InvokeDynamic #8:apply:()Ljava/util/function/Function;
     228: invokeinterface #58,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     233: ldc           #78                 // String ,
     235: invokestatic  #79                 // Method java/util/stream/Collectors.joining:(Ljava/lang/CharSequence;)Ljava/util/stream/Collector;
     238: invokeinterface #30,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     243: checkcast     #80                 // class java/lang/String
     246: invokestatic  #81                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     249: areturn

  private java.util.Optional<java.lang.String> updateConfiguration(org.graylog2.plugin.streams.Stream, org.graylog2.alarmcallbacks.AlarmCallbackConfiguration);
    Code:
       0: aload_1
       1: invokeinterface #14,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getAlertReceivers:()Ljava/util/Map;
       6: astore_3
       7: aload_3
       8: ldc           #16                 // String users
      10: invokeinterface #17,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      15: checkcast     #18                 // class java/util/List
      18: astore        4
      20: aload_3
      21: ldc           #19                 // String emails
      23: invokeinterface #17,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      28: checkcast     #18                 // class java/util/List
      31: astore        5
      33: aload_2
      34: invokeinterface #82,  1           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getConfiguration:()Ljava/util/Map;
      39: astore        6
      41: aload         4
      43: ifnull        105
      46: aload         4
      48: invokeinterface #20,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      53: ifne          105
      56: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
      59: new           #38                 // class java/lang/StringBuilder
      62: dup
      63: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
      66: ldc           #83                 // String Moving users alert receivers from stream <
      68: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: aload_1
      72: invokeinterface #67,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
      77: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: ldc           #84                 // String >
      82: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      93: aload         6
      95: ldc           #86                 // String user_receivers
      97: aload         4
      99: invokeinterface #87,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     104: pop
     105: aload         5
     107: ifnull        169
     110: aload         5
     112: invokeinterface #20,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     117: ifne          169
     120: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     123: new           #38                 // class java/lang/StringBuilder
     126: dup
     127: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     130: ldc           #88                 // String Moving emails alert receivers from stream <
     132: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: aload_1
     136: invokeinterface #67,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
     141: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: ldc           #84                 // String >
     146: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     152: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     157: aload         6
     159: ldc           #89                 // String email_receivers
     161: aload         5
     163: invokeinterface #87,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     168: pop
     169: aload_2
     170: checkcast     #90                 // class org/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl
     173: invokevirtual #91                 // Method org/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl.toBuilder:()Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl$Builder;
     176: aload         6
     178: invokevirtual #92                 // Method org/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl$Builder.setConfiguration:(Ljava/util/Map;)Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl$Builder;
     181: invokevirtual #93                 // Method org/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl$Builder.build:()Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationImpl;
     184: astore        7
     186: aload_0
     187: getfield      #4                  // Field alarmCallbackService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
     190: aload         7
     192: invokeinterface #94,  2           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.save:(Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;)Ljava/lang/String;
     197: astore        8
     199: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     202: new           #38                 // class java/lang/StringBuilder
     205: dup
     206: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     209: ldc           #95                 // String Successfully created email alarm callback <
     211: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     214: aload         8
     216: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     219: ldc           #96                 // String > for stream <
     221: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: aload_1
     225: invokeinterface #67,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
     230: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: ldc           #75                 // String >.
     235: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     238: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     241: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     246: aload         8
     248: invokestatic  #81                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     251: areturn
     252: astore        8
     254: getstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
     257: new           #38                 // class java/lang/StringBuilder
     260: dup
     261: invokespecial #39                 // Method java/lang/StringBuilder."<init>":()V
     264: ldc           #98                 // String Unable to create email alarm callback for stream <
     266: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     269: aload_1
     270: invokeinterface #67,  1           // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
     275: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     278: ldc           #99                 // String >:
     280: invokevirtual #41                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     283: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     286: aload         8
     288: invokeinterface #100,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     293: invokestatic  #63                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     296: areturn
    Exception table:
       from    to  target type
         186   251   252   Class org/graylog2/plugin/database/ValidationException

  private static boolean lambda$migrateStream$4(java.util.Optional);
    Code:
       0: aload_0
       1: invokevirtual #101                // Method java/util/Optional.isPresent:()Z
       4: ifne          11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  private java.util.Optional lambda$migrateStream$3(org.graylog2.plugin.streams.Stream, org.graylog2.alarmcallbacks.AlarmCallbackConfiguration);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #102                // Method updateConfiguration:(Lorg/graylog2/plugin/streams/Stream;Lorg/graylog2/alarmcallbacks/AlarmCallbackConfiguration;)Ljava/util/Optional;
       6: areturn

  private static boolean lambda$migrateStream$2(org.graylog2.alarmcallbacks.AlarmCallbackConfiguration);
    Code:
       0: aload_0
       1: invokeinterface #103,  1          // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfiguration.getType:()Ljava/lang/String;
       6: ldc           #85                 // class org/graylog2/alarmcallbacks/EmailAlarmCallback
       8: invokevirtual #104                // Method java/lang/Class.getCanonicalName:()Ljava/lang/String;
      11: invokevirtual #105                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      14: ireturn

  private static boolean lambda$upgrade$1(java.util.Optional);
    Code:
       0: aload_0
       1: invokevirtual #101                // Method java/util/Optional.isPresent:()Z
       4: ifne          11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  private boolean lambda$upgrade$0(org.graylog2.plugin.streams.Stream);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #106                // Method hasAlertReceivers:(Lorg/graylog2/plugin/streams/Stream;)Z
       5: ifeq          48
       8: aload_0
       9: getfield      #3                  // Field streamService:Lorg/graylog2/streams/StreamService;
      12: aload_1
      13: invokeinterface #107,  2          // InterfaceMethod org/graylog2/streams/StreamService.getAlertConditions:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
      18: invokeinterface #20,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      23: ifne          48
      26: aload_0
      27: getfield      #4                  // Field alarmCallbackService:Lorg/graylog2/alarmcallbacks/AlarmCallbackConfigurationService;
      30: aload_1
      31: invokeinterface #55,  2           // InterfaceMethod org/graylog2/alarmcallbacks/AlarmCallbackConfigurationService.getForStream:(Lorg/graylog2/plugin/streams/Stream;)Ljava/util/List;
      36: invokeinterface #20,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      41: ifne          48
      44: iconst_1
      45: goto          49
      48: iconst_0
      49: ireturn

  static {};
    Code:
       0: ldc           #108                // class org/graylog2/migrations/V20161125161400_AlertReceiversMigration
       2: invokestatic  #109                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #37                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
