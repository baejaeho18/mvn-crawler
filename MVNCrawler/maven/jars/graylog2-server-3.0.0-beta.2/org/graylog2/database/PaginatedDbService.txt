Compiled from "PaginatedDbService.java"
public abstract class org.graylog2.database.PaginatedDbService<DTO> {
  protected final org.mongojack.JacksonDBCollection<DTO, org.bson.types.ObjectId> db;

  protected org.graylog2.database.PaginatedDbService(org.graylog2.database.MongoConnection, org.graylog2.bindings.providers.MongoJackObjectMapperProvider, java.lang.Class<DTO>, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: invokeinterface #5,  1            // InterfaceMethod org/graylog2/database/MongoConnection.getDatabase:()Lcom/mongodb/DB;
      11: aload         4
      13: invokevirtual #6                  // Method com/mongodb/DB.getCollection:(Ljava/lang/String;)Lcom/mongodb/DBCollection;
      16: aload_3
      17: ldc           #7                  // class org/bson/types/ObjectId
      19: aload_2
      20: invokevirtual #8                  // Method org/graylog2/bindings/providers/MongoJackObjectMapperProvider.get:()Lcom/fasterxml/jackson/databind/ObjectMapper;
      23: invokestatic  #9                  // Method org/mongojack/JacksonDBCollection.wrap:(Lcom/mongodb/DBCollection;Ljava/lang/Class;Ljava/lang/Class;Lcom/fasterxml/jackson/databind/ObjectMapper;)Lorg/mongojack/JacksonDBCollection;
      26: putfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
      29: return

  public java.util.Optional<DTO> get(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
       4: new           #7                  // class org/bson/types/ObjectId
       7: dup
       8: aload_1
       9: invokespecial #11                 // Method org/bson/types/ObjectId."<init>":(Ljava/lang/String;)V
      12: invokevirtual #12                 // Method org/mongojack/JacksonDBCollection.findOneById:(Ljava/lang/Object;)Ljava/lang/Object;
      15: invokestatic  #13                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      18: areturn

  public DTO save(DTO);
    Code:
       0: aload_0
       1: getfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
       4: aload_1
       5: invokevirtual #14                 // Method org/mongojack/JacksonDBCollection.save:(Ljava/lang/Object;)Lorg/mongojack/WriteResult;
       8: astore_2
       9: aload_2
      10: invokevirtual #15                 // Method org/mongojack/WriteResult.getSavedObject:()Ljava/lang/Object;
      13: areturn

  public int delete(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
       4: new           #7                  // class org/bson/types/ObjectId
       7: dup
       8: aload_1
       9: invokespecial #11                 // Method org/bson/types/ObjectId."<init>":(Ljava/lang/String;)V
      12: invokevirtual #16                 // Method org/mongojack/JacksonDBCollection.removeById:(Ljava/lang/Object;)Lorg/mongojack/WriteResult;
      15: invokevirtual #17                 // Method org/mongojack/WriteResult.getN:()I
      18: ireturn

  protected org.graylog2.database.PaginatedList<DTO> findPaginatedWithQueryAndSort(org.mongojack.DBQuery$Query, org.mongojack.DBSort$SortBuilder, int, int);
    Code:
       0: aload_0
       1: getfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
       4: aload_1
       5: invokevirtual #18                 // Method org/mongojack/JacksonDBCollection.find:(Lorg/mongojack/DBQuery$Query;)Lorg/mongojack/DBCursor;
       8: aload_2
       9: invokevirtual #19                 // Method org/mongojack/DBCursor.sort:(Lcom/mongodb/DBObject;)Lorg/mongojack/DBCursor;
      12: iload         4
      14: invokevirtual #20                 // Method org/mongojack/DBCursor.limit:(I)Lorg/mongojack/DBCursor;
      17: iload         4
      19: iconst_0
      20: iload_3
      21: iconst_1
      22: isub
      23: invokestatic  #21                 // Method java/lang/Math.max:(II)I
      26: imul
      27: invokevirtual #22                 // Method org/mongojack/DBCursor.skip:(I)Lorg/mongojack/DBCursor;
      30: astore        5
      32: aconst_null
      33: astore        6
      35: new           #23                 // class org/graylog2/database/PaginatedList
      38: dup
      39: aload_0
      40: aload         5
      42: invokespecial #24                 // Method asImmutableList:(Ljava/util/Iterator;)Lcom/google/common/collect/ImmutableList;
      45: aload         5
      47: invokevirtual #25                 // Method org/mongojack/DBCursor.count:()I
      50: iload_3
      51: iload         4
      53: invokespecial #26                 // Method org/graylog2/database/PaginatedList."<init>":(Ljava/util/List;III)V
      56: astore        7
      58: aload         5
      60: ifnull        70
      63: aload         6
      65: aload         5
      67: invokestatic  #27                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      70: aload         7
      72: areturn
      73: astore        7
      75: aload         7
      77: astore        6
      79: aload         7
      81: athrow
      82: astore        8
      84: aload         5
      86: ifnull        96
      89: aload         6
      91: aload         5
      93: invokestatic  #27                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      96: aload         8
      98: athrow
    Exception table:
       from    to  target type
          35    58    73   Class java/lang/Throwable
          35    58    82   any
          73    84    82   any

  private com.google.common.collect.ImmutableList<DTO> asImmutableList(java.util.Iterator<? extends DTO>);
    Code:
       0: aload_1
       1: invokestatic  #28                 // Method com/google/common/collect/ImmutableList.copyOf:(Ljava/util/Iterator;)Lcom/google/common/collect/ImmutableList;
       4: areturn

  protected org.graylog2.database.PaginatedList<DTO> findPaginatedWithQueryFilterAndSort(org.mongojack.DBQuery$Query, java.util.function.Predicate<DTO>, org.mongojack.DBSort$SortBuilder, int, int);
    Code:
       0: new           #29                 // class java/util/concurrent/atomic/AtomicInteger
       3: dup
       4: iconst_0
       5: invokespecial #30                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
       8: astore        6
      10: aload_0
      11: aload_1
      12: aload_3
      13: invokevirtual #31                 // Method streamQueryWithSort:(Lorg/mongojack/DBQuery$Query;Lorg/mongojack/DBSort$SortBuilder;)Ljava/util/stream/Stream;
      16: astore        7
      18: aconst_null
      19: astore        8
      21: aload         7
      23: aload_2
      24: invokeinterface #32,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      29: aload         6
      31: invokedynamic #33,  0             // InvokeDynamic #0:accept:(Ljava/util/concurrent/atomic/AtomicInteger;)Ljava/util/function/Consumer;
      36: invokeinterface #34,  2           // InterfaceMethod java/util/stream/Stream.peek:(Ljava/util/function/Consumer;)Ljava/util/stream/Stream;
      41: astore        9
      43: aload         9
      45: invokestatic  #35                 // InterfaceMethod java/util/stream/Stream.of:(Ljava/lang/Object;)Ljava/util/stream/Stream;
      48: invokedynamic #36,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      53: invokeinterface #37,  2           // InterfaceMethod java/util/stream/Stream.flatMap:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      58: iload         5
      60: iconst_0
      61: iload         4
      63: iconst_1
      64: isub
      65: invokestatic  #21                 // Method java/lang/Math.max:(II)I
      68: imul
      69: i2l
      70: invokeinterface #38,  3           // InterfaceMethod java/util/stream/Stream.skip:(J)Ljava/util/stream/Stream;
      75: iload         5
      77: i2l
      78: invokeinterface #39,  3           // InterfaceMethod java/util/stream/Stream.limit:(J)Ljava/util/stream/Stream;
      83: invokestatic  #40                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      86: invokeinterface #41,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      91: checkcast     #42                 // class java/util/List
      94: astore        10
      96: new           #23                 // class org/graylog2/database/PaginatedList
      99: dup
     100: aload         10
     102: aload         6
     104: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     107: iload         4
     109: iload         5
     111: invokespecial #26                 // Method org/graylog2/database/PaginatedList."<init>":(Ljava/util/List;III)V
     114: astore        11
     116: aload         7
     118: ifnull        128
     121: aload         8
     123: aload         7
     125: invokestatic  #27                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
     128: aload         11
     130: areturn
     131: astore        9
     133: aload         9
     135: astore        8
     137: aload         9
     139: athrow
     140: astore        12
     142: aload         7
     144: ifnull        154
     147: aload         8
     149: aload         7
     151: invokestatic  #27                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
     154: aload         12
     156: athrow
    Exception table:
       from    to  target type
          21   116   131   Class java/lang/Throwable
          21   116   140   any
         131   142   140   any

  public java.util.stream.Stream<DTO> streamAll();
    Code:
       0: aload_0
       1: invokestatic  #44                 // Method org/mongojack/DBQuery.empty:()Lorg/mongojack/DBQuery$Query;
       4: invokevirtual #45                 // Method streamQuery:(Lorg/mongojack/DBQuery$Query;)Ljava/util/stream/Stream;
       7: areturn

  public java.util.stream.Stream<DTO> streamByIds(java.util.Set<java.lang.String>);
    Code:
       0: aload_1
       1: invokeinterface #46,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
       6: invokedynamic #47,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      11: invokeinterface #48,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      16: invokestatic  #40                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      19: invokeinterface #41,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      24: checkcast     #42                 // class java/util/List
      27: astore_2
      28: aload_0
      29: ldc           #49                 // String _id
      31: aload_2
      32: invokestatic  #50                 // Method org/mongojack/DBQuery.in:(Ljava/lang/String;Ljava/util/Collection;)Lorg/mongojack/DBQuery$Query;
      35: invokevirtual #45                 // Method streamQuery:(Lorg/mongojack/DBQuery$Query;)Ljava/util/stream/Stream;
      38: areturn

  protected java.util.stream.Stream<DTO> streamQuery(org.mongojack.DBQuery$Query);
    Code:
       0: aload_0
       1: getfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
       4: aload_1
       5: invokevirtual #18                 // Method org/mongojack/JacksonDBCollection.find:(Lorg/mongojack/DBQuery$Query;)Lorg/mongojack/DBCursor;
       8: astore_2
       9: aload_2
      10: invokestatic  #51                 // Method com/google/common/collect/Streams.stream:(Ljava/lang/Iterable;)Ljava/util/stream/Stream;
      13: aload_2
      14: dup
      15: invokestatic  #52                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      18: pop
      19: invokedynamic #53,  0             // InvokeDynamic #3:run:(Lorg/mongojack/DBCursor;)Ljava/lang/Runnable;
      24: invokeinterface #54,  2           // InterfaceMethod java/util/stream/Stream.onClose:(Ljava/lang/Runnable;)Ljava/util/stream/BaseStream;
      29: checkcast     #55                 // class java/util/stream/Stream
      32: areturn

  protected java.util.stream.Stream<DTO> streamQueryWithSort(org.mongojack.DBQuery$Query, org.mongojack.DBSort$SortBuilder);
    Code:
       0: aload_0
       1: getfield      #10                 // Field db:Lorg/mongojack/JacksonDBCollection;
       4: aload_1
       5: invokevirtual #18                 // Method org/mongojack/JacksonDBCollection.find:(Lorg/mongojack/DBQuery$Query;)Lorg/mongojack/DBCursor;
       8: aload_2
       9: invokevirtual #19                 // Method org/mongojack/DBCursor.sort:(Lcom/mongodb/DBObject;)Lorg/mongojack/DBCursor;
      12: astore_3
      13: aload_3
      14: invokestatic  #51                 // Method com/google/common/collect/Streams.stream:(Ljava/lang/Iterable;)Ljava/util/stream/Stream;
      17: aload_3
      18: dup
      19: invokestatic  #52                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      22: pop
      23: invokedynamic #53,  0             // InvokeDynamic #3:run:(Lorg/mongojack/DBCursor;)Ljava/lang/Runnable;
      28: invokeinterface #54,  2           // InterfaceMethod java/util/stream/Stream.onClose:(Ljava/lang/Runnable;)Ljava/util/stream/BaseStream;
      33: checkcast     #55                 // class java/util/stream/Stream
      36: areturn

  protected org.mongojack.DBSort$SortBuilder getSortBuilder(java.lang.String, java.lang.String);
    Code:
       0: ldc           #56                 // String desc
       2: aload_1
       3: invokevirtual #57                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
       6: ifeq          17
       9: aload_2
      10: invokestatic  #58                 // Method org/mongojack/DBSort.desc:(Ljava/lang/String;)Lorg/mongojack/DBSort$SortBuilder;
      13: astore_3
      14: goto          22
      17: aload_2
      18: invokestatic  #59                 // Method org/mongojack/DBSort.asc:(Ljava/lang/String;)Lorg/mongojack/DBSort$SortBuilder;
      21: astore_3
      22: aload_3
      23: areturn

  private static java.util.stream.Stream lambda$findPaginatedWithQueryFilterAndSort$1(java.util.stream.Stream);
    Code:
       0: aload_0
       1: areturn

  private static void lambda$findPaginatedWithQueryFilterAndSort$0(java.util.concurrent.atomic.AtomicInteger, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
       4: pop
       5: return

  private static void $closeResource(java.lang.Throwable, java.lang.AutoCloseable);
    Code:
       0: aload_0
       1: ifnull        22
       4: aload_1
       5: invokeinterface #1,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      10: goto          28
      13: astore_2
      14: aload_0
      15: aload_2
      16: invokevirtual #3                  // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      19: goto          28
      22: aload_1
      23: invokeinterface #1,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      28: return
    Exception table:
       from    to  target type
           4    10    13   Class java/lang/Throwable
}
