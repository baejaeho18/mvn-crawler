Compiled from "ProcessBuffer.java"
public class org.graylog2.shared.buffers.ProcessBuffer extends org.graylog2.plugin.buffers.Buffer {
  private static final org.slf4j.Logger LOG;

  private final com.codahale.metrics.Meter incomingMessages;

  public org.graylog2.shared.buffers.ProcessBuffer(com.codahale.metrics.MetricRegistry, org.graylog2.shared.buffers.processors.DecodingProcessor$Factory, org.graylog2.shared.buffers.processors.ProcessBufferProcessor$Factory, int, int, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/plugin/buffers/Buffer."<init>":()V
       4: aload_0
       5: iload         5
       7: putfield      #2                  // Field ringBufferSize:I
      10: aload_0
      11: aload_1
      12: ldc           #3                  // class org/graylog2/shared/buffers/ProcessBuffer
      14: iconst_1
      15: anewarray     #4                  // class java/lang/String
      18: dup
      19: iconst_0
      20: ldc           #5                  // String incomingMessages
      22: aastore
      23: invokestatic  #6                  // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      26: invokevirtual #7                  // Method com/codahale/metrics/MetricRegistry.meter:(Ljava/lang/String;)Lcom/codahale/metrics/Meter;
      29: putfield      #8                  // Field incomingMessages:Lcom/codahale/metrics/Meter;
      32: aload_1
      33: ldc           #3                  // class org/graylog2/shared/buffers/ProcessBuffer
      35: iconst_1
      36: anewarray     #4                  // class java/lang/String
      39: dup
      40: iconst_0
      41: ldc           #9                  // String parseTime
      43: aastore
      44: invokestatic  #6                  // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      47: invokevirtual #10                 // Method com/codahale/metrics/MetricRegistry.timer:(Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      50: astore        7
      52: aload_1
      53: ldc           #3                  // class org/graylog2/shared/buffers/ProcessBuffer
      55: iconst_1
      56: anewarray     #4                  // class java/lang/String
      59: dup
      60: iconst_0
      61: ldc           #11                 // String decodeTime
      63: aastore
      64: invokestatic  #6                  // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      67: invokevirtual #10                 // Method com/codahale/metrics/MetricRegistry.timer:(Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      70: astore        8
      72: aload_1
      73: ldc           #13                 // String org.graylog2.buffers.process.usage
      75: new           #14                 // class org/graylog2/shared/buffers/ProcessBuffer$1
      78: dup
      79: aload_0
      80: invokespecial #15                 // Method org/graylog2/shared/buffers/ProcessBuffer$1."<init>":(Lorg/graylog2/shared/buffers/ProcessBuffer;)V
      83: invokestatic  #16                 // Method org/graylog2/shared/metrics/MetricUtils.safelyRegister:(Lcom/codahale/metrics/MetricRegistry;Ljava/lang/String;Lcom/codahale/metrics/Metric;)Lcom/codahale/metrics/Metric;
      86: pop
      87: aload_1
      88: ldc           #17                 // String org.graylog2.buffers.process.size
      90: aload_0
      91: getfield      #2                  // Field ringBufferSize:I
      94: i2l
      95: invokestatic  #18                 // Method org/graylog2/shared/metrics/MetricUtils.constantGauge:(J)Lcom/codahale/metrics/Gauge;
      98: invokestatic  #16                 // Method org/graylog2/shared/metrics/MetricUtils.safelyRegister:(Lcom/codahale/metrics/MetricRegistry;Ljava/lang/String;Lcom/codahale/metrics/Metric;)Lcom/codahale/metrics/Metric;
     101: pop
     102: aload_0
     103: aload         6
     105: ldc           #19                 // String processor_wait_strategy
     107: invokevirtual #20                 // Method getWaitStrategy:(Ljava/lang/String;Ljava/lang/String;)Lcom/lmax/disruptor/WaitStrategy;
     110: astore        9
     112: new           #21                 // class com/lmax/disruptor/dsl/Disruptor
     115: dup
     116: getstatic     #22                 // Field org/graylog2/plugin/buffers/MessageEvent.EVENT_FACTORY:Lcom/lmax/disruptor/EventFactory;
     119: aload_0
     120: getfield      #2                  // Field ringBufferSize:I
     123: aload_0
     124: aload_1
     125: invokespecial #23                 // Method threadFactory:(Lcom/codahale/metrics/MetricRegistry;)Ljava/util/concurrent/ThreadFactory;
     128: getstatic     #24                 // Field com/lmax/disruptor/dsl/ProducerType.MULTI:Lcom/lmax/disruptor/dsl/ProducerType;
     131: aload         9
     133: invokespecial #25                 // Method com/lmax/disruptor/dsl/Disruptor."<init>":(Lcom/lmax/disruptor/EventFactory;ILjava/util/concurrent/ThreadFactory;Lcom/lmax/disruptor/dsl/ProducerType;Lcom/lmax/disruptor/WaitStrategy;)V
     136: astore        10
     138: aload         10
     140: new           #26                 // class org/graylog2/shared/buffers/LoggingExceptionHandler
     143: dup
     144: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     147: invokespecial #28                 // Method org/graylog2/shared/buffers/LoggingExceptionHandler."<init>":(Lorg/slf4j/Logger;)V
     150: invokevirtual #29                 // Method com/lmax/disruptor/dsl/Disruptor.setDefaultExceptionHandler:(Lcom/lmax/disruptor/ExceptionHandler;)V
     153: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     156: ldc           #30                 // String Initialized ProcessBuffer with ring size <{}> and wait strategy <{}>.
     158: aload_0
     159: getfield      #2                  // Field ringBufferSize:I
     162: invokestatic  #31                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     165: aload         9
     167: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     170: invokevirtual #33                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     173: invokeinterface #34,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     178: iload         4
     180: anewarray     #35                 // class org/graylog2/shared/buffers/processors/ProcessBufferProcessor
     183: astore        11
     185: iconst_0
     186: istore        12
     188: iload         12
     190: iload         4
     192: if_icmpge     222
     195: aload         11
     197: iload         12
     199: aload_3
     200: aload_2
     201: aload         8
     203: aload         7
     205: invokeinterface #36,  3           // InterfaceMethod org/graylog2/shared/buffers/processors/DecodingProcessor$Factory.create:(Lcom/codahale/metrics/Timer;Lcom/codahale/metrics/Timer;)Lorg/graylog2/shared/buffers/processors/DecodingProcessor;
     210: invokeinterface #37,  2           // InterfaceMethod org/graylog2/shared/buffers/processors/ProcessBufferProcessor$Factory.create:(Lorg/graylog2/shared/buffers/processors/DecodingProcessor;)Lorg/graylog2/shared/buffers/processors/ProcessBufferProcessor;
     215: aastore
     216: iinc          12, 1
     219: goto          188
     222: aload         10
     224: aload         11
     226: invokevirtual #38                 // Method com/lmax/disruptor/dsl/Disruptor.handleEventsWithWorkerPool:([Lcom/lmax/disruptor/WorkHandler;)Lcom/lmax/disruptor/dsl/EventHandlerGroup;
     229: pop
     230: aload_0
     231: aload         10
     233: invokevirtual #39                 // Method com/lmax/disruptor/dsl/Disruptor.start:()Lcom/lmax/disruptor/RingBuffer;
     236: putfield      #40                 // Field ringBuffer:Lcom/lmax/disruptor/RingBuffer;
     239: return

  private java.util.concurrent.ThreadFactory threadFactory(com.codahale.metrics.MetricRegistry);
    Code:
       0: new           #41                 // class com/google/common/util/concurrent/ThreadFactoryBuilder
       3: dup
       4: invokespecial #42                 // Method com/google/common/util/concurrent/ThreadFactoryBuilder."<init>":()V
       7: ldc           #43                 // String processbufferprocessor-%d
       9: invokevirtual #44                 // Method com/google/common/util/concurrent/ThreadFactoryBuilder.setNameFormat:(Ljava/lang/String;)Lcom/google/common/util/concurrent/ThreadFactoryBuilder;
      12: invokevirtual #45                 // Method com/google/common/util/concurrent/ThreadFactoryBuilder.build:()Ljava/util/concurrent/ThreadFactory;
      15: astore_2
      16: new           #46                 // class com/codahale/metrics/InstrumentedThreadFactory
      19: dup
      20: aload_2
      21: aload_1
      22: aload_0
      23: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      26: iconst_1
      27: anewarray     #4                  // class java/lang/String
      30: dup
      31: iconst_0
      32: ldc           #47                 // String thread-factory
      34: aastore
      35: invokestatic  #6                  // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      38: invokespecial #48                 // Method com/codahale/metrics/InstrumentedThreadFactory."<init>":(Ljava/util/concurrent/ThreadFactory;Lcom/codahale/metrics/MetricRegistry;Ljava/lang/String;)V
      41: areturn

  public void insertBlocking(org.graylog2.plugin.journal.RawMessage);
    Code:
       0: aload_0
       1: getfield      #40                 // Field ringBuffer:Lcom/lmax/disruptor/RingBuffer;
       4: invokevirtual #49                 // Method com/lmax/disruptor/RingBuffer.next:()J
       7: lstore_2
       8: aload_0
       9: getfield      #40                 // Field ringBuffer:Lcom/lmax/disruptor/RingBuffer;
      12: lload_2
      13: invokevirtual #50                 // Method com/lmax/disruptor/RingBuffer.get:(J)Ljava/lang/Object;
      16: checkcast     #51                 // class org/graylog2/plugin/buffers/MessageEvent
      19: astore        4
      21: aload         4
      23: aload_1
      24: invokevirtual #52                 // Method org/graylog2/plugin/buffers/MessageEvent.setRaw:(Lorg/graylog2/plugin/journal/RawMessage;)V
      27: aload_0
      28: getfield      #40                 // Field ringBuffer:Lcom/lmax/disruptor/RingBuffer;
      31: lload_2
      32: invokevirtual #53                 // Method com/lmax/disruptor/RingBuffer.publish:(J)V
      35: aload_0
      36: iconst_1
      37: invokevirtual #54                 // Method afterInsert:(I)V
      40: return

  protected void afterInsert(int);
    Code:
       0: aload_0
       1: getfield      #8                  // Field incomingMessages:Lcom/codahale/metrics/Meter;
       4: iload_1
       5: i2l
       6: invokevirtual #55                 // Method com/codahale/metrics/Meter.mark:(J)V
       9: return

  static {};
    Code:
       0: ldc           #3                  // class org/graylog2/shared/buffers/ProcessBuffer
       2: invokestatic  #56                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
