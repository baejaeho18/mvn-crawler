Compiled from "PemKeyStore.java"
public final class org.graylog2.shared.security.tls.PemKeyStore {
  private static final char[] EMPTY_CHAR_ARRAY;

  public org.graylog2.shared.security.tls.PemKeyStore();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  protected static java.security.spec.PKCS8EncodedKeySpec generateKeySpec(char[], byte[]) throws java.io.IOException, java.security.NoSuchAlgorithmException, javax.crypto.NoSuchPaddingException, java.security.spec.InvalidKeySpecException, java.security.InvalidKeyException, java.security.InvalidAlgorithmParameterException;
    Code:
       0: aload_0
       1: ifnull        9
       4: aload_0
       5: arraylength
       6: ifne          18
       9: new           #2                  // class java/security/spec/PKCS8EncodedKeySpec
      12: dup
      13: aload_1
      14: invokespecial #3                  // Method java/security/spec/PKCS8EncodedKeySpec."<init>":([B)V
      17: areturn
      18: new           #4                  // class javax/crypto/EncryptedPrivateKeyInfo
      21: dup
      22: aload_1
      23: invokespecial #5                  // Method javax/crypto/EncryptedPrivateKeyInfo."<init>":([B)V
      26: astore_2
      27: aload_2
      28: invokevirtual #6                  // Method javax/crypto/EncryptedPrivateKeyInfo.getAlgName:()Ljava/lang/String;
      31: invokestatic  #7                  // Method javax/crypto/SecretKeyFactory.getInstance:(Ljava/lang/String;)Ljavax/crypto/SecretKeyFactory;
      34: astore_3
      35: new           #8                  // class javax/crypto/spec/PBEKeySpec
      38: dup
      39: aload_0
      40: invokespecial #9                  // Method javax/crypto/spec/PBEKeySpec."<init>":([C)V
      43: astore        4
      45: aload_3
      46: aload         4
      48: invokevirtual #10                 // Method javax/crypto/SecretKeyFactory.generateSecret:(Ljava/security/spec/KeySpec;)Ljavax/crypto/SecretKey;
      51: astore        5
      53: aload_2
      54: invokevirtual #6                  // Method javax/crypto/EncryptedPrivateKeyInfo.getAlgName:()Ljava/lang/String;
      57: invokestatic  #11                 // Method javax/crypto/Cipher.getInstance:(Ljava/lang/String;)Ljavax/crypto/Cipher;
      60: astore        6
      62: aload         6
      64: iconst_2
      65: aload         5
      67: aload_2
      68: invokevirtual #13                 // Method javax/crypto/EncryptedPrivateKeyInfo.getAlgParameters:()Ljava/security/AlgorithmParameters;
      71: invokevirtual #14                 // Method javax/crypto/Cipher.init:(ILjava/security/Key;Ljava/security/AlgorithmParameters;)V
      74: aload_2
      75: aload         6
      77: invokevirtual #15                 // Method javax/crypto/EncryptedPrivateKeyInfo.getKeySpec:(Ljavax/crypto/Cipher;)Ljava/security/spec/PKCS8EncodedKeySpec;
      80: areturn

  public static java.security.KeyStore buildKeyStore(java.nio.file.Path, java.nio.file.Path, char[]) throws java.security.KeyStoreException, java.security.NoSuchAlgorithmException, javax.crypto.NoSuchPaddingException, java.security.spec.InvalidKeySpecException, java.security.InvalidAlgorithmParameterException, java.security.cert.CertificateException, java.security.KeyException, java.io.IOException;
    Code:
       0: aload_2
       1: ifnonnull     10
       4: getstatic     #16                 // Field EMPTY_CHAR_ARRAY:[C
       7: goto          11
      10: aload_2
      11: astore_3
      12: aload_1
      13: invokestatic  #17                 // Method org/graylog2/shared/security/tls/PemReader.readPrivateKey:(Ljava/nio/file/Path;)[B
      16: astore        4
      18: aload_2
      19: aload         4
      21: invokestatic  #18                 // Method generateKeySpec:([C[B)Ljava/security/spec/PKCS8EncodedKeySpec;
      24: astore        5
      26: ldc           #19                 // String RSA
      28: invokestatic  #20                 // Method java/security/KeyFactory.getInstance:(Ljava/lang/String;)Ljava/security/KeyFactory;
      31: aload         5
      33: invokevirtual #21                 // Method java/security/KeyFactory.generatePrivate:(Ljava/security/spec/KeySpec;)Ljava/security/PrivateKey;
      36: astore        6
      38: goto          89
      41: astore        7
      43: ldc           #23                 // String DSA
      45: invokestatic  #20                 // Method java/security/KeyFactory.getInstance:(Ljava/lang/String;)Ljava/security/KeyFactory;
      48: aload         5
      50: invokevirtual #21                 // Method java/security/KeyFactory.generatePrivate:(Ljava/security/spec/KeySpec;)Ljava/security/PrivateKey;
      53: astore        6
      55: goto          89
      58: astore        8
      60: ldc           #24                 // String EC
      62: invokestatic  #20                 // Method java/security/KeyFactory.getInstance:(Ljava/lang/String;)Ljava/security/KeyFactory;
      65: aload         5
      67: invokevirtual #21                 // Method java/security/KeyFactory.generatePrivate:(Ljava/security/spec/KeySpec;)Ljava/security/PrivateKey;
      70: astore        6
      72: goto          89
      75: astore        9
      77: new           #22                 // class java/security/spec/InvalidKeySpecException
      80: dup
      81: ldc           #25                 // String Neither RSA, DSA nor EC worked
      83: aload         9
      85: invokespecial #26                 // Method java/security/spec/InvalidKeySpecException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      88: athrow
      89: ldc           #27                 // String X.509
      91: invokestatic  #28                 // Method java/security/cert/CertificateFactory.getInstance:(Ljava/lang/String;)Ljava/security/cert/CertificateFactory;
      94: astore        7
      96: aload_0
      97: invokestatic  #29                 // Method org/graylog2/shared/security/tls/PemReader.readCertificates:(Ljava/nio/file/Path;)Ljava/util/List;
     100: astore        8
     102: new           #30                 // class java/util/ArrayList
     105: dup
     106: aload         8
     108: invokeinterface #31,  1           // InterfaceMethod java/util/List.size:()I
     113: invokespecial #32                 // Method java/util/ArrayList."<init>":(I)V
     116: astore        9
     118: aload         8
     120: invokeinterface #33,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     125: astore        10
     127: aload         10
     129: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     134: ifeq          174
     137: aload         10
     139: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     144: checkcast     #36                 // class "[B"
     147: astore        11
     149: aload         9
     151: aload         7
     153: new           #37                 // class java/io/ByteArrayInputStream
     156: dup
     157: aload         11
     159: invokespecial #38                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     162: invokevirtual #39                 // Method java/security/cert/CertificateFactory.generateCertificate:(Ljava/io/InputStream;)Ljava/security/cert/Certificate;
     165: invokeinterface #40,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     170: pop
     171: goto          127
     174: invokestatic  #41                 // Method java/security/KeyStore.getDefaultType:()Ljava/lang/String;
     177: invokestatic  #42                 // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
     180: astore        10
     182: aload         10
     184: aconst_null
     185: aload_3
     186: invokevirtual #43                 // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
     189: aload         10
     191: ldc           #44                 // String key
     193: aload         6
     195: aload_3
     196: aload         9
     198: aload         9
     200: invokeinterface #31,  1           // InterfaceMethod java/util/List.size:()I
     205: anewarray     #45                 // class java/security/cert/Certificate
     208: invokeinterface #46,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     213: checkcast     #47                 // class "[Ljava/security/cert/Certificate;"
     216: invokevirtual #48                 // Method java/security/KeyStore.setKeyEntry:(Ljava/lang/String;Ljava/security/Key;[C[Ljava/security/cert/Certificate;)V
     219: aload         10
     221: areturn
    Exception table:
       from    to  target type
          26    38    41   Class java/security/spec/InvalidKeySpecException
          43    55    58   Class java/security/spec/InvalidKeySpecException
          60    72    75   Class java/security/spec/InvalidKeySpecException

  static {};
    Code:
       0: iconst_0
       1: newarray       char
       3: putstatic     #16                 // Field EMPTY_CHAR_ARRAY:[C
       6: return
}
