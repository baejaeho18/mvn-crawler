Compiled from "ElasticSearchOutput.java"
public class org.graylog2.outputs.ElasticSearchOutput implements org.graylog2.plugin.outputs.MessageOutput {
  private static final java.lang.String WRITES_METRICNAME;

  private static final java.lang.String FAILURES_METRICNAME;

  private static final java.lang.String PROCESS_TIME_METRICNAME;

  private static final java.lang.String NAME;

  private static final org.slf4j.Logger LOG;

  private final com.codahale.metrics.Meter writes;

  private final com.codahale.metrics.Meter failures;

  private final com.codahale.metrics.Timer processTime;

  private final org.graylog2.indexer.messages.Messages messages;

  private final org.graylog2.shared.journal.Journal journal;

  private final java.util.concurrent.atomic.AtomicBoolean isRunning;

  public org.graylog2.outputs.ElasticSearchOutput(com.codahale.metrics.MetricRegistry, org.graylog2.indexer.messages.Messages, org.graylog2.shared.journal.Journal, org.graylog2.plugin.streams.Stream, org.graylog2.plugin.configuration.Configuration);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #1                  // Method "<init>":(Lcom/codahale/metrics/MetricRegistry;Lorg/graylog2/indexer/messages/Messages;Lorg/graylog2/shared/journal/Journal;)V
       7: return

  public org.graylog2.outputs.ElasticSearchOutput(com.codahale.metrics.MetricRegistry, org.graylog2.indexer.messages.Messages, org.graylog2.shared.journal.Journal);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/concurrent/atomic/AtomicBoolean
       8: dup
       9: iconst_0
      10: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      13: putfield      #5                  // Field isRunning:Ljava/util/concurrent/atomic/AtomicBoolean;
      16: aload_0
      17: aload_2
      18: putfield      #6                  // Field messages:Lorg/graylog2/indexer/messages/Messages;
      21: aload_0
      22: aload_3
      23: putfield      #7                  // Field journal:Lorg/graylog2/shared/journal/Journal;
      26: aload_0
      27: aload_1
      28: getstatic     #8                  // Field WRITES_METRICNAME:Ljava/lang/String;
      31: invokevirtual #9                  // Method com/codahale/metrics/MetricRegistry.meter:(Ljava/lang/String;)Lcom/codahale/metrics/Meter;
      34: putfield      #10                 // Field writes:Lcom/codahale/metrics/Meter;
      37: aload_0
      38: aload_1
      39: getstatic     #11                 // Field FAILURES_METRICNAME:Ljava/lang/String;
      42: invokevirtual #9                  // Method com/codahale/metrics/MetricRegistry.meter:(Ljava/lang/String;)Lcom/codahale/metrics/Meter;
      45: putfield      #12                 // Field failures:Lcom/codahale/metrics/Meter;
      48: aload_0
      49: aload_1
      50: getstatic     #13                 // Field PROCESS_TIME_METRICNAME:Ljava/lang/String;
      53: invokevirtual #14                 // Method com/codahale/metrics/MetricRegistry.timer:(Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      56: putfield      #15                 // Field processTime:Lcom/codahale/metrics/Timer;
      59: aload_0
      60: getfield      #5                  // Field isRunning:Ljava/util/concurrent/atomic/AtomicBoolean;
      63: iconst_1
      64: invokevirtual #16                 // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
      67: return

  public void write(org.graylog2.plugin.Message) throws java.lang.Exception;
    Code:
       0: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
       3: invokeinterface #18,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
       8: ifeq          27
      11: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      14: ldc           #19                 // String Writing message id to [{}]: <{}>
      16: ldc           #21                 // String ElasticSearch Output
      18: aload_1
      19: invokevirtual #22                 // Method org/graylog2/plugin/Message.getId:()Ljava/lang/String;
      22: invokeinterface #23,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      27: aload_0
      28: aload_1
      29: invokestatic  #24                 // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
      32: invokevirtual #25                 // Method write:(Ljava/util/List;)V
      35: return

  public void write(java.util.List<org.graylog2.plugin.Message>) throws java.lang.Exception;
    Code:
       0: new           #26                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #27                 // String Method not supported!
       6: invokespecial #28                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public void writeMessageEntries(java.util.List<java.util.Map$Entry<org.graylog2.indexer.IndexSet, org.graylog2.plugin.Message>>) throws java.lang.Exception;
    Code:
       0: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
       3: invokeinterface #18,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
       8: ifeq          72
      11: aload_1
      12: invokeinterface #29,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      17: invokedynamic #30,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
      22: invokeinterface #31,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      27: invokedynamic #32,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      32: invokeinterface #31,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      37: invokestatic  #33                 // InterfaceMethod java/util/Comparator.naturalOrder:()Ljava/util/Comparator;
      40: invokeinterface #34,  2           // InterfaceMethod java/util/stream/Stream.sorted:(Ljava/util/Comparator;)Ljava/util/stream/Stream;
      45: ldc           #35                 // String ,
      47: invokestatic  #36                 // Method java/util/stream/Collectors.joining:(Ljava/lang/CharSequence;)Ljava/util/stream/Collector;
      50: invokeinterface #37,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      55: checkcast     #38                 // class java/lang/String
      58: astore_2
      59: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      62: ldc           #39                 // String Writing message ids to [{}]: <{}>
      64: ldc           #21                 // String ElasticSearch Output
      66: aload_2
      67: invokeinterface #23,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      72: aload_0
      73: getfield      #10                 // Field writes:Lcom/codahale/metrics/Meter;
      76: aload_1
      77: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
      82: i2l
      83: invokevirtual #41                 // Method com/codahale/metrics/Meter.mark:(J)V
      86: aload_0
      87: getfield      #15                 // Field processTime:Lcom/codahale/metrics/Timer;
      90: invokevirtual #42                 // Method com/codahale/metrics/Timer.time:()Lcom/codahale/metrics/Timer$Context;
      93: astore_3
      94: aconst_null
      95: astore        4
      97: aload_0
      98: getfield      #6                  // Field messages:Lorg/graylog2/indexer/messages/Messages;
     101: aload_1
     102: invokevirtual #43                 // Method org/graylog2/indexer/messages/Messages.bulkIndex:(Ljava/util/List;)Ljava/util/List;
     105: astore_2
     106: aload_3
     107: ifnull        187
     110: aload         4
     112: ifnull        134
     115: aload_3
     116: invokevirtual #44                 // Method com/codahale/metrics/Timer$Context.close:()V
     119: goto          187
     122: astore        5
     124: aload         4
     126: aload         5
     128: invokevirtual #46                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     131: goto          187
     134: aload_3
     135: invokevirtual #44                 // Method com/codahale/metrics/Timer$Context.close:()V
     138: goto          187
     141: astore        5
     143: aload         5
     145: astore        4
     147: aload         5
     149: athrow
     150: astore        6
     152: aload_3
     153: ifnull        184
     156: aload         4
     158: ifnull        180
     161: aload_3
     162: invokevirtual #44                 // Method com/codahale/metrics/Timer$Context.close:()V
     165: goto          184
     168: astore        7
     170: aload         4
     172: aload         7
     174: invokevirtual #46                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     177: goto          184
     180: aload_3
     181: invokevirtual #44                 // Method com/codahale/metrics/Timer$Context.close:()V
     184: aload         6
     186: athrow
     187: aload_0
     188: getfield      #12                 // Field failures:Lcom/codahale/metrics/Meter;
     191: aload_2
     192: invokeinterface #40,  1           // InterfaceMethod java/util/List.size:()I
     197: i2l
     198: invokevirtual #41                 // Method com/codahale/metrics/Meter.mark:(J)V
     201: aload_1
     202: invokeinterface #29,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
     207: invokedynamic #30,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
     212: invokeinterface #31,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     217: invokedynamic #47,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
     222: invokeinterface #31,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     227: invokedynamic #48,  0             // InvokeDynamic #3:compare:()Ljava/util/Comparator;
     232: invokeinterface #49,  2           // InterfaceMethod java/util/stream/Stream.max:(Ljava/util/Comparator;)Ljava/util/Optional;
     237: astore_3
     238: aload_3
     239: aload_0
     240: getfield      #7                  // Field journal:Lorg/graylog2/shared/journal/Journal;
     243: dup
     244: invokestatic  #50                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
     247: pop
     248: invokedynamic #51,  0             // InvokeDynamic #4:accept:(Lorg/graylog2/shared/journal/Journal;)Ljava/util/function/Consumer;
     253: invokevirtual #52                 // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
     256: return
    Exception table:
       from    to  target type
         115   119   122   Class java/lang/Throwable
          97   106   141   Class java/lang/Throwable
          97   106   150   any
         161   165   168   Class java/lang/Throwable
         141   152   150   any

  public void stop();
    Code:
       0: return

  public boolean isRunning();
    Code:
       0: aload_0
       1: getfield      #5                  // Field isRunning:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ireturn

  static {};
    Code:
       0: ldc           #20                 // class org/graylog2/outputs/ElasticSearchOutput
       2: iconst_1
       3: anewarray     #38                 // class java/lang/String
       6: dup
       7: iconst_0
       8: ldc           #54                 // String writes
      10: aastore
      11: invokestatic  #55                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      14: putstatic     #8                  // Field WRITES_METRICNAME:Ljava/lang/String;
      17: ldc           #20                 // class org/graylog2/outputs/ElasticSearchOutput
      19: iconst_1
      20: anewarray     #38                 // class java/lang/String
      23: dup
      24: iconst_0
      25: ldc           #56                 // String failures
      27: aastore
      28: invokestatic  #55                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      31: putstatic     #11                 // Field FAILURES_METRICNAME:Ljava/lang/String;
      34: ldc           #20                 // class org/graylog2/outputs/ElasticSearchOutput
      36: iconst_1
      37: anewarray     #38                 // class java/lang/String
      40: dup
      41: iconst_0
      42: ldc           #57                 // String processTime
      44: aastore
      45: invokestatic  #55                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      48: putstatic     #13                 // Field PROCESS_TIME_METRICNAME:Ljava/lang/String;
      51: ldc           #20                 // class org/graylog2/outputs/ElasticSearchOutput
      53: invokestatic  #58                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      56: putstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      59: return
}
