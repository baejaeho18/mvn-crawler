Compiled from "StreamRouterEngine.java"
class org.graylog2.streams.StreamRouterEngine$Rule {
  private final org.graylog2.plugin.streams.Stream stream;

  private final org.graylog2.plugin.streams.StreamRule rule;

  private final java.lang.String streamId;

  private final java.lang.String streamRuleId;

  private final org.graylog2.streams.matchers.StreamRuleMatcher matcher;

  private final org.graylog2.plugin.streams.Stream$MatchingType matchingType;

  final org.graylog2.streams.StreamRouterEngine this$0;

  public org.graylog2.streams.StreamRouterEngine$Rule(org.graylog2.streams.StreamRouterEngine, org.graylog2.plugin.streams.Stream, org.graylog2.plugin.streams.StreamRule, org.graylog2.plugin.streams.Stream$MatchingType) throws org.graylog2.streams.InvalidStreamRuleTypeException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
       5: aload_0
       6: invokespecial #6                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #7                  // Field stream:Lorg/graylog2/plugin/streams/Stream;
      14: aload_0
      15: aload_3
      16: putfield      #8                  // Field rule:Lorg/graylog2/plugin/streams/StreamRule;
      19: aload_0
      20: aload_2
      21: invokeinterface #9,  1            // InterfaceMethod org/graylog2/plugin/streams/Stream.getId:()Ljava/lang/String;
      26: putfield      #10                 // Field streamId:Ljava/lang/String;
      29: aload_0
      30: aload_3
      31: invokeinterface #11,  1           // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getId:()Ljava/lang/String;
      36: putfield      #12                 // Field streamRuleId:Ljava/lang/String;
      39: aload_0
      40: aload         4
      42: putfield      #13                 // Field matchingType:Lorg/graylog2/plugin/streams/Stream$MatchingType;
      45: aload_0
      46: aload_3
      47: invokeinterface #14,  1           // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getType:()Lorg/graylog2/plugin/streams/StreamRuleType;
      52: invokestatic  #15                 // Method org/graylog2/streams/StreamRuleMatcherFactory.build:(Lorg/graylog2/plugin/streams/StreamRuleType;)Lorg/graylog2/streams/matchers/StreamRuleMatcher;
      55: putfield      #16                 // Field matcher:Lorg/graylog2/streams/matchers/StreamRuleMatcher;
      58: return

  public org.graylog2.plugin.streams.Stream$MatchingType getMatchingType();
    Code:
       0: aload_0
       1: getfield      #13                 // Field matchingType:Lorg/graylog2/plugin/streams/Stream$MatchingType;
       4: areturn

  public org.graylog2.plugin.streams.Stream match(org.graylog2.plugin.Message);
    Code:
       0: aload_0
       1: getfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
       4: invokestatic  #17                 // Method org/graylog2/streams/StreamRouterEngine.access$100:(Lorg/graylog2/streams/StreamRouterEngine;)Lorg/graylog2/streams/StreamMetrics;
       7: aload_0
       8: getfield      #10                 // Field streamId:Ljava/lang/String;
      11: aload_0
      12: getfield      #12                 // Field streamRuleId:Ljava/lang/String;
      15: invokevirtual #18                 // Method org/graylog2/streams/StreamMetrics.getExecutionTimer:(Ljava/lang/String;Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      18: invokevirtual #19                 // Method com/codahale/metrics/Timer.time:()Lcom/codahale/metrics/Timer$Context;
      21: astore_2
      22: aconst_null
      23: astore_3
      24: aload_0
      25: getfield      #16                 // Field matcher:Lorg/graylog2/streams/matchers/StreamRuleMatcher;
      28: aload_1
      29: aload_0
      30: getfield      #8                  // Field rule:Lorg/graylog2/plugin/streams/StreamRule;
      33: invokeinterface #20,  3           // InterfaceMethod org/graylog2/streams/matchers/StreamRuleMatcher.match:(Lorg/graylog2/plugin/Message;Lorg/graylog2/plugin/streams/StreamRule;)Z
      38: ifeq          59
      41: aload_0
      42: getfield      #7                  // Field stream:Lorg/graylog2/plugin/streams/Stream;
      45: astore        4
      47: aload_2
      48: ifnull        56
      51: aload_3
      52: aload_2
      53: invokestatic  #21                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      56: aload         4
      58: areturn
      59: aconst_null
      60: astore        4
      62: aload_2
      63: ifnull        71
      66: aload_3
      67: aload_2
      68: invokestatic  #21                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      71: aload         4
      73: areturn
      74: astore        4
      76: aload         4
      78: astore_3
      79: aload         4
      81: athrow
      82: astore        5
      84: aload_2
      85: ifnull        93
      88: aload_3
      89: aload_2
      90: invokestatic  #21                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      93: aload         5
      95: athrow
      96: astore_2
      97: invokestatic  #23                 // Method org/graylog2/streams/StreamRouterEngine.access$200:()Lorg/slf4j/Logger;
     100: invokeinterface #24,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     105: ifeq          173
     108: invokestatic  #23                 // Method org/graylog2/streams/StreamRouterEngine.access$200:()Lorg/slf4j/Logger;
     111: new           #25                 // class java/lang/StringBuilder
     114: dup
     115: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
     118: ldc           #27                 // String Error matching stream rule <
     120: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     123: aload_0
     124: getfield      #8                  // Field rule:Lorg/graylog2/plugin/streams/StreamRule;
     127: invokeinterface #14,  1           // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getType:()Lorg/graylog2/plugin/streams/StreamRuleType;
     132: invokevirtual #29                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     135: ldc           #30                 // String /
     137: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_0
     141: getfield      #8                  // Field rule:Lorg/graylog2/plugin/streams/StreamRule;
     144: invokeinterface #31,  1           // InterfaceMethod org/graylog2/plugin/streams/StreamRule.getValue:()Ljava/lang/String;
     149: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: ldc           #32                 // String >:
     154: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     157: aload_2
     158: invokevirtual #33                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     161: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     164: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     167: aload_2
     168: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     173: aload_0
     174: getfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
     177: invokestatic  #17                 // Method org/graylog2/streams/StreamRouterEngine.access$100:(Lorg/graylog2/streams/StreamRouterEngine;)Lorg/graylog2/streams/StreamMetrics;
     180: aload_0
     181: getfield      #10                 // Field streamId:Ljava/lang/String;
     184: invokevirtual #36                 // Method org/graylog2/streams/StreamMetrics.markExceptionMeter:(Ljava/lang/String;)V
     187: aconst_null
     188: areturn
    Exception table:
       from    to  target type
          24    47    74   Class java/lang/Throwable
          59    62    74   Class java/lang/Throwable
          24    47    82   any
          59    62    82   any
          74    84    82   any
           0    56    96   Class java/lang/Exception
          59    71    96   Class java/lang/Exception
          74    96    96   Class java/lang/Exception

  private org.graylog2.plugin.streams.Stream matchWithTimeOut(org.graylog2.plugin.Message, long, java.util.concurrent.TimeUnit);
    Code:
       0: aconst_null
       1: astore        5
       3: aload_0
       4: getfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
       7: invokestatic  #17                 // Method org/graylog2/streams/StreamRouterEngine.access$100:(Lorg/graylog2/streams/StreamRouterEngine;)Lorg/graylog2/streams/StreamMetrics;
      10: aload_0
      11: getfield      #10                 // Field streamId:Ljava/lang/String;
      14: aload_0
      15: getfield      #12                 // Field streamRuleId:Ljava/lang/String;
      18: invokevirtual #18                 // Method org/graylog2/streams/StreamMetrics.getExecutionTimer:(Ljava/lang/String;Ljava/lang/String;)Lcom/codahale/metrics/Timer;
      21: invokevirtual #19                 // Method com/codahale/metrics/Timer.time:()Lcom/codahale/metrics/Timer$Context;
      24: astore        6
      26: aconst_null
      27: astore        7
      29: aload_0
      30: getfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
      33: invokestatic  #37                 // Method org/graylog2/streams/StreamRouterEngine.access$300:(Lorg/graylog2/streams/StreamRouterEngine;)Lcom/google/common/util/concurrent/TimeLimiter;
      36: new           #38                 // class org/graylog2/streams/StreamRouterEngine$Rule$1
      39: dup
      40: aload_0
      41: aload_1
      42: invokespecial #39                 // Method org/graylog2/streams/StreamRouterEngine$Rule$1."<init>":(Lorg/graylog2/streams/StreamRouterEngine$Rule;Lorg/graylog2/plugin/Message;)V
      45: lload_2
      46: aload         4
      48: invokeinterface #40,  5           // InterfaceMethod com/google/common/util/concurrent/TimeLimiter.callWithTimeout:(Ljava/util/concurrent/Callable;JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
      53: checkcast     #41                 // class org/graylog2/plugin/streams/Stream
      56: astore        5
      58: aload         6
      60: ifnull        99
      63: aload         7
      65: aload         6
      67: invokestatic  #21                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      70: goto          99
      73: astore        8
      75: aload         8
      77: astore        7
      79: aload         8
      81: athrow
      82: astore        9
      84: aload         6
      86: ifnull        96
      89: aload         7
      91: aload         6
      93: invokestatic  #21                 // Method $closeResource:(Ljava/lang/Throwable;Ljava/lang/AutoCloseable;)V
      96: aload         9
      98: athrow
      99: goto          149
     102: astore        6
     104: aload_0
     105: getfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
     108: invokestatic  #43                 // Method org/graylog2/streams/StreamRouterEngine.access$400:(Lorg/graylog2/streams/StreamRouterEngine;)Lorg/graylog2/streams/StreamFaultManager;
     111: aload_0
     112: getfield      #7                  // Field stream:Lorg/graylog2/plugin/streams/Stream;
     115: invokevirtual #44                 // Method org/graylog2/streams/StreamFaultManager.registerFailure:(Lorg/graylog2/plugin/streams/Stream;)V
     118: goto          149
     121: astore        6
     123: invokestatic  #23                 // Method org/graylog2/streams/StreamRouterEngine.access$200:()Lorg/slf4j/Logger;
     126: ldc           #45                 // String Unexpected error during stream matching
     128: aload         6
     130: invokeinterface #46,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     135: aload_0
     136: getfield      #5                  // Field this$0:Lorg/graylog2/streams/StreamRouterEngine;
     139: invokestatic  #17                 // Method org/graylog2/streams/StreamRouterEngine.access$100:(Lorg/graylog2/streams/StreamRouterEngine;)Lorg/graylog2/streams/StreamMetrics;
     142: aload_0
     143: getfield      #10                 // Field streamId:Ljava/lang/String;
     146: invokevirtual #36                 // Method org/graylog2/streams/StreamMetrics.markExceptionMeter:(Ljava/lang/String;)V
     149: aload         5
     151: areturn
    Exception table:
       from    to  target type
          29    58    73   Class java/lang/Throwable
          29    58    82   any
          73    84    82   any
           3    99   102   Class com/google/common/util/concurrent/UncheckedTimeoutException
           3    99   121   Class java/lang/Exception

  public org.graylog2.plugin.streams.StreamRule getStreamRule();
    Code:
       0: aload_0
       1: getfield      #8                  // Field rule:Lorg/graylog2/plugin/streams/StreamRule;
       4: areturn

  public org.graylog2.plugin.streams.Stream getStream();
    Code:
       0: aload_0
       1: getfield      #7                  // Field stream:Lorg/graylog2/plugin/streams/Stream;
       4: areturn

  static org.graylog2.plugin.streams.Stream access$000(org.graylog2.streams.StreamRouterEngine$Rule, org.graylog2.plugin.Message, long, java.util.concurrent.TimeUnit);
    Code:
       0: aload_0
       1: aload_1
       2: lload_2
       3: aload         4
       5: invokespecial #1                  // Method matchWithTimeOut:(Lorg/graylog2/plugin/Message;JLjava/util/concurrent/TimeUnit;)Lorg/graylog2/plugin/streams/Stream;
       8: areturn

  private static void $closeResource(java.lang.Throwable, java.lang.AutoCloseable);
    Code:
       0: aload_0
       1: ifnull        22
       4: aload_1
       5: invokeinterface #2,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      10: goto          28
      13: astore_2
      14: aload_0
      15: aload_2
      16: invokevirtual #4                  // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      19: goto          28
      22: aload_1
      23: invokeinterface #2,  1            // InterfaceMethod java/lang/AutoCloseable.close:()V
      28: return
    Exception table:
       from    to  target type
           4    10    13   Class java/lang/Throwable
}
