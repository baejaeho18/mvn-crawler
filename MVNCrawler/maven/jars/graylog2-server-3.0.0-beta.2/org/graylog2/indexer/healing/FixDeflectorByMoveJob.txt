Compiled from "FixDeflectorByMoveJob.java"
public class org.graylog2.indexer.healing.FixDeflectorByMoveJob extends org.graylog2.system.jobs.SystemJob {
  private static final org.slf4j.Logger LOG;

  public static final int MAX_CONCURRENCY;

  private final org.graylog2.indexer.IndexSetRegistry indexSetRegistry;

  private final org.graylog2.plugin.ServerStatus serverStatus;

  private final org.graylog2.indexer.indices.Indices indices;

  private final org.graylog2.shared.system.activities.ActivityWriter activityWriter;

  private final org.graylog2.buffers.Buffers bufferSynchronizer;

  private final org.graylog2.notifications.NotificationService notificationService;

  private int progress;

  public org.graylog2.indexer.healing.FixDeflectorByMoveJob(org.graylog2.indexer.IndexSetRegistry, org.graylog2.indexer.indices.Indices, org.graylog2.plugin.ServerStatus, org.graylog2.shared.system.activities.ActivityWriter, org.graylog2.buffers.Buffers, org.graylog2.notifications.NotificationService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/system/jobs/SystemJob."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field progress:I
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
      19: aload_0
      20: aload_3
      21: putfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
      24: aload_0
      25: aload         4
      27: putfield      #6                  // Field activityWriter:Lorg/graylog2/shared/system/activities/ActivityWriter;
      30: aload_0
      31: aload         5
      33: putfield      #7                  // Field bufferSynchronizer:Lorg/graylog2/buffers/Buffers;
      36: aload_0
      37: aload         6
      39: putfield      #8                  // Field notificationService:Lorg/graylog2/notifications/NotificationService;
      42: return

  public void execute();
    Code:
       0: aload_0
       1: getfield      #3                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
       4: aload_0
       5: invokedynamic #9,  0              // InvokeDynamic #0:accept:(Lorg/graylog2/indexer/healing/FixDeflectorByMoveJob;)Ljava/util/function/Consumer;
      10: invokeinterface #10,  2           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.forEach:(Ljava/util/function/Consumer;)V
      15: return

  public void doExecute(org.graylog2.indexer.IndexSet);
    Code:
       0: aload_1
       1: invokeinterface #11,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
       6: invokevirtual #12                 // Method org/graylog2/indexer/indexset/IndexSetConfig.isWritable:()Z
       9: ifne          41
      12: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #14                 // String No need to fix deflector for non-writable index set <{}> ({})
      17: aload_1
      18: invokeinterface #11,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
      23: invokevirtual #15                 // Method org/graylog2/indexer/indexset/IndexSetConfig.id:()Ljava/lang/String;
      26: aload_1
      27: invokeinterface #11,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
      32: invokevirtual #16                 // Method org/graylog2/indexer/indexset/IndexSetConfig.title:()Ljava/lang/String;
      35: invokeinterface #17,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      40: return
      41: aload_1
      42: invokeinterface #18,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.isUp:()Z
      47: ifne          66
      50: aload_0
      51: getfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
      54: aload_1
      55: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
      60: invokevirtual #20                 // Method org/graylog2/indexer/indices/Indices.exists:(Ljava/lang/String;)Z
      63: ifne          83
      66: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      69: ldc           #21                 // String There is no index <{}>. No need to run this job. Aborting.
      71: aload_1
      72: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
      77: invokeinterface #22,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      82: return
      83: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      86: ldc           #23                 // String Attempting to fix deflector with move strategy.
      88: invokeinterface #24,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      93: iconst_1
      94: istore_2
      95: aload_0
      96: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
      99: invokevirtual #25                 // Method org/graylog2/plugin/ServerStatus.isProcessing:()Z
     102: istore_2
     103: aload_0
     104: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     107: invokevirtual #26                 // Method org/graylog2/plugin/ServerStatus.pauseMessageProcessing:()V
     110: aload_0
     111: iconst_5
     112: putfield      #2                  // Field progress:I
     115: aload_0
     116: getfield      #7                  // Field bufferSynchronizer:Lorg/graylog2/buffers/Buffers;
     119: invokevirtual #27                 // Method org/graylog2/buffers/Buffers.waitForEmptyBuffers:()V
     122: aload_0
     123: bipush        10
     125: putfield      #2                  // Field progress:I
     128: aconst_null
     129: astore_3
     130: aload_1
     131: invokeinterface #28,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getNewestIndex:()Ljava/lang/String;
     136: astore_3
     137: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     140: ldc           #29                 // String Starting to move <{}> to <{}>.
     142: aload_1
     143: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
     148: aload_3
     149: invokeinterface #30,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     154: aload_0
     155: getfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
     158: aload_1
     159: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
     164: aload_3
     165: invokevirtual #31                 // Method org/graylog2/indexer/indices/Indices.move:(Ljava/lang/String;Ljava/lang/String;)V
     168: goto          207
     171: astore        4
     173: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     176: ldc           #33                 // String Moving index failed. Rolling back.
     178: aload         4
     180: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     185: aload_3
     186: ifnull        197
     189: aload_0
     190: getfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
     193: aload_3
     194: invokevirtual #35                 // Method org/graylog2/indexer/indices/Indices.delete:(Ljava/lang/String;)V
     197: new           #36                 // class java/lang/RuntimeException
     200: dup
     201: aload         4
     203: invokespecial #37                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     206: athrow
     207: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     210: ldc           #38                 // String Done moving deflector index.
     212: invokeinterface #24,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     217: aload_0
     218: bipush        85
     220: putfield      #2                  // Field progress:I
     223: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     226: ldc           #39                 // String Deleting <{}> index.
     228: aload_1
     229: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
     234: invokeinterface #40,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     239: aload_0
     240: getfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
     243: aload_1
     244: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
     249: invokevirtual #35                 // Method org/graylog2/indexer/indices/Indices.delete:(Ljava/lang/String;)V
     252: aload_0
     253: bipush        90
     255: putfield      #2                  // Field progress:I
     258: aload_1
     259: invokeinterface #41,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.setUp:()V
     264: aload_0
     265: bipush        95
     267: putfield      #2                  // Field progress:I
     270: aload_0
     271: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     274: invokevirtual #42                 // Method org/graylog2/plugin/ServerStatus.unlockProcessingPause:()V
     277: iload_2
     278: ifeq          314
     281: aload_0
     282: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     285: invokevirtual #43                 // Method org/graylog2/plugin/ServerStatus.resumeMessageProcessing:()V
     288: goto          314
     291: astore        5
     293: aload_0
     294: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     297: invokevirtual #42                 // Method org/graylog2/plugin/ServerStatus.unlockProcessingPause:()V
     300: iload_2
     301: ifeq          311
     304: aload_0
     305: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     308: invokevirtual #43                 // Method org/graylog2/plugin/ServerStatus.resumeMessageProcessing:()V
     311: aload         5
     313: athrow
     314: aload_0
     315: bipush        90
     317: putfield      #2                  // Field progress:I
     320: aload_0
     321: getfield      #6                  // Field activityWriter:Lorg/graylog2/shared/system/activities/ActivityWriter;
     324: new           #44                 // class org/graylog2/shared/system/activities/Activity
     327: dup
     328: new           #45                 // class java/lang/StringBuilder
     331: dup
     332: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     335: ldc           #47                 // String Notification condition [
     337: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     340: getstatic     #49                 // Field org/graylog2/notifications/Notification$Type.DEFLECTOR_EXISTS_AS_INDEX:Lorg/graylog2/notifications/Notification$Type;
     343: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     346: ldc           #51                 // String ] has been fixed.
     348: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     351: invokevirtual #52                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     354: aload_0
     355: invokevirtual #53                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     358: invokespecial #54                 // Method org/graylog2/shared/system/activities/Activity."<init>":(Ljava/lang/String;Ljava/lang/Class;)V
     361: invokeinterface #55,  2           // InterfaceMethod org/graylog2/shared/system/activities/ActivityWriter.write:(Lorg/graylog2/shared/system/activities/Activity;)V
     366: aload_0
     367: getfield      #8                  // Field notificationService:Lorg/graylog2/notifications/NotificationService;
     370: getstatic     #49                 // Field org/graylog2/notifications/Notification$Type.DEFLECTOR_EXISTS_AS_INDEX:Lorg/graylog2/notifications/Notification$Type;
     373: invokeinterface #56,  2           // InterfaceMethod org/graylog2/notifications/NotificationService.fixed:(Lorg/graylog2/notifications/Notification$Type;)Z
     378: pop
     379: aload_0
     380: bipush        100
     382: putfield      #2                  // Field progress:I
     385: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     388: ldc           #57                 // String Finished.
     390: invokeinterface #24,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     395: return
    Exception table:
       from    to  target type
         130   168   171   Class java/lang/Exception
          95   270   291   any
         291   293   291   any

  public void requestCancel();
    Code:
       0: return

  public int getProgress();
    Code:
       0: aload_0
       1: getfield      #2                  // Field progress:I
       4: ireturn

  public int maxConcurrency();
    Code:
       0: iconst_1
       1: ireturn

  public boolean providesProgress();
    Code:
       0: iconst_1
       1: ireturn

  public boolean isCancelable();
    Code:
       0: iconst_0
       1: ireturn

  public java.lang.String getDescription();
    Code:
       0: ldc           #59                 // String Tries to fix a broken deflector alias by converting the deflector index to a valid index. Triggered by hand after a notification. This operation can take some time depending on the number of messages that were already written into the deflector index.
       2: areturn

  public java.lang.String getClassName();
    Code:
       0: aload_0
       1: invokevirtual #53                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: invokevirtual #60                 // Method java/lang/Class.getCanonicalName:()Ljava/lang/String;
       7: areturn

  static {};
    Code:
       0: ldc           #58                 // class org/graylog2/indexer/healing/FixDeflectorByMoveJob
       2: invokestatic  #61                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
