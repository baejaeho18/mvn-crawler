Compiled from "FixDeflectorByDeleteJob.java"
public class org.graylog2.indexer.healing.FixDeflectorByDeleteJob extends org.graylog2.system.jobs.SystemJob {
  private static final org.slf4j.Logger LOG;

  public static final int MAX_CONCURRENCY;

  private final org.graylog2.indexer.IndexSetRegistry indexSetRegistry;

  private final org.graylog2.indexer.indices.Indices indices;

  private final org.graylog2.plugin.ServerStatus serverStatus;

  private final org.graylog2.shared.system.activities.ActivityWriter activityWriter;

  private final org.graylog2.buffers.Buffers bufferSynchronizer;

  private final org.graylog2.notifications.NotificationService notificationService;

  private int progress;

  public org.graylog2.indexer.healing.FixDeflectorByDeleteJob(org.graylog2.indexer.IndexSetRegistry, org.graylog2.indexer.indices.Indices, org.graylog2.plugin.ServerStatus, org.graylog2.shared.system.activities.ActivityWriter, org.graylog2.buffers.Buffers, org.graylog2.notifications.NotificationService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/graylog2/system/jobs/SystemJob."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field progress:I
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
      19: aload_0
      20: aload_3
      21: putfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
      24: aload_0
      25: aload         4
      27: putfield      #6                  // Field activityWriter:Lorg/graylog2/shared/system/activities/ActivityWriter;
      30: aload_0
      31: aload         5
      33: putfield      #7                  // Field bufferSynchronizer:Lorg/graylog2/buffers/Buffers;
      36: aload_0
      37: aload         6
      39: putfield      #8                  // Field notificationService:Lorg/graylog2/notifications/NotificationService;
      42: return

  public void execute();
    Code:
       0: aload_0
       1: getfield      #3                  // Field indexSetRegistry:Lorg/graylog2/indexer/IndexSetRegistry;
       4: aload_0
       5: invokedynamic #9,  0              // InvokeDynamic #0:accept:(Lorg/graylog2/indexer/healing/FixDeflectorByDeleteJob;)Ljava/util/function/Consumer;
      10: invokeinterface #10,  2           // InterfaceMethod org/graylog2/indexer/IndexSetRegistry.forEach:(Ljava/util/function/Consumer;)V
      15: return

  public void doExecute(org.graylog2.indexer.IndexSet);
    Code:
       0: aload_1
       1: invokeinterface #11,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
       6: invokevirtual #12                 // Method org/graylog2/indexer/indexset/IndexSetConfig.isWritable:()Z
       9: ifne          41
      12: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #14                 // String No need to fix deflector for non-writable index set <{}> ({})
      17: aload_1
      18: invokeinterface #11,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
      23: invokevirtual #15                 // Method org/graylog2/indexer/indexset/IndexSetConfig.id:()Ljava/lang/String;
      26: aload_1
      27: invokeinterface #11,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getConfig:()Lorg/graylog2/indexer/indexset/IndexSetConfig;
      32: invokevirtual #16                 // Method org/graylog2/indexer/indexset/IndexSetConfig.title:()Ljava/lang/String;
      35: invokeinterface #17,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      40: return
      41: aload_1
      42: invokeinterface #18,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.isUp:()Z
      47: ifne          66
      50: aload_0
      51: getfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
      54: aload_1
      55: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
      60: invokevirtual #20                 // Method org/graylog2/indexer/indices/Indices.exists:(Ljava/lang/String;)Z
      63: ifne          83
      66: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      69: ldc           #21                 // String There is no index <{}>. No need to run this job. Aborting.
      71: aload_1
      72: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
      77: invokeinterface #22,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      82: return
      83: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
      86: ldc           #23                 // String Attempting to fix deflector with delete strategy.
      88: invokeinterface #24,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      93: aload_0
      94: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
      97: invokevirtual #25                 // Method org/graylog2/plugin/ServerStatus.isProcessing:()Z
     100: istore_2
     101: aload_0
     102: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     105: invokevirtual #26                 // Method org/graylog2/plugin/ServerStatus.pauseMessageProcessing:()V
     108: aload_0
     109: bipush        10
     111: putfield      #2                  // Field progress:I
     114: aload_0
     115: getfield      #7                  // Field bufferSynchronizer:Lorg/graylog2/buffers/Buffers;
     118: invokevirtual #27                 // Method org/graylog2/buffers/Buffers.waitForEmptyBuffers:()V
     121: aload_0
     122: bipush        25
     124: putfield      #2                  // Field progress:I
     127: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     130: ldc           #28                 // String Deleting <{}> index.
     132: aload_1
     133: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
     138: invokeinterface #29,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     143: aload_0
     144: getfield      #4                  // Field indices:Lorg/graylog2/indexer/indices/Indices;
     147: aload_1
     148: invokeinterface #19,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.getWriteIndexAlias:()Ljava/lang/String;
     153: invokevirtual #30                 // Method org/graylog2/indexer/indices/Indices.delete:(Ljava/lang/String;)V
     156: aload_0
     157: bipush        70
     159: putfield      #2                  // Field progress:I
     162: aload_1
     163: invokeinterface #31,  1           // InterfaceMethod org/graylog2/indexer/IndexSet.setUp:()V
     168: aload_0
     169: bipush        80
     171: putfield      #2                  // Field progress:I
     174: aload_0
     175: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     178: invokevirtual #32                 // Method org/graylog2/plugin/ServerStatus.unlockProcessingPause:()V
     181: iload_2
     182: ifeq          192
     185: aload_0
     186: getfield      #5                  // Field serverStatus:Lorg/graylog2/plugin/ServerStatus;
     189: invokevirtual #33                 // Method org/graylog2/plugin/ServerStatus.resumeMessageProcessing:()V
     192: goto          207
     195: astore_3
     196: new           #35                 // class java/lang/RuntimeException
     199: dup
     200: ldc           #36                 // String Could not unlock processing pause.
     202: aload_3
     203: invokespecial #37                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     206: athrow
     207: aload_0
     208: bipush        90
     210: putfield      #2                  // Field progress:I
     213: aload_0
     214: getfield      #6                  // Field activityWriter:Lorg/graylog2/shared/system/activities/ActivityWriter;
     217: new           #38                 // class org/graylog2/shared/system/activities/Activity
     220: dup
     221: new           #39                 // class java/lang/StringBuilder
     224: dup
     225: invokespecial #40                 // Method java/lang/StringBuilder."<init>":()V
     228: ldc           #41                 // String Notification condition [
     230: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: getstatic     #43                 // Field org/graylog2/notifications/Notification$Type.DEFLECTOR_EXISTS_AS_INDEX:Lorg/graylog2/notifications/Notification$Type;
     236: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     239: ldc           #45                 // String ] has been fixed.
     241: invokevirtual #42                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     244: invokevirtual #46                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     247: aload_0
     248: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     251: invokespecial #48                 // Method org/graylog2/shared/system/activities/Activity."<init>":(Ljava/lang/String;Ljava/lang/Class;)V
     254: invokeinterface #49,  2           // InterfaceMethod org/graylog2/shared/system/activities/ActivityWriter.write:(Lorg/graylog2/shared/system/activities/Activity;)V
     259: aload_0
     260: getfield      #8                  // Field notificationService:Lorg/graylog2/notifications/NotificationService;
     263: getstatic     #43                 // Field org/graylog2/notifications/Notification$Type.DEFLECTOR_EXISTS_AS_INDEX:Lorg/graylog2/notifications/Notification$Type;
     266: invokeinterface #50,  2           // InterfaceMethod org/graylog2/notifications/NotificationService.fixed:(Lorg/graylog2/notifications/Notification$Type;)Z
     271: pop
     272: aload_0
     273: bipush        100
     275: putfield      #2                  // Field progress:I
     278: getstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
     281: ldc           #51                 // String Finished.
     283: invokeinterface #24,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     288: return
    Exception table:
       from    to  target type
         174   192   195   Class java/lang/Exception

  public void requestCancel();
    Code:
       0: return

  public int getProgress();
    Code:
       0: aload_0
       1: getfield      #2                  // Field progress:I
       4: ireturn

  public int maxConcurrency();
    Code:
       0: iconst_1
       1: ireturn

  public boolean providesProgress();
    Code:
       0: iconst_1
       1: ireturn

  public boolean isCancelable();
    Code:
       0: iconst_0
       1: ireturn

  public java.lang.String getDescription();
    Code:
       0: ldc           #53                 // String Tries to fix a broken deflector alias by deleting the deflector index. Triggered by hand after a notification.
       2: areturn

  public java.lang.String getClassName();
    Code:
       0: aload_0
       1: invokevirtual #47                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       4: invokevirtual #54                 // Method java/lang/Class.getCanonicalName:()Ljava/lang/String;
       7: areturn

  static {};
    Code:
       0: ldc           #52                 // class org/graylog2/indexer/healing/FixDeflectorByDeleteJob
       2: invokestatic  #55                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #13                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
