Compiled from "GuavaLookupCache.java"
public class org.graylog2.lookup.caches.GuavaLookupCache extends org.graylog2.plugin.lookup.LookupCache {
  private static final org.slf4j.Logger LOG;

  public static final java.lang.String NAME;

  private final com.google.common.cache.Cache<org.graylog2.plugin.lookup.LookupCacheKey, org.graylog2.plugin.lookup.LookupResult> cache;

  public org.graylog2.lookup.caches.GuavaLookupCache(java.lang.String, java.lang.String, org.graylog2.plugin.lookup.LookupCacheConfiguration, int, com.codahale.metrics.MetricRegistry);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         5
       6: invokespecial #1                  // Method org/graylog2/plugin/lookup/LookupCache."<init>":(Ljava/lang/String;Ljava/lang/String;Lorg/graylog2/plugin/lookup/LookupCacheConfiguration;Lcom/codahale/metrics/MetricRegistry;)V
       9: aload_3
      10: checkcast     #2                  // class org/graylog2/lookup/caches/GuavaLookupCache$Config
      13: astore        6
      15: invokestatic  #3                  // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
      18: astore        7
      20: aload         7
      22: iload         4
      24: invokevirtual #4                  // Method com/google/common/cache/CacheBuilder.concurrencyLevel:(I)Lcom/google/common/cache/CacheBuilder;
      27: invokevirtual #5                  // Method com/google/common/cache/CacheBuilder.recordStats:()Lcom/google/common/cache/CacheBuilder;
      30: pop
      31: aload         7
      33: aload         6
      35: invokevirtual #6                  // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.maxSize:()I
      38: i2l
      39: invokevirtual #7                  // Method com/google/common/cache/CacheBuilder.maximumSize:(J)Lcom/google/common/cache/CacheBuilder;
      42: pop
      43: aload         6
      45: invokevirtual #8                  // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterAccess:()J
      48: lconst_0
      49: lcmp
      50: ifle          77
      53: aload         6
      55: invokevirtual #9                  // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterAccessUnit:()Ljava/util/concurrent/TimeUnit;
      58: ifnull        77
      61: aload         7
      63: aload         6
      65: invokevirtual #8                  // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterAccess:()J
      68: aload         6
      70: invokevirtual #9                  // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterAccessUnit:()Ljava/util/concurrent/TimeUnit;
      73: invokevirtual #10                 // Method com/google/common/cache/CacheBuilder.expireAfterAccess:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
      76: pop
      77: aload         6
      79: invokevirtual #11                 // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterWrite:()J
      82: lconst_0
      83: lcmp
      84: ifle          111
      87: aload         6
      89: invokevirtual #12                 // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterWriteUnit:()Ljava/util/concurrent/TimeUnit;
      92: ifnull        111
      95: aload         7
      97: aload         6
      99: invokevirtual #11                 // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterWrite:()J
     102: aload         6
     104: invokevirtual #12                 // Method org/graylog2/lookup/caches/GuavaLookupCache$Config.expireAfterWriteUnit:()Ljava/util/concurrent/TimeUnit;
     107: invokevirtual #13                 // Method com/google/common/cache/CacheBuilder.expireAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
     110: pop
     111: aload_0
     112: new           #14                 // class org/graylog2/lookup/caches/GuavaLookupCache$InstrumentedCache
     115: dup
     116: aload         7
     118: invokevirtual #15                 // Method com/google/common/cache/CacheBuilder.build:()Lcom/google/common/cache/Cache;
     121: aload_0
     122: invokespecial #16                 // Method org/graylog2/lookup/caches/GuavaLookupCache$InstrumentedCache."<init>":(Lcom/google/common/cache/Cache;Lorg/graylog2/plugin/lookup/LookupCache;)V
     125: putfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
     128: return

  public long entryCount();
    Code:
       0: aload_0
       1: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
       4: ifnull        17
       7: aload_0
       8: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
      11: invokeinterface #18,  1           // InterfaceMethod com/google/common/cache/Cache.size:()J
      16: lreturn
      17: lconst_0
      18: lreturn

  protected void doStart() throws java.lang.Exception;
    Code:
       0: return

  protected void doStop() throws java.lang.Exception;
    Code:
       0: return

  public org.graylog2.plugin.lookup.LookupResult get(org.graylog2.plugin.lookup.LookupCacheKey, java.util.concurrent.Callable<org.graylog2.plugin.lookup.LookupResult>);
    Code:
       0: aload_0
       1: invokevirtual #19                 // Method lookupTimer:()Lcom/codahale/metrics/Timer$Context;
       4: astore_3
       5: aconst_null
       6: astore        4
       8: aload_0
       9: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
      12: aload_1
      13: aload_2
      14: invokeinterface #20,  3           // InterfaceMethod com/google/common/cache/Cache.get:(Ljava/lang/Object;Ljava/util/concurrent/Callable;)Ljava/lang/Object;
      19: checkcast     #21                 // class org/graylog2/plugin/lookup/LookupResult
      22: astore        5
      24: aload_3
      25: ifnull        56
      28: aload         4
      30: ifnull        52
      33: aload_3
      34: invokevirtual #22                 // Method com/codahale/metrics/Timer$Context.close:()V
      37: goto          56
      40: astore        6
      42: aload         4
      44: aload         6
      46: invokevirtual #24                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      49: goto          56
      52: aload_3
      53: invokevirtual #22                 // Method com/codahale/metrics/Timer$Context.close:()V
      56: aload         5
      58: areturn
      59: astore        5
      61: aload         5
      63: astore        4
      65: aload         5
      67: athrow
      68: astore        7
      70: aload_3
      71: ifnull        102
      74: aload         4
      76: ifnull        98
      79: aload_3
      80: invokevirtual #22                 // Method com/codahale/metrics/Timer$Context.close:()V
      83: goto          102
      86: astore        8
      88: aload         4
      90: aload         8
      92: invokevirtual #24                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      95: goto          102
      98: aload_3
      99: invokevirtual #22                 // Method com/codahale/metrics/Timer$Context.close:()V
     102: aload         7
     104: athrow
     105: astore_3
     106: getstatic     #26                 // Field LOG:Lorg/slf4j/Logger;
     109: ldc           #27                 // String Loading value from data adapter failed for key {}, returning empty result
     111: aload_1
     112: aload_3
     113: invokeinterface #28,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     118: invokestatic  #29                 // Method org/graylog2/plugin/lookup/LookupResult.empty:()Lorg/graylog2/plugin/lookup/LookupResult;
     121: areturn
    Exception table:
       from    to  target type
          33    37    40   Class java/lang/Throwable
           8    24    59   Class java/lang/Throwable
           8    24    68   any
          79    83    86   Class java/lang/Throwable
          59    70    68   any
           0    56   105   Class java/util/concurrent/ExecutionException
          59   105   105   Class java/util/concurrent/ExecutionException

  public org.graylog2.plugin.lookup.LookupResult getIfPresent(org.graylog2.plugin.lookup.LookupCacheKey);
    Code:
       0: aload_0
       1: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
       4: aload_1
       5: invokeinterface #30,  2           // InterfaceMethod com/google/common/cache/Cache.getIfPresent:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #21                 // class org/graylog2/plugin/lookup/LookupResult
      13: astore_2
      14: aload_2
      15: ifnonnull     22
      18: invokestatic  #29                 // Method org/graylog2/plugin/lookup/LookupResult.empty:()Lorg/graylog2/plugin/lookup/LookupResult;
      21: areturn
      22: aload_2
      23: areturn

  public void purge();
    Code:
       0: aload_0
       1: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
       4: invokeinterface #31,  1           // InterfaceMethod com/google/common/cache/Cache.invalidateAll:()V
       9: return

  public void purge(org.graylog2.plugin.lookup.LookupCacheKey);
    Code:
       0: aload_1
       1: invokevirtual #32                 // Method org/graylog2/plugin/lookup/LookupCacheKey.isPrefixOnly:()Z
       4: ifeq          60
       7: aload_0
       8: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
      11: aload_0
      12: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
      15: invokeinterface #33,  1           // InterfaceMethod com/google/common/cache/Cache.asMap:()Ljava/util/concurrent/ConcurrentMap;
      20: invokeinterface #34,  1           // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      25: invokeinterface #35,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      30: aload_1
      31: invokedynamic #36,  0             // InvokeDynamic #0:test:(Lorg/graylog2/plugin/lookup/LookupCacheKey;)Ljava/util/function/Predicate;
      36: invokeinterface #37,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      41: invokestatic  #38                 // Method java/util/stream/Collectors.toSet:()Ljava/util/stream/Collector;
      44: invokeinterface #39,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      49: checkcast     #40                 // class java/lang/Iterable
      52: invokeinterface #41,  2           // InterfaceMethod com/google/common/cache/Cache.invalidateAll:(Ljava/lang/Iterable;)V
      57: goto          70
      60: aload_0
      61: getfield      #17                 // Field cache:Lcom/google/common/cache/Cache;
      64: aload_1
      65: invokeinterface #42,  2           // InterfaceMethod com/google/common/cache/Cache.invalidate:(Ljava/lang/Object;)V
      70: return

  private static boolean lambda$purge$0(org.graylog2.plugin.lookup.LookupCacheKey, org.graylog2.plugin.lookup.LookupCacheKey);
    Code:
       0: aload_0
       1: invokevirtual #43                 // Method org/graylog2/plugin/lookup/LookupCacheKey.prefix:()Ljava/lang/String;
       4: aload_1
       5: invokevirtual #43                 // Method org/graylog2/plugin/lookup/LookupCacheKey.prefix:()Ljava/lang/String;
       8: invokevirtual #44                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      11: ireturn

  static {};
    Code:
       0: ldc           #45                 // class org/graylog2/lookup/caches/GuavaLookupCache
       2: invokestatic  #46                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #26                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
