Compiled from "BufferSynchronizerService.java"
public class org.graylog2.initializers.BufferSynchronizerService extends com.google.common.util.concurrent.AbstractIdleService {
  private static final org.slf4j.Logger LOG;

  private final org.graylog2.buffers.Buffers bufferSynchronizer;

  private final org.graylog2.indexer.cluster.Cluster cluster;

  private final org.graylog2.Configuration configuration;

  private final com.codahale.metrics.MetricRegistry metricRegistry;

  public org.graylog2.initializers.BufferSynchronizerService(org.graylog2.buffers.Buffers, org.graylog2.indexer.cluster.Cluster, org.graylog2.Configuration, com.codahale.metrics.MetricRegistry);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method com/google/common/util/concurrent/AbstractIdleService."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #1                  // Field bufferSynchronizer:Lorg/graylog2/buffers/Buffers;
       9: aload_0
      10: aload_2
      11: putfield      #4                  // Field cluster:Lorg/graylog2/indexer/cluster/Cluster;
      14: aload_0
      15: aload_3
      16: putfield      #2                  // Field configuration:Lorg/graylog2/Configuration;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field metricRegistry:Lcom/codahale/metrics/MetricRegistry;
      25: return

  protected void startUp() throws java.lang.Exception;
    Code:
       0: return

  protected void shutDown() throws java.lang.Exception;
    Code:
       0: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #7                  // String Stopping BufferSynchronizerService
       5: invokeinterface #8,  2            // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      10: aload_0
      11: getfield      #4                  // Field cluster:Lorg/graylog2/indexer/cluster/Cluster;
      14: invokevirtual #9                  // Method org/graylog2/indexer/cluster/Cluster.isConnected:()Z
      17: ifeq          81
      20: aload_0
      21: getfield      #4                  // Field cluster:Lorg/graylog2/indexer/cluster/Cluster;
      24: invokevirtual #10                 // Method org/graylog2/indexer/cluster/Cluster.isDeflectorHealthy:()Z
      27: ifeq          81
      30: aload_0
      31: aload_0
      32: getfield      #5                  // Field metricRegistry:Lcom/codahale/metrics/MetricRegistry;
      35: invokespecial #11                 // Method executorService:(Lcom/codahale/metrics/MetricRegistry;)Ljava/util/concurrent/ExecutorService;
      38: astore_1
      39: aload_1
      40: new           #12                 // class org/graylog2/initializers/BufferSynchronizerService$1
      43: dup
      44: aload_0
      45: invokespecial #13                 // Method org/graylog2/initializers/BufferSynchronizerService$1."<init>":(Lorg/graylog2/initializers/BufferSynchronizerService;)V
      48: invokeinterface #14,  2           // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
      53: pop
      54: aload_1
      55: invokeinterface #15,  1           // InterfaceMethod java/util/concurrent/ExecutorService.shutdown:()V
      60: aload_1
      61: aload_0
      62: getfield      #2                  // Field configuration:Lorg/graylog2/Configuration;
      65: invokevirtual #16                 // Method org/graylog2/Configuration.getShutdownTimeout:()I
      68: i2l
      69: getstatic     #17                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      72: invokeinterface #18,  4           // InterfaceMethod java/util/concurrent/ExecutorService.awaitTermination:(JLjava/util/concurrent/TimeUnit;)Z
      77: pop
      78: goto          91
      81: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      84: ldc           #19                 // String Elasticsearch is unavailable. Not waiting to clear buffers and caches, as we have no healthy cluster.
      86: invokeinterface #20,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      91: getstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
      94: ldc           #21                 // String Stopped BufferSynchronizerService
      96: invokeinterface #8,  2            // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     101: return

  private java.util.concurrent.ExecutorService executorService(com.codahale.metrics.MetricRegistry);
    Code:
       0: new           #22                 // class com/google/common/util/concurrent/ThreadFactoryBuilder
       3: dup
       4: invokespecial #23                 // Method com/google/common/util/concurrent/ThreadFactoryBuilder."<init>":()V
       7: ldc           #24                 // String buffer-synchronizer-%d
       9: invokevirtual #25                 // Method com/google/common/util/concurrent/ThreadFactoryBuilder.setNameFormat:(Ljava/lang/String;)Lcom/google/common/util/concurrent/ThreadFactoryBuilder;
      12: invokevirtual #26                 // Method com/google/common/util/concurrent/ThreadFactoryBuilder.build:()Ljava/util/concurrent/ThreadFactory;
      15: astore_2
      16: new           #27                 // class com/codahale/metrics/InstrumentedExecutorService
      19: dup
      20: aload_2
      21: invokestatic  #28                 // Method java/util/concurrent/Executors.newSingleThreadExecutor:(Ljava/util/concurrent/ThreadFactory;)Ljava/util/concurrent/ExecutorService;
      24: aload_1
      25: aload_0
      26: invokevirtual #29                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      29: iconst_1
      30: anewarray     #30                 // class java/lang/String
      33: dup
      34: iconst_0
      35: ldc           #31                 // String executor-service
      37: aastore
      38: invokestatic  #32                 // Method com/codahale/metrics/MetricRegistry.name:(Ljava/lang/Class;[Ljava/lang/String;)Ljava/lang/String;
      41: invokespecial #33                 // Method com/codahale/metrics/InstrumentedExecutorService."<init>":(Ljava/util/concurrent/ExecutorService;Lcom/codahale/metrics/MetricRegistry;Ljava/lang/String;)V
      44: areturn

  static org.graylog2.Configuration access$000(org.graylog2.initializers.BufferSynchronizerService);
    Code:
       0: aload_0
       1: getfield      #2                  // Field configuration:Lorg/graylog2/Configuration;
       4: areturn

  static org.graylog2.buffers.Buffers access$100(org.graylog2.initializers.BufferSynchronizerService);
    Code:
       0: aload_0
       1: getfield      #1                  // Field bufferSynchronizer:Lorg/graylog2/buffers/Buffers;
       4: areturn

  static {};
    Code:
       0: ldc           #34                 // class org/graylog2/initializers/BufferSynchronizerService
       2: invokestatic  #35                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #6                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
