Compiled from "ClusterEventCleanupPeriodical.java"
public class org.graylog2.events.ClusterEventCleanupPeriodical extends org.graylog2.plugin.periodical.Periodical {
  private static final org.slf4j.Logger LOG;

  private static final java.lang.String COLLECTION_NAME;

  static final long DEFAULT_MAX_EVENT_AGE;

  private final org.mongojack.JacksonDBCollection<org.graylog2.events.ClusterEvent, java.lang.String> dbCollection;

  private final long maxEventAge;

  public org.graylog2.events.ClusterEventCleanupPeriodical(org.graylog2.bindings.providers.MongoJackObjectMapperProvider, org.graylog2.database.MongoConnection);
    Code:
       0: aload_0
       1: aload_2
       2: invokeinterface #2,  1            // InterfaceMethod org/graylog2/database/MongoConnection.getDatabase:()Lcom/mongodb/DB;
       7: ldc           #4                  // String cluster_events
       9: invokevirtual #5                  // Method com/mongodb/DB.getCollection:(Ljava/lang/String;)Lcom/mongodb/DBCollection;
      12: ldc           #6                  // class org/graylog2/events/ClusterEvent
      14: ldc           #7                  // class java/lang/String
      16: aload_1
      17: invokevirtual #8                  // Method org/graylog2/bindings/providers/MongoJackObjectMapperProvider.get:()Lcom/fasterxml/jackson/databind/ObjectMapper;
      20: invokestatic  #9                  // Method org/mongojack/JacksonDBCollection.wrap:(Lcom/mongodb/DBCollection;Ljava/lang/Class;Ljava/lang/Class;Lcom/fasterxml/jackson/databind/ObjectMapper;)Lorg/mongojack/JacksonDBCollection;
      23: getstatic     #10                 // Field DEFAULT_MAX_EVENT_AGE:J
      26: invokespecial #11                 // Method "<init>":(Lorg/mongojack/JacksonDBCollection;J)V
      29: return

  org.graylog2.events.ClusterEventCleanupPeriodical(org.mongojack.JacksonDBCollection<org.graylog2.events.ClusterEvent, java.lang.String>, long);
    Code:
       0: aload_0
       1: invokespecial #12                 // Method org/graylog2/plugin/periodical/Periodical."<init>":()V
       4: aload_0
       5: aload_1
       6: invokestatic  #13                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       9: checkcast     #14                 // class org/mongojack/JacksonDBCollection
      12: putfield      #15                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
      15: aload_0
      16: lload_2
      17: putfield      #16                 // Field maxEventAge:J
      20: return

  public boolean runsForever();
    Code:
       0: iconst_0
       1: ireturn

  public boolean stopOnGracefulShutdown();
    Code:
       0: iconst_1
       1: ireturn

  public boolean masterOnly();
    Code:
       0: iconst_1
       1: ireturn

  public boolean startOnThisNode();
    Code:
       0: iconst_1
       1: ireturn

  public boolean isDaemon();
    Code:
       0: iconst_1
       1: ireturn

  public int getInitialDelaySeconds();
    Code:
       0: iconst_0
       1: ireturn

  public int getPeriodSeconds();
    Code:
       0: getstatic     #17                 // Field java/util/concurrent/TimeUnit.DAYS:Ljava/util/concurrent/TimeUnit;
       3: lconst_1
       4: invokevirtual #18                 // Method java/util/concurrent/TimeUnit.toSeconds:(J)J
       7: invokestatic  #19                 // Method com/google/common/primitives/Ints.saturatedCast:(J)I
      10: ireturn

  protected org.slf4j.Logger getLogger();
    Code:
       0: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  public void doRun();
    Code:
       0: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #21                 // String Removing stale events from MongoDB collection \"{}\"
       5: ldc           #4                  // String cluster_events
       7: invokeinterface #22,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      12: getstatic     #23                 // Field org/joda/time/DateTimeZone.UTC:Lorg/joda/time/DateTimeZone;
      15: invokestatic  #24                 // Method org/joda/time/DateTime.now:(Lorg/joda/time/DateTimeZone;)Lorg/joda/time/DateTime;
      18: invokevirtual #25                 // Method org/joda/time/DateTime.getMillis:()J
      21: aload_0
      22: getfield      #16                 // Field maxEventAge:J
      25: lsub
      26: lstore_1
      27: ldc           #26                 // String timestamp
      29: lload_1
      30: invokestatic  #27                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      33: invokestatic  #28                 // Method org/mongojack/DBQuery.lessThan:(Ljava/lang/String;Ljava/lang/Object;)Lorg/mongojack/DBQuery$Query;
      36: astore_3
      37: aload_0
      38: getfield      #15                 // Field dbCollection:Lorg/mongojack/JacksonDBCollection;
      41: aload_3
      42: getstatic     #29                 // Field com/mongodb/WriteConcern.JOURNALED:Lcom/mongodb/WriteConcern;
      45: invokevirtual #30                 // Method org/mongojack/JacksonDBCollection.remove:(Lorg/mongojack/DBQuery$Query;Lcom/mongodb/WriteConcern;)Lorg/mongojack/WriteResult;
      48: astore        4
      50: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
      53: ldc           #31                 // String Removed {} stale events from \"{}\"
      55: aload         4
      57: invokevirtual #32                 // Method org/mongojack/WriteResult.getN:()I
      60: invokestatic  #33                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      63: ldc           #4                  // String cluster_events
      65: invokeinterface #34,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      70: goto          85
      73: astore_1
      74: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
      77: ldc           #36                 // String Error while removing stale cluster events from MongoDB
      79: aload_1
      80: invokeinterface #37,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      85: return
    Exception table:
       from    to  target type
           0    70    73   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #3                  // class org/graylog2/events/ClusterEventCleanupPeriodical
       2: invokestatic  #38                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
       8: getstatic     #17                 // Field java/util/concurrent/TimeUnit.DAYS:Ljava/util/concurrent/TimeUnit;
      11: lconst_1
      12: invokevirtual #39                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      15: putstatic     #10                 // Field DEFAULT_MAX_EVENT_AGE:J
      18: return
}
