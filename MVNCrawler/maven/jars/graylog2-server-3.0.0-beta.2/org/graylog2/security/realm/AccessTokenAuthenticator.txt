Compiled from "AccessTokenAuthenticator.java"
public class org.graylog2.security.realm.AccessTokenAuthenticator extends org.apache.shiro.realm.AuthenticatingRealm {
  private static final org.slf4j.Logger LOG;

  public static final java.lang.String NAME;

  private final org.graylog2.security.AccessTokenService accessTokenService;

  private final org.graylog2.shared.users.UserService userService;

  org.graylog2.security.realm.AccessTokenAuthenticator(org.graylog2.security.AccessTokenService, org.graylog2.shared.users.UserService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/shiro/realm/AuthenticatingRealm."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field accessTokenService:Lorg/graylog2/security/AccessTokenService;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field userService:Lorg/graylog2/shared/users/UserService;
      14: aload_0
      15: ldc           #4                  // class org/graylog2/shared/security/AccessTokenAuthToken
      17: invokevirtual #5                  // Method setAuthenticationTokenClass:(Ljava/lang/Class;)V
      20: aload_0
      21: iconst_0
      22: invokevirtual #6                  // Method setCachingEnabled:(Z)V
      25: aload_0
      26: new           #7                  // class org/apache/shiro/authc/credential/AllowAllCredentialsMatcher
      29: dup
      30: invokespecial #8                  // Method org/apache/shiro/authc/credential/AllowAllCredentialsMatcher."<init>":()V
      33: invokevirtual #9                  // Method setCredentialsMatcher:(Lorg/apache/shiro/authc/credential/CredentialsMatcher;)V
      36: return

  protected org.apache.shiro.authc.AuthenticationInfo doGetAuthenticationInfo(org.apache.shiro.authc.AuthenticationToken) throws org.apache.shiro.authc.AuthenticationException;
    Code:
       0: aload_1
       1: checkcast     #4                  // class org/graylog2/shared/security/AccessTokenAuthToken
       4: astore_2
       5: aload_0
       6: getfield      #2                  // Field accessTokenService:Lorg/graylog2/security/AccessTokenService;
       9: aload_2
      10: invokevirtual #10                 // Method org/graylog2/shared/security/AccessTokenAuthToken.getToken:()Ljava/lang/String;
      13: invokestatic  #11                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
      16: invokeinterface #12,  2           // InterfaceMethod org/graylog2/security/AccessTokenService.load:(Ljava/lang/String;)Lorg/graylog2/security/AccessToken;
      21: astore_3
      22: aload_3
      23: ifnonnull     28
      26: aconst_null
      27: areturn
      28: aload_0
      29: getfield      #3                  // Field userService:Lorg/graylog2/shared/users/UserService;
      32: aload_3
      33: invokeinterface #13,  1           // InterfaceMethod org/graylog2/security/AccessToken.getUserName:()Ljava/lang/String;
      38: invokeinterface #14,  2           // InterfaceMethod org/graylog2/shared/users/UserService.load:(Ljava/lang/String;)Lorg/graylog2/plugin/database/users/User;
      43: astore        4
      45: aload         4
      47: ifnonnull     52
      50: aconst_null
      51: areturn
      52: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      55: invokeinterface #16,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      60: ifeq          75
      63: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      66: ldc           #17                 // String Found user {} for access token.
      68: aload         4
      70: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      75: aload_0
      76: getfield      #2                  // Field accessTokenService:Lorg/graylog2/security/AccessTokenService;
      79: aload_3
      80: invokeinterface #19,  2           // InterfaceMethod org/graylog2/security/AccessTokenService.touch:(Lorg/graylog2/security/AccessToken;)V
      85: goto          102
      88: astore        5
      90: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      93: ldc           #21                 // String Unable to update access token\'s last access date.
      95: aload         5
      97: invokeinterface #22,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     102: iconst_0
     103: invokestatic  #23                 // Method org/graylog2/shared/security/ShiroSecurityContext.requestSessionCreation:(Z)V
     106: new           #24                 // class org/apache/shiro/authc/SimpleAccount
     109: dup
     110: aload         4
     112: invokeinterface #25,  1           // InterfaceMethod org/graylog2/plugin/database/users/User.getName:()Ljava/lang/String;
     117: aconst_null
     118: ldc           #26                 // String access token realm
     120: invokespecial #27                 // Method org/apache/shiro/authc/SimpleAccount."<init>":(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/String;)V
     123: areturn
    Exception table:
       from    to  target type
          75    85    88   Class org/graylog2/plugin/database/ValidationException

  static {};
    Code:
       0: ldc           #28                 // class org/graylog2/security/realm/AccessTokenAuthenticator
       2: invokestatic  #29                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
