(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-40"],{"1fuRa46a":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=f(t("ivGQtwpr")),r=f(t("PcYM+wZ7")),a=f(t("4KF7VOU5")),l=t("wMSvutaJ"),o=f(t("1VnJesae")),u=t("oBIKikY9"),i=t("2wyBGuX7"),c=f(t("mc0qlNhN")),s=t("ov8Uhfn2");function f(e){return e&&e.__esModule?e:{default:e}}var d=o.default.getStore("IndexerCluster"),m=(0,r.default)({displayName:"IndexerClusterHealth",mixins:[a.default.connect(d)],componentDidMount:function(){d.update()},render:function(){var e,t=this.state.health;return e=t?n.default.createElement(s.IndexerClusterHealthSummary,{health:t}):n.default.createElement(u.Spinner,null),n.default.createElement(l.Row,{className:"content"},n.default.createElement(l.Col,{md:12},n.default.createElement("h2",null,"Elasticsearch cluster"),n.default.createElement(i.SmallSupportLink,null,"The possible Elasticsearch cluster states and more related information is available in the"," ",n.default.createElement(i.DocumentationLink,{page:c.default.PAGES.CONFIGURING_ES,text:"Graylog documentation"}),"."),e))}});exports.default=m,e.exports=exports.default},"3r0W07S3":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=r(t("ivGQtwpr")),c=t("wMSvutaJ"),s=t("wkvtUUMm"),f=r(t("9pdI12pI")),a=r(t("2gEPIf6i")),n=r(t("1VnJesae")),l=r(t("mc0qlNhN")),d=r(t("W+sNG9T1")),o=t("oBIKikY9"),m=t("2wyBGuX7");function r(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=n.default.getStore("IndexerFailures"),u=function(e){function u(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return n=this,r=(e=h(u)).call.apply(e,[this].concat(l)),E(v(v(t=!r||"object"!==p(r)&&"function"!=typeof r?v(n):r)),"state",{}),E(v(v(t)),"_formatFailuresSummary",function(){return i.default.createElement(c.Alert,{bsStyle:0===t.state.total?"success":"danger"},i.default.createElement("i",{className:"fa fa-".concat(t._iconForFailureCount(t.state.total))})," ",t._formatTextForFailureCount(t.state.total),i.default.createElement(s.LinkContainer,{to:d.default.SYSTEM.INDICES.FAILURES},i.default.createElement(c.Button,{bsStyle:"info",bsSize:"xs",className:"pull-right"},"Show errors")))}),E(v(v(t)),"_formatTextForFailureCount",function(e){return 0===e?"No failed indexing attempts in the last 24 hours.":i.default.createElement("strong",null,"There were ",(0,f.default)(e).format("0,0")," failed indexing attempts in the last 24 hours.")}),E(v(v(t)),"_iconForFailureCount",function(e){return 0===e?"check-circle":"ambulance"}),t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,i.default.Component),t=u,(n=[{key:"componentDidMount",value:function(){var t=this,e=(0,a.default)().subtract(24,"hours");S.count(e).then(function(e){t.setState({total:e.count})})}},{key:"render",value:function(){var e;return e=void 0===this.state.total?i.default.createElement(o.Spinner,null):this._formatFailuresSummary(),i.default.createElement(c.Row,{className:"content"},i.default.createElement(c.Col,{md:12},i.default.createElement("h2",null,"Indexer failures"),i.default.createElement(m.SmallSupportLink,null,"Every message that was not successfully indexed will be logged as an indexer failure. You can learn more about this feature in the"," ",i.default.createElement(m.DocumentationLink,{page:l.default.PAGES.INDEXER_FAILURES,text:"Graylog documentation"}),"."),e))}}])&&y(t.prototype,n),r&&y(t,r),u}();exports.default=u,e.exports=exports.default},"6du0AgxJ":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(t("ii0bleBb")),l=r(t("ivGQtwpr")),o=t("wMSvutaJ"),u=t("ov8Uhfn2");function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,m,p,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,l.default.Component),n=t,(r=[{key:"render",value:function(){return 0===this.props.failures.length?l.default.createElement(o.Alert,{bsStyle:"success"},l.default.createElement("i",{className:"fa fa-check-circle"})," Hurray! There are not any indexer failures."):l.default.createElement("div",{className:"scrollable-table"},l.default.createElement(o.Table,{className:"indexer-failures",striped:!0,hover:!0,condensed:!0},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",{style:{width:200}},"Timestamp"),l.default.createElement("th",null,"Index"),l.default.createElement("th",null,"Letter ID"),l.default.createElement("th",null,"Error message"))),l.default.createElement("tbody",null,this.props.failures.map(function(e){return l.default.createElement(u.IndexerFailure,{key:"indexer-failure-".concat(e.letter_id),failure:e})}))))}}])&&i(n.prototype,r),a&&i(n,a),t}();d=y,m="propTypes",p={failures:n.default.arrayOf(n.default.object).isRequired},m in d?Object.defineProperty(d,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[m]=p;var h=y;exports.default=h,e.exports=exports.default},By2tTmFm:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(t("ii0bleBb")),l=r(t("ivGQtwpr")),o=t("oBIKikY9");function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,d,m,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,c(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,l.default.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.failure;return l.default.createElement("tr",null,l.default.createElement("td",{title:e.timestamp},l.default.createElement(o.Timestamp,{dateTime:e.timestamp,relative:!0})),l.default.createElement("td",null,e.index),l.default.createElement("td",null,e.letter_id),l.default.createElement("td",null,e.message))}}])&&u(n.prototype,r),a&&u(n,a),t}();f=p,d="propTypes",m={failure:n.default.object.isRequired},d in f?Object.defineProperty(f,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[d]=m;var y=p;exports.default=y,e.exports=exports.default},"d+yVrg6K":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(t("ii0bleBb")),i=r(t("ivGQtwpr")),a=t("wMSvutaJ"),l=t("2wyBGuX7"),o=r(t("mc0qlNhN"));function r(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function u(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return n=this,p(m(m(t=!(r=(e=f(u)).call.apply(e,[this].concat(l)))||"object"!==c(r)&&"function"!=typeof r?m(n):r)),"_alertClassForHealth",function(e){switch(e.status){case"green":return"success";case"yellow":return"warning";case"red":return"danger";default:return"success"}}),p(m(m(t)),"_formatTextForHealth",function(e){var t="Elasticsearch cluster is ".concat(e.status,".");switch(e.status){case"green":return t;case"yellow":case"red":return i.default.createElement("strong",null,t);default:return t}}),p(m(m(t)),"_iconNameForHealth",function(e){switch(e.status){case"green":return"check-circle";case"yellow":return"warning";case"red":return"ambulance";default:return"check-circle"}}),t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,i.default.Component),t=u,(n=[{key:"render",value:function(){var e=this.props.health;return i.default.createElement(a.Alert,{bsStyle:this._alertClassForHealth(e),className:"es-cluster-status"},i.default.createElement("i",{className:"fa fa-".concat(this._iconNameForHealth(e))}),"  ",this._formatTextForHealth(e)," ","Shards:"," ",e.shards.active," active,"," ",e.shards.initializing," initializing,"," ",e.shards.relocating," relocating,"," ",e.shards.unassigned," unassigned,"," ",i.default.createElement(l.DocumentationLink,{page:o.default.PAGES.CLUSTER_STATUS_EXPLAINED,text:"What does this mean?"}))}}])&&s(t.prototype,n),r&&s(t,r),u}();p(u,"propTypes",{health:n.default.object.isRequired});var y=u;exports.default=y,e.exports=exports.default},ov8Uhfn2:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"IndexerClusterHealth",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"IndexerClusterHealthSummary",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"IndexerFailure",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"IndexerFailuresComponent",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"IndexerFailuresList",{enumerable:!0,get:function(){return o.default}});var n=u(t("1fuRa46a")),r=u(t("d+yVrg6K")),a=u(t("By2tTmFm")),l=u(t("3r0W07S3")),o=u(t("6du0AgxJ"));function u(e){return e&&e.__esModule?e:{default:e}}},zajCcqb3:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=h(t("ii0bleBb")),l=h(t("ivGQtwpr")),r=h(t("PcYM+wZ7")),a=h(t("4KF7VOU5")),o=t("wkvtUUMm"),u=t("wMSvutaJ"),i=h(t("9pdI12pI")),c=t("oBIKikY9"),s=t("NR2F5O1/"),f=t("ov8Uhfn2"),d=t("2wyBGuX7"),m=h(t("mc0qlNhN")),p=h(t("21p8kIWv")),y=h(t("W+sNG9T1"));function h(e){return e&&e.__esModule?e:{default:e}}var b=p.default.get("IndexSets"),v=b.IndexSetsStore,E=b.IndexSetsActions,S=p.default.get("Indices"),w=S.IndicesStore,g=S.IndicesActions,_=p.default.get("IndexerOverview"),x=_.IndexerOverviewStore,I=_.IndexerOverviewActions,O=(0,r.default)({displayName:"IndexSetPage",propTypes:{params:n.default.object.isRequired},mixins:[a.default.connect(v),a.default.connect(w,"indexDetails"),a.default.connect(x)],getInitialState:function(){return{indexSet:void 0}},componentDidMount:function(){var e=this;E.get(this.props.params.indexSetId),g.list(this.props.params.indexSetId),this.timerId=setInterval(function(){g.multiple(),I.list(e.props.params.indexSetId)},this.REFRESH_INTERVAL)},componentWillUnmount:function(){this.timerId&&clearInterval(this.timerId)},REFRESH_INTERVAL:2e3,_totalIndexCount:function(){return Object.keys(this.state.indexerOverview.indices).length},_renderElasticsearchUnavailableInformation:function(){return l.default.createElement(u.Row,{className:"content"},l.default.createElement(u.Col,{md:8,mdOffset:2},l.default.createElement("div",{className:"top-margin"},l.default.createElement(u.Panel,{bsStyle:"danger",header:l.default.createElement("span",null,l.default.createElement("i",{className:"fa fa-exclamation-triangle"})," Indices overview unavailable")},l.default.createElement("p",null,"We could not get the indices overview information. This usually means there was a problem connecting to Elasticsearch, and ",l.default.createElement("strong",null,"you should ensure Elasticsearch is up and reachable from Graylog"),"."),l.default.createElement("p",null,"Graylog will continue storing your messages in its journal, but you will not be able to search on them until Elasticsearch is reachable again.")))))},_isLoading:function(){return!this.state.indexSet},render:function(){if(this._isLoading())return l.default.createElement(c.Spinner,null);var e,t,n=this.state.indexSet,r=l.default.createElement(c.PageHeader,{title:"Index Set: ".concat(n.title)},l.default.createElement("span",null,"This is an overview of all indices (message stores) in this index set Graylog is currently taking in account for searches and analysis."),l.default.createElement("span",null,"You can learn more about the index model in the"," ",l.default.createElement(d.DocumentationLink,{page:m.default.PAGES.INDEX_MODEL,text:"documentation"})),l.default.createElement("span",null,l.default.createElement(o.LinkContainer,{to:y.default.SYSTEM.INDICES.LIST},l.default.createElement(u.Button,{bsStyle:"info"},"Index sets overview"))," ",l.default.createElement(o.LinkContainer,{to:y.default.SYSTEM.INDEX_SETS.CONFIGURATION(n.id,"details")},l.default.createElement(u.Button,{bsStyle:"info"},"Edit Index Set"))," ",l.default.createElement(s.IndicesMaintenanceDropdown,{indexSetId:this.props.params.indexSetId,indexSet:this.state.indexSet})));if(this.state.indexerOverviewError)return l.default.createElement("span",null,r,this._renderElasticsearchUnavailableInformation());if(this.state.indexerOverview&&this.state.indexDetails.closedIndices){var a=this.state.indexerOverview.deflector;e=l.default.createElement("span",null,l.default.createElement(u.Alert,{bsStyle:"success",style:{marginTop:"10"}},l.default.createElement("i",{className:"fa fa-th"}),"  ",this._totalIndexCount()," indices with a total of"," ",(0,i.default)(this.state.indexerOverview.counts.events).format("0,0")," messages under management, current write-active index is ",l.default.createElement("i",null,a.current_target),"."),l.default.createElement(f.IndexerClusterHealthSummary,{health:this.state.indexerOverview.indexer_cluster.health})),t=l.default.createElement(s.IndicesOverview,{indices:this.state.indexerOverview.indices,indexDetails:this.state.indexDetails.indices,indexSetId:this.props.params.indexSetId,closedIndices:this.state.indexDetails.closedIndices,deflector:this.state.indexerOverview.deflector})}else e=l.default.createElement(c.Spinner,null),t=l.default.createElement(c.Spinner,null);return l.default.createElement(c.DocumentTitle,{title:"Index Set - ".concat(n.title)},l.default.createElement("div",null,r,l.default.createElement(u.Row,{className:"content"},l.default.createElement(u.Col,{md:12},l.default.createElement(s.IndexSetDetails,{indexSet:n}))),l.default.createElement(u.Row,{className:"content"},l.default.createElement(u.Col,{md:12},e)),t))}});exports.default=O,e.exports=exports.default}}]);