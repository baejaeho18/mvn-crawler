(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-14"],{"Ew/V81ec":function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(e("ii0bleBb")),l=o(e("ivGQtwpr")),r=e("wMSvutaJ");function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(t){function i(){var t,e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return n=this,o=(t=f(i)).call.apply(t,[this].concat(u)),c(p(p(e=!o||"object"!==s(o)&&"function"!=typeof o?p(n):o)),"PLACEHOLDER","placeholder"),c(p(p(e)),"_formatOutput",function(t){return l.default.createElement("option",{key:t.id,value:t.id},t.title)}),c(p(p(e)),"_handleUpdate",function(t){e.setState({selectedOutput:t.target.value})}),c(p(p(e)),"_handleClick",function(){e.props.onSubmit(e.state.selectedOutput),e.setState({selectedOutput:e.PLACEHOLDER})}),c(p(p(e)),"state",{selectedOutput:e.PLACEHOLDER}),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(i,l.default.Component),e=i,(n=[{key:"render",value:function(){var t=this.props.outputs,e=0<t.length?t.map(this._formatOutput):l.default.createElement("option",{disabled:!0},"No outputs available");return l.default.createElement("div",{className:"output-add"},l.default.createElement("div",{className:"form-inline"},l.default.createElement("select",{value:this.state.selectedOutput,name:"outputId",className:"form-control",onChange:this._handleUpdate},l.default.createElement("option",{value:this.PLACEHOLDER,disabled:!0},"Select existing output"),e),"Â ",l.default.createElement(r.Button,{id:"add-existing-output",bsStyle:"success",type:"button",disabled:this.state.selectedOutput===this.PLACEHOLDER,onClick:this._handleClick},"Assign existing Output")))}}])&&u(e.prototype,n),o&&u(e,o),i}();c(i,"propTypes",{outputs:n.default.array.isRequired,onSubmit:n.default.func.isRequired});var d=i;exports.default=d,t.exports=exports.default},M0ExVEW5:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(e("ii0bleBb")),l=o(e("ivGQtwpr")),r=e("wMSvutaJ"),s=o(e("8FtKQWAV")),u=e("oBIKikY9"),f=o(e("WY1nx3PS"));function o(t){return t&&t.__esModule?t:{default:t}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(t){function i(){var t,e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return n=this,o=(t=c(i)).call.apply(t,[this].concat(u)),y(m(m(e=!o||"object"!==p(o)&&"function"!=typeof o?m(n):o)),"_sortByTitle",function(t,e){return(0,s.default)(t.title.toLowerCase(),e.title.toLowerCase())}),y(m(m(e)),"_formatOutput",function(t){return l.default.createElement(f.default,{key:t.id,output:t,streamId:e.props.streamId,removeOutputFromStream:e.props.onRemove,removeOutputGlobally:e.props.onTerminate,onUpdate:e.props.onUpdate,getTypeDefinition:e.props.getTypeDefinition,types:e.props.types})}),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,l.default.Component),e=i,(n=[{key:"render",value:function(){if(!this.props.outputs)return l.default.createElement(u.Spinner,null);if(0===this.props.outputs.length)return l.default.createElement(r.Row,{className:"content"},l.default.createElement(r.Col,{md:12},l.default.createElement(r.Alert,{bsStyle:"info"},"No outputs configured.")));var t=this.props.outputs.sort(this._sortByTitle).map(this._formatOutput);return l.default.createElement("div",null,t)}}])&&a(e.prototype,n),o&&a(e,o),i}();y(i,"propTypes",{streamId:n.default.string,outputs:n.default.array,onRemove:n.default.func.isRequired,onTerminate:n.default.func.isRequired,onUpdate:n.default.func.isRequired,getTypeDefinition:n.default.func.isRequired,types:n.default.object.isRequired});var b=i;exports.default=b,t.exports=exports.default},WY1nx3PS:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(e("ii0bleBb")),a=o(e("ivGQtwpr")),l=e("wMSvutaJ"),s=o(e("glKwhM3i")),f=e("cqPeOTxf"),p=e("oBIKikY9");function o(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(t){function i(){var t,e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return n=this,o=(t=d(i)).call.apply(t,[this].concat(u)),y(m(m(e=!o||"object"!==c(o)&&"function"!=typeof o?m(n):o)),"state",{}),y(m(m(e)),"_onDeleteFromStream",function(){e.props.removeOutputFromStream(e.props.output.id,e.props.streamId)}),y(m(m(e)),"_onDeleteGlobally",function(){e.props.removeOutputGlobally(e.props.output.id)}),y(m(m(e)),"_typeNotAvailable",function(){return void 0===e.props.types[e.props.output.type]}),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,a.default.Component),e=i,(n=[{key:"componentDidMount",value:function(){var e=this;this._typeNotAvailable()||this.props.getTypeDefinition(this.props.output.type,function(t){e.setState({typeDefinition:t})})}},{key:"render",value:function(){if(!this._typeNotAvailable()&&!this.state.typeDefinition)return a.default.createElement(p.Spinner,null);var t,e,n=this.props.output,o=n.content_pack?a.default.createElement("span",{title:"Created from content pack"},a.default.createElement("i",{className:"fa fa-gift"})):null;this._typeNotAvailable()?t=a.default.createElement(l.Alert,{bsStyle:"danger"},"The plugin required for this output is not loaded. Editing it is not possible. Please load the plugin or delete the output."):e=a.default.createElement(f.ConfigurationWell,{key:"configuration-well-output-".concat(n.id),id:n.id,configuration:n.configuration,typeDefinition:this.state.typeDefinition});var r,u=this.props.streamId;return r=null!=u?a.default.createElement(p.IfPermitted,{permissions:"stream_outputs:delete"}," ",a.default.createElement(l.Button,{bsStyle:"info",onClick:this._onDeleteFromStream},"Delete from stream")):"",a.default.createElement("div",{key:n.id,className:"row content node-row"},a.default.createElement(l.Col,{md:12},a.default.createElement(l.Row,{className:"row-sm"},a.default.createElement(l.Col,{md:6},a.default.createElement("h2",{className:"extractor-title"},n.title," ",o,a.default.createElement("small",null,"ID: ",n.id)),"Type: ",n.type),a.default.createElement(l.Col,{md:6},a.default.createElement("div",{className:"text-right node-row-info"},a.default.createElement(p.IfPermitted,{permissions:"outputs:edit"},a.default.createElement(s.default,{disabled:this._typeNotAvailable(),output:n,onUpdate:this.props.onUpdate,getTypeDefinition:this.props.getTypeDefinition})),r,a.default.createElement(p.IfPermitted,{permissions:"outputs:terminate"}," ",a.default.createElement(l.Button,{bsStyle:"primary",onClick:this._onDeleteGlobally},"Delete globally"))))),a.default.createElement(l.Row,null,a.default.createElement(l.Col,{md:8},t,e))))}}])&&r(e.prototype,n),o&&r(e,o),i}();y(i,"propTypes",{streamId:n.default.string,output:n.default.object.isRequired,types:n.default.object.isRequired,getTypeDefinition:n.default.func.isRequired,removeOutputFromStream:n.default.func.isRequired,removeOutputGlobally:n.default.func.isRequired});var b=i;exports.default=b,t.exports=exports.default},YRxmDjar:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=c(e("ivGQtwpr")),n=c(e("PcYM+wZ7")),u=e("wMSvutaJ"),o=c(e("1VnJesae")),a=c(e("8GJ6oOEd")),i=c(e("dOmQZ9N/")),l=c(e("fQFnrO3i")),s=c(e("M0ExVEW5")),f=c(e("jOQVfYtp")),p=c(e("Ew/V81ec"));function c(t){return t&&t.__esModule?t:{default:t}}var d=o.default.getStore("Outputs"),m=o.default.getStore("Streams"),y=(0,n.default)({displayName:"OutputsComponent",mixins:[i.default],componentDidMount:function(){this.loadData()},loadData:function(){var e=this,t=function(t){e.setState({outputs:t.outputs}),e.props.streamId&&e._fetchAssignableOutputs(t.outputs)};this.props.streamId?d.loadForStreamId(this.props.streamId,t):d.load(t),d.loadAvailableTypes(function(t){e.setState({types:t.types})})},getInitialState:function(){return{}},_handleUpdate:function(){this.loadData()},_handleCreateOutput:function(t){var e=this;d.save(t,function(t){return e.setState({typeName:"placeholder"}),e.props.streamId?m.addOutput(e.props.streamId,t.id,function(t){return e._handleUpdate(),t}):e._handleUpdate(),t})},_fetchAssignableOutputs:function(o){var r=this;d.load(function(t){var e=o.map(function(t){return t.id}),n=t.outputs.filter(function(t){return-1===e.indexOf(t.id)}).sort(function(t,e){return t.title.localeCompare(e.title)});r.setState({assignableOutputs:n})})},_handleAssignOutput:function(t){var e=this;m.addOutput(this.props.streamId,t,function(t){return e._handleUpdate(),t})},_removeOutputGlobally:function(t){var e=this;window.confirm("Do you really want to terminate this output?")&&d.remove(t,function(t){return a.default.success("Output was terminated.","Success"),e._handleUpdate(),t})},_removeOutputFromStream:function(t,e){var n=this;window.confirm("Do you really want to remove this output from the stream?")&&m.removeOutput(e,t,function(t){return a.default.success("Output was removed from stream.","Success"),n._handleUpdate(),t})},_handleOutputUpdate:function(t,e){var n=this;d.update(t,e,function(){n._handleUpdate()})},render:function(){if(!this.state.outputs||!this.state.types||this.props.streamId&&!this.state.assignableOutputs)return r.default.createElement(l.default,null);var t=this.props.permissions,e=this.props.streamId,n=this.isPermitted(t,["outputs:create"])?r.default.createElement(f.default,{types:this.state.types,onSubmit:this._handleCreateOutput,getTypeDefinition:d.loadAvailable,streamId:e}):null,o=e?r.default.createElement(p.default,{streamId:e,outputs:this.state.assignableOutputs,onSubmit:this._handleAssignOutput}):null;return r.default.createElement("div",{className:"outputs"},r.default.createElement(u.Row,{className:"content"},r.default.createElement(u.Col,{md:4},n),r.default.createElement(u.Col,{md:8},o)),r.default.createElement(s.default,{streamId:e,outputs:this.state.outputs,permissions:t,getTypeDefinition:d.loadAvailable,types:this.state.types,onRemove:this._removeOutputFromStream,onTerminate:this._removeOutputGlobally,onUpdate:this._handleOutputUpdate}))}});exports.default=y,t.exports=exports.default},glKwhM3i:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(e("ii0bleBb")),r=o(e("ivGQtwpr")),u=e("wMSvutaJ"),a=e("cqPeOTxf");function o(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(t){function i(){var t,e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return n=this,o=(t=f(i)).call.apply(t,[this].concat(u)),d(c(c(e=!o||"object"!==l(o)&&"function"!=typeof o?c(n):o)),"state",{typeDefinition:void 0,typeName:void 0,configurationForm:""}),d(c(c(e)),"handleClick",function(){e.props.getTypeDefinition(e.props.output.type,function(t){e.setState({typeDefinition:t.requested_configuration}),e.configurationForm.open()})}),d(c(c(e)),"_handleSubmit",function(t){e.props.onUpdate(e.props.output,t)}),e}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(i,r.default.Component),e=i,(n=[{key:"render",value:function(){var t,e=this,n=this.state.typeDefinition,o=this.props.output;return n&&(t=r.default.createElement(a.ConfigurationForm,{ref:function(t){e.configurationForm=t},key:"configuration-form-output-".concat(o.id),configFields:this.state.typeDefinition,title:"Editing Output ".concat(o.title),typeName:o.type,helpBlock:"Select a name of your new output that describes it.",submitAction:this._handleSubmit,values:o.configuration,titleValue:o.title})),r.default.createElement("span",null,r.default.createElement(u.Button,{disabled:this.props.disabled,bsStyle:"info",onClick:this.handleClick.bind(null,o)},"Edit"),t)}}])&&s(e.prototype,n),o&&s(e,o),i}();d(i,"propTypes",{output:n.default.object,disabled:n.default.bool,getTypeDefinition:n.default.func.isRequired,onUpdate:n.default.func});var m=i;exports.default=m,t.exports=exports.default},jOQVfYtp:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=n(e("ivGQtwpr")),r=n(e("gCzbTwtZ")),u=e("cqPeOTxf");function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(t){function i(){var t,n,e,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return e=this,o=(t=f(i)).call.apply(t,[this].concat(u)),d(c(c(n=!o||"object"!==s(o)&&"function"!=typeof o?c(e):o)),"PLACEHOLDER","placeholder"),d(c(c(n)),"loadData",function(){}),d(c(c(n)),"_openModal",function(t){n.state.typeName!==n.PLACEHOLDER&&""!==n.state.typeName&&n.configurationForm.open()}),d(c(c(n)),"_formatOutputType",function(t,e){return l.default.createElement("option",{key:e,value:e},t.name)}),d(c(c(n)),"_onTypeChange",function(t){var e=t.target.value;n.setState({typeName:t.target.value}),n.props.getTypeDefinition(e,function(t){n.setState({typeDefinition:t.requested_configuration})})}),d(c(c(n)),"state",{typeDefinition:[],typeName:n.PLACEHOLDER}),n}var e,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(i,l.default.Component),e=i,(n=[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=r.default.map(this.props.types,this._formatOutputType);return l.default.createElement("div",null,l.default.createElement("div",{className:"form-inline"},l.default.createElement("select",{id:"input-type",defaultValue:this.PLACEHOLDER,value:this.state.typeName,onChange:this._onTypeChange,className:"form-control"},l.default.createElement("option",{value:this.PLACEHOLDER,disabled:!0},"Select Output Type"),t),"Â ",l.default.createElement("button",{className:"btn btn-success",disabled:this.state.typeName===this.PLACEHOLDER,onClick:this._openModal},"Launch new output")),l.default.createElement(u.ConfigurationForm,{ref:function(t){e.configurationForm=t},key:"configuration-form-output",configFields:this.state.typeDefinition,title:"Create new Output",helpBlock:"Select a name of your new output that describes it.",typeName:this.state.typeName,submitAction:this.props.onSubmit}))}}])&&a(e.prototype,n),o&&a(e,o),i}();exports.default=o,t.exports=exports.default}}]);