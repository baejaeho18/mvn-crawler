(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-15"],{"/LN5kGCE":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),o=a(t("ivGQtwpr")),s=a(t("dJZIv+X6")),l=a(t("8GJ6oOEd"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=a(t("1VnJesae")).default.getStore("UniversalSearch"),r=function(e){function r(){var e,n,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return t=this,a=(e=d(r)).call.apply(e,[this].concat(s)),p(f(f(n=!a||"object"!==u(a)&&"function"!=typeof a?f(t):a)),"state",{loading:!1}),p(f(f(n)),"onClick",function(e){n.props.inputs.get(e)||l.default.error("Invalid input selected: ".concat(e),"Could not load message from invalid Input ".concat(e)),n.setState({loading:!0});var t=m.search("relative","gl2_source_input:".concat(e," OR gl2_source_radio_input:").concat(e),{range:3600},void 0,1,void 0,void 0,void 0,!1);t.then(function(e){0<e.total_results?n.props.onMessageLoaded(e.messages[0]):(l.default.error("Input did not return a recent message."),n.props.onMessageLoaded(void 0))}),t.finally(function(){return n.setState({loading:!1})})}),n}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,o.default.Component),t=r,(n=[{key:"render",value:function(){var e;return e=this.props.selectedInputId?'Click on "Load Message" to load the most recent message received by this input within the last hour.':'Select an Input from the list below and click "Load Message" to load the most recent message received by this input within the last hour.',o.default.createElement("div",{style:{marginTop:5}},e,o.default.createElement(s.default,{inputs:this.props.inputs,preselectedInputId:this.props.selectedInputId,onLoadMessage:this.onClick,title:this.state.loading?"Loading message...":"Load Message",disabled:this.state.loading}))}}])&&i(t.prototype,n),a&&i(t,a),r}();p(r,"propTypes",{inputs:n.default.object,onMessageLoaded:n.default.func.isRequired,selectedInputId:n.default.string});var h=r;exports.default=h,e.exports=exports.default},D3peziq8:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=f(t("ii0bleBb")),s=f(t("ivGQtwpr")),a=f(t("PcYM+wZ7")),o=f(t("4KF7VOU5")),i=t("wMSvutaJ"),r=t("B4BR5PLd"),l=t("oBIKikY9"),u=t("cqPeOTxf"),d=f(t("JBQWIv26")),c=f(t("1VnJesae"));function f(e){return e&&e.__esModule?e:{default:e}}var p=d.default.getActions("Messages"),m=d.default.getActions("CodecTypes"),h=d.default.getActions("Inputs"),g=(c.default.getStore("Messages"),c.default.getStore("CodecTypes")),b=c.default.getStore("Inputs"),y=(0,a.default)({displayName:"RawMessageLoader",propTypes:{onMessageLoaded:n.default.func.isRequired,inputIdSelector:n.default.bool},mixins:[o.default.connect(g),o.default.connect(b)],getDefaultProps:function(){return{inputIdSelector:!1}},getInitialState:function(){return{loading:!1,message:"",remoteAddress:"",codec:"",codecConfiguration:{},inputId:void 0}},componentDidMount:function(){m.list(),this.props.inputIdSelector&&h.list()},DEFAULT_REMOTE_ADDRESS:"127.0.0.1",_loadMessage:function(e){var t=this;e.preventDefault();var n=this.state,a=n.message,o=n.remoteAddress,s=n.codec,i=n.codecConfiguration,r=n.inputId;this.setState({loading:!0});var l=p.loadRawMessage.triggerPromise(a,o||this.DEFAULT_REMOTE_ADDRESS,s,i);l.then(function(e){t.props.onMessageLoaded(e,{message:a,remoteAddress:o,codec:s,codecConfiguration:i,inputId:r})}),l.finally(function(){return t.setState({loading:!1})})},_bindValue:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)},_formatSelectOptions:function(){var n=this;if(!this.state.codecTypes)return[{value:"none",label:"Loading codec types...",disabled:!0}];var e=Object.keys(this.state.codecTypes);return 0===e.length?[{value:"none",label:"No codecs available"}]:e.filter(function(e){return"random-http-msg"!==e}).map(function(e){var t=n.state.codecTypes[e].name;return{value:e,label:""===t?e:t}}).sort(function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())})},_formatInputSelectOptions:function(){var n=this;if(!this.state.inputs)return[{value:"none",label:"Loading inputs...",disabled:!0}];var e=Object.keys(this.state.inputs);return 0===e.length?[{value:"none",label:"No inputs available"}]:e.map(function(e){var t=n.state.inputs[e].id;return{value:t,label:"".concat(t," / ").concat(n.state.inputs[e].title," / ").concat(n.state.inputs[e].name)}}).sort(function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())})},_onCodecSelect:function(e){this._bindValue({target:{name:"codec",value:e}}),this.setState({codecConfiguration:{}})},_onInputSelect:function(e){this.setState({inputId:e})},_onCodecConfigurationChange:function(e,t){var n=Object.assign(this.state.codecConfiguration);n[e]=t,this._bindValue({target:{name:"codecConfiguration",value:n}})},_formatConfigField:function(e,t){var n=this.state.codecConfiguration[e],a="RawMessageLoader",o="".concat(a,"-").concat(e);switch(t.type){case"text":return s.default.createElement(u.TextField,{key:o,typeName:a,title:e,field:t,value:n,onChange:this._onCodecConfigurationChange});case"number":return s.default.createElement(u.NumberField,{key:o,typeName:a,title:e,field:t,value:n,onChange:this._onCodecConfigurationChange});case"boolean":return s.default.createElement(u.BooleanField,{key:o,typeName:a,title:e,field:t,value:n,onChange:this._onCodecConfigurationChange});case"dropdown":return s.default.createElement(u.DropdownField,{key:o,typeName:a,title:e,field:t,value:n,onChange:this._onCodecConfigurationChange});default:return null}},_isSubmitDisabled:function(){return!this.state.message||!this.state.codec||this.state.loading},render:function(){var e,t,n=this;if(this.state.codecTypes&&this.state.codec){var a=this.state.codecTypes[this.state.codec].requested_configuration;e=Object.keys(a).sort(function(e,t){return a[e].is_optional-a[t].is_optional}).map(function(e){return n._formatConfigField(e,a[e])})}return this.props.inputIdSelector&&(t=s.default.createElement(r.Input,{id:"input",name:"input",label:s.default.createElement("span",null,"Message input ",s.default.createElement("small",null,"(optional)")),help:"Select the message input ID that should be assigned to the parsed message."},s.default.createElement(l.Select,{id:"input",placeholder:"Select input",options:this._formatInputSelectOptions(),matchProp:"label",onChange:this._onInputSelect,value:this.state.inputId}))),s.default.createElement(i.Row,null,s.default.createElement(i.Col,{md:7},s.default.createElement("form",{onSubmit:this._loadMessage},s.default.createElement("fieldset",null,s.default.createElement(r.Input,{id:"message",name:"message",type:"textarea",label:"Raw message",value:this.state.message,onChange:this._bindValue,rows:3,required:!0}),s.default.createElement(r.Input,{id:"remoteAddress",name:"remoteAddress",type:"text",label:s.default.createElement("span",null,"Source IP address ",s.default.createElement("small",null,"(optional)")),help:"Remote IP address to use as message source. Graylog will use ".concat(this.DEFAULT_REMOTE_ADDRESS," by default."),value:this.state.remoteAddress,onChange:this._bindValue})),t,s.default.createElement("fieldset",null,s.default.createElement("legend",null,"Codec configuration"),s.default.createElement(r.Input,{id:"codec",name:"codec",label:"Message codec",help:"Select the codec that should be used to decode the message.",required:!0},s.default.createElement(l.Select,{id:"codec",placeholder:"Select codec",options:this._formatSelectOptions(),matchProp:"label",onChange:this._onCodecSelect,value:this.state.codec})),e),s.default.createElement(i.Button,{type:"submit",bsStyle:"info",disabled:this._isSubmitDisabled()},this.state.loading?"Loading message...":"Load message"))))}});exports.default=y,e.exports=exports.default},"N/I/utFl":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=m(t("ii0bleBb")),a=m(t("ivGQtwpr")),o=m(t("PcYM+wZ7")),s=m(t("4KF7VOU5")),i=t("wMSvutaJ"),r=m(t("VPaD/Np4")),l=m(t("1VnJesae")),u=m(t("JBQWIv26")),d=m(t("Zqh2OD99")),c=m(t("kERT+daO")),f=m(t("D3peziq8")),p=m(t("/LN5kGCE"));function m(e){return e&&e.__esModule?e:{default:e}}var h=l.default.getStore("Inputs"),g=l.default.getStore("Streams"),b=u.default.getActions("Inputs"),y=(0,o.default)({displayName:"LoaderTabs",propTypes:{tabs:n.default.oneOfType([n.default.oneOf(["recent","messageId","raw"]),n.default.arrayOf(n.default.oneOf(["recent","messageId","raw"]))]),messageId:n.default.string,index:n.default.string,onMessageLoaded:n.default.func,selectedInputId:n.default.string,customFieldActions:n.default.node,disableMessagePreview:n.default.bool},mixins:[s.default.listenTo(h,"_formatInputs")],getDefaultProps:function(){return{tabs:["recent","messageId"]}},getInitialState:function(){return{activeTab:void 0,message:void 0,inputs:void 0}},componentDidMount:function(){this.loadData(),this.props.messageId&&this.props.index&&this.messageLoader.submit(this.props.messageId,this.props.index)},onMessageLoaded:function(e){this.setState({message:e}),this.props.onMessageLoaded&&this.props.onMessageLoaded(e)},TAB_KEYS:{recent:1,messageId:2,raw:3},_formatInputs:function(e){var t=h.inputsAsMap(e.inputs);this.setState({inputs:r.default.Map(t)})},loadData:function(){var n=this;b.list(),g.listStreams().then(function(e){var t={};e.forEach(function(e){t[e.id]=e}),n.setState({streams:r.default.Map(t)})})},_isTabVisible:function(e){return this.props.tabs===e||-1!==this.props.tabs.indexOf(e)},_getActiveTab:function(){return this.state.activeTab?this.state.activeTab:this._isTabVisible("messageId")&&this.props.messageId&&this.props.index?this.TAB_KEYS.messageId:this._isTabVisible("recent")?this.TAB_KEYS.recent:this._isTabVisible("messageId")?this.TAB_KEYS.messageId:this.TAB_KEYS.raw},_changeActiveTab:function(e){this.state.activeTab!==e&&this.setState({activeTab:e,message:void 0})},_formatMessageLoaders:function(){var t=this,e=[];return this._isTabVisible("recent")&&e.push(a.default.createElement(i.Tab,{key:"recent",eventKey:this.TAB_KEYS.recent,title:"Recent Message",style:{marginBottom:10}},a.default.createElement(p.default,{inputs:this.state.inputs,selectedInputId:this.props.selectedInputId,onMessageLoaded:this.onMessageLoaded}))),this._isTabVisible("messageId")&&e.push(a.default.createElement(i.Tab,{key:"messageId",eventKey:this.TAB_KEYS.messageId,title:"Message ID",style:{marginBottom:10}},a.default.createElement("div",{style:{marginTop:5,marginBottom:15}},"Please provide the id and index of the message that you want to load in this form:"),a.default.createElement(c.default,{ref:function(e){t.messageLoader=e},onMessageLoaded:this.onMessageLoaded,hidden:!1,hideText:!0}))),this._isTabVisible("raw")&&e.push(a.default.createElement(i.Tab,{key:"raw",eventKey:this.TAB_KEYS.raw,title:"Raw Message",style:{marginBottom:10}},a.default.createElement("div",{style:{marginTop:5,marginBottom:15}},"Load a message from text, as if it was sent by a log source."),a.default.createElement(f.default,{onMessageLoaded:this.onMessageLoaded}))),e},render:function(){var e;return this.state.message&&this.state.inputs&&!this.props.disableMessagePreview&&(e=a.default.createElement(i.Col,{md:12},a.default.createElement(d.default,{message:this.state.message,inputs:this.state.inputs,streams:this.state.streams,disableTestAgainstStream:!0,disableSurroundingSearch:!0,disableFieldActions:!this.props.customFieldActions,customFieldActions:this.props.customFieldActions}))),a.default.createElement("div",null,a.default.createElement(i.Tabs,{id:"loaderTabs",activeKey:this._getActiveTab(),onSelect:this._changeActiveTab,animation:!1},this._formatMessageLoaders()),e)}});exports.default=y,e.exports=exports.default},"dJZIv+X6":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),l=a(t("ivGQtwpr")),o=t("wMSvutaJ"),u=t("B4BR5PLd"),s=a(t("fQFnrO3i"));function a(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(e){function r(){var e,t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=this,a=(e=c(r)).call.apply(e,[this].concat(s)),m(p(p(t=!a||"object"!==d(a)&&"function"!=typeof a?p(n):a)),"PLACEHOLDER","placeholder"),m(p(p(t)),"_formatInput",function(e){return l.default.createElement("option",{key:e.id,value:e.id},e.title," (",e.type,")")}),m(p(p(t)),"_sortByTitle",function(e,t){return e.title.localeCompare(t.title)}),m(p(p(t)),"_onLoadMessage",function(){t.props.onLoadMessage(t.state.selectedInput)}),m(p(p(t)),"_formatStaticInput",function(e){return l.default.createElement(u.Input,{id:"".concat(e.type,"-select"),type:"select",style:{float:"left",width:400,marginRight:10},disabled:!0},l.default.createElement("option",null,"".concat(e.title," (").concat(e.type,")")))}),m(p(p(t)),"onSelectedInputChange",function(e){t.setState({selectedInput:e.target.value})}),m(p(p(t)),"state",{selectedInput:t.props.preselectedInputId||t.PLACEHOLDER}),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,l.default.Component),t=r,(n=[{key:"render",value:function(){var e=this.state.selectedInput;if(this.props.inputs&&this.props.preselectedInputId)return l.default.createElement("div",null,this._formatStaticInput(this.props.inputs.get(this.props.preselectedInputId)),l.default.createElement(o.Button,{bsStyle:"info",disabled:e===this.PLACEHOLDER,onClick:this._onLoadMessage},this.props.title));if(this.props.inputs){var t=this.props.inputs.sort(this._sortByTitle).map(this._formatInput);return l.default.createElement("div",null,l.default.createElement(u.Input,{id:"placeholder-select",type:"select",style:{float:"left",width:400,marginRight:10},value:e,onChange:this.onSelectedInputChange,placeholder:this.PLACEHOLDER},l.default.createElement("option",{value:this.PLACEHOLDER},"Select an input"),t.toArray()),l.default.createElement(o.Button,{bsStyle:"info",disabled:this.props.disabled||e===this.PLACEHOLDER,onClick:this._onLoadMessage},this.props.title))}return l.default.createElement(s.default,null)}}])&&i(t.prototype,n),a&&i(t,a),r}();m(r,"propTypes",{inputs:n.default.object,title:n.default.string,preselectedInputId:n.default.string,onLoadMessage:n.default.func,disabled:n.default.bool});var h=r;exports.default=h,e.exports=exports.default},"kERT+daO":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(t("ii0bleBb")),o=i(t("ivGQtwpr")),a=i(t("JBQWIv26")),s=i(t("1VnJesae"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=a.default.getActions("Messages"),r=(s.default.getStore("Messages"),function(e){function r(){var e,o,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return t=this,n=(e=d(r)).call.apply(e,[this].concat(s)),p(f(f(o=!n||"object"!==l(n)&&"function"!=typeof n?f(t):n)),"state",{hidden:o.props.hidden,loading:!1}),p(f(f(o)),"toggleMessageForm",function(){o.setState({hidden:!o.state.hidden},o._focusMessageLoaderForm)}),p(f(f(o)),"_focusMessageLoaderForm",function(){o.state.hidden||o.messageId.focus()}),p(f(f(o)),"loadMessage",function(e){var t=o.messageId.value,n=o.index.value;if(""!==t&&""!==n){o.setState({loading:!0});var a=m.loadMessage.triggerPromise(n,t);a.then(function(e){return o.props.onMessageLoaded(e)}),a.finally(function(){return o.setState({loading:!1})}),e.preventDefault()}}),p(f(f(o)),"submit",function(e,t){o.messageId.value=e,o.index.value=t,o.submitButton.click()}),o}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,o.default.Component),t=r,(n=[{key:"render",value:function(){var e,t=this;this.props.hideText||(e=o.default.createElement("p",null,"Wrong example? You can"," ",o.default.createElement("button",{className:"btn btn-link btn-small btn-text",onClick:this.toggleMessageForm},"load another message"),"."));var n=o.default.createElement("div",null,o.default.createElement("form",{className:"form-inline message-loader-form",onSubmit:this.loadMessage},o.default.createElement("input",{type:"text",ref:function(e){t.messageId=e},className:"form-control message-id-input",placeholder:"Message ID",required:!0}),o.default.createElement("input",{type:"text",ref:function(e){t.index=e},className:"form-control",placeholder:"Index",required:!0}),o.default.createElement("button",{ref:function(e){t.submitButton=e},type:"submit",className:"btn btn-info",disabled:this.state.loading},this.state.loading?"Loading message...":"Load message")));return o.default.createElement("div",{className:"message-loader"},e,this.state.hidden?null:n)}}])&&u(t.prototype,n),a&&u(t,a),r}());p(r,"propTypes",{hidden:n.default.bool,hideText:n.default.bool,onMessageLoaded:n.default.func}),p(r,"defaultProps",{hidden:!0});var h=r;exports.default=h,e.exports=exports.default}}]);