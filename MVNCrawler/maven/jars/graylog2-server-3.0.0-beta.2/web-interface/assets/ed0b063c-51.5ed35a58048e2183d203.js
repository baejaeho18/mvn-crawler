(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-51"],{"1S6rKZrt":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=m(t("ivGQtwpr")),l=m(t("PcYM+wZ7")),s=m(t("4KF7VOU5")),n=t("wMSvutaJ"),r=t("wkvtUUMm"),i=m(t("dOmQZ9N/")),u=m(t("W+sNG9T1")),d=m(t("1VnJesae")),o=t("oBIKikY9"),c=m(t("zlrapnBq"));function m(e){return e&&e.__esModule?e:{default:e}}var f=d.default.getStore("CurrentUser"),E=(0,l.default)({displayName:"UsersPage",mixins:[s.default.connect(f),i.default],render:function(){return a.default.createElement(o.DocumentTitle,{title:"Users"},a.default.createElement("span",null,a.default.createElement(o.PageHeader,{title:"User accounts",subpage:!0},a.default.createElement("span",null,"Create as many users as you want next to the default administrator user here. You can also make changes to already existing users."),null,a.default.createElement("span",null,a.default.createElement(o.IfPermitted,{permissions:"users:edit"},a.default.createElement(r.LinkContainer,{to:u.default.SYSTEM.AUTHENTICATION.USERS.CREATE},a.default.createElement(n.Button,{bsStyle:"success"},"Add new user"))))),a.default.createElement(n.Row,null,a.default.createElement(n.Col,{md:12},a.default.createElement(c.default,{currentUsername:this.state.currentUser.username,currentUser:this.state.currentUser})))))}});exports.default=E,e.exports=exports.default},JiEilglo:function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._1nMuMHVw4CwQEsDB2ZIcxA{font-size:12px}._1jzOFTX6rcaHioqDrbefXj{color:#72a230}._2SzIWOlWbzCZsyFhwXvIMJ{margin-right:5px;margin-bottom:5px;display:inline-block;line-height:15px}.kC2umW87uww30Z_H44wv1{max-width:300px}._31-RlLhjKTlFeuqwxU3Z9Q{width:180px;max-width:180px}._1z326CnBfOJTcXiFkdkWyZ{cursor:help}._3jtB0mSKD0gEANdY1uXjBe{cursor:help;padding:0 0 0 2px;display:inline-flex}._2aWE0aeopfmpmaZeN6lQOS{min-width:auto}#user-list{overflow-x:visible}",""]),exports.locals={sessionBadgeDetails:"_1nMuMHVw4CwQEsDB2ZIcxA",activeSession:"_1jzOFTX6rcaHioqDrbefXj",roleBadgeFixes:"_2SzIWOlWbzCZsyFhwXvIMJ",limitedWide:"kC2umW87uww30Z_H44wv1",actions:"_31-RlLhjKTlFeuqwxU3Z9Q",help:"_1z326CnBfOJTcXiFkdkWyZ",helpHeaderRow:"_3jtB0mSKD0gEANdY1uXjBe",moreActions:"_2aWE0aeopfmpmaZeN6lQOS"}},d8HU3ETe:function(e,exports,t){var a=t("JiEilglo");"string"==typeof a&&(a=[[e.i,a,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(a,l);a.locals&&(e.exports=a.locals)},zlrapnBq:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=r(t("ii0bleBb")),m=r(t("ivGQtwpr")),l=r(t("PcYM+wZ7")),f=t("wkvtUUMm"),E=t("wMSvutaJ"),s=r(t("dOmQZ9N/")),p=r(t("W+sNG9T1")),n=r(t("1VnJesae")),h=t("oBIKikY9"),v=r(t("d8HU3ETe"));function r(e){return e&&e.__esModule?e:{default:e}}var i=n.default.getStore("Users"),u=n.default.getStore("Roles"),d=(0,l.default)({displayName:"UserList",propTypes:{currentUsername:a.default.string.isRequired,currentUser:a.default.object.isRequired},mixins:[s.default],getInitialState:function(){return{users:void 0,roles:void 0}},componentDidMount:function(){var t=this;this.loadUsers(),u.loadRoles().done(function(e){t.setState({roles:e.map(function(e){return e.name})})})},loadUsers:function(){var t=this;i.loadUsers().done(function(e){t.setState({users:e})})},_hasAdminRole:function(e){return this.isPermitted(e.permissions,["*"])},deleteUser:function(e){var t=this;i.deleteUser(e).done(function(){t.loadUsers()})},_deleteUserFunction:function(e){var t=this;return function(){window.confirm("Do you really want to delete user ".concat(e,"?"))&&t.deleteUser(e)}},_headerCellFormatter:function(e){var t;switch(e.toLocaleLowerCase()){case"":t=m.default.createElement("th",{className:"user-type"},e);break;case"client address":var a=m.default.createElement(E.Popover,{id:"decorators-help",className:v.default.sessionBadgeDetails},m.default.createElement("p",{className:"description"},"The address of the client used to initially establish the session, not necessarily its current address."));t=m.default.createElement("th",null,e,m.default.createElement(E.OverlayTrigger,{trigger:"click",rootClose:!0,placement:"top",overlay:a},m.default.createElement(E.Button,{bsStyle:"link",className:v.default.helpHeaderRow},m.default.createElement("i",{className:"fa fa-fw fa-question-circle"}))));break;case"actions":t=m.default.createElement("th",{className:"actions"},e);break;default:t=m.default.createElement("th",null,e)}return t},_userInfoFormatter:function(e){var t=e.username===this.props.currentUsername?"active":null,a=null;if(e.session_active){var l=m.default.createElement(E.Popover,{id:"session-badge-details",title:"Logged in",className:v.default.sessionBadgeDetails},m.default.createElement("div",null,"Last activity: ",m.default.createElement(h.Timestamp,{dateTime:e.last_activity,relative:!0})),m.default.createElement("div",null,"Client address: ",e.client_address));a=m.default.createElement(E.OverlayTrigger,{trigger:["hover","focus"],placement:"left",overlay:l,rootClose:!0},m.default.createElement("i",{className:"fa fa-circle ".concat(v.default.activeSession)}))}var s=e.roles.map(function(e){return m.default.createElement("span",{key:e,className:"".concat(v.default.roleBadgeFixes," label label-").concat("Admin"===e?"info":"default")},e)}),n=null;if(e.read_only){var r=m.default.createElement(f.LinkContainer,{to:p.default.SYSTEM.AUTHENTICATION.USERS.TOKENS.edit(encodeURIComponent(e.username))},m.default.createElement(E.Button,{id:"edit-tokens-".concat(e.username),bsStyle:"info",bsSize:"xs",title:"Edit tokens of user ".concat(e.username)},"Edit tokens")),i=m.default.createElement(E.Tooltip,{id:"system-user"},"System users can only be modified in the Graylog configuration file.");n=m.default.createElement("span",null,m.default.createElement(E.OverlayTrigger,{placement:"left",overlay:i},m.default.createElement("span",{className:v.default.help},m.default.createElement(E.Button,{bsSize:"xs",bsStyle:"info",disabled:!0},"System user")))," ",r)}else{var u=m.default.createElement(f.LinkContainer,{to:p.default.SYSTEM.AUTHENTICATION.USERS.TOKENS.edit(encodeURIComponent(e.username))},m.default.createElement(E.MenuItem,{eventKey:"1",id:"edit-tokens-".concat(e.username),bsStyle:"info",bsSize:"xs",title:"Edit tokens of user ".concat(e.username)},"Edit tokens")),d=m.default.createElement(E.MenuItem,{eventKey:"2",id:"delete-user-".concat(e.username),bsStyle:"primary",bsSize:"xs",title:"Delete user",onClick:this._deleteUserFunction(e.username)},"Delete"),o=m.default.createElement(E.DropdownButton,{bsSize:"xs",title:"More actions",pullRight:!0},u,d),c=m.default.createElement(f.LinkContainer,{to:p.default.SYSTEM.AUTHENTICATION.USERS.edit(encodeURIComponent(e.username))},m.default.createElement(E.Button,{id:"edit-user-".concat(e.username),bsStyle:"info",bsSize:"xs",title:"Edit user ".concat(e.username)},"Edit"));n=m.default.createElement("div",null,this.isPermitted(this.props.currentUser.permissions,["users:edit:".concat(e.username)])?c:null," ",o)}return m.default.createElement("tr",{key:e.username,className:t},m.default.createElement("td",{className:"centered"},a),m.default.createElement("td",{className:"limited"},e.full_name),m.default.createElement("td",{className:"limited"},e.username),m.default.createElement("td",{className:"limited"},e.email),m.default.createElement("td",{className:"limited"},e.client_address),m.default.createElement("td",{className:v.default.limitedWide},s),m.default.createElement("td",{className:v.default.actions},n))},render:function(){return this.state.users&&this.state.roles?m.default.createElement("div",null,m.default.createElement(h.DataTable,{id:"user-list",className:"table-hover",headers:["","Name","Username","Email Address","Client Address","Role","Actions"],headerCellFormatter:this._headerCellFormatter,sortByKey:"full_name",rows:this.state.users,filterBy:"role",filterSuggestions:this.state.roles,dataRowFormatter:this._userInfoFormatter,filterLabel:"Filter Users",filterKeys:["username","full_name","email","client_address"]})):m.default.createElement(h.Spinner,null)}});exports.default=d,e.exports=exports.default}}]);