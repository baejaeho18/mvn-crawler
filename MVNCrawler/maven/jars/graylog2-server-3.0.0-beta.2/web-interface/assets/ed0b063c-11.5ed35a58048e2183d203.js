(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-11"],{"/tlN2oD/":function(t,exports,e){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mapping={CREATED:0,INITIALIZED:1,INVALID_CONFIGURATION:2,STARTING:3,RUNNING:4,FAILED:2,STOPPING:1,STOPPED:0,TERMINATED:0}}var e,n,i;return e=t,(n=[{key:"compare",value:function(t,e){return this.mapping[t.toUpperCase()]-this.mapping[e.toUpperCase()]}}])&&a(e.prototype,n),i&&a(e,i),t}();exports.default=n,t.exports=exports.default},IH0Z8hFb:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=p(e("ii0bleBb")),s=p(e("ivGQtwpr")),i=p(e("PcYM+wZ7")),a=p(e("4KF7VOU5")),r=p(e("9pdI12pI")),o=p(e("1VnJesae")),l=p(e("JBQWIv26")),u=p(e("6zjGdd8x")),c=e("oBIKikY9");function p(t){return t&&t.__esModule?t:{default:t}}var f=o.default.getStore("Metrics"),d=l.default.getActions("Metrics"),m=(0,i.default)({displayName:"InputThroughput",propTypes:{input:n.default.object.isRequired},mixins:[a.default.connect(f)],getInitialState:function(){return{showDetails:!1}},componentWillMount:function(){this._metricNames().forEach(function(t){return d.addGlobal(t)})},componentWillUnmount:function(){this._metricNames().forEach(function(t){return d.removeGlobal(t)})},_metricNames:function(){return[this._prefix("incomingMessages"),this._prefix("emptyMessages"),this._prefix("open_connections"),this._prefix("total_connections"),this._prefix("written_bytes_1sec"),this._prefix("written_bytes_total"),this._prefix("read_bytes_1sec"),this._prefix("read_bytes_total")]},_prefix:function(t){var e=this.props.input;return"".concat(e.type,".").concat(e.id,".").concat(t)},_getValueFromMetric:function(t){if(null!=t)switch(t.type){case"meter":return t.metric.rate.mean;case"gauge":return t.metric.value;case"counter":return t.metric.count;default:return}},_calculateMetrics:function(a){var r=this,t={};return this._metricNames().forEach(function(i){t[i]=Object.keys(a).reduce(function(t,e){if(!a[e][i])return t;var n=r._getValueFromMetric(a[e][i]);return void 0!==n?isNaN(t)?n:t+n:t},NaN)}),t},_formatCount:function(t){return(0,r.default)(t).format("0,0")},_formatNetworkStats:function(t,e,n,i){return s.default.createElement("span",{className:"input-io"},s.default.createElement("span",null,"Network IO: "),s.default.createElement("span",{className:"persec"},s.default.createElement("i",{className:"fa fa-caret-down channel-direction channel-direction-down"}),s.default.createElement("span",{className:"rx value"},u.default.formatBytes(n)," "),s.default.createElement("i",{className:"fa fa-caret-up channel-direction channel-direction-up"}),s.default.createElement("span",{className:"tx value"},u.default.formatBytes(t))),s.default.createElement("span",{className:"total"},s.default.createElement("span",null," (total: "),s.default.createElement("i",{className:"fa fa-caret-down channel-direction channel-direction-down"}),s.default.createElement("span",{className:"rx value"},u.default.formatBytes(i)," "),s.default.createElement("i",{className:"fa fa-caret-up channel-direction channel-direction-up"}),s.default.createElement("span",{className:"tx value"},u.default.formatBytes(e)),s.default.createElement("span",null," )")),s.default.createElement("br",null))},_formatConnections:function(t,e){return s.default.createElement("span",null,"Active connections: ",s.default.createElement("span",{className:"active"},this._formatCount(t)," "),"(",s.default.createElement("span",{className:"total"},this._formatCount(e))," total)",s.default.createElement("br",null))},_formatAllNodeDetails:function(e){var n=this;return s.default.createElement("span",null,s.default.createElement("hr",{key:"separator"}),Object.keys(e).map(function(t){return n._formatNodeDetails(t,e[t])}))},_formatNodeDetails:function(t,e){var n=this._getValueFromMetric(e[this._prefix("open_connections")]),i=this._getValueFromMetric(e[this._prefix("total_connections")]),a=this._getValueFromMetric(e[this._prefix("emptyMessages")]),r=this._getValueFromMetric(e[this._prefix("written_bytes_1sec")]),o=this._getValueFromMetric(e[this._prefix("written_bytes_total")]),l=this._getValueFromMetric(e[this._prefix("read_bytes_1sec")]),u=this._getValueFromMetric(e[this._prefix("read_bytes_total")]);return s.default.createElement("span",{key:this.props.input.id+t},s.default.createElement(c.LinkToNode,{nodeId:t}),s.default.createElement("br",null),!isNaN(r)&&this._formatNetworkStats(r,o,l,u),!isNaN(n)&&this._formatConnections(n,i),!isNaN(a)&&s.default.createElement("span",null,"Empty messages discarded: ",this._formatCount(a),s.default.createElement("br",null)),isNaN(r)&&isNaN(n)&&s.default.createElement("span",null,"No metrics available for this node"),s.default.createElement("br",null))},_toggleShowDetails:function(t){t.preventDefault(),this.setState({showDetails:!this.state.showDetails})},render:function(){if(!this.state.metrics)return s.default.createElement(c.Spinner,null);var t=this._calculateMetrics(this.state.metrics),e=t[this._prefix("incomingMessages")],n=t[this._prefix("emptyMessages")],i=t[this._prefix("open_connections")],a=t[this._prefix("total_connections")],r=t[this._prefix("written_bytes_1sec")],o=t[this._prefix("written_bytes_total")],l=t[this._prefix("read_bytes_1sec")],u=t[this._prefix("read_bytes_total")];return s.default.createElement("div",{className:"graylog-input-metrics"},s.default.createElement("h3",null,"Throughput / Metrics"),s.default.createElement("span",null,isNaN(e)&&isNaN(r)&&isNaN(i)&&s.default.createElement("i",null,"No metrics available for this input"),!isNaN(e)&&s.default.createElement("span",null,"1 minute average rate: ",this._formatCount(e)," msg/s",s.default.createElement("br",null)),!isNaN(r)&&this._formatNetworkStats(r,o,l,u),!isNaN(i)&&this._formatConnections(i,a),!isNaN(n)&&s.default.createElement("span",null,"Empty messages discarded: ",this._formatCount(n),s.default.createElement("br",null)),!isNaN(r)&&this.props.input.global&&s.default.createElement("a",{href:"",onClick:this._toggleShowDetails},this.state.showDetails?"Hide":"Show"," details"),!isNaN(r)&&this.state.showDetails&&this._formatAllNodeDetails(this.state.metrics)))}});exports.default=m,t.exports=exports.default},PukpyHIY:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CreateInputControl",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"InputDropdown",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"InputForm",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"InputListItem",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"InputsList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"InputStateBadge",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"InputStateControl",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"InputThroughput",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"InputStaticFields",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"NodeOrGlobalSelect",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"StaticFieldForm",{enumerable:!0,get:function(){return f.default}});var n=d(e("jmQ7SjXu")),i=d(e("dJZIv+X6")),a=d(e("szqhaLlO")),r=d(e("wlMdZ+tL")),o=d(e("rwTphepP")),l=d(e("p8arvCro")),u=d(e("kQ7gsZV4")),s=d(e("IH0Z8hFb")),c=d(e("RrAkUcHS")),p=d(e("vSg0fKLC")),f=d(e("cG4M5KCL"));function d(t){return t&&t.__esModule?t:{default:t}}},RrAkUcHS:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(e("ii0bleBb")),u=i(e("ivGQtwpr")),s=e("wMSvutaJ");function i(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=i(e("1VnJesae")).default.getStore("InputStaticFields"),o=function(t){function l(){var t,i,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=this,n=(t=p(l)).call.apply(t,[this].concat(r)),d(f(f(i=!n||"object"!==c(n)&&"function"!=typeof n?f(e):n)),"_deleteStaticField",function(t){return function(){window.confirm("Are you sure you want to remove static field '".concat(t,"' from '").concat(i.props.input.title,"'?"))&&m.destroy(i.props.input,t)}}),d(f(f(i)),"_deleteButton",function(t){return u.default.createElement(s.Button,{bsStyle:"link",bsSize:"xsmall",style:{verticalAlign:"baseline"},onClick:i._deleteStaticField(t)},u.default.createElement("i",{className:"fa fa-remove"}))}),d(f(f(i)),"_formatStaticFields",function(e){var n=[];return Object.keys(e).forEach(function(t){n.push(u.default.createElement("li",{key:"".concat(t,"-field")},u.default.createElement("strong",null,t,":")," ",e[t]," ",i._deleteButton(t)))}),n}),i}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(l,u.default.Component),e=l,(n=[{key:"render",value:function(){return 0===Object.keys(this.props.input.static_fields).length?u.default.createElement("div",null):u.default.createElement("div",{className:"static-fields"},u.default.createElement("h3",{style:{marginBottom:5}},"Static fields"),u.default.createElement("ul",null,this._formatStaticFields(this.props.input.static_fields)))}}])&&a(e.prototype,n),i&&a(e,i),l}();d(o,"propTypes",{input:n.default.object.isRequired});var l=o;exports.default=l,t.exports=exports.default},cG4M5KCL:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(e("ii0bleBb")),a=i(e("ivGQtwpr")),r=e("B4BR5PLd");function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=i(e("1VnJesae")).default.getStore("InputStaticFields"),l=function(t){function l(){var t,n,e,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=this,i=(t=s(l)).call.apply(t,[this].concat(r)),f(p(p(n=!i||"object"!==u(i)&&"function"!=typeof i?p(e):i)),"open",function(){n.modal.open()}),f(p(p(n)),"_addStaticField",function(){var t=n.fieldName.getValue(),e=n.fieldValue.getValue();d.create(n.props.input,t,e).then(function(){return n.modal.close()})}),n}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,a.default.Component),e=l,(n=[{key:"render",value:function(){var e=this;return a.default.createElement(r.BootstrapModalForm,{ref:function(t){e.modal=t},title:"Add static field",submitButtonText:"Add field",onSubmitForm:this._addStaticField},a.default.createElement("p",null,"Define a static field that is added to every message that comes in via this input. The field is not overwritten If the message already has that key. Key must only contain alphanumeric characters or underscores and not be a reserved field."),a.default.createElement(r.Input,{ref:function(t){e.fieldName=t},type:"text",id:"field-name",label:"Field name",className:"validatable","data-validate":"alphanum_underscore",required:!0,autoFocus:!0}),a.default.createElement(r.Input,{ref:function(t){e.fieldValue=t},type:"text",id:"field-value",label:"Field value",required:!0}))}}])&&o(e.prototype,n),i&&o(e,i),l}();f(l,"propTypes",{input:n.default.object.isRequired});var m=l;exports.default=m,t.exports=exports.default},"dJZIv+X6":function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(e("ii0bleBb")),u=i(e("ivGQtwpr")),a=e("wMSvutaJ"),s=e("B4BR5PLd"),r=i(e("fQFnrO3i"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t){function l(){var t,e,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=this,i=(t=p(l)).call.apply(t,[this].concat(r)),m(d(d(e=!i||"object"!==c(i)&&"function"!=typeof i?d(n):i)),"PLACEHOLDER","placeholder"),m(d(d(e)),"_formatInput",function(t){return u.default.createElement("option",{key:t.id,value:t.id},t.title," (",t.type,")")}),m(d(d(e)),"_sortByTitle",function(t,e){return t.title.localeCompare(e.title)}),m(d(d(e)),"_onLoadMessage",function(){e.props.onLoadMessage(e.state.selectedInput)}),m(d(d(e)),"_formatStaticInput",function(t){return u.default.createElement(s.Input,{id:"".concat(t.type,"-select"),type:"select",style:{float:"left",width:400,marginRight:10},disabled:!0},u.default.createElement("option",null,"".concat(t.title," (").concat(t.type,")")))}),m(d(d(e)),"onSelectedInputChange",function(t){e.setState({selectedInput:t.target.value})}),m(d(d(e)),"state",{selectedInput:e.props.preselectedInputId||e.PLACEHOLDER}),e}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,u.default.Component),e=l,(n=[{key:"render",value:function(){var t=this.state.selectedInput;if(this.props.inputs&&this.props.preselectedInputId)return u.default.createElement("div",null,this._formatStaticInput(this.props.inputs.get(this.props.preselectedInputId)),u.default.createElement(a.Button,{bsStyle:"info",disabled:t===this.PLACEHOLDER,onClick:this._onLoadMessage},this.props.title));if(this.props.inputs){var e=this.props.inputs.sort(this._sortByTitle).map(this._formatInput);return u.default.createElement("div",null,u.default.createElement(s.Input,{id:"placeholder-select",type:"select",style:{float:"left",width:400,marginRight:10},value:t,onChange:this.onSelectedInputChange,placeholder:this.PLACEHOLDER},u.default.createElement("option",{value:this.PLACEHOLDER},"Select an input"),e.toArray()),u.default.createElement(a.Button,{bsStyle:"info",disabled:this.props.disabled||t===this.PLACEHOLDER,onClick:this._onLoadMessage},this.props.title))}return u.default.createElement(r.default,null)}}])&&o(e.prototype,n),i&&o(e,i),l}();m(l,"propTypes",{inputs:n.default.object,title:n.default.string,preselectedInputId:n.default.string,onLoadMessage:n.default.func,disabled:n.default.bool});var h=l;exports.default=h,t.exports=exports.default},jmQ7SjXu:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=c(e("ivGQtwpr")),n=c(e("PcYM+wZ7")),a=c(e("4KF7VOU5")),r=e("wMSvutaJ"),o=e("oBIKikY9"),l=c(e("JBQWIv26")),u=c(e("1VnJesae")),s=e("PukpyHIY");function c(t){return t&&t.__esModule?t:{default:t}}var p=l.default.getActions("InputTypes"),f=l.default.getActions("Inputs"),d=u.default.getStore("InputTypes"),m=(0,n.default)({displayName:"CreateInputControl",mixins:[a.default.connect(d)],getInitialState:function(){return{selectedInput:void 0,selectedInputDefinition:void 0}},_formatSelectOptions:function(){var e=this,t=[];this.state.inputTypes?(t=Object.keys(this.state.inputTypes).map(function(t){return{value:t,label:e.state.inputTypes[t]}})).sort(function(t,e){return t.label.toLowerCase().localeCompare(e.label.toLowerCase())}):t.push({value:"none",label:"No inputs available",disabled:!0});return t},_onInputSelect:function(t){var e=this;""===t&&this.setState(this.getInitialState()),this.setState({selectedInput:t}),p.get.triggerPromise(t).then(function(t){return e.setState({selectedInputDefinition:t})})},_openModal:function(t){t.preventDefault(),this.configurationForm.open()},_createInput:function(t){var e=this;f.create(t).then(function(){e.setState(e.getInitialState())})},render:function(){var t,e=this;if(this.state.selectedInputDefinition){var n=this.state.inputTypes[this.state.selectedInput];t=i.default.createElement(s.InputForm,{ref:function(t){e.configurationForm=t},key:"configuration-form-input",configFields:this.state.selectedInputDefinition.requested_configuration,title:i.default.createElement("span",null,"Launch new ",i.default.createElement("em",null,n)," input"),helpBlock:"Select a name of your new input that describes it.",typeName:this.state.selectedInput,submitAction:this._createInput})}return i.default.createElement(r.Row,{className:"content input-new"},i.default.createElement(r.Col,{md:12},i.default.createElement("form",{className:"form-inline",onSubmit:this._openModal},i.default.createElement("div",{className:"form-group",style:{width:300}},i.default.createElement(o.Select,{placeholder:"Select input",options:this._formatSelectOptions(),matchProp:"label",onChange:this._onInputSelect,value:this.state.selectedInput}))," ",i.default.createElement(r.Button,{bsStyle:"success",type:"submit",disabled:!this.state.selectedInput},"Launch new input"),i.default.createElement(o.ExternalLinkButton,{href:"https://marketplace.graylog.org/",bsStyle:"info",style:{marginLeft:10}},"Find more inputs")),t))}});exports.default=m,t.exports=exports.default},kQ7gsZV4:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=l(e("ii0bleBb")),i=l(e("ivGQtwpr")),a=l(e("PcYM+wZ7")),r=l(e("4KF7VOU5")),o=e("wMSvutaJ");function l(t){return t&&t.__esModule?t:{default:t}}var u=l(e("1VnJesae")).default.getStore("InputStates");var s=(0,a.default)({displayName:"InputStateControl",propTypes:{input:n.default.object.isRequired},mixins:[r.default.connectFilter(u,"inputState",function(t){return t.inputStates?t.inputStates[this.props.input.id]:void 0})],getInitialState:function(){return{loading:!1}},_isInputRunning:function(){var e=this;if(!this.state.inputState)return!1;var t=Object.keys(this.state.inputState);return 0!==t.length&&t.some(function(t){return"RUNNING"===e.state.inputState[t].state})},_startInput:function(){var t=this;this.setState({loading:!0}),u.start(this.props.input).finally(function(){return t.setState({loading:!1})})},_stopInput:function(){var t=this;this.setState({loading:!0}),u.stop(this.props.input).finally(function(){return t.setState({loading:!1})})},render:function(){return this._isInputRunning()?i.default.createElement(o.Button,{bsStyle:"primary",onClick:this._stopInput,disabled:this.state.loading},this.state.loading?"Stopping...":"Stop input"):i.default.createElement(o.Button,{bsStyle:"success",onClick:this._startInput,disabled:this.state.loading},this.state.loading?"Starting...":"Start input")}});exports.default=s,t.exports=exports.default},p8arvCro:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=l(e("ii0bleBb")),u=l(e("ivGQtwpr")),i=l(e("PcYM+wZ7")),a=l(e("4KF7VOU5")),s=e("wMSvutaJ"),r=l(e("1VnJesae")),c=e("oBIKikY9"),o=l(e("/tlN2oD/"));function l(t){return t&&t.__esModule?t:{default:t}}var p=r.default.getStore("InputStates"),f=r.default.getStore("Nodes"),d=(0,i.default)({displayName:"InputStateBadge",propTypes:{input:n.default.object.isRequired},mixins:[a.default.connect(p),a.default.connect(f)],comparator:new o.default,_labelClassForState:function(t){var e=t.reduce(function(t,e){return t+e.count},0);if(this.props.input.global&&e!==Object.keys(this.state.nodes).length)return"warning";switch(t[0].state){case"RUNNING":return"success";case"FAILED":return"danger";case"STARTING":return"info";default:return"warning"}},_textForState:function(t){return this.props.input.global?t.map(function(t){return"".concat(t.count," ").concat(t.state)}).join(", "):t[0].state},_isLoading:function(){return!(this.state.inputStates&&this.state.nodes)},render:function(){var n=this;if(this._isLoading())return u.default.createElement(c.Spinner,null);var t=this.props.input,i=t.id,a={};this.state.inputStates[i]&&Object.keys(this.state.inputStates[i]).forEach(function(t){var e=n.state.inputStates[i][t].state;a[e]||(a[e]=[]),a[e].push(t)});var e=Object.keys(a).sort(this.comparator.compare.bind(this.comparator)).map(function(t){return{state:t,count:a[t].length}});if(0<e.length){var r=e.map(function(e){return a[e.state].map(function(t){return u.default.createElement("span",null,u.default.createElement(c.LinkToNode,{nodeId:t}),": ",e.state,u.default.createElement("br",null))})}),o=u.default.createElement(s.Popover,{id:"inputstate-badge-details",title:"Input States for ".concat(t.title),style:{fontSize:12}},r);return u.default.createElement(s.OverlayTrigger,{trigger:"click",placement:"bottom",overlay:o,rootClose:!0},u.default.createElement(s.Label,{bsStyle:this._labelClassForState(e),title:"Click to show details",bsSize:"xsmall",style:{cursor:"pointer"}},this._textForState(e)))}var l=t.global||void 0===t.node?"0 RUNNING":"NOT RUNNING";return u.default.createElement(s.Label,{bsStyle:"danger",bsSize:"xsmall"},l)}});exports.default=d,t.exports=exports.default},rwTphepP:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=m(e("ii0bleBb")),i=m(e("ivGQtwpr")),a=m(e("PcYM+wZ7")),r=m(e("4KF7VOU5")),o=e("wMSvutaJ"),l=m(e("8FtKQWAV")),u=m(e("reyn2XG8")),s=e("oBIKikY9"),c=m(e("1VnJesae")),p=m(e("JBQWIv26")),f=m(e("wlMdZ+tL")),d=m(e("jmQ7SjXu"));function m(t){return t&&t.__esModule?t:{default:t}}var h=p.default.getActions("Inputs"),b=p.default.getActions("SingleNode"),y=p.default.getActions("InputTypes"),g=c.default.getStore("Inputs"),_=c.default.getStore("SingleNode"),v=(0,a.default)({displayName:"InputsList",propTypes:{permissions:n.default.array.isRequired,node:n.default.object},mixins:[r.default.connect(_),r.default.listenTo(g,"_splitInputs")],getDefaultProps:function(){return{node:void 0}},getInitialState:function(){return{globalInputs:void 0,localInputs:void 0,filteredGlobalInputs:void 0,filteredLocalInputs:void 0,filter:void 0}},componentDidMount:function(){y.list(),h.list(),b.get()},_splitInputs:function(t){var e=this,n=t.inputs,i=n.filter(function(t){return!0===t.global}).sort(function(t,e){return(0,l.default)(t.title,e.title)}),a=n.filter(function(t){return!1===t.global}).sort(function(t,e){return(0,l.default)(t.title,e.title)});this.props.node&&(a=a.filter(function(t){return t.node===e.props.node.node_id})),this.setState({globalInputs:i,localInputs:a}),this._onFilterInputs(this.state.filter)},_isLoading:function(){return!(this.state.localInputs&&this.state.globalInputs&&this.state.node&&this.state.filteredLocalInputs&&this.state.filteredGlobalInputs)},_formatInput:function(t){return i.default.createElement(f.default,{key:t.id,input:t,currentNode:this.state.node,permissions:this.props.permissions})},_nodeAffix:function(){return this.props.node?" on this node":""},_onFilterInputs:function(t,e){var n=this.state,i=n.globalInputs,a=n.localInputs,r=RegExp(t,"i");if(i&&a){if(!t||t.length<=0)return this.setState({filteredGlobalInputs:i,filteredLocalInputs:a,filter:void 0}),void(e&&e());var o=function(t){return r.test(t.title)},l=this.state.globalInputs.filter(o),u=this.state.localInputs.filter(o);this.setState({filteredGlobalInputs:l,filteredLocalInputs:u,filter:t}),e&&e()}else e&&e()},_onFilterReset:function(){var t=this.state,e=t.globalInputs,n=t.localInputs;this.setState({filteredGlobalInputs:e,filteredLocalInputs:n,filter:void 0})},render:function(){var e=this;return this._isLoading()?i.default.createElement(s.Spinner,null):i.default.createElement("div",null,!this.props.node&&i.default.createElement(s.IfPermitted,{permissions:"inputs:create"},i.default.createElement(d.default,null)),i.default.createElement(o.Row,{id:"filter-input",className:"content input-list"},i.default.createElement(o.Col,{md:12},i.default.createElement(s.SearchForm,{onSearch:this._onFilterInputs,topMargin:0,onReset:this._onFilterReset,searchButtonLabel:"Filter",placeholder:"Filter by title"}),i.default.createElement("br",null),i.default.createElement("h2",null,"Global inputs  ",i.default.createElement("small",null,this.state.globalInputs.length," configured",this._nodeAffix())),i.default.createElement(u.default,{bsNoItemsStyle:"info",noItemsText:this.state.globalInputs.length<=0?"There are no global inputs.":"No global inputs match the filter",items:this.state.filteredGlobalInputs.map(function(t){return e._formatInput(t)})}),i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("h2",null,"Local inputs  ",i.default.createElement("small",null,this.state.localInputs.length," configured",this._nodeAffix())),i.default.createElement(u.default,{bsNoItemsStyle:"info",noItemsText:this.state.localInputs.length<=0?"There are no local inputs.":"No local inputs match the filter",items:this.state.filteredLocalInputs.map(function(t){return e._formatInput(t)})}))))}});exports.default=v,t.exports=exports.default},szqhaLlO:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(e("ii0bleBb")),a=i(e("ivGQtwpr")),u=i(e("gCzbTwtZ")),r=e("PukpyHIY"),o=e("cqPeOTxf");function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t){function l(){var t,i,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=this,n=(t=f(l)).call.apply(t,[this].concat(r)),h(m(m(i=!n||"object"!==s(n)&&"function"!=typeof n?m(e):n)),"state",{global:void 0!==i.props.globalValue&&i.props.globalValue,node:void 0!==i.props.nodeValue?i.props.nodeValue:void 0}),h(m(m(i)),"_handleChange",function(t,e){var n={};n[t]=e,i.setState(n)}),h(m(m(i)),"_onSubmit",function(t){var e=u.default.extend(t,{global:i.state.global,node:i.state.node});i.props.submitAction(e)}),h(m(m(i)),"open",function(){i.configurationForm.open()}),i}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,a.default.Component),e=l,(n=[{key:"render",value:function(){var e=this,t=this.props.values?this.props.values:this.configurationForm?this.configurationForm.getValue().configuration:{},n=this.props.titleValue?this.props.titleValue:this.configurationForm?this.configurationForm.getValue().titleValue:"";return a.default.createElement(o.ConfigurationForm,c({},this.props,{ref:function(t){e.configurationForm=t},values:t,titleValue:n,submitAction:this._onSubmit}),a.default.createElement(r.NodeOrGlobalSelect,{onChange:this._handleChange,global:this.state.global,node:this.state.node}))}}])&&p(e.prototype,n),i&&p(e,i),l}();h(l,"propTypes",{globalValue:n.default.bool,nodeValue:n.default.string,titleValue:n.default.string,submitAction:n.default.func.isRequired,values:n.default.object});var b=l;exports.default=b,t.exports=exports.default},vSg0fKLC:function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=s(e("ii0bleBb")),i=s(e("ivGQtwpr")),a=s(e("PcYM+wZ7")),r=s(e("4KF7VOU5")),o=e("B4BR5PLd"),l=s(e("1VnJesae")),u=e("oBIKikY9");function s(t){return t&&t.__esModule?t:{default:t}}var c=l.default.getStore("Nodes"),p=(0,a.default)({displayName:"NodeOrGlobalSelect",propTypes:{global:n.default.bool,onChange:n.default.func.isRequired,node:n.default.string},mixins:[r.default.connect(c)],getInitialState:function(){return{global:void 0!==this.props.global&&this.props.global,node:this.props.node}},_onChangeGlobal:function(t){var e=t.target.checked;this.setState({global:e}),e?(this.setState({node:"placeholder"}),this.props.onChange("node",void 0)):this.props.onChange("node",this.state.node),this.props.onChange("global",e)},_onChangeNode:function(t){this.setState({node:t.target.value}),this.props.onChange("node",t.target.value)},render:function(){var e=this;if(!this.state.nodes)return i.default.createElement(u.Spinner,null);var t=Object.keys(this.state.nodes).map(function(t){return i.default.createElement("option",{key:t,value:t},e.state.nodes[t].short_node_id," / ",e.state.nodes[t].hostname)}),n=this.state.global?null:i.default.createElement(o.Input,{id:"node-select",type:"select",label:"Node",placeholder:"placeholder",value:this.state.node,help:"On which node should this input start",onChange:this._onChangeNode,required:!0},i.default.createElement("option",{key:"placeholder",value:""},"Select Node"),t);return i.default.createElement("span",null,i.default.createElement(o.Input,{id:"global-checkbox",type:"checkbox",label:"Global",help:"Should this input start on all nodes",checked:this.state.global,onChange:this._onChangeGlobal}),n)}});exports.default=p,t.exports=exports.default},"wlMdZ+tL":function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=u(e("ii0bleBb")),c=u(e("ivGQtwpr")),i=u(e("PcYM+wZ7")),a=u(e("4KF7VOU5")),p=e("wMSvutaJ"),f=e("wkvtUUMm"),d=e("oBIKikY9"),m=e("cqPeOTxf"),r=u(e("dOmQZ9N/")),h=u(e("W+sNG9T1")),o=u(e("1VnJesae")),l=u(e("JBQWIv26")),b=e("PukpyHIY");function u(t){return t&&t.__esModule?t:{default:t}}var s=o.default.getStore("InputTypes"),y=l.default.getActions("Inputs"),g=(0,i.default)({displayName:"InputListItem",propTypes:{input:n.default.object.isRequired,currentNode:n.default.object.isRequired,permissions:n.default.array.isRequired},mixins:[r.default,a.default.connect(s)],_deleteInput:function(){window.confirm("Do you really want to delete input '".concat(this.props.input.title,"'?"))&&y.delete(this.props.input)},_openStaticFieldForm:function(){this.staticFieldForm.open()},_editInput:function(){this.configurationForm.open()},_updateInput:function(t){y.update(this.props.input.id,t)},render:function(){var e=this;if(!this.state.inputTypes)return c.default.createElement(d.Spinner,null);var t,n,i,a=this.props.input,r=this.state.inputDescriptions[a.type],o=c.default.createElement("span",null,this.props.input.name," ",c.default.createElement(b.InputStateBadge,{input:this.props.input})),l=[];(this.isPermitted(this.props.permissions,["searches:relative"])&&l.push(c.default.createElement(f.LinkContainer,{key:"received-messages-".concat(this.props.input.id),to:h.default.search("gl2_source_input:".concat(this.props.input.id),{relative:0})},c.default.createElement(p.Button,{bsStyle:"info"},"Show received messages"))),this.isPermitted(this.props.permissions,["inputs:edit:".concat(this.props.input.id)]))&&(t=this.props.input.global?h.default.global_input_extractors(this.props.input.id):h.default.local_input_extractors(this.props.currentNode.node_id,this.props.input.id),l.push(c.default.createElement(f.LinkContainer,{key:"manage-extractors-".concat(this.props.input.id),to:t},c.default.createElement(p.Button,{bsStyle:"info"},"Manage extractors"))),l.push(c.default.createElement(b.InputStateControl,{key:"input-state-control-".concat(this.props.input.id),input:this.props.input})));this.props.input.global||(n=c.default.createElement(f.LinkContainer,{to:h.default.filtered_metrics(this.props.input.node,this.props.input.id)},c.default.createElement(p.MenuItem,{key:"show-metrics-".concat(this.props.input.id)},"Show metrics"))),l.push(c.default.createElement(p.DropdownButton,{key:"more-actions-".concat(this.props.input.id),title:"More actions",id:"more-actions-dropdown-".concat(this.props.input.id),pullRight:!0},c.default.createElement(d.IfPermitted,{permissions:"inputs:edit:".concat(this.props.input.id)},c.default.createElement(p.MenuItem,{key:"edit-input-".concat(this.props.input.id),onSelect:this._editInput,disabled:void 0===r},"Edit input")),n,c.default.createElement(d.IfPermitted,{permissions:"inputs:edit:".concat(this.props.input.id)},c.default.createElement(p.MenuItem,{key:"add-static-field-".concat(this.props.input.id),onSelect:this._openStaticFieldForm},"Add static field")),c.default.createElement(d.IfPermitted,{permissions:"inputs:terminate"},c.default.createElement(p.MenuItem,{key:"divider-".concat(this.props.input.id),divider:!0})),c.default.createElement(d.IfPermitted,{permissions:"inputs:terminate"},c.default.createElement(p.MenuItem,{key:"delete-input-".concat(this.props.input.id),onSelect:this._deleteInput},"Delete input")))),!this.props.input.global&&this.props.input.node&&(i=c.default.createElement("span",null,"On node"," ",c.default.createElement(d.LinkToNode,{nodeId:this.props.input.node})));var u=r?c.default.createElement(b.InputForm,{ref:function(t){e.configurationForm=t},key:"edit-form-input-".concat(a.id),globalValue:a.global,nodeValue:a.node,configFields:r.requested_configuration,title:"Editing Input ".concat(a.title),titleValue:a.title,typeName:a.type,includeTitleField:!0,submitAction:this._updateInput,values:a.attributes}):null,s=c.default.createElement("div",null,c.default.createElement(p.Col,{md:8},c.default.createElement(m.ConfigurationWell,{className:"configuration-well",id:a.id,configuration:a.attributes,typeDefinition:r||{}}),c.default.createElement(b.StaticFieldForm,{ref:function(t){e.staticFieldForm=t},input:this.props.input}),c.default.createElement(b.InputStaticFields,{input:this.props.input})),c.default.createElement(p.Col,{md:4},c.default.createElement(b.InputThroughput,{input:a})),u);return c.default.createElement(d.EntityListItem,{key:"entry-list-".concat(this.props.input.id),title:this.props.input.title,titleSuffix:o,description:i,createdFromContentPack:!!this.props.input.content_pack,actions:l,contentRow:s})}});exports.default=g,t.exports=exports.default}}]);