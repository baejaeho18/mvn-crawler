(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-35"],{"87lDlcu5":function(e,exports,t){(e.exports=t("wTjlWjHz")(!1)).push([e.i,".deflist{margin-top:10px}.deflist dt{float:left;clear:left}.deflist dd{margin-left:160px}.top-margin,hr.separator{margin-top:10px}hr.separator{margin-bottom:5px}",""])},"8X5KBrCD":function(e,exports,t){"use strict";var n,a=t("AztyBNMT"),i=(n=t("YxrTFSb5"))&&n.__esModule?n:{default:n};a.PluginStore.register(new a.PluginManifest({},{systemConfigurations:[{component:i.default,configType:"org.graylog.plugins.map.config.GeoIpResolverConfig"}]}))},"L+isbLWs":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),s=a(t("ivGQtwpr")),u=t("wMSvutaJ"),d=a(t("fht+nQHa")),c=a(t("s2hN4RJZ"));function a(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(e){function r(){var e,l,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=this,n=(e=p(r)).call.apply(e,[this].concat(i)),m(g(g(l=!n||"object"!==f(n)&&"function"!=typeof n?g(t):n)),"_update",function(e){l.props.update(e)}),m(g(g(l)),"_onAdd",function(){var e=c.default.clone(l.props.options);e&&(e.push({period:"",description:""}),l._update(e))}),m(g(g(l)),"_onRemove",function(t){return function(){var e=c.default.clone(l.props.options);e.splice(t,1),l._update(e)}}),m(g(g(l)),"_onChange",function(o,r){return function(a){var i=c.default.clone(l.props.options);i.forEach(function(e,t){if(t===o){var n=a.target.value;"period"===r&&((n=n.toUpperCase()).startsWith("P")||(n="P".concat(n))),i[t][r]=n}}),l._update(i)}}),m(g(g(l)),"_buildTimeRangeOptions",function(){return l.props.options.map(function(e,t){var n=e.period,a=e.description,i=d.default.durationStyle(n,l.props.validator,"has-error");return s.default.createElement("div",{key:"timerange-option-".concat(t)},s.default.createElement(u.Row,null,s.default.createElement(u.Col,{xs:4},s.default.createElement("div",{className:"input-group ".concat(i)},s.default.createElement("input",{type:"text",className:"form-control",value:n,onChange:l._onChange(t,"period")}),s.default.createElement("span",{className:"input-group-addon"},d.default.formatDuration(n,l.props.validator)))),s.default.createElement(u.Col,{xs:8},s.default.createElement("div",{className:"input-group"},s.default.createElement("input",{type:"text",className:"form-control",placeholder:"Add description...",value:a,onChange:l._onChange(t,"description")}),s.default.createElement("span",{className:"input-group-addon"},s.default.createElement("i",{className:"fa fa-trash",style:{cursor:"pointer"},onClick:l._onRemove(t)}))))))})}),l}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,s.default.Component),t=r,(n=[{key:"render",value:function(){return s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{className:"control-label"},this.props.title),s.default.createElement("span",{className:"help-block"},this.props.help),s.default.createElement("div",{className:"wrapper"},this._buildTimeRangeOptions()),s.default.createElement(u.Button,{bsSize:"xs",onClick:this._onAdd},this.props.addButtonTitle))}}])&&i(t.prototype,n),a&&i(t,a),r}();m(r,"propTypes",{options:n.default.array,title:n.default.string.isRequired,help:n.default.any.isRequired,addButtonTitle:n.default.string,update:n.default.func.isRequired,validator:n.default.func}),m(r,"defaultProps",{options:[],addButtonTitle:"Add option",validator:function(){return!0}});var l=r;exports.default=l,e.exports=exports.default},W1d2pNcb:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(t("ii0bleBb")),s=o(t("ivGQtwpr")),a=o(t("PcYM+wZ7")),u=t("wMSvutaJ"),d=t("B4BR5PLd"),c=t("oBIKikY9"),i=o(t("s2hN4RJZ")),f=o(t("2gEPIf6i"));t("gtXNkEXl");var p=o(t("L+isbLWs")),g=o(t("tHjqoyoj"));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,a.default)({displayName:"SearchesConfig",propTypes:{config:n.default.object.isRequired,updateConfig:n.default.func.isRequired},getInitialState:function(){var e=this._getPropConfigValue("query_time_range_limit");return{config:{query_time_range_limit:e,relative_timerange_options:this._getPropConfigValue("relative_timerange_options"),surrounding_timerange_options:this._getPropConfigValue("surrounding_timerange_options"),surrounding_filter_fields:this._getPropConfigValue("surrounding_filter_fields"),analysis_disabled_fields:this._getPropConfigValue("analysis_disabled_fields")},limitEnabled:0<f.default.duration(e).asMilliseconds(),relativeTimeRangeOptionsUpdate:void 0,surroundingTimeRangeOptionsUpdate:void 0}},_getPropConfigValue:function(e){return this.props.config?this.props.config[e]:void 0},_onUpdate:function(n){var a=this;return function(e){var t=i.default.clone(a.state.config);t[n]=e,a.setState({config:t})}},_onRelativeTimeRangeOptionsUpdate:function(e){this.setState({relativeTimeRangeOptionsUpdate:e})},_onSurroundingTimeRangeOptionsUpdate:function(e){this.setState({surroundingTimeRangeOptionsUpdate:e})},_buildTimeRangeOptions:function(t){return Object.keys(t).map(function(e){return{period:e,description:t[e]}})},_onFilterFieldsUpdate:function(e){this.setState({surroundingFilterFields:e.target.value})},_onAnalysisDisabledFieldsUpdate:function(e){this.setState({analysisDisabledFields:e.target.value})},_onChecked:function(){var e=i.default.clone(this.state.config);this.state.limitEnabled?e.query_time_range_limit="PT0S":e.query_time_range_limit="P30D",this.setState({config:e,limitEnabled:!this.state.limitEnabled})},_isEnabled:function(){return this.state.limitEnabled},_splitStringList:function(e){return e.split(",").map(function(e){return e.trim()}).filter(function(e){return 0<e.length})},_saveConfig:function(){var e=this,t=i.default.clone(this.state.config);this.state.relativeTimeRangeOptionsUpdate&&(t.relative_timerange_options={},this.state.relativeTimeRangeOptionsUpdate.forEach(function(e){t.relative_timerange_options[e.period]=e.description}),this.setState({relativeTimeRangeOptionsUpdate:void 0})),this.state.surroundingTimeRangeOptionsUpdate&&(t.surrounding_timerange_options={},this.state.surroundingTimeRangeOptionsUpdate.forEach(function(e){t.surrounding_timerange_options[e.period]=e.description}),this.setState({surroundingTimeRangeOptionsUpdate:void 0})),this.state.surroundingFilterFields&&(t.surrounding_filter_fields=this._splitStringList(this.state.surroundingFilterFields),this.setState({surroundingFilterFields:void 0})),this.state.analysisDisabledFields&&(t.analysis_disabled_fields=this._splitStringList(this.state.analysisDisabledFields),this.setState({analysisDisabledFields:void 0})),this.props.updateConfig(t).then(function(){e._closeModal()})},_resetConfig:function(){this.setState(this.getInitialState())},_openModal:function(){this.searchesConfigModal.open()},_closeModal:function(){this.searchesConfigModal.close()},queryTimeRangeLimitValidator:function(e){return 1<=e},relativeTimeRangeValidator:function(e,t){return 1<=e||"PT0S"===t},surroundingTimeRangeValidator:function(e){return 1<=e},render:function(){var e,t,n,a,i=this,o=this.state.config,r=f.default.duration(o.query_time_range_limit),l=this._isEnabled()?"".concat(o.query_time_range_limit," (").concat(r.format(),")"):"disabled";return this.state.config.surrounding_filter_fields&&(e=this.state.config.surrounding_filter_fields.map(function(e,t){return s.default.createElement("li",{key:t},e)}),t=this.state.config.surrounding_filter_fields.join(", ")),this.state.config.analysis_disabled_fields&&(n=this.state.config.analysis_disabled_fields.map(function(e,t){return s.default.createElement("li",{key:t},e)}),a=this.state.config.analysis_disabled_fields.join(", ")),s.default.createElement("div",null,s.default.createElement("h2",null,"Search Configuration"),s.default.createElement("dl",{className:"deflist"},s.default.createElement("dt",null,"Query time range limit"),s.default.createElement("dd",null,l),s.default.createElement("dd",null,"The maximum time users can query data in the past. This prevents users from accidentally creating queries which span a lot of data and would need a long time and many resources to complete (if at all).")),s.default.createElement(u.Row,null,s.default.createElement(u.Col,{md:6},s.default.createElement("strong",null,"Relative time range options"),s.default.createElement(g.default,{options:this.state.config.relative_timerange_options})),s.default.createElement(u.Col,{md:6},s.default.createElement("strong",null,"Surrounding time range options"),s.default.createElement(g.default,{options:this.state.config.surrounding_timerange_options}),s.default.createElement("strong",null,"Surrounding search filter fields"),s.default.createElement("ul",null,e),s.default.createElement("strong",null,"UI analysis disabled for fields"),s.default.createElement("ul",null,n))),s.default.createElement(c.IfPermitted,{permissions:"clusterconfigentry:edit"},s.default.createElement(u.Button,{bsStyle:"info",bsSize:"xs",onClick:this._openModal},"Update")),s.default.createElement(d.BootstrapModalForm,{ref:function(e){i.searchesConfigModal=e},title:"Update Search Configuration",onSubmitForm:this._saveConfig,onModalClose:this._resetConfig,submitButtonText:"Save"},s.default.createElement("fieldset",null,s.default.createElement(d.Input,{id:"query-limit-checkbox",type:"checkbox",label:"Enable query limit",name:"enabled",checked:this._isEnabled(),onChange:this._onChecked}),this._isEnabled()&&s.default.createElement(c.ISODurationInput,{id:"query-timerange-limit-field",duration:o.query_time_range_limit,update:this._onUpdate("query_time_range_limit"),label:"Query time range limit (ISO8601 Duration)",help:'The maximum time range for searches. (i.e. "P30D" for 30 days, "PT24H" for 24 hours)',validator:this.queryTimeRangeLimitValidator,required:!0}),s.default.createElement(p.default,{options:this.state.relativeTimeRangeOptionsUpdate||this._buildTimeRangeOptions(this.state.config.relative_timerange_options),update:this._onRelativeTimeRangeOptionsUpdate,validator:this.relativeTimeRangeValidator,title:"Relative Timerange Options",help:s.default.createElement("span",null,"Configure the available options for the ",s.default.createElement("strong",null,"relative")," time range selector as ",s.default.createElement("strong",null,"ISO8601 duration"))}),s.default.createElement(p.default,{options:this.state.surroundingTimeRangeOptionsUpdate||this._buildTimeRangeOptions(this.state.config.surrounding_timerange_options),update:this._onSurroundingTimeRangeOptionsUpdate,validator:this.surroundingTimeRangeValidator,title:"Surrounding Timerange Options",help:s.default.createElement("span",null,"Configure the available options for the ",s.default.createElement("strong",null,"surrounding")," time range selector as ",s.default.createElement("strong",null,"ISO8601 duration"))}),s.default.createElement(d.Input,{id:"filter-fields-input",type:"text",label:"Surrounding search filter fields",onChange:this._onFilterFieldsUpdate,value:this.state.surroundingFilterFields||t,help:"A ',' separated list of message fields that will be used as filter for the surrounding messages query.",required:!0}),s.default.createElement(d.Input,{id:"disabled-fields-input",type:"text",label:"Disabled analysis fields",onChange:this._onAnalysisDisabledFieldsUpdate,value:this.state.analysisDisabledFields||a,help:"A ',' separated list of message fields for which analysis features like QuickValues will be disabled in the web UI.",required:!0}))))}});exports.default=r,e.exports=exports.default},YxrTFSb5:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=d(t("ii0bleBb")),a=d(t("ivGQtwpr")),i=d(t("PcYM+wZ7")),o=t("wMSvutaJ"),r=t("B4BR5PLd"),l=t("oBIKikY9"),s=t("2wyBGuX7"),u=d(t("s2hN4RJZ"));function d(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)({displayName:"GeoIpResolverConfig",propTypes:{config:n.default.object,updateConfig:n.default.func.isRequired},getDefaultProps:function(){return{config:{enabled:!1,db_type:"MAXMIND_CITY",db_path:"/etc/graylog/server/GeoLite2-City.mmdb",run_before_extractors:!1}}},getInitialState:function(){return{config:u.default.clone(this.props.config)}},componentWillReceiveProps:function(e){this.setState({config:u.default.clone(e.config)})},inputs:{},_updateConfigField:function(e,t){var n=u.default.clone(this.state.config);n[e]=t,this.setState({config:n})},_onCheckboxClick:function(e,t){var n=this;return function(){n._updateConfigField(e,n.inputs[t].getChecked())}},_onUpdate:function(t){var n=this;return function(e){n._updateConfigField(t,e.target.value)}},_openModal:function(){this.geoIpConfigModal.open()},_closeModal:function(){this.geoIpConfigModal.close()},_resetConfig:function(){this.setState(this.getInitialState())},_saveConfig:function(){var e=this;this.props.updateConfig(this.state.config).then(function(){e._closeModal()})},_availableDatabaseTypes:function(){return[{value:"MAXMIND_CITY",label:"City database"}]},_activeDatabaseType:function(t){return this._availableDatabaseTypes().filter(function(e){return e.value===t})[0].label},render:function(){var t=this;return a.default.createElement("div",null,a.default.createElement("h3",null,"Geo-Location Processor"),a.default.createElement("p",null,"The Geo-Location Processor plugin scans all messages for fields containing ",a.default.createElement("strong",null,"exclusively")," an IP address, and puts their geo-location information (coordinates, ISO country code, and city name) into different fields. Read more in the ",a.default.createElement(s.DocumentationLink,{page:"geolocation.html",text:"Graylog documentation"}),"."),a.default.createElement("dl",{className:"deflist"},a.default.createElement("dt",null,"Enabled:"),a.default.createElement("dd",null,!0===this.state.config.enabled?"yes":"no"),a.default.createElement("dt",null,"Database type:"),a.default.createElement("dd",null,this._activeDatabaseType(this.state.config.db_type)),a.default.createElement("dt",null,"Database path:"),a.default.createElement("dd",null,this.state.config.db_path)),a.default.createElement(l.IfPermitted,{permissions:"clusterconfigentry:edit"},a.default.createElement(o.Button,{bsStyle:"info",bsSize:"xs",onClick:this._openModal},"Update")),a.default.createElement(r.BootstrapModalForm,{ref:function(e){t.geoIpConfigModal=e},title:"Update Geo-Location Processor Configuration",onSubmitForm:this._saveConfig,onModalClose:this._resetConfig,submitButtonText:"Save"},a.default.createElement("fieldset",null,a.default.createElement(r.Input,{id:"geolocation-enable-checkbox",type:"checkbox",ref:function(e){t.inputs.configEnabled=e},label:"Enable Geo-Location processor",name:"enabled",checked:this.state.config.enabled,onChange:this._onCheckboxClick("enabled","configEnabled")}),a.default.createElement(r.Input,{id:"maxmind-db-select",label:"Select the MaxMind database type",help:"Select the MaxMind database type you want to use to extract geo-location information."},a.default.createElement(l.Select,{placeholder:"Select MaxMind database type",required:!0,options:this._availableDatabaseTypes(),matchProp:"value",value:this.state.config.db_type,onChange:this._onDbTypeSelect})),a.default.createElement(r.Input,{id:"maxmind-db-path",type:"text",label:"Path to the MaxMind database",help:a.default.createElement("span",null,"You can download a free version of the database from ",a.default.createElement("a",{href:"https://dev.maxmind.com/geoip/geoip2/geolite2/",target:"_blank",rel:"noopener noreferrer"},"MaxMind"),"."),name:"db_path",value:this.state.config.db_path,onChange:this._onUpdate("db_path")}))))}});exports.default=c,e.exports=exports.default},e07gFQBJ:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=d(t("ii0bleBb")),i=d(t("ivGQtwpr")),a=d(t("PcYM+wZ7")),o=t("wMSvutaJ"),r=d(t("FOEh8xnd")),l=t("oBIKikY9"),s=d(t("s2hN4RJZ")),u=d(t("8FtKQWAV"));function d(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.default)({displayName:"MessageProcessorsConfig",propTypes:{config:n.default.object.isRequired,updateConfig:n.default.func.isRequired},getDefaultProps:function(){return{config:{disabled_processors:[],processor_order:[]}}},getInitialState:function(){return{config:{disabled_processors:this.props.config.disabled_processors,processor_order:this.props.config.processor_order}}},inputs:{},_openModal:function(){this.configModal.open()},_closeModal:function(){this.configModal.close()},_saveConfig:function(){var e=this;this._hasNoActiveProcessor()||this.props.updateConfig(this.state.config).then(function(){e._closeModal()})},_resetConfig:function(){this.setState(this.getInitialState())},_updateSorting:function(e){var t=s.default.clone(this.state.config);t.processor_order=e.map(function(e){return{class_name:e.id,name:e.title}}),this.setState({config:t})},_toggleStatus:function(n){var a=this;return function(){var e=a.state.config.disabled_processors,t=s.default.clone(a.state.config);a.inputs[n].checked?t.disabled_processors=e.filter(function(e){return e!==n}):-1===e.indexOf(n)&&t.disabled_processors.push(n),a.setState({config:t})}},_hasNoActiveProcessor:function(){return this.state.config.disabled_processors.length>=this.state.config.processor_order.length},_noActiveProcessorWarning:function(){if(this._hasNoActiveProcessor())return i.default.createElement(o.Alert,{bsStyle:"danger"},i.default.createElement("strong",null,"ERROR:")," No active message processor!")},_summary:function(){var a=this;return this.state.config.processor_order.map(function(t,e){var n=0<a.state.config.disabled_processors.filter(function(e){return e===t.class_name}).length?"disabled":"active";return i.default.createElement("tr",{key:e},i.default.createElement("td",null,e+1),i.default.createElement("td",null,t.name),i.default.createElement("td",null,n))})},_sortableItems:function(){return this.state.config.processor_order.map(function(e){return{id:e.class_name,title:e.name}})},_statusForm:function(){var a=this;return s.default.clone(this.state.config.processor_order).sort(function(e,t){return(0,u.default)(e.name,t.name)}).map(function(t,e){var n=a.state.config.disabled_processors.filter(function(e){return e===t.class_name}).length<1;return i.default.createElement("tr",{key:e},i.default.createElement("td",null,t.name),i.default.createElement("td",null,i.default.createElement("input",{ref:function(e){a.inputs[t.class_name]=e},type:"checkbox",checked:n,onChange:a._toggleStatus(t.class_name)})))})},render:function(){var t=this;return i.default.createElement("div",null,i.default.createElement("h2",null,"Message Processors Configuration"),i.default.createElement("p",null,"The following message processors are executed in order. Disabled processors will be skipped."),i.default.createElement(o.Table,{striped:!0,bordered:!0,condensed:!0,className:"top-margin"},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",null,"#"),i.default.createElement("th",null,"Processor"),i.default.createElement("th",null,"Status"))),i.default.createElement("tbody",null,this._summary())),i.default.createElement(l.IfPermitted,{permissions:"clusterconfigentry:edit"},i.default.createElement(o.Button,{bsStyle:"info",bsSize:"xs",onClick:this._openModal},"Update")),i.default.createElement(r.default,{ref:function(e){t.configModal=e},title:"Update Message Processors Configuration",onSubmitForm:this._saveConfig,onModalClose:this._resetConfig,submitButtonText:"Save"},i.default.createElement("h3",null,"Order"),i.default.createElement("p",null,"Use drag and drop to change the execution order of the message processors."),i.default.createElement(l.SortableList,{items:this._sortableItems(),onMoveItem:this._updateSorting}),i.default.createElement("h3",null,"Status"),i.default.createElement("p",null,"Change the checkboxes to change the status of a message processor."),i.default.createElement(o.Table,{striped:!0,bordered:!0,condensed:!0,className:"top-margin"},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",null,"Processor"),i.default.createElement("th",null,"Enabled"))),i.default.createElement("tbody",null,this._statusForm())),this._noActiveProcessorWarning()))}});exports.default=c,e.exports=exports.default},"l/uF6gFF":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=f(t("ii0bleBb")),a=f(t("ivGQtwpr")),i=f(t("PcYM+wZ7")),o=t("wMSvutaJ"),r=t("B4BR5PLd"),l=t("oBIKikY9"),s=f(t("s2hN4RJZ")),u=f(t("fht+nQHa")),d=f(t("L8npJDrf")),c=f(t("H1SnJhgx"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=(0,i.default)({displayName:"SidecarConfig",propTypes:{config:n.default.shape({sidecar_expiration_threshold:n.default.string,sidecar_inactive_threshold:n.default.string,sidecar_update_interval:n.default.string,sidecar_send_status:n.default.bool,sidecar_configuration_override:n.default.bool}),updateConfig:n.default.func.isRequired},getDefaultProps:function(){return{config:{sidecar_expiration_threshold:"P14D",sidecar_inactive_threshold:"PT1M",sidecar_update_interval:"PT30S",sidecar_send_status:!0,sidecar_configuration_override:!1}}},getInitialState:function(){return{config:s.default.clone(this.props.config)}},componentWillReceiveProps:function(e){this.setState({config:s.default.clone(e.config)})},_openModal:function(){this.refs.configModal.open()},_closeModal:function(){this.refs.configModal.close()},_resetConfig:function(){this.setState(this.getInitialState())},_saveConfig:function(){var e=this;this.props.updateConfig(this.state.config).then(function(){e._closeModal()})},_onUpdate:function(n){var a=this;return function(e){var t=s.default.clone(a.state.config);"object"===p(e)?t[n]=d.default.getValueFromInput(e.target):t[n]=e,a.setState({config:t})}},_inactiveThresholdValidator:function(e){return 1e3<=e},_expirationThresholdValidator:function(e){return 6e4<=e},_updateIntervalValidator:function(e){var t=this._durationMilliseconds(this.state.config.sidecar_inactive_threshold),n=this._durationMilliseconds(this.state.config.sidecar_expiration_threshold);return 1e3<=e&&e<t&&e<n},_durationMilliseconds:function(e){return u.default.isValidDuration(e,function(e){return e})},render:function(){return a.default.createElement("div",null,a.default.createElement("h2",null,"Sidecars System"),a.default.createElement("dl",{className:"deflist"},a.default.createElement("dt",null,"Inactive threshold:"),a.default.createElement("dd",null,this.state.config.sidecar_inactive_threshold),a.default.createElement("dt",null,"Expiration threshold:"),a.default.createElement("dd",null,this.state.config.sidecar_expiration_threshold),a.default.createElement("dt",null,"Update interval:"),a.default.createElement("dd",null,this.state.config.sidecar_update_interval),a.default.createElement("dt",null,"Send status:"),a.default.createElement("dd",null,c.default.capitalizeFirstLetter(this.state.config.sidecar_send_status.toString())),a.default.createElement("dt",null,"Override configuration:"),a.default.createElement("dd",null,c.default.capitalizeFirstLetter(this.state.config.sidecar_configuration_override.toString()))),a.default.createElement(l.IfPermitted,{permissions:"clusterconfigentry:edit"},a.default.createElement(o.Button,{bsStyle:"info",bsSize:"xs",onClick:this._openModal},"Update")),a.default.createElement(r.BootstrapModalForm,{ref:"configModal",title:"Update Sidecars System Configuration",onSubmitForm:this._saveConfig,onModalClose:this._resetConfig,submitButtonText:"Save"},a.default.createElement("fieldset",null,a.default.createElement(l.ISODurationInput,{id:"inactive-threshold-field",duration:this.state.config.sidecar_inactive_threshold,update:this._onUpdate("sidecar_inactive_threshold"),label:"Inactive threshold (as ISO8601 Duration)",help:"Amount of time of inactivity after which Sidecars are flagged as inactive.",validator:this._inactiveThresholdValidator,errorText:"invalid (min: 1 second)",required:!0}),a.default.createElement(l.ISODurationInput,{id:"sidecar-expiration-field",duration:this.state.config.sidecar_expiration_threshold,update:this._onUpdate("sidecar_expiration_threshold"),label:"Expiration threshold (as ISO8601 Duration)",help:"Amount of time after which inactive Sidecars are purged from the database.",validator:this._expirationThresholdValidator,errorText:"invalid (min: 1 minute)",required:!0}),a.default.createElement(l.ISODurationInput,{id:"sidecar-update-field",duration:this.state.config.sidecar_update_interval,update:this._onUpdate("sidecar_update_interval"),label:"Update interval (as ISO8601 Duration)",help:"Time between Sidecar update requests.",validator:this._updateIntervalValidator,errorText:"invalid (min: 1 second, lower: inactive/expiration threshold)",required:!0})),a.default.createElement(r.Input,{type:"checkbox",id:"send-status-updates-checkbox",label:"Send status updates",checked:this.state.config.sidecar_send_status,onChange:this._onUpdate("sidecar_send_status"),help:"Send Sidecar status and host metrics from each client"}),a.default.createElement(r.Input,{type:"checkbox",id:"override-sidecar-config-checkbox",label:"Override Sidecar configuration",checked:this.state.config.sidecar_configuration_override,onChange:this._onUpdate("sidecar_configuration_override"),help:"Override configuration file settings for all Sidecars"})))}});exports.default=g,e.exports=exports.default},q55gVXlh:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=p(t("ivGQtwpr")),n=p(t("PcYM+wZ7")),a=p(t("4KF7VOU5")),s=t("wMSvutaJ"),u=t("oBIKikY9"),i=t("AztyBNMT"),o=p(t("1VnJesae")),r=p(t("JBQWIv26")),d=p(t("W1d2pNcb")),c=p(t("e07gFQBJ")),f=p(t("l/uF6gFF"));function p(e){return e&&e.__esModule?e:{default:e}}t("8X5KBrCD");var g=o.default.getStore("Configurations"),m=r.default.getActions("Configuration"),h=(0,n.default)({displayName:"ConfigurationsPage",mixins:[a.default.connect(g)],getInitialState:function(){return{configuration:null}},componentDidMount:function(){this.style.use(),m.list(this.SEARCHES_CLUSTER_CONFIG),m.listMessageProcessorsConfig(this.MESSAGE_PROCESSORS_CONFIG),m.list(this.SIDECAR_CONFIG),i.PluginStore.exports("systemConfigurations").forEach(function(e){m.list(e.configType)})},componentWillUnmount:function(){this.style.unuse()},style:t("udV3CGWA"),SEARCHES_CLUSTER_CONFIG:"org.graylog2.indexer.searches.SearchesClusterConfig",MESSAGE_PROCESSORS_CONFIG:"org.graylog2.messageprocessors.MessageProcessorsConfig",SIDECAR_CONFIG:"org.graylog.plugins.sidecar.system.SidecarConfiguration",_getConfig:function(e){return this.state.configuration&&this.state.configuration[e]?this.state.configuration[e]:null},_onUpdate:function(t){var n=this;return function(e){switch(t){case n.MESSAGE_PROCESSORS_CONFIG:return m.updateMessageProcessorsConfig(t,e);default:return m.update(t,e)}}},_pluginConfigs:function(){var n=this;return i.PluginStore.exports("systemConfigurations").map(function(e,t){return l.default.createElement(e.component,{key:"system-configuration-".concat(t),config:n._getConfig(e.configType)||void 0,updateConfig:n._onUpdate(e.configType)})})},_pluginConfigRows:function(){for(var e=this._pluginConfigs(),t=[],n=0;0<e.length;)n++,t.push(l.default.createElement(s.Row,{key:"plugin-config-row-".concat(n)},l.default.createElement(s.Col,{md:6},e.shift()),l.default.createElement(s.Col,{md:6},e.shift()||l.default.createElement("span",null," "))));return t},render:function(){var e,t,n,a=this._getConfig(this.SEARCHES_CLUSTER_CONFIG),i=this._getConfig(this.MESSAGE_PROCESSORS_CONFIG),o=this._getConfig(this.SIDECAR_CONFIG);e=a?l.default.createElement(d.default,{config:a,updateConfig:this._onUpdate(this.SEARCHES_CLUSTER_CONFIG)}):l.default.createElement(u.Spinner,null),t=i?l.default.createElement(c.default,{config:i,updateConfig:this._onUpdate(this.MESSAGE_PROCESSORS_CONFIG)}):l.default.createElement(u.Spinner,null),n=o?l.default.createElement(f.default,{config:o,updateConfig:this._onUpdate(this.SIDECAR_CONFIG)}):l.default.createElement(u.Spinner,null);var r=this._pluginConfigRows();return l.default.createElement(u.DocumentTitle,{title:"Configurations"},l.default.createElement("span",null,l.default.createElement(u.PageHeader,{title:"Configurations"},l.default.createElement("span",null,"You can configure system settings for different sub systems on this page.")),l.default.createElement(s.Row,{className:"content"},l.default.createElement(s.Col,{md:6},e),l.default.createElement(s.Col,{md:6},t),l.default.createElement(s.Col,{md:6},n)),0<r.length&&l.default.createElement(s.Row,{className:"content"},l.default.createElement(s.Col,{md:12},l.default.createElement("h2",null,"Plugins"),l.default.createElement("p",{className:"description"},"Configuration for installed plugins."),l.default.createElement("hr",{className:"separator"}),l.default.createElement("div",{className:"top-margin"},r)))))}});exports.default=h,e.exports=exports.default},tHjqoyoj:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),o=a(t("ivGQtwpr"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,c,f,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o.default.Component),n=t,(a=[{key:"render",value:function(){var n=this,e=null;return this.props.options&&(e=Object.keys(this.props.options).map(function(e,t){return o.default.createElement("span",{key:"timerange-options-summary-".concat(t)},o.default.createElement("dt",null,e),o.default.createElement("dd",null,n.props.options[e]))})),o.default.createElement("dl",{className:"deflist"},e)}}])&&r(n.prototype,a),i&&r(n,i),t}();d=p,c="propTypes",f={options:n.default.object.isRequired},c in d?Object.defineProperty(d,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[c]=f;var g=p;exports.default=g,e.exports=exports.default},udV3CGWA:function(e,exports,t){var n,a=0,i=t("87lDlcu5");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(exports.locals=i.locals),exports.use=exports.ref=function(){return a++||(n=t("HkU00dYq")(i,{hmr:!0})),exports},exports.unuse=exports.unref=function(){0<a&&!--a&&(n(),n=null)}}}]);