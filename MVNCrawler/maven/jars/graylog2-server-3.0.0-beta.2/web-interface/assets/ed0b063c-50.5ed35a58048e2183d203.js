(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-50"],{"63DoROoX":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=c(t("ii0bleBb")),o=c(t("ivGQtwpr")),a=c(t("PcYM+wZ7")),r=c(t("4KF7VOU5")),i=c(t("6V07ugta")),s=c(t("1VnJesae")),l=t("oBIKikY9"),u=c(t("dOmQZ9N/"));function c(e){return e&&e.__esModule?e:{default:e}}var d=s.default.getStore("Users"),f=s.default.getStore("CurrentUser"),p=(0,a.default)({displayName:"EditTokensPage",mixins:[r.default.connect(f),u.default],propTypes:{params:n.default.object.isRequired},getInitialState:function(){return{username:void 0,creatingToken:!1,deletingToken:void 0,tokens:[]}},componentDidMount:function(){this._loadTokens(this.props.params.username)},componentWillReceiveProps:function(e){this.props.params.username!==e.params.username&&this._loadTokens(e.params.username)},_loadTokens:function(e){var t=this;this._canListTokens(e)?d.loadTokens(e).then(function(e){t.setState({tokens:e})}):this.setState({tokens:[]})},_canListTokens:function(e){return this.isPermitted(this.state.currentUser.permissions,["users:tokenlist:".concat(e)])},_deleteToken:function(e,t){var n=this,o=d.deleteToken(this.props.params.username,e,t);this.setState({deletingToken:e}),o.then(function(){n._loadTokens(n.props.params.username),n.setState({deletingToken:void 0})})},_createToken:function(e){var t=this,n=d.createToken(this.props.params.username,e);this.setState({creatingToken:!0}),n.then(function(){t._loadTokens(t.props.params.username),t.setState({creatingToken:!1})})},render:function(){return o.default.createElement(l.DocumentTitle,{title:"Edit tokens of user ".concat(this.props.params.username)},o.default.createElement("span",null,o.default.createElement(l.PageHeader,{title:o.default.createElement("span",null,"Edit tokens of user ",o.default.createElement("em",null,this.props.params.username)),subpage:!0},o.default.createElement("span",null,"You can create new tokens or delete old ones."),null),o.default.createElement(i.default,{tokens:this.state.tokens,onDelete:this._deleteToken,onCreate:this._createToken,creatingToken:this.state.creatingToken,deletingToken:this.state.deletingToken})))}});exports.default=p,e.exports=exports.default},"6V07ugta":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(t("ii0bleBb")),r=o(t("ivGQtwpr")),i=o(t("VPaD/Np4")),s=o(t("9PduZh9b")),l=t("wMSvutaJ"),u=o(t("F09RorbE")),c=o(t("fQFnrO3i")),d=o(t("U2W9jLxI"));function o(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function a(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,(t=!(o=m(a).call(this,e))||"object"!==f(o)&&"function"!=typeof o?h(n):o).state={token_name:"",hide_tokens:!0},t._onNewTokeChanged=t._onNewTokeChanged.bind(h(h(t))),t._onShowTokensChanged=t._onShowTokensChanged.bind(h(h(t))),t._createToken=t._createToken.bind(h(h(t))),t.itemActionsFactory=t.itemActionsFactory.bind(h(h(t))),t}var t,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,r.default.Component),t=a,(n=[{key:"_onNewTokeChanged",value:function(e){this.setState({token_name:e.target.value})}},{key:"_onShowTokensChanged",value:function(e){this.setState({hide_tokens:e.target.checked})}},{key:"_deleteToken",value:function(e){var t=this;return function(){t.props.onDelete(e.token,e.name)}}},{key:"_createToken",value:function(e){this.props.onCreate(this.state.token_name),this.setState({token_name:""}),e.preventDefault()}},{key:"itemActionsFactory",value:function(e){var t=this.props.deletingToken===e.token?r.default.createElement(c.default,{text:"Deleting..."}):"Delete";return r.default.createElement(l.ButtonGroup,null,r.default.createElement(s.default,{title:"Copy to clipboard",text:e.token,bsSize:"xsmall"}),r.default.createElement(l.Button,{bsSize:"xsmall",disabled:this.props.deletingToken===e.token,bsStyle:"primary",onClick:this._deleteToken(e)},t))}},{key:"render",value:function(){var e=this.props.creatingToken?r.default.createElement(c.default,{text:"Creating..."}):"Create Token",t=r.default.createElement("form",{onSubmit:this._createToken},r.default.createElement("div",{className:"form-group"},r.default.createElement(l.Row,null,r.default.createElement(l.Col,{sm:2},r.default.createElement(l.ControlLabel,{className:d.default.tokenNewNameLabel},"Token Name")),r.default.createElement(l.Col,{sm:4},r.default.createElement(l.FormControl,{id:"create-token-input",type:"text",placeholder:"e.g ServiceName",value:this.state.token_name,onChange:this._onNewTokeChanged})),r.default.createElement(l.Col,{sm:2},r.default.createElement(l.Button,{id:"create-token",disabled:""===this.state.token_name||this.props.creatingToken,type:"submit",bsStyle:"primary"},e)))),r.default.createElement("hr",null));return r.default.createElement("span",null,t,r.default.createElement(u.default,{filterKeys:["name","token"],items:i.default.List(this.props.tokens),idKey:"token",titleKey:"name",descriptionKey:"token",hideDescription:this.state.hide_tokens,enableBulkActions:!1,itemActionsFactory:this.itemActionsFactory}),r.default.createElement(l.Checkbox,{id:"hide-tokens",onChange:this._onShowTokensChanged,checked:this.state.hide_tokens},"Hide Tokens"))}}])&&p(t.prototype,n),o&&p(t,o),a}();a(b,"propTypes",{tokens:n.default.arrayOf(n.default.object),onDelete:n.default.func,onCreate:n.default.func,creatingToken:n.default.bool,deletingToken:n.default.string}),a(b,"defaultProps",{tokens:[],onDelete:function(){},onCreate:function(){},creatingToken:!1,deletingToken:void 0});var y=b;exports.default=y,e.exports=exports.default},U2W9jLxI:function(e,exports,t){var n=t("oalGewIX");"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,o);n.locals&&(e.exports=n.locals)},oalGewIX:function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._3Li-IWGcNyk_BQs5gAI9J0{margin-top:8px}",""]),exports.locals={tokenNewNameLabel:"_3Li-IWGcNyk_BQs5gAI9J0"}}}]);