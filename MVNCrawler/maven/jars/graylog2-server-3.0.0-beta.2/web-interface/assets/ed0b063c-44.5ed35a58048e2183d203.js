(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-44"],{MlXn30O1:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=n(t("gCzbTwtZ")),s=n(t("AhJZIvQE")),c=n(t("9pdI12pI")),r=n(t("ii0bleBb")),a=n(t("ivGQtwpr")),o=n(t("pj7KDZXq")),f=n(t("poXm9ntF"));function n(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){function l(){var e,o,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=this,r=(e=h(l)).call.apply(e,[this].concat(a)),b(p(p(o=!r||"object"!==d(r)&&"function"!=typeof r?p(t):r)),"getFilters",function(){return o._pieChart?o._pieChart.filters():[]}),b(p(p(o)),"setFilter",function(e){o._pieChart.filter(e)}),b(p(p(o)),"clearFilters",function(){o._pieChart.filterAll()}),b(p(p(o)),"redraw",function(){o._pieChart.redraw()}),b(p(p(o)),"_configureWidth",function(e){o._pieChart.width(e).height(e).radius(e/2-10).innerRadius(e/5)}),b(p(p(o)),"updateWidth",function(){var e=(0,u.default)("#dc-sources-pie-chart").parent().width();o._configureWidth(e)}),b(p(p(o)),"renderPieChart",function(e,t,r){var n=(0,u.default)("#dc-sources-pie-chart")[0],a=(0,u.default)(n).width();o._pieChart=s.default.pieChart(n),o._pieChart.renderLabel(!1).dimension(e).group(t).colors(f.default.glColourPalette()).slicesCap(o.props.numberOfTopValues).title(function(e){return"".concat(e.key,": ").concat((0,c.default)(e.value).format("0,0"))}).on("renderlet",function(e){e.selectAll(".pie-slice").on("click",function(){r()})}),o._configureWidth(a)}),o}var t,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,a.default.Component),t=l,(r=[{key:"render",value:function(){return a.default.createElement("div",{id:"dc-sources-pie-chart"},a.default.createElement(o.default,{className:"reset",resetFilters:this.props.resetFilters},"Messages per source"))}}])&&i(t.prototype,r),n&&i(t,n),l}();b(l,"propTypes",{resetFilters:r.default.func.isRequired,numberOfTopValues:r.default.number.isRequired});var g=l;exports.default=g,e.exports=exports.default},Ux4l95oZ:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=n(t("ii0bleBb")),a=n(t("ivGQtwpr")),u=n(t("gCzbTwtZ"));t("icISWNQa");var s=n(t("AhJZIvQE")),c=n(t("/8dZfPfB")),f=n(t("gr5Ikivs")),o=n(t("pj7KDZXq")),d=n(t("poXm9ntF")),h=n(t("o/Lf6FxK"));function n(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){function l(){var e,o,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=this,r=(e=p(l)).call.apply(e,[this].concat(a)),y(g(g(o=!r||"object"!==m(r)&&"function"!=typeof r?g(t):r)),"state",{lineChartWidth:"100%"}),y(g(g(o)),"getFilters",function(){return o._lineChart?o._lineChart.filters():[]}),y(g(g(o)),"setFilter",function(e){o._lineChart.filter(e)}),y(g(g(o)),"clearFilters",function(){o._lineChart.filterAll()}),y(g(g(o)),"_configureWidth",function(e){o._lineChart.width(e),o.setState({lineChartWidth:"".concat(String(e),"px")})}),y(g(g(o)),"updateWidth",function(){var e=(0,u.default)("#dc-sources-line-chart").width();o._configureWidth(e)}),y(g(g(o)),"renderLineChart",function(e,t,r){var n=(0,u.default)("#dc-sources-line-chart")[0],a=(0,u.default)(n).width();(0,u.default)(document).on("mouseup","#dc-sources-line-chart svg",function(e){(0,u.default)(".timerange-selector-container").effect("bounce",{complete:function(){e.altKey&&f.default.submit()}})}),o._lineChart=s.default.lineChart(n),o._lineChart.height(200).margins({left:35,right:20,top:20,bottom:20}).dimension(e).group(t).x(c.default.time.scale()).renderHorizontalGridLines(!0).elasticX(!0).elasticY(!0).transitionDuration(30).colors(d.default.glColourPalette()).on("filtered",function(t){s.default.events.trigger(function(){var e=t.filter();r(e)})}),o._configureWidth(a),o._lineChart.xAxis().ticks(h.default.customTickInterval()).tickFormat(h.default.customDateTimeFormat()),o._lineChart.yAxis().ticks(6).tickFormat(c.default.format("s"))}),o}var t,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,a.default.Component),t=l,(r=[{key:"render",value:function(){var e={display:this.props.reloadingHistogram?"block":"none",width:this.state.lineChartWidth},t=a.default.createElement("div",{className:"sources overlay",style:e},a.default.createElement("i",{className:"fa fa-spin fa-refresh spinner"})),r={display:this.props.histogramDataAvailable?"none":"block",width:this.state.lineChartWidth},n=a.default.createElement("div",{className:"sources overlay",style:r},"Not enough data");return a.default.createElement("div",{id:"dc-sources-line-chart",className:"col-md-12"},a.default.createElement(o.default,{className:"reset",resetFilters:this.props.resetFilters},"Messages per ",this.props.resolution),t,n)}}])&&i(t.prototype,r),n&&i(t,n),l}();y(l,"propTypes",{histogramDataAvailable:r.default.bool.isRequired,reloadingHistogram:r.default.bool.isRequired,resetFilters:r.default.func.isRequired,resolution:r.default.string.isRequired});var v=l;exports.default=v,e.exports=exports.default},eqDsOnap:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=r(t("ivGQtwpr")),i=r(t("tkNbGIUD")),l=t("oBIKikY9");function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o.default.Component),r=t,(n=[{key:"render",value:function(){return o.default.createElement(l.DocumentTitle,{title:"Sources"},o.default.createElement(i.default,null))}}])&&u(r.prototype,n),a&&u(r,a),t}();exports.default=a,e.exports=exports.default},pj7KDZXq:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=n(t("ii0bleBb")),o=n(t("ivGQtwpr"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c,f,d,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o.default.Component),r=t,(n=[{key:"render",value:function(){return o.default.createElement("h3",{className:"sources-title"},this.props.children,o.default.createElement("span",{style:{marginLeft:10}},o.default.createElement("button",{id:this.props.resetFilterId,className:"btn btn-info btn-xs ".concat(this.props.className),onClick:this.props.resetFilters,title:"Reset filter",style:{display:"none"}},"Reset")))}}])&&i(r.prototype,n),a&&i(r,a),t}();c=h,f="propTypes",d={className:r.default.string,resetFilters:r.default.func.isRequired,resetFilterId:r.default.string,children:r.default.oneOfType([r.default.array,r.default.element,r.default.string]).isRequired},f in c?Object.defineProperty(c,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[f]=d;var m=h;exports.default=m,e.exports=exports.default},"rawE9S+t":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=n(t("ii0bleBb")),a=n(t("ivGQtwpr")),u=n(t("gCzbTwtZ")),s=n(t("/8dZfPfB")),c=n(t("AhJZIvQE")),f=n(t("9pdI12pI")),o=n(t("pj7KDZXq")),d=n(t("gr5Ikivs")),h=n(t("H1SnJhgx"));function n(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=n(t("1VnJesae")).default.getStore("Search"),l=function(e){function l(){var e,a,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,r=(e=p(l)).call.apply(e,[this].concat(o)),y(g(g(a=!r||"object"!==m(r)&&"function"!=typeof r?g(t):r)),"state",{numberOfSources:100}),y(g(g(a)),"_getAddToSearchButton",function(e){var t=document.createElement("button");return t.className="btn btn-xs btn-default dc-search-button",t.title="Add to search query",t.setAttribute("data-source",h.default.unescapeHTML(e)),t.innerHTML="<i class='fa fa-search-plus'></i>",t.outerHTML}),y(g(g(a)),"renderDataTable",function(e,r,t){var n=(0,u.default)("#dc-sources-result")[0];a._dataTable=c.default.dataTable(n),a._dataTable.dimension(e).group(function(t){return r.top(a.props.numberOfTopValues).some(function(e){return 0===t.name.localeCompare(e.key)})?"Top sources":"Others"}).size(a.state.numberOfSources).columns([function(e){return'<a href="javascript:undefined" class="dc-filter-link" title="Filter this source">'.concat(e.name,"</a>")},function(e){return"".concat(e.percentage.toFixed(2),"%")},function(e){return(0,f.default)(e.message_count).format("0,0")},function(e){return a._getAddToSearchButton(e.name)}]).sortBy(function(e){return e.message_count}).order(s.default.descending).on("renderlet",function(e){e.selectAll(".dc-table-group").classed("info",!0),a._addSourceToSearchBarListener(e),a._filterSourceListener(e,t)})}),y(g(g(a)),"_addSourceToSearchBarListener",function(e){e.selectAll("td.dc-table-column .dc-search-button").on("click",function(){var e=(0,u.default)(s.default.event.target).closest("button").data("source");v.addSearchTerm("source",e,d.default.orOperator())})}),y(g(g(a)),"_filterSourceListener",function(e,r){e.selectAll("td.dc-table-column a.dc-filter-link").on("click",function(){var e=(0,u.default)(s.default.event.target).parents("td.dc-table-column._0"),t=s.default.selectAll(e).datum();r(t.name)})}),y(g(g(a)),"redraw",function(){a._dataTable.redraw()}),y(g(g(a)),"clearFilters",function(){a._dataTable.filterAll()}),y(g(g(a)),"getFilters",function(){return a._dataTable?a._dataTable.filters():[]}),y(g(g(a)),"setFilter",function(e){a._dataTable.filter(e)}),y(g(g(a)),"changeNumberOfSources",function(e){a._dataTable.size(e).redraw()}),y(g(g(a)),"_onNumberOfSourcesChanged",function(e){a.setState({numberOfSources:e.target.value},function(){a.changeNumberOfSources(a.state.numberOfSources)})}),y(g(g(a)),"_onFilterChanged",function(e){a.props.setSearchFilter(e.target.value)}),a}var t,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,a.default.Component),t=l,(r=[{key:"render",value:function(){var e=a.default.createElement("table",{id:"dc-sources-result",className:"sources table table-hover"},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",{style:{width:"60%"}},"Name"),a.default.createElement("th",null,"Percentage"),a.default.createElement("th",null,"Message count"),a.default.createElement("th",{style:{width:10}}))));return a.default.createElement("div",null,a.default.createElement(o.default,{resetFilterId:"dc-sources-result-reset",resetFilters:this.props.resetFilters},"Selected sources"),a.default.createElement("div",{className:"row sources-filtering"},a.default.createElement("div",{className:"col-md-6"},a.default.createElement("div",{className:"form-inline"},a.default.createElement("div",{className:"form-group"},a.default.createElement("input",{type:"text",className:"form-control input-sm",onChange:this._onFilterChanged,placeholder:"Search"})))),a.default.createElement("div",{className:"col-md-6"},a.default.createElement("div",{className:"form-inline text-right"},a.default.createElement("div",{className:"form-group"},a.default.createElement("label",{htmlFor:"no-results"},"Show:"),a.default.createElement("select",{id:"no-results",className:"form-control input-sm",onChange:this._onNumberOfSourcesChanged,value:this.state.numberOfSources},a.default.createElement("option",{value:"10"},"10"),a.default.createElement("option",{value:"50"},"50"),a.default.createElement("option",{value:"100"},"100"),a.default.createElement("option",{value:"500"},"500")))))),e)}}])&&i(t.prototype,r),n&&i(t,n),l}();y(l,"propTypes",{numberOfTopValues:r.default.number.isRequired,resetFilters:r.default.func.isRequired,setSearchFilter:r.default.func.isRequired});var _=l;exports.default=_,e.exports=exports.default},tkNbGIUD:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=v(t("ivGQtwpr")),r=v(t("PcYM+wZ7")),n=v(t("gCzbTwtZ")),o=v(t("TivnP0t5")),i=v(t("AhJZIvQE")),l=v(t("pjsNBHWI")),u=v(t("2gEPIf6i")),s=v(t("rawE9S+t")),c=v(t("MlXn30O1")),f=v(t("Ux4l95oZ")),d=v(t("ay5z1K51")),h=t("oBIKikY9"),m=v(t("QDVhqBhn")),p=v(t("gr5Ikivs")),b=v(t("46kC8HPJ")),g=v(t("1VnJesae")),y=v(t("JBQWIv26"));function v(e){return e&&e.__esModule?e:{default:e}}var _=g.default.getStore("Sources"),w=(g.default.getStore("HistogramData"),g.default.getStore("Search")),S=y.default.getActions("HistogramData"),E=function(e){return u.default.duration(e,"days").as("seconds")},O=function(e){return u.default.duration(e,"hours").as("seconds")},C=O(1),F=[O(1),E(1),E(7),E(31),E(365),0],T=(0,n.default)(window).width(),D=(0,r.default)({displayName:"SourceOverview",getInitialState:function(){return this.sourcesData=(0,o.default)(),this.filterDimension=this.sourcesData.dimension(function(e){return e.name}),this.nameDimension=this.sourcesData.dimension(function(e){return e.name}),this.nameMessageGroup=this.nameDimension.group().reduceSum(function(e){return e.message_count}),this.messageCountDimension=this.sourcesData.dimension(function(e){return e.message_count}),this.histogramData=(0,o.default)(),this.valueDimension=this.histogramData.dimension(function(e){return new Date(e.x)}),this.valueGroup=this.valueDimension.group().reduceSum(function(e){return e.y}),{range:"",resolution:"minute",filter:"",loading:!1,renderResultTable:!0,histogramDataAvailable:!0,reloadingHistogram:!1}},componentDidMount:function(){var t=this;this.sourceDataTable.renderDataTable(this.messageCountDimension,this.nameMessageGroup,function(e){t.sourcePieChart.setFilter(e),t._toggleResetButtons(),i.default.redrawAll(),t.loadHistogramData()}),this.sourcePieChart.renderPieChart(this.nameDimension,this.nameMessageGroup,function(){t.loadHistogramData(),t._toggleResetButtons()}),this.sourceLineChart.renderLineChart(this.valueDimension,this.valueGroup,function(e){e?w.changeTimeRange("absolute",{from:new m.default(e[0]).toString(),to:new m.default(e[1]).toString()}):t.syncRangeWithQuery()}),this.applyRangeParameter(),i.default.renderAll(),window.addEventListener("resize",this._resizeCallback),(0,n.default)(window).on("hashchange",this._applyRangeFromHash),(0,n.default)(document).on("click",".sidebar-hide",this._updateWidth),(0,n.default)(document).on("click",".sidebar-show",this._updateWidth),p.default.init()},componentWillUnmount:function(){window.removeEventListener("resize",this._resizeCallback),(0,n.default)(window).off("hashchange",this._applyRangeFromHash),(0,n.default)(document).off("click",".sidebar-hide",this._updateWidth),(0,n.default)(document).off("click",".sidebar-show",this._updateWidth)},setSearchFilter:function(e){var t=this;this.setState({filter:e},function(){t._filterSources(),t.sourceDataTable.redraw(),t.sourcePieChart.redraw()})},NUMBER_OF_TOP_VALUES:10,eventThrottler:new b.default,loadData:function(){this.loadSources(),this.loadHistogramData()},loadSources:function(){var t=this;_.loadSources(this.state.range,function(e){t._resetSources(e),t.setState({renderResultTable:0!==t.sourcesData.size(),loading:!1}),t._updateWidth()})},_resetSources:function(e){var t=this,r=this.sourcePieChart.getFilters(),n=this.sourceDataTable.getFilters();this.nameDimension.filterAll(),this.filterDimension.filterAll(),this.sourcePieChart.clearFilters(),this.sourceDataTable.clearFilters(),this.sourcesData.remove(),this.sourcesData.add(e),r.forEach(function(e){return t.sourcePieChart.setFilter(e)}),n.forEach(function(e){return t.sourceDataTable.setFilter(e)}),this._filterSources(),i.default.redrawAll()},loadHistogramData:function(){var e,t=this;0===this.sourcePieChart.getFilters().length&&0===this.sourceDataTable.getFilters().length||(e=this.nameDimension.top(1/0).map(function(e){return p.default.escape(e.name)})),S.load(this.state.range,e,T).then(function(e){t.setState({resolution:e.interval,reloadingHistogram:!1,histogramDataAvailable:2<=e.histogram.length}),t._resetHistogram(e.histogram)}),this.setState({reloadingHistogram:!0})},_resetHistogram:function(e){var t=this,r=this.sourceLineChart.getFilters();this.valueDimension.filterAll(),this.sourceLineChart.clearFilters(),this.histogramData.remove(),this.histogramData.add(e),r.forEach(function(e){return t.sourceLineChart.setFilter(e)}),i.default.redrawAll()},_resizeCallback:function(){var e=this;this.eventThrottler.throttle(function(){return e._updateWidth()})},_redirectToRange:function(e){window.location.replace("sources#".concat(e))},_getRangeFromOldQueryFormat:function(){var e=window.location.search;if(e&&0===e.indexOf("?")&&1<e.length){e=e.substr(1,e.length-1);var t=l.default.parse(e).range;if(t)return t}return null},_applyRangeFromHash:function(){var e=this._getRangeFromHash();this.changeRange(e,!1)},applyRangeParameter:function(){var e=this._getRangeFromOldQueryFormat();e?this._redirectToRange(e):this._applyRangeFromHash()},_getRangeFromHash:function(){var e=window.location.hash;if(0!==e.indexOf("#"))return C;var t=e.substring(1);if(e.indexOf("&")<0)return t;var r=t.match(/(\d+)=&/);return r&&0<r.length?r[1]:C},resetSourcesFilters:function(){this.sourcePieChart.clearFilters(),this.nameDimension.filterAll(),this.loadHistogramData(),this._toggleResetButtons(),i.default.redrawAll()},resetHistogramFilters:function(){this.valueDimension.filterAll(),this.sourceLineChart.clearFilters(),i.default.redrawAll()},_updateWidth:function(){T=(0,n.default)(window).width(),this.sourcePieChart.updateWidth(),this.sourceLineChart.updateWidth(),i.default.renderAll()},syncRangeWithQuery:function(){var e=this.rangeSelector;if(0===Number(e.value))w.changeTimeRange("relative",{relative:0});else{var t=(0,n.default)(":selected",e),r=t&&t[0]&&t[0].text;w.changeTimeRange("keyword",{keyword:r})}},_toggleResetButtons:function(){0!==this.sourcePieChart.getFilters().length?(0,n.default)("#dc-sources-result-reset").show():(0,n.default)("#dc-sources-result-reset").hide()},changeRange:function(e,t){var r=this,n=e;void 0!==n&&(n=Number(n)),void 0!==n&&-1!==F.indexOf(n)||(n=C),this.state.range!==n&&(this.valueDimension.filterAll(),this.sourceLineChart.clearFilters(),this.syncRangeWithQuery(),t?window.location.hash="#".concat(n):window.location.replace("sources#".concat(n)),this.setState({range:n,histogramDataAvailable:!0,loading:!0},function(){return r.loadData()}))},_onRangeChanged:function(e){var t=e.target.value;this.changeRange(t,!0)},_filterSources:function(){var t=this;this.filterDimension.filter(function(e){return-1!==e.indexOf(t.state.filter)})},render:function(){var t=this,e=a.default.createElement("div",{className:"row content"},a.default.createElement("div",{className:"col-md-12"},a.default.createElement("div",{className:"alert alert-info"},"No message sources found for this time range. Did you try using a different one?"))),r=this.state.renderResultTable?null:{display:"none"},n=a.default.createElement("div",{style:r},a.default.createElement("div",{className:"row content"},a.default.createElement(f.default,{ref:function(e){t.sourceLineChart=e},reloadingHistogram:this.state.reloadingHistogram,histogramDataAvailable:this.state.histogramDataAvailable,resolution:this.state.resolution,resetFilters:this.resetHistogramFilters})),this.state.loading?a.default.createElement("div",{className:"row content"},a.default.createElement("div",{style:{marginLeft:10}},a.default.createElement(h.Spinner,null))):null,a.default.createElement("div",{className:"row content",style:{display:this.state.loading?"none":"block"}},a.default.createElement("div",{className:"col-md-7"},a.default.createElement(s.default,{ref:function(e){t.sourceDataTable=e},resetFilters:this.resetSourcesFilters,setSearchFilter:this.setSearchFilter,numberOfTopValues:this.NUMBER_OF_TOP_VALUES})),a.default.createElement("div",{className:"col-md-3 col-md-offset-1"},a.default.createElement(c.default,{ref:function(e){t.sourcePieChart=e},resetFilters:this.resetSourcesFilters,numberOfTopValues:this.NUMBER_OF_TOP_VALUES}))));return a.default.createElement("div",null,a.default.createElement("div",{className:"row content"},a.default.createElement("div",{className:"col-md-12"},a.default.createElement("div",null,a.default.createElement("div",{className:"pull-right"},a.default.createElement("select",{ref:function(e){t.rangeSelector=e},className:"sources-range form-control input-sm",value:this.state.range,onChange:this._onRangeChanged},a.default.createElement("option",{value:O(1)},"Last Hour"),a.default.createElement("option",{value:E(1)},"Last Day"),a.default.createElement("option",{value:E(7)},"Last Week"),a.default.createElement("option",{value:E(31)},"Last Month"),a.default.createElement("option",{value:E(365)},"Last Year"),a.default.createElement("option",{value:"0"},"All"))),a.default.createElement("h1",null,"Sources")),a.default.createElement("p",{className:"description"},"This is a list of all sources that sent in messages to Graylog. Note that the list is cached for a few seconds so you might have to wait a bit until a new source appears."),a.default.createElement(d.default,null," Use your mouse to interact with the table and graphs on this page, and get a better overview of the sources sending data into Graylog."))),this.state.renderResultTable?null:e,n)}});exports.default=D,e.exports=exports.default}}]);