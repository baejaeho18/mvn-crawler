(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-31"],{"+0f1RKjr":function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._1Yp70UWnFp2Bv7r6SDl4ov{margin:auto}",""]),exports.locals={pager:"_1Yp70UWnFp2Bv7r6SDl4ov"}},"+ETkxDhY":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),o=a(t("ivGQtwpr")),l=a(t("6va0yrcj")),u=t("wMSvutaJ"),i=t("B4BR5PLd"),s=a(t("MoBBiZo1")),c=a(t("be3FFHWQ")),f=a(t("mvLrBbmL"));function a(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(e){function r(e){var o,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,n=m(r).call(this,e),h(y(y(o=!n||"object"!==d(n)&&"function"!=typeof n?y(t):n)),"onInstall",function(){if(o._validateInput()){var e=o.props.contentPack.id,t=o.props.contentPack.rev,n=o._convertedParameters();o.props.onInstall(e,t,{parameters:n,comment:o.state.comment})}}),h(y(y(o)),"_convertedParameters",function(){return Object.keys(o.state.parameterInput).reduce(function(e,t){var n=e,a=o.props.contentPack.parameters.find(function(e){return e.name===t}).type,r=c.default.convertValue(a,o.state.parameterInput[t]);return n[t]=s.default.createValueRef(a,r),n},{})}),h(y(y(o)),"_getValue",function(e,t){var n=o.state.parameterInput;n[e]=t,o.setState({parameterInput:n})}),h(y(y(o)),"_getComment",function(e){o.setState({comment:e.target.value})}),h(y(y(o)),"_validateInput",function(){var a=o.state.parameterInput,e=o.props.contentPack.parameters.reduce(function(e,t){if(a[t.name]&&0<a[t.name].length)return e;var n=e;return n[t.name]="Needs to be filled.",n},{});return o.setState({errorMessages:e}),Object.keys(e).length<=0});var a=e.contentPack.parameters.reduce(function(e,t){if(t.default_value){var n=e;return n[t.name]=c.default.convertToString(t),n}return e},{});return o.state={parameterInput:a,comment:"",errorMessages:{}},o}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,o.default.Component),t=r,(n=[{key:"renderParameter",value:function(t){var n=this,e=this.state.errorMessages[t.name];return o.default.createElement(i.Input,{name:t.name,id:t.name,key:t.name,type:"text",maxLength:250,value:this.state.parameterInput[t.name]||"",onChange:function(e){n._getValue(t.name,e.target.value)},labelClassName:"col-sm-3",wrapperClassName:"col-sm-7",label:t.title,help:e||t.description,bsStyle:e?"error":void 0,required:!0})}},{key:"render",value:function(){var t=this,e=this.props.contentPack.parameters.map(function(e){return t.renderParameter(e)}),n=l.default.fromJSON(this.props.contentPack);return o.default.createElement("div",null,o.default.createElement(u.Row,null,o.default.createElement(u.Col,{smOffset:1,sm:10},o.default.createElement("h2",null,"Install comment"),o.default.createElement("br",null),o.default.createElement("br",null),o.default.createElement(i.Input,{name:"comment",id:"comment",type:"text",maxLength:512,value:this.state.comment,onChange:this._getComment,labelClassName:"col-sm-3",wrapperClassName:"col-sm-7",label:"Comment"}))),0<e.length&&o.default.createElement(u.Row,null,o.default.createElement(u.Col,{smOffset:1,sm:10},o.default.createElement("h2",null,"Configure Parameter"),o.default.createElement("br",null),o.default.createElement("br",null),e)),o.default.createElement(u.Row,null,o.default.createElement(u.Col,{smOffset:1,sm:10},o.default.createElement(f.default,{contentPack:n,readOnly:!0}))))}}])&&p(t.prototype,n),a&&p(t,a),r}();h(r,"propTypes",{contentPack:n.default.object.isRequired,onInstall:n.default.func}),h(r,"defaultProps",{onInstall:function(){}});var b=r;exports.default=b,e.exports=exports.default},"6va0yrcj":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var d=t("VPaD/Np4"),a=t("nHcjWeCO"),n=r(t("x7QKyhPE")),p=r(t("OI/ji6gQ"));function r(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var f=function(){function f(e,t,n,a,r,o,l,u,i,s){m(this,f);var c=s.map(function(e){return e.constructor.name===p.default.name?e:p.default.fromJSON(e,!1)});this._value={v:e,id:t,rev:n,name:a,summary:r,description:o,vendor:l,url:u,parameters:i,entities:c}}return l(f,[{key:"toBuilder",value:function(){var e=this._value,t=e.v,n=e.id,a=e.rev,r=e.name,o=e.summary,l=e.description,u=e.vendor,i=e.url,s=e.parameters,c=e.entities;return new v((0,d.Map)({v:t,id:n,rev:a,name:r,summary:o,description:l,vendor:u,url:i,parameters:s,entities:c}))}},{key:"toJSON",value:function(){var e=this._value;return{v:e.v,id:e.id,rev:e.rev,name:e.name,summary:e.summary,description:e.description,vendor:e.vendor,url:e.url,parameters:e.parameters,entities:e.entities.map(function(e){return e.toJSON()})}}},{key:"v",get:function(){return this._value.v}},{key:"id",get:function(){return this._value.id}},{key:"rev",get:function(){return this._value.rev}},{key:"name",get:function(){return this._value.name}},{key:"summary",get:function(){return this._value.summary}},{key:"description",get:function(){return this._value.description}},{key:"vendor",get:function(){return this._value.vendor}},{key:"url",get:function(){return this._value.url}},{key:"constraints",get:function(){return this._value.entities.reduce(function(e,t){return t.constraints.reduce(function(e,t){return e.add(t)},e)},(0,d.Set)())}},{key:"parameters",get:function(){return this._value.parameters}},{key:"entities",get:function(){return this._value.entities}}],[{key:"fromJSON",value:function(e){return new f(e.v,e.id,e.rev,e.name,e.summary,e.description,e.vendor,e.url,e.parameters,e.entities)}},{key:"builder",value:function(){return(new v).v(1).id((0,n.default)()).rev(1).name("").summary("").description("").vendor("").url("").parameters([]).entities([])}}]),f}();exports.default=f;var v=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,d.Map)();m(this,t),this.value=e}return l(t,[{key:"v",value:function(e){return this.value=this.value.set("v",e),this}},{key:"id",value:function(e){return this.value=this.value.set("id",e),this}},{key:"rev",value:function(e){return this.value=this.value.set("rev",e),this}},{key:"name",value:function(e){return this.value=this.value.set("name",e),this}},{key:"summary",value:function(e){return this.value=this.value.set("summary",e),this}},{key:"description",value:function(e){return this.value=this.value.set("description",e),this}},{key:"vendor",value:function(e){return this.value=this.value.set("vendor",e),this}},{key:"url",value:function(e){return this.value=this.value.set("url",e),this}},{key:"parameters",value:function(e){return this.value=this.value.set("parameters",e),this}},{key:"removeParameter",value:function(t){var e=this.value.get("parameters").slice(0);return(0,a.remove)(e,function(e){return e.name===t.name}),this.value=this.value.set("parameters",e),this}},{key:"addParameter",value:function(e){var t=this.value.get("parameters"),n=(0,a.concat)(t,e);return this.value=this.value.set("parameters",n),this}},{key:"entities",value:function(e){return this.value=this.value.set("entities",e),this}},{key:"build",value:function(){var e=this.value.toObject(),t=e.v,n=e.id,a=e.rev,r=e.name,o=e.summary,l=e.description,u=e.vendor,i=e.url,s=e.parameters,c=e.entities;return new f(t,n,a,r,o,l,u,i,s,c)}}]),t}();e.exports=exports.default},BRTNu10R:function(e,exports,t){var n=t("fBrdQ6EZ");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,a);n.locals&&(e.exports=n.locals)},W2phb0qW:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=a(t("ivGQtwpr")),l=a(t("8GJ6oOEd")),u=t("B4BR5PLd"),i=t("wMSvutaJ"),n=a(t("21p8kIWv")),s=a(t("BRTNu10R"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=n.default.get("ContentPacks").ContentPacksActions,r=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(a=d(r).call(this,e))||"object"!==c(a)&&"function"!=typeof a?m(n):a).state={isOpen:!1},t._openModal=t._openModal.bind(m(m(t))),t._closeModal=t._closeModal.bind(m(m(t))),t._save=t._save.bind(m(m(t))),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,o.default.Component),t=r,(n=[{key:"_openModal",value:function(){this.setState({isOpen:!0}),this.uploadModal.open()}},{key:"_closeModal",value:function(){this.uploadModal.close()}},{key:"_save",value:function(e){if(e.preventDefault(),this.uploadInput.getInputDOMNode().files&&this.uploadInput.getInputDOMNode().files[0]){var t=new FileReader;t.onload=function(e){var t=e.target.result;v.create.triggerPromise(t).then(function(){l.default.success("Content pack imported successfully","Success!"),v.list()},function(e){var t="";e.additional&&e.additional.body&&e.additional.body.message&&(t="<br /><small>".concat(e.additional.body.message,"</small>")),l.default.error("Error importing content pack, please ensure it is a valid JSON file. Check your Graylog logs for more information."+t,"Could not import content pack")})},t.readAsText(this.uploadInput.getInputDOMNode().files[0]),this._closeModal()}}},{key:"render",value:function(){var t=this;return o.default.createElement("span",null,o.default.createElement(i.Button,{className:s.default.button,active:this.state.isOpen,id:"upload-content-pack-button",bsStyle:"success",onClick:this._openModal},"Upload"),o.default.createElement(u.BootstrapModalForm,{onModalClose:function(){t.setState({isOpen:!1})},ref:function(e){t.uploadModal=e},onSubmitForm:this._save,title:"Upload Content Pack",submitButtonText:"Upload"},o.default.createElement(u.Input,{ref:function(e){t.uploadInput=e},id:"upload-content-pack",label:"Choose File",type:"file",help:"Choose Content Pack from disk"})))}}])&&f(t.prototype,n),a&&f(t,a),r}();exports.default=r,e.exports=exports.default},WnWJfjhl:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=p(t("ivGQtwpr")),a=p(t("4KF7VOU5")),r=p(t("PcYM+wZ7")),o=p(t("W+sNG9T1")),l=p(t("fQFnrO3i")),u=t("wMSvutaJ"),i=t("wkvtUUMm"),s=p(t("8GJ6oOEd")),c=t("oBIKikY9"),f=p(t("zICFvix8")),d=p(t("W2phb0qW"));function p(e){return e&&e.__esModule?e:{default:e}}var m=p(t("21p8kIWv")).default.get("ContentPacks"),v=m.ContentPacksActions,y=m.ContentPacksStore,h=(0,r.default)({displayName:"ContentPacksPage",mixins:[a.default.connect(y)],componentDidMount:function(){v.list()},_deleteContentPack:function(e){window.confirm("You are about to delete this content pack, are you sure?")&&v.delete(e).then(function(){s.default.success("Content Pack deleted successfully.","Success"),v.list()},function(e){var t=e.message,n=e.additional.body;n&&n.message&&(t=e.additional.body.message),s.default.error("Deleting bundle failed: ".concat(t),"Error")})},_installContentPack:function(t,e,n){v.install(t,e,n).then(function(){s.default.success("Content Pack installed successfully.","Success")},function(e){s.default.error("Installing content pack failed with status: ".concat(e,".\n         Could not install content pack with ID: ").concat(t))})},render:function(){return this.state.contentPacks?n.default.createElement(c.DocumentTitle,{title:"Content packs"},n.default.createElement("span",null,n.default.createElement(c.PageHeader,{title:"Content packs"},n.default.createElement("span",null,"Content packs accelerate the set up process for a specific data source. A content pack can include inputs/extractors, streams, and dashboards."),n.default.createElement("span",null,"Find more content packs in "," ",n.default.createElement("a",{href:"https://marketplace.graylog.org/",target:"_blank",rel:"noopener noreferrer"},"the Graylog Marketplace"),"."),n.default.createElement(u.ButtonToolbar,null,n.default.createElement(d.default,null),n.default.createElement(i.LinkContainer,{to:o.default.SYSTEM.CONTENTPACKS.CREATE},n.default.createElement(u.Button,{bsStyle:"success"},"Create a content pack")),n.default.createElement(u.Button,{bsStyle:"info",active:!0},"Content Packs"))),n.default.createElement(u.Row,{className:"content"},n.default.createElement(u.Col,{md:12},n.default.createElement("div",{id:"react-configuration-bundles"},n.default.createElement(f.default,{contentPacks:this.state.contentPacks,contentPackMetadata:this.state.contentPackMetadata,onDeletePack:this._deleteContentPack,onInstall:this._installContentPack})))))):n.default.createElement(l.default,null)}});exports.default=h,e.exports=exports.default},fBrdQ6EZ:function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,".btn._1lHcsjdTUeD_rpGpQDAKF4{margin-left:5px}",""]),exports.locals={button:"_1lHcsjdTUeD_rpGpQDAKF4"}},gGKLWq6g:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),o=a(t("ivGQtwpr")),l=a(t("oCSEoDew")),u=a(t("QlBQbb2U")),i=t("wMSvutaJ"),s=a(t("4ysf/eyx")),c=a(t("GZfD0NTG"));function a(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var r,y,h,b=a(t("1VnJesae")).default.getStore("Session"),k=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(a=p(r).call(this,e))||"object"!==f(a)&&"function"!=typeof a?v(n):a)._closeModal=t._closeModal.bind(v(v(t))),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,o.default.Component),t=r,(n=[{key:"_getDownloadUrl",value:function(){var e=new l.default(c.default.qualifyUrl(u.default.ContentPacksController.downloadRev(this.props.contentPackId,this.props.revision).url));return c.default.areCredentialsInURLSupported()&&e.username(b.getSessionId()).password("session"),e.toString()}},{key:"_closeModal",value:function(){this.downloadModal.close()}},{key:"open",value:function(){this.downloadModal.open()}},{key:"render",value:function(){var t=this,e=c.default.areCredentialsInURLSupported()?'Please right click the download link below and choose "Save Link As..." to download the JSON file.':"Please click the download link below. Your browser may ask for your username and password to download the JSON file.";return o.default.createElement(s.default,{ref:function(e){t.downloadModal=e},bsSize:"large"},o.default.createElement(i.Modal.Header,{closeButton:!0},o.default.createElement(i.Modal.Title,null,"Export search results as CSV")),o.default.createElement(i.Modal.Body,null,o.default.createElement("p",null,e),o.default.createElement("p",null,o.default.createElement("a",{href:this._getDownloadUrl(),target:"_blank"},o.default.createElement("i",{className:"fa fa-cloud-download"}),"  Download"))),o.default.createElement(i.Modal.Footer,null,o.default.createElement(i.Button,{onClick:this._closeModal},"Close")))}}])&&d(t.prototype,n),a&&d(t,a),r}();r=k,y="propTypes",h={contentPackId:n.default.string.isRequired,revision:n.default.number.isRequired},y in r?Object.defineProperty(r,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):r[y]=h;var g=k;exports.default=g,e.exports=exports.default},jsXbfUoq:function(e,exports){for(var r=[],t=0;t<256;++t)r[t]=(t+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}},"lCCt4+pI":function(e,exports,t){var n=t("+0f1RKjr");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,a);n.locals&&(e.exports=n.locals)},n0MLhWIl:function(e,exports){var t="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},x7QKyhPE:function(e,exports,t){var l=t("n0MLhWIl"),u=t("jsXbfUoq");e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[a+o]=r[o];return t||u(r)}},zICFvix8:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),c=a(t("ivGQtwpr")),f=a(t("W+sNG9T1")),d=t("ZX4j5H1r"),p=t("wMSvutaJ"),m=t("wkvtUUMm"),o=a(t("GpisRHnY")),l=a(t("4ysf/eyx")),v=a(t("tDfFS9EH")),y=a(t("vOk07b5h")),h=a(t("gGKLWq6g")),u=a(t("lCCt4+pI")),i=a(t("+ETkxDhY"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,_(E(E(t=!(a=k(r).call(this,e))||"object"!==s(a)&&"function"!=typeof a?E(n):a)),"MAX_PAGE_BUTTONS",10),t.state={filteredContentPacks:t.props.contentPacks,pageSize:10,currentPage:1},t._filterContentPacks=t._filterContentPacks.bind(E(E(t))),t._itemsShownChange=t._itemsShownChange.bind(E(E(t))),t._onChangePage=t._onChangePage.bind(E(E(t))),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,c.default.Component),t=r,(n=[{key:"componentWillReceiveProps",value:function(e){this.setState({filteredContentPacks:e.contentPacks})}},{key:"_installModal",value:function(e){var t,n;return{openFunc:function(){t.open()},installModal:c.default.createElement(l.default,{ref:function(e){t=e},bsSize:"large"},c.default.createElement(p.Modal.Header,{closeButton:!0},c.default.createElement(p.Modal.Title,null,"Install")),c.default.createElement(p.Modal.Body,null,c.default.createElement(i.default,{ref:function(e){n=e},contentPack:e,onInstall:this.props.onInstall})),c.default.createElement(p.Modal.Footer,null,c.default.createElement("div",{className:"pull-right"},c.default.createElement(p.ButtonToolbar,null,c.default.createElement(p.Button,{bsStyle:"primary",onClick:function(){n.onInstall(),t.close()}},"Install"),c.default.createElement(p.Button,{onClick:function(){t.close()}},"Close")))))}}},{key:"_formatItems",value:function(e){var s=this,t=this.state.pageSize*(this.state.currentPage-1),n=t+this.state.pageSize;return e.slice(t,n).map(function(e){var t,n=s._installModal(e),a=n.openFunc,r=n.installModal,o=c.default.createElement(h.default,{ref:function(e){t=e},contentPackId:e.id,revision:e.rev}),l=s.props.contentPackMetadata[e.id]||{},u=Object.keys(l).find(function(e){return 0<l[e].installation_count})?["installed"]:[],i=u.includes("updatable")?c.default.createElement(p.Button,{bsSize:"small",bsStyle:"primary"},"Update"):"";return c.default.createElement(v.default.Item,{key:e.id},c.default.createElement(p.Row,{className:"row-sm"},c.default.createElement(p.Col,{md:9},c.default.createElement("h3",null,c.default.createElement(d.Link,{to:f.default.SYSTEM.CONTENTPACKS.show(e.id)},e.name)," ",c.default.createElement("small",null,"Latest Version: ",e.rev," ",c.default.createElement(y.default,{contentPackId:e.id,states:u})," "))),c.default.createElement(p.Col,{md:3,className:"text-right"},i," ",c.default.createElement(p.Button,{bsStyle:"info",bsSize:"small",onClick:a},"Install"),r," ",c.default.createElement(p.DropdownButton,{id:"more-actions-".concat(e.id),title:"More Actions",bsSize:"small",pullRight:!0},c.default.createElement(p.MenuItem,{onSelect:function(){s.props.onDeletePack(e.id)}},"Delete All Versions"),c.default.createElement(m.LinkContainer,{to:f.default.SYSTEM.CONTENTPACKS.edit(encodeURIComponent(e.id),encodeURIComponent(e.rev))},c.default.createElement(p.MenuItem,null,"Create New Version")),c.default.createElement(p.MenuItem,{onSelect:function(){t.open()}},"Download")),o)),c.default.createElement(p.Row,{className:"row-sm content-packs-summary"},c.default.createElement(p.Col,{md:12},e.summary," ")))})}},{key:"_filterContentPacks",value:function(e){this.setState({filteredContentPacks:e})}},{key:"_itemsShownChange",value:function(e){this.setState({pageSize:e.target.value})}},{key:"_onChangePage",value:function(e,t){t.preventDefault();var n=Number(e);this.setState({currentPage:n})}},{key:"render",value:function(){var e=Math.ceil(this.state.filteredContentPacks.length/this.state.pageSize),t=c.default.createElement(p.Pagination,{bsSize:"small",bsStyle:"pagination ".concat(u.default.pager),items:e,maxButtons:this.MAX_PAGE_BUTTONS,activePage:this.state.currentPage,onSelect:this._onChangePage,prev:!0,next:!0,first:!0,last:!0}),n=c.default.createElement("span",null,"Show: ",c.default.createElement("select",{onChange:this._itemsShownChange,value:this.state.pageSize},c.default.createElement("option",null,"10"),c.default.createElement("option",null,"25"),c.default.createElement("option",null,"50"),c.default.createElement("option",null,"100"))),a=this.props.contentPacks.length<=0?"No content packs found. Please create or upload one":"No matching content packs found",r=this.state.filteredContentPacks.length<=0?c.default.createElement("div",null,a):c.default.createElement(v.default,null,c.default.createElement(v.default.Header,null),this._formatItems(this.state.filteredContentPacks));return c.default.createElement("div",null,c.default.createElement(p.Row,{className:"row-sm"},c.default.createElement(p.Col,{md:5},c.default.createElement(o.default,{id:"content-packs-filter",label:"Filter",data:this.props.contentPacks,displayKey:"name",onDataFiltered:this._filterContentPacks,searchInKeys:["name","summary"],filterSuggestions:[]})),c.default.createElement(p.Col,{md:5},t),c.default.createElement(p.Col,{md:2,className:"text-right"},n)),r,c.default.createElement(p.Row,{className:"row-sm"},c.default.createElement(p.Col,{md:5}),c.default.createElement(p.Col,{md:5},t),c.default.createElement(p.Col,{md:2,className:"text-right"},n)))}}])&&b(t.prototype,n),a&&b(t,a),r}();_(r,"propTypes",{contentPacks:n.default.arrayOf(n.default.object),contentPackMetadata:n.default.object,onDeletePack:n.default.func,onInstall:n.default.func}),_(r,"defaultProps",{contentPacks:[],onDeletePack:function(){},onInstall:function(){},contentPackMetadata:{}});var P=r;exports.default=P,e.exports=exports.default}}]);