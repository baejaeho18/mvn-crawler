(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-54"],{"7iHR8x8p":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=s(t("ii0bleBb")),u=s(t("ivGQtwpr")),l=s(t("PcYM+wZ7")),n=s(t("4KF7VOU5")),c=t("wkvtUUMm"),f=t("wMSvutaJ"),m=t("oBIKikY9"),p=t("7NKO1ghU"),h=s(t("QDVhqBhn")),i=s(t("8GJ6oOEd")),v=s(t("W+sNG9T1")),r=s(t("21p8kIWv")),g=s(t("aIi6QtTg"));function s(e){return e&&e.__esModule?e:{default:e}}var o=r.default.get("Alerts"),d=o.AlertsStore,E=o.AlertsActions,b=r.default.get("AlertConditions"),_=b.AlertConditionsStore,w=b.AlertConditionsActions,T=r.default.get("Streams").StreamsStore,S=(0,l.default)({displayName:"ShowAlertPage",propTypes:{params:a.default.object.isRequired},mixins:[n.default.connect(d),n.default.connect(_)],getInitialState:function(){return{stream:void 0}},componentDidMount:function(){this._loadData()},componentDidUpdate:function(e,t){t.alert!==this.state.alert&&this._loadAlertDetails(this.state.alert)},_loadData:function(){w.available(),E.get(this.props.params.alertId)},_loadAlertDetails:function(t){var a=this;T.get(t.stream_id,function(e){a.setState({stream:e})}),w.get(t.stream_id,t.condition_id,function(e){e.additional&&404===e.additional.status?a.setState({alertCondition:{}}):i.default.error("Fetching alert condition ".concat(t.condition_id," failed with status: ").concat(e),"Could not get alert condition information")})},_isLoading:function(){return!(this.state.alert&&this.state.alertCondition&&this.state.availableConditions&&this.state.stream)},render:function(){if(this._isLoading())return u.default.createElement(m.Spinner,null);var e,t,a=this.state.alert,l=this.state.alertCondition,n=0<Object.keys(l).length,i=this.state.availableConditions[l.type]||{},r=this.state.stream;if(!a.is_interval||a.resolved_at){e=u.default.createElement(f.Label,{bsStyle:"success"},"Resolved");var s=a.resolved_at||a.triggered_at;s&&(t=u.default.createElement("span",null,"This alert was resolved at ",u.default.createElement(m.Timestamp,{dateTime:s,format:h.default.Formats.DATETIME}),"."))}else e=u.default.createElement(f.Label,{bsStyle:"danger"},"Unresolved"),t=u.default.createElement("span",null,"This alert was triggered at"," ",u.default.createElement(m.Timestamp,{dateTime:a.triggered_at,format:h.default.Formats.DATETIME})," ","and is still unresolved.");var o=u.default.createElement("span",null,n?l.title||"Untitled alert":"Unknown alert"," ",u.default.createElement("small",null,"on stream ",u.default.createElement("em",null,r.title)," ",u.default.createElement("span",{className:g.default.alertStatusLabel},e))),d=u.default.createElement(f.Tooltip,{id:"disabled-condition-details"},"The condition was most likely deleted since the alert was triggered, no details available.");return u.default.createElement(m.DocumentTitle,{title:"".concat(n?l.title||"Untitled alert":"Unknown alert"," on stream ").concat(r.title)},u.default.createElement("div",null,u.default.createElement(m.PageHeader,{title:o},u.default.createElement("span",null,"Check the timeline of this alert, including the notifications sent, and messages received during the alert."),u.default.createElement("span",null,t),u.default.createElement("span",null,u.default.createElement(f.ButtonToolbar,null,u.default.createElement(c.LinkContainer,{to:v.default.ALERTS.LIST},u.default.createElement(f.Button,{bsStyle:"info",className:"active"},"Alerts")),u.default.createElement(m.OverlayElement,{overlay:d,placement:"top",useOverlay:!l.id,trigger:["hover","focus"]},u.default.createElement(c.LinkContainer,{to:v.default.show_alert_condition(r.id,l.id),disabled:!l.id},u.default.createElement(f.Button,{bsStyle:"info"},"Condition details")))))),u.default.createElement(p.AlertDetails,{alert:a,condition:n&&l,conditionType:i,stream:r})))}});exports.default=S,e.exports=exports.default},Rqn5u6aK:function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._3qUqsNh0EsjXCcw9GgrMdk{font-size:85%}",""]),exports.locals={alertStatusLabel:"_3qUqsNh0EsjXCcw9GgrMdk"}},aIi6QtTg:function(e,exports,t){var a=t("Rqn5u6aK");"string"==typeof a&&(a=[[e.i,a,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(a,l);a.locals&&(e.exports=a.locals)}}]);