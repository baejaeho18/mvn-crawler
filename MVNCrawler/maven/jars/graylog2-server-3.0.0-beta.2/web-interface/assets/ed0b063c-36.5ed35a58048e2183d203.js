(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-36"],{"8+4l2nFE":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"LoggerOverview",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"LoggingSubsystem",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"LogLevelDropdown",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"LogLevelMetrics",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"LogLevelMetricsOverview",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"NodeLoggers",{enumerable:!0,get:function(){return u.default}});var n=i(t("zmP8MxMY")),r=i(t("j0mboP4K")),o=i(t("AkG3BaP4")),l=i(t("CbpBNKoq")),a=i(t("wD36ZiM3")),u=i(t("kEuV8Oz4"));function i(e){return e&&e.__esModule?e:{default:e}}},AkG3BaP4:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(t("ii0bleBb")),l=i(t("ivGQtwpr")),r=i(t("PcYM+wZ7")),o=i(t("4KF7VOU5")),a=t("wMSvutaJ"),u=i(t("nHcjWeCO"));function i(e){return e&&e.__esModule?e:{default:e}}var s=i(t("21p8kIWv")).default.get("Loggers"),c=s.LoggersStore,d=s.LoggersActions,f=(0,r.default)({displayName:"LogLevelDropdown",propTypes:{name:n.default.string.isRequired,nodeId:n.default.string.isRequired,subsystem:n.default.object.isRequired},mixins:[o.default.connect(c)],_changeLoglevel:function(e){d.setSubsystemLoggerLevel(this.props.nodeId,this.props.name,e)},_menuLevelClick:function(t){var n=this;return function(e){e.preventDefault(),n._changeLoglevel(t)}},render:function(){var t=this,e=this.props,n=e.subsystem,r=e.nodeId,o=this.state.availableLoglevels.map(function(e){return l.default.createElement(a.MenuItem,{key:"".concat(n,"-").concat(r,"-").concat(e),active:n.level===e,onClick:t._menuLevelClick(e)},u.default.capitalize(e))});return l.default.createElement(a.DropdownButton,{id:"loglevel",bsSize:"xsmall",title:u.default.capitalize(n.level)},o)}});exports.default=f,e.exports=exports.default},CbpBNKoq:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=l(t("ii0bleBb")),a=l(t("ivGQtwpr")),r=l(t("PcYM+wZ7")),o=l(t("4KF7VOU5")),u=t("wMSvutaJ"),i=l(t("nHcjWeCO")),s=l(t("9pdI12pI")),c=t("oBIKikY9");function l(e){return e&&e.__esModule?e:{default:e}}var d=l(t("21p8kIWv")).default.get("Metrics"),f=d.MetricsStore,m=d.MetricsActions,p=(0,r.default)({displayName:"LogLevelMetrics",propTypes:{nodeId:n.default.string.isRequired,loglevel:n.default.string.isRequired},mixins:[o.default.connect(f)],componentDidMount:function(){m.add(this.props.nodeId,this._metricName())},componentWillUnmount:function(){m.remove(this.props.nodeId,this._metricName())},_metricName:function(){return"org.apache.logging.log4j.core.Appender.".concat(this.props.loglevel)},render:function(){var e,t=this.props,n=t.loglevel,r=t.nodeId,o=this.state.metrics;if(o&&o[r]&&o[r][this._metricName()]){var l=o[r][this._metricName()].metric;e=a.default.createElement("dl",{className:"loglevel-metrics-list"},a.default.createElement("dt",null,"Total written:"),a.default.createElement("dd",null,a.default.createElement("span",{className:"loglevel-metric-total"},l.rate.total)),a.default.createElement("dt",null,"Mean rate:"),a.default.createElement("dd",null,a.default.createElement("span",{className:"loglevel-metric-mean"},(0,s.default)(l.rate.mean).format("0.00"))," / second"),a.default.createElement("dt",null,"1 min rate:"),a.default.createElement("dd",null,a.default.createElement("span",{className:"loglevel-metric-1min"},(0,s.default)(l.rate.one_minute).format("0.00"))," / second"))}else e=a.default.createElement(c.Spinner,null);return a.default.createElement("div",{className:"loglevel-metrics-row"},a.default.createElement(u.Col,{md:4},a.default.createElement("h3",{className:"u-light"},"Level: ",i.default.capitalize(n)),e))}});exports.default=p,e.exports=exports.default},ZGOok9d3:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,l=(n=t("ivGQtwpr"))&&n.__esModule?n:{default:n},a=t("oBIKikY9"),u=t("8+4l2nFE");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,l.default.Component),n=t,(r=[{key:"render",value:function(){return l.default.createElement(a.DocumentTitle,{title:"Logging"},l.default.createElement("span",null,l.default.createElement(a.PageHeader,{title:"Logging"},l.default.createElement("span",null,"This section controls logging of the Graylog architecture and allows you to change log levels on the fly. Note that log levels are reset to their defaults after you restart the affected service.")),l.default.createElement(u.LoggerOverview,null)))}}])&&i(n.prototype,r),o&&i(n,o),t}();exports.default=o,e.exports=exports.default},j0mboP4K:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(t("ii0bleBb")),l=r(t("ivGQtwpr")),a=t("wMSvutaJ"),u=r(t("nHcjWeCO")),i=t("8+4l2nFE");function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,p,g,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,l.default.Component),n=t,(r=[{key:"render",value:function(){return l.default.createElement("div",{className:"subsystem-row"},l.default.createElement(a.Col,{md:6,className:"subsystem",style:{marginBottom:"10px"}},l.default.createElement("h3",{className:"u-light"},"Subsystem: ",u.default.capitalize(this.props.name),l.default.createElement(a.ButtonGroup,{className:"pull-right"},l.default.createElement(i.LogLevelDropdown,{nodeId:this.props.nodeId,name:this.props.name,subsystem:this.props.subsystem}))),this.props.subsystem.description,l.default.createElement("br",{style:{clear:"both"}})))}}])&&s(n.prototype,r),o&&s(n,o),t}();m=v,p="propTypes",g={name:n.default.string.isRequired,nodeId:n.default.string.isRequired,subsystem:n.default.object.isRequired},p in m?Object.defineProperty(m,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[p]=g;var b=v;exports.default=b,e.exports=exports.default},kEuV8Oz4:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=d(t("ii0bleBb")),o=d(t("ivGQtwpr")),r=d(t("PcYM+wZ7")),l=d(t("4KF7VOU5")),a=t("wMSvutaJ"),u=t("oBIKikY9"),i=t("8+4l2nFE"),s=d(t("JBQWIv26")),c=d(t("1VnJesae"));function d(e){return e&&e.__esModule?e:{default:e}}var f=s.default.getActions("Metrics"),m=c.default.getStore("Metrics"),p=(0,r.default)({displayName:"NodeLoggers",propTypes:{nodeId:n.default.string.isRequired,subsystems:n.default.object.isRequired},mixins:[l.default.connect(m)],getInitialState:function(){return{showDetails:!1}},componentDidMount:function(){f.add(this.props.nodeId,this.metric_name)},componentWillUnmount:function(){f.remove(this.props.nodeId,this.metric_name)},metric_name:"org.apache.logging.log4j.core.Appender.all",_formatThroughput:function(){var e=this.state.metrics,t=this.props.nodeId;return e&&e[t]&&e[t][this.metric_name]?e[t][this.metric_name].metric.rate.total:"n/a"},render:function(){var t=this,n=this.props.nodeId,e=Object.keys(this.props.subsystems).map(function(e){return o.default.createElement(i.LoggingSubsystem,{name:e,nodeId:n,key:"logging-subsystem-".concat(n,"-").concat(e),subsystem:t.props.subsystems[e]})}),r=o.default.createElement(i.LogLevelMetricsOverview,{nodeId:this.props.nodeId});return o.default.createElement(a.Row,{className:"row-sm log-writing-node content"},o.default.createElement(a.Col,{md:12},o.default.createElement(u.IfPermitted,{permissions:"loggers:read"},o.default.createElement("div",{style:{marginBottom:"20"}},o.default.createElement("div",{className:"pull-right"},o.default.createElement(a.Button,{bsSize:"sm",bsStyle:"primary",className:"trigger-log-level-metrics",onClick:function(){return t.setState({showDetails:!t.state.showDetails})}},o.default.createElement("i",{className:"fa fa-dashboard"})," ",this.state.showDetails?"Hide":"Show"," log level metrics")),o.default.createElement("h2",null,o.default.createElement(u.LinkToNode,{nodeId:n}),o.default.createElement("span",{style:{fontSize:"12px"}}," Has written a total of ",o.default.createElement("strong",null,this._formatThroughput()," internal log messages.")))),o.default.createElement("div",{className:"subsystems"},e),this.state.showDetails&&r)))}});exports.default=p,e.exports=exports.default},wD36ZiM3:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(t("ii0bleBb")),r=i(t("ivGQtwpr")),o=i(t("PcYM+wZ7")),l=i(t("4KF7VOU5")),a=i(t("1VnJesae")),u=t("8+4l2nFE");function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.getStore("Loggers"),c=(0,o.default)({displayName:"LogLevelMetricsOverview",propTypes:{nodeId:n.default.string.isRequired},mixins:[l.default.connect(s)],render:function(){var t=this.props.nodeId,e=this.state.availableLoglevels.map(function(e){return r.default.createElement(u.LogLevelMetrics,{key:"loglevel-metrics-".concat(t,"-").concat(e),nodeId:t,loglevel:e})});return r.default.createElement("div",{className:"loglevel-metrics"},e)}});exports.default=c,e.exports=exports.default},zmP8MxMY:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=u(t("ivGQtwpr")),r=u(t("PcYM+wZ7")),o=u(t("4KF7VOU5")),l=t("oBIKikY9"),a=t("8+4l2nFE");function u(e){return e&&e.__esModule?e:{default:e}}var i=u(t("1VnJesae")).default.getStore("Loggers"),s=(0,r.default)({displayName:"LoggerOverview",mixins:[o.default.connect(i)],render:function(){if(!this.state.loggers||!this.state.subsystems)return n.default.createElement(l.Spinner,null);var t=this.state.subsystems,e=Object.keys(this.state.loggers).map(function(e){return n.default.createElement(a.NodeLoggers,{key:"node-loggers-".concat(e),nodeId:e,subsystems:t[e]?t[e].subsystems:{}})});return n.default.createElement("span",null,e)}});exports.default=s,e.exports=exports.default}}]);