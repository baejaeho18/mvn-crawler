(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-30"],{"+ETkxDhY":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),l=a(t("ivGQtwpr")),o=a(t("6va0yrcj")),u=t("wMSvutaJ"),i=t("B4BR5PLd"),s=a(t("MoBBiZo1")),c=a(t("be3FFHWQ")),f=a(t("mvLrBbmL"));function a(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(e){function r(e){var l,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,n=p(r).call(this,e),h(y(y(l=!n||"object"!==d(n)&&"function"!=typeof n?y(t):n)),"onInstall",function(){if(l._validateInput()){var e=l.props.contentPack.id,t=l.props.contentPack.rev,n=l._convertedParameters();l.props.onInstall(e,t,{parameters:n,comment:l.state.comment})}}),h(y(y(l)),"_convertedParameters",function(){return Object.keys(l.state.parameterInput).reduce(function(e,t){var n=e,a=l.props.contentPack.parameters.find(function(e){return e.name===t}).type,r=c.default.convertValue(a,l.state.parameterInput[t]);return n[t]=s.default.createValueRef(a,r),n},{})}),h(y(y(l)),"_getValue",function(e,t){var n=l.state.parameterInput;n[e]=t,l.setState({parameterInput:n})}),h(y(y(l)),"_getComment",function(e){l.setState({comment:e.target.value})}),h(y(y(l)),"_validateInput",function(){var a=l.state.parameterInput,e=l.props.contentPack.parameters.reduce(function(e,t){if(a[t.name]&&0<a[t.name].length)return e;var n=e;return n[t.name]="Needs to be filled.",n},{});return l.setState({errorMessages:e}),Object.keys(e).length<=0});var a=e.contentPack.parameters.reduce(function(e,t){if(t.default_value){var n=e;return n[t.name]=c.default.convertToString(t),n}return e},{});return l.state={parameterInput:a,comment:"",errorMessages:{}},l}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,l.default.Component),t=r,(n=[{key:"renderParameter",value:function(t){var n=this,e=this.state.errorMessages[t.name];return l.default.createElement(i.Input,{name:t.name,id:t.name,key:t.name,type:"text",maxLength:250,value:this.state.parameterInput[t.name]||"",onChange:function(e){n._getValue(t.name,e.target.value)},labelClassName:"col-sm-3",wrapperClassName:"col-sm-7",label:t.title,help:e||t.description,bsStyle:e?"error":void 0,required:!0})}},{key:"render",value:function(){var t=this,e=this.props.contentPack.parameters.map(function(e){return t.renderParameter(e)}),n=o.default.fromJSON(this.props.contentPack);return l.default.createElement("div",null,l.default.createElement(u.Row,null,l.default.createElement(u.Col,{smOffset:1,sm:10},l.default.createElement("h2",null,"Install comment"),l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement(i.Input,{name:"comment",id:"comment",type:"text",maxLength:512,value:this.state.comment,onChange:this._getComment,labelClassName:"col-sm-3",wrapperClassName:"col-sm-7",label:"Comment"}))),0<e.length&&l.default.createElement(u.Row,null,l.default.createElement(u.Col,{smOffset:1,sm:10},l.default.createElement("h2",null,"Configure Parameter"),l.default.createElement("br",null),l.default.createElement("br",null),e)),l.default.createElement(u.Row,null,l.default.createElement(u.Col,{smOffset:1,sm:10},l.default.createElement(f.default,{contentPack:n,readOnly:!0}))))}}])&&m(t.prototype,n),a&&m(t,a),r}();h(r,"propTypes",{contentPack:n.default.object.isRequired,onInstall:n.default.func}),h(r,"defaultProps",{onInstall:function(){}});var b=r;exports.default=b,e.exports=exports.default},"0PRSvES8":function(e,exports,t){(e.exports=t("wTjlWjHz")(!1)).push([e.i,"#content-packs-versions{overflow-x:visible}",""])},"4+GaBDvs":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),u=a(t("ivGQtwpr")),i=a(t("W+sNG9T1")),r=t("oBIKikY9"),s=t("wMSvutaJ"),c=t("wkvtUUMm"),o=a(t("4ysf/eyx")),f=a(t("gGKLWq6g")),d=a(t("+ETkxDhY"));function a(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t("Aj9m3p1i");var l=function(e){function l(e){var t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=this,b(h(h(t=!(a=v(l).call(this,e))||"object"!==m(a)&&"function"!=typeof a?h(n):a)),"headerFormatter",function(e){return"Action"===e?u.default.createElement("th",{className:"text-right"},e):u.default.createElement("th",null,e)});var r=t.props.contentPackRevisions;return t.state={selectedVersion:r.latestRevision},t.onChange=t.onChange.bind(h(h(t))),t.rowFormatter=t.rowFormatter.bind(h(h(t))),t.headerFormatter=t.headerFormatter.bind(h(h(t))),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,u.default.Component),t=l,(n=[{key:"onChange",value:function(e){this.setState({selectedVersion:e.target.value}),this.props.onChange(e.target.value)}},{key:"_installModal",value:function(e){var t,n;return{openFunc:function(){t.open()},installModal:u.default.createElement(o.default,{ref:function(e){t=e},bsSize:"large"},u.default.createElement(s.Modal.Header,{closeButton:!0},u.default.createElement(s.Modal.Title,null,"Install")),u.default.createElement(s.Modal.Body,null,u.default.createElement(d.default,{ref:function(e){n=e},contentPack:e,onInstall:this.props.onInstall})),u.default.createElement(s.Modal.Footer,null,u.default.createElement("div",{className:"pull-right"},u.default.createElement(s.ButtonToolbar,null,u.default.createElement(s.Button,{bsStyle:"primary",onClick:function(){n.onInstall(),t.close()}},"Install"),u.default.createElement(s.Button,{onClick:function(){t.close()}},"Close")))))}}},{key:"rowFormatter",value:function(e){var t,n=this,a=this._installModal(e),r=a.openFunc,l=a.installModal,o=u.default.createElement(f.default,{ref:function(e){t=e},contentPackId:e.id,revision:e.rev});return u.default.createElement("tr",{key:e.id+e.rev},u.default.createElement("td",null,u.default.createElement("input",{type:"radio",value:e.rev,onChange:this.onChange,checked:parseInt(this.state.selectedVersion,10)===e.rev})),u.default.createElement("td",null,e.rev),u.default.createElement("td",{className:"text-right"},u.default.createElement(s.ButtonToolbar,{className:"pull-right"},u.default.createElement(s.Button,{bsStyle:"success",bsSize:"small",onClick:function(){t.open()}},"Download"),u.default.createElement(s.DropdownButton,{id:"action-".concat(e.rev),bsStyle:"info",title:"Actions",bsSize:"small"},u.default.createElement(c.LinkContainer,{to:i.default.SYSTEM.CONTENTPACKS.edit(encodeURIComponent(e.id),encodeURIComponent(e.rev))},u.default.createElement(s.MenuItem,null,"Create New From Revision")),u.default.createElement(s.MenuItem,{onClick:r},"Install"),u.default.createElement(s.MenuItem,{divider:!0}),u.default.createElement(s.MenuItem,{onClick:function(){n.props.onDeletePack(e.id,e.rev)}},"Delete"),l))),o)}},{key:"render",value:function(){var e=this.props.contentPackRevisions.contentPacks;return u.default.createElement(r.DataTable,{id:"content-packs-versions",headers:["Select","Revision","Action"],headerCellFormatter:this.headerFormatter,sortBy:function(e){return e.rev.toString()},dataRowFormatter:this.rowFormatter,rows:e,filterKeys:[]})}}])&&p(t.prototype,n),a&&p(t,a),l}();b(l,"propTypes",{contentPackRevisions:n.default.object.isRequired,onChange:n.default.func,onDeletePack:n.default.func,onInstall:n.default.func}),b(l,"defaultProps",{onChange:function(){},onDeletePack:function(){},onInstall:function(){}});var E=l;exports.default=E,e.exports=exports.default},"6va0yrcj":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var d=t("VPaD/Np4"),a=t("nHcjWeCO"),n=r(t("x7QKyhPE")),m=r(t("OI/ji6gQ"));function r(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=function(){function f(e,t,n,a,r,l,o,u,i,s){p(this,f);var c=s.map(function(e){return e.constructor.name===m.default.name?e:m.default.fromJSON(e,!1)});this._value={v:e,id:t,rev:n,name:a,summary:r,description:l,vendor:o,url:u,parameters:i,entities:c}}return o(f,[{key:"toBuilder",value:function(){var e=this._value,t=e.v,n=e.id,a=e.rev,r=e.name,l=e.summary,o=e.description,u=e.vendor,i=e.url,s=e.parameters,c=e.entities;return new v((0,d.Map)({v:t,id:n,rev:a,name:r,summary:l,description:o,vendor:u,url:i,parameters:s,entities:c}))}},{key:"toJSON",value:function(){var e=this._value;return{v:e.v,id:e.id,rev:e.rev,name:e.name,summary:e.summary,description:e.description,vendor:e.vendor,url:e.url,parameters:e.parameters,entities:e.entities.map(function(e){return e.toJSON()})}}},{key:"v",get:function(){return this._value.v}},{key:"id",get:function(){return this._value.id}},{key:"rev",get:function(){return this._value.rev}},{key:"name",get:function(){return this._value.name}},{key:"summary",get:function(){return this._value.summary}},{key:"description",get:function(){return this._value.description}},{key:"vendor",get:function(){return this._value.vendor}},{key:"url",get:function(){return this._value.url}},{key:"constraints",get:function(){return this._value.entities.reduce(function(e,t){return t.constraints.reduce(function(e,t){return e.add(t)},e)},(0,d.Set)())}},{key:"parameters",get:function(){return this._value.parameters}},{key:"entities",get:function(){return this._value.entities}}],[{key:"fromJSON",value:function(e){return new f(e.v,e.id,e.rev,e.name,e.summary,e.description,e.vendor,e.url,e.parameters,e.entities)}},{key:"builder",value:function(){return(new v).v(1).id((0,n.default)()).rev(1).name("").summary("").description("").vendor("").url("").parameters([]).entities([])}}]),f}();exports.default=f;var v=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,d.Map)();p(this,t),this.value=e}return o(t,[{key:"v",value:function(e){return this.value=this.value.set("v",e),this}},{key:"id",value:function(e){return this.value=this.value.set("id",e),this}},{key:"rev",value:function(e){return this.value=this.value.set("rev",e),this}},{key:"name",value:function(e){return this.value=this.value.set("name",e),this}},{key:"summary",value:function(e){return this.value=this.value.set("summary",e),this}},{key:"description",value:function(e){return this.value=this.value.set("description",e),this}},{key:"vendor",value:function(e){return this.value=this.value.set("vendor",e),this}},{key:"url",value:function(e){return this.value=this.value.set("url",e),this}},{key:"parameters",value:function(e){return this.value=this.value.set("parameters",e),this}},{key:"removeParameter",value:function(t){var e=this.value.get("parameters").slice(0);return(0,a.remove)(e,function(e){return e.name===t.name}),this.value=this.value.set("parameters",e),this}},{key:"addParameter",value:function(e){var t=this.value.get("parameters"),n=(0,a.concat)(t,e);return this.value=this.value.set("parameters",n),this}},{key:"entities",value:function(e){return this.value=this.value.set("entities",e),this}},{key:"build",value:function(){var e=this.value.toObject(),t=e.v,n=e.id,a=e.rev,r=e.name,l=e.summary,o=e.description,u=e.vendor,i=e.url,s=e.parameters,c=e.entities;return new f(t,n,a,r,l,o,u,i,s,c)}}]),t}();e.exports=exports.default},"8iaZcIp8":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(t("ii0bleBb")),a=o(t("ivGQtwpr")),r=o(t("fQFnrO3i")),l=t("oBIKikY9");function o(e){return e&&e.__esModule?e:{default:e}}t("uOpOpwIL");var u=function(e){var t=e.uninstall?"Entites to be uninstalled":"Installed Entities";return e.entities?a.default.createElement("div",null,a.default.createElement("h3",null,t),a.default.createElement(l.DataTable,{id:"installed-entities",headers:["Title","Type"],sortByKey:"title",dataRowFormatter:function(e){return a.default.createElement("tr",null,a.default.createElement("td",null,e.title),a.default.createElement("td",null,e.type.name))},rows:e.entities,filterKeys:[]})):a.default.createElement(r.default,null)};u.propTypes={entities:n.default.array,uninstall:n.default.bool},u.defaultProps={entities:void 0,uninstall:!1};var i=u;exports.default=i,e.exports=exports.default},Aj9m3p1i:function(e,exports,t){var n=t("0PRSvES8");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,a);n.locals&&(e.exports=n.locals)},B0mju98L:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),r=a(t("ivGQtwpr")),l=t("wMSvutaJ"),o=t("oBIKikY9"),u=a(t("QDVhqBhn"));t("uOpOpwIL");var i=a(t("8iaZcIp8"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.install.comment,n=e.install.created_at,a=e.install.created_by;return r.default.createElement("div",null,r.default.createElement(l.Row,null,r.default.createElement(l.Col,{smOffset:1,sm:10},r.default.createElement("h3",null,"General information"),r.default.createElement("dl",{className:"deflist"},r.default.createElement("dt",null,"Comment:"),r.default.createElement("dd",null,t),r.default.createElement("dt",null,"Installed by:"),r.default.createElement("dd",null,a," "),r.default.createElement("dt",null,"Installed at:"),r.default.createElement("dd",null,r.default.createElement(o.Timestamp,{dateTime:n,format:u.default.Formats.COMPLETE,tz:"browser"}))))),r.default.createElement(l.Row,null,r.default.createElement(l.Col,{smOffset:1,sm:10},r.default.createElement(i.default,{entities:e.install.entities}))))};s.propTypes={install:n.default.object.isRequired};var c=s;exports.default=c,e.exports=exports.default},QznHVuof:function(e,exports,t){var n=t("VyWOGdZW");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,a);n.locals&&(e.exports=n.locals)},VyWOGdZW:function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._2tv64tb7N0ZtlkIZTxbUWW{margin-left:8px;margin-right:8px;padding-left:8px;padding-right:8px}",""]),exports.locals={leftRow:"_2tv64tb7N0ZtlkIZTxbUWW"}},fVJ3NovL:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),i=a(t("ivGQtwpr")),r=t("oBIKikY9"),s=t("wMSvutaJ"),c=a(t("4ysf/eyx")),l=a(t("fQFnrO3i")),f=a(t("B0mju98L"));function a(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function u(){var e,a,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=this,n=(e=m(u)).call.apply(e,[this].concat(l)),y(v(v(a=!n||"object"!==d(n)&&"function"!=typeof n?v(t):n)),"rowFormatter",function(e){var t,n=i.default.createElement(c.default,{ref:function(e){t=e},bsSize:"large"},i.default.createElement(s.Modal.Header,{closeButton:!0},i.default.createElement(s.Modal.Title,null,"View Installation")),i.default.createElement(s.Modal.Body,null,i.default.createElement(f.default,{install:e})),i.default.createElement(s.Modal.Footer,null,i.default.createElement(s.Button,{onClick:function(){t.close()}},"Close")));return i.default.createElement("tr",{key:e},i.default.createElement("td",null,e.comment),i.default.createElement("td",null,e.content_pack_revision),i.default.createElement("td",null,i.default.createElement("div",{className:"pull-right"},i.default.createElement(s.ButtonToolbar,null,i.default.createElement(s.Button,{bsStyle:"primary",bsSize:"small",onClick:function(){a.props.onUninstall(e.content_pack_id,e._id)}},"Uninstall"),i.default.createElement(s.Button,{bsStyle:"info",bsSize:"small",onClick:function(){t.open()}},"View"),n))))}),y(v(v(a)),"headerFormater",function(e){return"Action"===e?i.default.createElement("th",{className:"text-right"},e):i.default.createElement("th",null,e)}),a}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,i.default.Component),t=u,(n=[{key:"render",value:function(){if(!this.props.installations)return i.default.createElement(l.default,null);return i.default.createElement(r.DataTable,{id:"content-packs-versions",headers:["Comment","Version","Action"],headerCellFormatter:this.headerFormater,sortByKey:"comment",dataRowFormatter:this.rowFormatter,rows:this.props.installations,filterKeys:[]})}}])&&o(t.prototype,n),a&&o(t,a),u}();y(u,"propTypes",{installations:n.default.arrayOf(n.default.object),onUninstall:n.default.func}),y(u,"defaultProps",{installations:[],onUninstall:function(){}});var h=u;exports.default=h,e.exports=exports.default},gGKLWq6g:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),l=a(t("ivGQtwpr")),o=a(t("oCSEoDew")),u=a(t("QlBQbb2U")),i=t("wMSvutaJ"),s=a(t("4ysf/eyx")),c=a(t("GZfD0NTG"));function a(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var r,y,h,b=a(t("1VnJesae")).default.getStore("Session"),E=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(a=m(r).call(this,e))||"object"!==f(a)&&"function"!=typeof a?v(n):a)._closeModal=t._closeModal.bind(v(v(t))),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,l.default.Component),t=r,(n=[{key:"_getDownloadUrl",value:function(){var e=new o.default(c.default.qualifyUrl(u.default.ContentPacksController.downloadRev(this.props.contentPackId,this.props.revision).url));return c.default.areCredentialsInURLSupported()&&e.username(b.getSessionId()).password("session"),e.toString()}},{key:"_closeModal",value:function(){this.downloadModal.close()}},{key:"open",value:function(){this.downloadModal.open()}},{key:"render",value:function(){var t=this,e=c.default.areCredentialsInURLSupported()?'Please right click the download link below and choose "Save Link As..." to download the JSON file.':"Please click the download link below. Your browser may ask for your username and password to download the JSON file.";return l.default.createElement(s.default,{ref:function(e){t.downloadModal=e},bsSize:"large"},l.default.createElement(i.Modal.Header,{closeButton:!0},l.default.createElement(i.Modal.Title,null,"Export search results as CSV")),l.default.createElement(i.Modal.Body,null,l.default.createElement("p",null,e),l.default.createElement("p",null,l.default.createElement("a",{href:this._getDownloadUrl(),target:"_blank"},l.default.createElement("i",{className:"fa fa-cloud-download"}),"  Download"))),l.default.createElement(i.Modal.Footer,null,l.default.createElement(i.Button,{onClick:this._closeModal},"Close")))}}])&&d(t.prototype,n),a&&d(t,a),r}();r=E,y="propTypes",h={contentPackId:n.default.string.isRequired,revision:n.default.number.isRequired},y in r?Object.defineProperty(r,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):r[y]=h;var k=E;exports.default=k,e.exports=exports.default},jsXbfUoq:function(e,exports){for(var r=[],t=0;t<256;++t)r[t]=(t+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}},n0MLhWIl:function(e,exports){var t="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},x7QKyhPE:function(e,exports,t){var o=t("n0MLhWIl"),u=t("jsXbfUoq");e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var l=0;l<16;++l)t[a+l]=r[l];return t||u(r)}},zJHBZR2E:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=k(t("ivGQtwpr")),n=k(t("4KF7VOU5")),a=k(t("PcYM+wZ7")),r=k(t("ii0bleBb")),o=t("wMSvutaJ"),u=t("wkvtUUMm"),i=k(t("fQFnrO3i")),s=t("B4BR5PLd"),c=k(t("+CppQpVm")),f=k(t("W+sNG9T1")),d=k(t("8GJ6oOEd")),m=t("oBIKikY9"),p=k(t("84/cUDhd")),v=k(t("4+GaBDvs")),y=k(t("fVJ3NovL")),h=k(t("8iaZcIp8")),b=k(t("21p8kIWv")),E=k(t("QznHVuof"));function k(e){return e&&e.__esModule?e:{default:e}}var w=b.default.get("ContentPacks"),g=w.ContentPacksActions,_=w.ContentPacksStore,P=(0,a.default)({displayName:"ShowContentPackPage",propTypes:{params:r.default.object.isRequired},mixins:[n.default.connect(_)],getInitialState:function(){return{selectedVersion:void 0,uninstallEntities:void 0,uninstallContentPackId:void 0,uninstallInstallId:void 0}},componentDidMount:function(){var t=this;g.get(this.props.params.contentPackId).catch(function(e){404===e.status?d.default.error("Cannot find Content Pack with the id ".concat(t.props.params.contentPackId," and may have been deleted.")):d.default.error("An internal server error occurred. Please check your logfiles for more information"),c.default.push(f.default.SYSTEM.CONTENTPACKS.LIST)}),g.installList(this.props.params.contentPackId)},_onVersionChanged:function(e){this.setState({selectedVersion:e})},_deleteContentPackRev:function(e,t){window.confirm("You are about to delete this content pack revision, are you sure?")&&g.deleteRev(e,t).then(function(){d.default.success("Content pack revision deleted successfully.","Success"),g.get(e).catch(function(e){404!==e.status&&d.default.error("An internal server error occurred. Please check your logfiles for more information"),c.default.push(f.default.SYSTEM.CONTENTPACKS.LIST)})},function(e){var t=e.message;e.responseMessage&&(t=e.responseMessage),d.default.error("Deleting content pack failed: ".concat(t),"Error")})},_onUninstallContentPackRev:function(e,t){var n=this;g.uninstallDetails(e,t).then(function(e){n.setState({uninstallEntities:e.entities})}),this.setState({uninstallContentPackId:e,uninstallInstallId:t}),this.modal.open()},_clearUninstall:function(){this.setState({uninstallContentPackId:void 0,uninstallInstallId:void 0,uninstallEntities:void 0}),this.modal.close()},_uninstallContentPackRev:function(){var e=this,t=this.state.uninstallContentPackId;g.uninstall(this.state.uninstallContentPackId,this.state.uninstallInstallId).then(function(){d.default.success("Content Pack uninstalled successfully.","Success"),g.installList(t),e._clearUninstall()},function(){d.default.error("Uninstall content pack failed, please check your logs for more information.","Error")})},_installContentPack:function(t,e,n){g.install(t,e,n).then(function(){d.default.success("Content Pack installed successfully.","Success"),g.installList(t)},function(e){d.default.error("Installing content pack failed with status: ".concat(e,".\n         Could not install content pack with ID: ").concat(t))})},render:function(){var t=this;if(!this.state.contentPackRevisions)return l.default.createElement(i.default,null);var e=this.state,n=e.contentPackRevisions,a=e.selectedVersion,r=e.constraints;return l.default.createElement(m.DocumentTitle,{title:"Content packs"},l.default.createElement("span",null,l.default.createElement(m.PageHeader,{title:"Content packs"},l.default.createElement("span",null,"Content packs accelerate the set up process for a specific data source. A content pack can include inputs/extractors, streams, and dashboards."),l.default.createElement("span",null,"Find more content packs in "," ",l.default.createElement("a",{href:"https://marketplace.graylog.org/",target:"_blank",rel:"noopener noreferrer"},"the Graylog Marketplace"),"."),l.default.createElement(o.ButtonToolbar,null,l.default.createElement(u.LinkContainer,{to:f.default.SYSTEM.CONTENTPACKS.LIST},l.default.createElement(o.Button,{bsStyle:"info"},"Content Packs")))),l.default.createElement(o.Row,null,l.default.createElement(o.Col,{md:4,className:"content"},l.default.createElement("div",{id:"content-pack-versions"},l.default.createElement(o.Row,{className:E.default.leftRow},l.default.createElement(o.Col,null,l.default.createElement("h2",null,"Versions"),l.default.createElement(v.default,{contentPackRevisions:n,onInstall:this._installContentPack,onChange:this._onVersionChanged,onDeletePack:this._deleteContentPackRev}))),l.default.createElement(o.Row,{className:E.default.leftRow},l.default.createElement(o.Col,null,l.default.createElement("h2",null,"Installations"),l.default.createElement(y.default,{installations:this.state.installations,onUninstall:this._onUninstallContentPackRev}))))),l.default.createElement(o.Col,{md:8,className:"content"},l.default.createElement(p.default,{contentPack:n.contentPack(a),constraints:r[a],showConstraints:!0,verbose:!0})))),l.default.createElement(s.BootstrapModalConfirm,{ref:function(e){t.modal=e},title:"Do you really want to uninstall this Content Pack?",onConfirm:this._uninstallContentPackRev,onCancel:this._clearUninstall},l.default.createElement(h.default,{uninstall:!0,entities:this.state.uninstallEntities})))}});exports.default=P,e.exports=exports.default}}]);