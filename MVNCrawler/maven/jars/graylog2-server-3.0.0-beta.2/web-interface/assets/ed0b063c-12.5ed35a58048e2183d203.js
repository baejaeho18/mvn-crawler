(window.webpackJsonp=window.webpackJsonp||[]).push([["ed0b063c-12"],{"8gS0gcHZ":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,r=(n=t("ivGQtwpr"))&&n.__esModule?n:{default:n},o=t("wMSvutaJ");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=function(e){function f(){var e,t,n,a,r,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=this,t=!(a=(e=d(f)).call.apply(e,[this].concat(u)))||"object"!==s(a)&&"function"!=typeof a?p(n):a,r=p(p(t)),l=function(e){return"${sidecar.".concat(e,"}")},(o="_buildVariableName")in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,r.default.Component),t=f,(n=[{key:"render",value:function(){return r.default.createElement("div",null,r.default.createElement(o.Table,{responsive:!0},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",null,"Name"),r.default.createElement("th",null,"Description"))),r.default.createElement("tbody",null,r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("operatingSystem"))),r.default.createElement("td",null,"Name of the operating system the sidecar is running on, e.g. ",r.default.createElement("code",null,'"Linux", "Windows"'))),r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("nodeName"))),r.default.createElement("td",null,"The name of the sidecar, defaults to hostname if not set.")),r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("nodeId"))),r.default.createElement("td",null,"UUID of the sidecar.")),r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("sidecarVersion"))),r.default.createElement("td",null,"Version string of the running sidecar.")),r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("ip"))),r.default.createElement("td",null,"First public IP address of the machine the sidecar is running on.")),r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("cpuIdle"))),r.default.createElement("td",null,"Current CPU idle value.")),r.default.createElement("tr",null,r.default.createElement("td",null,r.default.createElement("code",null,this._buildVariableName("load1"))),r.default.createElement("td",null,"Current system load.")))))}}])&&l(t.prototype,n),a&&l(t,a),f}();exports.default=a,e.exports=exports.default},"9GS7AuhR":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(t("ii0bleBb")),l=r(t("ivGQtwpr")),i=t("wMSvutaJ"),o=r(t("4ysf/eyx")),a=r(t("21p8kIWv")),u=t("oBIKikY9"),c=r(t("8GJ6oOEd"));function r(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=a.default.get("CollectorConfigurations").CollectorConfigurationsActions,y=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,a=d(r).call(this,e),h(m(m(t=!a||"object"!==f(a)&&"function"!=typeof a?m(n):a)),"PAGE_SIZE",10),h(m(m(t)),"open",function(){t._loadUploads(t.state.pagination.page),t.uploadsModal.open()}),h(m(m(t)),"hide",function(){t.uploadsModal.close()}),h(m(m(t)),"_isLoading",function(){return!t.state.uploads}),h(m(m(t)),"_loadUploads",function(e){b.listUploads({page:e}).then(function(e){t.setState({uploads:e.uploads,totalUploads:e.total})},function(e){t.setState({uploads:[],totalUploads:0}),c.default.error("Fetching uploads failed with error: ".concat(e),"Could not get configuration uploads")})}),h(m(m(t)),"_onApplyButton",function(e){t.props.onApply(e)}),h(m(m(t)),"_buildVariableName",function(e){return"${sidecar.".concat(e,"}")}),t.state=r.initialState,t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,l.default.Component),t=r,(n=[{key:"_formatUpload",value:function(e){var t=this,n=l.default.createElement(i.Tooltip,{id:"".concat(e.id,"-status-tooltip")},e.collector_id);return l.default.createElement("tr",{key:e.id},l.default.createElement("td",null,l.default.createElement(i.OverlayTrigger,{placement:"top",overlay:n,rootClose:!0},l.default.createElement("span",null,e.node_id))),l.default.createElement("td",null,e.collector_name),l.default.createElement("td",null,l.default.createElement(u.Timestamp,{dateTime:e.created,format:"YYYY-MM-DD HH:mm:ss z"})),l.default.createElement("td",null,l.default.createElement(i.Button,{bsStyle:"info",bsSize:"xsmall",onClick:function(){return t._onApplyButton(e.rendered_configuration)}},"Apply")))}},{key:"_formatModalBody",value:function(){var t=this;if(this._isLoading())return l.default.createElement(u.Spinner,null);var e=this.PAGE_SIZE,n=this.state,a=n.uploads,r=n.totalUploads,o=a.map(function(e){return t._formatUpload(e)});return 0===r?l.default.createElement(i.Alert,{bsStyle:"info"},l.default.createElement("i",{className:"fa fa-info-circle"}),"  There are no configuration uploads available. Please go to ",l.default.createElement("strong",null,"System -> Collectors (legacy) -> Details -> Import Configuration")," and import your first configuration. You need at least Sidecar version 0.1.8 to make this feature available."):l.default.createElement(u.PaginatedList,{totalItems:r,pageSize:e,showPageSizeSelect:!1,onChange:this._loadUploads},l.default.createElement("table",{className:"table"},l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"Sidecar"),l.default.createElement("th",null,"Collector"),l.default.createElement("th",null,"Created"),l.default.createElement("th",null,"Action"))),l.default.createElement("tbody",null,o)))}},{key:"render",value:function(){var t=this;return l.default.createElement(o.default,{bsSize:"large",ref:function(e){t.uploadsModal=e}},l.default.createElement(i.Modal.Header,{closeButton:!0},l.default.createElement(i.Modal.Title,null,l.default.createElement("span",null,"Imports from the old Collector system")),"Edit the imported configuration after pressing the Apply button by hand. Dynamic values like the node ID can be replaced with the variables system, e.g. ",l.default.createElement("code",null,this._buildVariableName("nodeId"))),l.default.createElement(i.Modal.Body,null,this._formatModalBody()),l.default.createElement(i.Modal.Footer,null,l.default.createElement(i.Button,{type:"button",onClick:this.hide},"Close")))}}])&&s(t.prototype,n),a&&s(t,a),r}();h(y,"propTypes",{onApply:n.default.func.isRequired}),h(y,"initialState",{uploads:void 0,totalUploads:0,pagination:{page:1}});var g=y;exports.default=g,e.exports=exports.default},JLnxuW1X:function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._25LNHb-RZzyp8MdLHeatM2{margin-top:20px}._3FbceraKBVw414DxzmZmRC{margin-top:10px}._3-u94u1Yj9MwBlLxY4hSdY{white-space:pre-wrap}.panel-body h3{margin-bottom:5px}._2NxOSHf3OnVOqT8a-8IH_o{max-height:400px}._15BhqEibx0LiLM3T7MJnSG{font-family:monospace}._1vRO3Ss6daqPPm-5lSP-kR{list-style-type:disc;padding-left:20px;padding-top:20px}._3GV6poMAy3L4qMkGzMfwFi{width:120px}",""]),exports.locals={marginQuickReferenceText:"_25LNHb-RZzyp8MdLHeatM2",marginTab:"_3FbceraKBVw414DxzmZmRC",exampleFunction:"_3-u94u1Yj9MwBlLxY4hSdY",tableMaxHeight:"_2NxOSHf3OnVOqT8a-8IH_o",monoSpaceFont:"_15BhqEibx0LiLM3T7MJnSG",ulStyle:"_1vRO3Ss6daqPPm-5lSP-kR",actionsColumn:"_3GV6poMAy3L4qMkGzMfwFi"}},"JVsD6BF/":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),o=a(t("ivGQtwpr")),l=t("wMSvutaJ"),i=a(t("nHcjWeCO")),u=a(t("4ysf/eyx"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=a(t("21p8kIWv")).default.get("CollectorConfigurations").CollectorConfigurationsActions,r=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,a=s(r).call(this,e),m(p(p(t=!a||"object"!==c(a)&&"function"!=typeof a?p(n):a)),"resetState",function(){t.setState(r.initialState)}),m(p(p(t)),"open",function(){t._loadConfiguration(),t.sourceModal.open()}),m(p(p(t)),"hide",function(){t.sourceModal.close()}),m(p(p(t)),"_loadConfiguration",function(){(t.props.templateString||t.props.configurationId)&&(t.props.templateString?h.renderPreview(t.props.templateString).then(function(e){t.setState({source:e.preview,name:"preview"})},function(e){t.setState({source:"Error rendering preview: ".concat(e.responseMessage?e.responseMessage:e)})}):h.getConfiguration(t.props.configurationId).then(function(e){t.setState({source:e.template,name:e.name})},function(e){t.setState({source:"Error fetching configuration: ".concat(e.responseMessage||e)})}))}),t.state=r.initialState,t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,o.default.Component),t=r,(n=[{key:"componentDidUpdate",value:function(e){i.default.isEqual(this.state,r.initialState)||i.default.isEqual(e,this.props)||this.resetState()}},{key:"render",value:function(){var t=this;return o.default.createElement(u.default,{ref:function(e){t.sourceModal=e}},o.default.createElement(l.Modal.Header,{closeButton:!0},o.default.createElement(l.Modal.Title,null,o.default.createElement("span",null,"Configuration ",o.default.createElement("em",null,this.state.name)))),o.default.createElement(l.Modal.Body,null,o.default.createElement("div",{className:"configuration"},o.default.createElement("pre",null,this.state.source||"<empty template>"))),o.default.createElement(l.Modal.Footer,null,o.default.createElement(l.Button,{type:"button",onClick:this.hide},"Close")))}}])&&f(t.prototype,n),a&&f(t,a),r}();m(r,"propTypes",{configurationId:n.default.string,templateString:n.default.string}),m(r,"defaultProps",{configurationId:void 0,templateString:void 0}),m(r,"initialState",{source:void 0,name:void 0});var b=r;exports.default=b,e.exports=exports.default},LbuPKvcu:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=i(t("ii0bleBb")),u=i(t("ivGQtwpr")),c=i(t("W+sNG9T1")),f=t("wMSvutaJ"),r=t("oBIKikY9"),o=t("B4BR5PLd"),l=i(t("4ysf/eyx")),a=i(t("21p8kIWv")),s=i(t("iRufMTd1")),d=i(t("tjgPdfKE"));function i(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=a.default.get("ConfigurationVariable").ConfigurationVariableActions,E=function(e){function i(){var e,a,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=this,n=(e=h(i)).call.apply(e,[this].concat(o)),g(y(y(a=!n||"object"!==p(n)&&"function"!=typeof n?y(t):n)),"state",{configurationVariables:void 0,errorModalContent:{},variableToDelete:{}}),g(y(y(a)),"_reloadVariables",function(){v.all().then(function(e){a.setState({configurationVariables:e})})}),g(y(y(a)),"_closeErrorModal",function(){a.errorModal.close()}),g(y(y(a)),"_renderConfigList",function(e){return u.default.createElement("ul",{className:d.default.ulStyle},e.map(function(e){return u.default.createElement("li",{key:e.id},u.default.createElement("a",{href:c.default.SYSTEM.SIDECARS.EDIT_CONFIGURATION(e.id)},e.name))}))}),g(y(y(a)),"_handleDeleteConfirm",function(){v.delete(a.state.variableToDelete).then(function(){return a._onSuccessfulUpdate(function(){return a.deleteConfirmModal.close()})})}),g(y(y(a)),"_handleDeleteCheck",function(e){return function(){a.setState({variableToDelete:e}),v.getConfigurations(e).then(function(e){0<e.length?(a.setState({errorModalContent:a._renderConfigList(e)}),a.errorModal.open()):a.deleteConfirmModal.open()})}}),g(y(y(a)),"_configurationVariableListBuilder",function(){var n=[];return Object.values(a.state.configurationVariables).forEach(function(e){var t="${user.".concat(e.name,"}");n.push(u.default.createElement("tr",{key:e.id},u.default.createElement("td",null,u.default.createElement("code",null,t)),u.default.createElement("td",null,e.description),u.default.createElement("td",null,u.default.createElement(f.Button,{bsStyle:"primary",bsSize:"xsmall",onClick:a._handleDeleteCheck(e)},"Delete")," ",u.default.createElement(s.default,{id:e.id,name:e.name,description:e.description,content:e.content,create:!1,saveConfigurationVariable:a._saveConfigurationVariable}))))}),n}),g(y(y(a)),"_isLoading",function(){return!a.state.configurationVariables}),g(y(y(a)),"_saveConfigurationVariable",function(e,t){v.save.triggerPromise(e).then(function(){return a._onSuccessfulUpdate(function(){a.props.onVariableRename(e.savedName,e.name),t()})})}),g(y(y(a)),"_onSuccessfulUpdate",function(e){"function"==typeof e&&e(),a._reloadVariables()}),a}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,u.default.Component),t=i,(n=[{key:"componentDidMount",value:function(){this._reloadVariables()}},{key:"render",value:function(){var t=this;return this._isLoading()?u.default.createElement(r.Spinner,null):u.default.createElement("div",null,u.default.createElement(s.default,{create:!0,saveConfigurationVariable:this._saveConfigurationVariable}),u.default.createElement("div",{className:"clearfix"}),u.default.createElement("div",{className:"table-responsive ".concat(d.default.tableMaxHeight)},u.default.createElement(f.Table,{responsive:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Name"),u.default.createElement("th",null,"Description"),u.default.createElement("th",{className:d.default.actionsColumn},"Actions"))),u.default.createElement("tbody",null,this._configurationVariableListBuilder()))),u.default.createElement(l.default,{ref:function(e){t.errorModal=e}},u.default.createElement(f.Modal.Header,null,u.default.createElement(f.Modal.Title,null,"Error deleting configuration variable ",u.default.createElement("strong",null,"${user.",this.state.variableToDelete.name,"}"))),u.default.createElement(f.Modal.Body,null,u.default.createElement(f.Alert,{bsStyle:"warning"},u.default.createElement("p",null,"Cannot delete this configuration variable as it is still in use. Please remove the variable from the following configurations and try again.",this.state.errorModalContent))),u.default.createElement(f.Modal.Footer,null,u.default.createElement(f.Button,{onClick:this._closeErrorModal},"Close"))),u.default.createElement(o.BootstrapModalConfirm,{ref:function(e){t.deleteConfirmModal=e},title:"Delete Configuration Variable?",onConfirm:this._handleDeleteConfirm},u.default.createElement("p",null,"Are you sure you want to remove the configuration variable ",u.default.createElement("strong",null,this.state.variableToDelete.name),"?")))}}])&&m(t.prototype,n),a&&m(t,a),i}();g(E,"propTypes",{onVariableRename:n.default.func.isRequired});var _=E;exports.default=_,e.exports=exports.default},QGT1qRA8:function(e,exports,t){var n=t("xr4W+ONv");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,a);n.locals&&(e.exports=n.locals)},f40X60ZD:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=b(t("ii0bleBb")),r=b(t("ivGQtwpr")),a=b(t("PcYM+wZ7")),o=b(t("4KF7VOU5")),l=b(t("nHcjWeCO")),i=t("wMSvutaJ"),u=t("oBIKikY9"),c=t("B4BR5PLd"),f=b(t("+CppQpVm")),s=b(t("W+sNG9T1")),d=b(t("nzEq5JxL")),p=b(t("21p8kIWv")),m=b(t("JVsD6BF/")),h=b(t("9GS7AuhR"));function b(e){return e&&e.__esModule?e:{default:e}}var y=p.default.get("Collectors"),g=y.CollectorsStore,v=y.CollectorsActions,E=p.default.get("CollectorConfigurations").CollectorConfigurationsActions,_=(0,a.default)({displayName:"ConfigurationForm",propTypes:{action:n.default.oneOf(["create","edit"]),configuration:n.default.object,configurationSidecars:n.default.object},mixins:[o.default.connect(g)],getDefaultProps:function(){return{action:"edit",configuration:{color:"#FFFFFF",template:""},configurationSidecars:{}}},getInitialState:function(){return{parseErrors:[],errors:{},formData:{id:this.props.configuration.id,name:this.props.configuration.name,color:this.props.configuration.color,collector_id:this.props.configuration.collector_id,template:this.props.configuration.template||""}}},componentDidMount:function(){v.all()},defaultTemplates:{},_isTemplateSet:function(e){return void 0!==e&&""!==e},_hasErrors:function(){return 0!==Object.keys(this.state.errors).length||0!==this.state.parseErrors.length||!this._isTemplateSet(this.state.formData.template)},_validateTemplate:function(e){var t={key:"template"};this._isTemplateSet(e)||(t.hasError=!0,t.message="Please fill out the configuration field."),this._updateValidationError(t)},_save:function(){this._hasErrors()?this._validateTemplate(this.state.formData.template):"create"===this.props.action?E.createConfiguration(this.state.formData).then(function(){return f.default.push(s.default.SYSTEM.SIDECARS.CONFIGURATION)}):E.updateConfiguration(this.state.formData)},_formDataUpdate:function(r){var o=this;return function(e,t,n){var a=l.default.cloneDeep(o.state.formData);a[r]=e,o.setState({formData:a},n)}},_updateValidationError:function(e){var t=e.key,n=e.hasError,a=e.message,r=l.default.omit(this.state.errors,t);n&&(r[t]=a),this.setState({errors:r})},replaceConfigurationVariableName:function(e,t){if(""!==e&&e!==t){var n=this.state.formData.template.split("${user.".concat(e,"}")).join("${user.".concat(t,"}"));this._onTemplateChange(n)}},_onNameChange:function(e){var t=this,n=e.target.value;this._formDataUpdate("name")(n),E.validate(n).then(function(e){return t._updateValidationError({key:"name",hasError:e.error,message:e.error_message})})},_getCollectorDefaultTemplate:function(t){var n=this,a=this.defaultTemplates[t];return void 0!==a?new Promise(function(e){return e(a)}):v.getCollector(t).then(function(e){return n.defaultTemplates[t]=e.default_template,e.default_template})},_onCollectorChange:function(e){var t=this,n=this._getCollectorDefaultTemplate(e),a=l.default.cloneDeep(this.state.formData);a.collector_id=e,a.template&&!window.confirm("Do you want to use the default template for the selected Configuration?")||n.then(function(e){t._onTemplateChange(e),a.template=e}),this.setState({formData:a})},_onTemplateImport:function(e){l.default.cloneDeep(this.state.formData).template&&!window.confirm("Do you want to overwrite your current work with this Configuration?")||this._onTemplateChange(e)},_onTemplateChange:function(e){this._formDataUpdate("template")(e),this._validateTemplate(e)},_onSubmit:function(e){e.preventDefault(),this._save()},_onCancel:function(){f.default.goBack()},_onShowSource:function(){this.previewModal.open()},_onShowImports:function(){this.uploadsModal.open()},_formatCollector:function(e){return e?"".concat(e.name," on ").concat(l.default.upperFirst(e.node_operating_system)):"Unknown collector"},_formatCollectorOptions:function(){var t=this,n=[];return this.state.collectors?this.state.collectors.forEach(function(e){n.push({value:e.id,label:t._formatCollector(e)})}):n.push({value:"none",label:"Loading collector list...",disable:!0}),n},_renderCollectorTypeField:function(t,e,n){if(n.sidecar_ids&&0<n.sidecar_ids.length){var a=e?e.find(function(e){return e.id===t}):void 0;return r.default.createElement("span",null,r.default.createElement(i.FormControl.Static,null,this._formatCollector(a)),r.default.createElement(i.HelpBlock,{bsClass:"warning"},r.default.createElement("b",null,"Note:")," Log Collector cannot change while the Configuration is in use. Clone the Configuration to test it using another Collector."))}return r.default.createElement("span",null,r.default.createElement(u.Select,{inputProps:{id:"collector_id"},options:this._formatCollectorOptions(),value:t,onChange:this._onCollectorChange,placeholder:"Collector",required:!0}),r.default.createElement(i.HelpBlock,null,"Choose the log collector this configuration is meant for."))},render:function(){var t=this;return r.default.createElement("div",null,r.default.createElement("form",{onSubmit:this._onSubmit},r.default.createElement("fieldset",null,r.default.createElement(c.Input,{type:"text",id:"name",label:"Name",onChange:this._onNameChange,bsStyle:this.state.errors.name?"error":null,help:this.state.errors.name?this.state.errors.name:"Required. Name for this configuration",value:this.state.formData.name,autoFocus:!0,required:!0}),r.default.createElement(i.FormGroup,{controlId:"color"},r.default.createElement(i.ControlLabel,null,"Configuration color"),r.default.createElement("div",null,r.default.createElement(d.default,{color:this.state.formData.color}),r.default.createElement("div",{style:{display:"inline-block",marginLeft:15}},r.default.createElement(u.ColorPickerPopover,{id:"color",placement:"right",color:this.state.formData.color,triggerNode:r.default.createElement(i.Button,{bsSize:"xsmall"},"Change color"),onChange:this._formDataUpdate("color")}))),r.default.createElement(i.HelpBlock,null,"Choose a color to use for this configuration.")),r.default.createElement(i.FormGroup,{controlId:"collector_id"},r.default.createElement(i.ControlLabel,null,"Collector"),this._renderCollectorTypeField(this.state.formData.collector_id,this.state.collectors,this.props.configurationSidecars)),r.default.createElement(i.FormGroup,{controlId:"template",validationState:this.state.errors.template?"error":null},r.default.createElement(i.ControlLabel,null,"Configuration"),r.default.createElement(u.SourceCodeEditor,{id:"template",height:400,value:this.state.formData.template,onChange:this._onTemplateChange}),r.default.createElement(i.Button,{className:"pull-right",bsStyle:"link",bsSize:"sm",onClick:this._onShowSource},"Preview"),r.default.createElement(i.Button,{className:"pull-right",bsStyle:"link",bsSize:"sm",onClick:this._onShowImports},"Migrate"),r.default.createElement(i.HelpBlock,null,this.state.errors.template?this.state.errors.template:"Required. Collector configuration, see quick reference for more information."))),r.default.createElement(i.Row,null,r.default.createElement(i.Col,{md:12},r.default.createElement(i.FormGroup,null,r.default.createElement(i.ButtonToolbar,null,r.default.createElement(i.Button,{type:"submit",bsStyle:"primary"},"create"===this.props.action?"Create":"Update"),r.default.createElement(i.Button,{type:"button",onClick:this._onCancel},"create"===this.props.action?"Cancel":"Back")))))),r.default.createElement(m.default,{ref:function(e){t.previewModal=e},templateString:this.state.formData.template}),r.default.createElement(h.default,{ref:function(e){t.uploadsModal=e},onApply:this._onTemplateImport}))}});exports.default=_,e.exports=exports.default},iRufMTd1:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r(t("ii0bleBb")),o=r(t("nHcjWeCO")),l=r(t("ivGQtwpr")),i=t("wMSvutaJ"),u=t("B4BR5PLd"),a=r(t("21p8kIWv")),c=r(t("tjgPdfKE"));function r(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=a.default.get("ConfigurationVariable").ConfigurationVariableActions,y=function(e){function r(e){var t,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,a=d(r).call(this,e),h(m(m(t=!a||"object"!==f(a)&&"function"!=typeof a?m(n):a)),"_cleanState",function(){return{id:t.props.id,name:t.props.name,savedName:t.props.name,description:t.props.description,content:t.props.content,errors:{}}}),h(m(m(t)),"_hasErrors",function(){return!o.default.isEmpty(t.state.errors)}),h(m(m(t)),"openModal",function(){t.setState(t._cleanState()),t.modal.open()}),h(m(m(t)),"_getId",function(e){return e+t.state.id||"new"}),h(m(m(t)),"_saved",function(){t.modal.close()}),h(m(m(t)),"_validate",function(){b.validate(t.state).then(function(e){t.setState({errors:e.errors})})}),h(m(m(t)),"_debouncedValidate",o.default.debounce(t._validate,200)),h(m(m(t)),"_save",function(){var e=t.state;e.error||t.props.saveConfigurationVariable(e,t._saved)}),h(m(m(t)),"_changeName",function(e){t.setState({name:e.target.value},t._debouncedValidate)}),h(m(m(t)),"_changeDescription",function(e){t.setState({description:e.target.value})}),h(m(m(t)),"_changeContent",function(e){t.setState({content:e.target.value})}),t.state=t._cleanState(),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,l.default.Component),t=r,(n=[{key:"render",value:function(){var e,t=this;return e=this.props.create?"Create Variable":l.default.createElement("span",null,"Edit"),l.default.createElement(l.default.Fragment,null,l.default.createElement(i.Button,{onClick:this.openModal,bsStyle:this.props.create?"success":"info",bsSize:this.props.create?"small":"xsmall",className:this.props.create?"pull-right":""},e),l.default.createElement(u.BootstrapModalForm,{ref:function(e){t.modal=e},title:l.default.createElement(l.default.Fragment,null,this.props.create?"Create":"Edit"," Variable ${user.",this.state.name,"}"),onSubmitForm:this._save,onModalClose:this._cleanState,submitButtonDisabled:this._hasErrors(),submitButtonText:"Save"},l.default.createElement("fieldset",null,l.default.createElement(u.Input,{type:"text",id:this._getId("variable-name"),label:"Name",defaultValue:this.state.name,onChange:this._changeName,bsStyle:this.state.errors.name?"error":null,help:this.state.errors.name?this.state.errors.name.join(" "):"Type a name for this variable",autoFocus:!0,spellCheck:!1,required:!0}),l.default.createElement(u.Input,{type:"text",id:this._getId("variable-description"),label:"Description",defaultValue:this.state.description,onChange:this._changeDescription,bsStyle:this.state.error?"error":null,help:"Type a description for this variable",spellCheck:!1}),l.default.createElement(u.Input,{type:"textarea",id:this._getId("variable-content"),label:"Content",rows:"10",className:c.default.monoSpaceFont,defaultValue:this.state.content,onChange:this._changeContent,bsStyle:this.state.error?"error":null,help:"Write your variable content",spellCheck:!1,required:!0}))))}}])&&s(t.prototype,n),a&&s(t,a),r}();h(y,"propTypes",{create:n.default.bool,id:n.default.string,name:n.default.string,description:n.default.string,content:n.default.string,saveConfigurationVariable:n.default.func.isRequired}),h(y,"defaultProps",{create:!1,id:"",name:"",description:"",content:""});var g=y;exports.default=g,e.exports=exports.default},nzEq5JxL:function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=a(t("ivGQtwpr")),n=a(t("ii0bleBb")),i=t("wMSvutaJ"),u=a(t("/8dZfPfB")),c=a(t("QGT1qRA8"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,s(t).apply(this,arguments))}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,l.default.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.size,a=u.default.hsl(t),r=a.darker(),o=.6<a.l?u.default.rgb("#333333"):u.default.rgb("#FFFFFF");return l.default.createElement("span",{className:"".concat(c.default.colorLabel," ").concat(c.default[n])},l.default.createElement(i.Label,{style:{backgroundColor:a.toString(),border:"1px solid ".concat(r.toString()),color:o.toString()}},this.props.text))}}])&&o(n.prototype,a),r&&o(n,r),t}();p(m,"propTypes",{color:n.default.string.isRequired,text:n.default.oneOfType([n.default.string,n.default.element]),size:n.default.oneOf(["normal","small","xsmall"])}),p(m,"defaultProps",{text:l.default.createElement("span",null," "),size:"normal"});var h=m;exports.default=h,e.exports=exports.default},"oJCa9+JL":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=a(t("ii0bleBb")),r=a(t("ivGQtwpr")),o=t("wMSvutaJ"),l=a(t("8gS0gcHZ")),u=a(t("LbuPKvcu")),c=a(t("tjgPdfKE"));function a(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){function i(){var e,t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=this,h(m(m(t=!(a=(e=d(i)).call.apply(e,[this].concat(o)))||"object"!==f(a)&&"function"!=typeof a?m(n):a)),"_getId",function(e,t){return e+(void 0!==t?". ".concat(t):"")}),t}var t,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,r.default.Component),t=i,(n=[{key:"render",value:function(){return r.default.createElement(o.Panel,{header:"Collector Configuration Reference"},r.default.createElement(o.Row,{className:"row-sm"},r.default.createElement(o.Col,{md:12},r.default.createElement(o.Tabs,{id:"configurationsHelper",defaultActiveKey:1,animation:!1},r.default.createElement(o.Tab,{eventKey:1,title:"Runtime Variables"},r.default.createElement("p",{className:c.default.marginQuickReferenceText},"These variables will be filled with the runtime information from each Sidecar"),r.default.createElement(l.default,null)),r.default.createElement(o.Tab,{eventKey:2,title:"Variables"},r.default.createElement("p",{className:c.default.marginQuickReferenceText},"Use variables to share text snippets across multiple configurations.",r.default.createElement("br",null),"If your configuration format needs to use literals like ",r.default.createElement("code",null,"${foo}"),", which shall not act as a variable, you will have to write it as",r.default.createElement("code",null,"${'$'}{foo}"),"."),r.default.createElement(u.default,{onVariableRename:this.props.onVariableRename})),r.default.createElement(o.Tab,{eventKey:3,title:"Reference"},r.default.createElement(o.Row,{className:"row-sm"},r.default.createElement(o.Col,{md:12},r.default.createElement("p",{className:c.default.marginQuickReferenceText},"We provide collector configuration templates to get you started.",r.default.createElement("br",null),"For further information please refer to the official documentation of your collector.",r.default.createElement("ul",{className:c.default.ulStyle},r.default.createElement("li",null,r.default.createElement("a",{href:"https://www.elastic.co/guide/en/beats/filebeat/current/index.html",target:"_blank",rel:"noopener noreferrer"},"Filebeat Reference")," "),r.default.createElement("li",null,r.default.createElement("a",{href:"https://www.elastic.co/guide/en/beats/winlogbeat/current/index.html",target:"_blank",rel:"noopener noreferrer"},"Winlogbeat Reference")," "),r.default.createElement("li",null,r.default.createElement("a",{href:"https://nxlog.co/docs/nxlog-ce/nxlog-reference-manual.html",target:"_blank",rel:"noopener noreferrer"},"NXLog Reference Manual")," "))))))))))}}])&&s(t.prototype,n),a&&s(t,a),i}();h(i,"propTypes",{onVariableRename:n.default.func.isRequired});var b=i;exports.default=b,e.exports=exports.default},tjgPdfKE:function(e,exports,t){var n=t("JLnxuW1X");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("HkU00dYq")(n,a);n.locals&&(e.exports=n.locals)},"xr4W+ONv":function(e,exports,t){(exports=e.exports=t("wTjlWjHz")(!1)).push([e.i,"._3MvbuZ8PB0ortBeEQkHScR{vertical-align:middle}._1M6pGp_EYuTP7hsn4OPVat{font-size:1em}._1T5DmgEa2IdNf4gl00DRBn{font-size:.75em}._2sgSNHReZBrrUqg6BPRTkt{font-size:.5em}",""]),exports.locals={colorLabel:"_3MvbuZ8PB0ortBeEQkHScR",normal:"_1M6pGp_EYuTP7hsn4OPVat",small:"_1T5DmgEa2IdNf4gl00DRBn",xsmall:"_2sgSNHReZBrrUqg6BPRTkt"}}}]);