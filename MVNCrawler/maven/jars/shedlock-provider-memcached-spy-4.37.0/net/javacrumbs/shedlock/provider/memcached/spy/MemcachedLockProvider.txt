Compiled from "MemcachedLockProvider.java"
public class net.javacrumbs.shedlock.provider.memcached.spy.MemcachedLockProvider implements net.javacrumbs.shedlock.core.LockProvider {
  private static final java.lang.String KEY_PREFIX;

  private static final java.lang.String ENV_DEFAULT;

  private final net.spy.memcached.MemcachedClient client;

  private final java.lang.String env;

  public net.javacrumbs.shedlock.provider.memcached.spy.MemcachedLockProvider(net.spy.memcached.MemcachedClient);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #11                 // String default
       4: invokespecial #13                 // Method "<init>":(Lnet/spy/memcached/MemcachedClient;Ljava/lang/String;)V
       7: return

  public net.javacrumbs.shedlock.provider.memcached.spy.MemcachedLockProvider(net.spy.memcached.MemcachedClient, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #17                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #22                 // Field client:Lnet/spy/memcached/MemcachedClient;
       9: aload_0
      10: aload_2
      11: putfield      #26                 // Field env:Ljava/lang/String;
      14: return

  public java.util.Optional<net.javacrumbs.shedlock.core.SimpleLock> lock(net.javacrumbs.shedlock.core.LockConfiguration);
    Code:
       0: aload_1
       1: invokevirtual #30                 // Method net/javacrumbs/shedlock/core/LockConfiguration.getLockAtMostUntil:()Ljava/time/Instant;
       4: invokestatic  #7                  // Method getSecondUntil:(Ljava/time/Instant;)J
       7: lstore_2
       8: aload_1
       9: invokevirtual #36                 // Method net/javacrumbs/shedlock/core/LockConfiguration.getName:()Ljava/lang/String;
      12: aload_0
      13: getfield      #26                 // Field env:Ljava/lang/String;
      16: invokestatic  #39                 // Method buildKey:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      19: astore        4
      21: aload_0
      22: getfield      #22                 // Field client:Lnet/spy/memcached/MemcachedClient;
      25: aload         4
      27: lload_2
      28: l2i
      29: invokestatic  #1                  // Method buildValue:()Ljava/lang/String;
      32: invokevirtual #43                 // Method net/spy/memcached/MemcachedClient.add:(Ljava/lang/String;ILjava/lang/Object;)Lnet/spy/memcached/internal/OperationFuture;
      35: invokevirtual #49                 // Method net/spy/memcached/internal/OperationFuture.getStatus:()Lnet/spy/memcached/ops/OperationStatus;
      38: astore        5
      40: aload         5
      42: invokevirtual #55                 // Method net/spy/memcached/ops/OperationStatus.isSuccess:()Z
      45: ifeq          67
      48: new           #61                 // class net/javacrumbs/shedlock/provider/memcached/spy/MemcachedLockProvider$MemcachedLock
      51: dup
      52: aload         4
      54: aload_0
      55: getfield      #22                 // Field client:Lnet/spy/memcached/MemcachedClient;
      58: aload_1
      59: aconst_null
      60: invokespecial #63                 // Method net/javacrumbs/shedlock/provider/memcached/spy/MemcachedLockProvider$MemcachedLock."<init>":(Ljava/lang/String;Lnet/spy/memcached/MemcachedClient;Lnet/javacrumbs/shedlock/core/LockConfiguration;Lnet/javacrumbs/shedlock/provider/memcached/spy/MemcachedLockProvider$1;)V
      63: invokestatic  #66                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      66: areturn
      67: invokestatic  #72                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      70: areturn

  private static long getSecondUntil(java.time.Instant);
    Code:
       0: invokestatic  #76                 // Method net/javacrumbs/shedlock/core/ClockProvider.now:()Ljava/time/Instant;
       3: aload_0
       4: invokestatic  #81                 // Method java/time/Duration.between:(Ljava/time/temporal/Temporal;Ljava/time/temporal/Temporal;)Ljava/time/Duration;
       7: invokevirtual #87                 // Method java/time/Duration.toMillis:()J
      10: lstore_1
      11: lload_1
      12: ldc2_w        #91                 // long 1000l
      15: ldiv
      16: lreturn

  static java.lang.String buildKey(java.lang.String, java.lang.String);
    Code:
       0: ldc           #93                 // String %s:%s:%s
       2: iconst_3
       3: anewarray     #18                 // class java/lang/Object
       6: dup
       7: iconst_0
       8: ldc           #95                 // String shedlock
      10: aastore
      11: dup
      12: iconst_1
      13: aload_1
      14: aastore
      15: dup
      16: iconst_2
      17: aload_0
      18: aastore
      19: invokestatic  #97                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      22: astore_2
      23: aload_2
      24: iconst_0
      25: invokestatic  #103                // Method net/spy/memcached/util/StringUtils.validateKey:(Ljava/lang/String;Z)V
      28: aload_2
      29: areturn

  private static java.lang.String buildValue();
    Code:
       0: ldc           #109                // String ADDED:%s@%s
       2: iconst_2
       3: anewarray     #18                 // class java/lang/Object
       6: dup
       7: iconst_0
       8: invokestatic  #76                 // Method net/javacrumbs/shedlock/core/ClockProvider.now:()Ljava/time/Instant;
      11: invokestatic  #111                // Method net/javacrumbs/shedlock/support/Utils.toIsoString:(Ljava/time/Instant;)Ljava/lang/String;
      14: aastore
      15: dup
      16: iconst_1
      17: invokestatic  #117                // Method net/javacrumbs/shedlock/support/Utils.getHostname:()Ljava/lang/String;
      20: aastore
      21: invokestatic  #97                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      24: areturn

  static long access$100(java.time.Instant);
    Code:
       0: aload_0
       1: invokestatic  #7                  // Method getSecondUntil:(Ljava/time/Instant;)J
       4: lreturn

  static java.lang.String access$200();
    Code:
       0: invokestatic  #1                  // Method buildValue:()Ljava/lang/String;
       3: areturn
}
