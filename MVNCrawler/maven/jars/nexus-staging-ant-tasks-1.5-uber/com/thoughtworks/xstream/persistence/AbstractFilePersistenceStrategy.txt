Compiled from "AbstractFilePersistenceStrategy.java"
public abstract class com.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy implements com.thoughtworks.xstream.persistence.PersistenceStrategy {
  private final java.io.FilenameFilter filter;

  private final java.io.File baseDirectory;

  private final java.lang.String encoding;

  private final transient com.thoughtworks.xstream.XStream xstream;

  public com.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy(java.io.File, com.thoughtworks.xstream.XStream, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field baseDirectory:Ljava/io/File;
       9: aload_0
      10: aload_2
      11: putfield      #5                  // Field xstream:Lcom/thoughtworks/xstream/XStream;
      14: aload_0
      15: aload_3
      16: putfield      #6                  // Field encoding:Ljava/lang/String;
      19: aload_0
      20: new           #7                  // class com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy$ValidFilenameFilter
      23: dup
      24: aload_0
      25: invokespecial #8                  // Method com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy$ValidFilenameFilter."<init>":(Lcom/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy;)V
      28: putfield      #3                  // Field filter:Ljava/io/FilenameFilter;
      31: return

  protected com.thoughtworks.xstream.converters.ConverterLookup getConverterLookup();
    Code:
       0: aload_0
       1: getfield      #5                  // Field xstream:Lcom/thoughtworks/xstream/XStream;
       4: invokevirtual #9                  // Method com/thoughtworks/xstream/XStream.getConverterLookup:()Lcom/thoughtworks/xstream/converters/ConverterLookup;
       7: areturn

  protected com.thoughtworks.xstream.mapper.Mapper getMapper();
    Code:
       0: aload_0
       1: getfield      #5                  // Field xstream:Lcom/thoughtworks/xstream/XStream;
       4: invokevirtual #10                 // Method com/thoughtworks/xstream/XStream.getMapper:()Lcom/thoughtworks/xstream/mapper/Mapper;
       7: areturn

  protected boolean isValid(java.io.File, java.lang.String);
    Code:
       0: aload_2
       1: ldc           #11                 // String .xml
       3: invokevirtual #12                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
       6: ireturn

  protected abstract java.lang.Object extractKey(java.lang.String);

  protected abstract java.lang.String getName(java.lang.Object);

  private void writeFile(java.io.File, java.lang.Object);
    Code:
       0: new           #13                 // class java/io/FileOutputStream
       3: dup
       4: aload_1
       5: invokespecial #14                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
       8: astore_3
       9: aload_0
      10: getfield      #6                  // Field encoding:Ljava/lang/String;
      13: ifnull        31
      16: new           #15                 // class java/io/OutputStreamWriter
      19: dup
      20: aload_3
      21: aload_0
      22: getfield      #6                  // Field encoding:Ljava/lang/String;
      25: invokespecial #16                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;Ljava/lang/String;)V
      28: goto          39
      31: new           #15                 // class java/io/OutputStreamWriter
      34: dup
      35: aload_3
      36: invokespecial #17                 // Method java/io/OutputStreamWriter."<init>":(Ljava/io/OutputStream;)V
      39: astore        4
      41: aload_0
      42: getfield      #5                  // Field xstream:Lcom/thoughtworks/xstream/XStream;
      45: aload_2
      46: aload         4
      48: invokevirtual #18                 // Method com/thoughtworks/xstream/XStream.toXML:(Ljava/lang/Object;Ljava/io/Writer;)V
      51: aload         4
      53: invokevirtual #19                 // Method java/io/Writer.close:()V
      56: goto          69
      59: astore        5
      61: aload         4
      63: invokevirtual #19                 // Method java/io/Writer.close:()V
      66: aload         5
      68: athrow
      69: goto          82
      72: astore_3
      73: new           #21                 // class com/thoughtworks/xstream/io/StreamException
      76: dup
      77: aload_3
      78: invokespecial #22                 // Method com/thoughtworks/xstream/io/StreamException."<init>":(Ljava/lang/Throwable;)V
      81: athrow
      82: return
    Exception table:
       from    to  target type
          41    51    59   any
          59    61    59   any
           0    69    72   Class java/io/IOException

  private java.io.File getFile(java.lang.String);
    Code:
       0: new           #23                 // class java/io/File
       3: dup
       4: aload_0
       5: getfield      #2                  // Field baseDirectory:Ljava/io/File;
       8: aload_1
       9: invokespecial #24                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      12: areturn

  private java.lang.Object readFile(java.io.File);
    Code:
       0: new           #25                 // class java/io/FileInputStream
       3: dup
       4: aload_1
       5: invokespecial #26                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
       8: astore_2
       9: aload_0
      10: getfield      #6                  // Field encoding:Ljava/lang/String;
      13: ifnull        31
      16: new           #27                 // class java/io/InputStreamReader
      19: dup
      20: aload_2
      21: aload_0
      22: getfield      #6                  // Field encoding:Ljava/lang/String;
      25: invokespecial #28                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/lang/String;)V
      28: goto          39
      31: new           #27                 // class java/io/InputStreamReader
      34: dup
      35: aload_2
      36: invokespecial #29                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
      39: astore_3
      40: aload_0
      41: getfield      #5                  // Field xstream:Lcom/thoughtworks/xstream/XStream;
      44: aload_3
      45: invokevirtual #30                 // Method com/thoughtworks/xstream/XStream.fromXML:(Ljava/io/Reader;)Ljava/lang/Object;
      48: astore        4
      50: aload_3
      51: invokevirtual #31                 // Method java/io/Reader.close:()V
      54: aload         4
      56: areturn
      57: astore        5
      59: aload_3
      60: invokevirtual #31                 // Method java/io/Reader.close:()V
      63: aload         5
      65: athrow
      66: astore_2
      67: aconst_null
      68: areturn
      69: astore_2
      70: new           #21                 // class com/thoughtworks/xstream/io/StreamException
      73: dup
      74: aload_2
      75: invokespecial #22                 // Method com/thoughtworks/xstream/io/StreamException."<init>":(Ljava/lang/Throwable;)V
      78: athrow
    Exception table:
       from    to  target type
          40    50    57   any
          57    59    57   any
           0    54    66   Class java/io/FileNotFoundException
          57    66    66   Class java/io/FileNotFoundException
           0    54    69   Class java/io/IOException
          57    66    69   Class java/io/IOException

  public java.lang.Object put(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #33                 // Method get:(Ljava/lang/Object;)Ljava/lang/Object;
       5: astore_3
       6: aload_0
       7: aload_1
       8: invokevirtual #34                 // Method getName:(Ljava/lang/Object;)Ljava/lang/String;
      11: astore        4
      13: aload_0
      14: new           #23                 // class java/io/File
      17: dup
      18: aload_0
      19: getfield      #2                  // Field baseDirectory:Ljava/io/File;
      22: aload         4
      24: invokespecial #24                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      27: aload_2
      28: invokespecial #35                 // Method writeFile:(Ljava/io/File;Ljava/lang/Object;)V
      31: aload_3
      32: areturn

  public java.util.Iterator iterator();
    Code:
       0: new           #36                 // class com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy$XmlMapEntriesIterator
       3: dup
       4: aload_0
       5: invokespecial #37                 // Method com/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy$XmlMapEntriesIterator."<init>":(Lcom/thoughtworks/xstream/persistence/AbstractFilePersistenceStrategy;)V
       8: areturn

  public int size();
    Code:
       0: aload_0
       1: getfield      #2                  // Field baseDirectory:Ljava/io/File;
       4: aload_0
       5: getfield      #3                  // Field filter:Ljava/io/FilenameFilter;
       8: invokevirtual #38                 // Method java/io/File.list:(Ljava/io/FilenameFilter;)[Ljava/lang/String;
      11: arraylength
      12: ireturn

  public boolean containsKey(java.lang.Object);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: invokevirtual #34                 // Method getName:(Ljava/lang/Object;)Ljava/lang/String;
       6: invokespecial #39                 // Method getFile:(Ljava/lang/String;)Ljava/io/File;
       9: astore_2
      10: aload_2
      11: invokevirtual #40                 // Method java/io/File.isFile:()Z
      14: ireturn

  public java.lang.Object get(java.lang.Object);
    Code:
       0: aload_0
       1: aload_0
       2: aload_0
       3: aload_1
       4: invokevirtual #34                 // Method getName:(Ljava/lang/Object;)Ljava/lang/String;
       7: invokespecial #39                 // Method getFile:(Ljava/lang/String;)Ljava/io/File;
      10: invokespecial #1                  // Method readFile:(Ljava/io/File;)Ljava/lang/Object;
      13: areturn

  public java.lang.Object remove(java.lang.Object);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: invokevirtual #34                 // Method getName:(Ljava/lang/Object;)Ljava/lang/String;
       6: invokespecial #39                 // Method getFile:(Ljava/lang/String;)Ljava/io/File;
       9: astore_2
      10: aconst_null
      11: astore_3
      12: aload_2
      13: invokevirtual #40                 // Method java/io/File.isFile:()Z
      16: ifeq          30
      19: aload_0
      20: aload_2
      21: invokespecial #1                  // Method readFile:(Ljava/io/File;)Ljava/lang/Object;
      24: astore_3
      25: aload_2
      26: invokevirtual #41                 // Method java/io/File.delete:()Z
      29: pop
      30: aload_3
      31: areturn

  static java.io.FilenameFilter access$000(com.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy);
    Code:
       0: aload_0
       1: getfield      #3                  // Field filter:Ljava/io/FilenameFilter;
       4: areturn

  static java.io.File access$100(com.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy);
    Code:
       0: aload_0
       1: getfield      #2                  // Field baseDirectory:Ljava/io/File;
       4: areturn

  static java.lang.Object access$500(com.thoughtworks.xstream.persistence.AbstractFilePersistenceStrategy, java.io.File);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method readFile:(Ljava/io/File;)Ljava/lang/Object;
       5: areturn
}
