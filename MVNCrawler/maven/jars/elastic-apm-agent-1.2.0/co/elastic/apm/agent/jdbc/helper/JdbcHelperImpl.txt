Compiled from "JdbcHelperImpl.java"
public class co.elastic.apm.agent.jdbc.helper.JdbcHelperImpl implements co.elastic.apm.agent.jdbc.helper.JdbcHelper {
  private static final co.elastic.apm.agent.shaded.slf4j.Logger logger;

  private static final java.util.Map<java.sql.Connection, co.elastic.apm.agent.jdbc.helper.JdbcHelperImpl$ConnectionMetaData> metaDataMap;

  private static final java.lang.String UNKNOWN_SPAN_TYPE;

  public co.elastic.apm.agent.jdbc.helper.JdbcHelperImpl();
    Code:
       0: aload_0
       1: invokespecial #23                 // Method java/lang/Object."<init>":()V
       4: return

  public co.elastic.apm.agent.impl.transaction.Span createJdbcSpan(java.lang.String, java.sql.Connection, co.elastic.apm.agent.impl.transaction.AbstractSpan<?>);
    Code:
       0: aload_1
       1: ifnull        23
       4: aload_0
       5: aload_3
       6: invokespecial #34                 // Method isAlreadyMonitored:(Lco/elastic/apm/agent/impl/transaction/AbstractSpan;)Z
       9: ifne          23
      12: aload_3
      13: ifnull        23
      16: aload_3
      17: invokevirtual #40                 // Method co/elastic/apm/agent/impl/transaction/AbstractSpan.isSampled:()Z
      20: ifne          25
      23: aconst_null
      24: areturn
      25: aload_3
      26: invokevirtual #44                 // Method co/elastic/apm/agent/impl/transaction/AbstractSpan.createSpan:()Lco/elastic/apm/agent/impl/transaction/Span;
      29: invokevirtual #50                 // Method co/elastic/apm/agent/impl/transaction/Span.activate:()Lco/elastic/apm/agent/impl/transaction/AbstractSpan;
      32: checkcast     #46                 // class co/elastic/apm/agent/impl/transaction/Span
      35: astore        4
      37: aload         4
      39: aload_0
      40: aload_1
      41: invokespecial #54                 // Method getMethod:(Ljava/lang/String;)Ljava/lang/String;
      44: invokevirtual #58                 // Method co/elastic/apm/agent/impl/transaction/Span.setName:(Ljava/lang/String;)V
      47: aload         4
      49: getstatic     #60                 // Field UNKNOWN_SPAN_TYPE:Ljava/lang/String;
      52: invokevirtual #64                 // Method co/elastic/apm/agent/impl/transaction/Span.withType:(Ljava/lang/String;)Lco/elastic/apm/agent/impl/transaction/AbstractSpan;
      55: pop
      56: aload_0
      57: aload_2
      58: invokespecial #68                 // Method getConnectionMetaData:(Ljava/sql/Connection;)Lco/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$ConnectionMetaData;
      61: astore        5
      63: aload         4
      65: aload         5
      67: getfield      #71                 // Field co/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$ConnectionMetaData.type:Ljava/lang/String;
      70: invokevirtual #64                 // Method co/elastic/apm/agent/impl/transaction/Span.withType:(Ljava/lang/String;)Lco/elastic/apm/agent/impl/transaction/AbstractSpan;
      73: pop
      74: aload         4
      76: invokevirtual #75                 // Method co/elastic/apm/agent/impl/transaction/Span.getContext:()Lco/elastic/apm/agent/impl/context/SpanContext;
      79: invokevirtual #81                 // Method co/elastic/apm/agent/impl/context/SpanContext.getDb:()Lco/elastic/apm/agent/impl/transaction/Db;
      82: aload         5
      84: getfield      #84                 // Field co/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$ConnectionMetaData.user:Ljava/lang/String;
      87: invokevirtual #90                 // Method co/elastic/apm/agent/impl/transaction/Db.withUser:(Ljava/lang/String;)Lco/elastic/apm/agent/impl/transaction/Db;
      90: aload_1
      91: invokevirtual #93                 // Method co/elastic/apm/agent/impl/transaction/Db.withStatement:(Ljava/lang/String;)Lco/elastic/apm/agent/impl/transaction/Db;
      94: ldc           #95                 // String sql
      96: invokevirtual #97                 // Method co/elastic/apm/agent/impl/transaction/Db.withType:(Ljava/lang/String;)Lco/elastic/apm/agent/impl/transaction/Db;
      99: pop
     100: goto          117
     103: astore        5
     105: getstatic     #103                // Field logger:Lco/elastic/apm/agent/shaded/slf4j/Logger;
     108: ldc           #105                // String Ignored exception
     110: aload         5
     112: invokeinterface #111,  3          // InterfaceMethod co/elastic/apm/agent/shaded/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     117: aload         4
     119: areturn
    Exception table:
       from    to  target type
          56   100   103   Class java/sql/SQLException

  private java.lang.String getMethod(java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: aconst_null
       5: areturn
       6: aload_1
       7: ldc           #124                // String SELECT
       9: invokevirtual #128                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      12: ifne          24
      15: aload_1
      16: ldc           #130                // String select
      18: invokevirtual #128                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      21: ifeq          27
      24: ldc           #124                // String SELECT
      26: areturn
      27: aload_1
      28: invokevirtual #134                // Method java/lang/String.trim:()Ljava/lang/String;
      31: astore_1
      32: aload_1
      33: bipush        32
      35: invokevirtual #138                // Method java/lang/String.indexOf:(I)I
      38: istore_2
      39: iload_2
      40: ifle          53
      43: aload_1
      44: iconst_0
      45: iload_2
      46: invokevirtual #142                // Method java/lang/String.substring:(II)Ljava/lang/String;
      49: invokevirtual #145                // Method java/lang/String.toUpperCase:()Ljava/lang/String;
      52: areturn
      53: aload_1
      54: invokevirtual #145                // Method java/lang/String.toUpperCase:()Ljava/lang/String;
      57: areturn

  private boolean isAlreadyMonitored(co.elastic.apm.agent.impl.transaction.AbstractSpan<?>);
    Code:
       0: aload_1
       1: instanceof    #46                 // class co/elastic/apm/agent/impl/transaction/Span
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_1
      10: checkcast     #46                 // class co/elastic/apm/agent/impl/transaction/Span
      13: astore_2
      14: aload_2
      15: invokevirtual #150                // Method co/elastic/apm/agent/impl/transaction/Span.getType:()Ljava/lang/String;
      18: ifnull        37
      21: aload_2
      22: invokevirtual #150                // Method co/elastic/apm/agent/impl/transaction/Span.getType:()Ljava/lang/String;
      25: ldc           #152                // String db.
      27: invokevirtual #128                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      30: ifeq          37
      33: iconst_1
      34: goto          38
      37: iconst_0
      38: ireturn

  private co.elastic.apm.agent.jdbc.helper.JdbcHelperImpl$ConnectionMetaData getConnectionMetaData(java.sql.Connection) throws java.sql.SQLException;
    Code:
       0: getstatic     #155                // Field metaDataMap:Ljava/util/Map;
       3: aload_1
       4: invokeinterface #161,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
       9: checkcast     #11                 // class co/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$ConnectionMetaData
      12: astore_2
      13: aload_2
      14: ifnonnull     67
      17: aload_1
      18: invokeinterface #165,  1          // InterfaceMethod java/sql/Connection.getMetaData:()Ljava/sql/DatabaseMetaData;
      23: astore_3
      24: aload_0
      25: aload_3
      26: invokeinterface #170,  1          // InterfaceMethod java/sql/DatabaseMetaData.getURL:()Ljava/lang/String;
      31: invokespecial #173                // Method getDbVendor:(Ljava/lang/String;)Ljava/lang/String;
      34: astore        4
      36: new           #11                 // class co/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$ConnectionMetaData
      39: dup
      40: aload         4
      42: invokestatic  #178                // Method co/elastic/apm/agent/jdbc/JdbcUtils.computeJdbcSpanTypeName:(Ljava/lang/String;)Ljava/lang/String;
      45: aload_3
      46: invokeinterface #181,  1          // InterfaceMethod java/sql/DatabaseMetaData.getUserName:()Ljava/lang/String;
      51: aconst_null
      52: invokespecial #184                // Method co/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$ConnectionMetaData."<init>":(Ljava/lang/String;Ljava/lang/String;Lco/elastic/apm/agent/jdbc/helper/JdbcHelperImpl$1;)V
      55: astore_2
      56: getstatic     #155                // Field metaDataMap:Ljava/util/Map;
      59: aload_1
      60: aload_2
      61: invokeinterface #188,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      66: pop
      67: aload_2
      68: areturn

  private java.lang.String getDbVendor(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #193                // String jdbc:
       3: invokevirtual #196                // Method java/lang/String.indexOf:(Ljava/lang/String;)I
       6: istore_2
       7: iload_2
       8: iconst_m1
       9: if_icmpeq     42
      12: aload_1
      13: iload_2
      14: iconst_5
      15: iadd
      16: invokevirtual #199                // Method java/lang/String.substring:(I)Ljava/lang/String;
      19: astore_3
      20: aload_3
      21: ldc           #201                // String :
      23: invokevirtual #196                // Method java/lang/String.indexOf:(Ljava/lang/String;)I
      26: istore        4
      28: iload         4
      30: iconst_m1
      31: if_icmpeq     42
      34: aload_3
      35: iconst_0
      36: iload         4
      38: invokevirtual #142                // Method java/lang/String.substring:(II)Ljava/lang/String;
      41: areturn
      42: ldc           #203                // String unknown
      44: areturn

  static {};
    Code:
       0: ldc           #2                  // class co/elastic/apm/agent/jdbc/helper/JdbcHelperImpl
       2: invokestatic  #214                // Method co/elastic/apm/agent/shaded/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lco/elastic/apm/agent/shaded/slf4j/Logger;
       5: putstatic     #103                // Field logger:Lco/elastic/apm/agent/shaded/slf4j/Logger;
       8: new           #216                // class co/elastic/apm/agent/shaded/guava/common/collect/MapMaker
      11: dup
      12: invokespecial #217                // Method co/elastic/apm/agent/shaded/guava/common/collect/MapMaker."<init>":()V
      15: bipush        16
      17: invokevirtual #221                // Method co/elastic/apm/agent/shaded/guava/common/collect/MapMaker.concurrencyLevel:(I)Lco/elastic/apm/agent/shaded/guava/common/collect/MapMaker;
      20: invokevirtual #225                // Method co/elastic/apm/agent/shaded/guava/common/collect/MapMaker.weakKeys:()Lco/elastic/apm/agent/shaded/guava/common/collect/MapMaker;
      23: invokevirtual #229                // Method co/elastic/apm/agent/shaded/guava/common/collect/MapMaker.makeMap:()Ljava/util/concurrent/ConcurrentMap;
      26: putstatic     #155                // Field metaDataMap:Ljava/util/Map;
      29: ldc           #203                // String unknown
      31: invokestatic  #178                // Method co/elastic/apm/agent/jdbc/JdbcUtils.computeJdbcSpanTypeName:(Ljava/lang/String;)Ljava/lang/String;
      34: putstatic     #60                 // Field UNKNOWN_SPAN_TYPE:Ljava/lang/String;
      37: return
}
