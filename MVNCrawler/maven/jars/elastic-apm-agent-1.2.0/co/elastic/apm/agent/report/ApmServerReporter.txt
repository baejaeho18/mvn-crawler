Compiled from "ApmServerReporter.java"
public class co.elastic.apm.agent.report.ApmServerReporter implements co.elastic.apm.agent.report.Reporter {
  private static final co.elastic.apm.agent.shaded.lmax.disruptor.EventTranslatorOneArg<co.elastic.apm.agent.report.ReportingEvent, co.elastic.apm.agent.impl.transaction.Transaction> TRANSACTION_EVENT_TRANSLATOR;

  private static final co.elastic.apm.agent.shaded.lmax.disruptor.EventTranslatorOneArg<co.elastic.apm.agent.report.ReportingEvent, co.elastic.apm.agent.impl.transaction.Span> SPAN_EVENT_TRANSLATOR;

  private static final co.elastic.apm.agent.shaded.lmax.disruptor.EventTranslator<co.elastic.apm.agent.report.ReportingEvent> FLUSH_EVENT_TRANSLATOR;

  private static final co.elastic.apm.agent.shaded.lmax.disruptor.EventTranslatorOneArg<co.elastic.apm.agent.report.ReportingEvent, co.elastic.apm.agent.impl.error.ErrorCapture> ERROR_EVENT_TRANSLATOR;

  private final co.elastic.apm.agent.shaded.lmax.disruptor.dsl.Disruptor<co.elastic.apm.agent.report.ReportingEvent> disruptor;

  private final java.util.concurrent.atomic.AtomicLong dropped;

  private final boolean dropTransactionIfQueueFull;

  private final co.elastic.apm.agent.report.ReportingEventHandler reportingEventHandler;

  private final boolean syncReport;

  public co.elastic.apm.agent.report.ApmServerReporter(boolean, co.elastic.apm.agent.report.ReporterConfiguration, co.elastic.apm.agent.report.ReportingEventHandler);
    Code:
       0: aload_0
       1: invokespecial #47                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #49                 // class java/util/concurrent/atomic/AtomicLong
       8: dup
       9: invokespecial #50                 // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      12: putfield      #52                 // Field dropped:Ljava/util/concurrent/atomic/AtomicLong;
      15: aload_0
      16: iload_1
      17: putfield      #54                 // Field dropTransactionIfQueueFull:Z
      20: aload_0
      21: aload_2
      22: invokevirtual #60                 // Method co/elastic/apm/agent/report/ReporterConfiguration.isReportSynchronously:()Z
      25: putfield      #62                 // Field syncReport:Z
      28: aload_0
      29: new           #64                 // class co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor
      32: dup
      33: new           #9                  // class co/elastic/apm/agent/report/ApmServerReporter$TransactionEventFactory
      36: dup
      37: invokespecial #65                 // Method co/elastic/apm/agent/report/ApmServerReporter$TransactionEventFactory."<init>":()V
      40: aload_2
      41: invokevirtual #69                 // Method co/elastic/apm/agent/report/ReporterConfiguration.getMaxQueueSize:()I
      44: invokestatic  #75                 // Method co/elastic/apm/agent/util/MathUtils.getNextPowerOf2:(I)I
      47: new           #14                 // class co/elastic/apm/agent/report/ApmServerReporter$5
      50: dup
      51: aload_0
      52: invokespecial #78                 // Method co/elastic/apm/agent/report/ApmServerReporter$5."<init>":(Lco/elastic/apm/agent/report/ApmServerReporter;)V
      55: getstatic     #84                 // Field co/elastic/apm/agent/shaded/lmax/disruptor/dsl/ProducerType.MULTI:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/ProducerType;
      58: lconst_1
      59: ldc2_w        #85                 // long 10l
      62: getstatic     #92                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      65: invokestatic  #98                 // Method co/elastic/apm/agent/shaded/lmax/disruptor/PhasedBackoffWaitStrategy.withLiteLock:(JJLjava/util/concurrent/TimeUnit;)Lco/elastic/apm/agent/shaded/lmax/disruptor/PhasedBackoffWaitStrategy;
      68: invokespecial #101                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor."<init>":(Lco/elastic/apm/agent/shaded/lmax/disruptor/EventFactory;ILjava/util/concurrent/ThreadFactory;Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/ProducerType;Lco/elastic/apm/agent/shaded/lmax/disruptor/WaitStrategy;)V
      71: putfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
      74: aload_0
      75: aload_3
      76: putfield      #105                // Field reportingEventHandler:Lco/elastic/apm/agent/report/ReportingEventHandler;
      79: aload_0
      80: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
      83: new           #107                // class co/elastic/apm/agent/shaded/lmax/disruptor/IgnoreExceptionHandler
      86: dup
      87: invokespecial #108                // Method co/elastic/apm/agent/shaded/lmax/disruptor/IgnoreExceptionHandler."<init>":()V
      90: invokevirtual #112                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.setDefaultExceptionHandler:(Lco/elastic/apm/agent/shaded/lmax/disruptor/ExceptionHandler;)V
      93: aload_0
      94: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
      97: iconst_1
      98: anewarray     #114                // class co/elastic/apm/agent/shaded/lmax/disruptor/EventHandler
     101: dup
     102: iconst_0
     103: aload_0
     104: getfield      #105                // Field reportingEventHandler:Lco/elastic/apm/agent/report/ReportingEventHandler;
     107: aastore
     108: invokevirtual #118                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.handleEventsWith:([Lco/elastic/apm/agent/shaded/lmax/disruptor/EventHandler;)Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/EventHandlerGroup;
     111: pop
     112: aload_0
     113: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
     116: invokevirtual #122                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.start:()Lco/elastic/apm/agent/shaded/lmax/disruptor/RingBuffer;
     119: pop
     120: aload_3
     121: aload_0
     122: invokeinterface #127,  2          // InterfaceMethod co/elastic/apm/agent/report/ReportingEventHandler.init:(Lco/elastic/apm/agent/report/ApmServerReporter;)V
     127: return

  public void report(co.elastic.apm.agent.impl.transaction.Transaction);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #135                // Field TRANSACTION_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;
       5: invokespecial #139                // Method tryAddEventToRingBuffer:(Lco/elastic/apm/agent/objectpool/Recyclable;Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;)Z
       8: ifne          15
      11: aload_1
      12: invokevirtual #144                // Method co/elastic/apm/agent/impl/transaction/Transaction.recycle:()V
      15: aload_0
      16: getfield      #62                 // Field syncReport:Z
      19: ifeq          26
      22: aload_0
      23: invokespecial #147                // Method waitForFlush:()V
      26: return

  public void report(co.elastic.apm.agent.impl.transaction.Span);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #152                // Field SPAN_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;
       5: invokespecial #139                // Method tryAddEventToRingBuffer:(Lco/elastic/apm/agent/objectpool/Recyclable;Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;)Z
       8: ifne          15
      11: aload_1
      12: invokevirtual #155                // Method co/elastic/apm/agent/impl/transaction/Span.recycle:()V
      15: aload_0
      16: getfield      #62                 // Field syncReport:Z
      19: ifeq          26
      22: aload_0
      23: invokespecial #147                // Method waitForFlush:()V
      26: return

  private void waitForFlush();
    Code:
       0: aload_0
       1: invokevirtual #163                // Method flush:()Ljava/util/concurrent/Future;
       4: invokeinterface #169,  1          // InterfaceMethod java/util/concurrent/Future.get:()Ljava/lang/Object;
       9: pop
      10: goto          23
      13: astore_1
      14: new           #171                // class java/lang/RuntimeException
      17: dup
      18: aload_1
      19: invokespecial #174                // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      22: athrow
      23: return
    Exception table:
       from    to  target type
           0    10    13   Class java/lang/Exception

  public long getDropped();
    Code:
       0: aload_0
       1: getfield      #52                 // Field dropped:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #180                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: aload_0
       8: getfield      #105                // Field reportingEventHandler:Lco/elastic/apm/agent/report/ReportingEventHandler;
      11: invokeinterface #182,  1          // InterfaceMethod co/elastic/apm/agent/report/ReportingEventHandler.getDropped:()J
      16: ladd
      17: lreturn

  public long getReported();
    Code:
       0: aload_0
       1: getfield      #105                // Field reportingEventHandler:Lco/elastic/apm/agent/report/ReportingEventHandler;
       4: invokeinterface #185,  1          // InterfaceMethod co/elastic/apm/agent/report/ReportingEventHandler.getReported:()J
       9: lreturn

  public java.util.concurrent.Future<java.lang.Void> flush();
    Code:
       0: aload_0
       1: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
       4: getstatic     #187                // Field FLUSH_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslator;
       7: invokevirtual #191                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.publishEvent:(Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslator;)V
      10: aload_0
      11: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
      14: invokevirtual #194                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.getCursor:()J
      17: lstore_1
      18: new           #12                 // class co/elastic/apm/agent/report/ApmServerReporter$6
      21: dup
      22: aload_0
      23: lload_1
      24: invokespecial #197                // Method co/elastic/apm/agent/report/ApmServerReporter$6."<init>":(Lco/elastic/apm/agent/report/ApmServerReporter;J)V
      27: areturn

  private boolean isEventProcessed(long);
    Code:
       0: aload_0
       1: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
       4: aload_0
       5: getfield      #105                // Field reportingEventHandler:Lco/elastic/apm/agent/report/ReportingEventHandler;
       8: invokevirtual #205                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.getSequenceValueFor:(Lco/elastic/apm/agent/shaded/lmax/disruptor/EventHandler;)J
      11: lload_1
      12: lcmp
      13: iflt          20
      16: iconst_1
      17: goto          21
      20: iconst_0
      21: ireturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
       4: invokevirtual #210                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.shutdown:()V
       7: aload_0
       8: getfield      #105                // Field reportingEventHandler:Lco/elastic/apm/agent/report/ReportingEventHandler;
      11: invokeinterface #212,  1          // InterfaceMethod co/elastic/apm/agent/report/ReportingEventHandler.close:()V
      16: return

  public void report(co.elastic.apm.agent.impl.error.ErrorCapture);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #215                // Field ERROR_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;
       5: invokespecial #139                // Method tryAddEventToRingBuffer:(Lco/elastic/apm/agent/objectpool/Recyclable;Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;)Z
       8: ifne          15
      11: aload_1
      12: invokevirtual #218                // Method co/elastic/apm/agent/impl/error/ErrorCapture.recycle:()V
      15: aload_0
      16: getfield      #62                 // Field syncReport:Z
      19: ifeq          26
      22: aload_0
      23: invokespecial #147                // Method waitForFlush:()V
      26: return

  private <E extends co.elastic.apm.agent.objectpool.Recyclable> boolean tryAddEventToRingBuffer(E, co.elastic.apm.agent.shaded.lmax.disruptor.EventTranslatorOneArg<co.elastic.apm.agent.report.ReportingEvent, E>);
    Code:
       0: aload_0
       1: getfield      #54                 // Field dropTransactionIfQueueFull:Z
       4: ifeq          45
       7: aload_0
       8: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
      11: invokevirtual #223                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.getRingBuffer:()Lco/elastic/apm/agent/shaded/lmax/disruptor/RingBuffer;
      14: aload_2
      15: aload_1
      16: invokevirtual #229                // Method co/elastic/apm/agent/shaded/lmax/disruptor/RingBuffer.tryPublishEvent:(Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;Ljava/lang/Object;)Z
      19: ifne          26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: istore_3
      28: iload_3
      29: ifeq          42
      32: aload_0
      33: getfield      #52                 // Field dropped:Ljava/util/concurrent/atomic/AtomicLong;
      36: invokevirtual #232                // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      39: pop2
      40: iconst_0
      41: ireturn
      42: goto          57
      45: aload_0
      46: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
      49: invokevirtual #223                // Method co/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor.getRingBuffer:()Lco/elastic/apm/agent/shaded/lmax/disruptor/RingBuffer;
      52: aload_2
      53: aload_1
      54: invokevirtual #235                // Method co/elastic/apm/agent/shaded/lmax/disruptor/RingBuffer.publishEvent:(Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;Ljava/lang/Object;)V
      57: iconst_1
      58: ireturn

  static co.elastic.apm.agent.shaded.lmax.disruptor.dsl.Disruptor access$000(co.elastic.apm.agent.report.ApmServerReporter);
    Code:
       0: aload_0
       1: getfield      #103                // Field disruptor:Lco/elastic/apm/agent/shaded/lmax/disruptor/dsl/Disruptor;
       4: areturn

  static boolean access$100(co.elastic.apm.agent.report.ApmServerReporter, long);
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #248                // Method isEventProcessed:(J)Z
       5: ireturn

  static {};
    Code:
       0: new           #22                 // class co/elastic/apm/agent/report/ApmServerReporter$1
       3: dup
       4: invokespecial #251                // Method co/elastic/apm/agent/report/ApmServerReporter$1."<init>":()V
       7: putstatic     #135                // Field TRANSACTION_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;
      10: new           #20                 // class co/elastic/apm/agent/report/ApmServerReporter$2
      13: dup
      14: invokespecial #252                // Method co/elastic/apm/agent/report/ApmServerReporter$2."<init>":()V
      17: putstatic     #152                // Field SPAN_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;
      20: new           #18                 // class co/elastic/apm/agent/report/ApmServerReporter$3
      23: dup
      24: invokespecial #253                // Method co/elastic/apm/agent/report/ApmServerReporter$3."<init>":()V
      27: putstatic     #187                // Field FLUSH_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslator;
      30: new           #16                 // class co/elastic/apm/agent/report/ApmServerReporter$4
      33: dup
      34: invokespecial #254                // Method co/elastic/apm/agent/report/ApmServerReporter$4."<init>":()V
      37: putstatic     #215                // Field ERROR_EVENT_TRANSLATOR:Lco/elastic/apm/agent/shaded/lmax/disruptor/EventTranslatorOneArg;
      40: return
}
