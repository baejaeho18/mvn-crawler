Compiled from "LookupTableDataRouter.java"
public class org.jumpmind.symmetric.route.LookupTableDataRouter extends org.jumpmind.symmetric.route.AbstractDataRouter implements org.jumpmind.symmetric.route.IDataRouter {
  static final org.slf4j.Logger log;

  public static final java.lang.String PARAM_TABLE;

  public static final java.lang.String PARAM_KEY_COLUMN;

  public static final java.lang.String PARAM_MAPPED_KEY_COLUMN;

  public static final java.lang.String PARAM_EXTERNAL_ID_COLUMN;

  static final java.lang.String EXPRESSION_KEY;

  static final java.lang.String LOOKUP_TABLE_KEY;

  private org.jumpmind.symmetric.db.ISymmetricDialect symmetricDialect;

  public org.jumpmind.symmetric.route.LookupTableDataRouter(org.jumpmind.symmetric.db.ISymmetricDialect);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/jumpmind/symmetric/route/AbstractDataRouter."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field symmetricDialect:Lorg/jumpmind/symmetric/db/ISymmetricDialect;
       9: return

  public java.util.Set<java.lang.String> routeToNodes(org.jumpmind.symmetric.route.SimpleRouterContext, org.jumpmind.symmetric.model.DataMetaData, java.util.Set<org.jumpmind.symmetric.model.Node>, boolean);
    Code:
       0: aconst_null
       1: astore        5
       3: aload_2
       4: invokevirtual #3                  // Method org/jumpmind/symmetric/model/DataMetaData.getTriggerRouter:()Lorg/jumpmind/symmetric/model/TriggerRouter;
       7: invokevirtual #4                  // Method org/jumpmind/symmetric/model/TriggerRouter.getRouter:()Lorg/jumpmind/symmetric/model/Router;
      10: astore        6
      12: aload_0
      13: aload         6
      15: aload_1
      16: invokevirtual #5                  // Method getParams:(Lorg/jumpmind/symmetric/model/Router;Lorg/jumpmind/symmetric/route/SimpleRouterContext;)Ljava/util/Map;
      19: astore        7
      21: aload_0
      22: aload_2
      23: invokevirtual #6                  // Method getDataMap:(Lorg/jumpmind/symmetric/model/DataMetaData;)Ljava/util/Map;
      26: astore        8
      28: aload         7
      30: ldc           #7                  // String LOOKUP_TABLE
      32: invokeinterface #8,  2            // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      37: ifeq          80
      40: aload         7
      42: ldc           #9                  // String KEY_COLUMN
      44: invokeinterface #8,  2            // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      49: ifeq          80
      52: aload         7
      54: ldc           #10                 // String LOOKUP_KEY_COLUMN
      56: invokeinterface #8,  2            // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      61: ifeq          80
      64: aload         7
      66: ldc           #11                 // String EXTERNAL_ID_COLUMN
      68: invokeinterface #8,  2            // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      73: ifeq          80
      76: iconst_1
      77: goto          81
      80: iconst_0
      81: istore        9
      83: iload         9
      85: ifeq          211
      88: aload_0
      89: aload         7
      91: aload         6
      93: aload_1
      94: invokevirtual #12                 // Method getLookupTable:(Ljava/util/Map;Lorg/jumpmind/symmetric/model/Router;Lorg/jumpmind/symmetric/route/SimpleRouterContext;)Ljava/util/Map;
      97: astore        10
      99: aload         7
     101: ldc           #9                  // String KEY_COLUMN
     103: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     108: checkcast     #14                 // class java/lang/String
     111: astore        11
     113: aload         8
     115: aload         11
     117: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     122: checkcast     #14                 // class java/lang/String
     125: astore        12
     127: aload         10
     129: aload         12
     131: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     136: checkcast     #15                 // class java/util/Set
     139: astore        13
     141: aload         13
     143: ifnull        208
     146: aload_3
     147: invokeinterface #16,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     152: astore        14
     154: aload         14
     156: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     161: ifeq          208
     164: aload         14
     166: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     171: checkcast     #19                 // class org/jumpmind/symmetric/model/Node
     174: astore        15
     176: aload         13
     178: aload         15
     180: invokevirtual #20                 // Method org/jumpmind/symmetric/model/Node.getExternalId:()Ljava/lang/String;
     183: invokeinterface #21,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     188: ifeq          205
     191: aload_0
     192: aload         15
     194: invokevirtual #22                 // Method org/jumpmind/symmetric/model/Node.getNodeId:()Ljava/lang/String;
     197: aload         5
     199: aload_3
     200: invokevirtual #23                 // Method addNodeId:(Ljava/lang/String;Ljava/util/Set;Ljava/util/Set;)Ljava/util/Set;
     203: astore        5
     205: goto          154
     208: goto          226
     211: getstatic     #24                 // Field log:Lorg/slf4j/Logger;
     214: ldc           #25                 // String The provided table mapped router expression was invalid: {}.
     216: aload         6
     218: invokevirtual #26                 // Method org/jumpmind/symmetric/model/Router.getRouterExpression:()Ljava/lang/String;
     221: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     226: aload         5
     228: areturn

  protected java.util.Map<java.lang.String, java.lang.String> getParams(org.jumpmind.symmetric.model.Router, org.jumpmind.symmetric.route.SimpleRouterContext);
    Code:
       0: new           #28                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
       7: getstatic     #30                 // Field EXPRESSION_KEY:Ljava/lang/String;
      10: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: invokevirtual #32                 // Method org/jumpmind/symmetric/model/Router.getRouterId:()Ljava/lang/String;
      17: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: astore_3
      24: aload_2
      25: invokevirtual #34                 // Method org/jumpmind/symmetric/route/SimpleRouterContext.getContextCache:()Ljava/util/Map;
      28: aload_3
      29: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      34: checkcast     #35                 // class java/util/Map
      37: astore        4
      39: aload         4
      41: ifnonnull     166
      44: new           #36                 // class java/util/HashMap
      47: dup
      48: invokespecial #37                 // Method java/util/HashMap."<init>":()V
      51: astore        4
      53: aload_2
      54: invokevirtual #34                 // Method org/jumpmind/symmetric/route/SimpleRouterContext.getContextCache:()Ljava/util/Map;
      57: aload_3
      58: aload         4
      60: invokeinterface #38,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      65: pop
      66: aload_1
      67: invokevirtual #26                 // Method org/jumpmind/symmetric/model/Router.getRouterExpression:()Ljava/lang/String;
      70: astore        5
      72: aload         5
      74: invokestatic  #39                 // Method org/apache/commons/lang/StringUtils.isBlank:(Ljava/lang/String;)Z
      77: ifne          166
      80: aload         5
      82: ldc           #40                 // String \r\n|\r|\n
      84: invokevirtual #41                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      87: astore        6
      89: aload         6
      91: ifnull        166
      94: aload         6
      96: astore        7
      98: aload         7
     100: arraylength
     101: istore        8
     103: iconst_0
     104: istore        9
     106: iload         9
     108: iload         8
     110: if_icmpge     166
     113: aload         7
     115: iload         9
     117: aaload
     118: astore        10
     120: aload         10
     122: invokestatic  #39                 // Method org/apache/commons/lang/StringUtils.isBlank:(Ljava/lang/String;)Z
     125: ifne          160
     128: aload         10
     130: ldc           #42                 // String =
     132: invokevirtual #41                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
     135: astore        11
     137: aload         11
     139: arraylength
     140: iconst_2
     141: if_icmplt     160
     144: aload         4
     146: aload         11
     148: iconst_0
     149: aaload
     150: aload         11
     152: iconst_1
     153: aaload
     154: invokeinterface #38,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     159: pop
     160: iinc          9, 1
     163: goto          106
     166: aload         4
     168: areturn

  protected java.util.Map<java.lang.String, java.util.Set<java.lang.String>> getLookupTable(java.util.Map<java.lang.String, java.lang.String>, org.jumpmind.symmetric.model.Router, org.jumpmind.symmetric.route.SimpleRouterContext);
    Code:
       0: new           #28                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
       7: getstatic     #43                 // Field LOOKUP_TABLE_KEY:Ljava/lang/String;
      10: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: ldc           #44                 // String .
      15: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      18: aload_1
      19: ldc           #45                 // String TABLENAME
      21: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      26: checkcast     #14                 // class java/lang/String
      29: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      35: astore        4
      37: aload_3
      38: invokevirtual #34                 // Method org/jumpmind/symmetric/route/SimpleRouterContext.getContextCache:()Ljava/util/Map;
      41: aload         4
      43: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      48: checkcast     #35                 // class java/util/Map
      51: astore        5
      53: aload         5
      55: ifnonnull     166
      58: aload_0
      59: getfield      #2                  // Field symmetricDialect:Lorg/jumpmind/symmetric/db/ISymmetricDialect;
      62: invokeinterface #46,  1           // InterfaceMethod org/jumpmind/symmetric/db/ISymmetricDialect.getPlatform:()Lorg/jumpmind/db/platform/IDatabasePlatform;
      67: invokeinterface #47,  1           // InterfaceMethod org/jumpmind/db/platform/IDatabasePlatform.getSqlTemplate:()Lorg/jumpmind/db/sql/ISqlTemplate;
      72: astore        6
      74: new           #36                 // class java/util/HashMap
      77: dup
      78: invokespecial #37                 // Method java/util/HashMap."<init>":()V
      81: astore        7
      83: aload         6
      85: ldc           #48                 // String select %s, %s from %s
      87: iconst_3
      88: anewarray     #49                 // class java/lang/Object
      91: dup
      92: iconst_0
      93: aload_1
      94: ldc           #10                 // String LOOKUP_KEY_COLUMN
      96: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     101: aastore
     102: dup
     103: iconst_1
     104: aload_1
     105: ldc           #11                 // String EXTERNAL_ID_COLUMN
     107: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     112: aastore
     113: dup
     114: iconst_2
     115: aload_1
     116: ldc           #7                  // String LOOKUP_TABLE
     118: invokeinterface #13,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     123: aastore
     124: invokestatic  #50                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     127: new           #51                 // class org/jumpmind/symmetric/route/LookupTableDataRouter$1
     130: dup
     131: aload_0
     132: aload_1
     133: aload         7
     135: invokespecial #52                 // Method org/jumpmind/symmetric/route/LookupTableDataRouter$1."<init>":(Lorg/jumpmind/symmetric/route/LookupTableDataRouter;Ljava/util/Map;Ljava/util/Map;)V
     138: iconst_0
     139: anewarray     #49                 // class java/lang/Object
     142: invokeinterface #53,  4           // InterfaceMethod org/jumpmind/db/sql/ISqlTemplate.query:(Ljava/lang/String;Lorg/jumpmind/db/sql/ISqlRowMapper;[Ljava/lang/Object;)Ljava/util/List;
     147: pop
     148: aload         7
     150: astore        5
     152: aload_3
     153: invokevirtual #34                 // Method org/jumpmind/symmetric/route/SimpleRouterContext.getContextCache:()Ljava/util/Map;
     156: aload         4
     158: aload         5
     160: invokeinterface #38,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     165: pop
     166: aload         5
     168: areturn

  static {};
    Code:
       0: ldc_w         #54                 // class org/jumpmind/symmetric/route/LookupTableDataRouter
       3: invokestatic  #55                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #24                 // Field log:Lorg/slf4j/Logger;
       9: ldc           #56                 // String %s.Expression.
      11: iconst_1
      12: anewarray     #49                 // class java/lang/Object
      15: dup
      16: iconst_0
      17: ldc_w         #54                 // class org/jumpmind/symmetric/route/LookupTableDataRouter
      20: invokevirtual #57                 // Method java/lang/Class.getName:()Ljava/lang/String;
      23: aastore
      24: invokestatic  #50                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      27: putstatic     #30                 // Field EXPRESSION_KEY:Ljava/lang/String;
      30: ldc           #58                 // String %s.Table.
      32: iconst_1
      33: anewarray     #49                 // class java/lang/Object
      36: dup
      37: iconst_0
      38: ldc_w         #54                 // class org/jumpmind/symmetric/route/LookupTableDataRouter
      41: invokevirtual #57                 // Method java/lang/Class.getName:()Ljava/lang/String;
      44: aastore
      45: invokestatic  #50                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      48: putstatic     #43                 // Field LOOKUP_TABLE_KEY:Ljava/lang/String;
      51: return
}
