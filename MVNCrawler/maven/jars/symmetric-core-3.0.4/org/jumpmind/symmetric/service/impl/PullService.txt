Compiled from "PullService.java"
public class org.jumpmind.symmetric.service.impl.PullService extends org.jumpmind.symmetric.service.impl.AbstractOfflineDetectorService implements org.jumpmind.symmetric.service.IPullService,org.jumpmind.symmetric.service.INodeCommunicationService$INodeCommunicationExecutor {
  private org.jumpmind.symmetric.service.INodeService nodeService;

  private org.jumpmind.symmetric.service.IRegistrationService registrationService;

  private org.jumpmind.symmetric.service.IClusterService clusterService;

  private org.jumpmind.symmetric.service.INodeCommunicationService nodeCommunicationService;

  private org.jumpmind.symmetric.service.IDataLoaderService dataLoaderService;

  public org.jumpmind.symmetric.service.impl.PullService(org.jumpmind.symmetric.service.IParameterService, org.jumpmind.symmetric.db.ISymmetricDialect, org.jumpmind.symmetric.service.INodeService, org.jumpmind.symmetric.service.IDataLoaderService, org.jumpmind.symmetric.service.IRegistrationService, org.jumpmind.symmetric.service.IClusterService, org.jumpmind.symmetric.service.INodeCommunicationService);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method org/jumpmind/symmetric/service/impl/AbstractOfflineDetectorService."<init>":(Lorg/jumpmind/symmetric/service/IParameterService;Lorg/jumpmind/symmetric/db/ISymmetricDialect;)V
       6: aload_0
       7: aload_3
       8: putfield      #2                  // Field nodeService:Lorg/jumpmind/symmetric/service/INodeService;
      11: aload_0
      12: aload         5
      14: putfield      #3                  // Field registrationService:Lorg/jumpmind/symmetric/service/IRegistrationService;
      17: aload_0
      18: aload         6
      20: putfield      #4                  // Field clusterService:Lorg/jumpmind/symmetric/service/IClusterService;
      23: aload_0
      24: aload         7
      26: putfield      #5                  // Field nodeCommunicationService:Lorg/jumpmind/symmetric/service/INodeCommunicationService;
      29: aload_0
      30: aload         4
      32: putfield      #6                  // Field dataLoaderService:Lorg/jumpmind/symmetric/service/IDataLoaderService;
      35: return

  public synchronized org.jumpmind.symmetric.model.RemoteNodeStatuses pullData(boolean);
    Code:
       0: new           #7                  // class org/jumpmind/symmetric/model/RemoteNodeStatuses
       3: dup
       4: invokespecial #8                  // Method org/jumpmind/symmetric/model/RemoteNodeStatuses."<init>":()V
       7: astore_2
       8: aload_0
       9: getfield      #2                  // Field nodeService:Lorg/jumpmind/symmetric/service/INodeService;
      12: iconst_0
      13: invokeinterface #9,  2            // InterfaceMethod org/jumpmind/symmetric/service/INodeService.findIdentity:(Z)Lorg/jumpmind/symmetric/model/Node;
      18: astore_3
      19: aload_3
      20: ifnull        30
      23: aload_3
      24: invokevirtual #10                 // Method org/jumpmind/symmetric/model/Node.isSyncEnabled:()Z
      27: ifeq          211
      30: iload_1
      31: ifne          48
      34: aload_0
      35: getfield      #4                  // Field clusterService:Lorg/jumpmind/symmetric/service/IClusterService;
      38: ldc           #11                 // String PULL
      40: invokeinterface #12,  2           // InterfaceMethod org/jumpmind/symmetric/service/IClusterService.lock:(Ljava/lang/String;)Z
      45: ifeq          200
      48: aload_0
      49: getfield      #3                  // Field registrationService:Lorg/jumpmind/symmetric/service/IRegistrationService;
      52: invokeinterface #13,  1           // InterfaceMethod org/jumpmind/symmetric/service/IRegistrationService.registerWithServer:()V
      57: aload_0
      58: getfield      #2                  // Field nodeService:Lorg/jumpmind/symmetric/service/INodeService;
      61: iconst_0
      62: invokeinterface #9,  2            // InterfaceMethod org/jumpmind/symmetric/service/INodeService.findIdentity:(Z)Lorg/jumpmind/symmetric/model/Node;
      67: astore_3
      68: aload_3
      69: ifnull        164
      72: aload_0
      73: getfield      #5                  // Field nodeCommunicationService:Lorg/jumpmind/symmetric/service/INodeCommunicationService;
      76: getstatic     #14                 // Field org/jumpmind/symmetric/model/NodeCommunication$CommunicationType.PULL:Lorg/jumpmind/symmetric/model/NodeCommunication$CommunicationType;
      79: invokeinterface #15,  2           // InterfaceMethod org/jumpmind/symmetric/service/INodeCommunicationService.list:(Lorg/jumpmind/symmetric/model/NodeCommunication$CommunicationType;)Ljava/util/List;
      84: astore        4
      86: aload_0
      87: getfield      #5                  // Field nodeCommunicationService:Lorg/jumpmind/symmetric/service/INodeCommunicationService;
      90: getstatic     #14                 // Field org/jumpmind/symmetric/model/NodeCommunication$CommunicationType.PULL:Lorg/jumpmind/symmetric/model/NodeCommunication$CommunicationType;
      93: invokeinterface #16,  2           // InterfaceMethod org/jumpmind/symmetric/service/INodeCommunicationService.getAvailableThreads:(Lorg/jumpmind/symmetric/model/NodeCommunication$CommunicationType;)I
      98: istore        5
     100: aload         4
     102: invokeinterface #17,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     107: astore        6
     109: aload         6
     111: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     116: ifeq          164
     119: aload         6
     121: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     126: checkcast     #20                 // class org/jumpmind/symmetric/model/NodeCommunication
     129: astore        7
     131: iload         5
     133: ifle          161
     136: aload         7
     138: invokevirtual #21                 // Method org/jumpmind/symmetric/model/NodeCommunication.isLocked:()Z
     141: ifne          161
     144: aload_0
     145: getfield      #5                  // Field nodeCommunicationService:Lorg/jumpmind/symmetric/service/INodeCommunicationService;
     148: aload         7
     150: aload_2
     151: aload_0
     152: invokeinterface #22,  4           // InterfaceMethod org/jumpmind/symmetric/service/INodeCommunicationService.execute:(Lorg/jumpmind/symmetric/model/NodeCommunication;Lorg/jumpmind/symmetric/model/RemoteNodeStatuses;Lorg/jumpmind/symmetric/service/INodeCommunicationService$INodeCommunicationExecutor;)Z
     157: pop
     158: iinc          5, -1
     161: goto          109
     164: jsr           178
     167: goto          197
     170: astore        8
     172: jsr           178
     175: aload         8
     177: athrow
     178: astore        9
     180: iload_1
     181: ifne          195
     184: aload_0
     185: getfield      #4                  // Field clusterService:Lorg/jumpmind/symmetric/service/IClusterService;
     188: ldc           #11                 // String PULL
     190: invokeinterface #23,  2           // InterfaceMethod org/jumpmind/symmetric/service/IClusterService.unlock:(Ljava/lang/String;)V
     195: ret           9
     197: goto          211
     200: aload_0
     201: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     204: ldc           #25                 // String Did not run the pull process because the cluster service has it locked
     206: invokeinterface #26,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     211: aload_2
     212: areturn
    Exception table:
       from    to  target type
          48   167   170   any
         170   175   170   any

  public void execute(org.jumpmind.symmetric.model.NodeCommunication, org.jumpmind.symmetric.model.RemoteNodeStatus);
    Code:
       0: aload_1
       1: invokevirtual #27                 // Method org/jumpmind/symmetric/model/NodeCommunication.getNode:()Lorg/jumpmind/symmetric/model/Node;
       4: astore_3
       5: aload_3
       6: invokevirtual #28                 // Method org/jumpmind/symmetric/model/Node.getSyncUrl:()Ljava/lang/String;
       9: invokestatic  #29                 // Method org/apache/commons/lang/StringUtils.isNotBlank:(Ljava/lang/String;)Z
      12: ifeq          413
      15: iconst_0
      16: istore        4
      18: aload_2
      19: invokevirtual #30                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getBatchesProcessed:()J
      22: lstore        5
      24: iinc          4, 1
      27: aload_0
      28: getfield      #24                 // Field log:Lorg/slf4j/Logger;
      31: ldc           #31                 // String Pull requested for {}
      33: aload_3
      34: invokevirtual #32                 // Method org/jumpmind/symmetric/model/Node.toString:()Ljava/lang/String;
      37: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      42: iload         4
      44: iconst_1
      45: if_icmple     59
      48: aload_0
      49: getfield      #24                 // Field log:Lorg/slf4j/Logger;
      52: ldc           #34                 // String Immediate pull requested while in reload mode
      54: invokeinterface #26,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      59: aload_0
      60: getfield      #6                  // Field dataLoaderService:Lorg/jumpmind/symmetric/service/IDataLoaderService;
      63: aload_3
      64: aload_2
      65: invokeinterface #35,  3           // InterfaceMethod org/jumpmind/symmetric/service/IDataLoaderService.loadDataFromPull:(Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
      70: aload_2
      71: invokevirtual #36                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getDataProcessed:()J
      74: lconst_0
      75: lcmp
      76: ifgt          88
      79: aload_2
      80: invokevirtual #30                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getBatchesProcessed:()J
      83: lconst_0
      84: lcmp
      85: ifle          133
      88: aload_0
      89: getfield      #24                 // Field log:Lorg/slf4j/Logger;
      92: ldc           #37                 // String Pull data received from {}.  {} rows and {} batches were processed
      94: iconst_3
      95: anewarray     #38                 // class java/lang/Object
      98: dup
      99: iconst_0
     100: aload_3
     101: invokevirtual #32                 // Method org/jumpmind/symmetric/model/Node.toString:()Ljava/lang/String;
     104: aastore
     105: dup
     106: iconst_1
     107: aload_2
     108: invokevirtual #36                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getDataProcessed:()J
     111: invokestatic  #39                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     114: aastore
     115: dup
     116: iconst_2
     117: aload_2
     118: invokevirtual #30                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getBatchesProcessed:()J
     121: invokestatic  #39                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     124: aastore
     125: invokeinterface #40,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     130: goto          175
     133: aload_0
     134: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     137: ldc           #37                 // String Pull data received from {}.  {} rows and {} batches were processed
     139: iconst_3
     140: anewarray     #38                 // class java/lang/Object
     143: dup
     144: iconst_0
     145: aload_3
     146: invokevirtual #32                 // Method org/jumpmind/symmetric/model/Node.toString:()Ljava/lang/String;
     149: aastore
     150: dup
     151: iconst_1
     152: aload_2
     153: invokevirtual #36                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getDataProcessed:()J
     156: invokestatic  #39                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     159: aastore
     160: dup
     161: iconst_2
     162: aload_2
     163: invokevirtual #30                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getBatchesProcessed:()J
     166: invokestatic  #39                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     169: aastore
     170: invokeinterface #41,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     175: aload_0
     176: getfield      #2                  // Field nodeService:Lorg/jumpmind/symmetric/service/INodeService;
     179: invokeinterface #42,  1           // InterfaceMethod org/jumpmind/symmetric/service/INodeService.isDataLoadStarted:()Z
     184: ifeq          204
     187: aload_2
     188: invokevirtual #43                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.failed:()Z
     191: ifne          204
     194: aload_2
     195: invokevirtual #30                 // Method org/jumpmind/symmetric/model/RemoteNodeStatus.getBatchesProcessed:()J
     198: lload         5
     200: lcmp
     201: ifgt          24
     204: goto          432
     207: astore        4
     209: aload_0
     210: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     213: ldc           #45                 // String TransportFailedConnectionUnavailable
     215: aload_3
     216: invokevirtual #28                 // Method org/jumpmind/symmetric/model/Node.getSyncUrl:()Ljava/lang/String;
     219: ifnonnull     234
     222: aload_0
     223: getfield      #46                 // Field parameterService:Lorg/jumpmind/symmetric/service/IParameterService;
     226: invokeinterface #47,  1           // InterfaceMethod org/jumpmind/symmetric/service/IParameterService.getRegistrationUrl:()Ljava/lang/String;
     231: goto          238
     234: aload_3
     235: invokevirtual #28                 // Method org/jumpmind/symmetric/model/Node.getSyncUrl:()Ljava/lang/String;
     238: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     243: aload_0
     244: aload         4
     246: aload_3
     247: aload_2
     248: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     251: goto          432
     254: astore        4
     256: aload_0
     257: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     260: ldc           #51                 // String The server was too busy to accept the connection
     262: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     267: aload_0
     268: aload         4
     270: aload_3
     271: aload_2
     272: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     275: goto          432
     278: astore        4
     280: aload_0
     281: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     284: ldc           #54                 // String Could not authenticate with node
     286: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     291: aload_0
     292: aload         4
     294: aload_3
     295: aload_2
     296: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     299: goto          432
     302: astore        4
     304: aload_0
     305: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     308: ldc           #56                 // String Synchronization is disabled on the server node
     310: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     315: aload_0
     316: aload         4
     318: aload_3
     319: aload_2
     320: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     323: goto          432
     326: astore        4
     328: aload_0
     329: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     332: ldc           #58                 // String {}
     334: aload         4
     336: invokevirtual #59                 // Method java/net/SocketException.getMessage:()Ljava/lang/String;
     339: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     344: aload_0
     345: aload         4
     347: aload_3
     348: aload_2
     349: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     352: goto          432
     355: astore        4
     357: aload_0
     358: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     361: ldc           #58                 // String {}
     363: aload         4
     365: invokevirtual #61                 // Method org/jumpmind/symmetric/transport/TransportException.getMessage:()Ljava/lang/String;
     368: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     373: aload_0
     374: aload         4
     376: aload_3
     377: aload_2
     378: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     381: goto          432
     384: astore        4
     386: aload_0
     387: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     390: aload         4
     392: invokevirtual #63                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
     395: aload         4
     397: invokeinterface #64,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     402: aload_0
     403: aload         4
     405: aload_3
     406: aload_2
     407: invokevirtual #49                 // Method fireOffline:(Ljava/lang/Exception;Lorg/jumpmind/symmetric/model/Node;Lorg/jumpmind/symmetric/model/RemoteNodeStatus;)V
     410: goto          432
     413: aload_0
     414: getfield      #24                 // Field log:Lorg/slf4j/Logger;
     417: ldc           #65                 // String Cannot pull node \'{}\' in the group \'{}\'.  The sync url is blank
     419: aload_3
     420: invokevirtual #66                 // Method org/jumpmind/symmetric/model/Node.getNodeId:()Ljava/lang/String;
     423: aload_3
     424: invokevirtual #67                 // Method org/jumpmind/symmetric/model/Node.getNodeGroupId:()Ljava/lang/String;
     427: invokeinterface #68,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     432: return
    Exception table:
       from    to  target type
          15   204   207   Class java/net/ConnectException
          15   204   254   Class org/jumpmind/symmetric/transport/ConnectionRejectedException
          15   204   278   Class org/jumpmind/symmetric/transport/AuthenticationException
          15   204   302   Class org/jumpmind/symmetric/transport/SyncDisabledException
          15   204   326   Class java/net/SocketException
          15   204   355   Class org/jumpmind/symmetric/transport/TransportException
          15   204   384   Class java/io/IOException
}
