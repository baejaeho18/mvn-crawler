Compiled from "BandwidthService.java"
public class org.jumpmind.symmetric.service.impl.BandwidthService implements org.jumpmind.symmetric.service.IBandwidthService {
  protected final org.slf4j.Logger log;

  private org.jumpmind.symmetric.service.IParameterService parameterService;

  public org.jumpmind.symmetric.service.impl.BandwidthService(org.jumpmind.symmetric.service.IParameterService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #2                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      12: putfield      #4                  // Field log:Lorg/slf4j/Logger;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field parameterService:Lorg/jumpmind/symmetric/service/IParameterService;
      20: return

  public double getDownloadKbpsFor(java.lang.String, long, long);
    Code:
       0: ldc2_w        #6                  // double -1.0d
       3: dstore        6
       5: aload_0
       6: aload_1
       7: lload_2
       8: lload         4
      10: invokevirtual #8                  // Method getDownloadResultsFor:(Ljava/lang/String;JJ)Lorg/jumpmind/symmetric/transport/BandwidthTestResults;
      13: astore        8
      15: aload         8
      17: invokevirtual #9                  // Method org/jumpmind/symmetric/transport/BandwidthTestResults.getKbps:()D
      20: d2i
      21: i2d
      22: dstore        6
      24: goto          62
      27: astore        8
      29: aload_0
      30: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      33: ldc           #11                 // String Socket timeout while attempting to contact {}
      35: aload_1
      36: invokeinterface #12,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      41: goto          62
      44: astore        8
      46: aload_0
      47: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      50: aload         8
      52: invokevirtual #14                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      55: aload         8
      57: invokeinterface #15,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      62: dload         6
      64: dreturn
    Exception table:
       from    to  target type
           5    24    27   Class java/net/SocketTimeoutException
           5    24    44   Class java/lang/Exception

  protected org.jumpmind.symmetric.transport.BandwidthTestResults getDownloadResultsFor(java.lang.String, long, long) throws java.io.IOException;
    Code:
       0: sipush        1024
       3: newarray       byte
       5: astore        6
       7: aconst_null
       8: astore        7
      10: new           #16                 // class org/jumpmind/symmetric/transport/BandwidthTestResults
      13: dup
      14: invokespecial #17                 // Method org/jumpmind/symmetric/transport/BandwidthTestResults."<init>":()V
      17: astore        8
      19: new           #18                 // class java/net/URL
      22: dup
      23: ldc           #19                 // String %s/bandwidth?sampleSize=%s
      25: iconst_2
      26: anewarray     #20                 // class java/lang/Object
      29: dup
      30: iconst_0
      31: aload_1
      32: aastore
      33: dup
      34: iconst_1
      35: lload_2
      36: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      39: aastore
      40: invokestatic  #22                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      43: invokespecial #23                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
      46: astore        9
      48: aload         8
      50: invokevirtual #24                 // Method org/jumpmind/symmetric/transport/BandwidthTestResults.start:()V
      53: aload         9
      55: invokevirtual #25                 // Method java/net/URL.openConnection:()Ljava/net/URLConnection;
      58: checkcast     #26                 // class java/net/HttpURLConnection
      61: astore        10
      63: aload_0
      64: aload         10
      66: invokevirtual #27                 // Method setBasicAuthIfNeeded:(Ljava/net/HttpURLConnection;)V
      69: aload         10
      71: invokevirtual #28                 // Method java/net/HttpURLConnection.connect:()V
      74: aload         10
      76: invokevirtual #29                 // Method java/net/HttpURLConnection.getInputStream:()Ljava/io/InputStream;
      79: astore        7
      81: iconst_m1
      82: aload         7
      84: aload         6
      86: invokevirtual #30                 // Method java/io/InputStream.read:([B)I
      89: dup
      90: istore        11
      92: if_icmpeq     116
      95: aload         8
      97: invokevirtual #31                 // Method org/jumpmind/symmetric/transport/BandwidthTestResults.getElapsed:()J
     100: lload         4
     102: lcmp
     103: ifgt          116
     106: aload         8
     108: iload         11
     110: invokevirtual #32                 // Method org/jumpmind/symmetric/transport/BandwidthTestResults.transmitted:(I)V
     113: goto          81
     116: aload         7
     118: invokevirtual #33                 // Method java/io/InputStream.close:()V
     121: aload         8
     123: invokevirtual #34                 // Method org/jumpmind/symmetric/transport/BandwidthTestResults.stop:()V
     126: aload_0
     127: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     130: ldc           #35                 // String {} was calculated to have a download bandwidth of {} kbps
     132: aload_1
     133: aload         8
     135: invokevirtual #9                  // Method org/jumpmind/symmetric/transport/BandwidthTestResults.getKbps:()D
     138: invokestatic  #36                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     141: invokeinterface #37,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     146: aload         8
     148: astore        12
     150: jsr           164
     153: aload         12
     155: areturn
     156: astore        13
     158: jsr           164
     161: aload         13
     163: athrow
     164: astore        14
     166: aload         7
     168: invokestatic  #38                 // Method org/apache/commons/io/IOUtils.closeQuietly:(Ljava/io/InputStream;)V
     171: ret           14
    Exception table:
       from    to  target type
          10   153   156   any
         156   161   156   any

  protected void setBasicAuthIfNeeded(java.net.HttpURLConnection);
    Code:
       0: aload_0
       1: getfield      #5                  // Field parameterService:Lorg/jumpmind/symmetric/service/IParameterService;
       4: ifnull        33
       7: aload_1
       8: aload_0
       9: getfield      #5                  // Field parameterService:Lorg/jumpmind/symmetric/service/IParameterService;
      12: ldc           #39                 // String http.basic.auth.username
      14: invokeinterface #40,  2           // InterfaceMethod org/jumpmind/symmetric/service/IParameterService.getString:(Ljava/lang/String;)Ljava/lang/String;
      19: aload_0
      20: getfield      #5                  // Field parameterService:Lorg/jumpmind/symmetric/service/IParameterService;
      23: ldc           #41                 // String http.basic.auth.password
      25: invokeinterface #40,  2           // InterfaceMethod org/jumpmind/symmetric/service/IParameterService.getString:(Ljava/lang/String;)Ljava/lang/String;
      30: invokestatic  #42                 // Method org/jumpmind/symmetric/transport/http/HttpTransportManager.setBasicAuthIfNeeded:(Ljava/net/HttpURLConnection;Ljava/lang/String;Ljava/lang/String;)V
      33: return
}
