Compiled from "CmdlineRemoteTerminal.java"
public class apdu4j.remote.CmdlineRemoteTerminal implements java.lang.Runnable {
  private apdu4j.remote.JSONMessagePipe pipe;

  apdu4j.remote.JSONCardTerminalClient jsonterminal;

  public apdu4j.remote.CmdlineRemoteTerminal(apdu4j.remote.JSONMessagePipe, javax.smartcardio.CardTerminal);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
       9: aload_0
      10: new           #3                  // class apdu4j/remote/JSONCardTerminalClient
      13: dup
      14: aload_2
      15: aload_1
      16: invokespecial #4                  // Method apdu4j/remote/JSONCardTerminalClient."<init>":(Ljavax/smartcardio/CardTerminal;Lapdu4j/remote/JSONMessagePipe;)V
      19: putfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
      22: return

  public void run();
    Code:
       0: ldc           #6                  // String start
       2: invokestatic  #7                  // Method apdu4j/remote/JSONProtocol.cmd:(Ljava/lang/String;)Ljava/util/Map;
       5: astore_1
       6: aload_1
       7: ldc           #8                  // String lang
       9: invokestatic  #9                  // Method java/util/Locale.getDefault:()Ljava/util/Locale;
      12: invokevirtual #10                 // Method java/util/Locale.getLanguage:()Ljava/lang/String;
      15: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      20: pop
      21: aload_0
      22: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
      25: aload_1
      26: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
      31: aload_0
      32: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
      35: invokeinterface #13,  1           // InterfaceMethod apdu4j/remote/JSONMessagePipe.recv:()Ljava/util/Map;
      40: astore_2
      41: aload_0
      42: getfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
      45: aload_2
      46: invokevirtual #14                 // Method apdu4j/remote/JSONCardTerminalClient.processMessage:(Ljava/util/Map;)Z
      49: ifne          63
      52: aload_0
      53: aload_2
      54: invokespecial #15                 // Method processMessage:(Ljava/util/Map;)Z
      57: ifne          63
      60: goto          66
      63: goto          31
      66: goto          130
      69: astore_1
      70: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      73: new           #18                 // class java/lang/StringBuilder
      76: dup
      77: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      80: ldc           #20                 // String Messaging failed:
      82: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: aload_1
      86: invokevirtual #22                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
      89: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      95: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      98: goto          130
     101: astore_1
     102: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
     105: new           #18                 // class java/lang/StringBuilder
     108: dup
     109: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     112: ldc           #26                 // String \nReader failed:
     114: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     117: aload_1
     118: invokestatic  #27                 // Method apdu4j/TerminalManager.getExceptionMessage:(Ljava/lang/Exception;)Ljava/lang/String;
     121: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     124: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     127: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     130: return
    Exception table:
       from    to  target type
           0    66    69   Class java/io/IOException
           0    66   101   Class javax/smartcardio/CardException

  public void forceProtocol(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
       4: aload_1
       5: putfield      #28                 // Field apdu4j/remote/JSONCardTerminalClient.protocol:Ljava/lang/String;
       8: return

  public void transact(boolean);
    Code:
       0: aload_0
       1: getfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
       4: iload_1
       5: putfield      #29                 // Field apdu4j/remote/JSONCardTerminalClient.transact:Z
       8: return

  private void verify(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
       4: invokevirtual #30                 // Method apdu4j/remote/JSONCardTerminalClient.isConnected:()Z
       7: ifne          20
      10: new           #31                 // class java/lang/IllegalStateException
      13: dup
      14: ldc           #32                 // String Can not verify PIN codes if no connection to a card is established!
      16: invokespecial #33                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      19: athrow
      20: invokestatic  #34                 // Method java/lang/System.console:()Ljava/io/Console;
      23: astore_2
      24: aload_1
      25: ldc           #35                 // String p2
      27: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      32: checkcast     #37                 // class java/lang/Long
      35: invokevirtual #38                 // Method java/lang/Long.intValue:()I
      38: istore_3
      39: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      42: aload_1
      43: ldc           #39                 // String text
      45: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      50: checkcast     #40                 // class java/lang/String
      53: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      56: aload_2
      57: ldc           #41                 // String Enter PIN:
      59: iconst_0
      60: anewarray     #42                 // class java/lang/Object
      63: invokevirtual #43                 // Method java/io/Console.readPassword:(Ljava/lang/String;[Ljava/lang/Object;)[C
      66: astore        4
      68: aload         4
      70: ifnonnull     89
      73: aload_0
      74: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
      77: aload_1
      78: ldc           #44                 // String No pin entered
      80: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
      83: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
      88: return
      89: new           #40                 // class java/lang/String
      92: dup
      93: aload         4
      95: invokespecial #46                 // Method java/lang/String."<init>":([C)V
      98: getstatic     #47                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     101: invokevirtual #48                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     104: astore        5
     106: new           #49                 // class javax/smartcardio/CommandAPDU
     109: dup
     110: iconst_0
     111: bipush        32
     113: iconst_0
     114: iload_3
     115: aload         5
     117: invokespecial #50                 // Method javax/smartcardio/CommandAPDU."<init>":(IIII[B)V
     120: astore        6
     122: aload_0
     123: getfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
     126: getfield      #51                 // Field apdu4j/remote/JSONCardTerminalClient.card:Ljavax/smartcardio/Card;
     129: invokevirtual #52                 // Method javax/smartcardio/Card.getBasicChannel:()Ljavax/smartcardio/CardChannel;
     132: aload         6
     134: invokevirtual #53                 // Method javax/smartcardio/CardChannel.transmit:(Ljavax/smartcardio/CommandAPDU;)Ljavax/smartcardio/ResponseAPDU;
     137: astore        7
     139: aconst_null
     140: astore        8
     142: aload         7
     144: invokevirtual #54                 // Method javax/smartcardio/ResponseAPDU.getSW:()I
     147: ldc           #55                 // int 36864
     149: if_icmpne     161
     152: aload_1
     153: invokestatic  #56                 // Method apdu4j/remote/JSONProtocol.ok:(Ljava/util/Map;)Ljava/util/Map;
     156: astore        8
     158: goto          187
     161: aload_1
     162: ldc           #57                 // String Verification failed
     164: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
     167: astore        8
     169: aload         8
     171: ldc           #58                 // String bytes
     173: aload         7
     175: invokevirtual #59                 // Method javax/smartcardio/ResponseAPDU.getBytes:()[B
     178: invokestatic  #60                 // Method apdu4j/HexUtils.bin2hex:([B)Ljava/lang/String;
     181: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     186: pop
     187: aload_0
     188: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     191: aload         8
     193: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     198: goto          221
     201: astore        7
     203: aload_0
     204: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     207: aload_1
     208: aload         7
     210: invokevirtual #61                 // Method javax/smartcardio/CardException.getMessage:()Ljava/lang/String;
     213: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
     216: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     221: return
    Exception table:
       from    to  target type
         122   198   201   Class javax/smartcardio/CardException

  private void dialog(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: new           #18                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #62                 // String #
      12: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: ldc           #39                 // String text
      18: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      26: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      29: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      32: aload_1
      33: invokestatic  #56                 // Method apdu4j/remote/JSONProtocol.ok:(Ljava/util/Map;)Ljava/util/Map;
      36: astore_2
      37: aload_0
      38: ldc           #64                 // String Decision
      40: invokespecial #65                 // Method get_yes_or_no_console:(Ljava/lang/String;)Z
      43: istore_3
      44: iload_3
      45: ifne          62
      48: aload_2
      49: ldc           #66                 // String button
      51: ldc           #67                 // String red
      53: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      58: pop
      59: goto          73
      62: aload_2
      63: ldc           #66                 // String button
      65: ldc           #68                 // String green
      67: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: aload_0
      74: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
      77: aload_2
      78: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
      83: return

  private void input(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: new           #18                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #62                 // String #
      12: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: ldc           #39                 // String text
      18: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      26: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      29: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      32: aload_1
      33: invokestatic  #56                 // Method apdu4j/remote/JSONProtocol.ok:(Ljava/util/Map;)Ljava/util/Map;
      36: astore_2
      37: invokestatic  #34                 // Method java/lang/System.console:()Ljava/io/Console;
      40: astore_3
      41: aload_3
      42: ldc           #69                 // String >
      44: iconst_0
      45: anewarray     #42                 // class java/lang/Object
      48: invokevirtual #70                 // Method java/io/Console.readLine:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      51: astore        4
      53: aload         4
      55: ifnonnull     78
      58: aload_1
      59: ldc           #71                 // String Input was null
      61: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
      64: astore        5
      66: aload_0
      67: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
      70: aload         5
      72: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
      77: return
      78: aload         4
      80: invokevirtual #72                 // Method java/lang/String.trim:()Ljava/lang/String;
      83: astore        4
      85: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      88: new           #18                 // class java/lang/StringBuilder
      91: dup
      92: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      95: ldc           #73                 // String > \"
      97: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: aload         4
     102: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: ldc           #74                 // String \"
     107: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     116: aload_0
     117: ldc           #75                 // String Confirm
     119: invokespecial #65                 // Method get_yes_or_no_console:(Ljava/lang/String;)Z
     122: istore        5
     124: iload         5
     126: ifne          143
     129: aload_2
     130: ldc           #66                 // String button
     132: ldc           #67                 // String red
     134: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     139: pop
     140: goto          165
     143: aload_2
     144: ldc           #76                 // String value
     146: aload         4
     148: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     153: pop
     154: aload_2
     155: ldc           #66                 // String button
     157: ldc           #68                 // String green
     159: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     164: pop
     165: aload_0
     166: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     169: aload_2
     170: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     175: return

  private void select(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: new           #18                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #62                 // String #
      12: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: ldc           #39                 // String text
      18: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      26: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      29: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      32: iconst_1
      33: istore_2
      34: iload_2
      35: iconst_5
      36: if_icmpgt     101
      39: aload_1
      40: iload_2
      41: invokestatic  #77                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      44: invokeinterface #78,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      49: ifeq          101
      52: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      55: new           #18                 // class java/lang/StringBuilder
      58: dup
      59: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      62: ldc           #69                 // String >
      64: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: iload_2
      68: invokevirtual #79                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      71: ldc           #80                 // String =
      73: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: aload_1
      77: iload_2
      78: invokestatic  #77                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      81: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      86: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      89: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      92: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      95: iinc          2, 1
      98: goto          34
     101: invokestatic  #34                 // Method java/lang/System.console:()Ljava/io/Console;
     104: astore_2
     105: aload_2
     106: new           #18                 // class java/lang/StringBuilder
     109: dup
     110: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     113: aload_1
     114: ldc           #39                 // String text
     116: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     121: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     124: ldc           #81                 // String  >
     126: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     129: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     132: iconst_0
     133: anewarray     #42                 // class java/lang/Object
     136: invokevirtual #70                 // Method java/io/Console.readLine:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     139: astore_3
     140: aload_3
     141: ifnonnull     164
     144: aload_1
     145: ldc           #71                 // String Input was null
     147: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
     150: astore        4
     152: aload_0
     153: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     156: aload         4
     158: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     163: return
     164: aload_3
     165: invokevirtual #72                 // Method java/lang/String.trim:()Ljava/lang/String;
     168: astore_3
     169: aload_3
     170: invokestatic  #82                 // Method java/lang/Integer.valueOf:(Ljava/lang/String;)Ljava/lang/Integer;
     173: invokevirtual #83                 // Method java/lang/Integer.intValue:()I
     176: istore        4
     178: goto          216
     181: astore        5
     183: getstatic     #85                 // Field java/lang/System.err:Ljava/io/PrintStream;
     186: new           #18                 // class java/lang/StringBuilder
     189: dup
     190: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     193: ldc           #74                 // String \"
     195: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     198: aload_3
     199: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     202: ldc           #86                 // String \" is not a number
     204: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     207: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     210: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     213: goto          32
     216: aload_1
     217: aload_3
     218: invokeinterface #78,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     223: ifne          259
     226: getstatic     #85                 // Field java/lang/System.err:Ljava/io/PrintStream;
     229: new           #18                 // class java/lang/StringBuilder
     232: dup
     233: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     236: ldc           #74                 // String \"
     238: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     241: aload_3
     242: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     245: ldc           #87                 // String \" is not an available option
     247: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     250: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     253: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     256: goto          32
     259: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
     262: new           #18                 // class java/lang/StringBuilder
     265: dup
     266: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     269: ldc           #73                 // String > \"
     271: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     274: aload_1
     275: iload         4
     277: invokestatic  #77                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
     280: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     285: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     288: ldc           #74                 // String \"
     290: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     293: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     296: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     299: aload_0
     300: ldc           #75                 // String Confirm
     302: invokespecial #65                 // Method get_yes_or_no_console:(Ljava/lang/String;)Z
     305: istore        5
     307: aload_1
     308: invokestatic  #56                 // Method apdu4j/remote/JSONProtocol.ok:(Ljava/util/Map;)Ljava/util/Map;
     311: astore        6
     313: iload         5
     315: ifne          333
     318: aload         6
     320: ldc           #66                 // String button
     322: ldc           #67                 // String red
     324: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     329: pop
     330: goto          356
     333: aload         6
     335: ldc           #76                 // String value
     337: aload_3
     338: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     343: pop
     344: aload         6
     346: ldc           #66                 // String button
     348: ldc           #68                 // String green
     350: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     355: pop
     356: aload_0
     357: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     360: aload         6
     362: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     367: goto          370
     370: return
    Exception table:
       from    to  target type
         169   178   181   Class java/lang/NumberFormatException

  private void decrypt(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: aload_1
       1: ldc           #58                 // String bytes
       3: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #40                 // class java/lang/String
      11: astore_2
      12: aload_2
      13: ifnonnull     26
      16: new           #16                 // class java/io/IOException
      19: dup
      20: ldc           #88                 // String bytes is null
      22: invokespecial #89                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: new           #49                 // class javax/smartcardio/CommandAPDU
      29: dup
      30: aload_2
      31: invokestatic  #90                 // Method apdu4j/HexUtils.hex2bin:(Ljava/lang/String;)[B
      34: invokespecial #91                 // Method javax/smartcardio/CommandAPDU."<init>":([B)V
      37: astore_3
      38: aload_0
      39: getfield      #5                  // Field jsonterminal:Lapdu4j/remote/JSONCardTerminalClient;
      42: getfield      #51                 // Field apdu4j/remote/JSONCardTerminalClient.card:Ljavax/smartcardio/Card;
      45: invokevirtual #52                 // Method javax/smartcardio/Card.getBasicChannel:()Ljavax/smartcardio/CardChannel;
      48: aload_3
      49: invokevirtual #53                 // Method javax/smartcardio/CardChannel.transmit:(Ljavax/smartcardio/CommandAPDU;)Ljavax/smartcardio/ResponseAPDU;
      52: astore        4
      54: aload         4
      56: invokevirtual #54                 // Method javax/smartcardio/ResponseAPDU.getSW:()I
      59: ldc           #55                 // int 36864
      61: if_icmpne     194
      64: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      67: new           #18                 // class java/lang/StringBuilder
      70: dup
      71: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      74: ldc           #62                 // String #
      76: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_1
      80: ldc           #39                 // String text
      82: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      87: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      90: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      96: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      99: new           #18                 // class java/lang/StringBuilder
     102: dup
     103: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     106: ldc           #62                 // String #
     108: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     111: new           #40                 // class java/lang/String
     114: dup
     115: aload         4
     117: invokevirtual #92                 // Method javax/smartcardio/ResponseAPDU.getData:()[B
     120: ldc           #93                 // String UTF-8
     122: invokespecial #94                 // Method java/lang/String."<init>":([BLjava/lang/String;)V
     125: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     131: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     134: aload_1
     135: invokestatic  #56                 // Method apdu4j/remote/JSONProtocol.ok:(Ljava/util/Map;)Ljava/util/Map;
     138: astore        5
     140: aload_0
     141: ldc           #75                 // String Confirm
     143: invokespecial #65                 // Method get_yes_or_no_console:(Ljava/lang/String;)Z
     146: istore        6
     148: iload         6
     150: ifne          168
     153: aload         5
     155: ldc           #66                 // String button
     157: ldc           #67                 // String red
     159: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     164: pop
     165: goto          180
     168: aload         5
     170: ldc           #66                 // String button
     172: ldc           #68                 // String green
     174: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     179: pop
     180: aload_0
     181: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     184: aload         5
     186: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     191: goto          272
     194: aload_1
     195: new           #18                 // class java/lang/StringBuilder
     198: dup
     199: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     202: ldc           #95                 // String Card returned 0x
     204: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     207: aload         4
     209: invokevirtual #54                 // Method javax/smartcardio/ResponseAPDU.getSW:()I
     212: invokestatic  #96                 // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
     215: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     218: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     221: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
     224: astore        5
     226: aload         5
     228: ldc           #58                 // String bytes
     230: aload         4
     232: invokevirtual #59                 // Method javax/smartcardio/ResponseAPDU.getBytes:()[B
     235: aload         4
     237: invokevirtual #59                 // Method javax/smartcardio/ResponseAPDU.getBytes:()[B
     240: arraylength
     241: iconst_2
     242: isub
     243: aload         4
     245: invokevirtual #59                 // Method javax/smartcardio/ResponseAPDU.getBytes:()[B
     248: arraylength
     249: invokestatic  #97                 // Method java/util/Arrays.copyOfRange:([BII)[B
     252: invokestatic  #60                 // Method apdu4j/HexUtils.bin2hex:([B)Ljava/lang/String;
     255: invokeinterface #11,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     260: pop
     261: aload_0
     262: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     265: aload         5
     267: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     272: goto          295
     275: astore        4
     277: aload_0
     278: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
     281: aload_1
     282: aload         4
     284: invokevirtual #61                 // Method javax/smartcardio/CardException.getMessage:()Ljava/lang/String;
     287: invokestatic  #45                 // Method apdu4j/remote/JSONProtocol.nok:(Ljava/util/Map;Ljava/lang/String;)Ljava/util/Map;
     290: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
     295: return
    Exception table:
       from    to  target type
          38   272   275   Class javax/smartcardio/CardException

  private void message(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: new           #18                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #62                 // String #
      12: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_1
      16: ldc           #39                 // String text
      18: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #40                 // class java/lang/String
      26: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      35: aload_0
      36: getfield      #2                  // Field pipe:Lapdu4j/remote/JSONMessagePipe;
      39: aload_1
      40: invokestatic  #56                 // Method apdu4j/remote/JSONProtocol.ok:(Ljava/util/Map;)Ljava/util/Map;
      43: invokeinterface #12,  2           // InterfaceMethod apdu4j/remote/JSONMessagePipe.send:(Ljava/util/Map;)V
      48: return

  private void stop(java.util.Map<java.lang.String, java.lang.Object>);
    Code:
       0: ldc           #98                 // String # Connection closed
       2: astore_2
       3: aload_1
       4: ldc           #39                 // String text
       6: invokeinterface #78,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      11: ifeq          48
      14: new           #18                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      21: aload_2
      22: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: ldc           #99                 // String :
      27: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: aload_1
      31: ldc           #39                 // String text
      33: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      38: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      41: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      44: astore_2
      45: goto          68
      48: new           #18                 // class java/lang/StringBuilder
      51: dup
      52: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      55: aload_2
      56: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: ldc           #100                // String .
      61: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      67: astore_2
      68: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      71: aload_2
      72: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      75: return

  private boolean processMessage(java.util.Map<java.lang.String, java.lang.Object>) throws java.io.IOException;
    Code:
       0: aload_1
       1: ldc           #101                // String cmd
       3: invokeinterface #78,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
       8: ifne          38
      11: new           #16                 // class java/io/IOException
      14: dup
      15: new           #18                 // class java/lang/StringBuilder
      18: dup
      19: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      22: ldc           #102                // String No command in message:
      24: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: aload_1
      28: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      31: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: invokespecial #89                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      37: athrow
      38: aload_1
      39: ldc           #101                // String cmd
      41: invokeinterface #36,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      46: checkcast     #40                 // class java/lang/String
      49: astore_2
      50: aload_2
      51: ldc           #103                // String MESSAGE
      53: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      56: ifeq          67
      59: aload_0
      60: aload_1
      61: invokespecial #105                // Method message:(Ljava/util/Map;)V
      64: goto          198
      67: aload_2
      68: ldc           #106                // String VERIFY
      70: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      73: ifeq          84
      76: aload_0
      77: aload_1
      78: invokespecial #107                // Method verify:(Ljava/util/Map;)V
      81: goto          198
      84: aload_2
      85: ldc           #108                // String DIALOG
      87: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      90: ifeq          101
      93: aload_0
      94: aload_1
      95: invokespecial #109                // Method dialog:(Ljava/util/Map;)V
      98: goto          198
     101: aload_2
     102: ldc           #110                // String INPUT
     104: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     107: ifeq          118
     110: aload_0
     111: aload_1
     112: invokespecial #111                // Method input:(Ljava/util/Map;)V
     115: goto          198
     118: aload_2
     119: ldc           #112                // String SELECT
     121: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     124: ifeq          135
     127: aload_0
     128: aload_1
     129: invokespecial #113                // Method select:(Ljava/util/Map;)V
     132: goto          198
     135: aload_2
     136: ldc           #114                // String STOP
     138: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     141: ifeq          151
     144: aload_0
     145: aload_1
     146: invokespecial #115                // Method stop:(Ljava/util/Map;)V
     149: iconst_0
     150: ireturn
     151: aload_2
     152: ldc           #116                // String DECRYPT
     154: invokevirtual #104                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     157: ifeq          168
     160: aload_0
     161: aload_1
     162: invokespecial #117                // Method decrypt:(Ljava/util/Map;)V
     165: goto          198
     168: getstatic     #85                 // Field java/lang/System.err:Ljava/io/PrintStream;
     171: new           #18                 // class java/lang/StringBuilder
     174: dup
     175: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
     178: ldc           #118                // String No idea how to process:
     180: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     183: aload_1
     184: invokevirtual #119                // Method java/lang/Object.toString:()Ljava/lang/String;
     187: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     190: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     193: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     196: iconst_0
     197: ireturn
     198: iconst_1
     199: ireturn

  private boolean get_yes_or_no_console(java.lang.String);
    Code:
       0: invokestatic  #34                 // Method java/lang/System.console:()Ljava/io/Console;
       3: astore_2
       4: aload_2
       5: new           #18                 // class java/lang/StringBuilder
       8: dup
       9: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      12: aload_1
      13: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: ldc           #120                // String  y/n ?
      18: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: iconst_0
      25: anewarray     #42                 // class java/lang/Object
      28: invokevirtual #70                 // Method java/io/Console.readLine:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      31: astore_3
      32: aload_3
      33: ifnonnull     39
      36: goto          4
      39: aload_3
      40: invokevirtual #72                 // Method java/lang/String.trim:()Ljava/lang/String;
      43: astore_3
      44: aload_3
      45: ldc           #121                // String y
      47: invokevirtual #122                // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      50: ifeq          55
      53: iconst_1
      54: ireturn
      55: aload_3
      56: ldc           #123                // String n
      58: invokevirtual #122                // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      61: ifeq          66
      64: iconst_0
      65: ireturn
      66: getstatic     #17                 // Field java/lang/System.out:Ljava/io/PrintStream;
      69: ldc           #124                // String Please enter \'y\' or \'n\' followed by ENTER
      71: invokevirtual #24                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      74: goto          4
}
