Compiled from "BKCluster.java"
public class org.apache.pulsar.metadata.bookkeeper.BKCluster implements java.lang.AutoCloseable {
  private static final org.slf4j.Logger log;

  private final java.lang.String metadataServiceUri;

  private final org.apache.pulsar.metadata.api.extended.MetadataStoreExtended store;

  private final java.util.List<java.io.File> tmpDirs;

  private final java.util.List<org.apache.bookkeeper.proto.BookieServer> bs;

  private final java.util.List<org.apache.bookkeeper.conf.ServerConfiguration> bsConfs;

  protected final org.apache.bookkeeper.conf.ServerConfiguration baseConf;

  protected final org.apache.bookkeeper.conf.ClientConfiguration baseClientConf;

  private final java.util.Map<org.apache.bookkeeper.proto.BookieServer, org.apache.bookkeeper.replication.AutoRecoveryMain> autoRecoveryProcesses;

  boolean isAutoRecoveryEnabled;

  public org.apache.pulsar.metadata.bookkeeper.BKCluster(java.lang.String, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/ArrayList
       8: dup
       9: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      12: putfield      #4                  // Field tmpDirs:Ljava/util/List;
      15: aload_0
      16: new           #2                  // class java/util/ArrayList
      19: dup
      20: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      23: putfield      #5                  // Field bs:Ljava/util/List;
      26: aload_0
      27: new           #2                  // class java/util/ArrayList
      30: dup
      31: invokespecial #3                  // Method java/util/ArrayList."<init>":()V
      34: putfield      #6                  // Field bsConfs:Ljava/util/List;
      37: aload_0
      38: invokestatic  #7                  // Method newBaseServerConfiguration:()Lorg/apache/bookkeeper/conf/ServerConfiguration;
      41: putfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      44: aload_0
      45: invokestatic  #9                  // Method newBaseClientConfiguration:()Lorg/apache/bookkeeper/conf/ClientConfiguration;
      48: putfield      #10                 // Field baseClientConf:Lorg/apache/bookkeeper/conf/ClientConfiguration;
      51: aload_0
      52: new           #11                 // class java/util/HashMap
      55: dup
      56: invokespecial #12                 // Method java/util/HashMap."<init>":()V
      59: putfield      #13                 // Field autoRecoveryProcesses:Ljava/util/Map;
      62: aload_0
      63: iconst_0
      64: putfield      #14                 // Field isAutoRecoveryEnabled:Z
      67: aload_0
      68: aload_1
      69: putfield      #15                 // Field metadataServiceUri:Ljava/lang/String;
      72: aload_0
      73: aload_1
      74: invokestatic  #16                 // Method org/apache/pulsar/metadata/api/MetadataStoreConfig.builder:()Lorg/apache/pulsar/metadata/api/MetadataStoreConfig$MetadataStoreConfigBuilder;
      77: invokevirtual #17                 // Method org/apache/pulsar/metadata/api/MetadataStoreConfig$MetadataStoreConfigBuilder.build:()Lorg/apache/pulsar/metadata/api/MetadataStoreConfig;
      80: invokestatic  #18                 // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.create:(Ljava/lang/String;Lorg/apache/pulsar/metadata/api/MetadataStoreConfig;)Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      83: putfield      #19                 // Field store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      86: aload_0
      87: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      90: iconst_0
      91: invokevirtual #20                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setJournalRemovePagesFromCache:(Z)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      94: pop
      95: aload_0
      96: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      99: ldc           #22                 // String metadata-store-instance
     101: aload_0
     102: getfield      #19                 // Field store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     105: invokevirtual #23                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     108: aload_0
     109: getfield      #10                 // Field baseClientConf:Lorg/apache/bookkeeper/conf/ClientConfiguration;
     112: ldc           #22                 // String metadata-store-instance
     114: aload_0
     115: getfield      #19                 // Field store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     118: invokevirtual #24                 // Method org/apache/bookkeeper/conf/ClientConfiguration.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
     121: ldc           #25                 // String bookkeeper.metadata.bookie.drivers
     123: ldc           #26                 // class org/apache/pulsar/metadata/bookkeeper/PulsarMetadataBookieDriver
     125: invokevirtual #27                 // Method java/lang/Class.getName:()Ljava/lang/String;
     128: invokestatic  #28                 // Method java/lang/System.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     131: pop
     132: ldc           #29                 // String bookkeeper.metadata.client.drivers
     134: ldc           #30                 // class org/apache/pulsar/metadata/bookkeeper/PulsarMetadataClientDriver
     136: invokevirtual #27                 // Method java/lang/Class.getName:()Ljava/lang/String;
     139: invokestatic  #28                 // Method java/lang/System.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     142: pop
     143: aload_0
     144: iload_2
     145: invokespecial #31                 // Method startBKCluster:(I)V
     148: return

  public void close() throws java.lang.Exception;
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: invokevirtual #32                 // Method stopBKCluster:()V
       6: goto          21
       9: astore_2
      10: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      13: ldc           #35                 // String Got Exception while trying to stop BKCluster
      15: aload_2
      16: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      21: aload_0
      22: invokevirtual #37                 // Method cleanupTempDirs:()V
      25: goto          40
      28: astore_2
      29: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      32: ldc           #38                 // String Got Exception while trying to cleanupTempDirs
      34: aload_2
      35: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      40: aload_0
      41: getfield      #19                 // Field store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      44: invokeinterface #39,  1           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.close:()V
      49: return
    Exception table:
       from    to  target type
           2     6     9   Class java/lang/Exception
          21    25    28   Class java/lang/Exception

  private java.io.File createTempDir(java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_2
       2: invokestatic  #40                 // Method org/apache/bookkeeper/util/IOUtils.createTempDir:(Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
       5: astore_3
       6: aload_0
       7: getfield      #4                  // Field tmpDirs:Ljava/util/List;
      10: aload_3
      11: invokeinterface #41,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      16: pop
      17: aload_3
      18: areturn

  private void startBKCluster(int) throws java.lang.Exception;
    Code:
       0: new           #42                 // class org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager
       3: dup
       4: aload_0
       5: getfield      #19                 // Field store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
       8: ldc           #43                 // String /ledgers
      10: aload_0
      11: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      14: invokespecial #44                 // Method org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager."<init>":(Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;Ljava/lang/String;Lorg/apache/bookkeeper/conf/AbstractConfiguration;)V
      17: astore_2
      18: aload_2
      19: invokevirtual #45                 // Method org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.initNewCluster:()Z
      22: pop
      23: aload_0
      24: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      27: new           #46                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      34: ldc           #48                 // String metadata-store:
      36: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_0
      40: getfield      #15                 // Field metadataServiceUri:Ljava/lang/String;
      43: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: invokevirtual #51                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setMetadataServiceUri:(Ljava/lang/String;)Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      52: pop
      53: aload_0
      54: getfield      #10                 // Field baseClientConf:Lorg/apache/bookkeeper/conf/ClientConfiguration;
      57: new           #46                 // class java/lang/StringBuilder
      60: dup
      61: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      64: ldc           #48                 // String metadata-store:
      66: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      69: aload_0
      70: getfield      #15                 // Field metadataServiceUri:Ljava/lang/String;
      73: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      79: invokevirtual #52                 // Method org/apache/bookkeeper/conf/ClientConfiguration.setMetadataServiceUri:(Ljava/lang/String;)Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      82: pop
      83: iconst_0
      84: istore_3
      85: iload_3
      86: iload_1
      87: if_icmpge     101
      90: aload_0
      91: invokevirtual #53                 // Method startNewBookie:()I
      94: pop
      95: iinc          3, 1
      98: goto          85
     101: return

  public org.apache.bookkeeper.client.BookKeeper newClient() throws java.lang.Exception;
    Code:
       0: new           #54                 // class org/apache/bookkeeper/client/BookKeeper
       3: dup
       4: aload_0
       5: getfield      #10                 // Field baseClientConf:Lorg/apache/bookkeeper/conf/ClientConfiguration;
       8: invokespecial #55                 // Method org/apache/bookkeeper/client/BookKeeper."<init>":(Lorg/apache/bookkeeper/conf/ClientConfiguration;)V
      11: areturn

  protected void stopBKCluster() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field bs:Ljava/util/List;
       4: invokeinterface #56,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          95
      19: aload_1
      20: invokeinterface #58,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #59                 // class org/apache/bookkeeper/proto/BookieServer
      28: astore_2
      29: aload_2
      30: invokevirtual #60                 // Method org/apache/bookkeeper/proto/BookieServer.shutdown:()V
      33: aload_0
      34: getfield      #13                 // Field autoRecoveryProcesses:Ljava/util/Map;
      37: aload_2
      38: invokeinterface #61,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: checkcast     #62                 // class org/apache/bookkeeper/replication/AutoRecoveryMain
      46: astore_3
      47: aload_3
      48: ifnull        92
      51: aload_0
      52: invokevirtual #63                 // Method isAutoRecoveryEnabled:()Z
      55: ifeq          92
      58: aload_3
      59: invokevirtual #64                 // Method org/apache/bookkeeper/replication/AutoRecoveryMain.shutdown:()V
      62: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      65: new           #46                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #65                 // String Shutdown auto recovery for bookieserver:
      74: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload_2
      78: invokevirtual #66                 // Method org/apache/bookkeeper/proto/BookieServer.getBookieId:()Lorg/apache/bookkeeper/net/BookieId;
      81: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      84: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      87: invokeinterface #68,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      92: goto          10
      95: aload_0
      96: getfield      #5                  // Field bs:Ljava/util/List;
      99: invokeinterface #69,  1           // InterfaceMethod java/util/List.clear:()V
     104: return

  protected void cleanupTempDirs() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field tmpDirs:Ljava/util/List;
       4: invokeinterface #56,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          36
      19: aload_1
      20: invokeinterface #58,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #70                 // class java/io/File
      28: astore_2
      29: aload_2
      30: invokestatic  #71                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
      33: goto          10
      36: return

  private org.apache.bookkeeper.conf.ServerConfiguration newServerConfiguration() throws java.lang.Exception;
    Code:
       0: aload_0
       1: ldc           #72                 // String bookie
       3: ldc           #73                 // String test
       5: invokespecial #74                 // Method createTempDir:(Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
       8: astore_1
       9: aload_0
      10: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      13: invokevirtual #75                 // Method org/apache/bookkeeper/conf/ServerConfiguration.isEnableLocalTransport:()Z
      16: ifne          29
      19: aload_0
      20: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      23: invokevirtual #76                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getAllowEphemeralPorts:()Z
      26: ifne          36
      29: invokestatic  #77                 // Method org/apache/bookkeeper/util/PortManager.nextFreePort:()I
      32: istore_2
      33: goto          38
      36: iconst_0
      37: istore_2
      38: aload_0
      39: iload_2
      40: aload_1
      41: iconst_1
      42: anewarray     #70                 // class java/io/File
      45: dup
      46: iconst_0
      47: aload_1
      48: aastore
      49: invokespecial #78                 // Method newServerConfiguration:(ILjava/io/File;[Ljava/io/File;)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      52: areturn

  private org.apache.bookkeeper.conf.ClientConfiguration newClientConfiguration();
    Code:
       0: new           #79                 // class org/apache/bookkeeper/conf/ClientConfiguration
       3: dup
       4: aload_0
       5: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
       8: invokespecial #80                 // Method org/apache/bookkeeper/conf/ClientConfiguration."<init>":(Lorg/apache/bookkeeper/conf/AbstractConfiguration;)V
      11: areturn

  private org.apache.bookkeeper.conf.ServerConfiguration newServerConfiguration(int, java.io.File, java.io.File[]);
    Code:
       0: new           #81                 // class org/apache/bookkeeper/conf/ServerConfiguration
       3: dup
       4: aload_0
       5: getfield      #8                  // Field baseConf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
       8: invokespecial #82                 // Method org/apache/bookkeeper/conf/ServerConfiguration."<init>":(Lorg/apache/bookkeeper/conf/AbstractConfiguration;)V
      11: astore        4
      13: aload         4
      15: iload_1
      16: invokevirtual #83                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setBookiePort:(I)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      19: pop
      20: aload         4
      22: aload_2
      23: invokevirtual #84                 // Method java/io/File.getPath:()Ljava/lang/String;
      26: invokevirtual #85                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setJournalDirName:(Ljava/lang/String;)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      29: pop
      30: aload_3
      31: arraylength
      32: anewarray     #86                 // class java/lang/String
      35: astore        5
      37: iconst_0
      38: istore        6
      40: iload         6
      42: aload_3
      43: arraylength
      44: if_icmpge     65
      47: aload         5
      49: iload         6
      51: aload_3
      52: iload         6
      54: aaload
      55: invokevirtual #84                 // Method java/io/File.getPath:()Ljava/lang/String;
      58: aastore
      59: iinc          6, 1
      62: goto          40
      65: aload         4
      67: aload         5
      69: invokevirtual #87                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setLedgerDirNames:([Ljava/lang/String;)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      72: pop
      73: aload         4
      75: iconst_1
      76: invokevirtual #88                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setEnableTaskExecutionStats:(Z)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      79: pop
      80: aload         4
      82: getstatic     #89                 // Field org/apache/bookkeeper/common/allocator/PoolingPolicy.UnpooledHeap:Lorg/apache/bookkeeper/common/allocator/PoolingPolicy;
      85: invokevirtual #90                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setAllocatorPoolingPolicy:(Lorg/apache/bookkeeper/common/allocator/PoolingPolicy;)Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      88: pop
      89: aload         4
      91: areturn

  protected void stopAllBookies() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_1
       2: invokevirtual #91                 // Method stopAllBookies:(Z)V
       5: return

  protected void stopAllBookies(boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field bs:Ljava/util/List;
       4: invokeinterface #56,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_2
      10: aload_2
      11: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          36
      19: aload_2
      20: invokeinterface #58,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #59                 // class org/apache/bookkeeper/proto/BookieServer
      28: astore_3
      29: aload_3
      30: invokevirtual #60                 // Method org/apache/bookkeeper/proto/BookieServer.shutdown:()V
      33: goto          10
      36: aload_0
      37: getfield      #6                  // Field bsConfs:Ljava/util/List;
      40: invokeinterface #69,  1           // InterfaceMethod java/util/List.clear:()V
      45: aload_0
      46: getfield      #5                  // Field bs:Ljava/util/List;
      49: invokeinterface #69,  1           // InterfaceMethod java/util/List.clear:()V
      54: return

  protected void startAllBookies() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #6                  // Field bsConfs:Ljava/util/List;
       4: invokeinterface #56,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          47
      19: aload_1
      20: invokeinterface #58,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #81                 // class org/apache/bookkeeper/conf/ServerConfiguration
      28: astore_2
      29: aload_0
      30: getfield      #5                  // Field bs:Ljava/util/List;
      33: aload_0
      34: aload_2
      35: invokevirtual #92                 // Method startBookie:(Lorg/apache/bookkeeper/conf/ServerConfiguration;)Lorg/apache/bookkeeper/proto/BookieServer;
      38: invokeinterface #41,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      43: pop
      44: goto          10
      47: return

  public int startNewBookie() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #93                 // Method newServerConfiguration:()Lorg/apache/bookkeeper/conf/ServerConfiguration;
       4: astore_1
       5: aload_0
       6: getfield      #6                  // Field bsConfs:Ljava/util/List;
       9: aload_1
      10: invokeinterface #41,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      15: pop
      16: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      19: ldc           #94                 // String Starting new bookie on port: {}
      21: aload_1
      22: invokevirtual #95                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getBookiePort:()I
      25: invokestatic  #96                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokeinterface #97,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      33: aload_0
      34: aload_1
      35: invokevirtual #92                 // Method startBookie:(Lorg/apache/bookkeeper/conf/ServerConfiguration;)Lorg/apache/bookkeeper/proto/BookieServer;
      38: astore_2
      39: aload_0
      40: getfield      #5                  // Field bs:Ljava/util/List;
      43: aload_2
      44: invokeinterface #41,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      49: pop
      50: aload_2
      51: invokevirtual #98                 // Method org/apache/bookkeeper/proto/BookieServer.getLocalAddress:()Lorg/apache/bookkeeper/net/BookieSocketAddress;
      54: invokevirtual #99                 // Method org/apache/bookkeeper/net/BookieSocketAddress.getPort:()I
      57: ireturn

  protected org.apache.bookkeeper.proto.BookieServer startBookie(org.apache.bookkeeper.conf.ServerConfiguration) throws java.lang.Exception;
    Code:
       0: new           #59                 // class org/apache/bookkeeper/proto/BookieServer
       3: dup
       4: aload_1
       5: getstatic     #100                // Field org/apache/bookkeeper/stats/NullStatsLogger.INSTANCE:Lorg/apache/bookkeeper/stats/NullStatsLogger;
       8: aconst_null
       9: invokespecial #101                // Method org/apache/bookkeeper/proto/BookieServer."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/stats/StatsLogger;Ljava/util/function/Supplier;)V
      12: astore_2
      13: aload_1
      14: invokestatic  #102                // Method org/apache/bookkeeper/bookie/Bookie.getBookieId:(Lorg/apache/bookkeeper/conf/ServerConfiguration;)Lorg/apache/bookkeeper/net/BookieId;
      17: astore_3
      18: aload_2
      19: invokevirtual #103                // Method org/apache/bookkeeper/proto/BookieServer.start:()V
      22: iconst_0
      23: istore        4
      25: iload         4
      27: sipush        3000
      30: if_icmpge     55
      33: aload_2
      34: invokevirtual #104                // Method org/apache/bookkeeper/proto/BookieServer.isRunning:()Z
      37: ifeq          43
      40: goto          55
      43: ldc2_w        #105                // long 10l
      46: invokestatic  #107                // Method java/lang/Thread.sleep:(J)V
      49: iinc          4, 1
      52: goto          25
      55: aload_2
      56: invokevirtual #104                // Method org/apache/bookkeeper/proto/BookieServer.isRunning:()Z
      59: ifne          72
      62: new           #108                // class java/lang/RuntimeException
      65: dup
      66: ldc           #109                // String Bookie failed to start within timeout period
      68: invokespecial #110                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      71: athrow
      72: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      75: ldc           #111                // String New bookie \'{}\' has been created.
      77: aload_3
      78: invokeinterface #97,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      83: aload_0
      84: aload_2
      85: aload_1
      86: invokespecial #112                // Method startAutoRecovery:(Lorg/apache/bookkeeper/proto/BookieServer;Lorg/apache/bookkeeper/conf/ServerConfiguration;)V
      89: goto          123
      92: astore        4
      94: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      97: ldc           #114                // String Exception while starting AutoRecovery!
      99: aload         4
     101: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     106: goto          123
     109: astore        4
     111: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
     114: ldc           #114                // String Exception while starting AutoRecovery!
     116: aload         4
     118: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     123: aload_2
     124: areturn
    Exception table:
       from    to  target type
          83    89    92   Class org/apache/bookkeeper/replication/ReplicationException$CompatibilityException
          83    89   109   Class org/apache/bookkeeper/replication/ReplicationException$UnavailableException

  private void startAutoRecovery(org.apache.bookkeeper.proto.BookieServer, org.apache.bookkeeper.conf.ServerConfiguration) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #63                 // Method isAutoRecoveryEnabled:()Z
       4: ifeq          62
       7: new           #62                 // class org/apache/bookkeeper/replication/AutoRecoveryMain
      10: dup
      11: aload_2
      12: invokespecial #116                // Method org/apache/bookkeeper/replication/AutoRecoveryMain."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;)V
      15: astore_3
      16: aload_3
      17: invokevirtual #117                // Method org/apache/bookkeeper/replication/AutoRecoveryMain.start:()V
      20: aload_0
      21: getfield      #13                 // Field autoRecoveryProcesses:Ljava/util/Map;
      24: aload_1
      25: aload_3
      26: invokeinterface #118,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      31: pop
      32: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      35: new           #46                 // class java/lang/StringBuilder
      38: dup
      39: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
      42: ldc           #119                // String Starting Auditor Recovery for the bookie:
      44: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: aload_1
      48: invokevirtual #66                 // Method org/apache/bookkeeper/proto/BookieServer.getBookieId:()Lorg/apache/bookkeeper/net/BookieId;
      51: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      54: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      57: invokeinterface #68,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      62: return

  private static org.apache.bookkeeper.conf.ServerConfiguration newBaseServerConfiguration();
    Code:
       0: new           #81                 // class org/apache/bookkeeper/conf/ServerConfiguration
       3: dup
       4: invokespecial #120                // Method org/apache/bookkeeper/conf/ServerConfiguration."<init>":()V
       7: astore_0
       8: aload_0
       9: ldc           #121                // String TLSv1.2,TLSv1.1
      11: invokevirtual #122                // Method org/apache/bookkeeper/conf/ServerConfiguration.setTLSEnabledProtocols:(Ljava/lang/String;)Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      14: pop
      15: aload_0
      16: iconst_1
      17: invokevirtual #123                // Method org/apache/bookkeeper/conf/ServerConfiguration.setJournalFlushWhenQueueEmpty:(Z)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      20: pop
      21: aload_0
      22: iconst_5
      23: invokevirtual #124                // Method org/apache/bookkeeper/conf/ServerConfiguration.setJournalFormatVersionToWrite:(I)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      26: pop
      27: aload_0
      28: iconst_1
      29: invokevirtual #125                // Method org/apache/bookkeeper/conf/ServerConfiguration.setAllowEphemeralPorts:(Z)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      32: pop
      33: aload_0
      34: iconst_0
      35: invokevirtual #126                // Method org/apache/bookkeeper/conf/ServerConfiguration.setJournalWriteData:(Z)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      38: pop
      39: aload_0
      40: iconst_0
      41: invokevirtual #83                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setBookiePort:(I)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      44: pop
      45: aload_0
      46: ldc2_w        #127                // long 1000l
      49: invokevirtual #129                // Method org/apache/bookkeeper/conf/ServerConfiguration.setGcWaitTime:(J)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      52: pop
      53: aload_0
      54: ldc           #130                // float 0.999f
      56: invokevirtual #131                // Method org/apache/bookkeeper/conf/ServerConfiguration.setDiskUsageThreshold:(F)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      59: pop
      60: aload_0
      61: ldc           #132                // float 0.99f
      63: invokevirtual #133                // Method org/apache/bookkeeper/conf/ServerConfiguration.setDiskUsageWarnThreshold:(F)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      66: pop
      67: aload_0
      68: getstatic     #89                 // Field org/apache/bookkeeper/common/allocator/PoolingPolicy.UnpooledHeap:Lorg/apache/bookkeeper/common/allocator/PoolingPolicy;
      71: invokevirtual #90                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setAllocatorPoolingPolicy:(Lorg/apache/bookkeeper/common/allocator/PoolingPolicy;)Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      74: pop
      75: aload_0
      76: ldc           #134                // String dbStorage_writeCacheMaxSizeMb
      78: iconst_4
      79: invokestatic  #96                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      82: invokevirtual #23                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      85: aload_0
      86: ldc           #135                // String dbStorage_readAheadCacheMaxSizeMb
      88: iconst_4
      89: invokestatic  #96                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      92: invokevirtual #23                 // Method org/apache/bookkeeper/conf/ServerConfiguration.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      95: aload_0
      96: invokestatic  #136                // Method setLoopbackInterfaceAndAllowLoopback:(Lorg/apache/bookkeeper/conf/ServerConfiguration;)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      99: pop
     100: aload_0
     101: areturn

  public static org.apache.bookkeeper.conf.ClientConfiguration newBaseClientConfiguration();
    Code:
       0: new           #79                 // class org/apache/bookkeeper/conf/ClientConfiguration
       3: dup
       4: invokespecial #137                // Method org/apache/bookkeeper/conf/ClientConfiguration."<init>":()V
       7: astore_0
       8: aload_0
       9: ldc           #121                // String TLSv1.2,TLSv1.1
      11: invokevirtual #138                // Method org/apache/bookkeeper/conf/ClientConfiguration.setTLSEnabledProtocols:(Ljava/lang/String;)Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      14: pop
      15: aload_0
      16: areturn

  private static java.lang.String getLoopbackInterfaceName();
    Code:
       0: invokestatic  #139                // Method java/net/NetworkInterface.getNetworkInterfaces:()Ljava/util/Enumeration;
       3: astore_0
       4: aload_0
       5: invokestatic  #140                // Method java/util/Collections.list:(Ljava/util/Enumeration;)Ljava/util/ArrayList;
       8: invokevirtual #141                // Method java/util/ArrayList.iterator:()Ljava/util/Iterator;
      11: astore_1
      12: aload_1
      13: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifeq          46
      21: aload_1
      22: invokeinterface #58,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      27: checkcast     #142                // class java/net/NetworkInterface
      30: astore_2
      31: aload_2
      32: invokevirtual #143                // Method java/net/NetworkInterface.isLoopback:()Z
      35: ifeq          43
      38: aload_2
      39: invokevirtual #144                // Method java/net/NetworkInterface.getName:()Ljava/lang/String;
      42: areturn
      43: goto          12
      46: goto          63
      49: astore_0
      50: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      53: ldc           #146                // String Exception while figuring out loopback interface. Will use null.
      55: aload_0
      56: invokeinterface #147,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      61: aconst_null
      62: areturn
      63: getstatic     #34                 // Field log:Lorg/slf4j/Logger;
      66: ldc           #148                // String Unable to deduce loopback interface. Will use null
      68: invokeinterface #149,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      73: aconst_null
      74: areturn
    Exception table:
       from    to  target type
           0    42    49   Class java/net/SocketException
          43    46    49   Class java/net/SocketException

  private static org.apache.bookkeeper.conf.ServerConfiguration setLoopbackInterfaceAndAllowLoopback(org.apache.bookkeeper.conf.ServerConfiguration);
    Code:
       0: aload_0
       1: invokestatic  #150                // Method getLoopbackInterfaceName:()Ljava/lang/String;
       4: invokevirtual #151                // Method org/apache/bookkeeper/conf/ServerConfiguration.setListeningInterface:(Ljava/lang/String;)Lorg/apache/bookkeeper/conf/ServerConfiguration;
       7: pop
       8: aload_0
       9: iconst_1
      10: invokevirtual #152                // Method org/apache/bookkeeper/conf/ServerConfiguration.setAllowLoopback:(Z)Lorg/apache/bookkeeper/conf/ServerConfiguration;
      13: pop
      14: aload_0
      15: areturn

  public org.apache.pulsar.metadata.api.extended.MetadataStoreExtended getStore();
    Code:
       0: aload_0
       1: getfield      #19                 // Field store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
       4: areturn

  public boolean isAutoRecoveryEnabled();
    Code:
       0: aload_0
       1: getfield      #14                 // Field isAutoRecoveryEnabled:Z
       4: ireturn

  static {};
    Code:
       0: ldc           #153                // class org/apache/pulsar/metadata/bookkeeper/BKCluster
       2: invokestatic  #154                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #34                 // Field log:Lorg/slf4j/Logger;
       8: return
}
