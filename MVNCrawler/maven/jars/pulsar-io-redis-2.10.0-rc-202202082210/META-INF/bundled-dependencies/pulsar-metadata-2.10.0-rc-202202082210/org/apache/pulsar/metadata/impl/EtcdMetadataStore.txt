Compiled from "EtcdMetadataStore.java"
public class org.apache.pulsar.metadata.impl.EtcdMetadataStore extends org.apache.pulsar.metadata.impl.batching.AbstractBatchedMetadataStore {
  private static final org.slf4j.Logger log;

  static final java.lang.String ETCD_SCHEME_IDENTIFIER;

  private final int leaseTTLSeconds;

  private final io.etcd.jetcd.Client client;

  private final io.etcd.jetcd.KV kv;

  private volatile long leaseId;

  private volatile io.etcd.jetcd.support.CloseableClient leaseClient;

  private final org.apache.pulsar.metadata.impl.EtcdSessionWatcher sessionWatcher;

  private static final io.etcd.jetcd.options.GetOption EXISTS_GET_OPTION;

  private static final io.etcd.jetcd.options.GetOption SINGLE_GET_OPTION;

  public org.apache.pulsar.metadata.impl.EtcdMetadataStore(java.lang.String, org.apache.pulsar.metadata.api.MetadataStoreConfig, boolean) throws org.apache.pulsar.metadata.api.MetadataStoreException;
    Code:
       0: aload_0
       1: aload_2
       2: invokespecial #2                  // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore."<init>":(Lorg/apache/pulsar/metadata/api/MetadataStoreConfig;)V
       5: aload_0
       6: aload_2
       7: invokevirtual #3                  // Method org/apache/pulsar/metadata/api/MetadataStoreConfig.getSessionTimeoutMillis:()I
      10: sipush        1000
      13: idiv
      14: putfield      #4                  // Field leaseTTLSeconds:I
      17: aload_1
      18: ldc           #6                  // String etcd:
      20: ldc           #7                  // String
      22: invokevirtual #8                  // Method java/lang/String.replaceFirst:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      25: astore        4
      27: aload_0
      28: invokestatic  #9                  // InterfaceMethod io/etcd/jetcd/Client.builder:()Lio/etcd/jetcd/ClientBuilder;
      31: iconst_1
      32: anewarray     #10                 // class java/lang/String
      35: dup
      36: iconst_0
      37: aload         4
      39: aastore
      40: invokevirtual #11                 // Method io/etcd/jetcd/ClientBuilder.endpoints:([Ljava/lang/String;)Lio/etcd/jetcd/ClientBuilder;
      43: invokevirtual #12                 // Method io/etcd/jetcd/ClientBuilder.build:()Lio/etcd/jetcd/Client;
      46: putfield      #13                 // Field client:Lio/etcd/jetcd/Client;
      49: aload_0
      50: aload_0
      51: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
      54: invokeinterface #14,  1           // InterfaceMethod io/etcd/jetcd/Client.getKVClient:()Lio/etcd/jetcd/KV;
      59: putfield      #15                 // Field kv:Lio/etcd/jetcd/KV;
      62: aload_0
      63: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
      66: invokeinterface #16,  1           // InterfaceMethod io/etcd/jetcd/Client.getWatchClient:()Lio/etcd/jetcd/Watch;
      71: ldc           #17                 // String \u0000
      73: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      76: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
      79: invokestatic  #20                 // Method io/etcd/jetcd/options/WatchOption.newBuilder:()Lio/etcd/jetcd/options/WatchOption$Builder;
      82: ldc           #21                 // String /
      84: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      87: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
      90: invokevirtual #22                 // Method io/etcd/jetcd/options/WatchOption$Builder.withPrefix:(Lio/etcd/jetcd/ByteSequence;)Lio/etcd/jetcd/options/WatchOption$Builder;
      93: invokevirtual #23                 // Method io/etcd/jetcd/options/WatchOption$Builder.build:()Lio/etcd/jetcd/options/WatchOption;
      96: aload_0
      97: invokedynamic #24,  0             // InvokeDynamic #0:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Consumer;
     102: invokeinterface #25,  4           // InterfaceMethod io/etcd/jetcd/Watch.watch:(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/options/WatchOption;Ljava/util/function/Consumer;)Lio/etcd/jetcd/Watch$Watcher;
     107: pop
     108: iload_3
     109: ifeq          150
     112: aload_0
     113: new           #26                 // class org/apache/pulsar/metadata/impl/EtcdSessionWatcher
     116: dup
     117: aload_0
     118: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
     121: aload_2
     122: invokevirtual #3                  // Method org/apache/pulsar/metadata/api/MetadataStoreConfig.getSessionTimeoutMillis:()I
     125: i2l
     126: aload_0
     127: invokedynamic #27,  0             // InvokeDynamic #1:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Consumer;
     132: invokespecial #28                 // Method org/apache/pulsar/metadata/impl/EtcdSessionWatcher."<init>":(Lio/etcd/jetcd/Client;JLjava/util/function/Consumer;)V
     135: putfield      #29                 // Field sessionWatcher:Lorg/apache/pulsar/metadata/impl/EtcdSessionWatcher;
     138: aload_0
     139: iconst_0
     140: invokespecial #30                 // Method createLease:(Z)Ljava/util/concurrent/CompletableFuture;
     143: invokevirtual #31                 // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     146: pop
     147: goto          155
     150: aload_0
     151: aconst_null
     152: putfield      #29                 // Field sessionWatcher:Lorg/apache/pulsar/metadata/impl/EtcdSessionWatcher;
     155: goto          170
     158: astore        5
     160: new           #33                 // class org/apache/pulsar/metadata/api/MetadataStoreException
     163: dup
     164: aload         5
     166: invokespecial #34                 // Method org/apache/pulsar/metadata/api/MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     169: athrow
     170: return
    Exception table:
       from    to  target type
          27   155   158   Class java/lang/Exception

  public void close() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #35                 // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore.close:()V
       4: aload_0
       5: getfield      #29                 // Field sessionWatcher:Lorg/apache/pulsar/metadata/impl/EtcdSessionWatcher;
       8: ifnull        18
      11: aload_0
      12: getfield      #29                 // Field sessionWatcher:Lorg/apache/pulsar/metadata/impl/EtcdSessionWatcher;
      15: invokevirtual #36                 // Method org/apache/pulsar/metadata/impl/EtcdSessionWatcher.close:()V
      18: aload_0
      19: getfield      #37                 // Field leaseClient:Lio/etcd/jetcd/support/CloseableClient;
      22: ifnull        34
      25: aload_0
      26: getfield      #37                 // Field leaseClient:Lio/etcd/jetcd/support/CloseableClient;
      29: invokeinterface #38,  1           // InterfaceMethod io/etcd/jetcd/support/CloseableClient.close:()V
      34: aload_0
      35: getfield      #39                 // Field leaseId:J
      38: lconst_0
      39: lcmp
      40: ifeq          62
      43: aload_0
      44: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
      47: invokeinterface #40,  1           // InterfaceMethod io/etcd/jetcd/Client.getLeaseClient:()Lio/etcd/jetcd/Lease;
      52: aload_0
      53: getfield      #39                 // Field leaseId:J
      56: invokeinterface #41,  3           // InterfaceMethod io/etcd/jetcd/Lease.revoke:(J)Ljava/util/concurrent/CompletableFuture;
      61: pop
      62: aload_0
      63: getfield      #15                 // Field kv:Lio/etcd/jetcd/KV;
      66: invokeinterface #42,  1           // InterfaceMethod io/etcd/jetcd/KV.close:()V
      71: aload_0
      72: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
      75: invokeinterface #43,  1           // InterfaceMethod io/etcd/jetcd/Client.close:()V
      80: return

  protected java.util.concurrent.CompletableFuture<java.lang.Boolean> existsFromStore(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #15                 // Field kv:Lio/etcd/jetcd/KV;
       4: aload_1
       5: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
       8: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
      11: getstatic     #44                 // Field EXISTS_GET_OPTION:Lio/etcd/jetcd/options/GetOption;
      14: invokeinterface #45,  3           // InterfaceMethod io/etcd/jetcd/KV.get:(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/options/GetOption;)Ljava/util/concurrent/CompletableFuture;
      19: invokedynamic #46,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      24: aload_0
      25: getfield      #47                 // Field executor:Ljava/util/concurrent/ScheduledExecutorService;
      28: invokevirtual #48                 // Method java/util/concurrent/CompletableFuture.thenApplyAsync:(Ljava/util/function/Function;Ljava/util/concurrent/Executor;)Ljava/util/concurrent/CompletableFuture;
      31: areturn

  protected java.util.concurrent.CompletableFuture<org.apache.pulsar.metadata.api.Stat> storePut(java.lang.String, byte[], java.util.Optional<java.lang.Long>, java.util.EnumSet<org.apache.pulsar.metadata.api.extended.CreateOption>);
    Code:
       0: aload         4
       2: getstatic     #49                 // Field org/apache/pulsar/metadata/api/extended/CreateOption.Sequential:Lorg/apache/pulsar/metadata/api/extended/CreateOption;
       5: invokevirtual #50                 // Method java/util/EnumSet.contains:(Ljava/lang/Object;)Z
       8: ifne          21
      11: aload_0
      12: aload_1
      13: aload_2
      14: aload_3
      15: aload         4
      17: invokespecial #51                 // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore.storePut:(Ljava/lang/String;[BLjava/util/Optional;Ljava/util/EnumSet;)Ljava/util/concurrent/CompletableFuture;
      20: areturn
      21: aload_1
      22: invokestatic  #52                 // Method parent:(Ljava/lang/String;)Ljava/lang/String;
      25: astore        5
      27: aload         5
      29: ifnonnull     36
      32: ldc           #21                 // String /
      34: astore        5
      36: aload_0
      37: aload         5
      39: iconst_0
      40: newarray       byte
      42: invokestatic  #53                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      45: ldc           #54                 // class org/apache/pulsar/metadata/api/extended/CreateOption
      47: invokestatic  #55                 // Method java/util/EnumSet.noneOf:(Ljava/lang/Class;)Ljava/util/EnumSet;
      50: invokespecial #51                 // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore.storePut:(Ljava/lang/String;[BLjava/util/Optional;Ljava/util/EnumSet;)Ljava/util/concurrent/CompletableFuture;
      53: aload_0
      54: aload_1
      55: aload_2
      56: aload_3
      57: aload         4
      59: invokedynamic #56,  0             // InvokeDynamic #3:apply:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;Ljava/lang/String;[BLjava/util/Optional;Ljava/util/EnumSet;)Ljava/util/function/Function;
      64: aload_0
      65: getfield      #47                 // Field executor:Ljava/util/concurrent/ScheduledExecutorService;
      68: invokevirtual #57                 // Method java/util/concurrent/CompletableFuture.thenComposeAsync:(Ljava/util/function/Function;Ljava/util/concurrent/Executor;)Ljava/util/concurrent/CompletableFuture;
      71: areturn

  protected void batchOperation(java.util.List<org.apache.pulsar.metadata.impl.batching.MetadataOp>);
    Code:
       0: aload_0
       1: getfield      #15                 // Field kv:Lio/etcd/jetcd/KV;
       4: invokeinterface #58,  1           // InterfaceMethod io/etcd/jetcd/KV.txn:()Lio/etcd/jetcd/Txn;
       9: astore_2
      10: aload_1
      11: aload_2
      12: invokedynamic #59,  0             // InvokeDynamic #4:accept:(Lio/etcd/jetcd/Txn;)Ljava/util/function/Consumer;
      17: invokeinterface #60,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      22: aload_1
      23: aload_0
      24: aload_2
      25: invokedynamic #61,  0             // InvokeDynamic #5:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;Lio/etcd/jetcd/Txn;)Ljava/util/function/Consumer;
      30: invokeinterface #60,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      35: aload_2
      36: invokeinterface #62,  1           // InterfaceMethod io/etcd/jetcd/Txn.commit:()Ljava/util/concurrent/CompletableFuture;
      41: aload_0
      42: aload_1
      43: invokedynamic #63,  0             // InvokeDynamic #6:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;Ljava/util/List;)Ljava/util/function/Consumer;
      48: invokevirtual #64                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
      51: aload_0
      52: aload_1
      53: invokedynamic #65,  0             // InvokeDynamic #7:apply:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;Ljava/util/List;)Ljava/util/function/Function;
      58: invokevirtual #66                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      61: pop
      62: goto          80
      65: astore_2
      66: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
      69: ldc           #68                 // String Error in committing batch: {}
      71: aload_2
      72: invokevirtual #69                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      75: invokeinterface #70,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      80: return
    Exception table:
       from    to  target type
           0    62    65   Class java/lang/Throwable

  private void handleBatchOperationResult(io.etcd.jetcd.kv.TxnResponse, java.util.List<org.apache.pulsar.metadata.impl.batching.MetadataOp>);
    Code:
       0: aload_0
       1: getfield      #47                 // Field executor:Ljava/util/concurrent/ScheduledExecutorService;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokedynamic #71,  0             // InvokeDynamic #8:run:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;Lio/etcd/jetcd/kv/TxnResponse;Ljava/util/List;)Ljava/lang/Runnable;
      12: invokeinterface #72,  2           // InterfaceMethod java/util/concurrent/ScheduledExecutorService.execute:(Ljava/lang/Runnable;)V
      17: return

  private synchronized java.util.concurrent.CompletableFuture<java.lang.Void> createLease(boolean);
    Code:
       0: aload_0
       1: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
       4: invokeinterface #40,  1           // InterfaceMethod io/etcd/jetcd/Client.getLeaseClient:()Lio/etcd/jetcd/Lease;
       9: aload_0
      10: getfield      #4                  // Field leaseTTLSeconds:I
      13: i2l
      14: invokeinterface #73,  3           // InterfaceMethod io/etcd/jetcd/Lease.grant:(J)Ljava/util/concurrent/CompletableFuture;
      19: aload_0
      20: invokedynamic #74,  0             // InvokeDynamic #9:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Consumer;
      25: invokevirtual #64                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
      28: astore_2
      29: iload_1
      30: ifeq          44
      33: aload_2
      34: aload_0
      35: invokedynamic #75,  0             // InvokeDynamic #10:apply:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Function;
      40: invokevirtual #66                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      43: pop
      44: aload_2
      45: areturn

  private void handleWatchResponse(io.etcd.jetcd.watch.WatchResponse);
    Code:
       0: aload_1
       1: invokevirtual #76                 // Method io/etcd/jetcd/watch/WatchResponse.getEvents:()Ljava/util/List;
       4: aload_0
       5: invokedynamic #77,  0             // InvokeDynamic #11:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Consumer;
      10: invokeinterface #60,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      15: return

  protected void receivedSessionEvent(org.apache.pulsar.metadata.api.extended.SessionEvent);
    Code:
       0: aload_1
       1: getstatic     #78                 // Field org/apache/pulsar/metadata/api/extended/SessionEvent.SessionReestablished:Lorg/apache/pulsar/metadata/api/extended/SessionEvent;
       4: if_acmpne     26
       7: aload_0
       8: iconst_1
       9: invokespecial #30                 // Method createLease:(Z)Ljava/util/concurrent/CompletableFuture;
      12: aload_0
      13: aload_1
      14: invokedynamic #79,  0             // InvokeDynamic #12:run:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;Lorg/apache/pulsar/metadata/api/extended/SessionEvent;)Ljava/lang/Runnable;
      19: invokevirtual #80                 // Method java/util/concurrent/CompletableFuture.thenRun:(Ljava/lang/Runnable;)Ljava/util/concurrent/CompletableFuture;
      22: pop
      23: goto          31
      26: aload_0
      27: aload_1
      28: invokespecial #81                 // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore.receivedSessionEvent:(Lorg/apache/pulsar/metadata/api/extended/SessionEvent;)V
      31: return

  private void lambda$receivedSessionEvent$18(org.apache.pulsar.metadata.api.extended.SessionEvent);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #81                 // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore.receivedSessionEvent:(Lorg/apache/pulsar/metadata/api/extended/SessionEvent;)V
       5: return

  private void lambda$handleWatchResponse$17(io.etcd.jetcd.watch.WatchEvent);
    Code:
       0: aload_1
       1: invokevirtual #82                 // Method io/etcd/jetcd/watch/WatchEvent.getKeyValue:()Lio/etcd/jetcd/KeyValue;
       4: invokevirtual #83                 // Method io/etcd/jetcd/KeyValue.getKey:()Lio/etcd/jetcd/ByteSequence;
       7: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      10: invokevirtual #84                 // Method io/etcd/jetcd/ByteSequence.toString:(Ljava/nio/charset/Charset;)Ljava/lang/String;
      13: astore_2
      14: aload_1
      15: invokevirtual #85                 // Method io/etcd/jetcd/watch/WatchEvent.getEventType:()Lio/etcd/jetcd/watch/WatchEvent$EventType;
      18: getstatic     #86                 // Field io/etcd/jetcd/watch/WatchEvent$EventType.PUT:Lio/etcd/jetcd/watch/WatchEvent$EventType;
      21: if_acmpne     79
      24: aload_1
      25: invokevirtual #82                 // Method io/etcd/jetcd/watch/WatchEvent.getKeyValue:()Lio/etcd/jetcd/KeyValue;
      28: invokevirtual #87                 // Method io/etcd/jetcd/KeyValue.getVersion:()J
      31: lconst_1
      32: lcmp
      33: ifne          60
      36: aload_0
      37: new           #88                 // class org/apache/pulsar/metadata/api/Notification
      40: dup
      41: getstatic     #89                 // Field org/apache/pulsar/metadata/api/NotificationType.Created:Lorg/apache/pulsar/metadata/api/NotificationType;
      44: aload_2
      45: invokespecial #90                 // Method org/apache/pulsar/metadata/api/Notification."<init>":(Lorg/apache/pulsar/metadata/api/NotificationType;Ljava/lang/String;)V
      48: invokevirtual #91                 // Method receivedNotification:(Lorg/apache/pulsar/metadata/api/Notification;)Ljava/util/concurrent/CompletableFuture;
      51: pop
      52: aload_0
      53: aload_2
      54: invokevirtual #92                 // Method notifyParentChildrenChanged:(Ljava/lang/String;)V
      57: goto          110
      60: aload_0
      61: new           #88                 // class org/apache/pulsar/metadata/api/Notification
      64: dup
      65: getstatic     #93                 // Field org/apache/pulsar/metadata/api/NotificationType.Modified:Lorg/apache/pulsar/metadata/api/NotificationType;
      68: aload_2
      69: invokespecial #90                 // Method org/apache/pulsar/metadata/api/Notification."<init>":(Lorg/apache/pulsar/metadata/api/NotificationType;Ljava/lang/String;)V
      72: invokevirtual #91                 // Method receivedNotification:(Lorg/apache/pulsar/metadata/api/Notification;)Ljava/util/concurrent/CompletableFuture;
      75: pop
      76: goto          110
      79: aload_1
      80: invokevirtual #85                 // Method io/etcd/jetcd/watch/WatchEvent.getEventType:()Lio/etcd/jetcd/watch/WatchEvent$EventType;
      83: getstatic     #94                 // Field io/etcd/jetcd/watch/WatchEvent$EventType.DELETE:Lio/etcd/jetcd/watch/WatchEvent$EventType;
      86: if_acmpne     110
      89: aload_0
      90: new           #88                 // class org/apache/pulsar/metadata/api/Notification
      93: dup
      94: getstatic     #95                 // Field org/apache/pulsar/metadata/api/NotificationType.Deleted:Lorg/apache/pulsar/metadata/api/NotificationType;
      97: aload_2
      98: invokespecial #90                 // Method org/apache/pulsar/metadata/api/Notification."<init>":(Lorg/apache/pulsar/metadata/api/NotificationType;Ljava/lang/String;)V
     101: invokevirtual #91                 // Method receivedNotification:(Lorg/apache/pulsar/metadata/api/Notification;)Ljava/util/concurrent/CompletableFuture;
     104: pop
     105: aload_0
     106: aload_2
     107: invokevirtual #92                 // Method notifyParentChildrenChanged:(Ljava/lang/String;)V
     110: return

  private java.lang.Void lambda$createLease$16(java.lang.Throwable);
    Code:
       0: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
       3: ldc           #96                 // String Failed to create Etcd lease. Retrying later
       5: aload_1
       6: invokeinterface #97,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      11: aload_0
      12: getfield      #47                 // Field executor:Ljava/util/concurrent/ScheduledExecutorService;
      15: aload_0
      16: invokedynamic #98,  0             // InvokeDynamic #13:run:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/lang/Runnable;
      21: lconst_1
      22: getstatic     #99                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      25: invokeinterface #100,  5          // InterfaceMethod java/util/concurrent/ScheduledExecutorService.schedule:(Ljava/lang/Runnable;JLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
      30: pop
      31: aconst_null
      32: areturn

  private void lambda$null$15();
    Code:
       0: aload_0
       1: iconst_1
       2: invokespecial #30                 // Method createLease:(Z)Ljava/util/concurrent/CompletableFuture;
       5: pop
       6: return

  private void lambda$createLease$14(io.etcd.jetcd.lease.LeaseGrantResponse);
    Code:
       0: aload_0
       1: dup
       2: astore_2
       3: monitorenter
       4: aload_0
       5: aload_1
       6: invokevirtual #101                // Method io/etcd/jetcd/lease/LeaseGrantResponse.getID:()J
       9: putfield      #39                 // Field leaseId:J
      12: aload_0
      13: getfield      #37                 // Field leaseClient:Lio/etcd/jetcd/support/CloseableClient;
      16: ifnull        28
      19: aload_0
      20: getfield      #37                 // Field leaseClient:Lio/etcd/jetcd/support/CloseableClient;
      23: invokeinterface #38,  1           // InterfaceMethod io/etcd/jetcd/support/CloseableClient.close:()V
      28: aload_0
      29: aload_0
      30: getfield      #13                 // Field client:Lio/etcd/jetcd/Client;
      33: invokeinterface #40,  1           // InterfaceMethod io/etcd/jetcd/Client.getLeaseClient:()Lio/etcd/jetcd/Lease;
      38: aload_0
      39: getfield      #39                 // Field leaseId:J
      42: new           #102                // class org/apache/pulsar/metadata/impl/EtcdMetadataStore$1
      45: dup
      46: aload_0
      47: invokespecial #103                // Method org/apache/pulsar/metadata/impl/EtcdMetadataStore$1."<init>":(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)V
      50: invokeinterface #104,  4          // InterfaceMethod io/etcd/jetcd/Lease.keepAlive:(JLio/grpc/stub/StreamObserver;)Lio/etcd/jetcd/support/CloseableClient;
      55: putfield      #37                 // Field leaseClient:Lio/etcd/jetcd/support/CloseableClient;
      58: aload_2
      59: monitorexit
      60: goto          68
      63: astore_3
      64: aload_2
      65: monitorexit
      66: aload_3
      67: athrow
      68: return
    Exception table:
       from    to  target type
           4    60    63   any
          63    66    63   any

  private void lambda$handleBatchOperationResult$13(io.etcd.jetcd.kv.TxnResponse, java.util.List);
    Code:
       0: aload_1
       1: invokevirtual #105                // Method io/etcd/jetcd/kv/TxnResponse.isSucceeded:()Z
       4: ifne          61
       7: aload_2
       8: invokeinterface #106,  1          // InterfaceMethod java/util/List.size:()I
      13: iconst_1
      14: if_icmple     32
      17: aload_2
      18: aload_0
      19: invokedynamic #107,  0            // InvokeDynamic #14:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Consumer;
      24: invokeinterface #60,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      29: goto          60
      32: aload_2
      33: iconst_0
      34: invokeinterface #108,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      39: checkcast     #109                // class org/apache/pulsar/metadata/impl/batching/MetadataOp
      42: invokeinterface #110,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.getFuture:()Ljava/util/concurrent/CompletableFuture;
      47: new           #111                // class org/apache/pulsar/metadata/api/MetadataStoreException$BadVersionException
      50: dup
      51: ldc           #112                // String Bad version
      53: invokespecial #113                // Method org/apache/pulsar/metadata/api/MetadataStoreException$BadVersionException."<init>":(Ljava/lang/String;)V
      56: invokevirtual #114                // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      59: pop
      60: return
      61: iconst_0
      62: istore_3
      63: iconst_0
      64: istore        4
      66: iconst_0
      67: istore        5
      69: aload_2
      70: invokeinterface #115,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      75: astore        6
      77: aload         6
      79: invokeinterface #116,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      84: ifeq          617
      87: aload         6
      89: invokeinterface #117,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      94: checkcast     #109                // class org/apache/pulsar/metadata/impl/batching/MetadataOp
      97: astore        7
      99: getstatic     #118                // Field org/apache/pulsar/metadata/impl/EtcdMetadataStore$2.$SwitchMap$org$apache$pulsar$metadata$impl$batching$MetadataOp$Type:[I
     102: aload         7
     104: invokeinterface #119,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.getType:()Lorg/apache/pulsar/metadata/impl/batching/MetadataOp$Type;
     109: invokevirtual #120                // Method org/apache/pulsar/metadata/impl/batching/MetadataOp$Type.ordinal:()I
     112: iaload
     113: tableswitch   { // 1 to 4
                     1: 144
                     2: 304
                     3: 414
                     4: 484
               default: 614
          }
     144: aload         7
     146: invokeinterface #121,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asGet:()Lorg/apache/pulsar/metadata/impl/batching/OpGet;
     151: astore        8
     153: aload_1
     154: invokevirtual #122                // Method io/etcd/jetcd/kv/TxnResponse.getGetResponses:()Ljava/util/List;
     157: iload_3
     158: iinc          3, 1
     161: invokeinterface #108,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     166: checkcast     #123                // class io/etcd/jetcd/kv/GetResponse
     169: astore        9
     171: aload         9
     173: invokevirtual #124                // Method io/etcd/jetcd/kv/GetResponse.getCount:()J
     176: lconst_0
     177: lcmp
     178: ifne          196
     181: aload         8
     183: invokevirtual #125                // Method org/apache/pulsar/metadata/impl/batching/OpGet.getFuture:()Ljava/util/concurrent/CompletableFuture;
     186: invokestatic  #53                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     189: invokevirtual #126                // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     192: pop
     193: goto          614
     196: aload         9
     198: invokevirtual #127                // Method io/etcd/jetcd/kv/GetResponse.getKvs:()Ljava/util/List;
     201: iconst_0
     202: invokeinterface #108,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     207: checkcast     #128                // class io/etcd/jetcd/KeyValue
     210: astore        10
     212: aload         10
     214: invokevirtual #129                // Method io/etcd/jetcd/KeyValue.getLease:()J
     217: lconst_0
     218: lcmp
     219: ifeq          226
     222: iconst_1
     223: goto          227
     226: iconst_0
     227: istore        11
     229: aload         10
     231: invokevirtual #129                // Method io/etcd/jetcd/KeyValue.getLease:()J
     234: aload_0
     235: getfield      #39                 // Field leaseId:J
     238: lcmp
     239: ifne          246
     242: iconst_1
     243: goto          247
     246: iconst_0
     247: istore        12
     249: aload         8
     251: invokevirtual #125                // Method org/apache/pulsar/metadata/impl/batching/OpGet.getFuture:()Ljava/util/concurrent/CompletableFuture;
     254: new           #130                // class org/apache/pulsar/metadata/api/GetResult
     257: dup
     258: aload         10
     260: invokevirtual #131                // Method io/etcd/jetcd/KeyValue.getValue:()Lio/etcd/jetcd/ByteSequence;
     263: invokevirtual #132                // Method io/etcd/jetcd/ByteSequence.getBytes:()[B
     266: new           #133                // class org/apache/pulsar/metadata/api/Stat
     269: dup
     270: aload         8
     272: invokevirtual #134                // Method org/apache/pulsar/metadata/impl/batching/OpGet.getPath:()Ljava/lang/String;
     275: aload         10
     277: invokevirtual #87                 // Method io/etcd/jetcd/KeyValue.getVersion:()J
     280: lconst_1
     281: lsub
     282: lconst_0
     283: lconst_0
     284: iload         11
     286: iload         12
     288: invokespecial #135                // Method org/apache/pulsar/metadata/api/Stat."<init>":(Ljava/lang/String;JJJZZ)V
     291: invokespecial #136                // Method org/apache/pulsar/metadata/api/GetResult."<init>":([BLorg/apache/pulsar/metadata/api/Stat;)V
     294: invokestatic  #137                // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     297: invokevirtual #126                // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     300: pop
     301: goto          614
     304: aload         7
     306: invokeinterface #138,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asPut:()Lorg/apache/pulsar/metadata/impl/batching/OpPut;
     311: astore        8
     313: aload_1
     314: invokevirtual #139                // Method io/etcd/jetcd/kv/TxnResponse.getPutResponses:()Ljava/util/List;
     317: iload         5
     319: iinc          5, 1
     322: invokeinterface #108,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     327: checkcast     #140                // class io/etcd/jetcd/kv/PutResponse
     330: astore        9
     332: aload         9
     334: invokevirtual #141                // Method io/etcd/jetcd/kv/PutResponse.getPrevKv:()Lio/etcd/jetcd/KeyValue;
     337: astore        10
     339: aload         10
     341: ifnonnull     377
     344: aload         8
     346: invokevirtual #142                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getFuture:()Ljava/util/concurrent/CompletableFuture;
     349: new           #133                // class org/apache/pulsar/metadata/api/Stat
     352: dup
     353: aload         8
     355: invokevirtual #143                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getPath:()Ljava/lang/String;
     358: lconst_0
     359: lconst_0
     360: lconst_0
     361: aload         8
     363: invokevirtual #144                // Method org/apache/pulsar/metadata/impl/batching/OpPut.isEphemeral:()Z
     366: iconst_1
     367: invokespecial #135                // Method org/apache/pulsar/metadata/api/Stat."<init>":(Ljava/lang/String;JJJZZ)V
     370: invokevirtual #126                // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     373: pop
     374: goto          614
     377: aload         8
     379: invokevirtual #142                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getFuture:()Ljava/util/concurrent/CompletableFuture;
     382: new           #133                // class org/apache/pulsar/metadata/api/Stat
     385: dup
     386: aload         8
     388: invokevirtual #143                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getPath:()Ljava/lang/String;
     391: aload         10
     393: invokevirtual #87                 // Method io/etcd/jetcd/KeyValue.getVersion:()J
     396: lconst_0
     397: lconst_0
     398: aload         8
     400: invokevirtual #144                // Method org/apache/pulsar/metadata/impl/batching/OpPut.isEphemeral:()Z
     403: iconst_1
     404: invokespecial #135                // Method org/apache/pulsar/metadata/api/Stat."<init>":(Ljava/lang/String;JJJZZ)V
     407: invokevirtual #126                // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     410: pop
     411: goto          614
     414: aload         7
     416: invokeinterface #145,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asDelete:()Lorg/apache/pulsar/metadata/impl/batching/OpDelete;
     421: astore        8
     423: aload_1
     424: invokevirtual #146                // Method io/etcd/jetcd/kv/TxnResponse.getDeleteResponses:()Ljava/util/List;
     427: iload         4
     429: iinc          4, 1
     432: invokeinterface #108,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     437: checkcast     #147                // class io/etcd/jetcd/kv/DeleteResponse
     440: astore        9
     442: aload         9
     444: invokevirtual #148                // Method io/etcd/jetcd/kv/DeleteResponse.getDeleted:()J
     447: lconst_0
     448: lcmp
     449: ifne          471
     452: aload         8
     454: invokevirtual #149                // Method org/apache/pulsar/metadata/impl/batching/OpDelete.getFuture:()Ljava/util/concurrent/CompletableFuture;
     457: new           #150                // class org/apache/pulsar/metadata/api/MetadataStoreException$NotFoundException
     460: dup
     461: invokespecial #151                // Method org/apache/pulsar/metadata/api/MetadataStoreException$NotFoundException."<init>":()V
     464: invokevirtual #114                // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     467: pop
     468: goto          614
     471: aload         8
     473: invokevirtual #149                // Method org/apache/pulsar/metadata/impl/batching/OpDelete.getFuture:()Ljava/util/concurrent/CompletableFuture;
     476: aconst_null
     477: invokevirtual #126                // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     480: pop
     481: goto          614
     484: aload         7
     486: invokeinterface #152,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asGetChildren:()Lorg/apache/pulsar/metadata/impl/batching/OpGetChildren;
     491: astore        8
     493: aload_1
     494: invokevirtual #122                // Method io/etcd/jetcd/kv/TxnResponse.getGetResponses:()Ljava/util/List;
     497: iload_3
     498: iinc          3, 1
     501: invokeinterface #108,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     506: checkcast     #123                // class io/etcd/jetcd/kv/GetResponse
     509: astore        9
     511: new           #153                // class java/lang/StringBuilder
     514: dup
     515: invokespecial #154                // Method java/lang/StringBuilder."<init>":()V
     518: aload         8
     520: invokevirtual #155                // Method org/apache/pulsar/metadata/impl/batching/OpGetChildren.getPath:()Ljava/lang/String;
     523: invokevirtual #156                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     526: ldc           #21                 // String /
     528: invokevirtual #156                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     531: invokevirtual #157                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     534: astore        10
     536: aload         9
     538: invokevirtual #127                // Method io/etcd/jetcd/kv/GetResponse.getKvs:()Ljava/util/List;
     541: invokeinterface #158,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
     546: invokedynamic #159,  0            // InvokeDynamic #15:apply:()Ljava/util/function/Function;
     551: invokeinterface #160,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     556: aload         10
     558: invokedynamic #161,  0            // InvokeDynamic #16:apply:(Ljava/lang/String;)Ljava/util/function/Function;
     563: invokeinterface #160,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     568: invokedynamic #162,  0            // InvokeDynamic #17:apply:()Ljava/util/function/Function;
     573: invokeinterface #160,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     578: invokedynamic #163,  0            // InvokeDynamic #18:get:()Ljava/util/function/Supplier;
     583: invokestatic  #164                // Method java/util/stream/Collectors.toCollection:(Ljava/util/function/Supplier;)Ljava/util/stream/Collector;
     586: invokeinterface #165,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     591: checkcast     #166                // class java/util/Set
     594: astore        11
     596: aload         8
     598: invokevirtual #167                // Method org/apache/pulsar/metadata/impl/batching/OpGetChildren.getFuture:()Ljava/util/concurrent/CompletableFuture;
     601: new           #168                // class java/util/ArrayList
     604: dup
     605: aload         11
     607: invokespecial #169                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     610: invokevirtual #126                // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     613: pop
     614: goto          77
     617: return

  private static java.lang.String lambda$null$12(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #21                 // String /
       3: iconst_2
       4: invokevirtual #170                // Method java/lang/String.split:(Ljava/lang/String;I)[Ljava/lang/String;
       7: iconst_0
       8: aaload
       9: areturn

  private static java.lang.String lambda$null$11(java.lang.String, java.lang.String);
    Code:
       0: aload_1
       1: aload_0
       2: ldc           #7                  // String
       4: invokevirtual #171                // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
       7: areturn

  private static java.lang.String lambda$null$10(io.etcd.jetcd.KeyValue);
    Code:
       0: aload_0
       1: invokevirtual #83                 // Method io/etcd/jetcd/KeyValue.getKey:()Lio/etcd/jetcd/ByteSequence;
       4: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
       7: invokevirtual #84                 // Method io/etcd/jetcd/ByteSequence.toString:(Ljava/nio/charset/Charset;)Ljava/lang/String;
      10: areturn

  private void lambda$null$9(org.apache.pulsar.metadata.impl.batching.MetadataOp);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #172                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
       5: invokevirtual #173                // Method batchOperation:(Ljava/util/List;)V
       8: return

  private java.lang.Void lambda$batchOperation$8(java.util.List, java.lang.Throwable);
    Code:
       0: aload_2
       1: invokevirtual #174                // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
       4: astore_3
       5: aload_3
       6: instanceof    #175                // class java/util/concurrent/ExecutionException
       9: ifne          19
      12: aload_3
      13: instanceof    #176                // class java/util/concurrent/CompletionException
      16: ifeq          24
      19: aload_3
      20: invokevirtual #174                // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
      23: astore_3
      24: aload_1
      25: invokeinterface #106,  1          // InterfaceMethod java/util/List.size:()I
      30: iconst_1
      31: if_icmple     84
      34: aload_3
      35: instanceof    #177                // class io/grpc/StatusRuntimeException
      38: ifeq          84
      41: aload_3
      42: checkcast     #177                // class io/grpc/StatusRuntimeException
      45: invokevirtual #178                // Method io/grpc/StatusRuntimeException.getStatus:()Lio/grpc/Status;
      48: invokevirtual #179                // Method io/grpc/Status.getCode:()Lio/grpc/Status$Code;
      51: astore        4
      53: aload         4
      55: getstatic     #180                // Field io/grpc/Status$Code.INVALID_ARGUMENT:Lio/grpc/Status$Code;
      58: if_acmpeq     69
      61: aload         4
      63: getstatic     #181                // Field io/grpc/Status$Code.RESOURCE_EXHAUSTED:Lio/grpc/Status$Code;
      66: if_acmpne     81
      69: aload_1
      70: aload_0
      71: invokedynamic #182,  0            // InvokeDynamic #19:accept:(Lorg/apache/pulsar/metadata/impl/EtcdMetadataStore;)Ljava/util/function/Consumer;
      76: invokeinterface #60,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      81: goto          114
      84: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
      87: ldc           #183                // String Failed to commit: {}
      89: aload_3
      90: invokevirtual #69                 // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      93: invokeinterface #70,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      98: aload_0
      99: getfield      #47                 // Field executor:Ljava/util/concurrent/ScheduledExecutorService;
     102: aload_1
     103: aload_2
     104: invokedynamic #184,  0            // InvokeDynamic #20:run:(Ljava/util/List;Ljava/lang/Throwable;)Ljava/lang/Runnable;
     109: invokeinterface #72,  2           // InterfaceMethod java/util/concurrent/ScheduledExecutorService.execute:(Ljava/lang/Runnable;)V
     114: aconst_null
     115: areturn

  private static void lambda$null$7(java.util.List, java.lang.Throwable);
    Code:
       0: aload_0
       1: aload_1
       2: invokedynamic #185,  0            // InvokeDynamic #21:accept:(Ljava/lang/Throwable;)Ljava/util/function/Consumer;
       7: invokeinterface #60,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      12: return

  private static void lambda$null$6(java.lang.Throwable, org.apache.pulsar.metadata.impl.batching.MetadataOp);
    Code:
       0: aload_1
       1: invokeinterface #110,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.getFuture:()Ljava/util/concurrent/CompletableFuture;
       6: aload_0
       7: invokevirtual #114                // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      10: pop
      11: return

  private void lambda$null$5(org.apache.pulsar.metadata.impl.batching.MetadataOp);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #172                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
       5: invokevirtual #173                // Method batchOperation:(Ljava/util/List;)V
       8: return

  private void lambda$batchOperation$4(java.util.List, io.etcd.jetcd.kv.TxnResponse);
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokespecial #186                // Method handleBatchOperationResult:(Lio/etcd/jetcd/kv/TxnResponse;Ljava/util/List;)V
       6: return

  private void lambda$batchOperation$3(io.etcd.jetcd.Txn, org.apache.pulsar.metadata.impl.batching.MetadataOp);
    Code:
       0: getstatic     #118                // Field org/apache/pulsar/metadata/impl/EtcdMetadataStore$2.$SwitchMap$org$apache$pulsar$metadata$impl$batching$MetadataOp$Type:[I
       3: aload_2
       4: invokeinterface #119,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.getType:()Lorg/apache/pulsar/metadata/impl/batching/MetadataOp$Type;
       9: invokevirtual #120                // Method org/apache/pulsar/metadata/impl/batching/MetadataOp$Type.ordinal:()I
      12: iaload
      13: tableswitch   { // 1 to 4
                     1: 44
                     2: 82
                     3: 170
                     4: 214
               default: 319
          }
      44: aload_1
      45: iconst_1
      46: anewarray     #187                // class io/etcd/jetcd/op/Op
      49: dup
      50: iconst_0
      51: aload_2
      52: invokeinterface #121,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asGet:()Lorg/apache/pulsar/metadata/impl/batching/OpGet;
      57: invokevirtual #134                // Method org/apache/pulsar/metadata/impl/batching/OpGet.getPath:()Ljava/lang/String;
      60: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      63: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
      66: getstatic     #188                // Field SINGLE_GET_OPTION:Lio/etcd/jetcd/options/GetOption;
      69: invokestatic  #189                // Method io/etcd/jetcd/op/Op.get:(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/options/GetOption;)Lio/etcd/jetcd/op/Op$GetOp;
      72: aastore
      73: invokeinterface #190,  2          // InterfaceMethod io/etcd/jetcd/Txn.Then:([Lio/etcd/jetcd/op/Op;)Lio/etcd/jetcd/Txn;
      78: pop
      79: goto          319
      82: aload_2
      83: invokeinterface #138,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asPut:()Lorg/apache/pulsar/metadata/impl/batching/OpPut;
      88: astore_3
      89: aload_3
      90: invokevirtual #143                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getPath:()Ljava/lang/String;
      93: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      96: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
      99: astore        4
     101: aload_3
     102: invokevirtual #142                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getFuture:()Ljava/util/concurrent/CompletableFuture;
     105: invokevirtual #191                // Method java/util/concurrent/CompletableFuture.isDone:()Z
     108: ifne          319
     111: invokestatic  #192                // Method io/etcd/jetcd/options/PutOption.newBuilder:()Lio/etcd/jetcd/options/PutOption$Builder;
     114: invokevirtual #193                // Method io/etcd/jetcd/options/PutOption$Builder.withPrevKV:()Lio/etcd/jetcd/options/PutOption$Builder;
     117: astore        5
     119: aload_3
     120: invokevirtual #144                // Method org/apache/pulsar/metadata/impl/batching/OpPut.isEphemeral:()Z
     123: ifeq          136
     126: aload         5
     128: aload_0
     129: getfield      #39                 // Field leaseId:J
     132: invokevirtual #194                // Method io/etcd/jetcd/options/PutOption$Builder.withLeaseId:(J)Lio/etcd/jetcd/options/PutOption$Builder;
     135: pop
     136: aload_1
     137: iconst_1
     138: anewarray     #187                // class io/etcd/jetcd/op/Op
     141: dup
     142: iconst_0
     143: aload         4
     145: aload_3
     146: invokevirtual #195                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getData:()[B
     149: invokestatic  #196                // Method io/etcd/jetcd/ByteSequence.from:([B)Lio/etcd/jetcd/ByteSequence;
     152: aload         5
     154: invokevirtual #197                // Method io/etcd/jetcd/options/PutOption$Builder.build:()Lio/etcd/jetcd/options/PutOption;
     157: invokestatic  #198                // Method io/etcd/jetcd/op/Op.put:(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/options/PutOption;)Lio/etcd/jetcd/op/Op$PutOp;
     160: aastore
     161: invokeinterface #190,  2          // InterfaceMethod io/etcd/jetcd/Txn.Then:([Lio/etcd/jetcd/op/Op;)Lio/etcd/jetcd/Txn;
     166: pop
     167: goto          319
     170: aload_2
     171: invokeinterface #145,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asDelete:()Lorg/apache/pulsar/metadata/impl/batching/OpDelete;
     176: astore_3
     177: aload_3
     178: invokevirtual #199                // Method org/apache/pulsar/metadata/impl/batching/OpDelete.getPath:()Ljava/lang/String;
     181: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     184: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
     187: astore        4
     189: aload_1
     190: iconst_1
     191: anewarray     #187                // class io/etcd/jetcd/op/Op
     194: dup
     195: iconst_0
     196: aload         4
     198: getstatic     #200                // Field io/etcd/jetcd/options/DeleteOption.DEFAULT:Lio/etcd/jetcd/options/DeleteOption;
     201: invokestatic  #201                // Method io/etcd/jetcd/op/Op.delete:(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/options/DeleteOption;)Lio/etcd/jetcd/op/Op$DeleteOp;
     204: aastore
     205: invokeinterface #190,  2          // InterfaceMethod io/etcd/jetcd/Txn.Then:([Lio/etcd/jetcd/op/Op;)Lio/etcd/jetcd/Txn;
     210: pop
     211: goto          319
     214: aload_2
     215: invokeinterface #152,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asGetChildren:()Lorg/apache/pulsar/metadata/impl/batching/OpGetChildren;
     220: astore_3
     221: aload_3
     222: invokevirtual #155                // Method org/apache/pulsar/metadata/impl/batching/OpGetChildren.getPath:()Ljava/lang/String;
     225: astore        4
     227: aload         4
     229: ldc           #21                 // String /
     231: invokevirtual #202                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     234: ifeq          242
     237: aload         4
     239: goto          262
     242: new           #153                // class java/lang/StringBuilder
     245: dup
     246: invokespecial #154                // Method java/lang/StringBuilder."<init>":()V
     249: aload         4
     251: invokevirtual #156                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     254: ldc           #21                 // String /
     256: invokevirtual #156                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     259: invokevirtual #157                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     262: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     265: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
     268: astore        5
     270: aload_1
     271: iconst_1
     272: anewarray     #187                // class io/etcd/jetcd/op/Op
     275: dup
     276: iconst_0
     277: aload         5
     279: invokestatic  #203                // Method io/etcd/jetcd/options/GetOption.newBuilder:()Lio/etcd/jetcd/options/GetOption$Builder;
     282: iconst_1
     283: invokevirtual #204                // Method io/etcd/jetcd/options/GetOption$Builder.withKeysOnly:(Z)Lio/etcd/jetcd/options/GetOption$Builder;
     286: getstatic     #205                // Field io/etcd/jetcd/options/GetOption$SortTarget.KEY:Lio/etcd/jetcd/options/GetOption$SortTarget;
     289: invokevirtual #206                // Method io/etcd/jetcd/options/GetOption$Builder.withSortField:(Lio/etcd/jetcd/options/GetOption$SortTarget;)Lio/etcd/jetcd/options/GetOption$Builder;
     292: getstatic     #207                // Field io/etcd/jetcd/options/GetOption$SortOrder.ASCEND:Lio/etcd/jetcd/options/GetOption$SortOrder;
     295: invokevirtual #208                // Method io/etcd/jetcd/options/GetOption$Builder.withSortOrder:(Lio/etcd/jetcd/options/GetOption$SortOrder;)Lio/etcd/jetcd/options/GetOption$Builder;
     298: aload         5
     300: invokevirtual #209                // Method io/etcd/jetcd/options/GetOption$Builder.withPrefix:(Lio/etcd/jetcd/ByteSequence;)Lio/etcd/jetcd/options/GetOption$Builder;
     303: invokevirtual #210                // Method io/etcd/jetcd/options/GetOption$Builder.build:()Lio/etcd/jetcd/options/GetOption;
     306: invokestatic  #189                // Method io/etcd/jetcd/op/Op.get:(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/options/GetOption;)Lio/etcd/jetcd/op/Op$GetOp;
     309: aastore
     310: invokeinterface #190,  2          // InterfaceMethod io/etcd/jetcd/Txn.Then:([Lio/etcd/jetcd/op/Op;)Lio/etcd/jetcd/Txn;
     315: pop
     316: goto          319
     319: return

  private static void lambda$batchOperation$2(io.etcd.jetcd.Txn, org.apache.pulsar.metadata.impl.batching.MetadataOp);
    Code:
       0: getstatic     #118                // Field org/apache/pulsar/metadata/impl/EtcdMetadataStore$2.$SwitchMap$org$apache$pulsar$metadata$impl$batching$MetadataOp$Type:[I
       3: aload_1
       4: invokeinterface #119,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.getType:()Lorg/apache/pulsar/metadata/impl/batching/MetadataOp$Type;
       9: invokevirtual #120                // Method org/apache/pulsar/metadata/impl/batching/MetadataOp$Type.ordinal:()I
      12: iaload
      13: lookupswitch  { // 2
                     2: 40
                     3: 159
               default: 233
          }
      40: aload_1
      41: invokeinterface #138,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asPut:()Lorg/apache/pulsar/metadata/impl/batching/OpPut;
      46: astore_2
      47: aload_2
      48: invokevirtual #143                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getPath:()Ljava/lang/String;
      51: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      54: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
      57: astore_3
      58: aload_2
      59: invokevirtual #211                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getOptExpectedVersion:()Ljava/util/Optional;
      62: invokevirtual #212                // Method java/util/Optional.isPresent:()Z
      65: ifeq          233
      68: aload_2
      69: invokevirtual #211                // Method org/apache/pulsar/metadata/impl/batching/OpPut.getOptExpectedVersion:()Ljava/util/Optional;
      72: invokevirtual #213                // Method java/util/Optional.get:()Ljava/lang/Object;
      75: checkcast     #214                // class java/lang/Long
      78: invokevirtual #215                // Method java/lang/Long.longValue:()J
      81: lstore        4
      83: lload         4
      85: ldc2_w        #216                // long -1l
      88: lcmp
      89: ifne          124
      92: aload_0
      93: iconst_1
      94: anewarray     #218                // class io/etcd/jetcd/op/Cmp
      97: dup
      98: iconst_0
      99: new           #218                // class io/etcd/jetcd/op/Cmp
     102: dup
     103: aload_3
     104: getstatic     #219                // Field io/etcd/jetcd/op/Cmp$Op.EQUAL:Lio/etcd/jetcd/op/Cmp$Op;
     107: lconst_0
     108: invokestatic  #220                // Method io/etcd/jetcd/op/CmpTarget.createRevision:(J)Lio/etcd/jetcd/op/CmpTarget$CreateRevisionCmpTarget;
     111: invokespecial #221                // Method io/etcd/jetcd/op/Cmp."<init>":(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/op/Cmp$Op;Lio/etcd/jetcd/op/CmpTarget;)V
     114: aastore
     115: invokeinterface #222,  2          // InterfaceMethod io/etcd/jetcd/Txn.If:([Lio/etcd/jetcd/op/Cmp;)Lio/etcd/jetcd/Txn;
     120: pop
     121: goto          156
     124: aload_0
     125: iconst_1
     126: anewarray     #218                // class io/etcd/jetcd/op/Cmp
     129: dup
     130: iconst_0
     131: new           #218                // class io/etcd/jetcd/op/Cmp
     134: dup
     135: aload_3
     136: getstatic     #219                // Field io/etcd/jetcd/op/Cmp$Op.EQUAL:Lio/etcd/jetcd/op/Cmp$Op;
     139: lload         4
     141: lconst_1
     142: ladd
     143: invokestatic  #223                // Method io/etcd/jetcd/op/CmpTarget.version:(J)Lio/etcd/jetcd/op/CmpTarget$VersionCmpTarget;
     146: invokespecial #221                // Method io/etcd/jetcd/op/Cmp."<init>":(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/op/Cmp$Op;Lio/etcd/jetcd/op/CmpTarget;)V
     149: aastore
     150: invokeinterface #222,  2          // InterfaceMethod io/etcd/jetcd/Txn.If:([Lio/etcd/jetcd/op/Cmp;)Lio/etcd/jetcd/Txn;
     155: pop
     156: goto          233
     159: aload_1
     160: invokeinterface #145,  1          // InterfaceMethod org/apache/pulsar/metadata/impl/batching/MetadataOp.asDelete:()Lorg/apache/pulsar/metadata/impl/batching/OpDelete;
     165: astore_2
     166: aload_2
     167: invokevirtual #199                // Method org/apache/pulsar/metadata/impl/batching/OpDelete.getPath:()Ljava/lang/String;
     170: getstatic     #18                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     173: invokestatic  #19                 // Method io/etcd/jetcd/ByteSequence.from:(Ljava/lang/String;Ljava/nio/charset/Charset;)Lio/etcd/jetcd/ByteSequence;
     176: astore_3
     177: aload_2
     178: invokevirtual #224                // Method org/apache/pulsar/metadata/impl/batching/OpDelete.getOptExpectedVersion:()Ljava/util/Optional;
     181: invokevirtual #212                // Method java/util/Optional.isPresent:()Z
     184: ifeq          233
     187: aload_0
     188: iconst_1
     189: anewarray     #218                // class io/etcd/jetcd/op/Cmp
     192: dup
     193: iconst_0
     194: new           #218                // class io/etcd/jetcd/op/Cmp
     197: dup
     198: aload_3
     199: getstatic     #219                // Field io/etcd/jetcd/op/Cmp$Op.EQUAL:Lio/etcd/jetcd/op/Cmp$Op;
     202: aload_2
     203: invokevirtual #224                // Method org/apache/pulsar/metadata/impl/batching/OpDelete.getOptExpectedVersion:()Ljava/util/Optional;
     206: invokevirtual #213                // Method java/util/Optional.get:()Ljava/lang/Object;
     209: checkcast     #214                // class java/lang/Long
     212: invokevirtual #215                // Method java/lang/Long.longValue:()J
     215: lconst_1
     216: ladd
     217: invokestatic  #223                // Method io/etcd/jetcd/op/CmpTarget.version:(J)Lio/etcd/jetcd/op/CmpTarget$VersionCmpTarget;
     220: invokespecial #221                // Method io/etcd/jetcd/op/Cmp."<init>":(Lio/etcd/jetcd/ByteSequence;Lio/etcd/jetcd/op/Cmp$Op;Lio/etcd/jetcd/op/CmpTarget;)V
     223: aastore
     224: invokeinterface #222,  2          // InterfaceMethod io/etcd/jetcd/Txn.If:([Lio/etcd/jetcd/op/Cmp;)Lio/etcd/jetcd/Txn;
     229: pop
     230: goto          233
     233: return

  private java.util.concurrent.CompletionStage lambda$storePut$1(java.lang.String, byte[], java.util.Optional, java.util.EnumSet, org.apache.pulsar.metadata.api.Stat);
    Code:
       0: aload_0
       1: new           #153                // class java/lang/StringBuilder
       4: dup
       5: invokespecial #154                // Method java/lang/StringBuilder."<init>":()V
       8: aload_1
       9: invokevirtual #156                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      12: aload         5
      14: invokevirtual #225                // Method org/apache/pulsar/metadata/api/Stat.getVersion:()J
      17: invokevirtual #226                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      20: invokevirtual #157                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: aload_2
      24: aload_3
      25: aload         4
      27: invokespecial #51                 // Method org/apache/pulsar/metadata/impl/batching/AbstractBatchedMetadataStore.storePut:(Ljava/lang/String;[BLjava/util/Optional;Ljava/util/EnumSet;)Ljava/util/concurrent/CompletableFuture;
      30: areturn

  private static java.lang.Boolean lambda$existsFromStore$0(io.etcd.jetcd.kv.GetResponse);
    Code:
       0: aload_0
       1: invokevirtual #124                // Method io/etcd/jetcd/kv/GetResponse.getCount:()J
       4: lconst_1
       5: lcmp
       6: ifne          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: invokestatic  #227                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      17: areturn

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #1                  // Field log:Lorg/slf4j/Logger;
       3: areturn

  static {};
    Code:
       0: ldc           #5                  // class org/apache/pulsar/metadata/impl/EtcdMetadataStore
       2: invokestatic  #228                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #1                  // Field log:Lorg/slf4j/Logger;
       8: invokestatic  #203                // Method io/etcd/jetcd/options/GetOption.newBuilder:()Lio/etcd/jetcd/options/GetOption$Builder;
      11: iconst_1
      12: invokevirtual #229                // Method io/etcd/jetcd/options/GetOption$Builder.withCountOnly:(Z)Lio/etcd/jetcd/options/GetOption$Builder;
      15: invokevirtual #210                // Method io/etcd/jetcd/options/GetOption$Builder.build:()Lio/etcd/jetcd/options/GetOption;
      18: putstatic     #44                 // Field EXISTS_GET_OPTION:Lio/etcd/jetcd/options/GetOption;
      21: invokestatic  #203                // Method io/etcd/jetcd/options/GetOption.newBuilder:()Lio/etcd/jetcd/options/GetOption$Builder;
      24: lconst_1
      25: invokevirtual #230                // Method io/etcd/jetcd/options/GetOption$Builder.withLimit:(J)Lio/etcd/jetcd/options/GetOption$Builder;
      28: invokevirtual #210                // Method io/etcd/jetcd/options/GetOption$Builder.build:()Lio/etcd/jetcd/options/GetOption;
      31: putstatic     #188                // Field SINGLE_GET_OPTION:Lio/etcd/jetcd/options/GetOption;
      34: return
}
