Compiled from "MetadataCacheImpl.java"
public class org.apache.pulsar.metadata.cache.impl.MetadataCacheImpl<T> implements org.apache.pulsar.metadata.api.MetadataCache<T>, java.util.function.Consumer<org.apache.pulsar.metadata.api.Notification> {
  private static final org.slf4j.Logger log;

  private static final long CACHE_REFRESH_TIME_MILLIS;

  private final org.apache.pulsar.metadata.api.MetadataStore store;

  private final org.apache.pulsar.metadata.api.MetadataSerde<T> serde;

  private final com.github.benmanes.caffeine.cache.AsyncLoadingCache<java.lang.String, java.util.Optional<org.apache.pulsar.metadata.api.CacheGetResult<T>>> objCache;

  public org.apache.pulsar.metadata.cache.impl.MetadataCacheImpl(org.apache.pulsar.metadata.api.MetadataStore, com.fasterxml.jackson.core.type.TypeReference<T>);
    Code:
       0: aload_0
       1: aload_1
       2: new           #2                  // class org/apache/pulsar/metadata/cache/impl/JSONMetadataSerdeTypeRef
       5: dup
       6: aload_2
       7: invokespecial #3                  // Method org/apache/pulsar/metadata/cache/impl/JSONMetadataSerdeTypeRef."<init>":(Lcom/fasterxml/jackson/core/type/TypeReference;)V
      10: invokespecial #4                  // Method "<init>":(Lorg/apache/pulsar/metadata/api/MetadataStore;Lorg/apache/pulsar/metadata/api/MetadataSerde;)V
      13: return

  public org.apache.pulsar.metadata.cache.impl.MetadataCacheImpl(org.apache.pulsar.metadata.api.MetadataStore, com.fasterxml.jackson.databind.JavaType);
    Code:
       0: aload_0
       1: aload_1
       2: new           #5                  // class org/apache/pulsar/metadata/cache/impl/JSONMetadataSerdeSimpleType
       5: dup
       6: aload_2
       7: invokespecial #6                  // Method org/apache/pulsar/metadata/cache/impl/JSONMetadataSerdeSimpleType."<init>":(Lcom/fasterxml/jackson/databind/JavaType;)V
      10: invokespecial #4                  // Method "<init>":(Lorg/apache/pulsar/metadata/api/MetadataStore;Lorg/apache/pulsar/metadata/api/MetadataSerde;)V
      13: return

  public org.apache.pulsar.metadata.cache.impl.MetadataCacheImpl(org.apache.pulsar.metadata.api.MetadataStore, org.apache.pulsar.metadata.api.MetadataSerde<T>);
    Code:
       0: aload_0
       1: invokespecial #7                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
       9: aload_0
      10: aload_2
      11: putfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      14: aload_0
      15: invokestatic  #10                 // Method com/github/benmanes/caffeine/cache/Caffeine.newBuilder:()Lcom/github/benmanes/caffeine/cache/Caffeine;
      18: getstatic     #11                 // Field CACHE_REFRESH_TIME_MILLIS:J
      21: getstatic     #12                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      24: invokevirtual #13                 // Method com/github/benmanes/caffeine/cache/Caffeine.refreshAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/github/benmanes/caffeine/cache/Caffeine;
      27: getstatic     #11                 // Field CACHE_REFRESH_TIME_MILLIS:J
      30: ldc2_w        #14                 // long 2l
      33: lmul
      34: getstatic     #12                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      37: invokevirtual #16                 // Method com/github/benmanes/caffeine/cache/Caffeine.expireAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/github/benmanes/caffeine/cache/Caffeine;
      40: new           #17                 // class org/apache/pulsar/metadata/cache/impl/MetadataCacheImpl$1
      43: dup
      44: aload_0
      45: aload_1
      46: invokespecial #18                 // Method org/apache/pulsar/metadata/cache/impl/MetadataCacheImpl$1."<init>":(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Lorg/apache/pulsar/metadata/api/MetadataStore;)V
      49: invokevirtual #19                 // Method com/github/benmanes/caffeine/cache/Caffeine.buildAsync:(Lcom/github/benmanes/caffeine/cache/AsyncCacheLoader;)Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      52: putfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      55: return

  private java.util.concurrent.CompletableFuture<java.util.Optional<org.apache.pulsar.metadata.api.CacheGetResult<T>>> readValueFromStore(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
       4: aload_1
       5: invokeinterface #21,  2           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.get:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      10: aload_0
      11: aload_1
      12: invokedynamic #22,  0             // InvokeDynamic #0:apply:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;)Ljava/util/function/Function;
      17: invokevirtual #23                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      20: areturn

  public java.util.concurrent.CompletableFuture<java.util.Optional<T>> get(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #24,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.get:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: invokedynamic #25,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      15: invokevirtual #26                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      18: areturn

  public java.util.concurrent.CompletableFuture<java.util.Optional<org.apache.pulsar.metadata.api.CacheGetResult<T>>> getWithStats(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #24,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.get:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: areturn

  public java.util.Optional<T> getIfCached(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #27,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.getIfPresent:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: astore_2
      11: aload_2
      12: ifnull        45
      15: aload_2
      16: invokevirtual #28                 // Method java/util/concurrent/CompletableFuture.isDone:()Z
      19: ifeq          45
      22: aload_2
      23: invokevirtual #29                 // Method java/util/concurrent/CompletableFuture.isCompletedExceptionally:()Z
      26: ifne          45
      29: aload_2
      30: invokevirtual #30                 // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
      33: checkcast     #31                 // class java/util/Optional
      36: invokedynamic #32,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      41: invokevirtual #33                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      44: areturn
      45: invokestatic  #34                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      48: areturn

  public java.util.concurrent.CompletableFuture<T> readModifyUpdateOrCreate(java.lang.String, java.util.function.Function<java.util.Optional<T>, T>);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: aload_2
       4: invokedynamic #35,  0             // InvokeDynamic #3:get:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;Ljava/util/function/Function;)Ljava/util/function/Supplier;
       9: aload_1
      10: invokespecial #36                 // Method executeWithRetry:(Ljava/util/function/Supplier;Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      13: areturn

  public java.util.concurrent.CompletableFuture<T> readModifyUpdate(java.lang.String, java.util.function.Function<T, T>);
    Code:
       0: aload_0
       1: aload_0
       2: aload_1
       3: aload_2
       4: invokedynamic #37,  0             // InvokeDynamic #4:get:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;Ljava/util/function/Function;)Ljava/util/function/Supplier;
       9: aload_1
      10: invokespecial #36                 // Method executeWithRetry:(Ljava/util/function/Supplier;Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      13: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Void> create(java.lang.String, T);
    Code:
       0: aload_0
       1: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
       4: aload_1
       5: aload_2
       6: invokeinterface #38,  3           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.serialize:(Ljava/lang/String;Ljava/lang/Object;)[B
      11: astore_3
      12: goto          23
      15: astore        4
      17: aload         4
      19: invokestatic  #40                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      22: areturn
      23: new           #41                 // class java/util/concurrent/CompletableFuture
      26: dup
      27: invokespecial #42                 // Method java/util/concurrent/CompletableFuture."<init>":()V
      30: astore        4
      32: aload_0
      33: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
      36: aload_1
      37: aload_3
      38: ldc2_w        #43                 // long -1l
      41: invokestatic  #45                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: invokestatic  #46                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      47: invokeinterface #47,  4           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
      52: aload_0
      53: aload_1
      54: aload         4
      56: invokedynamic #48,  0             // InvokeDynamic #5:accept:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/Consumer;
      61: invokevirtual #49                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
      64: aload         4
      66: invokedynamic #50,  0             // InvokeDynamic #6:apply:(Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/Function;
      71: invokevirtual #51                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      74: pop
      75: aload         4
      77: areturn
    Exception table:
       from    to  target type
           0    12    15   Class java/lang/Throwable

  public java.util.concurrent.CompletableFuture<java.lang.Void> delete(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
       4: aload_1
       5: invokestatic  #34                 // Method java/util/Optional.empty:()Ljava/util/Optional;
       8: invokeinterface #52,  3           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.delete:(Ljava/lang/String;Ljava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
      13: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Boolean> exists(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
       4: aload_1
       5: invokeinterface #53,  2           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      10: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<java.lang.String>> getChildren(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
       4: aload_1
       5: invokeinterface #54,  2           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.getChildren:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      10: areturn

  public void invalidate(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
       9: aload_1
      10: invokeinterface #56,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.invalidate:(Ljava/lang/Object;)V
      15: return

  public void refresh(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #27,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.getIfPresent:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: ifnull        43
      13: aload_0
      14: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      17: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
      22: aload_1
      23: invokeinterface #56,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.invalidate:(Ljava/lang/Object;)V
      28: aload_0
      29: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      32: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
      37: aload_1
      38: invokeinterface #57,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.refresh:(Ljava/lang/Object;)V
      43: return

  public void invalidateAll();
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
       9: invokeinterface #58,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.invalidateAll:()V
      14: return

  public void accept(org.apache.pulsar.metadata.api.Notification);
    Code:
       0: aload_1
       1: invokevirtual #59                 // Method org/apache/pulsar/metadata/api/Notification.getPath:()Ljava/lang/String;
       4: astore_2
       5: getstatic     #60                 // Field org/apache/pulsar/metadata/cache/impl/MetadataCacheImpl$2.$SwitchMap$org$apache$pulsar$metadata$api$NotificationType:[I
       8: aload_1
       9: invokevirtual #61                 // Method org/apache/pulsar/metadata/api/Notification.getType:()Lorg/apache/pulsar/metadata/api/NotificationType;
      12: invokevirtual #62                 // Method org/apache/pulsar/metadata/api/NotificationType.ordinal:()I
      15: iaload
      16: tableswitch   { // 1 to 3
                     1: 44
                     2: 44
                     3: 70
               default: 88
          }
      44: aload_0
      45: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      48: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
      53: aload_2
      54: invokeinterface #63,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.getIfPresent:(Ljava/lang/Object;)Ljava/lang/Object;
      59: ifnull        88
      62: aload_0
      63: aload_2
      64: invokevirtual #64                 // Method refresh:(Ljava/lang/String;)V
      67: goto          88
      70: aload_0
      71: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      74: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
      79: aload_2
      80: invokeinterface #56,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.invalidate:(Ljava/lang/Object;)V
      85: goto          88
      88: return

  private java.util.concurrent.CompletableFuture<T> executeWithRetry(java.util.function.Supplier<java.util.concurrent.CompletableFuture<T>>, java.lang.String);
    Code:
       0: new           #41                 // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #42                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_3
       8: aload_1
       9: invokeinterface #65,  1           // InterfaceMethod java/util/function/Supplier.get:()Ljava/lang/Object;
      14: checkcast     #41                 // class java/util/concurrent/CompletableFuture
      17: aload_3
      18: invokedynamic #66,  0             // InvokeDynamic #7:accept:(Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/Consumer;
      23: invokevirtual #49                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
      26: aload_0
      27: aload_2
      28: aload_1
      29: aload_3
      30: invokedynamic #67,  0             // InvokeDynamic #8:apply:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;Ljava/util/function/Supplier;Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/Function;
      35: invokevirtual #51                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      38: pop
      39: aload_3
      40: areturn

  public org.apache.pulsar.metadata.api.MetadataStore getStore();
    Code:
       0: aload_0
       1: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
       4: areturn

  public void accept(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #68                 // class org/apache/pulsar/metadata/api/Notification
       5: invokevirtual #69                 // Method accept:(Lorg/apache/pulsar/metadata/api/Notification;)V
       8: return

  private java.lang.Void lambda$executeWithRetry$16(java.lang.String, java.util.function.Supplier, java.util.concurrent.CompletableFuture, java.lang.Throwable);
    Code:
       0: aload         4
       2: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
       5: instanceof    #71                 // class org/apache/pulsar/metadata/api/MetadataStoreException$BadVersionException
       8: ifeq          56
      11: aload_0
      12: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
      15: invokeinterface #55,  1           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.synchronous:()Lcom/github/benmanes/caffeine/cache/LoadingCache;
      20: aload_1
      21: invokeinterface #56,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/LoadingCache.invalidate:(Ljava/lang/Object;)V
      26: aload_2
      27: invokeinterface #65,  1           // InterfaceMethod java/util/function/Supplier.get:()Ljava/lang/Object;
      32: checkcast     #41                 // class java/util/concurrent/CompletableFuture
      35: aload_3
      36: invokedynamic #72,  0             // InvokeDynamic #9:accept:(Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/Consumer;
      41: invokevirtual #49                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
      44: aload_3
      45: invokedynamic #73,  0             // InvokeDynamic #10:apply:(Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/Function;
      50: invokevirtual #51                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      53: pop
      54: aconst_null
      55: areturn
      56: aload_3
      57: aload         4
      59: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
      62: invokevirtual #74                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      65: pop
      66: aconst_null
      67: areturn

  private static java.lang.Void lambda$null$15(java.util.concurrent.CompletableFuture, java.lang.Throwable);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
       5: invokevirtual #74                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
       8: pop
       9: aconst_null
      10: areturn

  private static void lambda$null$14(java.util.concurrent.CompletableFuture, java.lang.Object);
    Code:
       0: aload_0
       1: aconst_null
       2: invokevirtual #75                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
       5: pop
       6: return

  private static void lambda$executeWithRetry$13(java.util.concurrent.CompletableFuture, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #75                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
       5: pop
       6: return

  private static java.lang.Void lambda$create$12(java.util.concurrent.CompletableFuture, java.lang.Throwable);
    Code:
       0: aload_1
       1: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
       4: instanceof    #71                 // class org/apache/pulsar/metadata/api/MetadataStoreException$BadVersionException
       7: ifeq          29
      10: aload_0
      11: new           #76                 // class org/apache/pulsar/metadata/api/MetadataStoreException$AlreadyExistsException
      14: dup
      15: aload_1
      16: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
      19: invokespecial #77                 // Method org/apache/pulsar/metadata/api/MetadataStoreException$AlreadyExistsException."<init>":(Ljava/lang/Throwable;)V
      22: invokevirtual #74                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      25: pop
      26: goto          38
      29: aload_0
      30: aload_1
      31: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
      34: invokevirtual #74                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      37: pop
      38: aconst_null
      39: areturn

  private void lambda$create$11(java.lang.String, java.util.concurrent.CompletableFuture, org.apache.pulsar.metadata.api.Stat);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #24,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.get:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: aload_2
      11: aload_1
      12: invokedynamic #78,  0             // InvokeDynamic #11:accept:(Ljava/util/concurrent/CompletableFuture;Ljava/lang/String;)Ljava/util/function/BiConsumer;
      17: invokevirtual #79                 // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      20: pop
      21: return

  private static void lambda$null$10(java.util.concurrent.CompletableFuture, java.lang.String, java.util.Optional, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnonnull     13
       4: aload_0
       5: aconst_null
       6: invokevirtual #75                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
       9: pop
      10: goto          34
      13: getstatic     #80                 // Field log:Lorg/slf4j/Logger;
      16: ldc           #81                 // String Exception while getting path {}
      18: aload_1
      19: aload_3
      20: invokeinterface #82,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      25: aload_0
      26: aload_3
      27: invokevirtual #70                 // Method java/lang/Throwable.getCause:()Ljava/lang/Throwable;
      30: invokevirtual #74                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      33: pop
      34: return

  private java.util.concurrent.CompletableFuture lambda$readModifyUpdate$9(java.lang.String, java.util.function.Function);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #24,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.get:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: aload_0
      11: aload_1
      12: aload_2
      13: invokedynamic #83,  0             // InvokeDynamic #12:apply:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;Ljava/util/function/Function;)Ljava/util/function/Function;
      18: invokevirtual #23                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      21: areturn

  private java.util.concurrent.CompletionStage lambda$null$8(java.lang.String, java.util.function.Function, java.util.Optional);
    Code:
       0: aload_3
       1: invokevirtual #84                 // Method java/util/Optional.isPresent:()Z
       4: ifne          20
       7: new           #85                 // class org/apache/pulsar/metadata/api/MetadataStoreException$NotFoundException
      10: dup
      11: ldc           #86                 // String
      13: invokespecial #87                 // Method org/apache/pulsar/metadata/api/MetadataStoreException$NotFoundException."<init>":(Ljava/lang/String;)V
      16: invokestatic  #40                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      19: areturn
      20: aload_3
      21: invokevirtual #88                 // Method java/util/Optional.get:()Ljava/lang/Object;
      24: checkcast     #89                 // class org/apache/pulsar/metadata/api/CacheGetResult
      27: astore        4
      29: aload         4
      31: invokevirtual #90                 // Method org/apache/pulsar/metadata/api/CacheGetResult.getValue:()Ljava/lang/Object;
      34: astore        5
      36: aload         4
      38: invokevirtual #91                 // Method org/apache/pulsar/metadata/api/CacheGetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      41: invokevirtual #92                 // Method org/apache/pulsar/metadata/api/Stat.getVersion:()J
      44: lstore        6
      46: aload_0
      47: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      50: aload_1
      51: aload_0
      52: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      55: aload_1
      56: aload         5
      58: invokeinterface #38,  3           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.serialize:(Ljava/lang/String;Ljava/lang/Object;)[B
      63: aload         4
      65: invokevirtual #91                 // Method org/apache/pulsar/metadata/api/CacheGetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      68: invokeinterface #93,  4           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.deserialize:(Ljava/lang/String;[BLorg/apache/pulsar/metadata/api/Stat;)Ljava/lang/Object;
      73: astore        5
      75: aload_2
      76: aload         5
      78: invokeinterface #94,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      83: astore        8
      85: aload_0
      86: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      89: aload_1
      90: aload         8
      92: invokeinterface #38,  3           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.serialize:(Ljava/lang/String;Ljava/lang/Object;)[B
      97: astore        9
      99: goto          110
     102: astore        10
     104: aload         10
     106: invokestatic  #40                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
     109: areturn
     110: aload_0
     111: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
     114: aload_1
     115: aload         9
     117: lload         6
     119: invokestatic  #45                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     122: invokestatic  #46                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     125: invokeinterface #47,  4           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     130: aload_0
     131: aload_1
     132: invokedynamic #95,  0             // InvokeDynamic #13:accept:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;)Ljava/util/function/Consumer;
     137: invokevirtual #49                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
     140: aload         8
     142: invokedynamic #96,  0             // InvokeDynamic #14:apply:(Ljava/lang/Object;)Ljava/util/function/Function;
     147: invokevirtual #26                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
     150: areturn
    Exception table:
       from    to  target type
          46    99   102   Class java/lang/Throwable

  private static java.lang.Object lambda$null$7(java.lang.Object, java.lang.Void);
    Code:
       0: aload_0
       1: areturn

  private void lambda$null$6(java.lang.String, org.apache.pulsar.metadata.api.Stat);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #64                 // Method refresh:(Ljava/lang/String;)V
       5: return

  private java.util.concurrent.CompletableFuture lambda$readModifyUpdateOrCreate$5(java.lang.String, java.util.function.Function);
    Code:
       0: aload_0
       1: getfield      #20                 // Field objCache:Lcom/github/benmanes/caffeine/cache/AsyncLoadingCache;
       4: aload_1
       5: invokeinterface #24,  2           // InterfaceMethod com/github/benmanes/caffeine/cache/AsyncLoadingCache.get:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      10: aload_0
      11: aload_1
      12: aload_2
      13: invokedynamic #97,  0             // InvokeDynamic #15:apply:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;Ljava/util/function/Function;)Ljava/util/function/Function;
      18: invokevirtual #23                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      21: areturn

  private java.util.concurrent.CompletionStage lambda$null$4(java.lang.String, java.util.function.Function, java.util.Optional);
    Code:
       0: aload_3
       1: invokevirtual #84                 // Method java/util/Optional.isPresent:()Z
       4: ifeq          79
       7: aload_3
       8: invokevirtual #88                 // Method java/util/Optional.get:()Ljava/lang/Object;
      11: checkcast     #89                 // class org/apache/pulsar/metadata/api/CacheGetResult
      14: astore        7
      16: aload_0
      17: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      20: aload_1
      21: aload_0
      22: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      25: aload_1
      26: aload         7
      28: invokevirtual #90                 // Method org/apache/pulsar/metadata/api/CacheGetResult.getValue:()Ljava/lang/Object;
      31: invokeinterface #38,  3           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.serialize:(Ljava/lang/String;Ljava/lang/Object;)[B
      36: aload         7
      38: invokevirtual #91                 // Method org/apache/pulsar/metadata/api/CacheGetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      41: invokeinterface #93,  4           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.deserialize:(Ljava/lang/String;[BLorg/apache/pulsar/metadata/api/Stat;)Ljava/lang/Object;
      46: astore        8
      48: goto          59
      51: astore        9
      53: aload         9
      55: invokestatic  #40                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      58: areturn
      59: aload         8
      61: invokestatic  #46                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      64: astore        4
      66: aload         7
      68: invokevirtual #91                 // Method org/apache/pulsar/metadata/api/CacheGetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      71: invokevirtual #92                 // Method org/apache/pulsar/metadata/api/Stat.getVersion:()J
      74: lstore        5
      76: goto          89
      79: invokestatic  #34                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      82: astore        4
      84: ldc2_w        #43                 // long -1l
      87: lstore        5
      89: aload_2
      90: aload         4
      92: invokeinterface #94,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      97: astore        7
      99: aload_0
     100: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
     103: aload_1
     104: aload         7
     106: invokeinterface #38,  3           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.serialize:(Ljava/lang/String;Ljava/lang/Object;)[B
     111: astore        8
     113: goto          124
     116: astore        9
     118: aload         9
     120: invokestatic  #40                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
     123: areturn
     124: aload_0
     125: getfield      #8                  // Field store:Lorg/apache/pulsar/metadata/api/MetadataStore;
     128: aload_1
     129: aload         8
     131: lload         5
     133: invokestatic  #45                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     136: invokestatic  #46                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     139: invokeinterface #47,  4           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataStore.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     144: aload_0
     145: aload_1
     146: invokedynamic #99,  0             // InvokeDynamic #16:accept:(Lorg/apache/pulsar/metadata/cache/impl/MetadataCacheImpl;Ljava/lang/String;)Ljava/util/function/Consumer;
     151: invokevirtual #49                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
     154: aload         7
     156: invokedynamic #100,  0            // InvokeDynamic #17:apply:(Ljava/lang/Object;)Ljava/util/function/Function;
     161: invokevirtual #26                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
     164: areturn
    Exception table:
       from    to  target type
          16    48    51   Class java/io/IOException
          89   113   116   Class java/lang/Throwable

  private static java.lang.Object lambda$null$3(java.lang.Object, java.lang.Void);
    Code:
       0: aload_0
       1: areturn

  private void lambda$null$2(java.lang.String, org.apache.pulsar.metadata.api.Stat);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #64                 // Method refresh:(Ljava/lang/String;)V
       5: return

  private static java.util.Optional lambda$get$1(java.util.Optional);
    Code:
       0: aload_0
       1: invokedynamic #32,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
       6: invokevirtual #33                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
       9: areturn

  private java.util.concurrent.CompletionStage lambda$readValueFromStore$0(java.lang.String, java.util.Optional);
    Code:
       0: aload_2
       1: invokevirtual #84                 // Method java/util/Optional.isPresent:()Z
       4: ifne          14
       7: invokestatic  #34                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      10: invokestatic  #101                // Method org/apache/bookkeeper/common/concurrent/FutureUtils.value:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      13: areturn
      14: aload_2
      15: invokevirtual #88                 // Method java/util/Optional.get:()Ljava/lang/Object;
      18: checkcast     #102                // class org/apache/pulsar/metadata/api/GetResult
      21: astore_3
      22: aload_0
      23: getfield      #9                  // Field serde:Lorg/apache/pulsar/metadata/api/MetadataSerde;
      26: aload_1
      27: aload_3
      28: invokevirtual #103                // Method org/apache/pulsar/metadata/api/GetResult.getValue:()[B
      31: aload_3
      32: invokevirtual #104                // Method org/apache/pulsar/metadata/api/GetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      35: invokeinterface #93,  4           // InterfaceMethod org/apache/pulsar/metadata/api/MetadataSerde.deserialize:(Ljava/lang/String;[BLorg/apache/pulsar/metadata/api/Stat;)Ljava/lang/Object;
      40: astore        4
      42: new           #89                 // class org/apache/pulsar/metadata/api/CacheGetResult
      45: dup
      46: aload         4
      48: aload_3
      49: invokevirtual #104                // Method org/apache/pulsar/metadata/api/GetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      52: invokespecial #105                // Method org/apache/pulsar/metadata/api/CacheGetResult."<init>":(Ljava/lang/Object;Lorg/apache/pulsar/metadata/api/Stat;)V
      55: invokestatic  #46                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      58: invokestatic  #101                // Method org/apache/bookkeeper/common/concurrent/FutureUtils.value:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      61: areturn
      62: astore_3
      63: new           #106                // class org/apache/pulsar/metadata/api/MetadataStoreException$ContentDeserializationException
      66: dup
      67: new           #107                // class java/lang/StringBuilder
      70: dup
      71: invokespecial #108                // Method java/lang/StringBuilder."<init>":()V
      74: ldc           #109                // String Failed to deserialize payload for key \'
      76: invokevirtual #110                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_1
      80: invokevirtual #110                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: ldc           #111                // String \'
      85: invokevirtual #110                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: invokevirtual #112                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      91: aload_3
      92: invokespecial #113                // Method org/apache/pulsar/metadata/api/MetadataStoreException$ContentDeserializationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      95: invokestatic  #40                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      98: areturn
    Exception table:
       from    to  target type
          14    61    62   Class java/lang/Throwable

  static java.util.concurrent.CompletableFuture access$000(org.apache.pulsar.metadata.cache.impl.MetadataCacheImpl, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method readValueFromStore:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
       5: areturn

  static {};
    Code:
       0: ldc           #114                // class org/apache/pulsar/metadata/cache/impl/MetadataCacheImpl
       2: invokestatic  #115                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #80                 // Field log:Lorg/slf4j/Logger;
       8: getstatic     #116                // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
      11: ldc2_w        #117                // long 5l
      14: invokevirtual #119                // Method java/util/concurrent/TimeUnit.toMillis:(J)J
      17: putstatic     #11                 // Field CACHE_REFRESH_TIME_MILLIS:J
      20: return
}
