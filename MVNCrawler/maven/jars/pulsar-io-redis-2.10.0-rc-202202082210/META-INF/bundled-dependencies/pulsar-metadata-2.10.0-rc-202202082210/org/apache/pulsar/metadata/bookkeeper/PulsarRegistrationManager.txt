Compiled from "PulsarRegistrationManager.java"
public class org.apache.pulsar.metadata.bookkeeper.PulsarRegistrationManager implements org.apache.bookkeeper.discover.RegistrationManager {
  private static final org.slf4j.Logger log;

  private final org.apache.pulsar.metadata.api.extended.MetadataStoreExtended store;

  private final org.apache.pulsar.metadata.api.coordination.CoordinationService coordinationService;

  private final org.apache.pulsar.metadata.api.coordination.LockManager<org.apache.bookkeeper.discover.BookieServiceInfo> lockManager;

  private final org.apache.bookkeeper.conf.AbstractConfiguration<?> conf;

  private final java.lang.String ledgersRootPath;

  private final java.lang.String cookiePath;

  private final java.lang.String bookieRegistrationPath;

  private final java.lang.String bookieReadonlyRegistrationPath;

  private final java.util.Map<org.apache.bookkeeper.net.BookieId, org.apache.pulsar.metadata.api.coordination.ResourceLock<org.apache.bookkeeper.discover.BookieServiceInfo>> bookieRegistration;

  private final java.util.Map<org.apache.bookkeeper.net.BookieId, org.apache.pulsar.metadata.api.coordination.ResourceLock<org.apache.bookkeeper.discover.BookieServiceInfo>> bookieRegistrationReadOnly;

  org.apache.pulsar.metadata.bookkeeper.PulsarRegistrationManager(org.apache.pulsar.metadata.api.extended.MetadataStoreExtended, java.lang.String, org.apache.bookkeeper.conf.AbstractConfiguration<?>);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #4                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #5                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistration:Ljava/util/Map;
      15: aload_0
      16: new           #3                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #4                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #6                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationReadOnly:Ljava/util/Map;
      26: aload_0
      27: aload_1
      28: putfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      31: aload_0
      32: aload_3
      33: putfield      #8                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.conf:Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      36: aload_0
      37: new           #9                  // class org/apache/pulsar/metadata/coordination/impl/CoordinationServiceImpl
      40: dup
      41: aload_1
      42: invokespecial #10                 // Method org/apache/pulsar/metadata/coordination/impl/CoordinationServiceImpl."<init>":(Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;)V
      45: putfield      #11                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.coordinationService:Lorg/apache/pulsar/metadata/api/coordination/CoordinationService;
      48: aload_0
      49: aload_0
      50: getfield      #11                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.coordinationService:Lorg/apache/pulsar/metadata/api/coordination/CoordinationService;
      53: getstatic     #12                 // Field org/apache/pulsar/metadata/bookkeeper/BookieServiceInfoSerde.INSTANCE:Lorg/apache/pulsar/metadata/bookkeeper/BookieServiceInfoSerde;
      56: invokeinterface #13,  2           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/CoordinationService.getLockManager:(Lorg/apache/pulsar/metadata/api/MetadataSerde;)Lorg/apache/pulsar/metadata/api/coordination/LockManager;
      61: putfield      #14                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.lockManager:Lorg/apache/pulsar/metadata/api/coordination/LockManager;
      64: aload_0
      65: aload_2
      66: putfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      69: aload_0
      70: new           #16                 // class java/lang/StringBuilder
      73: dup
      74: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      77: aload_2
      78: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      81: ldc           #19                 // String /
      83: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: ldc           #20                 // String cookies
      88: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      94: putfield      #22                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.cookiePath:Ljava/lang/String;
      97: aload_0
      98: new           #16                 // class java/lang/StringBuilder
     101: dup
     102: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     105: aload_2
     106: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     109: ldc           #19                 // String /
     111: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: ldc           #23                 // String available
     116: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     119: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     122: putfield      #24                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationPath:Ljava/lang/String;
     125: aload_0
     126: new           #16                 // class java/lang/StringBuilder
     129: dup
     130: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     133: aload_0
     134: getfield      #24                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationPath:Ljava/lang/String;
     137: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: ldc           #19                 // String /
     142: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     145: ldc           #25                 // String readonly
     147: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     153: putfield      #26                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieReadonlyRegistrationPath:Ljava/lang/String;
     156: return

  public void close();
    Code:
       0: aload_0
       1: getfield      #5                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistration:Ljava/util/Map;
       4: invokeinterface #27,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
       9: invokeinterface #28,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_1
      15: aload_1
      16: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          47
      24: aload_1
      25: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #218                // class org/apache/pulsar/metadata/api/coordination/ResourceLock
      33: astore_2
      34: aload_2
      35: invokeinterface #32,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/ResourceLock.release:()Ljava/util/concurrent/CompletableFuture;
      40: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      43: pop
      44: goto          15
      47: aload_0
      48: getfield      #6                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationReadOnly:Ljava/util/Map;
      51: invokeinterface #27,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      56: invokeinterface #28,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      61: astore_1
      62: aload_1
      63: invokeinterface #29,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      68: ifeq          94
      71: aload_1
      72: invokeinterface #30,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      77: checkcast     #218                // class org/apache/pulsar/metadata/api/coordination/ResourceLock
      80: astore_2
      81: aload_2
      82: invokeinterface #32,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/ResourceLock.release:()Ljava/util/concurrent/CompletableFuture;
      87: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      90: pop
      91: goto          62
      94: aload_0
      95: getfield      #11                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.coordinationService:Lorg/apache/pulsar/metadata/api/coordination/CoordinationService;
      98: invokeinterface #34,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/CoordinationService.close:()V
     103: goto          109
     106: astore_1
     107: aload_1
     108: athrow
     109: return
    Exception table:
       from    to  target type
           0   103   106   Class java/lang/Throwable

  public java.lang.String getClusterInstanceId() throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
       4: new           #16                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      11: aload_0
      12: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      15: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      18: ldc           #19                 // String /
      20: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: ldc           #37                 // String INSTANCEID
      25: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: invokeinterface #38,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.get:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      36: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      39: checkcast     #244                // class java/util/Optional
      42: invokedynamic #40,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
      47: invokevirtual #41                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      50: invokedynamic #42,  0             // InvokeDynamic #1:get:()Ljava/util/function/Supplier;
      55: invokevirtual #43                 // Method java/util/Optional.orElseThrow:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      58: checkcast     #217                // class java/lang/String
      61: areturn
      62: astore_1
      63: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
      66: dup
      67: ldc           #48                 // String Failed to get cluster instance id
      69: aload_1
      70: invokespecial #49                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      73: athrow
    Exception table:
       from    to  target type
           0    61    62   Class java/util/concurrent/ExecutionException
           0    61    62   Class java/lang/InterruptedException

  public void registerBookie(org.apache.bookkeeper.net.BookieId, boolean, org.apache.bookkeeper.discover.BookieServiceInfo) throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: new           #16                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #24                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationPath:Ljava/lang/String;
      11: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #19                 // String /
      16: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_1
      20: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: astore        4
      28: new           #16                 // class java/lang/StringBuilder
      31: dup
      32: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      35: aload_0
      36: getfield      #26                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieReadonlyRegistrationPath:Ljava/lang/String;
      39: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: ldc           #19                 // String /
      44: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: aload_1
      48: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      51: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      54: astore        5
      56: iload_2
      57: ifeq          120
      60: aload_0
      61: getfield      #5                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistration:Ljava/util/Map;
      64: aload_1
      65: invokeinterface #51,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      70: checkcast     #218                // class org/apache/pulsar/metadata/api/coordination/ResourceLock
      73: astore        6
      75: aload         6
      77: ifnull        91
      80: aload         6
      82: invokeinterface #32,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/ResourceLock.release:()Ljava/util/concurrent/CompletableFuture;
      87: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      90: pop
      91: aload_0
      92: getfield      #6                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationReadOnly:Ljava/util/Map;
      95: aload_1
      96: aload_0
      97: getfield      #14                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.lockManager:Lorg/apache/pulsar/metadata/api/coordination/LockManager;
     100: aload         5
     102: aload_3
     103: invokeinterface #52,  3           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/LockManager.acquireLock:(Ljava/lang/String;Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
     108: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     111: invokeinterface #53,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     116: pop
     117: goto          177
     120: aload_0
     121: getfield      #6                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationReadOnly:Ljava/util/Map;
     124: aload_1
     125: invokeinterface #51,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     130: checkcast     #218                // class org/apache/pulsar/metadata/api/coordination/ResourceLock
     133: astore        6
     135: aload         6
     137: ifnull        151
     140: aload         6
     142: invokeinterface #32,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/ResourceLock.release:()Ljava/util/concurrent/CompletableFuture;
     147: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     150: pop
     151: aload_0
     152: getfield      #5                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistration:Ljava/util/Map;
     155: aload_1
     156: aload_0
     157: getfield      #14                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.lockManager:Lorg/apache/pulsar/metadata/api/coordination/LockManager;
     160: aload         4
     162: aload_3
     163: invokeinterface #52,  3           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/LockManager.acquireLock:(Ljava/lang/String;Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
     168: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     171: invokeinterface #53,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     176: pop
     177: goto          234
     180: astore        6
     182: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     185: ldc           #55                 // String Exception registering ephemeral node for Bookie!
     187: aload         6
     189: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     194: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     197: dup
     198: aload         6
     200: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     203: athrow
     204: astore        6
     206: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     209: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
     212: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     215: ldc           #60                 // String Interrupted exception while registering Bookie!
     217: aload         6
     219: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     224: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     227: dup
     228: aload         6
     230: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     233: athrow
     234: return
    Exception table:
       from    to  target type
          56   177   180   Class java/util/concurrent/ExecutionException
          56   177   204   Class java/lang/InterruptedException

  public void unregisterBookie(org.apache.bookkeeper.net.BookieId, boolean) throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: iload_2
       1: ifeq          35
       4: aload_0
       5: getfield      #6                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationReadOnly:Ljava/util/Map;
       8: aload_1
       9: invokeinterface #61,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      14: checkcast     #218                // class org/apache/pulsar/metadata/api/coordination/ResourceLock
      17: astore_3
      18: aload_3
      19: ifnull        32
      22: aload_3
      23: invokeinterface #32,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/ResourceLock.release:()Ljava/util/concurrent/CompletableFuture;
      28: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      31: pop
      32: goto          63
      35: aload_0
      36: getfield      #5                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistration:Ljava/util/Map;
      39: aload_1
      40: invokeinterface #61,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      45: checkcast     #218                // class org/apache/pulsar/metadata/api/coordination/ResourceLock
      48: astore_3
      49: aload_3
      50: ifnull        63
      53: aload_3
      54: invokeinterface #32,  1           // InterfaceMethod org/apache/pulsar/metadata/api/coordination/ResourceLock.release:()Ljava/util/concurrent/CompletableFuture;
      59: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      62: pop
      63: goto          92
      66: astore_3
      67: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      70: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
      73: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
      76: dup
      77: aload_3
      78: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
      81: athrow
      82: astore_3
      83: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
      86: dup
      87: aload_3
      88: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
      91: athrow
      92: return
    Exception table:
       from    to  target type
           0    63    66   Class java/lang/InterruptedException
           0    63    82   Class java/util/concurrent/ExecutionException

  public boolean isBookieRegistered(org.apache.bookkeeper.net.BookieId) throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: new           #16                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #24                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationPath:Ljava/lang/String;
      11: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #19                 // String /
      16: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_1
      20: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: astore_2
      27: new           #16                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      34: aload_0
      35: getfield      #26                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieReadonlyRegistrationPath:Ljava/lang/String;
      38: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: ldc           #19                 // String /
      43: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_1
      47: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      50: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: astore_3
      54: aload_0
      55: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      58: aload_2
      59: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      64: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      67: checkcast     #63                 // class java/lang/Boolean
      70: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
      73: ifne          98
      76: aload_0
      77: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      80: aload_3
      81: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      86: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      89: checkcast     #63                 // class java/lang/Boolean
      92: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
      95: ifeq          102
      98: iconst_1
      99: goto          103
     102: iconst_0
     103: ireturn
     104: astore        4
     106: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     109: ldc           #65                 // String Exception while checking registration ephemeral nodes for BookieId: {}
     111: aload_1
     112: aload         4
     114: invokeinterface #66,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     119: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     122: dup
     123: aload         4
     125: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     128: athrow
     129: astore        4
     131: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     134: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
     137: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     140: ldc           #67                 // String InterruptedException while checking registration ephemeral nodes for BookieId: {}
     142: aload_1
     143: aload         4
     145: invokeinterface #66,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     150: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     153: dup
     154: aload         4
     156: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     159: athrow
    Exception table:
       from    to  target type
          54   103   104   Class java/util/concurrent/ExecutionException
          54   103   129   Class java/lang/InterruptedException

  public void writeCookie(org.apache.bookkeeper.net.BookieId, org.apache.bookkeeper.versioning.Versioned<byte[]>) throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: new           #16                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #22                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.cookiePath:Ljava/lang/String;
      11: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #19                 // String /
      16: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_1
      20: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: astore_3
      27: getstatic     #68                 // Field org/apache/bookkeeper/versioning/Version.NEW:Lorg/apache/bookkeeper/versioning/Version;
      30: aload_2
      31: invokevirtual #69                 // Method org/apache/bookkeeper/versioning/Versioned.getVersion:()Lorg/apache/bookkeeper/versioning/Version;
      34: if_acmpne     45
      37: ldc2_w        #70                 // long -1l
      40: lstore        4
      42: goto          77
      45: aload_2
      46: invokevirtual #69                 // Method org/apache/bookkeeper/versioning/Versioned.getVersion:()Lorg/apache/bookkeeper/versioning/Version;
      49: instanceof    #72                 // class org/apache/bookkeeper/versioning/LongVersion
      52: ifne          65
      55: new           #73                 // class org/apache/bookkeeper/bookie/BookieException$BookieIllegalOpException
      58: dup
      59: ldc           #74                 // String Invalid version type, expected it to be LongVersion
      61: invokespecial #75                 // Method org/apache/bookkeeper/bookie/BookieException$BookieIllegalOpException."<init>":(Ljava/lang/String;)V
      64: athrow
      65: aload_2
      66: invokevirtual #69                 // Method org/apache/bookkeeper/versioning/Versioned.getVersion:()Lorg/apache/bookkeeper/versioning/Version;
      69: checkcast     #72                 // class org/apache/bookkeeper/versioning/LongVersion
      72: invokevirtual #76                 // Method org/apache/bookkeeper/versioning/LongVersion.getLongVersion:()J
      75: lstore        4
      77: aload_0
      78: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      81: aload_3
      82: aload_2
      83: invokevirtual #77                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      86: checkcast     #78                 // class "[B"
      89: lload         4
      91: invokestatic  #79                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      94: invokestatic  #80                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      97: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     102: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     105: pop
     106: goto          198
     109: astore        4
     111: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     114: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
     117: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     120: dup
     121: new           #16                 // class java/lang/StringBuilder
     124: dup
     125: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     128: ldc           #82                 // String Interrupted writing cookie for bookie
     130: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     133: aload_1
     134: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     137: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     140: aload         4
     142: invokespecial #49                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     145: athrow
     146: astore        4
     148: aload         4
     150: invokevirtual #83                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     153: instanceof    #84                 // class org/apache/pulsar/metadata/api/MetadataStoreException$BadVersionException
     156: ifeq          171
     159: new           #85                 // class org/apache/bookkeeper/bookie/BookieException$CookieExistException
     162: dup
     163: aload_1
     164: invokevirtual #86                 // Method org/apache/bookkeeper/net/BookieId.toString:()Ljava/lang/String;
     167: invokespecial #87                 // Method org/apache/bookkeeper/bookie/BookieException$CookieExistException."<init>":(Ljava/lang/String;)V
     170: athrow
     171: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     174: dup
     175: new           #16                 // class java/lang/StringBuilder
     178: dup
     179: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     182: ldc           #88                 // String Failed to write cookie for bookie
     184: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     187: aload_1
     188: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     191: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     194: invokespecial #89                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/String;)V
     197: athrow
     198: return
    Exception table:
       from    to  target type
          27   106   109   Class java/lang/InterruptedException
          27   106   146   Class java/util/concurrent/ExecutionException

  public org.apache.bookkeeper.versioning.Versioned<byte[]> readCookie(org.apache.bookkeeper.net.BookieId) throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: new           #16                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #22                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.cookiePath:Ljava/lang/String;
      11: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #19                 // String /
      16: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_1
      20: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: astore_2
      27: aload_0
      28: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      31: aload_2
      32: invokeinterface #38,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.get:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      37: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      40: checkcast     #244                // class java/util/Optional
      43: astore_3
      44: aload_3
      45: invokevirtual #90                 // Method java/util/Optional.isPresent:()Z
      48: ifne          63
      51: new           #91                 // class org/apache/bookkeeper/bookie/BookieException$CookieNotFoundException
      54: dup
      55: aload_1
      56: invokevirtual #86                 // Method org/apache/bookkeeper/net/BookieId.toString:()Ljava/lang/String;
      59: invokespecial #92                 // Method org/apache/bookkeeper/bookie/BookieException$CookieNotFoundException."<init>":(Ljava/lang/String;)V
      62: athrow
      63: new           #72                 // class org/apache/bookkeeper/versioning/LongVersion
      66: dup
      67: aload_3
      68: invokevirtual #93                 // Method java/util/Optional.get:()Ljava/lang/Object;
      71: checkcast     #94                 // class org/apache/pulsar/metadata/api/GetResult
      74: invokevirtual #95                 // Method org/apache/pulsar/metadata/api/GetResult.getStat:()Lorg/apache/pulsar/metadata/api/Stat;
      77: invokevirtual #96                 // Method org/apache/pulsar/metadata/api/Stat.getVersion:()J
      80: invokespecial #97                 // Method org/apache/bookkeeper/versioning/LongVersion."<init>":(J)V
      83: astore        4
      85: new           #236                // class org/apache/bookkeeper/versioning/Versioned
      88: dup
      89: aload_3
      90: invokevirtual #93                 // Method java/util/Optional.get:()Ljava/lang/Object;
      93: checkcast     #94                 // class org/apache/pulsar/metadata/api/GetResult
      96: invokevirtual #99                 // Method org/apache/pulsar/metadata/api/GetResult.getValue:()[B
      99: aload         4
     101: invokespecial #100                // Method org/apache/bookkeeper/versioning/Versioned."<init>":(Ljava/lang/Object;Lorg/apache/bookkeeper/versioning/Version;)V
     104: areturn
     105: astore_3
     106: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     109: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
     112: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     115: dup
     116: aload_3
     117: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     120: athrow
     121: astore_3
     122: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     125: dup
     126: aload_3
     127: invokespecial #57                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/Throwable;)V
     130: athrow
    Exception table:
       from    to  target type
          27   104   105   Class java/lang/InterruptedException
          27   104   121   Class java/util/concurrent/ExecutionException

  public void removeCookie(org.apache.bookkeeper.net.BookieId, org.apache.bookkeeper.versioning.Version) throws org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: new           #16                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #22                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.cookiePath:Ljava/lang/String;
      11: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #19                 // String /
      16: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: aload_1
      20: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      23: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: astore_3
      27: aload_0
      28: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      31: aload_3
      32: aload_2
      33: checkcast     #72                 // class org/apache/bookkeeper/versioning/LongVersion
      36: invokevirtual #76                 // Method org/apache/bookkeeper/versioning/LongVersion.getLongVersion:()J
      39: invokestatic  #79                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      42: invokestatic  #80                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      45: invokeinterface #101,  3          // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.delete:(Ljava/lang/String;Ljava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
      50: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      53: pop
      54: goto          146
      57: astore        4
      59: invokestatic  #58                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      62: invokevirtual #59                 // Method java/lang/Thread.interrupt:()V
      65: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
      68: dup
      69: new           #16                 // class java/lang/StringBuilder
      72: dup
      73: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      76: ldc           #102                // String Interrupted deleting cookie for bookie
      78: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      81: aload_1
      82: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      85: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: aload         4
      90: invokespecial #49                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      93: athrow
      94: astore        4
      96: aload         4
      98: invokevirtual #83                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     101: instanceof    #103                // class org/apache/pulsar/metadata/api/MetadataStoreException$NotFoundException
     104: ifeq          119
     107: new           #91                 // class org/apache/bookkeeper/bookie/BookieException$CookieNotFoundException
     110: dup
     111: aload_1
     112: invokevirtual #86                 // Method org/apache/bookkeeper/net/BookieId.toString:()Ljava/lang/String;
     115: invokespecial #92                 // Method org/apache/bookkeeper/bookie/BookieException$CookieNotFoundException."<init>":(Ljava/lang/String;)V
     118: athrow
     119: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
     122: dup
     123: new           #16                 // class java/lang/StringBuilder
     126: dup
     127: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     130: ldc           #104                // String Failed to delete cookie for bookie
     132: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: aload_1
     136: invokevirtual #50                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     139: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     142: invokespecial #89                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/String;)V
     145: athrow
     146: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     149: ldc           #105                // String Removed cookie from {} for bookie {}.
     151: aload_0
     152: getfield      #22                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.cookiePath:Ljava/lang/String;
     155: aload_1
     156: invokeinterface #106,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     161: return
    Exception table:
       from    to  target type
          27    54    57   Class java/lang/InterruptedException
          27    54    94   Class java/util/concurrent/ExecutionException

  public boolean prepareFormat() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
       4: aload_0
       5: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
       8: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      13: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      16: checkcast     #63                 // class java/lang/Boolean
      19: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
      22: istore_1
      23: aload_0
      24: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      27: aload_0
      28: getfield      #24                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationPath:Ljava/lang/String;
      31: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      36: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      39: checkcast     #63                 // class java/lang/Boolean
      42: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
      45: istore_2
      46: iload_1
      47: ifne          73
      50: aload_0
      51: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      54: aload_0
      55: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      58: iconst_0
      59: newarray       byte
      61: invokestatic  #107                // Method java/util/Optional.empty:()Ljava/util/Optional;
      64: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
      69: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      72: pop
      73: iload_2
      74: ifne          100
      77: aload_0
      78: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      81: aload_0
      82: getfield      #24                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieRegistrationPath:Ljava/lang/String;
      85: iconst_0
      86: newarray       byte
      88: invokestatic  #107                // Method java/util/Optional.empty:()Ljava/util/Optional;
      91: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
      96: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      99: pop
     100: aload_0
     101: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     104: aload_0
     105: getfield      #26                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieReadonlyRegistrationPath:Ljava/lang/String;
     108: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
     113: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     116: checkcast     #63                 // class java/lang/Boolean
     119: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
     122: ifne          148
     125: aload_0
     126: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     129: aload_0
     130: getfield      #26                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.bookieReadonlyRegistrationPath:Ljava/lang/String;
     133: iconst_0
     134: newarray       byte
     136: invokestatic  #107                // Method java/util/Optional.empty:()Ljava/util/Optional;
     139: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     144: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     147: pop
     148: iload_1
     149: ireturn

  public boolean initNewCluster() throws java.lang.Exception;
    Code:
       0: new           #16                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      11: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #19                 // String /
      16: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: ldc           #37                 // String INSTANCEID
      21: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: astore_1
      28: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
      31: ldc           #108                // String Initializing metadata for new cluster, ledger root path: {}
      33: aload_0
      34: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      37: invokeinterface #109,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      42: aload_0
      43: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      46: aload_1
      47: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      52: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      55: checkcast     #63                 // class java/lang/Boolean
      58: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
      61: ifeq          80
      64: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
      67: ldc           #110                // String Ledger root path: {} already exists
      69: aload_0
      70: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      73: invokeinterface #111,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      78: iconst_0
      79: ireturn
      80: aload_0
      81: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      84: aload_0
      85: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      88: iconst_0
      89: newarray       byte
      91: invokestatic  #107                // Method java/util/Optional.empty:()Ljava/util/Optional;
      94: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
      99: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     102: pop
     103: invokestatic  #112                // Method java/util/UUID.randomUUID:()Ljava/util/UUID;
     106: invokevirtual #113                // Method java/util/UUID.toString:()Ljava/lang/String;
     109: astore_2
     110: aload_0
     111: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     114: aload_1
     115: aload_2
     116: getstatic     #114                // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     119: invokevirtual #115                // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     122: ldc2_w        #70                 // long -1l
     125: invokestatic  #79                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     128: invokestatic  #80                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     131: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     136: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     139: pop
     140: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     143: ldc           #117                // String Successfully initiated cluster. ledger root path: {} instanceId: {}
     145: aload_0
     146: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
     149: aload_2
     150: invokeinterface #106,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     155: iconst_1
     156: ireturn

  public boolean format() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
       4: new           #16                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      11: aload_0
      12: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      15: invokestatic  #118                // Method org/apache/pulsar/metadata/bookkeeper/PulsarLedgerUnderreplicationManager.getBasePath:(Ljava/lang/String;)Ljava/lang/String;
      18: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: ldc           #119                // String /ledgers
      23: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      29: invokeinterface #120,  2          // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.deleteRecursive:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      34: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      37: pop
      38: aload_0
      39: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      42: aload_0
      43: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      46: invokestatic  #121                // Method org/apache/pulsar/metadata/bookkeeper/PulsarLedgerUnderreplicationManager.getUrLockPath:(Ljava/lang/String;)Ljava/lang/String;
      49: invokeinterface #120,  2          // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.deleteRecursive:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      54: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      57: pop
      58: aload_0
      59: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      62: aload_0
      63: getfield      #22                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.cookiePath:Ljava/lang/String;
      66: invokeinterface #120,  2          // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.deleteRecursive:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      71: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
      74: pop
      75: aload_0
      76: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      79: new           #16                 // class java/lang/StringBuilder
      82: dup
      83: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      86: aload_0
      87: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      90: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: ldc           #19                 // String /
      95: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: ldc           #37                 // String INSTANCEID
     100: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     106: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
     111: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     114: checkcast     #63                 // class java/lang/Boolean
     117: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
     120: ifeq          166
     123: aload_0
     124: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     127: new           #16                 // class java/lang/StringBuilder
     130: dup
     131: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     134: aload_0
     135: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
     138: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: ldc           #19                 // String /
     143: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     146: ldc           #37                 // String INSTANCEID
     148: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: invokestatic  #107                // Method java/util/Optional.empty:()Ljava/util/Optional;
     157: invokeinterface #101,  3          // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.delete:(Ljava/lang/String;Ljava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     162: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     165: pop
     166: invokestatic  #112                // Method java/util/UUID.randomUUID:()Ljava/util/UUID;
     169: invokevirtual #113                // Method java/util/UUID.toString:()Ljava/lang/String;
     172: astore_1
     173: aload_0
     174: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     177: new           #16                 // class java/lang/StringBuilder
     180: dup
     181: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     184: aload_0
     185: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
     188: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     191: ldc           #19                 // String /
     193: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     196: ldc           #37                 // String INSTANCEID
     198: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     201: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     204: aload_1
     205: getstatic     #114                // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     208: invokevirtual #115                // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     211: ldc2_w        #70                 // long -1l
     214: invokestatic  #79                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     217: invokestatic  #80                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     220: invokeinterface #81,  4           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.put:(Ljava/lang/String;[BLjava/util/Optional;)Ljava/util/concurrent/CompletableFuture;
     225: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     228: pop
     229: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     232: ldc           #122                // String Successfully formatted BookKeeper metadata
     234: invokeinterface #123,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     239: iconst_1
     240: ireturn

  public boolean nukeExistingCluster() throws java.lang.Exception;
    Code:
       0: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
       3: ldc           #124                // String Nuking metadata of existing cluster, ledger root path: {}
       5: aload_0
       6: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
       9: invokeinterface #109,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      18: new           #16                 // class java/lang/StringBuilder
      21: dup
      22: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      25: aload_0
      26: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      29: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: ldc           #19                 // String /
      34: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: ldc           #37                 // String INSTANCEID
      39: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokeinterface #62,  2           // InterfaceMethod org/apache/pulsar/metadata/api/extended/MetadataStoreExtended.exists:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      50: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
      53: checkcast     #63                 // class java/lang/Boolean
      56: invokevirtual #64                 // Method java/lang/Boolean.booleanValue:()Z
      59: ifne          78
      62: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
      65: ldc           #125                // String There is no existing cluster with ledgersRootPath: {}, so exiting nuke operation
      67: aload_0
      68: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      71: invokeinterface #109,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      76: iconst_1
      77: ireturn
      78: new           #126                // class org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationClient
      81: dup
      82: aload_0
      83: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
      86: aload_0
      87: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
      90: invokespecial #127                // Method org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationClient."<init>":(Lorg/apache/pulsar/metadata/api/MetadataStore;Ljava/lang/String;)V
      93: astore_1
      94: aload_1
      95: invokeinterface #128,  1          // InterfaceMethod org/apache/bookkeeper/discover/RegistrationClient.getWritableBookies:()Ljava/util/concurrent/CompletableFuture;
     100: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     103: checkcast     #236                // class org/apache/bookkeeper/versioning/Versioned
     106: invokevirtual #77                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
     109: checkcast     #271                // class java/util/Collection
     112: astore_2
     113: aload_2
     114: ifnull        159
     117: aload_2
     118: invokeinterface #130,  1          // InterfaceMethod java/util/Collection.isEmpty:()Z
     123: ifne          159
     126: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     129: ldc           #131                // String Bookies are still up and connected to this cluster, stop all bookies before nuking the cluster
     131: invokeinterface #132,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     136: iconst_0
     137: istore_3
     138: aload_1
     139: invokestatic  #133                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     142: iconst_0
     143: invokeinterface #134,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     148: ifnull        157
     151: aload_1
     152: invokeinterface #135,  1          // InterfaceMethod org/apache/bookkeeper/discover/RegistrationClient.close:()V
     157: iload_3
     158: ireturn
     159: aload_1
     160: invokeinterface #136,  1          // InterfaceMethod org/apache/bookkeeper/discover/RegistrationClient.getReadOnlyBookies:()Ljava/util/concurrent/CompletableFuture;
     165: invokevirtual #116                // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     168: checkcast     #236                // class org/apache/bookkeeper/versioning/Versioned
     171: invokevirtual #77                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
     174: checkcast     #271                // class java/util/Collection
     177: astore_3
     178: aload_3
     179: ifnull        226
     182: aload_3
     183: invokeinterface #130,  1          // InterfaceMethod java/util/Collection.isEmpty:()Z
     188: ifne          226
     191: getstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
     194: ldc           #137                // String Readonly Bookies are still up and connected to this cluster, stop all bookies before nuking the cluster
     196: invokeinterface #132,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     201: iconst_0
     202: istore        4
     204: aload_1
     205: invokestatic  #133                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     208: iconst_0
     209: invokeinterface #134,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     214: ifnull        223
     217: aload_1
     218: invokeinterface #135,  1          // InterfaceMethod org/apache/bookkeeper/discover/RegistrationClient.close:()V
     223: iload         4
     225: ireturn
     226: new           #138                // class org/apache/pulsar/metadata/bookkeeper/PulsarLayoutManager
     229: dup
     230: aload_0
     231: getfield      #7                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.store:Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;
     234: aload_0
     235: getfield      #15                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.ledgersRootPath:Ljava/lang/String;
     238: invokespecial #139                // Method org/apache/pulsar/metadata/bookkeeper/PulsarLayoutManager."<init>":(Lorg/apache/pulsar/metadata/api/extended/MetadataStoreExtended;Ljava/lang/String;)V
     241: astore        4
     243: new           #140                // class org/apache/pulsar/metadata/bookkeeper/PulsarLedgerManagerFactory
     246: dup
     247: invokespecial #141                // Method org/apache/pulsar/metadata/bookkeeper/PulsarLedgerManagerFactory."<init>":()V
     250: astore        5
     252: aload         5
     254: aload_0
     255: getfield      #8                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.conf:Lorg/apache/bookkeeper/conf/AbstractConfiguration;
     258: aload         4
     260: iconst_1
     261: invokeinterface #143,  4          // InterfaceMethod org/apache/bookkeeper/meta/LedgerManagerFactory.initialize:(Lorg/apache/bookkeeper/conf/AbstractConfiguration;Lorg/apache/bookkeeper/meta/LayoutManager;I)Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
     266: pop
     267: aload         5
     269: aload_0
     270: getfield      #8                  // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.conf:Lorg/apache/bookkeeper/conf/AbstractConfiguration;
     273: aload         4
     275: invokeinterface #144,  3          // InterfaceMethod org/apache/bookkeeper/meta/LedgerManagerFactory.validateAndNukeExistingCluster:(Lorg/apache/bookkeeper/conf/AbstractConfiguration;Lorg/apache/bookkeeper/meta/LayoutManager;)Z
     280: istore        6
     282: aload_1
     283: invokestatic  #133                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     286: iconst_0
     287: invokeinterface #134,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     292: ifnull        301
     295: aload_1
     296: invokeinterface #135,  1          // InterfaceMethod org/apache/bookkeeper/discover/RegistrationClient.close:()V
     301: iload         6
     303: ireturn
     304: astore        7
     306: aload_1
     307: invokestatic  #133                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     310: iconst_0
     311: invokeinterface #134,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     316: ifnull        325
     319: aload_1
     320: invokeinterface #135,  1          // InterfaceMethod org/apache/bookkeeper/discover/RegistrationClient.close:()V
     325: aload         7
     327: athrow
    Exception table:
       from    to  target type
          94   138   304   any
         159   204   304   any
         226   282   304   any
         304   306   304   any

  private static org.apache.bookkeeper.bookie.BookieException$MetadataStoreException lambda$getClusterInstanceId$1();
    Code:
       0: new           #47                 // class org/apache/bookkeeper/bookie/BookieException$MetadataStoreException
       3: dup
       4: ldc           #145                // String BookKeeper cluster not initialized
       6: invokespecial #89                 // Method org/apache/bookkeeper/bookie/BookieException$MetadataStoreException."<init>":(Ljava/lang/String;)V
       9: areturn

  private static java.lang.String lambda$getClusterInstanceId$0(org.apache.pulsar.metadata.api.GetResult);
    Code:
       0: new           #217                // class java/lang/String
       3: dup
       4: aload_0
       5: invokevirtual #99                 // Method org/apache/pulsar/metadata/api/GetResult.getValue:()[B
       8: getstatic     #114                // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      11: invokespecial #146                // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
      14: areturn

  static {};
    Code:
       0: ldc           #234                // class org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager
       2: invokestatic  #148                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #54                 // Field org/apache/pulsar/metadata/bookkeeper/PulsarRegistrationManager.log:Lorg/slf4j/Logger;
       8: return
}
