Compiled from "PackagesManagementImpl.java"
public class org.apache.pulsar.packages.management.core.impl.PackagesManagementImpl implements org.apache.pulsar.packages.management.core.PackagesManagement {
  private org.apache.pulsar.packages.management.core.PackagesStorage storage;

  public org.apache.pulsar.packages.management.core.impl.PackagesManagementImpl();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void initialize(org.apache.pulsar.packages.management.core.PackagesStorage);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
       5: return

  public java.util.concurrent.CompletableFuture<org.apache.pulsar.packages.management.core.common.PackageMetadata> getMeta(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: new           #3                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_2
       8: aload_0
       9: aload_1
      10: invokespecial #5                  // Method metadataPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
      13: astore_3
      14: aload_0
      15: aload_1
      16: invokespecial #6                  // Method checkMetadataNotExistsAndThrowException:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/concurrent/CompletableFuture;
      19: aload_0
      20: aload_2
      21: aload_3
      22: aload_1
      23: invokedynamic #7,  0              // InvokeDynamic #0:accept:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Ljava/util/concurrent/CompletableFuture;Ljava/lang/String;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      28: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      31: pop
      32: aload_2
      33: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Void> updateMeta(org.apache.pulsar.packages.management.core.common.PackageName, org.apache.pulsar.packages.management.core.common.PackageMetadata);
    Code:
       0: new           #3                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_3
       8: aload_0
       9: aload_1
      10: invokespecial #5                  // Method metadataPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
      13: astore        4
      15: aload_0
      16: aload_1
      17: invokespecial #6                  // Method checkMetadataNotExistsAndThrowException:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/concurrent/CompletableFuture;
      20: aload_0
      21: aload_3
      22: aload_2
      23: aload         4
      25: aload_1
      26: invokedynamic #9,  0              // InvokeDynamic #1:accept:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageMetadata;Ljava/lang/String;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      31: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      34: pop
      35: aload_3
      36: areturn

  private java.util.concurrent.CompletableFuture<java.lang.Void> writeMeta(org.apache.pulsar.packages.management.core.common.PackageName, org.apache.pulsar.packages.management.core.common.PackageMetadata);
    Code:
       0: new           #3                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_3
       8: aload_0
       9: aload_1
      10: invokespecial #5                  // Method metadataPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
      13: astore        4
      15: new           #10                 // class java/io/ByteArrayInputStream
      18: dup
      19: aload_2
      20: invokestatic  #11                 // Method org/apache/pulsar/packages/management/core/common/PackageMetadataUtil.toBytes:(Lorg/apache/pulsar/packages/management/core/common/PackageMetadata;)[B
      23: invokespecial #12                 // Method java/io/ByteArrayInputStream."<init>":([B)V
      26: astore        5
      28: aconst_null
      29: astore        6
      31: aload_0
      32: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      35: aload         4
      37: aload         5
      39: invokeinterface #13,  3           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.writeAsync:(Ljava/lang/String;Ljava/io/InputStream;)Ljava/util/concurrent/CompletableFuture;
      44: aload_3
      45: aload_1
      46: invokedynamic #14,  0             // InvokeDynamic #2:accept:(Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      51: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      54: pop
      55: aload         5
      57: ifnull        142
      60: aload         6
      62: ifnull        85
      65: aload         5
      67: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
      70: goto          142
      73: astore        7
      75: aload         6
      77: aload         7
      79: invokevirtual #17                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      82: goto          142
      85: aload         5
      87: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
      90: goto          142
      93: astore        7
      95: aload         7
      97: astore        6
      99: aload         7
     101: athrow
     102: astore        8
     104: aload         5
     106: ifnull        139
     109: aload         6
     111: ifnull        134
     114: aload         5
     116: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
     119: goto          139
     122: astore        9
     124: aload         6
     126: aload         9
     128: invokevirtual #17                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     131: goto          139
     134: aload         5
     136: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
     139: aload         8
     141: athrow
     142: goto          177
     145: astore        5
     147: aload_3
     148: new           #19                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException
     151: dup
     152: ldc           #20                 // String Read package \'%s\' metadata failed
     154: iconst_1
     155: anewarray     #21                 // class java/lang/Object
     158: dup
     159: iconst_0
     160: aload_1
     161: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
     164: aastore
     165: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     168: aload         5
     170: invokespecial #24                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     173: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     176: pop
     177: aload_3
     178: areturn
    Exception table:
       from    to  target type
          65    70    73   Class java/lang/Throwable
          31    55    93   Class java/lang/Throwable
          31    55   102   any
         114   119   122   Class java/lang/Throwable
          93   104   102   any
          15   142   145   Class java/io/IOException

  public java.util.concurrent.CompletableFuture<java.lang.Void> download(org.apache.pulsar.packages.management.core.common.PackageName, java.io.OutputStream);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #26                 // Method packagePath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       5: astore_3
       6: aload_0
       7: aload_1
       8: invokespecial #27                 // Method checkPackageNotExistsAndThrowException:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/concurrent/CompletableFuture;
      11: aload_0
      12: aload_3
      13: aload_2
      14: invokedynamic #28,  0             // InvokeDynamic #3:apply:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Ljava/lang/String;Ljava/io/OutputStream;)Ljava/util/function/Function;
      19: invokevirtual #29                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      22: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Void> upload(org.apache.pulsar.packages.management.core.common.PackageName, org.apache.pulsar.packages.management.core.common.PackageMetadata, java.io.InputStream);
    Code:
       0: iconst_2
       1: anewarray     #3                  // class java/util/concurrent/CompletableFuture
       4: dup
       5: iconst_0
       6: aload_0
       7: aload_1
       8: invokespecial #30                 // Method checkMetadataExistsAndThrowException:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/concurrent/CompletableFuture;
      11: aastore
      12: dup
      13: iconst_1
      14: aload_0
      15: aload_1
      16: invokespecial #31                 // Method checkPackageExistsAndThrowException:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/concurrent/CompletableFuture;
      19: aastore
      20: invokestatic  #32                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
      23: aload_0
      24: aload_1
      25: aload_2
      26: invokedynamic #33,  0             // InvokeDynamic #4:apply:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Lorg/apache/pulsar/packages/management/core/common/PackageName;Lorg/apache/pulsar/packages/management/core/common/PackageMetadata;)Ljava/util/function/Function;
      31: invokevirtual #29                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      34: aload_0
      35: aload_1
      36: aload_3
      37: invokedynamic #34,  0             // InvokeDynamic #5:apply:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Lorg/apache/pulsar/packages/management/core/common/PackageName;Ljava/io/InputStream;)Ljava/util/function/Function;
      42: invokevirtual #29                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      45: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Void> delete(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: iconst_3
       1: anewarray     #3                  // class java/util/concurrent/CompletableFuture
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      10: aload_0
      11: aload_1
      12: invokespecial #5                  // Method metadataPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
      15: invokeinterface #35,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.deleteAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      20: aastore
      21: dup
      22: iconst_1
      23: aload_0
      24: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      27: aload_0
      28: aload_1
      29: invokespecial #26                 // Method packagePath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
      32: invokeinterface #35,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.deleteAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      37: aastore
      38: dup
      39: iconst_2
      40: aload_0
      41: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      44: aload_1
      45: invokevirtual #36                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toRestPath:()Ljava/lang/String;
      48: invokeinterface #35,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.deleteAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      53: aastore
      54: invokestatic  #32                 // Method java/util/concurrent/CompletableFuture.allOf:([Ljava/util/concurrent/CompletableFuture;)Ljava/util/concurrent/CompletableFuture;
      57: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<java.lang.String>> list(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: aload_0
       1: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
       4: aload_0
       5: aload_1
       6: invokespecial #37                 // Method packageWithoutVersionPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       9: invokeinterface #38,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.listAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      14: areturn

  public java.util.concurrent.CompletableFuture<java.util.List<java.lang.String>> list(org.apache.pulsar.packages.management.core.common.PackageType, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
       4: ldc           #39                 // String %s/%s/%s
       6: iconst_3
       7: anewarray     #21                 // class java/lang/Object
      10: dup
      11: iconst_0
      12: aload_1
      13: aastore
      14: dup
      15: iconst_1
      16: aload_2
      17: aastore
      18: dup
      19: iconst_2
      20: aload_3
      21: aastore
      22: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      25: invokeinterface #38,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.listAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      30: areturn

  private java.util.concurrent.CompletableFuture<java.lang.Void> checkMetadataNotExistsAndThrowException(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #5                  // Method metadataPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       5: astore_2
       6: new           #3                  // class java/util/concurrent/CompletableFuture
       9: dup
      10: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
      13: astore_3
      14: aload_0
      15: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      18: aload_2
      19: invokeinterface #40,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.existAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      24: aload_3
      25: aload_1
      26: invokedynamic #41,  0             // InvokeDynamic #6:accept:(Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      31: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      34: pop
      35: aload_3
      36: areturn

  private java.util.concurrent.CompletableFuture<java.lang.Void> checkMetadataExistsAndThrowException(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #5                  // Method metadataPath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       5: astore_2
       6: new           #3                  // class java/util/concurrent/CompletableFuture
       9: dup
      10: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
      13: astore_3
      14: aload_0
      15: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      18: aload_2
      19: invokeinterface #40,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.existAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      24: aload_3
      25: aload_1
      26: invokedynamic #42,  0             // InvokeDynamic #7:accept:(Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      31: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      34: pop
      35: aload_3
      36: areturn

  private java.util.concurrent.CompletableFuture<java.lang.Void> checkPackageNotExistsAndThrowException(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #26                 // Method packagePath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       5: astore_2
       6: new           #3                  // class java/util/concurrent/CompletableFuture
       9: dup
      10: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
      13: astore_3
      14: aload_0
      15: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      18: aload_2
      19: invokeinterface #40,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.existAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      24: aload_3
      25: aload_1
      26: invokedynamic #43,  0             // InvokeDynamic #8:accept:(Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      31: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      34: pop
      35: aload_3
      36: areturn

  private java.util.concurrent.CompletableFuture<java.lang.Void> checkPackageExistsAndThrowException(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #26                 // Method packagePath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       5: astore_2
       6: new           #3                  // class java/util/concurrent/CompletableFuture
       9: dup
      10: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
      13: astore_3
      14: aload_0
      15: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      18: aload_2
      19: invokeinterface #40,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.existAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      24: aload_3
      25: aload_1
      26: invokedynamic #44,  0             // InvokeDynamic #9:accept:(Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      31: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      34: pop
      35: aload_3
      36: areturn

  private java.util.concurrent.CompletableFuture<org.apache.pulsar.packages.management.core.common.PackageMetadata> metadataReadFromStream(java.io.ByteArrayOutputStream);
    Code:
       0: new           #3                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #4                  // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_2
       8: aload_1
       9: invokevirtual #45                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
      12: invokestatic  #46                 // Method org/apache/pulsar/packages/management/core/common/PackageMetadataUtil.fromBytes:([B)Lorg/apache/pulsar/packages/management/core/common/PackageMetadata;
      15: astore_3
      16: aload_2
      17: aload_3
      18: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      21: pop
      22: goto          32
      25: astore_3
      26: aload_2
      27: aload_3
      28: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      31: pop
      32: aload_2
      33: areturn
    Exception table:
       from    to  target type
           8    22    25   Class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$MetadataFormatException

  private java.lang.String metadataPath(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: new           #49                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_1
       8: invokevirtual #36                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toRestPath:()Ljava/lang/String;
      11: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #52                 // String /meta
      16: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: invokevirtual #53                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: areturn

  private java.lang.String packagePath(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: new           #49                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #50                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_1
       8: invokevirtual #36                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toRestPath:()Ljava/lang/String;
      11: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #54                 // String /data
      16: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: invokevirtual #53                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: areturn

  private java.lang.String packageWithoutVersionPath(org.apache.pulsar.packages.management.core.common.PackageName);
    Code:
       0: ldc           #55                 // String %s/%s/%s/%s
       2: iconst_4
       3: anewarray     #21                 // class java/lang/Object
       6: dup
       7: iconst_0
       8: aload_1
       9: invokevirtual #56                 // Method org/apache/pulsar/packages/management/core/common/PackageName.getPkgType:()Lorg/apache/pulsar/packages/management/core/common/PackageType;
      12: invokevirtual #57                 // Method org/apache/pulsar/packages/management/core/common/PackageType.toString:()Ljava/lang/String;
      15: aastore
      16: dup
      17: iconst_1
      18: aload_1
      19: invokevirtual #58                 // Method org/apache/pulsar/packages/management/core/common/PackageName.getTenant:()Ljava/lang/String;
      22: aastore
      23: dup
      24: iconst_2
      25: aload_1
      26: invokevirtual #59                 // Method org/apache/pulsar/packages/management/core/common/PackageName.getNamespace:()Ljava/lang/String;
      29: aastore
      30: dup
      31: iconst_3
      32: aload_1
      33: invokevirtual #60                 // Method org/apache/pulsar/packages/management/core/common/PackageName.getName:()Ljava/lang/String;
      36: aastore
      37: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      40: areturn

  private static void lambda$checkPackageExistsAndThrowException$13(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Boolean, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        11
       4: aload_0
       5: aload_3
       6: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
       9: pop
      10: return
      11: aload_2
      12: invokevirtual #61                 // Method java/lang/Boolean.booleanValue:()Z
      15: ifne          27
      18: aload_0
      19: aconst_null
      20: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      23: pop
      24: goto          55
      27: aload_0
      28: new           #62                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException
      31: dup
      32: ldc           #63                 // String Package \'%s\' already exists
      34: iconst_1
      35: anewarray     #21                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_1
      41: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
      44: aastore
      45: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      48: invokespecial #64                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException."<init>":(Ljava/lang/String;)V
      51: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      54: pop
      55: return

  private static void lambda$checkPackageNotExistsAndThrowException$12(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Boolean, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        11
       4: aload_0
       5: aload_3
       6: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
       9: pop
      10: return
      11: aload_2
      12: invokevirtual #61                 // Method java/lang/Boolean.booleanValue:()Z
      15: ifeq          27
      18: aload_0
      19: aconst_null
      20: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      23: pop
      24: goto          55
      27: aload_0
      28: new           #62                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException
      31: dup
      32: ldc           #65                 // String Package \'%s\' does not exist
      34: iconst_1
      35: anewarray     #21                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_1
      41: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
      44: aastore
      45: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      48: invokespecial #64                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException."<init>":(Ljava/lang/String;)V
      51: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      54: pop
      55: return

  private static void lambda$checkMetadataExistsAndThrowException$11(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Boolean, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        11
       4: aload_0
       5: aload_3
       6: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
       9: pop
      10: return
      11: aload_2
      12: invokevirtual #61                 // Method java/lang/Boolean.booleanValue:()Z
      15: ifne          27
      18: aload_0
      19: aconst_null
      20: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      23: pop
      24: goto          52
      27: aload_0
      28: new           #62                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException
      31: dup
      32: ldc           #66                 // String Package \'%s\' metadata already exists
      34: iconst_1
      35: anewarray     #21                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_1
      41: aastore
      42: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      45: invokespecial #64                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException."<init>":(Ljava/lang/String;)V
      48: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      51: pop
      52: return

  private static void lambda$checkMetadataNotExistsAndThrowException$10(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Boolean, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        11
       4: aload_0
       5: aload_3
       6: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
       9: pop
      10: return
      11: aload_2
      12: invokevirtual #61                 // Method java/lang/Boolean.booleanValue:()Z
      15: ifeq          27
      18: aload_0
      19: aconst_null
      20: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      23: pop
      24: goto          52
      27: aload_0
      28: new           #62                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException
      31: dup
      32: ldc           #67                 // String Package \'%s\' metadata does not exist
      34: iconst_1
      35: anewarray     #21                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_1
      41: aastore
      42: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      45: invokespecial #64                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException$NotFoundException."<init>":(Ljava/lang/String;)V
      48: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      51: pop
      52: return

  private java.util.concurrent.CompletionStage lambda$upload$9(org.apache.pulsar.packages.management.core.common.PackageName, java.io.InputStream, java.lang.Void);
    Code:
       0: aload_0
       1: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
       4: aload_0
       5: aload_1
       6: invokespecial #26                 // Method packagePath:(Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/lang/String;
       9: aload_2
      10: invokeinterface #13,  3           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.writeAsync:(Ljava/lang/String;Ljava/io/InputStream;)Ljava/util/concurrent/CompletableFuture;
      15: areturn

  private java.util.concurrent.CompletionStage lambda$upload$8(org.apache.pulsar.packages.management.core.common.PackageName, org.apache.pulsar.packages.management.core.common.PackageMetadata, java.lang.Void);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #68                 // Method writeMeta:(Lorg/apache/pulsar/packages/management/core/common/PackageName;Lorg/apache/pulsar/packages/management/core/common/PackageMetadata;)Ljava/util/concurrent/CompletableFuture;
       6: areturn

  private java.util.concurrent.CompletionStage lambda$download$7(java.lang.String, java.io.OutputStream, java.lang.Void);
    Code:
       0: aload_0
       1: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
       4: aload_1
       5: aload_2
       6: invokeinterface #69,  3           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.readAsync:(Ljava/lang/String;Ljava/io/OutputStream;)Ljava/util/concurrent/CompletableFuture;
      11: areturn

  private static void lambda$writeMeta$6(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Void, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        36
       4: aload_0
       5: new           #19                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException
       8: dup
       9: ldc           #70                 // String Update package \'%s\' metadata failed
      11: iconst_1
      12: anewarray     #21                 // class java/lang/Object
      15: dup
      16: iconst_0
      17: aload_1
      18: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
      21: aastore
      22: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      25: aload_3
      26: invokespecial #24                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      32: pop
      33: goto          42
      36: aload_0
      37: aconst_null
      38: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      41: pop
      42: return

  private void lambda$updateMeta$5(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageMetadata, java.lang.String, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Void, java.lang.Throwable);
    Code:
       0: aload         6
       2: ifnull        13
       5: aload_1
       6: aload         6
       8: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      11: pop
      12: return
      13: new           #10                 // class java/io/ByteArrayInputStream
      16: dup
      17: aload_2
      18: invokestatic  #11                 // Method org/apache/pulsar/packages/management/core/common/PackageMetadataUtil.toBytes:(Lorg/apache/pulsar/packages/management/core/common/PackageMetadata;)[B
      21: invokespecial #12                 // Method java/io/ByteArrayInputStream."<init>":([B)V
      24: astore        7
      26: aconst_null
      27: astore        8
      29: aload_0
      30: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      33: aload_3
      34: invokeinterface #35,  2           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.deleteAsync:(Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      39: aload_0
      40: aload_3
      41: aload         7
      43: invokedynamic #71,  0             // InvokeDynamic #10:apply:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Ljava/lang/String;Ljava/io/ByteArrayInputStream;)Ljava/util/function/Function;
      48: invokevirtual #29                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      51: aload_1
      52: aload         4
      54: invokedynamic #72,  0             // InvokeDynamic #11:accept:(Ljava/util/concurrent/CompletableFuture;Lorg/apache/pulsar/packages/management/core/common/PackageName;)Ljava/util/function/BiConsumer;
      59: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      62: pop
      63: aload         7
      65: ifnull        150
      68: aload         8
      70: ifnull        93
      73: aload         7
      75: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
      78: goto          150
      81: astore        9
      83: aload         8
      85: aload         9
      87: invokevirtual #17                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      90: goto          150
      93: aload         7
      95: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
      98: goto          150
     101: astore        9
     103: aload         9
     105: astore        8
     107: aload         9
     109: athrow
     110: astore        10
     112: aload         7
     114: ifnull        147
     117: aload         8
     119: ifnull        142
     122: aload         7
     124: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
     127: goto          147
     130: astore        11
     132: aload         8
     134: aload         11
     136: invokevirtual #17                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     139: goto          147
     142: aload         7
     144: invokevirtual #15                 // Method java/io/ByteArrayInputStream.close:()V
     147: aload         10
     149: athrow
     150: goto          186
     153: astore        7
     155: aload_1
     156: new           #19                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException
     159: dup
     160: ldc           #20                 // String Read package \'%s\' metadata failed
     162: iconst_1
     163: anewarray     #21                 // class java/lang/Object
     166: dup
     167: iconst_0
     168: aload         4
     170: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
     173: aastore
     174: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     177: aload         7
     179: invokespecial #24                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     182: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     185: pop
     186: return
    Exception table:
       from    to  target type
          73    78    81   Class java/lang/Throwable
          29    63   101   Class java/lang/Throwable
          29    63   110   any
         122   127   130   Class java/lang/Throwable
         101   112   110   any
          13   150   153   Class java/io/IOException

  private static void lambda$null$4(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Void, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        36
       4: aload_0
       5: new           #19                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException
       8: dup
       9: ldc           #70                 // String Update package \'%s\' metadata failed
      11: iconst_1
      12: anewarray     #21                 // class java/lang/Object
      15: dup
      16: iconst_0
      17: aload_1
      18: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
      21: aastore
      22: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      25: aload_3
      26: invokespecial #24                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      32: pop
      33: goto          42
      36: aload_0
      37: aconst_null
      38: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      41: pop
      42: return

  private java.util.concurrent.CompletionStage lambda$null$3(java.lang.String, java.io.ByteArrayInputStream, java.lang.Void);
    Code:
       0: aload_0
       1: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
       4: aload_1
       5: aload_2
       6: invokeinterface #13,  3           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.writeAsync:(Ljava/lang/String;Ljava/io/InputStream;)Ljava/util/concurrent/CompletableFuture;
      11: areturn

  private void lambda$getMeta$2(java.util.concurrent.CompletableFuture, java.lang.String, org.apache.pulsar.packages.management.core.common.PackageName, java.lang.Void, java.lang.Throwable);
    Code:
       0: aload         5
       2: ifnull        13
       5: aload_1
       6: aload         5
       8: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      11: pop
      12: return
      13: new           #73                 // class java/io/ByteArrayOutputStream
      16: dup
      17: invokespecial #74                 // Method java/io/ByteArrayOutputStream."<init>":()V
      20: astore        6
      22: aconst_null
      23: astore        7
      25: aload_0
      26: getfield      #2                  // Field storage:Lorg/apache/pulsar/packages/management/core/PackagesStorage;
      29: aload_2
      30: aload         6
      32: invokeinterface #69,  3           // InterfaceMethod org/apache/pulsar/packages/management/core/PackagesStorage.readAsync:(Ljava/lang/String;Ljava/io/OutputStream;)Ljava/util/concurrent/CompletableFuture;
      37: aload_0
      38: aload         6
      40: invokedynamic #75,  0             // InvokeDynamic #12:apply:(Lorg/apache/pulsar/packages/management/core/impl/PackagesManagementImpl;Ljava/io/ByteArrayOutputStream;)Ljava/util/function/Function;
      45: invokevirtual #29                 // Method java/util/concurrent/CompletableFuture.thenCompose:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      48: aload_1
      49: invokedynamic #76,  0             // InvokeDynamic #13:accept:(Ljava/util/concurrent/CompletableFuture;)Ljava/util/function/BiConsumer;
      54: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
      57: pop
      58: aload         6
      60: ifnull        145
      63: aload         7
      65: ifnull        88
      68: aload         6
      70: invokevirtual #77                 // Method java/io/ByteArrayOutputStream.close:()V
      73: goto          145
      76: astore        8
      78: aload         7
      80: aload         8
      82: invokevirtual #17                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      85: goto          145
      88: aload         6
      90: invokevirtual #77                 // Method java/io/ByteArrayOutputStream.close:()V
      93: goto          145
      96: astore        8
      98: aload         8
     100: astore        7
     102: aload         8
     104: athrow
     105: astore        9
     107: aload         6
     109: ifnull        142
     112: aload         7
     114: ifnull        137
     117: aload         6
     119: invokevirtual #77                 // Method java/io/ByteArrayOutputStream.close:()V
     122: goto          142
     125: astore        10
     127: aload         7
     129: aload         10
     131: invokevirtual #17                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     134: goto          142
     137: aload         6
     139: invokevirtual #77                 // Method java/io/ByteArrayOutputStream.close:()V
     142: aload         9
     144: athrow
     145: goto          180
     148: astore        6
     150: aload_1
     151: new           #19                 // class org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException
     154: dup
     155: ldc           #20                 // String Read package \'%s\' metadata failed
     157: iconst_1
     158: anewarray     #21                 // class java/lang/Object
     161: dup
     162: iconst_0
     163: aload_3
     164: invokevirtual #22                 // Method org/apache/pulsar/packages/management/core/common/PackageName.toString:()Ljava/lang/String;
     167: aastore
     168: invokestatic  #23                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     171: aload         6
     173: invokespecial #24                 // Method org/apache/pulsar/packages/management/core/exceptions/PackagesManagementException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     176: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     179: pop
     180: return
    Exception table:
       from    to  target type
          68    73    76   Class java/lang/Throwable
          25    58    96   Class java/lang/Throwable
          25    58   105   any
         117   122   125   Class java/lang/Throwable
          96   107   105   any
          13   145   148   Class java/io/IOException

  private static void lambda$null$1(java.util.concurrent.CompletableFuture, org.apache.pulsar.packages.management.core.common.PackageMetadata, java.lang.Throwable);
    Code:
       0: aload_2
       1: ifnull        13
       4: aload_0
       5: aload_2
       6: invokevirtual #25                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
       9: pop
      10: goto          19
      13: aload_0
      14: aload_1
      15: invokevirtual #47                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      18: pop
      19: return

  private java.util.concurrent.CompletionStage lambda$null$0(java.io.ByteArrayOutputStream, java.lang.Void);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #78                 // Method metadataReadFromStream:(Ljava/io/ByteArrayOutputStream;)Ljava/util/concurrent/CompletableFuture;
       5: areturn
}
