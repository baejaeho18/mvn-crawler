Compiled from "HardLink.java"
public class org.apache.bookkeeper.util.HardLink {
  public static final org.apache.bookkeeper.util.HardLink$OSType OS_TYPE;

  private static org.apache.bookkeeper.util.HardLink$HardLinkCommandGetter getHardLinkCommand;

  public final org.apache.bookkeeper.util.HardLink$LinkStats linkStats;

  public org.apache.bookkeeper.util.HardLink();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/bookkeeper/util/HardLink$LinkStats
       8: dup
       9: invokespecial #3                  // Method org/apache/bookkeeper/util/HardLink$LinkStats."<init>":()V
      12: putfield      #4                  // Field linkStats:Lorg/apache/bookkeeper/util/HardLink$LinkStats;
      15: return

  private static org.apache.bookkeeper.util.HardLink$OSType getOSType();
    Code:
       0: ldc           #5                  // String os.name
       2: invokestatic  #6                  // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       5: astore_0
       6: aload_0
       7: ldc           #7                  // String Windows
       9: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      12: ifeq          73
      15: aload_0
      16: ldc           #9                  // String XP
      18: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      21: ifne          69
      24: aload_0
      25: ldc           #10                 // String 2003
      27: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      30: ifne          69
      33: aload_0
      34: ldc           #11                 // String Vista
      36: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      39: ifne          69
      42: aload_0
      43: ldc           #12                 // String Windows_7
      45: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      48: ifne          69
      51: aload_0
      52: ldc           #13                 // String Windows 7
      54: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      57: ifne          69
      60: aload_0
      61: ldc           #14                 // String Windows7
      63: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      66: ifeq          73
      69: getstatic     #15                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_WINXP:Lorg/apache/bookkeeper/util/HardLink$OSType;
      72: areturn
      73: aload_0
      74: ldc           #16                 // String SunOS
      76: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      79: ifne          91
      82: aload_0
      83: ldc           #17                 // String Solaris
      85: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      88: ifeq          95
      91: getstatic     #18                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_SOLARIS:Lorg/apache/bookkeeper/util/HardLink$OSType;
      94: areturn
      95: aload_0
      96: ldc           #19                 // String Mac
      98: invokevirtual #8                  // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     101: ifeq          108
     104: getstatic     #20                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_MAC:Lorg/apache/bookkeeper/util/HardLink$OSType;
     107: areturn
     108: getstatic     #21                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_UNIX:Lorg/apache/bookkeeper/util/HardLink$OSType;
     111: areturn

  protected static int getLinkMultArgLength(java.io.File, java.lang.String[], java.io.File) throws java.io.IOException;
    Code:
       0: getstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
       3: aload_0
       4: aload_1
       5: aload_2
       6: invokevirtual #23                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCommandGetter.getLinkMultArgLength:(Ljava/io/File;[Ljava/lang/String;Ljava/io/File;)I
       9: ireturn

  protected static int getMaxAllowedCmdArgLength();
    Code:
       0: getstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
       3: invokevirtual #24                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCommandGetter.getMaxAllowedCmdArgLength:()I
       6: ireturn

  public static void createHardLink(java.io.File, java.io.File) throws java.io.IOException;
    Code:
       0: aload_0
       1: ifnonnull     14
       4: new           #25                 // class java/io/IOException
       7: dup
       8: ldc           #26                 // String invalid arguments to createHardLink: source file is null
      10: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_1
      15: ifnonnull     28
      18: new           #25                 // class java/io/IOException
      21: dup
      22: ldc           #28                 // String invalid arguments to createHardLink: link name is null
      24: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      27: athrow
      28: getstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
      31: aload_0
      32: aload_1
      33: invokevirtual #29                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCommandGetter.linkOne:(Ljava/io/File;Ljava/io/File;)[Ljava/lang/String;
      36: astore_2
      37: invokestatic  #30                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
      40: aload_2
      41: invokevirtual #31                 // Method java/lang/Runtime.exec:([Ljava/lang/String;)Ljava/lang/Process;
      44: astore_3
      45: aload_3
      46: invokevirtual #32                 // Method java/lang/Process.waitFor:()I
      49: ifeq          150
      52: new           #33                 // class java/io/BufferedReader
      55: dup
      56: new           #34                 // class java/io/InputStreamReader
      59: dup
      60: aload_3
      61: invokevirtual #35                 // Method java/lang/Process.getInputStream:()Ljava/io/InputStream;
      64: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      67: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
      70: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      73: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
      76: astore        4
      78: aload         4
      80: ifnonnull     87
      83: ldc           #40                 // String
      85: astore        4
      87: new           #33                 // class java/io/BufferedReader
      90: dup
      91: new           #34                 // class java/io/InputStreamReader
      94: dup
      95: aload_3
      96: invokevirtual #41                 // Method java/lang/Process.getErrorStream:()Ljava/io/InputStream;
      99: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     102: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
     105: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     108: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     111: astore        5
     113: aload         5
     115: ifnonnull     122
     118: ldc           #40                 // String
     120: astore        5
     122: new           #25                 // class java/io/IOException
     125: dup
     126: new           #42                 // class java/lang/StringBuilder
     129: dup
     130: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     133: aload         4
     135: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: aload         5
     140: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     146: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     149: athrow
     150: aload_3
     151: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     154: goto          184
     157: astore        4
     159: invokestatic  #48                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     162: invokevirtual #49                 // Method java/lang/Thread.interrupt:()V
     165: new           #25                 // class java/io/IOException
     168: dup
     169: aload         4
     171: invokespecial #50                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     174: athrow
     175: astore        6
     177: aload_3
     178: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     181: aload         6
     183: athrow
     184: return
    Exception table:
       from    to  target type
          45   150   157   Class java/lang/InterruptedException
          45   150   175   any
         157   177   175   any

  public static void createHardLinkMult(java.io.File, java.lang.String[], java.io.File) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: getstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
       6: invokevirtual #24                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCommandGetter.getMaxAllowedCmdArgLength:()I
       9: invokestatic  #51                 // Method createHardLinkMult:(Ljava/io/File;[Ljava/lang/String;Ljava/io/File;I)I
      12: pop
      13: return

  protected static int createHardLinkMult(java.io.File, java.lang.String[], java.io.File, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: ifnonnull     14
       4: new           #25                 // class java/io/IOException
       7: dup
       8: ldc           #52                 // String invalid arguments to createHardLinkMult: parent directory is null
      10: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_2
      15: ifnonnull     28
      18: new           #25                 // class java/io/IOException
      21: dup
      22: ldc           #53                 // String invalid arguments to createHardLinkMult: link directory is null
      24: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      27: athrow
      28: aload_1
      29: ifnonnull     42
      32: new           #25                 // class java/io/IOException
      35: dup
      36: ldc           #54                 // String invalid arguments to createHardLinkMult: filename list can be empty but not null
      38: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: aload_1
      43: arraylength
      44: ifne          49
      47: iconst_0
      48: ireturn
      49: aload_2
      50: invokevirtual #55                 // Method java/io/File.exists:()Z
      53: ifne          83
      56: new           #56                 // class java/io/FileNotFoundException
      59: dup
      60: new           #42                 // class java/lang/StringBuilder
      63: dup
      64: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      67: aload_2
      68: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      71: ldc           #58                 // String  not found.
      73: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      79: invokespecial #59                 // Method java/io/FileNotFoundException."<init>":(Ljava/lang/String;)V
      82: athrow
      83: iconst_0
      84: istore        4
      86: aload_0
      87: aload_1
      88: aload_2
      89: invokestatic  #60                 // Method getLinkMultArgLength:(Ljava/io/File;[Ljava/lang/String;Ljava/io/File;)I
      92: iload_3
      93: if_icmple     159
      96: aload_1
      97: arraylength
      98: iconst_1
      99: if_icmple     159
     102: aload_1
     103: aload_1
     104: arraylength
     105: iconst_2
     106: idiv
     107: invokestatic  #61                 // Method java/util/Arrays.copyOf:([Ljava/lang/Object;I)[Ljava/lang/Object;
     110: checkcast     #62                 // class "[Ljava/lang/String;"
     113: astore        5
     115: iload         4
     117: aload_0
     118: aload         5
     120: aload_2
     121: iload_3
     122: invokestatic  #51                 // Method createHardLinkMult:(Ljava/io/File;[Ljava/lang/String;Ljava/io/File;I)I
     125: iadd
     126: istore        4
     128: aload_1
     129: aload_1
     130: arraylength
     131: iconst_2
     132: idiv
     133: aload_1
     134: arraylength
     135: invokestatic  #63                 // Method java/util/Arrays.copyOfRange:([Ljava/lang/Object;II)[Ljava/lang/Object;
     138: checkcast     #62                 // class "[Ljava/lang/String;"
     141: astore        6
     143: iload         4
     145: aload_0
     146: aload         6
     148: aload_2
     149: iload_3
     150: invokestatic  #51                 // Method createHardLinkMult:(Ljava/io/File;[Ljava/lang/String;Ljava/io/File;I)I
     153: iadd
     154: istore        4
     156: iload         4
     158: ireturn
     159: iconst_1
     160: istore        4
     162: getstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
     165: aload_1
     166: aload_2
     167: invokevirtual #64                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCommandGetter.linkMult:([Ljava/lang/String;Ljava/io/File;)[Ljava/lang/String;
     170: astore        5
     172: invokestatic  #30                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
     175: aload         5
     177: aconst_null
     178: aload_0
     179: invokevirtual #65                 // Method java/lang/Runtime.exec:([Ljava/lang/String;[Ljava/lang/String;Ljava/io/File;)Ljava/lang/Process;
     182: astore        6
     184: aload         6
     186: invokevirtual #32                 // Method java/lang/Process.waitFor:()I
     189: ifeq          292
     192: new           #33                 // class java/io/BufferedReader
     195: dup
     196: new           #34                 // class java/io/InputStreamReader
     199: dup
     200: aload         6
     202: invokevirtual #35                 // Method java/lang/Process.getInputStream:()Ljava/io/InputStream;
     205: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     208: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
     211: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     214: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     217: astore        7
     219: aload         7
     221: ifnonnull     228
     224: ldc           #40                 // String
     226: astore        7
     228: new           #33                 // class java/io/BufferedReader
     231: dup
     232: new           #34                 // class java/io/InputStreamReader
     235: dup
     236: aload         6
     238: invokevirtual #41                 // Method java/lang/Process.getErrorStream:()Ljava/io/InputStream;
     241: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     244: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
     247: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     250: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     253: astore        8
     255: aload         8
     257: ifnonnull     264
     260: ldc           #40                 // String
     262: astore        8
     264: new           #25                 // class java/io/IOException
     267: dup
     268: new           #42                 // class java/lang/StringBuilder
     271: dup
     272: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     275: aload         7
     277: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     280: aload         8
     282: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     285: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     288: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     291: athrow
     292: aload         6
     294: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     297: goto          328
     300: astore        7
     302: invokestatic  #48                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     305: invokevirtual #49                 // Method java/lang/Thread.interrupt:()V
     308: new           #25                 // class java/io/IOException
     311: dup
     312: aload         7
     314: invokespecial #50                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     317: athrow
     318: astore        9
     320: aload         6
     322: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     325: aload         9
     327: athrow
     328: iload         4
     330: ireturn
    Exception table:
       from    to  target type
         184   292   300   Class java/lang/InterruptedException
         184   292   318   any
         300   320   318   any

  public static int getLinkCount(java.io.File) throws java.io.IOException;
    Code:
       0: aload_0
       1: ifnonnull     14
       4: new           #25                 // class java/io/IOException
       7: dup
       8: ldc           #66                 // String invalid argument to getLinkCount: file name is null
      10: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: invokevirtual #55                 // Method java/io/File.exists:()Z
      18: ifne          48
      21: new           #56                 // class java/io/FileNotFoundException
      24: dup
      25: new           #42                 // class java/lang/StringBuilder
      28: dup
      29: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      32: aload_0
      33: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      36: ldc           #58                 // String  not found.
      38: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      44: invokespecial #59                 // Method java/io/FileNotFoundException."<init>":(Ljava/lang/String;)V
      47: athrow
      48: getstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
      51: aload_0
      52: invokevirtual #67                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCommandGetter.linkCount:(Ljava/io/File;)[Ljava/lang/String;
      55: astore_1
      56: aconst_null
      57: astore_2
      58: aconst_null
      59: astore_3
      60: iconst_m1
      61: istore        4
      63: aconst_null
      64: astore        5
      66: aconst_null
      67: astore        6
      69: invokestatic  #30                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
      72: aload_1
      73: invokevirtual #31                 // Method java/lang/Runtime.exec:([Ljava/lang/String;)Ljava/lang/Process;
      76: astore        7
      78: aload         7
      80: invokevirtual #32                 // Method java/lang/Process.waitFor:()I
      83: istore        4
      85: new           #33                 // class java/io/BufferedReader
      88: dup
      89: new           #34                 // class java/io/InputStreamReader
      92: dup
      93: aload         7
      95: invokevirtual #35                 // Method java/lang/Process.getInputStream:()Ljava/io/InputStream;
      98: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     101: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
     104: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     107: astore        5
     109: aload         5
     111: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     114: astore_2
     115: new           #33                 // class java/io/BufferedReader
     118: dup
     119: new           #34                 // class java/io/InputStreamReader
     122: dup
     123: aload         7
     125: invokevirtual #41                 // Method java/lang/Process.getErrorStream:()Ljava/io/InputStream;
     128: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     131: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
     134: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     137: astore        6
     139: aload         6
     141: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     144: astore_3
     145: aload_2
     146: ifnull        154
     149: iload         4
     151: ifeq          164
     154: aload_0
     155: aload_2
     156: aload_3
     157: iload         4
     159: aconst_null
     160: invokestatic  #68                 // Method createIOException:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;ILjava/lang/Exception;)Ljava/io/IOException;
     163: athrow
     164: getstatic     #69                 // Field OS_TYPE:Lorg/apache/bookkeeper/util/HardLink$OSType;
     167: getstatic     #18                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_SOLARIS:Lorg/apache/bookkeeper/util/HardLink$OSType;
     170: if_acmpne     218
     173: aload_2
     174: ldc           #70                 // String \\s+
     176: invokevirtual #71                 // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
     179: astore        8
     181: aload         8
     183: iconst_1
     184: aaload
     185: invokestatic  #72                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     188: istore        9
     190: aload         7
     192: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     195: aload         5
     197: ifnull        205
     200: aload         5
     202: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     205: aload         6
     207: ifnull        215
     210: aload         6
     212: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     215: iload         9
     217: ireturn
     218: aload_2
     219: invokestatic  #72                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     222: istore        8
     224: aload         7
     226: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     229: aload         5
     231: ifnull        239
     234: aload         5
     236: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     239: aload         6
     241: ifnull        249
     244: aload         6
     246: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     249: iload         8
     251: ireturn
     252: astore        8
     254: aload_0
     255: aload_2
     256: aload_3
     257: iload         4
     259: aload         8
     261: invokestatic  #68                 // Method createIOException:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;ILjava/lang/Exception;)Ljava/io/IOException;
     264: athrow
     265: astore        8
     267: invokestatic  #48                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     270: invokevirtual #49                 // Method java/lang/Thread.interrupt:()V
     273: aload_0
     274: aload_2
     275: aload_3
     276: iload         4
     278: aload         8
     280: invokestatic  #68                 // Method createIOException:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;ILjava/lang/Exception;)Ljava/io/IOException;
     283: athrow
     284: astore        10
     286: aload         7
     288: invokevirtual #46                 // Method java/lang/Process.destroy:()V
     291: aload         5
     293: ifnull        301
     296: aload         5
     298: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     301: aload         6
     303: ifnull        311
     306: aload         6
     308: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     311: aload         10
     313: athrow
    Exception table:
       from    to  target type
          78   190   252   Class java/lang/NumberFormatException
         218   224   252   Class java/lang/NumberFormatException
          78   190   265   Class java/lang/InterruptedException
         218   224   265   Class java/lang/InterruptedException
          78   190   284   any
         218   224   284   any
         252   286   284   any

  private static java.io.IOException createIOException(java.io.File, java.lang.String, java.lang.String, int, java.lang.Exception);
    Code:
       0: ldc           #75                 // String ; Windows errors in getLinkCount are often due to Cygwin misconfiguration
       2: astore        5
       4: new           #42                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #76                 // String Failed to get link count on file
      13: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_0
      17: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      20: ldc           #77                 // String : message=
      22: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: ldc           #78                 // String ; error=
      31: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: aload_2
      35: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: getstatic     #69                 // Field OS_TYPE:Lorg/apache/bookkeeper/util/HardLink$OSType;
      41: getstatic     #15                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_WINXP:Lorg/apache/bookkeeper/util/HardLink$OSType;
      44: if_acmpne     52
      47: ldc           #75                 // String ; Windows errors in getLinkCount are often due to Cygwin misconfiguration
      49: goto          54
      52: ldc           #40                 // String
      54: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: ldc           #79                 // String ; exit value=
      59: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: iload_3
      63: invokevirtual #80                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      66: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      69: astore        6
      71: aload         4
      73: ifnonnull     88
      76: new           #25                 // class java/io/IOException
      79: dup
      80: aload         6
      82: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      85: goto          99
      88: new           #25                 // class java/io/IOException
      91: dup
      92: aload         6
      94: aload         4
      96: invokespecial #81                 // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      99: areturn

  public static java.lang.String makeShellPath(java.io.File) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #82                 // Method java/io/File.getCanonicalPath:()Ljava/lang/String;
       4: astore_1
       5: ldc           #5                  // String os.name
       7: invokestatic  #6                  // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      10: ldc           #7                  // String Windows
      12: invokevirtual #83                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      15: ifeq          194
      18: aconst_null
      19: astore_2
      20: new           #84                 // class java/lang/ProcessBuilder
      23: dup
      24: iconst_3
      25: anewarray     #85                 // class java/lang/String
      28: dup
      29: iconst_0
      30: ldc           #86                 // String cygpath
      32: aastore
      33: dup
      34: iconst_1
      35: ldc           #87                 // String -u
      37: aastore
      38: dup
      39: iconst_2
      40: aload_1
      41: aastore
      42: invokespecial #88                 // Method java/lang/ProcessBuilder."<init>":([Ljava/lang/String;)V
      45: astore_3
      46: aload_3
      47: invokevirtual #89                 // Method java/lang/ProcessBuilder.start:()Ljava/lang/Process;
      50: astore        4
      52: aload         4
      54: invokevirtual #32                 // Method java/lang/Process.waitFor:()I
      57: istore        5
      59: iload         5
      61: ifeq          106
      64: new           #25                 // class java/io/IOException
      67: dup
      68: new           #42                 // class java/lang/StringBuilder
      71: dup
      72: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      75: ldc           #90                 // String Couldn\'t resolve path
      77: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: aload_1
      81: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: ldc           #91                 // String (
      86: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: iload         5
      91: invokevirtual #80                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      94: ldc           #92                 // String )
      96: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      99: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     102: invokespecial #27                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     105: athrow
     106: new           #33                 // class java/io/BufferedReader
     109: dup
     110: new           #34                 // class java/io/InputStreamReader
     113: dup
     114: aload         4
     116: invokevirtual #35                 // Method java/lang/Process.getInputStream:()Ljava/io/InputStream;
     119: getstatic     #36                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     122: invokespecial #37                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
     125: invokespecial #38                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
     128: astore_2
     129: aload_2
     130: invokevirtual #39                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
     133: astore        6
     135: aload_2
     136: ifnull        143
     139: aload_2
     140: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     143: aload         6
     145: areturn
     146: astore_3
     147: invokestatic  #48                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     150: invokevirtual #49                 // Method java/lang/Thread.interrupt:()V
     153: new           #25                 // class java/io/IOException
     156: dup
     157: new           #42                 // class java/lang/StringBuilder
     160: dup
     161: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
     164: ldc           #90                 // String Couldn\'t resolve path
     166: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     169: aload_1
     170: invokevirtual #44                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     176: aload_3
     177: invokespecial #81                 // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     180: athrow
     181: astore        7
     183: aload_2
     184: ifnull        191
     187: aload_2
     188: invokevirtual #73                 // Method java/io/BufferedReader.close:()V
     191: aload         7
     193: athrow
     194: aload_1
     195: areturn
    Exception table:
       from    to  target type
          20   135   146   Class java/lang/InterruptedException
          20   135   181   any
         146   183   181   any

  static {};
    Code:
       0: invokestatic  #93                 // Method getOSType:()Lorg/apache/bookkeeper/util/HardLink$OSType;
       3: putstatic     #69                 // Field OS_TYPE:Lorg/apache/bookkeeper/util/HardLink$OSType;
       6: getstatic     #69                 // Field OS_TYPE:Lorg/apache/bookkeeper/util/HardLink$OSType;
       9: getstatic     #15                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_WINXP:Lorg/apache/bookkeeper/util/HardLink$OSType;
      12: if_acmpne     28
      15: new           #94                 // class org/apache/bookkeeper/util/HardLink$HardLinkCGWin
      18: dup
      19: invokespecial #95                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCGWin."<init>":()V
      22: putstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
      25: goto          105
      28: new           #96                 // class org/apache/bookkeeper/util/HardLink$HardLinkCGUnix
      31: dup
      32: invokespecial #97                 // Method org/apache/bookkeeper/util/HardLink$HardLinkCGUnix."<init>":()V
      35: putstatic     #22                 // Field getHardLinkCommand:Lorg/apache/bookkeeper/util/HardLink$HardLinkCommandGetter;
      38: getstatic     #69                 // Field OS_TYPE:Lorg/apache/bookkeeper/util/HardLink$OSType;
      41: getstatic     #20                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_MAC:Lorg/apache/bookkeeper/util/HardLink$OSType;
      44: if_acmpne     73
      47: iconst_3
      48: anewarray     #85                 // class java/lang/String
      51: dup
      52: iconst_0
      53: ldc           #98                 // String stat
      55: aastore
      56: dup
      57: iconst_1
      58: ldc           #99                 // String -f%l
      60: aastore
      61: dup
      62: iconst_2
      63: aconst_null
      64: aastore
      65: astore_0
      66: aload_0
      67: invokestatic  #100                // Method org/apache/bookkeeper/util/HardLink$HardLinkCGUnix.access$000:([Ljava/lang/String;)V
      70: goto          105
      73: getstatic     #69                 // Field OS_TYPE:Lorg/apache/bookkeeper/util/HardLink$OSType;
      76: getstatic     #18                 // Field org/apache/bookkeeper/util/HardLink$OSType.OS_TYPE_SOLARIS:Lorg/apache/bookkeeper/util/HardLink$OSType;
      79: if_acmpne     105
      82: iconst_3
      83: anewarray     #85                 // class java/lang/String
      86: dup
      87: iconst_0
      88: ldc           #101                // String ls
      90: aastore
      91: dup
      92: iconst_1
      93: ldc           #102                // String -l
      95: aastore
      96: dup
      97: iconst_2
      98: aconst_null
      99: aastore
     100: astore_0
     101: aload_0
     102: invokestatic  #100                // Method org/apache/bookkeeper/util/HardLink$HardLinkCGUnix.access$000:([Ljava/lang/String;)V
     105: return
}
