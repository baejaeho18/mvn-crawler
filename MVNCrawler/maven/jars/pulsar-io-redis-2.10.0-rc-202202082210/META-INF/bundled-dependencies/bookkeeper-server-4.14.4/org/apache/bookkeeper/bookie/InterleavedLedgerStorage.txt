Compiled from "InterleavedLedgerStorage.java"
public class org.apache.bookkeeper.bookie.InterleavedLedgerStorage implements org.apache.bookkeeper.bookie.CompactableLedgerStorage,org.apache.bookkeeper.bookie.EntryLogger$EntryLogListener {
  private static final org.slf4j.Logger LOG;

  public static final long INVALID_ENTRYID;

  org.apache.bookkeeper.bookie.EntryLogger entryLogger;

  org.apache.bookkeeper.bookie.LedgerCache ledgerCache;

  protected org.apache.bookkeeper.bookie.CheckpointSource checkpointSource;

  protected org.apache.bookkeeper.bookie.Checkpointer checkpointer;

  private final java.util.concurrent.CopyOnWriteArrayList<org.apache.bookkeeper.bookie.LedgerStorage$LedgerDeletionListener> ledgerDeletionListeners;

  protected final org.apache.bookkeeper.util.SnapshotMap<java.lang.Long, java.lang.Boolean> activeLedgers;

  org.apache.bookkeeper.bookie.GarbageCollectorThread gcThread;

  private final java.util.concurrent.atomic.AtomicBoolean somethingWritten;

  private int pageSize;

  private org.apache.bookkeeper.stats.OpStatsLogger getOffsetStats;

  private org.apache.bookkeeper.stats.OpStatsLogger getEntryStats;

  private org.apache.bookkeeper.stats.OpStatsLogger pageScanStats;

  private org.apache.bookkeeper.stats.Counter retryCounter;

  public org.apache.bookkeeper.bookie.InterleavedLedgerStorage();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #3                  // Method com/google/common/collect/Lists.newCopyOnWriteArrayList:()Ljava/util/concurrent/CopyOnWriteArrayList;
       8: putfield      #4                  // Field ledgerDeletionListeners:Ljava/util/concurrent/CopyOnWriteArrayList;
      11: aload_0
      12: new           #5                  // class java/util/concurrent/atomic/AtomicBoolean
      15: dup
      16: iconst_0
      17: invokespecial #6                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      20: putfield      #7                  // Field somethingWritten:Ljava/util/concurrent/atomic/AtomicBoolean;
      23: aload_0
      24: new           #8                  // class org/apache/bookkeeper/util/SnapshotMap
      27: dup
      28: invokespecial #9                  // Method org/apache/bookkeeper/util/SnapshotMap."<init>":()V
      31: putfield      #10                 // Field activeLedgers:Lorg/apache/bookkeeper/util/SnapshotMap;
      34: return

  public void initialize(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.meta.LedgerManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.StateManager, org.apache.bookkeeper.bookie.CheckpointSource, org.apache.bookkeeper.bookie.Checkpointer, org.apache.bookkeeper.stats.StatsLogger, io.netty.buffer.ByteBufAllocator) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: aload         6
      10: aload         7
      12: aload_0
      13: aload         8
      15: aload         9
      17: invokevirtual #11                 // Method initializeWithEntryLogListener:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/meta/LedgerManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/StateManager;Lorg/apache/bookkeeper/bookie/CheckpointSource;Lorg/apache/bookkeeper/bookie/Checkpointer;Lorg/apache/bookkeeper/bookie/EntryLogger$EntryLogListener;Lorg/apache/bookkeeper/stats/StatsLogger;Lio/netty/buffer/ByteBufAllocator;)V
      20: return

  void initializeWithEntryLogListener(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.meta.LedgerManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.StateManager, org.apache.bookkeeper.bookie.CheckpointSource, org.apache.bookkeeper.bookie.Checkpointer, org.apache.bookkeeper.bookie.EntryLogger$EntryLogListener, org.apache.bookkeeper.stats.StatsLogger, io.netty.buffer.ByteBufAllocator) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: aload         6
      10: aload         7
      12: new           #12                 // class org/apache/bookkeeper/bookie/EntryLogger
      15: dup
      16: aload_1
      17: aload_3
      18: aload         8
      20: aload         9
      22: ldc           #13                 // String entrylogger
      24: invokeinterface #14,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.scope:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/StatsLogger;
      29: aload         10
      31: invokespecial #15                 // Method org/apache/bookkeeper/bookie/EntryLogger."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/EntryLogger$EntryLogListener;Lorg/apache/bookkeeper/stats/StatsLogger;Lio/netty/buffer/ByteBufAllocator;)V
      34: aload         9
      36: invokevirtual #16                 // Method initializeWithEntryLogger:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/meta/LedgerManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/StateManager;Lorg/apache/bookkeeper/bookie/CheckpointSource;Lorg/apache/bookkeeper/bookie/Checkpointer;Lorg/apache/bookkeeper/bookie/EntryLogger;Lorg/apache/bookkeeper/stats/StatsLogger;)V
      39: return

  public void initializeWithEntryLogger(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.meta.LedgerManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.StateManager, org.apache.bookkeeper.bookie.CheckpointSource, org.apache.bookkeeper.bookie.Checkpointer, org.apache.bookkeeper.bookie.EntryLogger, org.apache.bookkeeper.stats.StatsLogger) throws java.io.IOException;
    Code:
       0: aload         6
       2: ldc           #17                 // String invalid null checkpoint source
       4: invokestatic  #18                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       7: pop
       8: aload         7
      10: ldc           #19                 // String invalid null checkpointer
      12: invokestatic  #18                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      15: pop
      16: aload_0
      17: aload         8
      19: putfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      22: aload_0
      23: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      26: aload_0
      27: invokevirtual #21                 // Method org/apache/bookkeeper/bookie/EntryLogger.addListener:(Lorg/apache/bookkeeper/bookie/EntryLogger$EntryLogListener;)V
      30: aload_0
      31: aload         6
      33: putfield      #22                 // Field checkpointSource:Lorg/apache/bookkeeper/bookie/CheckpointSource;
      36: aload_0
      37: aload         7
      39: putfield      #23                 // Field checkpointer:Lorg/apache/bookkeeper/bookie/Checkpointer;
      42: aload_0
      43: new           #24                 // class org/apache/bookkeeper/bookie/LedgerCacheImpl
      46: dup
      47: aload_1
      48: aload_0
      49: getfield      #10                 // Field activeLedgers:Lorg/apache/bookkeeper/util/SnapshotMap;
      52: aconst_null
      53: aload         4
      55: if_acmpne     62
      58: aload_3
      59: goto          64
      62: aload         4
      64: aload         9
      66: invokespecial #25                 // Method org/apache/bookkeeper/bookie/LedgerCacheImpl."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/util/SnapshotMap;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/stats/StatsLogger;)V
      69: putfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      72: aload_0
      73: new           #27                 // class org/apache/bookkeeper/bookie/GarbageCollectorThread
      76: dup
      77: aload_1
      78: aload_2
      79: aload_0
      80: aload         9
      82: ldc           #28                 // String gc
      84: invokeinterface #14,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.scope:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/StatsLogger;
      89: invokespecial #29                 // Method org/apache/bookkeeper/bookie/GarbageCollectorThread."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/meta/LedgerManager;Lorg/apache/bookkeeper/bookie/CompactableLedgerStorage;Lorg/apache/bookkeeper/stats/StatsLogger;)V
      92: putfield      #30                 // Field gcThread:Lorg/apache/bookkeeper/bookie/GarbageCollectorThread;
      95: aload_0
      96: aload_1
      97: invokevirtual #31                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getPageSize:()I
     100: putfield      #32                 // Field pageSize:I
     103: aload_3
     104: aload_0
     105: invokespecial #33                 // Method getLedgerDirsListener:()Lorg/apache/bookkeeper/bookie/LedgerDirsManager$LedgerDirsListener;
     108: invokevirtual #34                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.addLedgerDirsListener:(Lorg/apache/bookkeeper/bookie/LedgerDirsManager$LedgerDirsListener;)V
     111: aload_0
     112: aload         9
     114: ldc           #35                 // String STORAGE_GET_OFFSET
     116: invokeinterface #36,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getOpStatsLogger:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/OpStatsLogger;
     121: putfield      #37                 // Field getOffsetStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     124: aload_0
     125: aload         9
     127: ldc           #38                 // String STORAGE_GET_ENTRY
     129: invokeinterface #36,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getOpStatsLogger:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/OpStatsLogger;
     134: putfield      #39                 // Field getEntryStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     137: aload_0
     138: aload         9
     140: ldc           #40                 // String STORAGE_SCRUB_PAGES_SCANNED
     142: invokeinterface #36,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getOpStatsLogger:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/OpStatsLogger;
     147: putfield      #41                 // Field pageScanStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     150: aload_0
     151: aload         9
     153: ldc           #42                 // String STORAGE_SCRUB_PAGE_RETRIES
     155: invokeinterface #43,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getCounter:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/Counter;
     160: putfield      #44                 // Field retryCounter:Lorg/apache/bookkeeper/stats/Counter;
     163: return

  private org.apache.bookkeeper.bookie.LedgerDirsManager$LedgerDirsListener getLedgerDirsListener();
    Code:
       0: new           #45                 // class org/apache/bookkeeper/bookie/InterleavedLedgerStorage$1
       3: dup
       4: aload_0
       5: invokespecial #46                 // Method org/apache/bookkeeper/bookie/InterleavedLedgerStorage$1."<init>":(Lorg/apache/bookkeeper/bookie/InterleavedLedgerStorage;)V
       8: areturn

  public void forceGC();
    Code:
       0: aload_0
       1: getfield      #30                 // Field gcThread:Lorg/apache/bookkeeper/bookie/GarbageCollectorThread;
       4: invokevirtual #47                 // Method org/apache/bookkeeper/bookie/GarbageCollectorThread.enableForceGC:()V
       7: return

  public boolean isInForceGC();
    Code:
       0: aload_0
       1: getfield      #30                 // Field gcThread:Lorg/apache/bookkeeper/bookie/GarbageCollectorThread;
       4: invokevirtual #48                 // Method org/apache/bookkeeper/bookie/GarbageCollectorThread.isInForceGC:()Z
       7: ireturn

  public void start();
    Code:
       0: aload_0
       1: getfield      #30                 // Field gcThread:Lorg/apache/bookkeeper/bookie/GarbageCollectorThread;
       4: invokevirtual #49                 // Method org/apache/bookkeeper/bookie/GarbageCollectorThread.start:()V
       7: return

  public void shutdown() throws java.lang.InterruptedException;
    Code:
       0: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #51                 // String Shutting down InterleavedLedgerStorage
       5: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      13: ldc           #53                 // String Shutting down GC thread
      15: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      20: aload_0
      21: getfield      #30                 // Field gcThread:Lorg/apache/bookkeeper/bookie/GarbageCollectorThread;
      24: invokevirtual #54                 // Method org/apache/bookkeeper/bookie/GarbageCollectorThread.shutdown:()V
      27: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      30: ldc           #55                 // String Shutting down entry logger
      32: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      37: aload_0
      38: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      41: invokevirtual #56                 // Method org/apache/bookkeeper/bookie/EntryLogger.shutdown:()V
      44: aload_0
      45: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      48: invokeinterface #57,  1           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.close:()V
      53: goto          68
      56: astore_1
      57: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      60: ldc           #59                 // String Error while closing the ledger cache
      62: aload_1
      63: invokeinterface #60,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      68: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      71: ldc           #61                 // String Complete shutting down Ledger Storage
      73: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      78: return
    Exception table:
       from    to  target type
          44    53    56   Class java/io/IOException

  public boolean setFenced(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #62,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.setFenced:(J)Z
      10: ireturn

  public boolean isFenced(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #63,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.isFenced:(J)Z
      10: ireturn

  public void setExplicitLac(long, io.netty.buffer.ByteBuf) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: aload_3
       6: invokeinterface #64,  4           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.setExplicitLac:(JLio/netty/buffer/ByteBuf;)V
      11: return

  public io.netty.buffer.ByteBuf getExplicitLac(long);
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #65,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.getExplicitLac:(J)Lio/netty/buffer/ByteBuf;
      10: areturn

  public void setMasterKey(long, byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: aload_3
       6: invokeinterface #66,  4           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.setMasterKey:(J[B)V
      11: return

  public byte[] readMasterKey(long) throws java.io.IOException, org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #67,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.readMasterKey:(J)[B
      10: areturn

  public boolean ledgerExists(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #68,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.ledgerExists:(J)Z
      10: ireturn

  public long getLastAddConfirmed(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #69,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.getLastAddConfirmed:(J)Ljava/lang/Long;
      10: astore_3
      11: aload_3
      12: ifnonnull     90
      15: aload_0
      16: lload_1
      17: ldc2_w        #71                 // long -1l
      20: invokevirtual #73                 // Method getEntry:(JJ)Lio/netty/buffer/ByteBuf;
      23: astore        4
      25: aconst_null
      26: aload         4
      28: if_acmpne     35
      31: ldc2_w        #71                 // long -1l
      34: lreturn
      35: aload         4
      37: bipush        16
      39: invokevirtual #75                 // Method io/netty/buffer/ByteBuf.skipBytes:(I)Lio/netty/buffer/ByteBuf;
      42: pop
      43: aload         4
      45: invokevirtual #76                 // Method io/netty/buffer/ByteBuf.readLong:()J
      48: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      51: astore_3
      52: aload_0
      53: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      56: lload_1
      57: aload_3
      58: invokevirtual #78                 // Method java/lang/Long.longValue:()J
      61: invokeinterface #79,  5           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.updateLastAddConfirmed:(JJ)J
      66: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      69: astore_3
      70: aload         4
      72: invokevirtual #80                 // Method io/netty/buffer/ByteBuf.release:()Z
      75: pop
      76: goto          90
      79: astore        5
      81: aload         4
      83: invokevirtual #80                 // Method io/netty/buffer/ByteBuf.release:()Z
      86: pop
      87: aload         5
      89: athrow
      90: aload_3
      91: invokevirtual #78                 // Method java/lang/Long.longValue:()J
      94: lreturn
    Exception table:
       from    to  target type
          35    70    79   any
          79    81    79   any

  public boolean waitForLastAddConfirmedUpdate(long, long, org.apache.bookkeeper.common.util.Watcher<org.apache.bookkeeper.bookie.LastAddConfirmedUpdateNotification>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: lload_3
       6: aload         5
       8: invokeinterface #81,  6           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.waitForLastAddConfirmedUpdate:(JJLorg/apache/bookkeeper/common/util/Watcher;)Z
      13: ireturn

  public void cancelWaitForLastAddConfirmedUpdate(long, org.apache.bookkeeper.common.util.Watcher<org.apache.bookkeeper.bookie.LastAddConfirmedUpdateNotification>) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: aload_3
       6: invokeinterface #82,  4           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.cancelWaitForLastAddConfirmedUpdate:(JLorg/apache/bookkeeper/common/util/Watcher;)V
      11: return

  public long addEntry(io.netty.buffer.ByteBuf) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_1
       2: invokevirtual #83                 // Method io/netty/buffer/ByteBuf.readerIndex:()I
       5: iconst_0
       6: iadd
       7: invokevirtual #84                 // Method io/netty/buffer/ByteBuf.getLong:(I)J
      10: lstore_2
      11: aload_1
      12: aload_1
      13: invokevirtual #83                 // Method io/netty/buffer/ByteBuf.readerIndex:()I
      16: bipush        8
      18: iadd
      19: invokevirtual #84                 // Method io/netty/buffer/ByteBuf.getLong:(I)J
      22: lstore        4
      24: aload_1
      25: aload_1
      26: invokevirtual #83                 // Method io/netty/buffer/ByteBuf.readerIndex:()I
      29: bipush        16
      31: iadd
      32: invokevirtual #84                 // Method io/netty/buffer/ByteBuf.getLong:(I)J
      35: lstore        6
      37: aload_0
      38: lload_2
      39: lload         4
      41: aload_1
      42: invokevirtual #85                 // Method processEntry:(JJLio/netty/buffer/ByteBuf;)V
      45: aload_0
      46: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      49: lload_2
      50: lload         6
      52: invokeinterface #79,  5           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.updateLastAddConfirmed:(JJ)J
      57: pop2
      58: lload         4
      60: lreturn

  public io.netty.buffer.ByteBuf getEntry(long, long) throws java.io.IOException;
    Code:
       0: lload_3
       1: ldc2_w        #71                 // long -1l
       4: lcmp
       5: ifne          19
       8: aload_0
       9: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      12: lload_1
      13: invokeinterface #86,  3           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.getLastEntry:(J)J
      18: lstore_3
      19: invokestatic  #87                 // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
      22: lstore        7
      24: iconst_0
      25: istore        9
      27: aload_0
      28: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      31: lload_1
      32: lload_3
      33: invokeinterface #88,  5           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.getEntryOffset:(JJ)J
      38: lstore        5
      40: lload         5
      42: lconst_0
      43: lcmp
      44: ifne          57
      47: new           #89                 // class org/apache/bookkeeper/bookie/Bookie$NoEntryException
      50: dup
      51: lload_1
      52: lload_3
      53: invokespecial #90                 // Method org/apache/bookkeeper/bookie/Bookie$NoEntryException."<init>":(JJ)V
      56: athrow
      57: iconst_1
      58: istore        9
      60: iload         9
      62: ifeq          85
      65: aload_0
      66: getfield      #37                 // Field getOffsetStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      69: lload         7
      71: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
      74: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      77: invokeinterface #93,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
      82: goto          152
      85: aload_0
      86: getfield      #37                 // Field getOffsetStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      89: lload         7
      91: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
      94: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      97: invokeinterface #94,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     102: goto          152
     105: astore        10
     107: iload         9
     109: ifeq          132
     112: aload_0
     113: getfield      #37                 // Field getOffsetStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     116: lload         7
     118: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     121: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     124: invokeinterface #93,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
     129: goto          149
     132: aload_0
     133: getfield      #37                 // Field getOffsetStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     136: lload         7
     138: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     141: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     144: invokeinterface #94,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     149: aload         10
     151: athrow
     152: invokestatic  #87                 // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
     155: lstore        7
     157: iconst_0
     158: istore        9
     160: aload_0
     161: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
     164: lload_1
     165: lload_3
     166: lload         5
     168: invokevirtual #95                 // Method org/apache/bookkeeper/bookie/EntryLogger.readEntry:(JJJ)Lio/netty/buffer/ByteBuf;
     171: astore        10
     173: iconst_1
     174: istore        9
     176: aload         10
     178: astore        11
     180: iload         9
     182: ifeq          205
     185: aload_0
     186: getfield      #39                 // Field getEntryStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     189: lload         7
     191: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     194: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     197: invokeinterface #93,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
     202: goto          222
     205: aload_0
     206: getfield      #39                 // Field getEntryStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     209: lload         7
     211: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     214: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     217: invokeinterface #94,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     222: aload         11
     224: areturn
     225: astore        12
     227: iload         9
     229: ifeq          252
     232: aload_0
     233: getfield      #39                 // Field getEntryStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     236: lload         7
     238: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     241: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     244: invokeinterface #93,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
     249: goto          269
     252: aload_0
     253: getfield      #39                 // Field getEntryStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     256: lload         7
     258: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     261: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     264: invokeinterface #94,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     269: aload         12
     271: athrow
    Exception table:
       from    to  target type
          27    60   105   any
         105   107   105   any
         160   180   225   any
         225   227   225   any

  private void flushOrCheckpoint(boolean) throws java.io.IOException;
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       6: iconst_1
       7: invokeinterface #96,  2           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.flushLedger:(Z)V
      12: goto          32
      15: astore_3
      16: aload_3
      17: athrow
      18: astore_3
      19: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      22: ldc           #98                 // String Exception flushing Ledger cache
      24: aload_3
      25: invokeinterface #60,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      30: iconst_1
      31: istore_2
      32: iload_1
      33: ifeq          46
      36: aload_0
      37: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      40: invokevirtual #99                 // Method org/apache/bookkeeper/bookie/EntryLogger.checkpoint:()V
      43: goto          53
      46: aload_0
      47: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      50: invokevirtual #100                // Method org/apache/bookkeeper/bookie/EntryLogger.flush:()V
      53: goto          73
      56: astore_3
      57: aload_3
      58: athrow
      59: astore_3
      60: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      63: ldc           #101                // String Exception flushing Ledger
      65: aload_3
      66: invokeinterface #60,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      71: iconst_1
      72: istore_2
      73: iload_2
      74: ifeq          87
      77: new           #58                 // class java/io/IOException
      80: dup
      81: ldc           #102                // String Flushing to storage failed, check logs
      83: invokespecial #103                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      86: athrow
      87: return
    Exception table:
       from    to  target type
           2    12    15   Class org/apache/bookkeeper/bookie/LedgerDirsManager$NoWritableLedgerDirException
           2    12    18   Class java/io/IOException
          32    53    56   Class org/apache/bookkeeper/bookie/LedgerDirsManager$NoWritableLedgerDirException
          32    53    59   Class java/io/IOException

  public void checkpoint(org.apache.bookkeeper.bookie.CheckpointSource$Checkpoint) throws java.io.IOException;
    Code:
       0: aload_0
       1: iconst_1
       2: invokespecial #104                // Method flushOrCheckpoint:(Z)V
       5: return

  public synchronized void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field somethingWritten:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: iconst_0
       6: invokevirtual #105                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifne          13
      12: return
      13: aload_0
      14: iconst_0
      15: invokespecial #104                // Method flushOrCheckpoint:(Z)V
      18: return

  public void deleteLedger(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field activeLedgers:Lorg/apache/bookkeeper/util/SnapshotMap;
       4: lload_1
       5: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokevirtual #106                // Method org/apache/bookkeeper/util/SnapshotMap.remove:(Ljava/lang/Object;)V
      11: aload_0
      12: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      15: lload_1
      16: invokeinterface #107,  3          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.deleteLedger:(J)V
      21: aload_0
      22: getfield      #4                  // Field ledgerDeletionListeners:Ljava/util/concurrent/CopyOnWriteArrayList;
      25: invokevirtual #108                // Method java/util/concurrent/CopyOnWriteArrayList.iterator:()Ljava/util/Iterator;
      28: astore_3
      29: aload_3
      30: invokeinterface #109,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      35: ifeq          60
      38: aload_3
      39: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      44: checkcast     #111                // class org/apache/bookkeeper/bookie/LedgerStorage$LedgerDeletionListener
      47: astore        4
      49: aload         4
      51: lload_1
      52: invokeinterface #112,  3          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerStorage$LedgerDeletionListener.ledgerDeleted:(J)V
      57: goto          29
      60: return

  public java.lang.Iterable<java.lang.Long> getActiveLedgersInRange(long, long);
    Code:
       0: aload_0
       1: getfield      #10                 // Field activeLedgers:Lorg/apache/bookkeeper/util/SnapshotMap;
       4: invokevirtual #113                // Method org/apache/bookkeeper/util/SnapshotMap.snapshot:()Ljava/util/NavigableMap;
       7: astore        5
       9: aload         5
      11: lload_1
      12: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      15: iconst_1
      16: lload_3
      17: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      20: iconst_0
      21: invokeinterface #114,  5          // InterfaceMethod java/util/NavigableMap.subMap:(Ljava/lang/Object;ZLjava/lang/Object;Z)Ljava/util/NavigableMap;
      26: astore        6
      28: aload         6
      30: invokeinterface #115,  1          // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      35: areturn

  public void updateEntriesLocations(java.lang.Iterable<org.apache.bookkeeper.bookie.EntryLocation>) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokeinterface #116,  1          // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: aload_2
       8: invokeinterface #109,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          90
      16: aload_2
      17: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #117                // class org/apache/bookkeeper/bookie/EntryLocation
      25: astore_3
      26: aload_0
      27: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      30: aload_3
      31: getfield      #118                // Field org/apache/bookkeeper/bookie/EntryLocation.ledger:J
      34: aload_3
      35: getfield      #119                // Field org/apache/bookkeeper/bookie/EntryLocation.entry:J
      38: aload_3
      39: getfield      #120                // Field org/apache/bookkeeper/bookie/EntryLocation.location:J
      42: invokeinterface #121,  7          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.putEntryOffset:(JJJ)V
      47: goto          87
      50: astore        4
      52: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      55: invokeinterface #123,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      60: ifeq          87
      63: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      66: ldc           #124                // String Compaction failed for deleted ledger ledger: {} entry: {}
      68: aload_3
      69: getfield      #118                // Field org/apache/bookkeeper/bookie/EntryLocation.ledger:J
      72: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      75: aload_3
      76: getfield      #119                // Field org/apache/bookkeeper/bookie/EntryLocation.entry:J
      79: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      82: invokeinterface #125,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      87: goto          7
      90: return
    Exception table:
       from    to  target type
          26    47    50   Class org/apache/bookkeeper/bookie/Bookie$NoLedgerException

  public void flushEntriesLocationsIndex() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: iconst_1
       5: invokeinterface #96,  2           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.flushLedger:(Z)V
      10: return

  public org.apache.bookkeeper.bookie.EntryLogger getEntryLogger();
    Code:
       0: aload_0
       1: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
       4: areturn

  public void registerLedgerDeletionListener(org.apache.bookkeeper.bookie.LedgerStorage$LedgerDeletionListener);
    Code:
       0: aload_0
       1: getfield      #4                  // Field ledgerDeletionListeners:Ljava/util/concurrent/CopyOnWriteArrayList;
       4: aload_1
       5: invokevirtual #126                // Method java/util/concurrent/CopyOnWriteArrayList.add:(Ljava/lang/Object;)Z
       8: pop
       9: return

  protected void processEntry(long, long, io.netty.buffer.ByteBuf) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: lload_3
       3: aload         5
       5: iconst_1
       6: invokevirtual #127                // Method processEntry:(JJLio/netty/buffer/ByteBuf;Z)V
       9: return

  protected void processEntry(long, long, io.netty.buffer.ByteBuf, boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field somethingWritten:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: invokevirtual #128                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
       8: aload_0
       9: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      12: lload_1
      13: aload         5
      15: iload         6
      17: invokevirtual #129                // Method org/apache/bookkeeper/bookie/EntryLogger.addEntry:(JLio/netty/buffer/ByteBuf;Z)J
      20: lstore        7
      22: aload_0
      23: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      26: lload_1
      27: lload_3
      28: lload         7
      30: invokeinterface #121,  7          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.putEntryOffset:(JJJ)V
      35: return

  public void onRotateEntryLog();
    Code:
       0: aload_0
       1: getfield      #22                 // Field checkpointSource:Lorg/apache/bookkeeper/bookie/CheckpointSource;
       4: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/bookie/CheckpointSource.newCheckpoint:()Lorg/apache/bookkeeper/bookie/CheckpointSource$Checkpoint;
       9: astore_1
      10: aload_0
      11: getfield      #23                 // Field checkpointer:Lorg/apache/bookkeeper/bookie/Checkpointer;
      14: aload_1
      15: invokeinterface #131,  2          // InterfaceMethod org/apache/bookkeeper/bookie/Checkpointer.startCheckpoint:(Lorg/apache/bookkeeper/bookie/CheckpointSource$Checkpoint;)V
      20: return

  public org.apache.bookkeeper.bookie.LedgerCache$PageEntriesIterable getIndexEntries(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #132,  3          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.listEntries:(J)Lorg/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable;
      10: areturn

  public org.apache.bookkeeper.bookie.LedgerCache$LedgerIndexMetadata readLedgerIndexMetadata(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #133,  3          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.readLedgerIndexMetadata:(J)Lorg/apache/bookkeeper/bookie/LedgerCache$LedgerIndexMetadata;
      10: areturn

  public java.util.List<org.apache.bookkeeper.bookie.LedgerStorage$DetectedInconsistency> localConsistencyCheck(java.util.Optional<com.google.common.util.concurrent.RateLimiter>) throws java.io.IOException;
    Code:
       0: invokestatic  #87                 // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
       3: lstore_2
       4: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #134                // String Starting localConsistencyCheck
       9: invokeinterface #52,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      14: lconst_0
      15: lstore        4
      17: lconst_0
      18: lstore        6
      20: new           #135                // class org/apache/commons/lang3/mutable/MutableLong
      23: dup
      24: lconst_0
      25: invokespecial #136                // Method org/apache/commons/lang3/mutable/MutableLong."<init>":(J)V
      28: astore        8
      30: new           #135                // class org/apache/commons/lang3/mutable/MutableLong
      33: dup
      34: lconst_0
      35: invokespecial #136                // Method org/apache/commons/lang3/mutable/MutableLong."<init>":(J)V
      38: astore        9
      40: aload_0
      41: getfield      #10                 // Field activeLedgers:Lorg/apache/bookkeeper/util/SnapshotMap;
      44: invokevirtual #113                // Method org/apache/bookkeeper/util/SnapshotMap.snapshot:()Ljava/util/NavigableMap;
      47: astore        10
      49: new           #137                // class java/util/ArrayList
      52: dup
      53: invokespecial #138                // Method java/util/ArrayList."<init>":()V
      56: astore        11
      58: aload         10
      60: invokeinterface #139,  1          // InterfaceMethod java/util/NavigableMap.keySet:()Ljava/util/Set;
      65: invokeinterface #140,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      70: astore        12
      72: aload         12
      74: invokeinterface #109,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      79: ifeq          519
      82: aload         12
      84: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      89: checkcast     #74                 // class java/lang/Long
      92: astore        13
      94: aload_0
      95: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
      98: aload         13
     100: invokevirtual #78                 // Method java/lang/Long.longValue:()J
     103: invokeinterface #132,  3          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.listEntries:(J)Lorg/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable;
     108: astore        14
     110: aconst_null
     111: astore        15
     113: aload         14
     115: invokeinterface #141,  1          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable.iterator:()Ljava/util/Iterator;
     120: astore        16
     122: aload         16
     124: invokeinterface #109,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     129: ifeq          327
     132: aload         16
     134: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     139: checkcast     #142                // class org/apache/bookkeeper/bookie/LedgerCache$PageEntries
     142: astore        17
     144: aload         17
     146: invokeinterface #143,  1          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache$PageEntries.getLEP:()Lorg/apache/bookkeeper/bookie/LedgerEntryPage;
     151: astore        18
     153: new           #144                // class org/apache/commons/lang3/mutable/MutableBoolean
     156: dup
     157: iconst_0
     158: invokespecial #145                // Method org/apache/commons/lang3/mutable/MutableBoolean."<init>":(Z)V
     161: astore        19
     163: aload         19
     165: iconst_0
     166: invokevirtual #146                // Method org/apache/commons/lang3/mutable/MutableBoolean.setValue:(Z)V
     169: aload         18
     171: invokevirtual #147                // Method org/apache/bookkeeper/bookie/LedgerEntryPage.getVersion:()I
     174: istore        20
     176: new           #144                // class org/apache/commons/lang3/mutable/MutableBoolean
     179: dup
     180: iconst_1
     181: invokespecial #145                // Method org/apache/commons/lang3/mutable/MutableBoolean."<init>":(Z)V
     184: astore        21
     186: invokestatic  #87                 // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
     189: lstore        22
     191: aload         18
     193: aload_0
     194: aload_1
     195: aload         13
     197: aload         8
     199: iload         20
     201: aload         18
     203: aload         9
     205: aload         19
     207: aload         11
     209: aload         21
     211: invokedynamic #148,  0            // InvokeDynamic #0:visit:(Lorg/apache/bookkeeper/bookie/InterleavedLedgerStorage;Ljava/util/Optional;Ljava/lang/Long;Lorg/apache/commons/lang3/mutable/MutableLong;ILorg/apache/bookkeeper/bookie/LedgerEntryPage;Lorg/apache/commons/lang3/mutable/MutableLong;Lorg/apache/commons/lang3/mutable/MutableBoolean;Ljava/util/List;Lorg/apache/commons/lang3/mutable/MutableBoolean;)Lorg/apache/bookkeeper/bookie/LedgerEntryPage$EntryVisitor;
     216: invokevirtual #149                // Method org/apache/bookkeeper/bookie/LedgerEntryPage.getEntries:(Lorg/apache/bookkeeper/bookie/LedgerEntryPage$EntryVisitor;)V
     219: aload         21
     221: invokevirtual #150                // Method org/apache/commons/lang3/mutable/MutableBoolean.booleanValue:()Z
     224: ifeq          247
     227: aload_0
     228: getfield      #41                 // Field pageScanStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     231: lload         22
     233: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     236: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     239: invokeinterface #93,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
     244: goto          264
     247: aload_0
     248: getfield      #41                 // Field pageScanStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     251: lload         22
     253: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     256: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     259: invokeinterface #94,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     264: aload         19
     266: invokevirtual #150                // Method org/apache/commons/lang3/mutable/MutableBoolean.booleanValue:()Z
     269: ifne          163
     272: lload         6
     274: lconst_1
     275: ladd
     276: lstore        6
     278: aload         18
     280: invokestatic  #151                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     283: iconst_0
     284: invokeinterface #152,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     289: ifnull        324
     292: aload         18
     294: invokevirtual #153                // Method org/apache/bookkeeper/bookie/LedgerEntryPage.close:()V
     297: goto          324
     300: astore        24
     302: aload         18
     304: invokestatic  #151                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     307: iconst_0
     308: invokeinterface #152,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     313: ifnull        321
     316: aload         18
     318: invokevirtual #153                // Method org/apache/bookkeeper/bookie/LedgerEntryPage.close:()V
     321: aload         24
     323: athrow
     324: goto          122
     327: aload         14
     329: ifnull        422
     332: aload         15
     334: ifnull        359
     337: aload         14
     339: invokeinterface #154,  1          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable.close:()V
     344: goto          422
     347: astore        16
     349: aload         15
     351: aload         16
     353: invokevirtual #156                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     356: goto          422
     359: aload         14
     361: invokeinterface #154,  1          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable.close:()V
     366: goto          422
     369: astore        16
     371: aload         16
     373: astore        15
     375: aload         16
     377: athrow
     378: astore        25
     380: aload         14
     382: ifnull        419
     385: aload         15
     387: ifnull        412
     390: aload         14
     392: invokeinterface #154,  1          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable.close:()V
     397: goto          419
     400: astore        26
     402: aload         15
     404: aload         26
     406: invokevirtual #156                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     409: goto          419
     412: aload         14
     414: invokeinterface #154,  1          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable.close:()V
     419: aload         25
     421: athrow
     422: goto          510
     425: astore        14
     427: aload_0
     428: getfield      #10                 // Field activeLedgers:Lorg/apache/bookkeeper/util/SnapshotMap;
     431: aload         13
     433: invokevirtual #158                // Method org/apache/bookkeeper/util/SnapshotMap.containsKey:(Ljava/lang/Object;)Z
     436: ifeq          481
     439: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
     442: ldc           #159                // String Cannot find ledger {}, should exist, exception is
     444: aload         13
     446: aload         14
     448: invokeinterface #160,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     453: aload         11
     455: new           #161                // class org/apache/bookkeeper/bookie/LedgerStorage$DetectedInconsistency
     458: dup
     459: aload         13
     461: invokevirtual #78                 // Method java/lang/Long.longValue:()J
     464: ldc2_w        #71                 // long -1l
     467: aload         14
     469: invokespecial #162                // Method org/apache/bookkeeper/bookie/LedgerStorage$DetectedInconsistency."<init>":(JJLjava/lang/Exception;)V
     472: invokeinterface #163,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     477: pop
     478: goto          493
     481: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
     484: ldc           #164                // String ledger {} deleted since snapshot taken
     486: aload         13
     488: invokeinterface #165,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     493: goto          510
     496: astore        14
     498: new           #58                 // class java/io/IOException
     501: dup
     502: ldc           #167                // String Got other exception in localConsistencyCheck
     504: aload         14
     506: invokespecial #168                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     509: athrow
     510: lload         4
     512: lconst_1
     513: ladd
     514: lstore        4
     516: goto          72
     519: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
     522: ldc           #169                // String Finished localConsistencyCheck, took {}s to scan {} ledgers, {} pages, {} entries with {} retries, {} errors
     524: bipush        6
     526: anewarray     #170                // class java/lang/Object
     529: dup
     530: iconst_0
     531: getstatic     #92                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     534: lload_2
     535: invokestatic  #91                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     538: invokevirtual #171                // Method java/util/concurrent/TimeUnit.toSeconds:(J)J
     541: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     544: aastore
     545: dup
     546: iconst_1
     547: lload         4
     549: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     552: aastore
     553: dup
     554: iconst_2
     555: lload         6
     557: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     560: aastore
     561: dup
     562: iconst_3
     563: aload         8
     565: invokevirtual #172                // Method org/apache/commons/lang3/mutable/MutableLong.longValue:()J
     568: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     571: aastore
     572: dup
     573: iconst_4
     574: aload         9
     576: invokevirtual #172                // Method org/apache/commons/lang3/mutable/MutableLong.longValue:()J
     579: invokestatic  #77                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     582: aastore
     583: dup
     584: iconst_5
     585: aload         11
     587: invokeinterface #173,  1          // InterfaceMethod java/util/List.size:()I
     592: invokestatic  #174                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     595: aastore
     596: invokeinterface #175,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     601: aload         11
     603: areturn
    Exception table:
       from    to  target type
         153   278   300   any
         300   302   300   any
         337   344   347   Class java/lang/Throwable
         113   327   369   Class java/lang/Throwable
         113   327   378   any
         390   397   400   Class java/lang/Throwable
         369   380   378   any
          94   422   425   Class org/apache/bookkeeper/bookie/Bookie$NoLedgerException
          94   422   425   Class org/apache/bookkeeper/bookie/FileInfo$FileInfoDeletedException
          94   422   496   Class java/lang/Exception

  public java.util.List<org.apache.bookkeeper.bookie.GarbageCollectionStatus> getGarbageCollectionStatus();
    Code:
       0: aload_0
       1: getfield      #30                 // Field gcThread:Lorg/apache/bookkeeper/bookie/GarbageCollectorThread;
       4: invokevirtual #176                // Method org/apache/bookkeeper/bookie/GarbageCollectorThread.getGarbageCollectionStatus:()Lorg/apache/bookkeeper/bookie/GarbageCollectionStatus;
       7: invokestatic  #151                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
      10: areturn

  public java.util.PrimitiveIterator$OfLong getListOfEntriesOfLedger(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: lload_1
       5: invokeinterface #177,  3          // InterfaceMethod org/apache/bookkeeper/bookie/LedgerCache.getEntriesIterator:(J)Ljava/util/PrimitiveIterator$OfLong;
      10: areturn

  public org.apache.bookkeeper.bookie.LedgerCache getLedgerCache();
    Code:
       0: aload_0
       1: getfield      #26                 // Field ledgerCache:Lorg/apache/bookkeeper/bookie/LedgerCache;
       4: areturn

  private boolean lambda$localConsistencyCheck$0(java.util.Optional, java.lang.Long, org.apache.commons.lang3.mutable.MutableLong, int, org.apache.bookkeeper.bookie.LedgerEntryPage, org.apache.commons.lang3.mutable.MutableLong, org.apache.commons.lang3.mutable.MutableBoolean, java.util.List, org.apache.commons.lang3.mutable.MutableBoolean, long, long) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokedynamic #178,  0            // InvokeDynamic #1:accept:()Ljava/util/function/Consumer;
       6: invokevirtual #179                // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
       9: aload_0
      10: getfield      #20                 // Field entryLogger:Lorg/apache/bookkeeper/bookie/EntryLogger;
      13: aload_2
      14: invokevirtual #78                 // Method java/lang/Long.longValue:()J
      17: lload         10
      19: lload         12
      21: invokevirtual #180                // Method org/apache/bookkeeper/bookie/EntryLogger.checkEntry:(JJJ)V
      24: aload_3
      25: invokevirtual #181                // Method org/apache/commons/lang3/mutable/MutableLong.increment:()V
      28: goto          138
      31: astore        14
      33: iload         4
      35: aload         5
      37: invokevirtual #147                // Method org/apache/bookkeeper/bookie/LedgerEntryPage.getVersion:()I
      40: if_icmpeq     97
      43: aload         6
      45: invokevirtual #181                // Method org/apache/commons/lang3/mutable/MutableLong.increment:()V
      48: aload         5
      50: invokevirtual #183                // Method org/apache/bookkeeper/bookie/LedgerEntryPage.isDeleted:()Z
      53: ifeq          70
      56: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      59: ldc           #184                // String localConsistencyCheck: ledger {} deleted
      61: aload_2
      62: invokeinterface #165,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      67: goto          95
      70: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
      73: ldc           #185                // String localConsistencyCheck: concurrent modification, retrying
      75: invokeinterface #186,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      80: aload         7
      82: iconst_1
      83: invokevirtual #146                // Method org/apache/commons/lang3/mutable/MutableBoolean.setValue:(Z)V
      86: aload_0
      87: getfield      #44                 // Field retryCounter:Lorg/apache/bookkeeper/stats/Counter;
      90: invokeinterface #187,  1          // InterfaceMethod org/apache/bookkeeper/stats/Counter.inc:()V
      95: iconst_0
      96: ireturn
      97: aload         8
      99: new           #161                // class org/apache/bookkeeper/bookie/LedgerStorage$DetectedInconsistency
     102: dup
     103: aload_2
     104: invokevirtual #78                 // Method java/lang/Long.longValue:()J
     107: lload         10
     109: aload         14
     111: invokespecial #162                // Method org/apache/bookkeeper/bookie/LedgerStorage$DetectedInconsistency."<init>":(JJLjava/lang/Exception;)V
     114: invokeinterface #163,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     119: pop
     120: getstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
     123: ldc           #188                // String Got error:
     125: aload         14
     127: invokeinterface #60,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     132: aload         9
     134: iconst_0
     135: invokevirtual #146                // Method org/apache/commons/lang3/mutable/MutableBoolean.setValue:(Z)V
     138: iconst_1
     139: ireturn
    Exception table:
       from    to  target type
           9    28    31   Class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException

  static {};
    Code:
       0: ldc           #189                // class org/apache/bookkeeper/bookie/InterleavedLedgerStorage
       2: invokestatic  #190                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #50                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
