Compiled from "BookieProtoEncoding.java"
public class org.apache.bookkeeper.proto.BookieProtoEncoding$ResponseDecoder extends io.netty.channel.ChannelInboundHandlerAdapter {
  final org.apache.bookkeeper.proto.BookieProtoEncoding$EnDecoder repPreV3;

  final org.apache.bookkeeper.proto.BookieProtoEncoding$EnDecoder repV3;

  final boolean useV2Protocol;

  final boolean tlsEnabled;

  boolean usingV3Protocol;

  org.apache.bookkeeper.proto.BookieProtoEncoding$ResponseDecoder(com.google.protobuf.ExtensionRegistry, boolean, boolean);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method io/netty/channel/ChannelInboundHandlerAdapter."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/bookkeeper/proto/BookieProtoEncoding$ResponseEnDeCoderPreV3
       8: dup
       9: aload_1
      10: invokespecial #3                  // Method org/apache/bookkeeper/proto/BookieProtoEncoding$ResponseEnDeCoderPreV3."<init>":(Lcom/google/protobuf/ExtensionRegistry;)V
      13: putfield      #4                  // Field repPreV3:Lorg/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder;
      16: aload_0
      17: new           #5                  // class org/apache/bookkeeper/proto/BookieProtoEncoding$ResponseEnDecoderV3
      20: dup
      21: aload_1
      22: invokespecial #6                  // Method org/apache/bookkeeper/proto/BookieProtoEncoding$ResponseEnDecoderV3."<init>":(Lcom/google/protobuf/ExtensionRegistry;)V
      25: putfield      #7                  // Field repV3:Lorg/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder;
      28: aload_0
      29: iload_2
      30: putfield      #8                  // Field useV2Protocol:Z
      33: aload_0
      34: iload_3
      35: putfield      #9                  // Field tlsEnabled:Z
      38: aload_0
      39: iconst_1
      40: putfield      #10                 // Field usingV3Protocol:Z
      43: return

  public void channelRead(io.netty.channel.ChannelHandlerContext, java.lang.Object) throws java.lang.Exception;
    Code:
       0: invokestatic  #11                 // Method org/apache/bookkeeper/proto/BookieProtoEncoding.access$000:()Lorg/slf4j/Logger;
       3: invokeinterface #12,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
       8: ifeq          28
      11: invokestatic  #11                 // Method org/apache/bookkeeper/proto/BookieProtoEncoding.access$000:()Lorg/slf4j/Logger;
      14: ldc           #13                 // String Received response {} from channel {} to decode.
      16: aload_2
      17: aload_1
      18: invokeinterface #14,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.channel:()Lio/netty/channel/Channel;
      23: invokeinterface #15,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      28: aload_2
      29: instanceof    #16                 // class io/netty/buffer/ByteBuf
      32: ifne          66
      35: invokestatic  #11                 // Method org/apache/bookkeeper/proto/BookieProtoEncoding.access$000:()Lorg/slf4j/Logger;
      38: ldc           #17                 // String Received invalid response {} from channel {} to decode.
      40: aload_2
      41: aload_1
      42: invokeinterface #14,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.channel:()Lio/netty/channel/Channel;
      47: invokeinterface #18,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      52: aload_1
      53: aload_2
      54: invokeinterface #19,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.fireChannelRead:(Ljava/lang/Object;)Lio/netty/channel/ChannelHandlerContext;
      59: pop
      60: aload_2
      61: invokestatic  #20                 // Method io/netty/util/ReferenceCountUtil.release:(Ljava/lang/Object;)Z
      64: pop
      65: return
      66: aload_2
      67: checkcast     #16                 // class io/netty/buffer/ByteBuf
      70: astore_3
      71: aload_3
      72: invokevirtual #21                 // Method io/netty/buffer/ByteBuf.markReaderIndex:()Lio/netty/buffer/ByteBuf;
      75: pop
      76: aload_0
      77: getfield      #8                  // Field useV2Protocol:Z
      80: ifne          98
      83: aload_0
      84: getfield      #7                  // Field repV3:Lorg/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder;
      87: aload_3
      88: invokeinterface #22,  2           // InterfaceMethod org/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder.decode:(Lio/netty/buffer/ByteBuf;)Ljava/lang/Object;
      93: astore        4
      95: goto          217
      98: aload_0
      99: getfield      #9                  // Field tlsEnabled:Z
     102: ifeq          205
     105: aload_0
     106: getfield      #10                 // Field usingV3Protocol:Z
     109: ifeq          205
     112: aload_0
     113: getfield      #7                  // Field repV3:Lorg/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder;
     116: aload_3
     117: invokeinterface #22,  2           // InterfaceMethod org/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder.decode:(Lio/netty/buffer/ByteBuf;)Ljava/lang/Object;
     122: astore        4
     124: aload         4
     126: instanceof    #23                 // class org/apache/bookkeeper/proto/BookkeeperProtocol$Response
     129: ifeq          175
     132: getstatic     #24                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$OperationType.START_TLS:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$OperationType;
     135: aload         4
     137: checkcast     #23                 // class org/apache/bookkeeper/proto/BookkeeperProtocol$Response
     140: invokevirtual #25                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response.getHeader:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$BKPacketHeader;
     143: invokevirtual #26                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$BKPacketHeader.getOperation:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$OperationType;
     146: if_acmpne     175
     149: aload_0
     150: iconst_0
     151: putfield      #10                 // Field usingV3Protocol:Z
     154: invokestatic  #11                 // Method org/apache/bookkeeper/proto/BookieProtoEncoding.access$000:()Lorg/slf4j/Logger;
     157: invokeinterface #27,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     162: ifeq          175
     165: invokestatic  #11                 // Method org/apache/bookkeeper/proto/BookieProtoEncoding.access$000:()Lorg/slf4j/Logger;
     168: ldc           #28                 // String Degrade bookkeeper to v2 after starting TLS.
     170: invokeinterface #29,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     175: goto          217
     178: astore        5
     180: aload_0
     181: iconst_0
     182: putfield      #10                 // Field usingV3Protocol:Z
     185: aload_3
     186: invokevirtual #31                 // Method io/netty/buffer/ByteBuf.resetReaderIndex:()Lio/netty/buffer/ByteBuf;
     189: pop
     190: aload_0
     191: getfield      #4                  // Field repPreV3:Lorg/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder;
     194: aload_3
     195: invokeinterface #22,  2           // InterfaceMethod org/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder.decode:(Lio/netty/buffer/ByteBuf;)Ljava/lang/Object;
     200: astore        4
     202: goto          217
     205: aload_0
     206: getfield      #4                  // Field repPreV3:Lorg/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder;
     209: aload_3
     210: invokeinterface #22,  2           // InterfaceMethod org/apache/bookkeeper/proto/BookieProtoEncoding$EnDecoder.decode:(Lio/netty/buffer/ByteBuf;)Ljava/lang/Object;
     215: astore        4
     217: aload_1
     218: aload         4
     220: invokeinterface #19,  2           // InterfaceMethod io/netty/channel/ChannelHandlerContext.fireChannelRead:(Ljava/lang/Object;)Lio/netty/channel/ChannelHandlerContext;
     225: pop
     226: aload_2
     227: invokestatic  #20                 // Method io/netty/util/ReferenceCountUtil.release:(Ljava/lang/Object;)Z
     230: pop
     231: goto          244
     234: astore        6
     236: aload_2
     237: invokestatic  #20                 // Method io/netty/util/ReferenceCountUtil.release:(Ljava/lang/Object;)Z
     240: pop
     241: aload         6
     243: athrow
     244: return
    Exception table:
       from    to  target type
         112   175   178   Class com/google/protobuf/InvalidProtocolBufferException
          28    60   234   any
          66   226   234   any
         234   236   234   any
}
