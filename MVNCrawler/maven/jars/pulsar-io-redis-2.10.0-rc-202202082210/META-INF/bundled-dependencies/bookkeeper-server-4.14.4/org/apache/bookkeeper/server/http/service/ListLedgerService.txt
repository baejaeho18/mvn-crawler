Compiled from "ListLedgerService.java"
public class org.apache.bookkeeper.server.http.service.ListLedgerService implements org.apache.bookkeeper.http.service.HttpEndpointService {
  static final org.slf4j.Logger LOG;

  protected org.apache.bookkeeper.conf.ServerConfiguration conf;

  protected org.apache.bookkeeper.proto.BookieServer bookieServer;

  private final org.apache.bookkeeper.meta.LedgerMetadataSerDe serDe;

  static final int LIST_LEDGER_BATCH_SIZE;

  public org.apache.bookkeeper.server.http.service.ListLedgerService(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.proto.BookieServer);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_1
       5: invokestatic  #2                  // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       8: pop
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field bookieServer:Lorg/apache/bookkeeper/proto/BookieServer;
      19: aload_0
      20: new           #5                  // class org/apache/bookkeeper/meta/LedgerMetadataSerDe
      23: dup
      24: invokespecial #6                  // Method org/apache/bookkeeper/meta/LedgerMetadataSerDe."<init>":()V
      27: putfield      #7                  // Field serDe:Lorg/apache/bookkeeper/meta/LedgerMetadataSerDe;
      30: return

  private void keepLedgerMetadata(long, java.util.concurrent.CompletableFuture<org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata>>, java.util.LinkedHashMap<java.lang.String, java.lang.Object>, boolean) throws java.lang.Exception;
    Code:
       0: aload_3
       1: invokevirtual #8                  // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
       4: checkcast     #9                  // class org/apache/bookkeeper/versioning/Versioned
       7: invokevirtual #10                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      10: checkcast     #11                 // class org/apache/bookkeeper/client/api/LedgerMetadata
      13: astore        6
      15: iload         5
      17: ifeq          38
      20: aload         4
      22: lload_1
      23: invokestatic  #12                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      26: invokevirtual #13                 // Method java/lang/Long.toString:()Ljava/lang/String;
      29: aload         6
      31: invokevirtual #14                 // Method java/util/LinkedHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      34: pop
      35: goto          70
      38: aload         4
      40: lload_1
      41: invokestatic  #12                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: invokevirtual #13                 // Method java/lang/Long.toString:()Ljava/lang/String;
      47: new           #15                 // class java/lang/String
      50: dup
      51: aload_0
      52: getfield      #7                  // Field serDe:Lorg/apache/bookkeeper/meta/LedgerMetadataSerDe;
      55: aload         6
      57: invokevirtual #16                 // Method org/apache/bookkeeper/meta/LedgerMetadataSerDe.serialize:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)[B
      60: getstatic     #17                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      63: invokespecial #18                 // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
      66: invokevirtual #14                 // Method java/util/LinkedHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      69: pop
      70: return

  public org.apache.bookkeeper.http.service.HttpServiceResponse handle(org.apache.bookkeeper.http.service.HttpServiceRequest) throws java.lang.Exception;
    Code:
       0: new           #19                 // class org/apache/bookkeeper/http/service/HttpServiceResponse
       3: dup
       4: invokespecial #20                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse."<init>":()V
       7: astore_2
       8: getstatic     #21                 // Field org/apache/bookkeeper/http/HttpServer$Method.GET:Lorg/apache/bookkeeper/http/HttpServer$Method;
      11: aload_1
      12: invokevirtual #22                 // Method org/apache/bookkeeper/http/service/HttpServiceRequest.getMethod:()Lorg/apache/bookkeeper/http/HttpServer$Method;
      15: if_acmpne     618
      18: aload_1
      19: invokevirtual #23                 // Method org/apache/bookkeeper/http/service/HttpServiceRequest.getParams:()Ljava/util/Map;
      22: astore_3
      23: aload_3
      24: ifnull        61
      27: aload_3
      28: ldc           #24                 // String print_metadata
      30: invokeinterface #25,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      35: ifeq          61
      38: aload_3
      39: ldc           #24                 // String print_metadata
      41: invokeinterface #26,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      46: checkcast     #15                 // class java/lang/String
      49: ldc           #27                 // String true
      51: invokevirtual #28                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      54: ifeq          61
      57: iconst_1
      58: goto          62
      61: iconst_0
      62: istore        4
      64: aload_3
      65: ifnull        93
      68: aload_3
      69: ldc           #29                 // String decode_meta
      71: ldc           #30                 // String false
      73: invokeinterface #31,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      78: checkcast     #15                 // class java/lang/String
      81: ldc           #27                 // String true
      83: invokevirtual #28                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      86: ifeq          93
      89: iconst_1
      90: goto          94
      93: iconst_0
      94: istore        5
      96: iload         4
      98: ifeq          129
     101: aload_3
     102: ldc           #32                 // String page
     104: invokeinterface #25,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     109: ifeq          129
     112: aload_3
     113: ldc           #32                 // String page
     115: invokeinterface #26,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     120: checkcast     #15                 // class java/lang/String
     123: invokestatic  #33                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     126: goto          130
     129: iconst_m1
     130: istore        6
     132: aload_0
     133: getfield      #4                  // Field bookieServer:Lorg/apache/bookkeeper/proto/BookieServer;
     136: invokevirtual #34                 // Method org/apache/bookkeeper/proto/BookieServer.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
     139: invokevirtual #35                 // Method org/apache/bookkeeper/bookie/Bookie.getLedgerManagerFactory:()Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
     142: astore        7
     144: aload         7
     146: invokeinterface #36,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManagerFactory.newLedgerManager:()Lorg/apache/bookkeeper/meta/LedgerManager;
     151: astore        8
     153: aload         8
     155: lconst_0
     156: invokeinterface #37,  3           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.getLedgerRanges:(J)Lorg/apache/bookkeeper/meta/LedgerManager$LedgerRangeIterator;
     161: astore        9
     163: invokestatic  #38                 // Method com/google/common/collect/Maps.newLinkedHashMap:()Ljava/util/LinkedHashMap;
     166: astore        10
     168: new           #39                 // class java/util/LinkedHashMap
     171: dup
     172: bipush        100
     174: invokespecial #41                 // Method java/util/LinkedHashMap."<init>":(I)V
     177: astore        11
     179: iload         4
     181: ifeq          488
     184: iconst_0
     185: istore        12
     187: iconst_0
     188: istore        13
     190: iconst_0
     191: istore        14
     193: iload         6
     195: ifle          216
     198: iload         6
     200: iconst_1
     201: isub
     202: bipush        100
     204: imul
     205: istore        13
     207: iload         13
     209: bipush        100
     211: iadd
     212: iconst_1
     213: isub
     214: istore        14
     216: aload         9
     218: invokeinterface #42,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager$LedgerRangeIterator.hasNext:()Z
     223: ifeq          408
     226: aload         9
     228: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager$LedgerRangeIterator.next:()Lorg/apache/bookkeeper/meta/LedgerManager$LedgerRange;
     233: astore        15
     235: aload         15
     237: invokevirtual #44                 // Method org/apache/bookkeeper/meta/LedgerManager$LedgerRange.getLedgers:()Ljava/util/Set;
     240: invokeinterface #45,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     245: astore        16
     247: aload         16
     249: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     254: ifeq          316
     257: aload         16
     259: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     264: checkcast     #48                 // class java/lang/Long
     267: astore        17
     269: iinc          12, 1
     272: iload         14
     274: ifeq          291
     277: iload         12
     279: iload         13
     281: if_icmplt     313
     284: iload         12
     286: iload         14
     288: if_icmpgt     313
     291: aload         11
     293: aload         17
     295: aload         8
     297: aload         17
     299: invokevirtual #49                 // Method java/lang/Long.longValue:()J
     302: invokeinterface #50,  3           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.readLedgerMetadata:(J)Ljava/util/concurrent/CompletableFuture;
     307: invokeinterface #51,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     312: pop
     313: goto          247
     316: aload         11
     318: invokeinterface #52,  1           // InterfaceMethod java/util/Map.size:()I
     323: bipush        100
     325: if_icmplt     405
     328: aload         11
     330: invokeinterface #53,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     335: invokeinterface #45,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     340: astore        16
     342: aload         16
     344: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     349: ifeq          398
     352: aload         16
     354: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     359: checkcast     #54                 // class java/util/Map$Entry
     362: astore        17
     364: aload_0
     365: aload         17
     367: invokeinterface #55,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     372: checkcast     #48                 // class java/lang/Long
     375: invokevirtual #49                 // Method java/lang/Long.longValue:()J
     378: aload         17
     380: invokeinterface #56,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     385: checkcast     #57                 // class java/util/concurrent/CompletableFuture
     388: aload         10
     390: iload         5
     392: invokespecial #58                 // Method keepLedgerMetadata:(JLjava/util/concurrent/CompletableFuture;Ljava/util/LinkedHashMap;Z)V
     395: goto          342
     398: aload         11
     400: invokeinterface #59,  1           // InterfaceMethod java/util/Map.clear:()V
     405: goto          216
     408: aload         11
     410: invokeinterface #53,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     415: invokeinterface #45,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     420: astore        15
     422: aload         15
     424: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     429: ifeq          478
     432: aload         15
     434: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     439: checkcast     #54                 // class java/util/Map$Entry
     442: astore        16
     444: aload_0
     445: aload         16
     447: invokeinterface #55,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     452: checkcast     #48                 // class java/lang/Long
     455: invokevirtual #49                 // Method java/lang/Long.longValue:()J
     458: aload         16
     460: invokeinterface #56,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     465: checkcast     #57                 // class java/util/concurrent/CompletableFuture
     468: aload         10
     470: iload         5
     472: invokespecial #58                 // Method keepLedgerMetadata:(JLjava/util/concurrent/CompletableFuture;Ljava/util/LinkedHashMap;Z)V
     475: goto          422
     478: aload         11
     480: invokeinterface #59,  1           // InterfaceMethod java/util/Map.clear:()V
     485: goto          559
     488: aload         9
     490: invokeinterface #42,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager$LedgerRangeIterator.hasNext:()Z
     495: ifeq          559
     498: aload         9
     500: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager$LedgerRangeIterator.next:()Lorg/apache/bookkeeper/meta/LedgerManager$LedgerRange;
     505: astore        12
     507: aload         12
     509: invokevirtual #44                 // Method org/apache/bookkeeper/meta/LedgerManager$LedgerRange.getLedgers:()Ljava/util/Set;
     512: invokeinterface #45,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     517: astore        13
     519: aload         13
     521: invokeinterface #46,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     526: ifeq          556
     529: aload         13
     531: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     536: checkcast     #48                 // class java/lang/Long
     539: astore        14
     541: aload         10
     543: aload         14
     545: invokevirtual #13                 // Method java/lang/Long.toString:()Ljava/lang/String;
     548: aconst_null
     549: invokevirtual #14                 // Method java/util/LinkedHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     552: pop
     553: goto          519
     556: goto          488
     559: aload         8
     561: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.close:()V
     566: aload         10
     568: invokestatic  #61                 // Method org/apache/bookkeeper/common/util/JsonUtil.toJson:(Ljava/lang/Object;)Ljava/lang/String;
     571: astore        12
     573: getstatic     #62                 // Field LOG:Lorg/slf4j/Logger;
     576: new           #63                 // class java/lang/StringBuilder
     579: dup
     580: invokespecial #64                 // Method java/lang/StringBuilder."<init>":()V
     583: ldc           #65                 // String output body:
     585: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     588: aload         12
     590: invokevirtual #66                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     593: invokevirtual #67                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     596: invokeinterface #68,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     601: aload_2
     602: aload         12
     604: invokevirtual #69                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     607: pop
     608: aload_2
     609: getstatic     #70                 // Field org/apache/bookkeeper/http/HttpServer$StatusCode.OK:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     612: invokevirtual #71                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     615: pop
     616: aload_2
     617: areturn
     618: aload_2
     619: getstatic     #72                 // Field org/apache/bookkeeper/http/HttpServer$StatusCode.NOT_FOUND:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     622: invokevirtual #71                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     625: pop
     626: aload_2
     627: ldc           #73                 // String Not found method. Should be GET method
     629: invokevirtual #69                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     632: pop
     633: aload_2
     634: areturn

  static {};
    Code:
       0: ldc           #40                 // class org/apache/bookkeeper/server/http/service/ListLedgerService
       2: invokestatic  #74                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #62                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
