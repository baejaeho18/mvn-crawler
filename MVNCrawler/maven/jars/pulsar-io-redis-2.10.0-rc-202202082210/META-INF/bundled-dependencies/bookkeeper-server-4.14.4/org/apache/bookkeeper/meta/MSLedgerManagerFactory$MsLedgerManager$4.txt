Compiled from "MSLedgerManagerFactory.java"
class org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager$4 implements org.apache.bookkeeper.metastore.MetastoreCallback<org.apache.bookkeeper.versioning.Version> {
  final long val$ledgerId;

  final java.util.concurrent.CompletableFuture val$promise;

  final org.apache.bookkeeper.client.api.LedgerMetadata val$metadata;

  final java.lang.String val$key;

  final org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager this$0;

  org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager$4(org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager, long, java.util.concurrent.CompletableFuture, org.apache.bookkeeper.client.api.LedgerMetadata, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/bookkeeper/meta/MSLedgerManagerFactory$MsLedgerManager;
       5: aload_0
       6: lload_2
       7: putfield      #2                  // Field val$ledgerId:J
      10: aload_0
      11: aload         4
      13: putfield      #3                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
      16: aload_0
      17: aload         5
      19: putfield      #4                  // Field val$metadata:Lorg/apache/bookkeeper/client/api/LedgerMetadata;
      22: aload_0
      23: aload         6
      25: putfield      #5                  // Field val$key:Ljava/lang/String;
      28: aload_0
      29: invokespecial #6                  // Method java/lang/Object."<init>":()V
      32: return

  public void complete(int, org.apache.bookkeeper.versioning.Version, java.lang.Object);
    Code:
       0: getstatic     #7                  // Field org/apache/bookkeeper/metastore/MSException$Code.BadVersion:Lorg/apache/bookkeeper/metastore/MSException$Code;
       3: invokevirtual #8                  // Method org/apache/bookkeeper/metastore/MSException$Code.getCode:()I
       6: iload_1
       7: if_icmpne     45
      10: invokestatic  #9                  // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory.access$000:()Lorg/slf4j/Logger;
      13: ldc           #10                 // String Bad version provided to updat metadata for ledger {}
      15: aload_0
      16: getfield      #2                  // Field val$ledgerId:J
      19: invokestatic  #11                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      22: invokeinterface #12,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      27: aload_0
      28: getfield      #3                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
      31: new           #13                 // class org/apache/bookkeeper/client/BKException$BKMetadataVersionException
      34: dup
      35: invokespecial #14                 // Method org/apache/bookkeeper/client/BKException$BKMetadataVersionException."<init>":()V
      38: invokevirtual #15                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      41: pop
      42: goto          177
      45: getstatic     #16                 // Field org/apache/bookkeeper/metastore/MSException$Code.NoKey:Lorg/apache/bookkeeper/metastore/MSException$Code;
      48: invokevirtual #8                  // Method org/apache/bookkeeper/metastore/MSException$Code.getCode:()I
      51: iload_1
      52: if_icmpne     90
      55: invokestatic  #9                  // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory.access$000:()Lorg/slf4j/Logger;
      58: ldc           #17                 // String Ledger {} doesn\'t exist when writing its ledger metadata.
      60: aload_0
      61: getfield      #2                  // Field val$ledgerId:J
      64: invokestatic  #11                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      67: invokeinterface #18,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      72: aload_0
      73: getfield      #3                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
      76: new           #19                 // class org/apache/bookkeeper/client/BKException$BKNoSuchLedgerExistsOnMetadataServerException
      79: dup
      80: invokespecial #20                 // Method org/apache/bookkeeper/client/BKException$BKNoSuchLedgerExistsOnMetadataServerException."<init>":()V
      83: invokevirtual #15                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      86: pop
      87: goto          177
      90: getstatic     #21                 // Field org/apache/bookkeeper/metastore/MSException$Code.OK:Lorg/apache/bookkeeper/metastore/MSException$Code;
      93: invokevirtual #8                  // Method org/apache/bookkeeper/metastore/MSException$Code.getCode:()I
      96: iload_1
      97: if_icmpne     123
     100: aload_0
     101: getfield      #3                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
     104: new           #22                 // class org/apache/bookkeeper/versioning/Versioned
     107: dup
     108: aload_0
     109: getfield      #4                  // Field val$metadata:Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     112: aload_2
     113: invokespecial #23                 // Method org/apache/bookkeeper/versioning/Versioned."<init>":(Ljava/lang/Object;Lorg/apache/bookkeeper/versioning/Version;)V
     116: invokevirtual #24                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     119: pop
     120: goto          177
     123: invokestatic  #9                  // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory.access$000:()Lorg/slf4j/Logger;
     126: ldc           #25                 // String Conditional update ledger metadata failed:
     128: iload_1
     129: invokestatic  #26                 // Method org/apache/bookkeeper/metastore/MSException$Code.get:(I)Lorg/apache/bookkeeper/metastore/MSException$Code;
     132: new           #27                 // class java/lang/StringBuilder
     135: dup
     136: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     139: ldc           #29                 // String Failed to put key
     141: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: aload_0
     145: getfield      #5                  // Field val$key:Ljava/lang/String;
     148: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: invokestatic  #32                 // Method org/apache/bookkeeper/metastore/MSException.create:(Lorg/apache/bookkeeper/metastore/MSException$Code;Ljava/lang/String;)Lorg/apache/bookkeeper/metastore/MSException;
     157: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     162: aload_0
     163: getfield      #3                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
     166: new           #34                 // class org/apache/bookkeeper/client/BKException$MetaStoreException
     169: dup
     170: invokespecial #35                 // Method org/apache/bookkeeper/client/BKException$MetaStoreException."<init>":()V
     173: invokevirtual #15                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     176: pop
     177: return

  public void complete(int, java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: checkcast     #36                 // class org/apache/bookkeeper/versioning/Version
       6: aload_3
       7: invokevirtual #37                 // Method complete:(ILorg/apache/bookkeeper/versioning/Version;Ljava/lang/Object;)V
      10: return
}
