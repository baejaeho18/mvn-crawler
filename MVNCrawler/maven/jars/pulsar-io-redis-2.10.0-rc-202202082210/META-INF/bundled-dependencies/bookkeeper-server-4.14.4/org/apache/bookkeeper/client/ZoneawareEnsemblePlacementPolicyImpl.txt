Compiled from "ZoneawareEnsemblePlacementPolicyImpl.java"
public class org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl extends org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy {
  static final org.slf4j.Logger LOG;

  public static final java.lang.String UNKNOWN_ZONE;

  private java.lang.String defaultFaultDomain;

  protected org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation unresolvedNodeLocation;

  private final java.util.Random rand;

  protected org.apache.bookkeeper.stats.StatsLogger statsLogger;

  protected com.google.common.cache.Cache<org.apache.bookkeeper.net.BookieId, java.lang.Long> slowBookies;

  protected org.apache.bookkeeper.net.BookieNode myNode;

  protected java.lang.String myZone;

  protected boolean reorderReadsRandom;

  protected int stabilizePeriodSeconds;

  protected int reorderThresholdPendingRequests;

  protected int maxWeightMultiple;

  protected int minNumZonesPerWriteQuorum;

  protected int desiredNumZonesPerWriteQuorum;

  protected boolean enforceStrictZoneawarePlacement;

  protected io.netty.util.HashedWheelTimer timer;

  protected final java.util.concurrent.ConcurrentMap<org.apache.bookkeeper.net.BookieId, org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation> address2NodePlacement;

  protected org.apache.bookkeeper.stats.Counter failedToResolveNetworkLocationCounter;

  protected org.apache.bookkeeper.stats.Gauge<java.lang.Integer> numWritableBookiesInDefaultFaultDomain;

  org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy."<init>":()V
       4: aload_0
       5: ldc           #5                  // String /default-zone/default-upgradedomain
       7: putfield      #6                  // Field defaultFaultDomain:Ljava/lang/String;
      10: aload_0
      11: new           #7                  // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation
      14: dup
      15: ldc           #8                  // String /default-zone
      17: ldc           #9                  // String /default-upgradedomain
      19: invokespecial #10                 // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      22: putfield      #11                 // Field unresolvedNodeLocation:Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      25: aload_0
      26: aconst_null
      27: putfield      #12                 // Field statsLogger:Lorg/apache/bookkeeper/stats/StatsLogger;
      30: aload_0
      31: aconst_null
      32: putfield      #13                 // Field myNode:Lorg/apache/bookkeeper/net/BookieNode;
      35: aload_0
      36: aconst_null
      37: putfield      #14                 // Field myZone:Ljava/lang/String;
      40: aload_0
      41: iconst_0
      42: putfield      #15                 // Field reorderReadsRandom:Z
      45: aload_0
      46: iconst_0
      47: putfield      #16                 // Field stabilizePeriodSeconds:I
      50: aload_0
      51: iconst_0
      52: putfield      #17                 // Field reorderThresholdPendingRequests:I
      55: aload_0
      56: aconst_null
      57: putfield      #18                 // Field failedToResolveNetworkLocationCounter:Lorg/apache/bookkeeper/stats/Counter;
      60: aload_0
      61: new           #19                 // class java/util/concurrent/ConcurrentHashMap
      64: dup
      65: invokespecial #20                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      68: putfield      #21                 // Field address2NodePlacement:Ljava/util/concurrent/ConcurrentMap;
      71: aload_0
      72: new           #22                 // class java/util/Random
      75: dup
      76: invokestatic  #23                 // Method java/lang/System.currentTimeMillis:()J
      79: invokespecial #24                 // Method java/util/Random."<init>":(J)V
      82: putfield      #25                 // Field rand:Ljava/util/Random;
      85: return

  protected org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation getZoneAwareNodeLocation(org.apache.bookkeeper.net.BookieId);
    Code:
       0: aload_0
       1: getfield      #21                 // Field address2NodePlacement:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokeinterface #26,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #7                  // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation
      13: astore_2
      14: aconst_null
      15: aload_2
      16: if_acmpne     134
      19: aload_0
      20: aload_1
      21: invokevirtual #27                 // Method resolveNetworkLocation:(Lorg/apache/bookkeeper/net/BookieId;)Ljava/lang/String;
      24: astore_3
      25: aload_0
      26: invokevirtual #28                 // Method getDefaultFaultDomain:()Ljava/lang/String;
      29: aload_3
      30: invokevirtual #29                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      33: ifeq          44
      36: aload_0
      37: getfield      #11                 // Field unresolvedNodeLocation:Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      40: astore_2
      41: goto          122
      44: aload_3
      45: invokestatic  #30                 // Method org/apache/bookkeeper/net/NodeBase.normalize:(Ljava/lang/String;)Ljava/lang/String;
      48: bipush        47
      50: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.split:(Ljava/lang/String;C)[Ljava/lang/String;
      53: astore        4
      55: aload         4
      57: arraylength
      58: iconst_2
      59: if_icmpeq     70
      62: aload_0
      63: getfield      #11                 // Field unresolvedNodeLocation:Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      66: astore_2
      67: goto          122
      70: new           #7                  // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation
      73: dup
      74: new           #33                 // class java/lang/StringBuilder
      77: dup
      78: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
      81: ldc           #35                 // String /
      83: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload         4
      88: iconst_0
      89: aaload
      90: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      96: new           #33                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     103: ldc           #35                 // String /
     105: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload         4
     110: iconst_1
     111: aaload
     112: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     118: invokespecial #10                 // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     121: astore_2
     122: aload_0
     123: getfield      #21                 // Field address2NodePlacement:Ljava/util/concurrent/ConcurrentMap;
     126: aload_1
     127: aload_2
     128: invokeinterface #38,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     133: pop
     134: aload_2
     135: areturn

  protected org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation getZoneAwareNodeLocation(org.apache.bookkeeper.net.BookieNode);
    Code:
       0: aconst_null
       1: aload_1
       2: if_acmpeq     13
       5: aconst_null
       6: aload_1
       7: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      10: if_acmpne     18
      13: aload_0
      14: getfield      #11                 // Field unresolvedNodeLocation:Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      17: areturn
      18: aload_0
      19: aload_1
      20: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      23: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      26: areturn

  public org.apache.bookkeeper.client.EnsemblePlacementPolicy initialize(org.apache.bookkeeper.conf.ClientConfiguration, java.util.Optional<org.apache.bookkeeper.net.DNSToSwitchMapping>, io.netty.util.HashedWheelTimer, org.apache.bookkeeper.feature.FeatureProvider, org.apache.bookkeeper.stats.StatsLogger, org.apache.bookkeeper.proto.BookieAddressResolver);
    Code:
       0: aload_0
       1: aload         5
       3: putfield      #12                 // Field statsLogger:Lorg/apache/bookkeeper/stats/StatsLogger;
       6: aload_0
       7: aload         6
       9: putfield      #41                 // Field bookieAddressResolver:Lorg/apache/bookkeeper/proto/BookieAddressResolver;
      12: aload_0
      13: aload_3
      14: putfield      #42                 // Field timer:Lio/netty/util/HashedWheelTimer;
      17: aload_0
      18: aload         5
      20: ldc           #43                 // String BOOKIES_JOINED
      22: invokeinterface #44,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getOpStatsLogger:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/OpStatsLogger;
      27: putfield      #45                 // Field bookiesJoinedCounter:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      30: aload_0
      31: aload         5
      33: ldc           #46                 // String BOOKIES_LEFT
      35: invokeinterface #44,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getOpStatsLogger:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/OpStatsLogger;
      40: putfield      #47                 // Field bookiesLeftCounter:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      43: aload_0
      44: aload         5
      46: ldc           #48                 // String FAILED_TO_RESOLVE_NETWORK_LOCATION_COUNTER
      48: invokeinterface #49,  2           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.getCounter:(Ljava/lang/String;)Lorg/apache/bookkeeper/stats/Counter;
      53: putfield      #18                 // Field failedToResolveNetworkLocationCounter:Lorg/apache/bookkeeper/stats/Counter;
      56: aload_0
      57: new           #50                 // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$1
      60: dup
      61: aload_0
      62: invokespecial #51                 // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$1."<init>":(Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl;)V
      65: putfield      #52                 // Field numWritableBookiesInDefaultFaultDomain:Lorg/apache/bookkeeper/stats/Gauge;
      68: aload_0
      69: getfield      #12                 // Field statsLogger:Lorg/apache/bookkeeper/stats/StatsLogger;
      72: ldc           #53                 // String NUM_WRITABLE_BOOKIES_IN_DEFAULT_FAULTDOMAIN
      74: aload_0
      75: getfield      #52                 // Field numWritableBookiesInDefaultFaultDomain:Lorg/apache/bookkeeper/stats/Gauge;
      78: invokeinterface #54,  3           // InterfaceMethod org/apache/bookkeeper/stats/StatsLogger.registerGauge:(Ljava/lang/String;Lorg/apache/bookkeeper/stats/Gauge;)V
      83: aload_0
      84: aload_1
      85: invokevirtual #55                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getReorderThresholdPendingRequests:()I
      88: putfield      #17                 // Field reorderThresholdPendingRequests:I
      91: aload_0
      92: aload_1
      93: invokevirtual #56                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getDiskWeightBasedPlacementEnabled:()Z
      96: putfield      #57                 // Field isWeighted:Z
      99: aload_0
     100: getfield      #57                 // Field isWeighted:Z
     103: ifeq          149
     106: aload_0
     107: aload_1
     108: invokevirtual #58                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getBookieMaxWeightMultipleForWeightBasedPlacement:()I
     111: putfield      #59                 // Field maxWeightMultiple:I
     114: aload_0
     115: new           #60                 // class org/apache/bookkeeper/client/DynamicWeightedRandomSelectionImpl
     118: dup
     119: aload_0
     120: getfield      #59                 // Field maxWeightMultiple:I
     123: invokespecial #61                 // Method org/apache/bookkeeper/client/DynamicWeightedRandomSelectionImpl."<init>":(I)V
     126: putfield      #62                 // Field weightedSelection:Lorg/apache/bookkeeper/client/WeightedRandomSelection;
     129: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     132: ldc           #64                 // String Weight based placement with max multiple of {}
     134: aload_0
     135: getfield      #59                 // Field maxWeightMultiple:I
     138: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     141: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     146: goto          159
     149: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     152: ldc           #67                 // String Not weighted
     154: invokeinterface #68,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     159: aload_0
     160: aload_1
     161: invokevirtual #69                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getMinNumZonesPerWriteQuorum:()I
     164: putfield      #70                 // Field minNumZonesPerWriteQuorum:I
     167: aload_0
     168: aload_1
     169: invokevirtual #71                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getDesiredNumZonesPerWriteQuorum:()I
     172: putfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
     175: aload_0
     176: aload_1
     177: invokevirtual #73                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getEnforceStrictZoneawarePlacement:()Z
     180: putfield      #74                 // Field enforceStrictZoneawarePlacement:Z
     183: aload_0
     184: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     187: aload_0
     188: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
     191: if_icmple     260
     194: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     197: ldc           #75                 // String It is misconfigured, for ZoneawareEnsemblePlacementPolicy, minNumZonesPerWriteQuorum: {} cann\'t be greater than desiredNumZonesPerWriteQuorum: {}
     199: aload_0
     200: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     203: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     206: aload_0
     207: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
     210: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     213: invokeinterface #76,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     218: new           #77                 // class java/lang/IllegalArgumentException
     221: dup
     222: new           #33                 // class java/lang/StringBuilder
     225: dup
     226: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
     229: ldc           #78                 // String minNumZonesPerWriteQuorum:
     231: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     234: aload_0
     235: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     238: invokevirtual #79                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     241: ldc           #80                 // String  cann\'t be greater than desiredNumZonesPerWriteQuorum:
     243: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     246: aload_0
     247: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
     250: invokevirtual #79                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     253: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     256: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     259: athrow
     260: aload_2
     261: invokevirtual #82                 // Method java/util/Optional.isPresent:()Z
     264: ifeq          279
     267: aload_2
     268: invokevirtual #83                 // Method java/util/Optional.get:()Ljava/lang/Object;
     271: checkcast     #84                 // class org/apache/bookkeeper/net/DNSToSwitchMapping
     274: astore        7
     276: goto          332
     279: aload_1
     280: ldc           #86                 // String reppDnsResolverClass
     282: ldc           #87                 // class org/apache/bookkeeper/net/ScriptBasedMapping
     284: invokevirtual #88                 // Method java/lang/Class.getName:()Ljava/lang/String;
     287: invokevirtual #89                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getString:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     290: astore        8
     292: aload         8
     294: ldc           #84                 // class org/apache/bookkeeper/net/DNSToSwitchMapping
     296: invokestatic  #90                 // Method org/apache/bookkeeper/common/util/ReflectionUtils.newInstance:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
     299: checkcast     #84                 // class org/apache/bookkeeper/net/DNSToSwitchMapping
     302: astore        7
     304: aload         7
     306: aload         6
     308: invokeinterface #91,  2           // InterfaceMethod org/apache/bookkeeper/net/DNSToSwitchMapping.setBookieAddressResolver:(Lorg/apache/bookkeeper/proto/BookieAddressResolver;)V
     313: aload         7
     315: instanceof    #92                 // class org/apache/bookkeeper/conf/Configurable
     318: ifeq          332
     321: aload         7
     323: checkcast     #92                 // class org/apache/bookkeeper/conf/Configurable
     326: aload_1
     327: invokeinterface #93,  2           // InterfaceMethod org/apache/bookkeeper/conf/Configurable.setConf:(Lorg/apache/commons/configuration/Configuration;)V
     332: aload_0
     333: new           #94                 // class org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy$DNSResolverDecorator
     336: dup
     337: aload         7
     339: aload_0
     340: invokedynamic #95,  0             // InvokeDynamic #0:get:(Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl;)Ljava/util/function/Supplier;
     345: aload_0
     346: getfield      #18                 // Field failedToResolveNetworkLocationCounter:Lorg/apache/bookkeeper/stats/Counter;
     349: invokespecial #96                 // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy$DNSResolverDecorator."<init>":(Lorg/apache/bookkeeper/net/DNSToSwitchMapping;Ljava/util/function/Supplier;Lorg/apache/bookkeeper/stats/Counter;)V
     352: putfield      #97                 // Field dnsResolver:Lorg/apache/bookkeeper/net/DNSToSwitchMapping;
     355: aload_0
     356: getfield      #97                 // Field dnsResolver:Lorg/apache/bookkeeper/net/DNSToSwitchMapping;
     359: aload         6
     361: invokeinterface #91,  2           // InterfaceMethod org/apache/bookkeeper/net/DNSToSwitchMapping.setBookieAddressResolver:(Lorg/apache/bookkeeper/proto/BookieAddressResolver;)V
     366: aload_0
     367: aload_1
     368: invokevirtual #98                 // Method org/apache/bookkeeper/conf/ClientConfiguration.getNetworkTopologyStabilizePeriodSeconds:()I
     371: putfield      #16                 // Field stabilizePeriodSeconds:I
     374: aload_0
     375: getfield      #16                 // Field stabilizePeriodSeconds:I
     378: ifle          400
     381: aload_0
     382: new           #99                 // class org/apache/bookkeeper/net/StabilizeNetworkTopology
     385: dup
     386: aload_3
     387: aload_0
     388: getfield      #16                 // Field stabilizePeriodSeconds:I
     391: invokespecial #100                // Method org/apache/bookkeeper/net/StabilizeNetworkTopology."<init>":(Lio/netty/util/HashedWheelTimer;I)V
     394: putfield      #101                // Field topology:Lorg/apache/bookkeeper/net/NetworkTopology;
     397: goto          411
     400: aload_0
     401: new           #102                // class org/apache/bookkeeper/net/NetworkTopologyImpl
     404: dup
     405: invokespecial #103                // Method org/apache/bookkeeper/net/NetworkTopologyImpl."<init>":()V
     408: putfield      #101                // Field topology:Lorg/apache/bookkeeper/net/NetworkTopology;
     411: aload_0
     412: aload_0
     413: invokestatic  #104                // Method java/net/InetAddress.getLocalHost:()Ljava/net/InetAddress;
     416: invokevirtual #105                // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
     419: invokevirtual #106                // Method createDummyLocalBookieNode:(Ljava/lang/String;)Lorg/apache/bookkeeper/net/BookieNode;
     422: putfield      #13                 // Field myNode:Lorg/apache/bookkeeper/net/BookieNode;
     425: aload_0
     426: aload_0
     427: aload_0
     428: getfield      #13                 // Field myNode:Lorg/apache/bookkeeper/net/BookieNode;
     431: invokevirtual #107                // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieNode;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
     434: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
     437: putfield      #14                 // Field myZone:Ljava/lang/String;
     440: goto          467
     443: astore        8
     445: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     448: ldc           #110                // String Failed to get local host address :
     450: aload         8
     452: invokeinterface #111,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     457: new           #112                // class java/lang/RuntimeException
     460: dup
     461: aload         8
     463: invokespecial #113                // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     466: athrow
     467: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     470: ldc           #114                // String Initialized zoneaware ensemble placement policy @ {} @ {} : {}.
     472: iconst_3
     473: anewarray     #115                // class java/lang/Object
     476: dup
     477: iconst_0
     478: aload_0
     479: getfield      #13                 // Field myNode:Lorg/apache/bookkeeper/net/BookieNode;
     482: aastore
     483: dup
     484: iconst_1
     485: aload_0
     486: getfield      #13                 // Field myNode:Lorg/apache/bookkeeper/net/BookieNode;
     489: invokevirtual #116                // Method org/apache/bookkeeper/net/BookieNode.getNetworkLocation:()Ljava/lang/String;
     492: aastore
     493: dup
     494: iconst_2
     495: aload_0
     496: getfield      #97                 // Field dnsResolver:Lorg/apache/bookkeeper/net/DNSToSwitchMapping;
     499: invokevirtual #117                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     502: invokevirtual #88                 // Method java/lang/Class.getName:()Ljava/lang/String;
     505: aastore
     506: invokeinterface #118,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     511: aload_0
     512: invokestatic  #119                // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
     515: aload_1
     516: invokevirtual #120                // Method org/apache/bookkeeper/conf/ClientConfiguration.getBookieFailureHistoryExpirationMSec:()I
     519: i2l
     520: getstatic     #121                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     523: invokevirtual #122                // Method com/google/common/cache/CacheBuilder.expireAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
     526: new           #123                // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$2
     529: dup
     530: aload_0
     531: invokespecial #124                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$2."<init>":(Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl;)V
     534: invokevirtual #125                // Method com/google/common/cache/CacheBuilder.build:(Lcom/google/common/cache/CacheLoader;)Lcom/google/common/cache/LoadingCache;
     537: putfield      #126                // Field slowBookies:Lcom/google/common/cache/Cache;
     540: aload_0
     541: areturn
    Exception table:
       from    to  target type
         411   440   443   Class java/io/IOException

  public org.apache.bookkeeper.client.ZoneawareEnsemblePlacementPolicyImpl withDefaultFaultDomain(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #127                // String Default fault domain cannot be null
       3: invokestatic  #128                // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_1
       8: invokestatic  #30                 // Method org/apache/bookkeeper/net/NodeBase.normalize:(Ljava/lang/String;)Ljava/lang/String;
      11: bipush        47
      13: invokestatic  #32                 // Method org/apache/commons/lang3/StringUtils.split:(Ljava/lang/String;C)[Ljava/lang/String;
      16: astore_2
      17: aload_2
      18: arraylength
      19: iconst_2
      20: if_icmpeq     44
      23: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      26: ldc           #129                // String provided defaultFaultDomain: {} is not valid
      28: aload_1
      29: invokeinterface #130,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      34: new           #77                 // class java/lang/IllegalArgumentException
      37: dup
      38: ldc           #131                // String invalid defaultFaultDomain
      40: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: aload_0
      45: new           #7                  // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation
      48: dup
      49: new           #33                 // class java/lang/StringBuilder
      52: dup
      53: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
      56: ldc           #35                 // String /
      58: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_2
      62: iconst_0
      63: aaload
      64: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: new           #33                 // class java/lang/StringBuilder
      73: dup
      74: invokespecial #34                 // Method java/lang/StringBuilder."<init>":()V
      77: ldc           #35                 // String /
      79: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: aload_2
      83: iconst_1
      84: aaload
      85: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      91: invokespecial #10                 // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      94: putfield      #11                 // Field unresolvedNodeLocation:Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      97: aload_0
      98: aload_1
      99: putfield      #6                  // Field defaultFaultDomain:Ljava/lang/String;
     102: aload_0
     103: areturn

  public java.lang.String getDefaultFaultDomain();
    Code:
       0: aload_0
       1: getfield      #6                  // Field defaultFaultDomain:Ljava/lang/String;
       4: areturn

  public org.apache.bookkeeper.client.EnsemblePlacementPolicy$PlacementResult<java.util.List<org.apache.bookkeeper.net.BookieId>> newEnsemble(int, int, int, java.util.Set<org.apache.bookkeeper.net.BookieId>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble<org.apache.bookkeeper.net.BookieNode>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate<org.apache.bookkeeper.net.BookieNode>) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: new           #132                // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #133                // String newEnsemble method with parentEnsemble and parentPredicate is not supported for ZoneawareEnsemblePlacementPolicyImpl
       6: invokespecial #134                // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public org.apache.bookkeeper.net.BookieNode selectFromNetworkLocation(java.lang.String, java.util.Set<org.apache.bookkeeper.net.Node>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate<org.apache.bookkeeper.net.BookieNode>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble<org.apache.bookkeeper.net.BookieNode>, boolean) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: new           #132                // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #135                // String selectFromNetworkLocation is not supported for ZoneawareEnsemblePlacementPolicyImpl
       6: invokespecial #134                // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public org.apache.bookkeeper.net.BookieNode selectFromNetworkLocation(java.util.Set<java.lang.String>, java.util.Set<org.apache.bookkeeper.net.Node>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate<org.apache.bookkeeper.net.BookieNode>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble<org.apache.bookkeeper.net.BookieNode>, boolean) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: new           #132                // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #135                // String selectFromNetworkLocation is not supported for ZoneawareEnsemblePlacementPolicyImpl
       6: invokespecial #134                // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public org.apache.bookkeeper.net.BookieNode selectFromNetworkLocation(java.lang.String, java.util.Set<java.lang.String>, java.util.Set<org.apache.bookkeeper.net.Node>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate<org.apache.bookkeeper.net.BookieNode>, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble<org.apache.bookkeeper.net.BookieNode>, boolean) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: new           #132                // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #135                // String selectFromNetworkLocation is not supported for ZoneawareEnsemblePlacementPolicyImpl
       6: invokespecial #134                // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public void uninitalize();
    Code:
       0: return

  public org.apache.bookkeeper.client.EnsemblePlacementPolicy$PlacementResult<java.util.List<org.apache.bookkeeper.net.BookieId>> newEnsemble(int, int, int, java.util.Map<java.lang.String, byte[]>, java.util.Set<org.apache.bookkeeper.net.BookieId>) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload_0
       1: getfield      #74                 // Field enforceStrictZoneawarePlacement:Z
       4: ifeq          61
       7: iload_1
       8: iload_2
       9: irem
      10: ifeq          33
      13: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      16: ldc           #136                // String It is illegal for ensembleSize to be not multiple of writeQuorumSize When StrictZoneawarePlacement is enabled
      18: invokeinterface #137,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      23: new           #77                 // class java/lang/IllegalArgumentException
      26: dup
      27: ldc           #136                // String It is illegal for ensembleSize to be not multiple of writeQuorumSize When StrictZoneawarePlacement is enabled
      29: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: iload_2
      34: aload_0
      35: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
      38: if_icmpgt     61
      41: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      44: ldc           #138                // String It is illegal for writeQuorumSize to be lesser than or equal to minNumZonesPerWriteQuorum When StrictZoneawarePlacement is enabled
      46: invokeinterface #137,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      51: new           #77                 // class java/lang/IllegalArgumentException
      54: dup
      55: ldc           #138                // String It is illegal for writeQuorumSize to be lesser than or equal to minNumZonesPerWriteQuorum When StrictZoneawarePlacement is enabled
      57: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      60: athrow
      61: iload_2
      62: aload_0
      63: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
      66: invokestatic  #139                // Method java/lang/Math.min:(II)I
      69: istore        6
      71: new           #140                // class java/util/ArrayList
      74: dup
      75: iload_1
      76: aconst_null
      77: invokestatic  #141                // Method java/util/Collections.nCopies:(ILjava/lang/Object;)Ljava/util/List;
      80: invokespecial #142                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      83: astore        7
      85: aload_0
      86: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      89: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      92: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      95: aload_0
      96: getfield      #74                 // Field enforceStrictZoneawarePlacement:Z
      99: ifne          129
     102: aload_0
     103: aload         7
     105: iload_2
     106: iload_3
     107: aload         4
     109: aload         5
     111: invokespecial #146                // Method createNewEnsembleRandomly:(Ljava/util/List;IILjava/util/Map;Ljava/util/Set;)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult;
     114: astore        8
     116: aload_0
     117: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     120: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     123: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     126: aload         8
     128: areturn
     129: aload_0
     130: aload         5
     132: invokevirtual #148                // Method addDefaultFaultDomainBookies:(Ljava/util/Set;)Ljava/util/Set;
     135: astore        8
     137: iconst_0
     138: istore        9
     140: iload         9
     142: iload_1
     143: if_icmpge     180
     146: aload_0
     147: iload_1
     148: iload_2
     149: aload         7
     151: aload         7
     153: iload         9
     155: iload         6
     157: aload         8
     159: invokespecial #149                // Method setBookieInTheEnsemble:(IILjava/util/List;Ljava/util/List;IILjava/util/Set;)Lorg/apache/bookkeeper/net/BookieId;
     162: astore        10
     164: aload         8
     166: aload         10
     168: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     173: pop
     174: iinc          9, 1
     177: goto          140
     180: aload         7
     182: aload_0
     183: aload         7
     185: iload_2
     186: iload_3
     187: invokevirtual #151                // Method isEnsembleAdheringToPlacementPolicy:(Ljava/util/List;II)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     190: invokestatic  #152                // Method org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult.of:(Ljava/lang/Object;Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult;
     193: astore        9
     195: aload_0
     196: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     199: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     202: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     205: aload         9
     207: areturn
     208: astore        11
     210: aload_0
     211: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     214: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     217: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     220: aload         11
     222: athrow
    Exception table:
       from    to  target type
          95   116   208   any
         129   195   208   any
         208   210   208   any

  public org.apache.bookkeeper.client.EnsemblePlacementPolicy$PlacementResult<org.apache.bookkeeper.net.BookieId> replaceBookie(int, int, int, java.util.Map<java.lang.String, byte[]>, java.util.List<org.apache.bookkeeper.net.BookieId>, org.apache.bookkeeper.net.BookieId, java.util.Set<org.apache.bookkeeper.net.BookieId>) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload         5
       2: aload         6
       4: invokeinterface #153,  2          // InterfaceMethod java/util/List.indexOf:(Ljava/lang/Object;)I
       9: istore        8
      11: iload_2
      12: aload_0
      13: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
      16: if_icmpge     23
      19: iload_2
      20: goto          27
      23: aload_0
      24: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
      27: istore        9
      29: new           #140                // class java/util/ArrayList
      32: dup
      33: aload         5
      35: invokespecial #142                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      38: astore        10
      40: aload_0
      41: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      44: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      47: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      50: aload_0
      51: getfield      #74                 // Field enforceStrictZoneawarePlacement:Z
      54: ifne          84
      57: aload_0
      58: aload         10
      60: aload         6
      62: aload         7
      64: iload_2
      65: iload_3
      66: invokespecial #154                // Method selectBookieRandomly:(Ljava/util/List;Lorg/apache/bookkeeper/net/BookieId;Ljava/util/Set;II)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult;
      69: astore        11
      71: aload_0
      72: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      75: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      78: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
      81: aload         11
      83: areturn
      84: aload_0
      85: aload         7
      87: invokevirtual #148                // Method addDefaultFaultDomainBookies:(Ljava/util/Set;)Ljava/util/Set;
      90: astore        11
      92: aload         11
      94: aload         5
      96: invokeinterface #155,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     101: pop
     102: aload_0
     103: iload_1
     104: iload_2
     105: aload         5
     107: aload         10
     109: iload         8
     111: iload         9
     113: aload         11
     115: invokespecial #149                // Method setBookieInTheEnsemble:(IILjava/util/List;Ljava/util/List;IILjava/util/Set;)Lorg/apache/bookkeeper/net/BookieId;
     118: astore        12
     120: aload         12
     122: aload_0
     123: aload         10
     125: iload_2
     126: iload_3
     127: invokevirtual #151                // Method isEnsembleAdheringToPlacementPolicy:(Ljava/util/List;II)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     130: invokestatic  #152                // Method org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult.of:(Ljava/lang/Object;Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult;
     133: astore        13
     135: aload_0
     136: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     139: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     142: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     145: aload         13
     147: areturn
     148: astore        14
     150: aload_0
     151: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     154: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     157: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     160: aload         14
     162: athrow
    Exception table:
       from    to  target type
          50    71   148   any
          84   135   148   any
         148   150   148   any

  private org.apache.bookkeeper.client.EnsemblePlacementPolicy$PlacementResult<java.util.List<org.apache.bookkeeper.net.BookieId>> createNewEnsembleRandomly(java.util.List<org.apache.bookkeeper.net.BookieId>, int, int, java.util.Map<java.lang.String, byte[]>, java.util.Set<org.apache.bookkeeper.net.BookieId>) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload_1
       1: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
       6: istore        6
       8: aload_0
       9: aload         5
      11: invokespecial #157                // Method getBookiesToConsider:(Ljava/util/Set;)Ljava/util/Set;
      14: astore        7
      16: aload         7
      18: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
      23: aload_1
      24: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
      29: if_icmpge     59
      32: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      35: ldc           #159                // String Not enough bookies are available to form ensemble of size: {}
      37: aload_1
      38: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
      43: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      46: invokeinterface #130,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      51: new           #160                // class org/apache/bookkeeper/client/BKException$BKNotEnoughBookiesException
      54: dup
      55: invokespecial #161                // Method org/apache/bookkeeper/client/BKException$BKNotEnoughBookiesException."<init>":()V
      58: athrow
      59: iconst_0
      60: istore        8
      62: iload         8
      64: iload         6
      66: if_icmpge     107
      69: aload_0
      70: aload         7
      72: invokespecial #162                // Method selectCandidateNode:(Ljava/util/Set;)Lorg/apache/bookkeeper/net/BookieNode;
      75: astore        9
      77: aload_1
      78: iload         8
      80: aload         9
      82: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      85: invokeinterface #163,  3          // InterfaceMethod java/util/List.set:(ILjava/lang/Object;)Ljava/lang/Object;
      90: pop
      91: aload         7
      93: aload         9
      95: invokeinterface #164,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
     100: pop
     101: iinc          8, 1
     104: goto          62
     107: aload_1
     108: aload_0
     109: aload_1
     110: iload_2
     111: iload_3
     112: invokevirtual #151                // Method isEnsembleAdheringToPlacementPolicy:(Ljava/util/List;II)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     115: invokestatic  #152                // Method org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult.of:(Ljava/lang/Object;Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult;
     118: areturn

  private org.apache.bookkeeper.client.EnsemblePlacementPolicy$PlacementResult<org.apache.bookkeeper.net.BookieId> selectBookieRandomly(java.util.List<org.apache.bookkeeper.net.BookieId>, org.apache.bookkeeper.net.BookieId, java.util.Set<org.apache.bookkeeper.net.BookieId>, int, int) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: aload_3
       5: invokespecial #166                // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
       8: astore        6
      10: aload         6
      12: aload_1
      13: invokeinterface #155,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      18: pop
      19: aload_0
      20: aload         6
      22: invokespecial #157                // Method getBookiesToConsider:(Ljava/util/Set;)Ljava/util/Set;
      25: astore        7
      27: aload_1
      28: aload_2
      29: invokeinterface #153,  2          // InterfaceMethod java/util/List.indexOf:(Ljava/lang/Object;)I
      34: istore        8
      36: aload         7
      38: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      43: ifeq          64
      46: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      49: ldc           #168                // String There is no bookie available to replace a bookie
      51: invokeinterface #137,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      56: new           #160                // class org/apache/bookkeeper/client/BKException$BKNotEnoughBookiesException
      59: dup
      60: invokespecial #161                // Method org/apache/bookkeeper/client/BKException$BKNotEnoughBookiesException."<init>":()V
      63: athrow
      64: aload_0
      65: aload         7
      67: invokespecial #162                // Method selectCandidateNode:(Ljava/util/Set;)Lorg/apache/bookkeeper/net/BookieNode;
      70: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      73: astore        9
      75: aload_1
      76: iload         8
      78: aload         9
      80: invokeinterface #163,  3          // InterfaceMethod java/util/List.set:(ILjava/lang/Object;)Ljava/lang/Object;
      85: pop
      86: aload         9
      88: aload_0
      89: aload_1
      90: iload         4
      92: iload         5
      94: invokevirtual #151                // Method isEnsembleAdheringToPlacementPolicy:(Ljava/util/List;II)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
      97: invokestatic  #152                // Method org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult.of:(Ljava/lang/Object;Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;)Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementResult;
     100: areturn

  private java.util.Set<org.apache.bookkeeper.net.BookieNode> getBookiesToConsider(java.util.Set<org.apache.bookkeeper.net.BookieId>);
    Code:
       0: aload_0
       1: getfield      #101                // Field topology:Lorg/apache/bookkeeper/net/NetworkTopology;
       4: ldc           #169                // String
       6: invokeinterface #170,  2          // InterfaceMethod org/apache/bookkeeper/net/NetworkTopology.getLeaves:(Ljava/lang/String;)Ljava/util/Set;
      11: astore_2
      12: new           #165                // class java/util/HashSet
      15: dup
      16: invokespecial #171                // Method java/util/HashSet."<init>":()V
      19: astore_3
      20: aload_2
      21: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      26: astore        5
      28: aload         5
      30: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      35: ifeq          94
      38: aload         5
      40: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      45: checkcast     #175                // class org/apache/bookkeeper/net/Node
      48: astore        6
      50: aload         6
      52: instanceof    #176                // class org/apache/bookkeeper/net/BookieNode
      55: ifeq          91
      58: aload         6
      60: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      63: astore        4
      65: aload_1
      66: aload         4
      68: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      71: invokeinterface #177,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      76: ifeq          82
      79: goto          28
      82: aload_3
      83: aload         4
      85: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      90: pop
      91: goto          28
      94: aload_3
      95: areturn

  private org.apache.bookkeeper.net.BookieId setBookieInTheEnsemble(int, int, java.util.List<org.apache.bookkeeper.net.BookieId>, java.util.List<org.apache.bookkeeper.net.BookieId>, int, int, java.util.Set<org.apache.bookkeeper.net.BookieId>) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload_3
       1: iload         5
       3: invokeinterface #178,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
       8: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
      11: astore        8
      13: aconst_null
      14: astore        9
      16: aconst_null
      17: astore        10
      19: iload         6
      21: iconst_1
      22: isub
      23: istore        11
      25: iload         11
      27: aload_0
      28: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
      31: iconst_1
      32: isub
      33: if_icmplt     81
      36: aload_0
      37: aload_3
      38: iload         5
      40: iload         11
      42: invokespecial #180                // Method getZonesOfNeighboringNodesInEnsemble:(Ljava/util/List;II)Ljava/util/Set;
      45: astore        9
      47: aload_0
      48: iload_1
      49: iload_2
      50: aload_3
      51: iload         5
      53: aload         7
      55: aload         9
      57: invokespecial #181                // Method getBookiesToConsiderAfterExcludingZonesAndUDs:(IILjava/util/List;ILjava/util/Set;Ljava/util/Set;)Ljava/util/Set;
      60: astore        10
      62: aload         10
      64: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      69: ifne          75
      72: goto          81
      75: iinc          11, -1
      78: goto          25
      81: aload         10
      83: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      88: ifeq          116
      91: aload_0
      92: aload_3
      93: iload         5
      95: iload_2
      96: invokespecial #182                // Method getZonesToExcludeToMaintainMinZones:(Ljava/util/List;II)Ljava/util/Set;
      99: astore        9
     101: aload_0
     102: iload_1
     103: iload_2
     104: aload_3
     105: iload         5
     107: aload         7
     109: aload         9
     111: invokespecial #181                // Method getBookiesToConsiderAfterExcludingZonesAndUDs:(IILjava/util/List;ILjava/util/Set;Ljava/util/Set;)Ljava/util/Set;
     114: astore        10
     116: aload         10
     118: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     123: ifeq          162
     126: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     129: ldc           #183                // String Not enough bookies are available to replaceBookie : {} in ensemble : {} with excludeBookies {}.
     131: iconst_3
     132: anewarray     #115                // class java/lang/Object
     135: dup
     136: iconst_0
     137: aload         8
     139: aastore
     140: dup
     141: iconst_1
     142: aload_3
     143: aastore
     144: dup
     145: iconst_2
     146: aload         7
     148: aastore
     149: invokeinterface #184,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     154: new           #160                // class org/apache/bookkeeper/client/BKException$BKNotEnoughBookiesException
     157: dup
     158: invokespecial #161                // Method org/apache/bookkeeper/client/BKException$BKNotEnoughBookiesException."<init>":()V
     161: athrow
     162: aload_0
     163: aload         10
     165: invokespecial #162                // Method selectCandidateNode:(Ljava/util/Set;)Lorg/apache/bookkeeper/net/BookieNode;
     168: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
     171: astore        11
     173: aload         4
     175: iload         5
     177: aload         11
     179: invokeinterface #163,  3          // InterfaceMethod java/util/List.set:(ILjava/lang/Object;)Ljava/lang/Object;
     184: pop
     185: aload         11
     187: areturn

  protected java.util.Set<org.apache.bookkeeper.net.BookieId> addDefaultFaultDomainBookies(java.util.Set<org.apache.bookkeeper.net.BookieId>);
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: aload_1
       5: invokespecial #166                // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
       8: astore_2
       9: aload_0
      10: getfield      #101                // Field topology:Lorg/apache/bookkeeper/net/NetworkTopology;
      13: aload_0
      14: invokevirtual #28                 // Method getDefaultFaultDomain:()Ljava/lang/String;
      17: invokeinterface #170,  2          // InterfaceMethod org/apache/bookkeeper/net/NetworkTopology.getLeaves:(Ljava/lang/String;)Ljava/util/Set;
      22: astore_3
      23: aload_3
      24: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      29: astore        4
      31: aload         4
      33: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      38: ifeq          98
      41: aload         4
      43: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      48: checkcast     #175                // class org/apache/bookkeeper/net/Node
      51: astore        5
      53: aload         5
      55: instanceof    #176                // class org/apache/bookkeeper/net/BookieNode
      58: ifeq          79
      61: aload_2
      62: aload         5
      64: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      67: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      70: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      75: pop
      76: goto          95
      79: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      82: ldc           #185                // String found non-BookieNode: {} as leaf of defaultFaultDomain: {}
      84: aload         5
      86: aload_0
      87: invokevirtual #28                 // Method getDefaultFaultDomain:()Ljava/lang/String;
      90: invokeinterface #76,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      95: goto          31
      98: aload_2
      99: areturn

  private org.apache.bookkeeper.net.BookieNode selectCandidateNode(java.util.Set<org.apache.bookkeeper.net.BookieNode>);
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: getfield      #57                 // Field isWeighted:Z
       6: ifne          77
       9: aload_0
      10: getfield      #25                 // Field rand:Ljava/util/Random;
      13: aload_1
      14: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
      19: invokevirtual #186                // Method java/util/Random.nextInt:(I)I
      22: istore_3
      23: iconst_0
      24: istore        4
      26: aload_1
      27: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      32: astore        5
      34: aload         5
      36: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      41: ifeq          74
      44: aload         5
      46: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      51: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      54: astore        6
      56: iload         4
      58: iload_3
      59: if_icmpne     68
      62: aload         6
      64: astore_2
      65: goto          74
      68: iinc          4, 1
      71: goto          34
      74: goto          91
      77: aload_0
      78: getfield      #62                 // Field weightedSelection:Lorg/apache/bookkeeper/client/WeightedRandomSelection;
      81: aload_1
      82: invokeinterface #187,  2          // InterfaceMethod org/apache/bookkeeper/client/WeightedRandomSelection.getNextRandom:(Ljava/util/Collection;)Ljava/lang/Object;
      87: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      90: astore_2
      91: aload_2
      92: areturn

  private java.lang.String getExcludedZonesString(java.util.Set<java.lang.String>);
    Code:
       0: aload_1
       1: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
       6: ifeq          12
       9: ldc           #169                // String
      11: areturn
      12: new           #33                 // class java/lang/StringBuilder
      15: dup
      16: ldc           #188                // String ~
      18: invokespecial #189                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
      21: astore_2
      22: iconst_1
      23: istore_3
      24: aload_1
      25: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      30: astore        4
      32: aload         4
      34: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      39: ifeq          77
      42: aload         4
      44: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      49: checkcast     #190                // class java/lang/String
      52: astore        5
      54: iload_3
      55: ifne          65
      58: aload_2
      59: ldc           #191                // String ,
      61: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: pop
      65: aload_2
      66: aload         5
      68: invokevirtual #36                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: pop
      72: iconst_0
      73: istore_3
      74: goto          32
      77: aload_2
      78: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      81: areturn

  private java.util.Set<org.apache.bookkeeper.net.BookieNode> getBookiesToConsider(java.lang.String, java.util.Set<org.apache.bookkeeper.net.BookieId>);
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: invokespecial #171                // Method java/util/HashSet."<init>":()V
       7: astore_3
       8: aload_0
       9: getfield      #101                // Field topology:Lorg/apache/bookkeeper/net/NetworkTopology;
      12: aload_1
      13: invokeinterface #170,  2          // InterfaceMethod org/apache/bookkeeper/net/NetworkTopology.getLeaves:(Ljava/lang/String;)Ljava/util/Set;
      18: astore        4
      20: aload         4
      22: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      27: astore        5
      29: aload         5
      31: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifeq          87
      39: aload         5
      41: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: checkcast     #175                // class org/apache/bookkeeper/net/Node
      49: astore        6
      51: aload         6
      53: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      56: astore        7
      58: aload_2
      59: aload         7
      61: invokevirtual #39                 // Method org/apache/bookkeeper/net/BookieNode.getAddr:()Lorg/apache/bookkeeper/net/BookieId;
      64: invokeinterface #177,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      69: ifeq          75
      72: goto          29
      75: aload_3
      76: aload         7
      78: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      83: pop
      84: goto          29
      87: aload_3
      88: areturn

  private java.util.Set<org.apache.bookkeeper.net.BookieNode> getBookiesToConsiderAfterExcludingZonesAndUDs(int, int, java.util.List<org.apache.bookkeeper.net.BookieId>, int, java.util.Set<org.apache.bookkeeper.net.BookieId>, java.util.Set<java.lang.String>);
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: invokespecial #171                // Method java/util/HashSet."<init>":()V
       7: astore        7
       9: new           #192                // class java/util/HashMap
      12: dup
      13: invokespecial #193                // Method java/util/HashMap."<init>":()V
      16: astore        8
      18: aload_0
      19: aload_0
      20: aload         6
      22: invokespecial #194                // Method getExcludedZonesString:(Ljava/util/Set;)Ljava/lang/String;
      25: aload         5
      27: invokespecial #195                // Method getBookiesToConsider:(Ljava/lang/String;Ljava/util/Set;)Ljava/util/Set;
      30: astore        9
      32: aload         9
      34: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
      39: ifne          197
      42: aload_0
      43: aload         9
      45: invokespecial #196                // Method getZonesOfBookies:(Ljava/util/Collection;)Ljava/util/Set;
      48: astore        10
      50: aload         10
      52: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      57: astore        11
      59: aload         11
      61: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      66: ifeq          106
      69: aload         11
      71: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      76: checkcast     #190                // class java/lang/String
      79: astore        12
      81: aload_0
      82: aload_3
      83: iload         4
      85: iload_2
      86: aload         12
      88: invokespecial #197                // Method getUpgradeDomainsOfAZoneInNeighboringNodes:(Ljava/util/List;IILjava/lang/String;)Ljava/util/Set;
      91: astore        13
      93: aload         8
      95: aload         12
      97: aload         13
      99: invokevirtual #198                // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     102: pop
     103: goto          59
     106: aload_0
     107: aload         7
     109: aload         9
     111: aload         8
     113: invokespecial #199                // Method updateBookiesToConsiderAfterExcludingZonesAndUDs:(Ljava/util/Set;Ljava/util/Set;Ljava/util/HashMap;)V
     116: aload         7
     118: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     123: ifeq          197
     126: aload         8
     128: invokevirtual #200                // Method java/util/HashMap.clear:()V
     131: aload         10
     133: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     138: astore        11
     140: aload         11
     142: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     147: ifeq          187
     150: aload         11
     152: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     157: checkcast     #190                // class java/lang/String
     160: astore        12
     162: aload_0
     163: aload_3
     164: iload         4
     166: iload_2
     167: aload         12
     169: invokespecial #201                // Method getUDsToExcludeToMaintainMinUDsInWriteQuorums:(Ljava/util/List;IILjava/lang/String;)Ljava/util/Set;
     172: astore        13
     174: aload         8
     176: aload         12
     178: aload         13
     180: invokevirtual #198                // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     183: pop
     184: goto          140
     187: aload_0
     188: aload         7
     190: aload         9
     192: aload         8
     194: invokespecial #199                // Method updateBookiesToConsiderAfterExcludingZonesAndUDs:(Ljava/util/Set;Ljava/util/Set;Ljava/util/HashMap;)V
     197: aload         7
     199: areturn

  private void updateBookiesToConsiderAfterExcludingZonesAndUDs(java.util.Set<org.apache.bookkeeper.net.BookieNode>, java.util.Set<org.apache.bookkeeper.net.BookieNode>, java.util.HashMap<java.lang.String, java.util.Set<java.lang.String>>);
    Code:
       0: aload_2
       1: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
       6: astore        4
       8: aload         4
      10: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          78
      18: aload         4
      20: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      28: astore        5
      30: aload_0
      31: aload         5
      33: invokevirtual #107                // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieNode;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      36: astore        6
      38: aload_3
      39: aload         6
      41: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
      44: invokevirtual #202                // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      47: checkcast     #203                // class java/util/Set
      50: aload         6
      52: invokevirtual #204                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getUpgradeDomain:()Ljava/lang/String;
      55: invokeinterface #177,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      60: ifeq          66
      63: goto          8
      66: aload_1
      67: aload         5
      69: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      74: pop
      75: goto          8
      78: return

  private java.util.Set<java.lang.String> getZonesOfNeighboringNodesInEnsemble(java.util.List<org.apache.bookkeeper.net.BookieId>, int, int);
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: invokespecial #171                // Method java/util/HashSet."<init>":()V
       7: astore        4
       9: aload_1
      10: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
      15: istore        5
      17: iconst_m1
      18: iload_3
      19: imul
      20: istore        6
      22: iload         6
      24: iload_3
      25: if_icmpgt     96
      28: iload         6
      30: ifne          36
      33: goto          90
      36: iload_2
      37: iload         6
      39: iadd
      40: iload         5
      42: iadd
      43: iload         5
      45: irem
      46: istore        7
      48: aload_1
      49: iload         7
      51: invokeinterface #178,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      56: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
      59: astore        8
      61: aload         8
      63: ifnonnull     69
      66: goto          90
      69: aload_0
      70: aload         8
      72: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      75: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
      78: astore        9
      80: aload         4
      82: aload         9
      84: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      89: pop
      90: iinc          6, 1
      93: goto          22
      96: aload         4
      98: areturn

  private java.util.Set<java.lang.String> getZonesToExcludeToMaintainMinZones(java.util.List<org.apache.bookkeeper.net.BookieId>, int, int);
    Code:
       0: aload_1
       1: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
       6: istore        4
       8: new           #165                // class java/util/HashSet
      11: dup
      12: invokespecial #171                // Method java/util/HashSet."<init>":()V
      15: astore        5
      17: new           #165                // class java/util/HashSet
      20: dup
      21: invokespecial #171                // Method java/util/HashSet."<init>":()V
      24: astore        6
      26: iload_3
      27: iconst_1
      28: isub
      29: ineg
      30: istore        7
      32: iload         7
      34: ifgt          157
      37: aload         6
      39: invokeinterface #205,  1          // InterfaceMethod java/util/Set.clear:()V
      44: iconst_0
      45: istore        8
      47: iload         8
      49: iload_3
      50: if_icmpge     125
      53: iload         7
      55: iload         8
      57: iadd
      58: iload_2
      59: iadd
      60: iload         4
      62: iadd
      63: iload         4
      65: irem
      66: istore        9
      68: iload         9
      70: iload_2
      71: if_icmpne     77
      74: goto          119
      77: aload_1
      78: iload         9
      80: invokeinterface #178,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      85: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
      88: astore        10
      90: aload         10
      92: ifnonnull     98
      95: goto          119
      98: aload_0
      99: aload         10
     101: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
     104: astore        11
     106: aload         6
     108: aload         11
     110: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
     113: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     118: pop
     119: iinc          8, 1
     122: goto          47
     125: aload         6
     127: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
     132: aload_0
     133: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     136: iconst_1
     137: isub
     138: if_icmpgt     151
     141: aload         5
     143: aload         6
     145: invokeinterface #155,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     150: pop
     151: iinc          7, 1
     154: goto          32
     157: aload         5
     159: areturn

  private java.util.Set<java.lang.String> getZonesOfBookies(java.util.Collection<org.apache.bookkeeper.net.BookieNode>);
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: invokespecial #171                // Method java/util/HashSet."<init>":()V
       7: astore_2
       8: aload_1
       9: invokeinterface #206,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_3
      15: aload_3
      16: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          58
      24: aload_3
      25: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #176                // class org/apache/bookkeeper/net/BookieNode
      33: astore        4
      35: aload_0
      36: aload         4
      38: invokevirtual #107                // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieNode;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      41: astore        5
      43: aload_2
      44: aload         5
      46: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
      49: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      54: pop
      55: goto          15
      58: aload_2
      59: areturn

  private java.util.Set<java.lang.String> getUpgradeDomainsOfAZoneInNeighboringNodes(java.util.List<org.apache.bookkeeper.net.BookieId>, int, int, java.lang.String);
    Code:
       0: aload_1
       1: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
       6: istore        5
       8: new           #165                // class java/util/HashSet
      11: dup
      12: invokespecial #171                // Method java/util/HashSet."<init>":()V
      15: astore        6
      17: iload_3
      18: iconst_1
      19: isub
      20: ineg
      21: istore        7
      23: iload         7
      25: iload_3
      26: iconst_1
      27: isub
      28: if_icmpgt     112
      31: iload         7
      33: ifne          39
      36: goto          106
      39: iload_2
      40: iload         7
      42: iadd
      43: iload         5
      45: iadd
      46: iload         5
      48: irem
      49: istore        8
      51: aload_1
      52: iload         8
      54: invokeinterface #178,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      59: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
      62: astore        9
      64: aload         9
      66: ifnonnull     72
      69: goto          106
      72: aload_0
      73: aload         9
      75: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      78: astore        10
      80: aload         10
      82: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
      85: aload         4
      87: invokevirtual #29                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      90: ifeq          106
      93: aload         6
      95: aload         10
      97: invokevirtual #204                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getUpgradeDomain:()Ljava/lang/String;
     100: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     105: pop
     106: iinc          7, 1
     109: goto          23
     112: aload         6
     114: areturn

  private java.util.Set<java.lang.String> getUDsToExcludeToMaintainMinUDsInWriteQuorums(java.util.List<org.apache.bookkeeper.net.BookieId>, int, int, java.lang.String);
    Code:
       0: aload_1
       1: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
       6: istore        5
       8: new           #165                // class java/util/HashSet
      11: dup
      12: invokespecial #171                // Method java/util/HashSet."<init>":()V
      15: astore        6
      17: new           #165                // class java/util/HashSet
      20: dup
      21: invokespecial #171                // Method java/util/HashSet."<init>":()V
      24: astore        7
      26: iload_3
      27: iconst_1
      28: isub
      29: ineg
      30: istore        8
      32: iload         8
      34: ifgt          165
      37: aload         7
      39: invokeinterface #205,  1          // InterfaceMethod java/util/Set.clear:()V
      44: iconst_0
      45: istore        9
      47: iload         9
      49: iload_3
      50: if_icmpge     138
      53: iload         8
      55: iload         9
      57: iadd
      58: iload_2
      59: iadd
      60: iload         5
      62: iadd
      63: iload         5
      65: irem
      66: istore        10
      68: iload         10
      70: iload_2
      71: if_icmpne     77
      74: goto          132
      77: aload_1
      78: iload         10
      80: invokeinterface #178,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      85: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
      88: astore        11
      90: aload         11
      92: ifnonnull     98
      95: goto          132
      98: aload_0
      99: aload         11
     101: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
     104: astore        12
     106: aload         12
     108: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
     111: aload         4
     113: invokevirtual #29                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     116: ifeq          132
     119: aload         7
     121: aload         12
     123: invokevirtual #204                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getUpgradeDomain:()Ljava/lang/String;
     126: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     131: pop
     132: iinc          9, 1
     135: goto          47
     138: aload         7
     140: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
     145: iconst_1
     146: if_icmpne     159
     149: aload         6
     151: aload         7
     153: invokeinterface #155,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
     158: pop
     159: iinc          8, 1
     162: goto          32
     165: aload         6
     167: areturn

  public void registerSlowBookie(org.apache.bookkeeper.net.BookieId, long);
    Code:
       0: return

  public org.apache.bookkeeper.client.DistributionSchedule$WriteSet reorderReadSequence(java.util.List<org.apache.bookkeeper.net.BookieId>, org.apache.bookkeeper.client.BookiesHealthInfo, org.apache.bookkeeper.client.DistributionSchedule$WriteSet);
    Code:
       0: aload_3
       1: areturn

  public org.apache.bookkeeper.client.DistributionSchedule$WriteSet reorderReadLACSequence(java.util.List<org.apache.bookkeeper.net.BookieId>, org.apache.bookkeeper.client.BookiesHealthInfo, org.apache.bookkeeper.client.DistributionSchedule$WriteSet);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokevirtual #207                // Method reorderReadSequence:(Ljava/util/List;Lorg/apache/bookkeeper/client/BookiesHealthInfo;Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
       7: astore        4
       9: aload         4
      11: aload_1
      12: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
      17: invokeinterface #208,  2          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.addMissingIndices:(I)V
      22: aload         4
      24: areturn

  public org.apache.bookkeeper.client.EnsemblePlacementPolicy$PlacementPolicyAdherence isEnsembleAdheringToPlacementPolicy(java.util.List<org.apache.bookkeeper.net.BookieId>, int, int);
    Code:
       0: getstatic     #209                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.MEETS_STRICT:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
       3: astore        4
       5: aload_0
       6: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       9: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      12: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      15: new           #192                // class java/util/HashMap
      18: dup
      19: invokespecial #193                // Method java/util/HashMap."<init>":()V
      22: astore        5
      24: new           #192                // class java/util/HashMap
      27: dup
      28: invokespecial #193                // Method java/util/HashMap."<init>":()V
      31: astore        6
      33: aload_1
      34: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
      39: iload_2
      40: irem
      41: ifeq          114
      44: getstatic     #210                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.FAIL:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
      47: astore        4
      49: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      52: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      57: ifeq          97
      60: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
      63: ldc           #212                // String For ensemble: {}, ensembleSize: {} is not a multiple of writeQuorumSize: {}
      65: iconst_3
      66: anewarray     #115                // class java/lang/Object
      69: dup
      70: iconst_0
      71: aload_1
      72: aastore
      73: dup
      74: iconst_1
      75: aload_1
      76: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
      81: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      84: aastore
      85: dup
      86: iconst_2
      87: iload_2
      88: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      91: aastore
      92: invokeinterface #213,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      97: aload         4
      99: astore        8
     101: aload_0
     102: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     105: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     108: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     111: aload         8
     113: areturn
     114: iload_2
     115: aload_0
     116: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     119: if_icmpgt     190
     122: getstatic     #210                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.FAIL:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     125: astore        4
     127: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     130: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     135: ifeq          173
     138: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     141: ldc           #214                // String For ensemble: {}, writeQuorumSize: {} is less than or equal to minNumZonesPerWriteQuorum: {}
     143: iconst_3
     144: anewarray     #115                // class java/lang/Object
     147: dup
     148: iconst_0
     149: aload_1
     150: aastore
     151: dup
     152: iconst_1
     153: iload_2
     154: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     157: aastore
     158: dup
     159: iconst_2
     160: aload_0
     161: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     164: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     167: aastore
     168: invokeinterface #213,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     173: aload         4
     175: astore        8
     177: aload_0
     178: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     181: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     184: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     187: aload         8
     189: areturn
     190: iload_2
     191: aload_0
     192: getfield      #72                 // Field desiredNumZonesPerWriteQuorum:I
     195: invokestatic  #139                // Method java/lang/Math.min:(II)I
     198: istore        8
     200: iconst_0
     201: istore        9
     203: iload         9
     205: aload_1
     206: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
     211: if_icmpge     687
     214: aload         5
     216: invokevirtual #200                // Method java/util/HashMap.clear:()V
     219: aload         6
     221: invokevirtual #200                // Method java/util/HashMap.clear:()V
     224: iconst_0
     225: istore        10
     227: iload         10
     229: iload_2
     230: if_icmpge     447
     233: iload         9
     235: iload         10
     237: iadd
     238: aload_1
     239: invokeinterface #156,  1          // InterfaceMethod java/util/List.size:()I
     244: irem
     245: istore        11
     247: aload_1
     248: iload         11
     250: invokeinterface #178,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     255: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
     258: astore        7
     260: aload_0
     261: aload         7
     263: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
     266: astore        12
     268: aload         12
     270: aload_0
     271: getfield      #11                 // Field unresolvedNodeLocation:Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
     274: invokevirtual #215                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.equals:(Ljava/lang/Object;)Z
     277: ifeq          326
     280: getstatic     #210                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.FAIL:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     283: astore        4
     285: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     288: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     293: ifeq          309
     296: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     299: ldc           #216                // String ensemble: {}, contains bookie: {} for which network location is unresolvable
     301: aload_1
     302: aload         7
     304: invokeinterface #217,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     309: aload         4
     311: astore        13
     313: aload_0
     314: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     317: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     320: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     323: aload         13
     325: areturn
     326: aload         12
     328: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
     331: astore        13
     333: aload         12
     335: invokevirtual #204                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getUpgradeDomain:()Ljava/lang/String;
     338: astore        14
     340: aload         5
     342: aload         13
     344: invokevirtual #202                // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     347: checkcast     #203                // class java/util/Set
     350: astore        15
     352: aload         15
     354: ifnonnull     401
     357: new           #165                // class java/util/HashSet
     360: dup
     361: invokespecial #171                // Method java/util/HashSet."<init>":()V
     364: astore        15
     366: aload         15
     368: aload         14
     370: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     375: pop
     376: aload         5
     378: aload         13
     380: aload         15
     382: invokevirtual #198                // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     385: pop
     386: aload         6
     388: aload         13
     390: iconst_1
     391: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     394: invokevirtual #198                // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     397: pop
     398: goto          441
     401: aload         15
     403: aload         14
     405: invokeinterface #150,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     410: pop
     411: aload         6
     413: aload         13
     415: invokevirtual #202                // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     418: checkcast     #218                // class java/lang/Integer
     421: astore        16
     423: aload         6
     425: aload         13
     427: aload         16
     429: invokevirtual #219                // Method java/lang/Integer.intValue:()I
     432: iconst_1
     433: iadd
     434: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     437: invokevirtual #198                // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     440: pop
     441: iinc          10, 1
     444: goto          227
     447: aload         6
     449: invokevirtual #220                // Method java/util/HashMap.entrySet:()Ljava/util/Set;
     452: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
     457: aload_0
     458: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     461: if_icmpge     533
     464: getstatic     #210                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.FAIL:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     467: astore        4
     469: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     472: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     477: ifeq          516
     480: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     483: ldc           #221                // String in ensemble: {}, writeset starting at: {} doesn\'t contain bookies from minNumZonesPerWriteQuorum: {}
     485: iconst_3
     486: anewarray     #115                // class java/lang/Object
     489: dup
     490: iconst_0
     491: aload_1
     492: aastore
     493: dup
     494: iconst_1
     495: iload         9
     497: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     500: aastore
     501: dup
     502: iconst_2
     503: aload_0
     504: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
     507: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     510: aastore
     511: invokeinterface #213,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     516: aload         4
     518: astore        10
     520: aload_0
     521: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     524: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     527: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     530: aload         10
     532: areturn
     533: aload         6
     535: invokevirtual #220                // Method java/util/HashMap.entrySet:()Ljava/util/Set;
     538: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
     543: iload         8
     545: if_icmplt     608
     548: aload_0
     549: aload         6
     551: aload         5
     553: invokespecial #222                // Method validateMinUDsAreMaintained:(Ljava/util/HashMap;Ljava/util/HashMap;)Z
     556: ifne          681
     559: getstatic     #210                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.FAIL:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     562: astore        4
     564: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     567: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     572: ifeq          591
     575: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     578: ldc           #223                // String in ensemble: {}, writeset starting at: {} doesn\'t maintain min of 2 UDs when there are multiple bookies from the same zone.
     580: aload_1
     581: iload         9
     583: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     586: invokeinterface #217,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     591: aload         4
     593: astore        10
     595: aload_0
     596: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     599: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     602: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     605: aload         10
     607: areturn
     608: aload_0
     609: aload         6
     611: aload         5
     613: invokespecial #222                // Method validateMinUDsAreMaintained:(Ljava/util/HashMap;Ljava/util/HashMap;)Z
     616: ifne          668
     619: getstatic     #210                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.FAIL:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     622: astore        4
     624: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     627: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     632: ifeq          651
     635: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     638: ldc           #223                // String in ensemble: {}, writeset starting at: {} doesn\'t maintain min of 2 UDs when there are multiple bookies from the same zone.
     640: aload_1
     641: iload         9
     643: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     646: invokeinterface #217,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     651: aload         4
     653: astore        10
     655: aload_0
     656: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     659: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     662: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     665: aload         10
     667: areturn
     668: aload         4
     670: getstatic     #209                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.MEETS_STRICT:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     673: if_acmpne     681
     676: getstatic     #224                // Field org/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence.MEETS_SOFT:Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy$PlacementPolicyAdherence;
     679: astore        4
     681: iinc          9, 1
     684: goto          203
     687: aload_0
     688: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     691: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     694: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     697: goto          715
     700: astore        17
     702: aload_0
     703: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
     706: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
     709: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     712: aload         17
     714: athrow
     715: aload         4
     717: areturn
    Exception table:
       from    to  target type
          15   101   700   any
         114   177   700   any
         190   313   700   any
         326   520   700   any
         533   595   700   any
         608   655   700   any
         668   687   700   any
         700   702   700   any

  private boolean validateMinUDsAreMaintained(java.util.HashMap<java.lang.String, java.lang.Integer>, java.util.HashMap<java.lang.String, java.util.Set<java.lang.String>>);
    Code:
       0: aload_1
       1: invokevirtual #220                // Method java/util/HashMap.entrySet:()Ljava/util/Set;
       4: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
       9: astore_3
      10: aload_3
      11: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          90
      19: aload_3
      20: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #225                // class java/util/Map$Entry
      28: astore        4
      30: aload         4
      32: invokeinterface #226,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      37: checkcast     #190                // class java/lang/String
      40: astore        5
      42: aload         4
      44: invokeinterface #227,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      49: checkcast     #218                // class java/lang/Integer
      52: astore        6
      54: aload         6
      56: invokevirtual #219                // Method java/lang/Integer.intValue:()I
      59: iconst_1
      60: if_icmple     87
      63: aload_2
      64: aload         5
      66: invokevirtual #202                // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      69: checkcast     #203                // class java/util/Set
      72: astore        7
      74: aload         7
      76: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
      81: iconst_2
      82: if_icmpge     87
      85: iconst_0
      86: ireturn
      87: goto          10
      90: iconst_1
      91: ireturn

  public boolean areAckedBookiesAdheringToPlacementPolicy(java.util.Set<org.apache.bookkeeper.net.BookieId>, int, int);
    Code:
       0: new           #165                // class java/util/HashSet
       3: dup
       4: invokespecial #171                // Method java/util/HashSet."<init>":()V
       7: astore        4
       9: iload_2
      10: aload_0
      11: getfield      #70                 // Field minNumZonesPerWriteQuorum:I
      14: invokestatic  #139                // Method java/lang/Math.min:(II)I
      17: istore        5
      19: iconst_0
      20: istore        6
      22: aload_0
      23: getfield      #143                // Field rwLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      26: invokevirtual #144                // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
      29: astore        7
      31: aload         7
      33: invokevirtual #145                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.lock:()V
      36: aload_1
      37: invokeinterface #172,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      42: astore        8
      44: aload         8
      46: invokeinterface #173,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      51: ifeq          84
      54: aload         8
      56: invokeinterface #174,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      61: checkcast     #179                // class org/apache/bookkeeper/net/BookieId
      64: astore        9
      66: aload         4
      68: aload_0
      69: aload         9
      71: invokevirtual #40                 // Method getZoneAwareNodeLocation:(Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation;
      74: invokevirtual #108                // Method org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl$ZoneAwareNodeLocation.getZone:()Ljava/lang/String;
      77: invokevirtual #228                // Method java/util/HashSet.add:(Ljava/lang/Object;)Z
      80: pop
      81: goto          44
      84: aload         4
      86: invokevirtual #229                // Method java/util/HashSet.size:()I
      89: iload         5
      91: if_icmplt     108
      94: aload_1
      95: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
     100: iload_3
     101: if_icmplt     108
     104: iconst_1
     105: goto          109
     108: iconst_0
     109: istore        6
     111: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     114: invokeinterface #211,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     119: ifeq          175
     122: getstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
     125: ldc           #230                // String areAckedBookiesAdheringToPlacementPolicy returning {}, because number of ackedBookies = {}, number of Zones of ackedbookies = {}, number of minNumZonesPerWriteQuorumForThisEnsemble = {}
     127: iconst_4
     128: anewarray     #115                // class java/lang/Object
     131: dup
     132: iconst_0
     133: iload         6
     135: invokestatic  #231                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     138: aastore
     139: dup
     140: iconst_1
     141: aload_1
     142: invokeinterface #158,  1          // InterfaceMethod java/util/Set.size:()I
     147: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     150: aastore
     151: dup
     152: iconst_2
     153: aload         4
     155: invokevirtual #229                // Method java/util/HashSet.size:()I
     158: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     161: aastore
     162: dup
     163: iconst_3
     164: iload         5
     166: invokestatic  #65                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     169: aastore
     170: invokeinterface #213,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     175: aload         7
     177: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     180: goto          193
     183: astore        10
     185: aload         7
     187: invokevirtual #147                // Method java/util/concurrent/locks/ReentrantReadWriteLock$ReadLock.unlock:()V
     190: aload         10
     192: athrow
     193: iload         6
     195: ireturn
    Exception table:
       from    to  target type
          36   175   183   any
         183   185   183   any

  public void updateBookieInfo(java.util.Map);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #232                // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy.updateBookieInfo:(Ljava/util/Map;)V
       5: return

  public void onBookieRackChange(java.util.List);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #233                // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy.onBookieRackChange:(Ljava/util/List;)V
       5: return

  public void handleBookiesThatJoined(java.util.Set);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #234                // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy.handleBookiesThatJoined:(Ljava/util/Set;)V
       5: return

  public void handleBookiesThatLeft(java.util.Set);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #235                // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy.handleBookiesThatLeft:(Ljava/util/Set;)V
       5: return

  public java.util.Set onClusterChanged(java.util.Set, java.util.Set);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #236                // Method org/apache/bookkeeper/client/TopologyAwareEnsemblePlacementPolicy.onClusterChanged:(Ljava/util/Set;Ljava/util/Set;)Ljava/util/Set;
       6: areturn

  public org.apache.bookkeeper.net.Node selectFromNetworkLocation(java.lang.String, java.util.Set, java.util.Set, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble, boolean) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: iload         6
      10: invokevirtual #237                // Method selectFromNetworkLocation:(Ljava/lang/String;Ljava/util/Set;Ljava/util/Set;Lorg/apache/bookkeeper/client/ITopologyAwareEnsemblePlacementPolicy$Predicate;Lorg/apache/bookkeeper/client/ITopologyAwareEnsemblePlacementPolicy$Ensemble;Z)Lorg/apache/bookkeeper/net/BookieNode;
      13: areturn

  public org.apache.bookkeeper.net.Node selectFromNetworkLocation(java.util.Set, java.util.Set, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble, boolean) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: iload         5
       8: invokevirtual #238                // Method selectFromNetworkLocation:(Ljava/util/Set;Ljava/util/Set;Lorg/apache/bookkeeper/client/ITopologyAwareEnsemblePlacementPolicy$Predicate;Lorg/apache/bookkeeper/client/ITopologyAwareEnsemblePlacementPolicy$Ensemble;Z)Lorg/apache/bookkeeper/net/BookieNode;
      11: areturn

  public org.apache.bookkeeper.net.Node selectFromNetworkLocation(java.lang.String, java.util.Set, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Predicate, org.apache.bookkeeper.client.ITopologyAwareEnsemblePlacementPolicy$Ensemble, boolean) throws org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: iload         5
       8: invokevirtual #239                // Method selectFromNetworkLocation:(Ljava/lang/String;Ljava/util/Set;Lorg/apache/bookkeeper/client/ITopologyAwareEnsemblePlacementPolicy$Predicate;Lorg/apache/bookkeeper/client/ITopologyAwareEnsemblePlacementPolicy$Ensemble;Z)Lorg/apache/bookkeeper/net/BookieNode;
      11: areturn

  private java.lang.String lambda$initialize$0();
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method getDefaultFaultDomain:()Ljava/lang/String;
       4: areturn

  static {};
    Code:
       0: ldc           #240                // class org/apache/bookkeeper/client/ZoneawareEnsemblePlacementPolicyImpl
       2: invokestatic  #241                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #63                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
