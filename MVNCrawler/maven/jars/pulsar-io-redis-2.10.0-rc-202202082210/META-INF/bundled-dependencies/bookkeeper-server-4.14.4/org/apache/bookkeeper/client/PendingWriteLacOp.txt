Compiled from "PendingWriteLacOp.java"
class org.apache.bookkeeper.client.PendingWriteLacOp implements org.apache.bookkeeper.proto.BookkeeperInternalCallbacks$WriteLacCallback {
  private static final org.slf4j.Logger LOG;

  org.apache.bookkeeper.util.ByteBufList toSend;

  org.apache.bookkeeper.client.AsyncCallback$AddLacCallback cb;

  long lac;

  java.lang.Object ctx;

  java.util.BitSet receivedResponseSet;

  org.apache.bookkeeper.client.DistributionSchedule$AckSet ackSet;

  boolean completed;

  int lastSeenError;

  org.apache.bookkeeper.client.LedgerHandle lh;

  org.apache.bookkeeper.client.ClientContext clientCtx;

  final java.util.List<org.apache.bookkeeper.net.BookieId> currentEnsemble;

  org.apache.bookkeeper.client.PendingWriteLacOp(org.apache.bookkeeper.client.LedgerHandle, org.apache.bookkeeper.client.ClientContext, java.util.List<org.apache.bookkeeper.net.BookieId>, org.apache.bookkeeper.client.AsyncCallback$AddLacCallback, java.lang.Object);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field completed:Z
       9: aload_0
      10: bipush        -12
      12: putfield      #4                  // Field lastSeenError:I
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
      20: aload_0
      21: aload_2
      22: putfield      #6                  // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      25: aload_0
      26: aload         4
      28: putfield      #7                  // Field cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddLacCallback;
      31: aload_0
      32: aload         5
      34: putfield      #8                  // Field ctx:Ljava/lang/Object;
      37: aload_0
      38: ldc2_w        #10                 // long -1l
      41: putfield      #12                 // Field lac:J
      44: aload_0
      45: aload_1
      46: getfield      #13                 // Field org/apache/bookkeeper/client/LedgerHandle.distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
      49: invokeinterface #14,  1           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getAckSet:()Lorg/apache/bookkeeper/client/DistributionSchedule$AckSet;
      54: putfield      #15                 // Field ackSet:Lorg/apache/bookkeeper/client/DistributionSchedule$AckSet;
      57: aload_0
      58: aload_3
      59: putfield      #16                 // Field currentEnsemble:Ljava/util/List;
      62: return

  void setLac(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #12                 // Field lac:J
       5: aload_0
       6: new           #17                 // class java/util/BitSet
       9: dup
      10: aload_0
      11: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
      14: invokevirtual #18                 // Method org/apache/bookkeeper/client/LedgerHandle.getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
      17: invokeinterface #19,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getWriteQuorumSize:()I
      22: invokespecial #20                 // Method java/util/BitSet."<init>":(I)V
      25: putfield      #21                 // Field receivedResponseSet:Ljava/util/BitSet;
      28: aload_0
      29: getfield      #21                 // Field receivedResponseSet:Ljava/util/BitSet;
      32: iconst_0
      33: aload_0
      34: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
      37: invokevirtual #18                 // Method org/apache/bookkeeper/client/LedgerHandle.getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
      40: invokeinterface #19,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getWriteQuorumSize:()I
      45: invokevirtual #22                 // Method java/util/BitSet.set:(II)V
      48: return

  void sendWriteLacRequest(int);
    Code:
       0: aload_0
       1: getfield      #6                  // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #23,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
       9: aload_0
      10: getfield      #16                 // Field currentEnsemble:Ljava/util/List;
      13: iload_1
      14: invokeinterface #24,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      19: checkcast     #25                 // class org/apache/bookkeeper/net/BookieId
      22: aload_0
      23: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
      26: getfield      #26                 // Field org/apache/bookkeeper/client/LedgerHandle.ledgerId:J
      29: aload_0
      30: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
      33: getfield      #27                 // Field org/apache/bookkeeper/client/LedgerHandle.ledgerKey:[B
      36: aload_0
      37: getfield      #12                 // Field lac:J
      40: aload_0
      41: getfield      #28                 // Field toSend:Lorg/apache/bookkeeper/util/ByteBufList;
      44: aload_0
      45: iload_1
      46: invokestatic  #29                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      49: invokeinterface #30,  10          // InterfaceMethod org/apache/bookkeeper/proto/BookieClient.writeLac:(Lorg/apache/bookkeeper/net/BookieId;J[BJLorg/apache/bookkeeper/util/ByteBufList;Lorg/apache/bookkeeper/proto/BookkeeperInternalCallbacks$WriteLacCallback;Ljava/lang/Object;)V
      54: return

  void initiate(org.apache.bookkeeper.util.ByteBufList);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #28                 // Field toSend:Lorg/apache/bookkeeper/util/ByteBufList;
       5: aload_0
       6: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
       9: getfield      #13                 // Field org/apache/bookkeeper/client/LedgerHandle.distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
      12: aload_0
      13: getfield      #12                 // Field lac:J
      16: invokeinterface #31,  3           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getWriteSet:(J)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
      21: astore_2
      22: iconst_0
      23: istore_3
      24: iload_3
      25: aload_2
      26: invokeinterface #32,  1           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.size:()I
      31: if_icmpge     51
      34: aload_0
      35: aload_2
      36: iload_3
      37: invokeinterface #33,  2           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.get:(I)I
      42: invokevirtual #34                 // Method sendWriteLacRequest:(I)V
      45: iinc          3, 1
      48: goto          24
      51: aload_2
      52: invokeinterface #35,  1           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.recycle:()V
      57: goto          71
      60: astore        4
      62: aload_2
      63: invokeinterface #35,  1           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.recycle:()V
      68: aload         4
      70: athrow
      71: return
    Exception table:
       from    to  target type
          22    51    60   any
          60    62    60   any

  public void writeLacComplete(int, long, org.apache.bookkeeper.net.BookieId, java.lang.Object);
    Code:
       0: aload         5
       2: checkcast     #36                 // class java/lang/Integer
       5: invokevirtual #37                 // Method java/lang/Integer.intValue:()I
       8: istore        6
      10: aload_0
      11: getfield      #2                  // Field completed:Z
      14: ifeq          18
      17: return
      18: iconst_0
      19: iload_1
      20: if_icmpeq     28
      23: aload_0
      24: iload_1
      25: putfield      #4                  // Field lastSeenError:I
      28: aload_0
      29: getfield      #21                 // Field receivedResponseSet:Ljava/util/BitSet;
      32: iload         6
      34: invokevirtual #38                 // Method java/util/BitSet.clear:(I)V
      37: iload_1
      38: ifne          84
      41: aload_0
      42: getfield      #15                 // Field ackSet:Lorg/apache/bookkeeper/client/DistributionSchedule$AckSet;
      45: iload         6
      47: invokeinterface #39,  2           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$AckSet.completeBookieAndCheck:(I)Z
      52: ifeq          100
      55: aload_0
      56: getfield      #2                  // Field completed:Z
      59: ifne          100
      62: aload_0
      63: iconst_1
      64: putfield      #2                  // Field completed:Z
      67: aload_0
      68: getfield      #7                  // Field cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddLacCallback;
      71: iload_1
      72: aload_0
      73: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
      76: aload         5
      78: invokeinterface #40,  4           // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddLacCallback.addLacComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/lang/Object;)V
      83: return
      84: getstatic     #41                 // Field LOG:Lorg/slf4j/Logger;
      87: ldc           #42                 // String WriteLac did not succeed: Ledger {} on {}
      89: lload_2
      90: invokestatic  #43                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      93: aload         4
      95: invokeinterface #44,  4           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     100: aload_0
     101: getfield      #21                 // Field receivedResponseSet:Ljava/util/BitSet;
     104: invokevirtual #45                 // Method java/util/BitSet.isEmpty:()Z
     107: ifeq          134
     110: aload_0
     111: iconst_1
     112: putfield      #2                  // Field completed:Z
     115: aload_0
     116: getfield      #7                  // Field cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddLacCallback;
     119: aload_0
     120: getfield      #4                  // Field lastSeenError:I
     123: aload_0
     124: getfield      #5                  // Field lh:Lorg/apache/bookkeeper/client/LedgerHandle;
     127: aload         5
     129: invokeinterface #40,  4           // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddLacCallback.addLacComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/lang/Object;)V
     134: return

  static {};
    Code:
       0: ldc           #46                 // class org/apache/bookkeeper/client/PendingWriteLacOp
       2: invokestatic  #47                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #41                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
