Compiled from "MSLedgerManagerFactory.java"
class org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager$3 implements org.apache.bookkeeper.metastore.MetastoreCallback<org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.metastore.Value>> {
  final long val$ledgerId;

  final java.lang.String val$key;

  final java.util.concurrent.CompletableFuture val$promise;

  final org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager this$0;

  org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager$3(org.apache.bookkeeper.meta.MSLedgerManagerFactory$MsLedgerManager, long, java.lang.String, java.util.concurrent.CompletableFuture);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lorg/apache/bookkeeper/meta/MSLedgerManagerFactory$MsLedgerManager;
       5: aload_0
       6: lload_2
       7: putfield      #3                  // Field val$ledgerId:J
      10: aload_0
      11: aload         4
      13: putfield      #4                  // Field val$key:Ljava/lang/String;
      16: aload_0
      17: aload         5
      19: putfield      #5                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
      22: aload_0
      23: invokespecial #6                  // Method java/lang/Object."<init>":()V
      26: return

  public void complete(int, org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.metastore.Value>, java.lang.Object);
    Code:
       0: getstatic     #7                  // Field org/apache/bookkeeper/metastore/MSException$Code.NoKey:Lorg/apache/bookkeeper/metastore/MSException$Code;
       3: invokevirtual #8                  // Method org/apache/bookkeeper/metastore/MSException$Code.getCode:()I
       6: iload_1
       7: if_icmpne     95
      10: invokestatic  #9                  // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory.access$000:()Lorg/slf4j/Logger;
      13: new           #10                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #12                 // String No ledger metadata found for ledger
      22: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: getfield      #3                  // Field val$ledgerId:J
      29: invokevirtual #14                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      32: ldc           #15                 // String  :
      34: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: iload_1
      41: invokestatic  #17                 // Method org/apache/bookkeeper/metastore/MSException$Code.get:(I)Lorg/apache/bookkeeper/metastore/MSException$Code;
      44: new           #10                 // class java/lang/StringBuilder
      47: dup
      48: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      51: ldc           #18                 // String No key
      53: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: aload_0
      57: getfield      #4                  // Field val$key:Ljava/lang/String;
      60: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: ldc           #19                 // String  found.
      65: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      71: invokestatic  #20                 // Method org/apache/bookkeeper/metastore/MSException.create:(Lorg/apache/bookkeeper/metastore/MSException$Code;Ljava/lang/String;)Lorg/apache/bookkeeper/metastore/MSException;
      74: invokeinterface #21,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      79: aload_0
      80: getfield      #5                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
      83: new           #22                 // class org/apache/bookkeeper/client/BKException$BKNoSuchLedgerExistsOnMetadataServerException
      86: dup
      87: invokespecial #23                 // Method org/apache/bookkeeper/client/BKException$BKNoSuchLedgerExistsOnMetadataServerException."<init>":()V
      90: invokevirtual #24                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
      93: pop
      94: return
      95: getstatic     #25                 // Field org/apache/bookkeeper/metastore/MSException$Code.OK:Lorg/apache/bookkeeper/metastore/MSException$Code;
      98: invokevirtual #8                  // Method org/apache/bookkeeper/metastore/MSException$Code.getCode:()I
     101: iload_1
     102: if_icmpeq     185
     105: invokestatic  #9                  // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory.access$000:()Lorg/slf4j/Logger;
     108: new           #10                 // class java/lang/StringBuilder
     111: dup
     112: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     115: ldc           #26                 // String Could not read metadata for ledger
     117: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: aload_0
     121: getfield      #3                  // Field val$ledgerId:J
     124: invokevirtual #14                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     127: ldc           #15                 // String  :
     129: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     135: iload_1
     136: invokestatic  #17                 // Method org/apache/bookkeeper/metastore/MSException$Code.get:(I)Lorg/apache/bookkeeper/metastore/MSException$Code;
     139: new           #10                 // class java/lang/StringBuilder
     142: dup
     143: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     146: ldc           #27                 // String Failed to get key
     148: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: aload_0
     152: getfield      #4                  // Field val$key:Ljava/lang/String;
     155: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     158: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     161: invokestatic  #20                 // Method org/apache/bookkeeper/metastore/MSException.create:(Lorg/apache/bookkeeper/metastore/MSException$Code;Ljava/lang/String;)Lorg/apache/bookkeeper/metastore/MSException;
     164: invokeinterface #21,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     169: aload_0
     170: getfield      #5                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
     173: new           #28                 // class org/apache/bookkeeper/client/BKException$MetaStoreException
     176: dup
     177: invokespecial #29                 // Method org/apache/bookkeeper/client/BKException$MetaStoreException."<init>":()V
     180: invokevirtual #24                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     183: pop
     184: return
     185: aload_0
     186: getfield      #2                  // Field this$0:Lorg/apache/bookkeeper/meta/MSLedgerManagerFactory$MsLedgerManager;
     189: invokestatic  #30                 // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory$MsLedgerManager.access$100:(Lorg/apache/bookkeeper/meta/MSLedgerManagerFactory$MsLedgerManager;)Lorg/apache/bookkeeper/meta/LedgerMetadataSerDe;
     192: aload_2
     193: invokevirtual #31                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
     196: checkcast     #32                 // class org/apache/bookkeeper/metastore/Value
     199: ldc           #33                 // String .META
     201: invokevirtual #34                 // Method org/apache/bookkeeper/metastore/Value.getField:(Ljava/lang/String;)[B
     204: aload_0
     205: getfield      #3                  // Field val$ledgerId:J
     208: invokestatic  #35                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     211: invokevirtual #36                 // Method org/apache/bookkeeper/meta/LedgerMetadataSerDe.parseConfig:([BJLjava/util/Optional;)Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     214: astore        4
     216: aload_0
     217: getfield      #5                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
     220: new           #37                 // class org/apache/bookkeeper/versioning/Versioned
     223: dup
     224: aload         4
     226: aload_2
     227: invokevirtual #38                 // Method org/apache/bookkeeper/versioning/Versioned.getVersion:()Lorg/apache/bookkeeper/versioning/Version;
     230: invokespecial #39                 // Method org/apache/bookkeeper/versioning/Versioned."<init>":(Ljava/lang/Object;Lorg/apache/bookkeeper/versioning/Version;)V
     233: invokevirtual #40                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
     236: pop
     237: goto          294
     240: astore        4
     242: invokestatic  #9                  // Method org/apache/bookkeeper/meta/MSLedgerManagerFactory.access$000:()Lorg/slf4j/Logger;
     245: new           #10                 // class java/lang/StringBuilder
     248: dup
     249: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
     252: ldc           #42                 // String Could not parse ledger metadata for ledger
     254: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     257: aload_0
     258: getfield      #3                  // Field val$ledgerId:J
     261: invokevirtual #14                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     264: ldc           #15                 // String  :
     266: invokevirtual #13                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     269: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     272: aload         4
     274: invokeinterface #21,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     279: aload_0
     280: getfield      #5                  // Field val$promise:Ljava/util/concurrent/CompletableFuture;
     283: new           #28                 // class org/apache/bookkeeper/client/BKException$MetaStoreException
     286: dup
     287: invokespecial #29                 // Method org/apache/bookkeeper/client/BKException$MetaStoreException."<init>":()V
     290: invokevirtual #24                 // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     293: pop
     294: return
    Exception table:
       from    to  target type
         185   237   240   Class java/io/IOException

  public void complete(int, java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: checkcast     #37                 // class org/apache/bookkeeper/versioning/Versioned
       6: aload_3
       7: invokevirtual #43                 // Method complete:(ILorg/apache/bookkeeper/versioning/Versioned;Ljava/lang/Object;)V
      10: return
}
