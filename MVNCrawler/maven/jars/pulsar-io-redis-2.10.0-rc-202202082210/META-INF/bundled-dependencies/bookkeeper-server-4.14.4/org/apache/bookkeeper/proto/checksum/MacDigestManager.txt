Compiled from "MacDigestManager.java"
public class org.apache.bookkeeper.proto.checksum.MacDigestManager extends org.apache.bookkeeper.proto.checksum.DigestManager {
  private static final org.slf4j.Logger LOG;

  public static final java.lang.String DIGEST_ALGORITHM;

  public static final java.lang.String KEY_ALGORITHM;

  public static final int MAC_CODE_LENGTH;

  final byte[] passwd;

  static final byte[] EMPTY_LEDGER_KEY;

  private final java.lang.ThreadLocal<javax.crypto.Mac> mac;

  public org.apache.bookkeeper.proto.checksum.MacDigestManager(long, byte[], boolean, io.netty.buffer.ByteBufAllocator) throws java.security.GeneralSecurityException;
    Code:
       0: aload_0
       1: lload_1
       2: iload         4
       4: aload         5
       6: invokespecial #2                  // Method org/apache/bookkeeper/proto/checksum/DigestManager."<init>":(JZLio/netty/buffer/ByteBufAllocator;)V
       9: aload_0
      10: new           #3                  // class org/apache/bookkeeper/proto/checksum/MacDigestManager$1
      13: dup
      14: aload_0
      15: invokespecial #4                  // Method org/apache/bookkeeper/proto/checksum/MacDigestManager$1."<init>":(Lorg/apache/bookkeeper/proto/checksum/MacDigestManager;)V
      18: putfield      #5                  // Field mac:Ljava/lang/ThreadLocal;
      21: aload_0
      22: aload_3
      23: aload_3
      24: arraylength
      25: invokestatic  #6                  // Method java/util/Arrays.copyOf:([BI)[B
      28: putfield      #7                  // Field passwd:[B
      31: return

  public static byte[] genDigest(java.lang.String, byte[]) throws java.security.NoSuchAlgorithmException;
    Code:
       0: ldc           #9                  // String SHA-1
       2: invokestatic  #10                 // Method java/security/MessageDigest.getInstance:(Ljava/lang/String;)Ljava/security/MessageDigest;
       5: astore_2
       6: aload_2
       7: aload_0
       8: getstatic     #11                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      11: invokevirtual #12                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
      14: invokevirtual #13                 // Method java/security/MessageDigest.update:([B)V
      17: aload_2
      18: aload_1
      19: invokevirtual #13                 // Method java/security/MessageDigest.update:([B)V
      22: aload_2
      23: invokevirtual #14                 // Method java/security/MessageDigest.digest:()[B
      26: areturn

  int getMacCodeLength();
    Code:
       0: bipush        20
       2: ireturn

  void populateValueAndReset(io.netty.buffer.ByteBuf);
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #5                  // Field mac:Ljava/lang/ThreadLocal;
       5: invokevirtual #15                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       8: checkcast     #16                 // class javax/crypto/Mac
      11: invokevirtual #17                 // Method javax/crypto/Mac.doFinal:()[B
      14: invokevirtual #18                 // Method io/netty/buffer/ByteBuf.writeBytes:([B)Lio/netty/buffer/ByteBuf;
      17: pop
      18: return

  void update(io.netty.buffer.ByteBuf);
    Code:
       0: aload_0
       1: getfield      #5                  // Field mac:Ljava/lang/ThreadLocal;
       4: invokevirtual #15                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #16                 // class javax/crypto/Mac
      10: aload_1
      11: invokevirtual #19                 // Method io/netty/buffer/ByteBuf.nioBuffer:()Ljava/nio/ByteBuffer;
      14: invokevirtual #20                 // Method javax/crypto/Mac.update:(Ljava/nio/ByteBuffer;)V
      17: return

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static {};
    Code:
       0: ldc           #8                  // class org/apache/bookkeeper/proto/checksum/MacDigestManager
       2: invokestatic  #21                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
       8: ldc           #22                 // String ledger
      10: iconst_0
      11: newarray       byte
      13: invokestatic  #23                 // Method genDigest:(Ljava/lang/String;[B)[B
      16: putstatic     #24                 // Field EMPTY_LEDGER_KEY:[B
      19: goto          32
      22: astore_0
      23: new           #26                 // class java/lang/RuntimeException
      26: dup
      27: aload_0
      28: invokespecial #27                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      31: athrow
      32: return
    Exception table:
       from    to  target type
           8    19    22   Class java/security/NoSuchAlgorithmException
}
