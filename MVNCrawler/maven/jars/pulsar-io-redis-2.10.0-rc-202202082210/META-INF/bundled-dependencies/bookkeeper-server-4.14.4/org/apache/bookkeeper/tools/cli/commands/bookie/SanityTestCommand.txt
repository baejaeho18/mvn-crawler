Compiled from "SanityTestCommand.java"
public class org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand extends org.apache.bookkeeper.tools.cli.helpers.BookieCommand<org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand$SanityFlags> {
  private static final org.slf4j.Logger LOG;

  private static final java.lang.String NAME;

  private static final java.lang.String DESC;

  public org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand();
    Code:
       0: aload_0
       1: new           #1                  // class org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags
       4: dup
       5: invokespecial #2                  // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags."<init>":()V
       8: invokespecial #3                  // Method "<init>":(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)V
      11: return

  public org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand(org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand$SanityFlags);
    Code:
       0: aload_0
       1: invokestatic  #4                  // Method org/apache/bookkeeper/tools/framework/CliSpec.newBuilder:()Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
       4: aload_1
       5: invokevirtual #5                  // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.withFlags:(Lorg/apache/bookkeeper/tools/framework/CliFlags;)Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
       8: ldc           #7                  // String sanitytest
      10: invokevirtual #8                  // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.withName:(Ljava/lang/String;)Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
      13: ldc           #9                  // String Sanity test for local bookie. Create ledger and write/reads entries on local bookie.
      15: invokevirtual #10                 // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.withDescription:(Ljava/lang/String;)Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
      18: invokevirtual #11                 // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.build:()Lorg/apache/bookkeeper/tools/framework/CliSpec;
      21: invokespecial #12                 // Method org/apache/bookkeeper/tools/cli/helpers/BookieCommand."<init>":(Lorg/apache/bookkeeper/tools/framework/CliSpec;)V
      24: return

  public boolean apply(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand$SanityFlags);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #13                 // Method handle:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)Z
       6: ireturn
       7: astore_3
       8: new           #15                 // class com/google/common/util/concurrent/UncheckedExecutionException
      11: dup
      12: aload_3
      13: invokevirtual #16                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      16: aload_3
      17: invokespecial #17                 // Method com/google/common/util/concurrent/UncheckedExecutionException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      20: athrow
    Exception table:
       from    to  target type
           0     6     7   Class java/lang/Exception

  private boolean handle(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.tools.cli.commands.bookie.SanityTestCommand$SanityFlags) throws java.lang.Exception;
    Code:
       0: new           #18                 // class org/apache/bookkeeper/conf/ClientConfiguration
       3: dup
       4: invokespecial #19                 // Method org/apache/bookkeeper/conf/ClientConfiguration."<init>":()V
       7: astore_3
       8: aload_3
       9: aload_1
      10: invokevirtual #20                 // Method org/apache/bookkeeper/conf/ClientConfiguration.addConfiguration:(Lorg/apache/commons/configuration/Configuration;)V
      13: aload_3
      14: ldc           #21                 // class org/apache/bookkeeper/bookie/LocalBookieEnsemblePlacementPolicy
      16: invokevirtual #22                 // Method org/apache/bookkeeper/conf/ClientConfiguration.setEnsemblePlacementPolicy:(Ljava/lang/Class;)Lorg/apache/bookkeeper/conf/ClientConfiguration;
      19: pop
      20: aload_3
      21: aload_2
      22: invokestatic  #23                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$000:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
      25: invokevirtual #24                 // Method org/apache/bookkeeper/conf/ClientConfiguration.setAddEntryTimeout:(I)Lorg/apache/bookkeeper/conf/ClientConfiguration;
      28: pop
      29: aload_3
      30: aload_2
      31: invokestatic  #23                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$000:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
      34: invokevirtual #25                 // Method org/apache/bookkeeper/conf/ClientConfiguration.setReadEntryTimeout:(I)Lorg/apache/bookkeeper/conf/ClientConfiguration;
      37: pop
      38: new           #26                 // class org/apache/bookkeeper/client/BookKeeper
      41: dup
      42: aload_3
      43: invokespecial #27                 // Method org/apache/bookkeeper/client/BookKeeper."<init>":(Lorg/apache/bookkeeper/conf/ClientConfiguration;)V
      46: astore        4
      48: aconst_null
      49: astore        5
      51: aload         4
      53: iconst_1
      54: iconst_1
      55: getstatic     #28                 // Field org/apache/bookkeeper/client/BookKeeper$DigestType.MAC:Lorg/apache/bookkeeper/client/BookKeeper$DigestType;
      58: iconst_0
      59: newarray       byte
      61: invokevirtual #29                 // Method org/apache/bookkeeper/client/BookKeeper.createLedger:(IILorg/apache/bookkeeper/client/BookKeeper$DigestType;[B)Lorg/apache/bookkeeper/client/LedgerHandle;
      64: astore        5
      66: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
      69: ldc           #31                 // String Create ledger {}
      71: aload         5
      73: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
      76: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      79: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      84: iconst_0
      85: istore        6
      87: iload         6
      89: aload_2
      90: invokestatic  #35                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
      93: if_icmpge     138
      96: new           #36                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     103: ldc           #38                 // String entry-
     105: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: iload         6
     110: invokevirtual #40                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     113: invokevirtual #41                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     116: astore        7
     118: aload         5
     120: aload         7
     122: getstatic     #42                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     125: invokevirtual #43                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     128: invokevirtual #44                 // Method org/apache/bookkeeper/client/LedgerHandle.addEntry:([B)J
     131: pop2
     132: iinc          6, 1
     135: goto          87
     138: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     141: ldc           #45                 // String Written {} entries in ledger {}
     143: aload_2
     144: invokestatic  #35                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
     147: invokestatic  #46                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     150: aload         5
     152: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     155: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     158: invokeinterface #47,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     163: aload         4
     165: aload         5
     167: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     170: getstatic     #28                 // Field org/apache/bookkeeper/client/BookKeeper$DigestType.MAC:Lorg/apache/bookkeeper/client/BookKeeper$DigestType;
     173: iconst_0
     174: newarray       byte
     176: invokevirtual #48                 // Method org/apache/bookkeeper/client/BookKeeper.openLedger:(JLorg/apache/bookkeeper/client/BookKeeper$DigestType;[B)Lorg/apache/bookkeeper/client/LedgerHandle;
     179: astore        5
     181: aload         5
     183: invokevirtual #49                 // Method org/apache/bookkeeper/client/LedgerHandle.getLastAddConfirmed:()J
     186: aload_2
     187: invokestatic  #35                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
     190: iconst_1
     191: isub
     192: i2l
     193: lcmp
     194: ifeq          242
     197: new           #14                 // class java/lang/Exception
     200: dup
     201: new           #36                 // class java/lang/StringBuilder
     204: dup
     205: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     208: ldc           #50                 // String Invalid last entry found on ledger. expecting:
     210: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     213: aload_2
     214: invokestatic  #35                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
     217: iconst_1
     218: isub
     219: invokevirtual #40                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     222: ldc           #51                 // String  -- found:
     224: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     227: aload         5
     229: invokevirtual #49                 // Method org/apache/bookkeeper/client/LedgerHandle.getLastAddConfirmed:()J
     232: invokevirtual #52                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     235: invokevirtual #41                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     238: invokespecial #53                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     241: athrow
     242: aload         5
     244: lconst_0
     245: aload_2
     246: invokestatic  #35                 // Method org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)I
     249: iconst_1
     250: isub
     251: i2l
     252: invokevirtual #54                 // Method org/apache/bookkeeper/client/LedgerHandle.readEntries:(JJ)Ljava/util/Enumeration;
     255: astore        6
     257: iconst_0
     258: istore        7
     260: aload         6
     262: invokeinterface #55,  1           // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
     267: ifeq          375
     270: aload         6
     272: invokeinterface #56,  1           // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
     277: checkcast     #57                 // class org/apache/bookkeeper/client/LedgerEntry
     280: astore        8
     282: new           #58                 // class java/lang/String
     285: dup
     286: aload         8
     288: invokevirtual #59                 // Method org/apache/bookkeeper/client/LedgerEntry.getEntry:()[B
     291: getstatic     #42                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     294: invokespecial #60                 // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
     297: astore        9
     299: new           #36                 // class java/lang/StringBuilder
     302: dup
     303: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     306: ldc           #38                 // String entry-
     308: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     311: iload         7
     313: iinc          7, 1
     316: invokevirtual #40                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     319: invokevirtual #41                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     322: astore        10
     324: aload         10
     326: aload         9
     328: invokevirtual #61                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     331: ifne          372
     334: new           #14                 // class java/lang/Exception
     337: dup
     338: new           #36                 // class java/lang/StringBuilder
     341: dup
     342: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     345: ldc           #62                 // String Failed validation of received message - Expected:
     347: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     350: aload         10
     352: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     355: ldc           #63                 // String , Actual:
     357: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     360: aload         9
     362: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     365: invokevirtual #41                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     368: invokespecial #53                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     371: athrow
     372: goto          260
     375: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     378: ldc           #64                 // String Read {} entries from ledger {}
     380: iload         7
     382: invokestatic  #46                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     385: aload         5
     387: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     390: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     393: invokeinterface #47,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     398: aload         5
     400: ifnull        431
     403: aload         4
     405: aload         5
     407: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     410: invokevirtual #65                 // Method org/apache/bookkeeper/client/BookKeeper.deleteLedger:(J)V
     413: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     416: ldc           #66                 // String Deleted ledger {}
     418: aload         5
     420: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     423: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     426: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     431: aload         4
     433: invokevirtual #67                 // Method org/apache/bookkeeper/client/BookKeeper.close:()V
     436: goto          540
     439: astore        6
     441: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     444: ldc           #68                 // String Error in bookie sanity test
     446: aload         6
     448: invokeinterface #69,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     453: iconst_0
     454: istore        7
     456: aload         5
     458: ifnull        489
     461: aload         4
     463: aload         5
     465: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     468: invokevirtual #65                 // Method org/apache/bookkeeper/client/BookKeeper.deleteLedger:(J)V
     471: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     474: ldc           #66                 // String Deleted ledger {}
     476: aload         5
     478: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     481: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     484: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     489: aload         4
     491: invokevirtual #67                 // Method org/apache/bookkeeper/client/BookKeeper.close:()V
     494: iload         7
     496: ireturn
     497: astore        11
     499: aload         5
     501: ifnull        532
     504: aload         4
     506: aload         5
     508: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     511: invokevirtual #65                 // Method org/apache/bookkeeper/client/BookKeeper.deleteLedger:(J)V
     514: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     517: ldc           #66                 // String Deleted ledger {}
     519: aload         5
     521: invokevirtual #32                 // Method org/apache/bookkeeper/client/LedgerHandle.getId:()J
     524: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     527: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     532: aload         4
     534: invokevirtual #67                 // Method org/apache/bookkeeper/client/BookKeeper.close:()V
     537: aload         11
     539: athrow
     540: getstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
     543: ldc           #70                 // String Bookie sanity test succeeded
     545: invokeinterface #71,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     550: iconst_1
     551: ireturn
    Exception table:
       from    to  target type
          51   398   439   Class java/lang/Exception
          51   398   497   any
         439   456   497   any
         497   499   497   any

  public boolean apply(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.tools.framework.CliFlags);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #1                  // class org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags
       6: invokevirtual #72                 // Method apply:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand$SanityFlags;)Z
       9: ireturn

  static {};
    Code:
       0: ldc           #6                  // class org/apache/bookkeeper/tools/cli/commands/bookie/SanityTestCommand
       2: invokestatic  #73                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #30                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
