Compiled from "ZooWorker.java"
class org.apache.bookkeeper.zookeeper.ZooWorker {
  private static final org.slf4j.Logger logger;

  int attempts;

  long startTimeNanos;

  long elapsedTimeMs;

  final org.apache.bookkeeper.zookeeper.RetryPolicy retryPolicy;

  final org.apache.bookkeeper.stats.OpStatsLogger statsLogger;

  org.apache.bookkeeper.zookeeper.ZooWorker(org.apache.bookkeeper.zookeeper.RetryPolicy, org.apache.bookkeeper.stats.OpStatsLogger);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field attempts:I
       9: aload_0
      10: lconst_0
      11: putfield      #3                  // Field elapsedTimeMs:J
      14: aload_0
      15: aload_1
      16: putfield      #4                  // Field retryPolicy:Lorg/apache/bookkeeper/zookeeper/RetryPolicy;
      19: aload_0
      20: aload_2
      21: putfield      #5                  // Field statsLogger:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      24: aload_0
      25: invokestatic  #6                  // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
      28: putfield      #7                  // Field startTimeNanos:J
      31: return

  public boolean allowRetry(int);
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #7                  // Field startTimeNanos:J
       5: invokestatic  #8                  // Method org/apache/bookkeeper/util/MathUtils.elapsedMSec:(J)J
       8: putfield      #3                  // Field elapsedTimeMs:J
      11: iload_1
      12: invokestatic  #9                  // Method isRecoverableException:(I)Z
      15: ifne          71
      18: getstatic     #10                 // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
      21: invokevirtual #11                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      24: iload_1
      25: if_icmpne     50
      28: aload_0
      29: getfield      #5                  // Field statsLogger:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      32: aload_0
      33: getfield      #7                  // Field startTimeNanos:J
      36: invokestatic  #12                 // Method org/apache/bookkeeper/util/MathUtils.elapsedMicroSec:(J)J
      39: getstatic     #13                 // Field java/util/concurrent/TimeUnit.MICROSECONDS:Ljava/util/concurrent/TimeUnit;
      42: invokeinterface #14,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
      47: goto          69
      50: aload_0
      51: getfield      #5                  // Field statsLogger:Lorg/apache/bookkeeper/stats/OpStatsLogger;
      54: aload_0
      55: getfield      #7                  // Field startTimeNanos:J
      58: invokestatic  #12                 // Method org/apache/bookkeeper/util/MathUtils.elapsedMicroSec:(J)J
      61: getstatic     #13                 // Field java/util/concurrent/TimeUnit.MICROSECONDS:Ljava/util/concurrent/TimeUnit;
      64: invokeinterface #15,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
      69: iconst_0
      70: ireturn
      71: aload_0
      72: dup
      73: getfield      #2                  // Field attempts:I
      76: iconst_1
      77: iadd
      78: putfield      #2                  // Field attempts:I
      81: aload_0
      82: getfield      #4                  // Field retryPolicy:Lorg/apache/bookkeeper/zookeeper/RetryPolicy;
      85: aload_0
      86: getfield      #2                  // Field attempts:I
      89: aload_0
      90: getfield      #3                  // Field elapsedTimeMs:J
      93: invokeinterface #16,  4           // InterfaceMethod org/apache/bookkeeper/zookeeper/RetryPolicy.allowRetry:(IJ)Z
      98: ireturn

  public long nextRetryWaitTime();
    Code:
       0: aload_0
       1: getfield      #4                  // Field retryPolicy:Lorg/apache/bookkeeper/zookeeper/RetryPolicy;
       4: aload_0
       5: getfield      #2                  // Field attempts:I
       8: aload_0
       9: getfield      #3                  // Field elapsedTimeMs:J
      12: invokeinterface #17,  4           // InterfaceMethod org/apache/bookkeeper/zookeeper/RetryPolicy.nextRetryWaitTime:(IJ)J
      17: lreturn

  public static boolean isRecoverableException(int);
    Code:
       0: getstatic     #18                 // Field org/apache/zookeeper/KeeperException$Code.CONNECTIONLOSS:Lorg/apache/zookeeper/KeeperException$Code;
       3: invokevirtual #11                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
       6: iload_0
       7: if_icmpeq     40
      10: getstatic     #19                 // Field org/apache/zookeeper/KeeperException$Code.OPERATIONTIMEOUT:Lorg/apache/zookeeper/KeeperException$Code;
      13: invokevirtual #11                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      16: iload_0
      17: if_icmpeq     40
      20: getstatic     #20                 // Field org/apache/zookeeper/KeeperException$Code.SESSIONMOVED:Lorg/apache/zookeeper/KeeperException$Code;
      23: invokevirtual #11                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      26: iload_0
      27: if_icmpeq     40
      30: getstatic     #21                 // Field org/apache/zookeeper/KeeperException$Code.SESSIONEXPIRED:Lorg/apache/zookeeper/KeeperException$Code;
      33: invokevirtual #11                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      36: iload_0
      37: if_icmpne     44
      40: iconst_1
      41: goto          45
      44: iconst_0
      45: ireturn

  public static boolean isRecoverableException(org.apache.zookeeper.KeeperException);
    Code:
       0: aload_0
       1: invokevirtual #22                 // Method org/apache/zookeeper/KeeperException.code:()Lorg/apache/zookeeper/KeeperException$Code;
       4: invokevirtual #11                 // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
       7: invokestatic  #9                  // Method isRecoverableException:(I)Z
      10: ireturn

  public static <T> T syncCallWithRetries(org.apache.bookkeeper.zookeeper.ZooKeeperClient, org.apache.bookkeeper.zookeeper.ZooWorker$ZooCallable<T>, org.apache.bookkeeper.zookeeper.RetryPolicy, com.google.common.util.concurrent.RateLimiter, org.apache.bookkeeper.stats.OpStatsLogger) throws org.apache.zookeeper.KeeperException, java.lang.InterruptedException;
    Code:
       0: aconst_null
       1: astore        5
       3: iconst_0
       4: istore        6
       6: iconst_0
       7: istore        7
       9: invokestatic  #6                  // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
      12: lstore        8
      14: iload         6
      16: ifne          190
      19: aconst_null
      20: aload_0
      21: if_acmpeq     28
      24: aload_0
      25: invokevirtual #23                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient.waitForConnection:()V
      28: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
      31: ldc           #25                 // String Execute {} at {} retry attempt.
      33: aload_1
      34: iload         7
      36: invokestatic  #26                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      39: invokeinterface #27,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      44: aconst_null
      45: aload_3
      46: if_acmpeq     54
      49: aload_3
      50: invokevirtual #28                 // Method com/google/common/util/concurrent/RateLimiter.acquire:()D
      53: pop2
      54: aload_1
      55: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/zookeeper/ZooWorker$ZooCallable.call:()Ljava/lang/Object;
      60: astore        5
      62: iconst_1
      63: istore        6
      65: aload         4
      67: lload         8
      69: invokestatic  #12                 // Method org/apache/bookkeeper/util/MathUtils.elapsedMicroSec:(J)J
      72: getstatic     #13                 // Field java/util/concurrent/TimeUnit.MICROSECONDS:Ljava/util/concurrent/TimeUnit;
      75: invokeinterface #14,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
      80: goto          14
      83: astore        10
      85: iinc          7, 1
      88: iconst_1
      89: istore        11
      91: lload         8
      93: invokestatic  #8                  // Method org/apache/bookkeeper/util/MathUtils.elapsedMSec:(J)J
      96: lstore        12
      98: aconst_null
      99: aload_0
     100: if_acmpeq     111
     103: aload         10
     105: invokestatic  #31                 // Method isRecoverableException:(Lorg/apache/zookeeper/KeeperException;)Z
     108: ifne          116
     111: aconst_null
     112: aload_0
     113: if_acmpne     132
     116: aload_2
     117: iload         7
     119: lload         12
     121: invokeinterface #16,  4           // InterfaceMethod org/apache/bookkeeper/zookeeper/RetryPolicy.allowRetry:(IJ)Z
     126: ifeq          132
     129: iconst_0
     130: istore        11
     132: iload         11
     134: ifeq          171
     137: aload         4
     139: lload         8
     141: invokestatic  #12                 // Method org/apache/bookkeeper/util/MathUtils.elapsedMicroSec:(J)J
     144: getstatic     #13                 // Field java/util/concurrent/TimeUnit.MICROSECONDS:Ljava/util/concurrent/TimeUnit;
     147: invokeinterface #15,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     152: getstatic     #24                 // Field logger:Lorg/slf4j/Logger;
     155: ldc           #32                 // String Stopped executing {} after {} attempts.
     157: aload_1
     158: iload         7
     160: invokestatic  #26                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     163: invokeinterface #27,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     168: aload         10
     170: athrow
     171: getstatic     #33                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     174: aload_2
     175: iload         7
     177: lload         12
     179: invokeinterface #17,  4           // InterfaceMethod org/apache/bookkeeper/zookeeper/RetryPolicy.nextRetryWaitTime:(IJ)J
     184: invokevirtual #34                 // Method java/util/concurrent/TimeUnit.sleep:(J)V
     187: goto          14
     190: aload         5
     192: areturn
    Exception table:
       from    to  target type
          19    80    83   Class org/apache/zookeeper/KeeperException

  static {};
    Code:
       0: ldc           #35                 // class org/apache/bookkeeper/zookeeper/ZooWorker
       2: invokestatic  #36                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #24                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
