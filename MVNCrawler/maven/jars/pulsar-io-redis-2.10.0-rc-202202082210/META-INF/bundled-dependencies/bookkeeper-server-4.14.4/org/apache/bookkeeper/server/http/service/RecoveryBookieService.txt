Compiled from "RecoveryBookieService.java"
public class org.apache.bookkeeper.server.http.service.RecoveryBookieService implements org.apache.bookkeeper.http.service.HttpEndpointService {
  static final org.slf4j.Logger LOG;

  protected org.apache.bookkeeper.conf.ServerConfiguration conf;

  protected org.apache.bookkeeper.client.BookKeeperAdmin bka;

  protected java.util.concurrent.ExecutorService executor;

  public org.apache.bookkeeper.server.http.service.RecoveryBookieService(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.client.BookKeeperAdmin, java.util.concurrent.ExecutorService);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_1
       5: invokestatic  #2                  // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       8: pop
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field bka:Lorg/apache/bookkeeper/client/BookKeeperAdmin;
      19: aload_0
      20: aload_3
      21: putfield      #5                  // Field executor:Ljava/util/concurrent/ExecutorService;
      24: return

  public org.apache.bookkeeper.http.service.HttpServiceResponse handle(org.apache.bookkeeper.http.service.HttpServiceRequest) throws java.lang.Exception;
    Code:
       0: new           #6                  // class org/apache/bookkeeper/http/service/HttpServiceResponse
       3: dup
       4: invokespecial #7                  // Method org/apache/bookkeeper/http/service/HttpServiceResponse."<init>":()V
       7: astore_2
       8: aload_1
       9: invokevirtual #8                  // Method org/apache/bookkeeper/http/service/HttpServiceRequest.getBody:()Ljava/lang/String;
      12: astore_3
      13: aload_3
      14: ifnonnull     34
      17: aload_2
      18: getstatic     #9                  // Field org/apache/bookkeeper/http/HttpServer$StatusCode.NOT_FOUND:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
      21: invokevirtual #10                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
      24: pop
      25: aload_2
      26: ldc           #11                 // String No request body provide.
      28: invokevirtual #12                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
      31: pop
      32: aload_2
      33: areturn
      34: aload_3
      35: ldc           #13                 // class org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody
      37: invokestatic  #14                 // Method org/apache/bookkeeper/common/util/JsonUtil.fromJson:(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Object;
      40: checkcast     #13                 // class org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody
      43: astore        4
      45: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      48: new           #16                 // class java/lang/StringBuilder
      51: dup
      52: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      55: ldc           #18                 // String bookie_src: [
      57: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      60: aload         4
      62: getfield      #20                 // Field org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody.bookieSrc:Ljava/util/List;
      65: iconst_0
      66: invokeinterface #21,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      71: checkcast     #22                 // class java/lang/String
      74: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: ldc           #23                 // String ],  delete_cookie: [
      79: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: aload         4
      84: getfield      #24                 // Field org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody.deleteCookie:Z
      87: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      90: ldc           #26                 // String ]
      92: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      98: invokeinterface #28,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     103: goto          158
     106: astore        5
     108: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
     111: ldc           #30                 // String Meet Exception:
     113: aload         5
     115: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     120: aload_2
     121: getstatic     #9                  // Field org/apache/bookkeeper/http/HttpServer$StatusCode.NOT_FOUND:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     124: invokevirtual #10                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     127: pop
     128: aload_2
     129: new           #16                 // class java/lang/StringBuilder
     132: dup
     133: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
     136: ldc           #32                 // String ERROR parameters:
     138: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: aload         5
     143: invokevirtual #33                 // Method org/apache/bookkeeper/common/util/JsonUtil$ParseJsonException.getMessage:()Ljava/lang/String;
     146: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     152: invokevirtual #12                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     155: pop
     156: aload_2
     157: areturn
     158: getstatic     #34                 // Field org/apache/bookkeeper/http/HttpServer$Method.PUT:Lorg/apache/bookkeeper/http/HttpServer$Method;
     161: aload_1
     162: invokevirtual #35                 // Method org/apache/bookkeeper/http/service/HttpServiceRequest.getMethod:()Lorg/apache/bookkeeper/http/HttpServer$Method;
     165: if_acmpne     214
     168: aload         4
     170: getfield      #20                 // Field org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody.bookieSrc:Ljava/util/List;
     173: invokeinterface #36,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     178: ifne          214
     181: aload_0
     182: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
     185: aload_0
     186: aload         4
     188: invokedynamic #37,  0             // InvokeDynamic #0:apply:(Lorg/apache/bookkeeper/server/http/service/RecoveryBookieService;Lorg/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody;)Ljava/util/function/Function;
     193: invokestatic  #38                 // Method org/apache/bookkeeper/meta/MetadataDrivers.runFunctionWithRegistrationManager:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Ljava/util/function/Function;)Ljava/lang/Object;
     196: pop
     197: aload_2
     198: getstatic     #39                 // Field org/apache/bookkeeper/http/HttpServer$StatusCode.OK:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     201: invokevirtual #10                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     204: pop
     205: aload_2
     206: ldc           #40                 // String Success send recovery request command.
     208: invokevirtual #12                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     211: pop
     212: aload_2
     213: areturn
     214: aload_2
     215: getstatic     #9                  // Field org/apache/bookkeeper/http/HttpServer$StatusCode.NOT_FOUND:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     218: invokevirtual #10                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     221: pop
     222: aload_2
     223: ldc           #41                 // String Not found method. Should be PUT method
     225: invokevirtual #12                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     228: pop
     229: aload_2
     230: areturn
    Exception table:
       from    to  target type
          34   103   106   Class org/apache/bookkeeper/common/util/JsonUtil$ParseJsonException

  private java.lang.Object lambda$handle$1(org.apache.bookkeeper.server.http.service.RecoveryBookieService$RecoveryRequestJsonBody, org.apache.bookkeeper.discover.RegistrationManager);
    Code:
       0: aload_1
       1: getfield      #20                 // Field org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody.bookieSrc:Ljava/util/List;
       4: iconst_0
       5: invokeinterface #21,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      10: checkcast     #22                 // class java/lang/String
      13: astore_3
      14: aload_0
      15: getfield      #5                  // Field executor:Ljava/util/concurrent/ExecutorService;
      18: aload_0
      19: aload_3
      20: aload_1
      21: aload_2
      22: invokedynamic #42,  0             // InvokeDynamic #1:run:(Lorg/apache/bookkeeper/server/http/service/RecoveryBookieService;Ljava/lang/String;Lorg/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody;Lorg/apache/bookkeeper/discover/RegistrationManager;)Ljava/lang/Runnable;
      27: invokeinterface #43,  2           // InterfaceMethod java/util/concurrent/ExecutorService.execute:(Ljava/lang/Runnable;)V
      32: aconst_null
      33: areturn

  private void lambda$null$0(java.lang.String, org.apache.bookkeeper.server.http.service.RecoveryBookieService$RecoveryRequestJsonBody, org.apache.bookkeeper.discover.RegistrationManager);
    Code:
       0: aload_1
       1: invokestatic  #44                 // Method org/apache/bookkeeper/net/BookieId.parse:(Ljava/lang/String;)Lorg/apache/bookkeeper/net/BookieId;
       4: astore        4
       6: aload_2
       7: getfield      #24                 // Field org/apache/bookkeeper/server/http/service/RecoveryBookieService$RecoveryRequestJsonBody.deleteCookie:Z
      10: istore        5
      12: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #45                 // String Start recovering bookie.
      17: invokeinterface #46,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      22: aload_0
      23: getfield      #4                  // Field bka:Lorg/apache/bookkeeper/client/BookKeeperAdmin;
      26: aload         4
      28: invokevirtual #47                 // Method org/apache/bookkeeper/client/BookKeeperAdmin.recoverBookieData:(Lorg/apache/bookkeeper/net/BookieId;)V
      31: iload         5
      33: ifeq          63
      36: aload_3
      37: aload         4
      39: invokestatic  #48                 // Method org/apache/bookkeeper/bookie/Cookie.readFromRegistrationManager:(Lorg/apache/bookkeeper/discover/RegistrationManager;Lorg/apache/bookkeeper/net/BookieId;)Lorg/apache/bookkeeper/versioning/Versioned;
      42: astore        6
      44: aload         6
      46: invokevirtual #49                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      49: checkcast     #50                 // class org/apache/bookkeeper/bookie/Cookie
      52: aload_3
      53: aload         4
      55: aload         6
      57: invokevirtual #51                 // Method org/apache/bookkeeper/versioning/Versioned.getVersion:()Lorg/apache/bookkeeper/versioning/Version;
      60: invokevirtual #52                 // Method org/apache/bookkeeper/bookie/Cookie.deleteFromRegistrationManager:(Lorg/apache/bookkeeper/discover/RegistrationManager;Lorg/apache/bookkeeper/net/BookieId;Lorg/apache/bookkeeper/versioning/Version;)V
      63: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      66: ldc           #53                 // String Complete recovering bookie
      68: invokeinterface #46,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      73: goto          90
      76: astore        4
      78: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      81: ldc           #55                 // String Exception occurred while recovering bookie
      83: aload         4
      85: invokeinterface #31,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      90: return
    Exception table:
       from    to  target type
           0    73    76   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #56                 // class org/apache/bookkeeper/server/http/service/RecoveryBookieService
       2: invokestatic  #57                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
