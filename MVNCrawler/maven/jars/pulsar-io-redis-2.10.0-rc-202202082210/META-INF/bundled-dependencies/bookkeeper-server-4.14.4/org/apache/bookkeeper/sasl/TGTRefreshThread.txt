Compiled from "TGTRefreshThread.java"
class org.apache.bookkeeper.sasl.TGTRefreshThread extends java.lang.Thread {
  private static final org.slf4j.Logger LOG;

  private static final java.util.Random rng;

  private long lastLogin;

  private final org.apache.bookkeeper.sasl.JAASCredentialsContainer container;

  private static final float TICKET_RENEW_WINDOW;

  private static final float TICKET_RENEW_JITTER;

  private static final long MIN_TIME_BEFORE_RELOGIN;

  public long getLastLogin();
    Code:
       0: aload_0
       1: getfield      #1                  // Field lastLogin:J
       4: lreturn

  public void setLastLogin(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #1                  // Field lastLogin:J
       5: return

  public org.apache.bookkeeper.sasl.TGTRefreshThread(org.apache.bookkeeper.sasl.JAASCredentialsContainer);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Thread."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
       9: aload_0
      10: invokestatic  #4                  // Method java/lang/System.currentTimeMillis:()J
      13: ldc2_w        #6                  // long 60000l
      16: lsub
      17: putfield      #1                  // Field lastLogin:J
      20: aload_0
      21: iconst_1
      22: invokevirtual #8                  // Method setDaemon:(Z)V
      25: aload_0
      26: ldc           #9                  // String bookkeeper-tgt-refresh-thread
      28: invokevirtual #10                 // Method setName:(Ljava/lang/String;)V
      31: return

  private synchronized javax.security.auth.kerberos.KerberosTicket getTGT();
    Code:
       0: aload_0
       1: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
       4: invokeinterface #11,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getSubject:()Ljavax/security/auth/Subject;
       9: ldc           #12                 // class javax/security/auth/kerberos/KerberosTicket
      11: invokevirtual #13                 // Method javax/security/auth/Subject.getPrivateCredentials:(Ljava/lang/Class;)Ljava/util/Set;
      14: astore_1
      15: aload_1
      16: invokeinterface #14,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      21: astore_2
      22: aload_2
      23: invokeinterface #15,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      28: ifeq          186
      31: aload_2
      32: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      37: checkcast     #12                 // class javax/security/auth/kerberos/KerberosTicket
      40: astore_3
      41: aload_3
      42: invokevirtual #17                 // Method javax/security/auth/kerberos/KerberosTicket.getServer:()Ljavax/security/auth/kerberos/KerberosPrincipal;
      45: astore        4
      47: aload         4
      49: invokevirtual #18                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
      52: new           #19                 // class java/lang/StringBuilder
      55: dup
      56: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      59: ldc           #21                 // String krbtgt/
      61: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: aload         4
      66: invokevirtual #23                 // Method javax/security/auth/kerberos/KerberosPrincipal.getRealm:()Ljava/lang/String;
      69: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: ldc           #24                 // String @
      74: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload         4
      79: invokevirtual #23                 // Method javax/security/auth/kerberos/KerberosPrincipal.getRealm:()Ljava/lang/String;
      82: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      88: invokevirtual #26                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      91: ifeq          183
      94: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      97: invokeinterface #28,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     102: ifeq          181
     105: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     108: new           #19                 // class java/lang/StringBuilder
     111: dup
     112: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     115: ldc           #29                 // String Client principal is \"
     117: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: aload_3
     121: invokevirtual #30                 // Method javax/security/auth/kerberos/KerberosTicket.getClient:()Ljavax/security/auth/kerberos/KerberosPrincipal;
     124: invokevirtual #18                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
     127: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: ldc           #31                 // String \".
     132: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     135: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     138: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     143: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     146: new           #19                 // class java/lang/StringBuilder
     149: dup
     150: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     153: ldc           #33                 // String Server principal is \"
     155: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     158: aload_3
     159: invokevirtual #17                 // Method javax/security/auth/kerberos/KerberosTicket.getServer:()Ljavax/security/auth/kerberos/KerberosPrincipal;
     162: invokevirtual #18                 // Method javax/security/auth/kerberos/KerberosPrincipal.getName:()Ljava/lang/String;
     165: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     168: ldc           #31                 // String \".
     170: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     176: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     181: aload_3
     182: areturn
     183: goto          22
     186: aconst_null
     187: areturn

  private long getRefreshTime(javax.security.auth.kerberos.KerberosTicket);
    Code:
       0: aload_1
       1: invokevirtual #34                 // Method javax/security/auth/kerberos/KerberosTicket.getStartTime:()Ljava/util/Date;
       4: invokevirtual #35                 // Method java/util/Date.getTime:()J
       7: lstore_2
       8: aload_1
       9: invokevirtual #36                 // Method javax/security/auth/kerberos/KerberosTicket.getEndTime:()Ljava/util/Date;
      12: invokevirtual #35                 // Method java/util/Date.getTime:()J
      15: lstore        4
      17: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      20: ldc           #37                 // String TGT valid starting at:        {}
      22: aload_1
      23: invokevirtual #34                 // Method javax/security/auth/kerberos/KerberosTicket.getStartTime:()Ljava/util/Date;
      26: invokevirtual #38                 // Method java/util/Date.toString:()Ljava/lang/String;
      29: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      34: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      37: ldc           #40                 // String TGT expires:                  {}
      39: aload_1
      40: invokevirtual #36                 // Method javax/security/auth/kerberos/KerberosTicket.getEndTime:()Ljava/util/Date;
      43: invokevirtual #38                 // Method java/util/Date.toString:()Ljava/lang/String;
      46: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      51: lload_2
      52: lload         4
      54: lload_2
      55: lsub
      56: l2d
      57: ldc2_w        #41                 // double 0.800000011920929d
      60: ldc2_w        #43                 // double 0.05000000074505806d
      63: getstatic     #45                 // Field rng:Ljava/util/Random;
      66: invokevirtual #46                 // Method java/util/Random.nextDouble:()D
      69: dmul
      70: dadd
      71: dmul
      72: d2l
      73: ladd
      74: lstore        6
      76: lload         6
      78: lload         4
      80: lcmp
      81: ifle          88
      84: invokestatic  #47                 // Method org/apache/zookeeper/common/Time.currentWallTime:()J
      87: lreturn
      88: lload         6
      90: lreturn

  public void run();
    Code:
       0: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #48                 // String TGT refresh thread started.
       5: invokeinterface #49,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: invokespecial #50                 // Method getTGT:()Ljavax/security/auth/kerberos/KerberosTicket;
      14: astore_1
      15: invokestatic  #47                 // Method org/apache/zookeeper/common/Time.currentWallTime:()J
      18: lstore_2
      19: aload_1
      20: ifnonnull     56
      23: lload_2
      24: ldc2_w        #6                  // long 60000l
      27: ladd
      28: lstore        4
      30: new           #51                 // class java/util/Date
      33: dup
      34: lload         4
      36: invokespecial #52                 // Method java/util/Date."<init>":(J)V
      39: astore        6
      41: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      44: ldc           #53                 // String No TGT found: will try again at {}
      46: aload         6
      48: invokeinterface #54,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      53: goto          315
      56: aload_0
      57: aload_1
      58: invokespecial #55                 // Method getRefreshTime:(Ljavax/security/auth/kerberos/KerberosTicket;)J
      61: lstore        4
      63: aload_1
      64: invokevirtual #36                 // Method javax/security/auth/kerberos/KerberosTicket.getEndTime:()Ljava/util/Date;
      67: invokevirtual #35                 // Method java/util/Date.getTime:()J
      70: lstore        7
      72: new           #51                 // class java/util/Date
      75: dup
      76: lload         7
      78: invokespecial #52                 // Method java/util/Date."<init>":(J)V
      81: astore        9
      83: aload_0
      84: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
      87: invokeinterface #56,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.isUsingTicketCache:()Z
      92: ifeq          157
      95: aload_1
      96: invokevirtual #36                 // Method javax/security/auth/kerberos/KerberosTicket.getEndTime:()Ljava/util/Date;
      99: aload_1
     100: invokevirtual #57                 // Method javax/security/auth/kerberos/KerberosTicket.getRenewTill:()Ljava/util/Date;
     103: invokevirtual #58                 // Method java/util/Date.equals:(Ljava/lang/Object;)Z
     106: ifeq          157
     109: iconst_3
     110: anewarray     #59                 // class java/lang/Object
     113: dup
     114: iconst_0
     115: aload         9
     117: aastore
     118: dup
     119: iconst_1
     120: aload_0
     121: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
     124: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getPrincipal:()Ljava/lang/String;
     129: aastore
     130: dup
     131: iconst_2
     132: aload_0
     133: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
     136: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getPrincipal:()Ljava/lang/String;
     141: aastore
     142: astore        10
     144: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     147: ldc           #61                 // String The TGT cannot be renewed beyond the next expiry date: {}.This process will not be able to authenticate new SASL connections after that time (for example, it will not be authenticate a new connection with a Bookie ).  Ask your system administrator to either increase the \'renew until\' time by doing : \'modprinc -maxrenewlife {}\' within kadmin, or instead, to generate a keytab for {}. Because the TGT\'s expiry cannot be further extended by refreshing, exiting refresh thread now.
     149: aload         10
     151: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     156: return
     157: lload         4
     159: lload         7
     161: lcmp
     162: ifgt          176
     165: lload_2
     166: ldc2_w        #6                  // long 60000l
     169: ladd
     170: lload         7
     172: lcmp
     173: ifle          182
     176: lload_2
     177: lstore        4
     179: goto          267
     182: lload         4
     184: lload_2
     185: ldc2_w        #6                  // long 60000l
     188: ladd
     189: lcmp
     190: ifge          255
     193: new           #51                 // class java/util/Date
     196: dup
     197: lload         4
     199: invokespecial #52                 // Method java/util/Date."<init>":(J)V
     202: astore        10
     204: new           #51                 // class java/util/Date
     207: dup
     208: lload_2
     209: ldc2_w        #6                  // long 60000l
     212: ladd
     213: invokespecial #52                 // Method java/util/Date."<init>":(J)V
     216: astore        11
     218: iconst_3
     219: anewarray     #59                 // class java/lang/Object
     222: dup
     223: iconst_0
     224: aload         10
     226: aastore
     227: dup
     228: iconst_1
     229: aload         11
     231: aastore
     232: dup
     233: iconst_2
     234: ldc2_w        #63                 // long 60l
     237: invokestatic  #65                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     240: aastore
     241: astore        12
     243: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     246: ldc           #66                 // String TGT refresh thread time adjusted from : {} to : {} since the former is sooner than the minimum refresh interval ({} seconds) from now.
     248: aload         12
     250: invokeinterface #67,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     255: lload         4
     257: lload_2
     258: ldc2_w        #6                  // long 60000l
     261: ladd
     262: invokestatic  #68                 // Method java/lang/Math.max:(JJ)J
     265: lstore        4
     267: new           #51                 // class java/util/Date
     270: dup
     271: lload         4
     273: invokespecial #52                 // Method java/util/Date."<init>":(J)V
     276: astore        6
     278: lload         4
     280: lload         7
     282: lcmp
     283: ifle          315
     286: iconst_2
     287: anewarray     #59                 // class java/lang/Object
     290: dup
     291: iconst_0
     292: aload         6
     294: aastore
     295: dup
     296: iconst_1
     297: aload         9
     299: aastore
     300: astore        10
     302: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     305: ldc           #69                 // String next refresh: {} is later than expiry {}. This may indicate a clock skew problem.Check that this host and the KDC\'s hosts\' clocks are in sync. Exiting refresh thread.
     307: aload         10
     309: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     314: return
     315: lload_2
     316: lload         4
     318: lcmp
     319: ifne          335
     322: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     325: ldc           #70                 // String refreshing now because expiry is before next scheduled refresh time.
     327: invokeinterface #49,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     332: goto          417
     335: lload_2
     336: lload         4
     338: lcmp
     339: ifge          402
     342: new           #51                 // class java/util/Date
     345: dup
     346: lload         4
     348: invokespecial #52                 // Method java/util/Date."<init>":(J)V
     351: astore        7
     353: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     356: ldc           #71                 // String TGT refresh sleeping until: {}
     358: aload         7
     360: invokevirtual #38                 // Method java/util/Date.toString:()Ljava/lang/String;
     363: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     368: lload         4
     370: lload_2
     371: lsub
     372: invokestatic  #72                 // Method java/lang/Thread.sleep:(J)V
     375: goto          399
     378: astore        8
     380: invokestatic  #74                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     383: invokevirtual #75                 // Method java/lang/Thread.interrupt:()V
     386: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     389: ldc           #76                 // String TGT renewal thread has been interrupted and will exit.
     391: invokeinterface #77,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     396: goto          692
     399: goto          417
     402: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     405: ldc           #78                 // String nextRefresh:{} is in the past: exiting refresh thread. Check clock sync between this host and KDC - (KDC\'s clock is likely ahead of this host). Manual intervention will be required for this client to successfully authenticate. Exiting refresh thread.
     407: aload         6
     409: invokeinterface #79,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
     414: goto          692
     417: aload_0
     418: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
     421: invokeinterface #56,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.isUsingTicketCache:()Z
     426: ifeq          588
     429: aload_0
     430: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
     433: invokeinterface #80,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getConfiguration:()Lorg/apache/bookkeeper/conf/AbstractConfiguration;
     438: ldc           #82                 // String kerberos.kinit
     440: ldc           #83                 // String /usr/bin/kinit
     442: invokevirtual #84                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getString:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     445: astore        7
     447: ldc           #85                 // String -R
     449: astore        8
     451: iconst_1
     452: istore        9
     454: iload         9
     456: iflt          588
     459: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     462: invokeinterface #28,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     467: ifeq          484
     470: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     473: ldc           #86                 // String running ticket cache refresh command: {} {}
     475: aload         7
     477: aload         8
     479: invokeinterface #87,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     484: iconst_2
     485: anewarray     #88                 // class java/lang/String
     488: dup
     489: iconst_0
     490: aload         7
     492: aastore
     493: dup
     494: iconst_1
     495: aload         8
     497: aastore
     498: invokestatic  #89                 // Method org/apache/zookeeper/Shell.execCommand:([Ljava/lang/String;)Ljava/lang/String;
     501: pop
     502: goto          588
     505: astore        10
     507: iload         9
     509: ifle          543
     512: iinc          9, -1
     515: ldc2_w        #91                 // long 10000l
     518: invokestatic  #72                 // Method java/lang/Thread.sleep:(J)V
     521: goto          585
     524: astore        11
     526: invokestatic  #74                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     529: invokevirtual #75                 // Method java/lang/Thread.interrupt:()V
     532: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     535: ldc           #93                 // String Interrupted while renewing TGT, exiting Login thread
     537: invokeinterface #94,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     542: return
     543: iconst_4
     544: anewarray     #59                 // class java/lang/Object
     547: dup
     548: iconst_0
     549: aload         7
     551: aastore
     552: dup
     553: iconst_1
     554: aload         8
     556: aastore
     557: dup
     558: iconst_2
     559: aload         10
     561: invokevirtual #95                 // Method java/lang/Exception.toString:()Ljava/lang/String;
     564: aastore
     565: dup
     566: iconst_3
     567: aload         10
     569: aastore
     570: astore        11
     572: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     575: ldc           #96                 // String Could not renew TGT due to problem running shell command: \'{} {}\'; exception was:{}. Exiting refresh thread.
     577: aload         11
     579: invokeinterface #67,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     584: return
     585: goto          454
     588: iconst_1
     589: istore        7
     591: iload         7
     593: iflt          669
     596: aload_0
     597: invokespecial #97                 // Method reLogin:()V
     600: goto          669
     603: astore        8
     605: iload         7
     607: ifle          645
     610: iinc          7, -1
     613: ldc2_w        #91                 // long 10000l
     616: invokestatic  #72                 // Method java/lang/Thread.sleep:(J)V
     619: goto          666
     622: astore        9
     624: invokestatic  #74                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     627: invokevirtual #75                 // Method java/lang/Thread.interrupt:()V
     630: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     633: ldc           #99                 // String Interrupted during login retry after LoginException:
     635: aload         8
     637: invokeinterface #100,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     642: aload         8
     644: athrow
     645: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     648: ldc           #101                // String Could not refresh TGT for principal: {}.
     650: aload_0
     651: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
     654: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getPrincipal:()Ljava/lang/String;
     659: aload         8
     661: invokeinterface #102,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     666: goto          591
     669: goto          689
     672: astore        7
     674: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
     677: ldc           #103                // String Failed to refresh TGT: refresh thread exiting now.
     679: aload         7
     681: invokeinterface #100,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     686: goto          692
     689: goto          10
     692: return
    Exception table:
       from    to  target type
         368   375   378   Class java/lang/InterruptedException
         459   502   505   Class java/lang/Exception
         515   521   524   Class java/lang/InterruptedException
         596   600   603   Class javax/security/auth/login/LoginException
         613   619   622   Class java/lang/InterruptedException
         588   669   672   Class javax/security/auth/login/LoginException

  private synchronized void reLogin() throws javax.security.auth.login.LoginException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
       4: invokeinterface #104,  1          // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getLogin:()Ljavax/security/auth/login/LoginContext;
       9: astore_1
      10: aload_1
      11: ifnonnull     24
      14: new           #98                 // class javax/security/auth/login/LoginException
      17: dup
      18: ldc           #105                // String login must be done first
      20: invokespecial #106                // Method javax/security/auth/login/LoginException."<init>":(Ljava/lang/String;)V
      23: athrow
      24: aload_0
      25: invokespecial #107                // Method hasSufficientTimeElapsed:()Z
      28: ifne          32
      31: return
      32: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      35: ldc           #108                // String Initiating logout for {}
      37: aload_0
      38: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
      41: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getPrincipal:()Ljava/lang/String;
      46: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      51: ldc           #109                // class org/apache/zookeeper/Login
      53: dup
      54: astore_2
      55: monitorenter
      56: aload_1
      57: invokevirtual #110                // Method javax/security/auth/login/LoginContext.logout:()V
      60: new           #111                // class javax/security/auth/login/LoginContext
      63: dup
      64: aload_0
      65: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
      68: invokeinterface #112,  1          // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getLoginContextName:()Ljava/lang/String;
      73: aload_0
      74: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
      77: invokeinterface #11,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getSubject:()Ljavax/security/auth/Subject;
      82: invokespecial #113                // Method javax/security/auth/login/LoginContext."<init>":(Ljava/lang/String;Ljavax/security/auth/Subject;)V
      85: astore_1
      86: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      89: ldc           #114                // String Initiating re-login for {}
      91: aload_0
      92: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
      95: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.getPrincipal:()Ljava/lang/String;
     100: invokeinterface #39,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     105: aload_1
     106: invokevirtual #115                // Method javax/security/auth/login/LoginContext.login:()V
     109: aload_0
     110: getfield      #3                  // Field container:Lorg/apache/bookkeeper/sasl/JAASCredentialsContainer;
     113: aload_1
     114: invokeinterface #116,  2          // InterfaceMethod org/apache/bookkeeper/sasl/JAASCredentialsContainer.setLogin:(Ljavax/security/auth/login/LoginContext;)V
     119: aload_2
     120: monitorexit
     121: goto          129
     124: astore_3
     125: aload_2
     126: monitorexit
     127: aload_3
     128: athrow
     129: return
    Exception table:
       from    to  target type
          56   121   124   any
         124   127   124   any

  private boolean hasSufficientTimeElapsed();
    Code:
       0: invokestatic  #4                  // Method java/lang/System.currentTimeMillis:()J
       3: lstore_1
       4: lload_1
       5: aload_0
       6: invokevirtual #117                // Method getLastLogin:()J
       9: lsub
      10: ldc2_w        #6                  // long 60000l
      13: lcmp
      14: ifge          35
      17: getstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
      20: ldc           #118                // String Not attempting to re-login since the last re-login was attempted less than {} seconds before.
      22: ldc2_w        #63                 // long 60l
      25: invokestatic  #65                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      28: invokeinterface #54,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      33: iconst_0
      34: ireturn
      35: aload_0
      36: lload_1
      37: invokevirtual #119                // Method setLastLogin:(J)V
      40: iconst_1
      41: ireturn

  static {};
    Code:
       0: ldc           #5                  // class org/apache/bookkeeper/sasl/TGTRefreshThread
       2: invokestatic  #120                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #27                 // Field LOG:Lorg/slf4j/Logger;
       8: new           #121                // class java/util/Random
      11: dup
      12: invokespecial #122                // Method java/util/Random."<init>":()V
      15: putstatic     #45                 // Field rng:Ljava/util/Random;
      18: return
}
