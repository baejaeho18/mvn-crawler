Compiled from "DiskChecker.java"
public class org.apache.bookkeeper.util.DiskChecker {
  private static final org.slf4j.Logger LOG;

  private float diskUsageThreshold;

  private float diskUsageWarnThreshold;

  public org.apache.bookkeeper.util.DiskChecker(float, float);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: fload_1
       6: fload_2
       7: invokespecial #2                  // Method validateThreshold:(FF)V
      10: aload_0
      11: fload_1
      12: putfield      #3                  // Field diskUsageThreshold:F
      15: aload_0
      16: fload_2
      17: putfield      #4                  // Field diskUsageWarnThreshold:F
      20: return

  private static boolean mkdirsWithExistsCheck(java.io.File);
    Code:
       0: aload_0
       1: invokevirtual #5                  // Method java/io/File.mkdir:()Z
       4: ifne          14
       7: aload_0
       8: invokevirtual #6                  // Method java/io/File.exists:()Z
      11: ifeq          16
      14: iconst_1
      15: ireturn
      16: aconst_null
      17: astore_1
      18: aload_0
      19: invokevirtual #7                  // Method java/io/File.getCanonicalFile:()Ljava/io/File;
      22: astore_1
      23: goto          29
      26: astore_2
      27: iconst_0
      28: ireturn
      29: aload_1
      30: invokevirtual #9                  // Method java/io/File.getParent:()Ljava/lang/String;
      33: astore_2
      34: aload_2
      35: ifnull        70
      38: new           #10                 // class java/io/File
      41: dup
      42: aload_2
      43: invokespecial #11                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      46: invokestatic  #12                 // Method mkdirsWithExistsCheck:(Ljava/io/File;)Z
      49: ifeq          70
      52: aload_1
      53: invokevirtual #5                  // Method java/io/File.mkdir:()Z
      56: ifne          66
      59: aload_1
      60: invokevirtual #6                  // Method java/io/File.exists:()Z
      63: ifeq          70
      66: iconst_1
      67: goto          71
      70: iconst_0
      71: ireturn
    Exception table:
       from    to  target type
          18    23    26   Class java/io/IOException

  float checkDiskFull(java.io.File) throws org.apache.bookkeeper.util.DiskChecker$DiskOutOfSpaceException, org.apache.bookkeeper.util.DiskChecker$DiskWarnThresholdException;
    Code:
       0: aconst_null
       1: aload_1
       2: if_acmpne     7
       5: fconst_0
       6: freturn
       7: aload_1
       8: invokevirtual #6                  // Method java/io/File.exists:()Z
      11: ifeq          250
      14: aload_1
      15: invokevirtual #13                 // Method java/io/File.getUsableSpace:()J
      18: lstore_2
      19: aload_1
      20: invokevirtual #14                 // Method java/io/File.getTotalSpace:()J
      23: lstore        4
      25: lload_2
      26: l2f
      27: lload         4
      29: l2f
      30: fdiv
      31: fstore        6
      33: fconst_1
      34: fload         6
      36: fsub
      37: fstore        7
      39: fload         7
      41: aload_0
      42: getfield      #3                  // Field diskUsageThreshold:F
      45: fcmpl
      46: ifle          143
      49: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
      52: ldc           #16                 // String Space left on device {} : {}, Used space fraction: {} > threshold {}.
      54: iconst_4
      55: anewarray     #17                 // class java/lang/Object
      58: dup
      59: iconst_0
      60: aload_1
      61: aastore
      62: dup
      63: iconst_1
      64: lload_2
      65: invokestatic  #18                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      68: aastore
      69: dup
      70: iconst_2
      71: fload         7
      73: invokestatic  #19                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;
      76: aastore
      77: dup
      78: iconst_3
      79: aload_0
      80: getfield      #3                  // Field diskUsageThreshold:F
      83: invokestatic  #19                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;
      86: aastore
      87: invokeinterface #20,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      92: new           #21                 // class org/apache/bookkeeper/util/DiskChecker$DiskOutOfSpaceException
      95: dup
      96: new           #22                 // class java/lang/StringBuilder
      99: dup
     100: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     103: ldc           #24                 // String Space left on device
     105: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: lload_2
     109: invokevirtual #26                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     112: ldc           #27                 // String  Used space fraction:
     114: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     117: fload         7
     119: invokevirtual #28                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     122: ldc           #29                 // String  > threshold
     124: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: aload_0
     128: getfield      #3                  // Field diskUsageThreshold:F
     131: invokevirtual #28                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     134: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     137: fload         7
     139: invokespecial #31                 // Method org/apache/bookkeeper/util/DiskChecker$DiskOutOfSpaceException."<init>":(Ljava/lang/String;F)V
     142: athrow
     143: fload         7
     145: aload_0
     146: getfield      #4                  // Field diskUsageWarnThreshold:F
     149: fcmpl
     150: ifle          247
     153: getstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
     156: ldc           #32                 // String Space left on device {} : {}, Used space fraction: {} > WarnThreshold {}.
     158: iconst_4
     159: anewarray     #17                 // class java/lang/Object
     162: dup
     163: iconst_0
     164: aload_1
     165: aastore
     166: dup
     167: iconst_1
     168: lload_2
     169: invokestatic  #18                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     172: aastore
     173: dup
     174: iconst_2
     175: fload         7
     177: invokestatic  #19                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;
     180: aastore
     181: dup
     182: iconst_3
     183: aload_0
     184: getfield      #4                  // Field diskUsageWarnThreshold:F
     187: invokestatic  #19                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;
     190: aastore
     191: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     196: new           #34                 // class org/apache/bookkeeper/util/DiskChecker$DiskWarnThresholdException
     199: dup
     200: new           #22                 // class java/lang/StringBuilder
     203: dup
     204: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     207: ldc           #35                 // String Space left on device:
     209: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     212: lload_2
     213: invokevirtual #26                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     216: ldc           #27                 // String  Used space fraction:
     218: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     221: fload         7
     223: invokevirtual #28                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     226: ldc           #36                 // String  > WarnThreshold:
     228: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     231: aload_0
     232: getfield      #4                  // Field diskUsageWarnThreshold:F
     235: invokevirtual #28                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
     238: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     241: fload         7
     243: invokespecial #37                 // Method org/apache/bookkeeper/util/DiskChecker$DiskWarnThresholdException."<init>":(Ljava/lang/String;F)V
     246: athrow
     247: fload         7
     249: freturn
     250: aload_0
     251: aload_1
     252: invokevirtual #38                 // Method java/io/File.getParentFile:()Ljava/io/File;
     255: invokevirtual #39                 // Method checkDiskFull:(Ljava/io/File;)F
     258: freturn

  public long getTotalFreeSpace(java.util.List<java.io.File>) throws java.io.IOException;
    Code:
       0: lconst_0
       1: lstore_2
       2: new           #40                 // class java/util/HashSet
       5: dup
       6: invokespecial #41                 // Method java/util/HashSet."<init>":()V
       9: astore        4
      11: aload_1
      12: invokeinterface #42,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      17: astore        5
      19: aload         5
      21: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          74
      29: aload         5
      31: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      36: checkcast     #10                 // class java/io/File
      39: astore        6
      41: aload         6
      43: invokevirtual #45                 // Method java/io/File.toPath:()Ljava/nio/file/Path;
      46: invokestatic  #46                 // Method java/nio/file/Files.getFileStore:(Ljava/nio/file/Path;)Ljava/nio/file/FileStore;
      49: astore        7
      51: aload         4
      53: aload         7
      55: invokeinterface #47,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      60: ifeq          71
      63: lload_2
      64: aload         7
      66: invokevirtual #48                 // Method java/nio/file/FileStore.getUsableSpace:()J
      69: ladd
      70: lstore_2
      71: goto          19
      74: lload_2
      75: lreturn

  public long getTotalDiskSpace(java.util.List<java.io.File>) throws java.io.IOException;
    Code:
       0: lconst_0
       1: lstore_2
       2: new           #40                 // class java/util/HashSet
       5: dup
       6: invokespecial #41                 // Method java/util/HashSet."<init>":()V
       9: astore        4
      11: aload_1
      12: invokeinterface #42,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      17: astore        5
      19: aload         5
      21: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          74
      29: aload         5
      31: invokeinterface #44,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      36: checkcast     #10                 // class java/io/File
      39: astore        6
      41: aload         6
      43: invokevirtual #45                 // Method java/io/File.toPath:()Ljava/nio/file/Path;
      46: invokestatic  #46                 // Method java/nio/file/Files.getFileStore:(Ljava/nio/file/Path;)Ljava/nio/file/FileStore;
      49: astore        7
      51: aload         4
      53: aload         7
      55: invokeinterface #47,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      60: ifeq          71
      63: lload_2
      64: aload         7
      66: invokevirtual #49                 // Method java/nio/file/FileStore.getTotalSpace:()J
      69: ladd
      70: lstore_2
      71: goto          19
      74: lload_2
      75: lreturn

  public float getTotalDiskUsage(java.util.List<java.io.File>) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnull        13
       4: aload_1
       5: invokeinterface #50,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      10: ifeq          23
      13: new           #51                 // class java/lang/IllegalArgumentException
      16: dup
      17: ldc           #52                 // String list argument of getTotalDiskUsage is not supposed to be null or empty
      19: invokespecial #53                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: aload_0
      24: aload_1
      25: invokevirtual #54                 // Method getTotalFreeSpace:(Ljava/util/List;)J
      28: l2f
      29: aload_0
      30: aload_1
      31: invokevirtual #55                 // Method getTotalDiskSpace:(Ljava/util/List;)J
      34: l2f
      35: fdiv
      36: fstore_2
      37: fconst_1
      38: fload_2
      39: fsub
      40: fstore_3
      41: fload_3
      42: freturn

  public float checkDir(java.io.File) throws org.apache.bookkeeper.util.DiskChecker$DiskErrorException, org.apache.bookkeeper.util.DiskChecker$DiskOutOfSpaceException, org.apache.bookkeeper.util.DiskChecker$DiskWarnThresholdException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #39                 // Method checkDiskFull:(Ljava/io/File;)F
       5: fstore_2
       6: aload_1
       7: invokestatic  #12                 // Method mkdirsWithExistsCheck:(Ljava/io/File;)Z
      10: ifne          43
      13: new           #56                 // class org/apache/bookkeeper/util/DiskChecker$DiskErrorException
      16: dup
      17: new           #22                 // class java/lang/StringBuilder
      20: dup
      21: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      24: ldc           #57                 // String can not create directory:
      26: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_1
      30: invokevirtual #58                 // Method java/io/File.toString:()Ljava/lang/String;
      33: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      36: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokespecial #59                 // Method org/apache/bookkeeper/util/DiskChecker$DiskErrorException."<init>":(Ljava/lang/String;)V
      42: athrow
      43: aload_1
      44: invokevirtual #60                 // Method java/io/File.isDirectory:()Z
      47: ifne          80
      50: new           #56                 // class org/apache/bookkeeper/util/DiskChecker$DiskErrorException
      53: dup
      54: new           #22                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #61                 // String not a directory:
      63: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_1
      67: invokevirtual #58                 // Method java/io/File.toString:()Ljava/lang/String;
      70: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      76: invokespecial #59                 // Method org/apache/bookkeeper/util/DiskChecker$DiskErrorException."<init>":(Ljava/lang/String;)V
      79: athrow
      80: aload_1
      81: invokevirtual #62                 // Method java/io/File.canRead:()Z
      84: ifne          117
      87: new           #56                 // class org/apache/bookkeeper/util/DiskChecker$DiskErrorException
      90: dup
      91: new           #22                 // class java/lang/StringBuilder
      94: dup
      95: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      98: ldc           #63                 // String directory is not readable:
     100: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: aload_1
     104: invokevirtual #58                 // Method java/io/File.toString:()Ljava/lang/String;
     107: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: invokespecial #59                 // Method org/apache/bookkeeper/util/DiskChecker$DiskErrorException."<init>":(Ljava/lang/String;)V
     116: athrow
     117: aload_1
     118: invokevirtual #64                 // Method java/io/File.canWrite:()Z
     121: ifne          154
     124: new           #56                 // class org/apache/bookkeeper/util/DiskChecker$DiskErrorException
     127: dup
     128: new           #22                 // class java/lang/StringBuilder
     131: dup
     132: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     135: ldc           #65                 // String directory is not writable:
     137: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_1
     141: invokevirtual #58                 // Method java/io/File.toString:()Ljava/lang/String;
     144: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     150: invokespecial #59                 // Method org/apache/bookkeeper/util/DiskChecker$DiskErrorException."<init>":(Ljava/lang/String;)V
     153: athrow
     154: fload_2
     155: freturn

  void setDiskSpaceThreshold(float, float);
    Code:
       0: aload_0
       1: fload_1
       2: fload_2
       3: invokespecial #2                  // Method validateThreshold:(FF)V
       6: aload_0
       7: fload_1
       8: putfield      #3                  // Field diskUsageThreshold:F
      11: aload_0
      12: fload_2
      13: putfield      #4                  // Field diskUsageWarnThreshold:F
      16: return

  private void validateThreshold(float, float);
    Code:
       0: fload_1
       1: fconst_0
       2: fcmpg
       3: ifle          23
       6: fload_1
       7: fconst_1
       8: fcmpl
       9: ifge          23
      12: fload_2
      13: fload_1
      14: fsub
      15: f2d
      16: ldc2_w        #66                 // double 1.0E-6d
      19: dcmpl
      20: ifle          64
      23: new           #51                 // class java/lang/IllegalArgumentException
      26: dup
      27: new           #22                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      34: ldc           #68                 // String Disk space threashold:
      36: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: fload_1
      40: invokevirtual #28                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
      43: ldc           #69                 // String  and warn threshold:
      45: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: fload_2
      49: invokevirtual #28                 // Method java/lang/StringBuilder.append:(F)Ljava/lang/StringBuilder;
      52: ldc           #70                 // String  are not valid. Should be > 0 and < 1 and diskSpaceThreshold >= diskSpaceWarnThreshold
      54: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: invokevirtual #30                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      60: invokespecial #53                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      63: athrow
      64: return

  public float getDiskUsageThreshold();
    Code:
       0: aload_0
       1: getfield      #3                  // Field diskUsageThreshold:F
       4: freturn

  public float getDiskUsageWarnThreshold();
    Code:
       0: aload_0
       1: getfield      #4                  // Field diskUsageWarnThreshold:F
       4: freturn

  static {};
    Code:
       0: ldc           #71                 // class org/apache/bookkeeper/util/DiskChecker
       2: invokestatic  #72                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #15                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
