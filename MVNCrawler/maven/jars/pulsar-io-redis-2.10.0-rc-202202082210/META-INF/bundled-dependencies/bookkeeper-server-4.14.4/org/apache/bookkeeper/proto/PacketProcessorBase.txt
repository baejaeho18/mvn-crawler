Compiled from "PacketProcessorBase.java"
abstract class org.apache.bookkeeper.proto.PacketProcessorBase<T extends org.apache.bookkeeper.proto.BookieProtocol$Request> extends org.apache.bookkeeper.util.SafeRunnable {
  private static final org.slf4j.Logger logger;

  T request;

  io.netty.channel.Channel channel;

  org.apache.bookkeeper.proto.BookieRequestProcessor requestProcessor;

  long enqueueNanos;

  org.apache.bookkeeper.proto.PacketProcessorBase();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/bookkeeper/util/SafeRunnable."<init>":()V
       4: return

  protected void init(T, io.netty.channel.Channel, org.apache.bookkeeper.proto.BookieRequestProcessor);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field request:Lorg/apache/bookkeeper/proto/BookieProtocol$Request;
       5: aload_0
       6: aload_2
       7: putfield      #3                  // Field channel:Lio/netty/channel/Channel;
      10: aload_0
      11: aload_3
      12: putfield      #4                  // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      15: aload_0
      16: invokestatic  #5                  // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
      19: putfield      #6                  // Field enqueueNanos:J
      22: return

  protected void reset();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #2                  // Field request:Lorg/apache/bookkeeper/proto/BookieProtocol$Request;
       5: aload_0
       6: aconst_null
       7: putfield      #3                  // Field channel:Lio/netty/channel/Channel;
      10: aload_0
      11: aconst_null
      12: putfield      #4                  // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      15: aload_0
      16: ldc2_w        #7                  // long -1l
      19: putfield      #6                  // Field enqueueNanos:J
      22: return

  protected boolean isVersionCompatible();
    Code:
       0: aload_0
       1: getfield      #2                  // Field request:Lorg/apache/bookkeeper/proto/BookieProtocol$Request;
       4: invokevirtual #9                  // Method org/apache/bookkeeper/proto/BookieProtocol$Request.getProtocolVersion:()B
       7: istore_1
       8: iload_1
       9: iflt          17
      12: iload_1
      13: iconst_2
      14: if_icmple     52
      17: getstatic     #11                 // Field logger:Lorg/slf4j/Logger;
      20: new           #12                 // class java/lang/StringBuilder
      23: dup
      24: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #14                 // String Invalid protocol version, expected something between 0 & 2. got
      29: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_0
      33: getfield      #2                  // Field request:Lorg/apache/bookkeeper/proto/BookieProtocol$Request;
      36: invokevirtual #9                  // Method org/apache/bookkeeper/proto/BookieProtocol$Request.getProtocolVersion:()B
      39: invokevirtual #16                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      42: invokevirtual #17                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokeinterface #18,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      50: iconst_0
      51: ireturn
      52: iconst_1
      53: ireturn

  protected void sendResponse(int, java.lang.Object, org.apache.bookkeeper.stats.OpStatsLogger);
    Code:
       0: aload_0
       1: getfield      #3                  // Field channel:Lio/netty/channel/Channel;
       4: aload_2
       5: aload_0
       6: getfield      #3                  // Field channel:Lio/netty/channel/Channel;
       9: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.voidPromise:()Lio/netty/channel/ChannelPromise;
      14: invokeinterface #20,  3           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;Lio/netty/channel/ChannelPromise;)Lio/netty/channel/ChannelFuture;
      19: pop
      20: iconst_0
      21: iload_1
      22: if_icmpne     44
      25: aload_3
      26: aload_0
      27: getfield      #6                  // Field enqueueNanos:J
      30: invokestatic  #21                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
      33: getstatic     #22                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      36: invokeinterface #23,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
      41: goto          60
      44: aload_3
      45: aload_0
      46: getfield      #6                  // Field enqueueNanos:J
      49: invokestatic  #21                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
      52: getstatic     #22                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      55: invokeinterface #24,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
      60: return

  protected void sendResponseAndWait(int, java.lang.Object, org.apache.bookkeeper.stats.OpStatsLogger);
    Code:
       0: aload_0
       1: getfield      #3                  // Field channel:Lio/netty/channel/Channel;
       4: aload_2
       5: invokeinterface #25,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      10: invokeinterface #26,  1           // InterfaceMethod io/netty/channel/ChannelFuture.await:()Lio/netty/channel/ChannelFuture;
      15: pop
      16: goto          22
      19: astore        4
      21: return
      22: iconst_0
      23: iload_1
      24: if_icmpne     46
      27: aload_3
      28: aload_0
      29: getfield      #6                  // Field enqueueNanos:J
      32: invokestatic  #21                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
      35: getstatic     #22                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      38: invokeinterface #23,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
      43: goto          62
      46: aload_3
      47: aload_0
      48: getfield      #6                  // Field enqueueNanos:J
      51: invokestatic  #21                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
      54: getstatic     #22                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
      57: invokeinterface #24,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
      62: return
    Exception table:
       from    to  target type
           0    16    19   Class java/lang/InterruptedException

  public void safeRun();
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method isVersionCompatible:()Z
       4: ifne          33
       7: aload_0
       8: bipush        103
      10: bipush        103
      12: aload_0
      13: getfield      #2                  // Field request:Lorg/apache/bookkeeper/proto/BookieProtocol$Request;
      16: invokestatic  #29                 // Method org/apache/bookkeeper/proto/ResponseBuilder.buildErrorResponse:(ILorg/apache/bookkeeper/proto/BookieProtocol$Request;)Lorg/apache/bookkeeper/proto/BookieProtocol$Response;
      19: aload_0
      20: getfield      #4                  // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      23: invokevirtual #30                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
      26: invokevirtual #31                 // Method org/apache/bookkeeper/proto/RequestStats.getReadRequestStats:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
      29: invokevirtual #32                 // Method sendResponse:(ILjava/lang/Object;Lorg/apache/bookkeeper/stats/OpStatsLogger;)V
      32: return
      33: aload_0
      34: invokevirtual #33                 // Method processPacket:()V
      37: return

  protected abstract void processPacket();

  static {};
    Code:
       0: ldc           #34                 // class org/apache/bookkeeper/proto/PacketProcessorBase
       2: invokestatic  #35                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #11                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
