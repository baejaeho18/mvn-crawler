Compiled from "LedgerMetaDataCommand.java"
public class org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand extends org.apache.bookkeeper.tools.cli.helpers.BookieCommand<org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand$LedgerMetadataFlag> {
  private static final java.lang.String NAME;

  private static final java.lang.String DESC;

  private static final java.lang.String DEFAULT;

  private static final long DEFAULT_ID;

  private static final org.slf4j.Logger LOG;

  private org.apache.bookkeeper.meta.LedgerMetadataSerDe serDe;

  private org.apache.bookkeeper.util.LedgerIdFormatter ledgerIdFormatter;

  public org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand();
    Code:
       0: aload_0
       1: new           #1                  // class org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag
       4: dup
       5: invokespecial #2                  // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag."<init>":()V
       8: invokespecial #3                  // Method "<init>":(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)V
      11: return

  public org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand(org.apache.bookkeeper.util.LedgerIdFormatter);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method "<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #5                  // Field ledgerIdFormatter:Lorg/apache/bookkeeper/util/LedgerIdFormatter;
       9: return

  public org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand(org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand$LedgerMetadataFlag);
    Code:
       0: aload_0
       1: invokestatic  #6                  // Method org/apache/bookkeeper/tools/framework/CliSpec.newBuilder:()Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
       4: ldc           #8                  // String show
       6: invokevirtual #9                  // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.withName:(Ljava/lang/String;)Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
       9: ldc           #10                 // String Print the metadata for a ledger, or optionally dump to a file.
      11: invokevirtual #11                 // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.withDescription:(Ljava/lang/String;)Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
      14: aload_1
      15: invokevirtual #12                 // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.withFlags:(Lorg/apache/bookkeeper/tools/framework/CliFlags;)Lorg/apache/bookkeeper/tools/framework/CliSpec$Builder;
      18: invokevirtual #13                 // Method org/apache/bookkeeper/tools/framework/CliSpec$Builder.build:()Lorg/apache/bookkeeper/tools/framework/CliSpec;
      21: invokespecial #14                 // Method org/apache/bookkeeper/tools/cli/helpers/BookieCommand."<init>":(Lorg/apache/bookkeeper/tools/framework/CliSpec;)V
      24: aload_0
      25: new           #15                 // class org/apache/bookkeeper/meta/LedgerMetadataSerDe
      28: dup
      29: invokespecial #16                 // Method org/apache/bookkeeper/meta/LedgerMetadataSerDe."<init>":()V
      32: putfield      #17                 // Field serDe:Lorg/apache/bookkeeper/meta/LedgerMetadataSerDe;
      35: return

  public boolean apply(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand$LedgerMetadataFlag);
    Code:
       0: aload_2
       1: invokestatic  #18                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$000:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/lang/String;
       4: ldc           #19                 // String
       6: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       9: ifne          34
      12: aload_0
      13: getfield      #5                  // Field ledgerIdFormatter:Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      16: ifnonnull     34
      19: aload_0
      20: aload_2
      21: invokestatic  #18                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$000:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/lang/String;
      24: aload_1
      25: invokestatic  #21                 // Method org/apache/bookkeeper/util/LedgerIdFormatter.newLedgerIdFormatter:(Ljava/lang/String;Lorg/apache/bookkeeper/conf/AbstractConfiguration;)Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      28: putfield      #5                  // Field ledgerIdFormatter:Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      31: goto          49
      34: aload_0
      35: getfield      #5                  // Field ledgerIdFormatter:Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      38: ifnonnull     49
      41: aload_0
      42: aload_1
      43: invokestatic  #22                 // Method org/apache/bookkeeper/util/LedgerIdFormatter.newLedgerIdFormatter:(Lorg/apache/bookkeeper/conf/AbstractConfiguration;)Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      46: putfield      #5                  // Field ledgerIdFormatter:Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      49: aload_0
      50: aload_1
      51: aload_2
      52: invokespecial #23                 // Method handler:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Z
      55: ireturn
      56: astore_3
      57: new           #25                 // class com/google/common/util/concurrent/UncheckedExecutionException
      60: dup
      61: aload_3
      62: invokevirtual #26                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      65: aload_3
      66: invokespecial #27                 // Method com/google/common/util/concurrent/UncheckedExecutionException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      69: athrow
    Exception table:
       from    to  target type
          49    55    56   Class java/lang/Exception

  private boolean handler(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand$LedgerMetadataFlag) throws org.apache.bookkeeper.meta.exceptions.MetadataException, java.util.concurrent.ExecutionException;
    Code:
       0: aload_2
       1: invokestatic  #28                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)J
       4: ldc2_w        #29                 // long -1l
       7: lcmp
       8: ifne          23
      11: getstatic     #31                 // Field LOG:Lorg/slf4j/Logger;
      14: ldc           #32                 // String Must specific a ledger id
      16: invokeinterface #33,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      21: iconst_0
      22: ireturn
      23: aload_1
      24: aload_0
      25: aload_2
      26: invokedynamic #34,  0             // InvokeDynamic #0:apply:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand;Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/util/function/Function;
      31: invokestatic  #35                 // Method org/apache/bookkeeper/meta/MetadataDrivers.runFunctionWithLedgerManagerFactory:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Ljava/util/function/Function;)Ljava/lang/Object;
      34: pop
      35: iconst_1
      36: ireturn

  private void printLedgerMetadata(long, org.apache.bookkeeper.client.api.LedgerMetadata, boolean);
    Code:
       0: getstatic     #31                 // Field LOG:Lorg/slf4j/Logger;
       3: new           #36                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #38                 // String ledgerID:
      12: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_0
      16: getfield      #5                  // Field ledgerIdFormatter:Lorg/apache/bookkeeper/util/LedgerIdFormatter;
      19: lload_1
      20: invokevirtual #40                 // Method org/apache/bookkeeper/util/LedgerIdFormatter.formatLedgerId:(J)Ljava/lang/String;
      23: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: invokevirtual #41                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      29: invokeinterface #42,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      34: iload         4
      36: ifeq          51
      39: getstatic     #31                 // Field LOG:Lorg/slf4j/Logger;
      42: aload_3
      43: invokevirtual #43                 // Method java/lang/Object.toString:()Ljava/lang/String;
      46: invokeinterface #42,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      51: return

  public boolean apply(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.tools.framework.CliFlags);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #1                  // class org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag
       6: invokevirtual #44                 // Method apply:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Z
       9: ireturn

  private java.lang.Object lambda$handler$0(org.apache.bookkeeper.tools.cli.commands.client.LedgerMetaDataCommand$LedgerMetadataFlag, org.apache.bookkeeper.meta.LedgerManagerFactory);
    Code:
       0: aload_2
       1: invokeinterface #45,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManagerFactory.newLedgerManager:()Lorg/apache/bookkeeper/meta/LedgerManager;
       6: astore_3
       7: aconst_null
       8: astore        4
      10: aload_1
      11: invokestatic  #46                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$200:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/lang/String;
      14: ldc           #19                 // String
      16: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      19: ifne          80
      22: aload_3
      23: aload_1
      24: invokestatic  #28                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)J
      27: invokeinterface #47,  3           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.readLedgerMetadata:(J)Ljava/util/concurrent/CompletableFuture;
      32: invokevirtual #48                 // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
      35: checkcast     #49                 // class org/apache/bookkeeper/versioning/Versioned
      38: astore        5
      40: invokestatic  #50                 // Method java/nio/file/FileSystems.getDefault:()Ljava/nio/file/FileSystem;
      43: aload_1
      44: invokestatic  #46                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$200:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/lang/String;
      47: iconst_0
      48: anewarray     #51                 // class java/lang/String
      51: invokevirtual #52                 // Method java/nio/file/FileSystem.getPath:(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;
      54: aload_0
      55: getfield      #17                 // Field serDe:Lorg/apache/bookkeeper/meta/LedgerMetadataSerDe;
      58: aload         5
      60: invokevirtual #53                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      63: checkcast     #54                 // class org/apache/bookkeeper/client/api/LedgerMetadata
      66: invokevirtual #55                 // Method org/apache/bookkeeper/meta/LedgerMetadataSerDe.serialize:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)[B
      69: iconst_0
      70: anewarray     #56                 // class java/nio/file/OpenOption
      73: invokestatic  #57                 // Method java/nio/file/Files.write:(Ljava/nio/file/Path;[B[Ljava/nio/file/OpenOption;)Ljava/nio/file/Path;
      76: pop
      77: goto          179
      80: aload_1
      81: invokestatic  #58                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$300:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/lang/String;
      84: ldc           #19                 // String
      86: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      89: ifne          148
      92: invokestatic  #50                 // Method java/nio/file/FileSystems.getDefault:()Ljava/nio/file/FileSystem;
      95: aload_1
      96: invokestatic  #58                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$300:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)Ljava/lang/String;
      99: iconst_0
     100: anewarray     #51                 // class java/lang/String
     103: invokevirtual #52                 // Method java/nio/file/FileSystem.getPath:(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;
     106: invokestatic  #59                 // Method java/nio/file/Files.readAllBytes:(Ljava/nio/file/Path;)[B
     109: astore        5
     111: aload_0
     112: getfield      #17                 // Field serDe:Lorg/apache/bookkeeper/meta/LedgerMetadataSerDe;
     115: aload         5
     117: aload_1
     118: invokestatic  #28                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)J
     121: invokestatic  #60                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     124: invokevirtual #61                 // Method org/apache/bookkeeper/meta/LedgerMetadataSerDe.parseConfig:([BJLjava/util/Optional;)Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     127: astore        6
     129: aload_3
     130: aload_1
     131: invokestatic  #28                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)J
     134: aload         6
     136: invokeinterface #62,  4           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.createLedgerMetadata:(JLorg/apache/bookkeeper/client/api/LedgerMetadata;)Ljava/util/concurrent/CompletableFuture;
     141: invokevirtual #48                 // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     144: pop
     145: goto          179
     148: aload_0
     149: aload_1
     150: invokestatic  #28                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)J
     153: aload_3
     154: aload_1
     155: invokestatic  #28                 // Method org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag.access$100:(Lorg/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand$LedgerMetadataFlag;)J
     158: invokeinterface #47,  3           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.readLedgerMetadata:(J)Ljava/util/concurrent/CompletableFuture;
     163: invokevirtual #63                 // Method java/util/concurrent/CompletableFuture.get:()Ljava/lang/Object;
     166: checkcast     #49                 // class org/apache/bookkeeper/versioning/Versioned
     169: invokevirtual #53                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
     172: checkcast     #54                 // class org/apache/bookkeeper/client/api/LedgerMetadata
     175: iconst_1
     176: invokespecial #64                 // Method printLedgerMetadata:(JLorg/apache/bookkeeper/client/api/LedgerMetadata;Z)V
     179: aload_3
     180: ifnull        268
     183: aload         4
     185: ifnull        209
     188: aload_3
     189: invokeinterface #65,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.close:()V
     194: goto          268
     197: astore        5
     199: aload         4
     201: aload         5
     203: invokevirtual #67                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     206: goto          268
     209: aload_3
     210: invokeinterface #65,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.close:()V
     215: goto          268
     218: astore        5
     220: aload         5
     222: astore        4
     224: aload         5
     226: athrow
     227: astore        7
     229: aload_3
     230: ifnull        265
     233: aload         4
     235: ifnull        259
     238: aload_3
     239: invokeinterface #65,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.close:()V
     244: goto          265
     247: astore        8
     249: aload         4
     251: aload         8
     253: invokevirtual #67                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     256: goto          265
     259: aload_3
     260: invokeinterface #65,  1           // InterfaceMethod org/apache/bookkeeper/meta/LedgerManager.close:()V
     265: aload         7
     267: athrow
     268: goto          281
     271: astore_3
     272: new           #25                 // class com/google/common/util/concurrent/UncheckedExecutionException
     275: dup
     276: aload_3
     277: invokespecial #68                 // Method com/google/common/util/concurrent/UncheckedExecutionException."<init>":(Ljava/lang/Throwable;)V
     280: athrow
     281: aconst_null
     282: areturn
    Exception table:
       from    to  target type
         188   194   197   Class java/lang/Throwable
          10   179   218   Class java/lang/Throwable
          10   179   227   any
         238   244   247   Class java/lang/Throwable
         218   229   227   any
           0   268   271   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #7                  // class org/apache/bookkeeper/tools/cli/commands/client/LedgerMetaDataCommand
       2: invokestatic  #69                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #31                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
