Compiled from "EntryLogger.java"
public class org.apache.bookkeeper.bookie.EntryLogger {
  private static final org.slf4j.Logger LOG;

  static final long UNASSIGNED_LEDGERID;

  static final java.lang.String LOG_FILE_SUFFIX;

  static final int UNINITIALIZED_LOG_ID;

  private final org.apache.bookkeeper.bookie.LedgerDirsManager ledgerDirsManager;

  private final boolean entryLogPerLedgerEnabled;

  final org.apache.bookkeeper.bookie.EntryLogger$RecentEntryLogsStatus recentlyCreatedEntryLogsStatus;

  private final java.lang.Object compactionLogLock;

  private volatile org.apache.bookkeeper.bookie.EntryLogger$BufferedLogChannel compactionLogChannel;

  final org.apache.bookkeeper.bookie.EntryLoggerAllocator entryLoggerAllocator;

  private final org.apache.bookkeeper.bookie.EntryLogManager entryLogManager;

  private final java.util.concurrent.CopyOnWriteArrayList<org.apache.bookkeeper.bookie.EntryLogger$EntryLogListener> listeners;

  private static final int HEADER_V0;

  private static final int HEADER_V1;

  static final int HEADER_CURRENT_VERSION;

  static final int LOGFILE_HEADER_SIZE;

  final io.netty.buffer.ByteBuf logfileHeader;

  static final int HEADER_VERSION_POSITION;

  static final int LEDGERS_MAP_OFFSET_POSITION;

  static final int LEDGERS_MAP_HEADER_SIZE;

  static final int LEDGERS_MAP_ENTRY_SIZE;

  static final int LEDGERS_MAP_MAX_BATCH_SIZE;

  static final long INVALID_LID;

  static final long LEDGERS_MAP_ENTRY_ID;

  static final int MIN_SANE_ENTRY_SIZE;

  static final long MB;

  private final int maxSaneEntrySize;

  private final io.netty.buffer.ByteBufAllocator allocator;

  final org.apache.bookkeeper.conf.ServerConfiguration conf;

  private final java.lang.ThreadLocal<java.util.Map<java.lang.Long, org.apache.bookkeeper.bookie.BufferedReadChannel>> logid2Channel;

  private final java.util.concurrent.ConcurrentMap<java.lang.Long, java.nio.channels.FileChannel> logid2FileChannel;

  private final io.netty.util.concurrent.FastThreadLocal<io.netty.buffer.ByteBuf> sizeBuffer;

  public org.apache.bookkeeper.bookie.EntryLogger(org.apache.bookkeeper.conf.ServerConfiguration) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: new           #2                  // class org/apache/bookkeeper/bookie/LedgerDirsManager
       5: dup
       6: aload_1
       7: aload_1
       8: invokevirtual #3                  // Method org/apache/bookkeeper/conf/ServerConfiguration.getLedgerDirs:()[Ljava/io/File;
      11: new           #4                  // class org/apache/bookkeeper/util/DiskChecker
      14: dup
      15: aload_1
      16: invokevirtual #5                  // Method org/apache/bookkeeper/conf/ServerConfiguration.getDiskUsageThreshold:()F
      19: aload_1
      20: invokevirtual #6                  // Method org/apache/bookkeeper/conf/ServerConfiguration.getDiskUsageWarnThreshold:()F
      23: invokespecial #7                  // Method org/apache/bookkeeper/util/DiskChecker."<init>":(FF)V
      26: invokespecial #8                  // Method org/apache/bookkeeper/bookie/LedgerDirsManager."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;[Ljava/io/File;Lorg/apache/bookkeeper/util/DiskChecker;)V
      29: invokespecial #9                  // Method "<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;)V
      32: return

  public org.apache.bookkeeper.bookie.EntryLogger(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.bookie.LedgerDirsManager) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: getstatic     #10                 // Field org/apache/bookkeeper/stats/NullStatsLogger.INSTANCE:Lorg/apache/bookkeeper/stats/NullStatsLogger;
       7: getstatic     #11                 // Field io/netty/buffer/PooledByteBufAllocator.DEFAULT:Lio/netty/buffer/PooledByteBufAllocator;
      10: invokespecial #12                 // Method "<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/EntryLogger$EntryLogListener;Lorg/apache/bookkeeper/stats/StatsLogger;Lio/netty/buffer/ByteBufAllocator;)V
      13: return

  public org.apache.bookkeeper.bookie.EntryLogger(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.EntryLogger$EntryLogListener, org.apache.bookkeeper.stats.StatsLogger, io.netty.buffer.ByteBufAllocator) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #13                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #14                 // class java/lang/Object
       8: dup
       9: invokespecial #13                 // Method java/lang/Object."<init>":()V
      12: putfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
      15: aload_0
      16: new           #16                 // class java/util/concurrent/CopyOnWriteArrayList
      19: dup
      20: invokespecial #17                 // Method java/util/concurrent/CopyOnWriteArrayList."<init>":()V
      23: putfield      #18                 // Field listeners:Ljava/util/concurrent/CopyOnWriteArrayList;
      26: aload_0
      27: sipush        1024
      30: invokestatic  #19                 // Method io/netty/buffer/Unpooled.buffer:(I)Lio/netty/buffer/ByteBuf;
      33: putfield      #20                 // Field logfileHeader:Lio/netty/buffer/ByteBuf;
      36: aload_0
      37: new           #21                 // class org/apache/bookkeeper/bookie/EntryLogger$1
      40: dup
      41: aload_0
      42: invokespecial #22                 // Method org/apache/bookkeeper/bookie/EntryLogger$1."<init>":(Lorg/apache/bookkeeper/bookie/EntryLogger;)V
      45: putfield      #23                 // Field logid2Channel:Ljava/lang/ThreadLocal;
      48: aload_0
      49: new           #24                 // class java/util/concurrent/ConcurrentHashMap
      52: dup
      53: invokespecial #25                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      56: putfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
      59: aload_0
      60: new           #27                 // class org/apache/bookkeeper/bookie/EntryLogger$2
      63: dup
      64: aload_0
      65: invokespecial #28                 // Method org/apache/bookkeeper/bookie/EntryLogger$2."<init>":(Lorg/apache/bookkeeper/bookie/EntryLogger;)V
      68: putfield      #29                 // Field sizeBuffer:Lio/netty/util/concurrent/FastThreadLocal;
      71: aload_0
      72: aload_1
      73: invokevirtual #30                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getNettyMaxFrameSizeBytes:()I
      76: sipush        500
      79: isub
      80: putfield      #31                 // Field maxSaneEntrySize:I
      83: aload_0
      84: aload         5
      86: putfield      #32                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
      89: aload_0
      90: aload_2
      91: putfield      #33                 // Field ledgerDirsManager:Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
      94: aload_0
      95: aload_1
      96: putfield      #34                 // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      99: aload_0
     100: aload_1
     101: invokevirtual #35                 // Method org/apache/bookkeeper/conf/ServerConfiguration.isEntryLogPerLedgerEnabled:()Z
     104: putfield      #36                 // Field entryLogPerLedgerEnabled:Z
     107: aload_3
     108: ifnull        116
     111: aload_0
     112: aload_3
     113: invokevirtual #37                 // Method addListener:(Lorg/apache/bookkeeper/bookie/EntryLogger$EntryLogListener;)V
     116: aload_0
     117: getfield      #20                 // Field logfileHeader:Lio/netty/buffer/ByteBuf;
     120: ldc           #38                 // String BKLO
     122: getstatic     #39                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
     125: invokevirtual #40                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
     128: invokevirtual #41                 // Method io/netty/buffer/ByteBuf.writeBytes:([B)Lio/netty/buffer/ByteBuf;
     131: pop
     132: aload_0
     133: getfield      #20                 // Field logfileHeader:Lio/netty/buffer/ByteBuf;
     136: iconst_1
     137: invokevirtual #42                 // Method io/netty/buffer/ByteBuf.writeInt:(I)Lio/netty/buffer/ByteBuf;
     140: pop
     141: aload_0
     142: getfield      #20                 // Field logfileHeader:Lio/netty/buffer/ByteBuf;
     145: sipush        1024
     148: invokevirtual #43                 // Method io/netty/buffer/ByteBuf.writerIndex:(I)Lio/netty/buffer/ByteBuf;
     151: pop
     152: ldc2_w        #44                 // long -1l
     155: lstore        6
     157: aload_2
     158: invokevirtual #46                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
     161: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     166: astore        8
     168: aload         8
     170: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     175: ifeq          254
     178: aload         8
     180: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     185: checkcast     #50                 // class java/io/File
     188: astore        9
     190: aload         9
     192: invokevirtual #51                 // Method java/io/File.exists:()Z
     195: ifne          231
     198: new           #52                 // class java/io/FileNotFoundException
     201: dup
     202: new           #53                 // class java/lang/StringBuilder
     205: dup
     206: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
     209: ldc           #55                 // String Entry log directory \'
     211: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     214: aload         9
     216: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     219: ldc           #58                 // String \' does not exist
     221: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     224: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     227: invokespecial #60                 // Method java/io/FileNotFoundException."<init>":(Ljava/lang/String;)V
     230: athrow
     231: aload_0
     232: aload         9
     234: invokespecial #61                 // Method getLastLogId:(Ljava/io/File;)J
     237: lstore        10
     239: lload         10
     241: lload         6
     243: lcmp
     244: ifle          251
     247: lload         10
     249: lstore        6
     251: goto          168
     254: aload_0
     255: new           #62                 // class org/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus
     258: dup
     259: lload         6
     261: lconst_1
     262: ladd
     263: invokespecial #63                 // Method org/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus."<init>":(J)V
     266: putfield      #64                 // Field recentlyCreatedEntryLogsStatus:Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;
     269: aload_0
     270: new           #65                 // class org/apache/bookkeeper/bookie/EntryLoggerAllocator
     273: dup
     274: aload_1
     275: aload_2
     276: aload_0
     277: getfield      #64                 // Field recentlyCreatedEntryLogsStatus:Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;
     280: lload         6
     282: aload         5
     284: invokespecial #66                 // Method org/apache/bookkeeper/bookie/EntryLoggerAllocator."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;JLio/netty/buffer/ByteBufAllocator;)V
     287: putfield      #67                 // Field entryLoggerAllocator:Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;
     290: aload_0
     291: getfield      #36                 // Field entryLogPerLedgerEnabled:Z
     294: ifeq          327
     297: aload_0
     298: new           #68                 // class org/apache/bookkeeper/bookie/EntryLogManagerForEntryLogPerLedger
     301: dup
     302: aload_1
     303: aload_2
     304: aload_0
     305: getfield      #67                 // Field entryLoggerAllocator:Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;
     308: aload_0
     309: getfield      #18                 // Field listeners:Ljava/util/concurrent/CopyOnWriteArrayList;
     312: aload_0
     313: getfield      #64                 // Field recentlyCreatedEntryLogsStatus:Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;
     316: aload         4
     318: invokespecial #69                 // Method org/apache/bookkeeper/bookie/EntryLogManagerForEntryLogPerLedger."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;Ljava/util/List;Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;Lorg/apache/bookkeeper/stats/StatsLogger;)V
     321: putfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
     324: goto          352
     327: aload_0
     328: new           #71                 // class org/apache/bookkeeper/bookie/EntryLogManagerForSingleEntryLog
     331: dup
     332: aload_1
     333: aload_2
     334: aload_0
     335: getfield      #67                 // Field entryLoggerAllocator:Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;
     338: aload_0
     339: getfield      #18                 // Field listeners:Ljava/util/concurrent/CopyOnWriteArrayList;
     342: aload_0
     343: getfield      #64                 // Field recentlyCreatedEntryLogsStatus:Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;
     346: invokespecial #72                 // Method org/apache/bookkeeper/bookie/EntryLogManagerForSingleEntryLog."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;Ljava/util/List;Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;)V
     349: putfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
     352: return

  org.apache.bookkeeper.bookie.EntryLogManager getEntryLogManager();
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: areturn

  void addListener(org.apache.bookkeeper.bookie.EntryLogger$EntryLogListener);
    Code:
       0: aconst_null
       1: aload_1
       2: if_acmpeq     14
       5: aload_0
       6: getfield      #18                 // Field listeners:Ljava/util/concurrent/CopyOnWriteArrayList;
       9: aload_1
      10: invokevirtual #73                 // Method java/util/concurrent/CopyOnWriteArrayList.add:(Ljava/lang/Object;)Z
      13: pop
      14: return

  private int readFromLogChannel(long, org.apache.bookkeeper.bookie.BufferedReadChannel, io.netty.buffer.ByteBuf, long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: lload_1
       5: invokeinterface #74,  3           // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.getCurrentLogIfPresent:(J)Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      10: astore        7
      12: aconst_null
      13: aload         7
      15: if_acmpeq     69
      18: aload         7
      20: dup
      21: astore        8
      23: monitorenter
      24: lload         5
      26: aload         4
      28: invokevirtual #75                 // Method io/netty/buffer/ByteBuf.writableBytes:()I
      31: i2l
      32: ladd
      33: aload         7
      35: invokevirtual #76                 // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getFileChannelPosition:()J
      38: lcmp
      39: iflt          55
      42: aload         7
      44: aload         4
      46: lload         5
      48: invokevirtual #77                 // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.read:(Lio/netty/buffer/ByteBuf;J)I
      51: aload         8
      53: monitorexit
      54: ireturn
      55: aload         8
      57: monitorexit
      58: goto          69
      61: astore        9
      63: aload         8
      65: monitorexit
      66: aload         9
      68: athrow
      69: aload_3
      70: aload         4
      72: lload         5
      74: invokevirtual #78                 // Method org/apache/bookkeeper/bookie/BufferedReadChannel.read:(Lio/netty/buffer/ByteBuf;J)I
      77: ireturn
    Exception table:
       from    to  target type
          24    54    61   any
          55    58    61   any
          61    66    61   any

  public org.apache.bookkeeper.bookie.BufferedReadChannel putInReadChannels(long, org.apache.bookkeeper.bookie.BufferedReadChannel);
    Code:
       0: aload_0
       1: getfield      #23                 // Field logid2Channel:Ljava/lang/ThreadLocal;
       4: invokevirtual #79                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #80                 // class java/util/Map
      10: astore        4
      12: aload         4
      14: lload_1
      15: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      18: aload_3
      19: invokeinterface #82,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      24: checkcast     #83                 // class org/apache/bookkeeper/bookie/BufferedReadChannel
      27: areturn

  public void removeFromChannelsAndClose(long);
    Code:
       0: aload_0
       1: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
       4: lload_1
       5: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokeinterface #84,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #85                 // class java/nio/channels/FileChannel
      16: astore_3
      17: aconst_null
      18: aload_3
      19: if_acmpeq     58
      22: aload_3
      23: invokevirtual #86                 // Method java/nio/channels/FileChannel.close:()V
      26: goto          58
      29: astore        4
      31: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      34: new           #53                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      41: ldc           #89                 // String Exception while closing channel for log file:
      43: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: lload_1
      47: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      50: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokeinterface #91,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      58: return
    Exception table:
       from    to  target type
          22    26    29   Class java/io/IOException

  public org.apache.bookkeeper.bookie.BufferedReadChannel getFromChannels(long);
    Code:
       0: aload_0
       1: getfield      #23                 // Field logid2Channel:Ljava/lang/ThreadLocal;
       4: invokevirtual #79                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #80                 // class java/util/Map
      10: lload_1
      11: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      14: invokeinterface #92,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      19: checkcast     #83                 // class org/apache/bookkeeper/bookie/BufferedReadChannel
      22: areturn

  long getLeastUnflushedLogId();
    Code:
       0: aload_0
       1: getfield      #64                 // Field recentlyCreatedEntryLogsStatus:Lorg/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus;
       4: invokevirtual #93                 // Method org/apache/bookkeeper/bookie/EntryLogger$RecentEntryLogsStatus.getLeastUnflushedLogId:()J
       7: lreturn

  long getPreviousAllocatedEntryLogId();
    Code:
       0: aload_0
       1: getfield      #67                 // Field entryLoggerAllocator:Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;
       4: invokevirtual #94                 // Method org/apache/bookkeeper/bookie/EntryLoggerAllocator.getPreallocatedLogId:()J
       7: lreturn

  java.io.File getCurCompactionLogFile();
    Code:
       0: aload_0
       1: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      11: ifnonnull     18
      14: aconst_null
      15: aload_1
      16: monitorexit
      17: areturn
      18: aload_0
      19: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      22: invokevirtual #96                 // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogFile:()Ljava/io/File;
      25: aload_1
      26: monitorexit
      27: areturn
      28: astore_2
      29: aload_1
      30: monitorexit
      31: aload_2
      32: athrow
    Exception table:
       from    to  target type
           7    17    28   any
          18    27    28   any
          28    31    28   any

  void prepareSortedLedgerStorageCheckpoint(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: lload_1
       5: invokeinterface #97,  3           // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.prepareSortedLedgerStorageCheckpoint:(J)V
      10: return

  void prepareEntryMemTableFlush();
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: invokeinterface #98,  1           // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.prepareEntryMemTableFlush:()V
       9: return

  boolean commitEntryMemTableFlush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: invokeinterface #99,  1           // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.commitEntryMemTableFlush:()Z
       9: ireturn

  org.apache.bookkeeper.bookie.EntryLoggerAllocator getEntryLoggerAllocator();
    Code:
       0: aload_0
       1: getfield      #67                 // Field entryLoggerAllocator:Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;
       4: areturn

  protected boolean removeEntryLog(long);
    Code:
       0: aload_0
       1: lload_1
       2: invokevirtual #100                // Method removeFromChannelsAndClose:(J)V
       5: aload_0
       6: lload_1
       7: invokespecial #101                // Method findFile:(J)Ljava/io/File;
      10: astore_3
      11: goto          50
      14: astore        4
      16: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      19: new           #53                 // class java/lang/StringBuilder
      22: dup
      23: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      26: ldc           #102                // String Trying to delete an entryLog file that could not be found:
      28: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: lload_1
      32: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      35: ldc           #103                // String .log
      37: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      40: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: invokeinterface #104,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      48: iconst_0
      49: ireturn
      50: aload_3
      51: invokevirtual #105                // Method java/io/File.delete:()Z
      54: ifne          68
      57: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      60: ldc           #106                // String Could not delete entry log file {}
      62: aload_3
      63: invokeinterface #107,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      68: iconst_1
      69: ireturn
    Exception table:
       from    to  target type
           5    11    14   Class java/io/FileNotFoundException

  private long getLastLogId(java.io.File);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #108                // Method readLastLogId:(Ljava/io/File;)J
       5: lstore_2
       6: lload_2
       7: lconst_0
       8: lcmp
       9: ifle          14
      12: lload_2
      13: lreturn
      14: aload_1
      15: invokedynamic #109,  0            // InvokeDynamic #0:accept:()Ljava/io/FileFilter;
      20: invokevirtual #110                // Method java/io/File.listFiles:(Ljava/io/FileFilter;)[Ljava/io/File;
      23: astore        4
      25: new           #111                // class java/util/ArrayList
      28: dup
      29: invokespecial #112                // Method java/util/ArrayList."<init>":()V
      32: astore        5
      34: aload         4
      36: ifnull        94
      39: aload         4
      41: astore        6
      43: aload         6
      45: arraylength
      46: istore        7
      48: iconst_0
      49: istore        8
      51: iload         8
      53: iload         7
      55: if_icmpge     94
      58: aload         6
      60: iload         8
      62: aaload
      63: astore        9
      65: aload         9
      67: invokevirtual #113                // Method java/io/File.getName:()Ljava/lang/String;
      70: invokestatic  #114                // Method fileName2LogId:(Ljava/lang/String;)J
      73: lstore        10
      75: aload         5
      77: lload         10
      79: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      82: invokeinterface #115,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      87: pop
      88: iinc          8, 1
      91: goto          51
      94: iconst_0
      95: aload         5
      97: invokeinterface #116,  1          // InterfaceMethod java/util/List.size:()I
     102: if_icmpne     109
     105: ldc2_w        #44                 // long -1l
     108: lreturn
     109: aload         5
     111: invokestatic  #117                // Method java/util/Collections.sort:(Ljava/util/List;)V
     114: aload         5
     116: aload         5
     118: invokeinterface #116,  1          // InterfaceMethod java/util/List.size:()I
     123: iconst_1
     124: isub
     125: invokeinterface #118,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     130: checkcast     #119                // class java/lang/Long
     133: invokevirtual #120                // Method java/lang/Long.longValue:()J
     136: lreturn

  private long readLastLogId(java.io.File);
    Code:
       0: new           #121                // class java/io/FileInputStream
       3: dup
       4: new           #50                 // class java/io/File
       7: dup
       8: aload_1
       9: ldc           #122                // String lastId
      11: invokespecial #123                // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      14: invokespecial #124                // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      17: astore_2
      18: goto          26
      21: astore_3
      22: ldc2_w        #44                 // long -1l
      25: lreturn
      26: new           #125                // class java/io/BufferedReader
      29: dup
      30: new           #126                // class java/io/InputStreamReader
      33: dup
      34: aload_2
      35: getstatic     #39                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      38: invokespecial #127                // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
      41: invokespecial #128                // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      44: astore_3
      45: aconst_null
      46: astore        4
      48: aload_3
      49: invokevirtual #129                // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
      52: astore        5
      54: aload         5
      56: bipush        16
      58: invokestatic  #130                // Method java/lang/Long.parseLong:(Ljava/lang/String;I)J
      61: lstore        6
      63: aload_3
      64: ifnull        95
      67: aload         4
      69: ifnull        91
      72: aload_3
      73: invokevirtual #131                // Method java/io/BufferedReader.close:()V
      76: goto          95
      79: astore        8
      81: aload         4
      83: aload         8
      85: invokevirtual #133                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      88: goto          95
      91: aload_3
      92: invokevirtual #131                // Method java/io/BufferedReader.close:()V
      95: lload         6
      97: lreturn
      98: astore        5
     100: aload         5
     102: astore        4
     104: aload         5
     106: athrow
     107: astore        9
     109: aload_3
     110: ifnull        141
     113: aload         4
     115: ifnull        137
     118: aload_3
     119: invokevirtual #131                // Method java/io/BufferedReader.close:()V
     122: goto          141
     125: astore        10
     127: aload         4
     129: aload         10
     131: invokevirtual #133                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     134: goto          141
     137: aload_3
     138: invokevirtual #131                // Method java/io/BufferedReader.close:()V
     141: aload         9
     143: athrow
     144: astore_3
     145: ldc2_w        #44                 // long -1l
     148: lreturn
    Exception table:
       from    to  target type
           0    18    21   Class java/io/FileNotFoundException
          72    76    79   Class java/lang/Throwable
          48    63    98   Class java/lang/Throwable
          48    63   107   any
         118   122   125   Class java/lang/Throwable
          98   109   107   any
          26    95   144   Class java/io/IOException
          26    95   144   Class java/lang/NumberFormatException
          98   144   144   Class java/io/IOException
          98   144   144   Class java/lang/NumberFormatException

  void checkpoint() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: invokeinterface #135,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.checkpoint:()V
       9: return

  public void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: invokeinterface #136,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.flush:()V
       9: return

  long addEntry(long, java.nio.ByteBuffer) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: lload_1
       5: aload_3
       6: invokestatic  #137                // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
       9: iconst_1
      10: invokeinterface #138,  5          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.addEntry:(JLio/netty/buffer/ByteBuf;Z)J
      15: lreturn

  long addEntry(long, io.netty.buffer.ByteBuf) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: lload_1
       5: aload_3
       6: iconst_1
       7: invokeinterface #138,  5          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.addEntry:(JLio/netty/buffer/ByteBuf;Z)J
      12: lreturn

  public long addEntry(long, io.netty.buffer.ByteBuf, boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
       4: lload_1
       5: aload_3
       6: iload         4
       8: invokeinterface #138,  5          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.addEntry:(JLio/netty/buffer/ByteBuf;Z)J
      13: lreturn

  long addEntryForCompaction(long, io.netty.buffer.ByteBuf) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
       4: dup
       5: astore        4
       7: monitorenter
       8: aload_3
       9: invokevirtual #139                // Method io/netty/buffer/ByteBuf.readableBytes:()I
      12: iconst_4
      13: iadd
      14: istore        5
      16: aload_0
      17: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      20: ifnonnull     27
      23: aload_0
      24: invokevirtual #140                // Method createNewCompactionLog:()V
      27: aload_0
      28: getfield      #29                 // Field sizeBuffer:Lio/netty/util/concurrent/FastThreadLocal;
      31: invokevirtual #141                // Method io/netty/util/concurrent/FastThreadLocal.get:()Ljava/lang/Object;
      34: checkcast     #142                // class io/netty/buffer/ByteBuf
      37: astore        6
      39: aload         6
      41: invokevirtual #143                // Method io/netty/buffer/ByteBuf.clear:()Lio/netty/buffer/ByteBuf;
      44: pop
      45: aload         6
      47: aload_3
      48: invokevirtual #139                // Method io/netty/buffer/ByteBuf.readableBytes:()I
      51: invokevirtual #42                 // Method io/netty/buffer/ByteBuf.writeInt:(I)Lio/netty/buffer/ByteBuf;
      54: pop
      55: aload_0
      56: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      59: aload         6
      61: invokevirtual #144                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.write:(Lio/netty/buffer/ByteBuf;)V
      64: aload_0
      65: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      68: invokevirtual #145                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.position:()J
      71: lstore        7
      73: aload_0
      74: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      77: aload_3
      78: invokevirtual #144                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.write:(Lio/netty/buffer/ByteBuf;)V
      81: aload_0
      82: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      85: lload_1
      86: iload         5
      88: i2l
      89: invokevirtual #146                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.registerWrittenEntry:(JJ)V
      92: aload_0
      93: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      96: invokevirtual #147                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogId:()J
      99: bipush        32
     101: lshl
     102: lload         7
     104: lor
     105: aload         4
     107: monitorexit
     108: lreturn
     109: astore        9
     111: aload         4
     113: monitorexit
     114: aload         9
     116: athrow
    Exception table:
       from    to  target type
           8   108   109   any
         109   114   109   any

  void flushCompactionLog() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      11: ifnull        66
      14: aload_0
      15: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      18: invokevirtual #148                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.appendLedgersMap:()V
      21: aload_0
      22: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      25: iconst_0
      26: invokevirtual #149                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.flushAndForceWrite:(Z)V
      29: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      32: ldc           #150                // String Flushed compaction log file {} with logId {}.
      34: aload_0
      35: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      38: invokevirtual #96                 // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogFile:()Ljava/io/File;
      41: aload_0
      42: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      45: invokevirtual #147                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogId:()J
      48: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      51: invokeinterface #151,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      56: aload_0
      57: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      60: invokevirtual #152                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.close:()V
      63: goto          76
      66: new           #87                 // class java/io/IOException
      69: dup
      70: ldc           #153                // String Failed to flush compaction log which has already been removed.
      72: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      75: athrow
      76: aload_1
      77: monitorexit
      78: goto          86
      81: astore_2
      82: aload_1
      83: monitorexit
      84: aload_2
      85: athrow
      86: return
    Exception table:
       from    to  target type
           7    78    81   any
          81    84    81   any

  void createNewCompactionLog() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      11: ifnonnull     27
      14: aload_0
      15: aload_0
      16: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
      19: invokeinterface #155,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.createNewLogForCompaction:()Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      24: putfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      27: aload_1
      28: monitorexit
      29: goto          37
      32: astore_2
      33: aload_1
      34: monitorexit
      35: aload_2
      36: athrow
      37: return
    Exception table:
       from    to  target type
           7    29    32   any
          32    35    32   any

  void removeCurCompactionLog();
    Code:
       0: aload_0
       1: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      11: ifnull        81
      14: aload_0
      15: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      18: invokevirtual #96                 // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogFile:()Ljava/io/File;
      21: invokevirtual #105                // Method java/io/File.delete:()Z
      24: ifne          44
      27: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      30: ldc           #156                // String Could not delete compaction log file {}
      32: aload_0
      33: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      36: invokevirtual #96                 // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogFile:()Ljava/io/File;
      39: invokeinterface #107,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      44: aload_0
      45: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      48: invokevirtual #152                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.close:()V
      51: goto          76
      54: astore_2
      55: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      58: ldc           #157                // String Failed to close file channel for compaction log {}
      60: aload_0
      61: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      64: invokevirtual #147                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.getLogId:()J
      67: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      70: aload_2
      71: invokeinterface #158,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      76: aload_0
      77: aconst_null
      78: putfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      81: aload_1
      82: monitorexit
      83: goto          91
      86: astore_3
      87: aload_1
      88: monitorexit
      89: aload_3
      90: athrow
      91: return
    Exception table:
       from    to  target type
          44    51    54   Class java/io/IOException
           7    83    86   any
          86    89    86   any

  static long logIdForOffset(long);
    Code:
       0: lload_0
       1: bipush        32
       3: lshr
       4: lreturn

  static long posForOffset(long);
    Code:
       0: lload_0
       1: ldc2_w        #159                // long 4294967295l
       4: land
       5: lreturn

  private org.apache.bookkeeper.bookie.BufferedReadChannel getFCForEntryInternal(long, long, long, long) throws org.apache.bookkeeper.bookie.EntryLogger$EntryLookupException, java.io.IOException;
    Code:
       0: aload_0
       1: lload         5
       3: invokespecial #161                // Method getChannelForLogId:(J)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
       6: areturn
       7: astore        9
       9: new           #162                // class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingLogFileException
      12: dup
      13: lload_1
      14: lload_3
      15: lload         5
      17: lload         7
      19: invokespecial #163                // Method org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingLogFileException."<init>":(JJJJ)V
      22: athrow
    Exception table:
       from    to  target type
           0     6     7   Class java/io/FileNotFoundException

  private io.netty.buffer.ByteBuf readEntrySize(long, long, long, long, org.apache.bookkeeper.bookie.BufferedReadChannel) throws org.apache.bookkeeper.bookie.EntryLogger$EntryLookupException, java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #29                 // Field sizeBuffer:Lio/netty/util/concurrent/FastThreadLocal;
       4: invokevirtual #141                // Method io/netty/util/concurrent/FastThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #142                // class io/netty/buffer/ByteBuf
      10: astore        10
      12: aload         10
      14: invokevirtual #143                // Method io/netty/buffer/ByteBuf.clear:()Lio/netty/buffer/ByteBuf;
      17: pop
      18: lload         7
      20: ldc2_w        #164                // long 4l
      23: lsub
      24: lstore        11
      26: aload_0
      27: lload         5
      29: aload         9
      31: aload         10
      33: lload         11
      35: invokespecial #166                // Method readFromLogChannel:(JLorg/apache/bookkeeper/bookie/BufferedReadChannel;Lio/netty/buffer/ByteBuf;J)I
      38: aload         10
      40: invokevirtual #167                // Method io/netty/buffer/ByteBuf.capacity:()I
      43: if_icmpeq     60
      46: new           #168                // class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingEntryException
      49: dup
      50: lload_1
      51: lload_3
      52: lload         5
      54: lload         11
      56: invokespecial #169                // Method org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingEntryException."<init>":(JJJJ)V
      59: athrow
      60: goto          79
      63: astore        13
      65: new           #162                // class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingLogFileException
      68: dup
      69: lload_1
      70: lload_3
      71: lload         5
      73: lload         11
      75: invokespecial #163                // Method org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingLogFileException."<init>":(JJJJ)V
      78: athrow
      79: aload         10
      81: areturn
    Exception table:
       from    to  target type
          26    60    63   Class org/apache/bookkeeper/bookie/BufferedChannelBase$BufferedChannelClosedException
          26    60    63   Class java/nio/channels/AsynchronousCloseException

  void checkEntry(long, long, long) throws org.apache.bookkeeper.bookie.EntryLogger$EntryLookupException, java.io.IOException;
    Code:
       0: lload         5
       2: invokestatic  #172                // Method logIdForOffset:(J)J
       5: lstore        7
       7: lload         5
       9: invokestatic  #173                // Method posForOffset:(J)J
      12: lstore        9
      14: aload_0
      15: lload_1
      16: lload_3
      17: lload         7
      19: lload         9
      21: invokespecial #174                // Method getFCForEntryInternal:(JJJJ)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
      24: astore        11
      26: aload_0
      27: lload_1
      28: lload_3
      29: lload         7
      31: lload         9
      33: aload         11
      35: invokespecial #175                // Method readEntrySize:(JJJJLorg/apache/bookkeeper/bookie/BufferedReadChannel;)Lio/netty/buffer/ByteBuf;
      38: astore        12
      40: aload_0
      41: lload_1
      42: lload_3
      43: lload         7
      45: lload         9
      47: aload         12
      49: invokespecial #176                // Method validateEntry:(JJJJLio/netty/buffer/ByteBuf;)V
      52: return

  private void validateEntry(long, long, long, long, io.netty.buffer.ByteBuf) throws java.io.IOException, org.apache.bookkeeper.bookie.EntryLogger$EntryLookupException;
    Code:
       0: aload         9
       2: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
       5: istore        10
       7: iload         10
       9: aload_0
      10: getfield      #31                 // Field maxSaneEntrySize:I
      13: if_icmple     64
      16: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      19: new           #53                 // class java/lang/StringBuilder
      22: dup
      23: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      26: ldc           #178                // String Sanity check failed for entry size of
      28: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: iload         10
      33: invokevirtual #179                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      36: ldc           #180                // String  at location
      38: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: lload         7
      43: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      46: ldc           #181                // String  in
      48: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: lload         5
      53: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      56: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      59: invokeinterface #91,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      64: iload         10
      66: bipush        16
      68: if_icmpge     100
      71: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      74: ldc           #182                // String Read invalid entry length {}
      76: iload         10
      78: invokestatic  #183                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      81: invokeinterface #184,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      86: new           #185                // class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$InvalidEntryLengthException
      89: dup
      90: lload_1
      91: lload_3
      92: lload         5
      94: lload         7
      96: invokespecial #186                // Method org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$InvalidEntryLengthException."<init>":(JJJJ)V
      99: athrow
     100: aload         9
     102: iconst_4
     103: invokevirtual #187                // Method io/netty/buffer/ByteBuf.getLong:(I)J
     106: lstore        11
     108: aload         9
     110: bipush        12
     112: invokevirtual #187                // Method io/netty/buffer/ByteBuf.getLong:(I)J
     115: lstore        13
     117: lload         11
     119: lload_1
     120: lcmp
     121: ifne          131
     124: lload         13
     126: lload_3
     127: lcmp
     128: ifeq          149
     131: new           #188                // class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$WrongEntryException
     134: dup
     135: lload         13
     137: lload         11
     139: lload_1
     140: lload_3
     141: lload         5
     143: lload         7
     145: invokespecial #189                // Method org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$WrongEntryException."<init>":(JJJJJJ)V
     148: athrow
     149: return

  public io.netty.buffer.ByteBuf internalReadEntry(long, long, long, boolean) throws java.io.IOException;
    Code:
       0: lload         5
       2: invokestatic  #172                // Method logIdForOffset:(J)J
       5: lstore        8
       7: lload         5
       9: invokestatic  #173                // Method posForOffset:(J)J
      12: lstore        10
      14: aconst_null
      15: astore        12
      17: iconst_m1
      18: istore        13
      20: aload_0
      21: lload_1
      22: lload_3
      23: lload         8
      25: lload         10
      27: invokespecial #174                // Method getFCForEntryInternal:(JJJJ)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
      30: astore        12
      32: aload_0
      33: lload_1
      34: lload_3
      35: lload         8
      37: lload         10
      39: aload         12
      41: invokespecial #175                // Method readEntrySize:(JJJJLorg/apache/bookkeeper/bookie/BufferedReadChannel;)Lio/netty/buffer/ByteBuf;
      44: astore        14
      46: aload         14
      48: iconst_0
      49: invokevirtual #190                // Method io/netty/buffer/ByteBuf.getInt:(I)I
      52: istore        13
      54: iload         7
      56: ifeq          71
      59: aload_0
      60: lload_1
      61: lload_3
      62: lload         8
      64: lload         10
      66: aload         14
      68: invokespecial #176                // Method validateEntry:(JJJJLio/netty/buffer/ByteBuf;)V
      71: goto          121
      74: astore        14
      76: new           #191                // class org/apache/bookkeeper/bookie/Bookie$NoEntryException
      79: dup
      80: new           #53                 // class java/lang/StringBuilder
      83: dup
      84: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      87: ldc           #192                // String Short read from entrylog
      89: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: lload         8
      94: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      97: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: lload_1
     101: lload_3
     102: invokespecial #193                // Method org/apache/bookkeeper/bookie/Bookie$NoEntryException."<init>":(Ljava/lang/String;JJ)V
     105: athrow
     106: astore        14
     108: new           #87                 // class java/io/IOException
     111: dup
     112: aload         14
     114: invokevirtual #195                // Method org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException.toString:()Ljava/lang/String;
     117: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     120: athrow
     121: aload_0
     122: getfield      #32                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
     125: iload         13
     127: iload         13
     129: invokeinterface #196,  3          // InterfaceMethod io/netty/buffer/ByteBufAllocator.buffer:(II)Lio/netty/buffer/ByteBuf;
     134: astore        14
     136: aload_0
     137: lload         8
     139: aload         12
     141: aload         14
     143: lload         10
     145: invokespecial #166                // Method readFromLogChannel:(JLorg/apache/bookkeeper/bookie/BufferedReadChannel;Lio/netty/buffer/ByteBuf;J)I
     148: istore        15
     150: iload         15
     152: iload         13
     154: if_icmpeq     246
     157: aload         14
     159: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     162: pop
     163: new           #191                // class org/apache/bookkeeper/bookie/Bookie$NoEntryException
     166: dup
     167: new           #53                 // class java/lang/StringBuilder
     170: dup
     171: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
     174: ldc           #198                // String Short read for
     176: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     179: lload_1
     180: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     183: ldc           #199                // String @
     185: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     188: lload_3
     189: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     192: ldc           #181                // String  in
     194: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: lload         8
     199: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     202: ldc           #199                // String @
     204: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     207: lload         10
     209: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     212: ldc           #200                // String (
     214: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     217: iload         15
     219: invokevirtual #179                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     222: ldc           #201                // String !=
     224: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     227: iload         13
     229: invokevirtual #179                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     232: ldc           #202                // String )
     234: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     237: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     240: lload_1
     241: lload_3
     242: invokespecial #193                // Method org/apache/bookkeeper/bookie/Bookie$NoEntryException."<init>":(Ljava/lang/String;JJ)V
     245: athrow
     246: aload         14
     248: iload         13
     250: invokevirtual #43                 // Method io/netty/buffer/ByteBuf.writerIndex:(I)Lio/netty/buffer/ByteBuf;
     253: pop
     254: aload         14
     256: areturn
    Exception table:
       from    to  target type
          20    71    74   Class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException$MissingEntryException
          20    71   106   Class org/apache/bookkeeper/bookie/EntryLogger$EntryLookupException

  public io.netty.buffer.ByteBuf readEntry(long, long, long) throws java.io.IOException, org.apache.bookkeeper.bookie.Bookie$NoEntryException;
    Code:
       0: aload_0
       1: lload_1
       2: lload_3
       3: lload         5
       5: iconst_1
       6: invokevirtual #203                // Method internalReadEntry:(JJJZ)Lio/netty/buffer/ByteBuf;
       9: areturn

  private org.apache.bookkeeper.bookie.EntryLogger$Header getHeaderForLogId(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #161                // Method getChannelForLogId:(J)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
       5: astore_3
       6: aload_0
       7: getfield      #32                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
      10: sipush        1024
      13: invokeinterface #204,  2          // InterfaceMethod io/netty/buffer/ByteBufAllocator.directBuffer:(I)Lio/netty/buffer/ByteBuf;
      18: astore        4
      20: aload_3
      21: aload         4
      23: lconst_0
      24: invokevirtual #78                 // Method org/apache/bookkeeper/bookie/BufferedReadChannel.read:(Lio/netty/buffer/ByteBuf;J)I
      27: pop
      28: aload         4
      30: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
      33: pop
      34: aload         4
      36: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
      39: istore        5
      41: iload         5
      43: iflt          52
      46: iload         5
      48: iconst_1
      49: if_icmple     71
      52: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      55: ldc           #205                // String Unknown entry log header version for log {}: {}
      57: lload_1
      58: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      61: iload         5
      63: invokestatic  #183                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      66: invokeinterface #151,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      71: aload         4
      73: invokevirtual #206                // Method io/netty/buffer/ByteBuf.readLong:()J
      76: lstore        6
      78: aload         4
      80: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
      83: istore        8
      85: new           #207                // class org/apache/bookkeeper/bookie/EntryLogger$Header
      88: dup
      89: iload         5
      91: lload         6
      93: iload         8
      95: invokespecial #208                // Method org/apache/bookkeeper/bookie/EntryLogger$Header."<init>":(IJI)V
      98: astore        9
     100: aload         4
     102: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     105: pop
     106: aload         9
     108: areturn
     109: astore        10
     111: aload         4
     113: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     116: pop
     117: aload         10
     119: athrow
    Exception table:
       from    to  target type
          20   100   109   any
         109   111   109   any

  private org.apache.bookkeeper.bookie.BufferedReadChannel getChannelForLogId(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokevirtual #209                // Method getFromChannels:(J)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
       5: astore_3
       6: aload_3
       7: ifnull        12
      10: aload_3
      11: areturn
      12: aload_0
      13: lload_1
      14: invokespecial #101                // Method findFile:(J)Ljava/io/File;
      17: astore        4
      19: new           #210                // class java/io/RandomAccessFile
      22: dup
      23: aload         4
      25: ldc           #211                // String r
      27: invokespecial #212                // Method java/io/RandomAccessFile."<init>":(Ljava/io/File;Ljava/lang/String;)V
      30: invokevirtual #213                // Method java/io/RandomAccessFile.getChannel:()Ljava/nio/channels/FileChannel;
      33: astore        5
      35: aload_0
      36: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
      39: lload_1
      40: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      43: aload         5
      45: invokeinterface #214,  3          // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      50: checkcast     #85                 // class java/nio/channels/FileChannel
      53: astore        6
      55: aconst_null
      56: aload         6
      58: if_acmpeq     70
      61: aload         5
      63: invokevirtual #86                 // Method java/nio/channels/FileChannel.close:()V
      66: aload         6
      68: astore        5
      70: new           #83                 // class org/apache/bookkeeper/bookie/BufferedReadChannel
      73: dup
      74: aload         5
      76: aload_0
      77: getfield      #34                 // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      80: invokevirtual #215                // Method org/apache/bookkeeper/conf/ServerConfiguration.getReadBufferBytes:()I
      83: invokespecial #216                // Method org/apache/bookkeeper/bookie/BufferedReadChannel."<init>":(Ljava/nio/channels/FileChannel;I)V
      86: astore_3
      87: aload_0
      88: lload_1
      89: aload_3
      90: invokevirtual #217                // Method putInReadChannels:(JLorg/apache/bookkeeper/bookie/BufferedReadChannel;)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
      93: pop
      94: aload_3
      95: areturn

  boolean logExists(long);
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerDirsManager:Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
       4: invokevirtual #46                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
       7: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      12: astore_3
      13: aload_3
      14: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      19: ifeq          79
      22: aload_3
      23: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      28: checkcast     #50                 // class java/io/File
      31: astore        4
      33: new           #50                 // class java/io/File
      36: dup
      37: aload         4
      39: new           #53                 // class java/lang/StringBuilder
      42: dup
      43: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      46: lload_1
      47: invokestatic  #218                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      50: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: ldc           #103                // String .log
      55: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      61: invokespecial #123                // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      64: astore        5
      66: aload         5
      68: invokevirtual #51                 // Method java/io/File.exists:()Z
      71: ifeq          76
      74: iconst_1
      75: ireturn
      76: goto          13
      79: iconst_0
      80: ireturn

  public java.util.Set<java.lang.Long> getEntryLogsSet() throws java.io.IOException;
    Code:
       0: invokestatic  #219                // Method com/google/common/collect/Sets.newTreeSet:()Ljava/util/TreeSet;
       3: astore_1
       4: new           #220                // class org/apache/bookkeeper/bookie/EntryLogger$3
       7: dup
       8: aload_0
       9: invokespecial #221                // Method org/apache/bookkeeper/bookie/EntryLogger$3."<init>":(Lorg/apache/bookkeeper/bookie/EntryLogger;)V
      12: astore_2
      13: aload_0
      14: getfield      #33                 // Field ledgerDirsManager:Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
      17: invokevirtual #46                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
      20: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      25: astore_3
      26: aload_3
      27: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      32: ifeq          153
      35: aload_3
      36: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      41: checkcast     #50                 // class java/io/File
      44: astore        4
      46: aload         4
      48: aload_2
      49: invokevirtual #222                // Method java/io/File.listFiles:(Ljava/io/FilenameFilter;)[Ljava/io/File;
      52: astore        5
      54: aload         5
      56: ifnonnull     87
      59: new           #87                 // class java/io/IOException
      62: dup
      63: new           #53                 // class java/lang/StringBuilder
      66: dup
      67: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      70: ldc           #223                // String Failed to get list of files in directory
      72: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload         4
      77: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      80: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      83: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      86: athrow
      87: aload         5
      89: astore        6
      91: aload         6
      93: arraylength
      94: istore        7
      96: iconst_0
      97: istore        8
      99: iload         8
     101: iload         7
     103: if_icmpge     150
     106: aload         6
     108: iload         8
     110: aaload
     111: astore        9
     113: aload         9
     115: invokevirtual #113                // Method java/io/File.getName:()Ljava/lang/String;
     118: ldc           #103                // String .log
     120: invokevirtual #224                // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
     123: iconst_0
     124: aaload
     125: bipush        16
     127: invokestatic  #130                // Method java/lang/Long.parseLong:(Ljava/lang/String;I)J
     130: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     133: astore        10
     135: aload_1
     136: aload         10
     138: invokeinterface #225,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     143: pop
     144: iinc          8, 1
     147: goto          99
     150: goto          26
     153: aload_1
     154: areturn

  private java.io.File findFile(long) throws java.io.FileNotFoundException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerDirsManager:Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
       4: invokevirtual #46                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
       7: invokeinterface #47,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      12: astore_3
      13: aload_3
      14: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      19: ifeq          80
      22: aload_3
      23: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      28: checkcast     #50                 // class java/io/File
      31: astore        4
      33: new           #50                 // class java/io/File
      36: dup
      37: aload         4
      39: new           #53                 // class java/lang/StringBuilder
      42: dup
      43: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      46: lload_1
      47: invokestatic  #218                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      50: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: ldc           #103                // String .log
      55: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      61: invokespecial #123                // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      64: astore        5
      66: aload         5
      68: invokevirtual #51                 // Method java/io/File.exists:()Z
      71: ifeq          77
      74: aload         5
      76: areturn
      77: goto          13
      80: new           #52                 // class java/io/FileNotFoundException
      83: dup
      84: new           #53                 // class java/lang/StringBuilder
      87: dup
      88: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      91: ldc           #226                // String No file for log
      93: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: lload_1
      97: invokestatic  #218                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     100: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     103: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     106: invokespecial #60                 // Method java/io/FileNotFoundException."<init>":(Ljava/lang/String;)V
     109: athrow

  public void scanEntryLog(long, org.apache.bookkeeper.bookie.EntryLogger$EntryLogScanner) throws java.io.IOException;
    Code:
       0: bipush        12
       2: invokestatic  #19                 // Method io/netty/buffer/Unpooled.buffer:(I)Lio/netty/buffer/ByteBuf;
       5: astore        4
       7: aload_0
       8: lload_1
       9: invokespecial #161                // Method getChannelForLogId:(J)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
      12: astore        5
      14: goto          54
      17: astore        6
      19: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      22: new           #53                 // class java/lang/StringBuilder
      25: dup
      26: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      29: ldc           #227                // String Failed to get channel to scan entry log:
      31: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: lload_1
      35: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      38: ldc           #103                // String .log
      40: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokeinterface #91,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      51: aload         6
      53: athrow
      54: ldc2_w        #228                // long 1024l
      57: lstore        6
      59: aload_0
      60: getfield      #32                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
      63: ldc           #230                // int 1048576
      65: invokeinterface #204,  2          // InterfaceMethod io/netty/buffer/ByteBufAllocator.directBuffer:(I)Lio/netty/buffer/ByteBuf;
      70: astore        8
      72: lload         6
      74: aload         5
      76: invokevirtual #231                // Method org/apache/bookkeeper/bookie/BufferedReadChannel.size:()J
      79: lcmp
      80: iflt          86
      83: goto          347
      86: aload_0
      87: lload_1
      88: aload         5
      90: aload         4
      92: lload         6
      94: invokespecial #166                // Method readFromLogChannel:(JLorg/apache/bookkeeper/bookie/BufferedReadChannel;Lio/netty/buffer/ByteBuf;J)I
      97: aload         4
      99: invokevirtual #167                // Method io/netty/buffer/ByteBuf.capacity:()I
     102: if_icmpeq     126
     105: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     108: ldc           #232                // String Short read for entry size from entrylog {}
     110: lload_1
     111: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     114: invokeinterface #107,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     119: aload         8
     121: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     124: pop
     125: return
     126: lload         6
     128: lstore        9
     130: lload         6
     132: ldc2_w        #164                // long 4l
     135: ladd
     136: lstore        6
     138: aload         4
     140: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
     143: istore        11
     145: aload         4
     147: invokevirtual #206                // Method io/netty/buffer/ByteBuf.readLong:()J
     150: lstore        12
     152: aload         4
     154: invokevirtual #143                // Method io/netty/buffer/ByteBuf.clear:()Lio/netty/buffer/ByteBuf;
     157: pop
     158: lload         12
     160: ldc2_w        #44                 // long -1l
     163: lcmp
     164: ifeq          178
     167: aload_3
     168: lload         12
     170: invokeinterface #233,  3          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogger$EntryLogScanner.accept:(J)Z
     175: ifne          189
     178: lload         6
     180: iload         11
     182: i2l
     183: ladd
     184: lstore        6
     186: goto          72
     189: aload         8
     191: invokevirtual #143                // Method io/netty/buffer/ByteBuf.clear:()Lio/netty/buffer/ByteBuf;
     194: pop
     195: iload         11
     197: ifgt          244
     200: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     203: ldc           #234                // String bad read for ledger entry from entryLog {}@{} (entry size {})
     205: iconst_3
     206: anewarray     #14                 // class java/lang/Object
     209: dup
     210: iconst_0
     211: lload_1
     212: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     215: aastore
     216: dup
     217: iconst_1
     218: lload         6
     220: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     223: aastore
     224: dup
     225: iconst_2
     226: iload         11
     228: invokestatic  #183                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     231: aastore
     232: invokeinterface #235,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     237: aload         8
     239: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     242: pop
     243: return
     244: aload         8
     246: iload         11
     248: invokevirtual #236                // Method io/netty/buffer/ByteBuf.capacity:(I)Lio/netty/buffer/ByteBuf;
     251: pop
     252: aload_0
     253: lload_1
     254: aload         5
     256: aload         8
     258: lload         6
     260: invokespecial #166                // Method readFromLogChannel:(JLorg/apache/bookkeeper/bookie/BufferedReadChannel;Lio/netty/buffer/ByteBuf;J)I
     263: istore        14
     265: iload         14
     267: iload         11
     269: if_icmpeq     324
     272: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     275: ldc           #237                // String Short read for ledger entry from entryLog {}@{} ({} != {})
     277: iconst_4
     278: anewarray     #14                 // class java/lang/Object
     281: dup
     282: iconst_0
     283: lload_1
     284: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     287: aastore
     288: dup
     289: iconst_1
     290: lload         6
     292: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     295: aastore
     296: dup
     297: iconst_2
     298: iload         14
     300: invokestatic  #183                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     303: aastore
     304: dup
     305: iconst_3
     306: iload         11
     308: invokestatic  #183                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     311: aastore
     312: invokeinterface #235,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     317: aload         8
     319: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     322: pop
     323: return
     324: aload_3
     325: lload         12
     327: lload         9
     329: aload         8
     331: invokeinterface #238,  6          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogger$EntryLogScanner.process:(JJLio/netty/buffer/ByteBuf;)V
     336: lload         6
     338: iload         11
     340: i2l
     341: ladd
     342: lstore        6
     344: goto          72
     347: aload         8
     349: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     352: pop
     353: goto          367
     356: astore        15
     358: aload         8
     360: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     363: pop
     364: aload         15
     366: athrow
     367: return
    Exception table:
       from    to  target type
           7    14    17   Class java/io/IOException
          72   119   356   any
         126   237   356   any
         244   317   356   any
         324   347   356   any
         356   358   356   any

  public org.apache.bookkeeper.bookie.EntryLogMetadata getEntryLogMetadata(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokevirtual #239                // Method extractEntryLogMetadataFromIndex:(J)Lorg/apache/bookkeeper/bookie/EntryLogMetadata;
       5: areturn
       6: astore_3
       7: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      10: ldc           #241                // String Failed to get ledgers map index from: {}.log : {}
      12: lload_1
      13: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      16: aload_3
      17: invokevirtual #242                // Method java/lang/Exception.getMessage:()Ljava/lang/String;
      20: invokeinterface #151,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      25: aload_0
      26: lload_1
      27: invokespecial #243                // Method extractEntryLogMetadataByScanning:(J)Lorg/apache/bookkeeper/bookie/EntryLogMetadata;
      30: areturn
    Exception table:
       from    to  target type
           0     5     6   Class java/lang/Exception

  org.apache.bookkeeper.bookie.EntryLogMetadata extractEntryLogMetadataFromIndex(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #244                // Method getHeaderForLogId:(J)Lorg/apache/bookkeeper/bookie/EntryLogger$Header;
       5: astore_3
       6: aload_3
       7: getfield      #245                // Field org/apache/bookkeeper/bookie/EntryLogger$Header.version:I
      10: iconst_1
      11: if_icmpge     41
      14: new           #87                 // class java/io/IOException
      17: dup
      18: new           #53                 // class java/lang/StringBuilder
      21: dup
      22: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      25: ldc           #246                // String Old log file header without ledgers map on entryLogId
      27: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: lload_1
      31: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      34: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: aload_3
      42: getfield      #247                // Field org/apache/bookkeeper/bookie/EntryLogger$Header.ledgersMapOffset:J
      45: lconst_0
      46: lcmp
      47: ifne          77
      50: new           #87                 // class java/io/IOException
      53: dup
      54: new           #53                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #248                // String No ledgers map index found on entryLogId
      63: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: lload_1
      67: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      70: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      73: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      76: athrow
      77: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      80: invokeinterface #249,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      85: ifeq          109
      88: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      91: ldc           #250                // String Recovering ledgers maps for log {} at offset: {}
      93: lload_1
      94: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      97: aload_3
      98: getfield      #247                // Field org/apache/bookkeeper/bookie/EntryLogger$Header.ledgersMapOffset:J
     101: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     104: invokeinterface #251,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     109: aload_0
     110: lload_1
     111: invokespecial #161                // Method getChannelForLogId:(J)Lorg/apache/bookkeeper/bookie/BufferedReadChannel;
     114: astore        4
     116: aload_3
     117: getfield      #247                // Field org/apache/bookkeeper/bookie/EntryLogger$Header.ledgersMapOffset:J
     120: lstore        5
     122: new           #252                // class org/apache/bookkeeper/bookie/EntryLogMetadata
     125: dup
     126: lload_1
     127: invokespecial #253                // Method org/apache/bookkeeper/bookie/EntryLogMetadata."<init>":(J)V
     130: astore        7
     132: ldc           #254                // int 160024
     134: istore        8
     136: aload_0
     137: getfield      #32                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
     140: ldc           #254                // int 160024
     142: invokeinterface #204,  2          // InterfaceMethod io/netty/buffer/ByteBufAllocator.directBuffer:(I)Lio/netty/buffer/ByteBuf;
     147: astore        9
     149: lload         5
     151: aload         4
     153: invokevirtual #231                // Method org/apache/bookkeeper/bookie/BufferedReadChannel.size:()J
     156: lcmp
     157: ifge          446
     160: aload_0
     161: getfield      #29                 // Field sizeBuffer:Lio/netty/util/concurrent/FastThreadLocal;
     164: invokevirtual #141                // Method io/netty/util/concurrent/FastThreadLocal.get:()Ljava/lang/Object;
     167: checkcast     #142                // class io/netty/buffer/ByteBuf
     170: invokevirtual #143                // Method io/netty/buffer/ByteBuf.clear:()Lio/netty/buffer/ByteBuf;
     173: pop
     174: aload         4
     176: aload_0
     177: getfield      #29                 // Field sizeBuffer:Lio/netty/util/concurrent/FastThreadLocal;
     180: invokevirtual #141                // Method io/netty/util/concurrent/FastThreadLocal.get:()Ljava/lang/Object;
     183: checkcast     #142                // class io/netty/buffer/ByteBuf
     186: lload         5
     188: invokevirtual #78                 // Method org/apache/bookkeeper/bookie/BufferedReadChannel.read:(Lio/netty/buffer/ByteBuf;J)I
     191: pop
     192: aload_0
     193: getfield      #29                 // Field sizeBuffer:Lio/netty/util/concurrent/FastThreadLocal;
     196: invokevirtual #141                // Method io/netty/util/concurrent/FastThreadLocal.get:()Ljava/lang/Object;
     199: checkcast     #142                // class io/netty/buffer/ByteBuf
     202: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
     205: istore        10
     207: aload         9
     209: invokevirtual #143                // Method io/netty/buffer/ByteBuf.clear:()Lio/netty/buffer/ByteBuf;
     212: pop
     213: aload         4
     215: aload         9
     217: lload         5
     219: ldc2_w        #164                // long 4l
     222: ladd
     223: iload         10
     225: invokevirtual #255                // Method org/apache/bookkeeper/bookie/BufferedReadChannel.read:(Lio/netty/buffer/ByteBuf;JI)I
     228: pop
     229: aload         9
     231: invokevirtual #206                // Method io/netty/buffer/ByteBuf.readLong:()J
     234: lstore        11
     236: lload         11
     238: ldc2_w        #44                 // long -1l
     241: lcmp
     242: ifeq          274
     245: new           #87                 // class java/io/IOException
     248: dup
     249: new           #53                 // class java/lang/StringBuilder
     252: dup
     253: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
     256: ldc_w         #256                // String Cannot deserialize ledgers map from ledger
     259: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     262: lload         11
     264: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     267: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     270: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     273: athrow
     274: aload         9
     276: invokevirtual #206                // Method io/netty/buffer/ByteBuf.readLong:()J
     279: lstore        13
     281: lload         13
     283: ldc2_w        #257                // long -2l
     286: lcmp
     287: ifeq          319
     290: new           #87                 // class java/io/IOException
     293: dup
     294: new           #53                 // class java/lang/StringBuilder
     297: dup
     298: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
     301: ldc_w         #259                // String Cannot deserialize ledgers map from entryId
     304: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     307: lload         13
     309: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     312: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     315: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     318: athrow
     319: aload         9
     321: invokevirtual #177                // Method io/netty/buffer/ByteBuf.readInt:()I
     324: istore        15
     326: iconst_0
     327: istore        16
     329: iload         16
     331: iload         15
     333: if_icmpge     414
     336: aload         9
     338: invokevirtual #206                // Method io/netty/buffer/ByteBuf.readLong:()J
     341: lstore        17
     343: aload         9
     345: invokevirtual #206                // Method io/netty/buffer/ByteBuf.readLong:()J
     348: lstore        19
     350: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     353: invokeinterface #249,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     358: ifeq          399
     361: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     364: ldc_w         #260                // String Recovering ledgers maps for log {} -- Found ledger: {} with size: {}
     367: iconst_3
     368: anewarray     #14                 // class java/lang/Object
     371: dup
     372: iconst_0
     373: lload_1
     374: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     377: aastore
     378: dup
     379: iconst_1
     380: lload         17
     382: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     385: aastore
     386: dup
     387: iconst_2
     388: lload         19
     390: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     393: aastore
     394: invokeinterface #261,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     399: aload         7
     401: lload         17
     403: lload         19
     405: invokevirtual #262                // Method org/apache/bookkeeper/bookie/EntryLogMetadata.addLedgerSize:(JJ)V
     408: iinc          16, 1
     411: goto          329
     414: aload         9
     416: invokevirtual #263                // Method io/netty/buffer/ByteBuf.isReadable:()Z
     419: ifeq          433
     422: new           #87                 // class java/io/IOException
     425: dup
     426: ldc_w         #264                // String Invalid entry size when reading ledgers map
     429: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     432: athrow
     433: lload         5
     435: iload         10
     437: iconst_4
     438: iadd
     439: i2l
     440: ladd
     441: lstore        5
     443: goto          149
     446: aload         9
     448: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     451: pop
     452: goto          478
     455: astore        10
     457: new           #87                 // class java/io/IOException
     460: dup
     461: aload         10
     463: invokespecial #266                // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     466: athrow
     467: astore        21
     469: aload         9
     471: invokevirtual #197                // Method io/netty/buffer/ByteBuf.release:()Z
     474: pop
     475: aload         21
     477: athrow
     478: aload         7
     480: invokevirtual #267                // Method org/apache/bookkeeper/bookie/EntryLogMetadata.getLedgersMap:()Lorg/apache/bookkeeper/util/collections/ConcurrentLongLongHashMap;
     483: invokevirtual #268                // Method org/apache/bookkeeper/util/collections/ConcurrentLongLongHashMap.size:()J
     486: aload_3
     487: getfield      #269                // Field org/apache/bookkeeper/bookie/EntryLogger$Header.ledgersCount:I
     490: i2l
     491: lcmp
     492: ifeq          553
     495: new           #87                 // class java/io/IOException
     498: dup
     499: new           #53                 // class java/lang/StringBuilder
     502: dup
     503: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
     506: ldc_w         #270                // String Not all ledgers were found in ledgers map index. expected:
     509: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     512: aload_3
     513: getfield      #269                // Field org/apache/bookkeeper/bookie/EntryLogger$Header.ledgersCount:I
     516: invokevirtual #179                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     519: ldc_w         #271                // String  -- found:
     522: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     525: aload         7
     527: invokevirtual #267                // Method org/apache/bookkeeper/bookie/EntryLogMetadata.getLedgersMap:()Lorg/apache/bookkeeper/util/collections/ConcurrentLongLongHashMap;
     530: invokevirtual #268                // Method org/apache/bookkeeper/util/collections/ConcurrentLongLongHashMap.size:()J
     533: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     536: ldc_w         #272                // String  -- entryLogId:
     539: invokevirtual #56                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     542: lload_1
     543: invokevirtual #90                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     546: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     549: invokespecial #154                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     552: athrow
     553: aload         7
     555: areturn
    Exception table:
       from    to  target type
         149   446   455   Class java/lang/IndexOutOfBoundsException
         149   446   467   any
         455   469   467   any

  private org.apache.bookkeeper.bookie.EntryLogMetadata extractEntryLogMetadataByScanning(long) throws java.io.IOException;
    Code:
       0: new           #252                // class org/apache/bookkeeper/bookie/EntryLogMetadata
       3: dup
       4: lload_1
       5: invokespecial #253                // Method org/apache/bookkeeper/bookie/EntryLogMetadata."<init>":(J)V
       8: astore_3
       9: aload_0
      10: lload_1
      11: new           #273                // class org/apache/bookkeeper/bookie/EntryLogger$4
      14: dup
      15: aload_0
      16: aload_3
      17: invokespecial #274                // Method org/apache/bookkeeper/bookie/EntryLogger$4."<init>":(Lorg/apache/bookkeeper/bookie/EntryLogger;Lorg/apache/bookkeeper/bookie/EntryLogMetadata;)V
      20: invokevirtual #275                // Method scanEntryLog:(JLorg/apache/bookkeeper/bookie/EntryLogger$EntryLogScanner;)V
      23: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      26: invokeinterface #249,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      31: ifeq          50
      34: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      37: ldc_w         #276                // String Retrieved entry log meta data entryLogId: {}, meta: {}
      40: lload_1
      41: invokestatic  #81                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: aload_3
      45: invokeinterface #251,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      50: aload_3
      51: areturn

  public void shutdown();
    Code:
       0: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #277                // String Stopping EntryLogger
       6: invokeinterface #278,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      11: aload_0
      12: invokevirtual #279                // Method flush:()V
      15: aload_0
      16: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
      19: invokeinterface #280,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
      24: invokeinterface #281,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      29: astore_1
      30: aload_1
      31: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifeq          56
      39: aload_1
      40: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      45: checkcast     #85                 // class java/nio/channels/FileChannel
      48: astore_2
      49: aload_2
      50: invokevirtual #86                 // Method java/nio/channels/FileChannel.close:()V
      53: goto          30
      56: aload_0
      57: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
      60: invokeinterface #282,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.clear:()V
      65: aload_0
      66: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
      69: invokeinterface #283,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.close:()V
      74: aload_0
      75: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
      78: dup
      79: astore_1
      80: monitorenter
      81: aload_0
      82: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      85: ifnull        100
      88: aload_0
      89: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
      92: invokevirtual #152                // Method org/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel.close:()V
      95: aload_0
      96: aconst_null
      97: putfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
     100: aload_1
     101: monitorexit
     102: goto          110
     105: astore_3
     106: aload_1
     107: monitorexit
     108: aload_3
     109: athrow
     110: aload_0
     111: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
     114: invokeinterface #280,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
     119: invokeinterface #281,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     124: astore_1
     125: aload_1
     126: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     131: ifeq          154
     134: aload_1
     135: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     140: checkcast     #85                 // class java/nio/channels/FileChannel
     143: astore_2
     144: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     147: aload_2
     148: invokestatic  #284                // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     151: goto          125
     154: aload_0
     155: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
     158: invokeinterface #285,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.forceClose:()V
     163: aload_0
     164: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
     167: dup
     168: astore_1
     169: monitorenter
     170: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     173: aload_0
     174: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
     177: invokestatic  #284                // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     180: aload_1
     181: monitorexit
     182: goto          192
     185: astore        4
     187: aload_1
     188: monitorexit
     189: aload         4
     191: athrow
     192: goto          388
     195: astore_1
     196: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     199: ldc_w         #286                // String Error flush entry log during shutting down, which may cause entry log corrupted.
     202: aload_1
     203: invokeinterface #287,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     208: aload_0
     209: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
     212: invokeinterface #280,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
     217: invokeinterface #281,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     222: astore_1
     223: aload_1
     224: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     229: ifeq          252
     232: aload_1
     233: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     238: checkcast     #85                 // class java/nio/channels/FileChannel
     241: astore_2
     242: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     245: aload_2
     246: invokestatic  #284                // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     249: goto          223
     252: aload_0
     253: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
     256: invokeinterface #285,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.forceClose:()V
     261: aload_0
     262: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
     265: dup
     266: astore_1
     267: monitorenter
     268: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     271: aload_0
     272: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
     275: invokestatic  #284                // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     278: aload_1
     279: monitorexit
     280: goto          290
     283: astore        5
     285: aload_1
     286: monitorexit
     287: aload         5
     289: athrow
     290: goto          388
     293: astore        6
     295: aload_0
     296: getfield      #26                 // Field logid2FileChannel:Ljava/util/concurrent/ConcurrentMap;
     299: invokeinterface #280,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.values:()Ljava/util/Collection;
     304: invokeinterface #281,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     309: astore        7
     311: aload         7
     313: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     318: ifeq          344
     321: aload         7
     323: invokeinterface #49,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     328: checkcast     #85                 // class java/nio/channels/FileChannel
     331: astore        8
     333: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     336: aload         8
     338: invokestatic  #284                // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     341: goto          311
     344: aload_0
     345: getfield      #70                 // Field entryLogManager:Lorg/apache/bookkeeper/bookie/EntryLogManager;
     348: invokeinterface #285,  1          // InterfaceMethod org/apache/bookkeeper/bookie/EntryLogManager.forceClose:()V
     353: aload_0
     354: getfield      #15                 // Field compactionLogLock:Ljava/lang/Object;
     357: dup
     358: astore        7
     360: monitorenter
     361: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
     364: aload_0
     365: getfield      #95                 // Field compactionLogChannel:Lorg/apache/bookkeeper/bookie/EntryLogger$BufferedLogChannel;
     368: invokestatic  #284                // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     371: aload         7
     373: monitorexit
     374: goto          385
     377: astore        9
     379: aload         7
     381: monitorexit
     382: aload         9
     384: athrow
     385: aload         6
     387: athrow
     388: aload_0
     389: getfield      #67                 // Field entryLoggerAllocator:Lorg/apache/bookkeeper/bookie/EntryLoggerAllocator;
     392: invokevirtual #288                // Method org/apache/bookkeeper/bookie/EntryLoggerAllocator.stop:()V
     395: return
    Exception table:
       from    to  target type
          81   102   105   any
         105   108   105   any
         170   182   185   any
         185   189   185   any
          11   110   195   Class java/io/IOException
         268   280   283   any
         283   287   283   any
          11   110   293   any
         195   208   293   any
         361   374   377   any
         377   382   377   any
         293   295   293   any

  protected org.apache.bookkeeper.bookie.LedgerDirsManager getLedgerDirsManager();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerDirsManager:Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
       4: areturn

  static long fileName2LogId(java.lang.String);
    Code:
       0: aload_0
       1: ifnull        24
       4: aload_0
       5: ldc_w         #289                // String .
       8: invokevirtual #290                // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      11: ifeq          24
      14: aload_0
      15: ldc_w         #291                // String \\.
      18: invokevirtual #224                // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      21: iconst_0
      22: aaload
      23: astore_0
      24: aload_0
      25: bipush        16
      27: invokestatic  #130                // Method java/lang/Long.parseLong:(Ljava/lang/String;I)J
      30: lreturn
      31: astore_1
      32: getstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
      35: ldc_w         #292                // String Invalid log file name {} found when trying to convert to logId.
      38: aload_0
      39: aload_1
      40: invokeinterface #158,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      45: ldc2_w        #44                 // long -1l
      48: lreturn
    Exception table:
       from    to  target type
          24    30    31   Class java/lang/Exception

  static java.lang.String logId2HexString(long);
    Code:
       0: lload_0
       1: invokestatic  #218                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
       4: areturn

  private static boolean lambda$getLastLogId$0(java.io.File);
    Code:
       0: aload_0
       1: invokevirtual #113                // Method java/io/File.getName:()Ljava/lang/String;
       4: ldc           #103                // String .log
       6: invokevirtual #293                // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
       9: ireturn

  static {};
    Code:
       0: ldc           #1                  // class org/apache/bookkeeper/bookie/EntryLogger
       2: invokestatic  #294                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #88                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
