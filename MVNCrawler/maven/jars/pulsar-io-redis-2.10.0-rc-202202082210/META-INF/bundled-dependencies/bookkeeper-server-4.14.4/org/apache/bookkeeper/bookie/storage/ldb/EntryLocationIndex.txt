Compiled from "EntryLocationIndex.java"
public class org.apache.bookkeeper.bookie.storage.ldb.EntryLocationIndex implements java.io.Closeable {
  private final org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorage locationsDb;

  private final org.apache.bookkeeper.util.collections.ConcurrentLongHashSet deletedLedgers;

  private final org.apache.bookkeeper.bookie.storage.ldb.EntryLocationIndexStats stats;

  private static final int DELETE_ENTRIES_BATCH_SIZE;

  private static final org.slf4j.Logger log;

  public org.apache.bookkeeper.bookie.storage.ldb.EntryLocationIndex(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorageFactory, java.lang.String, org.apache.bookkeeper.stats.StatsLogger) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/bookkeeper/util/collections/ConcurrentLongHashSet
       8: dup
       9: invokespecial #3                  // Method org/apache/bookkeeper/util/collections/ConcurrentLongHashSet."<init>":()V
      12: putfield      #4                  // Field deletedLedgers:Lorg/apache/bookkeeper/util/collections/ConcurrentLongHashSet;
      15: aload_0
      16: aload_2
      17: aload_3
      18: ldc           #5                  // String locations
      20: getstatic     #6                  // Field org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory$DbConfigType.Huge:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory$DbConfigType;
      23: aload_1
      24: invokeinterface #7,  5            // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory.newKeyValueStorage:(Ljava/lang/String;Ljava/lang/String;Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory$DbConfigType;Lorg/apache/bookkeeper/conf/ServerConfiguration;)Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
      29: putfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
      32: aload_0
      33: new           #9                  // class org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndexStats
      36: dup
      37: aload         4
      39: aload_0
      40: invokedynamic #10,  0             // InvokeDynamic #0:get:(Lorg/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex;)Ljava/util/function/Supplier;
      45: invokespecial #11                 // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndexStats."<init>":(Lorg/apache/bookkeeper/stats/StatsLogger;Ljava/util/function/Supplier;)V
      48: putfield      #12                 // Field stats:Lorg/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndexStats;
      51: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
       4: invokeinterface #13,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.close:()V
       9: return

  public long getLocation(long, long) throws java.io.IOException;
    Code:
       0: lload_1
       1: lload_3
       2: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.get:(JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper;
       5: astore        5
       7: invokestatic  #15                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.get:()Lorg/apache/bookkeeper/bookie/storage/ldb/LongWrapper;
      10: astore        6
      12: aload_0
      13: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
      16: aload         5
      18: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
      21: aload         6
      23: getfield      #17                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.array:[B
      26: invokeinterface #18,  3           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.get:([B[B)I
      31: ifge          79
      34: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      37: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      42: ifeq          63
      45: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      48: ldc           #21                 // String Entry not found {}@{} in db index
      50: lload_1
      51: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      54: lload_3
      55: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      58: invokeinterface #23,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      63: lconst_0
      64: lstore        7
      66: aload         5
      68: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
      71: aload         6
      73: invokevirtual #25                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.recycle:()V
      76: lload         7
      78: lreturn
      79: aload         6
      81: invokevirtual #26                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.getValue:()J
      84: lstore        7
      86: aload         5
      88: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
      91: aload         6
      93: invokevirtual #25                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.recycle:()V
      96: lload         7
      98: lreturn
      99: astore        9
     101: aload         5
     103: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     106: aload         6
     108: invokevirtual #25                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.recycle:()V
     111: aload         9
     113: athrow
    Exception table:
       from    to  target type
          12    66    99   any
          79    86    99   any
          99   101    99   any

  public long getLastEntryInLedger(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field deletedLedgers:Lorg/apache/bookkeeper/util/collections/ConcurrentLongHashSet;
       4: lload_1
       5: invokevirtual #27                 // Method org/apache/bookkeeper/util/collections/ConcurrentLongHashSet.contains:(J)Z
       8: ifeq          15
      11: ldc2_w        #28                 // long -1l
      14: lreturn
      15: aload_0
      16: lload_1
      17: invokespecial #30                 // Method getLastEntryInLedgerInternal:(J)J
      20: lreturn

  private long getLastEntryInLedgerInternal(long) throws java.io.IOException;
    Code:
       0: lload_1
       1: ldc2_w        #32                 // long 9223372036854775807l
       4: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.get:(JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper;
       7: astore_3
       8: aload_0
       9: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
      12: aload_3
      13: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
      16: invokeinterface #34,  2           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.getFloor:([B)Ljava/util/Map$Entry;
      21: astore        4
      23: aload_3
      24: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
      27: aload         4
      29: ifnonnull     44
      32: new           #35                 // class org/apache/bookkeeper/bookie/Bookie$NoEntryException
      35: dup
      36: lload_1
      37: ldc2_w        #28                 // long -1l
      40: invokespecial #36                 // Method org/apache/bookkeeper/bookie/Bookie$NoEntryException."<init>":(JJ)V
      43: athrow
      44: aload         4
      46: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      51: checkcast     #38                 // class "[B"
      54: iconst_0
      55: invokestatic  #39                 // Method org/apache/bookkeeper/bookie/storage/ldb/ArrayUtil.getLong:([BI)J
      58: lstore        5
      60: aload         4
      62: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      67: checkcast     #38                 // class "[B"
      70: bipush        8
      72: invokestatic  #39                 // Method org/apache/bookkeeper/bookie/storage/ldb/ArrayUtil.getLong:([BI)J
      75: lstore        7
      77: lload         5
      79: lload_1
      80: lcmp
      81: ifne          117
      84: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      87: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      92: ifeq          114
      95: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      98: ldc           #40                 // String Found last page in storage db for ledger {} - last entry: {}
     100: lload_1
     101: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     104: lload         7
     106: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     109: invokeinterface #23,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     114: lload         7
     116: lreturn
     117: new           #35                 // class org/apache/bookkeeper/bookie/Bookie$NoEntryException
     120: dup
     121: lload_1
     122: ldc2_w        #28                 // long -1l
     125: invokespecial #36                 // Method org/apache/bookkeeper/bookie/Bookie$NoEntryException."<init>":(JJ)V
     128: athrow

  public void addLocation(long, long, long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
       4: invokeinterface #41,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.newBatch:()Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch;
       9: astore        7
      11: aload_0
      12: aload         7
      14: lload_1
      15: lload_3
      16: lload         5
      18: invokevirtual #42                 // Method addLocation:(Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch;JJJ)V
      21: aload         7
      23: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.flush:()V
      28: aload         7
      30: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.close:()V
      35: return

  public org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorage$Batch newBatch();
    Code:
       0: aload_0
       1: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
       4: invokeinterface #41,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.newBatch:()Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch;
       9: areturn

  public void addLocation(org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorage$Batch, long, long, long) throws java.io.IOException;
    Code:
       0: lload_2
       1: lload         4
       3: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.get:(JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper;
       6: astore        8
       8: lload         6
      10: invokestatic  #45                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.get:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/LongWrapper;
      13: astore        9
      15: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      18: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      23: ifeq          63
      26: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      29: ldc           #46                 // String Add location - ledger: {} -- entry: {} -- location: {}
      31: iconst_3
      32: anewarray     #47                 // class java/lang/Object
      35: dup
      36: iconst_0
      37: lload_2
      38: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      41: aastore
      42: dup
      43: iconst_1
      44: lload         4
      46: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      49: aastore
      50: dup
      51: iconst_2
      52: lload         6
      54: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      57: aastore
      58: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      63: aload_1
      64: aload         8
      66: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
      69: aload         9
      71: getfield      #17                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.array:[B
      74: invokeinterface #49,  3           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.put:([B[B)V
      79: aload         8
      81: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
      84: aload         9
      86: invokevirtual #25                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.recycle:()V
      89: goto          107
      92: astore        10
      94: aload         8
      96: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
      99: aload         9
     101: invokevirtual #25                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongWrapper.recycle:()V
     104: aload         10
     106: athrow
     107: return
    Exception table:
       from    to  target type
          63    79    92   any
          92    94    92   any

  public void updateLocations(java.lang.Iterable<org.apache.bookkeeper.bookie.EntryLocation>) throws java.io.IOException;
    Code:
       0: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          28
      11: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      14: ldc           #50                 // String Update locations -- {}
      16: aload_1
      17: invokestatic  #51                 // Method com/google/common/collect/Iterables.size:(Ljava/lang/Iterable;)I
      20: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      23: invokeinterface #53,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      28: aload_0
      29: invokevirtual #54                 // Method newBatch:()Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch;
      32: astore_2
      33: aload_1
      34: invokeinterface #55,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      39: astore_3
      40: aload_3
      41: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      46: ifeq          120
      49: aload_3
      50: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      55: checkcast     #58                 // class org/apache/bookkeeper/bookie/EntryLocation
      58: astore        4
      60: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      63: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      68: ifeq          97
      71: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      74: ldc           #59                 // String Update location - ledger: {} -- entry: {}
      76: aload         4
      78: getfield      #60                 // Field org/apache/bookkeeper/bookie/EntryLocation.ledger:J
      81: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      84: aload         4
      86: getfield      #61                 // Field org/apache/bookkeeper/bookie/EntryLocation.entry:J
      89: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      92: invokeinterface #23,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      97: aload_0
      98: aload_2
      99: aload         4
     101: getfield      #60                 // Field org/apache/bookkeeper/bookie/EntryLocation.ledger:J
     104: aload         4
     106: getfield      #61                 // Field org/apache/bookkeeper/bookie/EntryLocation.entry:J
     109: aload         4
     111: getfield      #62                 // Field org/apache/bookkeeper/bookie/EntryLocation.location:J
     114: invokevirtual #42                 // Method addLocation:(Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch;JJJ)V
     117: goto          40
     120: aload_2
     121: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.flush:()V
     126: aload_2
     127: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.close:()V
     132: return

  public void delete(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field deletedLedgers:Lorg/apache/bookkeeper/util/collections/ConcurrentLongHashSet;
       4: lload_1
       5: invokevirtual #63                 // Method org/apache/bookkeeper/util/collections/ConcurrentLongHashSet.add:(J)Z
       8: pop
       9: return

  public void removeOffsetFromDeletedLedgers() throws java.io.IOException;
    Code:
       0: ldc2_w        #28                 // long -1l
       3: ldc2_w        #28                 // long -1l
       6: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.get:(JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper;
       9: astore_1
      10: ldc2_w        #28                 // long -1l
      13: ldc2_w        #28                 // long -1l
      16: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.get:(JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper;
      19: astore_2
      20: ldc2_w        #28                 // long -1l
      23: ldc2_w        #28                 // long -1l
      26: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.get:(JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper;
      29: astore_3
      30: aload_0
      31: getfield      #4                  // Field deletedLedgers:Lorg/apache/bookkeeper/util/collections/ConcurrentLongHashSet;
      34: invokevirtual #64                 // Method org/apache/bookkeeper/util/collections/ConcurrentLongHashSet.items:()Ljava/util/Set;
      37: astore        4
      39: aload         4
      41: invokeinterface #65,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      46: ifeq          50
      49: return
      50: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
      53: ldc           #66                 // String Deleting indexes for ledgers: {}
      55: aload         4
      57: invokeinterface #67,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      62: invokestatic  #68                 // Method java/lang/System.nanoTime:()J
      65: lstore        5
      67: lconst_0
      68: lstore        7
      70: lconst_0
      71: lstore        9
      73: aload_0
      74: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
      77: invokeinterface #41,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.newBatch:()Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch;
      82: astore        11
      84: aload_3
      85: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
      88: arraylength
      89: newarray       byte
      91: astore        12
      93: aload         4
      95: invokeinterface #69,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     100: astore        13
     102: aload         13
     104: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     109: ifeq          482
     112: aload         13
     114: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     119: checkcast     #31                 // class java/lang/Long
     122: invokevirtual #70                 // Method java/lang/Long.longValue:()J
     125: lstore        14
     127: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     130: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     135: ifeq          153
     138: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     141: ldc           #71                 // String Deleting indexes from ledger {}
     143: lload         14
     145: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     148: invokeinterface #53,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     153: aload_1
     154: lload         14
     156: lconst_0
     157: invokevirtual #72                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.set:(JJ)V
     160: aload_2
     161: lload         14
     163: ldc2_w        #32                 // long 9223372036854775807l
     166: invokevirtual #72                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.set:(JJ)V
     169: aload_0
     170: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
     173: aload_1
     174: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
     177: invokeinterface #73,  2           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.getCeil:([B)Ljava/util/Map$Entry;
     182: astore        16
     184: aload         16
     186: ifnull        209
     189: aload         16
     191: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     196: checkcast     #38                 // class "[B"
     199: iconst_0
     200: invokestatic  #39                 // Method org/apache/bookkeeper/bookie/storage/ldb/ArrayUtil.getLong:([BI)J
     203: lload         14
     205: lcmp
     206: ifeq          238
     209: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     212: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     217: ifeq          102
     220: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     223: ldc           #74                 // String No entries found for ledger {}
     225: lload         14
     227: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     230: invokeinterface #53,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     235: goto          102
     238: aload         16
     240: invokeinterface #37,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     245: checkcast     #38                 // class "[B"
     248: bipush        8
     250: invokestatic  #39                 // Method org/apache/bookkeeper/bookie/storage/ldb/ArrayUtil.getLong:([BI)J
     253: lstore        17
     255: aload_0
     256: lload         14
     258: invokespecial #30                 // Method getLastEntryInLedgerInternal:(J)J
     261: lstore        19
     263: goto          297
     266: astore        21
     268: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     271: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     276: ifeq          294
     279: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     282: ldc           #75                 // String No last entry id found for ledger {}
     284: lload         14
     286: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     289: invokeinterface #53,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     294: goto          102
     297: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     300: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     305: ifeq          346
     308: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     311: ldc           #76                 // String Deleting index for ledger {} entries ({} -> {})
     313: iconst_3
     314: anewarray     #47                 // class java/lang/Object
     317: dup
     318: iconst_0
     319: lload         14
     321: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     324: aastore
     325: dup
     326: iconst_1
     327: lload         17
     329: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     332: aastore
     333: dup
     334: iconst_2
     335: lload         19
     337: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     340: aastore
     341: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     346: lload         17
     348: lstore        21
     350: lload         21
     352: lload         19
     354: lcmp
     355: ifgt          453
     358: aload_3
     359: lload         14
     361: lload         21
     363: invokevirtual #72                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.set:(JJ)V
     366: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     369: invokeinterface #20,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     374: ifeq          401
     377: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     380: ldc           #77                 // String Deleting index for ({}, {})
     382: aload_3
     383: invokevirtual #78                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.getFirst:()J
     386: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     389: aload_3
     390: invokevirtual #79                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.getSecond:()J
     393: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     396: invokeinterface #23,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     401: aload         11
     403: aload_3
     404: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
     407: invokeinterface #80,  2           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.remove:([B)V
     412: lload         9
     414: lconst_1
     415: ladd
     416: lstore        9
     418: lload         7
     420: dup2
     421: lconst_1
     422: ladd
     423: lstore        7
     425: lconst_0
     426: lcmp
     427: ifne          444
     430: aload_3
     431: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
     434: iconst_0
     435: aload         12
     437: iconst_0
     438: aload         12
     440: arraylength
     441: invokestatic  #81                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
     444: lload         21
     446: lconst_1
     447: ladd
     448: lstore        21
     450: goto          350
     453: lload         9
     455: ldc2_w        #83                 // long 100000l
     458: lcmp
     459: ifle          479
     462: aload         11
     464: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.flush:()V
     469: aload         11
     471: invokeinterface #85,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.clear:()V
     476: lconst_0
     477: lstore        9
     479: goto          102
     482: aload         11
     484: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.flush:()V
     489: aload         11
     491: invokeinterface #85,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.clear:()V
     496: lload         7
     498: lconst_0
     499: lcmp
     500: ifeq          518
     503: aload_0
     504: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
     507: aload         12
     509: aload_3
     510: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
     513: invokeinterface #86,  3           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.compact:([B[B)V
     518: aload_1
     519: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     522: aload_2
     523: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     526: aload_3
     527: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     530: aload         11
     532: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.close:()V
     537: goto          564
     540: astore        23
     542: aload_1
     543: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     546: aload_2
     547: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     550: aload_3
     551: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     554: aload         11
     556: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.close:()V
     561: aload         23
     563: athrow
     564: goto          654
     567: astore        24
     569: aload         11
     571: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.flush:()V
     576: aload         11
     578: invokeinterface #85,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.clear:()V
     583: lload         7
     585: lconst_0
     586: lcmp
     587: ifeq          605
     590: aload_0
     591: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
     594: aload         12
     596: aload_3
     597: getfield      #16                 // Field org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.array:[B
     600: invokeinterface #86,  3           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.compact:([B[B)V
     605: aload_1
     606: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     609: aload_2
     610: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     613: aload_3
     614: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     617: aload         11
     619: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.close:()V
     624: goto          651
     627: astore        25
     629: aload_1
     630: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     633: aload_2
     634: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     637: aload_3
     638: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/storage/ldb/LongPairWrapper.recycle:()V
     641: aload         11
     643: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage$Batch.close:()V
     648: aload         25
     650: athrow
     651: aload         24
     653: athrow
     654: getstatic     #19                 // Field log:Lorg/slf4j/Logger;
     657: ldc           #87                 // String Deleted indexes for {} entries from {} ledgers in {} seconds
     659: iconst_3
     660: anewarray     #47                 // class java/lang/Object
     663: dup
     664: iconst_0
     665: lload         7
     667: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     670: aastore
     671: dup
     672: iconst_1
     673: aload         4
     675: invokeinterface #88,  1           // InterfaceMethod java/util/Set.size:()I
     680: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     683: aastore
     684: dup
     685: iconst_2
     686: getstatic     #89                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     689: invokestatic  #68                 // Method java/lang/System.nanoTime:()J
     692: lload         5
     694: lsub
     695: invokevirtual #90                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
     698: l2d
     699: ldc2_w        #91                 // double 1000.0d
     702: ddiv
     703: invokestatic  #93                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     706: aastore
     707: invokeinterface #94,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     712: aload         4
     714: invokeinterface #69,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     719: astore        13
     721: aload         13
     723: invokeinterface #56,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     728: ifeq          759
     731: aload         13
     733: invokeinterface #57,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     738: checkcast     #31                 // class java/lang/Long
     741: invokevirtual #70                 // Method java/lang/Long.longValue:()J
     744: lstore        14
     746: aload_0
     747: getfield      #4                  // Field deletedLedgers:Lorg/apache/bookkeeper/util/collections/ConcurrentLongHashSet;
     750: lload         14
     752: invokevirtual #95                 // Method org/apache/bookkeeper/util/collections/ConcurrentLongHashSet.remove:(J)Z
     755: pop
     756: goto          721
     759: return
    Exception table:
       from    to  target type
         255   263   266   Class org/apache/bookkeeper/bookie/Bookie$NoEntryException
         482   518   540   any
         540   542   540   any
          93   482   567   any
         569   605   627   any
         627   629   627   any
         567   569   567   any

  private java.lang.Long lambda$new$0();
    Code:
       0: aload_0
       1: getfield      #8                  // Field locationsDb:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage;
       4: invokeinterface #96,  1           // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorage.count:()J
       9: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      12: areturn
      13: astore_1
      14: ldc2_w        #28                 // long -1l
      17: invokestatic  #22                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      20: areturn
    Exception table:
       from    to  target type
           0    12    13   Class java/io/IOException

  static {};
    Code:
       0: ldc           #82                 // class org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex
       2: invokestatic  #98                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #19                 // Field log:Lorg/slf4j/Logger;
       8: return
}
