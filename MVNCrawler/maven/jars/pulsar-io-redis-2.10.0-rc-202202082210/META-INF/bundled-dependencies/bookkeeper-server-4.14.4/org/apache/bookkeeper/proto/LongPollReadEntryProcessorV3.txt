Compiled from "LongPollReadEntryProcessorV3.java"
class org.apache.bookkeeper.proto.LongPollReadEntryProcessorV3 extends org.apache.bookkeeper.proto.ReadEntryProcessorV3 implements org.apache.bookkeeper.common.util.Watcher<org.apache.bookkeeper.bookie.LastAddConfirmedUpdateNotification> {
  private static final org.slf4j.Logger logger;

  private final java.lang.Long previousLAC;

  private java.util.Optional<java.lang.Long> lastAddConfirmedUpdateTime;

  private final java.util.concurrent.ExecutorService longPollThreadPool;

  private final io.netty.util.HashedWheelTimer requestTimer;

  private io.netty.util.Timeout expirationTimerTask;

  private java.util.concurrent.Future<?> deferredTask;

  private boolean shouldReadEntry;

  org.apache.bookkeeper.proto.LongPollReadEntryProcessorV3(org.apache.bookkeeper.proto.BookkeeperProtocol$Request, io.netty.channel.Channel, org.apache.bookkeeper.proto.BookieRequestProcessor, java.util.concurrent.ExecutorService, java.util.concurrent.ExecutorService, io.netty.util.HashedWheelTimer);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: invokespecial #1                  // Method org/apache/bookkeeper/proto/ReadEntryProcessorV3."<init>":(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;Lio/netty/channel/Channel;Lorg/apache/bookkeeper/proto/BookieRequestProcessor;Ljava/util/concurrent/ExecutorService;)V
       9: aload_0
      10: invokestatic  #2                  // Method java/util/Optional.empty:()Ljava/util/Optional;
      13: putfield      #3                  // Field lastAddConfirmedUpdateTime:Ljava/util/Optional;
      16: aload_0
      17: aconst_null
      18: putfield      #4                  // Field expirationTimerTask:Lio/netty/util/Timeout;
      21: aload_0
      22: aconst_null
      23: putfield      #5                  // Field deferredTask:Ljava/util/concurrent/Future;
      26: aload_0
      27: iconst_0
      28: putfield      #6                  // Field shouldReadEntry:Z
      31: aload_0
      32: aload_0
      33: getfield      #7                  // Field readRequest:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;
      36: invokevirtual #8                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest.getPreviousLAC:()J
      39: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      42: putfield      #10                 // Field previousLAC:Ljava/lang/Long;
      45: aload_0
      46: aload         5
      48: putfield      #11                 // Field longPollThreadPool:Ljava/util/concurrent/ExecutorService;
      51: aload_0
      52: aload         6
      54: putfield      #12                 // Field requestTimer:Lio/netty/util/HashedWheelTimer;
      57: return

  protected java.lang.Long getPreviousLAC();
    Code:
       0: aload_0
       1: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
       4: areturn

  private synchronized boolean shouldReadEntry();
    Code:
       0: aload_0
       1: getfield      #6                  // Field shouldReadEntry:Z
       4: ireturn

  protected org.apache.bookkeeper.proto.BookkeeperProtocol$ReadResponse readEntry(org.apache.bookkeeper.proto.BookkeeperProtocol$ReadResponse$Builder, long, com.google.common.base.Stopwatch) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field readRequest:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;
       4: invokestatic  #13                 // Method org/apache/bookkeeper/proto/RequestUtils.shouldPiggybackEntry:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;)Z
       7: ifeq          323
      10: aload_0
      11: getfield      #7                  // Field readRequest:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;
      14: invokevirtual #14                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest.hasPreviousLAC:()Z
      17: ifeq          28
      20: ldc2_w        #16                 // long -1l
      23: lload_2
      24: lcmp
      25: ifeq          60
      28: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      31: ldc           #19                 // String Incorrect read request, entry piggyback requested incorrectly for ledgerId {} entryId {}
      33: aload_0
      34: getfield      #20                 // Field ledgerId:J
      37: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      40: lload_2
      41: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: invokeinterface #21,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      49: aload_0
      50: aload_1
      51: getstatic     #22                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EBADREQ:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      54: aload         4
      56: invokevirtual #23                 // Method buildResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Lcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
      59: areturn
      60: aload_0
      61: getfield      #24                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      64: getfield      #25                 // Field org/apache/bookkeeper/proto/BookieRequestProcessor.bookie:Lorg/apache/bookkeeper/bookie/Bookie;
      67: aload_0
      68: getfield      #20                 // Field ledgerId:J
      71: invokevirtual #26                 // Method org/apache/bookkeeper/bookie/Bookie.readLastAddConfirmed:(J)J
      74: lstore        5
      76: aload_1
      77: lload         5
      79: invokevirtual #27                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder.setMaxLAC:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;
      82: pop
      83: lload         5
      85: aload_0
      86: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
      89: invokevirtual #28                 // Method java/lang/Long.longValue:()J
      92: lcmp
      93: ifle          249
      96: aload_0
      97: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
     100: invokevirtual #28                 // Method java/lang/Long.longValue:()J
     103: lconst_1
     104: ladd
     105: lstore_2
     106: aload_1
     107: lload         5
     109: invokevirtual #27                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder.setMaxLAC:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;
     112: pop
     113: aload_0
     114: getfield      #3                  // Field lastAddConfirmedUpdateTime:Ljava/util/Optional;
     117: invokevirtual #29                 // Method java/util/Optional.isPresent:()Z
     120: ifeq          141
     123: aload_1
     124: aload_0
     125: getfield      #3                  // Field lastAddConfirmedUpdateTime:Ljava/util/Optional;
     128: invokevirtual #30                 // Method java/util/Optional.get:()Ljava/lang/Object;
     131: checkcast     #31                 // class java/lang/Long
     134: invokevirtual #28                 // Method java/lang/Long.longValue:()J
     137: invokevirtual #32                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder.setLacUpdateTimestamp:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;
     140: pop
     141: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     144: invokeinterface #33,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     149: ifeq          173
     152: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     155: ldc           #34                 // String ReadLAC Piggy Back reading entry:{} from ledger: {}
     157: lload_2
     158: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     161: aload_0
     162: getfield      #20                 // Field ledgerId:J
     165: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     168: invokeinterface #35,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     173: aload_0
     174: aload_1
     175: lload_2
     176: iconst_1
     177: aload         4
     179: invokespecial #36                 // Method org/apache/bookkeeper/proto/ReadEntryProcessorV3.readEntry:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;JZLcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     182: areturn
     183: astore        7
     185: aload_0
     186: getfield      #24                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
     189: invokevirtual #38                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
     192: invokevirtual #39                 // Method org/apache/bookkeeper/proto/RequestStats.getReadLastEntryNoEntryErrorCounter:()Lorg/apache/bookkeeper/stats/Counter;
     195: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/stats/Counter.inc:()V
     200: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     203: ldc           #41                 // String No entry found while piggyback reading entry {} from ledger {} : previous lac = {}
     205: iconst_3
     206: anewarray     #42                 // class java/lang/Object
     209: dup
     210: iconst_0
     211: lload_2
     212: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     215: aastore
     216: dup
     217: iconst_1
     218: aload_0
     219: getfield      #20                 // Field ledgerId:J
     222: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     225: aastore
     226: dup
     227: iconst_2
     228: aload_0
     229: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
     232: aastore
     233: invokeinterface #43,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     238: aload_0
     239: aload_1
     240: getstatic     #44                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EOK:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     243: aload         4
     245: invokevirtual #23                 // Method buildResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Lcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     248: areturn
     249: lload         5
     251: aload_0
     252: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
     255: invokevirtual #28                 // Method java/lang/Long.longValue:()J
     258: lcmp
     259: ifge          312
     262: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     265: invokeinterface #33,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     270: ifeq          312
     273: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     276: ldc           #45                 // String Found smaller lac when piggy back reading lac and entry from ledger {} : previous lac = {}, known lac = {}
     278: iconst_3
     279: anewarray     #42                 // class java/lang/Object
     282: dup
     283: iconst_0
     284: aload_0
     285: getfield      #20                 // Field ledgerId:J
     288: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     291: aastore
     292: dup
     293: iconst_1
     294: aload_0
     295: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
     298: aastore
     299: dup
     300: iconst_2
     301: lload         5
     303: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     306: aastore
     307: invokeinterface #46,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     312: aload_0
     313: aload_1
     314: getstatic     #44                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EOK:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     317: aload         4
     319: invokevirtual #23                 // Method buildResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Lcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     322: areturn
     323: aload_0
     324: aload_1
     325: lload_2
     326: iconst_0
     327: aload         4
     329: invokespecial #36                 // Method org/apache/bookkeeper/proto/ReadEntryProcessorV3.readEntry:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;JZLcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     332: areturn
    Exception table:
       from    to  target type
         173   182   183   Class org/apache/bookkeeper/bookie/Bookie$NoEntryException

  private org.apache.bookkeeper.proto.BookkeeperProtocol$ReadResponse buildErrorResponse(org.apache.bookkeeper.proto.BookkeeperProtocol$StatusCode, com.google.common.base.Stopwatch);
    Code:
       0: invokestatic  #47                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse.newBuilder:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;
       3: aload_0
       4: getfield      #20                 // Field ledgerId:J
       7: invokevirtual #48                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder.setLedgerId:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;
      10: aload_0
      11: getfield      #49                 // Field entryId:J
      14: invokevirtual #50                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder.setEntryId:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;
      17: astore_3
      18: aload_0
      19: aload_3
      20: aload_1
      21: aload_2
      22: invokevirtual #23                 // Method buildResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse$Builder;Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Lcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
      25: areturn

  private org.apache.bookkeeper.proto.BookkeeperProtocol$ReadResponse getLongPollReadResponse();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method shouldReadEntry:()Z
       4: ifne          258
       7: aload_0
       8: getfield      #7                  // Field readRequest:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;
      11: invokevirtual #52                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest.hasTimeOut:()Z
      14: ifeq          258
      17: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      20: invokeinterface #53,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      25: ifeq          42
      28: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      31: ldc           #54                 // String Waiting For LAC Update {}
      33: aload_0
      34: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
      37: invokeinterface #55,  3           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      42: invokestatic  #56                 // Method com/google/common/base/Stopwatch.createStarted:()Lcom/google/common/base/Stopwatch;
      45: astore_1
      46: aload_0
      47: getfield      #24                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      50: invokevirtual #57                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
      53: aload_0
      54: getfield      #20                 // Field ledgerId:J
      57: aload_0
      58: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
      61: invokevirtual #28                 // Method java/lang/Long.longValue:()J
      64: aload_0
      65: invokevirtual #58                 // Method org/apache/bookkeeper/bookie/Bookie.waitForLastAddConfirmedUpdate:(JJLorg/apache/bookkeeper/common/util/Watcher;)Z
      68: istore_2
      69: goto          148
      72: astore_3
      73: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      76: ldc           #60                 // String No ledger found while longpoll reading ledger {}, previous lac = {}.
      78: aload_0
      79: getfield      #20                 // Field ledgerId:J
      82: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      85: aload_0
      86: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
      89: invokeinterface #61,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      94: aload_0
      95: getstatic     #62                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.ENOLEDGER:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      98: aload_1
      99: invokespecial #63                 // Method buildErrorResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Lcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     102: areturn
     103: astore_3
     104: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     107: ldc           #65                 // String IOException while longpoll reading ledger {}, previous lac = {} :
     109: iconst_3
     110: anewarray     #42                 // class java/lang/Object
     113: dup
     114: iconst_0
     115: aload_0
     116: getfield      #20                 // Field ledgerId:J
     119: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     122: aastore
     123: dup
     124: iconst_1
     125: aload_0
     126: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
     129: aastore
     130: dup
     131: iconst_2
     132: aload_3
     133: aastore
     134: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     139: aload_0
     140: getstatic     #67                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EIO:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     143: aload_1
     144: invokespecial #63                 // Method buildErrorResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Lcom/google/common/base/Stopwatch;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     147: areturn
     148: aload_0
     149: aload_0
     150: getfield      #24                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
     153: invokevirtual #38                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
     156: invokevirtual #68                 // Method org/apache/bookkeeper/proto/RequestStats.getLongPollPreWaitStats:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
     159: aload_1
     160: invokevirtual #69                 // Method registerSuccessfulEvent:(Lorg/apache/bookkeeper/stats/OpStatsLogger;Lcom/google/common/base/Stopwatch;)V
     163: aload_0
     164: getfield      #70                 // Field lastPhaseStartTime:Lcom/google/common/base/Stopwatch;
     167: invokevirtual #71                 // Method com/google/common/base/Stopwatch.reset:()Lcom/google/common/base/Stopwatch;
     170: invokevirtual #72                 // Method com/google/common/base/Stopwatch.start:()Lcom/google/common/base/Stopwatch;
     173: pop
     174: iload_2
     175: ifeq          258
     178: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     181: invokeinterface #53,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     186: ifeq          213
     189: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
     192: ldc           #73                 // String Waiting For LAC Update {}: Timeout {}
     194: aload_0
     195: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
     198: aload_0
     199: getfield      #7                  // Field readRequest:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;
     202: invokevirtual #74                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest.getTimeOut:()J
     205: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     208: invokeinterface #75,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     213: aload_0
     214: dup
     215: astore_3
     216: monitorenter
     217: aload_0
     218: aload_0
     219: getfield      #12                 // Field requestTimer:Lio/netty/util/HashedWheelTimer;
     222: aload_0
     223: invokedynamic #76,  0             // InvokeDynamic #0:run:(Lorg/apache/bookkeeper/proto/LongPollReadEntryProcessorV3;)Lio/netty/util/TimerTask;
     228: aload_0
     229: getfield      #7                  // Field readRequest:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest;
     232: invokevirtual #74                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$ReadRequest.getTimeOut:()J
     235: getstatic     #77                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     238: invokevirtual #78                 // Method io/netty/util/HashedWheelTimer.newTimeout:(Lio/netty/util/TimerTask;JLjava/util/concurrent/TimeUnit;)Lio/netty/util/Timeout;
     241: putfield      #4                  // Field expirationTimerTask:Lio/netty/util/Timeout;
     244: aload_3
     245: monitorexit
     246: goto          256
     249: astore        4
     251: aload_3
     252: monitorexit
     253: aload         4
     255: athrow
     256: aconst_null
     257: areturn
     258: aload_0
     259: invokevirtual #79                 // Method getReadResponse:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
     262: areturn
    Exception table:
       from    to  target type
          46    69    72   Class org/apache/bookkeeper/bookie/Bookie$NoLedgerException
          46    69   103   Class java/io/IOException
         217   246   249   any
         249   253   249   any

  protected void executeOp();
    Code:
       0: aload_0
       1: invokespecial #80                 // Method getLongPollReadResponse:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;
       4: astore_1
       5: aconst_null
       6: aload_1
       7: if_acmpeq     15
      10: aload_0
      11: aload_1
      12: invokevirtual #81                 // Method sendResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$ReadResponse;)V
      15: return

  public void update(org.apache.bookkeeper.bookie.LastAddConfirmedUpdateNotification);
    Code:
       0: aload_1
       1: invokevirtual #82                 // Method org/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification.getLastAddConfirmed:()J
       4: aload_0
       5: getfield      #10                 // Field previousLAC:Ljava/lang/Long;
       8: invokevirtual #28                 // Method java/lang/Long.longValue:()J
      11: lcmp
      12: ifle          87
      15: aload_1
      16: invokevirtual #82                 // Method org/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification.getLastAddConfirmed:()J
      19: ldc2_w        #83                 // long 9223372036854775807l
      22: lcmp
      23: ifeq          50
      26: aload_0
      27: getfield      #3                  // Field lastAddConfirmedUpdateTime:Ljava/util/Optional;
      30: invokevirtual #29                 // Method java/util/Optional.isPresent:()Z
      33: ifne          50
      36: aload_0
      37: aload_1
      38: invokevirtual #85                 // Method org/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification.getTimestamp:()J
      41: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: invokestatic  #86                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      47: putfield      #3                  // Field lastAddConfirmedUpdateTime:Ljava/util/Optional;
      50: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      53: invokeinterface #53,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      58: ifeq          82
      61: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      64: ldc           #87                 // String Last Add Confirmed Advanced to {} for request {}
      66: aload_1
      67: invokevirtual #82                 // Method org/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification.getLastAddConfirmed:()J
      70: invokestatic  #9                  // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      73: aload_0
      74: getfield      #88                 // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
      77: invokeinterface #75,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      82: aload_0
      83: iconst_0
      84: invokespecial #89                 // Method scheduleDeferredRead:(Z)V
      87: aload_1
      88: invokevirtual #90                 // Method org/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification.recycle:()V
      91: return

  private synchronized void scheduleDeferredRead(boolean);
    Code:
       0: aconst_null
       1: aload_0
       2: getfield      #5                  // Field deferredTask:Ljava/util/concurrent/Future;
       5: if_acmpne     108
       8: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      11: invokeinterface #53,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      16: ifeq          37
      19: getstatic     #18                 // Field logger:Lorg/slf4j/Logger;
      22: ldc           #91                 // String Deferred Task, expired: {}, request: {}
      24: iload_1
      25: invokestatic  #92                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      28: aload_0
      29: getfield      #88                 // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
      32: invokeinterface #75,  4           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      37: aload_0
      38: iconst_1
      39: putfield      #6                  // Field shouldReadEntry:Z
      42: aload_0
      43: aload_0
      44: getfield      #11                 // Field longPollThreadPool:Ljava/util/concurrent/ExecutorService;
      47: aload_0
      48: invokeinterface #93,  2           // InterfaceMethod java/util/concurrent/ExecutorService.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
      53: putfield      #5                  // Field deferredTask:Ljava/util/concurrent/Future;
      56: goto          60
      59: astore_2
      60: aconst_null
      61: aload_0
      62: getfield      #4                  // Field expirationTimerTask:Lio/netty/util/Timeout;
      65: if_acmpeq     78
      68: aload_0
      69: getfield      #4                  // Field expirationTimerTask:Lio/netty/util/Timeout;
      72: invokeinterface #95,  1           // InterfaceMethod io/netty/util/Timeout.cancel:()Z
      77: pop
      78: aload_0
      79: iload_1
      80: aload_0
      81: getfield      #24                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      84: invokevirtual #38                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
      87: invokevirtual #96                 // Method org/apache/bookkeeper/proto/RequestStats.getLongPollWaitStats:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
      90: aload_0
      91: getfield      #70                 // Field lastPhaseStartTime:Lcom/google/common/base/Stopwatch;
      94: invokevirtual #97                 // Method registerEvent:(ZLorg/apache/bookkeeper/stats/OpStatsLogger;Lcom/google/common/base/Stopwatch;)V
      97: aload_0
      98: getfield      #70                 // Field lastPhaseStartTime:Lcom/google/common/base/Stopwatch;
     101: invokevirtual #71                 // Method com/google/common/base/Stopwatch.reset:()Lcom/google/common/base/Stopwatch;
     104: invokevirtual #72                 // Method com/google/common/base/Stopwatch.start:()Lcom/google/common/base/Stopwatch;
     107: pop
     108: return
    Exception table:
       from    to  target type
          37    56    59   Class java/util/concurrent/RejectedExecutionException

  public void update(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #98                 // class org/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification
       5: invokevirtual #99                 // Method update:(Lorg/apache/bookkeeper/bookie/LastAddConfirmedUpdateNotification;)V
       8: return

  private void lambda$getLongPollReadResponse$0(io.netty.util.Timeout) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #24                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
       4: invokevirtual #57                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
       7: aload_0
       8: getfield      #20                 // Field ledgerId:J
      11: aload_0
      12: invokevirtual #100                // Method org/apache/bookkeeper/bookie/Bookie.cancelWaitForLastAddConfirmedUpdate:(JLorg/apache/bookkeeper/common/util/Watcher;)V
      15: aload_0
      16: iconst_1
      17: invokespecial #89                 // Method scheduleDeferredRead:(Z)V
      20: return

  static {};
    Code:
       0: ldc           #101                // class org/apache/bookkeeper/proto/LongPollReadEntryProcessorV3
       2: invokestatic  #102                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #18                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
