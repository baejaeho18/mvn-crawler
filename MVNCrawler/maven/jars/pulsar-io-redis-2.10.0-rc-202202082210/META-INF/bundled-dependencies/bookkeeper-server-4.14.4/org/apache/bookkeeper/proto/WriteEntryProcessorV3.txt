Compiled from "WriteEntryProcessorV3.java"
class org.apache.bookkeeper.proto.WriteEntryProcessorV3 extends org.apache.bookkeeper.proto.PacketProcessorBaseV3 {
  private static final org.slf4j.Logger logger;

  public org.apache.bookkeeper.proto.WriteEntryProcessorV3(org.apache.bookkeeper.proto.BookkeeperProtocol$Request, io.netty.channel.Channel, org.apache.bookkeeper.proto.BookieRequestProcessor);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #1                  // Method org/apache/bookkeeper/proto/PacketProcessorBaseV3."<init>":(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;Lio/netty/channel/Channel;Lorg/apache/bookkeeper/proto/BookieRequestProcessor;)V
       7: aload_3
       8: aload_2
       9: invokevirtual #2                  // Method org/apache/bookkeeper/proto/BookieRequestProcessor.onAddRequestStart:(Lio/netty/channel/Channel;)V
      12: return

  private org.apache.bookkeeper.proto.BookkeeperProtocol$AddResponse getAddResponse();
    Code:
       0: invokestatic  #3                  // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
       3: lstore_1
       4: aload_0
       5: getfield      #4                  // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
       8: invokevirtual #5                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Request.getAddRequest:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest;
      11: astore_3
      12: aload_3
      13: invokevirtual #6                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest.getLedgerId:()J
      16: lstore        4
      18: aload_3
      19: invokevirtual #7                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest.getEntryId:()J
      22: lstore        6
      24: invokestatic  #8                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse.newBuilder:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;
      27: lload         4
      29: invokevirtual #9                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.setLedgerId:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;
      32: lload         6
      34: invokevirtual #10                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.setEntryId:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;
      37: astore        8
      39: aload_0
      40: invokevirtual #11                 // Method isVersionCompatible:()Z
      43: ifne          61
      46: aload         8
      48: getstatic     #12                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EBADVERSION:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      51: invokevirtual #13                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;
      54: pop
      55: aload         8
      57: invokevirtual #14                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse;
      60: areturn
      61: aload_0
      62: getfield      #15                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      65: invokevirtual #16                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
      68: invokevirtual #17                 // Method org/apache/bookkeeper/bookie/Bookie.isReadOnly:()Z
      71: ifeq          122
      74: aload_0
      75: getfield      #4                  // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
      78: invokestatic  #18                 // Method org/apache/bookkeeper/proto/RequestUtils.isHighPriority:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;)Z
      81: ifeq          97
      84: aload_0
      85: getfield      #15                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      88: invokevirtual #16                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
      91: invokevirtual #19                 // Method org/apache/bookkeeper/bookie/Bookie.isAvailableForHighPriorityWrites:()Z
      94: ifne          122
      97: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     100: ldc           #21                 // String BookieServer is running as readonly mode, so rejecting the request from the client!
     102: invokeinterface #22,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     107: aload         8
     109: getstatic     #23                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EREADONLY:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     112: invokevirtual #13                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;
     115: pop
     116: aload         8
     118: invokevirtual #14                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse;
     121: areturn
     122: new           #24                 // class org/apache/bookkeeper/proto/WriteEntryProcessorV3$1
     125: dup
     126: aload_0
     127: lload_1
     128: aload         8
     130: invokespecial #25                 // Method org/apache/bookkeeper/proto/WriteEntryProcessorV3$1."<init>":(Lorg/apache/bookkeeper/proto/WriteEntryProcessorV3;JLorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;)V
     133: astore        9
     135: aload_3
     136: invokevirtual #26                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest.hasWriteFlags:()Z
     139: ifeq          154
     142: aload_3
     143: invokevirtual #27                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest.getWriteFlags:()I
     146: invokestatic  #28                 // Method org/apache/bookkeeper/client/api/WriteFlag.getWriteFlags:(I)Ljava/util/EnumSet;
     149: astore        10
     151: goto          159
     154: getstatic     #29                 // Field org/apache/bookkeeper/client/api/WriteFlag.NONE:Ljava/util/EnumSet;
     157: astore        10
     159: aload         10
     161: getstatic     #30                 // Field org/apache/bookkeeper/client/api/WriteFlag.DEFERRED_SYNC:Lorg/apache/bookkeeper/client/api/WriteFlag;
     164: invokevirtual #31                 // Method java/util/EnumSet.contains:(Ljava/lang/Object;)Z
     167: istore        11
     169: aconst_null
     170: astore        12
     172: aload_3
     173: invokevirtual #32                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest.getMasterKey:()Lcom/google/protobuf/ByteString;
     176: invokevirtual #33                 // Method com/google/protobuf/ByteString.toByteArray:()[B
     179: astore        13
     181: aload_3
     182: invokevirtual #34                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest.getBody:()Lcom/google/protobuf/ByteString;
     185: invokevirtual #35                 // Method com/google/protobuf/ByteString.asReadOnlyByteBuffer:()Ljava/nio/ByteBuffer;
     188: invokestatic  #36                 // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     191: astore        14
     193: aload_3
     194: getstatic     #37                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest$Flag.RECOVERY_ADD:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest$Flag;
     197: invokestatic  #38                 // Method org/apache/bookkeeper/proto/RequestUtils.hasFlag:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest;Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddRequest$Flag;)Z
     200: ifeq          226
     203: aload_0
     204: getfield      #15                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
     207: invokevirtual #16                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
     210: aload         14
     212: aload         9
     214: aload_0
     215: getfield      #39                 // Field channel:Lio/netty/channel/Channel;
     218: aload         13
     220: invokevirtual #40                 // Method org/apache/bookkeeper/bookie/Bookie.recoveryAddEntry:(Lio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/proto/BookkeeperInternalCallbacks$WriteCallback;Ljava/lang/Object;[B)V
     223: goto          248
     226: aload_0
     227: getfield      #15                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
     230: invokevirtual #16                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getBookie:()Lorg/apache/bookkeeper/bookie/Bookie;
     233: aload         14
     235: iload         11
     237: aload         9
     239: aload_0
     240: getfield      #39                 // Field channel:Lio/netty/channel/Channel;
     243: aload         13
     245: invokevirtual #41                 // Method org/apache/bookkeeper/bookie/Bookie.addEntry:(Lio/netty/buffer/ByteBuf;ZLorg/apache/bookkeeper/proto/BookkeeperInternalCallbacks$WriteCallback;Ljava/lang/Object;[B)V
     248: getstatic     #42                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EOK:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     251: astore        12
     253: goto          470
     256: astore        15
     258: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     261: invokeinterface #44,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     266: ifeq          285
     269: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     272: ldc           #45                 // String Operation rejected while writing {}
     274: aload_0
     275: getfield      #4                  // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
     278: aload         15
     280: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     285: getstatic     #47                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EIO:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     288: astore        12
     290: goto          470
     293: astore        15
     295: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     298: ldc           #49                 // String Error writing entry:{} to ledger:{}
     300: iconst_3
     301: anewarray     #50                 // class java/lang/Object
     304: dup
     305: iconst_0
     306: lload         6
     308: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     311: aastore
     312: dup
     313: iconst_1
     314: lload         4
     316: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     319: aastore
     320: dup
     321: iconst_2
     322: aload         15
     324: aastore
     325: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     330: getstatic     #47                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EIO:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     333: astore        12
     335: goto          470
     338: astore        15
     340: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     343: ldc           #54                 // String Ledger fenced while writing entry:{} to ledger:{}
     345: iconst_3
     346: anewarray     #50                 // class java/lang/Object
     349: dup
     350: iconst_0
     351: lload         6
     353: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     356: aastore
     357: dup
     358: iconst_1
     359: lload         4
     361: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     364: aastore
     365: dup
     366: iconst_2
     367: aload         15
     369: aastore
     370: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     375: getstatic     #55                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EFENCED:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     378: astore        12
     380: goto          470
     383: astore        15
     385: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     388: ldc           #57                 // String Unauthorized access to ledger:{} while writing entry:{}
     390: iconst_3
     391: anewarray     #50                 // class java/lang/Object
     394: dup
     395: iconst_0
     396: lload         4
     398: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     401: aastore
     402: dup
     403: iconst_1
     404: lload         6
     406: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     409: aastore
     410: dup
     411: iconst_2
     412: aload         15
     414: aastore
     415: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     420: getstatic     #58                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EUA:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     423: astore        12
     425: goto          470
     428: astore        15
     430: getstatic     #20                 // Field logger:Lorg/slf4j/Logger;
     433: ldc           #60                 // String Unexpected exception while writing {}@{} :
     435: iconst_3
     436: anewarray     #50                 // class java/lang/Object
     439: dup
     440: iconst_0
     441: lload         6
     443: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     446: aastore
     447: dup
     448: iconst_1
     449: lload         4
     451: invokestatic  #51                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     454: aastore
     455: dup
     456: iconst_2
     457: aload         15
     459: aastore
     460: invokeinterface #52,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     465: getstatic     #61                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EBADREQ:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     468: astore        12
     470: aload         12
     472: getstatic     #42                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EOK:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     475: invokevirtual #62                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.equals:(Ljava/lang/Object;)Z
     478: ifne          495
     481: aload         8
     483: aload         12
     485: invokevirtual #13                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder;
     488: pop
     489: aload         8
     491: invokevirtual #14                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse;
     494: areturn
     495: aconst_null
     496: areturn
    Exception table:
       from    to  target type
         193   253   256   Class org/apache/bookkeeper/bookie/BookieException$OperationRejectedException
         193   253   293   Class java/io/IOException
         193   253   338   Class org/apache/bookkeeper/bookie/BookieException$LedgerFencedException
         193   253   383   Class org/apache/bookkeeper/bookie/BookieException
         193   253   428   Class java/lang/Throwable

  public void safeRun();
    Code:
       0: aload_0
       1: invokespecial #63                 // Method getAddResponse:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse;
       4: astore_1
       5: aconst_null
       6: aload_1
       7: if_acmpeq     56
      10: invokestatic  #64                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response.newBuilder:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      13: aload_0
      14: invokevirtual #65                 // Method getHeader:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$BKPacketHeader;
      17: invokevirtual #66                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.setHeader:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$BKPacketHeader;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      20: aload_1
      21: invokevirtual #67                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse.getStatus:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      24: invokevirtual #68                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      27: aload_1
      28: invokevirtual #69                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.setAddResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      31: astore_2
      32: aload_2
      33: invokevirtual #70                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response;
      36: astore_3
      37: aload_0
      38: aload_1
      39: invokevirtual #67                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$AddResponse.getStatus:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      42: aload_3
      43: aload_0
      44: getfield      #15                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      47: invokevirtual #71                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
      50: invokevirtual #72                 // Method org/apache/bookkeeper/proto/RequestStats.getAddRequestStats:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
      53: invokevirtual #73                 // Method sendResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Ljava/lang/Object;Lorg/apache/bookkeeper/stats/OpStatsLogger;)V
      56: return

  protected void sendResponse(org.apache.bookkeeper.proto.BookkeeperProtocol$StatusCode, java.lang.Object, org.apache.bookkeeper.stats.OpStatsLogger);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #74                 // Method org/apache/bookkeeper/proto/PacketProcessorBaseV3.sendResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Ljava/lang/Object;Lorg/apache/bookkeeper/stats/OpStatsLogger;)V
       7: aload_0
       8: getfield      #15                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      11: invokevirtual #75                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.onAddRequestFinish:()V
      14: return

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #4                  // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
       4: invokestatic  #76                 // Method org/apache/bookkeeper/proto/RequestUtils.toSafeString:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;)Ljava/lang/String;
       7: areturn

  static {};
    Code:
       0: ldc           #77                 // class org/apache/bookkeeper/proto/WriteEntryProcessorV3
       2: invokestatic  #78                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #20                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
