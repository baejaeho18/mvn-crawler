Compiled from "LedgerHandleAdv.java"
public class org.apache.bookkeeper.client.LedgerHandleAdv extends org.apache.bookkeeper.client.LedgerHandle implements org.apache.bookkeeper.client.api.WriteAdvHandle {
  static final org.slf4j.Logger LOG;

  org.apache.bookkeeper.client.LedgerHandleAdv(org.apache.bookkeeper.client.ClientContext, long, org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata>, org.apache.bookkeeper.client.BookKeeper$DigestType, byte[], java.util.EnumSet<org.apache.bookkeeper.client.api.WriteFlag>) throws java.security.GeneralSecurityException, java.lang.NumberFormatException;
    Code:
       0: aload_0
       1: aload_1
       2: lload_2
       3: aload         4
       5: aload         5
       7: aload         6
       9: aload         7
      11: invokespecial #1                  // Method org/apache/bookkeeper/client/LedgerHandle."<init>":(Lorg/apache/bookkeeper/client/ClientContext;JLorg/apache/bookkeeper/versioning/Versioned;Lorg/apache/bookkeeper/client/BookKeeper$DigestType;[BLjava/util/EnumSet;)V
      14: aload_0
      15: new           #2                  // class java/util/concurrent/PriorityBlockingQueue
      18: dup
      19: bipush        10
      21: new           #3                  // class org/apache/bookkeeper/client/LedgerHandleAdv$PendingOpsComparator
      24: dup
      25: invokespecial #4                  // Method org/apache/bookkeeper/client/LedgerHandleAdv$PendingOpsComparator."<init>":()V
      28: invokespecial #5                  // Method java/util/concurrent/PriorityBlockingQueue."<init>":(ILjava/util/Comparator;)V
      31: putfield      #6                  // Field pendingAddOps:Ljava/util/Queue;
      34: return

  public long addEntry(long, byte[]) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: aload_0
       1: lload_1
       2: aload_3
       3: iconst_0
       4: aload_3
       5: arraylength
       6: invokevirtual #7                  // Method addEntry:(J[BII)J
       9: lreturn

  public long addEntry(long, byte[], int, int) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
       3: invokeinterface #9,  1            // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          22
      11: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
      14: ldc           #10                 // String Adding entry {}
      16: aload_3
      17: invokeinterface #11,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      22: new           #12                 // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback
      25: dup
      26: invokespecial #13                 // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback."<init>":()V
      29: astore        6
      31: aload_0
      32: lload_1
      33: aload_3
      34: iload         4
      36: iload         5
      38: aload         6
      40: aconst_null
      41: invokevirtual #14                 // Method asyncAddEntry:(J[BIILorg/apache/bookkeeper/client/AsyncCallback$AddCallback;Ljava/lang/Object;)V
      44: aload         6
      46: invokevirtual #15                 // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback.get:()Ljava/lang/Object;
      49: checkcast     #16                 // class java/lang/Long
      52: invokevirtual #17                 // Method java/lang/Long.longValue:()J
      55: lreturn
      56: astore        7
      58: aload         7
      60: invokevirtual #19                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
      63: checkcast     #20                 // class org/apache/bookkeeper/client/BKException
      66: athrow
    Exception table:
       from    to  target type
          44    55    56   Class java/util/concurrent/ExecutionException

  public void asyncAddEntry(long, byte[], org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload_0
       1: lload_1
       2: aload_3
       3: iconst_0
       4: aload_3
       5: arraylength
       6: aload         4
       8: aload         5
      10: invokevirtual #14                 // Method asyncAddEntry:(J[BIILorg/apache/bookkeeper/client/AsyncCallback$AddCallback;Ljava/lang/Object;)V
      13: return

  public void asyncAddEntry(long, byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload_0
       1: lload_1
       2: aload_3
       3: iload         4
       5: iload         5
       7: invokestatic  #21                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([BII)Lio/netty/buffer/ByteBuf;
      10: aload         6
      12: aload         7
      14: invokevirtual #22                 // Method asyncAddEntry:(JLio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;Ljava/lang/Object;)V
      17: return

  public void asyncAddEntry(long, byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallbackWithLatency, java.lang.Object);
    Code:
       0: aload_0
       1: lload_1
       2: aload_3
       3: iload         4
       5: iload         5
       7: invokestatic  #21                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([BII)Lio/netty/buffer/ByteBuf;
      10: aload         6
      12: aload         7
      14: invokevirtual #22                 // Method asyncAddEntry:(JLio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;Ljava/lang/Object;)V
      17: return

  public void asyncAddEntry(long, io.netty.buffer.ByteBuf, org.apache.bookkeeper.client.AsyncCallback$AddCallbackWithLatency, java.lang.Object);
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #23                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       5: aload_0
       6: invokevirtual #24                 // Method getCurrentEnsemble:()Ljava/util/List;
       9: aload_3
      10: aload_0
      11: getfield      #25                 // Field writeFlags:Ljava/util/EnumSet;
      14: aload         4
      16: aload         5
      18: invokestatic  #26                 // Method org/apache/bookkeeper/client/PendingAddOp.create:(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;Ljava/util/List;Lio/netty/buffer/ByteBuf;Ljava/util/EnumSet;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;Ljava/lang/Object;)Lorg/apache/bookkeeper/client/PendingAddOp;
      21: astore        6
      23: aload         6
      25: lload_1
      26: invokevirtual #27                 // Method org/apache/bookkeeper/client/PendingAddOp.setEntryId:(J)V
      29: lload_1
      30: aload_0
      31: getfield      #28                 // Field lastAddConfirmed:J
      34: lcmp
      35: ifle          52
      38: aload_0
      39: getfield      #6                  // Field pendingAddOps:Ljava/util/Queue;
      42: aload         6
      44: invokeinterface #29,  2           // InterfaceMethod java/util/Queue.contains:(Ljava/lang/Object;)Z
      49: ifeq          74
      52: getstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
      55: ldc           #30                 // String Trying to re-add duplicate entryid:{}
      57: lload_1
      58: invokestatic  #31                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      61: invokeinterface #32,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      66: aload         6
      68: bipush        -22
      70: invokevirtual #34                 // Method org/apache/bookkeeper/client/PendingAddOp.submitCallback:(I)V
      73: return
      74: aload_0
      75: aload         6
      77: invokevirtual #35                 // Method doAsyncAddEntry:(Lorg/apache/bookkeeper/client/PendingAddOp;)V
      80: return

  protected void doAsyncAddEntry(org.apache.bookkeeper.client.PendingAddOp);
    Code:
       0: aload_0
       1: getfield      #36                 // Field throttler:Lcom/google/common/util/concurrent/RateLimiter;
       4: ifnull        15
       7: aload_0
       8: getfield      #36                 // Field throttler:Lcom/google/common/util/concurrent/RateLimiter;
      11: invokevirtual #37                 // Method com/google/common/util/concurrent/RateLimiter.acquire:()D
      14: pop2
      15: iconst_0
      16: istore_2
      17: aload_0
      18: dup
      19: astore_3
      20: monitorenter
      21: aload_0
      22: invokevirtual #38                 // Method isHandleWritable:()Z
      25: ifeq          62
      28: aload_0
      29: aload_1
      30: getfield      #39                 // Field org/apache/bookkeeper/client/PendingAddOp.payload:Lio/netty/buffer/ByteBuf;
      33: invokevirtual #40                 // Method io/netty/buffer/ByteBuf.readableBytes:()I
      36: i2l
      37: invokevirtual #41                 // Method addToLength:(J)J
      40: lstore        4
      42: aload_1
      43: lload         4
      45: invokevirtual #42                 // Method org/apache/bookkeeper/client/PendingAddOp.setLedgerLength:(J)V
      48: aload_0
      49: getfield      #6                  // Field pendingAddOps:Ljava/util/Queue;
      52: aload_1
      53: invokeinterface #43,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      58: pop
      59: goto          64
      62: iconst_1
      63: istore_2
      64: aload_3
      65: monitorexit
      66: goto          76
      69: astore        6
      71: aload_3
      72: monitorexit
      73: aload         6
      75: athrow
      76: iload_2
      77: ifeq          140
      80: aload_0
      81: getfield      #23                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      84: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
      89: new           #45                 // class org/apache/bookkeeper/client/LedgerHandleAdv$1
      92: dup
      93: aload_0
      94: aload_1
      95: invokespecial #46                 // Method org/apache/bookkeeper/client/LedgerHandleAdv$1."<init>":(Lorg/apache/bookkeeper/client/LedgerHandleAdv;Lorg/apache/bookkeeper/client/PendingAddOp;)V
      98: invokevirtual #47                 // Method org/apache/bookkeeper/common/util/OrderedExecutor.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
     101: pop
     102: goto          139
     105: astore_3
     106: aload_1
     107: getfield      #49                 // Field org/apache/bookkeeper/client/PendingAddOp.cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;
     110: aload_0
     111: getfield      #23                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     114: invokeinterface #50,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
     119: bipush        -15
     121: invokestatic  #51                 // Method org/apache/bookkeeper/client/BookKeeper.getReturnRc:(Lorg/apache/bookkeeper/proto/BookieClient;I)I
     124: aload_0
     125: aload_1
     126: invokevirtual #52                 // Method org/apache/bookkeeper/client/PendingAddOp.getEntryId:()J
     129: lconst_0
     130: aload_1
     131: getfield      #53                 // Field org/apache/bookkeeper/client/PendingAddOp.ctx:Ljava/lang/Object;
     134: invokeinterface #54,  8           // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
     139: return
     140: aload_0
     141: aload_0
     142: getfield      #55                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
     145: aload_1
     146: invokevirtual #52                 // Method org/apache/bookkeeper/client/PendingAddOp.getEntryId:()J
     149: invokeinterface #56,  3           // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getWriteSet:(J)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
     154: iconst_0
     155: aload_0
     156: getfield      #23                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     159: invokeinterface #57,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     164: getfield      #58                 // Field org/apache/bookkeeper/client/ClientInternalConf.waitForWriteSetMs:J
     167: invokevirtual #59                 // Method waitForWritable:(Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;IJ)Z
     170: ifne          178
     173: aload_1
     174: invokevirtual #60                 // Method org/apache/bookkeeper/client/PendingAddOp.allowFailFastOnUnwritableChannel:()Lorg/apache/bookkeeper/client/PendingAddOp;
     177: pop
     178: aload_0
     179: getfield      #23                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     182: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     187: aload_0
     188: getfield      #61                 // Field ledgerId:J
     191: aload_1
     192: invokevirtual #62                 // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
     195: goto          232
     198: astore_3
     199: aload_1
     200: getfield      #49                 // Field org/apache/bookkeeper/client/PendingAddOp.cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;
     203: aload_0
     204: getfield      #23                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     207: invokeinterface #50,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
     212: bipush        -15
     214: invokestatic  #51                 // Method org/apache/bookkeeper/client/BookKeeper.getReturnRc:(Lorg/apache/bookkeeper/proto/BookieClient;I)I
     217: aload_0
     218: aload_1
     219: invokevirtual #52                 // Method org/apache/bookkeeper/client/PendingAddOp.getEntryId:()J
     222: lconst_0
     223: aload_1
     224: getfield      #53                 // Field org/apache/bookkeeper/client/PendingAddOp.ctx:Ljava/lang/Object;
     227: invokeinterface #54,  8           // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
     232: return
    Exception table:
       from    to  target type
          21    66    69   any
          69    73    69   any
          80   102   105   Class java/util/concurrent/RejectedExecutionException
         178   195   198   Class java/util/concurrent/RejectedExecutionException

  public java.util.concurrent.CompletableFuture<java.lang.Long> writeAsync(long, io.netty.buffer.ByteBuf);
    Code:
       0: new           #12                 // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback
       3: dup
       4: invokespecial #13                 // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback."<init>":()V
       7: astore        4
       9: aload_0
      10: lload_1
      11: aload_3
      12: aload         4
      14: aload_3
      15: invokevirtual #22                 // Method asyncAddEntry:(JLio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;Ljava/lang/Object;)V
      18: aload         4
      20: areturn

  public void asyncAddEntry(io.netty.buffer.ByteBuf, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload_2
       1: bipush        -100
       3: aload_0
       4: ldc2_w        #64                 // long -1l
       7: lconst_0
       8: aload_3
       9: invokeinterface #66,  8           // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallback.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
      14: return

  public void asyncAddEntry(byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload         4
       2: bipush        -100
       4: aload_0
       5: ldc2_w        #64                 // long -1l
       8: aload         5
      10: invokeinterface #67,  6           // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallback.addComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;JLjava/lang/Object;)V
      15: return

  static {};
    Code:
       0: ldc           #68                 // class org/apache/bookkeeper/client/LedgerHandleAdv
       2: invokestatic  #69                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #8                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
