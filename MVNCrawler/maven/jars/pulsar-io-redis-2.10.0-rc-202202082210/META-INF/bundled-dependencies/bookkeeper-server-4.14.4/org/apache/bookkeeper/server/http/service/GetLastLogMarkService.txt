Compiled from "GetLastLogMarkService.java"
public class org.apache.bookkeeper.server.http.service.GetLastLogMarkService implements org.apache.bookkeeper.http.service.HttpEndpointService {
  static final org.slf4j.Logger LOG;

  protected org.apache.bookkeeper.conf.ServerConfiguration conf;

  public org.apache.bookkeeper.server.http.service.GetLastLogMarkService(org.apache.bookkeeper.conf.ServerConfiguration);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_1
       5: invokestatic  #2                  // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       8: pop
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      14: return

  public org.apache.bookkeeper.http.service.HttpServiceResponse handle(org.apache.bookkeeper.http.service.HttpServiceRequest) throws java.lang.Exception;
    Code:
       0: new           #4                  // class org/apache/bookkeeper/http/service/HttpServiceResponse
       3: dup
       4: invokespecial #5                  // Method org/apache/bookkeeper/http/service/HttpServiceResponse."<init>":()V
       7: astore_2
       8: getstatic     #6                  // Field org/apache/bookkeeper/http/HttpServer$Method.GET:Lorg/apache/bookkeeper/http/HttpServer$Method;
      11: aload_1
      12: invokevirtual #7                  // Method org/apache/bookkeeper/http/service/HttpServiceRequest.getMethod:()Lorg/apache/bookkeeper/http/HttpServer$Method;
      15: if_acmpne     418
      18: invokestatic  #8                  // Method com/google/common/collect/Maps.newHashMap:()Ljava/util/HashMap;
      21: astore_3
      22: aload_0
      23: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      26: invokevirtual #9                  // Method org/apache/bookkeeper/conf/ServerConfiguration.getJournalDirs:()[Ljava/io/File;
      29: arraylength
      30: invokestatic  #10                 // Method com/google/common/collect/Lists.newArrayListWithCapacity:(I)Ljava/util/ArrayList;
      33: astore        4
      35: iconst_0
      36: istore        5
      38: aload_0
      39: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      42: invokevirtual #9                  // Method org/apache/bookkeeper/conf/ServerConfiguration.getJournalDirs:()[Ljava/io/File;
      45: astore        6
      47: aload         6
      49: arraylength
      50: istore        7
      52: iconst_0
      53: istore        8
      55: iload         8
      57: iload         7
      59: if_icmpge     140
      62: aload         6
      64: iload         8
      66: aaload
      67: astore        9
      69: aload         4
      71: new           #11                 // class org/apache/bookkeeper/bookie/Journal
      74: dup
      75: iload         5
      77: iinc          5, 1
      80: aload         9
      82: aload_0
      83: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      86: new           #12                 // class org/apache/bookkeeper/bookie/LedgerDirsManager
      89: dup
      90: aload_0
      91: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      94: aload_0
      95: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
      98: invokevirtual #13                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getLedgerDirs:()[Ljava/io/File;
     101: new           #14                 // class org/apache/bookkeeper/util/DiskChecker
     104: dup
     105: aload_0
     106: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
     109: invokevirtual #15                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getDiskUsageThreshold:()F
     112: aload_0
     113: getfield      #3                  // Field conf:Lorg/apache/bookkeeper/conf/ServerConfiguration;
     116: invokevirtual #16                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getDiskUsageWarnThreshold:()F
     119: invokespecial #17                 // Method org/apache/bookkeeper/util/DiskChecker."<init>":(FF)V
     122: invokespecial #18                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;[Ljava/io/File;Lorg/apache/bookkeeper/util/DiskChecker;)V
     125: invokespecial #19                 // Method org/apache/bookkeeper/bookie/Journal."<init>":(ILjava/io/File;Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;)V
     128: invokeinterface #20,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     133: pop
     134: iinc          8, 1
     137: goto          55
     140: aload         4
     142: invokeinterface #21,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     147: astore        6
     149: aload         6
     151: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     156: ifeq          318
     159: aload         6
     161: invokeinterface #23,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     166: checkcast     #11                 // class org/apache/bookkeeper/bookie/Journal
     169: astore        7
     171: aload         7
     173: invokevirtual #24                 // Method org/apache/bookkeeper/bookie/Journal.getLastLogMark:()Lorg/apache/bookkeeper/bookie/Journal$LastLogMark;
     176: invokevirtual #25                 // Method org/apache/bookkeeper/bookie/Journal$LastLogMark.getCurMark:()Lorg/apache/bookkeeper/bookie/LogMark;
     179: astore        8
     181: getstatic     #26                 // Field LOG:Lorg/slf4j/Logger;
     184: new           #27                 // class java/lang/StringBuilder
     187: dup
     188: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     191: ldc           #29                 // String LastLogMark: Journal Id -
     193: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     196: aload         8
     198: invokevirtual #31                 // Method org/apache/bookkeeper/bookie/LogMark.getLogFileId:()J
     201: invokevirtual #32                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     204: ldc           #33                 // String (
     206: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     209: aload         8
     211: invokevirtual #31                 // Method org/apache/bookkeeper/bookie/LogMark.getLogFileId:()J
     214: invokestatic  #34                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     217: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     220: ldc           #35                 // String .txn), Pos -
     222: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: aload         8
     227: invokevirtual #36                 // Method org/apache/bookkeeper/bookie/LogMark.getLogFileOffset:()J
     230: invokevirtual #32                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     233: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     236: invokeinterface #38,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     241: aload_3
     242: new           #27                 // class java/lang/StringBuilder
     245: dup
     246: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     249: ldc           #29                 // String LastLogMark: Journal Id -
     251: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     254: aload         8
     256: invokevirtual #31                 // Method org/apache/bookkeeper/bookie/LogMark.getLogFileId:()J
     259: invokevirtual #32                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     262: ldc           #33                 // String (
     264: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     267: aload         8
     269: invokevirtual #31                 // Method org/apache/bookkeeper/bookie/LogMark.getLogFileId:()J
     272: invokestatic  #34                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     275: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     278: ldc           #39                 // String .txn)
     280: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     283: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     286: new           #27                 // class java/lang/StringBuilder
     289: dup
     290: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     293: ldc           #40                 // String Pos -
     295: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     298: aload         8
     300: invokevirtual #36                 // Method org/apache/bookkeeper/bookie/LogMark.getLogFileOffset:()J
     303: invokevirtual #32                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     306: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     309: invokeinterface #41,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     314: pop
     315: goto          149
     318: aload_3
     319: invokestatic  #42                 // Method org/apache/bookkeeper/common/util/JsonUtil.toJson:(Ljava/lang/Object;)Ljava/lang/String;
     322: astore        6
     324: getstatic     #26                 // Field LOG:Lorg/slf4j/Logger;
     327: new           #27                 // class java/lang/StringBuilder
     330: dup
     331: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     334: ldc           #43                 // String output body:
     336: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     339: aload         6
     341: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     344: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     347: invokeinterface #38,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     352: aload_2
     353: aload         6
     355: invokevirtual #44                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     358: pop
     359: aload_2
     360: getstatic     #45                 // Field org/apache/bookkeeper/http/HttpServer$StatusCode.OK:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     363: invokevirtual #46                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     366: pop
     367: aload_2
     368: areturn
     369: astore_3
     370: getstatic     #26                 // Field LOG:Lorg/slf4j/Logger;
     373: ldc           #48                 // String Exception occurred while getting last log mark
     375: aload_3
     376: invokeinterface #49,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     381: aload_2
     382: getstatic     #50                 // Field org/apache/bookkeeper/http/HttpServer$StatusCode.NOT_FOUND:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     385: invokevirtual #46                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     388: pop
     389: aload_2
     390: new           #27                 // class java/lang/StringBuilder
     393: dup
     394: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     397: ldc           #51                 // String ERROR handling request:
     399: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     402: aload_3
     403: invokevirtual #52                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     406: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     409: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     412: invokevirtual #44                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     415: pop
     416: aload_2
     417: areturn
     418: aload_2
     419: getstatic     #50                 // Field org/apache/bookkeeper/http/HttpServer$StatusCode.NOT_FOUND:Lorg/apache/bookkeeper/http/HttpServer$StatusCode;
     422: invokevirtual #46                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setCode:(Lorg/apache/bookkeeper/http/HttpServer$StatusCode;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     425: pop
     426: aload_2
     427: ldc           #53                 // String Not found method. Should be GET method
     429: invokevirtual #44                 // Method org/apache/bookkeeper/http/service/HttpServiceResponse.setBody:(Ljava/lang/String;)Lorg/apache/bookkeeper/http/service/HttpServiceResponse;
     432: pop
     433: aload_2
     434: areturn
    Exception table:
       from    to  target type
          18   368   369   Class java/lang/Exception

  static {};
    Code:
       0: ldc           #54                 // class org/apache/bookkeeper/server/http/service/GetLastLogMarkService
       2: invokestatic  #55                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #26                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
