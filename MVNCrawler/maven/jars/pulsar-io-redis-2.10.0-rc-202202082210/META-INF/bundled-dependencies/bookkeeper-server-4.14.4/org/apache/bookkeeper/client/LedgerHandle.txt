Compiled from "LedgerHandle.java"
public class org.apache.bookkeeper.client.LedgerHandle implements org.apache.bookkeeper.client.api.WriteHandle {
  static final org.slf4j.Logger LOG;

  private static final int STICKY_READ_BOOKIE_INDEX_UNSET;

  final org.apache.bookkeeper.client.ClientContext clientCtx;

  final byte[] ledgerKey;

  private org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata> versionedMetadata;

  final long ledgerId;

  long lastAddPushed;

  private org.apache.bookkeeper.client.LedgerHandle$HandleState handleState;

  private final java.util.concurrent.CompletableFuture<java.lang.Void> closePromise;

  volatile long lastAddConfirmed;

  volatile long pendingAddsSequenceHead;

  private int stickyBookieIndex;

  long length;

  final org.apache.bookkeeper.proto.checksum.DigestManager macManager;

  final org.apache.bookkeeper.client.DistributionSchedule distributionSchedule;

  final com.google.common.util.concurrent.RateLimiter throttler;

  final com.google.common.cache.LoadingCache<org.apache.bookkeeper.net.BookieId, java.lang.Long> bookieFailureHistory;

  final org.apache.bookkeeper.client.BookiesHealthInfo bookiesHealthInfo;

  final java.util.EnumSet<org.apache.bookkeeper.client.api.WriteFlag> writeFlags;

  java.util.concurrent.ScheduledFuture<?> timeoutFuture;

  final java.util.Map<java.lang.Integer, org.apache.bookkeeper.net.BookieId> delayedWriteFailedBookies;

  public static final long INVALID_ENTRY_ID;

  public static final long INVALID_LEDGER_ID;

  final java.lang.Object metadataLock;

  boolean changingEnsemble;

  final java.util.concurrent.atomic.AtomicInteger numEnsembleChanges;

  java.util.Queue<org.apache.bookkeeper.client.PendingAddOp> pendingAddOps;

  org.apache.bookkeeper.client.ExplicitLacFlushPolicy explicitLacFlushPolicy;

  final org.apache.bookkeeper.stats.Counter ensembleChangeCounter;

  final org.apache.bookkeeper.stats.Counter lacUpdateHitsCounter;

  final org.apache.bookkeeper.stats.Counter lacUpdateMissesCounter;

  private final org.apache.bookkeeper.stats.OpStatsLogger clientChannelWriteWaitStats;

  org.apache.bookkeeper.client.LedgerHandle(org.apache.bookkeeper.client.ClientContext, long, org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata>, org.apache.bookkeeper.client.BookKeeper$DigestType, byte[], java.util.EnumSet<org.apache.bookkeeper.client.api.WriteFlag>) throws java.security.GeneralSecurityException, java.lang.NumberFormatException;
    Code:
       0: aload_0
       1: invokespecial #7                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: getstatic     #8                  // Field org/apache/bookkeeper/client/LedgerHandle$HandleState.OPEN:Lorg/apache/bookkeeper/client/LedgerHandle$HandleState;
       8: putfield      #4                  // Field handleState:Lorg/apache/bookkeeper/client/LedgerHandle$HandleState;
      11: aload_0
      12: new           #9                  // class java/util/concurrent/CompletableFuture
      15: dup
      16: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
      19: putfield      #5                  // Field closePromise:Ljava/util/concurrent/CompletableFuture;
      22: aload_0
      23: aconst_null
      24: putfield      #11                 // Field timeoutFuture:Ljava/util/concurrent/ScheduledFuture;
      27: aload_0
      28: new           #12                 // class java/util/HashMap
      31: dup
      32: invokespecial #13                 // Method java/util/HashMap."<init>":()V
      35: putfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
      38: aload_0
      39: new           #15                 // class java/lang/Object
      42: dup
      43: invokespecial #7                  // Method java/lang/Object."<init>":()V
      46: putfield      #16                 // Field metadataLock:Ljava/lang/Object;
      49: aload_0
      50: iconst_0
      51: putfield      #17                 // Field changingEnsemble:Z
      54: aload_0
      55: new           #18                 // class java/util/concurrent/atomic/AtomicInteger
      58: dup
      59: iconst_0
      60: invokespecial #19                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      63: putfield      #20                 // Field numEnsembleChanges:Ljava/util/concurrent/atomic/AtomicInteger;
      66: aload_0
      67: aload_1
      68: putfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      71: aload_0
      72: aload         4
      74: putfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
      77: aload_0
      78: new           #23                 // class java/util/concurrent/ConcurrentLinkedQueue
      81: dup
      82: invokespecial #24                 // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
      85: putfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
      88: aload_0
      89: aload         7
      91: putfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
      94: aload         4
      96: invokevirtual #27                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      99: checkcast     #28                 // class org/apache/bookkeeper/client/api/LedgerMetadata
     102: astore        8
     104: aload         8
     106: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
     111: ifeq          144
     114: aload_0
     115: aload_0
     116: aload         8
     118: invokeinterface #30,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLastEntryId:()J
     123: dup2_x1
     124: putfield      #31                 // Field lastAddPushed:J
     127: putfield      #32                 // Field lastAddConfirmed:J
     130: aload_0
     131: aload         8
     133: invokeinterface #33,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLength:()J
     138: putfield      #34                 // Field length:J
     141: goto          161
     144: aload_0
     145: aload_0
     146: ldc2_w        #36                 // long -1l
     149: dup2_x1
     150: putfield      #31                 // Field lastAddPushed:J
     153: putfield      #32                 // Field lastAddConfirmed:J
     156: aload_0
     157: lconst_0
     158: putfield      #34                 // Field length:J
     161: aload_0
     162: aload_0
     163: getfield      #32                 // Field lastAddConfirmed:J
     166: putfield      #38                 // Field pendingAddsSequenceHead:J
     169: aload_0
     170: lload_2
     171: putfield      #39                 // Field ledgerId:J
     174: aload_1
     175: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     180: getfield      #41                 // Field org/apache/bookkeeper/client/ClientInternalConf.enableStickyReads:Z
     183: ifeq          230
     186: aload_0
     187: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     190: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getEnsembleSize:()I
     195: aload_0
     196: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     199: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getWriteQuorumSize:()I
     204: if_icmpne     230
     207: aload_0
     208: aload_1
     209: invokeinterface #45,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getPlacementPolicy:()Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy;
     214: aload         8
     216: invokestatic  #46                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     219: invokeinterface #47,  3           // InterfaceMethod org/apache/bookkeeper/client/EnsemblePlacementPolicy.getStickyReadBookieIndex:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;Ljava/util/Optional;)I
     224: putfield      #48                 // Field stickyBookieIndex:I
     227: goto          235
     230: aload_0
     231: iconst_m1
     232: putfield      #48                 // Field stickyBookieIndex:I
     235: aload_1
     236: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     241: getfield      #49                 // Field org/apache/bookkeeper/client/ClientInternalConf.throttleValue:I
     244: ifle          267
     247: aload_0
     248: aload_1
     249: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     254: getfield      #49                 // Field org/apache/bookkeeper/client/ClientInternalConf.throttleValue:I
     257: i2d
     258: invokestatic  #50                 // Method com/google/common/util/concurrent/RateLimiter.create:(D)Lcom/google/common/util/concurrent/RateLimiter;
     261: putfield      #51                 // Field throttler:Lcom/google/common/util/concurrent/RateLimiter;
     264: goto          272
     267: aload_0
     268: aconst_null
     269: putfield      #51                 // Field throttler:Lcom/google/common/util/concurrent/RateLimiter;
     272: aload_0
     273: lload_2
     274: aload         6
     276: aload         5
     278: invokestatic  #52                 // Method org/apache/bookkeeper/client/BookKeeper$DigestType.toProtoDigestType:(Lorg/apache/bookkeeper/client/BookKeeper$DigestType;)Lorg/apache/bookkeeper/proto/DataFormats$LedgerMetadataFormat$DigestType;
     281: aload_1
     282: invokeinterface #53,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getByteBufAllocator:()Lio/netty/buffer/ByteBufAllocator;
     287: aload_1
     288: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     293: getfield      #54                 // Field org/apache/bookkeeper/client/ClientInternalConf.useV2WireProtocol:Z
     296: invokestatic  #55                 // Method org/apache/bookkeeper/proto/checksum/DigestManager.instantiate:(J[BLorg/apache/bookkeeper/proto/DataFormats$LedgerMetadataFormat$DigestType;Lio/netty/buffer/ByteBufAllocator;Z)Lorg/apache/bookkeeper/proto/checksum/DigestManager;
     299: putfield      #56                 // Field macManager:Lorg/apache/bookkeeper/proto/checksum/DigestManager;
     302: aload_0
     303: aload         6
     305: invokestatic  #57                 // Method org/apache/bookkeeper/proto/checksum/DigestManager.generateMasterKey:([B)[B
     308: putfield      #58                 // Field ledgerKey:[B
     311: aload_0
     312: new           #59                 // class org/apache/bookkeeper/client/RoundRobinDistributionSchedule
     315: dup
     316: aload         8
     318: invokeinterface #44,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getWriteQuorumSize:()I
     323: aload         8
     325: invokeinterface #60,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getAckQuorumSize:()I
     330: aload         8
     332: invokeinterface #43,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getEnsembleSize:()I
     337: invokespecial #61                 // Method org/apache/bookkeeper/client/RoundRobinDistributionSchedule."<init>":(III)V
     340: putfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
     343: aload_0
     344: invokestatic  #63                 // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
     347: aload_1
     348: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     353: getfield      #64                 // Field org/apache/bookkeeper/client/ClientInternalConf.bookieFailureHistoryExpirationMSec:I
     356: i2l
     357: getstatic     #65                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     360: invokevirtual #66                 // Method com/google/common/cache/CacheBuilder.expireAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
     363: new           #67                 // class org/apache/bookkeeper/client/LedgerHandle$1
     366: dup
     367: aload_0
     368: invokespecial #68                 // Method org/apache/bookkeeper/client/LedgerHandle$1."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;)V
     371: invokevirtual #69                 // Method com/google/common/cache/CacheBuilder.build:(Lcom/google/common/cache/CacheLoader;)Lcom/google/common/cache/LoadingCache;
     374: putfield      #70                 // Field bookieFailureHistory:Lcom/google/common/cache/LoadingCache;
     377: aload_0
     378: new           #71                 // class org/apache/bookkeeper/client/LedgerHandle$2
     381: dup
     382: aload_0
     383: aload_1
     384: lload_2
     385: invokespecial #72                 // Method org/apache/bookkeeper/client/LedgerHandle$2."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;J)V
     388: putfield      #73                 // Field bookiesHealthInfo:Lorg/apache/bookkeeper/client/BookiesHealthInfo;
     391: aload_0
     392: aload_1
     393: invokeinterface #74,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getClientStats:()Lorg/apache/bookkeeper/client/BookKeeperClientStats;
     398: invokeinterface #75,  1           // InterfaceMethod org/apache/bookkeeper/client/BookKeeperClientStats.getEnsembleChangeCounter:()Lorg/apache/bookkeeper/stats/Counter;
     403: putfield      #76                 // Field ensembleChangeCounter:Lorg/apache/bookkeeper/stats/Counter;
     406: aload_0
     407: aload_1
     408: invokeinterface #74,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getClientStats:()Lorg/apache/bookkeeper/client/BookKeeperClientStats;
     413: invokeinterface #77,  1           // InterfaceMethod org/apache/bookkeeper/client/BookKeeperClientStats.getLacUpdateHitsCounter:()Lorg/apache/bookkeeper/stats/Counter;
     418: putfield      #78                 // Field lacUpdateHitsCounter:Lorg/apache/bookkeeper/stats/Counter;
     421: aload_0
     422: aload_1
     423: invokeinterface #74,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getClientStats:()Lorg/apache/bookkeeper/client/BookKeeperClientStats;
     428: invokeinterface #79,  1           // InterfaceMethod org/apache/bookkeeper/client/BookKeeperClientStats.getLacUpdateMissesCounter:()Lorg/apache/bookkeeper/stats/Counter;
     433: putfield      #80                 // Field lacUpdateMissesCounter:Lorg/apache/bookkeeper/stats/Counter;
     436: aload_0
     437: aload_1
     438: invokeinterface #74,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getClientStats:()Lorg/apache/bookkeeper/client/BookKeeperClientStats;
     443: invokeinterface #81,  1           // InterfaceMethod org/apache/bookkeeper/client/BookKeeperClientStats.getClientChannelWriteWaitLogger:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
     448: putfield      #82                 // Field clientChannelWriteWaitStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     451: aload_1
     452: invokeinterface #74,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getClientStats:()Lorg/apache/bookkeeper/client/BookKeeperClientStats;
     457: new           #83                 // class org/apache/bookkeeper/client/LedgerHandle$3
     460: dup
     461: aload_0
     462: invokespecial #84                 // Method org/apache/bookkeeper/client/LedgerHandle$3."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;)V
     465: invokeinterface #85,  2           // InterfaceMethod org/apache/bookkeeper/client/BookKeeperClientStats.registerPendingAddsGauge:(Lorg/apache/bookkeeper/stats/Gauge;)V
     470: aload_0
     471: invokevirtual #86                 // Method initializeWriteHandleState:()V
     474: return

  void recordReadErrorOnBookie(int);
    Code:
       0: aload_0
       1: getfield      #48                 // Field stickyBookieIndex:I
       4: iconst_m1
       5: if_icmpeq     37
       8: aload_0
       9: aload_0
      10: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      13: invokeinterface #45,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getPlacementPolicy:()Lorg/apache/bookkeeper/client/EnsemblePlacementPolicy;
      18: aload_0
      19: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
      22: iload_1
      23: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      26: invokestatic  #88                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      29: invokeinterface #47,  3           // InterfaceMethod org/apache/bookkeeper/client/EnsemblePlacementPolicy.getStickyReadBookieIndex:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;Ljava/util/Optional;)I
      34: putfield      #48                 // Field stickyBookieIndex:I
      37: return

  protected void initializeWriteHandleState();
    Code:
       0: aload_0
       1: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
       9: getfield      #89                 // Field org/apache/bookkeeper/client/ClientInternalConf.explicitLacInterval:I
      12: ifle          34
      15: aload_0
      16: new           #90                 // class org/apache/bookkeeper/client/ExplicitLacFlushPolicy$ExplicitLacFlushPolicyImpl
      19: dup
      20: aload_0
      21: aload_0
      22: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      25: invokespecial #91                 // Method org/apache/bookkeeper/client/ExplicitLacFlushPolicy$ExplicitLacFlushPolicyImpl."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;)V
      28: putfield      #92                 // Field explicitLacFlushPolicy:Lorg/apache/bookkeeper/client/ExplicitLacFlushPolicy;
      31: goto          41
      34: aload_0
      35: getstatic     #93                 // Field org/apache/bookkeeper/client/ExplicitLacFlushPolicy.VOID_EXPLICITLAC_FLUSH_POLICY:Lorg/apache/bookkeeper/client/ExplicitLacFlushPolicy;
      38: putfield      #92                 // Field explicitLacFlushPolicy:Lorg/apache/bookkeeper/client/ExplicitLacFlushPolicy;
      41: aload_0
      42: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      45: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
      50: getfield      #94                 // Field org/apache/bookkeeper/client/ClientInternalConf.addEntryQuorumTimeoutNanos:J
      53: lconst_0
      54: lcmp
      55: ifle          111
      58: new           #95                 // class org/apache/bookkeeper/client/LedgerHandle$4
      61: dup
      62: aload_0
      63: invokespecial #96                 // Method org/apache/bookkeeper/client/LedgerHandle$4."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;)V
      66: astore_1
      67: aload_0
      68: aload_0
      69: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      72: invokeinterface #97,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getScheduler:()Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      77: aload_1
      78: aload_0
      79: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      82: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
      87: getfield      #98                 // Field org/apache/bookkeeper/client/ClientInternalConf.timeoutMonitorIntervalSec:J
      90: aload_0
      91: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      94: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
      99: getfield      #98                 // Field org/apache/bookkeeper/client/ClientInternalConf.timeoutMonitorIntervalSec:J
     102: getstatic     #99                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     105: invokevirtual #100                // Method org/apache/bookkeeper/common/util/OrderedScheduler.scheduleAtFixedRate:(Lorg/apache/bookkeeper/common/util/SafeRunnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
     108: putfield      #11                 // Field timeoutFuture:Ljava/util/concurrent/ScheduledFuture;
     111: return

  private void tearDownWriteHandleState();
    Code:
       0: aload_0
       1: getfield      #92                 // Field explicitLacFlushPolicy:Lorg/apache/bookkeeper/client/ExplicitLacFlushPolicy;
       4: invokeinterface #101,  1          // InterfaceMethod org/apache/bookkeeper/client/ExplicitLacFlushPolicy.stopExplicitLacFlush:()V
       9: aload_0
      10: getfield      #11                 // Field timeoutFuture:Ljava/util/concurrent/ScheduledFuture;
      13: ifnull        27
      16: aload_0
      17: getfield      #11                 // Field timeoutFuture:Ljava/util/concurrent/ScheduledFuture;
      20: iconst_0
      21: invokeinterface #102,  2          // InterfaceMethod java/util/concurrent/ScheduledFuture.cancel:(Z)Z
      26: pop
      27: return

  public long getId();
    Code:
       0: aload_0
       1: getfield      #39                 // Field ledgerId:J
       4: lreturn

  public java.util.EnumSet<org.apache.bookkeeper.client.api.WriteFlag> getWriteFlags();
    Code:
       0: aload_0
       1: getfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
       4: areturn

  public synchronized long getLastAddConfirmed();
    Code:
       0: aload_0
       1: getfield      #32                 // Field lastAddConfirmed:J
       4: lreturn

  synchronized void setLastAddConfirmed(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #32                 // Field lastAddConfirmed:J
       5: return

  public synchronized long getLastAddPushed();
    Code:
       0: aload_0
       1: getfield      #31                 // Field lastAddPushed:J
       4: lreturn

  public byte[] getLedgerKey();
    Code:
       0: aload_0
       1: getfield      #58                 // Field ledgerKey:[B
       4: aload_0
       5: getfield      #58                 // Field ledgerKey:[B
       8: arraylength
       9: invokestatic  #103                // Method java/util/Arrays.copyOf:([BI)[B
      12: areturn

  public org.apache.bookkeeper.client.api.LedgerMetadata getLedgerMetadata();
    Code:
       0: aload_0
       1: getfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
       4: invokevirtual #27                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
       7: checkcast     #28                 // class org/apache/bookkeeper/client/api/LedgerMetadata
      10: areturn

  org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata> getVersionedLedgerMetadata();
    Code:
       0: aload_0
       1: getfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
       4: areturn

  boolean setLedgerMetadata(org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata>, org.apache.bookkeeper.versioning.Versioned<org.apache.bookkeeper.client.api.LedgerMetadata>);
    Code:
       0: aload_0
       1: dup
       2: astore_3
       3: monitorenter
       4: aload_0
       5: getfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
       8: aload_1
       9: if_acmpne     70
      12: aload_0
      13: aload_2
      14: putfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
      17: aload_0
      18: getfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
      21: invokevirtual #27                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      24: checkcast     #28                 // class org/apache/bookkeeper/client/api/LedgerMetadata
      27: astore        4
      29: aload         4
      31: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
      36: ifeq          66
      39: aload_0
      40: aload_0
      41: aload         4
      43: invokeinterface #30,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLastEntryId:()J
      48: dup2_x1
      49: putfield      #31                 // Field lastAddPushed:J
      52: putfield      #32                 // Field lastAddConfirmed:J
      55: aload_0
      56: aload         4
      58: invokeinterface #33,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLength:()J
      63: putfield      #34                 // Field length:J
      66: iconst_1
      67: aload_3
      68: monitorexit
      69: ireturn
      70: iconst_0
      71: aload_3
      72: monitorexit
      73: ireturn
      74: astore        5
      76: aload_3
      77: monitorexit
      78: aload         5
      80: athrow
    Exception table:
       from    to  target type
           4    69    74   any
          70    73    74   any
          74    78    74   any

  public java.util.Map<java.lang.String, byte[]> getCustomMetadata();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #104,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getCustomMetadata:()Ljava/util/Map;
       9: areturn

  public synchronized long getNumFragments();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #105,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getAllEnsembles:()Ljava/util/NavigableMap;
       9: invokeinterface #106,  1          // InterfaceMethod java/util/NavigableMap.size:()I
      14: i2l
      15: lreturn

  public synchronized long getNumBookies();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #105,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getAllEnsembles:()Ljava/util/NavigableMap;
       9: astore_1
      10: invokestatic  #107                // Method com/google/common/collect/Sets.newHashSet:()Ljava/util/HashSet;
      13: astore_2
      14: aload_1
      15: invokeinterface #108,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      20: invokeinterface #109,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      25: astore_3
      26: aload_3
      27: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      32: ifeq          58
      35: aload_3
      36: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      41: checkcast     #112                // class java/util/List
      44: astore        4
      46: aload_2
      47: aload         4
      49: invokeinterface #113,  2          // InterfaceMethod java/util/Set.addAll:(Ljava/util/Collection;)Z
      54: pop
      55: goto          26
      58: aload_2
      59: invokeinterface #114,  1          // InterfaceMethod java/util/Set.size:()I
      64: i2l
      65: lreturn

  org.apache.bookkeeper.proto.checksum.DigestManager getDigestManager();
    Code:
       0: aload_0
       1: getfield      #56                 // Field macManager:Lorg/apache/bookkeeper/proto/checksum/DigestManager;
       4: areturn

  synchronized long addToLength(long);
    Code:
       0: aload_0
       1: dup
       2: getfield      #34                 // Field length:J
       5: lload_1
       6: ladd
       7: putfield      #34                 // Field length:J
      10: aload_0
      11: getfield      #34                 // Field length:J
      14: lreturn

  public synchronized long getLength();
    Code:
       0: aload_0
       1: getfield      #34                 // Field length:J
       4: lreturn

  public long getCtime();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #115,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getCtime:()J
       9: lreturn

  org.apache.bookkeeper.client.DistributionSchedule getDistributionSchedule();
    Code:
       0: aload_0
       1: getfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
       4: areturn

  org.apache.bookkeeper.client.BookiesHealthInfo getBookiesHealthInfo();
    Code:
       0: aload_0
       1: getfield      #73                 // Field bookiesHealthInfo:Lorg/apache/bookkeeper/client/BookiesHealthInfo;
       4: areturn

  public void close() throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: aload_0
       1: invokevirtual #116                // Method closeAsync:()Ljava/util/concurrent/CompletableFuture;
       4: invokestatic  #117                // Method org/apache/bookkeeper/client/SyncCallbackUtils.waitForResult:(Ljava/util/concurrent/CompletableFuture;)Ljava/lang/Object;
       7: pop
       8: return

  public java.util.concurrent.CompletableFuture<java.lang.Void> closeAsync();
    Code:
       0: new           #9                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_1
       8: new           #118                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncCloseCallback
      11: dup
      12: aload_1
      13: invokespecial #119                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncCloseCallback."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      16: astore_2
      17: aload_0
      18: aload_2
      19: aconst_null
      20: invokevirtual #120                // Method asyncClose:(Lorg/apache/bookkeeper/client/AsyncCallback$CloseCallback;Ljava/lang/Object;)V
      23: aload_1
      24: areturn

  public void asyncClose(org.apache.bookkeeper.client.AsyncCallback$CloseCallback, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: bipush        -11
       5: invokevirtual #122                // Method asyncCloseInternal:(Lorg/apache/bookkeeper/client/AsyncCallback$CloseCallback;Ljava/lang/Object;I)V
       8: return

  public synchronized boolean isClosed();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
       9: ireturn

  boolean isHandleWritable();
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
       9: ifne          26
      12: aload_0
      13: getfield      #4                  // Field handleState:Lorg/apache/bookkeeper/client/LedgerHandle$HandleState;
      16: getstatic     #8                  // Field org/apache/bookkeeper/client/LedgerHandle$HandleState.OPEN:Lorg/apache/bookkeeper/client/LedgerHandle$HandleState;
      19: if_acmpne     26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ireturn

  void asyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback$CloseCallback, java.lang.Object, int);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: invokevirtual #123                // Method doAsyncCloseInternal:(Lorg/apache/bookkeeper/client/AsyncCallback$CloseCallback;Ljava/lang/Object;I)V
       7: goto          81
      10: astore        4
      12: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      15: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      20: ifeq          42
      23: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      26: ldc           #127                // String Failed to close ledger {} :
      28: aload_0
      29: getfield      #39                 // Field ledgerId:J
      32: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      35: aload         4
      37: invokeinterface #129,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      42: aload_0
      43: aload_0
      44: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      47: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
      52: iload_3
      53: invokestatic  #131                // Method org/apache/bookkeeper/client/BookKeeper.getReturnRc:(Lorg/apache/bookkeeper/proto/BookieClient;I)I
      56: invokevirtual #132                // Method errorOutPendingAdds:(I)V
      59: aload_1
      60: aload_0
      61: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      64: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
      69: bipush        -15
      71: invokestatic  #131                // Method org/apache/bookkeeper/client/BookKeeper.getReturnRc:(Lorg/apache/bookkeeper/proto/BookieClient;I)I
      74: aload_0
      75: aload_2
      76: invokeinterface #133,  4          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$CloseCallback.closeComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/lang/Object;)V
      81: return
    Exception table:
       from    to  target type
           0     7    10   Class java/util/concurrent/RejectedExecutionException

  void doAsyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback$CloseCallback, java.lang.Object, int);
    Code:
       0: aload_0
       1: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
       9: aload_0
      10: getfield      #39                 // Field ledgerId:J
      13: new           #135                // class org/apache/bookkeeper/client/LedgerHandle$5
      16: dup
      17: aload_0
      18: aload_1
      19: aload_2
      20: iload_3
      21: invokespecial #136                // Method org/apache/bookkeeper/client/LedgerHandle$5."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$CloseCallback;Ljava/lang/Object;I)V
      24: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
      27: return

  public java.util.Enumeration<org.apache.bookkeeper.client.LedgerEntry> readEntries(long, long) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: new           #9                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        5
       9: aload_0
      10: lload_1
      11: lload_3
      12: new           #138                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadCallback
      15: dup
      16: aload         5
      18: invokespecial #139                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadCallback."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      21: aconst_null
      22: invokevirtual #140                // Method asyncReadEntries:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;)V
      25: aload         5
      27: invokestatic  #117                // Method org/apache/bookkeeper/client/SyncCallbackUtils.waitForResult:(Ljava/util/concurrent/CompletableFuture;)Ljava/lang/Object;
      30: checkcast     #141                // class java/util/Enumeration
      33: areturn

  public java.util.Enumeration<org.apache.bookkeeper.client.LedgerEntry> readUnconfirmedEntries(long, long) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: new           #9                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore        5
       9: aload_0
      10: lload_1
      11: lload_3
      12: new           #138                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadCallback
      15: dup
      16: aload         5
      18: invokespecial #139                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadCallback."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      21: aconst_null
      22: invokevirtual #142                // Method asyncReadUnconfirmedEntries:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;)V
      25: aload         5
      27: invokestatic  #117                // Method org/apache/bookkeeper/client/SyncCallbackUtils.waitForResult:(Ljava/util/concurrent/CompletableFuture;)Ljava/lang/Object;
      30: checkcast     #141                // class java/util/Enumeration
      33: areturn

  public void asyncReadEntries(long, long, org.apache.bookkeeper.client.AsyncCallback$ReadCallback, java.lang.Object);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: iflt          12
       6: lload_1
       7: lload_3
       8: lcmp
       9: ifle          64
      12: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #143                // String IncorrectParameterException on ledgerId:{} firstEntry:{} lastEntry:{}
      17: iconst_3
      18: anewarray     #15                 // class java/lang/Object
      21: dup
      22: iconst_0
      23: aload_0
      24: getfield      #39                 // Field ledgerId:J
      27: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      30: aastore
      31: dup
      32: iconst_1
      33: lload_1
      34: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      37: aastore
      38: dup
      39: iconst_2
      40: lload_3
      41: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: aastore
      45: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      50: aload         5
      52: bipush        -14
      54: aload_0
      55: aconst_null
      56: aload         6
      58: invokeinterface #145,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadCallback.readComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/Enumeration;Ljava/lang/Object;)V
      63: return
      64: lload_3
      65: aload_0
      66: getfield      #32                 // Field lastAddConfirmed:J
      69: lcmp
      70: ifle          134
      73: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      76: ldc           #146                // String ReadEntries exception on ledgerId:{} firstEntry:{} lastEntry:{} lastAddConfirmed:{}
      78: iconst_4
      79: anewarray     #15                 // class java/lang/Object
      82: dup
      83: iconst_0
      84: aload_0
      85: getfield      #39                 // Field ledgerId:J
      88: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      91: aastore
      92: dup
      93: iconst_1
      94: lload_1
      95: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      98: aastore
      99: dup
     100: iconst_2
     101: lload_3
     102: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     105: aastore
     106: dup
     107: iconst_3
     108: aload_0
     109: getfield      #32                 // Field lastAddConfirmed:J
     112: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     115: aastore
     116: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     121: aload         5
     123: iconst_m1
     124: aload_0
     125: aconst_null
     126: aload         6
     128: invokeinterface #145,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadCallback.readComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/Enumeration;Ljava/lang/Object;)V
     133: return
     134: aload_0
     135: lload_1
     136: lload_3
     137: aload         5
     139: aload         6
     141: iconst_0
     142: invokevirtual #147                // Method asyncReadEntriesInternal:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;Z)V
     145: return

  public void asyncReadUnconfirmedEntries(long, long, org.apache.bookkeeper.client.AsyncCallback$ReadCallback, java.lang.Object);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: iflt          12
       6: lload_1
       7: lload_3
       8: lcmp
       9: ifle          64
      12: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #143                // String IncorrectParameterException on ledgerId:{} firstEntry:{} lastEntry:{}
      17: iconst_3
      18: anewarray     #15                 // class java/lang/Object
      21: dup
      22: iconst_0
      23: aload_0
      24: getfield      #39                 // Field ledgerId:J
      27: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      30: aastore
      31: dup
      32: iconst_1
      33: lload_1
      34: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      37: aastore
      38: dup
      39: iconst_2
      40: lload_3
      41: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: aastore
      45: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      50: aload         5
      52: bipush        -14
      54: aload_0
      55: aconst_null
      56: aload         6
      58: invokeinterface #145,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadCallback.readComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/Enumeration;Ljava/lang/Object;)V
      63: return
      64: aload_0
      65: lload_1
      66: lload_3
      67: aload         5
      69: aload         6
      71: iconst_0
      72: invokevirtual #147                // Method asyncReadEntriesInternal:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;Z)V
      75: return

  public java.util.concurrent.CompletableFuture<org.apache.bookkeeper.client.api.LedgerEntries> readAsync(long, long);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: iflt          12
       6: lload_1
       7: lload_3
       8: lcmp
       9: ifle          61
      12: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #143                // String IncorrectParameterException on ledgerId:{} firstEntry:{} lastEntry:{}
      17: iconst_3
      18: anewarray     #15                 // class java/lang/Object
      21: dup
      22: iconst_0
      23: aload_0
      24: getfield      #39                 // Field ledgerId:J
      27: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      30: aastore
      31: dup
      32: iconst_1
      33: lload_1
      34: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      37: aastore
      38: dup
      39: iconst_2
      40: lload_3
      41: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: aastore
      45: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      50: new           #148                // class org/apache/bookkeeper/client/BKException$BKIncorrectParameterException
      53: dup
      54: invokespecial #149                // Method org/apache/bookkeeper/client/BKException$BKIncorrectParameterException."<init>":()V
      57: invokestatic  #150                // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      60: areturn
      61: lload_3
      62: aload_0
      63: getfield      #32                 // Field lastAddConfirmed:J
      66: lcmp
      67: ifle          129
      70: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      73: ldc           #151                // String ReadAsync exception on ledgerId:{} firstEntry:{} lastEntry:{} lastAddConfirmed:{}
      75: iconst_4
      76: anewarray     #15                 // class java/lang/Object
      79: dup
      80: iconst_0
      81: aload_0
      82: getfield      #39                 // Field ledgerId:J
      85: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      88: aastore
      89: dup
      90: iconst_1
      91: lload_1
      92: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      95: aastore
      96: dup
      97: iconst_2
      98: lload_3
      99: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     102: aastore
     103: dup
     104: iconst_3
     105: aload_0
     106: getfield      #32                 // Field lastAddConfirmed:J
     109: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     112: aastore
     113: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     118: new           #152                // class org/apache/bookkeeper/client/BKException$BKReadException
     121: dup
     122: invokespecial #153                // Method org/apache/bookkeeper/client/BKException$BKReadException."<init>":()V
     125: invokestatic  #150                // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
     128: areturn
     129: aload_0
     130: lload_1
     131: lload_3
     132: iconst_0
     133: invokevirtual #154                // Method readEntriesInternalAsync:(JJZ)Ljava/util/concurrent/CompletableFuture;
     136: areturn

  public java.util.concurrent.CompletableFuture<org.apache.bookkeeper.client.api.LedgerEntries> readUnconfirmedAsync(long, long);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: iflt          12
       6: lload_1
       7: lload_3
       8: lcmp
       9: ifle          61
      12: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #143                // String IncorrectParameterException on ledgerId:{} firstEntry:{} lastEntry:{}
      17: iconst_3
      18: anewarray     #15                 // class java/lang/Object
      21: dup
      22: iconst_0
      23: aload_0
      24: getfield      #39                 // Field ledgerId:J
      27: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      30: aastore
      31: dup
      32: iconst_1
      33: lload_1
      34: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      37: aastore
      38: dup
      39: iconst_2
      40: lload_3
      41: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: aastore
      45: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      50: new           #148                // class org/apache/bookkeeper/client/BKException$BKIncorrectParameterException
      53: dup
      54: invokespecial #149                // Method org/apache/bookkeeper/client/BKException$BKIncorrectParameterException."<init>":()V
      57: invokestatic  #150                // Method org/apache/bookkeeper/common/concurrent/FutureUtils.exception:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      60: areturn
      61: aload_0
      62: lload_1
      63: lload_3
      64: iconst_0
      65: invokevirtual #154                // Method readEntriesInternalAsync:(JJZ)Ljava/util/concurrent/CompletableFuture;
      68: areturn

  void asyncReadEntriesInternal(long, long, org.apache.bookkeeper.client.AsyncCallback$ReadCallback, java.lang.Object, boolean);
    Code:
       0: aload_0
       1: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #155,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.isClientClosed:()Z
       9: ifne          55
      12: aload_0
      13: lload_1
      14: lload_3
      15: iload         7
      17: invokevirtual #154                // Method readEntriesInternalAsync:(JJZ)Ljava/util/concurrent/CompletableFuture;
      20: new           #156                // class org/apache/bookkeeper/client/LedgerHandle$6
      23: dup
      24: aload_0
      25: aload         5
      27: aload         6
      29: invokespecial #157                // Method org/apache/bookkeeper/client/LedgerHandle$6."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;)V
      32: aload_0
      33: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      36: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
      41: aload_0
      42: getfield      #39                 // Field ledgerId:J
      45: invokevirtual #158                // Method org/apache/bookkeeper/common/util/OrderedExecutor.chooseThread:(J)Ljava/util/concurrent/ExecutorService;
      48: invokevirtual #159                // Method java/util/concurrent/CompletableFuture.whenCompleteAsync:(Ljava/util/function/BiConsumer;Ljava/util/concurrent/Executor;)Ljava/util/concurrent/CompletableFuture;
      51: pop
      52: goto          68
      55: aload         5
      57: bipush        -19
      59: aload_0
      60: aconst_null
      61: aload         6
      63: invokeinterface #145,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadCallback.readComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/Enumeration;Ljava/lang/Object;)V
      68: return

  public void asyncReadLastEntry(org.apache.bookkeeper.client.AsyncCallback$ReadCallback, java.lang.Object);
    Code:
       0: aload_0
       1: invokevirtual #160                // Method getLastAddConfirmed:()J
       4: lstore_3
       5: lload_3
       6: lconst_0
       7: lcmp
       8: ifge          25
      11: aload_1
      12: bipush        -13
      14: aload_0
      15: aconst_null
      16: aload_2
      17: invokeinterface #145,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadCallback.readComplete:(ILorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/Enumeration;Ljava/lang/Object;)V
      22: goto          34
      25: aload_0
      26: lload_3
      27: lload_3
      28: aload_1
      29: aload_2
      30: iconst_0
      31: invokevirtual #147                // Method asyncReadEntriesInternal:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;Z)V
      34: return

  public org.apache.bookkeeper.client.LedgerEntry readLastEntry() throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: aload_0
       1: invokevirtual #160                // Method getLastAddConfirmed:()J
       4: lstore_1
       5: lload_1
       6: lconst_0
       7: lcmp
       8: ifge          19
      11: new           #161                // class org/apache/bookkeeper/client/BKException$BKNoSuchEntryException
      14: dup
      15: invokespecial #162                // Method org/apache/bookkeeper/client/BKException$BKNoSuchEntryException."<init>":()V
      18: athrow
      19: new           #9                  // class java/util/concurrent/CompletableFuture
      22: dup
      23: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
      26: astore_3
      27: aload_0
      28: lload_1
      29: lload_1
      30: new           #138                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadCallback
      33: dup
      34: aload_3
      35: invokespecial #139                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadCallback."<init>":(Ljava/util/concurrent/CompletableFuture;)V
      38: aconst_null
      39: invokevirtual #140                // Method asyncReadEntries:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;)V
      42: aload_3
      43: invokestatic  #117                // Method org/apache/bookkeeper/client/SyncCallbackUtils.waitForResult:(Ljava/util/concurrent/CompletableFuture;)Ljava/lang/Object;
      46: checkcast     #141                // class java/util/Enumeration
      49: invokeinterface #163,  1          // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      54: checkcast     #164                // class org/apache/bookkeeper/client/LedgerEntry
      57: areturn

  java.util.concurrent.CompletableFuture<org.apache.bookkeeper.client.api.LedgerEntries> readEntriesInternalAsync(long, long, boolean);
    Code:
       0: new           #165                // class org/apache/bookkeeper/client/PendingReadOp
       3: dup
       4: aload_0
       5: aload_0
       6: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       9: lload_1
      10: lload_3
      11: iload         5
      13: invokespecial #166                // Method org/apache/bookkeeper/client/PendingReadOp."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;JJZ)V
      16: astore        6
      18: aload_0
      19: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      22: invokeinterface #155,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.isClientClosed:()Z
      27: ifne          135
      30: aload_0
      31: getfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
      34: lload_1
      35: invokeinterface #167,  3          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getWriteSet:(J)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
      40: astore        7
      42: aload_0
      43: aload         7
      45: aload         7
      47: invokeinterface #168,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.size:()I
      52: iconst_1
      53: isub
      54: aload_0
      55: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      58: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
      63: getfield      #169                // Field org/apache/bookkeeper/client/ClientInternalConf.waitForWriteSetMs:J
      66: invokevirtual #170                // Method waitForWritable:(Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;IJ)Z
      69: ifne          77
      72: aload         6
      74: invokevirtual #171                // Method org/apache/bookkeeper/client/PendingReadOp.allowFailFastOnUnwritableChannel:()V
      77: aload         7
      79: invokeinterface #172,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.recycle:()V
      84: goto          99
      87: astore        8
      89: aload         7
      91: invokeinterface #172,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.recycle:()V
      96: aload         8
      98: athrow
      99: aload_0
     100: invokevirtual #173                // Method isHandleWritable:()Z
     103: ifeq          127
     106: aload_0
     107: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     110: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     115: aload_0
     116: getfield      #39                 // Field ledgerId:J
     119: aload         6
     121: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
     124: goto          132
     127: aload         6
     129: invokevirtual #174                // Method org/apache/bookkeeper/client/PendingReadOp.run:()V
     132: goto          149
     135: aload         6
     137: invokevirtual #175                // Method org/apache/bookkeeper/client/PendingReadOp.future:()Ljava/util/concurrent/CompletableFuture;
     140: bipush        -19
     142: invokestatic  #176                // Method org/apache/bookkeeper/client/BKException.create:(I)Lorg/apache/bookkeeper/client/BKException;
     145: invokevirtual #177                // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     148: pop
     149: aload         6
     151: invokevirtual #175                // Method org/apache/bookkeeper/client/PendingReadOp.future:()Ljava/util/concurrent/CompletableFuture;
     154: areturn
    Exception table:
       from    to  target type
          42    77    87   any
          87    89    87   any

  public long addEntry(byte[]) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: invokevirtual #178                // Method addEntry:([BII)J
       8: lreturn

  public java.util.concurrent.CompletableFuture<java.lang.Long> appendAsync(io.netty.buffer.ByteBuf);
    Code:
       0: new           #179                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback
       3: dup
       4: invokespecial #180                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback."<init>":()V
       7: astore_2
       8: aload_0
       9: aload_1
      10: aload_2
      11: aconst_null
      12: invokevirtual #181                // Method asyncAddEntry:(Lio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallback;Ljava/lang/Object;)V
      15: aload_2
      16: areturn

  public long addEntry(long, byte[]) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #182                // String To use this feature Ledger must be created with createLedgerAdv interface.
       5: invokeinterface #183,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      10: bipush        -100
      12: invokestatic  #176                // Method org/apache/bookkeeper/client/BKException.create:(I)Lorg/apache/bookkeeper/client/BKException;
      15: athrow

  public long addEntry(byte[], int, int) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          22
      11: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      14: ldc           #184                // String Adding entry {}
      16: aload_1
      17: invokeinterface #185,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      22: new           #179                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback
      25: dup
      26: invokespecial #180                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncAddCallback."<init>":()V
      29: astore        4
      31: aload_0
      32: aload_1
      33: iload_2
      34: iload_3
      35: aload         4
      37: aconst_null
      38: invokevirtual #186                // Method asyncAddEntry:([BIILorg/apache/bookkeeper/client/AsyncCallback$AddCallback;Ljava/lang/Object;)V
      41: aload         4
      43: invokestatic  #117                // Method org/apache/bookkeeper/client/SyncCallbackUtils.waitForResult:(Ljava/util/concurrent/CompletableFuture;)Ljava/lang/Object;
      46: checkcast     #187                // class java/lang/Long
      49: invokevirtual #188                // Method java/lang/Long.longValue:()J
      52: lreturn

  public long addEntry(long, byte[], int, int) throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #189                // String To use this feature Ledger must be created with createLedgerAdv() interface.
       5: invokeinterface #183,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      10: bipush        -100
      12: invokestatic  #176                // Method org/apache/bookkeeper/client/BKException.create:(I)Lorg/apache/bookkeeper/client/BKException;
      15: athrow

  public void asyncAddEntry(byte[], org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: aload_2
       6: aload_3
       7: invokevirtual #186                // Method asyncAddEntry:([BIILorg/apache/bookkeeper/client/AsyncCallback$AddCallback;Ljava/lang/Object;)V
      10: return

  public void asyncAddEntry(long, byte[], org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #189                // String To use this feature Ledger must be created with createLedgerAdv() interface.
       5: invokeinterface #183,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      10: aload         4
      12: bipush        -100
      14: aload_0
      15: lload_1
      16: lconst_0
      17: aload         5
      19: invokeinterface #190,  8          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallback.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
      24: return

  public void asyncAddEntry(byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: iload_2
       1: iflt          16
       4: iload_3
       5: iflt          16
       8: iload_2
       9: iload_3
      10: iadd
      11: aload_1
      12: arraylength
      13: if_icmple     57
      16: new           #191                // class java/lang/ArrayIndexOutOfBoundsException
      19: dup
      20: new           #192                // class java/lang/StringBuilder
      23: dup
      24: invokespecial #193                // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #194                // String Invalid values for offset(
      29: invokevirtual #195                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: iload_2
      33: invokevirtual #196                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      36: ldc           #197                // String ) or length(
      38: invokevirtual #195                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: iload_3
      42: invokevirtual #196                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      45: ldc           #198                // String )
      47: invokevirtual #195                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #199                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokespecial #200                // Method java/lang/ArrayIndexOutOfBoundsException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_0
      58: aload_1
      59: iload_2
      60: iload_3
      61: invokestatic  #201                // Method io/netty/buffer/Unpooled.wrappedBuffer:([BII)Lio/netty/buffer/ByteBuf;
      64: aload         4
      66: aload         5
      68: invokevirtual #181                // Method asyncAddEntry:(Lio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallback;Ljava/lang/Object;)V
      71: return

  public void asyncAddEntry(io.netty.buffer.ByteBuf, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       5: aload_0
       6: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
       9: aload_1
      10: aload_0
      11: getfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
      14: aload_2
      15: aload_3
      16: invokestatic  #203                // Method org/apache/bookkeeper/client/PendingAddOp.create:(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;Ljava/util/List;Lio/netty/buffer/ByteBuf;Ljava/util/EnumSet;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;Ljava/lang/Object;)Lorg/apache/bookkeeper/client/PendingAddOp;
      19: astore        4
      21: aload_0
      22: aload         4
      24: invokevirtual #204                // Method doAsyncAddEntry:(Lorg/apache/bookkeeper/client/PendingAddOp;)V
      27: return

  public void asyncAddEntry(long, byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #189                // String To use this feature Ledger must be created with createLedgerAdv() interface.
       5: invokeinterface #183,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      10: aload         6
      12: bipush        -100
      14: aload_0
      15: lload_1
      16: lconst_0
      17: aload         7
      19: invokeinterface #190,  8          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallback.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
      24: return

  public void asyncAddEntry(long, byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallbackWithLatency, java.lang.Object);
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #189                // String To use this feature Ledger must be created with createLedgerAdv() interface.
       5: invokeinterface #183,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      10: aload         6
      12: bipush        -100
      14: aload_0
      15: lload_1
      16: lconst_0
      17: aload         7
      19: invokeinterface #205,  8          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
      24: return

  public void asyncAddEntry(long, io.netty.buffer.ByteBuf, org.apache.bookkeeper.client.AsyncCallback$AddCallbackWithLatency, java.lang.Object);
    Code:
       0: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #189                // String To use this feature Ledger must be created with createLedgerAdv() interface.
       5: invokeinterface #183,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      10: aload         4
      12: bipush        -100
      14: aload_0
      15: lload_1
      16: lconst_0
      17: aload         5
      19: invokeinterface #205,  8          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
      24: return

  public java.util.concurrent.CompletableFuture<java.lang.Void> force();
    Code:
       0: new           #9                  // class java/util/concurrent/CompletableFuture
       3: dup
       4: invokespecial #10                 // Method java/util/concurrent/CompletableFuture."<init>":()V
       7: astore_1
       8: new           #206                // class org/apache/bookkeeper/client/ForceLedgerOp
      11: dup
      12: aload_0
      13: aload_0
      14: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      17: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
      22: aload_0
      23: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
      26: aload_1
      27: invokespecial #207                // Method org/apache/bookkeeper/client/ForceLedgerOp."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/proto/BookieClient;Ljava/util/List;Ljava/util/concurrent/CompletableFuture;)V
      30: astore_2
      31: iconst_0
      32: istore_3
      33: aload_0
      34: dup
      35: astore        4
      37: monitorenter
      38: aload_0
      39: invokevirtual #173                // Method isHandleWritable:()Z
      42: ifne          47
      45: iconst_1
      46: istore_3
      47: aload         4
      49: monitorexit
      50: goto          61
      53: astore        5
      55: aload         4
      57: monitorexit
      58: aload         5
      60: athrow
      61: iload_3
      62: ifeq          109
      65: aload_0
      66: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      69: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
      74: aload_0
      75: getfield      #39                 // Field ledgerId:J
      78: new           #208                // class org/apache/bookkeeper/client/LedgerHandle$7
      81: dup
      82: aload_0
      83: aload_1
      84: invokespecial #209                // Method org/apache/bookkeeper/client/LedgerHandle$7."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/concurrent/CompletableFuture;)V
      87: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
      90: goto          107
      93: astore        4
      95: aload_1
      96: new           #210                // class org/apache/bookkeeper/client/BKException$BKInterruptedException
      99: dup
     100: invokespecial #211                // Method org/apache/bookkeeper/client/BKException$BKInterruptedException."<init>":()V
     103: invokevirtual #177                // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     106: pop
     107: aload_1
     108: areturn
     109: aload_0
     110: getfield      #38                 // Field pendingAddsSequenceHead:J
     113: ldc2_w        #36                 // long -1l
     116: lcmp
     117: ifne          147
     120: aload_0
     121: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     124: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     129: aload_0
     130: getfield      #39                 // Field ledgerId:J
     133: new           #212                // class org/apache/bookkeeper/client/LedgerHandle$8
     136: dup
     137: aload_0
     138: aload_1
     139: invokespecial #213                // Method org/apache/bookkeeper/client/LedgerHandle$8."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/concurrent/CompletableFuture;)V
     142: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
     145: aload_1
     146: areturn
     147: aload_0
     148: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     151: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     156: aload_0
     157: getfield      #39                 // Field ledgerId:J
     160: aload_2
     161: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
     164: goto          181
     167: astore        4
     169: aload_1
     170: new           #210                // class org/apache/bookkeeper/client/BKException$BKInterruptedException
     173: dup
     174: invokespecial #211                // Method org/apache/bookkeeper/client/BKException$BKInterruptedException."<init>":()V
     177: invokevirtual #177                // Method java/util/concurrent/CompletableFuture.completeExceptionally:(Ljava/lang/Throwable;)Z
     180: pop
     181: aload_1
     182: areturn
    Exception table:
       from    to  target type
          38    50    53   any
          53    58    53   any
          65    90    93   Class java/util/concurrent/RejectedExecutionException
         147   164   167   Class java/util/concurrent/RejectedExecutionException

  void asyncRecoveryAddEntry(byte[], int, int, org.apache.bookkeeper.client.AsyncCallback$AddCallback, java.lang.Object);
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       5: aload_0
       6: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
       9: aload_1
      10: iload_2
      11: iload_3
      12: invokestatic  #201                // Method io/netty/buffer/Unpooled.wrappedBuffer:([BII)Lio/netty/buffer/ByteBuf;
      15: aload_0
      16: getfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
      19: aload         4
      21: aload         5
      23: invokestatic  #203                // Method org/apache/bookkeeper/client/PendingAddOp.create:(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;Ljava/util/List;Lio/netty/buffer/ByteBuf;Ljava/util/EnumSet;Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;Ljava/lang/Object;)Lorg/apache/bookkeeper/client/PendingAddOp;
      26: invokevirtual #214                // Method org/apache/bookkeeper/client/PendingAddOp.enableRecoveryAdd:()Lorg/apache/bookkeeper/client/PendingAddOp;
      29: astore        6
      31: aload_0
      32: aload         6
      34: invokevirtual #204                // Method doAsyncAddEntry:(Lorg/apache/bookkeeper/client/PendingAddOp;)V
      37: return

  private boolean isWriteSetWritable(org.apache.bookkeeper.client.DistributionSchedule$WriteSet, int);
    Code:
       0: iload_2
       1: ifge          6
       4: iconst_0
       5: istore_2
       6: aload_1
       7: invokeinterface #168,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.size:()I
      12: istore_3
      13: iload_3
      14: iload_2
      15: isub
      16: istore        4
      18: iconst_0
      19: istore        5
      21: aload_0
      22: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
      25: astore        6
      27: iconst_0
      28: istore        7
      30: iload         7
      32: iload_3
      33: if_icmpge     102
      36: aload_0
      37: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      40: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
      45: aload         6
      47: iload         7
      49: invokeinterface #215,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      54: checkcast     #216                // class org/apache/bookkeeper/net/BookieId
      57: aload_0
      58: getfield      #39                 // Field ledgerId:J
      61: invokeinterface #217,  4          // InterfaceMethod org/apache/bookkeeper/proto/BookieClient.isWritable:(Lorg/apache/bookkeeper/net/BookieId;J)Z
      66: ifne          80
      69: iinc          5, 1
      72: iload         5
      74: iload_2
      75: if_icmplt     96
      78: iconst_0
      79: ireturn
      80: iload         7
      82: iload         5
      84: isub
      85: istore        8
      87: iload         8
      89: iload         4
      91: if_icmplt     96
      94: iconst_1
      95: ireturn
      96: iinc          7, 1
      99: goto          30
     102: iconst_1
     103: ireturn

  protected boolean waitForWritable(org.apache.bookkeeper.client.DistributionSchedule$WriteSet, int, long);
    Code:
       0: lload_3
       1: lconst_0
       2: lcmp
       3: ifge          8
       6: iconst_1
       7: ireturn
       8: invokestatic  #218                // Method org/apache/bookkeeper/common/util/MathUtils.nowInNano:()J
      11: lstore        5
      13: aload_0
      14: aload_1
      15: iload_2
      16: invokespecial #219                // Method isWriteSetWritable:(Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;I)Z
      19: istore        7
      21: iload         7
      23: ifne          178
      26: lload_3
      27: lconst_0
      28: lcmp
      29: ifle          178
      32: iconst_1
      33: istore        8
      35: iconst_4
      36: istore        9
      38: lload         5
      40: getstatic     #65                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      43: lload_3
      44: invokevirtual #220                // Method java/util/concurrent/TimeUnit.toNanos:(J)J
      47: ladd
      48: lstore        10
      50: aload_0
      51: aload_1
      52: iload_2
      53: invokespecial #219                // Method isWriteSetWritable:(Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;I)Z
      56: ifne          143
      59: invokestatic  #218                // Method org/apache/bookkeeper/common/util/MathUtils.nowInNano:()J
      62: lload         10
      64: lcmp
      65: ifge          137
      68: lload         5
      70: invokestatic  #221                // Method org/apache/bookkeeper/common/util/MathUtils.elapsedMSec:(J)J
      73: lstore        12
      75: lload         12
      77: lconst_0
      78: lcmp
      79: ifge          85
      82: lconst_1
      83: lstore        12
      85: iload         8
      87: i2l
      88: lload         12
      90: invokestatic  #222                // Method java/lang/Math.min:(JJ)J
      93: lstore        14
      95: getstatic     #65                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      98: lload         14
     100: invokevirtual #223                // Method java/util/concurrent/TimeUnit.sleep:(J)V
     103: goto          125
     106: astore        16
     108: invokestatic  #225                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     111: invokevirtual #226                // Method java/lang/Thread.interrupt:()V
     114: aload_0
     115: aload_1
     116: iload_2
     117: invokespecial #219                // Method isWriteSetWritable:(Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;I)Z
     120: istore        7
     122: goto          143
     125: iload         8
     127: iconst_4
     128: if_icmpgt     134
     131: iinc          8, 1
     134: goto          50
     137: iconst_0
     138: istore        7
     140: goto          143
     143: iload         8
     145: iconst_1
     146: if_icmple     178
     149: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     152: ldc           #227                // String Spent {} ms waiting for {} writable channels
     154: lload         5
     156: invokestatic  #221                // Method org/apache/bookkeeper/common/util/MathUtils.elapsedMSec:(J)J
     159: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     162: aload_1
     163: invokeinterface #168,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.size:()I
     168: iload_2
     169: isub
     170: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     173: invokeinterface #228,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     178: iload         7
     180: ifeq          203
     183: aload_0
     184: getfield      #82                 // Field clientChannelWriteWaitStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     187: lload         5
     189: invokestatic  #229                // Method org/apache/bookkeeper/common/util/MathUtils.elapsedNanos:(J)J
     192: getstatic     #230                // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     195: invokeinterface #231,  4          // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerSuccessfulEvent:(JLjava/util/concurrent/TimeUnit;)V
     200: goto          220
     203: aload_0
     204: getfield      #82                 // Field clientChannelWriteWaitStats:Lorg/apache/bookkeeper/stats/OpStatsLogger;
     207: lload         5
     209: invokestatic  #229                // Method org/apache/bookkeeper/common/util/MathUtils.elapsedNanos:(J)J
     212: getstatic     #230                // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     215: invokeinterface #232,  4          // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     220: iload         7
     222: ireturn
    Exception table:
       from    to  target type
          95   103   106   Class java/lang/InterruptedException

  protected void doAsyncAddEntry(org.apache.bookkeeper.client.PendingAddOp);
    Code:
       0: aload_0
       1: getfield      #51                 // Field throttler:Lcom/google/common/util/concurrent/RateLimiter;
       4: ifnull        15
       7: aload_0
       8: getfield      #51                 // Field throttler:Lcom/google/common/util/concurrent/RateLimiter;
      11: invokevirtual #233                // Method com/google/common/util/concurrent/RateLimiter.acquire:()D
      14: pop2
      15: iconst_0
      16: istore_2
      17: aload_0
      18: dup
      19: astore_3
      20: monitorenter
      21: aload_0
      22: invokevirtual #173                // Method isHandleWritable:()Z
      25: ifeq          81
      28: aload_0
      29: dup
      30: getfield      #31                 // Field lastAddPushed:J
      33: lconst_1
      34: ladd
      35: dup2_x1
      36: putfield      #31                 // Field lastAddPushed:J
      39: lstore        4
      41: aload_0
      42: aload_1
      43: getfield      #234                // Field org/apache/bookkeeper/client/PendingAddOp.payload:Lio/netty/buffer/ByteBuf;
      46: invokevirtual #235                // Method io/netty/buffer/ByteBuf.readableBytes:()I
      49: i2l
      50: invokevirtual #236                // Method addToLength:(J)J
      53: lstore        6
      55: aload_1
      56: lload         4
      58: invokevirtual #237                // Method org/apache/bookkeeper/client/PendingAddOp.setEntryId:(J)V
      61: aload_1
      62: lload         6
      64: invokevirtual #238                // Method org/apache/bookkeeper/client/PendingAddOp.setLedgerLength:(J)V
      67: aload_0
      68: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
      71: aload_1
      72: invokeinterface #239,  2          // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      77: pop
      78: goto          83
      81: iconst_1
      82: istore_2
      83: aload_3
      84: monitorexit
      85: goto          95
      88: astore        8
      90: aload_3
      91: monitorexit
      92: aload         8
      94: athrow
      95: iload_2
      96: ifeq          161
      99: aload_0
     100: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     103: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     108: aload_0
     109: getfield      #39                 // Field ledgerId:J
     112: new           #240                // class org/apache/bookkeeper/client/LedgerHandle$9
     115: dup
     116: aload_0
     117: aload_1
     118: invokespecial #241                // Method org/apache/bookkeeper/client/LedgerHandle$9."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/PendingAddOp;)V
     121: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
     124: goto          160
     127: astore_3
     128: aload_1
     129: getfield      #242                // Field org/apache/bookkeeper/client/PendingAddOp.cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;
     132: aload_0
     133: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     136: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
     141: bipush        -15
     143: invokestatic  #131                // Method org/apache/bookkeeper/client/BookKeeper.getReturnRc:(Lorg/apache/bookkeeper/proto/BookieClient;I)I
     146: aload_0
     147: ldc2_w        #36                 // long -1l
     150: lconst_0
     151: aload_1
     152: getfield      #243                // Field org/apache/bookkeeper/client/PendingAddOp.ctx:Ljava/lang/Object;
     155: invokeinterface #205,  8          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
     160: return
     161: aload_0
     162: getfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
     165: aload_1
     166: invokevirtual #244                // Method org/apache/bookkeeper/client/PendingAddOp.getEntryId:()J
     169: invokeinterface #167,  3          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getWriteSet:(J)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
     174: astore_3
     175: aload_0
     176: aload_3
     177: iconst_0
     178: aload_0
     179: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     182: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
     187: getfield      #169                // Field org/apache/bookkeeper/client/ClientInternalConf.waitForWriteSetMs:J
     190: invokevirtual #170                // Method waitForWritable:(Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;IJ)Z
     193: ifne          201
     196: aload_1
     197: invokevirtual #245                // Method org/apache/bookkeeper/client/PendingAddOp.allowFailFastOnUnwritableChannel:()Lorg/apache/bookkeeper/client/PendingAddOp;
     200: pop
     201: aload_3
     202: invokeinterface #172,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.recycle:()V
     207: goto          221
     210: astore        9
     212: aload_3
     213: invokeinterface #172,  1          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule$WriteSet.recycle:()V
     218: aload         9
     220: athrow
     221: aload_0
     222: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     225: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     230: aload_0
     231: getfield      #39                 // Field ledgerId:J
     234: aload_1
     235: invokevirtual #137                // Method org/apache/bookkeeper/common/util/OrderedExecutor.executeOrdered:(JLorg/apache/bookkeeper/common/util/SafeRunnable;)V
     238: goto          275
     241: astore        4
     243: aload_1
     244: getfield      #242                // Field org/apache/bookkeeper/client/PendingAddOp.cb:Lorg/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency;
     247: aload_0
     248: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     251: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
     256: bipush        -15
     258: invokestatic  #131                // Method org/apache/bookkeeper/client/BookKeeper.getReturnRc:(Lorg/apache/bookkeeper/proto/BookieClient;I)I
     261: aload_0
     262: ldc2_w        #36                 // long -1l
     265: lconst_0
     266: aload_1
     267: getfield      #243                // Field org/apache/bookkeeper/client/PendingAddOp.ctx:Ljava/lang/Object;
     270: invokeinterface #205,  8          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$AddCallbackWithLatency.addCompleteWithLatency:(ILorg/apache/bookkeeper/client/LedgerHandle;JJLjava/lang/Object;)V
     275: return
    Exception table:
       from    to  target type
          21    85    88   any
          88    92    88   any
          99   124   127   Class java/util/concurrent/RejectedExecutionException
         175   201   210   any
         210   212   210   any
         221   238   241   Class java/util/concurrent/RejectedExecutionException

  synchronized void updateLastConfirmed(long, long);
    Code:
       0: lload_1
       1: aload_0
       2: getfield      #32                 // Field lastAddConfirmed:J
       5: lcmp
       6: ifle          26
       9: aload_0
      10: lload_1
      11: putfield      #32                 // Field lastAddConfirmed:J
      14: aload_0
      15: getfield      #78                 // Field lacUpdateHitsCounter:Lorg/apache/bookkeeper/stats/Counter;
      18: invokeinterface #246,  1          // InterfaceMethod org/apache/bookkeeper/stats/Counter.inc:()V
      23: goto          35
      26: aload_0
      27: getfield      #80                 // Field lacUpdateMissesCounter:Lorg/apache/bookkeeper/stats/Counter;
      30: invokeinterface #246,  1          // InterfaceMethod org/apache/bookkeeper/stats/Counter.inc:()V
      35: aload_0
      36: aload_0
      37: getfield      #31                 // Field lastAddPushed:J
      40: lload_1
      41: invokestatic  #247                // Method java/lang/Math.max:(JJ)J
      44: putfield      #31                 // Field lastAddPushed:J
      47: aload_0
      48: aload_0
      49: getfield      #34                 // Field length:J
      52: lload_3
      53: invokestatic  #247                // Method java/lang/Math.max:(JJ)J
      56: putfield      #34                 // Field length:J
      59: return

  public void asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback$ReadLastConfirmedCallback, java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
       9: getfield      #54                 // Field org/apache/bookkeeper/client/ClientInternalConf.useV2WireProtocol:Z
      12: ifeq          24
      15: aload_0
      16: aload_1
      17: aload_2
      18: invokespecial #248                // Method asyncReadPiggybackLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      21: goto          30
      24: aload_0
      25: aload_1
      26: aload_2
      27: invokevirtual #249                // Method asyncReadExplicitLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      30: return

  private void asyncReadPiggybackLastConfirmed(org.apache.bookkeeper.client.AsyncCallback$ReadLastConfirmedCallback, java.lang.Object);
    Code:
       0: aload_0
       1: dup
       2: astore        6
       4: monitorenter
       5: aload_0
       6: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       9: astore        7
      11: aload         7
      13: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
      18: istore_3
      19: aload         7
      21: invokeinterface #30,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLastEntryId:()J
      26: lstore        4
      28: aload         6
      30: monitorexit
      31: goto          42
      34: astore        8
      36: aload         6
      38: monitorexit
      39: aload         8
      41: athrow
      42: iload_3
      43: ifeq          57
      46: aload_1
      47: iconst_0
      48: lload         4
      50: aload_2
      51: invokeinterface #250,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback.readLastConfirmedComplete:(IJLjava/lang/Object;)V
      56: return
      57: new           #251                // class org/apache/bookkeeper/client/LedgerHandle$10
      60: dup
      61: aload_0
      62: aload_1
      63: aload_2
      64: invokespecial #252                // Method org/apache/bookkeeper/client/LedgerHandle$10."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      67: astore        6
      69: new           #253                // class org/apache/bookkeeper/client/ReadLastConfirmedOp
      72: dup
      73: aload_0
      74: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      77: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
      82: aload_0
      83: getfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
      86: aload_0
      87: getfield      #56                 // Field macManager:Lorg/apache/bookkeeper/proto/checksum/DigestManager;
      90: aload_0
      91: getfield      #39                 // Field ledgerId:J
      94: aload_0
      95: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
      98: aload_0
      99: getfield      #58                 // Field ledgerKey:[B
     102: aload         6
     104: invokespecial #254                // Method org/apache/bookkeeper/client/ReadLastConfirmedOp."<init>":(Lorg/apache/bookkeeper/proto/BookieClient;Lorg/apache/bookkeeper/client/DistributionSchedule;Lorg/apache/bookkeeper/proto/checksum/DigestManager;JLjava/util/List;[BLorg/apache/bookkeeper/client/ReadLastConfirmedOp$LastConfirmedDataCallback;)V
     107: invokevirtual #255                // Method org/apache/bookkeeper/client/ReadLastConfirmedOp.initiate:()V
     110: return
    Exception table:
       from    to  target type
           5    31    34   any
          34    39    34   any

  public void asyncTryReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback$ReadLastConfirmedCallback, java.lang.Object);
    Code:
       0: aload_0
       1: dup
       2: astore        6
       4: monitorenter
       5: aload_0
       6: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       9: astore        7
      11: aload         7
      13: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
      18: istore_3
      19: aload         7
      21: invokeinterface #30,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLastEntryId:()J
      26: lstore        4
      28: aload         6
      30: monitorexit
      31: goto          42
      34: astore        8
      36: aload         6
      38: monitorexit
      39: aload         8
      41: athrow
      42: iload_3
      43: ifeq          57
      46: aload_1
      47: iconst_0
      48: lload         4
      50: aload_2
      51: invokeinterface #250,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback.readLastConfirmedComplete:(IJLjava/lang/Object;)V
      56: return
      57: new           #256                // class org/apache/bookkeeper/client/LedgerHandle$11
      60: dup
      61: aload_0
      62: aload_1
      63: aload_2
      64: invokespecial #257                // Method org/apache/bookkeeper/client/LedgerHandle$11."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      67: astore        6
      69: new           #258                // class org/apache/bookkeeper/client/TryReadLastConfirmedOp
      72: dup
      73: aload_0
      74: aload_0
      75: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      78: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
      83: aload_0
      84: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
      87: aload         6
      89: aload_0
      90: invokevirtual #160                // Method getLastAddConfirmed:()J
      93: invokespecial #259                // Method org/apache/bookkeeper/client/TryReadLastConfirmedOp."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/proto/BookieClient;Ljava/util/List;Lorg/apache/bookkeeper/client/ReadLastConfirmedOp$LastConfirmedDataCallback;J)V
      96: invokevirtual #260                // Method org/apache/bookkeeper/client/TryReadLastConfirmedOp.initiate:()V
      99: return
    Exception table:
       from    to  target type
           5    31    34   any
          34    39    34   any

  public java.util.concurrent.CompletableFuture<java.lang.Long> tryReadLastAddConfirmedAsync();
    Code:
       0: new           #261                // class org/apache/bookkeeper/client/SyncCallbackUtils$FutureReadLastConfirmed
       3: dup
       4: invokespecial #262                // Method org/apache/bookkeeper/client/SyncCallbackUtils$FutureReadLastConfirmed."<init>":()V
       7: astore_1
       8: aload_0
       9: aload_1
      10: aconst_null
      11: invokevirtual #263                // Method asyncTryReadLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      14: aload_1
      15: areturn

  public java.util.concurrent.CompletableFuture<java.lang.Long> readLastAddConfirmedAsync();
    Code:
       0: new           #261                // class org/apache/bookkeeper/client/SyncCallbackUtils$FutureReadLastConfirmed
       3: dup
       4: invokespecial #262                // Method org/apache/bookkeeper/client/SyncCallbackUtils$FutureReadLastConfirmed."<init>":()V
       7: astore_1
       8: aload_0
       9: aload_1
      10: aconst_null
      11: invokevirtual #264                // Method asyncReadLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      14: aload_1
      15: areturn

  public java.util.concurrent.CompletableFuture<org.apache.bookkeeper.client.api.LastConfirmedAndEntry> readLastAddConfirmedAndEntryAsync(long, long, boolean);
    Code:
       0: new           #265                // class org/apache/bookkeeper/client/SyncCallbackUtils$FutureReadLastConfirmedAndEntry
       3: dup
       4: invokespecial #266                // Method org/apache/bookkeeper/client/SyncCallbackUtils$FutureReadLastConfirmedAndEntry."<init>":()V
       7: astore        6
       9: aload_0
      10: lload_1
      11: lload_3
      12: iload         5
      14: aload         6
      16: aconst_null
      17: invokevirtual #267                // Method asyncReadLastConfirmedAndEntry:(JJZLorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedAndEntryCallback;Ljava/lang/Object;)V
      20: aload         6
      22: areturn

  public void asyncReadLastConfirmedAndEntry(long, long, boolean, org.apache.bookkeeper.client.AsyncCallback$ReadLastConfirmedAndEntryCallback, java.lang.Object);
    Code:
       0: aload_0
       1: dup
       2: astore        11
       4: monitorenter
       5: aload_0
       6: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       9: astore        12
      11: aload         12
      13: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
      18: istore        8
      20: aload         12
      22: invokeinterface #30,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLastEntryId:()J
      27: lstore        9
      29: aload         11
      31: monitorexit
      32: goto          43
      35: astore        13
      37: aload         11
      39: monitorexit
      40: aload         13
      42: athrow
      43: iload         8
      45: ifeq          69
      48: lload_1
      49: lload         9
      51: lcmp
      52: ifle          75
      55: aload         6
      57: iconst_0
      58: lload         9
      60: aconst_null
      61: aload         7
      63: invokeinterface #268,  6          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedAndEntryCallback.readLastConfirmedAndEntryComplete:(IJLorg/apache/bookkeeper/client/LedgerEntry;Ljava/lang/Object;)V
      68: return
      69: aload_0
      70: invokevirtual #160                // Method getLastAddConfirmed:()J
      73: lstore        9
      75: lload_1
      76: lload         9
      78: lcmp
      79: ifgt          101
      82: aload_0
      83: lload_1
      84: lload_1
      85: new           #269                // class org/apache/bookkeeper/client/LedgerHandle$12
      88: dup
      89: aload_0
      90: aload         6
      92: invokespecial #270                // Method org/apache/bookkeeper/client/LedgerHandle$12."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedAndEntryCallback;)V
      95: aload         7
      97: invokevirtual #140                // Method asyncReadEntries:(JJLorg/apache/bookkeeper/client/AsyncCallback$ReadCallback;Ljava/lang/Object;)V
     100: return
     101: new           #271                // class org/apache/bookkeeper/client/LedgerHandle$13
     104: dup
     105: aload_0
     106: aload         6
     108: aload         7
     110: invokespecial #272                // Method org/apache/bookkeeper/client/LedgerHandle$13."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedAndEntryCallback;Ljava/lang/Object;)V
     113: astore        11
     115: new           #273                // class org/apache/bookkeeper/client/ReadLastConfirmedAndEntryOp
     118: dup
     119: aload_0
     120: aload_0
     121: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     124: aload_0
     125: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
     128: aload         11
     130: lload_1
     131: lconst_1
     132: lsub
     133: lload_3
     134: invokespecial #274                // Method org/apache/bookkeeper/client/ReadLastConfirmedAndEntryOp."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/ClientContext;Ljava/util/List;Lorg/apache/bookkeeper/client/ReadLastConfirmedAndEntryOp$LastConfirmedAndEntryCallback;JJ)V
     137: iload         5
     139: invokevirtual #275                // Method org/apache/bookkeeper/client/ReadLastConfirmedAndEntryOp.parallelRead:(Z)Lorg/apache/bookkeeper/client/ReadLastConfirmedAndEntryOp;
     142: invokevirtual #276                // Method org/apache/bookkeeper/client/ReadLastConfirmedAndEntryOp.initiate:()V
     145: return
    Exception table:
       from    to  target type
           5    32    35   any
          35    40    35   any

  public long readLastConfirmed() throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: new           #277                // class org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx
       3: dup
       4: invokespecial #278                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx."<init>":()V
       7: astore_1
       8: aload_0
       9: new           #279                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadLastConfirmedCallback
      12: dup
      13: invokespecial #280                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadLastConfirmedCallback."<init>":()V
      16: aload_1
      17: invokevirtual #264                // Method asyncReadLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      20: aload_1
      21: dup
      22: astore_2
      23: monitorenter
      24: aload_1
      25: invokevirtual #281                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.ready:()Z
      28: ifne          38
      31: aload_1
      32: invokevirtual #282                // Method java/lang/Object.wait:()V
      35: goto          24
      38: aload_2
      39: monitorexit
      40: goto          48
      43: astore_3
      44: aload_2
      45: monitorexit
      46: aload_3
      47: athrow
      48: aload_1
      49: invokevirtual #283                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getRC:()I
      52: ifeq          63
      55: aload_1
      56: invokevirtual #283                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getRC:()I
      59: invokestatic  #176                // Method org/apache/bookkeeper/client/BKException.create:(I)Lorg/apache/bookkeeper/client/BKException;
      62: athrow
      63: aload_1
      64: invokevirtual #284                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getlastConfirmed:()J
      67: lreturn
    Exception table:
       from    to  target type
          24    40    43   any
          43    46    43   any

  public long tryReadLastConfirmed() throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: new           #277                // class org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx
       3: dup
       4: invokespecial #278                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx."<init>":()V
       7: astore_1
       8: aload_0
       9: new           #279                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadLastConfirmedCallback
      12: dup
      13: invokespecial #280                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadLastConfirmedCallback."<init>":()V
      16: aload_1
      17: invokevirtual #263                // Method asyncTryReadLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      20: aload_1
      21: dup
      22: astore_2
      23: monitorenter
      24: aload_1
      25: invokevirtual #281                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.ready:()Z
      28: ifne          38
      31: aload_1
      32: invokevirtual #282                // Method java/lang/Object.wait:()V
      35: goto          24
      38: aload_2
      39: monitorexit
      40: goto          48
      43: astore_3
      44: aload_2
      45: monitorexit
      46: aload_3
      47: athrow
      48: aload_1
      49: invokevirtual #283                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getRC:()I
      52: ifeq          63
      55: aload_1
      56: invokevirtual #283                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getRC:()I
      59: invokestatic  #176                // Method org/apache/bookkeeper/client/BKException.create:(I)Lorg/apache/bookkeeper/client/BKException;
      62: athrow
      63: aload_1
      64: invokevirtual #284                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getlastConfirmed:()J
      67: lreturn
    Exception table:
       from    to  target type
          24    40    43   any
          43    46    43   any

  public void asyncReadExplicitLastConfirmed(org.apache.bookkeeper.client.AsyncCallback$ReadLastConfirmedCallback, java.lang.Object);
    Code:
       0: aload_0
       1: dup
       2: astore        4
       4: monitorenter
       5: aload_0
       6: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       9: astore        5
      11: aload         5
      13: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
      18: istore_3
      19: iload_3
      20: ifeq          45
      23: aload_0
      24: aload         5
      26: invokeinterface #30,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLastEntryId:()J
      31: putfield      #32                 // Field lastAddConfirmed:J
      34: aload_0
      35: aload         5
      37: invokeinterface #33,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getLength:()J
      42: putfield      #34                 // Field length:J
      45: aload         4
      47: monitorexit
      48: goto          59
      51: astore        6
      53: aload         4
      55: monitorexit
      56: aload         6
      58: athrow
      59: iload_3
      60: ifeq          76
      63: aload_1
      64: iconst_0
      65: aload_0
      66: getfield      #32                 // Field lastAddConfirmed:J
      69: aload_2
      70: invokeinterface #250,  5          // InterfaceMethod org/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback.readLastConfirmedComplete:(IJLjava/lang/Object;)V
      75: return
      76: new           #285                // class org/apache/bookkeeper/client/LedgerHandle$14
      79: dup
      80: aload_0
      81: aload_1
      82: aload_2
      83: invokespecial #286                // Method org/apache/bookkeeper/client/LedgerHandle$14."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      86: astore        4
      88: new           #287                // class org/apache/bookkeeper/client/PendingReadLacOp
      91: dup
      92: aload_0
      93: aload_0
      94: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      97: invokeinterface #130,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieClient:()Lorg/apache/bookkeeper/proto/BookieClient;
     102: aload_0
     103: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
     106: aload         4
     108: invokespecial #288                // Method org/apache/bookkeeper/client/PendingReadLacOp."<init>":(Lorg/apache/bookkeeper/client/LedgerHandle;Lorg/apache/bookkeeper/proto/BookieClient;Ljava/util/List;Lorg/apache/bookkeeper/client/PendingReadLacOp$LacCallback;)V
     111: invokevirtual #289                // Method org/apache/bookkeeper/client/PendingReadLacOp.initiate:()V
     114: return
    Exception table:
       from    to  target type
           5    48    51   any
          51    56    51   any

  public long readExplicitLastConfirmed() throws java.lang.InterruptedException, org.apache.bookkeeper.client.BKException;
    Code:
       0: new           #277                // class org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx
       3: dup
       4: invokespecial #278                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx."<init>":()V
       7: astore_1
       8: aload_0
       9: new           #279                // class org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadLastConfirmedCallback
      12: dup
      13: invokespecial #280                // Method org/apache/bookkeeper/client/SyncCallbackUtils$SyncReadLastConfirmedCallback."<init>":()V
      16: aload_1
      17: invokevirtual #249                // Method asyncReadExplicitLastConfirmed:(Lorg/apache/bookkeeper/client/AsyncCallback$ReadLastConfirmedCallback;Ljava/lang/Object;)V
      20: aload_1
      21: dup
      22: astore_2
      23: monitorenter
      24: aload_1
      25: invokevirtual #281                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.ready:()Z
      28: ifne          38
      31: aload_1
      32: invokevirtual #282                // Method java/lang/Object.wait:()V
      35: goto          24
      38: aload_2
      39: monitorexit
      40: goto          48
      43: astore_3
      44: aload_2
      45: monitorexit
      46: aload_3
      47: athrow
      48: aload_1
      49: invokevirtual #283                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getRC:()I
      52: ifeq          63
      55: aload_1
      56: invokevirtual #283                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getRC:()I
      59: invokestatic  #176                // Method org/apache/bookkeeper/client/BKException.create:(I)Lorg/apache/bookkeeper/client/BKException;
      62: athrow
      63: aload_1
      64: invokevirtual #284                // Method org/apache/bookkeeper/client/LedgerHandle$LastConfirmedCtx.getlastConfirmed:()J
      67: lreturn
    Exception table:
       from    to  target type
          24    40    43   any
          43    46    43   any

  void handleUnrecoverableErrorDuringAdd(int);
    Code:
       0: aload_0
       1: invokevirtual #42                 // Method getLedgerMetadata:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
       4: invokeinterface #290,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getState:()Lorg/apache/bookkeeper/client/api/LedgerMetadata$State;
       9: getstatic     #291                // Field org/apache/bookkeeper/client/api/LedgerMetadata$State.IN_RECOVERY:Lorg/apache/bookkeeper/client/api/LedgerMetadata$State;
      12: if_acmpne     21
      15: aload_0
      16: iload_1
      17: invokevirtual #132                // Method errorOutPendingAdds:(I)V
      20: return
      21: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      24: ldc_w         #292                // String Closing ledger {} due to {}
      27: aload_0
      28: getfield      #39                 // Field ledgerId:J
      31: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      34: iload_1
      35: invokestatic  #293                // Method org/apache/bookkeeper/client/BKException.codeLogger:(I)Ljava/lang/Object;
      38: invokeinterface #294,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      43: aload_0
      44: getstatic     #295                // Field org/apache/bookkeeper/client/LedgerHandle$NoopCloseCallback.instance:Lorg/apache/bookkeeper/client/LedgerHandle$NoopCloseCallback;
      47: aconst_null
      48: iload_1
      49: invokevirtual #122                // Method asyncCloseInternal:(Lorg/apache/bookkeeper/client/AsyncCallback$CloseCallback;Ljava/lang/Object;I)V
      52: return

  private void monitorPendingAddOps();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
       6: invokeinterface #296,  1          // InterfaceMethod java/util/Queue.iterator:()Ljava/util/Iterator;
      11: astore_2
      12: aload_2
      13: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifeq          44
      21: aload_2
      22: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      27: checkcast     #297                // class org/apache/bookkeeper/client/PendingAddOp
      30: astore_3
      31: aload_3
      32: invokevirtual #298                // Method org/apache/bookkeeper/client/PendingAddOp.maybeTimeout:()Z
      35: ifeq          41
      38: iinc          1, 1
      41: goto          12
      44: iload_1
      45: ifle          63
      48: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      51: ldc_w         #299                // String Timed out {} add ops
      54: iload_1
      55: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      58: invokeinterface #300,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      63: return

  void errorOutPendingAdds(int);
    Code:
       0: aload_0
       1: iload_1
       2: aload_0
       3: invokevirtual #301                // Method drainPendingAddsAndAdjustLength:()Ljava/util/List;
       6: invokevirtual #302                // Method errorOutPendingAdds:(ILjava/util/List;)V
       9: return

  synchronized java.util.List<org.apache.bookkeeper.client.PendingAddOp> drainPendingAddsAndAdjustLength();
    Code:
       0: new           #303                // class java/util/ArrayList
       3: dup
       4: aload_0
       5: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
       8: invokeinterface #304,  1          // InterfaceMethod java/util/Queue.size:()I
      13: invokespecial #305                // Method java/util/ArrayList."<init>":(I)V
      16: astore_2
      17: aload_0
      18: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
      21: invokeinterface #306,  1          // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
      26: checkcast     #297                // class org/apache/bookkeeper/client/PendingAddOp
      29: dup
      30: astore_1
      31: ifnull        56
      34: aload_0
      35: aload_1
      36: getfield      #307                // Field org/apache/bookkeeper/client/PendingAddOp.entryLength:I
      39: ineg
      40: i2l
      41: invokevirtual #236                // Method addToLength:(J)J
      44: pop2
      45: aload_2
      46: aload_1
      47: invokeinterface #308,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      52: pop
      53: goto          17
      56: aload_2
      57: areturn

  void errorOutPendingAdds(int, java.util.List<org.apache.bookkeeper.client.PendingAddOp>);
    Code:
       0: aload_2
       1: invokeinterface #309,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       6: astore_3
       7: aload_3
       8: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          36
      16: aload_3
      17: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #297                // class org/apache/bookkeeper/client/PendingAddOp
      25: astore        4
      27: aload         4
      29: iload_1
      30: invokevirtual #310                // Method org/apache/bookkeeper/client/PendingAddOp.submitCallback:(I)V
      33: goto          7
      36: return

  void sendAddSuccessCallbacks();
    Code:
       0: aload_0
       1: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
       4: invokeinterface #311,  1          // InterfaceMethod java/util/Queue.peek:()Ljava/lang/Object;
       9: checkcast     #297                // class org/apache/bookkeeper/client/PendingAddOp
      12: dup
      13: astore_1
      14: ifnull        177
      17: aload_0
      18: getfield      #17                 // Field changingEnsemble:Z
      21: ifne          177
      24: aload_1
      25: getfield      #312                // Field org/apache/bookkeeper/client/PendingAddOp.completed:Z
      28: ifne          55
      31: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      34: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      39: ifeq          54
      42: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      45: ldc_w         #313                // String pending add not completed: {}
      48: aload_1
      49: invokeinterface #185,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      54: return
      55: aload_1
      56: getfield      #314                // Field org/apache/bookkeeper/client/PendingAddOp.entryId:J
      59: lconst_0
      60: lcmp
      61: ifeq          117
      64: aload_1
      65: getfield      #314                // Field org/apache/bookkeeper/client/PendingAddOp.entryId:J
      68: aload_0
      69: getfield      #38                 // Field pendingAddsSequenceHead:J
      72: lconst_1
      73: ladd
      74: lcmp
      75: ifeq          117
      78: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      81: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      86: ifeq          116
      89: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      92: ldc_w         #315                // String Head of the queue entryId: {} is not the expected value: {}
      95: aload_1
      96: getfield      #314                // Field org/apache/bookkeeper/client/PendingAddOp.entryId:J
      99: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     102: aload_0
     103: getfield      #38                 // Field pendingAddsSequenceHead:J
     106: lconst_1
     107: ladd
     108: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     111: invokeinterface #129,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     116: return
     117: aload_0
     118: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
     121: invokeinterface #316,  1          // InterfaceMethod java/util/Queue.remove:()Ljava/lang/Object;
     126: pop
     127: aload_0
     128: getfield      #92                 // Field explicitLacFlushPolicy:Lorg/apache/bookkeeper/client/ExplicitLacFlushPolicy;
     131: aload_0
     132: getfield      #32                 // Field lastAddConfirmed:J
     135: invokeinterface #317,  3          // InterfaceMethod org/apache/bookkeeper/client/ExplicitLacFlushPolicy.updatePiggyBackedLac:(J)V
     140: aload_0
     141: aload_1
     142: getfield      #314                // Field org/apache/bookkeeper/client/PendingAddOp.entryId:J
     145: putfield      #38                 // Field pendingAddsSequenceHead:J
     148: aload_0
     149: getfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
     152: getstatic     #318                // Field org/apache/bookkeeper/client/api/WriteFlag.DEFERRED_SYNC:Lorg/apache/bookkeeper/client/api/WriteFlag;
     155: invokevirtual #319                // Method java/util/EnumSet.contains:(Ljava/lang/Object;)Z
     158: ifne          169
     161: aload_0
     162: aload_0
     163: getfield      #38                 // Field pendingAddsSequenceHead:J
     166: putfield      #32                 // Field lastAddConfirmed:J
     169: aload_1
     170: iconst_0
     171: invokevirtual #310                // Method org/apache/bookkeeper/client/PendingAddOp.submitCallback:(I)V
     174: goto          0
     177: return

  boolean hasDelayedWriteFailedBookies();
    Code:
       0: aload_0
       1: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
       4: invokeinterface #320,  1          // InterfaceMethod java/util/Map.isEmpty:()Z
       9: ifne          16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ireturn

  void notifyWriteFailed(int, org.apache.bookkeeper.net.BookieId);
    Code:
       0: aload_0
       1: getfield      #16                 // Field metadataLock:Ljava/lang/Object;
       4: dup
       5: astore_3
       6: monitorenter
       7: aload_0
       8: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
      11: iload_1
      12: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      15: aload_2
      16: invokeinterface #321,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      21: pop
      22: aload_3
      23: monitorexit
      24: goto          34
      27: astore        4
      29: aload_3
      30: monitorexit
      31: aload         4
      33: athrow
      34: return
    Exception table:
       from    to  target type
           7    24    27   any
          27    31    27   any

  void maybeHandleDelayedWriteBookieFailure();
    Code:
       0: aload_0
       1: getfield      #16                 // Field metadataLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
      11: invokeinterface #320,  1          // InterfaceMethod java/util/Map.isEmpty:()Z
      16: ifeq          22
      19: aload_1
      20: monitorexit
      21: return
      22: new           #12                 // class java/util/HashMap
      25: dup
      26: aload_0
      27: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
      30: invokespecial #322                // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
      33: astore_2
      34: aload_0
      35: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
      38: invokeinterface #323,  1          // InterfaceMethod java/util/Map.clear:()V
      43: aload_0
      44: aload_2
      45: invokevirtual #324                // Method handleBookieFailure:(Ljava/util/Map;)V
      48: aload_1
      49: monitorexit
      50: goto          58
      53: astore_3
      54: aload_1
      55: monitorexit
      56: aload_3
      57: athrow
      58: return
    Exception table:
       from    to  target type
           7    21    53   any
          22    50    53   any
          53    56    53   any

  void handleBookieFailure(java.util.Map<java.lang.Integer, org.apache.bookkeeper.net.BookieId>);
    Code:
       0: aload_0
       1: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
       9: getfield      #325                // Field org/apache/bookkeeper/client/ClientInternalConf.disableEnsembleChangeFeature:Lorg/apache/bookkeeper/feature/Feature;
      12: invokeinterface #326,  1          // InterfaceMethod org/apache/bookkeeper/feature/Feature.isAvailable:()Z
      17: ifeq          65
      20: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      23: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      28: ifeq          50
      31: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      34: ldc_w         #327                // String Ensemble change is disabled. Retry sending to failed bookies {} for ledger {}.
      37: aload_1
      38: aload_0
      39: getfield      #39                 // Field ledgerId:J
      42: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      45: invokeinterface #129,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      50: aload_0
      51: aload_0
      52: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
      55: aload_1
      56: invokeinterface #328,  1          // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      61: invokevirtual #329                // Method unsetSuccessAndSendWriteRequest:(Ljava/util/List;Ljava/util/Set;)V
      64: return
      65: aload_0
      66: getfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
      69: getstatic     #318                // Field org/apache/bookkeeper/client/api/WriteFlag.DEFERRED_SYNC:Lorg/apache/bookkeeper/client/api/WriteFlag;
      72: invokevirtual #319                // Method java/util/EnumSet.contains:(Ljava/lang/Object;)Z
      75: ifeq          132
      78: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      81: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      86: ifeq          125
      89: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      92: ldc_w         #330                // String Cannot perform ensemble change with write flags {}. Failed bookies {} for ledger {}.
      95: iconst_3
      96: anewarray     #15                 // class java/lang/Object
      99: dup
     100: iconst_0
     101: aload_0
     102: getfield      #26                 // Field writeFlags:Ljava/util/EnumSet;
     105: aastore
     106: dup
     107: iconst_1
     108: aload_1
     109: aastore
     110: dup
     111: iconst_2
     112: aload_0
     113: getfield      #39                 // Field ledgerId:J
     116: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     119: aastore
     120: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     125: aload_0
     126: bipush        -12
     128: invokevirtual #332                // Method handleUnrecoverableErrorDuringAdd:(I)V
     131: return
     132: iconst_0
     133: istore_2
     134: aconst_null
     135: astore_3
     136: aconst_null
     137: astore        4
     139: aload_0
     140: getfield      #16                 // Field metadataLock:Ljava/lang/Object;
     143: dup
     144: astore        5
     146: monitorenter
     147: aload_0
     148: getfield      #17                 // Field changingEnsemble:Z
     151: ifeq          167
     154: aload_0
     155: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
     158: aload_1
     159: invokeinterface #333,  2          // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
     164: goto          208
     167: aload_0
     168: iconst_1
     169: putfield      #17                 // Field changingEnsemble:Z
     172: iconst_1
     173: istore_2
     174: new           #12                 // class java/util/HashMap
     177: dup
     178: aload_0
     179: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
     182: invokespecial #322                // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
     185: astore_3
     186: aload_0
     187: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
     190: invokeinterface #323,  1          // InterfaceMethod java/util/Map.clear:()V
     195: aload_3
     196: aload_1
     197: invokeinterface #333,  2          // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
     202: aload_0
     203: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
     206: astore        4
     208: aload         5
     210: monitorexit
     211: goto          222
     214: astore        6
     216: aload         5
     218: monitorexit
     219: aload         6
     221: athrow
     222: iload_2
     223: ifeq          233
     226: aload_0
     227: aload         4
     229: aload_3
     230: invokevirtual #334                // Method ensembleChangeLoop:(Ljava/util/List;Ljava/util/Map;)V
     233: return
    Exception table:
       from    to  target type
         147   211   214   any
         214   219   214   any

  void ensembleChangeLoop(java.util.List<org.apache.bookkeeper.net.BookieId>, java.util.Map<java.lang.Integer, org.apache.bookkeeper.net.BookieId>);
    Code:
       0: aload_0
       1: getfield      #20                 // Field numEnsembleChanges:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #335                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
       7: istore_3
       8: ldc_w         #336                // String [EnsembleChange(ledger:%d, change-id:%010d)]
      11: iconst_2
      12: anewarray     #15                 // class java/lang/Object
      15: dup
      16: iconst_0
      17: aload_0
      18: getfield      #39                 // Field ledgerId:J
      21: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      24: aastore
      25: dup
      26: iconst_1
      27: iload_3
      28: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      31: aastore
      32: invokestatic  #337                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      35: astore        4
      37: iload_3
      38: aload_0
      39: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      42: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
      47: getfield      #338                // Field org/apache/bookkeeper/client/ClientInternalConf.maxAllowedEnsembleChanges:I
      50: if_icmple     88
      53: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      56: ldc_w         #339                // String {} reaches max allowed ensemble change number {}
      59: aload         4
      61: aload_0
      62: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      65: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
      70: getfield      #338                // Field org/apache/bookkeeper/client/ClientInternalConf.maxAllowedEnsembleChanges:I
      73: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      76: invokeinterface #228,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      81: aload_0
      82: bipush        -12
      84: invokevirtual #332                // Method handleUnrecoverableErrorDuringAdd:(I)V
      87: return
      88: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      91: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      96: ifeq          127
      99: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     102: ldc_w         #340                // String {} Replacing {} in {}
     105: iconst_3
     106: anewarray     #15                 // class java/lang/Object
     109: dup
     110: iconst_0
     111: aload         4
     113: aastore
     114: dup
     115: iconst_1
     116: aload_2
     117: aastore
     118: dup
     119: iconst_2
     120: aload_1
     121: aastore
     122: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     127: new           #18                 // class java/util/concurrent/atomic/AtomicInteger
     130: dup
     131: iconst_0
     132: invokespecial #19                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
     135: astore        5
     137: new           #341                // class org/apache/bookkeeper/client/MetadataUpdateLoop
     140: dup
     141: aload_0
     142: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     145: invokeinterface #342,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getLedgerManager:()Lorg/apache/bookkeeper/meta/LedgerManager;
     150: aload_0
     151: invokevirtual #343                // Method getId:()J
     154: aload_0
     155: invokedynamic #344,  0            // InvokeDynamic #0:get:(Lorg/apache/bookkeeper/client/LedgerHandle;)Ljava/util/function/Supplier;
     160: aload_2
     161: invokedynamic #345,  0            // InvokeDynamic #1:needsUpdate:(Ljava/util/Map;)Lorg/apache/bookkeeper/client/MetadataUpdateLoop$NeedsUpdatePredicate;
     166: aload_0
     167: aload         5
     169: aload_2
     170: aload         4
     172: invokedynamic #346,  0            // InvokeDynamic #2:transform:(Lorg/apache/bookkeeper/client/LedgerHandle;Ljava/util/concurrent/atomic/AtomicInteger;Ljava/util/Map;Ljava/lang/String;)Lorg/apache/bookkeeper/client/MetadataUpdateLoop$MetadataTransform;
     177: aload_0
     178: invokedynamic #347,  0            // InvokeDynamic #3:updateValue:(Lorg/apache/bookkeeper/client/LedgerHandle;)Lorg/apache/bookkeeper/client/MetadataUpdateLoop$LocalValueUpdater;
     183: invokespecial #348                // Method org/apache/bookkeeper/client/MetadataUpdateLoop."<init>":(Lorg/apache/bookkeeper/meta/LedgerManager;JLjava/util/function/Supplier;Lorg/apache/bookkeeper/client/MetadataUpdateLoop$NeedsUpdatePredicate;Lorg/apache/bookkeeper/client/MetadataUpdateLoop$MetadataTransform;Lorg/apache/bookkeeper/client/MetadataUpdateLoop$LocalValueUpdater;)V
     186: invokevirtual #349                // Method org/apache/bookkeeper/client/MetadataUpdateLoop.run:()Ljava/util/concurrent/CompletableFuture;
     189: aload_0
     190: aload         4
     192: aload         5
     194: aload_1
     195: invokedynamic #350,  0            // InvokeDynamic #4:accept:(Lorg/apache/bookkeeper/client/LedgerHandle;Ljava/lang/String;Ljava/util/concurrent/atomic/AtomicInteger;Ljava/util/List;)Ljava/util/function/BiConsumer;
     200: aload_0
     201: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
     204: invokeinterface #134,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getMainWorkerPool:()Lorg/apache/bookkeeper/common/util/OrderedExecutor;
     209: aload_0
     210: getfield      #39                 // Field ledgerId:J
     213: invokevirtual #158                // Method org/apache/bookkeeper/common/util/OrderedExecutor.chooseThread:(J)Ljava/util/concurrent/ExecutorService;
     216: invokevirtual #159                // Method java/util/concurrent/CompletableFuture.whenCompleteAsync:(Ljava/util/function/BiConsumer;Ljava/util/concurrent/Executor;)Ljava/util/concurrent/CompletableFuture;
     219: pop
     220: return

  void unsetSuccessAndSendWriteRequest(java.util.List<org.apache.bookkeeper.net.BookieId>, java.util.Set<java.lang.Integer>);
    Code:
       0: aload_0
       1: getfield      #25                 // Field pendingAddOps:Ljava/util/Queue;
       4: invokeinterface #296,  1          // InterfaceMethod java/util/Queue.iterator:()Ljava/util/Iterator;
       9: astore_3
      10: aload_3
      11: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          77
      19: aload_3
      20: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #297                // class org/apache/bookkeeper/client/PendingAddOp
      28: astore        4
      30: aload_2
      31: invokeinterface #351,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      36: astore        5
      38: aload         5
      40: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      45: ifeq          74
      48: aload         5
      50: invokeinterface #111,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      55: checkcast     #352                // class java/lang/Integer
      58: astore        6
      60: aload         4
      62: aload_1
      63: aload         6
      65: invokevirtual #353                // Method java/lang/Integer.intValue:()I
      68: invokevirtual #354                // Method org/apache/bookkeeper/client/PendingAddOp.unsetSuccessAndSendWriteRequest:(Ljava/util/List;I)V
      71: goto          38
      74: goto          10
      77: return

  void registerOperationFailureOnBookie(org.apache.bookkeeper.net.BookieId, long);
    Code:
       0: aload_0
       1: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
       4: invokeinterface #40,  1           // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getConf:()Lorg/apache/bookkeeper/client/ClientInternalConf;
       9: getfield      #355                // Field org/apache/bookkeeper/client/ClientInternalConf.enableBookieFailureTracking:Z
      12: ifeq          29
      15: aload_0
      16: getfield      #70                 // Field bookieFailureHistory:Lcom/google/common/cache/LoadingCache;
      19: aload_1
      20: lload_2
      21: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      24: invokeinterface #356,  3          // InterfaceMethod com/google/common/cache/LoadingCache.put:(Ljava/lang/Object;Ljava/lang/Object;)V
      29: return

  java.util.List<org.apache.bookkeeper.net.BookieId> getCurrentEnsemble();
    Code:
       0: aload_0
       1: getfield      #22                 // Field versionedMetadata:Lorg/apache/bookkeeper/versioning/Versioned;
       4: invokevirtual #27                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
       7: checkcast     #28                 // class org/apache/bookkeeper/client/api/LedgerMetadata
      10: invokestatic  #357                // Method org/apache/bookkeeper/client/LedgerMetadataUtils.getCurrentEnsemble:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)Ljava/util/List;
      13: areturn

  org.apache.bookkeeper.client.DistributionSchedule$WriteSet getWriteSetForReadOperation(long);
    Code:
       0: aload_0
       1: getfield      #48                 // Field stickyBookieIndex:I
       4: iconst_m1
       5: if_icmpeq     23
       8: aload_0
       9: getfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
      12: aload_0
      13: getfield      #48                 // Field stickyBookieIndex:I
      16: i2l
      17: invokeinterface #167,  3          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getWriteSet:(J)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
      22: areturn
      23: aload_0
      24: getfield      #62                 // Field distributionSchedule:Lorg/apache/bookkeeper/client/DistributionSchedule;
      27: lload_1
      28: invokeinterface #167,  3          // InterfaceMethod org/apache/bookkeeper/client/DistributionSchedule.getWriteSet:(J)Lorg/apache/bookkeeper/client/DistributionSchedule$WriteSet;
      33: areturn

  private void lambda$ensembleChangeLoop$3(java.lang.String, java.util.concurrent.atomic.AtomicInteger, java.util.List, org.apache.bookkeeper.versioning.Versioned, java.lang.Throwable);
    Code:
       0: aload         5
       2: ifnull        53
       5: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       8: ldc_w         #358                // String {}[attempt:{}] Exception changing ensemble
      11: iconst_3
      12: anewarray     #15                 // class java/lang/Object
      15: dup
      16: iconst_0
      17: aload_1
      18: aastore
      19: dup
      20: iconst_1
      21: aload_2
      22: invokevirtual #359                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      25: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: aastore
      29: dup
      30: iconst_2
      31: aload         5
      33: aastore
      34: invokeinterface #360,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
      39: aload_0
      40: aload         5
      42: bipush        -12
      44: invokestatic  #361                // Method org/apache/bookkeeper/client/BKException.getExceptionCode:(Ljava/lang/Throwable;I)I
      47: invokevirtual #332                // Method handleUnrecoverableErrorDuringAdd:(I)V
      50: goto          320
      53: aload         4
      55: invokevirtual #27                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
      58: checkcast     #28                 // class org/apache/bookkeeper/client/api/LedgerMetadata
      61: invokeinterface #29,  1           // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.isClosed:()Z
      66: ifeq          108
      69: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      72: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      77: ifeq          99
      80: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      83: ldc_w         #362                // String {}[attempt:{}] Metadata closed during attempt to replace bookie. Another client must have recovered the ledger.
      86: aload_1
      87: aload_2
      88: invokevirtual #359                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      91: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      94: invokeinterface #129,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      99: aload_0
     100: bipush        -11
     102: invokevirtual #332                // Method handleUnrecoverableErrorDuringAdd:(I)V
     105: goto          320
     108: aload         4
     110: invokevirtual #27                 // Method org/apache/bookkeeper/versioning/Versioned.getValue:()Ljava/lang/Object;
     113: checkcast     #28                 // class org/apache/bookkeeper/client/api/LedgerMetadata
     116: invokeinterface #290,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getState:()Lorg/apache/bookkeeper/client/api/LedgerMetadata$State;
     121: getstatic     #291                // Field org/apache/bookkeeper/client/api/LedgerMetadata$State.IN_RECOVERY:Lorg/apache/bookkeeper/client/api/LedgerMetadata$State;
     124: if_acmpne     166
     127: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     130: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     135: ifeq          157
     138: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     141: ldc_w         #363                // String {}[attempt:{}] Metadata marked as in-recovery during attempt to replace bookie. Another client must be recovering the ledger.
     144: aload_1
     145: aload_2
     146: invokevirtual #359                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     149: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     152: invokeinterface #129,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     157: aload_0
     158: bipush        -101
     160: invokevirtual #332                // Method handleUnrecoverableErrorDuringAdd:(I)V
     163: goto          320
     166: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     169: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     174: ifeq          196
     177: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     180: ldc_w         #364                // String {}[attempt:{}] Success updating metadata.
     183: aload_1
     184: aload_2
     185: invokevirtual #359                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     188: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     191: invokeinterface #129,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     196: aconst_null
     197: astore        6
     199: aconst_null
     200: astore        7
     202: aload_0
     203: getfield      #16                 // Field metadataLock:Ljava/lang/Object;
     206: dup
     207: astore        8
     209: monitorenter
     210: aload_0
     211: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
     214: invokeinterface #320,  1          // InterfaceMethod java/util/Map.isEmpty:()Z
     219: ifne          254
     222: new           #12                 // class java/util/HashMap
     225: dup
     226: aload_0
     227: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
     230: invokespecial #322                // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
     233: astore        9
     235: aload_0
     236: getfield      #14                 // Field delayedWriteFailedBookies:Ljava/util/Map;
     239: invokeinterface #323,  1          // InterfaceMethod java/util/Map.clear:()V
     244: aload_0
     245: aload_3
     246: aload         9
     248: invokevirtual #334                // Method ensembleChangeLoop:(Ljava/util/List;Ljava/util/Map;)V
     251: goto          293
     254: aload_0
     255: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
     258: astore        6
     260: aload_3
     261: aload         6
     263: invokestatic  #365                // Method org/apache/bookkeeper/client/EnsembleUtils.diffEnsemble:(Ljava/util/List;Ljava/util/List;)Ljava/util/Set;
     266: astore        7
     268: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
     271: ldc_w         #366                // String New Ensemble: {} for ledger: {}
     274: aload         6
     276: aload_0
     277: getfield      #39                 // Field ledgerId:J
     280: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     283: invokeinterface #228,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     288: aload_0
     289: iconst_0
     290: putfield      #17                 // Field changingEnsemble:Z
     293: aload         8
     295: monitorexit
     296: goto          307
     299: astore        10
     301: aload         8
     303: monitorexit
     304: aload         10
     306: athrow
     307: aload         6
     309: ifnull        320
     312: aload_0
     313: aload         6
     315: aload         7
     317: invokevirtual #329                // Method unsetSuccessAndSendWriteRequest:(Ljava/util/List;Ljava/util/Set;)V
     320: return
    Exception table:
       from    to  target type
         210   296   299   any
         299   304   299   any

  private org.apache.bookkeeper.client.api.LedgerMetadata lambda$ensembleChangeLoop$2(java.util.concurrent.atomic.AtomicInteger, java.util.Map, java.lang.String, org.apache.bookkeeper.client.api.LedgerMetadata) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #335                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
       4: pop
       5: aload_0
       6: invokevirtual #202                // Method getCurrentEnsemble:()Ljava/util/List;
       9: astore        5
      11: aload_0
      12: getfield      #21                 // Field clientCtx:Lorg/apache/bookkeeper/client/ClientContext;
      15: invokeinterface #367,  1          // InterfaceMethod org/apache/bookkeeper/client/ClientContext.getBookieWatcher:()Lorg/apache/bookkeeper/client/BookieWatcher;
      20: aload         4
      22: aload         5
      24: aload_2
      25: aload_3
      26: invokestatic  #368                // Method org/apache/bookkeeper/client/EnsembleUtils.replaceBookiesInEnsemble:(Lorg/apache/bookkeeper/client/BookieWatcher;Lorg/apache/bookkeeper/client/api/LedgerMetadata;Ljava/util/List;Ljava/util/Map;Ljava/lang/String;)Ljava/util/List;
      29: astore        6
      31: aload         4
      33: invokestatic  #369                // Method org/apache/bookkeeper/client/LedgerMetadataUtils.getLastEnsembleKey:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)Ljava/lang/Long;
      36: astore        7
      38: aload         4
      40: invokestatic  #370                // Method org/apache/bookkeeper/client/LedgerMetadataBuilder.from:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)Lorg/apache/bookkeeper/client/LedgerMetadataBuilder;
      43: astore        8
      45: aload_0
      46: invokevirtual #160                // Method getLastAddConfirmed:()J
      49: lconst_1
      50: ladd
      51: lstore        9
      53: aload         7
      55: invokevirtual #188                // Method java/lang/Long.longValue:()J
      58: lload         9
      60: lcmp
      61: ifgt          68
      64: iconst_1
      65: goto          69
      68: iconst_0
      69: ldc_w         #371                // String New ensemble must either replace the last ensemble, or add a new one
      72: invokestatic  #372                // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      75: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      78: invokeinterface #126,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      83: ifeq          133
      86: getstatic     #125                // Field LOG:Lorg/slf4j/Logger;
      89: ldc_w         #373                // String {}[attempt:{}] changing ensemble from: {} to: {} starting at entry: {}
      92: iconst_5
      93: anewarray     #15                 // class java/lang/Object
      96: dup
      97: iconst_0
      98: aload_3
      99: aastore
     100: dup
     101: iconst_1
     102: aload_1
     103: invokevirtual #359                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
     106: invokestatic  #87                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     109: aastore
     110: dup
     111: iconst_2
     112: aload         5
     114: aastore
     115: dup
     116: iconst_3
     117: aload         6
     119: aastore
     120: dup
     121: iconst_4
     122: lload         9
     124: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     127: aastore
     128: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     133: aload         7
     135: lload         9
     137: invokestatic  #128                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     140: invokevirtual #374                // Method java/lang/Long.equals:(Ljava/lang/Object;)Z
     143: ifeq          159
     146: aload         8
     148: lload         9
     150: aload         6
     152: invokevirtual #375                // Method org/apache/bookkeeper/client/LedgerMetadataBuilder.replaceEnsembleEntry:(JLjava/util/List;)Lorg/apache/bookkeeper/client/LedgerMetadataBuilder;
     155: invokevirtual #376                // Method org/apache/bookkeeper/client/LedgerMetadataBuilder.build:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     158: areturn
     159: aload         8
     161: lload         9
     163: aload         6
     165: invokevirtual #377                // Method org/apache/bookkeeper/client/LedgerMetadataBuilder.newEnsembleEntry:(JLjava/util/List;)Lorg/apache/bookkeeper/client/LedgerMetadataBuilder;
     168: invokevirtual #376                // Method org/apache/bookkeeper/client/LedgerMetadataBuilder.build:()Lorg/apache/bookkeeper/client/api/LedgerMetadata;
     171: areturn

  private static boolean lambda$ensembleChangeLoop$1(java.util.Map, org.apache.bookkeeper.client.api.LedgerMetadata) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #290,  1          // InterfaceMethod org/apache/bookkeeper/client/api/LedgerMetadata.getState:()Lorg/apache/bookkeeper/client/api/LedgerMetadata$State;
       6: getstatic     #378                // Field org/apache/bookkeeper/client/api/LedgerMetadata$State.OPEN:Lorg/apache/bookkeeper/client/api/LedgerMetadata$State;
       9: if_acmpne     41
      12: aload_0
      13: invokeinterface #379,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      18: invokeinterface #380,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      23: aload_1
      24: invokedynamic #381,  0            // InvokeDynamic #5:test:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)Ljava/util/function/Predicate;
      29: invokeinterface #382,  2          // InterfaceMethod java/util/stream/Stream.anyMatch:(Ljava/util/function/Predicate;)Z
      34: ifeq          41
      37: iconst_1
      38: goto          42
      41: iconst_0
      42: ireturn

  private static boolean lambda$null$0(org.apache.bookkeeper.client.api.LedgerMetadata, java.util.Map$Entry);
    Code:
       0: aload_0
       1: invokestatic  #383                // Method org/apache/bookkeeper/client/LedgerMetadataUtils.getLastEnsembleValue:(Lorg/apache/bookkeeper/client/api/LedgerMetadata;)Ljava/util/List;
       4: aload_1
       5: invokeinterface #384,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      10: checkcast     #352                // class java/lang/Integer
      13: invokevirtual #353                // Method java/lang/Integer.intValue:()I
      16: invokeinterface #215,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      21: checkcast     #216                // class org/apache/bookkeeper/net/BookieId
      24: aload_1
      25: invokeinterface #385,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      30: invokevirtual #386                // Method org/apache/bookkeeper/net/BookieId.equals:(Ljava/lang/Object;)Z
      33: ireturn

  static void access$000(org.apache.bookkeeper.client.LedgerHandle);
    Code:
       0: aload_0
       1: invokespecial #6                  // Method monitorPendingAddOps:()V
       4: return

  static java.util.concurrent.CompletableFuture access$100(org.apache.bookkeeper.client.LedgerHandle);
    Code:
       0: aload_0
       1: getfield      #5                  // Field closePromise:Ljava/util/concurrent/CompletableFuture;
       4: areturn

  static org.apache.bookkeeper.client.LedgerHandle$HandleState access$200(org.apache.bookkeeper.client.LedgerHandle);
    Code:
       0: aload_0
       1: getfield      #4                  // Field handleState:Lorg/apache/bookkeeper/client/LedgerHandle$HandleState;
       4: areturn

  static org.apache.bookkeeper.client.LedgerHandle$HandleState access$202(org.apache.bookkeeper.client.LedgerHandle, org.apache.bookkeeper.client.LedgerHandle$HandleState);
    Code:
       0: aload_0
       1: aload_1
       2: dup_x1
       3: putfield      #4                  // Field handleState:Lorg/apache/bookkeeper/client/LedgerHandle$HandleState;
       6: areturn

  static void access$300(org.apache.bookkeeper.client.LedgerHandle);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method tearDownWriteHandleState:()V
       4: return

  static {};
    Code:
       0: ldc           #35                 // class org/apache/bookkeeper/client/LedgerHandle
       2: invokestatic  #387                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #125                // Field LOG:Lorg/slf4j/Logger;
       8: return
}
