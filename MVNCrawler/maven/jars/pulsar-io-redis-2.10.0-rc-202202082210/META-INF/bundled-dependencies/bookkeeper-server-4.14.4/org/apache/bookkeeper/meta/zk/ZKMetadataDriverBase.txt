Compiled from "ZKMetadataDriverBase.java"
public class org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase implements java.lang.AutoCloseable {
  private static final org.slf4j.Logger log;

  protected static final java.lang.String SCHEME;

  protected org.apache.bookkeeper.conf.AbstractConfiguration<?> conf;

  protected org.apache.bookkeeper.stats.StatsLogger statsLogger;

  protected java.util.List<org.apache.zookeeper.data.ACL> acls;

  protected org.apache.zookeeper.ZooKeeper zk;

  protected boolean ownZKHandle;

  protected java.lang.String ledgersRootPath;

  protected org.apache.bookkeeper.meta.LayoutManager layoutManager;

  protected org.apache.bookkeeper.meta.LedgerManagerFactory lmFactory;

  public org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
       9: aload_0
      10: iconst_0
      11: putfield      #4                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ownZKHandle:Z
      14: return

  public static java.lang.String getZKServersFromServiceUri(java.net.URI);
    Code:
       0: aload_0
       1: invokevirtual #5                  // Method java/net/URI.getAuthority:()Ljava/lang/String;
       4: astore_1
       5: aload_1
       6: ifnonnull     36
       9: new           #193                // class java/lang/IllegalArgumentException
      12: dup
      13: new           #7                  // class java/lang/StringBuilder
      16: dup
      17: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #9                  // String Invalid metadata service URI format:
      22: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokespecial #13                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      35: athrow
      36: aload_1
      37: ldc           #14                 // String ;
      39: ldc           #15                 // String ,
      41: invokevirtual #16                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
      44: areturn

  public static java.lang.String resolveZkServers(org.apache.bookkeeper.conf.AbstractConfiguration<?>);
    Code:
       0: aload_0
       1: invokevirtual #17                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getMetadataServiceUriUnchecked:()Ljava/lang/String;
       4: astore_1
       5: aconst_null
       6: aload_1
       7: if_acmpne     15
      10: aload_0
      11: invokevirtual #18                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getZkServers:()Ljava/lang/String;
      14: areturn
      15: aload_1
      16: invokestatic  #19                 // Method java/net/URI.create:(Ljava/lang/String;)Ljava/net/URI;
      19: astore_2
      20: aload_2
      21: invokestatic  #20                 // Method org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.getZKServersFromServiceUri:(Ljava/net/URI;)Ljava/lang/String;
      24: areturn

  public static java.lang.String resolveZkLedgersRootPath(org.apache.bookkeeper.conf.AbstractConfiguration<?>);
    Code:
       0: aload_0
       1: invokevirtual #17                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getMetadataServiceUriUnchecked:()Ljava/lang/String;
       4: astore_1
       5: aconst_null
       6: aload_1
       7: if_acmpne     15
      10: aload_0
      11: invokevirtual #21                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getZkLedgersRootPath:()Ljava/lang/String;
      14: areturn
      15: aload_1
      16: invokestatic  #19                 // Method java/net/URI.create:(Ljava/lang/String;)Ljava/net/URI;
      19: astore_2
      20: aload_2
      21: invokevirtual #22                 // Method java/net/URI.getPath:()Ljava/lang/String;
      24: areturn

  public static java.lang.Class<? extends org.apache.bookkeeper.meta.LedgerManagerFactory> resolveLedgerManagerFactory(java.net.URI);
    Code:
       0: aload_0
       1: ldc           #23                 // String Metadata service uri is null
       3: invokestatic  #24                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_0
       8: invokevirtual #25                 // Method java/net/URI.getScheme:()Ljava/lang/String;
      11: astore_1
      12: aload_1
      13: new           #7                  // class java/lang/StringBuilder
      16: dup
      17: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #26                 // String Invalid metadata service :
      22: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      29: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      32: invokestatic  #24                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      35: pop
      36: aload_1
      37: invokevirtual #27                 // Method java/lang/String.toLowerCase:()Ljava/lang/String;
      40: bipush        43
      42: invokestatic  #28                 // Method org/apache/commons/lang3/StringUtils.split:(Ljava/lang/String;C)[Ljava/lang/String;
      45: astore_2
      46: ldc           #30                 // String zk
      48: aload_2
      49: iconst_0
      50: aaload
      51: invokevirtual #31                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      54: new           #7                  // class java/lang/StringBuilder
      57: dup
      58: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #32                 // String Unknown metadata service scheme found :
      63: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_2
      67: iconst_0
      68: aaload
      69: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokestatic  #33                 // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      78: aload_2
      79: arraylength
      80: iconst_1
      81: if_icmple     330
      84: aload_2
      85: iconst_1
      86: aaload
      87: astore        4
      89: iconst_m1
      90: istore        5
      92: aload         4
      94: invokevirtual #34                 // Method java/lang/String.hashCode:()I
      97: lookupswitch  { // 5
                  3494: 196
               3145593: 148
               3392903: 212
             857636745: 164
            1456434181: 180
               default: 225
          }
     148: aload         4
     150: ldc           #35                 // String flat
     152: invokevirtual #31                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     155: ifeq          225
     158: iconst_0
     159: istore        5
     161: goto          225
     164: aload         4
     166: ldc           #36                 // String hierarchical
     168: invokevirtual #31                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     171: ifeq          225
     174: iconst_1
     175: istore        5
     177: goto          225
     180: aload         4
     182: ldc           #37                 // String longhierarchical
     184: invokevirtual #31                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     187: ifeq          225
     190: iconst_2
     191: istore        5
     193: goto          225
     196: aload         4
     198: ldc           #38                 // String ms
     200: invokevirtual #31                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     203: ifeq          225
     206: iconst_3
     207: istore        5
     209: goto          225
     212: aload         4
     214: ldc           #39                 // String null
     216: invokevirtual #31                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     219: ifeq          225
     222: iconst_4
     223: istore        5
     225: iload         5
     227: tableswitch   { // 0 to 4
                     0: 260
                     1: 266
                     2: 272
                     3: 278
                     4: 284
               default: 289
          }
     260: ldc           #40                 // class org/apache/bookkeeper/meta/FlatLedgerManagerFactory
     262: astore_3
     263: goto          327
     266: ldc           #41                 // class org/apache/bookkeeper/meta/HierarchicalLedgerManagerFactory
     268: astore_3
     269: goto          327
     272: ldc           #42                 // class org/apache/bookkeeper/meta/LongHierarchicalLedgerManagerFactory
     274: astore_3
     275: goto          327
     278: ldc           #43                 // class org/apache/bookkeeper/meta/MSLedgerManagerFactory
     280: astore_3
     281: goto          327
     284: aconst_null
     285: astore_3
     286: goto          327
     289: new           #193                // class java/lang/IllegalArgumentException
     292: dup
     293: new           #7                  // class java/lang/StringBuilder
     296: dup
     297: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
     300: ldc           #44                 // String Unknown ledger manager type found \'
     302: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     305: aload_2
     306: iconst_1
     307: aaload
     308: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     311: ldc           #45                 // String \' at uri :
     313: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     316: aload_0
     317: invokevirtual #11                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     320: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     323: invokespecial #13                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     326: athrow
     327: goto          332
     330: aconst_null
     331: astore_3
     332: aload_3
     333: areturn

  public java.lang.String getScheme();
    Code:
       0: ldc           #30                 // String zk
       2: areturn

  protected void initialize(org.apache.bookkeeper.conf.AbstractConfiguration<?>, org.apache.bookkeeper.stats.StatsLogger, org.apache.bookkeeper.zookeeper.RetryPolicy, java.util.Optional<java.lang.Object>) throws org.apache.bookkeeper.meta.exceptions.MetadataException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #46                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.conf:Lorg/apache/bookkeeper/conf/AbstractConfiguration;
       5: aload_0
       6: aload_1
       7: invokestatic  #47                 // Method org/apache/bookkeeper/util/ZkUtils.getACLs:(Lorg/apache/bookkeeper/conf/AbstractConfiguration;)Ljava/util/List;
      10: putfield      #48                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.acls:Ljava/util/List;
      13: aload         4
      15: invokevirtual #49                 // Method java/util/Optional.isPresent:()Z
      18: ifeq          77
      21: aload         4
      23: invokevirtual #50                 // Method java/util/Optional.get:()Ljava/lang/Object;
      26: instanceof    #51                 // class org/apache/zookeeper/ZooKeeper
      29: ifeq          77
      32: aload_0
      33: aload_1
      34: invokevirtual #21                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getZkLedgersRootPath:()Ljava/lang/String;
      37: putfield      #52                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ledgersRootPath:Ljava/lang/String;
      40: getstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
      43: ldc           #54                 // String Initialize zookeeper metadata driver with external zookeeper client : ledgersRootPath = {}.
      45: aload_0
      46: getfield      #52                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ledgersRootPath:Ljava/lang/String;
      49: invokeinterface #55,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      54: aload_0
      55: aload         4
      57: invokevirtual #50                 // Method java/util/Optional.get:()Ljava/lang/Object;
      60: checkcast     #51                 // class org/apache/zookeeper/ZooKeeper
      63: checkcast     #51                 // class org/apache/zookeeper/ZooKeeper
      66: putfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
      69: aload_0
      70: iconst_0
      71: putfield      #4                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ownZKHandle:Z
      74: goto          389
      77: aload_1
      78: invokevirtual #56                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getMetadataServiceUri:()Ljava/lang/String;
      81: astore        5
      83: goto          113
      86: astore        6
      88: getstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
      91: ldc           #58                 // String Failed to retrieve metadata service uri from configuration
      93: aload         6
      95: invokeinterface #59,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     100: new           #60                 // class org/apache/bookkeeper/meta/exceptions/MetadataException
     103: dup
     104: getstatic     #61                 // Field org/apache/bookkeeper/meta/exceptions/Code.INVALID_METADATA_SERVICE_URI:Lorg/apache/bookkeeper/meta/exceptions/Code;
     107: aload         6
     109: invokespecial #62                 // Method org/apache/bookkeeper/meta/exceptions/MetadataException."<init>":(Lorg/apache/bookkeeper/meta/exceptions/Code;Ljava/lang/Throwable;)V
     112: athrow
     113: aload         5
     115: invokestatic  #19                 // Method java/net/URI.create:(Ljava/lang/String;)Ljava/net/URI;
     118: astore        6
     120: aload_0
     121: aload         6
     123: invokevirtual #22                 // Method java/net/URI.getPath:()Ljava/lang/String;
     126: putfield      #52                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ledgersRootPath:Ljava/lang/String;
     129: new           #7                  // class java/lang/StringBuilder
     132: dup
     133: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
     136: aload_0
     137: getfield      #52                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ledgersRootPath:Ljava/lang/String;
     140: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: ldc           #63                 // String /
     145: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: ldc           #64                 // String available
     150: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     153: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     156: astore        7
     158: new           #7                  // class java/lang/StringBuilder
     161: dup
     162: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
     165: aload         7
     167: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     170: ldc           #63                 // String /
     172: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: ldc           #65                 // String readonly
     177: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     183: astore        8
     185: aload         6
     187: invokestatic  #20                 // Method org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.getZKServersFromServiceUri:(Ljava/net/URI;)Ljava/lang/String;
     190: astore        9
     192: goto          210
     195: astore        10
     197: new           #60                 // class org/apache/bookkeeper/meta/exceptions/MetadataException
     200: dup
     201: getstatic     #61                 // Field org/apache/bookkeeper/meta/exceptions/Code.INVALID_METADATA_SERVICE_URI:Lorg/apache/bookkeeper/meta/exceptions/Code;
     204: aload         10
     206: invokespecial #62                 // Method org/apache/bookkeeper/meta/exceptions/MetadataException."<init>":(Lorg/apache/bookkeeper/meta/exceptions/Code;Ljava/lang/Throwable;)V
     209: athrow
     210: getstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
     213: ldc           #66                 // String Initialize zookeeper metadata driver at metadata service uri {} : zkServers = {}, ledgersRootPath = {}.
     215: iconst_3
     216: anewarray     #67                 // class java/lang/Object
     219: dup
     220: iconst_0
     221: aload         5
     223: aastore
     224: dup
     225: iconst_1
     226: aload         9
     228: aastore
     229: dup
     230: iconst_2
     231: aload_0
     232: getfield      #52                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ledgersRootPath:Ljava/lang/String;
     235: aastore
     236: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     241: aload_0
     242: invokestatic  #69                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient.newBuilder:()Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder;
     245: aload         9
     247: invokevirtual #70                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder.connectString:(Ljava/lang/String;)Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder;
     250: aload_1
     251: invokevirtual #71                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getZkTimeout:()I
     254: invokevirtual #72                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder.sessionTimeoutMs:(I)Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder;
     257: aload_3
     258: invokevirtual #73                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder.operationRetryPolicy:(Lorg/apache/bookkeeper/zookeeper/RetryPolicy;)Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder;
     261: aload_1
     262: invokevirtual #74                 // Method org/apache/bookkeeper/conf/AbstractConfiguration.getZkRequestRateLimit:()D
     265: invokevirtual #75                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder.requestRateLimit:(D)Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder;
     268: aload_2
     269: invokevirtual #76                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder.statsLogger:(Lorg/apache/bookkeeper/stats/StatsLogger;)Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder;
     272: invokevirtual #77                 // Method org/apache/bookkeeper/zookeeper/ZooKeeperClient$Builder.build:()Lorg/apache/bookkeeper/zookeeper/ZooKeeperClient;
     275: putfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
     278: aconst_null
     279: aload_0
     280: getfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
     283: aload         8
     285: iconst_0
     286: invokevirtual #78                 // Method org/apache/zookeeper/ZooKeeper.exists:(Ljava/lang/String;Z)Lorg/apache/zookeeper/data/Stat;
     289: if_acmpne     322
     292: aload_0
     293: getfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
     296: aload         8
     298: getstatic     #79                 // Field org/apache/bookkeeper/util/BookKeeperConstants.EMPTY_BYTE_ARRAY:[B
     301: aload_0
     302: getfield      #48                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.acls:Ljava/util/List;
     305: getstatic     #80                 // Field org/apache/zookeeper/CreateMode.PERSISTENT:Lorg/apache/zookeeper/CreateMode;
     308: invokevirtual #81                 // Method org/apache/zookeeper/ZooKeeper.create:(Ljava/lang/String;[BLjava/util/List;Lorg/apache/zookeeper/CreateMode;)Ljava/lang/String;
     311: pop
     312: goto          322
     315: astore        10
     317: goto          322
     320: astore        10
     322: goto          384
     325: astore        10
     327: getstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
     330: ldc           #86                 // String Failed to create zookeeper client to {}
     332: aload         9
     334: aload         10
     336: invokeinterface #87,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     341: new           #60                 // class org/apache/bookkeeper/meta/exceptions/MetadataException
     344: dup
     345: getstatic     #88                 // Field org/apache/bookkeeper/meta/exceptions/Code.METADATA_SERVICE_ERROR:Lorg/apache/bookkeeper/meta/exceptions/Code;
     348: new           #7                  // class java/lang/StringBuilder
     351: dup
     352: invokespecial #8                  // Method java/lang/StringBuilder."<init>":()V
     355: ldc           #89                 // String Failed to create zookeeper client to
     357: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     360: aload         9
     362: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     365: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     368: aload         10
     370: invokespecial #90                 // Method org/apache/bookkeeper/meta/exceptions/MetadataException."<init>":(Lorg/apache/bookkeeper/meta/exceptions/Code;Ljava/lang/String;Ljava/lang/Throwable;)V
     373: astore        11
     375: aload         11
     377: invokevirtual #91                 // Method org/apache/bookkeeper/meta/exceptions/MetadataException.fillInStackTrace:()Ljava/lang/Throwable;
     380: pop
     381: aload         11
     383: athrow
     384: aload_0
     385: iconst_1
     386: putfield      #4                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ownZKHandle:Z
     389: aload_0
     390: new           #92                 // class org/apache/bookkeeper/meta/ZkLayoutManager
     393: dup
     394: aload_0
     395: getfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
     398: aload_0
     399: getfield      #52                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ledgersRootPath:Ljava/lang/String;
     402: aload_0
     403: getfield      #48                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.acls:Ljava/util/List;
     406: invokespecial #93                 // Method org/apache/bookkeeper/meta/ZkLayoutManager."<init>":(Lorg/apache/zookeeper/ZooKeeper;Ljava/lang/String;Ljava/util/List;)V
     409: putfield      #94                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.layoutManager:Lorg/apache/bookkeeper/meta/LayoutManager;
     412: goto          420
     415: astore        5
     417: aload         5
     419: athrow
     420: return
    Exception table:
       from    to  target type
          77    83    86   Class org/apache/commons/configuration/ConfigurationException
         185   192   195   Class java/lang/IllegalArgumentException
         292   312   315   Class org/apache/zookeeper/KeeperException$NodeExistsException
         292   312   320   Class org/apache/zookeeper/KeeperException$NoNodeException
         241   322   325   Class java/io/IOException
         241   322   325   Class org/apache/zookeeper/KeeperException
           0   412   415   Class java/lang/InterruptedException

  public org.apache.bookkeeper.meta.LayoutManager getLayoutManager();
    Code:
       0: aload_0
       1: getfield      #94                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.layoutManager:Lorg/apache/bookkeeper/meta/LayoutManager;
       4: areturn

  public synchronized org.apache.bookkeeper.meta.LedgerManagerFactory getLedgerManagerFactory() throws org.apache.bookkeeper.meta.exceptions.MetadataException;
    Code:
       0: aconst_null
       1: aload_0
       2: getfield      #97                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.lmFactory:Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
       5: if_acmpne     50
       8: aload_0
       9: aload_0
      10: getfield      #46                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.conf:Lorg/apache/bookkeeper/conf/AbstractConfiguration;
      13: aload_0
      14: getfield      #94                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.layoutManager:Lorg/apache/bookkeeper/meta/LayoutManager;
      17: invokestatic  #98                 // Method org/apache/bookkeeper/meta/AbstractZkLedgerManagerFactory.newLedgerManagerFactory:(Lorg/apache/bookkeeper/conf/AbstractConfiguration;Lorg/apache/bookkeeper/meta/LayoutManager;)Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
      20: putfield      #97                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.lmFactory:Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
      23: goto          50
      26: astore_1
      27: new           #60                 // class org/apache/bookkeeper/meta/exceptions/MetadataException
      30: dup
      31: getstatic     #88                 // Field org/apache/bookkeeper/meta/exceptions/Code.METADATA_SERVICE_ERROR:Lorg/apache/bookkeeper/meta/exceptions/Code;
      34: ldc           #99                 // String Failed to initialized ledger manager factory
      36: aload_1
      37: invokespecial #90                 // Method org/apache/bookkeeper/meta/exceptions/MetadataException."<init>":(Lorg/apache/bookkeeper/meta/exceptions/Code;Ljava/lang/String;Ljava/lang/Throwable;)V
      40: athrow
      41: astore_1
      42: invokestatic  #100                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      45: invokevirtual #101                // Method java/lang/Thread.interrupt:()V
      48: aload_1
      49: athrow
      50: aload_0
      51: getfield      #97                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.lmFactory:Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
      54: areturn
      55: astore_1
      56: aload_1
      57: athrow
    Exception table:
       from    to  target type
           8    23    26   Class java/io/IOException
           8    23    41   Class java/lang/InterruptedException
           0    54    55   Class java/lang/Throwable

  public void close();
    Code:
       0: aconst_null
       1: aload_0
       2: getfield      #97                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.lmFactory:Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
       5: if_acmpeq     37
       8: aload_0
       9: getfield      #97                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.lmFactory:Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
      12: invokeinterface #103,  1          // InterfaceMethod org/apache/bookkeeper/meta/LedgerManagerFactory.close:()V
      17: goto          32
      20: astore_1
      21: getstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
      24: ldc           #104                // String Failed to close zookeeper based ledger manager
      26: aload_1
      27: invokeinterface #105,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      32: aload_0
      33: aconst_null
      34: putfield      #97                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.lmFactory:Lorg/apache/bookkeeper/meta/LedgerManagerFactory;
      37: aload_0
      38: getfield      #4                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.ownZKHandle:Z
      41: ifeq          85
      44: aconst_null
      45: aload_0
      46: getfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
      49: if_acmpeq     85
      52: aload_0
      53: getfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
      56: invokevirtual #106                // Method org/apache/zookeeper/ZooKeeper.close:()V
      59: goto          80
      62: astore_1
      63: invokestatic  #100                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      66: invokevirtual #101                // Method java/lang/Thread.interrupt:()V
      69: getstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
      72: ldc           #107                // String Interrupted on closing zookeeper client
      74: aload_1
      75: invokeinterface #105,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      80: aload_0
      81: aconst_null
      82: putfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
      85: return
    Exception table:
       from    to  target type
           8    17    20   Class java/io/IOException
          52    59    62   Class java/lang/InterruptedException

  public org.apache.zookeeper.ZooKeeper getZk();
    Code:
       0: aload_0
       1: getfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
       4: areturn

  public void setZk(org.apache.zookeeper.ZooKeeper);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.zk:Lorg/apache/zookeeper/ZooKeeper;
       5: return

  static {};
    Code:
       0: ldc           #188                // class org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase
       2: invokestatic  #108                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #53                 // Field org/apache/bookkeeper/meta/zk/ZKMetadataDriverBase.log:Lorg/slf4j/Logger;
       8: return
}
