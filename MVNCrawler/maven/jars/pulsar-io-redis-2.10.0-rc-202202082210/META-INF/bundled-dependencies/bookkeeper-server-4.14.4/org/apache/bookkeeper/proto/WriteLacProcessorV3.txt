Compiled from "WriteLacProcessorV3.java"
class org.apache.bookkeeper.proto.WriteLacProcessorV3 extends org.apache.bookkeeper.proto.PacketProcessorBaseV3 implements java.lang.Runnable {
  private static final org.slf4j.Logger logger;

  public org.apache.bookkeeper.proto.WriteLacProcessorV3(org.apache.bookkeeper.proto.BookkeeperProtocol$Request, io.netty.channel.Channel, org.apache.bookkeeper.proto.BookieRequestProcessor);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #1                  // Method org/apache/bookkeeper/proto/PacketProcessorBaseV3."<init>":(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;Lio/netty/channel/Channel;Lorg/apache/bookkeeper/proto/BookieRequestProcessor;)V
       7: return

  private org.apache.bookkeeper.proto.BookkeeperProtocol$WriteLacResponse getWriteLacResponse();
    Code:
       0: invokestatic  #2                  // Method org/apache/bookkeeper/util/MathUtils.nowInNano:()J
       3: lstore_1
       4: aload_0
       5: getfield      #3                  // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
       8: invokevirtual #4                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Request.getWriteLacRequest:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacRequest;
      11: astore_3
      12: aload_3
      13: invokevirtual #5                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacRequest.getLac:()J
      16: lstore        4
      18: aload_3
      19: invokevirtual #6                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacRequest.getLedgerId:()J
      22: lstore        6
      24: invokestatic  #7                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse.newBuilder:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder;
      27: lload         6
      29: invokevirtual #8                  // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.setLedgerId:(J)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder;
      32: astore        8
      34: aload_0
      35: invokevirtual #9                  // Method isVersionCompatible:()Z
      38: ifne          56
      41: aload         8
      43: getstatic     #10                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EBADVERSION:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      46: invokevirtual #11                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder;
      49: pop
      50: aload         8
      52: invokevirtual #12                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse;
      55: areturn
      56: aload_0
      57: getfield      #13                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      60: getfield      #14                 // Field org/apache/bookkeeper/proto/BookieRequestProcessor.bookie:Lorg/apache/bookkeeper/bookie/Bookie;
      63: invokevirtual #15                 // Method org/apache/bookkeeper/bookie/Bookie.isReadOnly:()Z
      66: ifeq          94
      69: getstatic     #16                 // Field logger:Lorg/slf4j/Logger;
      72: ldc           #17                 // String BookieServer is running as readonly mode, so rejecting the request from the client!
      74: invokeinterface #18,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      79: aload         8
      81: getstatic     #19                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EREADONLY:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      84: invokevirtual #11                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder;
      87: pop
      88: aload         8
      90: invokevirtual #12                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse;
      93: areturn
      94: new           #20                 // class org/apache/bookkeeper/proto/WriteLacProcessorV3$1
      97: dup
      98: aload_0
      99: lload_1
     100: aload         8
     102: invokespecial #21                 // Method org/apache/bookkeeper/proto/WriteLacProcessorV3$1."<init>":(Lorg/apache/bookkeeper/proto/WriteLacProcessorV3;JLorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder;)V
     105: astore        9
     107: aconst_null
     108: astore        10
     110: aload_3
     111: invokevirtual #22                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacRequest.getBody:()Lcom/google/protobuf/ByteString;
     114: invokevirtual #23                 // Method com/google/protobuf/ByteString.asReadOnlyByteBuffer:()Ljava/nio/ByteBuffer;
     117: astore        11
     119: aload_3
     120: invokevirtual #24                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacRequest.getMasterKey:()Lcom/google/protobuf/ByteString;
     123: invokevirtual #25                 // Method com/google/protobuf/ByteString.toByteArray:()[B
     126: astore        12
     128: aload_0
     129: getfield      #13                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
     132: getfield      #14                 // Field org/apache/bookkeeper/proto/BookieRequestProcessor.bookie:Lorg/apache/bookkeeper/bookie/Bookie;
     135: aload         11
     137: invokestatic  #26                 // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     140: aload         9
     142: aload_0
     143: getfield      #27                 // Field channel:Lio/netty/channel/Channel;
     146: aload         12
     148: invokevirtual #28                 // Method org/apache/bookkeeper/bookie/Bookie.setExplicitLac:(Lio/netty/buffer/ByteBuf;Lorg/apache/bookkeeper/proto/BookkeeperInternalCallbacks$WriteCallback;Ljava/lang/Object;[B)V
     151: getstatic     #29                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EOK:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     154: astore        10
     156: goto          342
     159: astore        13
     161: getstatic     #16                 // Field logger:Lorg/slf4j/Logger;
     164: ldc           #31                 // String Error saving lac {} for ledger:{}
     166: iconst_3
     167: anewarray     #32                 // class java/lang/Object
     170: dup
     171: iconst_0
     172: lload         4
     174: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     177: aastore
     178: dup
     179: iconst_1
     180: lload         6
     182: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     185: aastore
     186: dup
     187: iconst_2
     188: aload         13
     190: aastore
     191: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     196: getstatic     #35                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EIO:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     199: astore        10
     201: goto          342
     204: astore        13
     206: invokestatic  #37                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     209: invokevirtual #38                 // Method java/lang/Thread.interrupt:()V
     212: getstatic     #16                 // Field logger:Lorg/slf4j/Logger;
     215: ldc           #39                 // String Interrupted while saving lac {} for ledger:{}
     217: iconst_3
     218: anewarray     #32                 // class java/lang/Object
     221: dup
     222: iconst_0
     223: lload         4
     225: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     228: aastore
     229: dup
     230: iconst_1
     231: lload         6
     233: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     236: aastore
     237: dup
     238: iconst_2
     239: aload         13
     241: aastore
     242: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     247: getstatic     #35                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EIO:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     250: astore        10
     252: goto          342
     255: astore        13
     257: getstatic     #16                 // Field logger:Lorg/slf4j/Logger;
     260: ldc           #41                 // String Unauthorized access to ledger:{} while adding lac:{}
     262: iconst_3
     263: anewarray     #32                 // class java/lang/Object
     266: dup
     267: iconst_0
     268: lload         6
     270: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     273: aastore
     274: dup
     275: iconst_1
     276: lload         4
     278: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     281: aastore
     282: dup
     283: iconst_2
     284: aload         13
     286: aastore
     287: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     292: getstatic     #42                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EUA:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     295: astore        10
     297: goto          342
     300: astore        13
     302: getstatic     #16                 // Field logger:Lorg/slf4j/Logger;
     305: ldc           #44                 // String Unexpected exception while writing lac {} for ledger:{}
     307: iconst_3
     308: anewarray     #32                 // class java/lang/Object
     311: dup
     312: iconst_0
     313: lload         4
     315: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     318: aastore
     319: dup
     320: iconst_1
     321: lload         6
     323: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     326: aastore
     327: dup
     328: iconst_2
     329: aload         13
     331: aastore
     332: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     337: getstatic     #45                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EBADREQ:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     340: astore        10
     342: aload         10
     344: getstatic     #29                 // Field org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.EOK:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
     347: invokevirtual #46                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode.equals:(Ljava/lang/Object;)Z
     350: ifne          389
     353: aload_0
     354: getfield      #13                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
     357: invokevirtual #47                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
     360: invokevirtual #48                 // Method org/apache/bookkeeper/proto/RequestStats.getWriteLacStats:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
     363: lload_1
     364: invokestatic  #49                 // Method org/apache/bookkeeper/util/MathUtils.elapsedNanos:(J)J
     367: getstatic     #50                 // Field java/util/concurrent/TimeUnit.NANOSECONDS:Ljava/util/concurrent/TimeUnit;
     370: invokeinterface #51,  4           // InterfaceMethod org/apache/bookkeeper/stats/OpStatsLogger.registerFailedEvent:(JLjava/util/concurrent/TimeUnit;)V
     375: aload         8
     377: aload         10
     379: invokevirtual #11                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder;
     382: pop
     383: aload         8
     385: invokevirtual #12                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse;
     388: areturn
     389: aconst_null
     390: areturn
    Exception table:
       from    to  target type
         128   156   159   Class java/io/IOException
         128   156   204   Class java/lang/InterruptedException
         128   156   255   Class org/apache/bookkeeper/bookie/BookieException
         128   156   300   Class java/lang/Throwable

  public void safeRun();
    Code:
       0: aload_0
       1: invokespecial #52                 // Method getWriteLacResponse:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse;
       4: astore_1
       5: aconst_null
       6: aload_1
       7: if_acmpeq     56
      10: invokestatic  #53                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response.newBuilder:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      13: aload_0
      14: invokevirtual #54                 // Method getHeader:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$BKPacketHeader;
      17: invokevirtual #55                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.setHeader:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$BKPacketHeader;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      20: aload_1
      21: invokevirtual #56                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse.getStatus:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      24: invokevirtual #57                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.setStatus:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      27: aload_1
      28: invokevirtual #58                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.setWriteLacResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse;)Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder;
      31: astore_2
      32: aload_2
      33: invokevirtual #59                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$Response$Builder.build:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Response;
      36: astore_3
      37: aload_0
      38: aload_1
      39: invokevirtual #56                 // Method org/apache/bookkeeper/proto/BookkeeperProtocol$WriteLacResponse.getStatus:()Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;
      42: aload_3
      43: aload_0
      44: getfield      #13                 // Field requestProcessor:Lorg/apache/bookkeeper/proto/BookieRequestProcessor;
      47: invokevirtual #47                 // Method org/apache/bookkeeper/proto/BookieRequestProcessor.getRequestStats:()Lorg/apache/bookkeeper/proto/RequestStats;
      50: invokevirtual #60                 // Method org/apache/bookkeeper/proto/RequestStats.getWriteLacRequestStats:()Lorg/apache/bookkeeper/stats/OpStatsLogger;
      53: invokevirtual #61                 // Method sendResponse:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$StatusCode;Ljava/lang/Object;Lorg/apache/bookkeeper/stats/OpStatsLogger;)V
      56: return

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #3                  // Field request:Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;
       4: invokestatic  #62                 // Method org/apache/bookkeeper/proto/RequestUtils.toSafeString:(Lorg/apache/bookkeeper/proto/BookkeeperProtocol$Request;)Ljava/lang/String;
       7: areturn

  static {};
    Code:
       0: ldc           #63                 // class org/apache/bookkeeper/proto/WriteLacProcessorV3
       2: invokestatic  #64                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #16                 // Field logger:Lorg/slf4j/Logger;
       8: return
}
