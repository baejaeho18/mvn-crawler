Compiled from "DbLedgerStorage.java"
public class org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage implements org.apache.bookkeeper.bookie.LedgerStorage {
  private static final org.slf4j.Logger log;

  public static final java.lang.String WRITE_CACHE_MAX_SIZE_MB;

  public static final java.lang.String READ_AHEAD_CACHE_MAX_SIZE_MB;

  static final java.lang.String MAX_THROTTLE_TIME_MILLIS;

  private static final int MB;

  private static final long DEFAULT_WRITE_CACHE_MAX_SIZE_MB;

  private static final long DEFAULT_READ_CACHE_MAX_SIZE_MB;

  private int numberOfDirs;

  private java.util.List<org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage> ledgerStorageList;

  private java.util.concurrent.ScheduledExecutorService gcExecutor;

  private org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorageStats stats;

  protected io.netty.buffer.ByteBufAllocator allocator;

  public org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void initialize(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.meta.LedgerManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.StateManager, org.apache.bookkeeper.bookie.CheckpointSource, org.apache.bookkeeper.bookie.Checkpointer, org.apache.bookkeeper.stats.StatsLogger, io.netty.buffer.ByteBufAllocator) throws java.io.IOException;
    Code:
       0: aload_1
       1: ldc           #3                  // String dbStorage_writeCacheMaxSizeMb
       3: getstatic     #4                  // Field DEFAULT_WRITE_CACHE_MAX_SIZE_MB:J
       6: invokestatic  #5                  // Method getLongVariableOrDefault:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Ljava/lang/String;J)J
       9: ldc2_w        #6                  // long 1048576l
      12: lmul
      13: lstore        10
      15: aload_1
      16: ldc           #8                  // String dbStorage_readAheadCacheMaxSizeMb
      18: getstatic     #9                  // Field DEFAULT_READ_CACHE_MAX_SIZE_MB:J
      21: invokestatic  #5                  // Method getLongVariableOrDefault:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Ljava/lang/String;J)J
      24: ldc2_w        #6                  // long 1048576l
      27: lmul
      28: lstore        12
      30: aload_0
      31: aload         9
      33: putfield      #10                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
      36: aload_0
      37: aload_3
      38: invokevirtual #11                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
      41: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
      46: putfield      #13                 // Field numberOfDirs:I
      49: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      52: ldc           #15                 // String Started Db Ledger Storage
      54: invokeinterface #16,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      59: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      62: ldc           #17                 // String  - Number of directories: {}
      64: aload_0
      65: getfield      #13                 // Field numberOfDirs:I
      68: invokestatic  #18                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      71: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      76: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      79: ldc           #20                 // String  - Write cache size: {} MB
      81: lload         10
      83: ldc2_w        #6                  // long 1048576l
      86: ldiv
      87: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      90: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      95: getstatic     #14                 // Field log:Lorg/slf4j/Logger;
      98: ldc           #22                 // String  - Read Cache: {} MB
     100: lload         12
     102: ldc2_w        #6                  // long 1048576l
     105: ldiv
     106: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     109: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     114: lload         12
     116: lload         10
     118: ladd
     119: invokestatic  #23                 // Method io/netty/util/internal/PlatformDependent.maxDirectMemory:()J
     122: lcmp
     123: ifle          136
     126: new           #24                 // class java/io/IOException
     129: dup
     130: ldc           #25                 // String Read and write cache sizes exceed the configured max direct memory size
     132: invokespecial #26                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     135: athrow
     136: lload         10
     138: aload_0
     139: getfield      #13                 // Field numberOfDirs:I
     142: i2l
     143: ldiv
     144: lstore        14
     146: lload         12
     148: aload_0
     149: getfield      #13                 // Field numberOfDirs:I
     152: i2l
     153: ldiv
     154: lstore        16
     156: aload_0
     157: new           #27                 // class io/netty/util/concurrent/DefaultThreadFactory
     160: dup
     161: ldc           #28                 // String GarbageCollector
     163: invokespecial #29                 // Method io/netty/util/concurrent/DefaultThreadFactory."<init>":(Ljava/lang/String;)V
     166: invokestatic  #30                 // Method java/util/concurrent/Executors.newSingleThreadScheduledExecutor:(Ljava/util/concurrent/ThreadFactory;)Ljava/util/concurrent/ScheduledExecutorService;
     169: putfield      #31                 // Field gcExecutor:Ljava/util/concurrent/ScheduledExecutorService;
     172: aload_0
     173: invokestatic  #32                 // Method com/google/common/collect/Lists.newArrayList:()Ljava/util/ArrayList;
     176: putfield      #33                 // Field ledgerStorageList:Ljava/util/List;
     179: aload_3
     180: invokevirtual #11                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
     183: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     188: astore        18
     190: aload         18
     192: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     197: ifeq          305
     200: aload         18
     202: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     207: checkcast     #37                 // class java/io/File
     210: astore        19
     212: iconst_1
     213: anewarray     #37                 // class java/io/File
     216: astore        20
     218: aload         20
     220: iconst_0
     221: aload         19
     223: invokevirtual #38                 // Method java/io/File.getParentFile:()Ljava/io/File;
     226: aastore
     227: new           #39                 // class org/apache/bookkeeper/bookie/LedgerDirsManager
     230: dup
     231: aload_1
     232: aload         20
     234: aload_3
     235: invokevirtual #40                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getDiskChecker:()Lorg/apache/bookkeeper/util/DiskChecker;
     238: aload         8
     240: invokespecial #41                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;[Ljava/io/File;Lorg/apache/bookkeeper/util/DiskChecker;Lorg/apache/bookkeeper/stats/StatsLogger;)V
     243: astore        21
     245: aload_0
     246: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
     249: aload_0
     250: aload_1
     251: aload_2
     252: aload         21
     254: aload         4
     256: aload         5
     258: aload         6
     260: aload         7
     262: aload         8
     264: aload_0
     265: getfield      #31                 // Field gcExecutor:Ljava/util/concurrent/ScheduledExecutorService;
     268: lload         14
     270: lload         16
     272: invokevirtual #42                 // Method newSingleDirectoryDbLedgerStorage:(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/meta/LedgerManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/StateManager;Lorg/apache/bookkeeper/bookie/CheckpointSource;Lorg/apache/bookkeeper/bookie/Checkpointer;Lorg/apache/bookkeeper/stats/StatsLogger;Ljava/util/concurrent/ScheduledExecutorService;JJ)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
     275: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     280: pop
     281: aload         21
     283: invokevirtual #44                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getListeners:()Ljava/util/List;
     286: aload_3
     287: dup
     288: invokevirtual #45                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     291: pop
     292: invokedynamic #46,  0             // InvokeDynamic #0:accept:(Lorg/apache/bookkeeper/bookie/LedgerDirsManager;)Ljava/util/function/Consumer;
     297: invokeinterface #47,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
     302: goto          190
     305: aload_0
     306: new           #48                 // class org/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorageStats
     309: dup
     310: aload         8
     312: aload_0
     313: invokedynamic #49,  0             // InvokeDynamic #1:get:(Lorg/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorage;)Ljava/util/function/Supplier;
     318: aload_0
     319: invokedynamic #50,  0             // InvokeDynamic #2:get:(Lorg/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorage;)Ljava/util/function/Supplier;
     324: aload_0
     325: invokedynamic #51,  0             // InvokeDynamic #3:get:(Lorg/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorage;)Ljava/util/function/Supplier;
     330: aload_0
     331: invokedynamic #52,  0             // InvokeDynamic #4:get:(Lorg/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorage;)Ljava/util/function/Supplier;
     336: invokespecial #53                 // Method org/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorageStats."<init>":(Lorg/apache/bookkeeper/stats/StatsLogger;Ljava/util/function/Supplier;Ljava/util/function/Supplier;Ljava/util/function/Supplier;Ljava/util/function/Supplier;)V
     339: putfield      #54                 // Field stats:Lorg/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorageStats;
     342: return

  protected org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage newSingleDirectoryDbLedgerStorage(org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.meta.LedgerManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.LedgerDirsManager, org.apache.bookkeeper.bookie.StateManager, org.apache.bookkeeper.bookie.CheckpointSource, org.apache.bookkeeper.bookie.Checkpointer, org.apache.bookkeeper.stats.StatsLogger, java.util.concurrent.ScheduledExecutorService, long, long) throws java.io.IOException;
    Code:
       0: new           #55                 // class org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage
       3: dup
       4: aload_1
       5: aload_2
       6: aload_3
       7: aload         4
       9: aload         5
      11: aload         6
      13: aload         7
      15: aload         8
      17: aload_0
      18: getfield      #10                 // Field allocator:Lio/netty/buffer/ByteBufAllocator;
      21: aload         9
      23: lload         10
      25: lload         12
      27: invokespecial #56                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/meta/LedgerManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/LedgerDirsManager;Lorg/apache/bookkeeper/bookie/StateManager;Lorg/apache/bookkeeper/bookie/CheckpointSource;Lorg/apache/bookkeeper/bookie/Checkpointer;Lorg/apache/bookkeeper/stats/StatsLogger;Lio/netty/buffer/ByteBufAllocator;Ljava/util/concurrent/ScheduledExecutorService;JJ)V
      30: areturn

  public void start();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokedynamic #57,  0             // InvokeDynamic #5:accept:()Ljava/util/function/Consumer;
       9: invokeinterface #47,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      14: return

  public void shutdown() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          38
      19: aload_1
      20: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #58                 // class org/apache/bookkeeper/bookie/LedgerStorage
      28: astore_2
      29: aload_2
      30: invokeinterface #59,  1           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerStorage.shutdown:()V
      35: goto          10
      38: return

  public boolean ledgerExists(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #61                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.ledgerExists:(J)Z
       9: ireturn

  public boolean setFenced(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #62                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.setFenced:(J)Z
       9: ireturn

  public boolean isFenced(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #63                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.isFenced:(J)Z
       9: ireturn

  public void setMasterKey(long, byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: aload_3
       7: invokevirtual #64                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.setMasterKey:(J[B)V
      10: return

  public byte[] readMasterKey(long) throws java.io.IOException, org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #65                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.readMasterKey:(J)[B
       9: areturn

  public long addEntry(io.netty.buffer.ByteBuf) throws java.io.IOException, org.apache.bookkeeper.bookie.BookieException;
    Code:
       0: aload_1
       1: aload_1
       2: invokevirtual #66                 // Method io/netty/buffer/ByteBuf.readerIndex:()I
       5: invokevirtual #67                 // Method io/netty/buffer/ByteBuf.getLong:(I)J
       8: lstore_2
       9: aload_0
      10: lload_2
      11: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
      14: aload_1
      15: invokevirtual #68                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.addEntry:(Lio/netty/buffer/ByteBuf;)J
      18: lreturn

  public io.netty.buffer.ByteBuf getEntry(long, long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: lload_3
       7: invokevirtual #69                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getEntry:(JJ)Lio/netty/buffer/ByteBuf;
      10: areturn

  public long getLastAddConfirmed(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #70                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getLastAddConfirmed:(J)J
       9: lreturn

  public boolean waitForLastAddConfirmedUpdate(long, long, org.apache.bookkeeper.common.util.Watcher<org.apache.bookkeeper.bookie.LastAddConfirmedUpdateNotification>) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: lload_3
       7: aload         5
       9: invokevirtual #71                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.waitForLastAddConfirmedUpdate:(JJLorg/apache/bookkeeper/common/util/Watcher;)Z
      12: ireturn

  public void cancelWaitForLastAddConfirmedUpdate(long, org.apache.bookkeeper.common.util.Watcher<org.apache.bookkeeper.bookie.LastAddConfirmedUpdateNotification>) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: aload_3
       7: invokevirtual #72                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.cancelWaitForLastAddConfirmedUpdate:(JLorg/apache/bookkeeper/common/util/Watcher;)V
      10: return

  public void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          38
      19: aload_1
      20: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #58                 // class org/apache/bookkeeper/bookie/LedgerStorage
      28: astore_2
      29: aload_2
      30: invokeinterface #73,  1           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerStorage.flush:()V
      35: goto          10
      38: return

  public void checkpoint(org.apache.bookkeeper.bookie.CheckpointSource$Checkpoint) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_2
      10: aload_2
      11: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          39
      19: aload_2
      20: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #58                 // class org/apache/bookkeeper/bookie/LedgerStorage
      28: astore_3
      29: aload_3
      30: aload_1
      31: invokeinterface #74,  2           // InterfaceMethod org/apache/bookkeeper/bookie/LedgerStorage.checkpoint:(Lorg/apache/bookkeeper/bookie/CheckpointSource$Checkpoint;)V
      36: goto          10
      39: return

  public void deleteLedger(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #75                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.deleteLedger:(J)V
       9: return

  public void registerLedgerDeletionListener(org.apache.bookkeeper.bookie.LedgerStorage$LedgerDeletionListener);
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: aload_1
       5: invokedynamic #76,  0             // InvokeDynamic #6:accept:(Lorg/apache/bookkeeper/bookie/LedgerStorage$LedgerDeletionListener;)Ljava/util/function/Consumer;
      10: invokeinterface #47,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      15: return

  public void setExplicitLac(long, io.netty.buffer.ByteBuf) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: aload_3
       7: invokevirtual #77                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.setExplicitLac:(JLio/netty/buffer/ByteBuf;)V
      10: return

  public io.netty.buffer.ByteBuf getExplicitLac(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #78                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getExplicitLac:(J)Lio/netty/buffer/ByteBuf;
       9: areturn

  public long addLedgerToIndex(long, boolean, byte[], org.apache.bookkeeper.bookie.LedgerCache$PageEntriesIterable) throws java.lang.Exception;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: iload_3
       7: aload         4
       9: aload         5
      11: invokevirtual #79                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.addLedgerToIndex:(JZ[BLorg/apache/bookkeeper/bookie/LedgerCache$PageEntriesIterable;)J
      14: lreturn

  public long getLastEntryInLedger(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: invokevirtual #80                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getEntryLocationIndex:()Lorg/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex;
       8: lload_1
       9: invokevirtual #81                 // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex.getLastEntryInLedger:(J)J
      12: lreturn

  public long getLocation(long, long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: invokevirtual #80                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getEntryLocationIndex:()Lorg/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex;
       8: lload_1
       9: lload_3
      10: invokevirtual #82                 // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex.getLocation:(JJ)J
      13: lreturn

  private org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage getLedgerSorage(long);
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: lload_1
       5: aload_0
       6: getfield      #13                 // Field numberOfDirs:I
       9: invokestatic  #83                 // Method org/apache/bookkeeper/common/util/MathUtils.signSafeMod:(JI)I
      12: invokeinterface #84,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      17: checkcast     #55                 // class org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage
      20: areturn

  public java.lang.Iterable<java.lang.Long> getActiveLedgersInRange(long, long) throws java.io.IOException;
    Code:
       0: new           #85                 // class java/util/ArrayList
       3: dup
       4: aload_0
       5: getfield      #13                 // Field numberOfDirs:I
       8: invokespecial #86                 // Method java/util/ArrayList."<init>":(I)V
      11: astore        5
      13: aload_0
      14: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
      17: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      22: astore        6
      24: aload         6
      26: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      31: ifeq          64
      34: aload         6
      36: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      41: checkcast     #55                 // class org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage
      44: astore        7
      46: aload         5
      48: aload         7
      50: lload_1
      51: lload_3
      52: invokevirtual #87                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getActiveLedgersInRange:(JJ)Ljava/lang/Iterable;
      55: invokeinterface #43,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      60: pop
      61: goto          24
      64: aload         5
      66: invokestatic  #88                 // Method com/google/common/collect/Iterables.concat:(Ljava/lang/Iterable;)Ljava/lang/Iterable;
      69: areturn

  public io.netty.buffer.ByteBuf getLastEntry(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: invokespecial #60                 // Method getLedgerSorage:(J)Lorg/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage;
       5: lload_1
       6: invokevirtual #89                 // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getLastEntry:(J)Lio/netty/buffer/ByteBuf;
       9: areturn

  boolean isFlushRequired();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #91,  0             // InvokeDynamic #7:test:()Ljava/util/function/Predicate;
      14: invokeinterface #92,  2           // InterfaceMethod java/util/stream/Stream.allMatch:(Ljava/util/function/Predicate;)Z
      19: ireturn

  java.util.List<org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage> getLedgerStorageList();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: areturn

  public static void readLedgerIndexEntries(long, org.apache.bookkeeper.conf.ServerConfiguration, org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage$LedgerLoggerProcessor) throws java.io.IOException;
    Code:
       0: aload_2
       1: ldc           #93                 // String ServerConfiguration can\'t be null
       3: invokestatic  #94                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_3
       8: ldc           #95                 // String LedgerLoggger info processor can\'t null
      10: invokestatic  #94                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      13: pop
      14: new           #39                 // class org/apache/bookkeeper/bookie/LedgerDirsManager
      17: dup
      18: aload_2
      19: aload_2
      20: invokevirtual #96                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getLedgerDirs:()[Ljava/io/File;
      23: new           #97                 // class org/apache/bookkeeper/util/DiskChecker
      26: dup
      27: aload_2
      28: invokevirtual #98                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getDiskUsageThreshold:()F
      31: aload_2
      32: invokevirtual #99                 // Method org/apache/bookkeeper/conf/ServerConfiguration.getDiskUsageWarnThreshold:()F
      35: invokespecial #100                // Method org/apache/bookkeeper/util/DiskChecker."<init>":(FF)V
      38: invokespecial #101                // Method org/apache/bookkeeper/bookie/LedgerDirsManager."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;[Ljava/io/File;Lorg/apache/bookkeeper/util/DiskChecker;)V
      41: astore        4
      43: aload         4
      45: invokevirtual #11                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
      48: astore        5
      50: lload_0
      51: aload         5
      53: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
      58: invokestatic  #83                 // Method org/apache/bookkeeper/common/util/MathUtils.signSafeMod:(JI)I
      61: istore        6
      63: aload         5
      65: iload         6
      67: invokeinterface #84,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      72: checkcast     #37                 // class java/io/File
      75: invokevirtual #102                // Method java/io/File.toString:()Ljava/lang/String;
      78: astore        7
      80: new           #103                // class org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex
      83: dup
      84: aload_2
      85: invokedynamic #104,  0            // InvokeDynamic #8:newKeyValueStorage:()Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory;
      90: aload         7
      92: getstatic     #105                // Field org/apache/bookkeeper/stats/NullStatsLogger.INSTANCE:Lorg/apache/bookkeeper/stats/NullStatsLogger;
      95: invokespecial #106                // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex."<init>":(Lorg/apache/bookkeeper/conf/ServerConfiguration;Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory;Ljava/lang/String;Lorg/apache/bookkeeper/stats/StatsLogger;)V
      98: astore        8
     100: aload         8
     102: lload_0
     103: invokevirtual #81                 // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex.getLastEntryInLedger:(J)J
     106: lstore        9
     108: lconst_0
     109: lstore        11
     111: lload         11
     113: lload         9
     115: lcmp
     116: ifgt          175
     119: aload         8
     121: lload_0
     122: lload         11
     124: invokevirtual #82                 // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex.getLocation:(JJ)J
     127: lstore        13
     129: lload         13
     131: lconst_0
     132: lcmp
     133: ifgt          139
     136: goto          166
     139: lload         13
     141: bipush        32
     143: lshr
     144: lstore        15
     146: lload         13
     148: ldc2_w        #107                // long 4294967295l
     151: land
     152: lstore        17
     154: aload_3
     155: lload         11
     157: lload         15
     159: lload         17
     161: invokeinterface #109,  7          // InterfaceMethod org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage$LedgerLoggerProcessor.process:(JJJ)V
     166: lload         11
     168: lconst_1
     169: ladd
     170: lstore        11
     172: goto          111
     175: aload         8
     177: invokevirtual #110                // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex.close:()V
     180: goto          193
     183: astore        19
     185: aload         8
     187: invokevirtual #110                // Method org/apache/bookkeeper/bookie/storage/ldb/EntryLocationIndex.close:()V
     190: aload         19
     192: athrow
     193: return
    Exception table:
       from    to  target type
         100   175   183   any
         183   185   183   any

  public void forceGC();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #111,  0            // InvokeDynamic #9:accept:()Ljava/util/function/Consumer;
      14: invokeinterface #112,  2          // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
      19: return

  public boolean isInForceGC();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #113,  0            // InvokeDynamic #10:test:()Ljava/util/function/Predicate;
      14: invokeinterface #114,  2          // InterfaceMethod java/util/stream/Stream.anyMatch:(Ljava/util/function/Predicate;)Z
      19: ireturn

  public java.util.List<org.apache.bookkeeper.bookie.GarbageCollectionStatus> getGarbageCollectionStatus();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #115,  0            // InvokeDynamic #11:apply:()Ljava/util/function/Function;
      14: invokeinterface #116,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      19: invokestatic  #117                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      22: invokeinterface #118,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      27: checkcast     #119                // class java/util/List
      30: areturn

  static long getLongVariableOrDefault(org.apache.bookkeeper.conf.ServerConfiguration, java.lang.String, long);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #120                // Method org/apache/bookkeeper/conf/ServerConfiguration.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
       5: astore        4
       7: aload         4
       9: instanceof    #121                // class java/lang/Number
      12: ifeq          24
      15: aload         4
      17: checkcast     #121                // class java/lang/Number
      20: invokevirtual #122                // Method java/lang/Number.longValue:()J
      23: lreturn
      24: aload         4
      26: ifnonnull     31
      29: lload_2
      30: lreturn
      31: aload_0
      32: aload_1
      33: invokevirtual #123                // Method org/apache/bookkeeper/conf/ServerConfiguration.getString:(Ljava/lang/String;)Ljava/lang/String;
      36: invokestatic  #124                // Method org/apache/commons/lang3/StringUtils.isEmpty:(Ljava/lang/CharSequence;)Z
      39: ifeq          44
      42: lload_2
      43: lreturn
      44: aload_0
      45: aload_1
      46: invokevirtual #125                // Method org/apache/bookkeeper/conf/ServerConfiguration.getLong:(Ljava/lang/String;)J
      49: lreturn

  public java.util.PrimitiveIterator$OfLong getListOfEntriesOfLedger(long) throws java.io.IOException;
    Code:
       0: new           #126                // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #127                // String getListOfEntriesOfLedger method is currently unsupported for DbLedgerStorage
       6: invokespecial #128                // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  private static org.apache.bookkeeper.bookie.GarbageCollectionStatus lambda$getGarbageCollectionStatus$6(org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage);
    Code:
       0: aload_0
       1: invokevirtual #129                // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.getGarbageCollectionStatus:()Ljava/util/List;
       4: iconst_0
       5: invokeinterface #84,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      10: checkcast     #130                // class org/apache/bookkeeper/bookie/GarbageCollectionStatus
      13: areturn

  private static org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorage lambda$readLedgerIndexEntries$5(java.lang.String, java.lang.String, org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorageFactory$DbConfigType, org.apache.bookkeeper.conf.ServerConfiguration) throws java.io.IOException;
    Code:
       0: new           #131                // class org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageRocksDB
       3: dup
       4: aload_0
       5: aload_1
       6: getstatic     #132                // Field org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory$DbConfigType.Small:Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory$DbConfigType;
       9: aload_3
      10: iconst_1
      11: invokespecial #133                // Method org/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageRocksDB."<init>":(Ljava/lang/String;Ljava/lang/String;Lorg/apache/bookkeeper/bookie/storage/ldb/KeyValueStorageFactory$DbConfigType;Lorg/apache/bookkeeper/conf/ServerConfiguration;Z)V
      14: areturn

  private static void lambda$registerLedgerDeletionListener$4(org.apache.bookkeeper.bookie.LedgerStorage$LedgerDeletionListener, org.apache.bookkeeper.bookie.storage.ldb.SingleDirectoryDbLedgerStorage);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #134                // Method org/apache/bookkeeper/bookie/storage/ldb/SingleDirectoryDbLedgerStorage.registerLedgerDeletionListener:(Lorg/apache/bookkeeper/bookie/LedgerStorage$LedgerDeletionListener;)V
       5: return

  private java.lang.Long lambda$initialize$3();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #135,  0            // InvokeDynamic #12:applyAsLong:()Ljava/util/function/ToLongFunction;
      14: invokeinterface #136,  2          // InterfaceMethod java/util/stream/Stream.mapToLong:(Ljava/util/function/ToLongFunction;)Ljava/util/stream/LongStream;
      19: invokeinterface #137,  1          // InterfaceMethod java/util/stream/LongStream.sum:()J
      24: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      27: areturn

  private java.lang.Long lambda$initialize$2();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #138,  0            // InvokeDynamic #13:applyAsLong:()Ljava/util/function/ToLongFunction;
      14: invokeinterface #136,  2          // InterfaceMethod java/util/stream/Stream.mapToLong:(Ljava/util/function/ToLongFunction;)Ljava/util/stream/LongStream;
      19: invokeinterface #137,  1          // InterfaceMethod java/util/stream/LongStream.sum:()J
      24: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      27: areturn

  private java.lang.Long lambda$initialize$1();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #139,  0            // InvokeDynamic #14:applyAsLong:()Ljava/util/function/ToLongFunction;
      14: invokeinterface #136,  2          // InterfaceMethod java/util/stream/Stream.mapToLong:(Ljava/util/function/ToLongFunction;)Ljava/util/stream/LongStream;
      19: invokeinterface #137,  1          // InterfaceMethod java/util/stream/LongStream.sum:()J
      24: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      27: areturn

  private java.lang.Long lambda$initialize$0();
    Code:
       0: aload_0
       1: getfield      #33                 // Field ledgerStorageList:Ljava/util/List;
       4: invokeinterface #90,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       9: invokedynamic #140,  0            // InvokeDynamic #15:applyAsLong:()Ljava/util/function/ToLongFunction;
      14: invokeinterface #136,  2          // InterfaceMethod java/util/stream/Stream.mapToLong:(Ljava/util/function/ToLongFunction;)Ljava/util/stream/LongStream;
      19: invokeinterface #137,  1          // InterfaceMethod java/util/stream/LongStream.sum:()J
      24: invokestatic  #21                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      27: areturn

  static {};
    Code:
       0: ldc           #2                  // class org/apache/bookkeeper/bookie/storage/ldb/DbLedgerStorage
       2: invokestatic  #141                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #14                 // Field log:Lorg/slf4j/Logger;
       8: ldc2_w        #142                // double 0.25d
      11: invokestatic  #23                 // Method io/netty/util/internal/PlatformDependent.maxDirectMemory:()J
      14: l2d
      15: dmul
      16: d2l
      17: ldc2_w        #6                  // long 1048576l
      20: ldiv
      21: putstatic     #4                  // Field DEFAULT_WRITE_CACHE_MAX_SIZE_MB:J
      24: ldc2_w        #142                // double 0.25d
      27: invokestatic  #23                 // Method io/netty/util/internal/PlatformDependent.maxDirectMemory:()J
      30: l2d
      31: dmul
      32: d2l
      33: ldc2_w        #6                  // long 1048576l
      36: ldiv
      37: putstatic     #9                  // Field DEFAULT_READ_CACHE_MAX_SIZE_MB:J
      40: return
}
