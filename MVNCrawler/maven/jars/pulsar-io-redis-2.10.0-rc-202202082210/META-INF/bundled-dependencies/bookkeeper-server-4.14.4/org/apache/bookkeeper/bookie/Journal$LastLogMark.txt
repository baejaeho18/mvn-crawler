Compiled from "Journal.java"
public class org.apache.bookkeeper.bookie.Journal$LastLogMark {
  private final org.apache.bookkeeper.bookie.LogMark curMark;

  final org.apache.bookkeeper.bookie.Journal this$0;

  org.apache.bookkeeper.bookie.Journal$LastLogMark(org.apache.bookkeeper.bookie.Journal, long, long);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/bookkeeper/bookie/Journal;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: new           #3                  // class org/apache/bookkeeper/bookie/LogMark
      13: dup
      14: lload_2
      15: lload         4
      17: invokespecial #4                  // Method org/apache/bookkeeper/bookie/LogMark."<init>":(JJ)V
      20: putfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
      23: return

  void setCurLogMark(long, long);
    Code:
       0: aload_0
       1: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
       4: lload_1
       5: lload_3
       6: invokevirtual #6                  // Method org/apache/bookkeeper/bookie/LogMark.setLogMark:(JJ)V
       9: return

  org.apache.bookkeeper.bookie.Journal$LastLogMark markLog();
    Code:
       0: new           #7                  // class org/apache/bookkeeper/bookie/Journal$LastLogMark
       3: dup
       4: aload_0
       5: getfield      #1                  // Field this$0:Lorg/apache/bookkeeper/bookie/Journal;
       8: aload_0
       9: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
      12: invokevirtual #8                  // Method org/apache/bookkeeper/bookie/LogMark.getLogFileId:()J
      15: aload_0
      16: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
      19: invokevirtual #9                  // Method org/apache/bookkeeper/bookie/LogMark.getLogFileOffset:()J
      22: invokespecial #10                 // Method "<init>":(Lorg/apache/bookkeeper/bookie/Journal;JJ)V
      25: areturn

  public org.apache.bookkeeper.bookie.LogMark getCurMark();
    Code:
       0: aload_0
       1: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
       4: areturn

  void rollLog(org.apache.bookkeeper.bookie.Journal$LastLogMark) throws org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException;
    Code:
       0: bipush        16
       2: newarray       byte
       4: astore_2
       5: aload_2
       6: invokestatic  #11                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
       9: astore_3
      10: aload_1
      11: invokevirtual #12                 // Method getCurMark:()Lorg/apache/bookkeeper/bookie/LogMark;
      14: aload_3
      15: invokevirtual #13                 // Method org/apache/bookkeeper/bookie/LogMark.writeLogMark:(Ljava/nio/ByteBuffer;)V
      18: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
      21: invokeinterface #15,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      26: ifeq          43
      29: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
      32: ldc           #16                 // String RollLog to persist last marked log : {}
      34: aload_1
      35: invokevirtual #12                 // Method getCurMark:()Lorg/apache/bookkeeper/bookie/LogMark;
      38: invokeinterface #17,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      43: aload_0
      44: getfield      #1                  // Field this$0:Lorg/apache/bookkeeper/bookie/Journal;
      47: invokestatic  #18                 // Method org/apache/bookkeeper/bookie/Journal.access$100:(Lorg/apache/bookkeeper/bookie/Journal;)Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
      50: invokevirtual #19                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getWritableLedgerDirsForNewLog:()Ljava/util/List;
      53: astore        4
      55: aload         4
      57: invokeinterface #20,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      62: astore        5
      64: aload         5
      66: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      71: ifeq          211
      74: aload         5
      76: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      81: checkcast     #23                 // class java/io/File
      84: astore        6
      86: new           #23                 // class java/io/File
      89: dup
      90: aload         6
      92: aload_0
      93: getfield      #1                  // Field this$0:Lorg/apache/bookkeeper/bookie/Journal;
      96: invokestatic  #24                 // Method org/apache/bookkeeper/bookie/Journal.access$200:(Lorg/apache/bookkeeper/bookie/Journal;)Ljava/lang/String;
      99: invokespecial #25                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     102: astore        7
     104: aconst_null
     105: astore        8
     107: new           #26                 // class java/io/FileOutputStream
     110: dup
     111: aload         7
     113: invokespecial #27                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
     116: astore        8
     118: aload         8
     120: aload_2
     121: invokevirtual #28                 // Method java/io/FileOutputStream.write:([B)V
     124: aload         8
     126: invokevirtual #29                 // Method java/io/FileOutputStream.getChannel:()Ljava/nio/channels/FileChannel;
     129: iconst_1
     130: invokevirtual #30                 // Method java/nio/channels/FileChannel.force:(Z)V
     133: aload         8
     135: invokevirtual #31                 // Method java/io/FileOutputStream.close:()V
     138: aconst_null
     139: astore        8
     141: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
     144: aload         8
     146: invokestatic  #32                 // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     149: goto          208
     152: astore        9
     154: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
     157: new           #34                 // class java/lang/StringBuilder
     160: dup
     161: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     164: ldc           #36                 // String Problems writing to
     166: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     169: aload         7
     171: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     174: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     177: aload         9
     179: invokeinterface #40,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     184: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
     187: aload         8
     189: invokestatic  #32                 // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     192: goto          208
     195: astore        10
     197: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
     200: aload         8
     202: invokestatic  #32                 // Method org/apache/bookkeeper/util/IOUtils.close:(Lorg/slf4j/Logger;Ljava/io/Closeable;)V
     205: aload         10
     207: athrow
     208: goto          64
     211: return
    Exception table:
       from    to  target type
         107   141   152   Class java/io/IOException
         107   141   195   any
         152   184   195   any
         195   197   195   any

  void readLog();
    Code:
       0: bipush        16
       2: newarray       byte
       4: astore_1
       5: aload_1
       6: invokestatic  #11                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
       9: astore_2
      10: new           #3                  // class org/apache/bookkeeper/bookie/LogMark
      13: dup
      14: invokespecial #41                 // Method org/apache/bookkeeper/bookie/LogMark."<init>":()V
      17: astore_3
      18: aload_0
      19: getfield      #1                  // Field this$0:Lorg/apache/bookkeeper/bookie/Journal;
      22: invokestatic  #18                 // Method org/apache/bookkeeper/bookie/Journal.access$100:(Lorg/apache/bookkeeper/bookie/Journal;)Lorg/apache/bookkeeper/bookie/LedgerDirsManager;
      25: invokevirtual #42                 // Method org/apache/bookkeeper/bookie/LedgerDirsManager.getAllLedgerDirs:()Ljava/util/List;
      28: invokeinterface #20,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      33: astore        4
      35: aload         4
      37: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      42: ifeq          296
      45: aload         4
      47: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      52: checkcast     #23                 // class java/io/File
      55: astore        5
      57: new           #23                 // class java/io/File
      60: dup
      61: aload         5
      63: aload_0
      64: getfield      #1                  // Field this$0:Lorg/apache/bookkeeper/bookie/Journal;
      67: invokestatic  #24                 // Method org/apache/bookkeeper/bookie/Journal.access$200:(Lorg/apache/bookkeeper/bookie/Journal;)Ljava/lang/String;
      70: invokespecial #25                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      73: astore        6
      75: new           #43                 // class java/io/FileInputStream
      78: dup
      79: aload         6
      81: invokespecial #44                 // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      84: astore        7
      86: aconst_null
      87: astore        8
      89: aload         7
      91: aload_1
      92: invokevirtual #45                 // Method java/io/FileInputStream.read:([B)I
      95: istore        9
      97: iload         9
      99: bipush        16
     101: if_icmpeq     132
     104: new           #33                 // class java/io/IOException
     107: dup
     108: new           #34                 // class java/lang/StringBuilder
     111: dup
     112: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     115: ldc           #46                 // String Couldn\'t read enough bytes from lastMark. Wanted 16, got
     117: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: iload         9
     122: invokevirtual #47                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     125: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     128: invokespecial #48                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     131: athrow
     132: aload         7
     134: ifnull        219
     137: aload         8
     139: ifnull        162
     142: aload         7
     144: invokevirtual #49                 // Method java/io/FileInputStream.close:()V
     147: goto          219
     150: astore        9
     152: aload         8
     154: aload         9
     156: invokevirtual #51                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     159: goto          219
     162: aload         7
     164: invokevirtual #49                 // Method java/io/FileInputStream.close:()V
     167: goto          219
     170: astore        9
     172: aload         9
     174: astore        8
     176: aload         9
     178: athrow
     179: astore        10
     181: aload         7
     183: ifnull        216
     186: aload         8
     188: ifnull        211
     191: aload         7
     193: invokevirtual #49                 // Method java/io/FileInputStream.close:()V
     196: goto          216
     199: astore        11
     201: aload         8
     203: aload         11
     205: invokevirtual #51                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     208: goto          216
     211: aload         7
     213: invokevirtual #49                 // Method java/io/FileInputStream.close:()V
     216: aload         10
     218: athrow
     219: aload_2
     220: invokevirtual #52                 // Method java/nio/ByteBuffer.clear:()Ljava/nio/Buffer;
     223: pop
     224: aload_3
     225: aload_2
     226: invokevirtual #53                 // Method org/apache/bookkeeper/bookie/LogMark.readLogMark:(Ljava/nio/ByteBuffer;)V
     229: aload_0
     230: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
     233: aload_3
     234: invokevirtual #54                 // Method org/apache/bookkeeper/bookie/LogMark.compare:(Lorg/apache/bookkeeper/bookie/LogMark;)I
     237: ifge          255
     240: aload_0
     241: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
     244: aload_3
     245: invokevirtual #8                  // Method org/apache/bookkeeper/bookie/LogMark.getLogFileId:()J
     248: aload_3
     249: invokevirtual #9                  // Method org/apache/bookkeeper/bookie/LogMark.getLogFileOffset:()J
     252: invokevirtual #6                  // Method org/apache/bookkeeper/bookie/LogMark.setLogMark:(JJ)V
     255: goto          293
     258: astore        7
     260: invokestatic  #14                 // Method org/apache/bookkeeper/bookie/Journal.access$000:()Lorg/slf4j/Logger;
     263: new           #34                 // class java/lang/StringBuilder
     266: dup
     267: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     270: ldc           #55                 // String Problems reading from
     272: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     275: aload         6
     277: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     280: ldc           #56                 // String  (this is okay if it is the first time starting this bookie
     282: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     285: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     288: invokeinterface #57,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     293: goto          35
     296: return
    Exception table:
       from    to  target type
         142   147   150   Class java/lang/Throwable
          89   132   170   Class java/lang/Throwable
          89   132   179   any
         191   196   199   Class java/lang/Throwable
         170   181   179   any
          75   255   258   Class java/io/IOException

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #5                  // Field curMark:Lorg/apache/bookkeeper/bookie/LogMark;
       4: invokevirtual #58                 // Method org/apache/bookkeeper/bookie/LogMark.toString:()Ljava/lang/String;
       7: areturn
}
