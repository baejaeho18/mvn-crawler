Compiled from "Cache.java"
public class org.glassfish.hk2.utilities.cache.Cache<K, V> implements org.glassfish.hk2.utilities.cache.Computable<K, V> {
  private final org.glassfish.hk2.utilities.cache.Cache$CycleHandler<K> cycleHandler;

  private static final org.glassfish.hk2.utilities.cache.Cache$CycleHandler<java.lang.Object> EMPTY_HANDLER;

  private final java.util.concurrent.ConcurrentHashMap<K, org.glassfish.hk2.utilities.cache.Cache<K, V>.OriginThreadAwareFuture> cache;

  private final org.glassfish.hk2.utilities.cache.Computable<K, V> computable;

  public org.glassfish.hk2.utilities.cache.Cache(org.glassfish.hk2.utilities.cache.Computable<K, V>);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #2                  // Field EMPTY_HANDLER:Lorg/glassfish/hk2/utilities/cache/Cache$CycleHandler;
       5: invokespecial #3                  // Method "<init>":(Lorg/glassfish/hk2/utilities/cache/Computable;Lorg/glassfish/hk2/utilities/cache/Cache$CycleHandler;)V
       8: return

  public org.glassfish.hk2.utilities.cache.Cache(org.glassfish.hk2.utilities.cache.Computable<K, V>, org.glassfish.hk2.utilities.cache.Cache$CycleHandler<K>);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #5                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #6                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
      15: aload_0
      16: aload_1
      17: putfield      #1                  // Field computable:Lorg/glassfish/hk2/utilities/cache/Computable;
      20: aload_0
      21: aload_2
      22: putfield      #8                  // Field cycleHandler:Lorg/glassfish/hk2/utilities/cache/Cache$CycleHandler;
      25: return

  public V compute(K);
    Code:
       0: aload_0
       1: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
       4: aload_1
       5: invokevirtual #9                  // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #10                 // class org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture
      11: astore_2
      12: aload_2
      13: ifnonnull     53
      16: new           #10                 // class org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture
      19: dup
      20: aload_0
      21: aload_0
      22: aload_1
      23: invokespecial #11                 // Method org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture."<init>":(Lorg/glassfish/hk2/utilities/cache/Cache;Lorg/glassfish/hk2/utilities/cache/Cache;Ljava/lang/Object;)V
      26: astore_3
      27: aload_0
      28: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
      31: aload_1
      32: aload_3
      33: invokevirtual #12                 // Method java/util/concurrent/ConcurrentHashMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      36: checkcast     #10                 // class org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture
      39: astore_2
      40: aload_2
      41: ifnonnull     50
      44: aload_3
      45: astore_2
      46: aload_3
      47: invokevirtual #13                 // Method org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture.run:()V
      50: goto          90
      53: aload_2
      54: invokestatic  #14                 // Method org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture.access$100:(Lorg/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture;)J
      57: lstore_3
      58: lload_3
      59: ldc2_w        #15                 // long -1l
      62: lcmp
      63: ifeq          90
      66: invokestatic  #17                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      69: invokevirtual #18                 // Method java/lang/Thread.getId:()J
      72: aload_2
      73: invokestatic  #14                 // Method org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture.access$100:(Lorg/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture;)J
      76: lcmp
      77: ifne          90
      80: aload_0
      81: getfield      #8                  // Field cycleHandler:Lorg/glassfish/hk2/utilities/cache/Cache$CycleHandler;
      84: aload_1
      85: invokeinterface #19,  2           // InterfaceMethod org/glassfish/hk2/utilities/cache/Cache$CycleHandler.handleCycle:(Ljava/lang/Object;)V
      90: aload_2
      91: invokevirtual #20                 // Method org/glassfish/hk2/utilities/cache/Cache$OriginThreadAwareFuture.get:()Ljava/lang/Object;
      94: areturn
      95: astore_3
      96: new           #22                 // class java/lang/RuntimeException
      99: dup
     100: aload_3
     101: invokespecial #23                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     104: athrow
     105: astore_3
     106: aload_0
     107: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
     110: aload_1
     111: invokevirtual #25                 // Method java/util/concurrent/ConcurrentHashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     114: pop
     115: aload_3
     116: invokevirtual #26                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
     119: astore        4
     121: aload         4
     123: ifnonnull     135
     126: new           #22                 // class java/lang/RuntimeException
     129: dup
     130: aload_3
     131: invokespecial #23                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     134: athrow
     135: aload         4
     137: instanceof    #22                 // class java/lang/RuntimeException
     140: ifeq          149
     143: aload         4
     145: checkcast     #22                 // class java/lang/RuntimeException
     148: athrow
     149: new           #22                 // class java/lang/RuntimeException
     152: dup
     153: aload         4
     155: invokespecial #23                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     158: athrow
    Exception table:
       from    to  target type
          90    94    95   Class java/lang/InterruptedException
          90    94   105   Class java/util/concurrent/ExecutionException

  public void clear();
    Code:
       0: aload_0
       1: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
       4: invokevirtual #27                 // Method java/util/concurrent/ConcurrentHashMap.clear:()V
       7: return

  public boolean containsKey(K);
    Code:
       0: aload_0
       1: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
       4: aload_1
       5: invokevirtual #28                 // Method java/util/concurrent/ConcurrentHashMap.containsKey:(Ljava/lang/Object;)Z
       8: ireturn

  public void remove(K);
    Code:
       0: aload_0
       1: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
       4: aload_1
       5: invokevirtual #25                 // Method java/util/concurrent/ConcurrentHashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
       8: pop
       9: return

  public int size();
    Code:
       0: aload_0
       1: getfield      #7                  // Field cache:Ljava/util/concurrent/ConcurrentHashMap;
       4: invokevirtual #29                 // Method java/util/concurrent/ConcurrentHashMap.size:()I
       7: ireturn

  static org.glassfish.hk2.utilities.cache.Computable access$000(org.glassfish.hk2.utilities.cache.Cache);
    Code:
       0: aload_0
       1: getfield      #1                  // Field computable:Lorg/glassfish/hk2/utilities/cache/Computable;
       4: areturn

  static {};
    Code:
       0: new           #30                 // class org/glassfish/hk2/utilities/cache/Cache$1
       3: dup
       4: invokespecial #31                 // Method org/glassfish/hk2/utilities/cache/Cache$1."<init>":()V
       7: putstatic     #2                  // Field EMPTY_HANDLER:Lorg/glassfish/hk2/utilities/cache/Cache$CycleHandler;
      10: return
}
