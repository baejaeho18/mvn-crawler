Compiled from "SniX509ExtendedKeyManager.java"
public class org.eclipse.jetty.util.ssl.SniX509ExtendedKeyManager extends javax.net.ssl.X509ExtendedKeyManager {
  public static final java.lang.String SNI_X509;

  private static final org.eclipse.jetty.util.log.Logger LOG;

  private final javax.net.ssl.X509ExtendedKeyManager _delegate;

  private final org.eclipse.jetty.util.ssl.SslContextFactory$Server _sslContextFactory;

  private java.util.function.UnaryOperator<java.lang.String> _aliasMapper;

  public org.eclipse.jetty.util.ssl.SniX509ExtendedKeyManager(javax.net.ssl.X509ExtendedKeyManager);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokespecial #1                  // Method "<init>":(Ljavax/net/ssl/X509ExtendedKeyManager;Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;)V
       6: return

  public org.eclipse.jetty.util.ssl.SniX509ExtendedKeyManager(javax.net.ssl.X509ExtendedKeyManager, org.eclipse.jetty.util.ssl.SslContextFactory$Server);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method javax/net/ssl/X509ExtendedKeyManager."<init>":()V
       4: aload_0
       5: invokestatic  #3                  // InterfaceMethod java/util/function/UnaryOperator.identity:()Ljava/util/function/UnaryOperator;
       8: putfield      #4                  // Field _aliasMapper:Ljava/util/function/UnaryOperator;
      11: aload_0
      12: aload_1
      13: putfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
      16: aload_0
      17: aload_2
      18: ldc           #6                  // String SslContextFactory.Server must be provided
      20: invokestatic  #7                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      23: checkcast     #8                  // class org/eclipse/jetty/util/ssl/SslContextFactory$Server
      26: putfield      #9                  // Field _sslContextFactory:Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;
      29: return

  public java.util.function.UnaryOperator<java.lang.String> getAliasMapper();
    Code:
       0: aload_0
       1: getfield      #4                  // Field _aliasMapper:Ljava/util/function/UnaryOperator;
       4: areturn

  public void setAliasMapper(java.util.function.UnaryOperator<java.lang.String>);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #10                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
       5: checkcast     #11                 // class java/util/function/UnaryOperator
       8: putfield      #4                  // Field _aliasMapper:Ljava/util/function/UnaryOperator;
      11: return

  public java.lang.String chooseClientAlias(java.lang.String[], java.security.Principal[], java.net.Socket);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #12                 // Method javax/net/ssl/X509ExtendedKeyManager.chooseClientAlias:([Ljava/lang/String;[Ljava/security/Principal;Ljava/net/Socket;)Ljava/lang/String;
      10: areturn

  public java.lang.String chooseEngineClientAlias(java.lang.String[], java.security.Principal[], javax.net.ssl.SSLEngine);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: aload_2
       6: aload_3
       7: invokevirtual #13                 // Method javax/net/ssl/X509ExtendedKeyManager.chooseEngineClientAlias:([Ljava/lang/String;[Ljava/security/Principal;Ljavax/net/ssl/SSLEngine;)Ljava/lang/String;
      10: areturn

  protected java.lang.String chooseServerAlias(java.lang.String, java.security.Principal[], java.util.Collection<javax.net.ssl.SNIMatcher>, javax.net.ssl.SSLSession);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: aload_2
       6: invokevirtual #14                 // Method javax/net/ssl/X509ExtendedKeyManager.getServerAliases:(Ljava/lang/String;[Ljava/security/Principal;)[Ljava/lang/String;
       9: astore        5
      11: aload         5
      13: ifnull        22
      16: aload         5
      18: arraylength
      19: ifne          24
      22: aconst_null
      23: areturn
      24: new           #15                 // class java/util/LinkedHashMap
      27: dup
      28: invokespecial #16                 // Method java/util/LinkedHashMap."<init>":()V
      31: astore        6
      33: aload         5
      35: invokestatic  #17                 // Method java/util/Arrays.stream:([Ljava/lang/Object;)Ljava/util/stream/Stream;
      38: aload_0
      39: aload         6
      41: invokedynamic #18,  0             // InvokeDynamic #0:accept:(Lorg/eclipse/jetty/util/ssl/SniX509ExtendedKeyManager;Ljava/util/Map;)Ljava/util/function/Consumer;
      46: invokeinterface #19,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
      51: aload_3
      52: ifnonnull     59
      55: aconst_null
      56: goto          119
      59: aload_3
      60: invokeinterface #20,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
      65: ldc           #21                 // class org/eclipse/jetty/util/ssl/SslContextFactory$AliasSNIMatcher
      67: dup
      68: invokestatic  #10                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      71: pop
      72: invokedynamic #22,  0             // InvokeDynamic #1:test:(Ljava/lang/Class;)Ljava/util/function/Predicate;
      77: invokeinterface #23,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      82: ldc           #21                 // class org/eclipse/jetty/util/ssl/SslContextFactory$AliasSNIMatcher
      84: dup
      85: invokestatic  #10                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      88: pop
      89: invokedynamic #24,  0             // InvokeDynamic #2:apply:(Ljava/lang/Class;)Ljava/util/function/Function;
      94: invokeinterface #25,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      99: invokeinterface #26,  1           // InterfaceMethod java/util/stream/Stream.findFirst:()Ljava/util/Optional;
     104: invokedynamic #27,  0             // InvokeDynamic #3:apply:()Ljava/util/function/Function;
     109: invokevirtual #28                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
     112: aconst_null
     113: invokevirtual #29                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
     116: checkcast     #30                 // class java/lang/String
     119: astore        7
     121: aload         6
     123: invokeinterface #31,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     128: invokeinterface #32,  1           // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
     133: aload_0
     134: getfield      #9                  // Field _sslContextFactory:Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;
     137: dup
     138: invokestatic  #10                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
     141: pop
     142: invokedynamic #33,  0             // InvokeDynamic #4:apply:(Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;)Ljava/util/function/Function;
     147: invokeinterface #25,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     152: invokedynamic #34,  0             // InvokeDynamic #5:test:()Ljava/util/function/Predicate;
     157: invokeinterface #23,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
     162: invokestatic  #35                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
     165: invokeinterface #36,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     170: checkcast     #37                 // class java/util/Collection
     173: astore        8
     175: aload_0
     176: getfield      #9                  // Field _sslContextFactory:Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;
     179: invokevirtual #38                 // Method org/eclipse/jetty/util/ssl/SslContextFactory$Server.getSNISelector:()Lorg/eclipse/jetty/util/ssl/SniX509ExtendedKeyManager$SniSelector;
     182: astore        9
     184: aload         9
     186: ifnonnull     195
     189: aload_0
     190: getfield      #9                  // Field _sslContextFactory:Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;
     193: astore        9
     195: aload         9
     197: aload_1
     198: aload_2
     199: aload         4
     201: aload         7
     203: aload         8
     205: invokeinterface #39,  6           // InterfaceMethod org/eclipse/jetty/util/ssl/SniX509ExtendedKeyManager$SniSelector.sniSelect:(Ljava/lang/String;[Ljava/security/Principal;Ljavax/net/ssl/SSLSession;Ljava/lang/String;Ljava/util/Collection;)Ljava/lang/String;
     210: astore        10
     212: aload         10
     214: ifnull        224
     217: aload         10
     219: ldc           #41                 // String delegate_no_sni_match
     221: if_acmpne     227
     224: aload         10
     226: areturn
     227: aload_0
     228: getfield      #9                  // Field _sslContextFactory:Lorg/eclipse/jetty/util/ssl/SslContextFactory$Server;
     231: aload         10
     233: invokevirtual #42                 // Method org/eclipse/jetty/util/ssl/SslContextFactory$Server.getX509:(Ljava/lang/String;)Lorg/eclipse/jetty/util/ssl/X509;
     236: astore        11
     238: aload         6
     240: aload         10
     242: invokeinterface #43,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     247: ifeq          255
     250: aload         11
     252: ifnonnull     292
     255: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
     258: invokeinterface #45,  1           // InterfaceMethod org/eclipse/jetty/util/log/Logger.isDebugEnabled:()Z
     263: ifeq          290
     266: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
     269: ldc           #46                 // String Invalid X509 match for SNI {}: {}
     271: iconst_2
     272: anewarray     #47                 // class java/lang/Object
     275: dup
     276: iconst_0
     277: aload         7
     279: aastore
     280: dup
     281: iconst_1
     282: aload         10
     284: aastore
     285: invokeinterface #48,  3           // InterfaceMethod org/eclipse/jetty/util/log/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     290: aconst_null
     291: areturn
     292: aload         4
     294: ifnull        308
     297: aload         4
     299: ldc           #50                 // String org.eclipse.jetty.util.ssl.snix509
     301: aload         11
     303: invokeinterface #51,  3           // InterfaceMethod javax/net/ssl/SSLSession.putValue:(Ljava/lang/String;Ljava/lang/Object;)V
     308: aload         6
     310: aload         10
     312: invokeinterface #52,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     317: checkcast     #30                 // class java/lang/String
     320: astore        12
     322: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
     325: invokeinterface #45,  1           // InterfaceMethod org/eclipse/jetty/util/log/Logger.isDebugEnabled:()Z
     330: ifeq          372
     333: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
     336: ldc           #53                 // String Matched SNI {} with alias {}, certificate {} from aliases {}
     338: iconst_4
     339: anewarray     #47                 // class java/lang/Object
     342: dup
     343: iconst_0
     344: aload         7
     346: aastore
     347: dup
     348: iconst_1
     349: aload         12
     351: aastore
     352: dup
     353: iconst_2
     354: aload         11
     356: aastore
     357: dup
     358: iconst_3
     359: aload         6
     361: invokeinterface #31,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     366: aastore
     367: invokeinterface #48,  3           // InterfaceMethod org/eclipse/jetty/util/log/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     372: aload         12
     374: areturn
     375: astore        8
     377: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
     380: invokeinterface #45,  1           // InterfaceMethod org/eclipse/jetty/util/log/Logger.isDebugEnabled:()Z
     385: ifeq          418
     388: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
     391: new           #55                 // class java/lang/StringBuilder
     394: dup
     395: invokespecial #56                 // Method java/lang/StringBuilder."<init>":()V
     398: ldc           #57                 // String Failure matching X509 for SNI
     400: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     403: aload         7
     405: invokevirtual #58                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     408: invokevirtual #59                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     411: aload         8
     413: invokeinterface #60,  3           // InterfaceMethod org/eclipse/jetty/util/log/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     418: aconst_null
     419: areturn
    Exception table:
       from    to  target type
         121   226   375   Class java/lang/Throwable
         227   291   375   Class java/lang/Throwable
         292   374   375   Class java/lang/Throwable

  public java.lang.String chooseServerAlias(java.lang.String, java.security.Principal[], java.net.Socket);
    Code:
       0: aload_3
       1: checkcast     #61                 // class javax/net/ssl/SSLSocket
       4: astore        4
       6: aload_3
       7: ifnonnull     23
      10: aload_0
      11: aload_1
      12: aload_2
      13: invokestatic  #62                 // Method java/util/Collections.emptyList:()Ljava/util/List;
      16: aconst_null
      17: invokevirtual #63                 // Method chooseServerAlias:(Ljava/lang/String;[Ljava/security/Principal;Ljava/util/Collection;Ljavax/net/ssl/SSLSession;)Ljava/lang/String;
      20: goto          42
      23: aload_0
      24: aload_1
      25: aload_2
      26: aload         4
      28: invokevirtual #64                 // Method javax/net/ssl/SSLSocket.getSSLParameters:()Ljavax/net/ssl/SSLParameters;
      31: invokevirtual #65                 // Method javax/net/ssl/SSLParameters.getSNIMatchers:()Ljava/util/Collection;
      34: aload         4
      36: invokevirtual #66                 // Method javax/net/ssl/SSLSocket.getHandshakeSession:()Ljavax/net/ssl/SSLSession;
      39: invokevirtual #63                 // Method chooseServerAlias:(Ljava/lang/String;[Ljava/security/Principal;Ljava/util/Collection;Ljavax/net/ssl/SSLSession;)Ljava/lang/String;
      42: astore        5
      44: aload         5
      46: ldc           #41                 // String delegate_no_sni_match
      48: if_acmpne     55
      51: iconst_1
      52: goto          56
      55: iconst_0
      56: istore        6
      58: iload         6
      60: ifeq          75
      63: aload_0
      64: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
      67: aload_1
      68: aload_2
      69: aload_3
      70: invokevirtual #67                 // Method javax/net/ssl/X509ExtendedKeyManager.chooseServerAlias:(Ljava/lang/String;[Ljava/security/Principal;Ljava/net/Socket;)Ljava/lang/String;
      73: astore        5
      75: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
      78: invokeinterface #45,  1           // InterfaceMethod org/eclipse/jetty/util/log/Logger.isDebugEnabled:()Z
      83: ifeq          131
      86: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
      89: ldc           #68                 // String Chose {} alias={} keyType={} on {}
      91: iconst_4
      92: anewarray     #47                 // class java/lang/Object
      95: dup
      96: iconst_0
      97: iload         6
      99: ifeq          107
     102: ldc           #69                 // String delegate
     104: goto          109
     107: ldc           #70                 // String explicit
     109: aastore
     110: dup
     111: iconst_1
     112: aload         5
     114: invokestatic  #71                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
     117: aastore
     118: dup
     119: iconst_2
     120: aload_1
     121: aastore
     122: dup
     123: iconst_3
     124: aload_3
     125: aastore
     126: invokeinterface #48,  3           // InterfaceMethod org/eclipse/jetty/util/log/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     131: aload         5
     133: areturn

  public java.lang.String chooseEngineServerAlias(java.lang.String, java.security.Principal[], javax.net.ssl.SSLEngine);
    Code:
       0: aload_3
       1: ifnonnull     17
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokestatic  #62                 // Method java/util/Collections.emptyList:()Ljava/util/List;
      10: aconst_null
      11: invokevirtual #63                 // Method chooseServerAlias:(Ljava/lang/String;[Ljava/security/Principal;Ljava/util/Collection;Ljavax/net/ssl/SSLSession;)Ljava/lang/String;
      14: goto          34
      17: aload_0
      18: aload_1
      19: aload_2
      20: aload_3
      21: invokevirtual #72                 // Method javax/net/ssl/SSLEngine.getSSLParameters:()Ljavax/net/ssl/SSLParameters;
      24: invokevirtual #65                 // Method javax/net/ssl/SSLParameters.getSNIMatchers:()Ljava/util/Collection;
      27: aload_3
      28: invokevirtual #73                 // Method javax/net/ssl/SSLEngine.getHandshakeSession:()Ljavax/net/ssl/SSLSession;
      31: invokevirtual #63                 // Method chooseServerAlias:(Ljava/lang/String;[Ljava/security/Principal;Ljava/util/Collection;Ljavax/net/ssl/SSLSession;)Ljava/lang/String;
      34: astore        4
      36: aload         4
      38: ldc           #41                 // String delegate_no_sni_match
      40: if_acmpne     47
      43: iconst_1
      44: goto          48
      47: iconst_0
      48: istore        5
      50: iload         5
      52: ifeq          67
      55: aload_0
      56: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
      59: aload_1
      60: aload_2
      61: aload_3
      62: invokevirtual #74                 // Method javax/net/ssl/X509ExtendedKeyManager.chooseEngineServerAlias:(Ljava/lang/String;[Ljava/security/Principal;Ljavax/net/ssl/SSLEngine;)Ljava/lang/String;
      65: astore        4
      67: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
      70: invokeinterface #45,  1           // InterfaceMethod org/eclipse/jetty/util/log/Logger.isDebugEnabled:()Z
      75: ifeq          123
      78: getstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
      81: ldc           #68                 // String Chose {} alias={} keyType={} on {}
      83: iconst_4
      84: anewarray     #47                 // class java/lang/Object
      87: dup
      88: iconst_0
      89: iload         5
      91: ifeq          99
      94: ldc           #69                 // String delegate
      96: goto          101
      99: ldc           #70                 // String explicit
     101: aastore
     102: dup
     103: iconst_1
     104: aload         4
     106: invokestatic  #71                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;
     109: aastore
     110: dup
     111: iconst_2
     112: aload_1
     113: aastore
     114: dup
     115: iconst_3
     116: aload_3
     117: aastore
     118: invokeinterface #48,  3           // InterfaceMethod org/eclipse/jetty/util/log/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     123: aload         4
     125: areturn

  public java.security.cert.X509Certificate[] getCertificateChain(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: invokevirtual #75                 // Method javax/net/ssl/X509ExtendedKeyManager.getCertificateChain:(Ljava/lang/String;)[Ljava/security/cert/X509Certificate;
       8: areturn

  public java.lang.String[] getClientAliases(java.lang.String, java.security.Principal[]);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: aload_2
       6: invokevirtual #76                 // Method javax/net/ssl/X509ExtendedKeyManager.getClientAliases:(Ljava/lang/String;[Ljava/security/Principal;)[Ljava/lang/String;
       9: areturn

  public java.security.PrivateKey getPrivateKey(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: invokevirtual #77                 // Method javax/net/ssl/X509ExtendedKeyManager.getPrivateKey:(Ljava/lang/String;)Ljava/security/PrivateKey;
       8: areturn

  public java.lang.String[] getServerAliases(java.lang.String, java.security.Principal[]);
    Code:
       0: aload_0
       1: getfield      #5                  // Field _delegate:Ljavax/net/ssl/X509ExtendedKeyManager;
       4: aload_1
       5: aload_2
       6: invokevirtual #14                 // Method javax/net/ssl/X509ExtendedKeyManager.getServerAliases:(Ljava/lang/String;[Ljava/security/Principal;)[Ljava/lang/String;
       9: areturn

  private void lambda$chooseServerAlias$0(java.util.Map, java.lang.String);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #78                 // Method getAliasMapper:()Ljava/util/function/UnaryOperator;
       5: aload_2
       6: invokeinterface #79,  2           // InterfaceMethod java/util/function/UnaryOperator.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #30                 // class java/lang/String
      14: aload_2
      15: invokeinterface #80,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      20: pop
      21: return

  static {};
    Code:
       0: ldc           #49                 // class org/eclipse/jetty/util/ssl/SniX509ExtendedKeyManager
       2: invokestatic  #81                 // Method org/eclipse/jetty/util/log/Log.getLogger:(Ljava/lang/Class;)Lorg/eclipse/jetty/util/log/Logger;
       5: putstatic     #44                 // Field LOG:Lorg/eclipse/jetty/util/log/Logger;
       8: return
}
