Compiled from "AbstractSessionContext.java"
abstract class org.conscrypt.AbstractSessionContext implements javax.net.ssl.SSLSessionContext {
  private static final int DEFAULT_SESSION_TIMEOUT_SECONDS;

  private volatile int maximumSize;

  private volatile int timeout;

  final long sslCtxNativePointer;

  private final java.util.Map<org.conscrypt.ByteArray, org.conscrypt.NativeSslSession> sessions;

  org.conscrypt.AbstractSessionContext(int);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: sipush        28800
       8: putfield      #4                  // Field timeout:I
      11: aload_0
      12: invokestatic  #5                  // Method org/conscrypt/NativeCrypto.SSL_CTX_new:()J
      15: putfield      #6                  // Field sslCtxNativePointer:J
      18: aload_0
      19: new           #7                  // class org/conscrypt/AbstractSessionContext$1
      22: dup
      23: aload_0
      24: invokespecial #8                  // Method org/conscrypt/AbstractSessionContext$1."<init>":(Lorg/conscrypt/AbstractSessionContext;)V
      27: putfield      #9                  // Field sessions:Ljava/util/Map;
      30: aload_0
      31: iload_1
      32: putfield      #1                  // Field maximumSize:I
      35: return

  public final java.util.Enumeration<byte[]> getIds();
    Code:
       0: aload_0
       1: getfield      #9                  // Field sessions:Ljava/util/Map;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: getfield      #9                  // Field sessions:Ljava/util/Map;
      11: invokeinterface #10,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      16: aload_0
      17: getfield      #9                  // Field sessions:Ljava/util/Map;
      20: invokeinterface #11,  1           // InterfaceMethod java/util/Map.size:()I
      25: anewarray     #12                 // class org/conscrypt/NativeSslSession
      28: invokeinterface #13,  2           // InterfaceMethod java/util/Collection.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      33: invokestatic  #14                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      36: invokeinterface #15,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      41: astore_1
      42: aload_2
      43: monitorexit
      44: goto          52
      47: astore_3
      48: aload_2
      49: monitorexit
      50: aload_3
      51: athrow
      52: new           #16                 // class org/conscrypt/AbstractSessionContext$2
      55: dup
      56: aload_0
      57: aload_1
      58: invokespecial #17                 // Method org/conscrypt/AbstractSessionContext$2."<init>":(Lorg/conscrypt/AbstractSessionContext;Ljava/util/Iterator;)V
      61: areturn
    Exception table:
       from    to  target type
           7    44    47   any
          47    50    47   any

  public final javax.net.ssl.SSLSession getSession(byte[]);
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #18                 // class java/lang/NullPointerException
       7: dup
       8: ldc           #19                 // String sessionId
      10: invokespecial #20                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: new           #21                 // class org/conscrypt/ByteArray
      17: dup
      18: aload_1
      19: invokespecial #22                 // Method org/conscrypt/ByteArray."<init>":([B)V
      22: astore_2
      23: aload_0
      24: getfield      #9                  // Field sessions:Ljava/util/Map;
      27: dup
      28: astore        4
      30: monitorenter
      31: aload_0
      32: getfield      #9                  // Field sessions:Ljava/util/Map;
      35: aload_2
      36: invokeinterface #23,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      41: checkcast     #12                 // class org/conscrypt/NativeSslSession
      44: astore_3
      45: aload         4
      47: monitorexit
      48: goto          59
      51: astore        5
      53: aload         4
      55: monitorexit
      56: aload         5
      58: athrow
      59: aload_3
      60: ifnull        75
      63: aload_3
      64: invokevirtual #24                 // Method org/conscrypt/NativeSslSession.isValid:()Z
      67: ifeq          75
      70: aload_3
      71: invokevirtual #25                 // Method org/conscrypt/NativeSslSession.toSSLSession:()Ljavax/net/ssl/SSLSession;
      74: areturn
      75: aconst_null
      76: areturn
    Exception table:
       from    to  target type
          31    48    51   any
          51    56    51   any

  public final int getSessionCacheSize();
    Code:
       0: aload_0
       1: getfield      #1                  // Field maximumSize:I
       4: ireturn

  public final int getSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #4                  // Field timeout:I
       4: ireturn

  public final void setSessionTimeout(int) throws java.lang.IllegalArgumentException;
    Code:
       0: iload_1
       1: ifge          14
       4: new           #26                 // class java/lang/IllegalArgumentException
       7: dup
       8: ldc           #27                 // String seconds < 0
      10: invokespecial #28                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #9                  // Field sessions:Ljava/util/Map;
      18: dup
      19: astore_2
      20: monitorenter
      21: aload_0
      22: iload_1
      23: putfield      #4                  // Field timeout:I
      26: iload_1
      27: ifle          44
      30: aload_0
      31: getfield      #6                  // Field sslCtxNativePointer:J
      34: aload_0
      35: iload_1
      36: i2l
      37: invokestatic  #29                 // Method org/conscrypt/NativeCrypto.SSL_CTX_set_timeout:(JLorg/conscrypt/AbstractSessionContext;J)J
      40: pop2
      41: goto          56
      44: aload_0
      45: getfield      #6                  // Field sslCtxNativePointer:J
      48: aload_0
      49: ldc2_w        #31                 // long 2147483647l
      52: invokestatic  #29                 // Method org/conscrypt/NativeCrypto.SSL_CTX_set_timeout:(JLorg/conscrypt/AbstractSessionContext;J)J
      55: pop2
      56: aload_0
      57: getfield      #9                  // Field sessions:Ljava/util/Map;
      60: invokeinterface #10,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      65: invokeinterface #33,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      70: astore_3
      71: aload_3
      72: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      77: ifeq          114
      80: aload_3
      81: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      86: checkcast     #12                 // class org/conscrypt/NativeSslSession
      89: astore        4
      91: aload         4
      93: invokevirtual #24                 // Method org/conscrypt/NativeSslSession.isValid:()Z
      96: ifne          111
      99: aload_0
     100: aload         4
     102: invokevirtual #36                 // Method onBeforeRemoveSession:(Lorg/conscrypt/NativeSslSession;)V
     105: aload_3
     106: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.remove:()V
     111: goto          71
     114: aload_2
     115: monitorexit
     116: goto          126
     119: astore        5
     121: aload_2
     122: monitorexit
     123: aload         5
     125: athrow
     126: return
    Exception table:
       from    to  target type
          21   116   119   any
         119   123   119   any

  public final void setSessionCacheSize(int) throws java.lang.IllegalArgumentException;
    Code:
       0: iload_1
       1: ifge          14
       4: new           #26                 // class java/lang/IllegalArgumentException
       7: dup
       8: ldc           #38                 // String size < 0
      10: invokespecial #28                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_0
      15: getfield      #1                  // Field maximumSize:I
      18: istore_2
      19: aload_0
      20: iload_1
      21: putfield      #1                  // Field maximumSize:I
      24: iload_1
      25: iload_2
      26: if_icmpge     33
      29: aload_0
      30: invokespecial #39                 // Method trimToSize:()V
      33: return

  protected void finalize() throws java.lang.Throwable;
    Code:
       0: aload_0
       1: getfield      #6                  // Field sslCtxNativePointer:J
       4: aload_0
       5: invokestatic  #40                 // Method org/conscrypt/NativeCrypto.SSL_CTX_free:(JLorg/conscrypt/AbstractSessionContext;)V
       8: aload_0
       9: invokespecial #41                 // Method java/lang/Object.finalize:()V
      12: goto          22
      15: astore_1
      16: aload_0
      17: invokespecial #41                 // Method java/lang/Object.finalize:()V
      20: aload_1
      21: athrow
      22: return
    Exception table:
       from    to  target type
           0     8    15   any

  final void cacheSession(org.conscrypt.NativeSslSession);
    Code:
       0: aload_1
       1: invokevirtual #42                 // Method org/conscrypt/NativeSslSession.getId:()[B
       4: astore_2
       5: aload_2
       6: ifnull        14
       9: aload_2
      10: arraylength
      11: ifne          15
      14: return
      15: aload_0
      16: getfield      #9                  // Field sessions:Ljava/util/Map;
      19: dup
      20: astore_3
      21: monitorenter
      22: new           #21                 // class org/conscrypt/ByteArray
      25: dup
      26: aload_2
      27: invokespecial #22                 // Method org/conscrypt/ByteArray."<init>":([B)V
      30: astore        4
      32: aload_0
      33: getfield      #9                  // Field sessions:Ljava/util/Map;
      36: aload         4
      38: invokeinterface #43,  2           // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      43: ifeq          64
      46: aload_0
      47: aload_0
      48: getfield      #9                  // Field sessions:Ljava/util/Map;
      51: aload         4
      53: invokeinterface #23,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      58: checkcast     #12                 // class org/conscrypt/NativeSslSession
      61: invokevirtual #44                 // Method removeSession:(Lorg/conscrypt/NativeSslSession;)V
      64: aload_0
      65: aload_1
      66: invokevirtual #45                 // Method onBeforeAddSession:(Lorg/conscrypt/NativeSslSession;)V
      69: aload_0
      70: getfield      #9                  // Field sessions:Ljava/util/Map;
      73: aload         4
      75: aload_1
      76: invokeinterface #46,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      81: pop
      82: aload_3
      83: monitorexit
      84: goto          94
      87: astore        5
      89: aload_3
      90: monitorexit
      91: aload         5
      93: athrow
      94: return
    Exception table:
       from    to  target type
          22    84    87   any
          87    91    87   any

  final void removeSession(org.conscrypt.NativeSslSession);
    Code:
       0: aload_1
       1: invokevirtual #42                 // Method org/conscrypt/NativeSslSession.getId:()[B
       4: astore_2
       5: aload_2
       6: ifnull        14
       9: aload_2
      10: arraylength
      11: ifne          15
      14: return
      15: aload_0
      16: aload_1
      17: invokevirtual #36                 // Method onBeforeRemoveSession:(Lorg/conscrypt/NativeSslSession;)V
      20: new           #21                 // class org/conscrypt/ByteArray
      23: dup
      24: aload_2
      25: invokespecial #22                 // Method org/conscrypt/ByteArray."<init>":([B)V
      28: astore_3
      29: aload_0
      30: getfield      #9                  // Field sessions:Ljava/util/Map;
      33: dup
      34: astore        4
      36: monitorenter
      37: aload_0
      38: getfield      #9                  // Field sessions:Ljava/util/Map;
      41: aload_3
      42: invokeinterface #47,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      47: pop
      48: aload         4
      50: monitorexit
      51: goto          62
      54: astore        5
      56: aload         4
      58: monitorexit
      59: aload         5
      61: athrow
      62: return
    Exception table:
       from    to  target type
          37    51    54   any
          54    59    54   any

  final org.conscrypt.NativeSslSession getSessionFromCache(byte[]);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: aconst_null
       5: areturn
       6: aload_0
       7: getfield      #9                  // Field sessions:Ljava/util/Map;
      10: dup
      11: astore_3
      12: monitorenter
      13: aload_0
      14: getfield      #9                  // Field sessions:Ljava/util/Map;
      17: new           #21                 // class org/conscrypt/ByteArray
      20: dup
      21: aload_1
      22: invokespecial #22                 // Method org/conscrypt/ByteArray."<init>":([B)V
      25: invokeinterface #23,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      30: checkcast     #12                 // class org/conscrypt/NativeSslSession
      33: astore_2
      34: aload_3
      35: monitorexit
      36: goto          46
      39: astore        4
      41: aload_3
      42: monitorexit
      43: aload         4
      45: athrow
      46: aload_2
      47: ifnull        71
      50: aload_2
      51: invokevirtual #24                 // Method org/conscrypt/NativeSslSession.isValid:()Z
      54: ifeq          71
      57: aload_2
      58: invokevirtual #48                 // Method org/conscrypt/NativeSslSession.isSingleUse:()Z
      61: ifeq          69
      64: aload_0
      65: aload_2
      66: invokevirtual #44                 // Method removeSession:(Lorg/conscrypt/NativeSslSession;)V
      69: aload_2
      70: areturn
      71: aload_0
      72: aload_1
      73: invokevirtual #49                 // Method getSessionFromPersistentCache:([B)Lorg/conscrypt/NativeSslSession;
      76: areturn
    Exception table:
       from    to  target type
          13    36    39   any
          39    43    39   any

  abstract void onBeforeAddSession(org.conscrypt.NativeSslSession);

  abstract void onBeforeRemoveSession(org.conscrypt.NativeSslSession);

  abstract org.conscrypt.NativeSslSession getSessionFromPersistentCache(byte[]);

  private void trimToSize();
    Code:
       0: aload_0
       1: getfield      #9                  // Field sessions:Ljava/util/Map;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #9                  // Field sessions:Ljava/util/Map;
      11: invokeinterface #11,  1           // InterfaceMethod java/util/Map.size:()I
      16: istore_2
      17: iload_2
      18: aload_0
      19: getfield      #1                  // Field maximumSize:I
      22: if_icmple     83
      25: iload_2
      26: aload_0
      27: getfield      #1                  // Field maximumSize:I
      30: isub
      31: istore_3
      32: aload_0
      33: getfield      #9                  // Field sessions:Ljava/util/Map;
      36: invokeinterface #10,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      41: invokeinterface #33,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      46: astore        4
      48: iload_3
      49: iinc          3, -1
      52: ifle          83
      55: aload         4
      57: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      62: checkcast     #12                 // class org/conscrypt/NativeSslSession
      65: astore        5
      67: aload_0
      68: aload         5
      70: invokevirtual #36                 // Method onBeforeRemoveSession:(Lorg/conscrypt/NativeSslSession;)V
      73: aload         4
      75: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.remove:()V
      80: goto          48
      83: aload_1
      84: monitorexit
      85: goto          95
      88: astore        6
      90: aload_1
      91: monitorexit
      92: aload         6
      94: athrow
      95: return
    Exception table:
       from    to  target type
           7    85    88   any
          88    92    88   any

  static int access$000(org.conscrypt.AbstractSessionContext);
    Code:
       0: aload_0
       1: getfield      #1                  // Field maximumSize:I
       4: ireturn
}
