Compiled from "SingleCouponMap.java"
final class com.yahoo.sketches.hll.SingleCouponMap extends com.yahoo.sketches.hll.Map {
  private static final double RSE;

  private int tableEntries_;

  private int capacityEntries_;

  private int curCountEntries_;

  private double entrySizeBytes_;

  private byte[] keysArr_;

  private short[] couponsArr_;

  private byte[] stateArr_;

  static final boolean $assertionsDisabled;

  private com.yahoo.sketches.hll.SingleCouponMap(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #1                  // Method com/yahoo/sketches/hll/Map."<init>":(I)V
       5: return

  static com.yahoo.sketches.hll.SingleCouponMap getInstance(int, int);
    Code:
       0: iload_0
       1: invokestatic  #2                  // Method nextPrime:(I)I
       4: istore_2
       5: new           #3                  // class com/yahoo/sketches/hll/SingleCouponMap
       8: dup
       9: iload_1
      10: invokespecial #4                  // Method "<init>":(I)V
      13: astore_3
      14: aload_3
      15: iload_2
      16: putfield      #5                  // Field tableEntries_:I
      19: aload_3
      20: iload_2
      21: i2d
      22: ldc2_w        #7                  // double 0.9375d
      25: dmul
      26: d2i
      27: putfield      #9                  // Field capacityEntries_:I
      30: aload_3
      31: iconst_0
      32: putfield      #10                 // Field curCountEntries_:I
      35: aload_3
      36: iload_2
      37: iload_1
      38: invokestatic  #11                 // Method updateEntrySizeBytes:(II)D
      41: putfield      #12                 // Field entrySizeBytes_:D
      44: aload_3
      45: iload_2
      46: aload_3
      47: getfield      #13                 // Field keySizeBytes_:I
      50: imul
      51: newarray       byte
      53: putfield      #14                 // Field keysArr_:[B
      56: aload_3
      57: iload_2
      58: newarray       short
      60: putfield      #15                 // Field couponsArr_:[S
      63: aload_3
      64: iload_2
      65: i2d
      66: ldc2_w        #16                 // double 8.0d
      69: ddiv
      70: invokestatic  #18                 // Method java/lang/Math.ceil:(D)D
      73: d2i
      74: newarray       byte
      76: putfield      #19                 // Field stateArr_:[B
      79: aload_3
      80: areturn

  double update(byte[], short);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #20                 // Method findOrInsertKey:([B)I
       5: istore_3
       6: aload_0
       7: iload_3
       8: iload_2
       9: invokevirtual #21                 // Method update:(IS)D
      12: dreturn

  double update(int, short);
    Code:
       0: aload_0
       1: getfield      #15                 // Field couponsArr_:[S
       4: iload_1
       5: saload
       6: ifne          18
       9: aload_0
      10: getfield      #15                 // Field couponsArr_:[S
      13: iload_1
      14: iload_2
      15: sastore
      16: dconst_1
      17: dreturn
      18: aload_0
      19: iload_1
      20: invokevirtual #22                 // Method isCoupon:(I)Z
      23: ifeq          40
      26: aload_0
      27: getfield      #15                 // Field couponsArr_:[S
      30: iload_1
      31: saload
      32: iload_2
      33: if_icmpne     38
      36: dconst_1
      37: dreturn
      38: dconst_0
      39: dreturn
      40: aload_0
      41: getfield      #15                 // Field couponsArr_:[S
      44: iload_1
      45: saload
      46: ineg
      47: i2d
      48: dreturn

  double getEstimate(byte[]);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #23                 // Method findKey:([B)I
       5: istore_2
       6: iload_2
       7: ifge          12
      10: dconst_0
      11: dreturn
      12: aload_0
      13: iload_2
      14: invokevirtual #22                 // Method isCoupon:(I)Z
      17: ifeq          22
      20: dconst_1
      21: dreturn
      22: aload_0
      23: iload_2
      24: invokevirtual #24                 // Method getCoupon:(I)S
      27: ineg
      28: i2d
      29: dreturn

  double getUpperBound(byte[]);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #25                 // Method getEstimate:([B)D
       5: dconst_1
       6: getstatic     #26                 // Field RSE:D
       9: dadd
      10: dmul
      11: dreturn

  double getLowerBound(byte[]);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #25                 // Method getEstimate:([B)D
       5: dconst_1
       6: getstatic     #26                 // Field RSE:D
       9: dsub
      10: dmul
      11: dreturn

  int findKey(byte[]);
    Code:
       0: aload_1
       1: ldc2_w        #27                 // long 1234567890l
       4: invokestatic  #29                 // Method com/yahoo/sketches/hash/MurmurHash3.hash:([BJ)[J
       7: astore_2
       8: aload_2
       9: iconst_0
      10: laload
      11: aload_0
      12: getfield      #5                  // Field tableEntries_:I
      15: invokestatic  #30                 // Method getIndex:(JI)I
      18: istore_3
      19: aload_2
      20: iconst_1
      21: laload
      22: aload_0
      23: getfield      #5                  // Field tableEntries_:I
      26: invokestatic  #31                 // Method getStride:(JI)I
      29: istore        4
      31: iload_3
      32: istore        5
      34: aload_0
      35: getfield      #15                 // Field couponsArr_:[S
      38: iload_3
      39: saload
      40: ifne          47
      43: iload_3
      44: iconst_m1
      45: ixor
      46: ireturn
      47: aload_1
      48: iconst_0
      49: aload_0
      50: getfield      #14                 // Field keysArr_:[B
      53: iload_3
      54: aload_0
      55: getfield      #13                 // Field keySizeBytes_:I
      58: imul
      59: aload_0
      60: getfield      #13                 // Field keySizeBytes_:I
      63: invokestatic  #32                 // Method com/yahoo/sketches/hll/Map.arraysEqual:([BI[BII)Z
      66: ifeq          71
      69: iload_3
      70: ireturn
      71: iload_3
      72: iload         4
      74: iadd
      75: aload_0
      76: getfield      #5                  // Field tableEntries_:I
      79: irem
      80: istore_3
      81: iload_3
      82: iload         5
      84: if_icmpne     34
      87: new           #33                 // class com/yahoo/sketches/SketchesArgumentException
      90: dup
      91: ldc           #34                 // String Key not found and no empty slots!
      93: invokespecial #35                 // Method com/yahoo/sketches/SketchesArgumentException."<init>":(Ljava/lang/String;)V
      96: athrow

  int findOrInsertKey(byte[]);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #23                 // Method findKey:([B)I
       5: istore_2
       6: iload_2
       7: ifge          84
      10: aload_0
      11: getfield      #10                 // Field curCountEntries_:I
      14: iconst_1
      15: iadd
      16: aload_0
      17: getfield      #9                  // Field capacityEntries_:I
      20: if_icmple     51
      23: aload_0
      24: invokespecial #36                 // Method resize:()V
      27: aload_0
      28: aload_1
      29: invokevirtual #23                 // Method findKey:([B)I
      32: istore_2
      33: getstatic     #37                 // Field $assertionsDisabled:Z
      36: ifne          51
      39: iload_2
      40: iflt          51
      43: new           #38                 // class java/lang/AssertionError
      46: dup
      47: invokespecial #39                 // Method java/lang/AssertionError."<init>":()V
      50: athrow
      51: iload_2
      52: iconst_m1
      53: ixor
      54: istore_2
      55: aload_1
      56: iconst_0
      57: aload_0
      58: getfield      #14                 // Field keysArr_:[B
      61: iload_2
      62: aload_0
      63: getfield      #13                 // Field keySizeBytes_:I
      66: imul
      67: aload_0
      68: getfield      #13                 // Field keySizeBytes_:I
      71: invokestatic  #40                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      74: aload_0
      75: dup
      76: getfield      #10                 // Field curCountEntries_:I
      79: iconst_1
      80: iadd
      81: putfield      #10                 // Field curCountEntries_:I
      84: iload_2
      85: ireturn

  com.yahoo.sketches.hll.CouponsIterator getCouponsIterator(int);
    Code:
       0: new           #41                 // class com/yahoo/sketches/hll/CouponsIterator
       3: dup
       4: aload_0
       5: getfield      #15                 // Field couponsArr_:[S
       8: iload_1
       9: iconst_1
      10: invokespecial #42                 // Method com/yahoo/sketches/hll/CouponsIterator."<init>":([SII)V
      13: areturn

  int getMaxCouponsPerEntry();
    Code:
       0: iconst_1
       1: ireturn

  int getCapacityCouponsPerEntry();
    Code:
       0: iconst_1
       1: ireturn

  int getActiveEntries();
    Code:
       0: aload_0
       1: getfield      #10                 // Field curCountEntries_:I
       4: ireturn

  int getDeletedEntries();
    Code:
       0: iconst_0
       1: ireturn

  boolean isCoupon(int);
    Code:
       0: aload_0
       1: getfield      #19                 // Field stateArr_:[B
       4: iload_1
       5: invokestatic  #43                 // Method isBitSet:([BI)Z
       8: ifne          15
      11: iconst_1
      12: goto          16
      15: iconst_0
      16: ireturn

  short getCoupon(int);
    Code:
       0: aload_0
       1: getfield      #15                 // Field couponsArr_:[S
       4: iload_1
       5: saload
       6: ireturn

  void setCoupon(int, short, boolean);
    Code:
       0: aload_0
       1: getfield      #15                 // Field couponsArr_:[S
       4: iload_1
       5: iload_2
       6: sastore
       7: iload_3
       8: ifeq          22
      11: aload_0
      12: getfield      #19                 // Field stateArr_:[B
      15: iload_1
      16: invokestatic  #44                 // Method setBit:([BI)V
      19: goto          30
      22: aload_0
      23: getfield      #19                 // Field stateArr_:[B
      26: iload_1
      27: invokestatic  #45                 // Method clearBit:([BI)V
      30: return

  void setLevel(int, int);
    Code:
       0: aload_0
       1: getfield      #15                 // Field couponsArr_:[S
       4: iload_1
       5: iload_2
       6: i2s
       7: sastore
       8: aload_0
       9: getfield      #19                 // Field stateArr_:[B
      12: iload_1
      13: invokestatic  #44                 // Method setBit:([BI)V
      16: return

  double getEntrySizeBytes();
    Code:
       0: aload_0
       1: getfield      #12                 // Field entrySizeBytes_:D
       4: dreturn

  int getTableEntries();
    Code:
       0: aload_0
       1: getfield      #5                  // Field tableEntries_:I
       4: ireturn

  int getCapacityEntries();
    Code:
       0: aload_0
       1: getfield      #9                  // Field capacityEntries_:I
       4: ireturn

  int getCurrentCountEntries();
    Code:
       0: aload_0
       1: getfield      #10                 // Field curCountEntries_:I
       4: ireturn

  long getMemoryUsageBytes();
    Code:
       0: aload_0
       1: getfield      #14                 // Field keysArr_:[B
       4: arraylength
       5: i2l
       6: aload_0
       7: getfield      #15                 // Field couponsArr_:[S
      10: arraylength
      11: i2l
      12: ldc2_w        #47                 // long 2l
      15: lmul
      16: ladd
      17: aload_0
      18: getfield      #19                 // Field stateArr_:[B
      21: arraylength
      22: i2l
      23: ladd
      24: lstore_1
      25: ldc2_w        #49                 // long 24l
      28: lstore_3
      29: lload_1
      30: ldc2_w        #49                 // long 24l
      33: ladd
      34: lreturn

  private void resize();
    Code:
       0: aload_0
       1: getfield      #14                 // Field keysArr_:[B
       4: astore_1
       5: aload_0
       6: getfield      #15                 // Field couponsArr_:[S
       9: astore_2
      10: aload_0
      11: getfield      #19                 // Field stateArr_:[B
      14: astore_3
      15: aload_0
      16: getfield      #5                  // Field tableEntries_:I
      19: istore        4
      21: aload_0
      22: aload_0
      23: getfield      #10                 // Field curCountEntries_:I
      26: i2d
      27: ldc2_w        #51                 // double 0.6666666666666666d
      30: ddiv
      31: d2i
      32: invokestatic  #2                  // Method nextPrime:(I)I
      35: putfield      #5                  // Field tableEntries_:I
      38: aload_0
      39: aload_0
      40: getfield      #5                  // Field tableEntries_:I
      43: i2d
      44: ldc2_w        #7                  // double 0.9375d
      47: dmul
      48: d2i
      49: putfield      #9                  // Field capacityEntries_:I
      52: aload_0
      53: aload_0
      54: getfield      #5                  // Field tableEntries_:I
      57: aload_0
      58: getfield      #13                 // Field keySizeBytes_:I
      61: imul
      62: newarray       byte
      64: putfield      #14                 // Field keysArr_:[B
      67: aload_0
      68: aload_0
      69: getfield      #5                  // Field tableEntries_:I
      72: newarray       short
      74: putfield      #15                 // Field couponsArr_:[S
      77: aload_0
      78: aload_0
      79: getfield      #5                  // Field tableEntries_:I
      82: i2d
      83: ldc2_w        #16                 // double 8.0d
      86: ddiv
      87: invokestatic  #18                 // Method java/lang/Math.ceil:(D)D
      90: d2i
      91: newarray       byte
      93: putfield      #19                 // Field stateArr_:[B
      96: aload_0
      97: aload_0
      98: getfield      #5                  // Field tableEntries_:I
     101: aload_0
     102: getfield      #13                 // Field keySizeBytes_:I
     105: invokestatic  #11                 // Method updateEntrySizeBytes:(II)D
     108: putfield      #12                 // Field entrySizeBytes_:D
     111: iconst_0
     112: istore        5
     114: iload         5
     116: iload         4
     118: if_icmpge     175
     121: aload_2
     122: iload         5
     124: saload
     125: ifeq          169
     128: aload_1
     129: iload         5
     131: aload_0
     132: getfield      #13                 // Field keySizeBytes_:I
     135: imul
     136: iload         5
     138: aload_0
     139: getfield      #13                 // Field keySizeBytes_:I
     142: imul
     143: aload_0
     144: getfield      #13                 // Field keySizeBytes_:I
     147: iadd
     148: invokestatic  #53                 // Method java/util/Arrays.copyOfRange:([BII)[B
     151: astore        6
     153: aload_0
     154: aload         6
     156: aload_2
     157: iload         5
     159: saload
     160: aload_3
     161: iload         5
     163: invokestatic  #43                 // Method isBitSet:([BI)Z
     166: invokespecial #54                 // Method insertEntry:([BIZ)V
     169: iinc          5, 1
     172: goto          114
     175: return

  private void insertEntry(byte[], int, boolean);
    Code:
       0: aload_1
       1: ldc2_w        #27                 // long 1234567890l
       4: invokestatic  #29                 // Method com/yahoo/sketches/hash/MurmurHash3.hash:([BJ)[J
       7: astore        4
       9: aload         4
      11: iconst_0
      12: laload
      13: aload_0
      14: getfield      #5                  // Field tableEntries_:I
      17: invokestatic  #30                 // Method getIndex:(JI)I
      20: istore        5
      22: aload         4
      24: iconst_1
      25: laload
      26: aload_0
      27: getfield      #5                  // Field tableEntries_:I
      30: invokestatic  #31                 // Method getStride:(JI)I
      33: istore        6
      35: iload         5
      37: istore        7
      39: aload_0
      40: getfield      #15                 // Field couponsArr_:[S
      43: iload         5
      45: saload
      46: ifne          79
      49: aload_1
      50: iconst_0
      51: aload_0
      52: getfield      #14                 // Field keysArr_:[B
      55: iload         5
      57: aload_0
      58: getfield      #13                 // Field keySizeBytes_:I
      61: imul
      62: aload_0
      63: getfield      #13                 // Field keySizeBytes_:I
      66: invokestatic  #40                 // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      69: aload_0
      70: iload         5
      72: iload_2
      73: i2s
      74: iload_3
      75: invokevirtual #55                 // Method setCoupon:(ISZ)V
      78: return
      79: iload         5
      81: iload         6
      83: iadd
      84: aload_0
      85: getfield      #5                  // Field tableEntries_:I
      88: irem
      89: istore        5
      91: iload         5
      93: iload         7
      95: if_icmpne     39
      98: new           #33                 // class com/yahoo/sketches/SketchesArgumentException
     101: dup
     102: ldc           #34                 // String Key not found and no empty slots!
     104: invokespecial #35                 // Method com/yahoo/sketches/SketchesArgumentException."<init>":(Ljava/lang/String;)V
     107: athrow

  private static final double updateEntrySizeBytes(int, int);
    Code:
       0: iload_0
       1: i2d
       2: ldc2_w        #16                 // double 8.0d
       5: ddiv
       6: invokestatic  #18                 // Method java/lang/Math.ceil:(D)D
       9: iload_0
      10: i2d
      11: ddiv
      12: dstore_2
      13: iload_1
      14: iconst_2
      15: iadd
      16: i2d
      17: dload_2
      18: dadd
      19: dreturn

  static {};
    Code:
       0: ldc           #3                  // class com/yahoo/sketches/hll/SingleCouponMap
       2: invokevirtual #56                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #37                 // Field $assertionsDisabled:Z
      16: ldc2_w        #57                 // double 0.408d
      19: ldc2_w        #59                 // double 1024.0d
      22: invokestatic  #61                 // Method java/lang/Math.sqrt:(D)D
      25: ddiv
      26: putstatic     #26                 // Field RSE:D
      29: return
}
