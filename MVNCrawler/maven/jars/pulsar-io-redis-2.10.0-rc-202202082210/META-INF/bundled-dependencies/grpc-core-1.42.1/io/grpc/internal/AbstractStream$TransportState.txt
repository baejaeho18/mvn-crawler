Compiled from "AbstractStream.java"
public abstract class io.grpc.internal.AbstractStream$TransportState implements io.grpc.internal.ApplicationThreadDeframer$TransportExecutor,io.grpc.internal.MessageDeframer$Listener {
  public static final int DEFAULT_ONREADY_THRESHOLD;

  private io.grpc.internal.Deframer deframer;

  private final java.lang.Object onReadyLock;

  private final io.grpc.internal.StatsTraceContext statsTraceCtx;

  private final io.grpc.internal.TransportTracer transportTracer;

  private final io.grpc.internal.MessageDeframer rawDeframer;

  private int numSentBytesQueued;

  private boolean allocated;

  private boolean deallocated;

  protected io.grpc.internal.AbstractStream$TransportState(int, io.grpc.internal.StatsTraceContext, io.grpc.internal.TransportTracer);
    Code:
       0: aload_0
       1: invokespecial #5                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #6                  // class java/lang/Object
       8: dup
       9: invokespecial #5                  // Method java/lang/Object."<init>":()V
      12: putfield      #7                  // Field onReadyLock:Ljava/lang/Object;
      15: aload_0
      16: aload_2
      17: ldc           #8                  // String statsTraceCtx
      19: invokestatic  #9                  // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #10                 // class io/grpc/internal/StatsTraceContext
      25: putfield      #11                 // Field statsTraceCtx:Lio/grpc/internal/StatsTraceContext;
      28: aload_0
      29: aload_3
      30: ldc           #12                 // String transportTracer
      32: invokestatic  #9                  // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      35: checkcast     #13                 // class io/grpc/internal/TransportTracer
      38: putfield      #14                 // Field transportTracer:Lio/grpc/internal/TransportTracer;
      41: aload_0
      42: new           #15                 // class io/grpc/internal/MessageDeframer
      45: dup
      46: aload_0
      47: getstatic     #16                 // Field io/grpc/Codec$Identity.NONE:Lio/grpc/Codec;
      50: iload_1
      51: aload_2
      52: aload_3
      53: invokespecial #17                 // Method io/grpc/internal/MessageDeframer."<init>":(Lio/grpc/internal/MessageDeframer$Listener;Lio/grpc/Decompressor;ILio/grpc/internal/StatsTraceContext;Lio/grpc/internal/TransportTracer;)V
      56: putfield      #18                 // Field rawDeframer:Lio/grpc/internal/MessageDeframer;
      59: aload_0
      60: aload_0
      61: getfield      #18                 // Field rawDeframer:Lio/grpc/internal/MessageDeframer;
      64: putfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
      67: return

  final void optimizeForDirectExecutor();
    Code:
       0: aload_0
       1: getfield      #18                 // Field rawDeframer:Lio/grpc/internal/MessageDeframer;
       4: aload_0
       5: invokevirtual #19                 // Method io/grpc/internal/MessageDeframer.setListener:(Lio/grpc/internal/MessageDeframer$Listener;)V
       8: aload_0
       9: aload_0
      10: getfield      #18                 // Field rawDeframer:Lio/grpc/internal/MessageDeframer;
      13: putfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
      16: return

  protected void setFullStreamDecompressor(io.grpc.internal.GzipInflatingBuffer);
    Code:
       0: aload_0
       1: getfield      #18                 // Field rawDeframer:Lio/grpc/internal/MessageDeframer;
       4: aload_1
       5: invokevirtual #20                 // Method io/grpc/internal/MessageDeframer.setFullStreamDecompressor:(Lio/grpc/internal/GzipInflatingBuffer;)V
       8: aload_0
       9: new           #21                 // class io/grpc/internal/ApplicationThreadDeframer
      12: dup
      13: aload_0
      14: aload_0
      15: aload_0
      16: getfield      #18                 // Field rawDeframer:Lio/grpc/internal/MessageDeframer;
      19: invokespecial #22                 // Method io/grpc/internal/ApplicationThreadDeframer."<init>":(Lio/grpc/internal/MessageDeframer$Listener;Lio/grpc/internal/ApplicationThreadDeframer$TransportExecutor;Lio/grpc/internal/MessageDeframer;)V
      22: putfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
      25: return

  final void setMaxInboundMessageSize(int);
    Code:
       0: aload_0
       1: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
       4: iload_1
       5: invokeinterface #23,  2           // InterfaceMethod io/grpc/internal/Deframer.setMaxInboundMessageSize:(I)V
      10: return

  protected abstract io.grpc.internal.StreamListener listener();

  public void messagesAvailable(io.grpc.internal.StreamListener$MessageProducer);
    Code:
       0: aload_0
       1: invokevirtual #24                 // Method listener:()Lio/grpc/internal/StreamListener;
       4: aload_1
       5: invokeinterface #25,  2           // InterfaceMethod io/grpc/internal/StreamListener.messagesAvailable:(Lio/grpc/internal/StreamListener$MessageProducer;)V
      10: return

  protected final void closeDeframer(boolean);
    Code:
       0: iload_1
       1: ifeq          16
       4: aload_0
       5: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
       8: invokeinterface #26,  1           // InterfaceMethod io/grpc/internal/Deframer.close:()V
      13: goto          25
      16: aload_0
      17: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
      20: invokeinterface #27,  1           // InterfaceMethod io/grpc/internal/Deframer.closeWhenComplete:()V
      25: return

  protected final void deframe(io.grpc.internal.ReadableBuffer);
    Code:
       0: aload_0
       1: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
       4: aload_1
       5: invokeinterface #28,  2           // InterfaceMethod io/grpc/internal/Deframer.deframe:(Lio/grpc/internal/ReadableBuffer;)V
      10: goto          19
      13: astore_2
      14: aload_0
      15: aload_2
      16: invokevirtual #30                 // Method deframeFailed:(Ljava/lang/Throwable;)V
      19: return
    Exception table:
       from    to  target type
           0    10    13   Class java/lang/Throwable

  private void requestMessagesFromDeframer(int);
    Code:
       0: aload_0
       1: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
       4: instanceof    #31                 // class io/grpc/internal/ThreadOptimizedDeframer
       7: ifeq          42
      10: ldc           #32                 // String AbstractStream.request
      12: invokestatic  #33                 // Method io/perfmark/PerfMark.startTask:(Ljava/lang/String;)V
      15: aload_0
      16: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
      19: iload_1
      20: invokeinterface #34,  2           // InterfaceMethod io/grpc/internal/Deframer.request:(I)V
      25: ldc           #32                 // String AbstractStream.request
      27: invokestatic  #35                 // Method io/perfmark/PerfMark.stopTask:(Ljava/lang/String;)V
      30: goto          41
      33: astore_2
      34: ldc           #32                 // String AbstractStream.request
      36: invokestatic  #35                 // Method io/perfmark/PerfMark.stopTask:(Ljava/lang/String;)V
      39: aload_2
      40: athrow
      41: return
      42: invokestatic  #36                 // Method io/perfmark/PerfMark.linkOut:()Lio/perfmark/Link;
      45: astore_2
      46: aload_0
      47: new           #37                 // class io/grpc/internal/AbstractStream$TransportState$1RequestRunnable
      50: dup
      51: aload_0
      52: aload_2
      53: iload_1
      54: invokespecial #38                 // Method io/grpc/internal/AbstractStream$TransportState$1RequestRunnable."<init>":(Lio/grpc/internal/AbstractStream$TransportState;Lio/perfmark/Link;I)V
      57: invokevirtual #39                 // Method runOnTransportThread:(Ljava/lang/Runnable;)V
      60: return
    Exception table:
       from    to  target type
          15    25    33   any

  public final void requestMessagesFromDeframerForTesting(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #4                  // Method requestMessagesFromDeframer:(I)V
       5: return

  public final io.grpc.internal.StatsTraceContext getStatsTraceContext();
    Code:
       0: aload_0
       1: getfield      #11                 // Field statsTraceCtx:Lio/grpc/internal/StatsTraceContext;
       4: areturn

  protected final void setDecompressor(io.grpc.Decompressor);
    Code:
       0: aload_0
       1: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
       4: aload_1
       5: invokeinterface #40,  2           // InterfaceMethod io/grpc/internal/Deframer.setDecompressor:(Lio/grpc/Decompressor;)V
      10: return

  private boolean isReady();
    Code:
       0: aload_0
       1: getfield      #7                  // Field onReadyLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #41                 // Field allocated:Z
      11: ifeq          34
      14: aload_0
      15: getfield      #42                 // Field numSentBytesQueued:I
      18: ldc           #44                 // int 32768
      20: if_icmpge     34
      23: aload_0
      24: getfield      #45                 // Field deallocated:Z
      27: ifne          34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: aload_1
      36: monitorexit
      37: ireturn
      38: astore_2
      39: aload_1
      40: monitorexit
      41: aload_2
      42: athrow
    Exception table:
       from    to  target type
           7    37    38   any
          38    41    38   any

  protected void onStreamAllocated();
    Code:
       0: aload_0
       1: invokevirtual #24                 // Method listener:()Lio/grpc/internal/StreamListener;
       4: ifnull        11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: invokestatic  #46                 // Method com/google/common/base/Preconditions.checkState:(Z)V
      15: aload_0
      16: getfield      #7                  // Field onReadyLock:Ljava/lang/Object;
      19: dup
      20: astore_1
      21: monitorenter
      22: aload_0
      23: getfield      #41                 // Field allocated:Z
      26: ifne          33
      29: iconst_1
      30: goto          34
      33: iconst_0
      34: ldc           #47                 // String Already allocated
      36: invokestatic  #48                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      39: aload_0
      40: iconst_1
      41: putfield      #41                 // Field allocated:Z
      44: aload_1
      45: monitorexit
      46: goto          54
      49: astore_2
      50: aload_1
      51: monitorexit
      52: aload_2
      53: athrow
      54: aload_0
      55: invokespecial #49                 // Method notifyIfReady:()V
      58: return
    Exception table:
       from    to  target type
          22    46    49   any
          49    52    49   any

  protected final void onStreamDeallocated();
    Code:
       0: aload_0
       1: getfield      #7                  // Field onReadyLock:Ljava/lang/Object;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: iconst_1
       9: putfield      #45                 // Field deallocated:Z
      12: aload_1
      13: monitorexit
      14: goto          22
      17: astore_2
      18: aload_1
      19: monitorexit
      20: aload_2
      21: athrow
      22: return
    Exception table:
       from    to  target type
           7    14    17   any
          17    20    17   any

  private void onSendingBytes(int);
    Code:
       0: aload_0
       1: getfield      #7                  // Field onReadyLock:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: dup
       9: getfield      #42                 // Field numSentBytesQueued:I
      12: iload_1
      13: iadd
      14: putfield      #42                 // Field numSentBytesQueued:I
      17: aload_2
      18: monitorexit
      19: goto          27
      22: astore_3
      23: aload_2
      24: monitorexit
      25: aload_3
      26: athrow
      27: return
    Exception table:
       from    to  target type
           7    19    22   any
          22    25    22   any

  public final void onSentBytes(int);
    Code:
       0: aload_0
       1: getfield      #7                  // Field onReadyLock:Ljava/lang/Object;
       4: dup
       5: astore_3
       6: monitorenter
       7: aload_0
       8: getfield      #41                 // Field allocated:Z
      11: ldc           #50                 // String onStreamAllocated was not called, but it seems the stream is active
      13: invokestatic  #48                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      16: aload_0
      17: getfield      #42                 // Field numSentBytesQueued:I
      20: ldc           #44                 // int 32768
      22: if_icmpge     29
      25: iconst_1
      26: goto          30
      29: iconst_0
      30: istore        4
      32: aload_0
      33: dup
      34: getfield      #42                 // Field numSentBytesQueued:I
      37: iload_1
      38: isub
      39: putfield      #42                 // Field numSentBytesQueued:I
      42: aload_0
      43: getfield      #42                 // Field numSentBytesQueued:I
      46: ldc           #44                 // int 32768
      48: if_icmpge     55
      51: iconst_1
      52: goto          56
      55: iconst_0
      56: istore        5
      58: iload         4
      60: ifne          72
      63: iload         5
      65: ifeq          72
      68: iconst_1
      69: goto          73
      72: iconst_0
      73: istore_2
      74: aload_3
      75: monitorexit
      76: goto          86
      79: astore        6
      81: aload_3
      82: monitorexit
      83: aload         6
      85: athrow
      86: iload_2
      87: ifeq          94
      90: aload_0
      91: invokespecial #49                 // Method notifyIfReady:()V
      94: return
    Exception table:
       from    to  target type
           7    76    79   any
          79    83    79   any

  protected io.grpc.internal.TransportTracer getTransportTracer();
    Code:
       0: aload_0
       1: getfield      #14                 // Field transportTracer:Lio/grpc/internal/TransportTracer;
       4: areturn

  private void notifyIfReady();
    Code:
       0: aload_0
       1: getfield      #7                  // Field onReadyLock:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: invokespecial #3                  // Method isReady:()Z
      11: istore_1
      12: aload_2
      13: monitorexit
      14: goto          22
      17: astore_3
      18: aload_2
      19: monitorexit
      20: aload_3
      21: athrow
      22: iload_1
      23: ifeq          35
      26: aload_0
      27: invokevirtual #24                 // Method listener:()Lio/grpc/internal/StreamListener;
      30: invokeinterface #51,  1           // InterfaceMethod io/grpc/internal/StreamListener.onReady:()V
      35: return
    Exception table:
       from    to  target type
           7    14    17   any
          17    20    17   any

  static void access$000(io.grpc.internal.AbstractStream$TransportState, int);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #4                  // Method requestMessagesFromDeframer:(I)V
       5: return

  static boolean access$100(io.grpc.internal.AbstractStream$TransportState);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method isReady:()Z
       4: ireturn

  static void access$200(io.grpc.internal.AbstractStream$TransportState, int);
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #2                  // Method onSendingBytes:(I)V
       5: return

  static io.grpc.internal.Deframer access$300(io.grpc.internal.AbstractStream$TransportState);
    Code:
       0: aload_0
       1: getfield      #1                  // Field deframer:Lio/grpc/internal/Deframer;
       4: areturn
}
