Compiled from "SharedResourceHolder.java"
public final class io.grpc.internal.SharedResourceHolder {
  static final long DESTROY_DELAY_SECONDS;

  private static final io.grpc.internal.SharedResourceHolder holder;

  private final java.util.IdentityHashMap<io.grpc.internal.SharedResourceHolder$Resource<?>, io.grpc.internal.SharedResourceHolder$Instance> instances;

  private final io.grpc.internal.SharedResourceHolder$ScheduledExecutorFactory destroyerFactory;

  private java.util.concurrent.ScheduledExecutorService destroyer;

  io.grpc.internal.SharedResourceHolder(io.grpc.internal.SharedResourceHolder$ScheduledExecutorFactory);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #4                  // class java/util/IdentityHashMap
       8: dup
       9: invokespecial #5                  // Method java/util/IdentityHashMap."<init>":()V
      12: putfield      #2                  // Field instances:Ljava/util/IdentityHashMap;
      15: aload_0
      16: aload_1
      17: putfield      #6                  // Field destroyerFactory:Lio/grpc/internal/SharedResourceHolder$ScheduledExecutorFactory;
      20: return

  public static <T> T get(io.grpc.internal.SharedResourceHolder$Resource<T>);
    Code:
       0: getstatic     #7                  // Field holder:Lio/grpc/internal/SharedResourceHolder;
       3: aload_0
       4: invokevirtual #8                  // Method getInternal:(Lio/grpc/internal/SharedResourceHolder$Resource;)Ljava/lang/Object;
       7: areturn

  public static <T> T release(io.grpc.internal.SharedResourceHolder$Resource<T>, T);
    Code:
       0: getstatic     #7                  // Field holder:Lio/grpc/internal/SharedResourceHolder;
       3: aload_0
       4: aload_1
       5: invokevirtual #9                  // Method releaseInternal:(Lio/grpc/internal/SharedResourceHolder$Resource;Ljava/lang/Object;)Ljava/lang/Object;
       8: areturn

  synchronized <T> T getInternal(io.grpc.internal.SharedResourceHolder$Resource<T>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field instances:Ljava/util/IdentityHashMap;
       4: aload_1
       5: invokevirtual #10                 // Method java/util/IdentityHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #11                 // class io/grpc/internal/SharedResourceHolder$Instance
      11: astore_2
      12: aload_2
      13: ifnonnull     40
      16: new           #11                 // class io/grpc/internal/SharedResourceHolder$Instance
      19: dup
      20: aload_1
      21: invokeinterface #12,  1           // InterfaceMethod io/grpc/internal/SharedResourceHolder$Resource.create:()Ljava/lang/Object;
      26: invokespecial #13                 // Method io/grpc/internal/SharedResourceHolder$Instance."<init>":(Ljava/lang/Object;)V
      29: astore_2
      30: aload_0
      31: getfield      #2                  // Field instances:Ljava/util/IdentityHashMap;
      34: aload_1
      35: aload_2
      36: invokevirtual #14                 // Method java/util/IdentityHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      39: pop
      40: aload_2
      41: getfield      #15                 // Field io/grpc/internal/SharedResourceHolder$Instance.destroyTask:Ljava/util/concurrent/ScheduledFuture;
      44: ifnull        63
      47: aload_2
      48: getfield      #15                 // Field io/grpc/internal/SharedResourceHolder$Instance.destroyTask:Ljava/util/concurrent/ScheduledFuture;
      51: iconst_0
      52: invokeinterface #16,  2           // InterfaceMethod java/util/concurrent/ScheduledFuture.cancel:(Z)Z
      57: pop
      58: aload_2
      59: aconst_null
      60: putfield      #15                 // Field io/grpc/internal/SharedResourceHolder$Instance.destroyTask:Ljava/util/concurrent/ScheduledFuture;
      63: aload_2
      64: dup
      65: getfield      #17                 // Field io/grpc/internal/SharedResourceHolder$Instance.refcount:I
      68: iconst_1
      69: iadd
      70: putfield      #17                 // Field io/grpc/internal/SharedResourceHolder$Instance.refcount:I
      73: aload_2
      74: getfield      #18                 // Field io/grpc/internal/SharedResourceHolder$Instance.payload:Ljava/lang/Object;
      77: areturn

  synchronized <T> T releaseInternal(io.grpc.internal.SharedResourceHolder$Resource<T>, T);
    Code:
       0: aload_0
       1: getfield      #2                  // Field instances:Ljava/util/IdentityHashMap;
       4: aload_1
       5: invokevirtual #10                 // Method java/util/IdentityHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #11                 // class io/grpc/internal/SharedResourceHolder$Instance
      11: astore_3
      12: aload_3
      13: ifnonnull     43
      16: new           #19                 // class java/lang/IllegalArgumentException
      19: dup
      20: new           #20                 // class java/lang/StringBuilder
      23: dup
      24: invokespecial #21                 // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #22                 // String No cached instance found for
      29: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_1
      33: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      36: invokevirtual #25                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: invokespecial #26                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      42: athrow
      43: aload_2
      44: aload_3
      45: getfield      #18                 // Field io/grpc/internal/SharedResourceHolder$Instance.payload:Ljava/lang/Object;
      48: if_acmpne     55
      51: iconst_1
      52: goto          56
      55: iconst_0
      56: ldc           #27                 // String Releasing the wrong instance
      58: invokestatic  #28                 // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      61: aload_3
      62: getfield      #17                 // Field io/grpc/internal/SharedResourceHolder$Instance.refcount:I
      65: ifle          72
      68: iconst_1
      69: goto          73
      72: iconst_0
      73: ldc           #29                 // String Refcount has already reached zero
      75: invokestatic  #30                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      78: aload_3
      79: dup
      80: getfield      #17                 // Field io/grpc/internal/SharedResourceHolder$Instance.refcount:I
      83: iconst_1
      84: isub
      85: putfield      #17                 // Field io/grpc/internal/SharedResourceHolder$Instance.refcount:I
      88: aload_3
      89: getfield      #17                 // Field io/grpc/internal/SharedResourceHolder$Instance.refcount:I
      92: ifne          167
      95: aload_3
      96: getfield      #15                 // Field io/grpc/internal/SharedResourceHolder$Instance.destroyTask:Ljava/util/concurrent/ScheduledFuture;
      99: ifnonnull     106
     102: iconst_1
     103: goto          107
     106: iconst_0
     107: ldc           #31                 // String Destroy task already scheduled
     109: invokestatic  #30                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
     112: aload_0
     113: getfield      #1                  // Field destroyer:Ljava/util/concurrent/ScheduledExecutorService;
     116: ifnonnull     132
     119: aload_0
     120: aload_0
     121: getfield      #6                  // Field destroyerFactory:Lio/grpc/internal/SharedResourceHolder$ScheduledExecutorFactory;
     124: invokeinterface #32,  1           // InterfaceMethod io/grpc/internal/SharedResourceHolder$ScheduledExecutorFactory.createScheduledExecutor:()Ljava/util/concurrent/ScheduledExecutorService;
     129: putfield      #1                  // Field destroyer:Ljava/util/concurrent/ScheduledExecutorService;
     132: aload_3
     133: aload_0
     134: getfield      #1                  // Field destroyer:Ljava/util/concurrent/ScheduledExecutorService;
     137: new           #33                 // class io/grpc/internal/LogExceptionRunnable
     140: dup
     141: new           #34                 // class io/grpc/internal/SharedResourceHolder$2
     144: dup
     145: aload_0
     146: aload_3
     147: aload_1
     148: aload_2
     149: invokespecial #35                 // Method io/grpc/internal/SharedResourceHolder$2."<init>":(Lio/grpc/internal/SharedResourceHolder;Lio/grpc/internal/SharedResourceHolder$Instance;Lio/grpc/internal/SharedResourceHolder$Resource;Ljava/lang/Object;)V
     152: invokespecial #36                 // Method io/grpc/internal/LogExceptionRunnable."<init>":(Ljava/lang/Runnable;)V
     155: lconst_1
     156: getstatic     #38                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     159: invokeinterface #39,  5           // InterfaceMethod java/util/concurrent/ScheduledExecutorService.schedule:(Ljava/lang/Runnable;JLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
     164: putfield      #15                 // Field io/grpc/internal/SharedResourceHolder$Instance.destroyTask:Ljava/util/concurrent/ScheduledFuture;
     167: aconst_null
     168: areturn

  static java.util.IdentityHashMap access$000(io.grpc.internal.SharedResourceHolder);
    Code:
       0: aload_0
       1: getfield      #2                  // Field instances:Ljava/util/IdentityHashMap;
       4: areturn

  static java.util.concurrent.ScheduledExecutorService access$100(io.grpc.internal.SharedResourceHolder);
    Code:
       0: aload_0
       1: getfield      #1                  // Field destroyer:Ljava/util/concurrent/ScheduledExecutorService;
       4: areturn

  static java.util.concurrent.ScheduledExecutorService access$102(io.grpc.internal.SharedResourceHolder, java.util.concurrent.ScheduledExecutorService);
    Code:
       0: aload_0
       1: aload_1
       2: dup_x1
       3: putfield      #1                  // Field destroyer:Ljava/util/concurrent/ScheduledExecutorService;
       6: areturn

  static {};
    Code:
       0: new           #37                 // class io/grpc/internal/SharedResourceHolder
       3: dup
       4: new           #40                 // class io/grpc/internal/SharedResourceHolder$1
       7: dup
       8: invokespecial #41                 // Method io/grpc/internal/SharedResourceHolder$1."<init>":()V
      11: invokespecial #42                 // Method "<init>":(Lio/grpc/internal/SharedResourceHolder$ScheduledExecutorFactory;)V
      14: putstatic     #7                  // Field holder:Lio/grpc/internal/SharedResourceHolder;
      17: return
}
