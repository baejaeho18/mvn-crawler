Compiled from "StorageServerClientManagerImpl.java"
public class org.apache.bookkeeper.clients.impl.internal.StorageServerClientManagerImpl extends org.apache.bookkeeper.common.util.AbstractAutoAsyncCloseable implements org.apache.bookkeeper.clients.impl.internal.api.StorageServerClientManager {
  private static final org.slf4j.Logger log;

  private final org.apache.bookkeeper.common.util.SharedResourceManager$Resource<org.apache.bookkeeper.common.util.OrderedScheduler> schedulerResource;

  private final org.apache.bookkeeper.common.util.OrderedScheduler scheduler;

  private final org.apache.bookkeeper.clients.impl.channel.StorageServerChannelManager channelManager;

  private final org.apache.bookkeeper.clients.impl.container.StorageContainerChannelManager scChannelManager;

  private final org.apache.bookkeeper.clients.impl.internal.api.LocationClient locationClient;

  private final org.apache.bookkeeper.clients.impl.internal.api.RootRangeClient rootRangeClient;

  private final org.apache.bookkeeper.clients.impl.internal.StreamMetadataCache streamMetadataCache;

  private final java.util.concurrent.ConcurrentMap<java.lang.Long, org.apache.bookkeeper.clients.impl.internal.MetaRangeClientImpl> metaRangeClients;

  public org.apache.bookkeeper.clients.impl.internal.StorageServerClientManagerImpl(org.apache.bookkeeper.clients.config.StorageClientSettings, org.apache.bookkeeper.common.util.SharedResourceManager$Resource<org.apache.bookkeeper.common.util.OrderedScheduler>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_1
       4: invokestatic  #1                  // Method org/apache/bookkeeper/clients/impl/channel/StorageServerChannel.factory:(Lorg/apache/bookkeeper/clients/config/StorageClientSettings;)Ljava/util/function/Function;
       7: invokespecial #2                  // Method "<init>":(Lorg/apache/bookkeeper/clients/config/StorageClientSettings;Lorg/apache/bookkeeper/common/util/SharedResourceManager$Resource;Ljava/util/function/Function;)V
      10: return

  public org.apache.bookkeeper.clients.impl.internal.StorageServerClientManagerImpl(org.apache.bookkeeper.clients.config.StorageClientSettings, org.apache.bookkeeper.common.util.SharedResourceManager$Resource<org.apache.bookkeeper.common.util.OrderedScheduler>, java.util.function.Function<org.apache.bookkeeper.stream.proto.common.Endpoint, org.apache.bookkeeper.clients.impl.channel.StorageServerChannel>);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method org/apache/bookkeeper/common/util/AbstractAutoAsyncCloseable."<init>":()V
       4: aload_0
       5: aload_2
       6: putfield      #4                  // Field schedulerResource:Lorg/apache/bookkeeper/common/util/SharedResourceManager$Resource;
       9: aload_0
      10: invokestatic  #5                  // Method org/apache/bookkeeper/common/util/SharedResourceManager.shared:()Lorg/apache/bookkeeper/common/util/SharedResourceManager;
      13: aload_2
      14: invokevirtual #6                  // Method org/apache/bookkeeper/common/util/SharedResourceManager.get:(Lorg/apache/bookkeeper/common/util/SharedResourceManager$Resource;)Ljava/lang/Object;
      17: checkcast     #7                  // class org/apache/bookkeeper/common/util/OrderedScheduler
      20: putfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      23: aload_0
      24: new           #9                  // class org/apache/bookkeeper/clients/impl/internal/LocationClientImpl
      27: dup
      28: aload_1
      29: aload_0
      30: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      33: invokespecial #10                 // Method org/apache/bookkeeper/clients/impl/internal/LocationClientImpl."<init>":(Lorg/apache/bookkeeper/clients/config/StorageClientSettings;Lorg/apache/bookkeeper/common/util/OrderedScheduler;)V
      36: putfield      #11                 // Field locationClient:Lorg/apache/bookkeeper/clients/impl/internal/api/LocationClient;
      39: aload_0
      40: new           #12                 // class org/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager
      43: dup
      44: aload_3
      45: invokespecial #13                 // Method org/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager."<init>":(Ljava/util/function/Function;)V
      48: putfield      #14                 // Field channelManager:Lorg/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager;
      51: aload_0
      52: new           #15                 // class org/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager
      55: dup
      56: aload_0
      57: getfield      #14                 // Field channelManager:Lorg/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager;
      60: aload_0
      61: getfield      #11                 // Field locationClient:Lorg/apache/bookkeeper/clients/impl/internal/api/LocationClient;
      64: aload_0
      65: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      68: invokespecial #16                 // Method org/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager."<init>":(Lorg/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager;Lorg/apache/bookkeeper/clients/impl/internal/api/LocationClient;Lorg/apache/bookkeeper/common/util/OrderedScheduler;)V
      71: putfield      #17                 // Field scChannelManager:Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;
      74: aload_0
      75: new           #18                 // class org/apache/bookkeeper/clients/impl/internal/RootRangeClientImplWithRetries
      78: dup
      79: new           #19                 // class org/apache/bookkeeper/clients/impl/internal/RootRangeClientImpl
      82: dup
      83: aload_0
      84: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      87: aload_0
      88: getfield      #17                 // Field scChannelManager:Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;
      91: invokespecial #20                 // Method org/apache/bookkeeper/clients/impl/internal/RootRangeClientImpl."<init>":(Lorg/apache/bookkeeper/common/util/OrderedScheduler;Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;)V
      94: aload_1
      95: invokeinterface #21,  1           // InterfaceMethod org/apache/bookkeeper/clients/config/StorageClientSettings.backoffPolicy:()Lorg/apache/bookkeeper/common/util/Backoff$Policy;
     100: aload_0
     101: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
     104: invokespecial #22                 // Method org/apache/bookkeeper/clients/impl/internal/RootRangeClientImplWithRetries."<init>":(Lorg/apache/bookkeeper/clients/impl/internal/api/RootRangeClient;Lorg/apache/bookkeeper/common/util/Backoff$Policy;Lorg/apache/bookkeeper/common/util/OrderedScheduler;)V
     107: putfield      #23                 // Field rootRangeClient:Lorg/apache/bookkeeper/clients/impl/internal/api/RootRangeClient;
     110: aload_0
     111: new           #24                 // class org/apache/bookkeeper/clients/impl/internal/StreamMetadataCache
     114: dup
     115: aload_0
     116: getfield      #23                 // Field rootRangeClient:Lorg/apache/bookkeeper/clients/impl/internal/api/RootRangeClient;
     119: invokespecial #25                 // Method org/apache/bookkeeper/clients/impl/internal/StreamMetadataCache."<init>":(Lorg/apache/bookkeeper/clients/impl/internal/api/RootRangeClient;)V
     122: putfield      #26                 // Field streamMetadataCache:Lorg/apache/bookkeeper/clients/impl/internal/StreamMetadataCache;
     125: aload_0
     126: invokestatic  #27                 // Method com/google/common/collect/Maps.newConcurrentMap:()Ljava/util/concurrent/ConcurrentMap;
     129: putfield      #28                 // Field metaRangeClients:Ljava/util/concurrent/ConcurrentMap;
     132: return

  org.apache.bookkeeper.clients.impl.container.StorageContainerChannelManager getStorageContainerChannelManager();
    Code:
       0: aload_0
       1: getfield      #17                 // Field scChannelManager:Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;
       4: areturn

  public org.apache.bookkeeper.clients.impl.container.StorageContainerChannel getStorageContainerChannel(long);
    Code:
       0: aload_0
       1: getfield      #17                 // Field scChannelManager:Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;
       4: lload_1
       5: invokevirtual #29                 // Method org/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager.getOrCreate:(J)Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannel;
       8: areturn

  public org.apache.bookkeeper.clients.impl.internal.api.LocationClient getLocationClient();
    Code:
       0: aload_0
       1: getfield      #11                 // Field locationClient:Lorg/apache/bookkeeper/clients/impl/internal/api/LocationClient;
       4: areturn

  public org.apache.bookkeeper.clients.impl.internal.api.RootRangeClient getRootRangeClient();
    Code:
       0: aload_0
       1: getfield      #23                 // Field rootRangeClient:Lorg/apache/bookkeeper/clients/impl/internal/api/RootRangeClient;
       4: areturn

  public org.apache.bookkeeper.clients.impl.internal.MetaRangeClientImpl openMetaRangeClient(org.apache.bookkeeper.stream.proto.StreamProperties);
    Code:
       0: aload_0
       1: getfield      #28                 // Field metaRangeClients:Ljava/util/concurrent/ConcurrentMap;
       4: aload_1
       5: invokevirtual #30                 // Method org/apache/bookkeeper/stream/proto/StreamProperties.getStreamId:()J
       8: invokestatic  #31                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      11: invokeinterface #32,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #33                 // class org/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl
      19: astore_2
      20: aconst_null
      21: aload_2
      22: if_acmpeq     27
      25: aload_2
      26: areturn
      27: new           #33                 // class org/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl
      30: dup
      31: aload_1
      32: aload_0
      33: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      36: aload_0
      37: getfield      #17                 // Field scChannelManager:Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;
      40: invokespecial #34                 // Method org/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl."<init>":(Lorg/apache/bookkeeper/stream/proto/StreamProperties;Lorg/apache/bookkeeper/common/util/OrderedScheduler;Lorg/apache/bookkeeper/clients/impl/container/StorageContainerChannelManager;)V
      43: astore_3
      44: aload_0
      45: getfield      #28                 // Field metaRangeClients:Ljava/util/concurrent/ConcurrentMap;
      48: aload_1
      49: invokevirtual #30                 // Method org/apache/bookkeeper/stream/proto/StreamProperties.getStreamId:()J
      52: invokestatic  #31                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      55: aload_3
      56: invokeinterface #35,  3           // InterfaceMethod java/util/concurrent/ConcurrentMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      61: checkcast     #33                 // class org/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl
      64: astore        4
      66: aconst_null
      67: aload         4
      69: if_acmpeq     75
      72: aload         4
      74: areturn
      75: aload_0
      76: getfield      #26                 // Field streamMetadataCache:Lorg/apache/bookkeeper/clients/impl/internal/StreamMetadataCache;
      79: aload_1
      80: invokevirtual #30                 // Method org/apache/bookkeeper/stream/proto/StreamProperties.getStreamId:()J
      83: aload_1
      84: invokevirtual #36                 // Method org/apache/bookkeeper/clients/impl/internal/StreamMetadataCache.putStreamProperties:(JLorg/apache/bookkeeper/stream/proto/StreamProperties;)Z
      87: pop
      88: aload_3
      89: areturn

  public java.util.concurrent.CompletableFuture<org.apache.bookkeeper.stream.proto.StreamProperties> getStreamProperties(long);
    Code:
       0: aload_0
       1: getfield      #26                 // Field streamMetadataCache:Lorg/apache/bookkeeper/clients/impl/internal/StreamMetadataCache;
       4: lload_1
       5: invokevirtual #37                 // Method org/apache/bookkeeper/clients/impl/internal/StreamMetadataCache.getStreamProperties:(J)Ljava/util/concurrent/CompletableFuture;
       8: areturn

  public java.util.concurrent.CompletableFuture<org.apache.bookkeeper.clients.impl.internal.api.MetaRangeClient> openMetaRangeClient(long);
    Code:
       0: aload_0
       1: getfield      #28                 // Field metaRangeClients:Ljava/util/concurrent/ConcurrentMap;
       4: lload_1
       5: invokestatic  #31                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokeinterface #32,  2           // InterfaceMethod java/util/concurrent/ConcurrentMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #33                 // class org/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl
      16: astore_3
      17: aconst_null
      18: aload_3
      19: if_acmpeq     27
      22: aload_3
      23: invokestatic  #38                 // Method org/apache/bookkeeper/common/concurrent/FutureUtils.value:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      26: areturn
      27: aload_0
      28: lload_1
      29: invokevirtual #39                 // Method getStreamProperties:(J)Ljava/util/concurrent/CompletableFuture;
      32: aload_0
      33: invokedynamic #40,  0             // InvokeDynamic #0:apply:(Lorg/apache/bookkeeper/clients/impl/internal/StorageServerClientManagerImpl;)Ljava/util/function/Function;
      38: invokevirtual #41                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      41: areturn

  protected void closeAsyncOnce(java.util.concurrent.CompletableFuture<java.lang.Void>);
    Code:
       0: aload_0
       1: getfield      #11                 // Field locationClient:Lorg/apache/bookkeeper/clients/impl/internal/api/LocationClient;
       4: invokeinterface #42,  1           // InterfaceMethod org/apache/bookkeeper/clients/impl/internal/api/LocationClient.close:()V
       9: aload_0
      10: getfield      #14                 // Field channelManager:Lorg/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager;
      13: invokevirtual #43                 // Method org/apache/bookkeeper/clients/impl/channel/StorageServerChannelManager.close:()V
      16: aload_0
      17: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      20: aload_0
      21: aload_1
      22: invokedynamic #44,  0             // InvokeDynamic #1:run:(Lorg/apache/bookkeeper/clients/impl/internal/StorageServerClientManagerImpl;Ljava/util/concurrent/CompletableFuture;)Ljava/lang/Runnable;
      27: invokevirtual #45                 // Method org/apache/bookkeeper/common/util/OrderedScheduler.submit:(Ljava/lang/Runnable;)Ljava/util/concurrent/Future;
      30: pop
      31: return

  public org.apache.bookkeeper.clients.impl.internal.api.MetaRangeClient openMetaRangeClient(org.apache.bookkeeper.stream.proto.StreamProperties);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #46                 // Method openMetaRangeClient:(Lorg/apache/bookkeeper/stream/proto/StreamProperties;)Lorg/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl;
       5: areturn

  private void lambda$closeAsyncOnce$1(java.util.concurrent.CompletableFuture);
    Code:
       0: invokestatic  #5                  // Method org/apache/bookkeeper/common/util/SharedResourceManager.shared:()Lorg/apache/bookkeeper/common/util/SharedResourceManager;
       3: aload_0
       4: getfield      #4                  // Field schedulerResource:Lorg/apache/bookkeeper/common/util/SharedResourceManager$Resource;
       7: aload_0
       8: getfield      #8                  // Field scheduler:Lorg/apache/bookkeeper/common/util/OrderedScheduler;
      11: invokevirtual #47                 // Method org/apache/bookkeeper/common/util/SharedResourceManager.release:(Lorg/apache/bookkeeper/common/util/SharedResourceManager$Resource;Ljava/lang/Object;)V
      14: aload_1
      15: aconst_null
      16: invokevirtual #48                 // Method java/util/concurrent/CompletableFuture.complete:(Ljava/lang/Object;)Z
      19: pop
      20: return

  private org.apache.bookkeeper.clients.impl.internal.api.MetaRangeClient lambda$openMetaRangeClient$0(org.apache.bookkeeper.stream.proto.StreamProperties);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #46                 // Method openMetaRangeClient:(Lorg/apache/bookkeeper/stream/proto/StreamProperties;)Lorg/apache/bookkeeper/clients/impl/internal/MetaRangeClientImpl;
       5: areturn

  static {};
    Code:
       0: ldc           #49                 // class org/apache/bookkeeper/clients/impl/internal/StorageServerClientManagerImpl
       2: invokestatic  #50                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #51                 // Field log:Lorg/slf4j/Logger;
       8: return
}
