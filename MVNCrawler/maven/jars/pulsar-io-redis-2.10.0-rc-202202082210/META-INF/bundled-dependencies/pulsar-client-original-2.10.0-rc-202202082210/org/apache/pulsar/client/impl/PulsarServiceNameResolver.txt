Compiled from "PulsarServiceNameResolver.java"
public class org.apache.pulsar.client.impl.PulsarServiceNameResolver implements org.apache.pulsar.client.impl.ServiceNameResolver {
  private static final org.slf4j.Logger log;

  private volatile org.apache.pulsar.common.net.ServiceURI serviceUri;

  private volatile java.lang.String serviceUrl;

  private static final java.util.concurrent.atomic.AtomicIntegerFieldUpdater<org.apache.pulsar.client.impl.PulsarServiceNameResolver> CURRENT_INDEX_UPDATER;

  private volatile int currentIndex;

  private volatile java.util.List<java.net.InetSocketAddress> addressList;

  public org.apache.pulsar.client.impl.PulsarServiceNameResolver();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public java.net.InetSocketAddress resolveHost();
    Code:
       0: aload_0
       1: getfield      #2                  // Field addressList:Ljava/util/List;
       4: astore_1
       5: aload_1
       6: ifnull        13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: ldc           #3                  // String No service url is provided yet
      16: invokestatic  #4                  // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      19: aload_1
      20: invokeinterface #5,  1            // InterfaceMethod java/util/List.isEmpty:()Z
      25: ifne          32
      28: iconst_1
      29: goto          33
      32: iconst_0
      33: new           #6                  // class java/lang/StringBuilder
      36: dup
      37: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
      40: ldc           #8                  // String No hosts found for service url :
      42: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_0
      46: getfield      #10                 // Field serviceUrl:Ljava/lang/String;
      49: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      55: invokestatic  #4                  // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      58: aload_1
      59: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
      64: iconst_1
      65: if_icmpne     79
      68: aload_1
      69: iconst_0
      70: invokeinterface #13,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      75: checkcast     #14                 // class java/net/InetSocketAddress
      78: areturn
      79: getstatic     #15                 // Field CURRENT_INDEX_UPDATER:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      82: aload_0
      83: aload_1
      84: invokedynamic #16,  0             // InvokeDynamic #0:applyAsInt:(Ljava/util/List;)Ljava/util/function/IntUnaryOperator;
      89: invokevirtual #17                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.getAndUpdate:(Ljava/lang/Object;Ljava/util/function/IntUnaryOperator;)I
      92: pop
      93: aload_1
      94: aload_0
      95: getfield      #18                 // Field currentIndex:I
      98: invokeinterface #13,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     103: checkcast     #14                 // class java/net/InetSocketAddress
     106: areturn

  public java.net.URI resolveHostUri();
    Code:
       0: aload_0
       1: invokevirtual #19                 // Method resolveHost:()Ljava/net/InetSocketAddress;
       4: astore_1
       5: new           #6                  // class java/lang/StringBuilder
       8: dup
       9: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
      12: aload_0
      13: getfield      #20                 // Field serviceUri:Lorg/apache/pulsar/common/net/ServiceURI;
      16: invokevirtual #21                 // Method org/apache/pulsar/common/net/ServiceURI.getServiceScheme:()Ljava/lang/String;
      19: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: ldc           #22                 // String ://
      24: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: aload_1
      28: invokevirtual #23                 // Method java/net/InetSocketAddress.getHostName:()Ljava/lang/String;
      31: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: ldc           #24                 // String :
      36: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_1
      40: invokevirtual #25                 // Method java/net/InetSocketAddress.getPort:()I
      43: invokevirtual #26                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      46: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      49: astore_2
      50: aload_2
      51: invokestatic  #27                 // Method java/net/URI.create:(Ljava/lang/String;)Ljava/net/URI;
      54: areturn

  public java.lang.String getServiceUrl();
    Code:
       0: aload_0
       1: getfield      #10                 // Field serviceUrl:Ljava/lang/String;
       4: areturn

  public org.apache.pulsar.common.net.ServiceURI getServiceUri();
    Code:
       0: aload_0
       1: getfield      #20                 // Field serviceUri:Lorg/apache/pulsar/common/net/ServiceURI;
       4: areturn

  public void updateServiceUrl(java.lang.String) throws org.apache.pulsar.client.api.PulsarClientException$InvalidServiceURL;
    Code:
       0: aload_1
       1: invokestatic  #28                 // Method org/apache/pulsar/common/net/ServiceURI.create:(Ljava/lang/String;)Lorg/apache/pulsar/common/net/ServiceURI;
       4: astore_2
       5: goto          47
       8: astore_3
       9: getstatic     #30                 // Field log:Lorg/slf4j/Logger;
      12: ldc           #31                 // String Invalid service-url {} provided {}
      14: iconst_3
      15: anewarray     #32                 // class java/lang/Object
      18: dup
      19: iconst_0
      20: aload_1
      21: aastore
      22: dup
      23: iconst_1
      24: aload_3
      25: invokevirtual #33                 // Method java/lang/IllegalArgumentException.getMessage:()Ljava/lang/String;
      28: aastore
      29: dup
      30: iconst_2
      31: aload_3
      32: aastore
      33: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      38: new           #35                 // class org/apache/pulsar/client/api/PulsarClientException$InvalidServiceURL
      41: dup
      42: aload_3
      43: invokespecial #36                 // Method org/apache/pulsar/client/api/PulsarClientException$InvalidServiceURL."<init>":(Ljava/lang/Throwable;)V
      46: athrow
      47: aload_2
      48: invokevirtual #37                 // Method org/apache/pulsar/common/net/ServiceURI.getServiceHosts:()[Ljava/lang/String;
      51: astore_3
      52: new           #38                 // class java/util/ArrayList
      55: dup
      56: aload_3
      57: arraylength
      58: invokespecial #39                 // Method java/util/ArrayList."<init>":(I)V
      61: astore        4
      63: aload_3
      64: astore        5
      66: aload         5
      68: arraylength
      69: istore        6
      71: iconst_0
      72: istore        7
      74: iload         7
      76: iload         6
      78: if_icmpge     184
      81: aload         5
      83: iload         7
      85: aaload
      86: astore        8
      88: new           #6                  // class java/lang/StringBuilder
      91: dup
      92: invokespecial #7                  // Method java/lang/StringBuilder."<init>":()V
      95: aload_2
      96: invokevirtual #21                 // Method org/apache/pulsar/common/net/ServiceURI.getServiceScheme:()Ljava/lang/String;
      99: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     102: ldc           #22                 // String ://
     104: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     107: aload         8
     109: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     115: astore        9
     117: new           #40                 // class java/net/URI
     120: dup
     121: aload         9
     123: invokespecial #41                 // Method java/net/URI."<init>":(Ljava/lang/String;)V
     126: astore        10
     128: aload         4
     130: aload         10
     132: invokevirtual #42                 // Method java/net/URI.getHost:()Ljava/lang/String;
     135: aload         10
     137: invokevirtual #43                 // Method java/net/URI.getPort:()I
     140: invokestatic  #44                 // Method java/net/InetSocketAddress.createUnresolved:(Ljava/lang/String;I)Ljava/net/InetSocketAddress;
     143: invokeinterface #45,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     148: pop
     149: goto          178
     152: astore        10
     154: getstatic     #30                 // Field log:Lorg/slf4j/Logger;
     157: ldc           #47                 // String Invalid host provided {}
     159: aload         9
     161: aload         10
     163: invokeinterface #48,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     168: new           #35                 // class org/apache/pulsar/client/api/PulsarClientException$InvalidServiceURL
     171: dup
     172: aload         10
     174: invokespecial #36                 // Method org/apache/pulsar/client/api/PulsarClientException$InvalidServiceURL."<init>":(Ljava/lang/Throwable;)V
     177: athrow
     178: iinc          7, 1
     181: goto          74
     184: aload_0
     185: aload         4
     187: putfield      #2                  // Field addressList:Ljava/util/List;
     190: aload_0
     191: aload_1
     192: putfield      #10                 // Field serviceUrl:Ljava/lang/String;
     195: aload_0
     196: aload_2
     197: putfield      #20                 // Field serviceUri:Lorg/apache/pulsar/common/net/ServiceURI;
     200: aload_0
     201: aload         4
     203: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
     208: invokestatic  #49                 // Method randomIndex:(I)I
     211: putfield      #18                 // Field currentIndex:I
     214: return
    Exception table:
       from    to  target type
           0     5     8   Class java/lang/IllegalArgumentException
         117   149   152   Class java/net/URISyntaxException

  private static int randomIndex(int);
    Code:
       0: iload_0
       1: iconst_1
       2: if_icmpne     9
       5: iconst_0
       6: goto          16
       9: invokestatic  #50                 // Method io/netty/util/internal/PlatformDependent.threadLocalRandom:()Ljava/util/Random;
      12: iload_0
      13: invokevirtual #51                 // Method java/util/Random.nextInt:(I)I
      16: ireturn

  private static int lambda$resolveHost$0(java.util.List, int);
    Code:
       0: iload_1
       1: iconst_1
       2: iadd
       3: aload_0
       4: invokeinterface #12,  1           // InterfaceMethod java/util/List.size:()I
       9: irem
      10: ireturn

  static {};
    Code:
       0: ldc           #52                 // class org/apache/pulsar/client/impl/PulsarServiceNameResolver
       2: invokestatic  #53                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #30                 // Field log:Lorg/slf4j/Logger;
       8: ldc           #52                 // class org/apache/pulsar/client/impl/PulsarServiceNameResolver
      10: ldc           #54                 // String currentIndex
      12: invokestatic  #55                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      15: putstatic     #15                 // Field CURRENT_INDEX_UPDATER:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      18: return
}
