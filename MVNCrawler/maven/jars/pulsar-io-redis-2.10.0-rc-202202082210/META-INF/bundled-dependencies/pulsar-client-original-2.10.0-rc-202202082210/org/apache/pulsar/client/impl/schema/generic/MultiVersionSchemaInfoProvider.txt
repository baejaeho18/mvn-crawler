Compiled from "MultiVersionSchemaInfoProvider.java"
public class org.apache.pulsar.client.impl.schema.generic.MultiVersionSchemaInfoProvider implements org.apache.pulsar.client.api.schema.SchemaInfoProvider {
  private static final org.slf4j.Logger LOG;

  private final org.apache.pulsar.common.naming.TopicName topicName;

  private final org.apache.pulsar.client.impl.PulsarClientImpl pulsarClient;

  private final com.google.common.cache.LoadingCache<org.apache.pulsar.common.protocol.schema.BytesSchemaVersion, java.util.concurrent.CompletableFuture<org.apache.pulsar.common.schema.SchemaInfo>> cache;

  public org.apache.pulsar.client.impl.schema.generic.MultiVersionSchemaInfoProvider(org.apache.pulsar.common.naming.TopicName, org.apache.pulsar.client.impl.PulsarClientImpl);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: invokestatic  #4                  // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
       8: ldc2_w        #5                  // long 100000l
      11: invokevirtual #7                  // Method com/google/common/cache/CacheBuilder.maximumSize:(J)Lcom/google/common/cache/CacheBuilder;
      14: ldc2_w        #8                  // long 30l
      17: getstatic     #10                 // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
      20: invokevirtual #11                 // Method com/google/common/cache/CacheBuilder.expireAfterAccess:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
      23: new           #12                 // class org/apache/pulsar/client/impl/schema/generic/MultiVersionSchemaInfoProvider$1
      26: dup
      27: aload_0
      28: invokespecial #13                 // Method org/apache/pulsar/client/impl/schema/generic/MultiVersionSchemaInfoProvider$1."<init>":(Lorg/apache/pulsar/client/impl/schema/generic/MultiVersionSchemaInfoProvider;)V
      31: invokevirtual #14                 // Method com/google/common/cache/CacheBuilder.build:(Lcom/google/common/cache/CacheLoader;)Lcom/google/common/cache/LoadingCache;
      34: putfield      #1                  // Field cache:Lcom/google/common/cache/LoadingCache;
      37: aload_0
      38: aload_1
      39: putfield      #15                 // Field topicName:Lorg/apache/pulsar/common/naming/TopicName;
      42: aload_0
      43: aload_2
      44: putfield      #16                 // Field pulsarClient:Lorg/apache/pulsar/client/impl/PulsarClientImpl;
      47: return

  public java.util.concurrent.CompletableFuture<org.apache.pulsar.common.schema.SchemaInfo> getSchemaByVersion(byte[]);
    Code:
       0: aconst_null
       1: aload_1
       2: if_acmpne     10
       5: aconst_null
       6: invokestatic  #17                 // Method java/util/concurrent/CompletableFuture.completedFuture:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
       9: areturn
      10: aload_0
      11: getfield      #1                  // Field cache:Lcom/google/common/cache/LoadingCache;
      14: aload_1
      15: invokestatic  #18                 // Method org/apache/pulsar/common/protocol/schema/BytesSchemaVersion.of:([B)Lorg/apache/pulsar/common/protocol/schema/BytesSchemaVersion;
      18: invokeinterface #19,  2           // InterfaceMethod com/google/common/cache/LoadingCache.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #20                 // class java/util/concurrent/CompletableFuture
      26: areturn
      27: astore_2
      28: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      31: ldc           #23                 // String Can\'t get schema for topic {} schema version {}
      33: iconst_3
      34: anewarray     #24                 // class java/lang/Object
      37: dup
      38: iconst_0
      39: aload_0
      40: getfield      #15                 // Field topicName:Lorg/apache/pulsar/common/naming/TopicName;
      43: invokevirtual #25                 // Method org/apache/pulsar/common/naming/TopicName.toString:()Ljava/lang/String;
      46: aastore
      47: dup
      48: iconst_1
      49: new           #26                 // class java/lang/String
      52: dup
      53: aload_1
      54: getstatic     #27                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      57: invokespecial #28                 // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
      60: aastore
      61: dup
      62: iconst_2
      63: aload_2
      64: aastore
      65: invokeinterface #29,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      70: aload_2
      71: invokevirtual #30                 // Method java/util/concurrent/ExecutionException.getCause:()Ljava/lang/Throwable;
      74: invokestatic  #31                 // Method org/apache/pulsar/common/util/FutureUtil.failedFuture:(Ljava/lang/Throwable;)Ljava/util/concurrent/CompletableFuture;
      77: areturn
    Exception table:
       from    to  target type
           0     9    27   Class java/util/concurrent/ExecutionException
          10    26    27   Class java/util/concurrent/ExecutionException

  public java.util.concurrent.CompletableFuture<org.apache.pulsar.common.schema.SchemaInfo> getLatestSchema();
    Code:
       0: aload_0
       1: getfield      #16                 // Field pulsarClient:Lorg/apache/pulsar/client/impl/PulsarClientImpl;
       4: invokevirtual #32                 // Method org/apache/pulsar/client/impl/PulsarClientImpl.getLookup:()Lorg/apache/pulsar/client/impl/LookupService;
       7: aload_0
       8: getfield      #15                 // Field topicName:Lorg/apache/pulsar/common/naming/TopicName;
      11: invokeinterface #33,  2           // InterfaceMethod org/apache/pulsar/client/impl/LookupService.getSchema:(Lorg/apache/pulsar/common/naming/TopicName;)Ljava/util/concurrent/CompletableFuture;
      16: invokedynamic #34,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
      21: invokevirtual #35                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      24: areturn

  public java.lang.String getTopicName();
    Code:
       0: aload_0
       1: getfield      #15                 // Field topicName:Lorg/apache/pulsar/common/naming/TopicName;
       4: invokevirtual #36                 // Method org/apache/pulsar/common/naming/TopicName.getLocalName:()Ljava/lang/String;
       7: areturn

  private java.util.concurrent.CompletableFuture<org.apache.pulsar.common.schema.SchemaInfo> loadSchema(byte[]);
    Code:
       0: aload_0
       1: getfield      #16                 // Field pulsarClient:Lorg/apache/pulsar/client/impl/PulsarClientImpl;
       4: invokevirtual #32                 // Method org/apache/pulsar/client/impl/PulsarClientImpl.getLookup:()Lorg/apache/pulsar/client/impl/LookupService;
       7: aload_0
       8: getfield      #15                 // Field topicName:Lorg/apache/pulsar/common/naming/TopicName;
      11: aload_1
      12: invokeinterface #37,  3           // InterfaceMethod org/apache/pulsar/client/impl/LookupService.getSchema:(Lorg/apache/pulsar/common/naming/TopicName;[B)Ljava/util/concurrent/CompletableFuture;
      17: invokedynamic #38,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      22: invokevirtual #35                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      25: areturn

  public org.apache.pulsar.client.impl.PulsarClientImpl getPulsarClient();
    Code:
       0: aload_0
       1: getfield      #16                 // Field pulsarClient:Lorg/apache/pulsar/client/impl/PulsarClientImpl;
       4: areturn

  private static org.apache.pulsar.common.schema.SchemaInfo lambda$loadSchema$1(java.util.Optional);
    Code:
       0: aload_0
       1: aconst_null
       2: invokevirtual #39                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
       5: checkcast     #40                 // class org/apache/pulsar/common/schema/SchemaInfo
       8: areturn

  private static org.apache.pulsar.common.schema.SchemaInfo lambda$getLatestSchema$0(java.util.Optional);
    Code:
       0: aload_0
       1: aconst_null
       2: invokevirtual #39                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
       5: checkcast     #40                 // class org/apache/pulsar/common/schema/SchemaInfo
       8: areturn

  static java.util.concurrent.CompletableFuture access$000(org.apache.pulsar.client.impl.schema.generic.MultiVersionSchemaInfoProvider, byte[]);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method loadSchema:([B)Ljava/util/concurrent/CompletableFuture;
       5: areturn

  static com.google.common.cache.LoadingCache access$100(org.apache.pulsar.client.impl.schema.generic.MultiVersionSchemaInfoProvider);
    Code:
       0: aload_0
       1: getfield      #1                  // Field cache:Lcom/google/common/cache/LoadingCache;
       4: areturn

  static {};
    Code:
       0: ldc           #41                 // class org/apache/pulsar/client/impl/schema/generic/MultiVersionSchemaInfoProvider
       2: invokestatic  #42                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
