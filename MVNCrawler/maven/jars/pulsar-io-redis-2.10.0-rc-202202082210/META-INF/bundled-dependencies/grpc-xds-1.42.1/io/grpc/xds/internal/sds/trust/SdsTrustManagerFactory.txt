Compiled from "SdsTrustManagerFactory.java"
public final class io.grpc.xds.internal.sds.trust.SdsTrustManagerFactory extends io.grpc.netty.shaded.io.netty.handler.ssl.util.SimpleTrustManagerFactory {
  private static final java.util.logging.Logger logger;

  private io.grpc.xds.internal.sds.trust.SdsX509TrustManager sdsX509TrustManager;

  public io.grpc.xds.internal.sds.trust.SdsTrustManagerFactory(io.grpc.xds.shaded.io.envoyproxy.envoy.extensions.transport_sockets.tls.v3.CertificateValidationContext) throws java.security.cert.CertificateException, java.io.IOException, java.security.cert.CertStoreException;
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #26                 // Method getTrustedCaFromCertContext:(Lio/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext;)[Ljava/security/cert/X509Certificate;
       5: aload_1
       6: iconst_0
       7: invokespecial #29                 // Method "<init>":([Ljava/security/cert/X509Certificate;Lio/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext;Z)V
      10: return

  public io.grpc.xds.internal.sds.trust.SdsTrustManagerFactory(java.security.cert.X509Certificate[], io.grpc.xds.shaded.io.envoyproxy.envoy.extensions.transport_sockets.tls.v3.CertificateValidationContext) throws java.security.cert.CertStoreException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iconst_1
       4: invokespecial #29                 // Method "<init>":([Ljava/security/cert/X509Certificate;Lio/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext;Z)V
       7: return

  private io.grpc.xds.internal.sds.trust.SdsTrustManagerFactory(java.security.cert.X509Certificate[], io.grpc.xds.shaded.io.envoyproxy.envoy.extensions.transport_sockets.tls.v3.CertificateValidationContext, boolean) throws java.security.cert.CertStoreException;
    Code:
       0: aload_0
       1: invokespecial #40                 // Method io/grpc/netty/shaded/io/netty/handler/ssl/util/SimpleTrustManagerFactory."<init>":()V
       4: iload_3
       5: ifeq          29
       8: aload_2
       9: ifnull        19
      12: aload_2
      13: invokevirtual #46                 // Method io/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext.hasTrustedCa:()Z
      16: ifne          23
      19: iconst_1
      20: goto          24
      23: iconst_0
      24: ldc           #49                 // String only static certificateValidationContext expected
      26: invokestatic  #55                 // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
      29: aload_0
      30: aload_1
      31: aload_2
      32: invokestatic  #59                 // Method createSdsX509TrustManager:([Ljava/security/cert/X509Certificate;Lio/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext;)Lio/grpc/xds/internal/sds/trust/SdsX509TrustManager;
      35: putfield      #61                 // Field sdsX509TrustManager:Lio/grpc/xds/internal/sds/trust/SdsX509TrustManager;
      38: return

  private static java.security.cert.X509Certificate[] getTrustedCaFromCertContext(io.grpc.xds.shaded.io.envoyproxy.envoy.extensions.transport_sockets.tls.v3.CertificateValidationContext) throws java.security.cert.CertificateException, java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #69                 // Method io/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext.getTrustedCa:()Lio/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource;
       4: invokevirtual #73                 // Method io/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource.getSpecifierCase:()Lio/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource$SpecifierCase;
       7: astore_1
       8: aload_1
       9: getstatic     #77                 // Field io/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource$SpecifierCase.FILENAME:Lio/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource$SpecifierCase;
      12: if_acmpne     52
      15: aload_0
      16: invokevirtual #69                 // Method io/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext.getTrustedCa:()Lio/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource;
      19: invokevirtual #81                 // Method io/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource.getFilename:()Ljava/lang/String;
      22: astore_2
      23: aload_2
      24: invokestatic  #87                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
      27: ifne          34
      30: iconst_1
      31: goto          35
      34: iconst_0
      35: ldc           #91                 // String trustedCa.file-name in certificateValidationContext cannot be empty
      37: invokestatic  #94                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      40: new           #96                 // class java/io/File
      43: dup
      44: aload_2
      45: invokespecial #99                 // Method java/io/File."<init>":(Ljava/lang/String;)V
      48: invokestatic  #105                // Method io/grpc/xds/internal/sds/trust/CertificateUtils.toX509Certificates:(Ljava/io/File;)[Ljava/security/cert/X509Certificate;
      51: areturn
      52: aload_1
      53: getstatic     #108                // Field io/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource$SpecifierCase.INLINE_BYTES:Lio/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource$SpecifierCase;
      56: if_acmpne     154
      59: aload_0
      60: invokevirtual #69                 // Method io/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext.getTrustedCa:()Lio/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource;
      63: invokevirtual #112                // Method io/grpc/xds/shaded/io/envoyproxy/envoy/config/core/v3/DataSource.getInlineBytes:()Lcom/google/protobuf/ByteString;
      66: invokevirtual #118                // Method com/google/protobuf/ByteString.newInput:()Ljava/io/InputStream;
      69: astore_2
      70: aconst_null
      71: astore_3
      72: aload_2
      73: invokestatic  #121                // Method io/grpc/xds/internal/sds/trust/CertificateUtils.toX509Certificates:(Ljava/io/InputStream;)[Ljava/security/cert/X509Certificate;
      76: astore        4
      78: aload_2
      79: ifnull        108
      82: aload_3
      83: ifnull        104
      86: aload_2
      87: invokevirtual #126                // Method java/io/InputStream.close:()V
      90: goto          108
      93: astore        5
      95: aload_3
      96: aload         5
      98: invokevirtual #130                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     101: goto          108
     104: aload_2
     105: invokevirtual #126                // Method java/io/InputStream.close:()V
     108: aload         4
     110: areturn
     111: astore        4
     113: aload         4
     115: astore_3
     116: aload         4
     118: athrow
     119: astore        6
     121: aload_2
     122: ifnull        151
     125: aload_3
     126: ifnull        147
     129: aload_2
     130: invokevirtual #126                // Method java/io/InputStream.close:()V
     133: goto          151
     136: astore        7
     138: aload_3
     139: aload         7
     141: invokevirtual #130                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     144: goto          151
     147: aload_2
     148: invokevirtual #126                // Method java/io/InputStream.close:()V
     151: aload         6
     153: athrow
     154: new           #132                // class java/lang/IllegalArgumentException
     157: dup
     158: new           #134                // class java/lang/StringBuilder
     161: dup
     162: invokespecial #135                // Method java/lang/StringBuilder."<init>":()V
     165: ldc           #137                // String Not supported:
     167: invokevirtual #141                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     170: aload_1
     171: invokevirtual #144                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     174: invokevirtual #147                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     177: invokespecial #148                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     180: athrow
    Exception table:
       from    to  target type
          86    90    93   Class java/lang/Throwable
          72    78   111   Class java/lang/Throwable
          72    78   119   any
         129   133   136   Class java/lang/Throwable
         111   121   119   any

  static io.grpc.xds.internal.sds.trust.SdsX509TrustManager createSdsX509TrustManager(java.security.cert.X509Certificate[], io.grpc.xds.shaded.io.envoyproxy.envoy.extensions.transport_sockets.tls.v3.CertificateValidationContext) throws java.security.cert.CertStoreException;
    Code:
       0: aconst_null
       1: astore_2
       2: invokestatic  #163                // Method javax/net/ssl/TrustManagerFactory.getDefaultAlgorithm:()Ljava/lang/String;
       5: invokestatic  #167                // Method javax/net/ssl/TrustManagerFactory.getInstance:(Ljava/lang/String;)Ljavax/net/ssl/TrustManagerFactory;
       8: astore_2
       9: ldc           #169                // String PKCS12
      11: invokestatic  #174                // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
      14: astore_3
      15: aload_3
      16: aconst_null
      17: aconst_null
      18: invokevirtual #178                // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
      21: iconst_1
      22: istore        4
      24: aload_0
      25: astore        5
      27: aload         5
      29: arraylength
      30: istore        6
      32: iconst_0
      33: istore        7
      35: iload         7
      37: iload         6
      39: if_icmpge     84
      42: aload         5
      44: iload         7
      46: aaload
      47: astore        8
      49: aload_3
      50: new           #134                // class java/lang/StringBuilder
      53: dup
      54: invokespecial #135                // Method java/lang/StringBuilder."<init>":()V
      57: ldc           #180                // String alias
      59: invokevirtual #141                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: iload         4
      64: invokevirtual #183                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      67: invokevirtual #147                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: aload         8
      72: invokevirtual #187                // Method java/security/KeyStore.setCertificateEntry:(Ljava/lang/String;Ljava/security/cert/Certificate;)V
      75: iinc          4, 1
      78: iinc          7, 1
      81: goto          35
      84: aload_2
      85: aload_3
      86: invokevirtual #191                // Method javax/net/ssl/TrustManagerFactory.init:(Ljava/security/KeyStore;)V
      89: goto          114
      92: astore_3
      93: getstatic     #195                // Field logger:Ljava/util/logging/Logger;
      96: getstatic     #201                // Field java/util/logging/Level.SEVERE:Ljava/util/logging/Level;
      99: ldc           #202                // String createSdsX509TrustManager
     101: aload_3
     102: invokevirtual #208                // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
     105: new           #22                 // class java/security/cert/CertStoreException
     108: dup
     109: aload_3
     110: invokespecial #210                // Method java/security/cert/CertStoreException."<init>":(Ljava/lang/Throwable;)V
     113: athrow
     114: aload_2
     115: invokevirtual #214                // Method javax/net/ssl/TrustManagerFactory.getTrustManagers:()[Ljavax/net/ssl/TrustManager;
     118: astore_3
     119: aconst_null
     120: astore        4
     122: aload_3
     123: ifnull        175
     126: aload_3
     127: astore        5
     129: aload         5
     131: arraylength
     132: istore        6
     134: iconst_0
     135: istore        7
     137: iload         7
     139: iload         6
     141: if_icmpge     175
     144: aload         5
     146: iload         7
     148: aaload
     149: astore        8
     151: aload         8
     153: instanceof    #218                // class javax/net/ssl/X509ExtendedTrustManager
     156: ifeq          169
     159: aload         8
     161: checkcast     #218                // class javax/net/ssl/X509ExtendedTrustManager
     164: astore        4
     166: goto          175
     169: iinc          7, 1
     172: goto          137
     175: aload         4
     177: ifnonnull     190
     180: new           #22                 // class java/security/cert/CertStoreException
     183: dup
     184: ldc           #220                // String Native X509 TrustManager not found.
     186: invokespecial #221                // Method java/security/cert/CertStoreException."<init>":(Ljava/lang/String;)V
     189: athrow
     190: new           #223                // class io/grpc/xds/internal/sds/trust/SdsX509TrustManager
     193: dup
     194: aload_1
     195: aload         4
     197: invokespecial #226                // Method io/grpc/xds/internal/sds/trust/SdsX509TrustManager."<init>":(Lio/grpc/xds/shaded/io/envoyproxy/envoy/extensions/transport_sockets/tls/v3/CertificateValidationContext;Ljavax/net/ssl/X509ExtendedTrustManager;)V
     200: areturn
    Exception table:
       from    to  target type
           2    89    92   Class java/security/NoSuchAlgorithmException
           2    89    92   Class java/security/KeyStoreException
           2    89    92   Class java/io/IOException
           2    89    92   Class java/security/cert/CertificateException

  protected void engineInit(java.security.KeyStore) throws java.lang.Exception;
    Code:
       0: new           #245                // class java/lang/UnsupportedOperationException
       3: dup
       4: invokespecial #246                // Method java/lang/UnsupportedOperationException."<init>":()V
       7: athrow

  protected void engineInit(javax.net.ssl.ManagerFactoryParameters) throws java.lang.Exception;
    Code:
       0: new           #245                // class java/lang/UnsupportedOperationException
       3: dup
       4: invokespecial #246                // Method java/lang/UnsupportedOperationException."<init>":()V
       7: athrow

  protected javax.net.ssl.TrustManager[] engineGetTrustManagers();
    Code:
       0: iconst_1
       1: anewarray     #253                // class javax/net/ssl/TrustManager
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #61                 // Field sdsX509TrustManager:Lio/grpc/xds/internal/sds/trust/SdsX509TrustManager;
      10: aastore
      11: areturn

  static {};
    Code:
       0: ldc           #2                  // class io/grpc/xds/internal/sds/trust/SdsTrustManagerFactory
       2: invokevirtual #259                // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokestatic  #263                // Method java/util/logging/Logger.getLogger:(Ljava/lang/String;)Ljava/util/logging/Logger;
       8: putstatic     #195                // Field logger:Ljava/util/logging/Logger;
      11: return
}
