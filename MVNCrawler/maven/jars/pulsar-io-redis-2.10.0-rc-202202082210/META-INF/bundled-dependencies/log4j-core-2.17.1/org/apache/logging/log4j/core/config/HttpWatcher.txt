Compiled from "HttpWatcher.java"
public class org.apache.logging.log4j.core.config.HttpWatcher extends org.apache.logging.log4j.core.util.AbstractWatcher {
  private org.apache.logging.log4j.Logger LOGGER;

  private org.apache.logging.log4j.core.net.ssl.SslConfiguration sslConfiguration;

  private java.net.URL url;

  private volatile long lastModifiedMillis;

  private static final int NOT_MODIFIED;

  private static final int OK;

  private static final int BUF_SIZE;

  private static final java.lang.String HTTP;

  private static final java.lang.String HTTPS;

  public org.apache.logging.log4j.core.config.HttpWatcher(org.apache.logging.log4j.core.config.Configuration, org.apache.logging.log4j.core.config.Reconfigurable, java.util.List<org.apache.logging.log4j.core.config.ConfigurationListener>, long);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #1                  // Method org/apache/logging/log4j/core/util/AbstractWatcher."<init>":(Lorg/apache/logging/log4j/core/config/Configuration;Lorg/apache/logging/log4j/core/config/Reconfigurable;Ljava/util/List;)V
       7: aload_0
       8: invokestatic  #2                  // Method org/apache/logging/log4j/status/StatusLogger.getLogger:()Lorg/apache/logging/log4j/status/StatusLogger;
      11: putfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
      14: aload_0
      15: invokestatic  #4                  // Method org/apache/logging/log4j/core/net/ssl/SslConfigurationFactory.getSslConfiguration:()Lorg/apache/logging/log4j/core/net/ssl/SslConfiguration;
      18: putfield      #5                  // Field sslConfiguration:Lorg/apache/logging/log4j/core/net/ssl/SslConfiguration;
      21: aload_0
      22: lload         4
      24: putfield      #6                  // Field lastModifiedMillis:J
      27: return

  public long getLastModified();
    Code:
       0: aload_0
       1: getfield      #6                  // Field lastModifiedMillis:J
       4: lreturn

  public boolean isModified();
    Code:
       0: aload_0
       1: invokespecial #7                  // Method refreshConfiguration:()Z
       4: ireturn

  public void watching(org.apache.logging.log4j.core.util.Source);
    Code:
       0: aload_1
       1: invokevirtual #8                  // Method org/apache/logging/log4j/core/util/Source.getURI:()Ljava/net/URI;
       4: invokevirtual #9                  // Method java/net/URI.getScheme:()Ljava/lang/String;
       7: ldc           #11                 // String http
       9: invokevirtual #12                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      12: ifne          63
      15: aload_1
      16: invokevirtual #8                  // Method org/apache/logging/log4j/core/util/Source.getURI:()Ljava/net/URI;
      19: invokevirtual #9                  // Method java/net/URI.getScheme:()Ljava/lang/String;
      22: ldc           #13                 // String https
      24: invokevirtual #12                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      27: ifne          63
      30: new           #14                 // class java/lang/IllegalArgumentException
      33: dup
      34: new           #15                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #16                 // Method java/lang/StringBuilder."<init>":()V
      41: ldc           #17                 // String HttpWatcher requires a url using the HTTP or HTTPS protocol, not
      43: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_1
      47: invokevirtual #8                  // Method org/apache/logging/log4j/core/util/Source.getURI:()Ljava/net/URI;
      50: invokevirtual #9                  // Method java/net/URI.getScheme:()Ljava/lang/String;
      53: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      56: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      59: invokespecial #20                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      62: athrow
      63: aload_0
      64: aload_1
      65: invokevirtual #8                  // Method org/apache/logging/log4j/core/util/Source.getURI:()Ljava/net/URI;
      68: invokevirtual #21                 // Method java/net/URI.toURL:()Ljava/net/URL;
      71: putfield      #22                 // Field url:Ljava/net/URL;
      74: goto          109
      77: astore_2
      78: new           #14                 // class java/lang/IllegalArgumentException
      81: dup
      82: new           #15                 // class java/lang/StringBuilder
      85: dup
      86: invokespecial #16                 // Method java/lang/StringBuilder."<init>":()V
      89: ldc           #24                 // String Invalid URL for HttpWatcher
      91: invokevirtual #18                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      94: aload_1
      95: invokevirtual #8                  // Method org/apache/logging/log4j/core/util/Source.getURI:()Ljava/net/URI;
      98: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     101: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     104: aload_2
     105: invokespecial #26                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     108: athrow
     109: aload_0
     110: aload_1
     111: invokespecial #27                 // Method org/apache/logging/log4j/core/util/AbstractWatcher.watching:(Lorg/apache/logging/log4j/core/util/Source;)V
     114: return
    Exception table:
       from    to  target type
          63    74    77   Class java/net/MalformedURLException

  public org.apache.logging.log4j.core.util.Watcher newWatcher(org.apache.logging.log4j.core.config.Reconfigurable, java.util.List<org.apache.logging.log4j.core.config.ConfigurationListener>, long);
    Code:
       0: new           #10                 // class org/apache/logging/log4j/core/config/HttpWatcher
       3: dup
       4: aload_0
       5: invokevirtual #28                 // Method getConfiguration:()Lorg/apache/logging/log4j/core/config/Configuration;
       8: aload_1
       9: aload_2
      10: lload_3
      11: invokespecial #29                 // Method "<init>":(Lorg/apache/logging/log4j/core/config/Configuration;Lorg/apache/logging/log4j/core/config/Reconfigurable;Ljava/util/List;J)V
      14: astore        5
      16: aload_0
      17: invokevirtual #30                 // Method getSource:()Lorg/apache/logging/log4j/core/util/Source;
      20: ifnull        32
      23: aload         5
      25: aload_0
      26: invokevirtual #30                 // Method getSource:()Lorg/apache/logging/log4j/core/util/Source;
      29: invokevirtual #31                 // Method watching:(Lorg/apache/logging/log4j/core/util/Source;)V
      32: aload         5
      34: areturn

  private boolean refreshConfiguration();
    Code:
       0: aload_0
       1: getfield      #22                 // Field url:Ljava/net/URL;
       4: aload_0
       5: getfield      #6                  // Field lastModifiedMillis:J
       8: aload_0
       9: getfield      #5                  // Field sslConfiguration:Lorg/apache/logging/log4j/core/net/ssl/SslConfiguration;
      12: invokestatic  #32                 // Method org/apache/logging/log4j/core/net/UrlConnectionFactory.createConnection:(Ljava/net/URL;JLorg/apache/logging/log4j/core/net/ssl/SslConfiguration;)Ljava/net/HttpURLConnection;
      15: astore_1
      16: aload_1
      17: invokevirtual #33                 // Method java/net/HttpURLConnection.connect:()V
      20: aload_1
      21: invokevirtual #34                 // Method java/net/HttpURLConnection.getResponseCode:()I
      24: istore_2
      25: iload_2
      26: lookupswitch  { // 2
                   200: 65
                   304: 52
               default: 357
          }
      52: aload_0
      53: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
      56: ldc           #35                 // String Configuration Not Modified
      58: invokeinterface #36,  2           // InterfaceMethod org/apache/logging/log4j/Logger.debug:(Ljava/lang/String;)V
      63: iconst_0
      64: ireturn
      65: aload_1
      66: invokevirtual #37                 // Method java/net/HttpURLConnection.getInputStream:()Ljava/io/InputStream;
      69: astore_3
      70: aconst_null
      71: astore        4
      73: aload_0
      74: invokevirtual #28                 // Method getConfiguration:()Lorg/apache/logging/log4j/core/config/Configuration;
      77: invokeinterface #38,  1           // InterfaceMethod org/apache/logging/log4j/core/config/Configuration.getConfigurationSource:()Lorg/apache/logging/log4j/core/config/ConfigurationSource;
      82: astore        5
      84: aload         5
      86: aload_0
      87: aload_3
      88: invokespecial #39                 // Method readStream:(Ljava/io/InputStream;)[B
      91: invokevirtual #40                 // Method org/apache/logging/log4j/core/config/ConfigurationSource.setData:([B)V
      94: aload_0
      95: aload_1
      96: invokevirtual #41                 // Method java/net/HttpURLConnection.getLastModified:()J
      99: putfield      #6                  // Field lastModifiedMillis:J
     102: aload         5
     104: aload_0
     105: getfield      #6                  // Field lastModifiedMillis:J
     108: invokevirtual #42                 // Method org/apache/logging/log4j/core/config/ConfigurationSource.setModifiedMillis:(J)V
     111: aload_0
     112: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     115: ldc           #43                 // String Content was modified for {}
     117: aload_0
     118: getfield      #22                 // Field url:Ljava/net/URL;
     121: invokevirtual #44                 // Method java/net/URL.toString:()Ljava/lang/String;
     124: invokeinterface #45,  3           // InterfaceMethod org/apache/logging/log4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     129: iconst_1
     130: istore        6
     132: aload_3
     133: ifnull        164
     136: aload         4
     138: ifnull        160
     141: aload_3
     142: invokevirtual #46                 // Method java/io/InputStream.close:()V
     145: goto          164
     148: astore        7
     150: aload         4
     152: aload         7
     154: invokevirtual #48                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     157: goto          164
     160: aload_3
     161: invokevirtual #46                 // Method java/io/InputStream.close:()V
     164: iload         6
     166: ireturn
     167: astore        5
     169: aload         5
     171: astore        4
     173: aload         5
     175: athrow
     176: astore        8
     178: aload_3
     179: ifnull        210
     182: aload         4
     184: ifnull        206
     187: aload_3
     188: invokevirtual #46                 // Method java/io/InputStream.close:()V
     191: goto          210
     194: astore        9
     196: aload         4
     198: aload         9
     200: invokevirtual #48                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     203: goto          210
     206: aload_3
     207: invokevirtual #46                 // Method java/io/InputStream.close:()V
     210: aload         8
     212: athrow
     213: astore_3
     214: aload_1
     215: invokevirtual #50                 // Method java/net/HttpURLConnection.getErrorStream:()Ljava/io/InputStream;
     218: astore        4
     220: aconst_null
     221: astore        5
     223: aload_0
     224: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     227: ldc           #51                 // String Error accessing configuration at {}: {}
     229: aload_0
     230: getfield      #22                 // Field url:Ljava/net/URL;
     233: aload_0
     234: aload         4
     236: invokespecial #39                 // Method readStream:(Ljava/io/InputStream;)[B
     239: invokeinterface #52,  4           // InterfaceMethod org/apache/logging/log4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     244: aload         4
     246: ifnull        331
     249: aload         5
     251: ifnull        274
     254: aload         4
     256: invokevirtual #46                 // Method java/io/InputStream.close:()V
     259: goto          331
     262: astore        6
     264: aload         5
     266: aload         6
     268: invokevirtual #48                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     271: goto          331
     274: aload         4
     276: invokevirtual #46                 // Method java/io/InputStream.close:()V
     279: goto          331
     282: astore        6
     284: aload         6
     286: astore        5
     288: aload         6
     290: athrow
     291: astore        10
     293: aload         4
     295: ifnull        328
     298: aload         5
     300: ifnull        323
     303: aload         4
     305: invokevirtual #46                 // Method java/io/InputStream.close:()V
     308: goto          328
     311: astore        11
     313: aload         5
     315: aload         11
     317: invokevirtual #48                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     320: goto          328
     323: aload         4
     325: invokevirtual #46                 // Method java/io/InputStream.close:()V
     328: aload         10
     330: athrow
     331: goto          355
     334: astore        4
     336: aload_0
     337: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     340: ldc           #51                 // String Error accessing configuration at {}: {}
     342: aload_0
     343: getfield      #22                 // Field url:Ljava/net/URL;
     346: aload_3
     347: invokevirtual #53                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
     350: invokeinterface #54,  4           // InterfaceMethod org/apache/logging/log4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     355: iconst_0
     356: ireturn
     357: iload_2
     358: ifge          375
     361: aload_0
     362: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     365: ldc           #55                 // String Invalid response code returned
     367: invokeinterface #56,  2           // InterfaceMethod org/apache/logging/log4j/Logger.info:(Ljava/lang/String;)V
     372: goto          390
     375: aload_0
     376: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     379: ldc           #57                 // String Unexpected response code returned {}
     381: iload_2
     382: invokestatic  #58                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     385: invokeinterface #59,  3           // InterfaceMethod org/apache/logging/log4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     390: iconst_0
     391: ireturn
     392: astore_2
     393: aload_0
     394: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     397: ldc           #51                 // String Error accessing configuration at {}: {}
     399: aload_0
     400: getfield      #22                 // Field url:Ljava/net/URL;
     403: aload_2
     404: invokevirtual #53                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
     407: invokeinterface #54,  4           // InterfaceMethod org/apache/logging/log4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     412: goto          435
     415: astore_1
     416: aload_0
     417: getfield      #3                  // Field LOGGER:Lorg/apache/logging/log4j/Logger;
     420: ldc           #60                 // String Error connecting to configuration at {}: {}
     422: aload_0
     423: getfield      #22                 // Field url:Ljava/net/URL;
     426: aload_1
     427: invokevirtual #53                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
     430: invokeinterface #54,  4           // InterfaceMethod org/apache/logging/log4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     435: iconst_0
     436: ireturn
    Exception table:
       from    to  target type
         141   145   148   Class java/lang/Throwable
          73   132   167   Class java/lang/Throwable
          73   132   176   any
         187   191   194   Class java/lang/Throwable
         167   178   176   any
          65   164   213   Class java/io/IOException
         167   213   213   Class java/io/IOException
         254   259   262   Class java/lang/Throwable
         223   244   282   Class java/lang/Throwable
         223   244   291   any
         303   308   311   Class java/lang/Throwable
         282   293   291   any
         214   331   334   Class java/io/IOException
          20    64   392   Class java/io/IOException
          65   164   392   Class java/io/IOException
         167   356   392   Class java/io/IOException
         357   391   392   Class java/io/IOException
           0    64   415   Class java/io/IOException
          65   164   415   Class java/io/IOException
         167   356   415   Class java/io/IOException
         357   391   415   Class java/io/IOException
         392   412   415   Class java/io/IOException

  private byte[] readStream(java.io.InputStream) throws java.io.IOException;
    Code:
       0: new           #61                 // class java/io/ByteArrayOutputStream
       3: dup
       4: invokespecial #62                 // Method java/io/ByteArrayOutputStream."<init>":()V
       7: astore_2
       8: sipush        1024
      11: newarray       byte
      13: astore_3
      14: aload_1
      15: aload_3
      16: invokevirtual #63                 // Method java/io/InputStream.read:([B)I
      19: dup
      20: istore        4
      22: iconst_m1
      23: if_icmpeq     37
      26: aload_2
      27: aload_3
      28: iconst_0
      29: iload         4
      31: invokevirtual #64                 // Method java/io/ByteArrayOutputStream.write:([BII)V
      34: goto          14
      37: aload_2
      38: invokevirtual #65                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
      41: areturn
}
