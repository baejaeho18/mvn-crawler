Compiled from "DynamicNodeSelection.java"
class io.lettuce.core.cluster.DynamicNodeSelection<API, CMD, K, V> extends io.lettuce.core.cluster.AbstractNodeSelection<API, CMD, K, V> {
  private final io.lettuce.core.cluster.ClusterDistributionChannelWriter writer;

  private final java.util.function.Predicate<io.lettuce.core.cluster.models.partitions.RedisClusterNode> selector;

  private final io.lettuce.core.cluster.ClusterConnectionProvider$Intent intent;

  private final java.util.function.Function<io.lettuce.core.api.StatefulRedisConnection<K, V>, API> apiExtractor;

  public io.lettuce.core.cluster.DynamicNodeSelection(io.lettuce.core.cluster.ClusterDistributionChannelWriter, java.util.function.Predicate<io.lettuce.core.cluster.models.partitions.RedisClusterNode>, io.lettuce.core.cluster.ClusterConnectionProvider$Intent, java.util.function.Function<io.lettuce.core.api.StatefulRedisConnection<K, V>, API>);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method io/lettuce/core/cluster/AbstractNodeSelection."<init>":()V
       4: aload_0
       5: aload_2
       6: putfield      #2                  // Field selector:Ljava/util/function/Predicate;
       9: aload_0
      10: aload_3
      11: putfield      #3                  // Field intent:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      14: aload_0
      15: aload_1
      16: putfield      #4                  // Field writer:Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field apiExtractor:Ljava/util/function/Function;
      25: return

  protected java.util.concurrent.CompletableFuture<io.lettuce.core.api.StatefulRedisConnection<K, V>> getConnection(io.lettuce.core.cluster.models.partitions.RedisClusterNode);
    Code:
       0: aload_1
       1: invokevirtual #6                  // Method io/lettuce/core/cluster/models/partitions/RedisClusterNode.getUri:()Lio/lettuce/core/RedisURI;
       4: astore_2
       5: aload_0
       6: getfield      #4                  // Field writer:Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
       9: invokevirtual #7                  // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
      12: checkcast     #8                  // class io/lettuce/core/cluster/AsyncClusterConnectionProvider
      15: astore_3
      16: aload_3
      17: aload_0
      18: getfield      #3                  // Field intent:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      21: aload_2
      22: invokevirtual #9                  // Method io/lettuce/core/RedisURI.getHost:()Ljava/lang/String;
      25: aload_2
      26: invokevirtual #10                 // Method io/lettuce/core/RedisURI.getPort:()I
      29: invokeinterface #11,  4           // InterfaceMethod io/lettuce/core/cluster/AsyncClusterConnectionProvider.getConnectionAsync:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;Ljava/lang/String;I)Ljava/util/concurrent/CompletableFuture;
      34: areturn

  protected java.util.concurrent.CompletableFuture<API> getApi(io.lettuce.core.cluster.models.partitions.RedisClusterNode);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #12                 // Method getConnection:(Lio/lettuce/core/cluster/models/partitions/RedisClusterNode;)Ljava/util/concurrent/CompletableFuture;
       5: aload_0
       6: getfield      #5                  // Field apiExtractor:Ljava/util/function/Function;
       9: invokevirtual #13                 // Method java/util/concurrent/CompletableFuture.thenApply:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      12: areturn

  protected java.util.List<io.lettuce.core.cluster.models.partitions.RedisClusterNode> nodes();
    Code:
       0: aload_0
       1: getfield      #4                  // Field writer:Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
       4: invokevirtual #14                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.getPartitions:()Lio/lettuce/core/cluster/models/partitions/Partitions;
       7: invokevirtual #15                 // Method io/lettuce/core/cluster/models/partitions/Partitions.getPartitions:()Ljava/util/List;
      10: invokeinterface #16,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      15: aload_0
      16: getfield      #2                  // Field selector:Ljava/util/function/Predicate;
      19: invokeinterface #17,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      24: invokestatic  #18                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      27: invokeinterface #19,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      32: checkcast     #20                 // class java/util/List
      35: areturn
}
