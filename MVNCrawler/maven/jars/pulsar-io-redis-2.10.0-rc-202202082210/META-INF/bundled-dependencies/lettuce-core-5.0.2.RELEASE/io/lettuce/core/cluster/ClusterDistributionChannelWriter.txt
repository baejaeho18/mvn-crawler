Compiled from "ClusterDistributionChannelWriter.java"
class io.lettuce.core.cluster.ClusterDistributionChannelWriter implements io.lettuce.core.RedisChannelWriter {
  private final io.lettuce.core.RedisChannelWriter defaultWriter;

  private final io.lettuce.core.cluster.ClusterEventListener clusterEventListener;

  private final int executionLimit;

  private io.lettuce.core.cluster.ClusterConnectionProvider clusterConnectionProvider;

  private io.lettuce.core.cluster.AsyncClusterConnectionProvider asyncClusterConnectionProvider;

  private boolean closed;

  private volatile io.lettuce.core.cluster.models.partitions.Partitions partitions;

  io.lettuce.core.cluster.ClusterDistributionChannelWriter(io.lettuce.core.ClientOptions, io.lettuce.core.RedisChannelWriter, io.lettuce.core.cluster.ClusterEventListener);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field closed:Z
       9: aload_1
      10: instanceof    #3                  // class io/lettuce/core/cluster/ClusterClientOptions
      13: ifeq          30
      16: aload_0
      17: aload_1
      18: checkcast     #3                  // class io/lettuce/core/cluster/ClusterClientOptions
      21: invokevirtual #4                  // Method io/lettuce/core/cluster/ClusterClientOptions.getMaxRedirects:()I
      24: putfield      #5                  // Field executionLimit:I
      27: goto          35
      30: aload_0
      31: iconst_5
      32: putfield      #5                  // Field executionLimit:I
      35: aload_0
      36: aload_2
      37: putfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
      40: aload_0
      41: aload_3
      42: putfield      #7                  // Field clusterEventListener:Lio/lettuce/core/cluster/ClusterEventListener;
      45: return

  public <K, V, T> io.lettuce.core.protocol.RedisCommand<K, V, T> write(io.lettuce.core.protocol.RedisCommand<K, V, T>);
    Code:
       0: aload_1
       1: ldc           #8                  // String Command must not be null
       3: invokestatic  #9                  // Method io/lettuce/core/internal/LettuceAssert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #2                  // Field closed:Z
      10: ifeq          23
      13: new           #10                 // class io/lettuce/core/RedisException
      16: dup
      17: ldc           #11                 // String Connection is closed
      19: invokespecial #12                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: aload_1
      24: instanceof    #13                 // class io/lettuce/core/cluster/ClusterCommand
      27: ifeq          185
      30: aload_1
      31: invokeinterface #14,  1           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.isDone:()Z
      36: ifne          185
      39: aload_1
      40: checkcast     #13                 // class io/lettuce/core/cluster/ClusterCommand
      43: astore_2
      44: aload_2
      45: invokevirtual #15                 // Method io/lettuce/core/cluster/ClusterCommand.isMoved:()Z
      48: ifne          58
      51: aload_2
      52: invokevirtual #16                 // Method io/lettuce/core/cluster/ClusterCommand.isAsk:()Z
      55: ifeq          185
      58: aload_2
      59: invokevirtual #15                 // Method io/lettuce/core/cluster/ClusterCommand.isMoved:()Z
      62: ifeq          88
      65: aload_2
      66: invokevirtual #17                 // Method io/lettuce/core/cluster/ClusterCommand.getError:()Ljava/lang/String;
      69: invokestatic  #18                 // Method getMoveTarget:(Ljava/lang/String;)Lio/lettuce/core/internal/HostAndPort;
      72: astore_3
      73: aload_0
      74: getfield      #7                  // Field clusterEventListener:Lio/lettuce/core/cluster/ClusterEventListener;
      77: invokeinterface #19,  1           // InterfaceMethod io/lettuce/core/cluster/ClusterEventListener.onMovedRedirection:()V
      82: iconst_0
      83: istore        4
      85: goto          108
      88: aload_2
      89: invokevirtual #17                 // Method io/lettuce/core/cluster/ClusterCommand.getError:()Ljava/lang/String;
      92: invokestatic  #20                 // Method getAskTarget:(Ljava/lang/String;)Lio/lettuce/core/internal/HostAndPort;
      95: astore_3
      96: iconst_1
      97: istore        4
      99: aload_0
     100: getfield      #7                  // Field clusterEventListener:Lio/lettuce/core/cluster/ClusterEventListener;
     103: invokeinterface #21,  1           // InterfaceMethod io/lettuce/core/cluster/ClusterEventListener.onAskRedirection:()V
     108: aload_1
     109: invokeinterface #22,  1           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getOutput:()Lio/lettuce/core/output/CommandOutput;
     114: aconst_null
     115: checkcast     #23                 // class java/lang/String
     118: invokevirtual #24                 // Method io/lettuce/core/output/CommandOutput.setError:(Ljava/lang/String;)V
     121: aload_0
     122: getfield      #25                 // Field asyncClusterConnectionProvider:Lio/lettuce/core/cluster/AsyncClusterConnectionProvider;
     125: getstatic     #26                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
     128: aload_3
     129: invokevirtual #27                 // Method io/lettuce/core/internal/HostAndPort.getHostText:()Ljava/lang/String;
     132: aload_3
     133: invokevirtual #28                 // Method io/lettuce/core/internal/HostAndPort.getPort:()I
     136: invokeinterface #29,  4           // InterfaceMethod io/lettuce/core/cluster/AsyncClusterConnectionProvider.getConnectionAsync:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;Ljava/lang/String;I)Ljava/util/concurrent/CompletableFuture;
     141: astore        5
     143: aload         5
     145: invokestatic  #30                 // Method isSuccessfullyCompleted:(Ljava/util/concurrent/CompletableFuture;)Z
     148: ifeq          169
     151: aload_1
     152: iload         4
     154: aload         5
     156: invokevirtual #31                 // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     159: checkcast     #32                 // class io/lettuce/core/api/StatefulRedisConnection
     162: aconst_null
     163: invokestatic  #33                 // Method writeCommand:(Lio/lettuce/core/protocol/RedisCommand;ZLio/lettuce/core/api/StatefulRedisConnection;Ljava/lang/Throwable;)V
     166: goto          183
     169: aload         5
     171: aload_1
     172: iload         4
     174: invokedynamic #34,  0             // InvokeDynamic #0:accept:(Lio/lettuce/core/protocol/RedisCommand;Z)Ljava/util/function/BiConsumer;
     179: invokevirtual #35                 // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
     182: pop
     183: aload_1
     184: areturn
     185: aload_0
     186: aload_1
     187: invokespecial #36                 // Method getCommandToSend:(Lio/lettuce/core/protocol/RedisCommand;)Lio/lettuce/core/cluster/ClusterCommand;
     190: astore_2
     191: aload_1
     192: invokeinterface #37,  1           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getArgs:()Lio/lettuce/core/protocol/CommandArgs;
     197: astore_3
     198: aload_3
     199: ifnull        301
     202: getstatic     #38                 // Field io/lettuce/core/protocol/CommandType.CLIENT:Lio/lettuce/core/protocol/CommandType;
     205: aload_2
     206: invokevirtual #39                 // Method io/lettuce/core/cluster/ClusterCommand.getType:()Lio/lettuce/core/protocol/ProtocolKeyword;
     209: invokevirtual #40                 // Method io/lettuce/core/protocol/CommandType.equals:(Ljava/lang/Object;)Z
     212: ifne          301
     215: aload_3
     216: invokevirtual #41                 // Method io/lettuce/core/protocol/CommandArgs.getFirstEncodedKey:()Ljava/nio/ByteBuffer;
     219: astore        4
     221: aload         4
     223: ifnull        301
     226: aload         4
     228: invokestatic  #42                 // Method io/lettuce/core/cluster/SlotHash.getSlot:(Ljava/nio/ByteBuffer;)I
     231: istore        5
     233: aload_1
     234: invokeinterface #43,  1           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getType:()Lio/lettuce/core/protocol/ProtocolKeyword;
     239: invokestatic  #44                 // Method getIntent:(Lio/lettuce/core/protocol/ProtocolKeyword;)Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
     242: astore        6
     244: aload_0
     245: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
     248: checkcast     #46                 // class io/lettuce/core/cluster/AsyncClusterConnectionProvider
     251: aload         6
     253: iload         5
     255: invokeinterface #47,  3           // InterfaceMethod io/lettuce/core/cluster/AsyncClusterConnectionProvider.getConnectionAsync:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;I)Ljava/util/concurrent/CompletableFuture;
     260: astore        7
     262: aload         7
     264: invokestatic  #30                 // Method isSuccessfullyCompleted:(Ljava/util/concurrent/CompletableFuture;)Z
     267: ifeq          287
     270: aload_2
     271: iconst_0
     272: aload         7
     274: invokevirtual #31                 // Method java/util/concurrent/CompletableFuture.join:()Ljava/lang/Object;
     277: checkcast     #32                 // class io/lettuce/core/api/StatefulRedisConnection
     280: aconst_null
     281: invokestatic  #33                 // Method writeCommand:(Lio/lettuce/core/protocol/RedisCommand;ZLio/lettuce/core/api/StatefulRedisConnection;Ljava/lang/Throwable;)V
     284: goto          299
     287: aload         7
     289: aload_2
     290: invokedynamic #48,  0             // InvokeDynamic #1:accept:(Lio/lettuce/core/cluster/ClusterCommand;)Ljava/util/function/BiConsumer;
     295: invokevirtual #35                 // Method java/util/concurrent/CompletableFuture.whenComplete:(Ljava/util/function/BiConsumer;)Ljava/util/concurrent/CompletableFuture;
     298: pop
     299: aload_2
     300: areturn
     301: aload_2
     302: aload_0
     303: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
     306: invokestatic  #49                 // Method writeCommand:(Lio/lettuce/core/protocol/RedisCommand;Lio/lettuce/core/RedisChannelWriter;)V
     309: aload_2
     310: areturn

  private static boolean isSuccessfullyCompleted(java.util.concurrent.CompletableFuture<?>);
    Code:
       0: aload_0
       1: invokevirtual #50                 // Method java/util/concurrent/CompletableFuture.isDone:()Z
       4: ifeq          18
       7: aload_0
       8: invokevirtual #51                 // Method java/util/concurrent/CompletableFuture.isCompletedExceptionally:()Z
      11: ifne          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  private <K, V, T> io.lettuce.core.cluster.ClusterCommand<K, V, T> getCommandToSend(io.lettuce.core.protocol.RedisCommand<K, V, T>);
    Code:
       0: aload_1
       1: instanceof    #13                 // class io/lettuce/core/cluster/ClusterCommand
       4: ifeq          12
       7: aload_1
       8: checkcast     #13                 // class io/lettuce/core/cluster/ClusterCommand
      11: areturn
      12: new           #13                 // class io/lettuce/core/cluster/ClusterCommand
      15: dup
      16: aload_1
      17: aload_0
      18: aload_0
      19: getfield      #5                  // Field executionLimit:I
      22: invokespecial #52                 // Method io/lettuce/core/cluster/ClusterCommand."<init>":(Lio/lettuce/core/protocol/RedisCommand;Lio/lettuce/core/RedisChannelWriter;I)V
      25: areturn

  private static <K, V> void writeCommand(io.lettuce.core.protocol.RedisCommand<K, V, ?>, boolean, io.lettuce.core.api.StatefulRedisConnection<K, V>, java.lang.Throwable);
    Code:
       0: aload_3
       1: ifnull        13
       4: aload_0
       5: aload_3
       6: invokeinterface #53,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
      11: pop
      12: return
      13: iload_1
      14: ifeq          29
      17: aload_2
      18: invokeinterface #54,  1           // InterfaceMethod io/lettuce/core/api/StatefulRedisConnection.async:()Lio/lettuce/core/api/async/RedisAsyncCommands;
      23: invokeinterface #55,  1           // InterfaceMethod io/lettuce/core/api/async/RedisAsyncCommands.asking:()Lio/lettuce/core/RedisFuture;
      28: pop
      29: aload_0
      30: aload_2
      31: checkcast     #56                 // class io/lettuce/core/RedisChannelHandler
      34: invokevirtual #57                 // Method io/lettuce/core/RedisChannelHandler.getChannelWriter:()Lio/lettuce/core/RedisChannelWriter;
      37: invokestatic  #49                 // Method writeCommand:(Lio/lettuce/core/protocol/RedisCommand;Lio/lettuce/core/RedisChannelWriter;)V
      40: goto          54
      43: astore        4
      45: aload_0
      46: aload         4
      48: invokeinterface #53,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
      53: pop
      54: return
    Exception table:
       from    to  target type
          13    40    43   Class java/lang/Exception

  private static <K, V> void writeCommand(io.lettuce.core.protocol.RedisCommand<K, V, ?>, io.lettuce.core.RedisChannelWriter);
    Code:
       0: aload_1
       1: invokestatic  #59                 // Method getWriterToUse:(Lio/lettuce/core/RedisChannelWriter;)Lio/lettuce/core/RedisChannelWriter;
       4: aload_0
       5: invokeinterface #60,  2           // InterfaceMethod io/lettuce/core/RedisChannelWriter.write:(Lio/lettuce/core/protocol/RedisCommand;)Lio/lettuce/core/protocol/RedisCommand;
      10: pop
      11: goto          23
      14: astore_2
      15: aload_0
      16: aload_2
      17: invokeinterface #53,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
      22: pop
      23: return
    Exception table:
       from    to  target type
           0    11    14   Class java/lang/Exception

  private static io.lettuce.core.RedisChannelWriter getWriterToUse(io.lettuce.core.RedisChannelWriter);
    Code:
       0: aload_0
       1: astore_1
       2: aload_0
       3: instanceof    #61                 // class io/lettuce/core/cluster/ClusterDistributionChannelWriter
       6: ifeq          17
       9: aload_0
      10: checkcast     #61                 // class io/lettuce/core/cluster/ClusterDistributionChannelWriter
      13: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
      16: astore_1
      17: aload_1
      18: areturn

  public <K, V> java.util.Collection<io.lettuce.core.protocol.RedisCommand<K, V, ?>> write(java.util.Collection<? extends io.lettuce.core.protocol.RedisCommand<K, V, ?>>);
    Code:
       0: aload_1
       1: ldc           #62                 // String Commands must not be null
       3: invokestatic  #9                  // Method io/lettuce/core/internal/LettuceAssert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #2                  // Field closed:Z
      10: ifeq          23
      13: new           #10                 // class io/lettuce/core/RedisException
      16: dup
      17: ldc           #11                 // String Connection is closed
      19: invokespecial #12                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: new           #63                 // class java/util/ArrayList
      26: dup
      27: aload_1
      28: invokeinterface #64,  1           // InterfaceMethod java/util/Collection.size:()I
      33: invokespecial #65                 // Method java/util/ArrayList."<init>":(I)V
      36: astore_2
      37: new           #63                 // class java/util/ArrayList
      40: dup
      41: aload_1
      42: invokeinterface #64,  1           // InterfaceMethod java/util/Collection.size:()I
      47: invokespecial #65                 // Method java/util/ArrayList."<init>":(I)V
      50: astore_3
      51: new           #66                 // class java/util/HashMap
      54: dup
      55: invokespecial #67                 // Method java/util/HashMap."<init>":()V
      58: astore        4
      60: aload_1
      61: invokestatic  #68                 // Method getIntent:(Ljava/util/Collection;)Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      64: astore        5
      66: aload_1
      67: invokeinterface #69,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      72: astore        6
      74: aload         6
      76: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      81: ifeq          232
      84: aload         6
      86: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      91: checkcast     #72                 // class io/lettuce/core/protocol/RedisCommand
      94: astore        7
      96: aload         7
      98: instanceof    #13                 // class io/lettuce/core/cluster/ClusterCommand
     101: ifeq          119
     104: aload_2
     105: aload         7
     107: checkcast     #13                 // class io/lettuce/core/cluster/ClusterCommand
     110: invokeinterface #73,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     115: pop
     116: goto          74
     119: aload         7
     121: invokeinterface #37,  1           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getArgs:()Lio/lettuce/core/protocol/CommandArgs;
     126: astore        8
     128: aload         8
     130: ifnull        141
     133: aload         8
     135: invokevirtual #41                 // Method io/lettuce/core/protocol/CommandArgs.getFirstEncodedKey:()Ljava/nio/ByteBuffer;
     138: goto          142
     141: aconst_null
     142: astore        9
     144: aload         9
     146: ifnonnull     173
     149: aload_3
     150: new           #13                 // class io/lettuce/core/cluster/ClusterCommand
     153: dup
     154: aload         7
     156: aload_0
     157: aload_0
     158: getfield      #5                  // Field executionLimit:I
     161: invokespecial #52                 // Method io/lettuce/core/cluster/ClusterCommand."<init>":(Lio/lettuce/core/protocol/RedisCommand;Lio/lettuce/core/RedisChannelWriter;I)V
     164: invokeinterface #73,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     169: pop
     170: goto          74
     173: aload         8
     175: invokevirtual #41                 // Method io/lettuce/core/protocol/CommandArgs.getFirstEncodedKey:()Ljava/nio/ByteBuffer;
     178: invokestatic  #42                 // Method io/lettuce/core/cluster/SlotHash.getSlot:(Ljava/nio/ByteBuffer;)I
     181: istore        10
     183: aload         4
     185: aload         5
     187: iload         10
     189: invokestatic  #74                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter$SlotIntent.of:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;I)Lio/lettuce/core/cluster/ClusterDistributionChannelWriter$SlotIntent;
     192: invokedynamic #75,  0             // InvokeDynamic #2:apply:()Ljava/util/function/Function;
     197: invokeinterface #76,  3           // InterfaceMethod java/util/Map.computeIfAbsent:(Ljava/lang/Object;Ljava/util/function/Function;)Ljava/lang/Object;
     202: checkcast     #77                 // class java/util/List
     205: astore        11
     207: aload         11
     209: new           #13                 // class io/lettuce/core/cluster/ClusterCommand
     212: dup
     213: aload         7
     215: aload_0
     216: aload_0
     217: getfield      #5                  // Field executionLimit:I
     220: invokespecial #52                 // Method io/lettuce/core/cluster/ClusterCommand."<init>":(Lio/lettuce/core/protocol/RedisCommand;Lio/lettuce/core/RedisChannelWriter;I)V
     223: invokeinterface #73,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     228: pop
     229: goto          74
     232: aload         4
     234: invokeinterface #78,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
     239: invokeinterface #79,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     244: astore        6
     246: aload         6
     248: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     253: ifeq          374
     256: aload         6
     258: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     263: checkcast     #80                 // class java/util/Map$Entry
     266: astore        7
     268: aload         7
     270: invokeinterface #81,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     275: checkcast     #82                 // class io/lettuce/core/cluster/ClusterDistributionChannelWriter$SlotIntent
     278: astore        8
     280: aload_0
     281: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
     284: aload         8
     286: getfield      #83                 // Field io/lettuce/core/cluster/ClusterDistributionChannelWriter$SlotIntent.intent:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
     289: aload         8
     291: getfield      #84                 // Field io/lettuce/core/cluster/ClusterDistributionChannelWriter$SlotIntent.slotHash:I
     294: invokeinterface #85,  3           // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.getConnection:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;I)Lio/lettuce/core/api/StatefulRedisConnection;
     299: checkcast     #56                 // class io/lettuce/core/RedisChannelHandler
     302: astore        9
     304: aload         9
     306: invokevirtual #57                 // Method io/lettuce/core/RedisChannelHandler.getChannelWriter:()Lio/lettuce/core/RedisChannelWriter;
     309: astore        10
     311: aload         10
     313: instanceof    #61                 // class io/lettuce/core/cluster/ClusterDistributionChannelWriter
     316: ifeq          333
     319: aload         10
     321: checkcast     #61                 // class io/lettuce/core/cluster/ClusterDistributionChannelWriter
     324: astore        11
     326: aload         11
     328: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
     331: astore        10
     333: aload         10
     335: ifnull        371
     338: aload         10
     340: aload_0
     341: if_acmpeq     371
     344: aload         10
     346: aload_0
     347: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
     350: if_acmpeq     371
     353: aload         10
     355: aload         7
     357: invokeinterface #86,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     362: checkcast     #87                 // class java/util/Collection
     365: invokeinterface #88,  2           // InterfaceMethod io/lettuce/core/RedisChannelWriter.write:(Ljava/util/Collection;)Ljava/util/Collection;
     370: pop
     371: goto          246
     374: aload_2
     375: aload_0
     376: invokedynamic #89,  0             // InvokeDynamic #3:accept:(Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;)Ljava/util/function/Consumer;
     381: invokeinterface #90,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
     386: aload_3
     387: aload_0
     388: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
     391: dup
     392: invokevirtual #91                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     395: pop
     396: invokedynamic #92,  0             // InvokeDynamic #4:accept:(Lio/lettuce/core/RedisChannelWriter;)Ljava/util/function/Consumer;
     401: invokeinterface #90,  2           // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
     406: aload_1
     407: areturn

  static io.lettuce.core.cluster.ClusterConnectionProvider$Intent getIntent(java.util.Collection<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: iconst_0
       1: istore_1
       2: iconst_0
       3: istore_2
       4: getstatic     #26                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
       7: astore_3
       8: aload_0
       9: invokeinterface #69,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore        4
      16: aload         4
      18: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      23: ifeq          93
      26: aload         4
      28: invokeinterface #71,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #72                 // class io/lettuce/core/protocol/RedisCommand
      36: astore        5
      38: aload         5
      40: instanceof    #13                 // class io/lettuce/core/cluster/ClusterCommand
      43: ifeq          49
      46: goto          16
      49: aload         5
      51: invokeinterface #43,  1           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getType:()Lio/lettuce/core/protocol/ProtocolKeyword;
      56: invokestatic  #44                 // Method getIntent:(Lio/lettuce/core/protocol/ProtocolKeyword;)Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      59: astore_3
      60: aload_3
      61: getstatic     #93                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.READ:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      64: if_acmpne     69
      67: iconst_1
      68: istore_2
      69: aload_3
      70: getstatic     #26                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      73: if_acmpne     78
      76: iconst_1
      77: istore_1
      78: iload_2
      79: ifeq          90
      82: iload_1
      83: ifeq          90
      86: getstatic     #26                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      89: areturn
      90: goto          16
      93: aload_3
      94: areturn

  private static io.lettuce.core.cluster.ClusterConnectionProvider$Intent getIntent(io.lettuce.core.protocol.ProtocolKeyword);
    Code:
       0: aload_0
       1: invokestatic  #94                 // Method io/lettuce/core/cluster/ReadOnlyCommands.isReadOnlyCommand:(Lio/lettuce/core/protocol/ProtocolKeyword;)Z
       4: ifeq          13
       7: getstatic     #93                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.READ:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      10: goto          16
      13: getstatic     #26                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      16: areturn

  static io.lettuce.core.internal.HostAndPort getMoveTarget(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #95                 // String ErrorMessage must not be empty
       3: invokestatic  #96                 // Method io/lettuce/core/internal/LettuceAssert.notEmpty:(Ljava/lang/String;Ljava/lang/String;)V
       6: aload_0
       7: getstatic     #97                 // Field io/lettuce/core/protocol/CommandKeyword.MOVED:Lio/lettuce/core/protocol/CommandKeyword;
      10: invokevirtual #98                 // Method io/lettuce/core/protocol/CommandKeyword.name:()Ljava/lang/String;
      13: invokevirtual #99                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      16: new           #100                // class java/lang/StringBuilder
      19: dup
      20: invokespecial #101                // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #102                // String ErrorMessage must start with
      25: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: getstatic     #97                 // Field io/lettuce/core/protocol/CommandKeyword.MOVED:Lio/lettuce/core/protocol/CommandKeyword;
      31: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      34: invokevirtual #105                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokestatic  #106                // Method io/lettuce/core/internal/LettuceAssert.isTrue:(ZLjava/lang/String;)V
      40: aload_0
      41: ldc           #107                // String
      43: invokevirtual #108                // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      46: astore_1
      47: aload_1
      48: arraylength
      49: iconst_3
      50: if_icmplt     57
      53: iconst_1
      54: goto          58
      57: iconst_0
      58: new           #100                // class java/lang/StringBuilder
      61: dup
      62: invokespecial #101                // Method java/lang/StringBuilder."<init>":()V
      65: ldc           #109                // String ErrorMessage must consist of 3 tokens (
      67: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      70: aload_0
      71: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: ldc           #110                // String )
      76: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: invokevirtual #105                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      82: invokestatic  #106                // Method io/lettuce/core/internal/LettuceAssert.isTrue:(ZLjava/lang/String;)V
      85: aload_1
      86: iconst_2
      87: aaload
      88: invokestatic  #111                // Method io/lettuce/core/internal/HostAndPort.parseCompat:(Ljava/lang/String;)Lio/lettuce/core/internal/HostAndPort;
      91: areturn

  static io.lettuce.core.internal.HostAndPort getAskTarget(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #95                 // String ErrorMessage must not be empty
       3: invokestatic  #96                 // Method io/lettuce/core/internal/LettuceAssert.notEmpty:(Ljava/lang/String;Ljava/lang/String;)V
       6: aload_0
       7: getstatic     #112                // Field io/lettuce/core/protocol/CommandKeyword.ASK:Lio/lettuce/core/protocol/CommandKeyword;
      10: invokevirtual #98                 // Method io/lettuce/core/protocol/CommandKeyword.name:()Ljava/lang/String;
      13: invokevirtual #99                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      16: new           #100                // class java/lang/StringBuilder
      19: dup
      20: invokespecial #101                // Method java/lang/StringBuilder."<init>":()V
      23: ldc           #102                // String ErrorMessage must start with
      25: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: getstatic     #112                // Field io/lettuce/core/protocol/CommandKeyword.ASK:Lio/lettuce/core/protocol/CommandKeyword;
      31: invokevirtual #104                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      34: invokevirtual #105                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokestatic  #106                // Method io/lettuce/core/internal/LettuceAssert.isTrue:(ZLjava/lang/String;)V
      40: aload_0
      41: ldc           #107                // String
      43: invokevirtual #108                // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      46: astore_1
      47: aload_1
      48: arraylength
      49: iconst_3
      50: if_icmplt     57
      53: iconst_1
      54: goto          58
      57: iconst_0
      58: new           #100                // class java/lang/StringBuilder
      61: dup
      62: invokespecial #101                // Method java/lang/StringBuilder."<init>":()V
      65: ldc           #109                // String ErrorMessage must consist of 3 tokens (
      67: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      70: aload_0
      71: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: ldc           #110                // String )
      76: invokevirtual #103                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: invokevirtual #105                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      82: invokestatic  #106                // Method io/lettuce/core/internal/LettuceAssert.isTrue:(ZLjava/lang/String;)V
      85: aload_1
      86: iconst_2
      87: aaload
      88: invokestatic  #111                // Method io/lettuce/core/internal/HostAndPort.parseCompat:(Ljava/lang/String;)Lio/lettuce/core/internal/HostAndPort;
      91: areturn

  public void close();
    Code:
       0: aload_0
       1: getfield      #2                  // Field closed:Z
       4: ifeq          8
       7: return
       8: aload_0
       9: iconst_1
      10: putfield      #2                  // Field closed:Z
      13: aload_0
      14: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
      17: ifnull        29
      20: aload_0
      21: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
      24: invokeinterface #113,  1          // InterfaceMethod io/lettuce/core/RedisChannelWriter.close:()V
      29: aload_0
      30: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
      33: ifnull        50
      36: aload_0
      37: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
      40: invokeinterface #114,  1          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.close:()V
      45: aload_0
      46: aconst_null
      47: putfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
      50: return

  public void setConnectionFacade(io.lettuce.core.protocol.ConnectionFacade);
    Code:
       0: aload_0
       1: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
       4: aload_1
       5: invokeinterface #115,  2          // InterfaceMethod io/lettuce/core/RedisChannelWriter.setConnectionFacade:(Lio/lettuce/core/protocol/ConnectionFacade;)V
      10: return

  public void setAutoFlushCommands(boolean);
    Code:
       0: aload_0
       1: invokevirtual #116                // Method getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
       4: iload_1
       5: invokeinterface #117,  2          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.setAutoFlushCommands:(Z)V
      10: return

  public void flushCommands();
    Code:
       0: aload_0
       1: invokevirtual #116                // Method getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
       4: invokeinterface #118,  1          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.flushCommands:()V
       9: return

  public io.lettuce.core.cluster.ClusterConnectionProvider getClusterConnectionProvider();
    Code:
       0: aload_0
       1: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
       4: areturn

  public void reset();
    Code:
       0: aload_0
       1: getfield      #6                  // Field defaultWriter:Lio/lettuce/core/RedisChannelWriter;
       4: invokeinterface #119,  1          // InterfaceMethod io/lettuce/core/RedisChannelWriter.reset:()V
       9: aload_0
      10: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
      13: invokeinterface #120,  1          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.reset:()V
      18: return

  public void setClusterConnectionProvider(io.lettuce.core.cluster.ClusterConnectionProvider);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
       5: aload_0
       6: aload_1
       7: checkcast     #46                 // class io/lettuce/core/cluster/AsyncClusterConnectionProvider
      10: putfield      #25                 // Field asyncClusterConnectionProvider:Lio/lettuce/core/cluster/AsyncClusterConnectionProvider;
      13: return

  public void setPartitions(io.lettuce.core.cluster.models.partitions.Partitions);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #121                // Field partitions:Lio/lettuce/core/cluster/models/partitions/Partitions;
       5: aload_0
       6: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
       9: ifnull        22
      12: aload_0
      13: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
      16: aload_1
      17: invokeinterface #122,  2          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.setPartitions:(Lio/lettuce/core/cluster/models/partitions/Partitions;)V
      22: return

  public io.lettuce.core.cluster.models.partitions.Partitions getPartitions();
    Code:
       0: aload_0
       1: getfield      #121                // Field partitions:Lio/lettuce/core/cluster/models/partitions/Partitions;
       4: areturn

  public void setReadFrom(io.lettuce.core.ReadFrom);
    Code:
       0: aload_0
       1: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
       4: aload_1
       5: invokeinterface #123,  2          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.setReadFrom:(Lio/lettuce/core/ReadFrom;)V
      10: return

  public io.lettuce.core.ReadFrom getReadFrom();
    Code:
       0: aload_0
       1: getfield      #45                 // Field clusterConnectionProvider:Lio/lettuce/core/cluster/ClusterConnectionProvider;
       4: invokeinterface #124,  1          // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.getReadFrom:()Lio/lettuce/core/ReadFrom;
       9: areturn

  private static java.util.List lambda$write$2(io.lettuce.core.cluster.ClusterDistributionChannelWriter$SlotIntent);
    Code:
       0: new           #63                 // class java/util/ArrayList
       3: dup
       4: invokespecial #125                // Method java/util/ArrayList."<init>":()V
       7: areturn

  private static void lambda$write$1(io.lettuce.core.cluster.ClusterCommand, io.lettuce.core.api.StatefulRedisConnection, java.lang.Throwable);
    Code:
       0: aload_0
       1: iconst_0
       2: aload_1
       3: aload_2
       4: invokestatic  #33                 // Method writeCommand:(Lio/lettuce/core/protocol/RedisCommand;ZLio/lettuce/core/api/StatefulRedisConnection;Ljava/lang/Throwable;)V
       7: return

  private static void lambda$write$0(io.lettuce.core.protocol.RedisCommand, boolean, io.lettuce.core.api.StatefulRedisConnection, java.lang.Throwable);
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: aload_3
       4: invokestatic  #33                 // Method writeCommand:(Lio/lettuce/core/protocol/RedisCommand;ZLio/lettuce/core/api/StatefulRedisConnection;Ljava/lang/Throwable;)V
       7: return
}
