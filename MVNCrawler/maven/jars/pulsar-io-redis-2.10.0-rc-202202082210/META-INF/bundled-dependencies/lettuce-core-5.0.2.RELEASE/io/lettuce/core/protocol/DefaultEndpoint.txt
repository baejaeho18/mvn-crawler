Compiled from "DefaultEndpoint.java"
public class io.lettuce.core.protocol.DefaultEndpoint implements io.lettuce.core.RedisChannelWriter,io.lettuce.core.protocol.Endpoint {
  private static final io.netty.util.internal.logging.InternalLogger logger;

  private static final java.util.concurrent.atomic.AtomicLong ENDPOINT_COUNTER;

  private static final java.util.concurrent.atomic.AtomicIntegerFieldUpdater<io.lettuce.core.protocol.DefaultEndpoint> QUEUE_SIZE;

  protected volatile io.netty.channel.Channel channel;

  private final io.lettuce.core.protocol.DefaultEndpoint$Reliability reliability;

  private final io.lettuce.core.ClientOptions clientOptions;

  private final java.util.Queue<io.lettuce.core.protocol.RedisCommand<?, ?, ?>> disconnectedBuffer;

  private final java.util.Queue<io.lettuce.core.protocol.RedisCommand<?, ?, ?>> commandBuffer;

  private final boolean boundedQueues;

  private final long endpointId;

  private final java.util.concurrent.atomic.AtomicBoolean closed;

  private final io.lettuce.core.protocol.SharedLock sharedLock;

  private final boolean debugEnabled;

  private java.lang.String logPrefix;

  private boolean autoFlushCommands;

  private io.lettuce.core.protocol.ConnectionWatchdog connectionWatchdog;

  private io.lettuce.core.protocol.ConnectionFacade connectionFacade;

  private volatile java.lang.Throwable connectionError;

  private volatile int queueSize;

  public io.lettuce.core.protocol.DefaultEndpoint(io.lettuce.core.ClientOptions);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: getstatic     #4                  // Field ENDPOINT_COUNTER:Ljava/util/concurrent/atomic/AtomicLong;
       8: invokevirtual #5                  // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
      11: putfield      #6                  // Field endpointId:J
      14: aload_0
      15: new           #7                  // class java/util/concurrent/atomic/AtomicBoolean
      18: dup
      19: invokespecial #8                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      22: putfield      #9                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
      25: aload_0
      26: new           #10                 // class io/lettuce/core/protocol/SharedLock
      29: dup
      30: invokespecial #11                 // Method io/lettuce/core/protocol/SharedLock."<init>":()V
      33: putfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      36: aload_0
      37: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      40: invokeinterface #13,  1           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.isDebugEnabled:()Z
      45: putfield      #14                 // Field debugEnabled:Z
      48: aload_0
      49: iconst_1
      50: putfield      #15                 // Field autoFlushCommands:Z
      53: aload_0
      54: iconst_0
      55: putfield      #16                 // Field queueSize:I
      58: aload_1
      59: ldc           #17                 // String ClientOptions must not be null
      61: invokestatic  #18                 // Method io/lettuce/core/internal/LettuceAssert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      64: aload_0
      65: aload_1
      66: putfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
      69: aload_0
      70: aload_1
      71: invokevirtual #20                 // Method io/lettuce/core/ClientOptions.isAutoReconnect:()Z
      74: ifeq          83
      77: getstatic     #21                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_LEAST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      80: goto          86
      83: getstatic     #22                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_MOST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      86: putfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      89: aload_0
      90: aload_1
      91: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
      94: invokestatic  #25                 // Method io/lettuce/core/internal/LettuceFactories.newConcurrentQueue:(I)Ljava/util/Queue;
      97: putfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
     100: aload_0
     101: aload_1
     102: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
     105: invokestatic  #25                 // Method io/lettuce/core/internal/LettuceFactories.newConcurrentQueue:(I)Ljava/util/Queue;
     108: putfield      #27                 // Field commandBuffer:Ljava/util/Queue;
     111: aload_0
     112: aload_1
     113: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
     116: ldc           #29                 // int 2147483647
     118: if_icmpeq     125
     121: iconst_1
     122: goto          126
     125: iconst_0
     126: putfield      #30                 // Field boundedQueues:Z
     129: return

  public void setConnectionFacade(io.lettuce.core.protocol.ConnectionFacade);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #31                 // Field connectionFacade:Lio/lettuce/core/protocol/ConnectionFacade;
       5: return

  public void setAutoFlushCommands(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #15                 // Field autoFlushCommands:Z
       5: return

  public <K, V, T> io.lettuce.core.protocol.RedisCommand<K, V, T> write(io.lettuce.core.protocol.RedisCommand<K, V, T>);
    Code:
       0: aload_1
       1: ldc           #32                 // String Command must not be null
       3: invokestatic  #18                 // Method io/lettuce/core/internal/LettuceAssert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      10: invokevirtual #33                 // Method io/lettuce/core/protocol/SharedLock.incrementWriters:()V
      13: aload_0
      14: iconst_1
      15: invokespecial #34                 // Method validateWrite:(I)V
      18: aload_0
      19: getfield      #15                 // Field autoFlushCommands:Z
      22: ifeq          48
      25: aload_0
      26: invokespecial #35                 // Method isConnected:()Z
      29: ifeq          40
      32: aload_0
      33: aload_1
      34: invokespecial #36                 // Method writeToChannel:(Lio/lettuce/core/protocol/RedisCommand;)V
      37: goto          53
      40: aload_0
      41: aload_1
      42: invokespecial #37                 // Method writeToDisconnectedBuffer:(Lio/lettuce/core/protocol/RedisCommand;)V
      45: goto          53
      48: aload_0
      49: aload_1
      50: invokevirtual #38                 // Method writeToBuffer:(Lio/lettuce/core/protocol/RedisCommand;)V
      53: aload_0
      54: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      57: invokevirtual #39                 // Method io/lettuce/core/protocol/SharedLock.decrementWriters:()V
      60: aload_0
      61: getfield      #14                 // Field debugEnabled:Z
      64: ifeq          115
      67: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      70: ldc           #40                 // String {} write() done
      72: aload_0
      73: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      76: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      81: goto          115
      84: astore_2
      85: aload_0
      86: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      89: invokevirtual #39                 // Method io/lettuce/core/protocol/SharedLock.decrementWriters:()V
      92: aload_0
      93: getfield      #14                 // Field debugEnabled:Z
      96: ifeq          113
      99: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
     102: ldc           #40                 // String {} write() done
     104: aload_0
     105: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
     108: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     113: aload_2
     114: athrow
     115: aload_1
     116: areturn
    Exception table:
       from    to  target type
           6    53    84   any

  public <K, V> java.util.Collection<io.lettuce.core.protocol.RedisCommand<K, V, ?>> write(java.util.Collection<? extends io.lettuce.core.protocol.RedisCommand<K, V, ?>>);
    Code:
       0: aload_1
       1: ldc           #43                 // String Commands must not be null
       3: invokestatic  #18                 // Method io/lettuce/core/internal/LettuceAssert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      10: invokevirtual #33                 // Method io/lettuce/core/protocol/SharedLock.incrementWriters:()V
      13: aload_0
      14: aload_1
      15: invokeinterface #44,  1           // InterfaceMethod java/util/Collection.size:()I
      20: invokespecial #34                 // Method validateWrite:(I)V
      23: aload_0
      24: getfield      #15                 // Field autoFlushCommands:Z
      27: ifeq          53
      30: aload_0
      31: invokespecial #35                 // Method isConnected:()Z
      34: ifeq          45
      37: aload_0
      38: aload_1
      39: invokespecial #45                 // Method writeToChannel:(Ljava/util/Collection;)V
      42: goto          58
      45: aload_0
      46: aload_1
      47: invokespecial #46                 // Method writeToDisconnectedBuffer:(Ljava/util/Collection;)V
      50: goto          58
      53: aload_0
      54: aload_1
      55: invokespecial #47                 // Method writeToBuffer:(Ljava/lang/Iterable;)V
      58: aload_0
      59: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      62: invokevirtual #39                 // Method io/lettuce/core/protocol/SharedLock.decrementWriters:()V
      65: aload_0
      66: getfield      #14                 // Field debugEnabled:Z
      69: ifeq          120
      72: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      75: ldc           #40                 // String {} write() done
      77: aload_0
      78: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      81: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      86: goto          120
      89: astore_2
      90: aload_0
      91: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      94: invokevirtual #39                 // Method io/lettuce/core/protocol/SharedLock.decrementWriters:()V
      97: aload_0
      98: getfield      #14                 // Field debugEnabled:Z
     101: ifeq          118
     104: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
     107: ldc           #40                 // String {} write() done
     109: aload_0
     110: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
     113: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     118: aload_2
     119: athrow
     120: aload_1
     121: areturn
    Exception table:
       from    to  target type
           6    58    89   any

  private void validateWrite(int);
    Code:
       0: aload_0
       1: invokevirtual #48                 // Method isClosed:()Z
       4: ifeq          17
       7: new           #49                 // class io/lettuce/core/RedisException
      10: dup
      11: ldc           #50                 // String Connection is closed
      13: invokespecial #51                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: invokespecial #52                 // Method usesBoundedQueues:()Z
      21: ifeq          212
      24: aload_0
      25: invokespecial #35                 // Method isConnected:()Z
      28: istore_2
      29: getstatic     #2                  // Field QUEUE_SIZE:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      32: aload_0
      33: invokevirtual #53                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.get:(Ljava/lang/Object;)I
      36: iload_1
      37: iadd
      38: aload_0
      39: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
      42: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
      45: if_icmple     86
      48: new           #49                 // class io/lettuce/core/RedisException
      51: dup
      52: new           #54                 // class java/lang/StringBuilder
      55: dup
      56: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
      59: ldc           #56                 // String Request queue size exceeded:
      61: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: aload_0
      65: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
      68: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
      71: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      74: ldc           #59                 // String . Commands are not accepted until the queue size drops.
      76: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      82: invokespecial #51                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
      85: athrow
      86: iload_2
      87: ifne          149
      90: aload_0
      91: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
      94: invokeinterface #61,  1           // InterfaceMethod java/util/Queue.size:()I
      99: iload_1
     100: iadd
     101: aload_0
     102: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
     105: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
     108: if_icmple     149
     111: new           #49                 // class io/lettuce/core/RedisException
     114: dup
     115: new           #54                 // class java/lang/StringBuilder
     118: dup
     119: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
     122: ldc           #56                 // String Request queue size exceeded:
     124: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: aload_0
     128: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
     131: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
     134: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     137: ldc           #59                 // String . Commands are not accepted until the queue size drops.
     139: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     142: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     145: invokespecial #51                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
     148: athrow
     149: iload_2
     150: ifeq          212
     153: aload_0
     154: getfield      #27                 // Field commandBuffer:Ljava/util/Queue;
     157: invokeinterface #61,  1           // InterfaceMethod java/util/Queue.size:()I
     162: iload_1
     163: iadd
     164: aload_0
     165: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
     168: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
     171: if_icmple     212
     174: new           #49                 // class io/lettuce/core/RedisException
     177: dup
     178: new           #54                 // class java/lang/StringBuilder
     181: dup
     182: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
     185: ldc           #62                 // String Command buffer size exceeded:
     187: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     190: aload_0
     191: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
     194: invokevirtual #24                 // Method io/lettuce/core/ClientOptions.getRequestQueueSize:()I
     197: invokevirtual #58                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     200: ldc           #59                 // String . Commands are not accepted until the queue size drops.
     202: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     205: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     208: invokespecial #51                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
     211: athrow
     212: aload_0
     213: invokespecial #35                 // Method isConnected:()Z
     216: ifne          236
     219: aload_0
     220: invokespecial #63                 // Method isRejectCommand:()Z
     223: ifeq          236
     226: new           #49                 // class io/lettuce/core/RedisException
     229: dup
     230: ldc           #64                 // String Currently not connected. Commands are rejected.
     232: invokespecial #51                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
     235: athrow
     236: return

  private boolean usesBoundedQueues();
    Code:
       0: aload_0
       1: getfield      #30                 // Field boundedQueues:Z
       4: ireturn

  private void writeToBuffer(java.lang.Iterable<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: aload_1
       1: invokeinterface #65,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: aload_2
       8: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          34
      16: aload_2
      17: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #68                 // class io/lettuce/core/protocol/RedisCommand
      25: astore_3
      26: aload_0
      27: aload_3
      28: invokevirtual #38                 // Method writeToBuffer:(Lio/lettuce/core/protocol/RedisCommand;)V
      31: goto          7
      34: return

  private void writeToDisconnectedBuffer(java.util.Collection<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: aload_1
       1: invokeinterface #69,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: aload_2
       8: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          34
      16: aload_2
      17: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #68                 // class io/lettuce/core/protocol/RedisCommand
      25: astore_3
      26: aload_0
      27: aload_3
      28: invokespecial #37                 // Method writeToDisconnectedBuffer:(Lio/lettuce/core/protocol/RedisCommand;)V
      31: goto          7
      34: return

  private void writeToDisconnectedBuffer(io.lettuce.core.protocol.RedisCommand<?, ?, ?>);
    Code:
       0: aload_0
       1: getfield      #70                 // Field connectionError:Ljava/lang/Throwable;
       4: ifnull        41
       7: aload_0
       8: getfield      #14                 // Field debugEnabled:Z
      11: ifeq          29
      14: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      17: ldc           #71                 // String {} writeToDisconnectedBuffer() Completing command {} due to connection error
      19: aload_0
      20: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      23: aload_1
      24: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      29: aload_1
      30: aload_0
      31: getfield      #70                 // Field connectionError:Ljava/lang/Throwable;
      34: invokeinterface #73,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
      39: pop
      40: return
      41: aload_0
      42: getfield      #14                 // Field debugEnabled:Z
      45: ifeq          63
      48: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      51: ldc           #74                 // String {} writeToDisconnectedBuffer() buffering (disconnected) command {}
      53: aload_0
      54: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      57: aload_1
      58: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      63: aload_0
      64: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
      67: aload_1
      68: invokeinterface #75,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      73: pop
      74: return

  protected <C extends io.lettuce.core.protocol.RedisCommand<?, ?, T>, T> void writeToBuffer(C);
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          22
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #76                 // String {} writeToBuffer() buffering command {}
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: aload_1
      17: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: aload_0
      23: getfield      #70                 // Field connectionError:Ljava/lang/Throwable;
      26: ifnull        63
      29: aload_0
      30: getfield      #14                 // Field debugEnabled:Z
      33: ifeq          51
      36: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      39: ldc           #77                 // String {} writeToBuffer() Completing command {} due to connection error
      41: aload_0
      42: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      45: aload_1
      46: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      51: aload_1
      52: aload_0
      53: getfield      #70                 // Field connectionError:Ljava/lang/Throwable;
      56: invokeinterface #73,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
      61: pop
      62: return
      63: aload_0
      64: getfield      #27                 // Field commandBuffer:Ljava/util/Queue;
      67: aload_1
      68: invokeinterface #75,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      73: pop
      74: return

  private void writeToChannel(io.lettuce.core.protocol.RedisCommand<?, ?, ?>);
    Code:
       0: getstatic     #2                  // Field QUEUE_SIZE:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       3: aload_0
       4: invokevirtual #78                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.incrementAndGet:(Ljava/lang/Object;)I
       7: pop
       8: aload_0
       9: getfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      12: getstatic     #22                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_MOST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      15: if_acmpne     38
      18: aload_0
      19: aload_1
      20: invokespecial #79                 // Method writeAndFlush:(Lio/lettuce/core/protocol/RedisCommand;)Lio/netty/channel/ChannelFuture;
      23: new           #80                 // class io/lettuce/core/protocol/DefaultEndpoint$AtMostOnceWriteListener
      26: dup
      27: aload_0
      28: aload_1
      29: invokespecial #81                 // Method io/lettuce/core/protocol/DefaultEndpoint$AtMostOnceWriteListener."<init>":(Lio/lettuce/core/protocol/DefaultEndpoint;Lio/lettuce/core/protocol/RedisCommand;)V
      32: invokeinterface #82,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
      37: pop
      38: aload_0
      39: getfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      42: getstatic     #21                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_LEAST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      45: if_acmpne     68
      48: aload_0
      49: aload_1
      50: invokespecial #79                 // Method writeAndFlush:(Lio/lettuce/core/protocol/RedisCommand;)Lio/netty/channel/ChannelFuture;
      53: new           #83                 // class io/lettuce/core/protocol/DefaultEndpoint$RetryListener
      56: dup
      57: aload_0
      58: aload_1
      59: invokespecial #84                 // Method io/lettuce/core/protocol/DefaultEndpoint$RetryListener."<init>":(Lio/lettuce/core/protocol/DefaultEndpoint;Lio/lettuce/core/protocol/RedisCommand;)V
      62: invokeinterface #82,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
      67: pop
      68: return

  private void writeToChannel(java.util.Collection<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: getstatic     #2                  // Field QUEUE_SIZE:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       3: aload_0
       4: aload_1
       5: invokeinterface #44,  1           // InterfaceMethod java/util/Collection.size:()I
      10: invokevirtual #85                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.addAndGet:(Ljava/lang/Object;I)I
      13: pop
      14: aload_0
      15: getfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      18: getstatic     #22                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_MOST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      21: if_acmpne     44
      24: aload_0
      25: aload_1
      26: invokespecial #86                 // Method writeAndFlush:(Ljava/util/Collection;)Lio/netty/channel/ChannelFuture;
      29: new           #80                 // class io/lettuce/core/protocol/DefaultEndpoint$AtMostOnceWriteListener
      32: dup
      33: aload_0
      34: aload_1
      35: invokespecial #87                 // Method io/lettuce/core/protocol/DefaultEndpoint$AtMostOnceWriteListener."<init>":(Lio/lettuce/core/protocol/DefaultEndpoint;Ljava/util/Collection;)V
      38: invokeinterface #82,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
      43: pop
      44: aload_0
      45: getfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      48: getstatic     #21                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_LEAST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
      51: if_acmpne     74
      54: aload_0
      55: aload_1
      56: invokespecial #86                 // Method writeAndFlush:(Ljava/util/Collection;)Lio/netty/channel/ChannelFuture;
      59: new           #83                 // class io/lettuce/core/protocol/DefaultEndpoint$RetryListener
      62: dup
      63: aload_0
      64: aload_1
      65: invokespecial #88                 // Method io/lettuce/core/protocol/DefaultEndpoint$RetryListener."<init>":(Lio/lettuce/core/protocol/DefaultEndpoint;Ljava/util/Collection;)V
      68: invokeinterface #82,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
      73: pop
      74: return

  private io.netty.channel.ChannelFuture writeAndFlush(io.lettuce.core.protocol.RedisCommand<?, ?, ?>);
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          22
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #89                 // String {} write() writeAndFlush command {}
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: aload_1
      17: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: aload_0
      23: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      26: aload_1
      27: invokeinterface #91,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      32: areturn

  private io.netty.channel.ChannelFuture writeAndFlush(java.util.Collection<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          22
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #92                 // String {} write() writeAndFlush commands {}
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: aload_1
      17: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: aload_0
      23: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      26: aload_1
      27: invokeinterface #91,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      32: areturn

  private boolean isRejectCommand();
    Code:
       0: aload_0
       1: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
       4: ifnonnull     9
       7: iconst_0
       8: ireturn
       9: getstatic     #93                 // Field io/lettuce/core/protocol/DefaultEndpoint$1.$SwitchMap$io$lettuce$core$ClientOptions$DisconnectedBehavior:[I
      12: aload_0
      13: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
      16: invokevirtual #94                 // Method io/lettuce/core/ClientOptions.getDisconnectedBehavior:()Lio/lettuce/core/ClientOptions$DisconnectedBehavior;
      19: invokevirtual #95                 // Method io/lettuce/core/ClientOptions$DisconnectedBehavior.ordinal:()I
      22: iaload
      23: tableswitch   { // 1 to 3
                     1: 48
                     2: 50
                     3: 52
               default: 52
          }
      48: iconst_1
      49: ireturn
      50: iconst_0
      51: ireturn
      52: aload_0
      53: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
      56: invokevirtual #20                 // Method io/lettuce/core/ClientOptions.isAutoReconnect:()Z
      59: ifne          64
      62: iconst_1
      63: ireturn
      64: iconst_0
      65: ireturn

  public void notifyChannelActive(io.netty.channel.Channel);
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #96                 // Field logPrefix:Ljava/lang/String;
       5: aload_0
       6: aload_1
       7: putfield      #90                 // Field channel:Lio/netty/channel/Channel;
      10: aload_0
      11: aconst_null
      12: putfield      #70                 // Field connectionError:Ljava/lang/Throwable;
      15: aload_0
      16: invokevirtual #48                 // Method isClosed:()Z
      19: ifeq          44
      22: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      25: ldc           #97                 // String {} Closing channel because endpoint is already closed
      27: aload_0
      28: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      31: invokeinterface #98,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      36: aload_1
      37: invokeinterface #99,  1           // InterfaceMethod io/netty/channel/Channel.close:()Lio/netty/channel/ChannelFuture;
      42: pop
      43: return
      44: aload_0
      45: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      48: ifnull        58
      51: aload_0
      52: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      55: invokevirtual #101                // Method io/lettuce/core/protocol/ConnectionWatchdog.arm:()V
      58: aload_0
      59: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      62: aload_0
      63: invokedynamic #102,  0            // InvokeDynamic #0:run:(Lio/lettuce/core/protocol/DefaultEndpoint;)Ljava/lang/Runnable;
      68: invokevirtual #103                // Method io/lettuce/core/protocol/SharedLock.doExclusive:(Ljava/lang/Runnable;)V
      71: return

  public void notifyChannelInactive(io.netty.channel.Channel);
    Code:
       0: aload_0
       1: invokevirtual #48                 // Method isClosed:()Z
       4: ifeq          13
       7: aload_0
       8: ldc           #104                // String Connection closed
      10: invokespecial #105                // Method cancelBufferedCommands:(Ljava/lang/String;)V
      13: aload_0
      14: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      17: aload_0
      18: invokedynamic #106,  0            // InvokeDynamic #1:run:(Lio/lettuce/core/protocol/DefaultEndpoint;)Ljava/lang/Runnable;
      23: invokevirtual #103                // Method io/lettuce/core/protocol/SharedLock.doExclusive:(Ljava/lang/Runnable;)V
      26: aload_0
      27: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      30: aload_1
      31: if_acmpne     39
      34: aload_0
      35: aconst_null
      36: putfield      #90                 // Field channel:Lio/netty/channel/Channel;
      39: return

  public void notifyException(java.lang.Throwable);
    Code:
       0: aload_1
       1: instanceof    #107                // class io/lettuce/core/RedisConnectionException
       4: ifeq          69
       7: aload_1
       8: invokevirtual #108                // Method java/lang/Throwable.getMessage:()Ljava/lang/String;
      11: invokestatic  #109                // Method io/lettuce/core/RedisConnectionException.isProtectedMode:(Ljava/lang/String;)Z
      14: ifeq          69
      17: aload_0
      18: aload_1
      19: putfield      #70                 // Field connectionError:Ljava/lang/Throwable;
      22: aload_0
      23: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      26: ifnull        45
      29: aload_0
      30: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      33: iconst_0
      34: invokevirtual #110                // Method io/lettuce/core/protocol/ConnectionWatchdog.setListenOnChannelInactive:(Z)V
      37: aload_0
      38: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      41: iconst_0
      42: invokevirtual #111                // Method io/lettuce/core/protocol/ConnectionWatchdog.setReconnectSuspended:(Z)V
      45: aload_0
      46: aload_0
      47: invokedynamic #112,  0            // InvokeDynamic #2:get:(Lio/lettuce/core/protocol/DefaultEndpoint;)Ljava/util/function/Supplier;
      52: invokevirtual #113                // Method doExclusive:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      55: checkcast     #114                // class java/util/List
      58: aload_1
      59: invokedynamic #115,  0            // InvokeDynamic #3:accept:(Ljava/lang/Throwable;)Ljava/util/function/Consumer;
      64: invokeinterface #116,  2          // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      69: aload_0
      70: invokespecial #35                 // Method isConnected:()Z
      73: ifne          81
      76: aload_0
      77: aload_1
      78: putfield      #70                 // Field connectionError:Ljava/lang/Throwable;
      81: return

  public void registerConnectionWatchdog(io.lettuce.core.protocol.ConnectionWatchdog);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
       5: return

  public void flushCommands();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #27                 // Field commandBuffer:Ljava/util/Queue;
       5: invokespecial #117                // Method flushCommands:(Ljava/util/Queue;)V
       8: return

  private void flushCommands(java.util.Queue<io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          21
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #118                // String {} flushCommands()
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      21: aload_0
      22: invokespecial #35                 // Method isConnected:()Z
      25: ifeq          158
      28: aload_0
      29: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      32: aload_1
      33: invokedynamic #119,  0            // InvokeDynamic #4:get:(Ljava/util/Queue;)Ljava/util/function/Supplier;
      38: invokevirtual #120                // Method io/lettuce/core/protocol/SharedLock.doExclusive:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      41: checkcast     #114                // class java/util/List
      44: astore_2
      45: aload_0
      46: getfield      #14                 // Field debugEnabled:Z
      49: ifeq          75
      52: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      55: ldc           #121                // String {} flushCommands() Flushing {} commands
      57: aload_0
      58: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      61: aload_2
      62: invokeinterface #122,  1          // InterfaceMethod java/util/List.size:()I
      67: invokestatic  #123                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      70: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      75: aload_2
      76: invokeinterface #124,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      81: ifne          158
      84: getstatic     #2                  // Field QUEUE_SIZE:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      87: aload_0
      88: aload_2
      89: invokeinterface #122,  1          // InterfaceMethod java/util/List.size:()I
      94: invokevirtual #85                 // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.addAndGet:(Ljava/lang/Object;I)I
      97: pop
      98: aload_0
      99: getfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
     102: getstatic     #22                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_MOST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
     105: if_acmpne     128
     108: aload_0
     109: aload_2
     110: invokespecial #86                 // Method writeAndFlush:(Ljava/util/Collection;)Lio/netty/channel/ChannelFuture;
     113: new           #80                 // class io/lettuce/core/protocol/DefaultEndpoint$AtMostOnceWriteListener
     116: dup
     117: aload_0
     118: aload_2
     119: invokespecial #87                 // Method io/lettuce/core/protocol/DefaultEndpoint$AtMostOnceWriteListener."<init>":(Lio/lettuce/core/protocol/DefaultEndpoint;Ljava/util/Collection;)V
     122: invokeinterface #82,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
     127: pop
     128: aload_0
     129: getfield      #23                 // Field reliability:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
     132: getstatic     #21                 // Field io/lettuce/core/protocol/DefaultEndpoint$Reliability.AT_LEAST_ONCE:Lio/lettuce/core/protocol/DefaultEndpoint$Reliability;
     135: if_acmpne     158
     138: aload_0
     139: aload_2
     140: invokespecial #86                 // Method writeAndFlush:(Ljava/util/Collection;)Lio/netty/channel/ChannelFuture;
     143: new           #83                 // class io/lettuce/core/protocol/DefaultEndpoint$RetryListener
     146: dup
     147: aload_0
     148: aload_2
     149: invokespecial #88                 // Method io/lettuce/core/protocol/DefaultEndpoint$RetryListener."<init>":(Lio/lettuce/core/protocol/DefaultEndpoint;Ljava/util/Collection;)V
     152: invokeinterface #82,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
     157: pop
     158: return

  public void close();
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          21
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #125                // String {} close()
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      21: aload_0
      22: invokevirtual #48                 // Method isClosed:()Z
      25: ifeq          29
      28: return
      29: aload_0
      30: getfield      #9                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
      33: iconst_0
      34: iconst_1
      35: invokevirtual #126                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      38: ifeq          93
      41: aload_0
      42: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      45: ifnull        55
      48: aload_0
      49: getfield      #100                // Field connectionWatchdog:Lio/lettuce/core/protocol/ConnectionWatchdog;
      52: invokevirtual #127                // Method io/lettuce/core/protocol/ConnectionWatchdog.prepareClose:()V
      55: aload_0
      56: ldc           #128                // String Close
      58: invokespecial #105                // Method cancelBufferedCommands:(Ljava/lang/String;)V
      61: aload_0
      62: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      65: astore_1
      66: aload_1
      67: ifnull        93
      70: aload_1
      71: invokeinterface #99,  1           // InterfaceMethod io/netty/channel/Channel.close:()Lio/netty/channel/ChannelFuture;
      76: astore_2
      77: aload_1
      78: invokeinterface #129,  1          // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      83: ifeq          93
      86: aload_2
      87: invokeinterface #130,  1          // InterfaceMethod io/netty/channel/ChannelFuture.syncUninterruptibly:()Lio/netty/channel/ChannelFuture;
      92: pop
      93: return

  public void reset();
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          21
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #131                // String {} reset()
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      21: aload_0
      22: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      25: ifnull        50
      28: aload_0
      29: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      32: invokeinterface #132,  1          // InterfaceMethod io/netty/channel/Channel.pipeline:()Lio/netty/channel/ChannelPipeline;
      37: new           #133                // class io/lettuce/core/ConnectionEvents$Reset
      40: dup
      41: invokespecial #134                // Method io/lettuce/core/ConnectionEvents$Reset."<init>":()V
      44: invokeinterface #135,  2          // InterfaceMethod io/netty/channel/ChannelPipeline.fireUserEventTriggered:(Ljava/lang/Object;)Lio/netty/channel/ChannelPipeline;
      49: pop
      50: aload_0
      51: ldc           #136                // String Reset
      53: invokespecial #105                // Method cancelBufferedCommands:(Ljava/lang/String;)V
      56: return

  public void initialState();
    Code:
       0: aload_0
       1: getfield      #27                 // Field commandBuffer:Ljava/util/Queue;
       4: invokeinterface #137,  1          // InterfaceMethod java/util/Queue.clear:()V
       9: aload_0
      10: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      13: astore_1
      14: aload_1
      15: ifnull        41
      18: aload_1
      19: invokeinterface #99,  1           // InterfaceMethod io/netty/channel/Channel.close:()Lio/netty/channel/ChannelFuture;
      24: astore_2
      25: aload_1
      26: invokeinterface #129,  1          // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      31: ifeq          41
      34: aload_2
      35: invokeinterface #130,  1          // InterfaceMethod io/netty/channel/ChannelFuture.syncUninterruptibly:()Lio/netty/channel/ChannelFuture;
      40: pop
      41: return

  public void notifyDrainQueuedCommands(io.lettuce.core.protocol.HasQueuedCommands);
    Code:
       0: aload_0
       1: invokevirtual #48                 // Method isClosed:()Z
       4: ifeq          30
       7: aload_0
       8: ldc           #104                // String Connection closed
      10: aload_1
      11: invokeinterface #138,  1          // InterfaceMethod io/lettuce/core/protocol/HasQueuedCommands.drainQueue:()Ljava/util/Collection;
      16: invokespecial #139                // Method cancelCommands:(Ljava/lang/String;Ljava/lang/Iterable;)V
      19: aload_0
      20: ldc           #104                // String Connection closed
      22: aload_0
      23: invokevirtual #140                // Method drainCommands:()Ljava/util/List;
      26: invokespecial #139                // Method cancelCommands:(Ljava/lang/String;Ljava/lang/Iterable;)V
      29: return
      30: aload_0
      31: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
      34: aload_0
      35: aload_1
      36: invokedynamic #141,  0            // InvokeDynamic #5:run:(Lio/lettuce/core/protocol/DefaultEndpoint;Lio/lettuce/core/protocol/HasQueuedCommands;)Ljava/lang/Runnable;
      41: invokevirtual #103                // Method io/lettuce/core/protocol/SharedLock.doExclusive:(Ljava/lang/Runnable;)V
      44: return

  public boolean isClosed();
    Code:
       0: aload_0
       1: getfield      #9                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #142                // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ireturn

  protected <T> T doExclusive(java.util.function.Supplier<T>);
    Code:
       0: aload_0
       1: getfield      #12                 // Field sharedLock:Lio/lettuce/core/protocol/SharedLock;
       4: aload_1
       5: invokevirtual #120                // Method io/lettuce/core/protocol/SharedLock.doExclusive:(Ljava/util/function/Supplier;)Ljava/lang/Object;
       8: areturn

  protected java.util.List<io.lettuce.core.protocol.RedisCommand<?, ?, ?>> drainCommands();
    Code:
       0: new           #143                // class java/util/ArrayList
       3: dup
       4: invokespecial #144                // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_1
       9: aload_0
      10: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
      13: invokestatic  #145                // Method drainCommands:(Ljava/util/Queue;)Ljava/util/List;
      16: invokeinterface #146,  2          // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      21: pop
      22: aload_1
      23: aload_0
      24: getfield      #27                 // Field commandBuffer:Ljava/util/Queue;
      27: invokestatic  #145                // Method drainCommands:(Ljava/util/Queue;)Ljava/util/List;
      30: invokeinterface #146,  2          // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      35: pop
      36: aload_1
      37: areturn

  private static java.util.List<io.lettuce.core.protocol.RedisCommand<?, ?, ?>> drainCommands(java.util.Queue<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: new           #143                // class java/util/ArrayList
       3: dup
       4: aload_0
       5: invokeinterface #61,  1           // InterfaceMethod java/util/Queue.size:()I
      10: invokespecial #147                // Method java/util/ArrayList."<init>":(I)V
      13: astore_1
      14: aload_0
      15: invokeinterface #148,  1          // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
      20: checkcast     #68                 // class io/lettuce/core/protocol/RedisCommand
      23: dup
      24: astore_2
      25: ifnull        39
      28: aload_1
      29: aload_2
      30: invokeinterface #149,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      35: pop
      36: goto          14
      39: aload_1
      40: areturn

  private void cancelBufferedCommands(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: aload_0
       4: invokedynamic #112,  0            // InvokeDynamic #2:get:(Lio/lettuce/core/protocol/DefaultEndpoint;)Ljava/util/function/Supplier;
       9: invokevirtual #113                // Method doExclusive:(Ljava/util/function/Supplier;)Ljava/lang/Object;
      12: checkcast     #150                // class java/lang/Iterable
      15: invokespecial #139                // Method cancelCommands:(Ljava/lang/String;Ljava/lang/Iterable;)V
      18: return

  private void cancelCommands(java.lang.String, java.lang.Iterable<? extends io.lettuce.core.protocol.RedisCommand<?, ?, ?>>);
    Code:
       0: aload_2
       1: invokeinterface #65,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
       6: astore_3
       7: aload_3
       8: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          58
      16: aload_3
      17: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #68                 // class io/lettuce/core/protocol/RedisCommand
      25: astore        4
      27: aload         4
      29: invokeinterface #151,  1          // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getOutput:()Lio/lettuce/core/output/CommandOutput;
      34: ifnull        48
      37: aload         4
      39: invokeinterface #151,  1          // InterfaceMethod io/lettuce/core/protocol/RedisCommand.getOutput:()Lio/lettuce/core/output/CommandOutput;
      44: aload_1
      45: invokevirtual #152                // Method io/lettuce/core/output/CommandOutput.setError:(Ljava/lang/String;)V
      48: aload         4
      50: invokeinterface #153,  1          // InterfaceMethod io/lettuce/core/protocol/RedisCommand.cancel:()V
      55: goto          7
      58: return

  private boolean isConnected();
    Code:
       0: aload_0
       1: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
       4: astore_1
       5: aload_1
       6: ifnull        22
       9: aload_1
      10: invokeinterface #154,  1          // InterfaceMethod io/netty/channel/Channel.isActive:()Z
      15: ifeq          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  protected java.lang.String logPrefix();
    Code:
       0: aload_0
       1: getfield      #96                 // Field logPrefix:Ljava/lang/String;
       4: ifnull        12
       7: aload_0
       8: getfield      #96                 // Field logPrefix:Ljava/lang/String;
      11: areturn
      12: new           #54                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #55                 // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #155                // String [
      21: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: getfield      #90                 // Field channel:Lio/netty/channel/Channel;
      28: invokestatic  #156                // Method io/lettuce/core/protocol/ChannelLogDescriptor.logDescriptor:(Lio/netty/channel/Channel;)Ljava/lang/String;
      31: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: ldc           #157                // String , epid=0x
      36: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_0
      40: getfield      #6                  // Field endpointId:J
      43: invokestatic  #158                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      46: invokevirtual #57                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: bipush        93
      51: invokevirtual #159                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      54: invokevirtual #60                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      57: astore_1
      58: aload_0
      59: aload_1
      60: dup_x1
      61: putfield      #96                 // Field logPrefix:Ljava/lang/String;
      64: areturn

  private void lambda$notifyDrainQueuedCommands$4(io.lettuce.core.protocol.HasQueuedCommands);
    Code:
       0: aload_1
       1: invokeinterface #138,  1          // InterfaceMethod io/lettuce/core/protocol/HasQueuedCommands.drainQueue:()Ljava/util/Collection;
       6: astore_2
       7: aload_0
       8: getfield      #14                 // Field debugEnabled:Z
      11: ifeq          37
      14: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      17: ldc           #160                // String {} notifyQueuedCommands adding {} command(s) to buffer
      19: aload_0
      20: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      23: aload_2
      24: invokeinterface #44,  1           // InterfaceMethod java/util/Collection.size:()I
      29: invokestatic  #123                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      32: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      37: aload_2
      38: aload_0
      39: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
      42: invokestatic  #145                // Method drainCommands:(Ljava/util/Queue;)Ljava/util/List;
      45: invokeinterface #161,  2          // InterfaceMethod java/util/Collection.addAll:(Ljava/util/Collection;)Z
      50: pop
      51: aload_2
      52: invokeinterface #69,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      57: astore_3
      58: aload_3
      59: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      64: ifeq          99
      67: aload_3
      68: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      73: checkcast     #68                 // class io/lettuce/core/protocol/RedisCommand
      76: astore        4
      78: aload         4
      80: instanceof    #162                // class io/lettuce/core/protocol/DemandAware$Sink
      83: ifeq          96
      86: aload         4
      88: checkcast     #162                // class io/lettuce/core/protocol/DemandAware$Sink
      91: invokeinterface #163,  1          // InterfaceMethod io/lettuce/core/protocol/DemandAware$Sink.removeSource:()V
      96: goto          58
      99: aload_0
     100: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
     103: aload_2
     104: invokeinterface #164,  2          // InterfaceMethod java/util/Queue.addAll:(Ljava/util/Collection;)Z
     109: pop
     110: goto          197
     113: astore_3
     114: aload_0
     115: getfield      #14                 // Field debugEnabled:Z
     118: ifeq          144
     121: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
     124: ldc           #166                // String {} notifyQueuedCommands Queue overcommit. Cannot add all commands to buffer (disconnected).
     126: aload_0
     127: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
     130: aload_2
     131: invokeinterface #44,  1           // InterfaceMethod java/util/Collection.size:()I
     136: invokestatic  #123                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     139: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     144: aload_2
     145: aload_0
     146: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
     149: invokeinterface #167,  2          // InterfaceMethod java/util/Collection.removeAll:(Ljava/util/Collection;)Z
     154: pop
     155: aload_2
     156: invokeinterface #69,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     161: astore        4
     163: aload         4
     165: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     170: ifeq          197
     173: aload         4
     175: invokeinterface #67,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     180: checkcast     #68                 // class io/lettuce/core/protocol/RedisCommand
     183: astore        5
     185: aload         5
     187: aload_3
     188: invokeinterface #73,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
     193: pop
     194: goto          163
     197: aload_0
     198: invokespecial #35                 // Method isConnected:()Z
     201: ifeq          212
     204: aload_0
     205: aload_0
     206: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
     209: invokespecial #117                // Method flushCommands:(Ljava/util/Queue;)V
     212: return
    Exception table:
       from    to  target type
          99   110   113   Class java/lang/RuntimeException

  private static java.util.List lambda$flushCommands$3(java.util.Queue);
    Code:
       0: aload_0
       1: invokeinterface #168,  1          // InterfaceMethod java/util/Queue.isEmpty:()Z
       6: ifeq          13
       9: invokestatic  #169                // Method java/util/Collections.emptyList:()Ljava/util/List;
      12: areturn
      13: aload_0
      14: invokestatic  #145                // Method drainCommands:(Ljava/util/Queue;)Ljava/util/List;
      17: areturn

  private static void lambda$notifyException$2(java.lang.Throwable, io.lettuce.core.protocol.RedisCommand);
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #73,  2           // InterfaceMethod io/lettuce/core/protocol/RedisCommand.completeExceptionally:(Ljava/lang/Throwable;)Z
       7: pop
       8: return

  private void lambda$notifyChannelInactive$1();
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          21
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #170                // String {} deactivating endpoint handler
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      21: aload_0
      22: getfield      #31                 // Field connectionFacade:Lio/lettuce/core/protocol/ConnectionFacade;
      25: invokeinterface #171,  1          // InterfaceMethod io/lettuce/core/protocol/ConnectionFacade.deactivated:()V
      30: return

  private void lambda$notifyChannelActive$0();
    Code:
       0: aload_0
       1: getfield      #14                 // Field debugEnabled:Z
       4: ifeq          33
       7: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      10: ldc           #172                // String {} activateEndpointAndExecuteBufferedCommands {} command(s) buffered
      12: aload_0
      13: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      16: aload_0
      17: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
      20: invokeinterface #61,  1           // InterfaceMethod java/util/Queue.size:()I
      25: invokestatic  #123                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokeinterface #72,  4           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      33: aload_0
      34: getfield      #14                 // Field debugEnabled:Z
      37: ifeq          54
      40: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      43: ldc           #173                // String {} activating endpoint
      45: aload_0
      46: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      49: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      54: aload_0
      55: getfield      #31                 // Field connectionFacade:Lio/lettuce/core/protocol/ConnectionFacade;
      58: invokeinterface #174,  1          // InterfaceMethod io/lettuce/core/protocol/ConnectionFacade.activated:()V
      63: aload_0
      64: aload_0
      65: getfield      #26                 // Field disconnectedBuffer:Ljava/util/Queue;
      68: invokespecial #117                // Method flushCommands:(Ljava/util/Queue;)V
      71: goto          112
      74: astore_1
      75: aload_0
      76: getfield      #14                 // Field debugEnabled:Z
      79: ifeq          96
      82: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
      85: ldc           #176                // String {} channelActive() ran into an exception
      87: aload_0
      88: invokevirtual #41                 // Method logPrefix:()Ljava/lang/String;
      91: invokeinterface #42,  3           // InterfaceMethod io/netty/util/internal/logging/InternalLogger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      96: aload_0
      97: getfield      #19                 // Field clientOptions:Lio/lettuce/core/ClientOptions;
     100: invokevirtual #177                // Method io/lettuce/core/ClientOptions.isCancelCommandsOnReconnectFailure:()Z
     103: ifeq          110
     106: aload_0
     107: invokevirtual #178                // Method reset:()V
     110: aload_1
     111: athrow
     112: return
    Exception table:
       from    to  target type
           0    71    74   Class java/lang/Exception

  static java.util.concurrent.atomic.AtomicIntegerFieldUpdater access$000();
    Code:
       0: getstatic     #2                  // Field QUEUE_SIZE:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
       3: areturn

  static io.netty.util.internal.logging.InternalLogger access$100();
    Code:
       0: getstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
       3: areturn

  static {};
    Code:
       0: ldc           #179                // class io/lettuce/core/protocol/DefaultEndpoint
       2: invokestatic  #180                // Method io/netty/util/internal/logging/InternalLoggerFactory.getInstance:(Ljava/lang/Class;)Lio/netty/util/internal/logging/InternalLogger;
       5: putstatic     #1                  // Field logger:Lio/netty/util/internal/logging/InternalLogger;
       8: new           #181                // class java/util/concurrent/atomic/AtomicLong
      11: dup
      12: invokespecial #182                // Method java/util/concurrent/atomic/AtomicLong."<init>":()V
      15: putstatic     #4                  // Field ENDPOINT_COUNTER:Ljava/util/concurrent/atomic/AtomicLong;
      18: ldc           #179                // class io/lettuce/core/protocol/DefaultEndpoint
      20: ldc           #183                // String queueSize
      22: invokestatic  #184                // Method java/util/concurrent/atomic/AtomicIntegerFieldUpdater.newUpdater:(Ljava/lang/Class;Ljava/lang/String;)Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      25: putstatic     #2                  // Field QUEUE_SIZE:Ljava/util/concurrent/atomic/AtomicIntegerFieldUpdater;
      28: return
}
