Compiled from "StatefulRedisClusterPubSubConnectionImpl.java"
class io.lettuce.core.cluster.StatefulRedisClusterPubSubConnectionImpl<K, V> extends io.lettuce.core.pubsub.StatefulRedisPubSubConnectionImpl<K, V> implements io.lettuce.core.cluster.pubsub.StatefulRedisClusterPubSubConnection<K, V> {
  private final io.lettuce.core.cluster.PubSubClusterEndpoint<K, V> endpoint;

  private volatile io.lettuce.core.cluster.models.partitions.Partitions partitions;

  private volatile io.lettuce.core.cluster.RedisState redisState;

  public io.lettuce.core.cluster.StatefulRedisClusterPubSubConnectionImpl(io.lettuce.core.cluster.PubSubClusterEndpoint<K, V>, io.lettuce.core.RedisChannelWriter, io.lettuce.core.codec.RedisCodec<K, V>, java.time.Duration);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: invokespecial #1                  // Method io/lettuce/core/pubsub/StatefulRedisPubSubConnectionImpl."<init>":(Lio/lettuce/core/pubsub/PubSubEndpoint;Lio/lettuce/core/RedisChannelWriter;Lio/lettuce/core/codec/RedisCodec;Ljava/time/Duration;)V
       9: aload_0
      10: aload_1
      11: putfield      #2                  // Field endpoint:Lio/lettuce/core/cluster/PubSubClusterEndpoint;
      14: return

  public io.lettuce.core.cluster.pubsub.api.async.RedisClusterPubSubAsyncCommands<K, V> async();
    Code:
       0: aload_0
       1: invokespecial #3                  // Method io/lettuce/core/pubsub/StatefulRedisPubSubConnectionImpl.async:()Lio/lettuce/core/pubsub/api/async/RedisPubSubAsyncCommands;
       4: checkcast     #4                  // class io/lettuce/core/cluster/pubsub/api/async/RedisClusterPubSubAsyncCommands
       7: areturn

  protected io.lettuce.core.pubsub.RedisPubSubAsyncCommandsImpl<K, V> newRedisAsyncCommandsImpl();
    Code:
       0: new           #5                  // class io/lettuce/core/cluster/RedisClusterPubSubAsyncCommandsImpl
       3: dup
       4: aload_0
       5: aload_0
       6: getfield      #6                  // Field codec:Lio/lettuce/core/codec/RedisCodec;
       9: invokespecial #7                  // Method io/lettuce/core/cluster/RedisClusterPubSubAsyncCommandsImpl."<init>":(Lio/lettuce/core/cluster/pubsub/StatefulRedisClusterPubSubConnection;Lio/lettuce/core/codec/RedisCodec;)V
      12: areturn

  public io.lettuce.core.cluster.pubsub.api.sync.RedisClusterPubSubCommands<K, V> sync();
    Code:
       0: aload_0
       1: invokespecial #8                  // Method io/lettuce/core/pubsub/StatefulRedisPubSubConnectionImpl.sync:()Lio/lettuce/core/pubsub/api/sync/RedisPubSubCommands;
       4: checkcast     #9                  // class io/lettuce/core/cluster/pubsub/api/sync/RedisClusterPubSubCommands
       7: areturn

  protected io.lettuce.core.pubsub.api.sync.RedisPubSubCommands<K, V> newRedisSyncCommandsImpl();
    Code:
       0: ldc           #10                 // class io/lettuce/core/AbstractRedisClient
       2: invokevirtual #11                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
       5: iconst_2
       6: anewarray     #12                 // class java/lang/Class
       9: dup
      10: iconst_0
      11: ldc           #9                  // class io/lettuce/core/cluster/pubsub/api/sync/RedisClusterPubSubCommands
      13: aastore
      14: dup
      15: iconst_1
      16: ldc           #13                 // class io/lettuce/core/pubsub/api/sync/RedisPubSubCommands
      18: aastore
      19: aload_0
      20: invokespecial #14                 // Method syncInvocationHandler:()Ljava/lang/reflect/InvocationHandler;
      23: invokestatic  #15                 // Method java/lang/reflect/Proxy.newProxyInstance:(Ljava/lang/ClassLoader;[Ljava/lang/Class;Ljava/lang/reflect/InvocationHandler;)Ljava/lang/Object;
      26: checkcast     #13                 // class io/lettuce/core/pubsub/api/sync/RedisPubSubCommands
      29: areturn

  private java.lang.reflect.InvocationHandler syncInvocationHandler();
    Code:
       0: new           #16                 // class io/lettuce/core/cluster/ClusterFutureSyncInvocationHandler
       3: dup
       4: aload_0
       5: ldc           #17                 // class io/lettuce/core/pubsub/api/async/RedisPubSubAsyncCommands
       7: ldc           #18                 // class io/lettuce/core/cluster/pubsub/api/sync/PubSubNodeSelection
       9: ldc           #19                 // class io/lettuce/core/cluster/pubsub/api/sync/NodeSelectionPubSubCommands
      11: aload_0
      12: invokevirtual #20                 // Method async:()Lio/lettuce/core/cluster/pubsub/api/async/RedisClusterPubSubAsyncCommands;
      15: invokespecial #21                 // Method io/lettuce/core/cluster/ClusterFutureSyncInvocationHandler."<init>":(Lio/lettuce/core/api/StatefulConnection;Ljava/lang/Class;Ljava/lang/Class;Ljava/lang/Class;Ljava/lang/Object;)V
      18: areturn

  public io.lettuce.core.cluster.pubsub.api.reactive.RedisClusterPubSubReactiveCommands<K, V> reactive();
    Code:
       0: aload_0
       1: invokespecial #22                 // Method io/lettuce/core/pubsub/StatefulRedisPubSubConnectionImpl.reactive:()Lio/lettuce/core/pubsub/api/reactive/RedisPubSubReactiveCommands;
       4: checkcast     #23                 // class io/lettuce/core/cluster/pubsub/api/reactive/RedisClusterPubSubReactiveCommands
       7: areturn

  protected io.lettuce.core.pubsub.RedisPubSubReactiveCommandsImpl<K, V> newRedisReactiveCommandsImpl();
    Code:
       0: new           #24                 // class io/lettuce/core/cluster/RedisClusterPubSubReactiveCommandsImpl
       3: dup
       4: aload_0
       5: aload_0
       6: getfield      #6                  // Field codec:Lio/lettuce/core/codec/RedisCodec;
       9: invokespecial #25                 // Method io/lettuce/core/cluster/RedisClusterPubSubReactiveCommandsImpl."<init>":(Lio/lettuce/core/cluster/pubsub/StatefulRedisClusterPubSubConnection;Lio/lettuce/core/codec/RedisCodec;)V
      12: areturn

  void inspectRedisState();
    Code:
       0: aload_0
       1: new           #26                 // class io/lettuce/core/cluster/RedisState
       4: dup
       5: aload_0
       6: invokevirtual #27                 // Method sync:()Lio/lettuce/core/cluster/pubsub/api/sync/RedisClusterPubSubCommands;
       9: invokeinterface #28,  1           // InterfaceMethod io/lettuce/core/cluster/pubsub/api/sync/RedisClusterPubSubCommands.command:()Ljava/util/List;
      14: invokestatic  #29                 // Method io/lettuce/core/models/command/CommandDetailParser.parse:(Ljava/util/List;)Ljava/util/List;
      17: invokespecial #30                 // Method io/lettuce/core/cluster/RedisState."<init>":(Ljava/util/Collection;)V
      20: putfield      #31                 // Field redisState:Lio/lettuce/core/cluster/RedisState;
      23: goto          41
      26: astore_1
      27: aload_0
      28: new           #26                 // class io/lettuce/core/cluster/RedisState
      31: dup
      32: invokestatic  #33                 // Method java/util/Collections.emptyList:()Ljava/util/List;
      35: invokespecial #30                 // Method io/lettuce/core/cluster/RedisState."<init>":(Ljava/util/Collection;)V
      38: putfield      #31                 // Field redisState:Lio/lettuce/core/cluster/RedisState;
      41: return
    Exception table:
       from    to  target type
           0    23    26   Class io/lettuce/core/RedisCommandExecutionException

  io.lettuce.core.cluster.RedisState getState();
    Code:
       0: aload_0
       1: getfield      #31                 // Field redisState:Lio/lettuce/core/cluster/RedisState;
       4: areturn

  public void activated();
    Code:
       0: aload_0
       1: invokespecial #34                 // Method io/lettuce/core/pubsub/StatefulRedisPubSubConnectionImpl.activated:()V
       4: aload_0
       5: invokevirtual #20                 // Method async:()Lio/lettuce/core/cluster/pubsub/api/async/RedisClusterPubSubAsyncCommands;
       8: invokeinterface #35,  1           // InterfaceMethod io/lettuce/core/cluster/pubsub/api/async/RedisClusterPubSubAsyncCommands.clusterMyId:()Lio/lettuce/core/RedisFuture;
      13: aload_0
      14: invokedynamic #36,  0             // InvokeDynamic #0:accept:(Lio/lettuce/core/cluster/StatefulRedisClusterPubSubConnectionImpl;)Ljava/util/function/Consumer;
      19: invokeinterface #37,  2           // InterfaceMethod io/lettuce/core/RedisFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletionStage;
      24: pop
      25: return

  public io.lettuce.core.pubsub.StatefulRedisPubSubConnection<K, V> getConnection(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #38                 // Method lookup:(Ljava/lang/String;)Lio/lettuce/core/RedisURI;
       5: astore_2
       6: aload_2
       7: ifnonnull     42
      10: new           #39                 // class io/lettuce/core/RedisException
      13: dup
      14: new           #40                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #41                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #42                 // String NodeId
      23: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #44                 // String  does not belong to the cluster
      32: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: invokespecial #46                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: aload_0
      43: invokevirtual #47                 // Method getClusterDistributionChannelWriter:()Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
      46: invokevirtual #48                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
      49: getstatic     #49                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      52: aload_1
      53: invokeinterface #50,  3           // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.getConnection:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;Ljava/lang/String;)Lio/lettuce/core/api/StatefulRedisConnection;
      58: checkcast     #51                 // class io/lettuce/core/pubsub/StatefulRedisPubSubConnection
      61: areturn

  public java.util.concurrent.CompletableFuture<io.lettuce.core.pubsub.StatefulRedisPubSubConnection<K, V>> getConnectionAsync(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #38                 // Method lookup:(Ljava/lang/String;)Lio/lettuce/core/RedisURI;
       5: astore_2
       6: aload_2
       7: ifnonnull     42
      10: new           #39                 // class io/lettuce/core/RedisException
      13: dup
      14: new           #40                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #41                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #42                 // String NodeId
      23: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_1
      27: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #44                 // String  does not belong to the cluster
      32: invokevirtual #43                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: invokevirtual #45                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: invokespecial #46                 // Method io/lettuce/core/RedisException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: aload_0
      43: invokevirtual #47                 // Method getClusterDistributionChannelWriter:()Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
      46: invokevirtual #48                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
      49: checkcast     #52                 // class io/lettuce/core/cluster/AsyncClusterConnectionProvider
      52: astore_3
      53: aload_3
      54: getstatic     #49                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      57: aload_1
      58: invokeinterface #53,  3           // InterfaceMethod io/lettuce/core/cluster/AsyncClusterConnectionProvider.getConnectionAsync:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;Ljava/lang/String;)Ljava/util/concurrent/CompletableFuture;
      63: areturn

  public io.lettuce.core.pubsub.StatefulRedisPubSubConnection<K, V> getConnection(java.lang.String, int);
    Code:
       0: aload_0
       1: invokevirtual #47                 // Method getClusterDistributionChannelWriter:()Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
       4: invokevirtual #48                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
       7: getstatic     #49                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      10: aload_1
      11: iload_2
      12: invokeinterface #54,  4           // InterfaceMethod io/lettuce/core/cluster/ClusterConnectionProvider.getConnection:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;Ljava/lang/String;I)Lio/lettuce/core/api/StatefulRedisConnection;
      17: checkcast     #51                 // class io/lettuce/core/pubsub/StatefulRedisPubSubConnection
      20: areturn

  public java.util.concurrent.CompletableFuture<io.lettuce.core.pubsub.StatefulRedisPubSubConnection<K, V>> getConnectionAsync(java.lang.String, int);
    Code:
       0: aload_0
       1: invokevirtual #47                 // Method getClusterDistributionChannelWriter:()Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
       4: invokevirtual #48                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.getClusterConnectionProvider:()Lio/lettuce/core/cluster/ClusterConnectionProvider;
       7: checkcast     #52                 // class io/lettuce/core/cluster/AsyncClusterConnectionProvider
      10: astore_3
      11: aload_3
      12: getstatic     #49                 // Field io/lettuce/core/cluster/ClusterConnectionProvider$Intent.WRITE:Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;
      15: aload_1
      16: iload_2
      17: invokeinterface #55,  4           // InterfaceMethod io/lettuce/core/cluster/AsyncClusterConnectionProvider.getConnectionAsync:(Lio/lettuce/core/cluster/ClusterConnectionProvider$Intent;Ljava/lang/String;I)Ljava/util/concurrent/CompletableFuture;
      22: areturn

  public void setPartitions(io.lettuce.core.cluster.models.partitions.Partitions);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #56                 // Field partitions:Lio/lettuce/core/cluster/models/partitions/Partitions;
       5: aload_0
       6: invokevirtual #47                 // Method getClusterDistributionChannelWriter:()Lio/lettuce/core/cluster/ClusterDistributionChannelWriter;
       9: aload_1
      10: invokevirtual #57                 // Method io/lettuce/core/cluster/ClusterDistributionChannelWriter.setPartitions:(Lio/lettuce/core/cluster/models/partitions/Partitions;)V
      13: return

  public io.lettuce.core.cluster.models.partitions.Partitions getPartitions();
    Code:
       0: aload_0
       1: getfield      #56                 // Field partitions:Lio/lettuce/core/cluster/models/partitions/Partitions;
       4: areturn

  public void setNodeMessagePropagation(boolean);
    Code:
       0: aload_0
       1: getfield      #2                  // Field endpoint:Lio/lettuce/core/cluster/PubSubClusterEndpoint;
       4: iload_1
       5: invokevirtual #58                 // Method io/lettuce/core/cluster/PubSubClusterEndpoint.setNodeMessagePropagation:(Z)V
       8: return

  public void addListener(io.lettuce.core.cluster.pubsub.RedisClusterPubSubListener<K, V>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field endpoint:Lio/lettuce/core/cluster/PubSubClusterEndpoint;
       4: aload_1
       5: invokevirtual #59                 // Method io/lettuce/core/cluster/PubSubClusterEndpoint.addListener:(Lio/lettuce/core/cluster/pubsub/RedisClusterPubSubListener;)V
       8: return

  public void removeListener(io.lettuce.core.cluster.pubsub.RedisClusterPubSubListener<K, V>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field endpoint:Lio/lettuce/core/cluster/PubSubClusterEndpoint;
       4: aload_1
       5: invokevirtual #60                 // Method io/lettuce/core/cluster/PubSubClusterEndpoint.removeListener:(Lio/lettuce/core/cluster/pubsub/RedisClusterPubSubListener;)V
       8: return

  io.lettuce.core.cluster.pubsub.RedisClusterPubSubListener<K, V> getUpstreamListener();
    Code:
       0: aload_0
       1: getfield      #2                  // Field endpoint:Lio/lettuce/core/cluster/PubSubClusterEndpoint;
       4: invokevirtual #61                 // Method io/lettuce/core/cluster/PubSubClusterEndpoint.getUpstreamListener:()Lio/lettuce/core/cluster/pubsub/RedisClusterPubSubListener;
       7: areturn

  protected io.lettuce.core.cluster.ClusterDistributionChannelWriter getClusterDistributionChannelWriter();
    Code:
       0: aload_0
       1: invokespecial #62                 // Method io/lettuce/core/pubsub/StatefulRedisPubSubConnectionImpl.getChannelWriter:()Lio/lettuce/core/RedisChannelWriter;
       4: checkcast     #63                 // class io/lettuce/core/cluster/ClusterDistributionChannelWriter
       7: areturn

  private io.lettuce.core.RedisURI lookup(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #56                 // Field partitions:Lio/lettuce/core/cluster/models/partitions/Partitions;
       4: invokevirtual #64                 // Method io/lettuce/core/cluster/models/partitions/Partitions.iterator:()Ljava/util/Iterator;
       7: astore_2
       8: aload_2
       9: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      14: ifeq          46
      17: aload_2
      18: invokeinterface #66,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      23: checkcast     #67                 // class io/lettuce/core/cluster/models/partitions/RedisClusterNode
      26: astore_3
      27: aload_3
      28: invokevirtual #68                 // Method io/lettuce/core/cluster/models/partitions/RedisClusterNode.getNodeId:()Ljava/lang/String;
      31: aload_1
      32: invokevirtual #69                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      35: ifeq          43
      38: aload_3
      39: invokevirtual #70                 // Method io/lettuce/core/cluster/models/partitions/RedisClusterNode.getUri:()Lio/lettuce/core/RedisURI;
      42: areturn
      43: goto          8
      46: aconst_null
      47: areturn

  public io.lettuce.core.pubsub.api.reactive.RedisPubSubReactiveCommands reactive();
    Code:
       0: aload_0
       1: invokevirtual #71                 // Method reactive:()Lio/lettuce/core/cluster/pubsub/api/reactive/RedisClusterPubSubReactiveCommands;
       4: areturn

  public io.lettuce.core.pubsub.api.sync.RedisPubSubCommands sync();
    Code:
       0: aload_0
       1: invokevirtual #27                 // Method sync:()Lio/lettuce/core/cluster/pubsub/api/sync/RedisClusterPubSubCommands;
       4: areturn

  public io.lettuce.core.pubsub.api.async.RedisPubSubAsyncCommands async();
    Code:
       0: aload_0
       1: invokevirtual #20                 // Method async:()Lio/lettuce/core/cluster/pubsub/api/async/RedisClusterPubSubAsyncCommands;
       4: areturn

  public io.lettuce.core.api.reactive.RedisReactiveCommands reactive();
    Code:
       0: aload_0
       1: invokevirtual #71                 // Method reactive:()Lio/lettuce/core/cluster/pubsub/api/reactive/RedisClusterPubSubReactiveCommands;
       4: areturn

  public io.lettuce.core.api.async.RedisAsyncCommands async();
    Code:
       0: aload_0
       1: invokevirtual #20                 // Method async:()Lio/lettuce/core/cluster/pubsub/api/async/RedisClusterPubSubAsyncCommands;
       4: areturn

  public io.lettuce.core.api.sync.RedisCommands sync();
    Code:
       0: aload_0
       1: invokevirtual #27                 // Method sync:()Lio/lettuce/core/cluster/pubsub/api/sync/RedisClusterPubSubCommands;
       4: areturn

  protected io.lettuce.core.RedisReactiveCommandsImpl newRedisReactiveCommandsImpl();
    Code:
       0: aload_0
       1: invokevirtual #72                 // Method newRedisReactiveCommandsImpl:()Lio/lettuce/core/pubsub/RedisPubSubReactiveCommandsImpl;
       4: areturn

  protected io.lettuce.core.RedisAsyncCommandsImpl newRedisAsyncCommandsImpl();
    Code:
       0: aload_0
       1: invokevirtual #73                 // Method newRedisAsyncCommandsImpl:()Lio/lettuce/core/pubsub/RedisPubSubAsyncCommandsImpl;
       4: areturn

  protected io.lettuce.core.api.sync.RedisCommands newRedisSyncCommandsImpl();
    Code:
       0: aload_0
       1: invokevirtual #74                 // Method newRedisSyncCommandsImpl:()Lio/lettuce/core/pubsub/api/sync/RedisPubSubCommands;
       4: areturn

  private void lambda$activated$0(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field endpoint:Lio/lettuce/core/cluster/PubSubClusterEndpoint;
       4: aload_0
       5: getfield      #56                 // Field partitions:Lio/lettuce/core/cluster/models/partitions/Partitions;
       8: aload_1
       9: invokevirtual #75                 // Method io/lettuce/core/cluster/models/partitions/Partitions.getPartitionByNodeId:(Ljava/lang/String;)Lio/lettuce/core/cluster/models/partitions/RedisClusterNode;
      12: invokevirtual #76                 // Method io/lettuce/core/cluster/PubSubClusterEndpoint.setClusterNode:(Lio/lettuce/core/cluster/models/partitions/RedisClusterNode;)V
      15: return
}
