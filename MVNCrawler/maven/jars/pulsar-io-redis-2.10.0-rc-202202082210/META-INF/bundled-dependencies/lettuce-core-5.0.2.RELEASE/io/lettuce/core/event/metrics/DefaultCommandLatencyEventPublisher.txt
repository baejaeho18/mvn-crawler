Compiled from "DefaultCommandLatencyEventPublisher.java"
public class io.lettuce.core.event.metrics.DefaultCommandLatencyEventPublisher implements io.lettuce.core.event.metrics.MetricEventPublisher {
  private final io.netty.util.concurrent.EventExecutorGroup eventExecutorGroup;

  private final io.lettuce.core.event.EventPublisherOptions options;

  private final io.lettuce.core.event.EventBus eventBus;

  private final io.lettuce.core.metrics.CommandLatencyCollector commandLatencyCollector;

  private final java.lang.Runnable EMITTER;

  private volatile io.netty.util.concurrent.ScheduledFuture<?> scheduledFuture;

  public io.lettuce.core.event.metrics.DefaultCommandLatencyEventPublisher(io.netty.util.concurrent.EventExecutorGroup, io.lettuce.core.event.EventPublisherOptions, io.lettuce.core.event.EventBus, io.lettuce.core.metrics.CommandLatencyCollector);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokedynamic #2,  0              // InvokeDynamic #0:run:(Lio/lettuce/core/event/metrics/DefaultCommandLatencyEventPublisher;)Ljava/lang/Runnable;
      11: putfield      #3                  // Field EMITTER:Ljava/lang/Runnable;
      14: aload_0
      15: aload_1
      16: putfield      #4                  // Field eventExecutorGroup:Lio/netty/util/concurrent/EventExecutorGroup;
      19: aload_0
      20: aload_2
      21: putfield      #5                  // Field options:Lio/lettuce/core/event/EventPublisherOptions;
      24: aload_0
      25: aload_3
      26: putfield      #6                  // Field eventBus:Lio/lettuce/core/event/EventBus;
      29: aload_0
      30: aload         4
      32: putfield      #7                  // Field commandLatencyCollector:Lio/lettuce/core/metrics/CommandLatencyCollector;
      35: aload_2
      36: invokeinterface #8,  1            // InterfaceMethod io/lettuce/core/event/EventPublisherOptions.eventEmitInterval:()Ljava/time/Duration;
      41: invokevirtual #9                  // Method java/time/Duration.isZero:()Z
      44: ifne          85
      47: aload_0
      48: aload_0
      49: getfield      #4                  // Field eventExecutorGroup:Lio/netty/util/concurrent/EventExecutorGroup;
      52: aload_0
      53: getfield      #3                  // Field EMITTER:Ljava/lang/Runnable;
      56: aload_2
      57: invokeinterface #8,  1            // InterfaceMethod io/lettuce/core/event/EventPublisherOptions.eventEmitInterval:()Ljava/time/Duration;
      62: invokevirtual #10                 // Method java/time/Duration.toMillis:()J
      65: aload_2
      66: invokeinterface #8,  1            // InterfaceMethod io/lettuce/core/event/EventPublisherOptions.eventEmitInterval:()Ljava/time/Duration;
      71: invokevirtual #10                 // Method java/time/Duration.toMillis:()J
      74: getstatic     #11                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      77: invokeinterface #12,  7           // InterfaceMethod io/netty/util/concurrent/EventExecutorGroup.scheduleAtFixedRate:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Lio/netty/util/concurrent/ScheduledFuture;
      82: putfield      #13                 // Field scheduledFuture:Lio/netty/util/concurrent/ScheduledFuture;
      85: return

  public boolean isEnabled();
    Code:
       0: aload_0
       1: getfield      #5                  // Field options:Lio/lettuce/core/event/EventPublisherOptions;
       4: invokeinterface #8,  1            // InterfaceMethod io/lettuce/core/event/EventPublisherOptions.eventEmitInterval:()Ljava/time/Duration;
       9: invokevirtual #9                  // Method java/time/Duration.isZero:()Z
      12: ifne          26
      15: aload_0
      16: getfield      #13                 // Field scheduledFuture:Lio/netty/util/concurrent/ScheduledFuture;
      19: ifnull        26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ireturn

  public void shutdown();
    Code:
       0: aload_0
       1: getfield      #13                 // Field scheduledFuture:Lio/netty/util/concurrent/ScheduledFuture;
       4: ifnull        23
       7: aload_0
       8: getfield      #13                 // Field scheduledFuture:Lio/netty/util/concurrent/ScheduledFuture;
      11: iconst_1
      12: invokeinterface #14,  2           // InterfaceMethod io/netty/util/concurrent/ScheduledFuture.cancel:(Z)Z
      17: pop
      18: aload_0
      19: aconst_null
      20: putfield      #13                 // Field scheduledFuture:Lio/netty/util/concurrent/ScheduledFuture;
      23: return

  public void emitMetricsEvent();
    Code:
       0: aload_0
       1: invokevirtual #15                 // Method isEnabled:()Z
       4: ifeq          19
       7: aload_0
       8: getfield      #7                  // Field commandLatencyCollector:Lio/lettuce/core/metrics/CommandLatencyCollector;
      11: invokeinterface #16,  1           // InterfaceMethod io/lettuce/core/metrics/CommandLatencyCollector.isEnabled:()Z
      16: ifne          20
      19: return
      20: aload_0
      21: getfield      #6                  // Field eventBus:Lio/lettuce/core/event/EventBus;
      24: new           #17                 // class io/lettuce/core/event/metrics/CommandLatencyEvent
      27: dup
      28: aload_0
      29: getfield      #7                  // Field commandLatencyCollector:Lio/lettuce/core/metrics/CommandLatencyCollector;
      32: invokeinterface #18,  1           // InterfaceMethod io/lettuce/core/metrics/CommandLatencyCollector.retrieveMetrics:()Ljava/lang/Object;
      37: checkcast     #19                 // class java/util/Map
      40: invokespecial #20                 // Method io/lettuce/core/event/metrics/CommandLatencyEvent."<init>":(Ljava/util/Map;)V
      43: invokeinterface #21,  2           // InterfaceMethod io/lettuce/core/event/EventBus.publish:(Lio/lettuce/core/event/Event;)V
      48: return
}
