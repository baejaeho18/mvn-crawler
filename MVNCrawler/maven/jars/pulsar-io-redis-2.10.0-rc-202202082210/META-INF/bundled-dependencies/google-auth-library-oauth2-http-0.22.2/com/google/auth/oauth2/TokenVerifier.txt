Compiled from "TokenVerifier.java"
public class com.google.auth.oauth2.TokenVerifier {
  private static final java.lang.String IAP_CERT_URL;

  private static final java.lang.String FEDERATED_SIGNON_CERT_URL;

  private static final java.util.Set<java.lang.String> SUPPORTED_ALGORITHMS;

  private final java.lang.String audience;

  private final java.lang.String certificatesLocation;

  private final java.lang.String issuer;

  private final java.security.PublicKey publicKey;

  private final com.google.api.client.util.Clock clock;

  private final com.google.common.cache.LoadingCache<java.lang.String, java.util.Map<java.lang.String, java.security.PublicKey>> publicKeyCache;

  private com.google.auth.oauth2.TokenVerifier(com.google.auth.oauth2.TokenVerifier$Builder);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: invokestatic  #3                  // Method com/google/auth/oauth2/TokenVerifier$Builder.access$000:(Lcom/google/auth/oauth2/TokenVerifier$Builder;)Ljava/lang/String;
       9: putfield      #4                  // Field audience:Ljava/lang/String;
      12: aload_0
      13: aload_1
      14: invokestatic  #5                  // Method com/google/auth/oauth2/TokenVerifier$Builder.access$100:(Lcom/google/auth/oauth2/TokenVerifier$Builder;)Ljava/lang/String;
      17: putfield      #6                  // Field certificatesLocation:Ljava/lang/String;
      20: aload_0
      21: aload_1
      22: invokestatic  #7                  // Method com/google/auth/oauth2/TokenVerifier$Builder.access$200:(Lcom/google/auth/oauth2/TokenVerifier$Builder;)Ljava/lang/String;
      25: putfield      #8                  // Field issuer:Ljava/lang/String;
      28: aload_0
      29: aload_1
      30: invokestatic  #9                  // Method com/google/auth/oauth2/TokenVerifier$Builder.access$300:(Lcom/google/auth/oauth2/TokenVerifier$Builder;)Ljava/security/PublicKey;
      33: putfield      #10                 // Field publicKey:Ljava/security/PublicKey;
      36: aload_0
      37: aload_1
      38: invokestatic  #11                 // Method com/google/auth/oauth2/TokenVerifier$Builder.access$400:(Lcom/google/auth/oauth2/TokenVerifier$Builder;)Lcom/google/api/client/util/Clock;
      41: putfield      #12                 // Field clock:Lcom/google/api/client/util/Clock;
      44: aload_0
      45: invokestatic  #13                 // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
      48: lconst_1
      49: getstatic     #14                 // Field java/util/concurrent/TimeUnit.HOURS:Ljava/util/concurrent/TimeUnit;
      52: invokevirtual #15                 // Method com/google/common/cache/CacheBuilder.expireAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
      55: new           #16                 // class com/google/auth/oauth2/TokenVerifier$PublicKeyLoader
      58: dup
      59: aload_1
      60: invokestatic  #17                 // Method com/google/auth/oauth2/TokenVerifier$Builder.access$500:(Lcom/google/auth/oauth2/TokenVerifier$Builder;)Lcom/google/auth/http/HttpTransportFactory;
      63: invokespecial #18                 // Method com/google/auth/oauth2/TokenVerifier$PublicKeyLoader."<init>":(Lcom/google/auth/http/HttpTransportFactory;)V
      66: invokevirtual #19                 // Method com/google/common/cache/CacheBuilder.build:(Lcom/google/common/cache/CacheLoader;)Lcom/google/common/cache/LoadingCache;
      69: putfield      #20                 // Field publicKeyCache:Lcom/google/common/cache/LoadingCache;
      72: return

  public static com.google.auth.oauth2.TokenVerifier$Builder newBuilder();
    Code:
       0: new           #21                 // class com/google/auth/oauth2/TokenVerifier$Builder
       3: dup
       4: invokespecial #22                 // Method com/google/auth/oauth2/TokenVerifier$Builder."<init>":()V
       7: getstatic     #23                 // Field com/google/api/client/util/Clock.SYSTEM:Lcom/google/api/client/util/Clock;
      10: invokevirtual #24                 // Method com/google/auth/oauth2/TokenVerifier$Builder.setClock:(Lcom/google/api/client/util/Clock;)Lcom/google/auth/oauth2/TokenVerifier$Builder;
      13: getstatic     #25                 // Field com/google/auth/oauth2/OAuth2Utils.HTTP_TRANSPORT_FACTORY:Lcom/google/auth/http/HttpTransportFactory;
      16: invokevirtual #26                 // Method com/google/auth/oauth2/TokenVerifier$Builder.setHttpTransportFactory:(Lcom/google/auth/http/HttpTransportFactory;)Lcom/google/auth/oauth2/TokenVerifier$Builder;
      19: areturn

  public com.google.api.client.json.webtoken.JsonWebSignature verify(java.lang.String) throws com.google.auth.oauth2.TokenVerifier$VerificationException;
    Code:
       0: getstatic     #27                 // Field com/google/auth/oauth2/OAuth2Utils.JSON_FACTORY:Lcom/google/api/client/json/JsonFactory;
       3: aload_1
       4: invokestatic  #28                 // Method com/google/api/client/json/webtoken/JsonWebSignature.parse:(Lcom/google/api/client/json/JsonFactory;Ljava/lang/String;)Lcom/google/api/client/json/webtoken/JsonWebSignature;
       7: astore_2
       8: goto          23
      11: astore_3
      12: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
      15: dup
      16: ldc           #31                 // String Error parsing JsonWebSignature token
      18: aload_3
      19: invokespecial #32                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      22: athrow
      23: aload_0
      24: getfield      #4                  // Field audience:Ljava/lang/String;
      27: ifnull        57
      30: aload_0
      31: getfield      #4                  // Field audience:Ljava/lang/String;
      34: aload_2
      35: invokevirtual #33                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getPayload:()Lcom/google/api/client/json/webtoken/JsonWebToken$Payload;
      38: invokevirtual #34                 // Method com/google/api/client/json/webtoken/JsonWebToken$Payload.getAudience:()Ljava/lang/Object;
      41: invokevirtual #35                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      44: ifne          57
      47: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
      50: dup
      51: ldc           #36                 // String Expected audience does not match
      53: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_0
      58: getfield      #8                  // Field issuer:Ljava/lang/String;
      61: ifnull        91
      64: aload_0
      65: getfield      #8                  // Field issuer:Ljava/lang/String;
      68: aload_2
      69: invokevirtual #33                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getPayload:()Lcom/google/api/client/json/webtoken/JsonWebToken$Payload;
      72: invokevirtual #38                 // Method com/google/api/client/json/webtoken/JsonWebToken$Payload.getIssuer:()Ljava/lang/String;
      75: invokevirtual #35                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      78: ifne          91
      81: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
      84: dup
      85: ldc           #39                 // String Expected issuer does not match
      87: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
      90: athrow
      91: aload_2
      92: invokevirtual #33                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getPayload:()Lcom/google/api/client/json/webtoken/JsonWebToken$Payload;
      95: invokevirtual #40                 // Method com/google/api/client/json/webtoken/JsonWebToken$Payload.getExpirationTimeSeconds:()Ljava/lang/Long;
      98: astore_3
      99: aload_3
     100: ifnull        134
     103: aload_3
     104: invokevirtual #41                 // Method java/lang/Long.longValue:()J
     107: aload_0
     108: getfield      #12                 // Field clock:Lcom/google/api/client/util/Clock;
     111: invokeinterface #42,  1           // InterfaceMethod com/google/api/client/util/Clock.currentTimeMillis:()J
     116: ldc2_w        #43                 // long 1000l
     119: ldiv
     120: lcmp
     121: ifgt          134
     124: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     127: dup
     128: ldc           #45                 // String Token is expired
     130: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
     133: athrow
     134: getstatic     #46                 // Field SUPPORTED_ALGORITHMS:Ljava/util/Set;
     137: aload_2
     138: invokevirtual #47                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getHeader:()Lcom/google/api/client/json/webtoken/JsonWebSignature$Header;
     141: invokevirtual #48                 // Method com/google/api/client/json/webtoken/JsonWebSignature$Header.getAlgorithm:()Ljava/lang/String;
     144: invokeinterface #49,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     149: ifne          162
     152: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     155: dup
     156: ldc           #50                 // String Unexpected signing algorithm: expected either RS256 or ES256
     158: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
     161: athrow
     162: aload_0
     163: getfield      #10                 // Field publicKey:Ljava/security/PublicKey;
     166: astore        4
     168: aload         4
     170: ifnonnull     228
     173: aload_0
     174: aload_2
     175: invokespecial #51                 // Method getCertificateLocation:(Lcom/google/api/client/json/webtoken/JsonWebSignature;)Ljava/lang/String;
     178: astore        5
     180: aload_0
     181: getfield      #20                 // Field publicKeyCache:Lcom/google/common/cache/LoadingCache;
     184: aload         5
     186: invokeinterface #52,  2           // InterfaceMethod com/google/common/cache/LoadingCache.get:(Ljava/lang/Object;)Ljava/lang/Object;
     191: checkcast     #53                 // class java/util/Map
     194: aload_2
     195: invokevirtual #47                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getHeader:()Lcom/google/api/client/json/webtoken/JsonWebSignature$Header;
     198: invokevirtual #54                 // Method com/google/api/client/json/webtoken/JsonWebSignature$Header.getKeyId:()Ljava/lang/String;
     201: invokeinterface #55,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     206: checkcast     #56                 // class java/security/PublicKey
     209: astore        4
     211: goto          228
     214: astore        5
     216: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     219: dup
     220: ldc           #59                 // String Error fetching PublicKey from certificate location
     222: aload         5
     224: invokespecial #32                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     227: athrow
     228: aload         4
     230: ifnonnull     266
     233: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     236: dup
     237: new           #60                 // class java/lang/StringBuilder
     240: dup
     241: invokespecial #61                 // Method java/lang/StringBuilder."<init>":()V
     244: ldc           #62                 // String Could not find PublicKey for provided keyId:
     246: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: aload_2
     250: invokevirtual #47                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getHeader:()Lcom/google/api/client/json/webtoken/JsonWebSignature$Header;
     253: invokevirtual #54                 // Method com/google/api/client/json/webtoken/JsonWebSignature$Header.getKeyId:()Ljava/lang/String;
     256: invokevirtual #63                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     259: invokevirtual #64                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     262: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
     265: athrow
     266: aload_2
     267: aload         4
     269: invokevirtual #65                 // Method com/google/api/client/json/webtoken/JsonWebSignature.verifySignature:(Ljava/security/PublicKey;)Z
     272: ifeq          277
     275: aload_2
     276: areturn
     277: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     280: dup
     281: ldc           #66                 // String Invalid signature
     283: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
     286: athrow
     287: astore        5
     289: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     292: dup
     293: ldc           #68                 // String Error validating token
     295: aload         5
     297: invokespecial #32                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     300: athrow
    Exception table:
       from    to  target type
           0     8    11   Class java/io/IOException
         173   211   214   Class java/util/concurrent/ExecutionException
         173   211   214   Class com/google/common/util/concurrent/UncheckedExecutionException
         266   276   287   Class java/security/GeneralSecurityException
         277   287   287   Class java/security/GeneralSecurityException

  private java.lang.String getCertificateLocation(com.google.api.client.json.webtoken.JsonWebSignature) throws com.google.auth.oauth2.TokenVerifier$VerificationException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field certificatesLocation:Ljava/lang/String;
       4: ifnull        12
       7: aload_0
       8: getfield      #6                  // Field certificatesLocation:Ljava/lang/String;
      11: areturn
      12: aload_1
      13: invokevirtual #47                 // Method com/google/api/client/json/webtoken/JsonWebSignature.getHeader:()Lcom/google/api/client/json/webtoken/JsonWebSignature$Header;
      16: invokevirtual #48                 // Method com/google/api/client/json/webtoken/JsonWebSignature$Header.getAlgorithm:()Ljava/lang/String;
      19: astore_2
      20: iconst_m1
      21: istore_3
      22: aload_2
      23: invokevirtual #69                 // Method java/lang/String.hashCode:()I
      26: lookupswitch  { // 2
              66245349: 66
              78251122: 52
               default: 77
          }
      52: aload_2
      53: ldc           #70                 // String RS256
      55: invokevirtual #35                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      58: ifeq          77
      61: iconst_0
      62: istore_3
      63: goto          77
      66: aload_2
      67: ldc           #71                 // String ES256
      69: invokevirtual #35                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      72: ifeq          77
      75: iconst_1
      76: istore_3
      77: iload_3
      78: lookupswitch  { // 2
                     0: 104
                     1: 107
               default: 110
          }
     104: ldc           #73                 // String https://www.googleapis.com/oauth2/v3/certs
     106: areturn
     107: ldc           #74                 // String https://www.gstatic.com/iap/verify/public_key-jwk
     109: areturn
     110: new           #30                 // class com/google/auth/oauth2/TokenVerifier$VerificationException
     113: dup
     114: ldc           #75                 // String Unknown algorithm
     116: invokespecial #37                 // Method com/google/auth/oauth2/TokenVerifier$VerificationException."<init>":(Ljava/lang/String;)V
     119: athrow

  com.google.auth.oauth2.TokenVerifier(com.google.auth.oauth2.TokenVerifier$Builder, com.google.auth.oauth2.TokenVerifier$1);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method "<init>":(Lcom/google/auth/oauth2/TokenVerifier$Builder;)V
       5: return

  static {};
    Code:
       0: ldc           #70                 // String RS256
       2: ldc           #71                 // String ES256
       4: invokestatic  #76                 // Method com/google/common/collect/ImmutableSet.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet;
       7: putstatic     #46                 // Field SUPPORTED_ALGORITHMS:Ljava/util/Set;
      10: return
}
