Compiled from "CurrentSpanUtils.java"
final class io.opencensus.trace.CurrentSpanUtils$CallableInSpan<V> implements java.util.concurrent.Callable<V> {
  private final io.opencensus.trace.Span span;

  private final java.util.concurrent.Callable<V> callable;

  private final boolean endSpan;

  private io.opencensus.trace.CurrentSpanUtils$CallableInSpan(io.opencensus.trace.Span, java.util.concurrent.Callable<V>, boolean);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #3                  // Field span:Lio/opencensus/trace/Span;
       9: aload_0
      10: aload_2
      11: putfield      #4                  // Field callable:Ljava/util/concurrent/Callable;
      14: aload_0
      15: iload_3
      16: putfield      #5                  // Field endSpan:Z
      19: return

  public V call() throws java.lang.Exception;
    Code:
       0: invokestatic  #6                  // Method io/grpc/Context.current:()Lio/grpc/Context;
       3: getstatic     #7                  // Field io/opencensus/trace/unsafe/ContextUtils.CONTEXT_SPAN_KEY:Lio/grpc/Context$Key;
       6: aload_0
       7: getfield      #3                  // Field span:Lio/opencensus/trace/Span;
      10: invokevirtual #8                  // Method io/grpc/Context.withValue:(Lio/grpc/Context$Key;Ljava/lang/Object;)Lio/grpc/Context;
      13: invokevirtual #9                  // Method io/grpc/Context.attach:()Lio/grpc/Context;
      16: astore_1
      17: aload_0
      18: getfield      #4                  // Field callable:Ljava/util/concurrent/Callable;
      21: invokeinterface #10,  1           // InterfaceMethod java/util/concurrent/Callable.call:()Ljava/lang/Object;
      26: astore_2
      27: invokestatic  #6                  // Method io/grpc/Context.current:()Lio/grpc/Context;
      30: aload_1
      31: invokevirtual #11                 // Method io/grpc/Context.detach:(Lio/grpc/Context;)V
      34: aload_0
      35: getfield      #5                  // Field endSpan:Z
      38: ifeq          48
      41: aload_0
      42: getfield      #3                  // Field span:Lio/opencensus/trace/Span;
      45: invokevirtual #12                 // Method io/opencensus/trace/Span.end:()V
      48: aload_2
      49: areturn
      50: astore_2
      51: aload_0
      52: getfield      #3                  // Field span:Lio/opencensus/trace/Span;
      55: aload_2
      56: invokestatic  #14                 // Method io/opencensus/trace/CurrentSpanUtils.access$300:(Lio/opencensus/trace/Span;Ljava/lang/Throwable;)V
      59: aload_2
      60: athrow
      61: astore_2
      62: aload_0
      63: getfield      #3                  // Field span:Lio/opencensus/trace/Span;
      66: aload_2
      67: invokestatic  #14                 // Method io/opencensus/trace/CurrentSpanUtils.access$300:(Lio/opencensus/trace/Span;Ljava/lang/Throwable;)V
      70: aload_2
      71: instanceof    #16                 // class java/lang/Error
      74: ifeq          82
      77: aload_2
      78: checkcast     #16                 // class java/lang/Error
      81: athrow
      82: new           #17                 // class java/lang/RuntimeException
      85: dup
      86: ldc           #18                 // String unexpected
      88: aload_2
      89: invokespecial #19                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      92: athrow
      93: astore_3
      94: invokestatic  #6                  // Method io/grpc/Context.current:()Lio/grpc/Context;
      97: aload_1
      98: invokevirtual #11                 // Method io/grpc/Context.detach:(Lio/grpc/Context;)V
     101: aload_0
     102: getfield      #5                  // Field endSpan:Z
     105: ifeq          115
     108: aload_0
     109: getfield      #3                  // Field span:Lio/opencensus/trace/Span;
     112: invokevirtual #12                 // Method io/opencensus/trace/Span.end:()V
     115: aload_3
     116: athrow
    Exception table:
       from    to  target type
          17    27    50   Class java/lang/Exception
          17    27    61   Class java/lang/Throwable
          17    27    93   any
          50    94    93   any

  io.opencensus.trace.CurrentSpanUtils$CallableInSpan(io.opencensus.trace.Span, java.util.concurrent.Callable, boolean, io.opencensus.trace.CurrentSpanUtils$1);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: invokespecial #1                  // Method "<init>":(Lio/opencensus/trace/Span;Ljava/util/concurrent/Callable;Z)V
       7: return
}
