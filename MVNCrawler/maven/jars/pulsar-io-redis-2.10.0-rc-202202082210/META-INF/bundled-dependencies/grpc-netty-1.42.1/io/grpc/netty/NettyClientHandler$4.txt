Compiled from "NettyClientHandler.java"
class io.grpc.netty.NettyClientHandler$4 implements io.netty.channel.ChannelFutureListener {
  final int val$streamId;

  final io.grpc.netty.NettyClientStream$TransportState val$stream;

  final boolean val$shouldBeCountedForInUse;

  final io.netty.channel.ChannelPromise val$promise;

  final io.grpc.netty.NettyClientHandler this$0;

  io.grpc.netty.NettyClientHandler$4(io.grpc.netty.NettyClientHandler, int, io.grpc.netty.NettyClientStream$TransportState, boolean, io.netty.channel.ChannelPromise);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/grpc/netty/NettyClientHandler;
       5: aload_0
       6: iload_2
       7: putfield      #2                  // Field val$streamId:I
      10: aload_0
      11: aload_3
      12: putfield      #3                  // Field val$stream:Lio/grpc/netty/NettyClientStream$TransportState;
      15: aload_0
      16: iload         4
      18: putfield      #4                  // Field val$shouldBeCountedForInUse:Z
      21: aload_0
      22: aload         5
      24: putfield      #5                  // Field val$promise:Lio/netty/channel/ChannelPromise;
      27: aload_0
      28: invokespecial #6                  // Method java/lang/Object."<init>":()V
      31: return

  public void operationComplete(io.netty.channel.ChannelFuture) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #7,  1            // InterfaceMethod io/netty/channel/ChannelFuture.isSuccess:()Z
       6: ifeq          98
       9: aload_0
      10: getfield      #1                  // Field this$0:Lio/grpc/netty/NettyClientHandler;
      13: invokevirtual #8                  // Method io/grpc/netty/NettyClientHandler.connection:()Lio/netty/handler/codec/http2/Http2Connection;
      16: aload_0
      17: getfield      #2                  // Field val$streamId:I
      20: invokeinterface #9,  2            // InterfaceMethod io/netty/handler/codec/http2/Http2Connection.stream:(I)Lio/netty/handler/codec/http2/Http2Stream;
      25: astore_2
      26: aload_2
      27: ifnull        85
      30: aload_0
      31: getfield      #3                  // Field val$stream:Lio/grpc/netty/NettyClientStream$TransportState;
      34: invokevirtual #10                 // Method io/grpc/netty/NettyClientStream$TransportState.getStatsTraceContext:()Lio/grpc/internal/StatsTraceContext;
      37: invokevirtual #11                 // Method io/grpc/internal/StatsTraceContext.clientOutboundHeaders:()V
      40: aload_2
      41: aload_0
      42: getfield      #1                  // Field this$0:Lio/grpc/netty/NettyClientHandler;
      45: invokestatic  #12                 // Method io/grpc/netty/NettyClientHandler.access$700:(Lio/grpc/netty/NettyClientHandler;)Lio/netty/handler/codec/http2/Http2Connection$PropertyKey;
      48: aload_0
      49: getfield      #3                  // Field val$stream:Lio/grpc/netty/NettyClientStream$TransportState;
      52: invokeinterface #13,  3           // InterfaceMethod io/netty/handler/codec/http2/Http2Stream.setProperty:(Lio/netty/handler/codec/http2/Http2Connection$PropertyKey;Ljava/lang/Object;)Ljava/lang/Object;
      57: pop
      58: aload_0
      59: getfield      #4                  // Field val$shouldBeCountedForInUse:Z
      62: ifeq          77
      65: aload_0
      66: getfield      #1                  // Field this$0:Lio/grpc/netty/NettyClientHandler;
      69: invokestatic  #14                 // Method io/grpc/netty/NettyClientHandler.access$500:(Lio/grpc/netty/NettyClientHandler;)Lio/grpc/internal/InUseStateAggregator;
      72: aload_2
      73: iconst_1
      74: invokevirtual #15                 // Method io/grpc/internal/InUseStateAggregator.updateObjectInUse:(Ljava/lang/Object;Z)V
      77: aload_0
      78: getfield      #3                  // Field val$stream:Lio/grpc/netty/NettyClientStream$TransportState;
      81: aload_2
      82: invokevirtual #16                 // Method io/grpc/netty/NettyClientStream$TransportState.setHttp2Stream:(Lio/netty/handler/codec/http2/Http2Stream;)V
      85: aload_0
      86: getfield      #5                  // Field val$promise:Lio/netty/channel/ChannelPromise;
      89: invokeinterface #17,  1           // InterfaceMethod io/netty/channel/ChannelPromise.setSuccess:()Lio/netty/channel/ChannelPromise;
      94: pop
      95: goto          188
      98: aload_1
      99: invokeinterface #18,  1           // InterfaceMethod io/netty/channel/ChannelFuture.cause:()Ljava/lang/Throwable;
     104: astore_2
     105: aload_2
     106: instanceof    #19                 // class io/netty/handler/codec/http2/StreamBufferingEncoder$Http2GoAwayException
     109: ifeq          177
     112: aload_2
     113: checkcast     #19                 // class io/netty/handler/codec/http2/StreamBufferingEncoder$Http2GoAwayException
     116: astore_3
     117: aload_0
     118: getfield      #1                  // Field this$0:Lio/grpc/netty/NettyClientHandler;
     121: getstatic     #20                 // Field io/grpc/Status$Code.UNAVAILABLE:Lio/grpc/Status$Code;
     124: ldc           #21                 // String GOAWAY closed buffered stream
     126: aload_3
     127: invokevirtual #22                 // Method io/netty/handler/codec/http2/StreamBufferingEncoder$Http2GoAwayException.errorCode:()J
     130: aload_3
     131: invokevirtual #23                 // Method io/netty/handler/codec/http2/StreamBufferingEncoder$Http2GoAwayException.debugData:()[B
     134: invokestatic  #24                 // Method io/grpc/netty/NettyClientHandler.access$800:(Lio/grpc/netty/NettyClientHandler;Lio/grpc/Status$Code;Ljava/lang/String;J[B)Lio/grpc/Status;
     137: astore        4
     139: aload_0
     140: getfield      #3                  // Field val$stream:Lio/grpc/netty/NettyClientStream$TransportState;
     143: aload         4
     145: getstatic     #25                 // Field io/grpc/internal/ClientStreamListener$RpcProgress.REFUSED:Lio/grpc/internal/ClientStreamListener$RpcProgress;
     148: iconst_1
     149: new           #26                 // class io/grpc/Metadata
     152: dup
     153: invokespecial #27                 // Method io/grpc/Metadata."<init>":()V
     156: invokevirtual #28                 // Method io/grpc/netty/NettyClientStream$TransportState.transportReportStatus:(Lio/grpc/Status;Lio/grpc/internal/ClientStreamListener$RpcProgress;ZLio/grpc/Metadata;)V
     159: aload_0
     160: getfield      #5                  // Field val$promise:Lio/netty/channel/ChannelPromise;
     163: aload         4
     165: invokevirtual #29                 // Method io/grpc/Status.asRuntimeException:()Lio/grpc/StatusRuntimeException;
     168: invokeinterface #30,  2           // InterfaceMethod io/netty/channel/ChannelPromise.setFailure:(Ljava/lang/Throwable;)Lio/netty/channel/ChannelPromise;
     173: pop
     174: goto          188
     177: aload_0
     178: getfield      #5                  // Field val$promise:Lio/netty/channel/ChannelPromise;
     181: aload_2
     182: invokeinterface #30,  2           // InterfaceMethod io/netty/channel/ChannelPromise.setFailure:(Ljava/lang/Throwable;)Lio/netty/channel/ChannelPromise;
     187: pop
     188: return

  public void operationComplete(io.netty.util.concurrent.Future) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #31                 // class io/netty/channel/ChannelFuture
       5: invokevirtual #32                 // Method operationComplete:(Lio/netty/channel/ChannelFuture;)V
       8: return
}
