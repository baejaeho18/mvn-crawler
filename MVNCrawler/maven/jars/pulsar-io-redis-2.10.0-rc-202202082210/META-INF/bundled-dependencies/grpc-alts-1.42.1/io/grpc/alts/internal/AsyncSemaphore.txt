Compiled from "AsyncSemaphore.java"
final class io.grpc.alts.internal.AsyncSemaphore {
  private final java.lang.Object lock;

  private final java.util.Queue<io.grpc.netty.shaded.io.netty.channel.ChannelPromise> queue;

  private int permits;

  public io.grpc.alts.internal.AsyncSemaphore(int);
    Code:
       0: aload_0
       1: invokespecial #19                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #4                  // class java/lang/Object
       8: dup
       9: invokespecial #19                 // Method java/lang/Object."<init>":()V
      12: putfield      #21                 // Field lock:Ljava/lang/Object;
      15: aload_0
      16: new           #23                 // class java/util/LinkedList
      19: dup
      20: invokespecial #24                 // Method java/util/LinkedList."<init>":()V
      23: putfield      #26                 // Field queue:Ljava/util/Queue;
      26: aload_0
      27: iload_1
      28: putfield      #28                 // Field permits:I
      31: return

  public io.grpc.netty.shaded.io.netty.channel.ChannelFuture acquire(io.grpc.netty.shaded.io.netty.channel.ChannelHandlerContext);
    Code:
       0: aload_0
       1: getfield      #21                 // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: getfield      #28                 // Field permits:I
      11: ifle          33
      14: aload_0
      15: dup
      16: getfield      #28                 // Field permits:I
      19: iconst_1
      20: isub
      21: putfield      #28                 // Field permits:I
      24: aload_1
      25: invokeinterface #38,  1           // InterfaceMethod io/grpc/netty/shaded/io/netty/channel/ChannelHandlerContext.newSucceededFuture:()Lio/grpc/netty/shaded/io/netty/channel/ChannelFuture;
      30: aload_2
      31: monitorexit
      32: areturn
      33: aload_1
      34: invokeinterface #42,  1           // InterfaceMethod io/grpc/netty/shaded/io/netty/channel/ChannelHandlerContext.newPromise:()Lio/grpc/netty/shaded/io/netty/channel/ChannelPromise;
      39: astore_3
      40: aload_0
      41: getfield      #26                 // Field queue:Ljava/util/Queue;
      44: aload_3
      45: invokeinterface #48,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
      50: pop
      51: aload_3
      52: aload_2
      53: monitorexit
      54: areturn
      55: astore        4
      57: aload_2
      58: monitorexit
      59: aload         4
      61: athrow
    Exception table:
       from    to  target type
           7    32    55   any
          33    54    55   any
          55    59    55   any

  public void release();
    Code:
       0: aload_0
       1: getfield      #21                 // Field lock:Ljava/lang/Object;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_0
       8: getfield      #26                 // Field queue:Ljava/util/Queue;
      11: invokeinterface #59,  1           // InterfaceMethod java/util/Queue.poll:()Ljava/lang/Object;
      16: checkcast     #61                 // class io/grpc/netty/shaded/io/netty/channel/ChannelPromise
      19: astore_1
      20: aload_1
      21: ifnonnull     37
      24: aload_0
      25: dup
      26: getfield      #28                 // Field permits:I
      29: iconst_1
      30: iadd
      31: putfield      #28                 // Field permits:I
      34: aload_2
      35: monitorexit
      36: return
      37: aload_2
      38: monitorexit
      39: goto          47
      42: astore_3
      43: aload_2
      44: monitorexit
      45: aload_3
      46: athrow
      47: aload_1
      48: invokeinterface #64,  1           // InterfaceMethod io/grpc/netty/shaded/io/netty/channel/ChannelPromise.setSuccess:()Lio/grpc/netty/shaded/io/netty/channel/ChannelPromise;
      53: pop
      54: return
    Exception table:
       from    to  target type
           7    36    42   any
          37    39    42   any
          42    45    42   any
}
