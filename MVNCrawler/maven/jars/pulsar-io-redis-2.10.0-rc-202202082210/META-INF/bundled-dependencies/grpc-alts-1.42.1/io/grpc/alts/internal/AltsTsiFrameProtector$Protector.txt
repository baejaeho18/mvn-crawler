Compiled from "AltsTsiFrameProtector.java"
final class io.grpc.alts.internal.AltsTsiFrameProtector$Protector {
  private final int maxUnprotectedBytesPerFrame;

  private final int suffixBytes;

  private io.grpc.alts.internal.ChannelCrypterNetty crypter;

  io.grpc.alts.internal.AltsTsiFrameProtector$Protector(int, io.grpc.alts.internal.ChannelCrypterNetty);
    Code:
       0: aload_0
       1: invokespecial #23                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_2
       6: invokeinterface #29,  1           // InterfaceMethod io/grpc/alts/internal/ChannelCrypterNetty.getSuffixLength:()I
      11: putfield      #31                 // Field suffixBytes:I
      14: aload_0
      15: iload_1
      16: bipush        8
      18: isub
      19: aload_0
      20: getfield      #31                 // Field suffixBytes:I
      23: isub
      24: putfield      #33                 // Field maxUnprotectedBytesPerFrame:I
      27: aload_0
      28: aload_2
      29: putfield      #35                 // Field crypter:Lio/grpc/alts/internal/ChannelCrypterNetty;
      32: return

  void destroy();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #35                 // Field crypter:Lio/grpc/alts/internal/ChannelCrypterNetty;
       5: return

  void protectFlush(java.util.List<io.grpc.netty.shaded.io.netty.buffer.ByteBuf>, io.grpc.alts.internal.TsiFrameProtector$Consumer<io.grpc.netty.shaded.io.netty.buffer.ByteBuf>, io.grpc.netty.shaded.io.netty.buffer.ByteBufAllocator) throws java.security.GeneralSecurityException;
    Code:
       0: aload_0
       1: getfield      #35                 // Field crypter:Lio/grpc/alts/internal/ChannelCrypterNetty;
       4: ifnull        11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ldc           #46                 // String Cannot protectFlush after destroy.
      14: invokestatic  #52                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      17: aload_0
      18: aload_1
      19: aload_3
      20: invokespecial #56                 // Method handleUnprotected:(Ljava/util/List;Lio/grpc/netty/shaded/io/netty/buffer/ByteBufAllocator;)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
      23: astore        4
      25: aload_1
      26: invokeinterface #62,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      31: astore        5
      33: aload         5
      35: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      40: ifeq          64
      43: aload         5
      45: invokeinterface #74,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #64                 // class io/grpc/netty/shaded/io/netty/buffer/ByteBuf
      53: astore        6
      55: aload         6
      57: invokevirtual #77                 // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.release:()Z
      60: pop
      61: goto          33
      64: goto          111
      67: astore        7
      69: aload_1
      70: invokeinterface #62,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      75: astore        8
      77: aload         8
      79: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      84: ifeq          108
      87: aload         8
      89: invokeinterface #74,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      94: checkcast     #64                 // class io/grpc/netty/shaded/io/netty/buffer/ByteBuf
      97: astore        9
      99: aload         9
     101: invokevirtual #77                 // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.release:()Z
     104: pop
     105: goto          77
     108: aload         7
     110: athrow
     111: aload         4
     113: ifnull        124
     116: aload_2
     117: aload         4
     119: invokeinterface #85,  2           // InterfaceMethod io/grpc/alts/internal/TsiFrameProtector$Consumer.accept:(Ljava/lang/Object;)V
     124: return
    Exception table:
       from    to  target type
          17    25    67   any
          67    69    67   any

  private io.grpc.netty.shaded.io.netty.buffer.ByteBuf handleUnprotected(java.util.List<io.grpc.netty.shaded.io.netty.buffer.ByteBuf>, io.grpc.netty.shaded.io.netty.buffer.ByteBufAllocator) throws java.security.GeneralSecurityException;
    Code:
       0: lconst_0
       1: lstore_3
       2: aload_1
       3: invokeinterface #62,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       8: astore        5
      10: aload         5
      12: invokeinterface #70,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      17: ifeq          44
      20: aload         5
      22: invokeinterface #74,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      27: checkcast     #64                 // class io/grpc/netty/shaded/io/netty/buffer/ByteBuf
      30: astore        6
      32: lload_3
      33: aload         6
      35: invokevirtual #100                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.readableBytes:()I
      38: i2l
      39: ladd
      40: lstore_3
      41: goto          10
      44: lload_3
      45: lconst_0
      46: lcmp
      47: ifle          54
      50: iconst_1
      51: goto          55
      54: iconst_0
      55: invokestatic  #104                // Method com/google/common/base/Preconditions.checkArgument:(Z)V
      58: lload_3
      59: aload_0
      60: getfield      #33                 // Field maxUnprotectedBytesPerFrame:I
      63: i2l
      64: ldiv
      65: lconst_1
      66: ladd
      67: lstore        5
      69: lload_3
      70: aload_0
      71: getfield      #33                 // Field maxUnprotectedBytesPerFrame:I
      74: i2l
      75: lrem
      76: l2i
      77: istore        7
      79: iload         7
      81: ifne          96
      84: lload         5
      86: lconst_1
      87: lsub
      88: lstore        5
      90: aload_0
      91: getfield      #33                 // Field maxUnprotectedBytesPerFrame:I
      94: istore        7
      96: lload         5
      98: bipush        8
     100: aload_0
     101: getfield      #31                 // Field suffixBytes:I
     104: iadd
     105: i2l
     106: lmul
     107: lload_3
     108: ladd
     109: lstore        8
     111: aload_2
     112: lload         8
     114: invokestatic  #110                // Method com/google/common/primitives/Ints.checkedCast:(J)I
     117: invokeinterface #114,  2          // InterfaceMethod io/grpc/netty/shaded/io/netty/buffer/ByteBufAllocator.directBuffer:(I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     122: astore        10
     124: iconst_0
     125: istore        11
     127: iconst_0
     128: istore        12
     130: iload         12
     132: i2l
     133: lload         5
     135: lcmp
     136: ifge          317
     139: iload         12
     141: i2l
     142: lload         5
     144: lconst_1
     145: lsub
     146: lcmp
     147: ifne          155
     150: iload         7
     152: goto          159
     155: aload_0
     156: getfield      #33                 // Field maxUnprotectedBytesPerFrame:I
     159: istore        13
     161: aload         10
     163: iload         13
     165: iconst_4
     166: iadd
     167: aload_0
     168: getfield      #31                 // Field suffixBytes:I
     171: iadd
     172: invokevirtual #117                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.writeIntLE:(I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     175: pop
     176: aload         10
     178: bipush        6
     180: invokevirtual #117                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.writeIntLE:(I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     183: pop
     184: aload         10
     186: iload         13
     188: aload_0
     189: getfield      #31                 // Field suffixBytes:I
     192: iadd
     193: invokestatic  #121                // Method io/grpc/alts/internal/AltsTsiFrameProtector.access$000:(Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     196: astore        14
     198: new           #123                // class java/util/ArrayList
     201: dup
     202: invokespecial #124                // Method java/util/ArrayList."<init>":()V
     205: astore        15
     207: iload         13
     209: ifle          282
     212: aload_1
     213: iload         11
     215: invokeinterface #128,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     220: checkcast     #64                 // class io/grpc/netty/shaded/io/netty/buffer/ByteBuf
     223: astore        16
     225: aload         16
     227: invokevirtual #100                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.readableBytes:()I
     230: iload         13
     232: if_icmpgt     261
     235: aload         15
     237: aload         16
     239: invokeinterface #132,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     244: pop
     245: iload         13
     247: aload         16
     249: invokevirtual #100                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.readableBytes:()I
     252: isub
     253: istore        13
     255: iinc          11, 1
     258: goto          279
     261: aload         15
     263: aload         16
     265: iload         13
     267: invokevirtual #135                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.readSlice:(I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     270: invokeinterface #132,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     275: pop
     276: iconst_0
     277: istore        13
     279: goto          207
     282: aload_0
     283: getfield      #35                 // Field crypter:Lio/grpc/alts/internal/ChannelCrypterNetty;
     286: aload         14
     288: aload         15
     290: invokeinterface #139,  3          // InterfaceMethod io/grpc/alts/internal/ChannelCrypterNetty.encrypt:(Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;Ljava/util/List;)V
     295: aload         14
     297: invokevirtual #142                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.isWritable:()Z
     300: ifne          307
     303: iconst_1
     304: goto          308
     307: iconst_0
     308: invokestatic  #147                // Method com/google/common/base/Verify.verify:(Z)V
     311: iinc          12, 1
     314: goto          130
     317: aload         10
     319: iconst_0
     320: invokevirtual #150                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.readerIndex:(I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     323: pop
     324: aload         10
     326: aload         10
     328: invokevirtual #153                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.capacity:()I
     331: invokevirtual #156                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.writerIndex:(I)Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     334: pop
     335: aload         10
     337: invokevirtual #160                // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.retain:()Lio/grpc/netty/shaded/io/netty/buffer/ByteBuf;
     340: astore        12
     342: aload         10
     344: invokevirtual #77                 // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.release:()Z
     347: pop
     348: aload         12
     350: areturn
     351: astore        17
     353: aload         10
     355: invokevirtual #77                 // Method io/grpc/netty/shaded/io/netty/buffer/ByteBuf.release:()Z
     358: pop
     359: aload         17
     361: athrow
    Exception table:
       from    to  target type
         124   342   351   any
         351   353   351   any
}
