class org.bouncycastle.jce.provider.CrlCache {
  private static final int DEFAULT_TIMEOUT;

  private static java.util.Map<java.net.URI, java.lang.ref.WeakReference<org.bouncycastle.jcajce.PKIXCRLStore>> cache;

  org.bouncycastle.jce.provider.CrlCache();
    Code:
       0: aload_0
       1: invokespecial #178                // Method java/lang/Object."<init>":()V
       4: return

  static synchronized org.bouncycastle.jcajce.PKIXCRLStore getCrl(java.security.cert.CertificateFactory, java.util.Date, java.net.URI) throws java.io.IOException, java.security.cert.CRLException;
    Code:
       0: aconst_null
       1: astore_3
       2: getstatic     #175                // Field cache:Ljava/util/Map;
       5: aload_2
       6: invokeinterface #209,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #89                 // class java/lang/ref/WeakReference
      14: astore        4
      16: aload         4
      18: ifnull        30
      21: aload         4
      23: invokevirtual #184                // Method java/lang/ref/WeakReference.get:()Ljava/lang/Object;
      26: checkcast     #108                // class org/bouncycastle/jcajce/PKIXCRLStore
      29: astore_3
      30: aload_3
      31: ifnull        110
      34: iconst_0
      35: istore        5
      37: aload_3
      38: aconst_null
      39: invokeinterface #214,  2          // InterfaceMethod org/bouncycastle/jcajce/PKIXCRLStore.getMatches:(Lorg/bouncycastle/util/Selector;)Ljava/util/Collection;
      44: invokeinterface #206,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      49: astore        6
      51: aload         6
      53: invokeinterface #207,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifeq          103
      61: aload         6
      63: invokeinterface #208,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      68: checkcast     #95                 // class java/security/cert/X509CRL
      71: astore        7
      73: aload         7
      75: invokevirtual #196                // Method java/security/cert/X509CRL.getNextUpdate:()Ljava/util/Date;
      78: astore        8
      80: aload         8
      82: ifnull        100
      85: aload         8
      87: aload_1
      88: invokevirtual #198                // Method java/util/Date.before:(Ljava/util/Date;)Z
      91: ifeq          100
      94: iconst_1
      95: istore        5
      97: goto          103
     100: goto          51
     103: iload         5
     105: ifne          110
     108: aload_3
     109: areturn
     110: aload_2
     111: invokevirtual #189                // Method java/net/URI.getScheme:()Ljava/lang/String;
     114: ldc           #7                  // String ldap
     116: invokevirtual #179                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     119: ifeq          132
     122: aload_0
     123: aload_2
     124: invokestatic  #203                // Method getCrlsFromLDAP:(Ljava/security/cert/CertificateFactory;Ljava/net/URI;)Ljava/util/Collection;
     127: astore        5
     129: goto          139
     132: aload_0
     133: aload_2
     134: invokestatic  #202                // Method getCrls:(Ljava/security/cert/CertificateFactory;Ljava/net/URI;)Ljava/util/Collection;
     137: astore        5
     139: new           #110                // class org/bouncycastle/jce/provider/CrlCache$LocalCRLStore
     142: dup
     143: new           #111                // class org/bouncycastle/util/CollectionStore
     146: dup
     147: aload         5
     149: invokespecial #205                // Method org/bouncycastle/util/CollectionStore."<init>":(Ljava/util/Collection;)V
     152: invokespecial #204                // Method org/bouncycastle/jce/provider/CrlCache$LocalCRLStore."<init>":(Lorg/bouncycastle/util/Store;)V
     155: astore        6
     157: getstatic     #175                // Field cache:Ljava/util/Map;
     160: aload_2
     161: new           #89                 // class java/lang/ref/WeakReference
     164: dup
     165: aload         6
     167: invokespecial #185                // Method java/lang/ref/WeakReference."<init>":(Ljava/lang/Object;)V
     170: invokeinterface #210,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     175: pop
     176: aload         6
     178: areturn

  private static java.util.Collection getCrlsFromLDAP(java.security.cert.CertificateFactory, java.net.URI) throws java.io.IOException, java.security.cert.CRLException;
    Code:
       0: new           #99                 // class java/util/Hashtable
       3: dup
       4: invokespecial #199                // Method java/util/Hashtable."<init>":()V
       7: astore_2
       8: aload_2
       9: ldc           #5                  // String java.naming.factory.initial
      11: ldc           #3                  // String com.sun.jndi.ldap.LdapCtxFactory
      13: invokeinterface #210,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      18: pop
      19: aload_2
      20: ldc           #6                  // String java.naming.provider.url
      22: aload_1
      23: invokevirtual #190                // Method java/net/URI.toString:()Ljava/lang/String;
      26: invokeinterface #210,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      31: pop
      32: aconst_null
      33: astore_3
      34: new           #107                // class javax/naming/directory/InitialDirContext
      37: dup
      38: aload_2
      39: checkcast     #99                 // class java/util/Hashtable
      42: invokespecial #201                // Method javax/naming/directory/InitialDirContext."<init>":(Ljava/util/Hashtable;)V
      45: astore        4
      47: aload         4
      49: ldc           #1                  // String
      51: invokeinterface #213,  2          // InterfaceMethod javax/naming/directory/DirContext.getAttributes:(Ljava/lang/String;)Ljavax/naming/directory/Attributes;
      56: astore        5
      58: aload         5
      60: ldc           #2                  // String certificateRevocationList;binary
      62: invokeinterface #212,  2          // InterfaceMethod javax/naming/directory/Attributes.get:(Ljava/lang/String;)Ljavax/naming/directory/Attribute;
      67: astore        6
      69: aload         6
      71: invokeinterface #211,  1          // InterfaceMethod javax/naming/directory/Attribute.get:()Ljava/lang/Object;
      76: checkcast     #82                 // class "[B"
      79: checkcast     #82                 // class "[B"
      82: astore_3
      83: goto          120
      86: astore        4
      88: new           #93                 // class java/security/cert/CRLException
      91: dup
      92: new           #88                 // class java/lang/StringBuilder
      95: dup
      96: invokespecial #180                // Method java/lang/StringBuilder."<init>":()V
      99: ldc           #4                  // String issue connecting to:
     101: invokevirtual #183                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: aload_1
     105: invokevirtual #190                // Method java/net/URI.toString:()Ljava/lang/String;
     108: invokevirtual #183                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     111: invokevirtual #181                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     114: aload         4
     116: invokespecial #194                // Method java/security/cert/CRLException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     119: athrow
     120: aload_3
     121: ifnull        129
     124: aload_3
     125: arraylength
     126: ifne          156
     129: new           #93                 // class java/security/cert/CRLException
     132: dup
     133: new           #88                 // class java/lang/StringBuilder
     136: dup
     137: invokespecial #180                // Method java/lang/StringBuilder."<init>":()V
     140: ldc           #8                  // String no CRL returned from:
     142: invokevirtual #183                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     145: aload_1
     146: invokevirtual #182                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     149: invokevirtual #181                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     152: invokespecial #193                // Method java/security/cert/CRLException."<init>":(Ljava/lang/String;)V
     155: athrow
     156: aload_0
     157: new           #83                 // class java/io/ByteArrayInputStream
     160: dup
     161: aload_3
     162: invokespecial #176                // Method java/io/ByteArrayInputStream."<init>":([B)V
     165: invokevirtual #195                // Method java/security/cert/CertificateFactory.generateCRLs:(Ljava/io/InputStream;)Ljava/util/Collection;
     168: areturn
    Exception table:
       from    to  target type
          34    83    86   Class javax/naming/NamingException

  private static java.util.Collection getCrls(java.security.cert.CertificateFactory, java.net.URI) throws java.io.IOException, java.security.cert.CRLException;
    Code:
       0: aload_1
       1: invokevirtual #191                // Method java/net/URI.toURL:()Ljava/net/URL;
       4: invokevirtual #192                // Method java/net/URL.openConnection:()Ljava/net/URLConnection;
       7: checkcast     #90                 // class java/net/HttpURLConnection
      10: astore_2
      11: aload_2
      12: sipush        15000
      15: invokevirtual #186                // Method java/net/HttpURLConnection.setConnectTimeout:(I)V
      18: aload_2
      19: sipush        15000
      22: invokevirtual #187                // Method java/net/HttpURLConnection.setReadTimeout:(I)V
      25: aload_2
      26: invokevirtual #188                // Method java/net/HttpURLConnection.getInputStream:()Ljava/io/InputStream;
      29: astore_3
      30: aload_0
      31: aload_3
      32: invokevirtual #195                // Method java/security/cert/CertificateFactory.generateCRLs:(Ljava/io/InputStream;)Ljava/util/Collection;
      35: astore        4
      37: aload_3
      38: invokevirtual #177                // Method java/io/InputStream.close:()V
      41: aload         4
      43: areturn

  static {};
    Code:
       0: new           #102                // class java/util/WeakHashMap
       3: dup
       4: invokespecial #200                // Method java/util/WeakHashMap."<init>":()V
       7: invokestatic  #197                // Method java/util/Collections.synchronizedMap:(Ljava/util/Map;)Ljava/util/Map;
      10: putstatic     #175                // Field cache:Ljava/util/Map;
      13: return
}
