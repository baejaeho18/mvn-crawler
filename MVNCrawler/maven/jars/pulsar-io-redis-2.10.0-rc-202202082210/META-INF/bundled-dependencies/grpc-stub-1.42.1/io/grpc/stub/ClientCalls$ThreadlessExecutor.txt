Compiled from "ClientCalls.java"
final class io.grpc.stub.ClientCalls$ThreadlessExecutor extends java.util.concurrent.ConcurrentLinkedQueue<java.lang.Runnable> implements java.util.concurrent.Executor {
  private static final java.util.logging.Logger log;

  private volatile java.lang.Thread waiter;

  io.grpc.stub.ClientCalls$ThreadlessExecutor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
       4: return

  public void waitAndDrain() throws java.lang.InterruptedException;
    Code:
       0: invokestatic  #2                  // Method throwIfInterrupted:()V
       3: aload_0
       4: invokevirtual #3                  // Method poll:()Ljava/lang/Object;
       7: checkcast     #4                  // class java/lang/Runnable
      10: astore_1
      11: aload_1
      12: ifnonnull     60
      15: aload_0
      16: invokestatic  #5                  // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      19: putfield      #6                  // Field waiter:Ljava/lang/Thread;
      22: aload_0
      23: invokevirtual #3                  // Method poll:()Ljava/lang/Object;
      26: checkcast     #4                  // class java/lang/Runnable
      29: dup
      30: astore_1
      31: ifnonnull     44
      34: aload_0
      35: invokestatic  #7                  // Method java/util/concurrent/locks/LockSupport.park:(Ljava/lang/Object;)V
      38: invokestatic  #2                  // Method throwIfInterrupted:()V
      41: goto          22
      44: aload_0
      45: aconst_null
      46: putfield      #6                  // Field waiter:Ljava/lang/Thread;
      49: goto          60
      52: astore_2
      53: aload_0
      54: aconst_null
      55: putfield      #6                  // Field waiter:Ljava/lang/Thread;
      58: aload_2
      59: athrow
      60: aload_1
      61: invokeinterface #8,  1            // InterfaceMethod java/lang/Runnable.run:()V
      66: goto          82
      69: astore_2
      70: getstatic     #10                 // Field log:Ljava/util/logging/Logger;
      73: getstatic     #11                 // Field java/util/logging/Level.WARNING:Ljava/util/logging/Level;
      76: ldc           #12                 // String Runnable threw exception
      78: aload_2
      79: invokevirtual #13                 // Method java/util/logging/Logger.log:(Ljava/util/logging/Level;Ljava/lang/String;Ljava/lang/Throwable;)V
      82: aload_0
      83: invokevirtual #3                  // Method poll:()Ljava/lang/Object;
      86: checkcast     #4                  // class java/lang/Runnable
      89: dup
      90: astore_1
      91: ifnonnull     60
      94: return
    Exception table:
       from    to  target type
          22    44    52   any
          60    66    69   Class java/lang/Throwable

  private static void throwIfInterrupted() throws java.lang.InterruptedException;
    Code:
       0: invokestatic  #14                 // Method java/lang/Thread.interrupted:()Z
       3: ifeq          14
       6: new           #15                 // class java/lang/InterruptedException
       9: dup
      10: invokespecial #16                 // Method java/lang/InterruptedException."<init>":()V
      13: athrow
      14: return

  public void execute(java.lang.Runnable);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #17                 // Method add:(Ljava/lang/Object;)Z
       5: pop
       6: aload_0
       7: getfield      #6                  // Field waiter:Ljava/lang/Thread;
      10: invokestatic  #18                 // Method java/util/concurrent/locks/LockSupport.unpark:(Ljava/lang/Thread;)V
      13: return

  static {};
    Code:
       0: ldc           #19                 // class io/grpc/stub/ClientCalls$ThreadlessExecutor
       2: invokevirtual #20                 // Method java/lang/Class.getName:()Ljava/lang/String;
       5: invokestatic  #21                 // Method java/util/logging/Logger.getLogger:(Ljava/lang/String;)Ljava/util/logging/Logger;
       8: putstatic     #10                 // Field log:Ljava/util/logging/Logger;
      11: return
}
