Compiled from "PulsarSink.java"
class org.apache.pulsar.functions.sink.PulsarSink$PulsarSinkAtMostOnceProcessor extends org.apache.pulsar.functions.sink.PulsarSink<T>.PulsarSinkProcessorBase {
  final org.apache.pulsar.functions.sink.PulsarSink this$0;

  public org.apache.pulsar.functions.sink.PulsarSink$PulsarSinkAtMostOnceProcessor(org.apache.pulsar.functions.sink.PulsarSink, org.apache.pulsar.client.api.Schema, org.apache.pulsar.functions.sink.PulsarSink$Crypto);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/pulsar/functions/sink/PulsarSink;
       5: aload_0
       6: aload_1
       7: aload_2
       8: aload_3
       9: invokespecial #2                  // Method org/apache/pulsar/functions/sink/PulsarSink$PulsarSinkProcessorBase."<init>":(Lorg/apache/pulsar/functions/sink/PulsarSink;Lorg/apache/pulsar/client/api/Schema;Lorg/apache/pulsar/functions/sink/PulsarSink$Crypto;)V
      12: aload_2
      13: instanceof    #3                  // class org/apache/pulsar/client/impl/schema/AutoConsumeSchema
      16: ifne          80
      19: aload_0
      20: getfield      #4                  // Field publishProducers:Ljava/util/Map;
      23: aload_1
      24: invokestatic  #5                  // Method org/apache/pulsar/functions/sink/PulsarSink.access$000:(Lorg/apache/pulsar/functions/sink/PulsarSink;)Lorg/apache/pulsar/functions/sink/PulsarSinkConfig;
      27: invokevirtual #6                  // Method org/apache/pulsar/functions/sink/PulsarSinkConfig.getTopic:()Ljava/lang/String;
      30: aload_0
      31: aload_1
      32: invokestatic  #7                  // Method org/apache/pulsar/functions/sink/PulsarSink.access$600:(Lorg/apache/pulsar/functions/sink/PulsarSink;)Lorg/apache/pulsar/client/api/PulsarClient;
      35: aload_1
      36: invokestatic  #5                  // Method org/apache/pulsar/functions/sink/PulsarSink.access$000:(Lorg/apache/pulsar/functions/sink/PulsarSink;)Lorg/apache/pulsar/functions/sink/PulsarSinkConfig;
      39: invokevirtual #6                  // Method org/apache/pulsar/functions/sink/PulsarSinkConfig.getTopic:()Ljava/lang/String;
      42: aconst_null
      43: aload_2
      44: invokevirtual #8                  // Method createProducer:(Lorg/apache/pulsar/client/api/PulsarClient;Ljava/lang/String;Ljava/lang/String;Lorg/apache/pulsar/client/api/Schema;)Lorg/apache/pulsar/client/api/Producer;
      47: invokeinterface #9,  3            // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      52: pop
      53: goto          101
      56: astore        4
      58: invokestatic  #11                 // Method org/apache/pulsar/functions/sink/PulsarSink.access$400:()Lorg/slf4j/Logger;
      61: ldc           #12                 // String Failed to create Producer while doing user publish
      63: aload         4
      65: invokeinterface #13,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      70: new           #14                 // class java/lang/RuntimeException
      73: dup
      74: aload         4
      76: invokespecial #15                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      79: athrow
      80: invokestatic  #11                 // Method org/apache/pulsar/functions/sink/PulsarSink.access$400:()Lorg/slf4j/Logger;
      83: invokeinterface #16,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      88: ifeq          101
      91: invokestatic  #11                 // Method org/apache/pulsar/functions/sink/PulsarSink.access$400:()Lorg/slf4j/Logger;
      94: ldc           #17                 // String The Pulsar producer is not initialized until the first record is published for `AUTO_CONSUME` schema.
      96: invokeinterface #18,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     101: return
    Exception table:
       from    to  target type
          19    53    56   Class org/apache/pulsar/client/api/PulsarClientException

  public org.apache.pulsar.client.api.TypedMessageBuilder<T> newMessage(org.apache.pulsar.functions.instance.SinkRecord<T>);
    Code:
       0: aload_1
       1: invokevirtual #19                 // Method org/apache/pulsar/functions/instance/SinkRecord.getSchema:()Lorg/apache/pulsar/client/api/Schema;
       4: astore_2
       5: aload_1
       6: invokevirtual #20                 // Method org/apache/pulsar/functions/instance/SinkRecord.getSourceRecord:()Lorg/apache/pulsar/functions/api/Record;
       9: instanceof    #21                 // class org/apache/pulsar/functions/source/PulsarRecord
      12: ifeq          20
      15: aload_0
      16: getfield      #22                 // Field schema:Lorg/apache/pulsar/client/api/Schema;
      19: astore_2
      20: aload_2
      21: ifnull        56
      24: aload_0
      25: aload_1
      26: invokevirtual #23                 // Method org/apache/pulsar/functions/instance/SinkRecord.getDestinationTopic:()Ljava/util/Optional;
      29: aload_0
      30: getfield      #1                  // Field this$0:Lorg/apache/pulsar/functions/sink/PulsarSink;
      33: invokestatic  #5                  // Method org/apache/pulsar/functions/sink/PulsarSink.access$000:(Lorg/apache/pulsar/functions/sink/PulsarSink;)Lorg/apache/pulsar/functions/sink/PulsarSinkConfig;
      36: invokevirtual #6                  // Method org/apache/pulsar/functions/sink/PulsarSinkConfig.getTopic:()Ljava/lang/String;
      39: invokevirtual #24                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      42: checkcast     #25                 // class java/lang/String
      45: aload_2
      46: invokevirtual #26                 // Method getProducer:(Ljava/lang/String;Lorg/apache/pulsar/client/api/Schema;)Lorg/apache/pulsar/client/api/Producer;
      49: aload_2
      50: invokeinterface #27,  2           // InterfaceMethod org/apache/pulsar/client/api/Producer.newMessage:(Lorg/apache/pulsar/client/api/Schema;)Lorg/apache/pulsar/client/api/TypedMessageBuilder;
      55: areturn
      56: aload_0
      57: aload_1
      58: invokevirtual #23                 // Method org/apache/pulsar/functions/instance/SinkRecord.getDestinationTopic:()Ljava/util/Optional;
      61: aload_0
      62: getfield      #1                  // Field this$0:Lorg/apache/pulsar/functions/sink/PulsarSink;
      65: invokestatic  #5                  // Method org/apache/pulsar/functions/sink/PulsarSink.access$000:(Lorg/apache/pulsar/functions/sink/PulsarSink;)Lorg/apache/pulsar/functions/sink/PulsarSinkConfig;
      68: invokevirtual #6                  // Method org/apache/pulsar/functions/sink/PulsarSinkConfig.getTopic:()Ljava/lang/String;
      71: invokevirtual #24                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      74: checkcast     #25                 // class java/lang/String
      77: aconst_null
      78: invokevirtual #26                 // Method getProducer:(Ljava/lang/String;Lorg/apache/pulsar/client/api/Schema;)Lorg/apache/pulsar/client/api/Producer;
      81: invokeinterface #28,  1           // InterfaceMethod org/apache/pulsar/client/api/Producer.newMessage:()Lorg/apache/pulsar/client/api/TypedMessageBuilder;
      86: areturn

  public void sendOutputMessage(org.apache.pulsar.client.api.TypedMessageBuilder<T>, org.apache.pulsar.functions.instance.SinkRecord<T>);
    Code:
       0: aload_1
       1: invokeinterface #29,  1           // InterfaceMethod org/apache/pulsar/client/api/TypedMessageBuilder.sendAsync:()Ljava/util/concurrent/CompletableFuture;
       6: invokedynamic #30,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
      11: invokevirtual #31                 // Method java/util/concurrent/CompletableFuture.thenAccept:(Ljava/util/function/Consumer;)Ljava/util/concurrent/CompletableFuture;
      14: aload_0
      15: aload_2
      16: iconst_0
      17: invokevirtual #32                 // Method getPublishErrorHandler:(Lorg/apache/pulsar/functions/instance/SinkRecord;Z)Ljava/util/function/Function;
      20: invokevirtual #33                 // Method java/util/concurrent/CompletableFuture.exceptionally:(Ljava/util/function/Function;)Ljava/util/concurrent/CompletableFuture;
      23: pop
      24: return

  private static void lambda$sendOutputMessage$0(org.apache.pulsar.client.api.MessageId);
    Code:
       0: return
}
