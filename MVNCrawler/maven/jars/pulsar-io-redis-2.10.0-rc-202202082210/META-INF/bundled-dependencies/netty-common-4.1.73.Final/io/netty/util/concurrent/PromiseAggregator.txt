Compiled from "PromiseAggregator.java"
public class io.netty.util.concurrent.PromiseAggregator<V, F extends io.netty.util.concurrent.Future<V>> implements io.netty.util.concurrent.GenericFutureListener<F> {
  private final io.netty.util.concurrent.Promise<?> aggregatePromise;

  private final boolean failPending;

  private java.util.Set<io.netty.util.concurrent.Promise<V>> pendingPromises;

  public io.netty.util.concurrent.PromiseAggregator(io.netty.util.concurrent.Promise<java.lang.Void>, boolean);
    Code:
       0: aload_0
       1: invokespecial #23                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: ldc           #24                 // String aggregatePromise
       8: invokestatic  #30                 // Method io/netty/util/internal/ObjectUtil.checkNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      11: checkcast     #32                 // class io/netty/util/concurrent/Promise
      14: putfield      #34                 // Field aggregatePromise:Lio/netty/util/concurrent/Promise;
      17: aload_0
      18: iload_2
      19: putfield      #36                 // Field failPending:Z
      22: return

  public io.netty.util.concurrent.PromiseAggregator(io.netty.util.concurrent.Promise<java.lang.Void>);
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: invokespecial #44                 // Method "<init>":(Lio/netty/util/concurrent/Promise;Z)V
       6: return

  public final io.netty.util.concurrent.PromiseAggregator<V, F> add(io.netty.util.concurrent.Promise<V>...);
    Code:
       0: aload_1
       1: ldc           #50                 // String promises
       3: invokestatic  #30                 // Method io/netty/util/internal/ObjectUtil.checkNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
       6: pop
       7: aload_1
       8: arraylength
       9: ifne          14
      12: aload_0
      13: areturn
      14: aload_0
      15: dup
      16: astore_2
      17: monitorenter
      18: aload_0
      19: getfield      #52                 // Field pendingPromises:Ljava/util/Set;
      22: ifnonnull     51
      25: aload_1
      26: arraylength
      27: iconst_1
      28: if_icmple     37
      31: aload_1
      32: arraylength
      33: istore_3
      34: goto          39
      37: iconst_2
      38: istore_3
      39: aload_0
      40: new           #54                 // class java/util/LinkedHashSet
      43: dup
      44: iload_3
      45: invokespecial #57                 // Method java/util/LinkedHashSet."<init>":(I)V
      48: putfield      #52                 // Field pendingPromises:Ljava/util/Set;
      51: aload_1
      52: astore_3
      53: aload_3
      54: arraylength
      55: istore        4
      57: iconst_0
      58: istore        5
      60: iload         5
      62: iload         4
      64: if_icmpge     108
      67: aload_3
      68: iload         5
      70: aaload
      71: astore        6
      73: aload         6
      75: ifnonnull     81
      78: goto          102
      81: aload_0
      82: getfield      #52                 // Field pendingPromises:Ljava/util/Set;
      85: aload         6
      87: invokeinterface #64,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      92: pop
      93: aload         6
      95: aload_0
      96: invokeinterface #68,  2           // InterfaceMethod io/netty/util/concurrent/Promise.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/util/concurrent/Promise;
     101: pop
     102: iinc          5, 1
     105: goto          60
     108: aload_2
     109: monitorexit
     110: goto          120
     113: astore        7
     115: aload_2
     116: monitorexit
     117: aload         7
     119: athrow
     120: aload_0
     121: areturn
    Exception table:
       from    to  target type
          18   110   113   any
         113   117   113   any

  public synchronized void operationComplete(F) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #52                 // Field pendingPromises:Ljava/util/Set;
       4: ifnonnull     21
       7: aload_0
       8: getfield      #34                 // Field aggregatePromise:Lio/netty/util/concurrent/Promise;
      11: aconst_null
      12: invokeinterface #84,  2           // InterfaceMethod io/netty/util/concurrent/Promise.setSuccess:(Ljava/lang/Object;)Lio/netty/util/concurrent/Promise;
      17: pop
      18: goto          134
      21: aload_0
      22: getfield      #52                 // Field pendingPromises:Ljava/util/Set;
      25: aload_1
      26: invokeinterface #87,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      31: pop
      32: aload_1
      33: invokeinterface #93,  1           // InterfaceMethod io/netty/util/concurrent/Future.isSuccess:()Z
      38: ifne          111
      41: aload_1
      42: invokeinterface #97,  1           // InterfaceMethod io/netty/util/concurrent/Future.cause:()Ljava/lang/Throwable;
      47: astore_2
      48: aload_0
      49: getfield      #34                 // Field aggregatePromise:Lio/netty/util/concurrent/Promise;
      52: aload_2
      53: invokeinterface #101,  2          // InterfaceMethod io/netty/util/concurrent/Promise.setFailure:(Ljava/lang/Throwable;)Lio/netty/util/concurrent/Promise;
      58: pop
      59: aload_0
      60: getfield      #36                 // Field failPending:Z
      63: ifeq          108
      66: aload_0
      67: getfield      #52                 // Field pendingPromises:Ljava/util/Set;
      70: invokeinterface #105,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      75: astore_3
      76: aload_3
      77: invokeinterface #110,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      82: ifeq          108
      85: aload_3
      86: invokeinterface #114,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      91: checkcast     #32                 // class io/netty/util/concurrent/Promise
      94: astore        4
      96: aload         4
      98: aload_2
      99: invokeinterface #101,  2          // InterfaceMethod io/netty/util/concurrent/Promise.setFailure:(Ljava/lang/Throwable;)Lio/netty/util/concurrent/Promise;
     104: pop
     105: goto          76
     108: goto          134
     111: aload_0
     112: getfield      #52                 // Field pendingPromises:Ljava/util/Set;
     115: invokeinterface #117,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     120: ifeq          134
     123: aload_0
     124: getfield      #34                 // Field aggregatePromise:Lio/netty/util/concurrent/Promise;
     127: aconst_null
     128: invokeinterface #84,  2           // InterfaceMethod io/netty/util/concurrent/Promise.setSuccess:(Ljava/lang/Object;)Lio/netty/util/concurrent/Promise;
     133: pop
     134: return
}
