Compiled from "WatchImpl.java"
final class io.etcd.jetcd.WatchImpl$WatcherImpl implements io.etcd.jetcd.Watch$Watcher, io.grpc.stub.StreamObserver<io.etcd.jetcd.api.WatchResponse> {
  private final io.etcd.jetcd.ByteSequence key;

  private final io.etcd.jetcd.options.WatchOption option;

  private final io.etcd.jetcd.Watch$Listener listener;

  private final java.util.concurrent.atomic.AtomicBoolean closed;

  private io.grpc.stub.StreamObserver<io.etcd.jetcd.api.WatchRequest> stream;

  private long revision;

  private long id;

  final io.etcd.jetcd.WatchImpl this$0;

  io.etcd.jetcd.WatchImpl$WatcherImpl(io.etcd.jetcd.WatchImpl, io.etcd.jetcd.ByteSequence, io.etcd.jetcd.options.WatchOption, io.etcd.jetcd.Watch$Listener);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field key:Lio/etcd/jetcd/ByteSequence;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
      25: aload_0
      26: new           #6                  // class java/util/concurrent/atomic/AtomicBoolean
      29: dup
      30: invokespecial #7                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":()V
      33: putfield      #8                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
      36: aload_0
      37: aconst_null
      38: putfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      41: aload_0
      42: ldc2_w        #10                 // long -1l
      45: putfield      #12                 // Field id:J
      48: aload_0
      49: aload_0
      50: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
      53: invokevirtual #13                 // Method io/etcd/jetcd/options/WatchOption.getRevision:()J
      56: putfield      #14                 // Field revision:J
      59: return

  boolean isClosed();
    Code:
       0: aload_0
       1: getfield      #8                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #15                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ifne          23
      10: aload_0
      11: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
      14: invokestatic  #16                 // Method io/etcd/jetcd/WatchImpl.access$000:(Lio/etcd/jetcd/WatchImpl;)Ljava/util/concurrent/atomic/AtomicBoolean;
      17: invokevirtual #15                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      20: ifeq          27
      23: iconst_1
      24: goto          28
      27: iconst_0
      28: ireturn

  void resume();
    Code:
       0: aload_0
       1: invokevirtual #17                 // Method isClosed:()Z
       4: ifeq          8
       7: return
       8: aload_0
       9: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      12: ifnonnull     236
      15: aload_0
      16: ldc2_w        #10                 // long -1l
      19: putfield      #12                 // Field id:J
      22: invokestatic  #18                 // Method io/etcd/jetcd/api/WatchCreateRequest.newBuilder:()Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
      25: aload_0
      26: getfield      #3                  // Field key:Lio/etcd/jetcd/ByteSequence;
      29: invokevirtual #19                 // Method io/etcd/jetcd/ByteSequence.getByteString:()Lcom/google/protobuf/ByteString;
      32: aload_0
      33: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
      36: invokestatic  #20                 // Method io/etcd/jetcd/WatchImpl.access$100:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/ByteSequence;
      39: invokestatic  #21                 // Method io/etcd/jetcd/Util.prefixNamespace:(Lcom/google/protobuf/ByteString;Lio/etcd/jetcd/ByteSequence;)Lcom/google/protobuf/ByteString;
      42: invokevirtual #22                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.setKey:(Lcom/google/protobuf/ByteString;)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
      45: aload_0
      46: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
      49: invokevirtual #23                 // Method io/etcd/jetcd/options/WatchOption.isPrevKV:()Z
      52: invokevirtual #24                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.setPrevKv:(Z)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
      55: aload_0
      56: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
      59: invokevirtual #25                 // Method io/etcd/jetcd/options/WatchOption.isProgressNotify:()Z
      62: invokevirtual #26                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.setProgressNotify:(Z)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
      65: aload_0
      66: getfield      #14                 // Field revision:J
      69: invokevirtual #27                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.setStartRevision:(J)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
      72: astore_1
      73: aload_0
      74: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
      77: invokevirtual #28                 // Method io/etcd/jetcd/options/WatchOption.getEndKey:()Ljava/util/Optional;
      80: aload_0
      81: invokedynamic #29,  0             // InvokeDynamic #0:apply:(Lio/etcd/jetcd/WatchImpl$WatcherImpl;)Ljava/util/function/Function;
      86: invokevirtual #30                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      89: aload_1
      90: dup
      91: invokevirtual #31                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      94: pop
      95: invokedynamic #32,  0             // InvokeDynamic #1:accept:(Lio/etcd/jetcd/api/WatchCreateRequest$Builder;)Ljava/util/function/Consumer;
     100: invokevirtual #33                 // Method java/util/Optional.ifPresent:(Ljava/util/function/Consumer;)V
     103: aload_0
     104: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
     107: invokevirtual #28                 // Method io/etcd/jetcd/options/WatchOption.getEndKey:()Ljava/util/Optional;
     110: invokevirtual #34                 // Method java/util/Optional.isPresent:()Z
     113: ifne          153
     116: aload_0
     117: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
     120: invokevirtual #35                 // Method io/etcd/jetcd/options/WatchOption.isPrefix:()Z
     123: ifeq          153
     126: aload_0
     127: getfield      #3                  // Field key:Lio/etcd/jetcd/ByteSequence;
     130: invokestatic  #36                 // Method io/etcd/jetcd/options/OptionsUtil.prefixEndOf:(Lio/etcd/jetcd/ByteSequence;)Lio/etcd/jetcd/ByteSequence;
     133: astore_2
     134: aload_1
     135: aload_2
     136: invokevirtual #19                 // Method io/etcd/jetcd/ByteSequence.getByteString:()Lcom/google/protobuf/ByteString;
     139: aload_0
     140: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
     143: invokestatic  #20                 // Method io/etcd/jetcd/WatchImpl.access$100:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/ByteSequence;
     146: invokestatic  #37                 // Method io/etcd/jetcd/Util.prefixNamespaceToRangeEnd:(Lcom/google/protobuf/ByteString;Lio/etcd/jetcd/ByteSequence;)Lcom/google/protobuf/ByteString;
     149: invokevirtual #38                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.setRangeEnd:(Lcom/google/protobuf/ByteString;)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
     152: pop
     153: aload_0
     154: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
     157: invokevirtual #39                 // Method io/etcd/jetcd/options/WatchOption.isNoDelete:()Z
     160: ifeq          171
     163: aload_1
     164: getstatic     #40                 // Field io/etcd/jetcd/api/WatchCreateRequest$FilterType.NODELETE:Lio/etcd/jetcd/api/WatchCreateRequest$FilterType;
     167: invokevirtual #41                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.addFilters:(Lio/etcd/jetcd/api/WatchCreateRequest$FilterType;)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
     170: pop
     171: aload_0
     172: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
     175: invokevirtual #42                 // Method io/etcd/jetcd/options/WatchOption.isNoPut:()Z
     178: ifeq          189
     181: aload_1
     182: getstatic     #43                 // Field io/etcd/jetcd/api/WatchCreateRequest$FilterType.NOPUT:Lio/etcd/jetcd/api/WatchCreateRequest$FilterType;
     185: invokevirtual #41                 // Method io/etcd/jetcd/api/WatchCreateRequest$Builder.addFilters:(Lio/etcd/jetcd/api/WatchCreateRequest$FilterType;)Lio/etcd/jetcd/api/WatchCreateRequest$Builder;
     188: pop
     189: aload_0
     190: aload_0
     191: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
     194: invokevirtual #44                 // Method io/etcd/jetcd/options/WatchOption.withRequireLeader:()Z
     197: aload_0
     198: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
     201: invokestatic  #45                 // Method io/etcd/jetcd/WatchImpl.access$200:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/api/WatchGrpc$WatchStub;
     204: invokestatic  #46                 // Method io/etcd/jetcd/Util.applyRequireLeader:(ZLio/grpc/stub/AbstractStub;)Lio/grpc/stub/AbstractStub;
     207: checkcast     #47                 // class io/etcd/jetcd/api/WatchGrpc$WatchStub
     210: aload_0
     211: invokevirtual #48                 // Method io/etcd/jetcd/api/WatchGrpc$WatchStub.watch:(Lio/grpc/stub/StreamObserver;)Lio/grpc/stub/StreamObserver;
     214: putfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
     217: aload_0
     218: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
     221: invokestatic  #49                 // Method io/etcd/jetcd/api/WatchRequest.newBuilder:()Lio/etcd/jetcd/api/WatchRequest$Builder;
     224: aload_1
     225: invokevirtual #50                 // Method io/etcd/jetcd/api/WatchRequest$Builder.setCreateRequest:(Lio/etcd/jetcd/api/WatchCreateRequest$Builder;)Lio/etcd/jetcd/api/WatchRequest$Builder;
     228: invokevirtual #51                 // Method io/etcd/jetcd/api/WatchRequest$Builder.build:()Lio/etcd/jetcd/api/WatchRequest;
     231: invokeinterface #52,  2           // InterfaceMethod io/grpc/stub/StreamObserver.onNext:(Ljava/lang/Object;)V
     236: return

  public void close();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
       4: invokestatic  #53                 // Method io/etcd/jetcd/WatchImpl.access$300:(Lio/etcd/jetcd/WatchImpl;)Ljava/lang/Object;
       7: dup
       8: astore_1
       9: monitorenter
      10: aload_0
      11: getfield      #8                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
      14: iconst_0
      15: iconst_1
      16: invokevirtual #54                 // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
      19: ifeq          135
      22: aload_0
      23: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      26: ifnull        105
      29: invokestatic  #55                 // Method io/etcd/jetcd/api/WatchCancelRequest.newBuilder:()Lio/etcd/jetcd/api/WatchCancelRequest$Builder;
      32: aload_0
      33: getfield      #12                 // Field id:J
      36: invokevirtual #56                 // Method io/etcd/jetcd/api/WatchCancelRequest$Builder.setWatchId:(J)Lio/etcd/jetcd/api/WatchCancelRequest$Builder;
      39: invokevirtual #57                 // Method io/etcd/jetcd/api/WatchCancelRequest$Builder.build:()Lio/etcd/jetcd/api/WatchCancelRequest;
      42: astore_2
      43: aload_0
      44: getfield      #12                 // Field id:J
      47: ldc2_w        #10                 // long -1l
      50: lcmp
      51: ifeq          73
      54: aload_0
      55: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      58: invokestatic  #49                 // Method io/etcd/jetcd/api/WatchRequest.newBuilder:()Lio/etcd/jetcd/api/WatchRequest$Builder;
      61: aload_2
      62: invokevirtual #58                 // Method io/etcd/jetcd/api/WatchRequest$Builder.setCancelRequest:(Lio/etcd/jetcd/api/WatchCancelRequest;)Lio/etcd/jetcd/api/WatchRequest$Builder;
      65: invokevirtual #51                 // Method io/etcd/jetcd/api/WatchRequest$Builder.build:()Lio/etcd/jetcd/api/WatchRequest;
      68: invokeinterface #52,  2           // InterfaceMethod io/grpc/stub/StreamObserver.onNext:(Ljava/lang/Object;)V
      73: aload_0
      74: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      77: ifnull        105
      80: aload_0
      81: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      84: getstatic     #59                 // Field io/grpc/Status.CANCELLED:Lio/grpc/Status;
      87: ldc           #60                 // String shutdown
      89: invokevirtual #61                 // Method io/grpc/Status.withDescription:(Ljava/lang/String;)Lio/grpc/Status;
      92: invokevirtual #62                 // Method io/grpc/Status.asException:()Lio/grpc/StatusException;
      95: invokeinterface #63,  2           // InterfaceMethod io/grpc/stub/StreamObserver.onError:(Ljava/lang/Throwable;)V
     100: aload_0
     101: aconst_null
     102: putfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
     105: aload_0
     106: ldc2_w        #10                 // long -1l
     109: putfield      #12                 // Field id:J
     112: aload_0
     113: getfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
     116: invokeinterface #64,  1           // InterfaceMethod io/etcd/jetcd/Watch$Listener.onCompleted:()V
     121: aload_0
     122: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
     125: invokestatic  #65                 // Method io/etcd/jetcd/WatchImpl.access$400:(Lio/etcd/jetcd/WatchImpl;)Ljava/util/List;
     128: aload_0
     129: invokeinterface #66,  2           // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
     134: pop
     135: aload_1
     136: monitorexit
     137: goto          145
     140: astore_3
     141: aload_1
     142: monitorexit
     143: aload_3
     144: athrow
     145: return
    Exception table:
       from    to  target type
          10   137   140   any
         140   143   140   any

  public void requestProgress();
    Code:
       0: aload_0
       1: getfield      #8                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #15                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ifne          43
      10: aload_0
      11: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      14: ifnull        43
      17: invokestatic  #67                 // Method io/etcd/jetcd/api/WatchProgressRequest.newBuilder:()Lio/etcd/jetcd/api/WatchProgressRequest$Builder;
      20: invokevirtual #68                 // Method io/etcd/jetcd/api/WatchProgressRequest$Builder.build:()Lio/etcd/jetcd/api/WatchProgressRequest;
      23: astore_1
      24: aload_0
      25: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      28: invokestatic  #49                 // Method io/etcd/jetcd/api/WatchRequest.newBuilder:()Lio/etcd/jetcd/api/WatchRequest$Builder;
      31: aload_1
      32: invokevirtual #69                 // Method io/etcd/jetcd/api/WatchRequest$Builder.setProgressRequest:(Lio/etcd/jetcd/api/WatchProgressRequest;)Lio/etcd/jetcd/api/WatchRequest$Builder;
      35: invokevirtual #51                 // Method io/etcd/jetcd/api/WatchRequest$Builder.build:()Lio/etcd/jetcd/api/WatchRequest;
      38: invokeinterface #52,  2           // InterfaceMethod io/grpc/stub/StreamObserver.onNext:(Ljava/lang/Object;)V
      43: return

  public void onNext(io.etcd.jetcd.api.WatchResponse);
    Code:
       0: aload_0
       1: getfield      #8                  // Field closed:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: invokevirtual #15                 // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
       7: ifeq          11
      10: return
      11: aload_1
      12: invokevirtual #70                 // Method io/etcd/jetcd/api/WatchResponse.getCreated:()Z
      15: ifeq          83
      18: aload_1
      19: invokevirtual #71                 // Method io/etcd/jetcd/api/WatchResponse.getCanceled:()Z
      22: ifeq          83
      25: aload_1
      26: invokevirtual #72                 // Method io/etcd/jetcd/api/WatchResponse.getCancelReason:()Ljava/lang/String;
      29: ifnull        83
      32: aload_1
      33: invokevirtual #72                 // Method io/etcd/jetcd/api/WatchResponse.getCancelReason:()Ljava/lang/String;
      36: ldc           #73                 // String etcdserver: permission denied
      38: invokevirtual #74                 // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
      41: ifeq          83
      44: aload_0
      45: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
      48: invokestatic  #75                 // Method io/etcd/jetcd/WatchImpl.access$500:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/ClientConnectionManager;
      51: invokevirtual #76                 // Method io/etcd/jetcd/ClientConnectionManager.authInterceptor:()Lio/etcd/jetcd/auth/AuthInterceptor;
      54: invokevirtual #77                 // Method io/etcd/jetcd/auth/AuthInterceptor.refresh:()V
      57: getstatic     #78                 // Field io/grpc/Status$Code.CANCELLED:Lio/grpc/Status$Code;
      60: invokevirtual #79                 // Method io/grpc/Status$Code.toStatus:()Lio/grpc/Status;
      63: aload_1
      64: invokevirtual #72                 // Method io/etcd/jetcd/api/WatchResponse.getCancelReason:()Ljava/lang/String;
      67: invokevirtual #61                 // Method io/grpc/Status.withDescription:(Ljava/lang/String;)Lio/grpc/Status;
      70: astore_2
      71: aload_0
      72: aload_2
      73: invokestatic  #80                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.toEtcdException:(Lio/grpc/Status;)Lio/etcd/jetcd/common/exception/EtcdException;
      76: iconst_1
      77: invokespecial #81                 // Method handleError:(Lio/etcd/jetcd/common/exception/EtcdException;Z)V
      80: goto          372
      83: aload_1
      84: invokevirtual #70                 // Method io/etcd/jetcd/api/WatchResponse.getCreated:()Z
      87: ifeq          148
      90: aload_1
      91: invokevirtual #82                 // Method io/etcd/jetcd/api/WatchResponse.getWatchId:()J
      94: ldc2_w        #10                 // long -1l
      97: lcmp
      98: ifne          119
     101: aload_0
     102: getfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
     105: getstatic     #83                 // Field io/etcd/jetcd/common/exception/ErrorCode.INTERNAL:Lio/etcd/jetcd/common/exception/ErrorCode;
     108: ldc           #84                 // String etcd server failed to create watch id
     110: invokestatic  #85                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.newEtcdException:(Lio/etcd/jetcd/common/exception/ErrorCode;Ljava/lang/String;)Lio/etcd/jetcd/common/exception/EtcdException;
     113: invokeinterface #86,  2           // InterfaceMethod io/etcd/jetcd/Watch$Listener.onError:(Ljava/lang/Throwable;)V
     118: return
     119: aload_0
     120: aload_0
     121: getfield      #14                 // Field revision:J
     124: aload_1
     125: invokevirtual #87                 // Method io/etcd/jetcd/api/WatchResponse.getHeader:()Lio/etcd/jetcd/api/ResponseHeader;
     128: invokevirtual #88                 // Method io/etcd/jetcd/api/ResponseHeader.getRevision:()J
     131: invokestatic  #89                 // Method java/lang/Math.max:(JJ)J
     134: putfield      #14                 // Field revision:J
     137: aload_0
     138: aload_1
     139: invokevirtual #82                 // Method io/etcd/jetcd/api/WatchResponse.getWatchId:()J
     142: putfield      #12                 // Field id:J
     145: goto          372
     148: aload_1
     149: invokevirtual #71                 // Method io/etcd/jetcd/api/WatchResponse.getCanceled:()Z
     152: ifeq          219
     155: aload_1
     156: invokevirtual #72                 // Method io/etcd/jetcd/api/WatchResponse.getCancelReason:()Ljava/lang/String;
     159: astore_2
     160: aload_1
     161: invokevirtual #90                 // Method io/etcd/jetcd/api/WatchResponse.getCompactRevision:()J
     164: lconst_0
     165: lcmp
     166: ifeq          180
     169: aload_1
     170: invokevirtual #90                 // Method io/etcd/jetcd/api/WatchResponse.getCompactRevision:()J
     173: invokestatic  #91                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.newCompactedException:(J)Lio/etcd/jetcd/common/exception/CompactedException;
     176: astore_3
     177: goto          207
     180: aload_2
     181: invokestatic  #92                 // Method com/google/common/base/Strings.isNullOrEmpty:(Ljava/lang/String;)Z
     184: ifeq          199
     187: getstatic     #93                 // Field io/etcd/jetcd/common/exception/ErrorCode.OUT_OF_RANGE:Lio/etcd/jetcd/common/exception/ErrorCode;
     190: ldc           #94                 // String etcdserver: mvcc: required revision is a future revision
     192: invokestatic  #85                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.newEtcdException:(Lio/etcd/jetcd/common/exception/ErrorCode;Ljava/lang/String;)Lio/etcd/jetcd/common/exception/EtcdException;
     195: astore_3
     196: goto          207
     199: getstatic     #95                 // Field io/etcd/jetcd/common/exception/ErrorCode.FAILED_PRECONDITION:Lio/etcd/jetcd/common/exception/ErrorCode;
     202: aload_2
     203: invokestatic  #85                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.newEtcdException:(Lio/etcd/jetcd/common/exception/ErrorCode;Ljava/lang/String;)Lio/etcd/jetcd/common/exception/EtcdException;
     206: astore_3
     207: aload_0
     208: aload_3
     209: invokestatic  #96                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.toEtcdException:(Ljava/lang/Throwable;)Lio/etcd/jetcd/common/exception/EtcdException;
     212: iconst_0
     213: invokespecial #81                 // Method handleError:(Lio/etcd/jetcd/common/exception/EtcdException;Z)V
     216: goto          372
     219: aload_1
     220: invokestatic  #97                 // Method io/etcd/jetcd/watch/WatchResponse.isProgressNotify:(Lio/etcd/jetcd/api/WatchResponse;)Z
     223: ifeq          264
     226: aload_0
     227: getfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
     230: new           #98                 // class io/etcd/jetcd/watch/WatchResponse
     233: dup
     234: aload_1
     235: invokespecial #99                 // Method io/etcd/jetcd/watch/WatchResponse."<init>":(Lio/etcd/jetcd/api/WatchResponse;)V
     238: invokeinterface #100,  2          // InterfaceMethod io/etcd/jetcd/Watch$Listener.onNext:(Lio/etcd/jetcd/watch/WatchResponse;)V
     243: aload_0
     244: aload_0
     245: getfield      #14                 // Field revision:J
     248: aload_1
     249: invokevirtual #87                 // Method io/etcd/jetcd/api/WatchResponse.getHeader:()Lio/etcd/jetcd/api/ResponseHeader;
     252: invokevirtual #88                 // Method io/etcd/jetcd/api/ResponseHeader.getRevision:()J
     255: invokestatic  #89                 // Method java/lang/Math.max:(JJ)J
     258: putfield      #14                 // Field revision:J
     261: goto          372
     264: aload_1
     265: invokevirtual #101                // Method io/etcd/jetcd/api/WatchResponse.getEventsCount:()I
     268: ifne          319
     271: aload_0
     272: getfield      #4                  // Field option:Lio/etcd/jetcd/options/WatchOption;
     275: invokevirtual #25                 // Method io/etcd/jetcd/options/WatchOption.isProgressNotify:()Z
     278: ifeq          319
     281: aload_0
     282: getfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
     285: new           #98                 // class io/etcd/jetcd/watch/WatchResponse
     288: dup
     289: aload_1
     290: aload_0
     291: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
     294: invokestatic  #20                 // Method io/etcd/jetcd/WatchImpl.access$100:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/ByteSequence;
     297: invokespecial #102                // Method io/etcd/jetcd/watch/WatchResponse."<init>":(Lio/etcd/jetcd/api/WatchResponse;Lio/etcd/jetcd/ByteSequence;)V
     300: invokeinterface #100,  2          // InterfaceMethod io/etcd/jetcd/Watch$Listener.onNext:(Lio/etcd/jetcd/watch/WatchResponse;)V
     305: aload_0
     306: aload_1
     307: invokevirtual #87                 // Method io/etcd/jetcd/api/WatchResponse.getHeader:()Lio/etcd/jetcd/api/ResponseHeader;
     310: invokevirtual #88                 // Method io/etcd/jetcd/api/ResponseHeader.getRevision:()J
     313: putfield      #14                 // Field revision:J
     316: goto          372
     319: aload_1
     320: invokevirtual #101                // Method io/etcd/jetcd/api/WatchResponse.getEventsCount:()I
     323: ifle          372
     326: aload_0
     327: getfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
     330: new           #98                 // class io/etcd/jetcd/watch/WatchResponse
     333: dup
     334: aload_1
     335: aload_0
     336: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
     339: invokestatic  #20                 // Method io/etcd/jetcd/WatchImpl.access$100:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/ByteSequence;
     342: invokespecial #102                // Method io/etcd/jetcd/watch/WatchResponse."<init>":(Lio/etcd/jetcd/api/WatchResponse;Lio/etcd/jetcd/ByteSequence;)V
     345: invokeinterface #100,  2          // InterfaceMethod io/etcd/jetcd/Watch$Listener.onNext:(Lio/etcd/jetcd/watch/WatchResponse;)V
     350: aload_0
     351: aload_1
     352: aload_1
     353: invokevirtual #101                // Method io/etcd/jetcd/api/WatchResponse.getEventsCount:()I
     356: iconst_1
     357: isub
     358: invokevirtual #103                // Method io/etcd/jetcd/api/WatchResponse.getEvents:(I)Lio/etcd/jetcd/api/Event;
     361: invokevirtual #104                // Method io/etcd/jetcd/api/Event.getKv:()Lio/etcd/jetcd/api/KeyValue;
     364: invokevirtual #105                // Method io/etcd/jetcd/api/KeyValue.getModRevision:()J
     367: lconst_1
     368: ladd
     369: putfield      #14                 // Field revision:J
     372: return

  public void onError(java.lang.Throwable);
    Code:
       0: aload_0
       1: aload_1
       2: invokestatic  #96                 // Method io/etcd/jetcd/common/exception/EtcdExceptionFactory.toEtcdException:(Ljava/lang/Throwable;)Lio/etcd/jetcd/common/exception/EtcdException;
       5: aload_0
       6: aload_1
       7: invokestatic  #106                // Method io/grpc/Status.fromThrowable:(Ljava/lang/Throwable;)Lio/grpc/Status;
      10: invokespecial #107                // Method shouldReschedule:(Lio/grpc/Status;)Z
      13: invokespecial #81                 // Method handleError:(Lio/etcd/jetcd/common/exception/EtcdException;Z)V
      16: return

  private void handleError(io.etcd.jetcd.common.exception.EtcdException, boolean);
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
       4: invokestatic  #53                 // Method io/etcd/jetcd/WatchImpl.access$300:(Lio/etcd/jetcd/WatchImpl;)Ljava/lang/Object;
       7: dup
       8: astore_3
       9: monitorenter
      10: aload_0
      11: invokevirtual #17                 // Method isClosed:()Z
      14: ifeq          20
      17: aload_3
      18: monitorexit
      19: return
      20: aload_0
      21: getfield      #5                  // Field listener:Lio/etcd/jetcd/Watch$Listener;
      24: aload_1
      25: invokeinterface #86,  2           // InterfaceMethod io/etcd/jetcd/Watch$Listener.onError:(Ljava/lang/Throwable;)V
      30: aload_0
      31: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      34: ifnull        46
      37: aload_0
      38: getfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      41: invokeinterface #108,  1          // InterfaceMethod io/grpc/stub/StreamObserver.onCompleted:()V
      46: aload_0
      47: aconst_null
      48: putfield      #9                  // Field stream:Lio/grpc/stub/StreamObserver;
      51: aload_3
      52: monitorexit
      53: goto          63
      56: astore        4
      58: aload_3
      59: monitorexit
      60: aload         4
      62: athrow
      63: iload_2
      64: ifeq          72
      67: aload_0
      68: invokespecial #109                // Method reschedule:()V
      71: return
      72: aload_0
      73: invokevirtual #110                // Method close:()V
      76: return
    Exception table:
       from    to  target type
          10    19    56   any
          20    53    56   any
          56    60    56   any

  private boolean shouldReschedule(io.grpc.Status);
    Code:
       0: aload_1
       1: invokestatic  #111                // Method io/etcd/jetcd/Util.isHaltError:(Lio/grpc/Status;)Z
       4: ifne          18
       7: aload_1
       8: invokestatic  #112                // Method io/etcd/jetcd/Util.isNoLeaderError:(Lio/grpc/Status;)Z
      11: ifne          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  private void reschedule();
    Code:
       0: aload_0
       1: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
       4: invokestatic  #113                // Method io/etcd/jetcd/WatchImpl.access$600:(Lio/etcd/jetcd/WatchImpl;)Lcom/google/common/util/concurrent/ListeningScheduledExecutorService;
       7: aload_0
       8: invokedynamic #114,  0            // InvokeDynamic #2:run:(Lio/etcd/jetcd/WatchImpl$WatcherImpl;)Ljava/lang/Runnable;
      13: ldc2_w        #115                // long 500l
      16: getstatic     #117                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      19: invokeinterface #118,  5          // InterfaceMethod com/google/common/util/concurrent/ListeningScheduledExecutorService.schedule:(Ljava/lang/Runnable;JLjava/util/concurrent/TimeUnit;)Lcom/google/common/util/concurrent/ListenableScheduledFuture;
      24: new           #119                // class io/etcd/jetcd/WatchImpl$WatcherImpl$1
      27: dup
      28: aload_0
      29: invokespecial #120                // Method io/etcd/jetcd/WatchImpl$WatcherImpl$1."<init>":(Lio/etcd/jetcd/WatchImpl$WatcherImpl;)V
      32: aload_0
      33: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
      36: invokestatic  #113                // Method io/etcd/jetcd/WatchImpl.access$600:(Lio/etcd/jetcd/WatchImpl;)Lcom/google/common/util/concurrent/ListeningScheduledExecutorService;
      39: invokestatic  #121                // Method com/google/common/util/concurrent/Futures.addCallback:(Lcom/google/common/util/concurrent/ListenableFuture;Lcom/google/common/util/concurrent/FutureCallback;Ljava/util/concurrent/Executor;)V
      42: return

  public void onCompleted();
    Code:
       0: return

  public void onNext(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #122                // class io/etcd/jetcd/api/WatchResponse
       5: invokevirtual #123                // Method onNext:(Lio/etcd/jetcd/api/WatchResponse;)V
       8: return

  private com.google.protobuf.ByteString lambda$resume$0(io.etcd.jetcd.ByteSequence);
    Code:
       0: aload_1
       1: invokevirtual #19                 // Method io/etcd/jetcd/ByteSequence.getByteString:()Lcom/google/protobuf/ByteString;
       4: aload_0
       5: getfield      #1                  // Field this$0:Lio/etcd/jetcd/WatchImpl;
       8: invokestatic  #20                 // Method io/etcd/jetcd/WatchImpl.access$100:(Lio/etcd/jetcd/WatchImpl;)Lio/etcd/jetcd/ByteSequence;
      11: invokestatic  #37                 // Method io/etcd/jetcd/Util.prefixNamespaceToRangeEnd:(Lcom/google/protobuf/ByteString;Lio/etcd/jetcd/ByteSequence;)Lcom/google/protobuf/ByteString;
      14: areturn
}
