Compiled from "DeflateEncoder.java"
abstract class io.netty.handler.codec.http.websocketx.extensions.compression.DeflateEncoder extends io.netty.handler.codec.http.websocketx.extensions.WebSocketExtensionEncoder {
  private final int compressionLevel;

  private final int windowSize;

  private final boolean noContext;

  private final io.netty.handler.codec.http.websocketx.extensions.WebSocketExtensionFilter extensionEncoderFilter;

  private io.netty.channel.embedded.EmbeddedChannel encoder;

  io.netty.handler.codec.http.websocketx.extensions.compression.DeflateEncoder(int, int, boolean, io.netty.handler.codec.http.websocketx.extensions.WebSocketExtensionFilter);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method io/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionEncoder."<init>":()V
       4: aload_0
       5: iload_1
       6: putfield      #2                  // Field compressionLevel:I
       9: aload_0
      10: iload_2
      11: putfield      #3                  // Field windowSize:I
      14: aload_0
      15: iload_3
      16: putfield      #4                  // Field noContext:Z
      19: aload_0
      20: aload         4
      22: ldc           #5                  // String extensionEncoderFilter
      24: invokestatic  #6                  // Method io/netty/util/internal/ObjectUtil.checkNotNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      27: checkcast     #7                  // class io/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionFilter
      30: putfield      #8                  // Field extensionEncoderFilter:Lio/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionFilter;
      33: return

  protected io.netty.handler.codec.http.websocketx.extensions.WebSocketExtensionFilter extensionEncoderFilter();
    Code:
       0: aload_0
       1: getfield      #8                  // Field extensionEncoderFilter:Lio/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionFilter;
       4: areturn

  protected abstract int rsv(io.netty.handler.codec.http.websocketx.WebSocketFrame);

  protected abstract boolean removeFrameTail(io.netty.handler.codec.http.websocketx.WebSocketFrame);

  protected void encode(io.netty.channel.ChannelHandlerContext, io.netty.handler.codec.http.websocketx.WebSocketFrame, java.util.List<java.lang.Object>) throws java.lang.Exception;
    Code:
       0: aload_2
       1: invokevirtual #9                  // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.content:()Lio/netty/buffer/ByteBuf;
       4: invokevirtual #10                 // Method io/netty/buffer/ByteBuf.isReadable:()Z
       7: ifeq          21
      10: aload_0
      11: aload_1
      12: aload_2
      13: invokespecial #11                 // Method compressContent:(Lio/netty/channel/ChannelHandlerContext;Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)Lio/netty/buffer/ByteBuf;
      16: astore        4
      18: goto          49
      21: aload_2
      22: invokevirtual #12                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
      25: ifeq          39
      28: getstatic     #13                 // Field io/netty/handler/codec/http/websocketx/extensions/compression/PerMessageDeflateDecoder.EMPTY_DEFLATE_BLOCK:Lio/netty/buffer/ByteBuf;
      31: invokevirtual #14                 // Method io/netty/buffer/ByteBuf.duplicate:()Lio/netty/buffer/ByteBuf;
      34: astore        4
      36: goto          49
      39: new           #15                 // class io/netty/handler/codec/CodecException
      42: dup
      43: ldc           #16                 // String cannot compress content buffer
      45: invokespecial #17                 // Method io/netty/handler/codec/CodecException."<init>":(Ljava/lang/String;)V
      48: athrow
      49: aload_2
      50: instanceof    #18                 // class io/netty/handler/codec/http/websocketx/TextWebSocketFrame
      53: ifeq          79
      56: new           #18                 // class io/netty/handler/codec/http/websocketx/TextWebSocketFrame
      59: dup
      60: aload_2
      61: invokevirtual #12                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
      64: aload_0
      65: aload_2
      66: invokevirtual #19                 // Method rsv:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)I
      69: aload         4
      71: invokespecial #20                 // Method io/netty/handler/codec/http/websocketx/TextWebSocketFrame."<init>":(ZILio/netty/buffer/ByteBuf;)V
      74: astore        5
      76: goto          172
      79: aload_2
      80: instanceof    #21                 // class io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame
      83: ifeq          109
      86: new           #21                 // class io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame
      89: dup
      90: aload_2
      91: invokevirtual #12                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
      94: aload_0
      95: aload_2
      96: invokevirtual #19                 // Method rsv:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)I
      99: aload         4
     101: invokespecial #22                 // Method io/netty/handler/codec/http/websocketx/BinaryWebSocketFrame."<init>":(ZILio/netty/buffer/ByteBuf;)V
     104: astore        5
     106: goto          172
     109: aload_2
     110: instanceof    #23                 // class io/netty/handler/codec/http/websocketx/ContinuationWebSocketFrame
     113: ifeq          139
     116: new           #23                 // class io/netty/handler/codec/http/websocketx/ContinuationWebSocketFrame
     119: dup
     120: aload_2
     121: invokevirtual #12                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
     124: aload_0
     125: aload_2
     126: invokevirtual #19                 // Method rsv:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)I
     129: aload         4
     131: invokespecial #24                 // Method io/netty/handler/codec/http/websocketx/ContinuationWebSocketFrame."<init>":(ZILio/netty/buffer/ByteBuf;)V
     134: astore        5
     136: goto          172
     139: new           #15                 // class io/netty/handler/codec/CodecException
     142: dup
     143: new           #25                 // class java/lang/StringBuilder
     146: dup
     147: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
     150: ldc           #27                 // String unexpected frame type:
     152: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: aload_2
     156: invokevirtual #29                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     159: invokevirtual #30                 // Method java/lang/Class.getName:()Ljava/lang/String;
     162: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     165: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     168: invokespecial #17                 // Method io/netty/handler/codec/CodecException."<init>":(Ljava/lang/String;)V
     171: athrow
     172: aload_3
     173: aload         5
     175: invokeinterface #32,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     180: pop
     181: return

  public void handlerRemoved(io.netty.channel.ChannelHandlerContext) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #33                 // Method cleanup:()V
       4: aload_0
       5: aload_1
       6: invokespecial #34                 // Method io/netty/handler/codec/http/websocketx/extensions/WebSocketExtensionEncoder.handlerRemoved:(Lio/netty/channel/ChannelHandlerContext;)V
       9: return

  private io.netty.buffer.ByteBuf compressContent(io.netty.channel.ChannelHandlerContext, io.netty.handler.codec.http.websocketx.WebSocketFrame);
    Code:
       0: aload_0
       1: getfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
       4: ifnonnull     41
       7: aload_0
       8: new           #36                 // class io/netty/channel/embedded/EmbeddedChannel
      11: dup
      12: iconst_1
      13: anewarray     #37                 // class io/netty/channel/ChannelHandler
      16: dup
      17: iconst_0
      18: getstatic     #38                 // Field io/netty/handler/codec/compression/ZlibWrapper.NONE:Lio/netty/handler/codec/compression/ZlibWrapper;
      21: aload_0
      22: getfield      #2                  // Field compressionLevel:I
      25: aload_0
      26: getfield      #3                  // Field windowSize:I
      29: bipush        8
      31: invokestatic  #39                 // Method io/netty/handler/codec/compression/ZlibCodecFactory.newZlibEncoder:(Lio/netty/handler/codec/compression/ZlibWrapper;III)Lio/netty/handler/codec/compression/ZlibEncoder;
      34: aastore
      35: invokespecial #40                 // Method io/netty/channel/embedded/EmbeddedChannel."<init>":([Lio/netty/channel/ChannelHandler;)V
      38: putfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      41: aload_0
      42: getfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      45: iconst_1
      46: anewarray     #41                 // class java/lang/Object
      49: dup
      50: iconst_0
      51: aload_2
      52: invokevirtual #9                  // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.content:()Lio/netty/buffer/ByteBuf;
      55: invokevirtual #42                 // Method io/netty/buffer/ByteBuf.retain:()Lio/netty/buffer/ByteBuf;
      58: aastore
      59: invokevirtual #43                 // Method io/netty/channel/embedded/EmbeddedChannel.writeOutbound:([Ljava/lang/Object;)Z
      62: pop
      63: aload_1
      64: invokeinterface #44,  1           // InterfaceMethod io/netty/channel/ChannelHandlerContext.alloc:()Lio/netty/buffer/ByteBufAllocator;
      69: invokeinterface #45,  1           // InterfaceMethod io/netty/buffer/ByteBufAllocator.compositeBuffer:()Lio/netty/buffer/CompositeByteBuf;
      74: astore_3
      75: aload_0
      76: getfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      79: invokevirtual #46                 // Method io/netty/channel/embedded/EmbeddedChannel.readOutbound:()Ljava/lang/Object;
      82: checkcast     #47                 // class io/netty/buffer/ByteBuf
      85: astore        4
      87: aload         4
      89: ifnonnull     95
      92: goto          123
      95: aload         4
      97: invokevirtual #10                 // Method io/netty/buffer/ByteBuf.isReadable:()Z
     100: ifne          112
     103: aload         4
     105: invokevirtual #48                 // Method io/netty/buffer/ByteBuf.release:()Z
     108: pop
     109: goto          75
     112: aload_3
     113: iconst_1
     114: aload         4
     116: invokevirtual #49                 // Method io/netty/buffer/CompositeByteBuf.addComponent:(ZLio/netty/buffer/ByteBuf;)Lio/netty/buffer/CompositeByteBuf;
     119: pop
     120: goto          75
     123: aload_3
     124: invokevirtual #50                 // Method io/netty/buffer/CompositeByteBuf.numComponents:()I
     127: ifgt          145
     130: aload_3
     131: invokevirtual #51                 // Method io/netty/buffer/CompositeByteBuf.release:()Z
     134: pop
     135: new           #15                 // class io/netty/handler/codec/CodecException
     138: dup
     139: ldc           #52                 // String cannot read compressed buffer
     141: invokespecial #17                 // Method io/netty/handler/codec/CodecException."<init>":(Ljava/lang/String;)V
     144: athrow
     145: aload_2
     146: invokevirtual #12                 // Method io/netty/handler/codec/http/websocketx/WebSocketFrame.isFinalFragment:()Z
     149: ifeq          163
     152: aload_0
     153: getfield      #4                  // Field noContext:Z
     156: ifeq          163
     159: aload_0
     160: invokespecial #33                 // Method cleanup:()V
     163: aload_0
     164: aload_2
     165: invokevirtual #53                 // Method removeFrameTail:(Lio/netty/handler/codec/http/websocketx/WebSocketFrame;)Z
     168: ifeq          196
     171: aload_3
     172: invokevirtual #54                 // Method io/netty/buffer/CompositeByteBuf.readableBytes:()I
     175: getstatic     #55                 // Field io/netty/handler/codec/http/websocketx/extensions/compression/PerMessageDeflateDecoder.FRAME_TAIL:Lio/netty/buffer/ByteBuf;
     178: invokevirtual #56                 // Method io/netty/buffer/ByteBuf.readableBytes:()I
     181: isub
     182: istore        5
     184: aload_3
     185: iconst_0
     186: iload         5
     188: invokevirtual #57                 // Method io/netty/buffer/CompositeByteBuf.slice:(II)Lio/netty/buffer/ByteBuf;
     191: astore        4
     193: goto          199
     196: aload_3
     197: astore        4
     199: aload         4
     201: areturn

  private void cleanup();
    Code:
       0: aload_0
       1: getfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
       4: ifnull        20
       7: aload_0
       8: getfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      11: invokevirtual #58                 // Method io/netty/channel/embedded/EmbeddedChannel.finishAndReleaseAll:()Z
      14: pop
      15: aload_0
      16: aconst_null
      17: putfield      #35                 // Field encoder:Lio/netty/channel/embedded/EmbeddedChannel;
      20: return

  protected void encode(io.netty.channel.ChannelHandlerContext, java.lang.Object, java.util.List) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #59                 // class io/netty/handler/codec/http/websocketx/WebSocketFrame
       6: aload_3
       7: invokevirtual #60                 // Method encode:(Lio/netty/channel/ChannelHandlerContext;Lio/netty/handler/codec/http/websocketx/WebSocketFrame;Ljava/util/List;)V
      10: return
}
