Compiled from "ComponentInfoPublisher.java"
public class org.apache.bookkeeper.common.component.ComponentInfoPublisher {
  private static final org.slf4j.Logger log;

  private final java.util.Map<java.lang.String, java.lang.String> properties;

  private final java.util.Map<java.lang.String, org.apache.bookkeeper.common.component.ComponentInfoPublisher$EndpointInfo> endpoints;

  private volatile boolean startupFinished;

  public org.apache.bookkeeper.common.component.ComponentInfoPublisher();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       8: dup
       9: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      12: putfield      #4                  // Field properties:Ljava/util/Map;
      15: aload_0
      16: new           #2                  // class java/util/concurrent/ConcurrentHashMap
      19: dup
      20: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      23: putfield      #5                  // Field endpoints:Ljava/util/Map;
      26: return

  public void publishProperty(java.lang.String, java.lang.String);
    Code:
       0: getstatic     #6                  // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #7,  1            // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          23
      11: getstatic     #6                  // Field log:Lorg/slf4j/Logger;
      14: ldc           #8                  // String publish {}={}
      16: aload_1
      17: aload_2
      18: invokeinterface #9,  4            // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      23: aload_0
      24: getfield      #10                 // Field startupFinished:Z
      27: ifeq          57
      30: new           #11                 // class java/lang/IllegalStateException
      33: dup
      34: new           #12                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      41: ldc           #14                 // String Server already started, cannot publish
      43: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      46: aload_1
      47: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokespecial #17                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: aload_1
      58: invokestatic  #18                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      61: pop
      62: aload_2
      63: new           #12                 // class java/lang/StringBuilder
      66: dup
      67: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      70: ldc           #19                 // String Value for
      72: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload_1
      76: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: ldc           #20                 // String  cannot be null
      81: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      87: invokestatic  #21                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      90: pop
      91: aload_0
      92: getfield      #4                  // Field properties:Ljava/util/Map;
      95: aload_1
      96: aload_2
      97: invokeinterface #22,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     102: pop
     103: return

  public void publishEndpoint(org.apache.bookkeeper.common.component.ComponentInfoPublisher$EndpointInfo);
    Code:
       0: getstatic     #6                  // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #7,  1            // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          23
      11: getstatic     #6                  // Field log:Lorg/slf4j/Logger;
      14: ldc           #23                 // String publishEndpoint {} on {}
      16: aload_1
      17: aload_0
      18: invokeinterface #9,  4            // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      23: aload_0
      24: getfield      #5                  // Field endpoints:Ljava/util/Map;
      27: aload_1
      28: invokestatic  #24                 // Method org/apache/bookkeeper/common/component/ComponentInfoPublisher$EndpointInfo.access$000:(Lorg/apache/bookkeeper/common/component/ComponentInfoPublisher$EndpointInfo;)Ljava/lang/String;
      31: aload_1
      32: invokeinterface #22,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      37: checkcast     #25                 // class org/apache/bookkeeper/common/component/ComponentInfoPublisher$EndpointInfo
      40: astore_2
      41: aload_2
      42: ifnull        84
      45: new           #11                 // class java/lang/IllegalStateException
      48: dup
      49: new           #12                 // class java/lang/StringBuilder
      52: dup
      53: invokespecial #13                 // Method java/lang/StringBuilder."<init>":()V
      56: ldc           #26                 // String An endpoint with id
      58: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_1
      62: invokestatic  #24                 // Method org/apache/bookkeeper/common/component/ComponentInfoPublisher$EndpointInfo.access$000:(Lorg/apache/bookkeeper/common/component/ComponentInfoPublisher$EndpointInfo;)Ljava/lang/String;
      65: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: ldc           #27                 // String  has already been published:
      70: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: aload_2
      74: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      77: invokevirtual #16                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      80: invokespecial #17                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      83: athrow
      84: return

  public java.util.Map<java.lang.String, java.lang.String> getProperties();
    Code:
       0: aload_0
       1: getfield      #10                 // Field startupFinished:Z
       4: ifne          17
       7: new           #11                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #29                 // String Startup not yet finished
      13: invokespecial #17                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #4                  // Field properties:Ljava/util/Map;
      21: invokestatic  #30                 // Method java/util/Collections.unmodifiableMap:(Ljava/util/Map;)Ljava/util/Map;
      24: areturn

  public java.util.Map<java.lang.String, org.apache.bookkeeper.common.component.ComponentInfoPublisher$EndpointInfo> getEndpoints();
    Code:
       0: aload_0
       1: getfield      #10                 // Field startupFinished:Z
       4: ifne          17
       7: new           #11                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #29                 // String Startup not yet finished
      13: invokespecial #17                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #5                  // Field endpoints:Ljava/util/Map;
      21: invokestatic  #30                 // Method java/util/Collections.unmodifiableMap:(Ljava/util/Map;)Ljava/util/Map;
      24: areturn

  public void startupFinished();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #10                 // Field startupFinished:Z
       5: return

  static {};
    Code:
       0: ldc           #31                 // class org/apache/bookkeeper/common/component/ComponentInfoPublisher
       2: invokestatic  #32                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #6                  // Field log:Lorg/slf4j/Logger;
       8: return
}
