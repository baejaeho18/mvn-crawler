Compiled from "ClientCnxnSocketNIO.java"
public class org.apache.zookeeper.ClientCnxnSocketNIO extends org.apache.zookeeper.ClientCnxnSocket {
  private static final org.slf4j.Logger LOG;

  private final java.nio.channels.Selector selector;

  private java.nio.channels.SelectionKey sockKey;

  private java.net.SocketAddress localSocketAddress;

  private java.net.SocketAddress remoteSocketAddress;

  org.apache.zookeeper.ClientCnxnSocketNIO(org.apache.zookeeper.client.ZKClientConfig) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/zookeeper/ClientCnxnSocket."<init>":()V
       4: aload_0
       5: invokestatic  #2                  // Method java/nio/channels/Selector.open:()Ljava/nio/channels/Selector;
       8: putfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      11: aload_0
      12: aload_1
      13: putfield      #4                  // Field clientConfig:Lorg/apache/zookeeper/client/ZKClientConfig;
      16: aload_0
      17: invokevirtual #5                  // Method initProperties:()V
      20: return

  boolean isConnected();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: ifnull        11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  void doIO(java.util.Queue<org.apache.zookeeper.ClientCnxn$Packet>, org.apache.zookeeper.ClientCnxn) throws java.lang.InterruptedException, java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #7                  // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #8                  // class java/nio/channels/SocketChannel
      10: astore_3
      11: aload_3
      12: ifnonnull     25
      15: new           #9                  // class java/io/IOException
      18: dup
      19: ldc           #10                 // String Socket is null!
      21: invokespecial #11                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      24: athrow
      25: aload_0
      26: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      29: invokevirtual #12                 // Method java/nio/channels/SelectionKey.isReadable:()Z
      32: ifeq          228
      35: aload_3
      36: aload_0
      37: getfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
      40: invokevirtual #14                 // Method java/nio/channels/SocketChannel.read:(Ljava/nio/ByteBuffer;)I
      43: istore        4
      45: iload         4
      47: ifge          88
      50: new           #15                 // class org/apache/zookeeper/ClientCnxn$EndOfStreamException
      53: dup
      54: new           #16                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #18                 // String Unable to read additional data from server sessionid 0x
      63: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_0
      67: getfield      #20                 // Field sessionId:J
      70: invokestatic  #21                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      73: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: ldc           #22                 // String , likely server has closed socket
      78: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      81: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: invokespecial #24                 // Method org/apache/zookeeper/ClientCnxn$EndOfStreamException."<init>":(Ljava/lang/String;)V
      87: athrow
      88: aload_0
      89: getfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
      92: invokevirtual #25                 // Method java/nio/ByteBuffer.hasRemaining:()Z
      95: ifne          228
      98: aload_0
      99: getfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
     102: invokevirtual #26                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     105: pop
     106: aload_0
     107: getfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
     110: aload_0
     111: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
     114: if_acmpne     132
     117: aload_0
     118: getfield      #28                 // Field recvCount:Ljava/util/concurrent/atomic/AtomicLong;
     121: invokevirtual #29                 // Method java/util/concurrent/atomic/AtomicLong.getAndIncrement:()J
     124: pop2
     125: aload_0
     126: invokevirtual #30                 // Method readLength:()V
     129: goto          228
     132: aload_0
     133: getfield      #31                 // Field initialized:Z
     136: ifne          197
     139: aload_0
     140: invokevirtual #32                 // Method readConnectResult:()V
     143: aload_0
     144: invokespecial #33                 // Method enableRead:()V
     147: aload_0
     148: aload_0
     149: getfield      #34                 // Field outgoingQueue:Ljava/util/concurrent/LinkedBlockingDeque;
     152: aload_0
     153: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
     156: invokevirtual #36                 // Method org/apache/zookeeper/ClientCnxn$SendThread.tunnelAuthInProgress:()Z
     159: invokespecial #37                 // Method findSendablePacket:(Ljava/util/concurrent/LinkedBlockingDeque;Z)Lorg/apache/zookeeper/ClientCnxn$Packet;
     162: ifnull        169
     165: aload_0
     166: invokevirtual #38                 // Method enableWrite:()V
     169: aload_0
     170: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
     173: invokevirtual #39                 // Method java/nio/ByteBuffer.clear:()Ljava/nio/Buffer;
     176: pop
     177: aload_0
     178: aload_0
     179: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
     182: putfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
     185: aload_0
     186: invokevirtual #40                 // Method updateLastHeard:()V
     189: aload_0
     190: iconst_1
     191: putfield      #31                 // Field initialized:Z
     194: goto          228
     197: aload_0
     198: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
     201: aload_0
     202: getfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
     205: invokevirtual #41                 // Method org/apache/zookeeper/ClientCnxn$SendThread.readResponse:(Ljava/nio/ByteBuffer;)V
     208: aload_0
     209: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
     212: invokevirtual #39                 // Method java/nio/ByteBuffer.clear:()Ljava/nio/Buffer;
     215: pop
     216: aload_0
     217: aload_0
     218: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
     221: putfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
     224: aload_0
     225: invokevirtual #40                 // Method updateLastHeard:()V
     228: aload_0
     229: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
     232: invokevirtual #42                 // Method java/nio/channels/SelectionKey.isWritable:()Z
     235: ifeq          475
     238: aload_0
     239: aload_0
     240: getfield      #34                 // Field outgoingQueue:Ljava/util/concurrent/LinkedBlockingDeque;
     243: aload_0
     244: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
     247: invokevirtual #36                 // Method org/apache/zookeeper/ClientCnxn$SendThread.tunnelAuthInProgress:()Z
     250: invokespecial #37                 // Method findSendablePacket:(Ljava/util/concurrent/LinkedBlockingDeque;Z)Lorg/apache/zookeeper/ClientCnxn$Packet;
     253: astore        4
     255: aload         4
     257: ifnull        424
     260: aload_0
     261: invokevirtual #43                 // Method updateLastSend:()V
     264: aload         4
     266: getfield      #44                 // Field org/apache/zookeeper/ClientCnxn$Packet.bb:Ljava/nio/ByteBuffer;
     269: ifnonnull     323
     272: aload         4
     274: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     277: ifnull        318
     280: aload         4
     282: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     285: invokevirtual #46                 // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     288: bipush        11
     290: if_icmpeq     318
     293: aload         4
     295: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     298: invokevirtual #46                 // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     301: bipush        100
     303: if_icmpeq     318
     306: aload         4
     308: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     311: aload_2
     312: invokevirtual #48                 // Method org/apache/zookeeper/ClientCnxn.getXid:()I
     315: invokevirtual #49                 // Method org/apache/zookeeper/proto/RequestHeader.setXid:(I)V
     318: aload         4
     320: invokevirtual #50                 // Method org/apache/zookeeper/ClientCnxn$Packet.createBB:()V
     323: aload_3
     324: aload         4
     326: getfield      #44                 // Field org/apache/zookeeper/ClientCnxn$Packet.bb:Ljava/nio/ByteBuffer;
     329: invokevirtual #51                 // Method java/nio/channels/SocketChannel.write:(Ljava/nio/ByteBuffer;)I
     332: pop
     333: aload         4
     335: getfield      #44                 // Field org/apache/zookeeper/ClientCnxn$Packet.bb:Ljava/nio/ByteBuffer;
     338: invokevirtual #25                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     341: ifne          424
     344: aload_0
     345: getfield      #52                 // Field sentCount:Ljava/util/concurrent/atomic/AtomicLong;
     348: invokevirtual #29                 // Method java/util/concurrent/atomic/AtomicLong.getAndIncrement:()J
     351: pop2
     352: aload_0
     353: getfield      #34                 // Field outgoingQueue:Ljava/util/concurrent/LinkedBlockingDeque;
     356: aload         4
     358: invokevirtual #53                 // Method java/util/concurrent/LinkedBlockingDeque.removeFirstOccurrence:(Ljava/lang/Object;)Z
     361: pop
     362: aload         4
     364: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     367: ifnull        424
     370: aload         4
     372: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     375: invokevirtual #46                 // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     378: bipush        11
     380: if_icmpeq     424
     383: aload         4
     385: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
     388: invokevirtual #46                 // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     391: bipush        100
     393: if_icmpeq     424
     396: aload_1
     397: dup
     398: astore        5
     400: monitorenter
     401: aload_1
     402: aload         4
     404: invokeinterface #54,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
     409: pop
     410: aload         5
     412: monitorexit
     413: goto          424
     416: astore        6
     418: aload         5
     420: monitorexit
     421: aload         6
     423: athrow
     424: aload_0
     425: getfield      #34                 // Field outgoingQueue:Ljava/util/concurrent/LinkedBlockingDeque;
     428: invokevirtual #55                 // Method java/util/concurrent/LinkedBlockingDeque.isEmpty:()Z
     431: ifeq          441
     434: aload_0
     435: invokespecial #56                 // Method disableWrite:()V
     438: goto          475
     441: aload_0
     442: getfield      #31                 // Field initialized:Z
     445: ifne          471
     448: aload         4
     450: ifnull        471
     453: aload         4
     455: getfield      #44                 // Field org/apache/zookeeper/ClientCnxn$Packet.bb:Ljava/nio/ByteBuffer;
     458: invokevirtual #25                 // Method java/nio/ByteBuffer.hasRemaining:()Z
     461: ifne          471
     464: aload_0
     465: invokespecial #56                 // Method disableWrite:()V
     468: goto          475
     471: aload_0
     472: invokevirtual #38                 // Method enableWrite:()V
     475: return
    Exception table:
       from    to  target type
         401   413   416   any
         416   421   416   any

  private org.apache.zookeeper.ClientCnxn$Packet findSendablePacket(java.util.concurrent.LinkedBlockingDeque<org.apache.zookeeper.ClientCnxn$Packet>, boolean);
    Code:
       0: aload_1
       1: invokevirtual #55                 // Method java/util/concurrent/LinkedBlockingDeque.isEmpty:()Z
       4: ifeq          9
       7: aconst_null
       8: areturn
       9: aload_1
      10: invokevirtual #57                 // Method java/util/concurrent/LinkedBlockingDeque.getFirst:()Ljava/lang/Object;
      13: checkcast     #58                 // class org/apache/zookeeper/ClientCnxn$Packet
      16: getfield      #44                 // Field org/apache/zookeeper/ClientCnxn$Packet.bb:Ljava/nio/ByteBuffer;
      19: ifnonnull     26
      22: iload_2
      23: ifne          34
      26: aload_1
      27: invokevirtual #57                 // Method java/util/concurrent/LinkedBlockingDeque.getFirst:()Ljava/lang/Object;
      30: checkcast     #58                 // class org/apache/zookeeper/ClientCnxn$Packet
      33: areturn
      34: aload_1
      35: invokevirtual #59                 // Method java/util/concurrent/LinkedBlockingDeque.iterator:()Ljava/util/Iterator;
      38: astore_3
      39: aload_3
      40: invokeinterface #60,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      45: ifeq          97
      48: aload_3
      49: invokeinterface #61,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #58                 // class org/apache/zookeeper/ClientCnxn$Packet
      57: astore        4
      59: aload         4
      61: getfield      #45                 // Field org/apache/zookeeper/ClientCnxn$Packet.requestHeader:Lorg/apache/zookeeper/proto/RequestHeader;
      64: ifnonnull     82
      67: aload_3
      68: invokeinterface #62,  1           // InterfaceMethod java/util/Iterator.remove:()V
      73: aload_1
      74: aload         4
      76: invokevirtual #63                 // Method java/util/concurrent/LinkedBlockingDeque.addFirst:(Ljava/lang/Object;)V
      79: aload         4
      81: areturn
      82: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      85: ldc           #65                 // String Deferring non-priming packet {} until SASL authentication completes.
      87: aload         4
      89: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      94: goto          39
      97: aconst_null
      98: areturn

  void cleanup();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: ifnull        110
       7: aload_0
       8: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      11: invokevirtual #7                  // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      14: checkcast     #8                  // class java/nio/channels/SocketChannel
      17: astore_1
      18: aload_0
      19: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      22: invokevirtual #67                 // Method java/nio/channels/SelectionKey.cancel:()V
      25: aload_1
      26: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      29: invokevirtual #69                 // Method java/net/Socket.shutdownInput:()V
      32: goto          47
      35: astore_2
      36: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      39: ldc           #70                 // String Ignoring exception during shutdown input
      41: aload_2
      42: invokeinterface #71,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      47: aload_1
      48: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      51: invokevirtual #72                 // Method java/net/Socket.shutdownOutput:()V
      54: goto          69
      57: astore_2
      58: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      61: ldc           #73                 // String Ignoring exception during shutdown output
      63: aload_2
      64: invokeinterface #71,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      69: aload_1
      70: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      73: invokevirtual #74                 // Method java/net/Socket.close:()V
      76: goto          91
      79: astore_2
      80: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      83: ldc           #75                 // String Ignoring exception during socket close
      85: aload_2
      86: invokeinterface #71,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      91: aload_1
      92: invokevirtual #76                 // Method java/nio/channels/SocketChannel.close:()V
      95: goto          110
      98: astore_2
      99: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
     102: ldc           #77                 // String Ignoring exception during channel close
     104: aload_2
     105: invokeinterface #71,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     110: ldc2_w        #78                 // long 100l
     113: invokestatic  #80                 // Method java/lang/Thread.sleep:(J)V
     116: goto          130
     119: astore_1
     120: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
     123: ldc           #82                 // String SendThread interrupted during sleep, ignoring
     125: invokeinterface #83,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     130: aload_0
     131: aconst_null
     132: putfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
     135: return
    Exception table:
       from    to  target type
          25    32    35   Class java/io/IOException
          47    54    57   Class java/io/IOException
          69    76    79   Class java/io/IOException
          91    95    98   Class java/io/IOException
         110   116   119   Class java/lang/InterruptedException

  void close();
    Code:
       0: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
       3: invokeinterface #84,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
       8: ifeq          21
      11: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      14: ldc           #85                 // String Doing client selector close
      16: invokeinterface #86,  2           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
      21: aload_0
      22: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      25: invokevirtual #87                 // Method java/nio/channels/Selector.close:()V
      28: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      31: invokeinterface #84,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      36: ifeq          49
      39: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      42: ldc           #88                 // String Closed client selector
      44: invokeinterface #86,  2           // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;)V
      49: goto          64
      52: astore_1
      53: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      56: ldc           #89                 // String Ignoring exception during selector close
      58: aload_1
      59: invokeinterface #90,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      64: return
    Exception table:
       from    to  target type
           0    49    52   Class java/io/IOException

  java.nio.channels.SocketChannel createSock() throws java.io.IOException;
    Code:
       0: invokestatic  #91                 // Method java/nio/channels/SocketChannel.open:()Ljava/nio/channels/SocketChannel;
       3: astore_1
       4: aload_1
       5: iconst_0
       6: invokevirtual #92                 // Method java/nio/channels/SocketChannel.configureBlocking:(Z)Ljava/nio/channels/SelectableChannel;
       9: pop
      10: aload_1
      11: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      14: iconst_0
      15: iconst_m1
      16: invokevirtual #93                 // Method java/net/Socket.setSoLinger:(ZI)V
      19: aload_1
      20: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      23: iconst_1
      24: invokevirtual #94                 // Method java/net/Socket.setTcpNoDelay:(Z)V
      27: aload_1
      28: areturn

  void registerAndConnect(java.nio.channels.SocketChannel, java.net.InetSocketAddress) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
       6: bipush        8
       8: invokevirtual #96                 // Method java/nio/channels/SocketChannel.register:(Ljava/nio/channels/Selector;I)Ljava/nio/channels/SelectionKey;
      11: putfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      14: aload_1
      15: aload_2
      16: invokevirtual #97                 // Method java/nio/channels/SocketChannel.connect:(Ljava/net/SocketAddress;)Z
      19: istore_3
      20: iload_3
      21: ifeq          31
      24: aload_0
      25: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
      28: invokevirtual #98                 // Method org/apache/zookeeper/ClientCnxn$SendThread.primeConnection:()V
      31: return

  void connect(java.net.InetSocketAddress) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokevirtual #99                 // Method createSock:()Ljava/nio/channels/SocketChannel;
       4: astore_2
       5: aload_0
       6: aload_2
       7: aload_1
       8: invokevirtual #100                // Method registerAndConnect:(Ljava/nio/channels/SocketChannel;Ljava/net/InetSocketAddress;)V
      11: goto          32
      14: astore_3
      15: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
      18: ldc           #104                // String Unable to open socket to {}
      20: aload_1
      21: invokeinterface #105,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      26: aload_2
      27: invokevirtual #76                 // Method java/nio/channels/SocketChannel.close:()V
      30: aload_3
      31: athrow
      32: aload_0
      33: iconst_0
      34: putfield      #31                 // Field initialized:Z
      37: aload_0
      38: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
      41: invokevirtual #39                 // Method java/nio/ByteBuffer.clear:()Ljava/nio/Buffer;
      44: pop
      45: aload_0
      46: aload_0
      47: getfield      #27                 // Field lenBuffer:Ljava/nio/ByteBuffer;
      50: putfield      #13                 // Field incomingBuffer:Ljava/nio/ByteBuffer;
      53: return
    Exception table:
       from    to  target type
           5    11    14   Class java/nio/channels/UnresolvedAddressException
           5    11    14   Class java/nio/channels/UnsupportedAddressTypeException
           5    11    14   Class java/lang/SecurityException
           5    11    14   Class java/io/IOException

  java.net.SocketAddress getRemoteSocketAddress();
    Code:
       0: aload_0
       1: getfield      #106                // Field remoteSocketAddress:Ljava/net/SocketAddress;
       4: areturn

  java.net.SocketAddress getLocalSocketAddress();
    Code:
       0: aload_0
       1: getfield      #107                // Field localSocketAddress:Ljava/net/SocketAddress;
       4: areturn

  private void updateSocketAddresses();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #7                  // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #8                  // class java/nio/channels/SocketChannel
      10: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      13: astore_1
      14: aload_0
      15: aload_1
      16: invokevirtual #108                // Method java/net/Socket.getLocalSocketAddress:()Ljava/net/SocketAddress;
      19: putfield      #107                // Field localSocketAddress:Ljava/net/SocketAddress;
      22: aload_0
      23: aload_1
      24: invokevirtual #109                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      27: putfield      #106                // Field remoteSocketAddress:Ljava/net/SocketAddress;
      30: return

  void packetAdded();
    Code:
       0: aload_0
       1: invokespecial #110                // Method wakeupCnxn:()V
       4: return

  void onClosing();
    Code:
       0: aload_0
       1: invokespecial #110                // Method wakeupCnxn:()V
       4: return

  private synchronized void wakeupCnxn();
    Code:
       0: aload_0
       1: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
       4: invokevirtual #111                // Method java/nio/channels/Selector.wakeup:()Ljava/nio/channels/Selector;
       7: pop
       8: return

  void doTransport(int, java.util.Queue<org.apache.zookeeper.ClientCnxn$Packet>, org.apache.zookeeper.ClientCnxn) throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
       4: iload_1
       5: i2l
       6: invokevirtual #112                // Method java/nio/channels/Selector.select:(J)I
       9: pop
      10: aload_0
      11: dup
      12: astore        5
      14: monitorenter
      15: aload_0
      16: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
      19: invokevirtual #113                // Method java/nio/channels/Selector.selectedKeys:()Ljava/util/Set;
      22: astore        4
      24: aload         5
      26: monitorexit
      27: goto          38
      30: astore        6
      32: aload         5
      34: monitorexit
      35: aload         6
      37: athrow
      38: aload_0
      39: invokevirtual #114                // Method updateNow:()V
      42: aload         4
      44: invokeinterface #115,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      49: astore        5
      51: aload         5
      53: invokeinterface #60,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      58: ifeq          139
      61: aload         5
      63: invokeinterface #61,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      68: checkcast     #95                 // class java/nio/channels/SelectionKey
      71: astore        6
      73: aload         6
      75: invokevirtual #7                  // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      78: checkcast     #8                  // class java/nio/channels/SocketChannel
      81: astore        7
      83: aload         6
      85: invokevirtual #116                // Method java/nio/channels/SelectionKey.readyOps:()I
      88: bipush        8
      90: iand
      91: ifeq          120
      94: aload         7
      96: invokevirtual #117                // Method java/nio/channels/SocketChannel.finishConnect:()Z
      99: ifeq          136
     102: aload_0
     103: invokevirtual #118                // Method updateLastSendAndHeard:()V
     106: aload_0
     107: invokespecial #119                // Method updateSocketAddresses:()V
     110: aload_0
     111: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
     114: invokevirtual #98                 // Method org/apache/zookeeper/ClientCnxn$SendThread.primeConnection:()V
     117: goto          136
     120: aload         6
     122: invokevirtual #116                // Method java/nio/channels/SelectionKey.readyOps:()I
     125: iconst_5
     126: iand
     127: ifeq          136
     130: aload_0
     131: aload_2
     132: aload_3
     133: invokevirtual #120                // Method doIO:(Ljava/util/Queue;Lorg/apache/zookeeper/ClientCnxn;)V
     136: goto          51
     139: aload_0
     140: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
     143: invokevirtual #121                // Method org/apache/zookeeper/ClientCnxn$SendThread.getZkState:()Lorg/apache/zookeeper/ZooKeeper$States;
     146: invokevirtual #122                // Method org/apache/zookeeper/ZooKeeper$States.isConnected:()Z
     149: ifeq          174
     152: aload_0
     153: aload_0
     154: getfield      #34                 // Field outgoingQueue:Ljava/util/concurrent/LinkedBlockingDeque;
     157: aload_0
     158: getfield      #35                 // Field sendThread:Lorg/apache/zookeeper/ClientCnxn$SendThread;
     161: invokevirtual #36                 // Method org/apache/zookeeper/ClientCnxn$SendThread.tunnelAuthInProgress:()Z
     164: invokespecial #37                 // Method findSendablePacket:(Ljava/util/concurrent/LinkedBlockingDeque;Z)Lorg/apache/zookeeper/ClientCnxn$Packet;
     167: ifnull        174
     170: aload_0
     171: invokevirtual #38                 // Method enableWrite:()V
     174: aload         4
     176: invokeinterface #123,  1          // InterfaceMethod java/util/Set.clear:()V
     181: return
    Exception table:
       from    to  target type
          15    27    30   any
          30    35    30   any

  void testableCloseSocket() throws java.io.IOException;
    Code:
       0: getstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #124                // String testableCloseSocket() called
       5: invokeinterface #125,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      14: astore_1
      15: aload_1
      16: ifnull        32
      19: aload_1
      20: invokevirtual #7                  // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
      23: checkcast     #8                  // class java/nio/channels/SocketChannel
      26: invokevirtual #68                 // Method java/nio/channels/SocketChannel.socket:()Ljava/net/Socket;
      29: invokevirtual #74                 // Method java/net/Socket.close:()V
      32: return

  void saslCompleted();
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method enableWrite:()V
       4: return

  synchronized void enableWrite();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #126                // Method java/nio/channels/SelectionKey.interestOps:()I
       7: istore_1
       8: iload_1
       9: iconst_4
      10: iand
      11: ifne          25
      14: aload_0
      15: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      18: iload_1
      19: iconst_4
      20: ior
      21: invokevirtual #127                // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      24: pop
      25: return

  private synchronized void disableWrite();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #126                // Method java/nio/channels/SelectionKey.interestOps:()I
       7: istore_1
       8: iload_1
       9: iconst_4
      10: iand
      11: ifeq          26
      14: aload_0
      15: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      18: iload_1
      19: bipush        -5
      21: iand
      22: invokevirtual #127                // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      25: pop
      26: return

  private synchronized void enableRead();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #126                // Method java/nio/channels/SelectionKey.interestOps:()I
       7: istore_1
       8: iload_1
       9: iconst_1
      10: iand
      11: ifne          25
      14: aload_0
      15: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
      18: iload_1
      19: iconst_1
      20: ior
      21: invokevirtual #127                // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
      24: pop
      25: return

  void connectionPrimed();
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: iconst_5
       5: invokevirtual #127                // Method java/nio/channels/SelectionKey.interestOps:(I)Ljava/nio/channels/SelectionKey;
       8: pop
       9: return

  java.nio.channels.Selector getSelector();
    Code:
       0: aload_0
       1: getfield      #3                  // Field selector:Ljava/nio/channels/Selector;
       4: areturn

  void sendPacket(org.apache.zookeeper.ClientCnxn$Packet) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field sockKey:Ljava/nio/channels/SelectionKey;
       4: invokevirtual #7                  // Method java/nio/channels/SelectionKey.channel:()Ljava/nio/channels/SelectableChannel;
       7: checkcast     #8                  // class java/nio/channels/SocketChannel
      10: astore_2
      11: aload_2
      12: ifnonnull     25
      15: new           #9                  // class java/io/IOException
      18: dup
      19: ldc           #10                 // String Socket is null!
      21: invokespecial #11                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      24: athrow
      25: aload_1
      26: invokevirtual #50                 // Method org/apache/zookeeper/ClientCnxn$Packet.createBB:()V
      29: aload_1
      30: getfield      #44                 // Field org/apache/zookeeper/ClientCnxn$Packet.bb:Ljava/nio/ByteBuffer;
      33: astore_3
      34: aload_2
      35: aload_3
      36: invokevirtual #51                 // Method java/nio/channels/SocketChannel.write:(Ljava/nio/ByteBuffer;)I
      39: pop
      40: return

  static {};
    Code:
       0: ldc           #128                // class org/apache/zookeeper/ClientCnxnSocketNIO
       2: invokestatic  #129                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #64                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
