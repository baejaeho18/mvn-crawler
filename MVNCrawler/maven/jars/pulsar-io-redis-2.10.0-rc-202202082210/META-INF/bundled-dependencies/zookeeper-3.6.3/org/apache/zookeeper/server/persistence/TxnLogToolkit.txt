Compiled from "TxnLogToolkit.java"
public class org.apache.zookeeper.server.persistence.TxnLogToolkit implements java.io.Closeable {
  private java.io.File txnLogFile;

  private boolean recoveryMode;

  private boolean verbose;

  private java.io.FileInputStream txnFis;

  private org.apache.jute.BinaryInputArchive logStream;

  private int crcFixed;

  private java.io.FileOutputStream recoveryFos;

  private org.apache.jute.BinaryOutputArchive recoveryOa;

  private java.io.File recoveryLogFile;

  private org.apache.zookeeper.server.persistence.FilePadding filePadding;

  private boolean force;

  private long zxid;

  public static void main(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokestatic  #1                  // Method parseCommandLine:([Ljava/lang/String;)Lorg/apache/zookeeper/server/persistence/TxnLogToolkit;
       4: astore_1
       5: aconst_null
       6: astore_2
       7: aload_1
       8: invokevirtual #2                  // Method isDumpMode:()Z
      11: ifeq          35
      14: aload_1
      15: new           #3                  // class java/util/Scanner
      18: dup
      19: getstatic     #4                  // Field java/lang/System.in:Ljava/io/InputStream;
      22: invokespecial #5                  // Method java/util/Scanner."<init>":(Ljava/io/InputStream;)V
      25: invokevirtual #6                  // Method dump:(Ljava/util/Scanner;)V
      28: aload_1
      29: invokespecial #7                  // Method printStat:()V
      32: goto          39
      35: aload_1
      36: invokevirtual #8                  // Method chop:()V
      39: aload_1
      40: ifnull        110
      43: aload_2
      44: ifnull        63
      47: aload_1
      48: invokevirtual #9                  // Method close:()V
      51: goto          110
      54: astore_3
      55: aload_2
      56: aload_3
      57: invokevirtual #11                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      60: goto          110
      63: aload_1
      64: invokevirtual #9                  // Method close:()V
      67: goto          110
      70: astore_3
      71: aload_3
      72: astore_2
      73: aload_3
      74: athrow
      75: astore        4
      77: aload_1
      78: ifnull        107
      81: aload_2
      82: ifnull        103
      85: aload_1
      86: invokevirtual #9                  // Method close:()V
      89: goto          107
      92: astore        5
      94: aload_2
      95: aload         5
      97: invokevirtual #11                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     100: goto          107
     103: aload_1
     104: invokevirtual #9                  // Method close:()V
     107: aload         4
     109: athrow
     110: goto          174
     113: astore_1
     114: getstatic     #13                 // Field java/lang/System.err:Ljava/io/PrintStream;
     117: new           #14                 // class java/lang/StringBuilder
     120: dup
     121: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     124: aload_1
     125: invokevirtual #16                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitParseException.getMessage:()Ljava/lang/String;
     128: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     131: ldc           #18                 // String \n
     133: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     139: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     142: aload_1
     143: invokevirtual #21                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitParseException.getExitCode:()I
     146: aload_1
     147: invokevirtual #22                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitParseException.getOptions:()Lorg/apache/commons/cli/Options;
     150: invokestatic  #23                 // Method printHelpAndExit:(ILorg/apache/commons/cli/Options;)V
     153: goto          174
     156: astore_1
     157: getstatic     #13                 // Field java/lang/System.err:Ljava/io/PrintStream;
     160: aload_1
     161: invokevirtual #25                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException.getMessage:()Ljava/lang/String;
     164: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     167: aload_1
     168: invokevirtual #26                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException.getExitCode:()I
     171: invokestatic  #27                 // Method org/apache/zookeeper/util/ServiceUtils.requestSystemExit:(I)V
     174: return
    Exception table:
       from    to  target type
          47    51    54   Class java/lang/Throwable
           7    39    70   Class java/lang/Throwable
           7    39    75   any
          85    89    92   Class java/lang/Throwable
          70    77    75   any
           0   110   113   Class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitParseException
           0   110   156   Class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException

  public org.apache.zookeeper.server.persistence.TxnLogToolkit(boolean, boolean, java.lang.String, boolean) throws java.io.FileNotFoundException, org.apache.zookeeper.server.persistence.TxnLogToolkit$TxnLogToolkitException;
    Code:
       0: aload_0
       1: invokespecial #28                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #29                 // Field recoveryMode:Z
       9: aload_0
      10: iconst_0
      11: putfield      #30                 // Field verbose:Z
      14: aload_0
      15: iconst_0
      16: putfield      #31                 // Field crcFixed:I
      19: aload_0
      20: new           #32                 // class org/apache/zookeeper/server/persistence/FilePadding
      23: dup
      24: invokespecial #33                 // Method org/apache/zookeeper/server/persistence/FilePadding."<init>":()V
      27: putfield      #34                 // Field filePadding:Lorg/apache/zookeeper/server/persistence/FilePadding;
      30: aload_0
      31: iconst_0
      32: putfield      #35                 // Field force:Z
      35: aload_0
      36: ldc2_w        #36                 // long -1l
      39: putfield      #38                 // Field zxid:J
      42: aload_0
      43: iload_1
      44: putfield      #29                 // Field recoveryMode:Z
      47: aload_0
      48: iload_2
      49: putfield      #30                 // Field verbose:Z
      52: aload_0
      53: iload         4
      55: putfield      #35                 // Field force:Z
      58: aload_0
      59: aload_0
      60: aload_3
      61: invokespecial #39                 // Method loadTxnFile:(Ljava/lang/String;)Ljava/io/File;
      64: putfield      #40                 // Field txnLogFile:Ljava/io/File;
      67: iload_1
      68: ifeq          144
      71: aload_0
      72: new           #41                 // class java/io/File
      75: dup
      76: new           #14                 // class java/lang/StringBuilder
      79: dup
      80: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      83: aload_0
      84: getfield      #40                 // Field txnLogFile:Ljava/io/File;
      87: invokevirtual #42                 // Method java/io/File.toString:()Ljava/lang/String;
      90: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: ldc           #43                 // String .fixed
      95: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     101: invokespecial #44                 // Method java/io/File."<init>":(Ljava/lang/String;)V
     104: putfield      #45                 // Field recoveryLogFile:Ljava/io/File;
     107: aload_0
     108: getfield      #45                 // Field recoveryLogFile:Ljava/io/File;
     111: invokevirtual #46                 // Method java/io/File.exists:()Z
     114: ifeq          144
     117: new           #24                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException
     120: dup
     121: getstatic     #47                 // Field org/apache/zookeeper/server/ExitCode.UNEXPECTED_ERROR:Lorg/apache/zookeeper/server/ExitCode;
     124: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     127: ldc           #49                 // String Recovery file %s already exists or not writable
     129: iconst_1
     130: anewarray     #50                 // class java/lang/Object
     133: dup
     134: iconst_0
     135: aload_0
     136: getfield      #45                 // Field recoveryLogFile:Ljava/io/File;
     139: aastore
     140: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException."<init>":(ILjava/lang/String;[Ljava/lang/Object;)V
     143: athrow
     144: aload_0
     145: invokespecial #52                 // Method openTxnLogFile:()V
     148: iload_1
     149: ifeq          156
     152: aload_0
     153: invokespecial #53                 // Method openRecoveryFile:()V
     156: return

  public org.apache.zookeeper.server.persistence.TxnLogToolkit(java.lang.String, java.lang.String) throws org.apache.zookeeper.server.persistence.TxnLogToolkit$TxnLogToolkitException;
    Code:
       0: aload_0
       1: invokespecial #28                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #29                 // Field recoveryMode:Z
       9: aload_0
      10: iconst_0
      11: putfield      #30                 // Field verbose:Z
      14: aload_0
      15: iconst_0
      16: putfield      #31                 // Field crcFixed:I
      19: aload_0
      20: new           #32                 // class org/apache/zookeeper/server/persistence/FilePadding
      23: dup
      24: invokespecial #33                 // Method org/apache/zookeeper/server/persistence/FilePadding."<init>":()V
      27: putfield      #34                 // Field filePadding:Lorg/apache/zookeeper/server/persistence/FilePadding;
      30: aload_0
      31: iconst_0
      32: putfield      #35                 // Field force:Z
      35: aload_0
      36: ldc2_w        #36                 // long -1l
      39: putfield      #38                 // Field zxid:J
      42: aload_0
      43: aload_0
      44: aload_1
      45: invokespecial #39                 // Method loadTxnFile:(Ljava/lang/String;)Ljava/io/File;
      48: putfield      #40                 // Field txnLogFile:Ljava/io/File;
      51: aload_0
      52: aload_2
      53: invokestatic  #54                 // Method java/lang/Long.decode:(Ljava/lang/String;)Ljava/lang/Long;
      56: invokevirtual #55                 // Method java/lang/Long.longValue:()J
      59: putfield      #38                 // Field zxid:J
      62: return

  private java.io.File loadTxnFile(java.lang.String) throws org.apache.zookeeper.server.persistence.TxnLogToolkit$TxnLogToolkitException;
    Code:
       0: new           #41                 // class java/io/File
       3: dup
       4: aload_1
       5: invokespecial #44                 // Method java/io/File."<init>":(Ljava/lang/String;)V
       8: astore_2
       9: aload_2
      10: invokevirtual #46                 // Method java/io/File.exists:()Z
      13: ifeq          23
      16: aload_2
      17: invokevirtual #56                 // Method java/io/File.canRead:()Z
      20: ifne          47
      23: new           #24                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException
      26: dup
      27: getstatic     #47                 // Field org/apache/zookeeper/server/ExitCode.UNEXPECTED_ERROR:Lorg/apache/zookeeper/server/ExitCode;
      30: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
      33: ldc           #57                 // String File doesn\'t exist or not readable: %s
      35: iconst_1
      36: anewarray     #50                 // class java/lang/Object
      39: dup
      40: iconst_0
      41: aload_2
      42: aastore
      43: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException."<init>":(ILjava/lang/String;[Ljava/lang/Object;)V
      46: athrow
      47: aload_2
      48: areturn

  public void dump(java.util.Scanner) throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #31                 // Field crcFixed:I
       5: new           #58                 // class org/apache/zookeeper/server/persistence/FileHeader
       8: dup
       9: invokespecial #59                 // Method org/apache/zookeeper/server/persistence/FileHeader."<init>":()V
      12: astore_2
      13: aload_2
      14: aload_0
      15: getfield      #60                 // Field logStream:Lorg/apache/jute/BinaryInputArchive;
      18: ldc           #61                 // String fileheader
      20: invokevirtual #62                 // Method org/apache/zookeeper/server/persistence/FileHeader.deserialize:(Lorg/apache/jute/InputArchive;Ljava/lang/String;)V
      23: aload_2
      24: invokevirtual #63                 // Method org/apache/zookeeper/server/persistence/FileHeader.getMagic:()I
      27: getstatic     #64                 // Field org/apache/zookeeper/server/persistence/FileTxnLog.TXNLOG_MAGIC:I
      30: if_icmpeq     63
      33: new           #24                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException
      36: dup
      37: getstatic     #65                 // Field org/apache/zookeeper/server/ExitCode.INVALID_INVOCATION:Lorg/apache/zookeeper/server/ExitCode;
      40: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
      43: ldc           #66                 // String Invalid magic number for %s
      45: iconst_1
      46: anewarray     #50                 // class java/lang/Object
      49: dup
      50: iconst_0
      51: aload_0
      52: getfield      #40                 // Field txnLogFile:Ljava/io/File;
      55: invokevirtual #67                 // Method java/io/File.getName:()Ljava/lang/String;
      58: aastore
      59: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException."<init>":(ILjava/lang/String;[Ljava/lang/Object;)V
      62: athrow
      63: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
      66: new           #14                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      73: ldc           #69                 // String ZooKeeper Transactional Log File with dbid
      75: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: aload_2
      79: invokevirtual #70                 // Method org/apache/zookeeper/server/persistence/FileHeader.getDbid:()J
      82: invokevirtual #71                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      85: ldc           #72                 // String  txnlog format version
      87: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: aload_2
      91: invokevirtual #73                 // Method org/apache/zookeeper/server/persistence/FileHeader.getVersion:()I
      94: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      97: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     103: aload_0
     104: getfield      #29                 // Field recoveryMode:Z
     107: ifeq          144
     110: aload_2
     111: aload_0
     112: getfield      #75                 // Field recoveryOa:Lorg/apache/jute/BinaryOutputArchive;
     115: ldc           #61                 // String fileheader
     117: invokevirtual #76                 // Method org/apache/zookeeper/server/persistence/FileHeader.serialize:(Lorg/apache/jute/OutputArchive;Ljava/lang/String;)V
     120: aload_0
     121: getfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
     124: invokevirtual #78                 // Method java/io/FileOutputStream.flush:()V
     127: aload_0
     128: getfield      #34                 // Field filePadding:Lorg/apache/zookeeper/server/persistence/FilePadding;
     131: aload_0
     132: getfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
     135: invokevirtual #79                 // Method java/io/FileOutputStream.getChannel:()Ljava/nio/channels/FileChannel;
     138: invokevirtual #80                 // Method java/nio/channels/FileChannel.position:()J
     141: invokevirtual #81                 // Method org/apache/zookeeper/server/persistence/FilePadding.setCurrentSize:(J)V
     144: iconst_0
     145: istore_3
     146: aload_0
     147: getfield      #60                 // Field logStream:Lorg/apache/jute/BinaryInputArchive;
     150: ldc           #82                 // String crcvalue
     152: invokevirtual #83                 // Method org/apache/jute/BinaryInputArchive.readLong:(Ljava/lang/String;)J
     155: lstore        4
     157: aload_0
     158: getfield      #60                 // Field logStream:Lorg/apache/jute/BinaryInputArchive;
     161: ldc           #84                 // String txnEntry
     163: invokevirtual #85                 // Method org/apache/jute/BinaryInputArchive.readBuffer:(Ljava/lang/String;)[B
     166: astore        6
     168: goto          204
     171: astore        7
     173: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
     176: new           #14                 // class java/lang/StringBuilder
     179: dup
     180: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     183: ldc           #87                 // String EOF reached after
     185: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     188: iload_3
     189: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     192: ldc           #88                 // String  txns.
     194: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     197: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     200: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     203: return
     204: aload         6
     206: arraylength
     207: ifne          241
     210: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
     213: new           #14                 // class java/lang/StringBuilder
     216: dup
     217: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     220: ldc           #87                 // String EOF reached after
     222: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: iload_3
     226: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     229: ldc           #88                 // String  txns.
     231: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     234: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     237: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     240: return
     241: new           #89                 // class java/util/zip/Adler32
     244: dup
     245: invokespecial #90                 // Method java/util/zip/Adler32."<init>":()V
     248: astore        7
     250: aload         7
     252: aload         6
     254: iconst_0
     255: aload         6
     257: arraylength
     258: invokeinterface #91,  4           // InterfaceMethod java/util/zip/Checksum.update:([BII)V
     263: lload         4
     265: aload         7
     267: invokeinterface #92,  1           // InterfaceMethod java/util/zip/Checksum.getValue:()J
     272: lcmp
     273: ifeq          366
     276: aload_0
     277: getfield      #29                 // Field recoveryMode:Z
     280: ifeq          358
     283: aload_0
     284: getfield      #35                 // Field force:Z
     287: ifne          328
     290: aload_0
     291: aload         6
     293: ldc           #93                 // String CRC ERROR
     295: invokespecial #94                 // Method printTxn:([BLjava/lang/String;)V
     298: aload_0
     299: aload_1
     300: invokespecial #95                 // Method askForFix:(Ljava/util/Scanner;)Z
     303: ifeq          366
     306: aload         7
     308: invokeinterface #92,  1           // InterfaceMethod java/util/zip/Checksum.getValue:()J
     313: lstore        4
     315: aload_0
     316: dup
     317: getfield      #31                 // Field crcFixed:I
     320: iconst_1
     321: iadd
     322: putfield      #31                 // Field crcFixed:I
     325: goto          366
     328: aload         7
     330: invokeinterface #92,  1           // InterfaceMethod java/util/zip/Checksum.getValue:()J
     335: lstore        4
     337: aload_0
     338: aload         6
     340: ldc           #96                 // String CRC FIXED
     342: invokespecial #94                 // Method printTxn:([BLjava/lang/String;)V
     345: aload_0
     346: dup
     347: getfield      #31                 // Field crcFixed:I
     350: iconst_1
     351: iadd
     352: putfield      #31                 // Field crcFixed:I
     355: goto          366
     358: aload_0
     359: aload         6
     361: ldc           #93                 // String CRC ERROR
     363: invokespecial #94                 // Method printTxn:([BLjava/lang/String;)V
     366: aload_0
     367: getfield      #29                 // Field recoveryMode:Z
     370: ifeq          380
     373: aload_0
     374: getfield      #30                 // Field verbose:Z
     377: ifeq          386
     380: aload_0
     381: aload         6
     383: invokespecial #97                 // Method printTxn:([B)V
     386: aload_0
     387: getfield      #60                 // Field logStream:Lorg/apache/jute/BinaryInputArchive;
     390: ldc           #98                 // String EOR
     392: invokevirtual #99                 // Method org/apache/jute/BinaryInputArchive.readByte:(Ljava/lang/String;)B
     395: bipush        66
     397: if_icmpeq     420
     400: new           #24                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException
     403: dup
     404: getstatic     #47                 // Field org/apache/zookeeper/server/ExitCode.UNEXPECTED_ERROR:Lorg/apache/zookeeper/server/ExitCode;
     407: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     410: ldc           #100                // String Last transaction was partial.
     412: iconst_0
     413: anewarray     #50                 // class java/lang/Object
     416: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException."<init>":(ILjava/lang/String;[Ljava/lang/Object;)V
     419: athrow
     420: aload_0
     421: getfield      #29                 // Field recoveryMode:Z
     424: ifeq          475
     427: aload_0
     428: getfield      #34                 // Field filePadding:Lorg/apache/zookeeper/server/persistence/FilePadding;
     431: aload_0
     432: getfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
     435: invokevirtual #79                 // Method java/io/FileOutputStream.getChannel:()Ljava/nio/channels/FileChannel;
     438: invokevirtual #101                // Method org/apache/zookeeper/server/persistence/FilePadding.padFile:(Ljava/nio/channels/FileChannel;)J
     441: pop2
     442: aload_0
     443: getfield      #75                 // Field recoveryOa:Lorg/apache/jute/BinaryOutputArchive;
     446: lload         4
     448: ldc           #82                 // String crcvalue
     450: invokevirtual #102                // Method org/apache/jute/BinaryOutputArchive.writeLong:(JLjava/lang/String;)V
     453: aload_0
     454: getfield      #75                 // Field recoveryOa:Lorg/apache/jute/BinaryOutputArchive;
     457: aload         6
     459: ldc           #84                 // String txnEntry
     461: invokevirtual #103                // Method org/apache/jute/BinaryOutputArchive.writeBuffer:([BLjava/lang/String;)V
     464: aload_0
     465: getfield      #75                 // Field recoveryOa:Lorg/apache/jute/BinaryOutputArchive;
     468: bipush        66
     470: ldc           #98                 // String EOR
     472: invokevirtual #104                // Method org/apache/jute/BinaryOutputArchive.writeByte:(BLjava/lang/String;)V
     475: iinc          3, 1
     478: goto          146
    Exception table:
       from    to  target type
         146   168   171   Class java/io/EOFException

  public void chop();
    Code:
       0: new           #41                 // class java/io/File
       3: dup
       4: aload_0
       5: getfield      #40                 // Field txnLogFile:Ljava/io/File;
       8: invokevirtual #105                // Method java/io/File.getParentFile:()Ljava/io/File;
      11: new           #14                 // class java/lang/StringBuilder
      14: dup
      15: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      18: aload_0
      19: getfield      #40                 // Field txnLogFile:Ljava/io/File;
      22: invokevirtual #67                 // Method java/io/File.getName:()Ljava/lang/String;
      25: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: ldc           #106                // String .chopped
      30: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      33: aload_0
      34: getfield      #38                 // Field zxid:J
      37: invokevirtual #71                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      40: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: invokespecial #107                // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      46: astore_1
      47: new           #108                // class java/io/BufferedInputStream
      50: dup
      51: new           #109                // class java/io/FileInputStream
      54: dup
      55: aload_0
      56: getfield      #40                 // Field txnLogFile:Ljava/io/File;
      59: invokespecial #110                // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      62: invokespecial #111                // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      65: astore_2
      66: aconst_null
      67: astore_3
      68: new           #112                // class java/io/BufferedOutputStream
      71: dup
      72: new           #113                // class java/io/FileOutputStream
      75: dup
      76: aload_1
      77: invokespecial #114                // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      80: invokespecial #115                // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
      83: astore        4
      85: aconst_null
      86: astore        5
      88: aload_2
      89: aload         4
      91: aload_0
      92: getfield      #38                 // Field zxid:J
      95: invokestatic  #116                // Method org/apache/zookeeper/server/util/LogChopper.chop:(Ljava/io/InputStream;Ljava/io/OutputStream;J)Z
      98: ifne          131
     101: new           #24                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException
     104: dup
     105: getstatic     #65                 // Field org/apache/zookeeper/server/ExitCode.INVALID_INVOCATION:Lorg/apache/zookeeper/server/ExitCode;
     108: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     111: ldc           #117                // String Failed to chop %s
     113: iconst_1
     114: anewarray     #50                 // class java/lang/Object
     117: dup
     118: iconst_0
     119: aload_0
     120: getfield      #40                 // Field txnLogFile:Ljava/io/File;
     123: invokevirtual #67                 // Method java/io/File.getName:()Ljava/lang/String;
     126: aastore
     127: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException."<init>":(ILjava/lang/String;[Ljava/lang/Object;)V
     130: athrow
     131: aload         4
     133: ifnull        218
     136: aload         5
     138: ifnull        161
     141: aload         4
     143: invokevirtual #118                // Method java/io/OutputStream.close:()V
     146: goto          218
     149: astore        6
     151: aload         5
     153: aload         6
     155: invokevirtual #11                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     158: goto          218
     161: aload         4
     163: invokevirtual #118                // Method java/io/OutputStream.close:()V
     166: goto          218
     169: astore        6
     171: aload         6
     173: astore        5
     175: aload         6
     177: athrow
     178: astore        7
     180: aload         4
     182: ifnull        215
     185: aload         5
     187: ifnull        210
     190: aload         4
     192: invokevirtual #118                // Method java/io/OutputStream.close:()V
     195: goto          215
     198: astore        8
     200: aload         5
     202: aload         8
     204: invokevirtual #11                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     207: goto          215
     210: aload         4
     212: invokevirtual #118                // Method java/io/OutputStream.close:()V
     215: aload         7
     217: athrow
     218: aload_2
     219: ifnull        294
     222: aload_3
     223: ifnull        244
     226: aload_2
     227: invokevirtual #119                // Method java/io/InputStream.close:()V
     230: goto          294
     233: astore        4
     235: aload_3
     236: aload         4
     238: invokevirtual #11                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     241: goto          294
     244: aload_2
     245: invokevirtual #119                // Method java/io/InputStream.close:()V
     248: goto          294
     251: astore        4
     253: aload         4
     255: astore_3
     256: aload         4
     258: athrow
     259: astore        9
     261: aload_2
     262: ifnull        291
     265: aload_3
     266: ifnull        287
     269: aload_2
     270: invokevirtual #119                // Method java/io/InputStream.close:()V
     273: goto          291
     276: astore        10
     278: aload_3
     279: aload         10
     281: invokevirtual #11                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     284: goto          291
     287: aload_2
     288: invokevirtual #119                // Method java/io/InputStream.close:()V
     291: aload         9
     293: athrow
     294: goto          326
     297: astore_2
     298: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
     301: new           #14                 // class java/lang/StringBuilder
     304: dup
     305: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     308: ldc           #121                // String Got exception:
     310: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     313: aload_2
     314: invokevirtual #122                // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     317: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     320: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     323: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     326: return
    Exception table:
       from    to  target type
         141   146   149   Class java/lang/Throwable
          88   131   169   Class java/lang/Throwable
          88   131   178   any
         190   195   198   Class java/lang/Throwable
         169   180   178   any
         226   230   233   Class java/lang/Throwable
          68   218   251   Class java/lang/Throwable
          68   218   259   any
         269   273   276   Class java/lang/Throwable
         251   261   259   any
          47   294   297   Class java/lang/Exception

  public boolean isDumpMode();
    Code:
       0: aload_0
       1: getfield      #38                 // Field zxid:J
       4: lconst_0
       5: lcmp
       6: ifge          13
       9: iconst_1
      10: goto          14
      13: iconst_0
      14: ireturn

  private boolean askForFix(java.util.Scanner) throws org.apache.zookeeper.server.persistence.TxnLogToolkit$TxnLogToolkitException;
    Code:
       0: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #123                // String Would you like to fix it (Yes/No/Abort) ?
       5: invokevirtual #124                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
       8: aload_1
       9: invokevirtual #125                // Method java/util/Scanner.next:()Ljava/lang/String;
      12: iconst_0
      13: invokevirtual #126                // Method java/lang/String.charAt:(I)C
      16: invokestatic  #127                // Method java/lang/Character.toUpperCase:(C)C
      19: istore_2
      20: iload_2
      21: lookupswitch  { // 3
                    65: 60
                    78: 58
                    89: 56
               default: 80
          }
      56: iconst_1
      57: ireturn
      58: iconst_0
      59: ireturn
      60: new           #24                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException
      63: dup
      64: getstatic     #128                // Field org/apache/zookeeper/server/ExitCode.EXECUTION_FINISHED:Lorg/apache/zookeeper/server/ExitCode;
      67: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
      70: ldc           #129                // String Recovery aborted.
      72: iconst_0
      73: anewarray     #50                 // class java/lang/Object
      76: invokespecial #51                 // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitException."<init>":(ILjava/lang/String;[Ljava/lang/Object;)V
      79: athrow
      80: goto          0

  private void printTxn(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #130                // String
       4: invokespecial #94                 // Method printTxn:([BLjava/lang/String;)V
       7: return

  private void printTxn(byte[], java.lang.String) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokestatic  #131                // Method org/apache/zookeeper/server/util/SerializeUtils.deserializeTxn:([B)Lorg/apache/zookeeper/server/TxnLogEntry;
       4: astore_3
       5: aload_3
       6: invokevirtual #132                // Method org/apache/zookeeper/server/TxnLogEntry.getHeader:()Lorg/apache/zookeeper/txn/TxnHeader;
       9: astore        4
      11: aload_3
      12: invokevirtual #133                // Method org/apache/zookeeper/server/TxnLogEntry.getTxn:()Lorg/apache/jute/Record;
      15: astore        5
      17: aload         5
      19: invokestatic  #134                // Method getFormattedTxnStr:(Lorg/apache/jute/Record;)Ljava/lang/String;
      22: astore        6
      24: ldc           #135                // String %s session 0x%s cxid 0x%s zxid 0x%s %s %s
      26: bipush        6
      28: anewarray     #50                 // class java/lang/Object
      31: dup
      32: iconst_0
      33: iconst_3
      34: iconst_1
      35: invokestatic  #137                // Method java/text/DateFormat.getDateTimeInstance:(II)Ljava/text/DateFormat;
      38: new           #138                // class java/util/Date
      41: dup
      42: aload         4
      44: invokevirtual #139                // Method org/apache/zookeeper/txn/TxnHeader.getTime:()J
      47: invokespecial #140                // Method java/util/Date."<init>":(J)V
      50: invokevirtual #141                // Method java/text/DateFormat.format:(Ljava/util/Date;)Ljava/lang/String;
      53: aastore
      54: dup
      55: iconst_1
      56: aload         4
      58: invokevirtual #142                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
      61: invokestatic  #143                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      64: aastore
      65: dup
      66: iconst_2
      67: aload         4
      69: invokevirtual #144                // Method org/apache/zookeeper/txn/TxnHeader.getCxid:()I
      72: i2l
      73: invokestatic  #143                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      76: aastore
      77: dup
      78: iconst_3
      79: aload         4
      81: invokevirtual #145                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
      84: invokestatic  #143                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      87: aastore
      88: dup
      89: iconst_4
      90: aload         4
      92: invokevirtual #146                // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
      95: invokestatic  #147                // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
      98: aastore
      99: dup
     100: iconst_5
     101: aload         6
     103: aastore
     104: invokestatic  #148                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     107: astore        7
     109: aload_2
     110: ifnull        150
     113: ldc           #130                // String
     115: aload_2
     116: invokevirtual #149                // Method java/lang/String.trim:()Ljava/lang/String;
     119: invokevirtual #150                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     122: ifne          150
     125: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
     128: new           #14                 // class java/lang/StringBuilder
     131: dup
     132: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     135: aload_2
     136: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     139: ldc           #151                // String  -
     141: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     147: invokevirtual #124                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
     150: aload         7
     152: ldc           #18                 // String \n
     154: invokevirtual #152                // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
     157: ifeq          171
     160: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
     163: aload         7
     165: invokevirtual #124                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
     168: goto          179
     171: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
     174: aload         7
     176: invokevirtual #20                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     179: return

  private static java.lang.String getFormattedTxnStr(org.apache.jute.Record) throws java.io.IOException;
    Code:
       0: new           #14                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_0
       9: ifnonnull     17
      12: aload_1
      13: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      16: areturn
      17: aload_0
      18: instanceof    #153                // class org/apache/zookeeper/txn/CreateTxn
      21: ifeq          131
      24: aload_0
      25: checkcast     #153                // class org/apache/zookeeper/txn/CreateTxn
      28: astore_2
      29: aload_1
      30: new           #14                 // class java/lang/StringBuilder
      33: dup
      34: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      37: aload_2
      38: invokevirtual #154                // Method org/apache/zookeeper/txn/CreateTxn.getPath:()Ljava/lang/String;
      41: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: ldc           #155                // String ,
      46: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: aload_2
      50: invokevirtual #156                // Method org/apache/zookeeper/txn/CreateTxn.getData:()[B
      53: invokestatic  #157                // Method checkNullToEmpty:([B)Ljava/lang/String;
      56: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      62: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: new           #14                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #155                // String ,
      74: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload_2
      78: invokevirtual #158                // Method org/apache/zookeeper/txn/CreateTxn.getAcl:()Ljava/util/List;
      81: invokevirtual #159                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      84: ldc           #155                // String ,
      86: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: aload_2
      90: invokevirtual #160                // Method org/apache/zookeeper/txn/CreateTxn.getEphemeral:()Z
      93: invokevirtual #161                // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      96: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      99: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     102: new           #14                 // class java/lang/StringBuilder
     105: dup
     106: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     109: ldc           #155                // String ,
     111: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     114: aload_2
     115: invokevirtual #162                // Method org/apache/zookeeper/txn/CreateTxn.getParentCVersion:()I
     118: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     121: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     124: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     127: pop
     128: goto          570
     131: aload_0
     132: instanceof    #163                // class org/apache/zookeeper/txn/SetDataTxn
     135: ifeq          208
     138: aload_0
     139: checkcast     #163                // class org/apache/zookeeper/txn/SetDataTxn
     142: astore_2
     143: aload_1
     144: new           #14                 // class java/lang/StringBuilder
     147: dup
     148: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     151: aload_2
     152: invokevirtual #164                // Method org/apache/zookeeper/txn/SetDataTxn.getPath:()Ljava/lang/String;
     155: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     158: ldc           #155                // String ,
     160: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     163: aload_2
     164: invokevirtual #165                // Method org/apache/zookeeper/txn/SetDataTxn.getData:()[B
     167: invokestatic  #157                // Method checkNullToEmpty:([B)Ljava/lang/String;
     170: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     176: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     179: new           #14                 // class java/lang/StringBuilder
     182: dup
     183: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     186: ldc           #155                // String ,
     188: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     191: aload_2
     192: invokevirtual #166                // Method org/apache/zookeeper/txn/SetDataTxn.getVersion:()I
     195: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     198: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     201: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     204: pop
     205: goto          570
     208: aload_0
     209: instanceof    #167                // class org/apache/zookeeper/txn/CreateContainerTxn
     212: ifeq          297
     215: aload_0
     216: checkcast     #167                // class org/apache/zookeeper/txn/CreateContainerTxn
     219: astore_2
     220: aload_1
     221: new           #14                 // class java/lang/StringBuilder
     224: dup
     225: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     228: aload_2
     229: invokevirtual #168                // Method org/apache/zookeeper/txn/CreateContainerTxn.getPath:()Ljava/lang/String;
     232: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     235: ldc           #155                // String ,
     237: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     240: aload_2
     241: invokevirtual #169                // Method org/apache/zookeeper/txn/CreateContainerTxn.getData:()[B
     244: invokestatic  #157                // Method checkNullToEmpty:([B)Ljava/lang/String;
     247: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     250: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     253: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     256: new           #14                 // class java/lang/StringBuilder
     259: dup
     260: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     263: ldc           #155                // String ,
     265: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     268: aload_2
     269: invokevirtual #170                // Method org/apache/zookeeper/txn/CreateContainerTxn.getAcl:()Ljava/util/List;
     272: invokevirtual #159                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     275: ldc           #155                // String ,
     277: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     280: aload_2
     281: invokevirtual #171                // Method org/apache/zookeeper/txn/CreateContainerTxn.getParentCVersion:()I
     284: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     287: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     290: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     293: pop
     294: goto          570
     297: aload_0
     298: instanceof    #172                // class org/apache/zookeeper/txn/CreateTTLTxn
     301: ifeq          411
     304: aload_0
     305: checkcast     #172                // class org/apache/zookeeper/txn/CreateTTLTxn
     308: astore_2
     309: aload_1
     310: new           #14                 // class java/lang/StringBuilder
     313: dup
     314: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     317: aload_2
     318: invokevirtual #173                // Method org/apache/zookeeper/txn/CreateTTLTxn.getPath:()Ljava/lang/String;
     321: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     324: ldc           #155                // String ,
     326: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     329: aload_2
     330: invokevirtual #174                // Method org/apache/zookeeper/txn/CreateTTLTxn.getData:()[B
     333: invokestatic  #157                // Method checkNullToEmpty:([B)Ljava/lang/String;
     336: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     339: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     342: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     345: new           #14                 // class java/lang/StringBuilder
     348: dup
     349: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     352: ldc           #155                // String ,
     354: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     357: aload_2
     358: invokevirtual #175                // Method org/apache/zookeeper/txn/CreateTTLTxn.getAcl:()Ljava/util/List;
     361: invokevirtual #159                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     364: ldc           #155                // String ,
     366: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     369: aload_2
     370: invokevirtual #176                // Method org/apache/zookeeper/txn/CreateTTLTxn.getParentCVersion:()I
     373: invokevirtual #74                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     376: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     379: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     382: new           #14                 // class java/lang/StringBuilder
     385: dup
     386: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     389: ldc           #155                // String ,
     391: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     394: aload_2
     395: invokevirtual #177                // Method org/apache/zookeeper/txn/CreateTTLTxn.getTtl:()J
     398: invokevirtual #71                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     401: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     404: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     407: pop
     408: goto          570
     411: aload_0
     412: instanceof    #178                // class org/apache/zookeeper/txn/MultiTxn
     415: ifeq          561
     418: aload_0
     419: checkcast     #178                // class org/apache/zookeeper/txn/MultiTxn
     422: astore_2
     423: aload_2
     424: invokevirtual #179                // Method org/apache/zookeeper/txn/MultiTxn.getTxns:()Ljava/util/List;
     427: astore_3
     428: iconst_0
     429: istore        4
     431: iload         4
     433: aload_3
     434: invokeinterface #180,  1          // InterfaceMethod java/util/List.size:()I
     439: if_icmpge     558
     442: aload_3
     443: iload         4
     445: invokeinterface #181,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     450: checkcast     #182                // class org/apache/zookeeper/txn/Txn
     453: astore        5
     455: iload         4
     457: ifne          505
     460: aload_1
     461: new           #14                 // class java/lang/StringBuilder
     464: dup
     465: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     468: aload         5
     470: invokevirtual #183                // Method org/apache/zookeeper/txn/Txn.getType:()I
     473: invokestatic  #147                // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     476: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     479: ldc           #184                // String :
     481: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     484: aload         5
     486: invokevirtual #185                // Method org/apache/zookeeper/txn/Txn.getData:()[B
     489: invokestatic  #157                // Method checkNullToEmpty:([B)Ljava/lang/String;
     492: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     495: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     498: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     501: pop
     502: goto          552
     505: aload_1
     506: new           #14                 // class java/lang/StringBuilder
     509: dup
     510: invokespecial #15                 // Method java/lang/StringBuilder."<init>":()V
     513: ldc           #186                // String ;
     515: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     518: aload         5
     520: invokevirtual #183                // Method org/apache/zookeeper/txn/Txn.getType:()I
     523: invokestatic  #147                // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     526: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     529: ldc           #184                // String :
     531: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     534: aload         5
     536: invokevirtual #185                // Method org/apache/zookeeper/txn/Txn.getData:()[B
     539: invokestatic  #157                // Method checkNullToEmpty:([B)Ljava/lang/String;
     542: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     545: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     548: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     551: pop
     552: iinc          4, 1
     555: goto          431
     558: goto          570
     561: aload_1
     562: aload_0
     563: invokevirtual #187                // Method java/lang/Object.toString:()Ljava/lang/String;
     566: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     569: pop
     570: aload_1
     571: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     574: areturn

  private static java.lang.String checkNullToEmpty(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: ifnull        9
       4: aload_0
       5: arraylength
       6: ifne          12
       9: ldc           #130                // String
      11: areturn
      12: new           #188                // class java/lang/String
      15: dup
      16: aload_0
      17: getstatic     #189                // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      20: invokespecial #190                // Method java/lang/String."<init>":([BLjava/nio/charset/Charset;)V
      23: areturn

  private void openTxnLogFile() throws java.io.FileNotFoundException;
    Code:
       0: aload_0
       1: new           #109                // class java/io/FileInputStream
       4: dup
       5: aload_0
       6: getfield      #40                 // Field txnLogFile:Ljava/io/File;
       9: invokespecial #110                // Method java/io/FileInputStream."<init>":(Ljava/io/File;)V
      12: putfield      #191                // Field txnFis:Ljava/io/FileInputStream;
      15: aload_0
      16: aload_0
      17: getfield      #191                // Field txnFis:Ljava/io/FileInputStream;
      20: invokestatic  #192                // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      23: putfield      #60                 // Field logStream:Lorg/apache/jute/BinaryInputArchive;
      26: return

  private void closeTxnLogFile() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #191                // Field txnFis:Ljava/io/FileInputStream;
       4: ifnull        14
       7: aload_0
       8: getfield      #191                // Field txnFis:Ljava/io/FileInputStream;
      11: invokevirtual #193                // Method java/io/FileInputStream.close:()V
      14: return

  private void openRecoveryFile() throws java.io.FileNotFoundException;
    Code:
       0: aload_0
       1: new           #113                // class java/io/FileOutputStream
       4: dup
       5: aload_0
       6: getfield      #45                 // Field recoveryLogFile:Ljava/io/File;
       9: invokespecial #114                // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      12: putfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
      15: aload_0
      16: aload_0
      17: getfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
      20: invokestatic  #194                // Method org/apache/jute/BinaryOutputArchive.getArchive:(Ljava/io/OutputStream;)Lorg/apache/jute/BinaryOutputArchive;
      23: putfield      #75                 // Field recoveryOa:Lorg/apache/jute/BinaryOutputArchive;
      26: return

  private void closeRecoveryFile() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
       4: ifnull        14
       7: aload_0
       8: getfield      #77                 // Field recoveryFos:Ljava/io/FileOutputStream;
      11: invokevirtual #195                // Method java/io/FileOutputStream.close:()V
      14: return

  private static org.apache.zookeeper.server.persistence.TxnLogToolkit parseCommandLine(java.lang.String[]) throws org.apache.zookeeper.server.persistence.TxnLogToolkit$TxnLogToolkitException, java.io.FileNotFoundException;
    Code:
       0: new           #196                // class org/apache/commons/cli/PosixParser
       3: dup
       4: invokespecial #197                // Method org/apache/commons/cli/PosixParser."<init>":()V
       7: astore_1
       8: new           #198                // class org/apache/commons/cli/Options
      11: dup
      12: invokespecial #199                // Method org/apache/commons/cli/Options."<init>":()V
      15: astore_2
      16: new           #200                // class org/apache/commons/cli/Option
      19: dup
      20: ldc           #201                // String h
      22: ldc           #202                // String help
      24: iconst_0
      25: ldc           #203                // String Print help message
      27: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
      30: astore_3
      31: aload_2
      32: aload_3
      33: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
      36: pop
      37: new           #200                // class org/apache/commons/cli/Option
      40: dup
      41: ldc           #206                // String r
      43: ldc           #207                // String recover
      45: iconst_0
      46: ldc           #208                // String Recovery mode. Re-calculate CRC for broken entries.
      48: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
      51: astore        4
      53: aload_2
      54: aload         4
      56: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
      59: pop
      60: new           #200                // class org/apache/commons/cli/Option
      63: dup
      64: ldc           #209                // String v
      66: ldc           #210                // String verbose
      68: iconst_0
      69: ldc           #211                // String Be verbose in recovery mode: print all entries, not just fixed ones.
      71: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
      74: astore        5
      76: aload_2
      77: aload         5
      79: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
      82: pop
      83: new           #200                // class org/apache/commons/cli/Option
      86: dup
      87: ldc           #212                // String d
      89: ldc           #213                // String dump
      91: iconst_0
      92: ldc           #214                // String Dump mode. Dump all entries of the log file with printing the content of a nodepath (default)
      94: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
      97: astore        6
      99: aload_2
     100: aload         6
     102: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
     105: pop
     106: new           #200                // class org/apache/commons/cli/Option
     109: dup
     110: ldc           #215                // String y
     112: ldc           #216                // String yes
     114: iconst_0
     115: ldc           #217                // String Non-interactive mode: repair all CRC errors without asking
     117: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
     120: astore        7
     122: aload_2
     123: aload         7
     125: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
     128: pop
     129: new           #200                // class org/apache/commons/cli/Option
     132: dup
     133: ldc           #218                // String c
     135: ldc           #219                // String chop
     137: iconst_0
     138: ldc           #220                // String Chop mode. Chop txn file to a zxid.
     140: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
     143: astore        8
     145: new           #200                // class org/apache/commons/cli/Option
     148: dup
     149: ldc           #221                // String z
     151: ldc           #222                // String zxid
     153: iconst_1
     154: ldc           #223                // String Used with chop. Zxid to which to chop.
     156: invokespecial #204                // Method org/apache/commons/cli/Option."<init>":(Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;)V
     159: astore        9
     161: aload_2
     162: aload         8
     164: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
     167: pop
     168: aload_2
     169: aload         9
     171: invokevirtual #205                // Method org/apache/commons/cli/Options.addOption:(Lorg/apache/commons/cli/Option;)Lorg/apache/commons/cli/Options;
     174: pop
     175: aload_1
     176: aload_2
     177: aload_0
     178: invokeinterface #224,  3          // InterfaceMethod org/apache/commons/cli/CommandLineParser.parse:(Lorg/apache/commons/cli/Options;[Ljava/lang/String;)Lorg/apache/commons/cli/CommandLine;
     183: astore        10
     185: aload         10
     187: ldc           #202                // String help
     189: invokevirtual #225                // Method org/apache/commons/cli/CommandLine.hasOption:(Ljava/lang/String;)Z
     192: ifeq          200
     195: iconst_0
     196: aload_2
     197: invokestatic  #23                 // Method printHelpAndExit:(ILorg/apache/commons/cli/Options;)V
     200: aload         10
     202: invokevirtual #226                // Method org/apache/commons/cli/CommandLine.getArgs:()[Ljava/lang/String;
     205: arraylength
     206: iconst_1
     207: if_icmpge     215
     210: iconst_1
     211: aload_2
     212: invokestatic  #23                 // Method printHelpAndExit:(ILorg/apache/commons/cli/Options;)V
     215: aload         10
     217: ldc           #219                // String chop
     219: invokevirtual #225                // Method org/apache/commons/cli/CommandLine.hasOption:(Ljava/lang/String;)Z
     222: ifeq          257
     225: aload         10
     227: ldc           #222                // String zxid
     229: invokevirtual #225                // Method org/apache/commons/cli/CommandLine.hasOption:(Ljava/lang/String;)Z
     232: ifeq          257
     235: new           #227                // class org/apache/zookeeper/server/persistence/TxnLogToolkit
     238: dup
     239: aload         10
     241: invokevirtual #226                // Method org/apache/commons/cli/CommandLine.getArgs:()[Ljava/lang/String;
     244: iconst_0
     245: aaload
     246: aload         10
     248: ldc           #222                // String zxid
     250: invokevirtual #228                // Method org/apache/commons/cli/CommandLine.getOptionValue:(Ljava/lang/String;)Ljava/lang/String;
     253: invokespecial #229                // Method "<init>":(Ljava/lang/String;Ljava/lang/String;)V
     256: areturn
     257: new           #227                // class org/apache/zookeeper/server/persistence/TxnLogToolkit
     260: dup
     261: aload         10
     263: ldc           #207                // String recover
     265: invokevirtual #225                // Method org/apache/commons/cli/CommandLine.hasOption:(Ljava/lang/String;)Z
     268: aload         10
     270: ldc           #210                // String verbose
     272: invokevirtual #225                // Method org/apache/commons/cli/CommandLine.hasOption:(Ljava/lang/String;)Z
     275: aload         10
     277: invokevirtual #226                // Method org/apache/commons/cli/CommandLine.getArgs:()[Ljava/lang/String;
     280: iconst_0
     281: aaload
     282: aload         10
     284: ldc           #216                // String yes
     286: invokevirtual #225                // Method org/apache/commons/cli/CommandLine.hasOption:(Ljava/lang/String;)Z
     289: invokespecial #230                // Method "<init>":(ZZLjava/lang/String;Z)V
     292: areturn
     293: astore        10
     295: new           #12                 // class org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitParseException
     298: dup
     299: aload_2
     300: getstatic     #47                 // Field org/apache/zookeeper/server/ExitCode.UNEXPECTED_ERROR:Lorg/apache/zookeeper/server/ExitCode;
     303: invokevirtual #48                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     306: aload         10
     308: invokevirtual #232                // Method org/apache/commons/cli/ParseException.getMessage:()Ljava/lang/String;
     311: iconst_0
     312: anewarray     #50                 // class java/lang/Object
     315: invokespecial #233                // Method org/apache/zookeeper/server/persistence/TxnLogToolkit$TxnLogToolkitParseException."<init>":(Lorg/apache/commons/cli/Options;ILjava/lang/String;[Ljava/lang/Object;)V
     318: athrow
    Exception table:
       from    to  target type
         175   256   293   Class org/apache/commons/cli/ParseException
         257   292   293   Class org/apache/commons/cli/ParseException

  private static void printHelpAndExit(int, org.apache.commons.cli.Options);
    Code:
       0: new           #234                // class org/apache/commons/cli/HelpFormatter
       3: dup
       4: invokespecial #235                // Method org/apache/commons/cli/HelpFormatter."<init>":()V
       7: astore_2
       8: aload_2
       9: bipush        120
      11: ldc           #236                // String TxnLogToolkit [-dhrvc] <txn_log_file_name> (-z <zxid>)
      13: ldc           #130                // String
      15: aload_1
      16: ldc           #130                // String
      18: invokevirtual #237                // Method org/apache/commons/cli/HelpFormatter.printHelp:(ILjava/lang/String;Ljava/lang/String;Lorg/apache/commons/cli/Options;Ljava/lang/String;)V
      21: iload_0
      22: invokestatic  #27                 // Method org/apache/zookeeper/util/ServiceUtils.requestSystemExit:(I)V
      25: return

  private void printStat();
    Code:
       0: aload_0
       1: getfield      #29                 // Field recoveryMode:Z
       4: ifeq          37
       7: getstatic     #68                 // Field java/lang/System.out:Ljava/io/PrintStream;
      10: ldc           #238                // String Recovery file %s has been written with %d fixed CRC error(s)%n
      12: iconst_2
      13: anewarray     #50                 // class java/lang/Object
      16: dup
      17: iconst_0
      18: aload_0
      19: getfield      #45                 // Field recoveryLogFile:Ljava/io/File;
      22: aastore
      23: dup
      24: iconst_1
      25: aload_0
      26: getfield      #31                 // Field crcFixed:I
      29: invokestatic  #239                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      32: aastore
      33: invokevirtual #240                // Method java/io/PrintStream.printf:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/io/PrintStream;
      36: pop
      37: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #29                 // Field recoveryMode:Z
       4: ifeq          11
       7: aload_0
       8: invokespecial #241                // Method closeRecoveryFile:()V
      11: aload_0
      12: invokespecial #242                // Method closeTxnLogFile:()V
      15: return
}
