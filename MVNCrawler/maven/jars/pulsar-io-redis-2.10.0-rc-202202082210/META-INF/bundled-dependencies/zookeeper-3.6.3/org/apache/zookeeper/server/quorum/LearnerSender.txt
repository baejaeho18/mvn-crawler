Compiled from "LearnerSender.java"
public class org.apache.zookeeper.server.quorum.LearnerSender extends org.apache.zookeeper.server.ZooKeeperCriticalThread {
  private static final org.slf4j.Logger LOG;

  private final java.util.concurrent.LinkedBlockingQueue<org.apache.zookeeper.server.quorum.QuorumPacket> queuedPackets;

  private final org.apache.zookeeper.server.quorum.QuorumPacket proposalOfDeath;

  org.apache.zookeeper.server.quorum.Learner learner;

  public org.apache.zookeeper.server.quorum.LearnerSender(org.apache.zookeeper.server.quorum.Learner);
    Code:
       0: aload_0
       1: new           #1                  // class java/lang/StringBuilder
       4: dup
       5: invokespecial #2                  // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #3                  // String LearnerSender:
      10: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: getfield      #5                  // Field org/apache/zookeeper/server/quorum/Learner.zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      17: invokevirtual #6                  // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.getServerId:()J
      20: invokevirtual #7                  // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      23: invokevirtual #8                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      26: aload_1
      27: getfield      #5                  // Field org/apache/zookeeper/server/quorum/Learner.zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      30: invokevirtual #9                  // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.getZooKeeperServerListener:()Lorg/apache/zookeeper/server/ZooKeeperServerListener;
      33: invokespecial #10                 // Method org/apache/zookeeper/server/ZooKeeperCriticalThread."<init>":(Ljava/lang/String;Lorg/apache/zookeeper/server/ZooKeeperServerListener;)V
      36: aload_0
      37: new           #11                 // class java/util/concurrent/LinkedBlockingQueue
      40: dup
      41: invokespecial #12                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":()V
      44: putfield      #13                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      47: aload_0
      48: new           #14                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      51: dup
      52: invokespecial #15                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
      55: putfield      #16                 // Field proposalOfDeath:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
      58: aload_0
      59: aload_1
      60: putfield      #17                 // Field learner:Lorg/apache/zookeeper/server/quorum/Learner;
      63: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #13                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
       4: invokevirtual #18                 // Method java/util/concurrent/LinkedBlockingQueue.poll:()Ljava/lang/Object;
       7: checkcast     #14                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      10: astore_1
      11: aload_1
      12: ifnonnull     36
      15: aload_0
      16: getfield      #17                 // Field learner:Lorg/apache/zookeeper/server/quorum/Learner;
      19: getfield      #19                 // Field org/apache/zookeeper/server/quorum/Learner.bufferedOutput:Ljava/io/BufferedOutputStream;
      22: invokevirtual #20                 // Method java/io/BufferedOutputStream.flush:()V
      25: aload_0
      26: getfield      #13                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      29: invokevirtual #21                 // Method java/util/concurrent/LinkedBlockingQueue.take:()Ljava/lang/Object;
      32: checkcast     #14                 // class org/apache/zookeeper/server/quorum/QuorumPacket
      35: astore_1
      36: aload_1
      37: aload_0
      38: getfield      #16                 // Field proposalOfDeath:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
      41: if_acmpne     47
      44: goto          105
      47: aload_0
      48: getfield      #17                 // Field learner:Lorg/apache/zookeeper/server/quorum/Learner;
      51: getfield      #22                 // Field org/apache/zookeeper/server/quorum/Learner.messageTracker:Lorg/apache/zookeeper/server/util/MessageTracker;
      54: aload_1
      55: invokevirtual #23                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
      58: invokevirtual #24                 // Method org/apache/zookeeper/server/util/MessageTracker.trackSent:(I)V
      61: aload_0
      62: getfield      #17                 // Field learner:Lorg/apache/zookeeper/server/quorum/Learner;
      65: getfield      #25                 // Field org/apache/zookeeper/server/quorum/Learner.leaderOs:Lorg/apache/jute/OutputArchive;
      68: aload_1
      69: ldc           #26                 // String packet
      71: invokeinterface #27,  3           // InterfaceMethod org/apache/jute/OutputArchive.writeRecord:(Lorg/apache/jute/Record;Ljava/lang/String;)V
      76: goto          0
      79: astore_1
      80: aload_0
      81: aload_0
      82: invokevirtual #29                 // Method getName:()Ljava/lang/String;
      85: aload_1
      86: invokevirtual #30                 // Method handleException:(Ljava/lang/String;Ljava/lang/Throwable;)V
      89: goto          105
      92: astore_1
      93: aload_0
      94: aload_0
      95: invokevirtual #29                 // Method getName:()Ljava/lang/String;
      98: aload_1
      99: invokevirtual #30                 // Method handleException:(Ljava/lang/String;Ljava/lang/Throwable;)V
     102: goto          105
     105: getstatic     #32                 // Field LOG:Lorg/slf4j/Logger;
     108: ldc           #33                 // String LearnerSender exited
     110: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     115: return
    Exception table:
       from    to  target type
           0    44    79   Class java/io/IOException
          47    76    79   Class java/io/IOException
           0    44    92   Class java/lang/InterruptedException
          47    76    92   Class java/lang/InterruptedException

  public void queuePacket(org.apache.zookeeper.server.quorum.QuorumPacket) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnonnull     17
       4: aload_0
       5: getfield      #17                 // Field learner:Lorg/apache/zookeeper/server/quorum/Learner;
       8: getfield      #19                 // Field org/apache/zookeeper/server/quorum/Learner.bufferedOutput:Ljava/io/BufferedOutputStream;
      11: invokevirtual #20                 // Method java/io/BufferedOutputStream.flush:()V
      14: goto          26
      17: aload_0
      18: getfield      #13                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      21: aload_1
      22: invokevirtual #35                 // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
      25: pop
      26: return

  public void shutdown();
    Code:
       0: getstatic     #32                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #36                 // String Shutting down LearnerSender
       5: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: getfield      #13                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      14: invokevirtual #37                 // Method java/util/concurrent/LinkedBlockingQueue.clear:()V
      17: aload_0
      18: getfield      #13                 // Field queuedPackets:Ljava/util/concurrent/LinkedBlockingQueue;
      21: aload_0
      22: getfield      #16                 // Field proposalOfDeath:Lorg/apache/zookeeper/server/quorum/QuorumPacket;
      25: invokevirtual #35                 // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
      28: pop
      29: return

  static {};
    Code:
       0: ldc           #38                 // class org/apache/zookeeper/server/quorum/LearnerSender
       2: invokestatic  #39                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #32                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
