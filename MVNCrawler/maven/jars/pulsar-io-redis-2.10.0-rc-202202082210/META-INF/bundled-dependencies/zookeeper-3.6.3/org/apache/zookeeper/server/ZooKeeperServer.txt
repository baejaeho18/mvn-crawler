Compiled from "ZooKeeperServer.java"
public class org.apache.zookeeper.server.ZooKeeperServer implements org.apache.zookeeper.server.SessionTracker$SessionExpirer,org.apache.zookeeper.server.ServerStats$Provider {
  protected static final org.slf4j.Logger LOG;

  public static final java.lang.String GLOBAL_OUTSTANDING_LIMIT;

  public static final java.lang.String ENABLE_EAGER_ACL_CHECK;

  public static final java.lang.String SKIP_ACL;

  static final boolean enableEagerACLCheck;

  static final boolean skipACL;

  public static final java.lang.String ALLOW_SASL_FAILED_CLIENTS;

  public static final java.lang.String SESSION_REQUIRE_CLIENT_SASL_AUTH;

  public static final java.lang.String SASL_AUTH_SCHEME;

  public static final java.lang.String ZOOKEEPER_DIGEST_ENABLED;

  private static boolean digestEnabled;

  public static final java.lang.String CLOSE_SESSION_TXN_ENABLED;

  private static boolean closeSessionTxnEnabled;

  protected org.apache.zookeeper.server.ZooKeeperServerBean jmxServerBean;

  protected org.apache.zookeeper.server.DataTreeBean jmxDataTreeBean;

  public static final int DEFAULT_TICK_TIME;

  protected int tickTime;

  protected int minSessionTimeout;

  protected int maxSessionTimeout;

  protected int listenBacklog;

  protected org.apache.zookeeper.server.SessionTracker sessionTracker;

  private org.apache.zookeeper.server.persistence.FileTxnSnapLog txnLogFactory;

  private org.apache.zookeeper.server.ZKDatabase zkDb;

  private org.apache.zookeeper.server.ResponseCache readResponseCache;

  private org.apache.zookeeper.server.ResponseCache getChildrenResponseCache;

  private final java.util.concurrent.atomic.AtomicLong hzxid;

  public static final java.lang.Exception ok;

  protected org.apache.zookeeper.server.RequestProcessor firstProcessor;

  protected org.apache.zookeeper.server.util.JvmPauseMonitor jvmPauseMonitor;

  protected volatile org.apache.zookeeper.server.ZooKeeperServer$State state;

  private boolean isResponseCachingEnabled;

  protected java.lang.String initialConfig;

  protected boolean reconfigEnabled;

  private final org.apache.zookeeper.server.util.RequestPathMetricsCollector requestPathMetricsCollector;

  private boolean localSessionEnabled;

  private static final long superSecret;

  private final java.util.concurrent.atomic.AtomicInteger requestsInProcess;

  final java.util.Deque<org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord> outstandingChanges;

  final java.util.Map<java.lang.String, org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord> outstandingChangesForPath;

  protected org.apache.zookeeper.server.ServerCnxnFactory serverCnxnFactory;

  protected org.apache.zookeeper.server.ServerCnxnFactory secureServerCnxnFactory;

  private final org.apache.zookeeper.server.ServerStats serverStats;

  private final org.apache.zookeeper.server.ZooKeeperServerListener listener;

  private org.apache.zookeeper.server.ZooKeeperServerShutdownHandler zkShutdownHandler;

  private volatile int createSessionTrackerServerId;

  private static final java.lang.String FLUSH_DELAY;

  private static volatile long flushDelay;

  private static final java.lang.String MAX_WRITE_QUEUE_POLL_SIZE;

  private static volatile long maxWriteQueuePollTime;

  private static final java.lang.String MAX_BATCH_SIZE;

  private static volatile int maxBatchSize;

  public static final java.lang.String INT_BUFFER_STARTING_SIZE_BYTES;

  public static final int DEFAULT_STARTING_BUFFER_SIZE;

  public static final int intBufferStartingSizeBytes;

  public static final java.lang.String GET_DATA_RESPONSE_CACHE_SIZE;

  public static final java.lang.String GET_CHILDREN_RESPONSE_CACHE_SIZE;

  private org.apache.zookeeper.server.BlueThrottle connThrottle;

  private org.apache.zookeeper.server.RequestThrottler requestThrottler;

  public static final java.lang.String SNAP_COUNT;

  private volatile int largeRequestMaxBytes;

  private volatile int largeRequestThreshold;

  private final java.util.concurrent.atomic.AtomicInteger currentLargeRequestBytes;

  public static boolean isCloseSessionTxnEnabled();
    Code:
       0: getstatic     #1                  // Field closeSessionTxnEnabled:Z
       3: ireturn

  public static void setCloseSessionTxnEnabled(boolean);
    Code:
       0: iload_0
       1: putstatic     #1                  // Field closeSessionTxnEnabled:Z
       4: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #3                  // String Update {} to {}
       9: ldc           #5                  // String zookeeper.closeSessionTxn.enabled
      11: getstatic     #1                  // Field closeSessionTxnEnabled:Z
      14: invokestatic  #6                  // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      17: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: return

  void removeCnxn(org.apache.zookeeper.server.ServerCnxn);
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: aload_1
       5: invokevirtual #9                  // Method org/apache/zookeeper/server/ZKDatabase.removeCnxn:(Lorg/apache/zookeeper/server/ServerCnxn;)V
       8: return

  public org.apache.zookeeper.server.ZooKeeperServer();
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: sipush        3000
       8: putfield      #11                 // Field tickTime:I
      11: aload_0
      12: iconst_m1
      13: putfield      #12                 // Field minSessionTimeout:I
      16: aload_0
      17: iconst_m1
      18: putfield      #13                 // Field maxSessionTimeout:I
      21: aload_0
      22: iconst_m1
      23: putfield      #14                 // Field listenBacklog:I
      26: aload_0
      27: aconst_null
      28: putfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      31: aload_0
      32: new           #16                 // class java/util/concurrent/atomic/AtomicLong
      35: dup
      36: lconst_0
      37: invokespecial #17                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      40: putfield      #18                 // Field hzxid:Ljava/util/concurrent/atomic/AtomicLong;
      43: aload_0
      44: getstatic     #19                 // Field org/apache/zookeeper/server/ZooKeeperServer$State.INITIAL:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      47: putfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      50: aload_0
      51: iconst_1
      52: putfield      #21                 // Field isResponseCachingEnabled:Z
      55: aload_0
      56: iconst_0
      57: putfield      #22                 // Field localSessionEnabled:Z
      60: aload_0
      61: new           #23                 // class java/util/concurrent/atomic/AtomicInteger
      64: dup
      65: iconst_0
      66: invokespecial #24                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      69: putfield      #25                 // Field requestsInProcess:Ljava/util/concurrent/atomic/AtomicInteger;
      72: aload_0
      73: new           #26                 // class java/util/ArrayDeque
      76: dup
      77: invokespecial #27                 // Method java/util/ArrayDeque."<init>":()V
      80: putfield      #28                 // Field outstandingChanges:Ljava/util/Deque;
      83: aload_0
      84: new           #29                 // class java/util/HashMap
      87: dup
      88: invokespecial #30                 // Method java/util/HashMap."<init>":()V
      91: putfield      #31                 // Field outstandingChangesForPath:Ljava/util/Map;
      94: aload_0
      95: iconst_1
      96: putfield      #32                 // Field createSessionTrackerServerId:I
      99: aload_0
     100: new           #33                 // class org/apache/zookeeper/server/BlueThrottle
     103: dup
     104: invokespecial #34                 // Method org/apache/zookeeper/server/BlueThrottle."<init>":()V
     107: putfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
     110: aload_0
     111: ldc           #36                 // int 104857600
     113: putfield      #37                 // Field largeRequestMaxBytes:I
     116: aload_0
     117: iconst_m1
     118: putfield      #38                 // Field largeRequestThreshold:I
     121: aload_0
     122: new           #23                 // class java/util/concurrent/atomic/AtomicInteger
     125: dup
     126: iconst_0
     127: invokespecial #24                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
     130: putfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
     133: aload_0
     134: new           #40                 // class org/apache/zookeeper/server/ZooKeeperServerListenerImpl
     137: dup
     138: aload_0
     139: invokespecial #41                 // Method org/apache/zookeeper/server/ZooKeeperServerListenerImpl."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
     142: putfield      #42                 // Field listener:Lorg/apache/zookeeper/server/ZooKeeperServerListener;
     145: aload_0
     146: new           #43                 // class org/apache/zookeeper/server/ServerStats
     149: dup
     150: aload_0
     151: invokespecial #44                 // Method org/apache/zookeeper/server/ServerStats."<init>":(Lorg/apache/zookeeper/server/ServerStats$Provider;)V
     154: putfield      #45                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
     157: aload_0
     158: new           #46                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector
     161: dup
     162: invokespecial #47                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector."<init>":()V
     165: putfield      #48                 // Field requestPathMetricsCollector:Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;
     168: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog, int, int, int, int, org.apache.zookeeper.server.ZKDatabase, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iload_3
       4: iload         4
       6: iload         5
       8: aload         6
      10: aload         7
      12: invokestatic  #49                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.isReconfigEnabled:()Z
      15: invokespecial #50                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;IIIILorg/apache/zookeeper/server/ZKDatabase;Ljava/lang/String;Z)V
      18: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog, int, int, int, int, org.apache.zookeeper.server.ZKDatabase, java.lang.String, boolean);
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: sipush        3000
       8: putfield      #11                 // Field tickTime:I
      11: aload_0
      12: iconst_m1
      13: putfield      #12                 // Field minSessionTimeout:I
      16: aload_0
      17: iconst_m1
      18: putfield      #13                 // Field maxSessionTimeout:I
      21: aload_0
      22: iconst_m1
      23: putfield      #14                 // Field listenBacklog:I
      26: aload_0
      27: aconst_null
      28: putfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      31: aload_0
      32: new           #16                 // class java/util/concurrent/atomic/AtomicLong
      35: dup
      36: lconst_0
      37: invokespecial #17                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      40: putfield      #18                 // Field hzxid:Ljava/util/concurrent/atomic/AtomicLong;
      43: aload_0
      44: getstatic     #19                 // Field org/apache/zookeeper/server/ZooKeeperServer$State.INITIAL:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      47: putfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      50: aload_0
      51: iconst_1
      52: putfield      #21                 // Field isResponseCachingEnabled:Z
      55: aload_0
      56: iconst_0
      57: putfield      #22                 // Field localSessionEnabled:Z
      60: aload_0
      61: new           #23                 // class java/util/concurrent/atomic/AtomicInteger
      64: dup
      65: iconst_0
      66: invokespecial #24                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      69: putfield      #25                 // Field requestsInProcess:Ljava/util/concurrent/atomic/AtomicInteger;
      72: aload_0
      73: new           #26                 // class java/util/ArrayDeque
      76: dup
      77: invokespecial #27                 // Method java/util/ArrayDeque."<init>":()V
      80: putfield      #28                 // Field outstandingChanges:Ljava/util/Deque;
      83: aload_0
      84: new           #29                 // class java/util/HashMap
      87: dup
      88: invokespecial #30                 // Method java/util/HashMap."<init>":()V
      91: putfield      #31                 // Field outstandingChangesForPath:Ljava/util/Map;
      94: aload_0
      95: iconst_1
      96: putfield      #32                 // Field createSessionTrackerServerId:I
      99: aload_0
     100: new           #33                 // class org/apache/zookeeper/server/BlueThrottle
     103: dup
     104: invokespecial #34                 // Method org/apache/zookeeper/server/BlueThrottle."<init>":()V
     107: putfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
     110: aload_0
     111: ldc           #36                 // int 104857600
     113: putfield      #37                 // Field largeRequestMaxBytes:I
     116: aload_0
     117: iconst_m1
     118: putfield      #38                 // Field largeRequestThreshold:I
     121: aload_0
     122: new           #23                 // class java/util/concurrent/atomic/AtomicInteger
     125: dup
     126: iconst_0
     127: invokespecial #24                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
     130: putfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
     133: aload_0
     134: new           #43                 // class org/apache/zookeeper/server/ServerStats
     137: dup
     138: aload_0
     139: invokespecial #44                 // Method org/apache/zookeeper/server/ServerStats."<init>":(Lorg/apache/zookeeper/server/ServerStats$Provider;)V
     142: putfield      #45                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
     145: aload_0
     146: aload_1
     147: putfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     150: aload_0
     151: getfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
     154: aload_0
     155: getfield      #45                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
     158: invokevirtual #51                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.setServerStats:(Lorg/apache/zookeeper/server/ServerStats;)V
     161: aload_0
     162: aload         6
     164: putfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     167: aload_0
     168: iload_2
     169: putfield      #11                 // Field tickTime:I
     172: aload_0
     173: iload_3
     174: invokevirtual #52                 // Method setMinSessionTimeout:(I)V
     177: aload_0
     178: iload         4
     180: invokevirtual #53                 // Method setMaxSessionTimeout:(I)V
     183: aload_0
     184: iload         5
     186: putfield      #14                 // Field listenBacklog:I
     189: aload_0
     190: iload         8
     192: putfield      #54                 // Field reconfigEnabled:Z
     195: aload_0
     196: new           #40                 // class org/apache/zookeeper/server/ZooKeeperServerListenerImpl
     199: dup
     200: aload_0
     201: invokespecial #41                 // Method org/apache/zookeeper/server/ZooKeeperServerListenerImpl."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
     204: putfield      #42                 // Field listener:Lorg/apache/zookeeper/server/ZooKeeperServerListener;
     207: aload_0
     208: new           #55                 // class org/apache/zookeeper/server/ResponseCache
     211: dup
     212: ldc           #56                 // String zookeeper.maxResponseCacheSize
     214: sipush        400
     217: invokestatic  #57                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
     220: invokevirtual #58                 // Method java/lang/Integer.intValue:()I
     223: invokespecial #59                 // Method org/apache/zookeeper/server/ResponseCache."<init>":(I)V
     226: putfield      #60                 // Field readResponseCache:Lorg/apache/zookeeper/server/ResponseCache;
     229: aload_0
     230: new           #55                 // class org/apache/zookeeper/server/ResponseCache
     233: dup
     234: ldc           #61                 // String zookeeper.maxGetChildrenResponseCacheSize
     236: sipush        400
     239: invokestatic  #57                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
     242: invokevirtual #58                 // Method java/lang/Integer.intValue:()I
     245: invokespecial #59                 // Method org/apache/zookeeper/server/ResponseCache."<init>":(I)V
     248: putfield      #62                 // Field getChildrenResponseCache:Lorg/apache/zookeeper/server/ResponseCache;
     251: aload_0
     252: aload         7
     254: putfield      #63                 // Field initialConfig:Ljava/lang/String;
     257: aload_0
     258: new           #46                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector
     261: dup
     262: invokespecial #47                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector."<init>":()V
     265: putfield      #48                 // Field requestPathMetricsCollector:Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;
     268: aload_0
     269: invokespecial #64                 // Method initLargeRequestThrottlingSettings:()V
     272: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     275: ldc           #65                 // String Created server with tickTime {} minSessionTimeout {} maxSessionTimeout {} clientPortListenBacklog {} datadir {} snapdir {}
     277: bipush        6
     279: anewarray     #66                 // class java/lang/Object
     282: dup
     283: iconst_0
     284: iload_2
     285: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     288: aastore
     289: dup
     290: iconst_1
     291: aload_0
     292: invokevirtual #68                 // Method getMinSessionTimeout:()I
     295: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     298: aastore
     299: dup
     300: iconst_2
     301: aload_0
     302: invokevirtual #69                 // Method getMaxSessionTimeout:()I
     305: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     308: aastore
     309: dup
     310: iconst_3
     311: aload_0
     312: invokevirtual #70                 // Method getClientPortListenBacklog:()I
     315: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     318: aastore
     319: dup
     320: iconst_4
     321: aload_1
     322: invokevirtual #71                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getDataDir:()Ljava/io/File;
     325: aastore
     326: dup
     327: iconst_5
     328: aload_1
     329: invokevirtual #72                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
     332: aastore
     333: invokeinterface #73,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     338: return

  public java.lang.String getInitialConfig();
    Code:
       0: aload_0
       1: getfield      #63                 // Field initialConfig:Ljava/lang/String;
       4: areturn

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.util.JvmPauseMonitor, org.apache.zookeeper.server.persistence.FileTxnSnapLog, int, int, int, int, org.apache.zookeeper.server.ZKDatabase, java.lang.String);
    Code:
       0: aload_0
       1: aload_2
       2: iload_3
       3: iload         4
       5: iload         5
       7: iload         6
       9: aload         7
      11: aload         8
      13: invokestatic  #49                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.isReconfigEnabled:()Z
      16: invokespecial #50                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;IIIILorg/apache/zookeeper/server/ZKDatabase;Ljava/lang/String;Z)V
      19: aload_0
      20: aload_1
      21: putfield      #74                 // Field jvmPauseMonitor:Lorg/apache/zookeeper/server/util/JvmPauseMonitor;
      24: aload_1
      25: ifnull        38
      28: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      31: ldc           #75                 // String Added JvmPauseMonitor to server
      33: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      38: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog, int, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: iconst_m1
       4: iconst_m1
       5: iconst_m1
       6: new           #77                 // class org/apache/zookeeper/server/ZKDatabase
       9: dup
      10: aload_1
      11: invokespecial #78                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      14: aload_3
      15: invokestatic  #49                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.isReconfigEnabled:()Z
      18: invokespecial #50                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;IIIILorg/apache/zookeeper/server/ZKDatabase;Ljava/lang/String;Z)V
      21: return

  public org.apache.zookeeper.server.ServerStats serverStats();
    Code:
       0: aload_0
       1: getfield      #45                 // Field serverStats:Lorg/apache/zookeeper/server/ServerStats;
       4: areturn

  public org.apache.zookeeper.server.util.RequestPathMetricsCollector getRequestPathMetricsCollector();
    Code:
       0: aload_0
       1: getfield      #48                 // Field requestPathMetricsCollector:Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;
       4: areturn

  public org.apache.zookeeper.server.BlueThrottle connThrottle();
    Code:
       0: aload_0
       1: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
       4: areturn

  public void dumpConf(java.io.PrintWriter);
    Code:
       0: aload_1
       1: ldc           #79                 // String clientPort=
       3: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
       6: aload_1
       7: aload_0
       8: invokevirtual #81                 // Method getClientPort:()I
      11: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
      14: aload_1
      15: ldc           #83                 // String secureClientPort=
      17: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      20: aload_1
      21: aload_0
      22: invokevirtual #84                 // Method getSecureClientPort:()I
      25: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
      28: aload_1
      29: ldc           #85                 // String dataDir=
      31: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      34: aload_1
      35: aload_0
      36: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      39: getfield      #86                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      42: invokevirtual #72                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      45: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      48: invokevirtual #88                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      51: aload_1
      52: ldc           #89                 // String dataDirSize=
      54: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      57: aload_1
      58: aload_0
      59: invokevirtual #90                 // Method getDataDirSize:()J
      62: invokevirtual #91                 // Method java/io/PrintWriter.println:(J)V
      65: aload_1
      66: ldc           #92                 // String dataLogDir=
      68: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      71: aload_1
      72: aload_0
      73: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      76: getfield      #86                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      79: invokevirtual #71                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getDataDir:()Ljava/io/File;
      82: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      85: invokevirtual #88                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      88: aload_1
      89: ldc           #93                 // String dataLogSize=
      91: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
      94: aload_1
      95: aload_0
      96: invokevirtual #94                 // Method getLogDirSize:()J
      99: invokevirtual #91                 // Method java/io/PrintWriter.println:(J)V
     102: aload_1
     103: ldc           #95                 // String tickTime=
     105: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     108: aload_1
     109: aload_0
     110: invokevirtual #96                 // Method getTickTime:()I
     113: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
     116: aload_1
     117: ldc           #97                 // String maxClientCnxns=
     119: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     122: aload_1
     123: aload_0
     124: invokevirtual #98                 // Method getMaxClientCnxnsPerHost:()I
     127: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
     130: aload_1
     131: ldc           #99                 // String minSessionTimeout=
     133: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     136: aload_1
     137: aload_0
     138: invokevirtual #68                 // Method getMinSessionTimeout:()I
     141: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
     144: aload_1
     145: ldc           #100                // String maxSessionTimeout=
     147: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     150: aload_1
     151: aload_0
     152: invokevirtual #69                 // Method getMaxSessionTimeout:()I
     155: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
     158: aload_1
     159: ldc           #101                // String clientPortListenBacklog=
     161: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     164: aload_1
     165: aload_0
     166: invokevirtual #70                 // Method getClientPortListenBacklog:()I
     169: invokevirtual #82                 // Method java/io/PrintWriter.println:(I)V
     172: aload_1
     173: ldc           #102                // String serverId=
     175: invokevirtual #80                 // Method java/io/PrintWriter.print:(Ljava/lang/String;)V
     178: aload_1
     179: aload_0
     180: invokevirtual #103                // Method getServerId:()J
     183: invokevirtual #91                 // Method java/io/PrintWriter.println:(J)V
     186: return

  public org.apache.zookeeper.server.ZooKeeperServerConf getConf();
    Code:
       0: new           #104                // class org/apache/zookeeper/server/ZooKeeperServerConf
       3: dup
       4: aload_0
       5: invokevirtual #81                 // Method getClientPort:()I
       8: aload_0
       9: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      12: getfield      #86                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      15: invokevirtual #72                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      18: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      21: aload_0
      22: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      25: getfield      #86                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      28: invokevirtual #71                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getDataDir:()Ljava/io/File;
      31: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      34: aload_0
      35: invokevirtual #96                 // Method getTickTime:()I
      38: aload_0
      39: invokevirtual #98                 // Method getMaxClientCnxnsPerHost:()I
      42: aload_0
      43: invokevirtual #68                 // Method getMinSessionTimeout:()I
      46: aload_0
      47: invokevirtual #69                 // Method getMaxSessionTimeout:()I
      50: aload_0
      51: invokevirtual #103                // Method getServerId:()J
      54: aload_0
      55: invokevirtual #70                 // Method getClientPortListenBacklog:()I
      58: invokespecial #105                // Method org/apache/zookeeper/server/ZooKeeperServerConf."<init>":(ILjava/lang/String;Ljava/lang/String;IIIIJI)V
      61: areturn

  public org.apache.zookeeper.server.ZooKeeperServer(java.io.File, java.io.File, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: new           #106                // class org/apache/zookeeper/server/persistence/FileTxnSnapLog
       4: dup
       5: aload_1
       6: aload_2
       7: invokespecial #107                // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog."<init>":(Ljava/io/File;Ljava/io/File;)V
      10: iload_3
      11: ldc           #108                // String
      13: invokespecial #109                // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;ILjava/lang/String;)V
      16: return

  public org.apache.zookeeper.server.ZooKeeperServer(org.apache.zookeeper.server.persistence.FileTxnSnapLog) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: sipush        3000
       5: iconst_m1
       6: iconst_m1
       7: iconst_m1
       8: new           #77                 // class org/apache/zookeeper/server/ZKDatabase
      11: dup
      12: aload_1
      13: invokespecial #78                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      16: ldc           #108                // String
      18: invokestatic  #49                 // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.isReconfigEnabled:()Z
      21: invokespecial #50                 // Method "<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;IIIILorg/apache/zookeeper/server/ZKDatabase;Ljava/lang/String;Z)V
      24: return

  public org.apache.zookeeper.server.ZKDatabase getZKDatabase();
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: areturn

  public void setZKDatabase(org.apache.zookeeper.server.ZKDatabase);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       5: return

  public void loadData() throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: invokevirtual #110                // Method org/apache/zookeeper/server/ZKDatabase.isInitialized:()Z
       7: ifeq          24
      10: aload_0
      11: aload_0
      12: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      15: invokevirtual #111                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
      18: invokevirtual #112                // Method setZxid:(J)V
      21: goto          35
      24: aload_0
      25: aload_0
      26: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      29: invokevirtual #113                // Method org/apache/zookeeper/server/ZKDatabase.loadDataBase:()J
      32: invokevirtual #112                // Method setZxid:(J)V
      35: new           #114                // class java/util/ArrayList
      38: dup
      39: invokespecial #115                // Method java/util/ArrayList."<init>":()V
      42: astore_1
      43: aload_0
      44: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      47: invokevirtual #116                // Method org/apache/zookeeper/server/ZKDatabase.getSessions:()Ljava/util/Collection;
      50: invokeinterface #117,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      55: astore_2
      56: aload_2
      57: invokeinterface #118,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      62: ifeq          100
      65: aload_2
      66: invokeinterface #119,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      71: checkcast     #120                // class java/lang/Long
      74: astore_3
      75: aload_0
      76: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      79: invokevirtual #121                // Method org/apache/zookeeper/server/ZKDatabase.getSessionWithTimeOuts:()Ljava/util/concurrent/ConcurrentHashMap;
      82: aload_3
      83: invokevirtual #122                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      86: ifnonnull     97
      89: aload_1
      90: aload_3
      91: invokeinterface #123,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      96: pop
      97: goto          56
     100: aload_1
     101: invokeinterface #124,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     106: astore_2
     107: aload_2
     108: invokeinterface #118,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     113: ifeq          144
     116: aload_2
     117: invokeinterface #119,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     122: checkcast     #120                // class java/lang/Long
     125: invokevirtual #125                // Method java/lang/Long.longValue:()J
     128: lstore_3
     129: aload_0
     130: lload_3
     131: aload_0
     132: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     135: invokevirtual #111                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
     138: invokevirtual #126                // Method killSession:(JJ)V
     141: goto          107
     144: aload_0
     145: invokevirtual #127                // Method takeSnapshot:()V
     148: return

  public void takeSnapshot();
    Code:
       0: aload_0
       1: iconst_0
       2: invokevirtual #128                // Method takeSnapshot:(Z)V
       5: return

  public void takeSnapshot(boolean);
    Code:
       0: invokestatic  #129                // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
       3: lstore_2
       4: aload_0
       5: getfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       8: aload_0
       9: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      12: invokevirtual #130                // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      15: aload_0
      16: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      19: invokevirtual #121                // Method org/apache/zookeeper/server/ZKDatabase.getSessionWithTimeOuts:()Ljava/util/concurrent/ConcurrentHashMap;
      22: iload_1
      23: invokevirtual #131                // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.save:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/concurrent/ConcurrentHashMap;Z)V
      26: goto          52
      29: astore        4
      31: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      34: ldc           #133                // String Severe unrecoverable error, exiting
      36: aload         4
      38: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      43: getstatic     #135                // Field org/apache/zookeeper/server/ExitCode.TXNLOG_ERROR_TAKING_SNAPSHOT:Lorg/apache/zookeeper/server/ExitCode;
      46: invokevirtual #136                // Method org/apache/zookeeper/server/ExitCode.getValue:()I
      49: invokestatic  #137                // Method org/apache/zookeeper/util/ServiceUtils.requestSystemExit:(I)V
      52: invokestatic  #129                // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      55: lload_2
      56: lsub
      57: lstore        4
      59: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      62: ldc           #138                // String Snapshot taken in {} ms
      64: lload         4
      66: invokestatic  #139                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      69: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      74: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      77: getfield      #142                // Field org/apache/zookeeper/server/ServerMetrics.SNAPSHOT_TIME:Lorg/apache/zookeeper/metrics/Summary;
      80: lload         4
      82: invokeinterface #143,  3          // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      87: return
    Exception table:
       from    to  target type
           4    26    29   Class java/io/IOException

  public long getDataDirSize();
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: ifnonnull     9
       7: lconst_0
       8: lreturn
       9: aload_0
      10: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      13: getfield      #86                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      16: invokevirtual #71                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getDataDir:()Ljava/io/File;
      19: astore_1
      20: aload_0
      21: aload_1
      22: invokespecial #144                // Method getDirSize:(Ljava/io/File;)J
      25: lreturn

  public long getLogDirSize();
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: ifnonnull     9
       7: lconst_0
       8: lreturn
       9: aload_0
      10: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      13: getfield      #86                 // Field org/apache/zookeeper/server/ZKDatabase.snapLog:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      16: invokevirtual #72                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getSnapDir:()Ljava/io/File;
      19: astore_1
      20: aload_0
      21: aload_1
      22: invokespecial #144                // Method getDirSize:(Ljava/io/File;)J
      25: lreturn

  private long getDirSize(java.io.File);
    Code:
       0: lconst_0
       1: lstore_2
       2: aload_1
       3: invokevirtual #145                // Method java/io/File.isDirectory:()Z
       6: ifeq          64
       9: aload_1
      10: invokevirtual #146                // Method java/io/File.listFiles:()[Ljava/io/File;
      13: astore        4
      15: aload         4
      17: ifnull        61
      20: aload         4
      22: astore        5
      24: aload         5
      26: arraylength
      27: istore        6
      29: iconst_0
      30: istore        7
      32: iload         7
      34: iload         6
      36: if_icmpge     61
      39: aload         5
      41: iload         7
      43: aaload
      44: astore        8
      46: lload_2
      47: aload_0
      48: aload         8
      50: invokespecial #144                // Method getDirSize:(Ljava/io/File;)J
      53: ladd
      54: lstore_2
      55: iinc          7, 1
      58: goto          32
      61: goto          69
      64: aload_1
      65: invokevirtual #147                // Method java/io/File.length:()J
      68: lstore_2
      69: lload_2
      70: lreturn

  public long getZxid();
    Code:
       0: aload_0
       1: getfield      #18                 // Field hzxid:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #148                // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lreturn

  public org.apache.zookeeper.server.SessionTracker getSessionTracker();
    Code:
       0: aload_0
       1: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: areturn

  long getNextZxid();
    Code:
       0: aload_0
       1: getfield      #18                 // Field hzxid:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #150                // Method java/util/concurrent/atomic/AtomicLong.incrementAndGet:()J
       7: lreturn

  public void setZxid(long);
    Code:
       0: aload_0
       1: getfield      #18                 // Field hzxid:Ljava/util/concurrent/atomic/AtomicLong;
       4: lload_1
       5: invokevirtual #151                // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
       8: return

  private void close(long);
    Code:
       0: new           #152                // class org/apache/zookeeper/server/Request
       3: dup
       4: aconst_null
       5: lload_1
       6: iconst_0
       7: bipush        -11
       9: aconst_null
      10: aconst_null
      11: invokespecial #154                // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
      14: astore_3
      15: aload_0
      16: aload_3
      17: invokevirtual #155                // Method submitRequest:(Lorg/apache/zookeeper/server/Request;)V
      20: return

  public void closeSession(long);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #156                // String Closing session 0x{}
       5: lload_1
       6: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
       9: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: lload_1
      16: invokespecial #158                // Method close:(J)V
      19: return

  protected void killSession(long, long);
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: lload_1
       5: lload_3
       6: invokevirtual #159                // Method org/apache/zookeeper/server/ZKDatabase.killSession:(JJ)V
       9: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      12: invokeinterface #160,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      17: ifeq          51
      20: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      23: ldc2_w        #162                // long 32l
      26: new           #164                // class java/lang/StringBuilder
      29: dup
      30: invokespecial #165                // Method java/lang/StringBuilder."<init>":()V
      33: ldc           #166                // String ZooKeeperServer --- killSession: 0x
      35: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: lload_1
      39: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      42: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: invokevirtual #168                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: invokestatic  #169                // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
      51: aload_0
      52: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      55: ifnull        68
      58: aload_0
      59: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      62: lload_1
      63: invokeinterface #170,  3          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.removeSession:(J)V
      68: return

  public void expire(org.apache.zookeeper.server.SessionTracker$Session);
    Code:
       0: aload_1
       1: invokeinterface #171,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker$Session.getSessionId:()J
       6: lstore_2
       7: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      10: ldc           #172                // String Expiring session 0x{}, timeout of {}ms exceeded
      12: lload_2
      13: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      16: aload_1
      17: invokeinterface #173,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker$Session.getTimeout:()I
      22: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      25: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      30: aload_0
      31: lload_2
      32: invokespecial #158                // Method close:(J)V
      35: return

  void touch(org.apache.zookeeper.server.ServerCnxn) throws org.apache.zookeeper.server.ZooKeeperServer$MissingSessionException;
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
       9: lstore_2
      10: aload_1
      11: invokevirtual #175                // Method org/apache/zookeeper/server/ServerCnxn.getSessionTimeout:()I
      14: istore        4
      16: aload_0
      17: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      20: lload_2
      21: iload         4
      23: invokeinterface #176,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.touchSession:(JI)Z
      28: ifne          66
      31: new           #177                // class org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException
      34: dup
      35: new           #164                // class java/lang/StringBuilder
      38: dup
      39: invokespecial #165                // Method java/lang/StringBuilder."<init>":()V
      42: ldc           #178                // String No session with sessionid 0x
      44: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      47: lload_2
      48: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      51: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: ldc           #179                // String  exists, probably expired and removed
      56: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: invokevirtual #168                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      62: invokespecial #180                // Method org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException."<init>":(Ljava/lang/String;)V
      65: athrow
      66: return

  protected void registerJMX();
    Code:
       0: aload_0
       1: new           #181                // class org/apache/zookeeper/server/ZooKeeperServerBean
       4: dup
       5: aload_0
       6: invokespecial #182                // Method org/apache/zookeeper/server/ZooKeeperServerBean."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
       9: putfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      12: invokestatic  #184                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      15: aload_0
      16: getfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      19: aconst_null
      20: invokevirtual #185                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      23: aload_0
      24: new           #186                // class org/apache/zookeeper/server/DataTreeBean
      27: dup
      28: aload_0
      29: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      32: invokevirtual #130                // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      35: invokespecial #187                // Method org/apache/zookeeper/server/DataTreeBean."<init>":(Lorg/apache/zookeeper/server/DataTree;)V
      38: putfield      #188                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      41: invokestatic  #184                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      44: aload_0
      45: getfield      #188                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      48: aload_0
      49: getfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      52: invokevirtual #185                // Method org/apache/zookeeper/jmx/MBeanRegistry.register:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      55: goto          75
      58: astore_1
      59: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      62: ldc           #190                // String Failed to register with JMX
      64: aload_1
      65: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      70: aload_0
      71: aconst_null
      72: putfield      #188                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      75: goto          95
      78: astore_1
      79: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      82: ldc           #190                // String Failed to register with JMX
      84: aload_1
      85: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      90: aload_0
      91: aconst_null
      92: putfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      95: return
    Exception table:
       from    to  target type
          23    55    58   Class java/lang/Exception
           0    75    78   Class java/lang/Exception

  public void startdata() throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: ifnonnull     22
       7: aload_0
       8: new           #77                 // class org/apache/zookeeper/server/ZKDatabase
      11: dup
      12: aload_0
      13: getfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
      16: invokespecial #78                 // Method org/apache/zookeeper/server/ZKDatabase."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      19: putfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      22: aload_0
      23: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      26: invokevirtual #110                // Method org/apache/zookeeper/server/ZKDatabase.isInitialized:()Z
      29: ifne          36
      32: aload_0
      33: invokevirtual #192                // Method loadData:()V
      36: return

  public synchronized void startup();
    Code:
       0: aload_0
       1: getstatic     #193                // Field org/apache/zookeeper/server/ZooKeeperServer$State.RUNNING:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       4: invokespecial #194                // Method startupWithServerState:(Lorg/apache/zookeeper/server/ZooKeeperServer$State;)V
       7: return

  public synchronized void startupWithoutServing();
    Code:
       0: aload_0
       1: getstatic     #19                 // Field org/apache/zookeeper/server/ZooKeeperServer$State.INITIAL:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       4: invokespecial #194                // Method startupWithServerState:(Lorg/apache/zookeeper/server/ZooKeeperServer$State;)V
       7: return

  public synchronized void startServing();
    Code:
       0: aload_0
       1: getstatic     #193                // Field org/apache/zookeeper/server/ZooKeeperServer$State.RUNNING:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       4: invokevirtual #195                // Method setState:(Lorg/apache/zookeeper/server/ZooKeeperServer$State;)V
       7: aload_0
       8: invokevirtual #196                // Method java/lang/Object.notifyAll:()V
      11: return

  private void startupWithServerState(org.apache.zookeeper.server.ZooKeeperServer$State);
    Code:
       0: aload_0
       1: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: ifnonnull     11
       7: aload_0
       8: invokevirtual #197                // Method createSessionTracker:()V
      11: aload_0
      12: invokevirtual #198                // Method startSessionTracker:()V
      15: aload_0
      16: invokevirtual #199                // Method setupRequestProcessors:()V
      19: aload_0
      20: invokevirtual #200                // Method startRequestThrottler:()V
      23: aload_0
      24: invokevirtual #201                // Method registerJMX:()V
      27: aload_0
      28: invokevirtual #202                // Method startJvmPauseMonitor:()V
      31: aload_0
      32: invokevirtual #203                // Method registerMetrics:()V
      35: aload_0
      36: aload_1
      37: invokevirtual #195                // Method setState:(Lorg/apache/zookeeper/server/ZooKeeperServer$State;)V
      40: aload_0
      41: getfield      #48                 // Field requestPathMetricsCollector:Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;
      44: invokevirtual #204                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector.start:()V
      47: aload_0
      48: aload_0
      49: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      52: invokeinterface #205,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.isLocalSessionsEnabled:()Z
      57: putfield      #22                 // Field localSessionEnabled:Z
      60: aload_0
      61: invokevirtual #196                // Method java/lang/Object.notifyAll:()V
      64: return

  protected void startJvmPauseMonitor();
    Code:
       0: aload_0
       1: getfield      #74                 // Field jvmPauseMonitor:Lorg/apache/zookeeper/server/util/JvmPauseMonitor;
       4: ifnull        14
       7: aload_0
       8: getfield      #74                 // Field jvmPauseMonitor:Lorg/apache/zookeeper/server/util/JvmPauseMonitor;
      11: invokevirtual #206                // Method org/apache/zookeeper/server/util/JvmPauseMonitor.serviceStart:()V
      14: return

  protected void startRequestThrottler();
    Code:
       0: aload_0
       1: new           #207                // class org/apache/zookeeper/server/RequestThrottler
       4: dup
       5: aload_0
       6: invokespecial #208                // Method org/apache/zookeeper/server/RequestThrottler."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
       9: putfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      12: aload_0
      13: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      16: invokevirtual #210                // Method org/apache/zookeeper/server/RequestThrottler.start:()V
      19: return

  protected void setupRequestProcessors();
    Code:
       0: new           #211                // class org/apache/zookeeper/server/FinalRequestProcessor
       3: dup
       4: aload_0
       5: invokespecial #212                // Method org/apache/zookeeper/server/FinalRequestProcessor."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
       8: astore_1
       9: new           #213                // class org/apache/zookeeper/server/SyncRequestProcessor
      12: dup
      13: aload_0
      14: aload_1
      15: invokespecial #214                // Method org/apache/zookeeper/server/SyncRequestProcessor."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/RequestProcessor;)V
      18: astore_2
      19: aload_2
      20: checkcast     #213                // class org/apache/zookeeper/server/SyncRequestProcessor
      23: invokevirtual #215                // Method org/apache/zookeeper/server/SyncRequestProcessor.start:()V
      26: aload_0
      27: new           #216                // class org/apache/zookeeper/server/PrepRequestProcessor
      30: dup
      31: aload_0
      32: aload_2
      33: invokespecial #217                // Method org/apache/zookeeper/server/PrepRequestProcessor."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/RequestProcessor;)V
      36: putfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      39: aload_0
      40: getfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      43: checkcast     #216                // class org/apache/zookeeper/server/PrepRequestProcessor
      46: invokevirtual #219                // Method org/apache/zookeeper/server/PrepRequestProcessor.start:()V
      49: return

  public org.apache.zookeeper.server.ZooKeeperServerListener getZooKeeperServerListener();
    Code:
       0: aload_0
       1: getfield      #42                 // Field listener:Lorg/apache/zookeeper/server/ZooKeeperServerListener;
       4: areturn

  public void setCreateSessionTrackerServerId(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #32                 // Field createSessionTrackerServerId:I
       5: return

  protected void createSessionTracker();
    Code:
       0: aload_0
       1: new           #220                // class org/apache/zookeeper/server/SessionTrackerImpl
       4: dup
       5: aload_0
       6: aload_0
       7: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      10: invokevirtual #121                // Method org/apache/zookeeper/server/ZKDatabase.getSessionWithTimeOuts:()Ljava/util/concurrent/ConcurrentHashMap;
      13: aload_0
      14: getfield      #11                 // Field tickTime:I
      17: aload_0
      18: getfield      #32                 // Field createSessionTrackerServerId:I
      21: i2l
      22: aload_0
      23: invokevirtual #221                // Method getZooKeeperServerListener:()Lorg/apache/zookeeper/server/ZooKeeperServerListener;
      26: invokespecial #222                // Method org/apache/zookeeper/server/SessionTrackerImpl."<init>":(Lorg/apache/zookeeper/server/SessionTracker$SessionExpirer;Ljava/util/concurrent/ConcurrentMap;IJLorg/apache/zookeeper/server/ZooKeeperServerListener;)V
      29: putfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      32: return

  protected void startSessionTracker();
    Code:
       0: aload_0
       1: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: checkcast     #220                // class org/apache/zookeeper/server/SessionTrackerImpl
       7: invokevirtual #223                // Method org/apache/zookeeper/server/SessionTrackerImpl.start:()V
      10: return

  protected void setState(org.apache.zookeeper.server.ZooKeeperServer$State);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       5: aload_0
       6: getfield      #224                // Field zkShutdownHandler:Lorg/apache/zookeeper/server/ZooKeeperServerShutdownHandler;
       9: ifnull        23
      12: aload_0
      13: getfield      #224                // Field zkShutdownHandler:Lorg/apache/zookeeper/server/ZooKeeperServerShutdownHandler;
      16: aload_1
      17: invokevirtual #225                // Method org/apache/zookeeper/server/ZooKeeperServerShutdownHandler.handle:(Lorg/apache/zookeeper/server/ZooKeeperServer$State;)V
      20: goto          33
      23: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      26: ldc           #226                // String ZKShutdownHandler is not registered, so ZooKeeper server won\'t take any action on ERROR or SHUTDOWN server state changes
      28: invokeinterface #227,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      33: return

  protected boolean canShutdown();
    Code:
       0: aload_0
       1: getfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       4: getstatic     #193                // Field org/apache/zookeeper/server/ZooKeeperServer$State.RUNNING:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       7: if_acmpeq     20
      10: aload_0
      11: getfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      14: getstatic     #228                // Field org/apache/zookeeper/server/ZooKeeperServer$State.ERROR:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      17: if_acmpne     24
      20: iconst_1
      21: goto          25
      24: iconst_0
      25: ireturn

  public boolean isRunning();
    Code:
       0: aload_0
       1: getfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       4: getstatic     #193                // Field org/apache/zookeeper/server/ZooKeeperServer$State.RUNNING:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
       7: if_acmpne     14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ireturn

  public void shutdown();
    Code:
       0: aload_0
       1: iconst_0
       2: invokevirtual #229                // Method shutdown:(Z)V
       5: return

  public synchronized void shutdown(boolean);
    Code:
       0: aload_0
       1: invokevirtual #230                // Method canShutdown:()Z
       4: ifne          36
       7: iload_1
       8: ifeq          25
      11: aload_0
      12: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      15: ifnull        25
      18: aload_0
      19: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      22: invokevirtual #231                // Method org/apache/zookeeper/server/ZKDatabase.clear:()V
      25: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      28: ldc           #232                // String ZooKeeper server is not running, so not proceeding to shutdown!
      30: invokeinterface #227,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      35: return
      36: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      39: ldc           #233                // String shutting down
      41: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      46: aload_0
      47: getstatic     #234                // Field org/apache/zookeeper/server/ZooKeeperServer$State.SHUTDOWN:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      50: invokevirtual #195                // Method setState:(Lorg/apache/zookeeper/server/ZooKeeperServer$State;)V
      53: aload_0
      54: invokevirtual #235                // Method unregisterMetrics:()V
      57: aload_0
      58: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      61: ifnull        71
      64: aload_0
      65: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      68: invokevirtual #236                // Method org/apache/zookeeper/server/RequestThrottler.shutdown:()V
      71: aload_0
      72: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      75: ifnull        87
      78: aload_0
      79: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      82: invokeinterface #237,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.shutdown:()V
      87: aload_0
      88: getfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      91: ifnull        103
      94: aload_0
      95: getfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      98: invokeinterface #238,  1          // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.shutdown:()V
     103: aload_0
     104: getfield      #74                 // Field jvmPauseMonitor:Lorg/apache/zookeeper/server/util/JvmPauseMonitor;
     107: ifnull        117
     110: aload_0
     111: getfield      #74                 // Field jvmPauseMonitor:Lorg/apache/zookeeper/server/util/JvmPauseMonitor;
     114: invokevirtual #239                // Method org/apache/zookeeper/server/util/JvmPauseMonitor.serviceStop:()V
     117: aload_0
     118: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     121: ifnull        168
     124: iload_1
     125: ifeq          138
     128: aload_0
     129: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     132: invokevirtual #231                // Method org/apache/zookeeper/server/ZKDatabase.clear:()V
     135: goto          168
     138: aload_0
     139: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     142: invokevirtual #240                // Method org/apache/zookeeper/server/ZKDatabase.fastForwardDataBase:()J
     145: pop2
     146: goto          168
     149: astore_2
     150: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     153: ldc           #241                // String Error updating DB
     155: aload_2
     156: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     161: aload_0
     162: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     165: invokevirtual #231                // Method org/apache/zookeeper/server/ZKDatabase.clear:()V
     168: aload_0
     169: getfield      #48                 // Field requestPathMetricsCollector:Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;
     172: invokevirtual #242                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector.shutdown:()V
     175: aload_0
     176: invokevirtual #243                // Method unregisterJMX:()V
     179: return
    Exception table:
       from    to  target type
         138   146   149   Class java/io/IOException

  protected void unregisterJMX();
    Code:
       0: aload_0
       1: getfield      #188                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
       4: ifnull        17
       7: invokestatic  #184                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      10: aload_0
      11: getfield      #188                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      14: invokevirtual #244                // Method org/apache/zookeeper/jmx/MBeanRegistry.unregister:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      17: goto          32
      20: astore_1
      21: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      24: ldc           #245                // String Failed to unregister with JMX
      26: aload_1
      27: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      32: aload_0
      33: getfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      36: ifnull        49
      39: invokestatic  #184                // Method org/apache/zookeeper/jmx/MBeanRegistry.getInstance:()Lorg/apache/zookeeper/jmx/MBeanRegistry;
      42: aload_0
      43: getfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      46: invokevirtual #244                // Method org/apache/zookeeper/jmx/MBeanRegistry.unregister:(Lorg/apache/zookeeper/jmx/ZKMBeanInfo;)V
      49: goto          64
      52: astore_1
      53: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      56: ldc           #245                // String Failed to unregister with JMX
      58: aload_1
      59: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      64: aload_0
      65: aconst_null
      66: putfield      #183                // Field jmxServerBean:Lorg/apache/zookeeper/server/ZooKeeperServerBean;
      69: aload_0
      70: aconst_null
      71: putfield      #188                // Field jmxDataTreeBean:Lorg/apache/zookeeper/server/DataTreeBean;
      74: return
    Exception table:
       from    to  target type
           0    17    20   Class java/lang/Exception
          32    49    52   Class java/lang/Exception

  public void incInProcess();
    Code:
       0: aload_0
       1: getfield      #25                 // Field requestsInProcess:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #246                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
       7: pop
       8: return

  public void decInProcess();
    Code:
       0: aload_0
       1: getfield      #25                 // Field requestsInProcess:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #247                // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
       7: pop
       8: aload_0
       9: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      12: ifnull        22
      15: aload_0
      16: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      19: invokevirtual #248                // Method org/apache/zookeeper/server/RequestThrottler.throttleWake:()V
      22: return

  public int getInProcess();
    Code:
       0: aload_0
       1: getfield      #25                 // Field requestsInProcess:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #249                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: ireturn

  public int getInflight();
    Code:
       0: aload_0
       1: invokespecial #250                // Method requestThrottleInflight:()I
       4: ireturn

  private int requestThrottleInflight();
    Code:
       0: aload_0
       1: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
       4: ifnull        15
       7: aload_0
       8: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      11: invokevirtual #251                // Method org/apache/zookeeper/server/RequestThrottler.getInflight:()I
      14: ireturn
      15: iconst_0
      16: ireturn

  byte[] generatePasswd(long);
    Code:
       0: new           #252                // class java/util/Random
       3: dup
       4: lload_1
       5: ldc2_w        #253                // long 3007405056l
       8: lxor
       9: invokespecial #255                // Method java/util/Random."<init>":(J)V
      12: astore_3
      13: bipush        16
      15: newarray       byte
      17: astore        4
      19: aload_3
      20: aload         4
      22: invokevirtual #256                // Method java/util/Random.nextBytes:([B)V
      25: aload         4
      27: areturn

  protected boolean checkPasswd(long, byte[]);
    Code:
       0: lload_1
       1: lconst_0
       2: lcmp
       3: ifeq          22
       6: aload_3
       7: aload_0
       8: lload_1
       9: invokevirtual #257                // Method generatePasswd:(J)[B
      12: invokestatic  #258                // Method java/util/Arrays.equals:([B[B)Z
      15: ifeq          22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  long createSession(org.apache.zookeeper.server.ServerCnxn, byte[], int);
    Code:
       0: aload_2
       1: ifnonnull     8
       4: iconst_0
       5: newarray       byte
       7: astore_2
       8: aload_0
       9: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      12: iload_3
      13: invokeinterface #259,  2          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.createSession:(I)J
      18: lstore        4
      20: new           #252                // class java/util/Random
      23: dup
      24: lload         4
      26: ldc2_w        #253                // long 3007405056l
      29: lxor
      30: invokespecial #255                // Method java/util/Random."<init>":(J)V
      33: astore        6
      35: aload         6
      37: aload_2
      38: invokevirtual #256                // Method java/util/Random.nextBytes:([B)V
      41: iconst_4
      42: invokestatic  #260                // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
      45: astore        7
      47: aload         7
      49: iload_3
      50: invokevirtual #261                // Method java/nio/ByteBuffer.putInt:(I)Ljava/nio/ByteBuffer;
      53: pop
      54: aload_1
      55: lload         4
      57: invokevirtual #262                // Method org/apache/zookeeper/server/ServerCnxn.setSessionId:(J)V
      60: new           #152                // class org/apache/zookeeper/server/Request
      63: dup
      64: aload_1
      65: lload         4
      67: iconst_0
      68: bipush        -10
      70: aload         7
      72: aconst_null
      73: invokespecial #154                // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
      76: astore        8
      78: aload_0
      79: aload         8
      81: invokevirtual #155                // Method submitRequest:(Lorg/apache/zookeeper/server/Request;)V
      84: lload         4
      86: lreturn

  public void setOwner(long, java.lang.Object) throws org.apache.zookeeper.KeeperException$SessionExpiredException;
    Code:
       0: aload_0
       1: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: lload_1
       5: aload_3
       6: invokeinterface #263,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.setOwner:(JLjava/lang/Object;)V
      11: return

  protected void revalidateSession(org.apache.zookeeper.server.ServerCnxn, long, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: lload_2
       5: iload         4
       7: invokeinterface #176,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.touchSession:(JI)Z
      12: istore        5
      14: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      17: invokeinterface #160,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      22: ifeq          68
      25: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      28: ldc2_w        #162                // long 32l
      31: new           #164                // class java/lang/StringBuilder
      34: dup
      35: invokespecial #165                // Method java/lang/StringBuilder."<init>":()V
      38: ldc_w         #264                // String Session 0x
      41: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: lload_2
      45: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      48: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: ldc_w         #265                // String  is valid:
      54: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: iload         5
      59: invokevirtual #266                // Method java/lang/StringBuilder.append:(Z)Ljava/lang/StringBuilder;
      62: invokevirtual #168                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      65: invokestatic  #169                // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
      68: aload_0
      69: aload_1
      70: iload         5
      72: invokevirtual #267                // Method finishSessionInit:(Lorg/apache/zookeeper/server/ServerCnxn;Z)V
      75: return

  public void reopenSession(org.apache.zookeeper.server.ServerCnxn, long, byte[], int) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_2
       2: aload         4
       4: invokevirtual #268                // Method checkPasswd:(J[B)Z
       7: ifeq          21
      10: aload_0
      11: aload_1
      12: lload_2
      13: iload         5
      15: invokevirtual #269                // Method revalidateSession:(Lorg/apache/zookeeper/server/ServerCnxn;JI)V
      18: goto          46
      21: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      24: ldc_w         #270                // String Incorrect password from {} for session 0x{}
      27: aload_1
      28: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
      31: lload_2
      32: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      35: invokeinterface #272,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      40: aload_0
      41: aload_1
      42: iconst_0
      43: invokevirtual #267                // Method finishSessionInit:(Lorg/apache/zookeeper/server/ServerCnxn;Z)V
      46: return

  public void finishSessionInit(org.apache.zookeeper.server.ServerCnxn, boolean);
    Code:
       0: iload_2
       1: ifeq          69
       4: aload_0
       5: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       8: ifnull        38
      11: aload_0
      12: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      15: getfield      #274                // Field org/apache/zookeeper/server/ServerCnxnFactory.cnxns:Ljava/util/Set;
      18: aload_1
      19: invokeinterface #275,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      24: ifeq          38
      27: aload_0
      28: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      31: aload_1
      32: invokevirtual #276                // Method org/apache/zookeeper/server/ServerCnxnFactory.registerConnection:(Lorg/apache/zookeeper/server/ServerCnxn;)V
      35: goto          69
      38: aload_0
      39: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      42: ifnull        69
      45: aload_0
      46: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      49: getfield      #274                // Field org/apache/zookeeper/server/ServerCnxnFactory.cnxns:Ljava/util/Set;
      52: aload_1
      53: invokeinterface #275,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      58: ifeq          69
      61: aload_0
      62: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      65: aload_1
      66: invokevirtual #276                // Method org/apache/zookeeper/server/ServerCnxnFactory.registerConnection:(Lorg/apache/zookeeper/server/ServerCnxn;)V
      69: goto          84
      72: astore_3
      73: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      76: ldc           #190                // String Failed to register with JMX
      78: aload_3
      79: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      84: new           #278                // class org/apache/zookeeper/proto/ConnectResponse
      87: dup
      88: iconst_0
      89: iload_2
      90: ifeq          100
      93: aload_1
      94: invokevirtual #175                // Method org/apache/zookeeper/server/ServerCnxn.getSessionTimeout:()I
      97: goto          101
     100: iconst_0
     101: iload_2
     102: ifeq          112
     105: aload_1
     106: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     109: goto          113
     112: lconst_0
     113: iload_2
     114: ifeq          128
     117: aload_0
     118: aload_1
     119: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     122: invokevirtual #257                // Method generatePasswd:(J)[B
     125: goto          132
     128: bipush        16
     130: newarray       byte
     132: invokespecial #279                // Method org/apache/zookeeper/proto/ConnectResponse."<init>":(IIJ[B)V
     135: astore_3
     136: new           #280                // class java/io/ByteArrayOutputStream
     139: dup
     140: invokespecial #281                // Method java/io/ByteArrayOutputStream."<init>":()V
     143: astore        4
     145: aload         4
     147: invokestatic  #282                // Method org/apache/jute/BinaryOutputArchive.getArchive:(Ljava/io/OutputStream;)Lorg/apache/jute/BinaryOutputArchive;
     150: astore        5
     152: aload         5
     154: iconst_m1
     155: ldc_w         #283                // String len
     158: invokevirtual #284                // Method org/apache/jute/BinaryOutputArchive.writeInt:(ILjava/lang/String;)V
     161: aload_3
     162: aload         5
     164: ldc_w         #285                // String connect
     167: invokevirtual #286                // Method org/apache/zookeeper/proto/ConnectResponse.serialize:(Lorg/apache/jute/OutputArchive;Ljava/lang/String;)V
     170: aload_1
     171: getfield      #287                // Field org/apache/zookeeper/server/ServerCnxn.isOldClient:Z
     174: ifne          189
     177: aload         5
     179: aload_0
     180: instanceof    #288                // class org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer
     183: ldc_w         #289                // String readOnly
     186: invokevirtual #290                // Method org/apache/jute/BinaryOutputArchive.writeBool:(ZLjava/lang/String;)V
     189: aload         4
     191: invokevirtual #291                // Method java/io/ByteArrayOutputStream.close:()V
     194: aload         4
     196: invokevirtual #292                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     199: invokestatic  #293                // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     202: astore        6
     204: aload         6
     206: aload         6
     208: invokevirtual #294                // Method java/nio/ByteBuffer.remaining:()I
     211: iconst_4
     212: isub
     213: invokevirtual #261                // Method java/nio/ByteBuffer.putInt:(I)Ljava/nio/ByteBuffer;
     216: invokevirtual #295                // Method java/nio/ByteBuffer.rewind:()Ljava/nio/Buffer;
     219: pop
     220: aload_1
     221: iconst_1
     222: anewarray     #296                // class java/nio/ByteBuffer
     225: dup
     226: iconst_0
     227: aload         6
     229: aastore
     230: invokevirtual #297                // Method org/apache/zookeeper/server/ServerCnxn.sendBuffer:([Ljava/nio/ByteBuffer;)V
     233: iload_2
     234: ifeq          286
     237: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     240: ldc_w         #298                // String Established session 0x{} with negotiated timeout {} for client {}
     243: iconst_3
     244: anewarray     #66                 // class java/lang/Object
     247: dup
     248: iconst_0
     249: aload_1
     250: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     253: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     256: aastore
     257: dup
     258: iconst_1
     259: aload_1
     260: invokevirtual #175                // Method org/apache/zookeeper/server/ServerCnxn.getSessionTimeout:()I
     263: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     266: aastore
     267: dup
     268: iconst_2
     269: aload_1
     270: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     273: aastore
     274: invokeinterface #299,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     279: aload_1
     280: invokevirtual #300                // Method org/apache/zookeeper/server/ServerCnxn.enableRecv:()V
     283: goto          322
     286: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     289: ldc_w         #301                // String Invalid session 0x{} for client {}, probably expired
     292: aload_1
     293: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     296: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     299: aload_1
     300: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     303: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     308: aload_1
     309: iconst_1
     310: anewarray     #296                // class java/nio/ByteBuffer
     313: dup
     314: iconst_0
     315: getstatic     #302                // Field org/apache/zookeeper/server/ServerCnxnFactory.closeConn:Ljava/nio/ByteBuffer;
     318: aastore
     319: invokevirtual #297                // Method org/apache/zookeeper/server/ServerCnxn.sendBuffer:([Ljava/nio/ByteBuffer;)V
     322: goto          345
     325: astore_3
     326: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     329: ldc_w         #303                // String Exception while establishing session, closing
     332: aload_3
     333: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     338: aload_1
     339: getstatic     #304                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.IO_EXCEPTION_IN_SESSION_INIT:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     342: invokevirtual #305                // Method org/apache/zookeeper/server/ServerCnxn.close:(Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)V
     345: return
    Exception table:
       from    to  target type
           0    69    72   Class java/lang/Exception
          84   322   325   Class java/lang/Exception

  public void closeSession(org.apache.zookeeper.server.ServerCnxn, org.apache.zookeeper.proto.RequestHeader);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
       5: invokevirtual #306                // Method closeSession:(J)V
       8: return

  public long getServerId();
    Code:
       0: lconst_0
       1: lreturn

  protected void setLocalSessionFlag(org.apache.zookeeper.server.Request);
    Code:
       0: return

  public void submitRequest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #307                // Method enqueueRequest:(Lorg/apache/zookeeper/server/Request;)V
       5: return

  public void enqueueRequest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_0
       1: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
       4: ifnonnull     77
       7: aload_0
       8: dup
       9: astore_2
      10: monitorenter
      11: aload_0
      12: getfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      15: getstatic     #19                 // Field org/apache/zookeeper/server/ZooKeeperServer$State.INITIAL:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      18: if_acmpne     31
      21: aload_0
      22: ldc2_w        #308                // long 1000l
      25: invokevirtual #310                // Method java/lang/Object.wait:(J)V
      28: goto          11
      31: goto          47
      34: astore_3
      35: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      38: ldc_w         #312                // String Unexpected interruption
      41: aload_3
      42: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      47: aload_0
      48: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      51: ifnonnull     65
      54: new           #313                // class java/lang/RuntimeException
      57: dup
      58: ldc_w         #314                // String Not started
      61: invokespecial #315                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      64: athrow
      65: aload_2
      66: monitorexit
      67: goto          77
      70: astore        4
      72: aload_2
      73: monitorexit
      74: aload         4
      76: athrow
      77: aload_0
      78: getfield      #209                // Field requestThrottler:Lorg/apache/zookeeper/server/RequestThrottler;
      81: aload_1
      82: invokevirtual #316                // Method org/apache/zookeeper/server/RequestThrottler.submitRequest:(Lorg/apache/zookeeper/server/Request;)V
      85: return
    Exception table:
       from    to  target type
          11    31    34   Class java/lang/InterruptedException
          11    67    70   any
          70    74    70   any

  public void submitRequestNow(org.apache.zookeeper.server.Request);
    Code:
       0: aload_0
       1: getfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
       4: ifnonnull     87
       7: aload_0
       8: dup
       9: astore_2
      10: monitorenter
      11: aload_0
      12: getfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      15: getstatic     #19                 // Field org/apache/zookeeper/server/ZooKeeperServer$State.INITIAL:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      18: if_acmpne     31
      21: aload_0
      22: ldc2_w        #308                // long 1000l
      25: invokevirtual #310                // Method java/lang/Object.wait:(J)V
      28: goto          11
      31: goto          47
      34: astore_3
      35: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      38: ldc_w         #312                // String Unexpected interruption
      41: aload_3
      42: invokeinterface #191,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      47: aload_0
      48: getfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      51: ifnull        64
      54: aload_0
      55: getfield      #20                 // Field state:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      58: getstatic     #193                // Field org/apache/zookeeper/server/ZooKeeperServer$State.RUNNING:Lorg/apache/zookeeper/server/ZooKeeperServer$State;
      61: if_acmpeq     75
      64: new           #313                // class java/lang/RuntimeException
      67: dup
      68: ldc_w         #314                // String Not started
      71: invokespecial #315                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      74: athrow
      75: aload_2
      76: monitorexit
      77: goto          87
      80: astore        4
      82: aload_2
      83: monitorexit
      84: aload         4
      86: athrow
      87: aload_0
      88: aload_1
      89: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
      92: invokevirtual #318                // Method touch:(Lorg/apache/zookeeper/server/ServerCnxn;)V
      95: aload_1
      96: getfield      #319                // Field org/apache/zookeeper/server/Request.type:I
      99: invokestatic  #320                // Method org/apache/zookeeper/server/Request.isValid:(I)Z
     102: istore_2
     103: iload_2
     104: ifeq          136
     107: aload_0
     108: aload_1
     109: invokevirtual #321                // Method setLocalSessionFlag:(Lorg/apache/zookeeper/server/Request;)V
     112: aload_0
     113: getfield      #218                // Field firstProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     116: aload_1
     117: invokeinterface #322,  2          // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     122: aload_1
     123: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     126: ifnull        170
     129: aload_0
     130: invokevirtual #323                // Method incInProcess:()V
     133: goto          170
     136: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     139: ldc_w         #324                // String Received packet at server of unknown type {}
     142: aload_1
     143: getfield      #319                // Field org/apache/zookeeper/server/Request.type:I
     146: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     149: invokeinterface #325,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     154: aload_0
     155: aload_1
     156: invokevirtual #326                // Method requestFinished:(Lorg/apache/zookeeper/server/Request;)V
     159: new           #327                // class org/apache/zookeeper/server/UnimplementedRequestProcessor
     162: dup
     163: invokespecial #328                // Method org/apache/zookeeper/server/UnimplementedRequestProcessor."<init>":()V
     166: aload_1
     167: invokevirtual #329                // Method org/apache/zookeeper/server/UnimplementedRequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     170: goto          212
     173: astore_2
     174: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     177: ldc_w         #330                // String Dropping request.
     180: aload_2
     181: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     186: aload_0
     187: aload_1
     188: invokevirtual #326                // Method requestFinished:(Lorg/apache/zookeeper/server/Request;)V
     191: goto          212
     194: astore_2
     195: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     198: ldc_w         #333                // String Unable to process request
     201: aload_2
     202: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     207: aload_0
     208: aload_1
     209: invokevirtual #326                // Method requestFinished:(Lorg/apache/zookeeper/server/Request;)V
     212: return
    Exception table:
       from    to  target type
          11    31    34   Class java/lang/InterruptedException
          11    77    80   any
          80    84    80   any
          87   170   173   Class org/apache/zookeeper/server/ZooKeeperServer$MissingSessionException
          87   170   194   Class org/apache/zookeeper/server/RequestProcessor$RequestProcessorException

  public static int getSnapCount();
    Code:
       0: ldc_w         #334                // String zookeeper.snapCount
       3: invokestatic  #335                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       6: astore_0
       7: aload_0
       8: invokestatic  #336                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      11: istore_1
      12: iload_1
      13: iconst_2
      14: if_icmpge     30
      17: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      20: ldc_w         #337                // String SnapCount should be 2 or more. Now, snapCount is reset to 2
      23: invokeinterface #338,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      28: iconst_2
      29: istore_1
      30: iload_1
      31: ireturn
      32: astore_1
      33: ldc_w         #339                // int 100000
      36: ireturn
    Exception table:
       from    to  target type
           7    31    32   Class java/lang/Exception

  public int getGlobalOutstandingLimit();
    Code:
       0: ldc_w         #340                // String zookeeper.globalOutstandingLimit
       3: invokestatic  #335                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
       6: astore_1
       7: aload_1
       8: invokestatic  #336                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      11: istore_2
      12: goto          20
      15: astore_3
      16: sipush        1000
      19: istore_2
      20: iload_2
      21: ireturn
    Exception table:
       from    to  target type
           7    12    15   Class java/lang/Exception

  public static long getSnapSizeInBytes();
    Code:
       0: ldc_w         #341                // String zookeeper.snapSizeLimitInKb
       3: ldc2_w        #342                // long 4194304l
       6: invokestatic  #344                // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
       9: invokevirtual #125                // Method java/lang/Long.longValue:()J
      12: lstore_0
      13: lload_0
      14: lconst_0
      15: lcmp
      16: ifgt          34
      19: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      22: ldc_w         #345                // String zookeeper.snapSizeLimitInKb set to a non-positive value {}; disabling feature
      25: lload_0
      26: invokestatic  #139                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      29: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      34: lload_0
      35: ldc2_w        #346                // long 1024l
      38: lmul
      39: lreturn

  public void setServerCnxnFactory(org.apache.zookeeper.server.ServerCnxnFactory);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       5: return

  public org.apache.zookeeper.server.ServerCnxnFactory getServerCnxnFactory();
    Code:
       0: aload_0
       1: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: areturn

  public org.apache.zookeeper.server.ServerCnxnFactory getSecureServerCnxnFactory();
    Code:
       0: aload_0
       1: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: areturn

  public void setSecureServerCnxnFactory(org.apache.zookeeper.server.ServerCnxnFactory);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       5: return

  public long getLastProcessedZxid();
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: invokevirtual #111                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
       7: lreturn

  public long getOutstandingRequests();
    Code:
       0: aload_0
       1: invokevirtual #348                // Method getInProcess:()I
       4: i2l
       5: lreturn

  public int getNumAliveConnections();
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       6: ifnull        19
       9: iload_1
      10: aload_0
      11: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      14: invokevirtual #349                // Method org/apache/zookeeper/server/ServerCnxnFactory.getNumAliveConnections:()I
      17: iadd
      18: istore_1
      19: aload_0
      20: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      23: ifnull        36
      26: iload_1
      27: aload_0
      28: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      31: invokevirtual #349                // Method org/apache/zookeeper/server/ServerCnxnFactory.getNumAliveConnections:()I
      34: iadd
      35: istore_1
      36: iload_1
      37: ireturn

  public void truncateLog(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: lload_1
       5: invokevirtual #350                // Method org/apache/zookeeper/server/ZKDatabase.truncateLog:(J)Z
       8: pop
       9: return

  public int getTickTime();
    Code:
       0: aload_0
       1: getfield      #11                 // Field tickTime:I
       4: ireturn

  public void setTickTime(int);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #351                // String tickTime set to {}
       6: iload_1
       7: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      15: aload_0
      16: iload_1
      17: putfield      #11                 // Field tickTime:I
      20: return

  public int getMinSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #12                 // Field minSessionTimeout:I
       4: ireturn

  public void setMinSessionTimeout(int);
    Code:
       0: aload_0
       1: iload_1
       2: iconst_m1
       3: if_icmpne     15
       6: aload_0
       7: getfield      #11                 // Field tickTime:I
      10: iconst_2
      11: imul
      12: goto          16
      15: iload_1
      16: putfield      #12                 // Field minSessionTimeout:I
      19: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      22: ldc_w         #352                // String minSessionTimeout set to {}
      25: aload_0
      26: getfield      #12                 // Field minSessionTimeout:I
      29: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      32: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      37: return

  public int getMaxSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #13                 // Field maxSessionTimeout:I
       4: ireturn

  public void setMaxSessionTimeout(int);
    Code:
       0: aload_0
       1: iload_1
       2: iconst_m1
       3: if_icmpne     16
       6: aload_0
       7: getfield      #11                 // Field tickTime:I
      10: bipush        20
      12: imul
      13: goto          17
      16: iload_1
      17: putfield      #13                 // Field maxSessionTimeout:I
      20: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      23: ldc_w         #353                // String maxSessionTimeout set to {}
      26: aload_0
      27: getfield      #13                 // Field maxSessionTimeout:I
      30: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      33: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      38: return

  public int getClientPortListenBacklog();
    Code:
       0: aload_0
       1: getfield      #14                 // Field listenBacklog:I
       4: ireturn

  public void setClientPortListenBacklog(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #14                 // Field listenBacklog:I
       5: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       8: ldc_w         #354                // String clientPortListenBacklog set to {}
      11: iload_1
      12: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      15: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      20: return

  public int getClientPort();
    Code:
       0: aload_0
       1: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: ifnull        17
       7: aload_0
       8: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      11: invokevirtual #355                // Method org/apache/zookeeper/server/ServerCnxnFactory.getLocalPort:()I
      14: goto          18
      17: iconst_m1
      18: ireturn

  public int getSecureClientPort();
    Code:
       0: aload_0
       1: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: ifnull        17
       7: aload_0
       8: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      11: invokevirtual #355                // Method org/apache/zookeeper/server/ServerCnxnFactory.getLocalPort:()I
      14: goto          18
      17: iconst_m1
      18: ireturn

  public int getMaxClientCnxnsPerHost();
    Code:
       0: aload_0
       1: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: ifnull        15
       7: aload_0
       8: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      11: invokevirtual #356                // Method org/apache/zookeeper/server/ServerCnxnFactory.getMaxClientCnxnsPerHost:()I
      14: ireturn
      15: aload_0
      16: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      19: ifnull        30
      22: aload_0
      23: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      26: invokevirtual #356                // Method org/apache/zookeeper/server/ServerCnxnFactory.getMaxClientCnxnsPerHost:()I
      29: ireturn
      30: iconst_m1
      31: ireturn

  public void setTxnLogFactory(org.apache.zookeeper.server.persistence.FileTxnSnapLog);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       5: return

  public org.apache.zookeeper.server.persistence.FileTxnSnapLog getTxnLogFactory();
    Code:
       0: aload_0
       1: getfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       4: areturn

  public long getTxnLogElapsedSyncTime();
    Code:
       0: aload_0
       1: getfield      #15                 // Field txnLogFactory:Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;
       4: invokevirtual #357                // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog.getTxnLogElapsedSyncTime:()J
       7: lreturn

  public java.lang.String getState();
    Code:
       0: ldc_w         #358                // String standalone
       3: areturn

  public void dumpEphemerals(java.io.PrintWriter);
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: aload_1
       5: invokevirtual #359                // Method org/apache/zookeeper/server/ZKDatabase.dumpEphemerals:(Ljava/io/PrintWriter;)V
       8: return

  public java.util.Map<java.lang.Long, java.util.Set<java.lang.String>> getEphemerals();
    Code:
       0: aload_0
       1: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
       4: invokevirtual #360                // Method org/apache/zookeeper/server/ZKDatabase.getEphemerals:()Ljava/util/Map;
       7: areturn

  public double getConnectionDropChance();
    Code:
       0: aload_0
       1: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
       4: invokevirtual #361                // Method org/apache/zookeeper/server/BlueThrottle.getDropChance:()D
       7: dreturn

  public void processConnectRequest(org.apache.zookeeper.server.ServerCnxn, java.nio.ByteBuffer) throws java.io.IOException, org.apache.zookeeper.server.ClientCnxnLimitException;
    Code:
       0: new           #362                // class org/apache/zookeeper/server/ByteBufferInputStream
       3: dup
       4: aload_2
       5: invokespecial #363                // Method org/apache/zookeeper/server/ByteBufferInputStream."<init>":(Ljava/nio/ByteBuffer;)V
       8: invokestatic  #364                // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      11: astore_3
      12: new           #365                // class org/apache/zookeeper/proto/ConnectRequest
      15: dup
      16: invokespecial #366                // Method org/apache/zookeeper/proto/ConnectRequest."<init>":()V
      19: astore        4
      21: aload         4
      23: aload_3
      24: ldc_w         #285                // String connect
      27: invokevirtual #367                // Method org/apache/zookeeper/proto/ConnectRequest.deserialize:(Lorg/apache/jute/InputArchive;Ljava/lang/String;)V
      30: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      33: ldc_w         #368                // String Session establishment request from client {} client\'s lastZxid is 0x{}
      36: aload_1
      37: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
      40: aload         4
      42: invokevirtual #369                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
      45: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      48: invokeinterface #370,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      53: aload         4
      55: invokevirtual #371                // Method org/apache/zookeeper/proto/ConnectRequest.getSessionId:()J
      58: lstore        5
      60: iconst_1
      61: istore        7
      63: aload_0
      64: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
      67: invokevirtual #372                // Method org/apache/zookeeper/server/BlueThrottle.isConnectionWeightEnabled:()Z
      70: ifeq          120
      73: lload         5
      75: lconst_0
      76: lcmp
      77: ifne          111
      80: aload_0
      81: getfield      #22                 // Field localSessionEnabled:Z
      84: ifeq          99
      87: aload_0
      88: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
      91: invokevirtual #373                // Method org/apache/zookeeper/server/BlueThrottle.getRequiredTokensForLocal:()I
      94: istore        7
      96: goto          120
      99: aload_0
     100: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
     103: invokevirtual #374                // Method org/apache/zookeeper/server/BlueThrottle.getRequiredTokensForGlobal:()I
     106: istore        7
     108: goto          120
     111: aload_0
     112: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
     115: invokevirtual #375                // Method org/apache/zookeeper/server/BlueThrottle.getRequiredTokensForRenew:()I
     118: istore        7
     120: aload_0
     121: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
     124: iload         7
     126: invokevirtual #376                // Method org/apache/zookeeper/server/BlueThrottle.checkLimit:(I)Z
     129: ifne          140
     132: new           #377                // class org/apache/zookeeper/server/ClientCnxnLimitException
     135: dup
     136: invokespecial #378                // Method org/apache/zookeeper/server/ClientCnxnLimitException."<init>":()V
     139: athrow
     140: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     143: getfield      #379                // Field org/apache/zookeeper/server/ServerMetrics.CONNECTION_TOKEN_DEFICIT:Lorg/apache/zookeeper/metrics/Summary;
     146: aload_0
     147: getfield      #35                 // Field connThrottle:Lorg/apache/zookeeper/server/BlueThrottle;
     150: invokevirtual #380                // Method org/apache/zookeeper/server/BlueThrottle.getDeficit:()I
     153: i2l
     154: invokeinterface #143,  3          // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
     159: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     162: getfield      #381                // Field org/apache/zookeeper/server/ServerMetrics.CONNECTION_REQUEST_COUNT:Lorg/apache/zookeeper/metrics/Counter;
     165: lconst_1
     166: invokeinterface #382,  3          // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
     171: iconst_0
     172: istore        8
     174: aload_3
     175: ldc_w         #289                // String readOnly
     178: invokevirtual #383                // Method org/apache/jute/BinaryInputArchive.readBool:(Ljava/lang/String;)Z
     181: istore        8
     183: aload_1
     184: iconst_0
     185: putfield      #287                // Field org/apache/zookeeper/server/ServerCnxn.isOldClient:Z
     188: goto          208
     191: astore        9
     193: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     196: ldc_w         #384                // String Connection request from old client {}; will be dropped if server is in r-o mode
     199: aload_1
     200: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     203: invokeinterface #325,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     208: iload         8
     210: ifne          268
     213: aload_0
     214: instanceof    #288                // class org/apache/zookeeper/server/quorum/ReadOnlyZooKeeperServer
     217: ifeq          268
     220: new           #164                // class java/lang/StringBuilder
     223: dup
     224: invokespecial #165                // Method java/lang/StringBuilder."<init>":()V
     227: ldc_w         #385                // String Refusing session request for not-read-only client
     230: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: aload_1
     234: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     237: invokevirtual #386                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     240: invokevirtual #168                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     243: astore        9
     245: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     248: aload         9
     250: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     255: new           #387                // class org/apache/zookeeper/server/ServerCnxn$CloseRequestException
     258: dup
     259: aload         9
     261: getstatic     #388                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.CLIENT_ZXID_AHEAD:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     264: invokespecial #389                // Method org/apache/zookeeper/server/ServerCnxn$CloseRequestException."<init>":(Ljava/lang/String;Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)V
     267: athrow
     268: aload         4
     270: invokevirtual #369                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
     273: aload_0
     274: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     277: getfield      #390                // Field org/apache/zookeeper/server/ZKDatabase.dataTree:Lorg/apache/zookeeper/server/DataTree;
     280: getfield      #391                // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
     283: lcmp
     284: ifle          377
     287: new           #164                // class java/lang/StringBuilder
     290: dup
     291: invokespecial #165                // Method java/lang/StringBuilder."<init>":()V
     294: ldc_w         #392                // String Refusing session request for client
     297: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     300: aload_1
     301: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     304: invokevirtual #386                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     307: ldc_w         #393                // String  as it has seen zxid 0x
     310: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     313: aload         4
     315: invokevirtual #369                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
     318: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     321: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     324: ldc_w         #394                // String  our last zxid is 0x
     327: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     330: aload_0
     331: invokevirtual #395                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     334: invokevirtual #111                // Method org/apache/zookeeper/server/ZKDatabase.getDataTreeLastProcessedZxid:()J
     337: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     340: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     343: ldc_w         #396                // String  client must try another server
     346: invokevirtual #167                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     349: invokevirtual #168                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     352: astore        9
     354: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     357: aload         9
     359: invokeinterface #76,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     364: new           #387                // class org/apache/zookeeper/server/ServerCnxn$CloseRequestException
     367: dup
     368: aload         9
     370: getstatic     #397                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.NOT_READ_ONLY_CLIENT:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     373: invokespecial #389                // Method org/apache/zookeeper/server/ServerCnxn$CloseRequestException."<init>":(Ljava/lang/String;Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)V
     376: athrow
     377: aload         4
     379: invokevirtual #398                // Method org/apache/zookeeper/proto/ConnectRequest.getTimeOut:()I
     382: istore        9
     384: aload         4
     386: invokevirtual #399                // Method org/apache/zookeeper/proto/ConnectRequest.getPasswd:()[B
     389: astore        10
     391: aload_0
     392: invokevirtual #68                 // Method getMinSessionTimeout:()I
     395: istore        11
     397: iload         9
     399: iload         11
     401: if_icmpge     408
     404: iload         11
     406: istore        9
     408: aload_0
     409: invokevirtual #69                 // Method getMaxSessionTimeout:()I
     412: istore        12
     414: iload         9
     416: iload         12
     418: if_icmple     425
     421: iload         12
     423: istore        9
     425: aload_1
     426: iload         9
     428: invokevirtual #400                // Method org/apache/zookeeper/server/ServerCnxn.setSessionTimeout:(I)V
     431: aload_1
     432: invokevirtual #401                // Method org/apache/zookeeper/server/ServerCnxn.disableRecv:()V
     435: lload         5
     437: lconst_0
     438: lcmp
     439: ifne          508
     442: aload_0
     443: aload_1
     444: aload         10
     446: iload         9
     448: invokevirtual #402                // Method createSession:(Lorg/apache/zookeeper/server/ServerCnxn;[BI)J
     451: lstore        13
     453: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     456: ldc_w         #403                // String Client attempting to establish new session: session = 0x{}, zxid = 0x{}, timeout = {}, address = {}
     459: iconst_4
     460: anewarray     #66                 // class java/lang/Object
     463: dup
     464: iconst_0
     465: lload         13
     467: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     470: aastore
     471: dup
     472: iconst_1
     473: aload         4
     475: invokevirtual #369                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
     478: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     481: aastore
     482: dup
     483: iconst_2
     484: aload         4
     486: invokevirtual #398                // Method org/apache/zookeeper/proto/ConnectRequest.getTimeOut:()I
     489: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     492: aastore
     493: dup
     494: iconst_3
     495: aload_1
     496: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     499: aastore
     500: invokeinterface #299,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     505: goto          636
     508: aload         4
     510: invokevirtual #371                // Method org/apache/zookeeper/proto/ConnectRequest.getSessionId:()J
     513: lstore        13
     515: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     518: ldc_w         #404                // String Client attempting to renew session: session = 0x{}, zxid = 0x{}, timeout = {}, address = {}
     521: iconst_4
     522: anewarray     #66                 // class java/lang/Object
     525: dup
     526: iconst_0
     527: lload         13
     529: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     532: aastore
     533: dup
     534: iconst_1
     535: aload         4
     537: invokevirtual #369                // Method org/apache/zookeeper/proto/ConnectRequest.getLastZxidSeen:()J
     540: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     543: aastore
     544: dup
     545: iconst_2
     546: aload         4
     548: invokevirtual #398                // Method org/apache/zookeeper/proto/ConnectRequest.getTimeOut:()I
     551: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     554: aastore
     555: dup
     556: iconst_3
     557: aload_1
     558: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     561: aastore
     562: invokeinterface #299,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     567: aload_0
     568: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
     571: ifnull        587
     574: aload_0
     575: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
     578: lload         5
     580: getstatic     #405                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.CLIENT_RECONNECT:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     583: invokevirtual #406                // Method org/apache/zookeeper/server/ServerCnxnFactory.closeSession:(JLorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)Z
     586: pop
     587: aload_0
     588: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
     591: ifnull        607
     594: aload_0
     595: getfield      #277                // Field secureServerCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
     598: lload         5
     600: getstatic     #405                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.CLIENT_RECONNECT:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     603: invokevirtual #406                // Method org/apache/zookeeper/server/ServerCnxnFactory.closeSession:(JLorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)Z
     606: pop
     607: aload_1
     608: lload         5
     610: invokevirtual #262                // Method org/apache/zookeeper/server/ServerCnxn.setSessionId:(J)V
     613: aload_0
     614: aload_1
     615: lload         5
     617: aload         10
     619: iload         9
     621: invokevirtual #407                // Method reopenSession:(Lorg/apache/zookeeper/server/ServerCnxn;J[BI)V
     624: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     627: getfield      #408                // Field org/apache/zookeeper/server/ServerMetrics.CONNECTION_REVALIDATE_COUNT:Lorg/apache/zookeeper/metrics/Counter;
     630: lconst_1
     631: invokeinterface #382,  3          // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
     636: return
    Exception table:
       from    to  target type
         174   188   191   Class java/io/IOException

  public boolean shouldThrottle(long);
    Code:
       0: aload_0
       1: invokevirtual #409                // Method getGlobalOutstandingLimit:()I
       4: istore_3
       5: iload_3
       6: aload_0
       7: invokevirtual #410                // Method getInflight:()I
      10: if_icmplt     21
      13: iload_3
      14: aload_0
      15: invokevirtual #348                // Method getInProcess:()I
      18: if_icmpge     33
      21: lload_1
      22: lconst_0
      23: lcmp
      24: ifle          31
      27: iconst_1
      28: goto          32
      31: iconst_0
      32: ireturn
      33: iconst_0
      34: ireturn

  long getFlushDelay();
    Code:
       0: getstatic     #411                // Field flushDelay:J
       3: lreturn

  static void setFlushDelay(long);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #412                // String {}={}
       6: ldc_w         #413                // String zookeeper.flushDelay
       9: lload_0
      10: invokestatic  #139                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      13: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      18: lload_0
      19: putstatic     #411                // Field flushDelay:J
      22: return

  long getMaxWriteQueuePollTime();
    Code:
       0: getstatic     #414                // Field maxWriteQueuePollTime:J
       3: lreturn

  static void setMaxWriteQueuePollTime(long);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #412                // String {}={}
       6: ldc_w         #415                // String zookeeper.maxWriteQueuePollTime
       9: lload_0
      10: invokestatic  #139                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      13: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      18: lload_0
      19: putstatic     #414                // Field maxWriteQueuePollTime:J
      22: return

  int getMaxBatchSize();
    Code:
       0: getstatic     #416                // Field maxBatchSize:I
       3: ireturn

  static void setMaxBatchSize(int);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #412                // String {}={}
       6: ldc_w         #417                // String zookeeper.maxBatchSize
       9: iload_0
      10: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      18: iload_0
      19: putstatic     #416                // Field maxBatchSize:I
      22: return

  private void initLargeRequestThrottlingSettings();
    Code:
       0: aload_0
       1: ldc_w         #418                // String zookeeper.largeRequestMaxBytes
       4: aload_0
       5: getfield      #37                 // Field largeRequestMaxBytes:I
       8: invokestatic  #57                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      11: invokevirtual #58                 // Method java/lang/Integer.intValue:()I
      14: invokevirtual #419                // Method setLargeRequestMaxBytes:(I)V
      17: aload_0
      18: ldc_w         #420                // String zookeeper.largeRequestThreshold
      21: iconst_m1
      22: invokestatic  #57                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      25: invokevirtual #58                 // Method java/lang/Integer.intValue:()I
      28: invokevirtual #421                // Method setLargeRequestThreshold:(I)V
      31: return

  public int getLargeRequestMaxBytes();
    Code:
       0: aload_0
       1: getfield      #37                 // Field largeRequestMaxBytes:I
       4: ireturn

  public void setLargeRequestMaxBytes(int);
    Code:
       0: iload_1
       1: ifgt          40
       4: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       7: ldc_w         #422                // String Invalid max bytes for all large requests {}. It should be a positive number.
      10: iload_1
      11: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      14: invokeinterface #325,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      19: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      22: ldc_w         #423                // String Will not change the setting. The max bytes stay at {}
      25: aload_0
      26: getfield      #37                 // Field largeRequestMaxBytes:I
      29: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      32: invokeinterface #325,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      37: goto          63
      40: aload_0
      41: iload_1
      42: putfield      #37                 // Field largeRequestMaxBytes:I
      45: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      48: ldc_w         #424                // String The max bytes for all large requests are set to {}
      51: aload_0
      52: getfield      #37                 // Field largeRequestMaxBytes:I
      55: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      58: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      63: return

  public int getLargeRequestThreshold();
    Code:
       0: aload_0
       1: getfield      #38                 // Field largeRequestThreshold:I
       4: ireturn

  public void setLargeRequestThreshold(int);
    Code:
       0: iload_1
       1: ifeq          9
       4: iload_1
       5: iconst_m1
       6: if_icmpge     32
       9: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      12: ldc_w         #425                // String Invalid large request threshold {}. It should be -1 or positive. Setting to -1
      15: iload_1
      16: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      19: invokeinterface #325,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      24: aload_0
      25: iconst_m1
      26: putfield      #38                 // Field largeRequestThreshold:I
      29: goto          55
      32: aload_0
      33: iload_1
      34: putfield      #38                 // Field largeRequestThreshold:I
      37: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      40: ldc_w         #426                // String The large request threshold is set to {}
      43: aload_0
      44: getfield      #38                 // Field largeRequestThreshold:I
      47: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      50: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      55: return

  public int getLargeRequestBytes();
    Code:
       0: aload_0
       1: getfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #249                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: ireturn

  private boolean isLargeRequest(int);
    Code:
       0: aload_0
       1: getfield      #38                 // Field largeRequestThreshold:I
       4: iconst_m1
       5: if_icmpne     10
       8: iconst_0
       9: ireturn
      10: iload_1
      11: aload_0
      12: getfield      #38                 // Field largeRequestThreshold:I
      15: if_icmple     22
      18: iconst_1
      19: goto          23
      22: iconst_0
      23: ireturn

  public boolean checkRequestSizeWhenReceivingMessage(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #427                // Method isLargeRequest:(I)Z
       5: ifne          10
       8: iconst_1
       9: ireturn
      10: aload_0
      11: getfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
      14: invokevirtual #249                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
      17: iload_1
      18: iadd
      19: aload_0
      20: getfield      #37                 // Field largeRequestMaxBytes:I
      23: if_icmpgt     28
      26: iconst_1
      27: ireturn
      28: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      31: getfield      #428                // Field org/apache/zookeeper/server/ServerMetrics.LARGE_REQUESTS_REJECTED:Lorg/apache/zookeeper/metrics/Counter;
      34: lconst_1
      35: invokeinterface #382,  3          // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
      40: new           #132                // class java/io/IOException
      43: dup
      44: ldc_w         #429                // String Rejecting large request
      47: invokespecial #430                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      50: athrow

  private boolean checkRequestSizeWhenMessageReceived(int) throws java.io.IOException;
    Code:
       0: aload_0
       1: iload_1
       2: invokespecial #427                // Method isLargeRequest:(I)Z
       5: ifne          10
       8: iconst_1
       9: ireturn
      10: aload_0
      11: getfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
      14: iload_1
      15: invokevirtual #431                // Method java/util/concurrent/atomic/AtomicInteger.addAndGet:(I)I
      18: istore_2
      19: iload_2
      20: aload_0
      21: getfield      #37                 // Field largeRequestMaxBytes:I
      24: if_icmple     60
      27: aload_0
      28: getfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
      31: iload_1
      32: ineg
      33: invokevirtual #431                // Method java/util/concurrent/atomic/AtomicInteger.addAndGet:(I)I
      36: pop
      37: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      40: getfield      #428                // Field org/apache/zookeeper/server/ServerMetrics.LARGE_REQUESTS_REJECTED:Lorg/apache/zookeeper/metrics/Counter;
      43: lconst_1
      44: invokeinterface #382,  3          // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
      49: new           #132                // class java/io/IOException
      52: dup
      53: ldc_w         #429                // String Rejecting large request
      56: invokespecial #430                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      59: athrow
      60: iconst_1
      61: ireturn

  public void requestFinished(org.apache.zookeeper.server.Request);
    Code:
       0: aload_1
       1: invokevirtual #432                // Method org/apache/zookeeper/server/Request.getLargeRequestSize:()I
       4: istore_2
       5: iload_2
       6: iconst_m1
       7: if_icmpeq     20
      10: aload_0
      11: getfield      #39                 // Field currentLargeRequestBytes:Ljava/util/concurrent/atomic/AtomicInteger;
      14: iload_2
      15: ineg
      16: invokevirtual #431                // Method java/util/concurrent/atomic/AtomicInteger.addAndGet:(I)I
      19: pop
      20: return

  public void processPacket(org.apache.zookeeper.server.ServerCnxn, java.nio.ByteBuffer) throws java.io.IOException;
    Code:
       0: new           #362                // class org/apache/zookeeper/server/ByteBufferInputStream
       3: dup
       4: aload_2
       5: invokespecial #363                // Method org/apache/zookeeper/server/ByteBufferInputStream."<init>":(Ljava/nio/ByteBuffer;)V
       8: astore_3
       9: aload_3
      10: invokestatic  #364                // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      13: astore        4
      15: new           #433                // class org/apache/zookeeper/proto/RequestHeader
      18: dup
      19: invokespecial #434                // Method org/apache/zookeeper/proto/RequestHeader."<init>":()V
      22: astore        5
      24: aload         5
      26: aload         4
      28: ldc_w         #435                // String header
      31: invokevirtual #436                // Method org/apache/zookeeper/proto/RequestHeader.deserialize:(Lorg/apache/jute/InputArchive;Ljava/lang/String;)V
      34: aload_1
      35: aload         5
      37: invokevirtual #437                // Method org/apache/zookeeper/server/ServerCnxn.incrOutstandingAndCheckThrottle:(Lorg/apache/zookeeper/proto/RequestHeader;)V
      40: aload_2
      41: invokevirtual #438                // Method java/nio/ByteBuffer.slice:()Ljava/nio/ByteBuffer;
      44: astore_2
      45: aload         5
      47: invokevirtual #439                // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
      50: bipush        100
      52: if_icmpne     308
      55: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      58: ldc_w         #440                // String got auth packet {}
      61: aload_1
      62: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
      65: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      70: new           #441                // class org/apache/zookeeper/proto/AuthPacket
      73: dup
      74: invokespecial #442                // Method org/apache/zookeeper/proto/AuthPacket."<init>":()V
      77: astore        6
      79: aload_2
      80: aload         6
      82: invokestatic  #443                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
      85: aload         6
      87: invokevirtual #444                // Method org/apache/zookeeper/proto/AuthPacket.getScheme:()Ljava/lang/String;
      90: astore        7
      92: aload         7
      94: invokestatic  #445                // Method org/apache/zookeeper/server/auth/ProviderRegistry.getServerProvider:(Ljava/lang/String;)Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider;
      97: astore        8
      99: getstatic     #446                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     102: astore        9
     104: aload         8
     106: ifnull        155
     109: aload         8
     111: new           #447                // class org/apache/zookeeper/server/auth/ServerAuthenticationProvider$ServerObjs
     114: dup
     115: aload_0
     116: aload_1
     117: invokespecial #448                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider$ServerObjs."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/ServerCnxn;)V
     120: aload         6
     122: invokevirtual #449                // Method org/apache/zookeeper/proto/AuthPacket.getAuth:()[B
     125: invokevirtual #450                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider.handleAuthentication:(Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider$ServerObjs;[B)Lorg/apache/zookeeper/KeeperException$Code;
     128: astore        9
     130: goto          155
     133: astore        10
     135: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     138: ldc_w         #451                // String Caught runtime exception from AuthenticationProvider: {}
     141: aload         7
     143: aload         10
     145: invokeinterface #272,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     150: getstatic     #446                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     153: astore        9
     155: aload         9
     157: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     160: if_acmpne     223
     163: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     166: ldc_w         #453                // String Authentication succeeded for scheme: {}
     169: aload         7
     171: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     176: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     179: ldc_w         #455                // String auth success {}
     182: aload_1
     183: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     186: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     191: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     194: dup
     195: aload         5
     197: invokevirtual #457                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     200: lconst_0
     201: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     204: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     207: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     210: astore        10
     212: aload_1
     213: aload         10
     215: aconst_null
     216: aconst_null
     217: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     220: goto          307
     223: aload         8
     225: ifnonnull     247
     228: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     231: ldc_w         #461                // String No authentication provider for scheme: {} has {}
     234: aload         7
     236: invokestatic  #462                // Method org/apache/zookeeper/server/auth/ProviderRegistry.listProviders:()Ljava/lang/String;
     239: invokeinterface #272,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     244: goto          260
     247: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     250: ldc_w         #463                // String Authentication failed for scheme: {}
     253: aload         7
     255: invokeinterface #325,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     260: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     263: dup
     264: aload         5
     266: invokevirtual #457                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     269: lconst_0
     270: getstatic     #446                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     273: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     276: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     279: astore        10
     281: aload_1
     282: aload         10
     284: aconst_null
     285: aconst_null
     286: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     289: aload_1
     290: iconst_1
     291: anewarray     #296                // class java/nio/ByteBuffer
     294: dup
     295: iconst_0
     296: getstatic     #302                // Field org/apache/zookeeper/server/ServerCnxnFactory.closeConn:Ljava/nio/ByteBuffer;
     299: aastore
     300: invokevirtual #297                // Method org/apache/zookeeper/server/ServerCnxn.sendBuffer:([Ljava/nio/ByteBuffer;)V
     303: aload_1
     304: invokevirtual #401                // Method org/apache/zookeeper/server/ServerCnxn.disableRecv:()V
     307: return
     308: aload         5
     310: invokevirtual #439                // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     313: bipush        102
     315: if_icmpne     329
     318: aload_0
     319: aload_2
     320: aload_1
     321: aload         5
     323: invokespecial #464                // Method processSasl:(Ljava/nio/ByteBuffer;Lorg/apache/zookeeper/server/ServerCnxn;Lorg/apache/zookeeper/proto/RequestHeader;)V
     326: goto          457
     329: invokestatic  #465                // Method shouldRequireClientSaslAuth:()Z
     332: ifeq          385
     335: aload_0
     336: aload_1
     337: invokespecial #466                // Method hasCnxSASLAuthenticated:(Lorg/apache/zookeeper/server/ServerCnxn;)Z
     340: ifne          385
     343: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     346: dup
     347: aload         5
     349: invokevirtual #457                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     352: lconst_0
     353: getstatic     #467                // Field org/apache/zookeeper/KeeperException$Code.SESSIONCLOSEDREQUIRESASLAUTH:Lorg/apache/zookeeper/KeeperException$Code;
     356: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     359: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     362: astore        6
     364: aload_1
     365: aload         6
     367: aconst_null
     368: ldc_w         #468                // String response
     371: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     374: aload_1
     375: invokevirtual #469                // Method org/apache/zookeeper/server/ServerCnxn.sendCloseSession:()V
     378: aload_1
     379: invokevirtual #401                // Method org/apache/zookeeper/server/ServerCnxn.disableRecv:()V
     382: goto          457
     385: new           #152                // class org/apache/zookeeper/server/Request
     388: dup
     389: aload_1
     390: aload_1
     391: invokevirtual #174                // Method org/apache/zookeeper/server/ServerCnxn.getSessionId:()J
     394: aload         5
     396: invokevirtual #457                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     399: aload         5
     401: invokevirtual #439                // Method org/apache/zookeeper/proto/RequestHeader.getType:()I
     404: aload_2
     405: aload_1
     406: invokevirtual #470                // Method org/apache/zookeeper/server/ServerCnxn.getAuthInfo:()Ljava/util/List;
     409: invokespecial #154                // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
     412: astore        6
     414: aload_2
     415: invokevirtual #471                // Method java/nio/ByteBuffer.limit:()I
     418: istore        7
     420: aload_0
     421: iload         7
     423: invokespecial #427                // Method isLargeRequest:(I)Z
     426: ifeq          443
     429: aload_0
     430: iload         7
     432: invokespecial #472                // Method checkRequestSizeWhenMessageReceived:(I)Z
     435: pop
     436: aload         6
     438: iload         7
     440: invokevirtual #473                // Method org/apache/zookeeper/server/Request.setLargeRequestSize:(I)V
     443: aload         6
     445: getstatic     #474                // Field org/apache/zookeeper/server/ServerCnxn.me:Ljava/lang/Object;
     448: invokevirtual #475                // Method org/apache/zookeeper/server/Request.setOwner:(Ljava/lang/Object;)V
     451: aload_0
     452: aload         6
     454: invokevirtual #155                // Method submitRequest:(Lorg/apache/zookeeper/server/Request;)V
     457: return
    Exception table:
       from    to  target type
         109   130   133   Class java/lang/RuntimeException

  private static boolean shouldAllowSaslFailedClientsConnect();
    Code:
       0: ldc_w         #476                // String zookeeper.allowSaslFailedClients
       3: invokestatic  #477                // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
       6: ireturn

  private static boolean shouldRequireClientSaslAuth();
    Code:
       0: ldc_w         #478                // String zookeeper.sessionRequireClientSASLAuth
       3: invokestatic  #477                // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
       6: ireturn

  private boolean hasCnxSASLAuthenticated(org.apache.zookeeper.server.ServerCnxn);
    Code:
       0: aload_1
       1: invokevirtual #470                // Method org/apache/zookeeper/server/ServerCnxn.getAuthInfo:()Ljava/util/List;
       4: invokeinterface #124,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       9: astore_2
      10: aload_2
      11: invokeinterface #118,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          47
      19: aload_2
      20: invokeinterface #119,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #479                // class org/apache/zookeeper/data/Id
      28: astore_3
      29: aload_3
      30: invokevirtual #480                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
      33: ldc_w         #481                // String sasl
      36: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      39: ifeq          44
      42: iconst_1
      43: ireturn
      44: goto          10
      47: iconst_0
      48: ireturn

  private void processSasl(java.nio.ByteBuffer, org.apache.zookeeper.server.ServerCnxn, org.apache.zookeeper.proto.RequestHeader) throws java.io.IOException;
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #483                // String Responding to client SASL token.
       6: invokeinterface #227,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      11: new           #484                // class org/apache/zookeeper/proto/GetSASLRequest
      14: dup
      15: invokespecial #485                // Method org/apache/zookeeper/proto/GetSASLRequest."<init>":()V
      18: astore        4
      20: aload_1
      21: aload         4
      23: invokestatic  #443                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
      26: aload         4
      28: invokevirtual #486                // Method org/apache/zookeeper/proto/GetSASLRequest.getToken:()[B
      31: astore        5
      33: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      36: ldc_w         #487                // String Size of client SASL token: {}
      39: aload         5
      41: arraylength
      42: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      45: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      50: aconst_null
      51: astore        6
      53: aload_2
      54: getfield      #488                // Field org/apache/zookeeper/server/ServerCnxn.zooKeeperSaslServer:Lorg/apache/zookeeper/server/ZooKeeperSaslServer;
      57: astore        7
      59: aload         7
      61: aload         5
      63: invokevirtual #489                // Method org/apache/zookeeper/server/ZooKeeperSaslServer.evaluateResponse:([B)[B
      66: astore        6
      68: aload         7
      70: invokevirtual #490                // Method org/apache/zookeeper/server/ZooKeeperSaslServer.isComplete:()Z
      73: ifeq          151
      76: aload         7
      78: invokevirtual #491                // Method org/apache/zookeeper/server/ZooKeeperSaslServer.getAuthorizationID:()Ljava/lang/String;
      81: astore        8
      83: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      86: ldc_w         #492                // String adding SASL authorization for authorizationID: {}
      89: aload         8
      91: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      96: aload_2
      97: new           #479                // class org/apache/zookeeper/data/Id
     100: dup
     101: ldc_w         #481                // String sasl
     104: aload         8
     106: invokespecial #493                // Method org/apache/zookeeper/data/Id."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     109: invokevirtual #494                // Method org/apache/zookeeper/server/ServerCnxn.addAuthInfo:(Lorg/apache/zookeeper/data/Id;)V
     112: ldc_w         #495                // String zookeeper.superUser
     115: invokestatic  #335                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     118: ifnull        151
     121: aload         8
     123: ldc_w         #495                // String zookeeper.superUser
     126: invokestatic  #335                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     129: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     132: ifeq          151
     135: aload_2
     136: new           #479                // class org/apache/zookeeper/data/Id
     139: dup
     140: ldc_w         #496                // String super
     143: ldc           #108                // String
     145: invokespecial #493                // Method org/apache/zookeeper/data/Id."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     148: invokevirtual #494                // Method org/apache/zookeeper/server/ServerCnxn.addAuthInfo:(Lorg/apache/zookeeper/data/Id;)V
     151: goto          288
     154: astore        8
     156: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     159: ldc_w         #498                // String Client {} failed to SASL authenticate: {}
     162: aload_2
     163: invokevirtual #271                // Method org/apache/zookeeper/server/ServerCnxn.getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     166: aload         8
     168: invokeinterface #272,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     173: invokestatic  #499                // Method shouldAllowSaslFailedClientsConnect:()Z
     176: ifeq          199
     179: invokestatic  #465                // Method shouldRequireClientSaslAuth:()Z
     182: ifne          199
     185: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     188: ldc_w         #500                // String Maintaining client connection despite SASL authentication failure.
     191: invokeinterface #338,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     196: goto          288
     199: invokestatic  #465                // Method shouldRequireClientSaslAuth:()Z
     202: ifeq          227
     205: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     208: ldc_w         #501                // String Closing client connection due to server requires client SASL authenticaiton,but client SASL authentication has failed, or client is not configured with SASL authentication.
     211: invokeinterface #338,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     216: getstatic     #467                // Field org/apache/zookeeper/KeeperException$Code.SESSIONCLOSEDREQUIRESASLAUTH:Lorg/apache/zookeeper/KeeperException$Code;
     219: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     222: istore        9
     224: goto          246
     227: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     230: ldc_w         #502                // String Closing client connection due to SASL authentication failure.
     233: invokeinterface #338,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     238: getstatic     #446                // Field org/apache/zookeeper/KeeperException$Code.AUTHFAILED:Lorg/apache/zookeeper/KeeperException$Code;
     241: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     244: istore        9
     246: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     249: dup
     250: aload_3
     251: invokevirtual #457                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     254: lconst_0
     255: iload         9
     257: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     260: astore        10
     262: aload_2
     263: aload         10
     265: new           #503                // class org/apache/zookeeper/proto/SetSASLResponse
     268: dup
     269: aconst_null
     270: invokespecial #504                // Method org/apache/zookeeper/proto/SetSASLResponse."<init>":([B)V
     273: ldc_w         #468                // String response
     276: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     279: aload_2
     280: invokevirtual #469                // Method org/apache/zookeeper/server/ServerCnxn.sendCloseSession:()V
     283: aload_2
     284: invokevirtual #401                // Method org/apache/zookeeper/server/ServerCnxn.disableRecv:()V
     287: return
     288: goto          304
     291: astore        7
     293: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     296: ldc_w         #506                // String cnxn.saslServer is null: cnxn object did not initialize its saslServer properly.
     299: invokeinterface #507,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     304: aload         6
     306: ifnull        326
     309: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     312: ldc_w         #508                // String Size of server SASL response: {}
     315: aload         6
     317: arraylength
     318: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     321: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     326: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     329: dup
     330: aload_3
     331: invokevirtual #457                // Method org/apache/zookeeper/proto/RequestHeader.getXid:()I
     334: lconst_0
     335: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     338: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     341: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     344: astore        7
     346: new           #503                // class org/apache/zookeeper/proto/SetSASLResponse
     349: dup
     350: aload         6
     352: invokespecial #504                // Method org/apache/zookeeper/proto/SetSASLResponse."<init>":([B)V
     355: astore        8
     357: aload_2
     358: aload         7
     360: aload         8
     362: ldc_w         #468                // String response
     365: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     368: return
    Exception table:
       from    to  target type
          59   151   154   Class javax/security/sasl/SaslException
          53   287   291   Class java/lang/NullPointerException

  public org.apache.zookeeper.server.DataTree$ProcessTxnResult processTxn(org.apache.zookeeper.txn.TxnHeader, org.apache.jute.Record);
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: aload_2
       4: invokespecial #509                // Method processTxnForSessionEvents:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;)V
       7: aload_0
       8: aload_1
       9: aload_2
      10: aconst_null
      11: invokespecial #510                // Method processTxnInDB:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;Lorg/apache/zookeeper/txn/TxnDigest;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
      14: areturn

  public org.apache.zookeeper.server.DataTree$ProcessTxnResult processTxn(org.apache.zookeeper.server.Request);
    Code:
       0: aload_1
       1: invokevirtual #511                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
       4: astore_2
       5: aload_0
       6: aload_1
       7: aload_2
       8: aload_1
       9: invokevirtual #512                // Method org/apache/zookeeper/server/Request.getTxn:()Lorg/apache/jute/Record;
      12: invokespecial #509                // Method processTxnForSessionEvents:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;)V
      15: aload_2
      16: ifnull        23
      19: iconst_1
      20: goto          24
      23: iconst_0
      24: istore_3
      25: aload_1
      26: invokevirtual #513                // Method org/apache/zookeeper/server/Request.isQuorum:()Z
      29: istore        4
      31: iload_3
      32: ifne          48
      35: iload         4
      37: ifne          48
      40: new           #514                // class org/apache/zookeeper/server/DataTree$ProcessTxnResult
      43: dup
      44: invokespecial #515                // Method org/apache/zookeeper/server/DataTree$ProcessTxnResult."<init>":()V
      47: areturn
      48: aload_0
      49: getfield      #28                 // Field outstandingChanges:Ljava/util/Deque;
      52: dup
      53: astore        5
      55: monitorenter
      56: aload_0
      57: aload_2
      58: aload_1
      59: invokevirtual #512                // Method org/apache/zookeeper/server/Request.getTxn:()Lorg/apache/jute/Record;
      62: aload_1
      63: invokevirtual #516                // Method org/apache/zookeeper/server/Request.getTxnDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
      66: invokespecial #510                // Method processTxnInDB:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;Lorg/apache/zookeeper/txn/TxnDigest;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
      69: astore        6
      71: iload_3
      72: ifeq          212
      75: aload_2
      76: invokevirtual #517                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
      79: lstore        7
      81: aload_0
      82: getfield      #28                 // Field outstandingChanges:Ljava/util/Deque;
      85: invokeinterface #518,  1          // InterfaceMethod java/util/Deque.isEmpty:()Z
      90: ifne          212
      93: aload_0
      94: getfield      #28                 // Field outstandingChanges:Ljava/util/Deque;
      97: invokeinterface #519,  1          // InterfaceMethod java/util/Deque.peek:()Ljava/lang/Object;
     102: checkcast     #520                // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     105: getfield      #521                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.zxid:J
     108: lload         7
     110: lcmp
     111: ifgt          212
     114: aload_0
     115: getfield      #28                 // Field outstandingChanges:Ljava/util/Deque;
     118: invokeinterface #522,  1          // InterfaceMethod java/util/Deque.remove:()Ljava/lang/Object;
     123: checkcast     #520                // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     126: astore        9
     128: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     131: getfield      #523                // Field org/apache/zookeeper/server/ServerMetrics.OUTSTANDING_CHANGES_REMOVED:Lorg/apache/zookeeper/metrics/Counter;
     134: lconst_1
     135: invokeinterface #382,  3          // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
     140: aload         9
     142: getfield      #521                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.zxid:J
     145: lload         7
     147: lcmp
     148: ifge          175
     151: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     154: ldc_w         #524                // String Zxid outstanding 0x{} is less than current 0x{}
     157: aload         9
     159: getfield      #521                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.zxid:J
     162: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     165: lload         7
     167: invokestatic  #157                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     170: invokeinterface #272,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     175: aload_0
     176: getfield      #31                 // Field outstandingChangesForPath:Ljava/util/Map;
     179: aload         9
     181: getfield      #525                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
     184: invokeinterface #526,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     189: aload         9
     191: if_acmpne     209
     194: aload_0
     195: getfield      #31                 // Field outstandingChangesForPath:Ljava/util/Map;
     198: aload         9
     200: getfield      #525                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
     203: invokeinterface #527,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     208: pop
     209: goto          81
     212: iload         4
     214: ifeq          225
     217: aload_0
     218: invokevirtual #395                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     221: aload_1
     222: invokevirtual #528                // Method org/apache/zookeeper/server/ZKDatabase.addCommittedProposal:(Lorg/apache/zookeeper/server/Request;)V
     225: aload         6
     227: aload         5
     229: monitorexit
     230: areturn
     231: astore        10
     233: aload         5
     235: monitorexit
     236: aload         10
     238: athrow
    Exception table:
       from    to  target type
          56   230   231   any
         231   236   231   any

  private void processTxnForSessionEvents(org.apache.zookeeper.server.Request, org.apache.zookeeper.txn.TxnHeader, org.apache.jute.Record);
    Code:
       0: aload_1
       1: ifnonnull     11
       4: aload_2
       5: invokevirtual #529                // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
       8: goto          15
      11: aload_1
      12: getfield      #319                // Field org/apache/zookeeper/server/Request.type:I
      15: istore        4
      17: aload_1
      18: ifnonnull     28
      21: aload_2
      22: invokevirtual #530                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
      25: goto          32
      28: aload_1
      29: getfield      #531                // Field org/apache/zookeeper/server/Request.sessionId:J
      32: lstore        5
      34: iload         4
      36: bipush        -10
      38: if_icmpne     111
      41: aload_2
      42: ifnull        78
      45: aload_3
      46: instanceof    #532                // class org/apache/zookeeper/txn/CreateSessionTxn
      49: ifeq          78
      52: aload_3
      53: checkcast     #532                // class org/apache/zookeeper/txn/CreateSessionTxn
      56: astore        7
      58: aload_0
      59: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      62: lload         5
      64: aload         7
      66: invokevirtual #533                // Method org/apache/zookeeper/txn/CreateSessionTxn.getTimeOut:()I
      69: invokeinterface #534,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.commitSession:(JI)Z
      74: pop
      75: goto          129
      78: aload_1
      79: ifnull        89
      82: aload_1
      83: invokevirtual #535                // Method org/apache/zookeeper/server/Request.isLocalSession:()Z
      86: ifne          129
      89: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      92: ldc_w         #536                // String *****>>>>> Got {} {}
      95: aload_3
      96: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      99: aload_3
     100: invokevirtual #538                // Method java/lang/Object.toString:()Ljava/lang/String;
     103: invokeinterface #272,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     108: goto          129
     111: iload         4
     113: bipush        -11
     115: if_icmpne     129
     118: aload_0
     119: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
     122: lload         5
     124: invokeinterface #170,  3          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.removeSession:(J)V
     129: return

  private org.apache.zookeeper.server.DataTree$ProcessTxnResult processTxnInDB(org.apache.zookeeper.txn.TxnHeader, org.apache.jute.Record, org.apache.zookeeper.txn.TxnDigest);
    Code:
       0: aload_1
       1: ifnonnull     12
       4: new           #514                // class org/apache/zookeeper/server/DataTree$ProcessTxnResult
       7: dup
       8: invokespecial #515                // Method org/apache/zookeeper/server/DataTree$ProcessTxnResult."<init>":()V
      11: areturn
      12: aload_0
      13: invokevirtual #395                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      16: aload_1
      17: aload_2
      18: aload_3
      19: invokevirtual #539                // Method org/apache/zookeeper/server/ZKDatabase.processTxn:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;Lorg/apache/zookeeper/txn/TxnDigest;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
      22: areturn

  public java.util.Map<java.lang.Long, java.util.Set<java.lang.Long>> getSessionExpiryMap();
    Code:
       0: aload_0
       1: getfield      #149                // Field sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
       4: invokeinterface #540,  1          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.getSessionExpiryMap:()Ljava/util/Map;
       9: areturn

  void registerServerShutdownHandler(org.apache.zookeeper.server.ZooKeeperServerShutdownHandler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #224                // Field zkShutdownHandler:Lorg/apache/zookeeper/server/ZooKeeperServerShutdownHandler;
       5: return

  public boolean isResponseCachingEnabled();
    Code:
       0: aload_0
       1: getfield      #21                 // Field isResponseCachingEnabled:Z
       4: ireturn

  public void setResponseCachingEnabled(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #21                 // Field isResponseCachingEnabled:Z
       5: return

  public org.apache.zookeeper.server.ResponseCache getReadResponseCache();
    Code:
       0: aload_0
       1: getfield      #21                 // Field isResponseCachingEnabled:Z
       4: ifeq          14
       7: aload_0
       8: getfield      #60                 // Field readResponseCache:Lorg/apache/zookeeper/server/ResponseCache;
      11: goto          15
      14: aconst_null
      15: areturn

  public org.apache.zookeeper.server.ResponseCache getGetChildrenResponseCache();
    Code:
       0: aload_0
       1: getfield      #21                 // Field isResponseCachingEnabled:Z
       4: ifeq          14
       7: aload_0
       8: getfield      #62                 // Field getChildrenResponseCache:Lorg/apache/zookeeper/server/ResponseCache;
      11: goto          15
      14: aconst_null
      15: areturn

  protected void registerMetrics();
    Code:
       0: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
       3: invokevirtual #541                // Method org/apache/zookeeper/server/ServerMetrics.getMetricsProvider:()Lorg/apache/zookeeper/metrics/MetricsProvider;
       6: invokeinterface #542,  1          // InterfaceMethod org/apache/zookeeper/metrics/MetricsProvider.getRootContext:()Lorg/apache/zookeeper/metrics/MetricsContext;
      11: astore_1
      12: aload_0
      13: invokevirtual #395                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      16: astore_2
      17: aload_0
      18: invokevirtual #543                // Method serverStats:()Lorg/apache/zookeeper/server/ServerStats;
      21: astore_3
      22: aload_1
      23: ldc_w         #544                // String avg_latency
      26: aload_3
      27: dup
      28: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      31: pop
      32: invokedynamic #545,  0            // InvokeDynamic #0:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
      37: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
      42: aload_1
      43: ldc_w         #547                // String max_latency
      46: aload_3
      47: dup
      48: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      51: pop
      52: invokedynamic #548,  0            // InvokeDynamic #1:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
      57: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
      62: aload_1
      63: ldc_w         #549                // String min_latency
      66: aload_3
      67: dup
      68: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      71: pop
      72: invokedynamic #550,  0            // InvokeDynamic #2:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
      77: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
      82: aload_1
      83: ldc_w         #551                // String packets_received
      86: aload_3
      87: dup
      88: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
      91: pop
      92: invokedynamic #552,  0            // InvokeDynamic #3:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
      97: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     102: aload_1
     103: ldc_w         #553                // String packets_sent
     106: aload_3
     107: dup
     108: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     111: pop
     112: invokedynamic #554,  0            // InvokeDynamic #4:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     117: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     122: aload_1
     123: ldc_w         #555                // String num_alive_connections
     126: aload_3
     127: dup
     128: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     131: pop
     132: invokedynamic #556,  0            // InvokeDynamic #5:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     137: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     142: aload_1
     143: ldc_w         #557                // String outstanding_requests
     146: aload_3
     147: dup
     148: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     151: pop
     152: invokedynamic #558,  0            // InvokeDynamic #6:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     157: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     162: aload_1
     163: ldc_w         #559                // String uptime
     166: aload_3
     167: dup
     168: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     171: pop
     172: invokedynamic #560,  0            // InvokeDynamic #7:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     177: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     182: aload_1
     183: ldc_w         #561                // String znode_count
     186: aload_2
     187: dup
     188: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     191: pop
     192: invokedynamic #562,  0            // InvokeDynamic #8:get:(Lorg/apache/zookeeper/server/ZKDatabase;)Lorg/apache/zookeeper/metrics/Gauge;
     197: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     202: aload_1
     203: ldc_w         #563                // String watch_count
     206: aload_2
     207: invokevirtual #130                // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
     210: dup
     211: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     214: pop
     215: invokedynamic #564,  0            // InvokeDynamic #9:get:(Lorg/apache/zookeeper/server/DataTree;)Lorg/apache/zookeeper/metrics/Gauge;
     220: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     225: aload_1
     226: ldc_w         #565                // String ephemerals_count
     229: aload_2
     230: invokevirtual #130                // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
     233: dup
     234: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     237: pop
     238: invokedynamic #566,  0            // InvokeDynamic #10:get:(Lorg/apache/zookeeper/server/DataTree;)Lorg/apache/zookeeper/metrics/Gauge;
     243: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     248: aload_1
     249: ldc_w         #567                // String approximate_data_size
     252: aload_2
     253: invokevirtual #130                // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
     256: dup
     257: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     260: pop
     261: invokedynamic #568,  0            // InvokeDynamic #11:get:(Lorg/apache/zookeeper/server/DataTree;)Lorg/apache/zookeeper/metrics/Gauge;
     266: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     271: aload_1
     272: ldc_w         #569                // String global_sessions
     275: aload_2
     276: dup
     277: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     280: pop
     281: invokedynamic #570,  0            // InvokeDynamic #12:get:(Lorg/apache/zookeeper/server/ZKDatabase;)Lorg/apache/zookeeper/metrics/Gauge;
     286: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     291: aload_1
     292: ldc_w         #571                // String local_sessions
     295: aload_0
     296: invokevirtual #572                // Method getSessionTracker:()Lorg/apache/zookeeper/server/SessionTracker;
     299: dup
     300: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     303: pop
     304: invokedynamic #573,  0            // InvokeDynamic #13:get:(Lorg/apache/zookeeper/server/SessionTracker;)Lorg/apache/zookeeper/metrics/Gauge;
     309: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     314: new           #574                // class org/apache/zookeeper/server/util/OSMXBean
     317: dup
     318: invokespecial #575                // Method org/apache/zookeeper/server/util/OSMXBean."<init>":()V
     321: astore        4
     323: aload_1
     324: ldc_w         #576                // String open_file_descriptor_count
     327: aload         4
     329: dup
     330: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     333: pop
     334: invokedynamic #577,  0            // InvokeDynamic #14:get:(Lorg/apache/zookeeper/server/util/OSMXBean;)Lorg/apache/zookeeper/metrics/Gauge;
     339: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     344: aload_1
     345: ldc_w         #578                // String max_file_descriptor_count
     348: aload         4
     350: dup
     351: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     354: pop
     355: invokedynamic #579,  0            // InvokeDynamic #15:get:(Lorg/apache/zookeeper/server/util/OSMXBean;)Lorg/apache/zookeeper/metrics/Gauge;
     360: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     365: aload_1
     366: ldc_w         #580                // String connection_drop_probability
     369: aload_0
     370: invokedynamic #581,  0            // InvokeDynamic #16:get:(Lorg/apache/zookeeper/server/ZooKeeperServer;)Lorg/apache/zookeeper/metrics/Gauge;
     375: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     380: aload_1
     381: ldc_w         #582                // String last_client_response_size
     384: aload_3
     385: invokevirtual #583                // Method org/apache/zookeeper/server/ServerStats.getClientResponseStats:()Lorg/apache/zookeeper/server/quorum/BufferStats;
     388: dup
     389: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     392: pop
     393: invokedynamic #584,  0            // InvokeDynamic #17:get:(Lorg/apache/zookeeper/server/quorum/BufferStats;)Lorg/apache/zookeeper/metrics/Gauge;
     398: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     403: aload_1
     404: ldc_w         #585                // String max_client_response_size
     407: aload_3
     408: invokevirtual #583                // Method org/apache/zookeeper/server/ServerStats.getClientResponseStats:()Lorg/apache/zookeeper/server/quorum/BufferStats;
     411: dup
     412: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     415: pop
     416: invokedynamic #586,  0            // InvokeDynamic #18:get:(Lorg/apache/zookeeper/server/quorum/BufferStats;)Lorg/apache/zookeeper/metrics/Gauge;
     421: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     426: aload_1
     427: ldc_w         #587                // String min_client_response_size
     430: aload_3
     431: invokevirtual #583                // Method org/apache/zookeeper/server/ServerStats.getClientResponseStats:()Lorg/apache/zookeeper/server/quorum/BufferStats;
     434: dup
     435: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     438: pop
     439: invokedynamic #588,  0            // InvokeDynamic #19:get:(Lorg/apache/zookeeper/server/quorum/BufferStats;)Lorg/apache/zookeeper/metrics/Gauge;
     444: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     449: aload_1
     450: ldc_w         #589                // String outstanding_tls_handshake
     453: aload_0
     454: invokedynamic #590,  0            // InvokeDynamic #20:get:(Lorg/apache/zookeeper/server/ZooKeeperServer;)Lorg/apache/zookeeper/metrics/Gauge;
     459: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     464: aload_1
     465: ldc_w         #591                // String auth_failed_count
     468: aload_3
     469: dup
     470: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     473: pop
     474: invokedynamic #592,  0            // InvokeDynamic #21:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     479: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     484: aload_1
     485: ldc_w         #593                // String non_mtls_remote_conn_count
     488: aload_3
     489: dup
     490: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     493: pop
     494: invokedynamic #594,  0            // InvokeDynamic #22:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     499: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     504: aload_1
     505: ldc_w         #595                // String non_mtls_local_conn_count
     508: aload_3
     509: dup
     510: invokevirtual #537                // Method java/lang/Object.getClass:()Ljava/lang/Class;
     513: pop
     514: invokedynamic #596,  0            // InvokeDynamic #23:get:(Lorg/apache/zookeeper/server/ServerStats;)Lorg/apache/zookeeper/metrics/Gauge;
     519: invokeinterface #546,  3          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.registerGauge:(Ljava/lang/String;Lorg/apache/zookeeper/metrics/Gauge;)V
     524: return

  protected void unregisterMetrics();
    Code:
       0: invokestatic  #141                // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
       3: invokevirtual #541                // Method org/apache/zookeeper/server/ServerMetrics.getMetricsProvider:()Lorg/apache/zookeeper/metrics/MetricsProvider;
       6: invokeinterface #542,  1          // InterfaceMethod org/apache/zookeeper/metrics/MetricsProvider.getRootContext:()Lorg/apache/zookeeper/metrics/MetricsContext;
      11: astore_1
      12: aload_1
      13: ldc_w         #544                // String avg_latency
      16: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      21: aload_1
      22: ldc_w         #547                // String max_latency
      25: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      30: aload_1
      31: ldc_w         #549                // String min_latency
      34: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      39: aload_1
      40: ldc_w         #551                // String packets_received
      43: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      48: aload_1
      49: ldc_w         #553                // String packets_sent
      52: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      57: aload_1
      58: ldc_w         #555                // String num_alive_connections
      61: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      66: aload_1
      67: ldc_w         #557                // String outstanding_requests
      70: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      75: aload_1
      76: ldc_w         #559                // String uptime
      79: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      84: aload_1
      85: ldc_w         #561                // String znode_count
      88: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
      93: aload_1
      94: ldc_w         #563                // String watch_count
      97: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     102: aload_1
     103: ldc_w         #565                // String ephemerals_count
     106: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     111: aload_1
     112: ldc_w         #567                // String approximate_data_size
     115: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     120: aload_1
     121: ldc_w         #569                // String global_sessions
     124: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     129: aload_1
     130: ldc_w         #571                // String local_sessions
     133: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     138: aload_1
     139: ldc_w         #576                // String open_file_descriptor_count
     142: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     147: aload_1
     148: ldc_w         #578                // String max_file_descriptor_count
     151: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     156: aload_1
     157: ldc_w         #580                // String connection_drop_probability
     160: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     165: aload_1
     166: ldc_w         #582                // String last_client_response_size
     169: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     174: aload_1
     175: ldc_w         #585                // String max_client_response_size
     178: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     183: aload_1
     184: ldc_w         #587                // String min_client_response_size
     187: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     192: aload_1
     193: ldc_w         #591                // String auth_failed_count
     196: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     201: aload_1
     202: ldc_w         #593                // String non_mtls_remote_conn_count
     205: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     210: aload_1
     211: ldc_w         #595                // String non_mtls_local_conn_count
     214: invokeinterface #597,  2          // InterfaceMethod org/apache/zookeeper/metrics/MetricsContext.unregisterGauge:(Ljava/lang/String;)V
     219: return

  public void dumpMonitorValues(java.util.function.BiConsumer<java.lang.String, java.lang.Object>);
    Code:
       0: aload_0
       1: invokevirtual #543                // Method serverStats:()Lorg/apache/zookeeper/server/ServerStats;
       4: astore_2
       5: aload_1
       6: ldc_w         #598                // String version
       9: invokestatic  #599                // Method org/apache/zookeeper/Version.getFullVersion:()Ljava/lang/String;
      12: invokeinterface #600,  3          // InterfaceMethod java/util/function/BiConsumer.accept:(Ljava/lang/Object;Ljava/lang/Object;)V
      17: aload_1
      18: ldc_w         #601                // String server_state
      21: aload_2
      22: invokevirtual #602                // Method org/apache/zookeeper/server/ServerStats.getServerState:()Ljava/lang/String;
      25: invokeinterface #600,  3          // InterfaceMethod java/util/function/BiConsumer.accept:(Ljava/lang/Object;Ljava/lang/Object;)V
      30: return

  public void checkACL(org.apache.zookeeper.server.ServerCnxn, java.util.List<org.apache.zookeeper.data.ACL>, int, java.util.List<org.apache.zookeeper.data.Id>, java.lang.String, java.util.List<org.apache.zookeeper.data.ACL>) throws org.apache.zookeeper.KeeperException$NoAuthException;
    Code:
       0: getstatic     #603                // Field skipACL:Z
       3: ifeq          7
       6: return
       7: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      10: ldc_w         #604                // String Permission requested: {}
      13: iload_3
      14: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      22: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      25: ldc_w         #605                // String ACLs for node: {}
      28: aload_2
      29: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      34: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      37: ldc_w         #606                // String Client credentials: {}
      40: aload         4
      42: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      47: aload_2
      48: ifnull        60
      51: aload_2
      52: invokeinterface #607,  1          // InterfaceMethod java/util/List.size:()I
      57: ifne          61
      60: return
      61: aload         4
      63: invokeinterface #124,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      68: astore        7
      70: aload         7
      72: invokeinterface #118,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      77: ifeq          110
      80: aload         7
      82: invokeinterface #119,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      87: checkcast     #479                // class org/apache/zookeeper/data/Id
      90: astore        8
      92: aload         8
      94: invokevirtual #480                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
      97: ldc_w         #496                // String super
     100: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     103: ifeq          107
     106: return
     107: goto          70
     110: aload_2
     111: invokeinterface #124,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     116: astore        7
     118: aload         7
     120: invokeinterface #118,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     125: ifeq          294
     128: aload         7
     130: invokeinterface #119,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     135: checkcast     #608                // class org/apache/zookeeper/data/ACL
     138: astore        8
     140: aload         8
     142: invokevirtual #609                // Method org/apache/zookeeper/data/ACL.getId:()Lorg/apache/zookeeper/data/Id;
     145: astore        9
     147: aload         8
     149: invokevirtual #610                // Method org/apache/zookeeper/data/ACL.getPerms:()I
     152: iload_3
     153: iand
     154: ifeq          291
     157: aload         9
     159: invokevirtual #480                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     162: ldc_w         #611                // String world
     165: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     168: ifeq          186
     171: aload         9
     173: invokevirtual #612                // Method org/apache/zookeeper/data/Id.getId:()Ljava/lang/String;
     176: ldc_w         #613                // String anyone
     179: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     182: ifeq          186
     185: return
     186: aload         9
     188: invokevirtual #480                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     191: invokestatic  #445                // Method org/apache/zookeeper/server/auth/ProviderRegistry.getServerProvider:(Ljava/lang/String;)Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider;
     194: astore        10
     196: aload         10
     198: ifnull        291
     201: aload         4
     203: invokeinterface #124,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     208: astore        11
     210: aload         11
     212: invokeinterface #118,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
     217: ifeq          291
     220: aload         11
     222: invokeinterface #119,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     227: checkcast     #479                // class org/apache/zookeeper/data/Id
     230: astore        12
     232: aload         12
     234: invokevirtual #480                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     237: aload         9
     239: invokevirtual #480                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     242: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     245: ifeq          288
     248: aload         10
     250: new           #447                // class org/apache/zookeeper/server/auth/ServerAuthenticationProvider$ServerObjs
     253: dup
     254: aload_0
     255: aload_1
     256: invokespecial #448                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider$ServerObjs."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/ServerCnxn;)V
     259: new           #614                // class org/apache/zookeeper/server/auth/ServerAuthenticationProvider$MatchValues
     262: dup
     263: aload         5
     265: aload         12
     267: invokevirtual #612                // Method org/apache/zookeeper/data/Id.getId:()Ljava/lang/String;
     270: aload         9
     272: invokevirtual #612                // Method org/apache/zookeeper/data/Id.getId:()Ljava/lang/String;
     275: iload_3
     276: aload         6
     278: invokespecial #615                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider$MatchValues."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ILjava/util/List;)V
     281: invokevirtual #616                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider.matches:(Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider$ServerObjs;Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider$MatchValues;)Z
     284: ifeq          288
     287: return
     288: goto          210
     291: goto          118
     294: new           #617                // class org/apache/zookeeper/KeeperException$NoAuthException
     297: dup
     298: invokespecial #618                // Method org/apache/zookeeper/KeeperException$NoAuthException."<init>":()V
     301: athrow

  public static boolean isDigestEnabled();
    Code:
       0: getstatic     #619                // Field digestEnabled:Z
       3: ireturn

  public static void setDigestEnabled(boolean);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #620                // String {} = {}
       6: ldc_w         #621                // String zookeeper.digest.enabled
       9: iload_0
      10: invokestatic  #6                  // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      13: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      18: iload_0
      19: putstatic     #619                // Field digestEnabled:Z
      22: return

  private java.lang.String parentPath(java.lang.String) throws org.apache.zookeeper.KeeperException$BadArgumentsException;
    Code:
       0: aload_1
       1: bipush        47
       3: invokevirtual #622                // Method java/lang/String.lastIndexOf:(I)I
       6: istore_2
       7: iload_2
       8: iconst_m1
       9: if_icmpeq     32
      12: aload_1
      13: iconst_0
      14: invokevirtual #623                // Method java/lang/String.indexOf:(I)I
      17: iconst_m1
      18: if_icmpne     32
      21: aload_0
      22: invokevirtual #395                // Method getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      25: aload_1
      26: invokevirtual #624                // Method org/apache/zookeeper/server/ZKDatabase.isSpecialPath:(Ljava/lang/String;)Z
      29: ifeq          41
      32: new           #625                // class org/apache/zookeeper/KeeperException$BadArgumentsException
      35: dup
      36: aload_1
      37: invokespecial #626                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: iload_2
      42: ifne          51
      45: ldc_w         #627                // String /
      48: goto          57
      51: aload_1
      52: iconst_0
      53: iload_2
      54: invokevirtual #628                // Method java/lang/String.substring:(II)Ljava/lang/String;
      57: areturn

  private java.lang.String effectiveACLPath(org.apache.zookeeper.server.Request) throws org.apache.zookeeper.KeeperException$BadArgumentsException, org.apache.zookeeper.KeeperException$InvalidACLException;
    Code:
       0: iconst_0
       1: istore_2
       2: aconst_null
       3: astore_3
       4: aconst_null
       5: astore        4
       7: aload_1
       8: getfield      #319                // Field org/apache/zookeeper/server/Request.type:I
      11: tableswitch   { // 1 to 15
                     1: 84
                     2: 128
                     3: 234
                     4: 234
                     5: 163
                     6: 234
                     7: 194
                     8: 234
                     9: 234
                    10: 234
                    11: 234
                    12: 234
                    13: 234
                    14: 234
                    15: 84
               default: 234
          }
      84: new           #629                // class org/apache/zookeeper/proto/CreateRequest
      87: dup
      88: invokespecial #630                // Method org/apache/zookeeper/proto/CreateRequest."<init>":()V
      91: astore        5
      93: aload_0
      94: aload_1
      95: getfield      #631                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
      98: aload         5
     100: invokespecial #632                // Method buffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)Z
     103: ifeq          234
     106: iconst_1
     107: istore_2
     108: aload         5
     110: invokevirtual #633                // Method org/apache/zookeeper/proto/CreateRequest.getAcl:()Ljava/util/List;
     113: astore        4
     115: aload_0
     116: aload         5
     118: invokevirtual #634                // Method org/apache/zookeeper/proto/CreateRequest.getPath:()Ljava/lang/String;
     121: invokespecial #635                // Method parentPath:(Ljava/lang/String;)Ljava/lang/String;
     124: astore_3
     125: goto          234
     128: new           #636                // class org/apache/zookeeper/proto/DeleteRequest
     131: dup
     132: invokespecial #637                // Method org/apache/zookeeper/proto/DeleteRequest."<init>":()V
     135: astore        5
     137: aload_0
     138: aload_1
     139: getfield      #631                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     142: aload         5
     144: invokespecial #632                // Method buffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)Z
     147: ifeq          234
     150: aload_0
     151: aload         5
     153: invokevirtual #638                // Method org/apache/zookeeper/proto/DeleteRequest.getPath:()Ljava/lang/String;
     156: invokespecial #635                // Method parentPath:(Ljava/lang/String;)Ljava/lang/String;
     159: astore_3
     160: goto          234
     163: new           #639                // class org/apache/zookeeper/proto/SetDataRequest
     166: dup
     167: invokespecial #640                // Method org/apache/zookeeper/proto/SetDataRequest."<init>":()V
     170: astore        5
     172: aload_0
     173: aload_1
     174: getfield      #631                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     177: aload         5
     179: invokespecial #632                // Method buffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)Z
     182: ifeq          234
     185: aload         5
     187: invokevirtual #641                // Method org/apache/zookeeper/proto/SetDataRequest.getPath:()Ljava/lang/String;
     190: astore_3
     191: goto          234
     194: new           #642                // class org/apache/zookeeper/proto/SetACLRequest
     197: dup
     198: invokespecial #643                // Method org/apache/zookeeper/proto/SetACLRequest."<init>":()V
     201: astore        5
     203: aload_0
     204: aload_1
     205: getfield      #631                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     208: aload         5
     210: invokespecial #632                // Method buffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)Z
     213: ifeq          234
     216: iconst_1
     217: istore_2
     218: aload         5
     220: invokevirtual #644                // Method org/apache/zookeeper/proto/SetACLRequest.getAcl:()Ljava/util/List;
     223: astore        4
     225: aload         5
     227: invokevirtual #645                // Method org/apache/zookeeper/proto/SetACLRequest.getPath:()Ljava/lang/String;
     230: astore_3
     231: goto          234
     234: iload_2
     235: ifeq          249
     238: aload_3
     239: aload_1
     240: getfield      #646                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
     243: aload         4
     245: invokestatic  #647                // Method org/apache/zookeeper/server/PrepRequestProcessor.fixupACL:(Ljava/lang/String;Ljava/util/List;Ljava/util/List;)Ljava/util/List;
     248: pop
     249: aload_3
     250: areturn

  private int effectiveACLPerms(org.apache.zookeeper.server.Request);
    Code:
       0: aload_1
       1: getfield      #319                // Field org/apache/zookeeper/server/Request.type:I
       4: tableswitch   { // 1 to 15
                     1: 80
                     2: 82
                     3: 90
                     4: 90
                     5: 85
                     6: 90
                     7: 87
                     8: 90
                     9: 90
                    10: 90
                    11: 90
                    12: 90
                    13: 90
                    14: 90
                    15: 80
               default: 90
          }
      80: iconst_4
      81: ireturn
      82: bipush        8
      84: ireturn
      85: iconst_2
      86: ireturn
      87: bipush        16
      89: ireturn
      90: bipush        31
      92: ireturn

  public boolean authWriteRequest(org.apache.zookeeper.server.Request);
    Code:
       0: getstatic     #649                // Field enableEagerACLCheck:Z
       3: ifne          8
       6: iconst_1
       7: ireturn
       8: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
      11: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      14: istore_2
      15: aload_0
      16: aload_1
      17: invokespecial #650                // Method effectiveACLPath:(Lorg/apache/zookeeper/server/Request;)Ljava/lang/String;
      20: astore_3
      21: aload_3
      22: ifnull        53
      25: aload_0
      26: aload_1
      27: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
      30: aload_0
      31: getfield      #8                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      34: aload_3
      35: aconst_null
      36: invokevirtual #651                // Method org/apache/zookeeper/server/ZKDatabase.getACL:(Ljava/lang/String;Lorg/apache/zookeeper/data/Stat;)Ljava/util/List;
      39: aload_0
      40: aload_1
      41: invokespecial #652                // Method effectiveACLPerms:(Lorg/apache/zookeeper/server/Request;)I
      44: aload_1
      45: getfield      #646                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
      48: aload_3
      49: aconst_null
      50: invokevirtual #653                // Method checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
      53: iload_2
      54: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
      57: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      60: if_icmpeq     523
      63: aload_0
      64: invokevirtual #654                // Method decInProcess:()V
      67: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
      70: dup
      71: aload_1
      72: getfield      #655                // Field org/apache/zookeeper/server/Request.cxid:I
      75: lconst_0
      76: iload_2
      77: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
      80: astore        4
      82: aload_1
      83: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
      86: aload         4
      88: aconst_null
      89: aconst_null
      90: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
      93: goto          111
      96: astore        5
      98: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     101: ldc_w         #656                // String IOException : {}
     104: aload         5
     106: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     111: goto          523
     114: astore        4
     116: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     119: ldc_w         #657                // String Request failed ACL check
     122: aload         4
     124: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     129: aload         4
     131: invokevirtual #658                // Method org/apache/zookeeper/KeeperException$NoAuthException.code:()Lorg/apache/zookeeper/KeeperException$Code;
     134: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     137: istore_2
     138: iload_2
     139: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     142: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     145: if_icmpeq     523
     148: aload_0
     149: invokevirtual #654                // Method decInProcess:()V
     152: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     155: dup
     156: aload_1
     157: getfield      #655                // Field org/apache/zookeeper/server/Request.cxid:I
     160: lconst_0
     161: iload_2
     162: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     165: astore        4
     167: aload_1
     168: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     171: aload         4
     173: aconst_null
     174: aconst_null
     175: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     178: goto          196
     181: astore        5
     183: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     186: ldc_w         #656                // String IOException : {}
     189: aload         5
     191: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     196: goto          523
     199: astore        4
     201: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     204: ldc_w         #660                // String Request has an invalid ACL check
     207: aload         4
     209: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     214: aload         4
     216: invokevirtual #661                // Method org/apache/zookeeper/KeeperException$InvalidACLException.code:()Lorg/apache/zookeeper/KeeperException$Code;
     219: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     222: istore_2
     223: iload_2
     224: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     227: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     230: if_icmpeq     523
     233: aload_0
     234: invokevirtual #654                // Method decInProcess:()V
     237: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     240: dup
     241: aload_1
     242: getfield      #655                // Field org/apache/zookeeper/server/Request.cxid:I
     245: lconst_0
     246: iload_2
     247: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     250: astore        4
     252: aload_1
     253: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     256: aload         4
     258: aconst_null
     259: aconst_null
     260: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     263: goto          281
     266: astore        5
     268: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     271: ldc_w         #656                // String IOException : {}
     274: aload         5
     276: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     281: goto          523
     284: astore        4
     286: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     289: ldc_w         #663                // String ACL check against non-existent node: {}
     292: aload         4
     294: invokevirtual #664                // Method org/apache/zookeeper/KeeperException$NoNodeException.getMessage:()Ljava/lang/String;
     297: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     302: iload_2
     303: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     306: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     309: if_icmpeq     523
     312: aload_0
     313: invokevirtual #654                // Method decInProcess:()V
     316: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     319: dup
     320: aload_1
     321: getfield      #655                // Field org/apache/zookeeper/server/Request.cxid:I
     324: lconst_0
     325: iload_2
     326: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     329: astore        4
     331: aload_1
     332: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     335: aload         4
     337: aconst_null
     338: aconst_null
     339: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     342: goto          360
     345: astore        5
     347: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     350: ldc_w         #656                // String IOException : {}
     353: aload         5
     355: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     360: goto          523
     363: astore        4
     365: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     368: ldc_w         #665                // String ACL check against illegal node path: {}
     371: aload         4
     373: invokevirtual #666                // Method org/apache/zookeeper/KeeperException$BadArgumentsException.getMessage:()Ljava/lang/String;
     376: invokeinterface #454,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     381: iload_2
     382: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     385: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     388: if_icmpeq     523
     391: aload_0
     392: invokevirtual #654                // Method decInProcess:()V
     395: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     398: dup
     399: aload_1
     400: getfield      #655                // Field org/apache/zookeeper/server/Request.cxid:I
     403: lconst_0
     404: iload_2
     405: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     408: astore        4
     410: aload_1
     411: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     414: aload         4
     416: aconst_null
     417: aconst_null
     418: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     421: goto          439
     424: astore        5
     426: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     429: ldc_w         #656                // String IOException : {}
     432: aload         5
     434: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     439: goto          523
     442: astore        4
     444: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     447: ldc_w         #668                // String Uncaught exception in authWriteRequest with:
     450: aload         4
     452: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     457: aload         4
     459: athrow
     460: astore        6
     462: iload_2
     463: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     466: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     469: if_icmpeq     520
     472: aload_0
     473: invokevirtual #654                // Method decInProcess:()V
     476: new           #456                // class org/apache/zookeeper/proto/ReplyHeader
     479: dup
     480: aload_1
     481: getfield      #655                // Field org/apache/zookeeper/server/Request.cxid:I
     484: lconst_0
     485: iload_2
     486: invokespecial #459                // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
     489: astore        7
     491: aload_1
     492: getfield      #317                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     495: aload         7
     497: aconst_null
     498: aconst_null
     499: invokevirtual #460                // Method org/apache/zookeeper/server/ServerCnxn.sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
     502: goto          520
     505: astore        8
     507: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     510: ldc_w         #656                // String IOException : {}
     513: aload         8
     515: invokeinterface #134,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     520: aload         6
     522: athrow
     523: iload_2
     524: getstatic     #452                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     527: invokevirtual #458                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     530: if_icmpne     537
     533: iconst_1
     534: goto          538
     537: iconst_0
     538: ireturn
    Exception table:
       from    to  target type
          82    93    96   Class java/io/IOException
          15    53   114   Class org/apache/zookeeper/KeeperException$NoAuthException
         167   178   181   Class java/io/IOException
          15    53   199   Class org/apache/zookeeper/KeeperException$InvalidACLException
         252   263   266   Class java/io/IOException
          15    53   284   Class org/apache/zookeeper/KeeperException$NoNodeException
         331   342   345   Class java/io/IOException
          15    53   363   Class org/apache/zookeeper/KeeperException$BadArgumentsException
         410   421   424   Class java/io/IOException
          15    53   442   Class java/lang/Throwable
          15    53   460   any
         114   138   460   any
         199   223   460   any
         284   302   460   any
         363   381   460   any
         491   502   505   Class java/io/IOException
         442   462   460   any

  private boolean buffer2Record(java.nio.ByteBuffer, org.apache.jute.Record);
    Code:
       0: iconst_0
       1: istore_3
       2: aload_1
       3: aload_2
       4: invokestatic  #443                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
       7: aload_1
       8: invokevirtual #295                // Method java/nio/ByteBuffer.rewind:()Ljava/nio/Buffer;
      11: pop
      12: iconst_1
      13: istore_3
      14: goto          19
      17: astore        4
      19: iload_3
      20: ireturn
    Exception table:
       from    to  target type
           2    14    17   Class java/io/IOException

  public int getOutstandingHandshakeNum();
    Code:
       0: aload_0
       1: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
       4: instanceof    #669                // class org/apache/zookeeper/server/NettyServerCnxnFactory
       7: ifeq          21
      10: aload_0
      11: getfield      #273                // Field serverCnxnFactory:Lorg/apache/zookeeper/server/ServerCnxnFactory;
      14: checkcast     #669                // class org/apache/zookeeper/server/NettyServerCnxnFactory
      17: invokevirtual #670                // Method org/apache/zookeeper/server/NettyServerCnxnFactory.getOutstandingHandshakeNum:()I
      20: ireturn
      21: iconst_0
      22: ireturn

  public boolean isReconfigEnabled();
    Code:
       0: aload_0
       1: getfield      #54                 // Field reconfigEnabled:Z
       4: ireturn

  static {};
    Code:
       0: iconst_1
       1: putstatic     #1                  // Field closeSessionTxnEnabled:Z
       4: ldc           #4                  // class org/apache/zookeeper/server/ZooKeeperServer
       6: invokestatic  #671                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       9: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      12: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      15: invokestatic  #672                // Method org/apache/zookeeper/ZookeeperBanner.printBanner:(Lorg/slf4j/Logger;)V
      18: ldc_w         #673                // String Server environment:
      21: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      24: invokestatic  #674                // Method org/apache/zookeeper/Environment.logEnv:(Ljava/lang/String;Lorg/slf4j/Logger;)V
      27: ldc_w         #675                // String zookeeper.enableEagerACLCheck
      30: invokestatic  #477                // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
      33: putstatic     #649                // Field enableEagerACLCheck:Z
      36: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      39: ldc_w         #620                // String {} = {}
      42: ldc_w         #675                // String zookeeper.enableEagerACLCheck
      45: getstatic     #649                // Field enableEagerACLCheck:Z
      48: invokestatic  #6                  // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      51: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      56: ldc_w         #676                // String zookeeper.skipACL
      59: ldc_w         #677                // String no
      62: invokestatic  #678                // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      65: ldc_w         #679                // String yes
      68: invokevirtual #482                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      71: putstatic     #603                // Field skipACL:Z
      74: getstatic     #603                // Field skipACL:Z
      77: ifeq          94
      80: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      83: ldc_w         #680                // String {}==\"yes\", ACL checks will be skipped
      86: ldc_w         #676                // String zookeeper.skipACL
      89: invokeinterface #140,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      94: ldc_w         #621                // String zookeeper.digest.enabled
      97: ldc_w         #681                // String true
     100: invokestatic  #678                // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     103: invokestatic  #682                // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     106: putstatic     #619                // Field digestEnabled:Z
     109: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     112: ldc_w         #620                // String {} = {}
     115: ldc_w         #621                // String zookeeper.digest.enabled
     118: getstatic     #619                // Field digestEnabled:Z
     121: invokestatic  #6                  // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     124: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     129: ldc           #5                  // String zookeeper.closeSessionTxn.enabled
     131: ldc_w         #681                // String true
     134: invokestatic  #678                // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     137: invokestatic  #682                // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     140: putstatic     #1                  // Field closeSessionTxnEnabled:Z
     143: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     146: ldc_w         #620                // String {} = {}
     149: ldc           #5                  // String zookeeper.closeSessionTxn.enabled
     151: getstatic     #1                  // Field closeSessionTxnEnabled:Z
     154: invokestatic  #6                  // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     157: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     162: new           #189                // class java/lang/Exception
     165: dup
     166: ldc_w         #683                // String No prob
     169: invokespecial #684                // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     172: putstatic     #685                // Field ok:Ljava/lang/Exception;
     175: ldc_w         #413                // String zookeeper.flushDelay
     178: lconst_0
     179: invokestatic  #344                // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
     182: invokevirtual #125                // Method java/lang/Long.longValue:()J
     185: lstore_0
     186: lload_0
     187: invokestatic  #686                // Method setFlushDelay:(J)V
     190: ldc_w         #415                // String zookeeper.maxWriteQueuePollTime
     193: lload_0
     194: ldc2_w        #687                // long 3l
     197: ldiv
     198: invokestatic  #344                // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
     201: invokevirtual #125                // Method java/lang/Long.longValue:()J
     204: invokestatic  #689                // Method setMaxWriteQueuePollTime:(J)V
     207: ldc_w         #417                // String zookeeper.maxBatchSize
     210: sipush        1000
     213: invokestatic  #57                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
     216: invokevirtual #58                 // Method java/lang/Integer.intValue:()I
     219: invokestatic  #690                // Method setMaxBatchSize:(I)V
     222: ldc_w         #691                // String zookeeper.intBufferStartingSizeBytes
     225: sipush        1024
     228: invokestatic  #57                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
     231: invokevirtual #58                 // Method java/lang/Integer.intValue:()I
     234: putstatic     #692                // Field intBufferStartingSizeBytes:I
     237: getstatic     #692                // Field intBufferStartingSizeBytes:I
     240: bipush        32
     242: if_icmpge     267
     245: ldc_w         #693                // String Buffer starting size must be greater than 0.Configure with \"-Dzookeeper.intBufferStartingSizeBytes=<size>\"
     248: astore_2
     249: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     252: aload_2
     253: invokeinterface #507,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     258: new           #694                // class java/lang/IllegalArgumentException
     261: dup
     262: aload_2
     263: invokespecial #695                // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     266: athrow
     267: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     270: ldc_w         #620                // String {} = {}
     273: ldc_w         #691                // String zookeeper.intBufferStartingSizeBytes
     276: getstatic     #692                // Field intBufferStartingSizeBytes:I
     279: invokestatic  #67                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     282: invokeinterface #7,  4            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     287: return
}
