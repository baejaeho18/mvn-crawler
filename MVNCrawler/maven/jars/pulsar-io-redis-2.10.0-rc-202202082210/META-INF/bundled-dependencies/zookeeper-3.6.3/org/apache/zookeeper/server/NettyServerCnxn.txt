Compiled from "NettyServerCnxn.java"
public class org.apache.zookeeper.server.NettyServerCnxn extends org.apache.zookeeper.server.ServerCnxn {
  private static final org.slf4j.Logger LOG;

  private final io.netty.channel.Channel channel;

  private io.netty.buffer.CompositeByteBuf queuedBuffer;

  private final java.util.concurrent.atomic.AtomicBoolean throttled;

  private java.nio.ByteBuffer bb;

  private final java.nio.ByteBuffer bbLen;

  private long sessionId;

  private int sessionTimeout;

  private java.security.cert.Certificate[] clientChain;

  private volatile boolean closingChannel;

  private final org.apache.zookeeper.server.NettyServerCnxnFactory factory;

  private boolean initialized;

  public int readIssuedAfterReadComplete;

  private volatile org.apache.zookeeper.server.NettyServerCnxn$HandshakeState handshakeState;

  private final io.netty.util.concurrent.GenericFutureListener<io.netty.util.concurrent.Future<java.lang.Void>> onSendBufferDoneListener;

  org.apache.zookeeper.server.NettyServerCnxn(io.netty.channel.Channel, org.apache.zookeeper.server.ZooKeeperServer, org.apache.zookeeper.server.NettyServerCnxnFactory);
    Code:
       0: aload_0
       1: aload_2
       2: invokespecial #2                  // Method org/apache/zookeeper/server/ServerCnxn."<init>":(Lorg/apache/zookeeper/server/ZooKeeperServer;)V
       5: aload_0
       6: new           #3                  // class java/util/concurrent/atomic/AtomicBoolean
       9: dup
      10: iconst_0
      11: invokespecial #4                  // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      14: putfield      #5                  // Field throttled:Ljava/util/concurrent/atomic/AtomicBoolean;
      17: aload_0
      18: iconst_4
      19: invokestatic  #6                  // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
      22: putfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
      25: aload_0
      26: getstatic     #8                  // Field org/apache/zookeeper/server/NettyServerCnxn$HandshakeState.NONE:Lorg/apache/zookeeper/server/NettyServerCnxn$HandshakeState;
      29: putfield      #9                  // Field handshakeState:Lorg/apache/zookeeper/server/NettyServerCnxn$HandshakeState;
      32: aload_0
      33: aload_0
      34: invokedynamic #10,  0             // InvokeDynamic #0:operationComplete:(Lorg/apache/zookeeper/server/NettyServerCnxn;)Lio/netty/util/concurrent/GenericFutureListener;
      39: putfield      #11                 // Field onSendBufferDoneListener:Lio/netty/util/concurrent/GenericFutureListener;
      42: aload_0
      43: aload_1
      44: putfield      #12                 // Field channel:Lio/netty/channel/Channel;
      47: aload_0
      48: iconst_0
      49: putfield      #13                 // Field closingChannel:Z
      52: aload_0
      53: aload_3
      54: putfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
      57: aload_0
      58: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
      61: getfield      #15                 // Field org/apache/zookeeper/server/NettyServerCnxnFactory.login:Lorg/apache/zookeeper/Login;
      64: ifnull        82
      67: aload_0
      68: new           #16                 // class org/apache/zookeeper/server/ZooKeeperSaslServer
      71: dup
      72: aload_3
      73: getfield      #15                 // Field org/apache/zookeeper/server/NettyServerCnxnFactory.login:Lorg/apache/zookeeper/Login;
      76: invokespecial #17                 // Method org/apache/zookeeper/server/ZooKeeperSaslServer."<init>":(Lorg/apache/zookeeper/Login;)V
      79: putfield      #18                 // Field zooKeeperSaslServer:Lorg/apache/zookeeper/server/ZooKeeperSaslServer;
      82: aload_1
      83: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.remoteAddress:()Ljava/net/SocketAddress;
      88: checkcast     #20                 // class java/net/InetSocketAddress
      91: invokevirtual #21                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
      94: astore        4
      96: aload_0
      97: new           #22                 // class org/apache/zookeeper/data/Id
     100: dup
     101: ldc           #23                 // String ip
     103: aload         4
     105: invokevirtual #24                 // Method java/net/InetAddress.getHostAddress:()Ljava/lang/String;
     108: invokespecial #25                 // Method org/apache/zookeeper/data/Id."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     111: invokevirtual #26                 // Method addAuthInfo:(Lorg/apache/zookeeper/data/Id;)V
     114: return

  public void close(org.apache.zookeeper.server.ServerCnxn$DisconnectReason);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #27                 // Field disconnectReason:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
       5: aload_0
       6: invokevirtual #28                 // Method close:()V
       9: return

  public void close();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #13                 // Field closingChannel:Z
       5: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
       8: ldc           #30                 // String close called for session id: 0x{}
      10: aload_0
      11: getfield      #31                 // Field sessionId:J
      14: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      17: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      22: aload_0
      23: invokevirtual #34                 // Method setStale:()V
      26: aload_0
      27: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
      30: aload_0
      31: invokevirtual #35                 // Method org/apache/zookeeper/server/NettyServerCnxnFactory.unregisterConnection:(Lorg/apache/zookeeper/server/ServerCnxn;)V
      34: aload_0
      35: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
      38: getfield      #36                 // Field org/apache/zookeeper/server/NettyServerCnxnFactory.cnxns:Ljava/util/Set;
      41: aload_0
      42: invokeinterface #37,  2           // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      47: ifne          98
      50: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      53: ldc           #38                 // String cnxns size:{}
      55: aload_0
      56: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
      59: getfield      #36                 // Field org/apache/zookeeper/server/NettyServerCnxnFactory.cnxns:Ljava/util/Set;
      62: invokeinterface #39,  1           // InterfaceMethod java/util/Set.size:()I
      67: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      70: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      75: aload_0
      76: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      79: invokeinterface #41,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      84: ifeq          97
      87: aload_0
      88: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      91: invokeinterface #42,  1           // InterfaceMethod io/netty/channel/Channel.close:()Lio/netty/channel/ChannelFuture;
      96: pop
      97: return
      98: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     101: ldc           #43                 // String close in progress for session id: 0x{}
     103: aload_0
     104: getfield      #31                 // Field sessionId:J
     107: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     110: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     115: aload_0
     116: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
     119: aload_0
     120: invokevirtual #44                 // Method org/apache/zookeeper/server/NettyServerCnxnFactory.removeCnxnFromSessionMap:(Lorg/apache/zookeeper/server/ServerCnxn;)V
     123: aload_0
     124: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
     127: aload_0
     128: aload_0
     129: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     132: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.remoteAddress:()Ljava/net/SocketAddress;
     137: checkcast     #20                 // class java/net/InetSocketAddress
     140: invokevirtual #21                 // Method java/net/InetSocketAddress.getAddress:()Ljava/net/InetAddress;
     143: invokevirtual #45                 // Method org/apache/zookeeper/server/NettyServerCnxnFactory.removeCnxnFromIpMap:(Lorg/apache/zookeeper/server/NettyServerCnxn;Ljava/net/InetAddress;)V
     146: aload_0
     147: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
     150: ifnull        161
     153: aload_0
     154: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
     157: aload_0
     158: invokevirtual #47                 // Method org/apache/zookeeper/server/ZooKeeperServer.removeCnxn:(Lorg/apache/zookeeper/server/ServerCnxn;)V
     161: aload_0
     162: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     165: invokeinterface #41,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
     170: ifeq          202
     173: aload_0
     174: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     177: getstatic     #48                 // Field io/netty/buffer/Unpooled.EMPTY_BUFFER:Lio/netty/buffer/ByteBuf;
     180: invokeinterface #49,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
     185: new           #50                 // class org/apache/zookeeper/server/NettyServerCnxn$1
     188: dup
     189: aload_0
     190: invokespecial #51                 // Method org/apache/zookeeper/server/NettyServerCnxn$1."<init>":(Lorg/apache/zookeeper/server/NettyServerCnxn;)V
     193: invokeinterface #52,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
     198: pop
     199: goto          234
     202: invokestatic  #53                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     205: getfield      #54                 // Field org/apache/zookeeper/server/ServerMetrics.CONNECTION_DROP_COUNT:Lorg/apache/zookeeper/metrics/Counter;
     208: lconst_1
     209: invokeinterface #55,  3           // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
     214: aload_0
     215: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     218: invokeinterface #56,  1           // InterfaceMethod io/netty/channel/Channel.eventLoop:()Lio/netty/channel/EventLoop;
     223: aload_0
     224: invokedynamic #57,  0             // InvokeDynamic #1:run:(Lorg/apache/zookeeper/server/NettyServerCnxn;)Ljava/lang/Runnable;
     229: invokeinterface #58,  2           // InterfaceMethod io/netty/channel/EventLoop.execute:(Ljava/lang/Runnable;)V
     234: return

  public long getSessionId();
    Code:
       0: aload_0
       1: getfield      #31                 // Field sessionId:J
       4: lreturn

  public int getSessionTimeout();
    Code:
       0: aload_0
       1: getfield      #59                 // Field sessionTimeout:I
       4: ireturn

  public void process(org.apache.zookeeper.WatchedEvent);
    Code:
       0: new           #60                 // class org/apache/zookeeper/proto/ReplyHeader
       3: dup
       4: iconst_m1
       5: ldc2_w        #62                 // long -1l
       8: iconst_0
       9: invokespecial #64                 // Method org/apache/zookeeper/proto/ReplyHeader."<init>":(IJI)V
      12: astore_2
      13: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      16: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      21: ifeq          76
      24: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      27: ldc2_w        #67                 // long 64l
      30: new           #69                 // class java/lang/StringBuilder
      33: dup
      34: invokespecial #70                 // Method java/lang/StringBuilder."<init>":()V
      37: ldc           #71                 // String Deliver event
      39: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_1
      43: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      46: ldc           #74                 // String  to 0x
      48: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      51: aload_0
      52: getfield      #31                 // Field sessionId:J
      55: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      58: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: ldc           #75                 // String  through
      63: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_0
      67: invokevirtual #73                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      70: invokevirtual #76                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      73: invokestatic  #77                 // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
      76: aload_1
      77: invokevirtual #78                 // Method org/apache/zookeeper/WatchedEvent.getWrapper:()Lorg/apache/zookeeper/proto/WatcherEvent;
      80: astore_3
      81: aload_0
      82: aload_2
      83: aload_3
      84: ldc           #79                 // String notification
      86: invokevirtual #80                 // Method sendResponse:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;)V
      89: goto          114
      92: astore        4
      94: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      97: ldc           #82                 // String Problem sending to {}
      99: aload_0
     100: invokevirtual #83                 // Method getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     103: aload         4
     105: invokeinterface #84,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     110: aload_0
     111: invokevirtual #28                 // Method close:()V
     114: return
    Exception table:
       from    to  target type
          81    89    92   Class java/io/IOException

  public void sendResponse(org.apache.zookeeper.proto.ReplyHeader, org.apache.jute.Record, java.lang.String, java.lang.String, org.apache.zookeeper.data.Stat, int) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #13                 // Field closingChannel:Z
       4: ifne          19
       7: aload_0
       8: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      11: invokeinterface #41,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      16: ifne          20
      19: return
      20: aload_0
      21: aload_0
      22: aload_1
      23: aload_2
      24: aload_3
      25: aload         4
      27: aload         5
      29: iload         6
      31: invokevirtual #85                 // Method serialize:(Lorg/apache/zookeeper/proto/ReplyHeader;Lorg/apache/jute/Record;Ljava/lang/String;Ljava/lang/String;Lorg/apache/zookeeper/data/Stat;I)[Ljava/nio/ByteBuffer;
      34: invokevirtual #86                 // Method sendBuffer:([Ljava/nio/ByteBuffer;)V
      37: aload_0
      38: aload_1
      39: invokevirtual #87                 // Method decrOutstandingAndCheckThrottle:(Lorg/apache/zookeeper/proto/ReplyHeader;)V
      42: return

  public void setSessionId(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #31                 // Field sessionId:J
       5: aload_0
       6: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
       9: lload_1
      10: aload_0
      11: invokevirtual #88                 // Method org/apache/zookeeper/server/NettyServerCnxnFactory.addSession:(JLorg/apache/zookeeper/server/ServerCnxn;)V
      14: return

  public void sendBuffer(java.nio.ByteBuffer...);
    Code:
       0: aload_1
       1: arraylength
       2: iconst_1
       3: if_icmpne     23
       6: aload_1
       7: iconst_0
       8: aaload
       9: getstatic     #89                 // Field org/apache/zookeeper/server/ServerCnxnFactory.closeConn:Ljava/nio/ByteBuffer;
      12: if_acmpne     23
      15: aload_0
      16: getstatic     #90                 // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.CLIENT_CLOSED_CONNECTION:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
      19: invokevirtual #91                 // Method close:(Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)V
      22: return
      23: aload_0
      24: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      27: aload_1
      28: invokestatic  #92                 // Method io/netty/buffer/Unpooled.wrappedBuffer:([Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
      31: invokeinterface #49,  2           // InterfaceMethod io/netty/channel/Channel.writeAndFlush:(Ljava/lang/Object;)Lio/netty/channel/ChannelFuture;
      36: aload_0
      37: getfield      #11                 // Field onSendBufferDoneListener:Lio/netty/util/concurrent/GenericFutureListener;
      40: invokeinterface #52,  2           // InterfaceMethod io/netty/channel/ChannelFuture.addListener:(Lio/netty/util/concurrent/GenericFutureListener;)Lio/netty/channel/ChannelFuture;
      45: pop
      46: return

  private boolean checkFourLetterWord(io.netty.channel.Channel, io.netty.buffer.ByteBuf, int);
    Code:
       0: iload_3
       1: invokestatic  #93                 // Method org/apache/zookeeper/server/command/FourLetterCommands.isKnown:(I)Z
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: iload_3
      10: invokestatic  #94                 // Method org/apache/zookeeper/server/command/FourLetterCommands.getCommandString:(I)Ljava/lang/String;
      13: astore        4
      15: aload_1
      16: invokeinterface #95,  1           // InterfaceMethod io/netty/channel/Channel.config:()Lio/netty/channel/ChannelConfig;
      21: iconst_0
      22: invokeinterface #96,  2           // InterfaceMethod io/netty/channel/ChannelConfig.setAutoRead:(Z)Lio/netty/channel/ChannelConfig;
      27: pop
      28: aload_0
      29: ldc2_w        #97                 // long 4l
      32: invokevirtual #99                 // Method packetReceived:(J)V
      35: new           #100                // class java/io/PrintWriter
      38: dup
      39: new           #101                // class java/io/BufferedWriter
      42: dup
      43: new           #102                // class org/apache/zookeeper/server/NettyServerCnxn$SendBufferWriter
      46: dup
      47: aload_0
      48: aconst_null
      49: invokespecial #103                // Method org/apache/zookeeper/server/NettyServerCnxn$SendBufferWriter."<init>":(Lorg/apache/zookeeper/server/NettyServerCnxn;Lorg/apache/zookeeper/server/NettyServerCnxn$1;)V
      52: invokespecial #104                // Method java/io/BufferedWriter."<init>":(Ljava/io/Writer;)V
      55: invokespecial #105                // Method java/io/PrintWriter."<init>":(Ljava/io/Writer;)V
      58: astore        5
      60: aload         4
      62: invokestatic  #106                // Method org/apache/zookeeper/server/command/FourLetterCommands.isEnabled:(Ljava/lang/String;)Z
      65: ifne          119
      68: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      71: ldc           #107                // String Command {} is not executed because it is not in the whitelist.
      73: aload         4
      75: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      80: new           #108                // class org/apache/zookeeper/server/command/NopCommand
      83: dup
      84: aload         5
      86: aload_0
      87: new           #69                 // class java/lang/StringBuilder
      90: dup
      91: invokespecial #70                 // Method java/lang/StringBuilder."<init>":()V
      94: aload         4
      96: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      99: ldc           #109                // String  is not executed because it is not in the whitelist.
     101: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: invokevirtual #76                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     107: invokespecial #110                // Method org/apache/zookeeper/server/command/NopCommand."<init>":(Ljava/io/PrintWriter;Lorg/apache/zookeeper/server/ServerCnxn;Ljava/lang/String;)V
     110: astore        6
     112: aload         6
     114: invokevirtual #111                // Method org/apache/zookeeper/server/command/NopCommand.start:()V
     117: iconst_1
     118: ireturn
     119: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     122: ldc           #112                // String Processing {} command from {}
     124: aload         4
     126: aload_1
     127: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.remoteAddress:()Ljava/net/SocketAddress;
     132: invokeinterface #113,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     137: iload_3
     138: getstatic     #114                // Field org/apache/zookeeper/server/command/FourLetterCommands.setTraceMaskCmd:I
     141: if_icmpne     197
     144: bipush        8
     146: invokestatic  #6                  // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
     149: astore        6
     151: aload_2
     152: aload         6
     154: invokevirtual #115                // Method io/netty/buffer/ByteBuf.readBytes:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     157: pop
     158: aload         6
     160: invokevirtual #116                // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     163: pop
     164: aload         6
     166: invokevirtual #117                // Method java/nio/ByteBuffer.getLong:()J
     169: lstore        7
     171: lload         7
     173: invokestatic  #118                // Method org/apache/zookeeper/server/ZooTrace.setTextTraceLevel:(J)V
     176: new           #119                // class org/apache/zookeeper/server/command/SetTraceMaskCommand
     179: dup
     180: aload         5
     182: aload_0
     183: lload         7
     185: invokespecial #120                // Method org/apache/zookeeper/server/command/SetTraceMaskCommand."<init>":(Ljava/io/PrintWriter;Lorg/apache/zookeeper/server/ServerCnxn;J)V
     188: astore        9
     190: aload         9
     192: invokevirtual #121                // Method org/apache/zookeeper/server/command/SetTraceMaskCommand.start:()V
     195: iconst_1
     196: ireturn
     197: new           #122                // class org/apache/zookeeper/server/command/CommandExecutor
     200: dup
     201: invokespecial #123                // Method org/apache/zookeeper/server/command/CommandExecutor."<init>":()V
     204: astore        6
     206: aload         6
     208: aload_0
     209: aload         5
     211: iload_3
     212: aload_0
     213: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
     216: aload_0
     217: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
     220: invokevirtual #124                // Method org/apache/zookeeper/server/command/CommandExecutor.execute:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/io/PrintWriter;ILorg/apache/zookeeper/server/ZooKeeperServer;Lorg/apache/zookeeper/server/ServerCnxnFactory;)Z
     223: ireturn

  private void checkIsInEventLoop(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
       4: invokeinterface #56,  1           // InterfaceMethod io/netty/channel/Channel.eventLoop:()Lio/netty/channel/EventLoop;
       9: invokeinterface #125,  1          // InterfaceMethod io/netty/channel/EventLoop.inEventLoop:()Z
      14: ifne          44
      17: new           #126                // class java/lang/IllegalStateException
      20: dup
      21: new           #69                 // class java/lang/StringBuilder
      24: dup
      25: invokespecial #70                 // Method java/lang/StringBuilder."<init>":()V
      28: aload_1
      29: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: ldc           #127                // String () called from non-EventLoop thread
      34: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: invokevirtual #76                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: invokespecial #128                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: return

  private void appendToQueuedBuffer(io.netty.buffer.ByteBuf);
    Code:
       0: aload_0
       1: ldc           #129                // String appendToQueuedBuffer
       3: invokespecial #130                // Method checkIsInEventLoop:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      10: invokevirtual #132                // Method io/netty/buffer/CompositeByteBuf.numComponents:()I
      13: aload_0
      14: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      17: invokevirtual #133                // Method io/netty/buffer/CompositeByteBuf.maxNumComponents:()I
      20: if_icmpne     31
      23: aload_0
      24: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      27: invokevirtual #134                // Method io/netty/buffer/CompositeByteBuf.consolidate:()Lio/netty/buffer/CompositeByteBuf;
      30: pop
      31: aload_0
      32: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      35: iconst_1
      36: aload_1
      37: invokevirtual #135                // Method io/netty/buffer/CompositeByteBuf.addComponent:(ZLio/netty/buffer/ByteBuf;)Lio/netty/buffer/CompositeByteBuf;
      40: pop
      41: invokestatic  #53                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      44: getfield      #136                // Field org/apache/zookeeper/server/ServerMetrics.NETTY_QUEUED_BUFFER:Lorg/apache/zookeeper/metrics/Summary;
      47: aload_0
      48: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      51: invokevirtual #137                // Method io/netty/buffer/CompositeByteBuf.capacity:()I
      54: i2l
      55: invokeinterface #138,  3          // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      60: return

  void processMessage(io.netty.buffer.ByteBuf);
    Code:
       0: aload_0
       1: ldc           #139                // String processMessage
       3: invokespecial #130                // Method checkIsInEventLoop:(Ljava/lang/String;)V
       6: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
       9: ldc           #140                // String 0x{} queuedBuffer: {}
      11: aload_0
      12: getfield      #31                 // Field sessionId:J
      15: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      18: aload_0
      19: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      22: invokeinterface #84,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      27: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      30: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      35: ifeq          59
      38: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      41: ldc           #141                // String 0x{} buf {}
      43: aload_0
      44: getfield      #31                 // Field sessionId:J
      47: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      50: aload_1
      51: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
      54: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      59: aload_0
      60: getfield      #5                  // Field throttled:Ljava/util/concurrent/atomic/AtomicBoolean;
      63: invokevirtual #144                // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      66: ifeq          160
      69: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      72: ldc           #145                // String Received message while throttled
      74: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      79: aload_0
      80: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      83: ifnonnull     114
      86: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      89: ldc           #147                // String allocating queue
      91: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      96: aload_0
      97: aload_0
      98: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     101: invokeinterface #148,  1          // InterfaceMethod io/netty/channel/Channel.alloc:()Lio/netty/buffer/ByteBufAllocator;
     106: invokeinterface #149,  1          // InterfaceMethod io/netty/buffer/ByteBufAllocator.compositeBuffer:()Lio/netty/buffer/CompositeByteBuf;
     111: putfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     114: aload_0
     115: aload_1
     116: invokevirtual #150                // Method io/netty/buffer/ByteBuf.retainedDuplicate:()Lio/netty/buffer/ByteBuf;
     119: invokespecial #151                // Method appendToQueuedBuffer:(Lio/netty/buffer/ByteBuf;)V
     122: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     125: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     130: ifeq          323
     133: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     136: ldc           #152                // String 0x{} queuedBuffer {}
     138: aload_0
     139: getfield      #31                 // Field sessionId:J
     142: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     145: aload_0
     146: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     149: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
     152: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     157: goto          323
     160: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     163: ldc           #153                // String not throttled
     165: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     170: aload_0
     171: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     174: ifnull        192
     177: aload_0
     178: aload_1
     179: invokevirtual #150                // Method io/netty/buffer/ByteBuf.retainedDuplicate:()Lio/netty/buffer/ByteBuf;
     182: invokespecial #151                // Method appendToQueuedBuffer:(Lio/netty/buffer/ByteBuf;)V
     185: aload_0
     186: invokevirtual #154                // Method processQueuedBuffer:()V
     189: goto          323
     192: aload_0
     193: aload_1
     194: invokespecial #155                // Method receiveMessage:(Lio/netty/buffer/ByteBuf;)V
     197: aload_0
     198: getfield      #13                 // Field closingChannel:Z
     201: ifne          323
     204: aload_1
     205: invokevirtual #156                // Method io/netty/buffer/ByteBuf.isReadable:()Z
     208: ifeq          323
     211: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     214: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     219: ifeq          233
     222: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     225: ldc           #157                // String Before copy {}
     227: aload_1
     228: invokeinterface #158,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     233: aload_0
     234: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     237: ifnonnull     258
     240: aload_0
     241: aload_0
     242: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     245: invokeinterface #148,  1          // InterfaceMethod io/netty/channel/Channel.alloc:()Lio/netty/buffer/ByteBufAllocator;
     250: invokeinterface #149,  1          // InterfaceMethod io/netty/buffer/ByteBufAllocator.compositeBuffer:()Lio/netty/buffer/CompositeByteBuf;
     255: putfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     258: aload_0
     259: aload_1
     260: aload_1
     261: invokevirtual #159                // Method io/netty/buffer/ByteBuf.readerIndex:()I
     264: aload_1
     265: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     268: invokevirtual #161                // Method io/netty/buffer/ByteBuf.retainedSlice:(II)Lio/netty/buffer/ByteBuf;
     271: invokespecial #151                // Method appendToQueuedBuffer:(Lio/netty/buffer/ByteBuf;)V
     274: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     277: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     282: ifeq          323
     285: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     288: ldc           #162                // String Copy is {}
     290: aload_0
     291: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     294: invokeinterface #158,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     299: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     302: ldc           #152                // String 0x{} queuedBuffer {}
     304: aload_0
     305: getfield      #31                 // Field sessionId:J
     308: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     311: aload_0
     312: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     315: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
     318: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     323: return

  void processQueuedBuffer();
    Code:
       0: aload_0
       1: ldc           #163                // String processQueuedBuffer
       3: invokespecial #130                // Method checkIsInEventLoop:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      10: ifnull        124
      13: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      16: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      21: ifeq          48
      24: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      27: ldc           #164                // String processing queue 0x{} queuedBuffer {}
      29: aload_0
      30: getfield      #31                 // Field sessionId:J
      33: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      36: aload_0
      37: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      40: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
      43: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      48: aload_0
      49: aload_0
      50: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      53: invokespecial #155                // Method receiveMessage:(Lio/netty/buffer/ByteBuf;)V
      56: aload_0
      57: getfield      #13                 // Field closingChannel:Z
      60: ifeq          76
      63: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      66: ldc           #165                // String Processed queue - channel closed, dropping remaining bytes
      68: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      73: goto          134
      76: aload_0
      77: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      80: invokevirtual #166                // Method io/netty/buffer/CompositeByteBuf.isReadable:()Z
      83: ifne          103
      86: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      89: ldc           #167                // String Processed queue - no bytes remaining
      91: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      96: aload_0
      97: invokespecial #1                  // Method releaseQueuedBuffer:()V
     100: goto          134
     103: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     106: ldc           #168                // String Processed queue - bytes remaining
     108: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     113: aload_0
     114: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
     117: invokevirtual #169                // Method io/netty/buffer/CompositeByteBuf.discardReadComponents:()Lio/netty/buffer/CompositeByteBuf;
     120: pop
     121: goto          134
     124: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     127: ldc           #170                // String queue empty
     129: invokeinterface #146,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     134: return

  private void releaseQueuedBuffer();
    Code:
       0: aload_0
       1: ldc           #171                // String releaseQueuedBuffer
       3: invokespecial #130                // Method checkIsInEventLoop:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      10: ifnull        26
      13: aload_0
      14: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      17: invokevirtual #172                // Method io/netty/buffer/CompositeByteBuf.release:()Z
      20: pop
      21: aload_0
      22: aconst_null
      23: putfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      26: return

  private void receiveMessage(io.netty.buffer.ByteBuf);
    Code:
       0: aload_0
       1: ldc           #173                // String receiveMessage
       3: invokespecial #130                // Method checkIsInEventLoop:(Ljava/lang/String;)V
       6: aload_1
       7: invokevirtual #156                // Method io/netty/buffer/ByteBuf.isReadable:()Z
      10: ifeq          703
      13: aload_0
      14: getfield      #5                  // Field throttled:Ljava/util/concurrent/atomic/AtomicBoolean;
      17: invokevirtual #144                // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      20: ifne          703
      23: aload_0
      24: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
      27: ifnull        387
      30: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      33: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      38: ifeq          122
      41: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      44: ldc           #175                // String message readable {} bb len {} {}
      46: iconst_3
      47: anewarray     #176                // class java/lang/Object
      50: dup
      51: iconst_0
      52: aload_1
      53: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
      56: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      59: aastore
      60: dup
      61: iconst_1
      62: aload_0
      63: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
      66: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
      69: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      72: aastore
      73: dup
      74: iconst_2
      75: aload_0
      76: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
      79: aastore
      80: invokeinterface #178,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
      85: aload_0
      86: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
      89: invokevirtual #179                // Method java/nio/ByteBuffer.duplicate:()Ljava/nio/ByteBuffer;
      92: astore_2
      93: aload_2
      94: invokevirtual #116                // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
      97: pop
      98: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     101: ldc           #180                // String 0x{} bb {}
     103: aload_0
     104: getfield      #31                 // Field sessionId:J
     107: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     110: aload_2
     111: invokestatic  #181                // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     114: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
     117: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     122: aload_0
     123: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     126: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     129: aload_1
     130: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     133: if_icmple     158
     136: aload_0
     137: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     140: invokevirtual #182                // Method java/nio/ByteBuffer.position:()I
     143: aload_1
     144: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     147: iadd
     148: istore_2
     149: aload_0
     150: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     153: iload_2
     154: invokevirtual #183                // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
     157: pop
     158: aload_1
     159: aload_0
     160: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     163: invokevirtual #115                // Method io/netty/buffer/ByteBuf.readBytes:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     166: pop
     167: aload_0
     168: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     171: aload_0
     172: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     175: invokevirtual #184                // Method java/nio/ByteBuffer.capacity:()I
     178: invokevirtual #183                // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
     181: pop
     182: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     185: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     190: ifeq          274
     193: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     196: ldc           #185                // String after readBytes message readable {} bb len {} {}
     198: iconst_3
     199: anewarray     #176                // class java/lang/Object
     202: dup
     203: iconst_0
     204: aload_1
     205: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     208: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     211: aastore
     212: dup
     213: iconst_1
     214: aload_0
     215: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     218: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     221: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     224: aastore
     225: dup
     226: iconst_2
     227: aload_0
     228: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     231: aastore
     232: invokeinterface #178,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;[Ljava/lang/Object;)V
     237: aload_0
     238: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     241: invokevirtual #179                // Method java/nio/ByteBuffer.duplicate:()Ljava/nio/ByteBuffer;
     244: astore_2
     245: aload_2
     246: invokevirtual #116                // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     249: pop
     250: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     253: ldc           #186                // String after readbytes 0x{} bb {}
     255: aload_0
     256: getfield      #31                 // Field sessionId:J
     259: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     262: aload_2
     263: invokestatic  #181                // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     266: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
     269: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     274: aload_0
     275: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     278: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     281: ifne          6
     284: aload_0
     285: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     288: invokevirtual #116                // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     291: pop
     292: aload_0
     293: iconst_4
     294: aload_0
     295: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     298: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     301: iadd
     302: i2l
     303: invokevirtual #99                 // Method packetReceived:(J)V
     306: aload_0
     307: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
     310: astore_2
     311: aload_2
     312: ifnull        322
     315: aload_2
     316: invokevirtual #187                // Method org/apache/zookeeper/server/ZooKeeperServer.isRunning:()Z
     319: ifne          332
     322: new           #81                 // class java/io/IOException
     325: dup
     326: ldc           #188                // String ZK down
     328: invokespecial #189                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     331: athrow
     332: aload_0
     333: getfield      #190                // Field initialized:Z
     336: ifeq          351
     339: aload_2
     340: aload_0
     341: aload_0
     342: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     345: invokevirtual #191                // Method org/apache/zookeeper/server/ZooKeeperServer.processPacket:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/nio/ByteBuffer;)V
     348: goto          379
     351: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     354: ldc           #192                // String got conn req request from {}
     356: aload_0
     357: invokevirtual #83                 // Method getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     360: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     365: aload_2
     366: aload_0
     367: aload_0
     368: getfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     371: invokevirtual #193                // Method org/apache/zookeeper/server/ZooKeeperServer.processConnectRequest:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/nio/ByteBuffer;)V
     374: aload_0
     375: iconst_1
     376: putfield      #190                // Field initialized:Z
     379: aload_0
     380: aconst_null
     381: putfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     384: goto          6
     387: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     390: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     395: ifeq          462
     398: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     401: ldc           #194                // String message readable {} bblenrem {}
     403: aload_1
     404: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     407: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     410: aload_0
     411: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     414: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     417: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     420: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     425: aload_0
     426: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     429: invokevirtual #179                // Method java/nio/ByteBuffer.duplicate:()Ljava/nio/ByteBuffer;
     432: astore_2
     433: aload_2
     434: invokevirtual #116                // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     437: pop
     438: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     441: ldc           #195                // String 0x{} bbLen {}
     443: aload_0
     444: getfield      #31                 // Field sessionId:J
     447: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     450: aload_2
     451: invokestatic  #181                // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     454: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
     457: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     462: aload_1
     463: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     466: aload_0
     467: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     470: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     473: if_icmpge     496
     476: aload_0
     477: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     480: aload_0
     481: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     484: invokevirtual #182                // Method java/nio/ByteBuffer.position:()I
     487: aload_1
     488: invokevirtual #160                // Method io/netty/buffer/ByteBuf.readableBytes:()I
     491: iadd
     492: invokevirtual #183                // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
     495: pop
     496: aload_1
     497: aload_0
     498: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     501: invokevirtual #115                // Method io/netty/buffer/ByteBuf.readBytes:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     504: pop
     505: aload_0
     506: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     509: aload_0
     510: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     513: invokevirtual #184                // Method java/nio/ByteBuffer.capacity:()I
     516: invokevirtual #183                // Method java/nio/ByteBuffer.limit:(I)Ljava/nio/Buffer;
     519: pop
     520: aload_0
     521: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     524: invokevirtual #177                // Method java/nio/ByteBuffer.remaining:()I
     527: ifne          6
     530: aload_0
     531: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     534: invokevirtual #116                // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
     537: pop
     538: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     541: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     546: ifeq          576
     549: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     552: ldc           #195                // String 0x{} bbLen {}
     554: aload_0
     555: getfield      #31                 // Field sessionId:J
     558: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     561: aload_0
     562: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     565: invokestatic  #181                // Method io/netty/buffer/Unpooled.wrappedBuffer:(Ljava/nio/ByteBuffer;)Lio/netty/buffer/ByteBuf;
     568: invokestatic  #142                // Method io/netty/buffer/ByteBufUtil.hexDump:(Lio/netty/buffer/ByteBuf;)Ljava/lang/String;
     571: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     576: aload_0
     577: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     580: invokevirtual #196                // Method java/nio/ByteBuffer.getInt:()I
     583: istore_2
     584: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     587: invokeinterface #65,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     592: ifeq          616
     595: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     598: ldc           #197                // String 0x{} bbLen len is {}
     600: aload_0
     601: getfield      #31                 // Field sessionId:J
     604: invokestatic  #32                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     607: iload_2
     608: invokestatic  #40                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     611: invokeinterface #143,  4          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     616: aload_0
     617: getfield      #7                  // Field bbLen:Ljava/nio/ByteBuffer;
     620: invokevirtual #198                // Method java/nio/ByteBuffer.clear:()Ljava/nio/Buffer;
     623: pop
     624: aload_0
     625: getfield      #190                // Field initialized:Z
     628: ifne          645
     631: aload_0
     632: aload_0
     633: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
     636: aload_1
     637: iload_2
     638: invokespecial #199                // Method checkFourLetterWord:(Lio/netty/channel/Channel;Lio/netty/buffer/ByteBuf;I)Z
     641: ifeq          645
     644: return
     645: iload_2
     646: iflt          656
     649: iload_2
     650: getstatic     #200                // Field org/apache/jute/BinaryInputArchive.maxBuffer:I
     653: if_icmple     683
     656: new           #81                 // class java/io/IOException
     659: dup
     660: new           #69                 // class java/lang/StringBuilder
     663: dup
     664: invokespecial #70                 // Method java/lang/StringBuilder."<init>":()V
     667: ldc           #201                // String Len error
     669: invokevirtual #72                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     672: iload_2
     673: invokevirtual #202                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     676: invokevirtual #76                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     679: invokespecial #189                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     682: athrow
     683: aload_0
     684: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
     687: iload_2
     688: invokevirtual #203                // Method org/apache/zookeeper/server/ZooKeeperServer.checkRequestSizeWhenReceivingMessage:(I)Z
     691: pop
     692: aload_0
     693: iload_2
     694: invokestatic  #6                  // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
     697: putfield      #174                // Field bb:Ljava/nio/ByteBuffer;
     700: goto          6
     703: goto          767
     706: astore_2
     707: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     710: ldc           #204                // String Closing connection to {}
     712: aload_0
     713: invokevirtual #83                 // Method getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     716: aload_2
     717: invokeinterface #205,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     722: aload_0
     723: getstatic     #206                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.IO_EXCEPTION:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     726: invokevirtual #91                 // Method close:(Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)V
     729: goto          767
     732: astore_2
     733: invokestatic  #53                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     736: getfield      #208                // Field org/apache/zookeeper/server/ServerMetrics.CONNECTION_REJECTED:Lorg/apache/zookeeper/metrics/Counter;
     739: lconst_1
     740: invokeinterface #55,  3           // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
     745: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
     748: ldc           #204                // String Closing connection to {}
     750: aload_0
     751: invokevirtual #83                 // Method getRemoteSocketAddress:()Ljava/net/InetSocketAddress;
     754: aload_2
     755: invokeinterface #84,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     760: aload_0
     761: getstatic     #209                // Field org/apache/zookeeper/server/ServerCnxn$DisconnectReason.CLIENT_RATE_LIMIT:Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;
     764: invokevirtual #91                 // Method close:(Lorg/apache/zookeeper/server/ServerCnxn$DisconnectReason;)V
     767: return
    Exception table:
       from    to  target type
           6   644   706   Class java/io/IOException
         645   703   706   Class java/io/IOException
           6   644   732   Class org/apache/zookeeper/server/ClientCnxnLimitException
         645   703   732   Class org/apache/zookeeper/server/ClientCnxnLimitException

  public void disableRecv(boolean);
    Code:
       0: aload_0
       1: getfield      #5                  // Field throttled:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_0
       5: iconst_1
       6: invokevirtual #210                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          41
      12: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #211                // String Throttling - disabling recv {}
      17: aload_0
      18: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      23: aload_0
      24: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      27: invokeinterface #212,  1          // InterfaceMethod io/netty/channel/Channel.pipeline:()Lio/netty/channel/ChannelPipeline;
      32: getstatic     #213                // Field org/apache/zookeeper/server/NettyServerCnxn$ReadEvent.DISABLE:Lorg/apache/zookeeper/server/NettyServerCnxn$ReadEvent;
      35: invokeinterface #214,  2          // InterfaceMethod io/netty/channel/ChannelPipeline.fireUserEventTriggered:(Ljava/lang/Object;)Lio/netty/channel/ChannelPipeline;
      40: pop
      41: return

  public void enableRecv();
    Code:
       0: aload_0
       1: getfield      #5                  // Field throttled:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: iconst_0
       6: invokevirtual #210                // Method java/util/concurrent/atomic/AtomicBoolean.compareAndSet:(ZZ)Z
       9: ifeq          41
      12: getstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #215                // String Sending unthrottle event {}
      17: aload_0
      18: invokeinterface #33,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      23: aload_0
      24: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      27: invokeinterface #212,  1          // InterfaceMethod io/netty/channel/Channel.pipeline:()Lio/netty/channel/ChannelPipeline;
      32: getstatic     #216                // Field org/apache/zookeeper/server/NettyServerCnxn$ReadEvent.ENABLE:Lorg/apache/zookeeper/server/NettyServerCnxn$ReadEvent;
      35: invokeinterface #214,  2          // InterfaceMethod io/netty/channel/ChannelPipeline.fireUserEventTriggered:(Ljava/lang/Object;)Lio/netty/channel/ChannelPipeline;
      40: pop
      41: return

  public void setSessionTimeout(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #59                 // Field sessionTimeout:I
       5: return

  public int getInterestOps();
    Code:
       0: aload_0
       1: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
       4: ifnull        19
       7: aload_0
       8: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      11: invokeinterface #41,  1           // InterfaceMethod io/netty/channel/Channel.isOpen:()Z
      16: ifne          21
      19: iconst_0
      20: ireturn
      21: iconst_0
      22: istore_1
      23: aload_0
      24: getfield      #5                  // Field throttled:Ljava/util/concurrent/atomic/AtomicBoolean;
      27: invokevirtual #144                // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      30: ifne          37
      33: iload_1
      34: iconst_1
      35: ior
      36: istore_1
      37: aload_0
      38: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
      41: invokeinterface #218,  1          // InterfaceMethod io/netty/channel/Channel.isWritable:()Z
      46: ifne          53
      49: iload_1
      50: iconst_4
      51: ior
      52: istore_1
      53: iload_1
      54: ireturn

  public java.net.InetSocketAddress getRemoteSocketAddress();
    Code:
       0: aload_0
       1: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
       4: invokeinterface #19,  1           // InterfaceMethod io/netty/channel/Channel.remoteAddress:()Ljava/net/SocketAddress;
       9: checkcast     #20                 // class java/net/InetSocketAddress
      12: areturn

  public void sendCloseSession();
    Code:
       0: aload_0
       1: iconst_1
       2: anewarray     #219                // class java/nio/ByteBuffer
       5: dup
       6: iconst_0
       7: getstatic     #89                 // Field org/apache/zookeeper/server/ServerCnxnFactory.closeConn:Ljava/nio/ByteBuffer;
      10: aastore
      11: invokevirtual #86                 // Method sendBuffer:([Ljava/nio/ByteBuffer;)V
      14: return

  protected org.apache.zookeeper.server.ServerStats serverStats();
    Code:
       0: aload_0
       1: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_0
      10: getfield      #46                 // Field zkServer:Lorg/apache/zookeeper/server/ZooKeeperServer;
      13: invokevirtual #220                // Method org/apache/zookeeper/server/ZooKeeperServer.serverStats:()Lorg/apache/zookeeper/server/ServerStats;
      16: areturn

  public boolean isSecure();
    Code:
       0: aload_0
       1: getfield      #14                 // Field factory:Lorg/apache/zookeeper/server/NettyServerCnxnFactory;
       4: getfield      #221                // Field org/apache/zookeeper/server/NettyServerCnxnFactory.secure:Z
       7: ireturn

  public java.security.cert.Certificate[] getClientCertificateChain();
    Code:
       0: aload_0
       1: getfield      #222                // Field clientChain:[Ljava/security/cert/Certificate;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_0
      10: getfield      #222                // Field clientChain:[Ljava/security/cert/Certificate;
      13: aload_0
      14: getfield      #222                // Field clientChain:[Ljava/security/cert/Certificate;
      17: arraylength
      18: invokestatic  #223                // Method java/util/Arrays.copyOf:([Ljava/lang/Object;I)[Ljava/lang/Object;
      21: checkcast     #224                // class "[Ljava/security/cert/Certificate;"
      24: areturn

  public void setClientCertificateChain(java.security.cert.Certificate[]);
    Code:
       0: aload_1
       1: ifnonnull     12
       4: aload_0
       5: aconst_null
       6: putfield      #222                // Field clientChain:[Ljava/security/cert/Certificate;
       9: goto          25
      12: aload_0
      13: aload_1
      14: aload_1
      15: arraylength
      16: invokestatic  #223                // Method java/util/Arrays.copyOf:([Ljava/lang/Object;I)[Ljava/lang/Object;
      19: checkcast     #224                // class "[Ljava/security/cert/Certificate;"
      22: putfield      #222                // Field clientChain:[Ljava/security/cert/Certificate;
      25: return

  io.netty.channel.Channel getChannel();
    Code:
       0: aload_0
       1: getfield      #12                 // Field channel:Lio/netty/channel/Channel;
       4: areturn

  public int getQueuedReadableBytes();
    Code:
       0: aload_0
       1: ldc           #225                // String getQueuedReadableBytes
       3: invokespecial #130                // Method checkIsInEventLoop:(Ljava/lang/String;)V
       6: aload_0
       7: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      10: ifnull        21
      13: aload_0
      14: getfield      #131                // Field queuedBuffer:Lio/netty/buffer/CompositeByteBuf;
      17: invokevirtual #226                // Method io/netty/buffer/CompositeByteBuf.readableBytes:()I
      20: ireturn
      21: iconst_0
      22: ireturn

  public void setHandshakeState(org.apache.zookeeper.server.NettyServerCnxn$HandshakeState);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #9                  // Field handshakeState:Lorg/apache/zookeeper/server/NettyServerCnxn$HandshakeState;
       5: return

  public org.apache.zookeeper.server.NettyServerCnxn$HandshakeState getHandshakeState();
    Code:
       0: aload_0
       1: getfield      #9                  // Field handshakeState:Lorg/apache/zookeeper/server/NettyServerCnxn$HandshakeState;
       4: areturn

  private void lambda$new$0(io.netty.util.concurrent.Future) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokeinterface #227,  1          // InterfaceMethod io/netty/util/concurrent/Future.isSuccess:()Z
       6: ifeq          13
       9: aload_0
      10: invokevirtual #228                // Method packetSent:()V
      13: return

  static void access$000(org.apache.zookeeper.server.NettyServerCnxn);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method releaseQueuedBuffer:()V
       4: return

  static {};
    Code:
       0: ldc           #229                // class org/apache/zookeeper/server/NettyServerCnxn
       2: invokestatic  #230                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #29                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
