Compiled from "ContainerManager.java"
public class org.apache.zookeeper.server.ContainerManager {
  private static final org.slf4j.Logger LOG;

  private final org.apache.zookeeper.server.ZKDatabase zkDb;

  private final org.apache.zookeeper.server.RequestProcessor requestProcessor;

  private final int checkIntervalMs;

  private final int maxPerMinute;

  private final long maxNeverUsedIntervalMs;

  private final java.util.Timer timer;

  private final java.util.concurrent.atomic.AtomicReference<java.util.TimerTask> task;

  public org.apache.zookeeper.server.ContainerManager(org.apache.zookeeper.server.ZKDatabase, org.apache.zookeeper.server.RequestProcessor, int, int);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iload_3
       4: iload         4
       6: lconst_0
       7: invokespecial #2                  // Method "<init>":(Lorg/apache/zookeeper/server/ZKDatabase;Lorg/apache/zookeeper/server/RequestProcessor;IIJ)V
      10: return

  public org.apache.zookeeper.server.ContainerManager(org.apache.zookeeper.server.ZKDatabase, org.apache.zookeeper.server.RequestProcessor, int, int, long);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #4                  // class java/util/concurrent/atomic/AtomicReference
       8: dup
       9: aconst_null
      10: invokespecial #5                  // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      13: putfield      #6                  // Field task:Ljava/util/concurrent/atomic/AtomicReference;
      16: aload_0
      17: aload_1
      18: putfield      #7                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      21: aload_0
      22: aload_2
      23: putfield      #8                  // Field requestProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      26: aload_0
      27: iload_3
      28: putfield      #9                  // Field checkIntervalMs:I
      31: aload_0
      32: iload         4
      34: putfield      #10                 // Field maxPerMinute:I
      37: aload_0
      38: lload         5
      40: putfield      #11                 // Field maxNeverUsedIntervalMs:J
      43: aload_0
      44: new           #12                 // class java/util/Timer
      47: dup
      48: ldc           #13                 // String ContainerManagerTask
      50: iconst_1
      51: invokespecial #14                 // Method java/util/Timer."<init>":(Ljava/lang/String;Z)V
      54: putfield      #15                 // Field timer:Ljava/util/Timer;
      57: getstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
      60: ldc           #16                 // String Using checkIntervalMs={} maxPerMinute={} maxNeverUsedIntervalMs={}
      62: iconst_3
      63: anewarray     #17                 // class java/lang/Object
      66: dup
      67: iconst_0
      68: iload_3
      69: invokestatic  #18                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      72: aastore
      73: dup
      74: iconst_1
      75: iload         4
      77: invokestatic  #18                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      80: aastore
      81: dup
      82: iconst_2
      83: lload         5
      85: invokestatic  #19                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      88: aastore
      89: invokeinterface #20,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      94: return

  public void start();
    Code:
       0: aload_0
       1: getfield      #6                  // Field task:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #21                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: ifnonnull     49
      10: new           #22                 // class org/apache/zookeeper/server/ContainerManager$1
      13: dup
      14: aload_0
      15: invokespecial #23                 // Method org/apache/zookeeper/server/ContainerManager$1."<init>":(Lorg/apache/zookeeper/server/ContainerManager;)V
      18: astore_1
      19: aload_0
      20: getfield      #6                  // Field task:Ljava/util/concurrent/atomic/AtomicReference;
      23: aconst_null
      24: aload_1
      25: invokevirtual #24                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      28: ifeq          49
      31: aload_0
      32: getfield      #15                 // Field timer:Ljava/util/Timer;
      35: aload_1
      36: aload_0
      37: getfield      #9                  // Field checkIntervalMs:I
      40: i2l
      41: aload_0
      42: getfield      #9                  // Field checkIntervalMs:I
      45: i2l
      46: invokevirtual #25                 // Method java/util/Timer.scheduleAtFixedRate:(Ljava/util/TimerTask;JJ)V
      49: return

  public void stop();
    Code:
       0: aload_0
       1: getfield      #6                  // Field task:Ljava/util/concurrent/atomic/AtomicReference;
       4: aconst_null
       5: invokevirtual #26                 // Method java/util/concurrent/atomic/AtomicReference.getAndSet:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #27                 // class java/util/TimerTask
      11: astore_1
      12: aload_1
      13: ifnull        21
      16: aload_1
      17: invokevirtual #28                 // Method java/util/TimerTask.cancel:()Z
      20: pop
      21: aload_0
      22: getfield      #15                 // Field timer:Ljava/util/Timer;
      25: invokevirtual #29                 // Method java/util/Timer.cancel:()V
      28: return

  public void checkContainers() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: invokevirtual #30                 // Method getMinIntervalMs:()J
       4: lstore_1
       5: aload_0
       6: invokevirtual #31                 // Method getCandidates:()Ljava/util/Collection;
       9: invokeinterface #32,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      14: astore_3
      15: aload_3
      16: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          133
      24: aload_3
      25: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #35                 // class java/lang/String
      33: astore        4
      35: invokestatic  #36                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      38: lstore        5
      40: aload         4
      42: invokevirtual #37                 // Method java/lang/String.getBytes:()[B
      45: invokestatic  #38                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      48: astore        7
      50: new           #39                 // class org/apache/zookeeper/server/Request
      53: dup
      54: aconst_null
      55: lconst_0
      56: iconst_0
      57: bipush        20
      59: aload         7
      61: aconst_null
      62: invokespecial #41                 // Method org/apache/zookeeper/server/Request."<init>":(Lorg/apache/zookeeper/server/ServerCnxn;JIILjava/nio/ByteBuffer;Ljava/util/List;)V
      65: astore        8
      67: getstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
      70: ldc           #42                 // String Attempting to delete candidate container: {}
      72: aload         4
      74: invokeinterface #43,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      79: aload_0
      80: aload         8
      82: invokevirtual #44                 // Method postDeleteRequest:(Lorg/apache/zookeeper/server/Request;)V
      85: goto          104
      88: astore        9
      90: getstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
      93: ldc           #46                 // String Could not delete container: {}
      95: aload         4
      97: aload         9
      99: invokeinterface #47,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     104: invokestatic  #36                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
     107: lload         5
     109: lsub
     110: lstore        9
     112: lload_1
     113: lload         9
     115: lsub
     116: lstore        11
     118: lload         11
     120: lconst_0
     121: lcmp
     122: ifle          130
     125: lload         11
     127: invokestatic  #48                 // Method java/lang/Thread.sleep:(J)V
     130: goto          15
     133: return
    Exception table:
       from    to  target type
          67    85    88   Class java/lang/Exception

  protected void postDeleteRequest(org.apache.zookeeper.server.Request) throws org.apache.zookeeper.server.RequestProcessor$RequestProcessorException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field requestProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
       4: aload_1
       5: invokeinterface #49,  2           // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
      10: return

  protected long getMinIntervalMs();
    Code:
       0: getstatic     #50                 // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
       3: lconst_1
       4: invokevirtual #51                 // Method java/util/concurrent/TimeUnit.toMillis:(J)J
       7: aload_0
       8: getfield      #10                 // Field maxPerMinute:I
      11: i2l
      12: ldiv
      13: lreturn

  protected java.util.Collection<java.lang.String> getCandidates();
    Code:
       0: new           #52                 // class java/util/HashSet
       3: dup
       4: invokespecial #53                 // Method java/util/HashSet."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #7                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      12: invokevirtual #54                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      15: invokevirtual #55                 // Method org/apache/zookeeper/server/DataTree.getContainers:()Ljava/util/Set;
      18: invokeinterface #56,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      23: astore_2
      24: aload_2
      25: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      30: ifeq          167
      33: aload_2
      34: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      39: checkcast     #35                 // class java/lang/String
      42: astore_3
      43: aload_0
      44: getfield      #7                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
      47: invokevirtual #54                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      50: aload_3
      51: invokevirtual #57                 // Method org/apache/zookeeper/server/DataTree.getNode:(Ljava/lang/String;)Lorg/apache/zookeeper/server/DataNode;
      54: astore        4
      56: aload         4
      58: ifnull        127
      61: aload         4
      63: invokevirtual #58                 // Method org/apache/zookeeper/server/DataNode.getChildren:()Ljava/util/Set;
      66: invokeinterface #59,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
      71: ifeq          127
      74: aload         4
      76: getfield      #60                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
      79: invokevirtual #61                 // Method org/apache/zookeeper/data/StatPersisted.getCversion:()I
      82: ifle          96
      85: aload_1
      86: aload_3
      87: invokeinterface #62,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      92: pop
      93: goto          127
      96: aload_0
      97: getfield      #11                 // Field maxNeverUsedIntervalMs:J
     100: lconst_0
     101: lcmp
     102: ifeq          127
     105: aload_0
     106: aload         4
     108: invokevirtual #63                 // Method getElapsed:(Lorg/apache/zookeeper/server/DataNode;)J
     111: aload_0
     112: getfield      #11                 // Field maxNeverUsedIntervalMs:J
     115: lcmp
     116: ifle          127
     119: aload_1
     120: aload_3
     121: invokeinterface #62,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     126: pop
     127: aload         4
     129: ifnull        164
     132: aload         4
     134: getfield      #60                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
     137: invokevirtual #61                 // Method org/apache/zookeeper/data/StatPersisted.getCversion:()I
     140: ifle          164
     143: aload         4
     145: invokevirtual #58                 // Method org/apache/zookeeper/server/DataNode.getChildren:()Ljava/util/Set;
     148: invokeinterface #59,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     153: ifeq          164
     156: aload_1
     157: aload_3
     158: invokeinterface #62,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     163: pop
     164: goto          24
     167: aload_0
     168: getfield      #7                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     171: invokevirtual #54                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
     174: invokevirtual #64                 // Method org/apache/zookeeper/server/DataTree.getTtls:()Ljava/util/Set;
     177: invokeinterface #56,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     182: astore_2
     183: aload_2
     184: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     189: ifeq          300
     192: aload_2
     193: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     198: checkcast     #35                 // class java/lang/String
     201: astore_3
     202: aload_0
     203: getfield      #7                  // Field zkDb:Lorg/apache/zookeeper/server/ZKDatabase;
     206: invokevirtual #54                 // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
     209: aload_3
     210: invokevirtual #57                 // Method org/apache/zookeeper/server/DataTree.getNode:(Ljava/lang/String;)Lorg/apache/zookeeper/server/DataNode;
     213: astore        4
     215: aload         4
     217: ifnull        297
     220: aload         4
     222: invokevirtual #58                 // Method org/apache/zookeeper/server/DataNode.getChildren:()Ljava/util/Set;
     225: astore        5
     227: aload         5
     229: invokeinterface #59,  1           // InterfaceMethod java/util/Set.isEmpty:()Z
     234: ifeq          297
     237: aload         4
     239: getfield      #60                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
     242: invokevirtual #65                 // Method org/apache/zookeeper/data/StatPersisted.getEphemeralOwner:()J
     245: invokestatic  #66                 // Method org/apache/zookeeper/server/EphemeralType.get:(J)Lorg/apache/zookeeper/server/EphemeralType;
     248: getstatic     #67                 // Field org/apache/zookeeper/server/EphemeralType.TTL:Lorg/apache/zookeeper/server/EphemeralType;
     251: if_acmpne     297
     254: getstatic     #67                 // Field org/apache/zookeeper/server/EphemeralType.TTL:Lorg/apache/zookeeper/server/EphemeralType;
     257: aload         4
     259: getfield      #60                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
     262: invokevirtual #65                 // Method org/apache/zookeeper/data/StatPersisted.getEphemeralOwner:()J
     265: invokevirtual #68                 // Method org/apache/zookeeper/server/EphemeralType.getValue:(J)J
     268: lstore        6
     270: lload         6
     272: lconst_0
     273: lcmp
     274: ifeq          297
     277: aload_0
     278: aload         4
     280: invokevirtual #63                 // Method getElapsed:(Lorg/apache/zookeeper/server/DataNode;)J
     283: lload         6
     285: lcmp
     286: ifle          297
     289: aload_1
     290: aload_3
     291: invokeinterface #62,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     296: pop
     297: goto          183
     300: aload_1
     301: areturn

  protected long getElapsed(org.apache.zookeeper.server.DataNode);
    Code:
       0: invokestatic  #69                 // Method org/apache/zookeeper/common/Time.currentWallTime:()J
       3: aload_1
       4: getfield      #60                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
       7: invokevirtual #70                 // Method org/apache/zookeeper/data/StatPersisted.getMtime:()J
      10: lsub
      11: lreturn

  static org.slf4j.Logger access$000();
    Code:
       0: getstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static {};
    Code:
       0: ldc           #71                 // class org/apache/zookeeper/server/ContainerManager
       2: invokestatic  #72                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #1                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
