Compiled from "Login.java"
class org.apache.zookeeper.Login$1 implements java.lang.Runnable {
  final org.apache.zookeeper.common.ZKConfig val$zkConfig;

  final org.apache.zookeeper.Login this$0;

  org.apache.zookeeper.Login$1(org.apache.zookeeper.Login, org.apache.zookeeper.common.ZKConfig);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
       5: aload_0
       6: aload_2
       7: putfield      #3                  // Field val$zkConfig:Lorg/apache/zookeeper/common/ZKConfig;
      10: aload_0
      11: invokespecial #4                  // Method java/lang/Object."<init>":()V
      14: return

  public void run();
    Code:
       0: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
       3: ldc           #6                  // String TGT refresh thread started.
       5: invokeinterface #7,  2            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
      14: invokestatic  #8                  // Method org/apache/zookeeper/Login.access$100:(Lorg/apache/zookeeper/Login;)Ljavax/security/auth/kerberos/KerberosTicket;
      17: astore_1
      18: invokestatic  #9                  // Method org/apache/zookeeper/common/Time.currentWallTime:()J
      21: lstore_2
      22: aload_1
      23: ifnonnull     59
      26: lload_2
      27: ldc2_w        #10                 // long 60000l
      30: ladd
      31: lstore        4
      33: new           #12                 // class java/util/Date
      36: dup
      37: lload         4
      39: invokespecial #13                 // Method java/util/Date."<init>":(J)V
      42: astore        6
      44: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
      47: ldc           #14                 // String No TGT found: will try again at {}
      49: aload         6
      51: invokeinterface #15,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      56: goto          293
      59: aload_0
      60: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
      63: aload_1
      64: invokestatic  #16                 // Method org/apache/zookeeper/Login.access$200:(Lorg/apache/zookeeper/Login;Ljavax/security/auth/kerberos/KerberosTicket;)J
      67: lstore        4
      69: aload_1
      70: invokevirtual #17                 // Method javax/security/auth/kerberos/KerberosTicket.getEndTime:()Ljava/util/Date;
      73: invokevirtual #18                 // Method java/util/Date.getTime:()J
      76: lstore        7
      78: new           #12                 // class java/util/Date
      81: dup
      82: lload         7
      84: invokespecial #13                 // Method java/util/Date."<init>":(J)V
      87: astore        9
      89: aload_0
      90: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
      93: invokestatic  #19                 // Method org/apache/zookeeper/Login.access$300:(Lorg/apache/zookeeper/Login;)Z
      96: ifeq          153
      99: aload_1
     100: invokevirtual #17                 // Method javax/security/auth/kerberos/KerberosTicket.getEndTime:()Ljava/util/Date;
     103: aload_1
     104: invokevirtual #20                 // Method javax/security/auth/kerberos/KerberosTicket.getRenewTill:()Ljava/util/Date;
     107: invokevirtual #21                 // Method java/util/Date.equals:(Ljava/lang/Object;)Z
     110: ifeq          153
     113: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     116: ldc           #22                 // String The TGT cannot be renewed beyond the next expiry date: {}.This process will not be able to authenticate new SASL connections after that time (for example, it will not be authenticate a new connection with a Zookeeper Quorum member).  Ask your system administrator to either increase the \'renew until\' time by doing : \'modprinc -maxrenewlife {}\' within kadmin, or instead, to generate a keytab for {}. Because the TGT\'s expiry cannot be further extended by refreshing, exiting refresh thread now.
     118: iconst_3
     119: anewarray     #23                 // class java/lang/Object
     122: dup
     123: iconst_0
     124: aload         9
     126: aastore
     127: dup
     128: iconst_1
     129: aload_0
     130: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
     133: invokestatic  #24                 // Method org/apache/zookeeper/Login.access$400:(Lorg/apache/zookeeper/Login;)Ljava/lang/String;
     136: aastore
     137: dup
     138: iconst_2
     139: aload_0
     140: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
     143: invokestatic  #24                 // Method org/apache/zookeeper/Login.access$400:(Lorg/apache/zookeeper/Login;)Ljava/lang/String;
     146: aastore
     147: invokeinterface #25,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     152: return
     153: lload         4
     155: lload         7
     157: lcmp
     158: ifgt          172
     161: lload_2
     162: ldc2_w        #10                 // long 60000l
     165: ladd
     166: lload         7
     168: lcmp
     169: ifle          178
     172: lload_2
     173: lstore        4
     175: goto          259
     178: lload         4
     180: lload_2
     181: ldc2_w        #10                 // long 60000l
     184: ladd
     185: lcmp
     186: ifge          247
     189: new           #12                 // class java/util/Date
     192: dup
     193: lload         4
     195: invokespecial #13                 // Method java/util/Date."<init>":(J)V
     198: astore        10
     200: new           #12                 // class java/util/Date
     203: dup
     204: lload_2
     205: ldc2_w        #10                 // long 60000l
     208: ladd
     209: invokespecial #13                 // Method java/util/Date."<init>":(J)V
     212: astore        11
     214: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     217: ldc           #26                 // String TGT refresh thread time adjusted from : {} to : {} since the former is sooner than the minimum refresh interval ({} seconds) from now.
     219: iconst_3
     220: anewarray     #23                 // class java/lang/Object
     223: dup
     224: iconst_0
     225: aload         10
     227: aastore
     228: dup
     229: iconst_1
     230: aload         11
     232: aastore
     233: dup
     234: iconst_2
     235: ldc2_w        #27                 // long 60l
     238: invokestatic  #29                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     241: aastore
     242: invokeinterface #30,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     247: lload         4
     249: lload_2
     250: ldc2_w        #10                 // long 60000l
     253: ladd
     254: invokestatic  #31                 // Method java/lang/Math.max:(JJ)J
     257: lstore        4
     259: new           #12                 // class java/util/Date
     262: dup
     263: lload         4
     265: invokespecial #13                 // Method java/util/Date."<init>":(J)V
     268: astore        6
     270: lload         4
     272: lload         7
     274: lcmp
     275: ifle          293
     278: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     281: ldc           #32                 // String next refresh: {} is later than expiry {}. This may indicate a clock skew problem. Check that this host and the KDC\'s hosts\' clocks are in sync. Exiting refresh thread.
     283: aload         6
     285: aload         9
     287: invokeinterface #33,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     292: return
     293: lload_2
     294: lload         4
     296: lcmp
     297: ifne          313
     300: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     303: ldc           #34                 // String refreshing now because expiry is before next scheduled refresh time.
     305: invokeinterface #7,  2            // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     310: goto          389
     313: lload_2
     314: lload         4
     316: lcmp
     317: ifge          374
     320: new           #12                 // class java/util/Date
     323: dup
     324: lload         4
     326: invokespecial #13                 // Method java/util/Date."<init>":(J)V
     329: astore        7
     331: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     334: ldc           #35                 // String TGT refresh sleeping until: {}
     336: aload         7
     338: invokevirtual #36                 // Method java/util/Date.toString:()Ljava/lang/String;
     341: invokeinterface #37,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     346: lload         4
     348: lload_2
     349: lsub
     350: invokestatic  #38                 // Method java/lang/Thread.sleep:(J)V
     353: goto          371
     356: astore        8
     358: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     361: ldc           #40                 // String TGT renewal thread has been interrupted and will exit.
     363: invokeinterface #41,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     368: goto          623
     371: goto          389
     374: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     377: ldc           #42                 // String nextRefresh:{} is in the past: exiting refresh thread. Check clock sync between this host and KDC - (KDC\'s clock is likely ahead of this host). Manual intervention will be required for this client to successfully authenticate. Exiting refresh thread.
     379: aload         6
     381: invokeinterface #43,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
     386: goto          623
     389: aload_0
     390: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
     393: invokestatic  #19                 // Method org/apache/zookeeper/Login.access$300:(Lorg/apache/zookeeper/Login;)Z
     396: ifeq          524
     399: aload_0
     400: getfield      #3                  // Field val$zkConfig:Lorg/apache/zookeeper/common/ZKConfig;
     403: ldc           #45                 // String zookeeper.kinit
     405: ldc           #46                 // String /usr/bin/kinit
     407: invokevirtual #47                 // Method org/apache/zookeeper/common/ZKConfig.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     410: astore        7
     412: ldc           #48                 // String -R
     414: astore        8
     416: iconst_1
     417: istore        9
     419: iload         9
     421: iflt          524
     424: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     427: ldc           #49                 // String running ticket cache refresh command: {} {}
     429: aload         7
     431: aload         8
     433: invokeinterface #50,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     438: iconst_2
     439: anewarray     #51                 // class java/lang/String
     442: dup
     443: iconst_0
     444: aload         7
     446: aastore
     447: dup
     448: iconst_1
     449: aload         8
     451: aastore
     452: invokestatic  #52                 // Method org/apache/zookeeper/Shell.execCommand:([Ljava/lang/String;)Ljava/lang/String;
     455: pop
     456: goto          524
     459: astore        10
     461: iload         9
     463: ifle          491
     466: iinc          9, -1
     469: ldc2_w        #54                 // long 10000l
     472: invokestatic  #38                 // Method java/lang/Thread.sleep:(J)V
     475: goto          521
     478: astore        11
     480: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     483: ldc           #56                 // String Interrupted while renewing TGT, exiting Login thread
     485: invokeinterface #57,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     490: return
     491: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     494: ldc           #58                 // String Could not renew TGT due to problem running shell command: \'{} {}\'. Exiting refresh thread.
     496: iconst_3
     497: anewarray     #23                 // class java/lang/Object
     500: dup
     501: iconst_0
     502: aload         7
     504: aastore
     505: dup
     506: iconst_1
     507: aload         8
     509: aastore
     510: dup
     511: iconst_2
     512: aload         10
     514: aastore
     515: invokeinterface #30,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     520: return
     521: goto          419
     524: iconst_1
     525: istore        7
     527: iload         7
     529: iflt          600
     532: aload_0
     533: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
     536: invokestatic  #59                 // Method org/apache/zookeeper/Login.access$500:(Lorg/apache/zookeeper/Login;)V
     539: goto          600
     542: astore        8
     544: iload         7
     546: ifle          578
     549: iinc          7, -1
     552: ldc2_w        #54                 // long 10000l
     555: invokestatic  #38                 // Method java/lang/Thread.sleep:(J)V
     558: goto          597
     561: astore        9
     563: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     566: ldc           #61                 // String Interrupted during login retry after LoginException:
     568: aload         8
     570: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     575: aload         8
     577: athrow
     578: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     581: ldc           #63                 // String Could not refresh TGT for principal: {}.
     583: aload_0
     584: getfield      #2                  // Field this$0:Lorg/apache/zookeeper/Login;
     587: invokestatic  #24                 // Method org/apache/zookeeper/Login.access$400:(Lorg/apache/zookeeper/Login;)Ljava/lang/String;
     590: aload         8
     592: invokeinterface #33,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     597: goto          527
     600: goto          620
     603: astore        7
     605: invokestatic  #5                  // Method org/apache/zookeeper/Login.access$000:()Lorg/slf4j/Logger;
     608: ldc           #64                 // String Failed to refresh TGT: refresh thread exiting now.
     610: aload         7
     612: invokeinterface #62,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     617: goto          623
     620: goto          10
     623: return
    Exception table:
       from    to  target type
         346   353   356   Class java/lang/InterruptedException
         424   456   459   Class java/lang/Exception
         469   475   478   Class java/lang/InterruptedException
         532   539   542   Class javax/security/auth/login/LoginException
         552   558   561   Class java/lang/InterruptedException
         524   600   603   Class javax/security/auth/login/LoginException
}
