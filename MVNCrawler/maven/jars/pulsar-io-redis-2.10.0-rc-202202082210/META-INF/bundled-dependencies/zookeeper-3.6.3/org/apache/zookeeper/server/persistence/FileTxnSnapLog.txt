Compiled from "FileTxnSnapLog.java"
public class org.apache.zookeeper.server.persistence.FileTxnSnapLog {
  final java.io.File dataDir;

  final java.io.File snapDir;

  org.apache.zookeeper.server.persistence.TxnLog txnLog;

  org.apache.zookeeper.server.persistence.SnapShot snapLog;

  private final boolean autoCreateDB;

  private final boolean trustEmptySnapshot;

  public static final int VERSION;

  public static final java.lang.String version;

  private static final org.slf4j.Logger LOG;

  public static final java.lang.String ZOOKEEPER_DATADIR_AUTOCREATE;

  public static final java.lang.String ZOOKEEPER_DATADIR_AUTOCREATE_DEFAULT;

  static final java.lang.String ZOOKEEPER_DB_AUTOCREATE;

  private static final java.lang.String ZOOKEEPER_DB_AUTOCREATE_DEFAULT;

  public static final java.lang.String ZOOKEEPER_SNAPSHOT_TRUST_EMPTY;

  private static final java.lang.String EMPTY_SNAPSHOT_WARNING;

  public org.apache.zookeeper.server.persistence.FileTxnSnapLog(java.io.File, java.io.File) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #3                  // String Opening datadir:{} snapDir:{}
       9: aload_1
      10: aload_2
      11: invokeinterface #4,  4            // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      16: aload_0
      17: new           #5                  // class java/io/File
      20: dup
      21: aload_1
      22: ldc           #7                  // String version-2
      24: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      27: putfield      #9                  // Field dataDir:Ljava/io/File;
      30: aload_0
      31: new           #5                  // class java/io/File
      34: dup
      35: aload_2
      36: ldc           #7                  // String version-2
      38: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      41: putfield      #10                 // Field snapDir:Ljava/io/File;
      44: ldc           #11                 // String zookeeper.datadir.autocreate
      46: ldc           #12                 // String true
      48: invokestatic  #13                 // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      51: invokestatic  #14                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
      54: istore_3
      55: aload_0
      56: ldc           #15                 // String zookeeper.snapshot.trust.empty
      58: invokestatic  #16                 // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
      61: putfield      #17                 // Field trustEmptySnapshot:Z
      64: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      67: ldc           #18                 // String {} : {}
      69: ldc           #15                 // String zookeeper.snapshot.trust.empty
      71: aload_0
      72: getfield      #17                 // Field trustEmptySnapshot:Z
      75: invokestatic  #19                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      78: invokeinterface #20,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      83: aload_0
      84: getfield      #9                  // Field dataDir:Ljava/io/File;
      87: invokevirtual #21                 // Method java/io/File.exists:()Z
      90: ifne          176
      93: iload_3
      94: ifne          126
      97: new           #22                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException
     100: dup
     101: ldc           #23                 // String Missing data directory %s, automatic data directory creation is disabled (%s is false). Please create this directory manually.
     103: iconst_2
     104: anewarray     #24                 // class java/lang/Object
     107: dup
     108: iconst_0
     109: aload_0
     110: getfield      #9                  // Field dataDir:Ljava/io/File;
     113: aastore
     114: dup
     115: iconst_1
     116: ldc           #11                 // String zookeeper.datadir.autocreate
     118: aastore
     119: invokestatic  #25                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     122: invokespecial #26                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException."<init>":(Ljava/lang/String;)V
     125: athrow
     126: aload_0
     127: getfield      #9                  // Field dataDir:Ljava/io/File;
     130: invokevirtual #27                 // Method java/io/File.mkdirs:()Z
     133: ifne          176
     136: aload_0
     137: getfield      #9                  // Field dataDir:Ljava/io/File;
     140: invokevirtual #21                 // Method java/io/File.exists:()Z
     143: ifne          176
     146: new           #22                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException
     149: dup
     150: new           #28                 // class java/lang/StringBuilder
     153: dup
     154: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     157: ldc           #30                 // String Unable to create data directory
     159: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     162: aload_0
     163: getfield      #9                  // Field dataDir:Ljava/io/File;
     166: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     169: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     172: invokespecial #26                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException."<init>":(Ljava/lang/String;)V
     175: athrow
     176: aload_0
     177: getfield      #9                  // Field dataDir:Ljava/io/File;
     180: invokevirtual #34                 // Method java/io/File.canWrite:()Z
     183: ifne          216
     186: new           #22                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException
     189: dup
     190: new           #28                 // class java/lang/StringBuilder
     193: dup
     194: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     197: ldc           #35                 // String Cannot write to data directory
     199: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     202: aload_0
     203: getfield      #9                  // Field dataDir:Ljava/io/File;
     206: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     209: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     212: invokespecial #26                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException."<init>":(Ljava/lang/String;)V
     215: athrow
     216: aload_0
     217: getfield      #10                 // Field snapDir:Ljava/io/File;
     220: invokevirtual #21                 // Method java/io/File.exists:()Z
     223: ifne          309
     226: iload_3
     227: ifne          259
     230: new           #22                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException
     233: dup
     234: ldc           #36                 // String Missing snap directory %s, automatic data directory creation is disabled (%s is false).Please create this directory manually.
     236: iconst_2
     237: anewarray     #24                 // class java/lang/Object
     240: dup
     241: iconst_0
     242: aload_0
     243: getfield      #10                 // Field snapDir:Ljava/io/File;
     246: aastore
     247: dup
     248: iconst_1
     249: ldc           #11                 // String zookeeper.datadir.autocreate
     251: aastore
     252: invokestatic  #25                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     255: invokespecial #26                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException."<init>":(Ljava/lang/String;)V
     258: athrow
     259: aload_0
     260: getfield      #10                 // Field snapDir:Ljava/io/File;
     263: invokevirtual #27                 // Method java/io/File.mkdirs:()Z
     266: ifne          309
     269: aload_0
     270: getfield      #10                 // Field snapDir:Ljava/io/File;
     273: invokevirtual #21                 // Method java/io/File.exists:()Z
     276: ifne          309
     279: new           #22                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException
     282: dup
     283: new           #28                 // class java/lang/StringBuilder
     286: dup
     287: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     290: ldc           #37                 // String Unable to create snap directory
     292: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     295: aload_0
     296: getfield      #10                 // Field snapDir:Ljava/io/File;
     299: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     302: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     305: invokespecial #26                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException."<init>":(Ljava/lang/String;)V
     308: athrow
     309: aload_0
     310: getfield      #10                 // Field snapDir:Ljava/io/File;
     313: invokevirtual #34                 // Method java/io/File.canWrite:()Z
     316: ifne          349
     319: new           #22                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException
     322: dup
     323: new           #28                 // class java/lang/StringBuilder
     326: dup
     327: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     330: ldc           #38                 // String Cannot write to snap directory
     332: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     335: aload_0
     336: getfield      #10                 // Field snapDir:Ljava/io/File;
     339: invokevirtual #32                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     342: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     345: invokespecial #26                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$DatadirException."<init>":(Ljava/lang/String;)V
     348: athrow
     349: aload_0
     350: getfield      #9                  // Field dataDir:Ljava/io/File;
     353: invokevirtual #39                 // Method java/io/File.getPath:()Ljava/lang/String;
     356: aload_0
     357: getfield      #10                 // Field snapDir:Ljava/io/File;
     360: invokevirtual #39                 // Method java/io/File.getPath:()Ljava/lang/String;
     363: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     366: ifne          377
     369: aload_0
     370: invokespecial #41                 // Method checkLogDir:()V
     373: aload_0
     374: invokespecial #42                 // Method checkSnapDir:()V
     377: aload_0
     378: new           #43                 // class org/apache/zookeeper/server/persistence/FileTxnLog
     381: dup
     382: aload_0
     383: getfield      #9                  // Field dataDir:Ljava/io/File;
     386: invokespecial #44                 // Method org/apache/zookeeper/server/persistence/FileTxnLog."<init>":(Ljava/io/File;)V
     389: putfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
     392: aload_0
     393: new           #46                 // class org/apache/zookeeper/server/persistence/FileSnap
     396: dup
     397: aload_0
     398: getfield      #10                 // Field snapDir:Ljava/io/File;
     401: invokespecial #47                 // Method org/apache/zookeeper/server/persistence/FileSnap."<init>":(Ljava/io/File;)V
     404: putfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
     407: aload_0
     408: ldc           #49                 // String zookeeper.db.autocreate
     410: ldc           #12                 // String true
     412: invokestatic  #13                 // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     415: invokestatic  #14                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     418: putfield      #50                 // Field autoCreateDB:Z
     421: return

  public void setServerStats(org.apache.zookeeper.server.ServerStats);
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: aload_1
       5: invokeinterface #51,  2           // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.setServerStats:(Lorg/apache/zookeeper/server/ServerStats;)V
      10: return

  private void checkLogDir() throws org.apache.zookeeper.server.persistence.FileTxnSnapLog$LogDirContentCheckException;
    Code:
       0: aload_0
       1: getfield      #9                  // Field dataDir:Ljava/io/File;
       4: new           #52                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$1
       7: dup
       8: aload_0
       9: invokespecial #53                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$1."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      12: invokevirtual #54                 // Method java/io/File.listFiles:(Ljava/io/FilenameFilter;)[Ljava/io/File;
      15: astore_1
      16: aload_1
      17: ifnull        35
      20: aload_1
      21: arraylength
      22: ifle          35
      25: new           #55                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$LogDirContentCheckException
      28: dup
      29: ldc           #56                 // String Log directory has snapshot files. Check if dataLogDir and dataDir configuration is correct.
      31: invokespecial #57                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$LogDirContentCheckException."<init>":(Ljava/lang/String;)V
      34: athrow
      35: return

  private void checkSnapDir() throws org.apache.zookeeper.server.persistence.FileTxnSnapLog$SnapDirContentCheckException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field snapDir:Ljava/io/File;
       4: new           #58                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$2
       7: dup
       8: aload_0
       9: invokespecial #59                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$2."<init>":(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;)V
      12: invokevirtual #54                 // Method java/io/File.listFiles:(Ljava/io/FilenameFilter;)[Ljava/io/File;
      15: astore_1
      16: aload_1
      17: ifnull        35
      20: aload_1
      21: arraylength
      22: ifle          35
      25: new           #60                 // class org/apache/zookeeper/server/persistence/FileTxnSnapLog$SnapDirContentCheckException
      28: dup
      29: ldc           #61                 // String Snapshot directory has log files. Check if dataLogDir and dataDir configuration is correct.
      31: invokespecial #62                 // Method org/apache/zookeeper/server/persistence/FileTxnSnapLog$SnapDirContentCheckException."<init>":(Ljava/lang/String;)V
      34: athrow
      35: return

  public java.io.File getDataDir();
    Code:
       0: aload_0
       1: getfield      #9                  // Field dataDir:Ljava/io/File;
       4: areturn

  public java.io.File getSnapDir();
    Code:
       0: aload_0
       1: getfield      #10                 // Field snapDir:Ljava/io/File;
       4: areturn

  public org.apache.zookeeper.server.persistence.SnapshotInfo getLastSnapshotInfo();
    Code:
       0: aload_0
       1: getfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
       4: invokeinterface #63,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/SnapShot.getLastSnapshotInfo:()Lorg/apache/zookeeper/server/persistence/SnapshotInfo;
       9: areturn

  public long restore(org.apache.zookeeper.server.DataTree, java.util.Map<java.lang.Long, java.lang.Integer>, org.apache.zookeeper.server.persistence.FileTxnSnapLog$PlayBackListener) throws java.io.IOException;
    Code:
       0: invokestatic  #64                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
       3: lstore        4
       5: aload_0
       6: getfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
       9: aload_1
      10: aload_2
      11: invokeinterface #65,  3           // InterfaceMethod org/apache/zookeeper/server/persistence/SnapShot.deserialize:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;)J
      16: lstore        6
      18: invokestatic  #66                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      21: getfield      #67                 // Field org/apache/zookeeper/server/ServerMetrics.STARTUP_SNAP_LOAD_TIME:Lorg/apache/zookeeper/metrics/Summary;
      24: invokestatic  #64                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      27: lload         4
      29: lsub
      30: invokeinterface #68,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      35: new           #43                 // class org/apache/zookeeper/server/persistence/FileTxnLog
      38: dup
      39: aload_0
      40: getfield      #9                  // Field dataDir:Ljava/io/File;
      43: invokespecial #44                 // Method org/apache/zookeeper/server/persistence/FileTxnLog."<init>":(Ljava/io/File;)V
      46: astore        8
      48: new           #5                  // class java/io/File
      51: dup
      52: aload_0
      53: getfield      #9                  // Field dataDir:Ljava/io/File;
      56: invokevirtual #69                 // Method java/io/File.getParent:()Ljava/lang/String;
      59: ldc           #70                 // String initialize
      61: invokespecial #71                 // Method java/io/File."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      64: astore        10
      66: aload         10
      68: invokevirtual #72                 // Method java/io/File.toPath:()Ljava/nio/file/Path;
      71: invokestatic  #73                 // Method java/nio/file/Files.deleteIfExists:(Ljava/nio/file/Path;)Z
      74: ifeq          93
      77: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      80: ldc           #74                 // String Initialize file found, an empty database will not block voting participation
      82: invokeinterface #75,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      87: iconst_1
      88: istore        9
      90: goto          99
      93: aload_0
      94: getfield      #50                 // Field autoCreateDB:Z
      97: istore        9
      99: aload_0
     100: aload_1
     101: aload_2
     102: aload_3
     103: invokedynamic #76,  0             // InvokeDynamic #0:run:(Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog;Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog$PlayBackListener;)Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog$RestoreFinalizer;
     108: astore        11
     110: ldc2_w        #77                 // long -1l
     113: lload         6
     115: lcmp
     116: ifne          206
     119: aload         8
     121: invokevirtual #79                 // Method org/apache/zookeeper/server/persistence/FileTxnLog.getLastLoggedZxid:()J
     124: ldc2_w        #77                 // long -1l
     127: lcmp
     128: ifeq          168
     131: aload_0
     132: getfield      #17                 // Field trustEmptySnapshot:Z
     135: ifne          148
     138: new           #80                 // class java/io/IOException
     141: dup
     142: ldc           #81                 // String No snapshot found, but there are log entries. Something is broken!
     144: invokespecial #82                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     147: athrow
     148: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     151: ldc           #83                 // String {}This should only be allowed during upgrading.
     153: ldc           #84                 // String No snapshot found, but there are log entries.
     155: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     160: aload         11
     162: invokeinterface #86,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/FileTxnSnapLog$RestoreFinalizer.run:()J
     167: lreturn
     168: iload         9
     170: ifeq          185
     173: aload_0
     174: aload_1
     175: aload_2
     176: checkcast     #87                 // class java/util/concurrent/ConcurrentHashMap
     179: iconst_0
     180: invokevirtual #88                 // Method save:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/concurrent/ConcurrentHashMap;Z)V
     183: lconst_0
     184: lreturn
     185: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     188: ldc           #89                 // String Unexpected empty data tree, setting zxid to -1
     190: invokeinterface #90,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     195: aload_1
     196: ldc2_w        #77                 // long -1l
     199: putfield      #91                 // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
     202: ldc2_w        #77                 // long -1l
     205: lreturn
     206: aload         11
     208: invokeinterface #86,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/FileTxnSnapLog$RestoreFinalizer.run:()J
     213: lreturn

  public long fastForwardFromEdits(org.apache.zookeeper.server.DataTree, java.util.Map<java.lang.Long, java.lang.Integer>, org.apache.zookeeper.server.persistence.FileTxnSnapLog$PlayBackListener) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: aload_1
       5: getfield      #91                 // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
       8: lconst_1
       9: ladd
      10: invokeinterface #92,  3           // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.read:(J)Lorg/apache/zookeeper/server/persistence/TxnLog$TxnIterator;
      15: astore        4
      17: aload_1
      18: getfield      #91                 // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
      21: lstore        5
      23: iconst_0
      24: istore        8
      26: invokestatic  #64                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      29: lstore        9
      31: aload         4
      33: invokeinterface #93,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.getHeader:()Lorg/apache/zookeeper/txn/TxnHeader;
      38: astore        7
      40: aload         7
      42: ifnonnull     66
      45: aload_1
      46: getfield      #91                 // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
      49: lstore        11
      51: aload         4
      53: ifnull        63
      56: aload         4
      58: invokeinterface #94,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.close:()V
      63: lload         11
      65: lreturn
      66: aload         7
      68: invokevirtual #95                 // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
      71: lload         5
      73: lcmp
      74: ifge          131
      77: lload         5
      79: lconst_0
      80: lcmp
      81: ifeq          131
      84: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      87: ldc           #96                 // String {}(highestZxid) > {}(next log) for type {}
      89: iconst_3
      90: anewarray     #24                 // class java/lang/Object
      93: dup
      94: iconst_0
      95: lload         5
      97: invokestatic  #97                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     100: aastore
     101: dup
     102: iconst_1
     103: aload         7
     105: invokevirtual #95                 // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     108: invokestatic  #97                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     111: aastore
     112: dup
     113: iconst_2
     114: aload         7
     116: invokevirtual #98                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
     119: invokestatic  #99                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     122: aastore
     123: invokeinterface #100,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     128: goto          138
     131: aload         7
     133: invokevirtual #95                 // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     136: lstore        5
     138: aload_0
     139: aload         7
     141: aload_1
     142: aload_2
     143: aload         4
     145: invokeinterface #101,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.getTxn:()Lorg/apache/jute/Record;
     150: invokevirtual #102                // Method processTransaction:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;Lorg/apache/jute/Record;)V
     153: aload_1
     154: aload         7
     156: aload         4
     158: invokeinterface #101,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.getTxn:()Lorg/apache/jute/Record;
     163: aload         4
     165: invokeinterface #103,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.getDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
     170: invokevirtual #104                // Method org/apache/zookeeper/server/DataTree.compareDigest:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;Lorg/apache/zookeeper/txn/TxnDigest;)Z
     173: pop
     174: iinc          8, 1
     177: goto          228
     180: astore        11
     182: new           #80                 // class java/io/IOException
     185: dup
     186: new           #28                 // class java/lang/StringBuilder
     189: dup
     190: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     193: ldc           #106                // String Failed to process transaction type:
     195: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     198: aload         7
     200: invokevirtual #98                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
     203: invokevirtual #107                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     206: ldc           #108                // String  error:
     208: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     211: aload         11
     213: invokevirtual #109                // Method org/apache/zookeeper/KeeperException$NoNodeException.getMessage:()Ljava/lang/String;
     216: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     219: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     222: aload         11
     224: invokespecial #110                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     227: athrow
     228: aload_3
     229: aload         7
     231: aload         4
     233: invokeinterface #101,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.getTxn:()Lorg/apache/jute/Record;
     238: aload         4
     240: invokeinterface #103,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.getDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
     245: invokeinterface #111,  4          // InterfaceMethod org/apache/zookeeper/server/persistence/FileTxnSnapLog$PlayBackListener.onTxnLoaded:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;Lorg/apache/zookeeper/txn/TxnDigest;)V
     250: aload         4
     252: invokeinterface #112,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.next:()Z
     257: ifne          31
     260: goto          263
     263: aload         4
     265: ifnull        295
     268: aload         4
     270: invokeinterface #94,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.close:()V
     275: goto          295
     278: astore        13
     280: aload         4
     282: ifnull        292
     285: aload         4
     287: invokeinterface #94,  1           // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog$TxnIterator.close:()V
     292: aload         13
     294: athrow
     295: invokestatic  #64                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
     298: lload         9
     300: lsub
     301: lstore        11
     303: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     306: ldc           #113                // String {} txns loaded in {} ms
     308: iload         8
     310: invokestatic  #99                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     313: lload         11
     315: invokestatic  #97                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     318: invokeinterface #20,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     323: invokestatic  #66                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     326: getfield      #114                // Field org/apache/zookeeper/server/ServerMetrics.STARTUP_TXNS_LOADED:Lorg/apache/zookeeper/metrics/Summary;
     329: iload         8
     331: i2l
     332: invokeinterface #68,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
     337: invokestatic  #66                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     340: getfield      #115                // Field org/apache/zookeeper/server/ServerMetrics.STARTUP_TXNS_LOAD_TIME:Lorg/apache/zookeeper/metrics/Summary;
     343: lload         11
     345: invokeinterface #68,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
     350: lload         5
     352: lreturn
    Exception table:
       from    to  target type
         138   177   180   Class org/apache/zookeeper/KeeperException$NoNodeException
          31    51   278   any
          66   263   278   any
         278   280   278   any

  public org.apache.zookeeper.server.persistence.TxnLog$TxnIterator readTxnLog(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: lload_1
       2: iconst_1
       3: invokevirtual #116                // Method readTxnLog:(JZ)Lorg/apache/zookeeper/server/persistence/TxnLog$TxnIterator;
       6: areturn

  public org.apache.zookeeper.server.persistence.TxnLog$TxnIterator readTxnLog(long, boolean) throws java.io.IOException;
    Code:
       0: new           #43                 // class org/apache/zookeeper/server/persistence/FileTxnLog
       3: dup
       4: aload_0
       5: getfield      #9                  // Field dataDir:Ljava/io/File;
       8: invokespecial #44                 // Method org/apache/zookeeper/server/persistence/FileTxnLog."<init>":(Ljava/io/File;)V
      11: astore        4
      13: aload         4
      15: lload_1
      16: iload_3
      17: invokevirtual #117                // Method org/apache/zookeeper/server/persistence/FileTxnLog.read:(JZ)Lorg/apache/zookeeper/server/persistence/TxnLog$TxnIterator;
      20: areturn

  public void processTransaction(org.apache.zookeeper.txn.TxnHeader, org.apache.zookeeper.server.DataTree, java.util.Map<java.lang.Long, java.lang.Integer>, org.apache.jute.Record) throws org.apache.zookeeper.KeeperException$NoNodeException;
    Code:
       0: aload_1
       1: invokevirtual #98                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
       4: lookupswitch  { // 2
                   -11: 130
                   -10: 32
               default: 201
          }
      32: aload_3
      33: aload_1
      34: invokevirtual #118                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
      37: invokestatic  #97                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      40: aload         4
      42: checkcast     #119                // class org/apache/zookeeper/txn/CreateSessionTxn
      45: invokevirtual #120                // Method org/apache/zookeeper/txn/CreateSessionTxn.getTimeOut:()I
      48: invokestatic  #99                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      51: invokeinterface #121,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      56: pop
      57: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      60: invokeinterface #122,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
      65: ifeq          118
      68: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      71: ldc2_w        #124                // long 32l
      74: new           #28                 // class java/lang/StringBuilder
      77: dup
      78: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
      81: ldc           #126                // String playLog --- create session in log: 0x
      83: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload_1
      87: invokevirtual #118                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
      90: invokestatic  #127                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      93: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: ldc           #128                // String  with timeout:
      98: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: aload         4
     103: checkcast     #119                // class org/apache/zookeeper/txn/CreateSessionTxn
     106: invokevirtual #120                // Method org/apache/zookeeper/txn/CreateSessionTxn.getTimeOut:()I
     109: invokevirtual #107                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     112: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     115: invokestatic  #129                // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
     118: aload_2
     119: aload_1
     120: aload         4
     122: invokevirtual #130                // Method org/apache/zookeeper/server/DataTree.processTxn:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
     125: astore        5
     127: goto          210
     130: aload_3
     131: aload_1
     132: invokevirtual #118                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
     135: invokestatic  #97                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     138: invokeinterface #131,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     143: pop
     144: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     147: invokeinterface #122,  1          // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     152: ifeq          189
     155: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     158: ldc2_w        #124                // long 32l
     161: new           #28                 // class java/lang/StringBuilder
     164: dup
     165: invokespecial #29                 // Method java/lang/StringBuilder."<init>":()V
     168: ldc           #132                // String playLog --- close session in log: 0x
     170: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: aload_1
     174: invokevirtual #118                // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
     177: invokestatic  #127                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
     180: invokevirtual #31                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     183: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     186: invokestatic  #129                // Method org/apache/zookeeper/server/ZooTrace.logTraceMessage:(Lorg/slf4j/Logger;JLjava/lang/String;)V
     189: aload_2
     190: aload_1
     191: aload         4
     193: invokevirtual #130                // Method org/apache/zookeeper/server/DataTree.processTxn:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
     196: astore        5
     198: goto          210
     201: aload_2
     202: aload_1
     203: aload         4
     205: invokevirtual #130                // Method org/apache/zookeeper/server/DataTree.processTxn:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;)Lorg/apache/zookeeper/server/DataTree$ProcessTxnResult;
     208: astore        5
     210: aload         5
     212: getfield      #133                // Field org/apache/zookeeper/server/DataTree$ProcessTxnResult.err:I
     215: getstatic     #134                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
     218: invokevirtual #135                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     221: if_icmpeq     267
     224: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     227: ldc           #136                // String Ignoring processTxn failure hdr: {}, error: {}, path: {}
     229: iconst_3
     230: anewarray     #24                 // class java/lang/Object
     233: dup
     234: iconst_0
     235: aload_1
     236: invokevirtual #98                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
     239: invokestatic  #99                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     242: aastore
     243: dup
     244: iconst_1
     245: aload         5
     247: getfield      #133                // Field org/apache/zookeeper/server/DataTree$ProcessTxnResult.err:I
     250: invokestatic  #99                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     253: aastore
     254: dup
     255: iconst_2
     256: aload         5
     258: getfield      #137                // Field org/apache/zookeeper/server/DataTree$ProcessTxnResult.path:Ljava/lang/String;
     261: aastore
     262: invokeinterface #138,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     267: return

  public long getLastLoggedZxid();
    Code:
       0: new           #43                 // class org/apache/zookeeper/server/persistence/FileTxnLog
       3: dup
       4: aload_0
       5: getfield      #9                  // Field dataDir:Ljava/io/File;
       8: invokespecial #44                 // Method org/apache/zookeeper/server/persistence/FileTxnLog."<init>":(Ljava/io/File;)V
      11: astore_1
      12: aload_1
      13: invokevirtual #79                 // Method org/apache/zookeeper/server/persistence/FileTxnLog.getLastLoggedZxid:()J
      16: lreturn

  public void save(org.apache.zookeeper.server.DataTree, java.util.concurrent.ConcurrentHashMap<java.lang.Long, java.lang.Integer>, boolean) throws java.io.IOException;
    Code:
       0: aload_1
       1: getfield      #91                 // Field org/apache/zookeeper/server/DataTree.lastProcessedZxid:J
       4: lstore        4
       6: new           #5                  // class java/io/File
       9: dup
      10: aload_0
      11: getfield      #10                 // Field snapDir:Ljava/io/File;
      14: lload         4
      16: invokestatic  #139                // Method org/apache/zookeeper/server/persistence/Util.makeSnapshotName:(J)Ljava/lang/String;
      19: invokespecial #8                  // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      22: astore        6
      24: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      27: ldc           #140                // String Snapshotting: 0x{} to {}
      29: lload         4
      31: invokestatic  #127                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      34: aload         6
      36: invokeinterface #20,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
      45: aload_1
      46: aload_2
      47: aload         6
      49: iload_3
      50: invokeinterface #141,  5          // InterfaceMethod org/apache/zookeeper/server/persistence/SnapShot.serialize:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;Ljava/io/File;Z)V
      55: goto          114
      58: astore        7
      60: aload         6
      62: invokevirtual #142                // Method java/io/File.length:()J
      65: lconst_0
      66: lcmp
      67: ifne          111
      70: aload         6
      72: invokevirtual #143                // Method java/io/File.delete:()Z
      75: ifeq          96
      78: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      81: ldc           #144                // String Deleted empty snapshot file: {}
      83: aload         6
      85: invokevirtual #145                // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      88: invokeinterface #146,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      93: goto          111
      96: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      99: ldc           #147                // String Could not delete empty snapshot file: {}
     101: aload         6
     103: invokevirtual #145                // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     106: invokeinterface #85,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     111: aload         7
     113: athrow
     114: return
    Exception table:
       from    to  target type
          41    55    58   Class java/io/IOException

  public boolean truncateLog(long);
    Code:
       0: aload_0
       1: invokevirtual #148                // Method close:()V
       4: new           #43                 // class org/apache/zookeeper/server/persistence/FileTxnLog
       7: dup
       8: aload_0
       9: getfield      #9                  // Field dataDir:Ljava/io/File;
      12: invokespecial #44                 // Method org/apache/zookeeper/server/persistence/FileTxnLog."<init>":(Ljava/io/File;)V
      15: astore_3
      16: aconst_null
      17: astore        4
      19: aload_3
      20: lload_1
      21: invokevirtual #149                // Method org/apache/zookeeper/server/persistence/FileTxnLog.truncate:(J)Z
      24: istore        5
      26: aload_0
      27: new           #43                 // class org/apache/zookeeper/server/persistence/FileTxnLog
      30: dup
      31: aload_0
      32: getfield      #9                  // Field dataDir:Ljava/io/File;
      35: invokespecial #44                 // Method org/apache/zookeeper/server/persistence/FileTxnLog."<init>":(Ljava/io/File;)V
      38: putfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
      41: aload_0
      42: new           #46                 // class org/apache/zookeeper/server/persistence/FileSnap
      45: dup
      46: aload_0
      47: getfield      #10                 // Field snapDir:Ljava/io/File;
      50: invokespecial #47                 // Method org/apache/zookeeper/server/persistence/FileSnap."<init>":(Ljava/io/File;)V
      53: putfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
      56: iload         5
      58: istore        6
      60: aload_3
      61: ifnull        92
      64: aload         4
      66: ifnull        88
      69: aload_3
      70: invokevirtual #150                // Method org/apache/zookeeper/server/persistence/FileTxnLog.close:()V
      73: goto          92
      76: astore        7
      78: aload         4
      80: aload         7
      82: invokevirtual #152                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      85: goto          92
      88: aload_3
      89: invokevirtual #150                // Method org/apache/zookeeper/server/persistence/FileTxnLog.close:()V
      92: iload         6
      94: ireturn
      95: astore        5
      97: aload         5
      99: astore        4
     101: aload         5
     103: athrow
     104: astore        8
     106: aload_3
     107: ifnull        138
     110: aload         4
     112: ifnull        134
     115: aload_3
     116: invokevirtual #150                // Method org/apache/zookeeper/server/persistence/FileTxnLog.close:()V
     119: goto          138
     122: astore        9
     124: aload         4
     126: aload         9
     128: invokevirtual #152                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     131: goto          138
     134: aload_3
     135: invokevirtual #150                // Method org/apache/zookeeper/server/persistence/FileTxnLog.close:()V
     138: aload         8
     140: athrow
     141: astore_3
     142: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     145: ldc           #153                // String Unable to truncate Txn log
     147: aload_3
     148: invokeinterface #154,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     153: iconst_0
     154: ireturn
    Exception table:
       from    to  target type
          69    73    76   Class java/lang/Throwable
          19    60    95   Class java/lang/Throwable
          19    60   104   any
         115   119   122   Class java/lang/Throwable
          95   106   104   any
           0    92   141   Class java/io/IOException
          95   141   141   Class java/io/IOException

  public java.io.File findMostRecentSnapshot() throws java.io.IOException;
    Code:
       0: new           #46                 // class org/apache/zookeeper/server/persistence/FileSnap
       3: dup
       4: aload_0
       5: getfield      #10                 // Field snapDir:Ljava/io/File;
       8: invokespecial #47                 // Method org/apache/zookeeper/server/persistence/FileSnap."<init>":(Ljava/io/File;)V
      11: astore_1
      12: aload_1
      13: invokevirtual #155                // Method org/apache/zookeeper/server/persistence/FileSnap.findMostRecentSnapshot:()Ljava/io/File;
      16: areturn

  public java.util.List<java.io.File> findNRecentSnapshots(int) throws java.io.IOException;
    Code:
       0: new           #46                 // class org/apache/zookeeper/server/persistence/FileSnap
       3: dup
       4: aload_0
       5: getfield      #10                 // Field snapDir:Ljava/io/File;
       8: invokespecial #47                 // Method org/apache/zookeeper/server/persistence/FileSnap."<init>":(Ljava/io/File;)V
      11: astore_2
      12: aload_2
      13: iload_1
      14: invokevirtual #156                // Method org/apache/zookeeper/server/persistence/FileSnap.findNRecentSnapshots:(I)Ljava/util/List;
      17: areturn

  public java.util.List<java.io.File> findNValidSnapshots(int) throws java.io.IOException;
    Code:
       0: new           #46                 // class org/apache/zookeeper/server/persistence/FileSnap
       3: dup
       4: aload_0
       5: getfield      #10                 // Field snapDir:Ljava/io/File;
       8: invokespecial #47                 // Method org/apache/zookeeper/server/persistence/FileSnap."<init>":(Ljava/io/File;)V
      11: astore_2
      12: aload_2
      13: iload_1
      14: invokevirtual #157                // Method org/apache/zookeeper/server/persistence/FileSnap.findNValidSnapshots:(I)Ljava/util/List;
      17: areturn

  public java.io.File[] getSnapshotLogs(long);
    Code:
       0: aload_0
       1: getfield      #9                  // Field dataDir:Ljava/io/File;
       4: invokevirtual #158                // Method java/io/File.listFiles:()[Ljava/io/File;
       7: lload_1
       8: invokestatic  #159                // Method org/apache/zookeeper/server/persistence/FileTxnLog.getLogFiles:([Ljava/io/File;J)[Ljava/io/File;
      11: areturn

  public boolean append(org.apache.zookeeper.server.Request) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: aload_1
       5: invokevirtual #160                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
       8: aload_1
       9: invokevirtual #161                // Method org/apache/zookeeper/server/Request.getTxn:()Lorg/apache/jute/Record;
      12: aload_1
      13: invokevirtual #162                // Method org/apache/zookeeper/server/Request.getTxnDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
      16: invokeinterface #163,  4          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.append:(Lorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;Lorg/apache/zookeeper/txn/TxnDigest;)Z
      21: ireturn

  public void commit() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: invokeinterface #164,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.commit:()V
       9: return

  public long getTxnLogElapsedSyncTime();
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: invokeinterface #165,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.getTxnLogSyncElapsedTime:()J
       9: lreturn

  public void rollLog() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: invokeinterface #166,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.rollLog:()V
       9: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: ifnull        21
       7: aload_0
       8: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
      11: invokeinterface #167,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.close:()V
      16: aload_0
      17: aconst_null
      18: putfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
      21: aload_0
      22: getfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
      25: ifnull        42
      28: aload_0
      29: getfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
      32: invokeinterface #168,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/SnapShot.close:()V
      37: aload_0
      38: aconst_null
      39: putfield      #48                 // Field snapLog:Lorg/apache/zookeeper/server/persistence/SnapShot;
      42: return

  public void setTotalLogSize(long);
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: lload_1
       5: invokeinterface #169,  3          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.setTotalLogSize:(J)V
      10: return

  public long getTotalLogSize();
    Code:
       0: aload_0
       1: getfield      #45                 // Field txnLog:Lorg/apache/zookeeper/server/persistence/TxnLog;
       4: invokeinterface #170,  1          // InterfaceMethod org/apache/zookeeper/server/persistence/TxnLog.getTotalLogSize:()J
       9: lreturn

  private long lambda$restore$0(org.apache.zookeeper.server.DataTree, java.util.Map, org.apache.zookeeper.server.persistence.FileTxnSnapLog$PlayBackListener) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokevirtual #171                // Method fastForwardFromEdits:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;Lorg/apache/zookeeper/server/persistence/FileTxnSnapLog$PlayBackListener;)J
       7: lstore        4
       9: aload_1
      10: invokevirtual #172                // Method org/apache/zookeeper/server/DataTree.getDigestFromLoadedSnapshot:()Lorg/apache/zookeeper/server/DataTree$ZxidDigest;
      13: astore        6
      15: aload         6
      17: ifnull        43
      20: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      23: ldc           #173                // String Highest txn zxid 0x{} is not covering the snapshot digest zxid 0x{}, which might lead to inconsistent state
      25: lload         4
      27: invokestatic  #127                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      30: aload         6
      32: invokevirtual #174                // Method org/apache/zookeeper/server/DataTree$ZxidDigest.getZxid:()J
      35: invokestatic  #127                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      38: invokeinterface #175,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      43: lload         4
      45: lreturn

  static {};
    Code:
       0: ldc           #6                  // class org/apache/zookeeper/server/persistence/FileTxnSnapLog
       2: invokestatic  #176                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
