Compiled from "QuorumCnxManager.java"
public class org.apache.zookeeper.server.quorum.QuorumCnxManager {
  private static final org.slf4j.Logger LOG;

  static final int RECV_CAPACITY;

  static final int SEND_CAPACITY;

  static final int PACKETMAXSIZE;

  private java.util.concurrent.atomic.AtomicLong observerCounter;

  public static final long PROTOCOL_VERSION_V1;

  public static final long PROTOCOL_VERSION_V2;

  public static final int maxBuffer;

  private int cnxTO;

  final org.apache.zookeeper.server.quorum.QuorumPeer self;

  final long mySid;

  final int socketTimeout;

  final java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer> view;

  final boolean listenOnAllIPs;

  private java.util.concurrent.ThreadPoolExecutor connectionExecutor;

  private final java.util.Set<java.lang.Long> inprogressConnections;

  private org.apache.zookeeper.server.quorum.auth.QuorumAuthServer authServer;

  private org.apache.zookeeper.server.quorum.auth.QuorumAuthLearner authLearner;

  private boolean quorumSaslAuthEnabled;

  private java.util.concurrent.atomic.AtomicInteger connectionThreadCnt;

  final java.util.concurrent.ConcurrentHashMap<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker> senderWorkerMap;

  final java.util.concurrent.ConcurrentHashMap<java.lang.Long, java.util.concurrent.BlockingQueue<java.nio.ByteBuffer>> queueSendMap;

  final java.util.concurrent.ConcurrentHashMap<java.lang.Long, java.nio.ByteBuffer> lastMessageSent;

  public final java.util.concurrent.BlockingQueue<org.apache.zookeeper.server.quorum.QuorumCnxManager$Message> recvQueue;

  volatile boolean shutdown;

  public final org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener listener;

  private java.util.concurrent.atomic.AtomicInteger threadCnt;

  private final boolean tcpKeepAlive;

  static final java.util.function.Supplier<java.net.Socket> DEFAULT_SOCKET_FACTORY;

  private static java.util.function.Supplier<java.net.Socket> SOCKET_FACTORY;

  static void setSocketFactory(java.util.function.Supplier<java.net.Socket>);
    Code:
       0: aload_0
       1: putstatic     #9                  // Field SOCKET_FACTORY:Ljava/util/function/Supplier;
       4: return

  public org.apache.zookeeper.server.quorum.QuorumCnxManager(org.apache.zookeeper.server.quorum.QuorumPeer, long, java.util.Map<java.lang.Long, org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer>, org.apache.zookeeper.server.quorum.auth.QuorumAuthServer, org.apache.zookeeper.server.quorum.auth.QuorumAuthLearner, int, boolean, int, boolean);
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #11                 // class java/util/concurrent/atomic/AtomicLong
       8: dup
       9: ldc2_w        #12                 // long -1l
      12: invokespecial #14                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      15: putfield      #15                 // Field observerCounter:Ljava/util/concurrent/atomic/AtomicLong;
      18: aload_0
      19: sipush        5000
      22: putfield      #16                 // Field cnxTO:I
      25: aload_0
      26: new           #17                 // class java/util/HashSet
      29: dup
      30: invokespecial #18                 // Method java/util/HashSet."<init>":()V
      33: invokestatic  #19                 // Method java/util/Collections.synchronizedSet:(Ljava/util/Set;)Ljava/util/Set;
      36: putfield      #8                  // Field inprogressConnections:Ljava/util/Set;
      39: aload_0
      40: new           #20                 // class java/util/concurrent/atomic/AtomicInteger
      43: dup
      44: iconst_0
      45: invokespecial #21                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      48: putfield      #22                 // Field connectionThreadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
      51: aload_0
      52: iconst_0
      53: putfield      #23                 // Field shutdown:Z
      56: aload_0
      57: new           #20                 // class java/util/concurrent/atomic/AtomicInteger
      60: dup
      61: iconst_0
      62: invokespecial #21                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      65: putfield      #3                  // Field threadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
      68: aload_0
      69: ldc           #24                 // String zookeeper.tcpKeepAlive
      71: invokestatic  #25                 // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
      74: putfield      #26                 // Field tcpKeepAlive:Z
      77: aload_0
      78: new           #27                 // class org/apache/zookeeper/util/CircularBlockingQueue
      81: dup
      82: bipush        100
      84: invokespecial #29                 // Method org/apache/zookeeper/util/CircularBlockingQueue."<init>":(I)V
      87: putfield      #30                 // Field recvQueue:Ljava/util/concurrent/BlockingQueue;
      90: aload_0
      91: new           #31                 // class java/util/concurrent/ConcurrentHashMap
      94: dup
      95: invokespecial #32                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      98: putfield      #33                 // Field queueSendMap:Ljava/util/concurrent/ConcurrentHashMap;
     101: aload_0
     102: new           #31                 // class java/util/concurrent/ConcurrentHashMap
     105: dup
     106: invokespecial #32                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
     109: putfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
     112: aload_0
     113: new           #31                 // class java/util/concurrent/ConcurrentHashMap
     116: dup
     117: invokespecial #32                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
     120: putfield      #35                 // Field lastMessageSent:Ljava/util/concurrent/ConcurrentHashMap;
     123: ldc           #36                 // String zookeeper.cnxTimeout
     125: invokestatic  #37                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     128: astore        11
     130: aload         11
     132: ifnull        144
     135: aload_0
     136: aload         11
     138: invokestatic  #38                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     141: putfield      #16                 // Field cnxTO:I
     144: aload_0
     145: aload_1
     146: putfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     149: aload_0
     150: lload_2
     151: putfield      #40                 // Field mySid:J
     154: aload_0
     155: iload         7
     157: putfield      #41                 // Field socketTimeout:I
     160: aload_0
     161: aload         4
     163: putfield      #42                 // Field view:Ljava/util/Map;
     166: aload_0
     167: iload         8
     169: putfield      #43                 // Field listenOnAllIPs:Z
     172: aload_0
     173: aload         5
     175: putfield      #44                 // Field authServer:Lorg/apache/zookeeper/server/quorum/auth/QuorumAuthServer;
     178: aload_0
     179: aload         6
     181: putfield      #45                 // Field authLearner:Lorg/apache/zookeeper/server/quorum/auth/QuorumAuthLearner;
     184: aload_0
     185: iload         10
     187: putfield      #5                  // Field quorumSaslAuthEnabled:Z
     190: aload_0
     191: lload_2
     192: iload         9
     194: invokespecial #46                 // Method initializeConnectionExecutor:(JI)V
     197: aload_0
     198: new           #47                 // class org/apache/zookeeper/server/quorum/QuorumCnxManager$Listener
     201: dup
     202: aload_0
     203: invokespecial #48                 // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$Listener."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;)V
     206: putfield      #49                 // Field listener:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$Listener;
     209: aload_0
     210: getfield      #49                 // Field listener:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$Listener;
     213: ldc           #50                 // String QuorumPeerListener
     215: invokevirtual #51                 // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$Listener.setName:(Ljava/lang/String;)V
     218: return

  private void initializeConnectionExecutor(long, int);
    Code:
       0: new           #20                 // class java/util/concurrent/atomic/AtomicInteger
       3: dup
       4: iconst_1
       5: invokespecial #21                 // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
       8: astore        4
      10: invokestatic  #52                 // Method java/lang/System.getSecurityManager:()Ljava/lang/SecurityManager;
      13: astore        5
      15: aload         5
      17: ifnull        28
      20: aload         5
      22: invokevirtual #53                 // Method java/lang/SecurityManager.getThreadGroup:()Ljava/lang/ThreadGroup;
      25: goto          34
      28: invokestatic  #54                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      31: invokevirtual #55                 // Method java/lang/Thread.getThreadGroup:()Ljava/lang/ThreadGroup;
      34: astore        6
      36: aload         6
      38: lload_1
      39: aload         4
      41: invokedynamic #56,  0             // InvokeDynamic #0:newThread:(Ljava/lang/ThreadGroup;JLjava/util/concurrent/atomic/AtomicInteger;)Ljava/util/concurrent/ThreadFactory;
      46: astore        7
      48: aload_0
      49: new           #57                 // class java/util/concurrent/ThreadPoolExecutor
      52: dup
      53: iconst_3
      54: iload_3
      55: ldc2_w        #58                 // long 60l
      58: getstatic     #60                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      61: new           #61                 // class java/util/concurrent/SynchronousQueue
      64: dup
      65: invokespecial #62                 // Method java/util/concurrent/SynchronousQueue."<init>":()V
      68: aload         7
      70: invokespecial #63                 // Method java/util/concurrent/ThreadPoolExecutor."<init>":(IIJLjava/util/concurrent/TimeUnit;Ljava/util/concurrent/BlockingQueue;Ljava/util/concurrent/ThreadFactory;)V
      73: putfield      #64                 // Field connectionExecutor:Ljava/util/concurrent/ThreadPoolExecutor;
      76: aload_0
      77: getfield      #64                 // Field connectionExecutor:Ljava/util/concurrent/ThreadPoolExecutor;
      80: iconst_1
      81: invokevirtual #65                 // Method java/util/concurrent/ThreadPoolExecutor.allowCoreThreadTimeOut:(Z)V
      84: return

  public void testInitiateConnection(long);
    Code:
       0: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #66                 // String Opening channel to server {}
       5: lload_1
       6: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       9: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: aload_0
      16: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      19: invokevirtual #69                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
      22: lload_1
      23: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      26: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #71                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      34: getfield      #72                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
      37: lload_1
      38: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      41: invokevirtual #73                 // Method initiateConnection:(Lorg/apache/zookeeper/server/quorum/MultipleAddresses;Ljava/lang/Long;)V
      44: return

  public void initiateConnection(org.apache.zookeeper.server.quorum.MultipleAddresses, java.lang.Long);
    Code:
       0: aconst_null
       1: astore_3
       2: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       5: ldc           #66                 // String Opening channel to server {}
       7: aload_2
       8: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      13: aload_0
      14: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      17: invokevirtual #74                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.isSslQuorum:()Z
      20: ifeq          37
      23: aload_0
      24: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      27: invokevirtual #75                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getX509Util:()Lorg/apache/zookeeper/common/QuorumX509Util;
      30: invokevirtual #76                 // Method org/apache/zookeeper/common/QuorumX509Util.createSSLSocket:()Ljavax/net/ssl/SSLSocket;
      33: astore_3
      34: goto          49
      37: getstatic     #9                  // Field SOCKET_FACTORY:Ljava/util/function/Supplier;
      40: invokeinterface #77,  1           // InterfaceMethod java/util/function/Supplier.get:()Ljava/lang/Object;
      45: checkcast     #78                 // class java/net/Socket
      48: astore_3
      49: aload_0
      50: aload_3
      51: invokespecial #6                  // Method setSockOpts:(Ljava/net/Socket;)V
      54: aload_3
      55: aload_1
      56: invokevirtual #79                 // Method org/apache/zookeeper/server/quorum/MultipleAddresses.getReachableOrOne:()Ljava/net/InetSocketAddress;
      59: aload_0
      60: getfield      #16                 // Field cnxTO:I
      63: invokevirtual #80                 // Method java/net/Socket.connect:(Ljava/net/SocketAddress;I)V
      66: aload_3
      67: instanceof    #81                 // class javax/net/ssl/SSLSocket
      70: ifeq          132
      73: aload_3
      74: checkcast     #81                 // class javax/net/ssl/SSLSocket
      77: astore        4
      79: aload         4
      81: invokevirtual #82                 // Method javax/net/ssl/SSLSocket.startHandshake:()V
      84: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      87: ldc           #83                 // String SSL handshake complete with {} - {} - {}
      89: iconst_3
      90: anewarray     #84                 // class java/lang/Object
      93: dup
      94: iconst_0
      95: aload         4
      97: invokevirtual #85                 // Method javax/net/ssl/SSLSocket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
     100: aastore
     101: dup
     102: iconst_1
     103: aload         4
     105: invokevirtual #86                 // Method javax/net/ssl/SSLSocket.getSession:()Ljavax/net/ssl/SSLSession;
     108: invokeinterface #87,  1           // InterfaceMethod javax/net/ssl/SSLSession.getProtocol:()Ljava/lang/String;
     113: aastore
     114: dup
     115: iconst_2
     116: aload         4
     118: invokevirtual #86                 // Method javax/net/ssl/SSLSocket.getSession:()Ljavax/net/ssl/SSLSession;
     121: invokeinterface #88,  1           // InterfaceMethod javax/net/ssl/SSLSession.getCipherSuite:()Ljava/lang/String;
     126: aastore
     127: invokeinterface #89,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     132: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     135: ldc           #90                 // String Connected to server {} using election address: {}:{}
     137: iconst_3
     138: anewarray     #84                 // class java/lang/Object
     141: dup
     142: iconst_0
     143: aload_2
     144: aastore
     145: dup
     146: iconst_1
     147: aload_3
     148: invokevirtual #91                 // Method java/net/Socket.getInetAddress:()Ljava/net/InetAddress;
     151: aastore
     152: dup
     153: iconst_2
     154: aload_3
     155: invokevirtual #92                 // Method java/net/Socket.getPort:()I
     158: invokestatic  #93                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     161: aastore
     162: invokeinterface #94,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     167: goto          240
     170: astore        4
     172: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     175: ldc           #96                 // String Cannot open secure channel to {} at election address {}
     177: iconst_3
     178: anewarray     #84                 // class java/lang/Object
     181: dup
     182: iconst_0
     183: aload_2
     184: aastore
     185: dup
     186: iconst_1
     187: aload_1
     188: aastore
     189: dup
     190: iconst_2
     191: aload         4
     193: aastore
     194: invokeinterface #97,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     199: aload_0
     200: aload_3
     201: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     204: return
     205: astore        4
     207: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     210: ldc           #100                // String Cannot open channel to {} at election address {}
     212: iconst_3
     213: anewarray     #84                 // class java/lang/Object
     216: dup
     217: iconst_0
     218: aload_2
     219: aastore
     220: dup
     221: iconst_1
     222: aload_1
     223: aastore
     224: dup
     225: iconst_2
     226: aload         4
     228: aastore
     229: invokeinterface #97,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     234: aload_0
     235: aload_3
     236: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     239: return
     240: aload_0
     241: aload_3
     242: aload_2
     243: invokespecial #101                // Method startConnection:(Ljava/net/Socket;Ljava/lang/Long;)Z
     246: pop
     247: goto          287
     250: astore        4
     252: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     255: ldc           #102                // String Exception while connecting, id: {}, addr: {}, closing learner connection
     257: iconst_3
     258: anewarray     #84                 // class java/lang/Object
     261: dup
     262: iconst_0
     263: aload_2
     264: aastore
     265: dup
     266: iconst_1
     267: aload_3
     268: invokevirtual #103                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
     271: aastore
     272: dup
     273: iconst_2
     274: aload         4
     276: aastore
     277: invokeinterface #104,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     282: aload_0
     283: aload_3
     284: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     287: return
    Exception table:
       from    to  target type
           2   167   170   Class org/apache/zookeeper/common/X509Exception
           2   167   205   Class java/nio/channels/UnresolvedAddressException
           2   167   205   Class java/io/IOException
         240   247   250   Class java/io/IOException

  public boolean initiateConnectionAsync(org.apache.zookeeper.server.quorum.MultipleAddresses, java.lang.Long);
    Code:
       0: aload_0
       1: getfield      #8                  // Field inprogressConnections:Ljava/util/Set;
       4: aload_2
       5: invokeinterface #105,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
      10: ifne          26
      13: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      16: ldc           #106                // String Connection request to server id: {} is already in progress, so skipping this request
      18: aload_2
      19: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      24: iconst_1
      25: ireturn
      26: aload_0
      27: getfield      #64                 // Field connectionExecutor:Ljava/util/concurrent/ThreadPoolExecutor;
      30: new           #107                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$QuorumConnectionReqThread
      33: dup
      34: aload_0
      35: aload_1
      36: aload_2
      37: invokespecial #108                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$QuorumConnectionReqThread."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;Lorg/apache/zookeeper/server/quorum/MultipleAddresses;Ljava/lang/Long;)V
      40: invokevirtual #109                // Method java/util/concurrent/ThreadPoolExecutor.execute:(Ljava/lang/Runnable;)V
      43: aload_0
      44: getfield      #22                 // Field connectionThreadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
      47: invokevirtual #110                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      50: pop
      51: goto          79
      54: astore_3
      55: aload_0
      56: getfield      #8                  // Field inprogressConnections:Ljava/util/Set;
      59: aload_2
      60: invokeinterface #112,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
      65: pop
      66: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      69: ldc           #113                // String Exception while submitting quorum connection request
      71: aload_3
      72: invokeinterface #114,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      77: iconst_0
      78: ireturn
      79: iconst_1
      80: ireturn
    Exception table:
       from    to  target type
          26    51    54   Class java/lang/Throwable

  private boolean startConnection(java.net.Socket, java.lang.Long) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_3
       2: aconst_null
       3: astore        4
       5: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       8: ldc           #115                // String startConnection (myId:{} --> sid:{})
      10: aload_0
      11: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      14: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
      17: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      20: aload_2
      21: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      26: new           #118                // class java/io/BufferedOutputStream
      29: dup
      30: aload_1
      31: invokevirtual #119                // Method java/net/Socket.getOutputStream:()Ljava/io/OutputStream;
      34: invokespecial #120                // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
      37: astore        5
      39: new           #121                // class java/io/DataOutputStream
      42: dup
      43: aload         5
      45: invokespecial #122                // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      48: astore_3
      49: aload_0
      50: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      53: invokevirtual #123                // Method org/apache/zookeeper/server/quorum/QuorumPeer.isMultiAddressEnabled:()Z
      56: ifeq          65
      59: ldc2_w        #124                // long -65535l
      62: goto          68
      65: ldc2_w        #126                // long -65536l
      68: lstore        6
      70: aload_3
      71: lload         6
      73: invokevirtual #128                // Method java/io/DataOutputStream.writeLong:(J)V
      76: aload_3
      77: aload_0
      78: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      81: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
      84: invokevirtual #128                // Method java/io/DataOutputStream.writeLong:(J)V
      87: lload         6
      89: ldc2_w        #124                // long -65535l
      92: lcmp
      93: ifne          109
      96: aload_0
      97: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     100: invokevirtual #129                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getElectionAddress:()Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     103: invokevirtual #130                // Method org/apache/zookeeper/server/quorum/MultipleAddresses.getAllAddresses:()Ljava/util/Set;
     106: goto          129
     109: iconst_1
     110: anewarray     #131                // class java/net/InetSocketAddress
     113: dup
     114: iconst_0
     115: aload_0
     116: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     119: invokevirtual #129                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getElectionAddress:()Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     122: invokevirtual #132                // Method org/apache/zookeeper/server/quorum/MultipleAddresses.getOne:()Ljava/net/InetSocketAddress;
     125: aastore
     126: invokestatic  #133                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     129: astore        8
     131: aload         8
     133: invokeinterface #134,  1          // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
     138: invokedynamic #135,  0            // InvokeDynamic #1:apply:()Ljava/util/function/Function;
     143: invokeinterface #136,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
     148: ldc           #137                // String |
     150: invokestatic  #138                // Method java/util/stream/Collectors.joining:(Ljava/lang/CharSequence;)Ljava/util/stream/Collector;
     153: invokeinterface #139,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     158: checkcast     #140                // class java/lang/String
     161: astore        9
     163: aload         9
     165: invokevirtual #141                // Method java/lang/String.getBytes:()[B
     168: astore        10
     170: aload_3
     171: aload         10
     173: arraylength
     174: invokevirtual #142                // Method java/io/DataOutputStream.writeInt:(I)V
     177: aload_3
     178: aload         10
     180: invokevirtual #143                // Method java/io/DataOutputStream.write:([B)V
     183: aload_3
     184: invokevirtual #144                // Method java/io/DataOutputStream.flush:()V
     187: new           #145                // class java/io/DataInputStream
     190: dup
     191: new           #146                // class java/io/BufferedInputStream
     194: dup
     195: aload_1
     196: invokevirtual #147                // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
     199: invokespecial #148                // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
     202: invokespecial #149                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
     205: astore        4
     207: goto          231
     210: astore        5
     212: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     215: ldc           #150                // String Ignoring exception reading or writing challenge:
     217: aload         5
     219: invokeinterface #151,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     224: aload_0
     225: aload_1
     226: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     229: iconst_0
     230: ireturn
     231: aload_0
     232: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     235: invokevirtual #69                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.getVotingView:()Ljava/util/Map;
     238: aload_2
     239: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     244: checkcast     #71                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
     247: astore        5
     249: aload         5
     251: ifnull        269
     254: aload_0
     255: getfield      #45                 // Field authLearner:Lorg/apache/zookeeper/server/quorum/auth/QuorumAuthLearner;
     258: aload_1
     259: aload         5
     261: getfield      #152                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.hostname:Ljava/lang/String;
     264: invokeinterface #153,  3          // InterfaceMethod org/apache/zookeeper/server/quorum/auth/QuorumAuthLearner.authenticate:(Ljava/net/Socket;Ljava/lang/String;)V
     269: aload_2
     270: invokevirtual #154                // Method java/lang/Long.longValue:()J
     273: aload_0
     274: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     277: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     280: lcmp
     281: ifle          313
     284: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     287: ldc           #155                // String Have smaller server identifier, so dropping the connection: (myId:{} --> sid:{})
     289: aload_0
     290: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     293: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     296: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     299: aload_2
     300: invokeinterface #156,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     305: aload_0
     306: aload_1
     307: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     310: goto          433
     313: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     316: ldc           #157                // String Have larger server identifier, so keeping the connection: (myId:{} --> sid:{})
     318: aload_0
     319: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     322: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     325: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     328: aload_2
     329: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     334: new           #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
     337: dup
     338: aload_0
     339: aload_1
     340: aload_2
     341: invokespecial #159                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;Ljava/net/Socket;Ljava/lang/Long;)V
     344: astore        6
     346: new           #160                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker
     349: dup
     350: aload_0
     351: aload_1
     352: aload         4
     354: aload_2
     355: aload         6
     357: invokespecial #161                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;Ljava/net/Socket;Ljava/io/DataInputStream;Ljava/lang/Long;Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker;)V
     360: astore        7
     362: aload         6
     364: aload         7
     366: invokevirtual #162                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.setRecv:(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker;)V
     369: aload_0
     370: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
     373: aload_2
     374: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     377: checkcast     #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
     380: astore        8
     382: aload         8
     384: ifnull        393
     387: aload         8
     389: invokevirtual #164                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.finish:()Z
     392: pop
     393: aload_0
     394: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
     397: aload_2
     398: aload         6
     400: invokevirtual #165                // Method java/util/concurrent/ConcurrentHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     403: pop
     404: aload_0
     405: getfield      #33                 // Field queueSendMap:Ljava/util/concurrent/ConcurrentHashMap;
     408: aload_2
     409: new           #27                 // class org/apache/zookeeper/util/CircularBlockingQueue
     412: dup
     413: iconst_1
     414: invokespecial #29                 // Method org/apache/zookeeper/util/CircularBlockingQueue."<init>":(I)V
     417: invokevirtual #166                // Method java/util/concurrent/ConcurrentHashMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     420: pop
     421: aload         6
     423: invokevirtual #167                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.start:()V
     426: aload         7
     428: invokevirtual #168                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker.start:()V
     431: iconst_1
     432: ireturn
     433: iconst_0
     434: ireturn
    Exception table:
       from    to  target type
          26   207   210   Class java/io/IOException

  public void receiveConnection(java.net.Socket);
    Code:
       0: aconst_null
       1: astore_2
       2: new           #145                // class java/io/DataInputStream
       5: dup
       6: new           #146                // class java/io/BufferedInputStream
       9: dup
      10: aload_1
      11: invokevirtual #147                // Method java/net/Socket.getInputStream:()Ljava/io/InputStream;
      14: invokespecial #148                // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
      17: invokespecial #149                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      20: astore_2
      21: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      24: ldc           #169                // String Sync handling of connection request received from: {}
      26: aload_1
      27: invokevirtual #103                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      30: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      35: aload_0
      36: aload_1
      37: aload_2
      38: invokespecial #170                // Method handleConnection:(Ljava/net/Socket;Ljava/io/DataInputStream;)V
      41: goto          75
      44: astore_3
      45: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      48: ldc           #171                // String Exception handling connection, addr: {}, closing server connection
      50: aload_1
      51: invokevirtual #103                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      54: invokeinterface #172,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      59: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      62: ldc           #173                // String Exception details:
      64: aload_3
      65: invokeinterface #174,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      70: aload_0
      71: aload_1
      72: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
      75: return
    Exception table:
       from    to  target type
           2    41    44   Class java/io/IOException

  public void receiveConnectionAsync(java.net.Socket);
    Code:
       0: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #175                // String Async handling of connection request received from: {}
       5: aload_1
       6: invokevirtual #103                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
       9: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: getfield      #64                 // Field connectionExecutor:Ljava/util/concurrent/ThreadPoolExecutor;
      18: new           #176                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$QuorumConnectionReceiverThread
      21: dup
      22: aload_0
      23: aload_1
      24: invokespecial #177                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$QuorumConnectionReceiverThread."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;Ljava/net/Socket;)V
      27: invokevirtual #109                // Method java/util/concurrent/ThreadPoolExecutor.execute:(Ljava/lang/Runnable;)V
      30: aload_0
      31: getfield      #22                 // Field connectionThreadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
      34: invokevirtual #110                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      37: pop
      38: goto          72
      41: astore_2
      42: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      45: ldc           #171                // String Exception handling connection, addr: {}, closing server connection
      47: aload_1
      48: invokevirtual #103                // Method java/net/Socket.getRemoteSocketAddress:()Ljava/net/SocketAddress;
      51: invokeinterface #172,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      56: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      59: ldc           #173                // String Exception details:
      61: aload_2
      62: invokeinterface #174,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      67: aload_0
      68: aload_1
      69: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
      72: return
    Exception table:
       from    to  target type
           0    38    41   Class java/lang/Throwable

  private void handleConnection(java.net.Socket, java.io.DataInputStream) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_3
       2: aconst_null
       3: astore        4
       5: aconst_null
       6: astore        5
       8: aload_2
       9: invokevirtual #178                // Method java/io/DataInputStream.readLong:()J
      12: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      15: astore        4
      17: aload         4
      19: invokevirtual #154                // Method java/lang/Long.longValue:()J
      22: lconst_0
      23: lcmp
      24: iflt          33
      27: aload         4
      29: astore_3
      30: goto          133
      33: aload         4
      35: aload_2
      36: invokestatic  #179                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage.parse:(Ljava/lang/Long;Ljava/io/DataInputStream;)Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage;
      39: astore        6
      41: aload         6
      43: getfield      #180                // Field org/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage.sid:Ljava/lang/Long;
      46: astore_3
      47: aload         6
      49: getfield      #181                // Field org/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage.electionAddr:Ljava/util/List;
      52: invokeinterface #182,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      57: ifne          85
      60: new           #183                // class org/apache/zookeeper/server/quorum/MultipleAddresses
      63: dup
      64: aload         6
      66: getfield      #181                // Field org/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage.electionAddr:Ljava/util/List;
      69: aload_0
      70: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      73: invokevirtual #184                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getMultiAddressReachabilityCheckTimeoutMs:()I
      76: i2l
      77: invokestatic  #185                // Method java/time/Duration.ofMillis:(J)Ljava/time/Duration;
      80: invokespecial #186                // Method org/apache/zookeeper/server/quorum/MultipleAddresses."<init>":(Ljava/util/Collection;Ljava/time/Duration;)V
      83: astore        5
      85: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      88: ldc           #187                // String Initial message parsed by {}: {}
      90: aload_0
      91: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      94: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
      97: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     100: aload         6
     102: invokevirtual #188                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage.toString:()Ljava/lang/String;
     105: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     110: goto          133
     113: astore        6
     115: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     118: ldc           #190                // String Initial message parsing error!
     120: aload         6
     122: invokeinterface #114,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     127: aload_0
     128: aload_1
     129: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     132: return
     133: aload_3
     134: invokevirtual #154                // Method java/lang/Long.longValue:()J
     137: ldc2_w        #192                // long 9223372036854775807l
     140: lcmp
     141: ifne          166
     144: aload_0
     145: getfield      #15                 // Field observerCounter:Ljava/util/concurrent/atomic/AtomicLong;
     148: invokevirtual #194                // Method java/util/concurrent/atomic/AtomicLong.getAndDecrement:()J
     151: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     154: astore_3
     155: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     158: ldc           #195                // String Setting arbitrary identifier to observer: {}
     160: aload_3
     161: invokeinterface #196,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     166: goto          189
     169: astore        6
     171: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     174: ldc           #197                // String Exception reading or writing challenge
     176: aload         6
     178: invokeinterface #151,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     183: aload_0
     184: aload_1
     185: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     188: return
     189: aload_0
     190: getfield      #44                 // Field authServer:Lorg/apache/zookeeper/server/quorum/auth/QuorumAuthServer;
     193: aload_1
     194: aload_2
     195: invokeinterface #198,  3          // InterfaceMethod org/apache/zookeeper/server/quorum/auth/QuorumAuthServer.authenticate:(Ljava/net/Socket;Ljava/io/DataInputStream;)V
     200: aload_3
     201: invokevirtual #154                // Method java/lang/Long.longValue:()J
     204: aload_0
     205: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     208: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     211: lcmp
     212: ifge          285
     215: aload_0
     216: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
     219: aload_3
     220: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     223: checkcast     #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
     226: astore        6
     228: aload         6
     230: ifnull        239
     233: aload         6
     235: invokevirtual #164                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.finish:()Z
     238: pop
     239: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     242: ldc           #199                // String Create new connection to server: {}
     244: aload_3
     245: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     250: aload_0
     251: aload_1
     252: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
     255: aload         5
     257: ifnull        274
     260: aload_0
     261: aload_3
     262: invokevirtual #154                // Method java/lang/Long.longValue:()J
     265: aload         5
     267: invokevirtual #200                // Method connectOne:(JLorg/apache/zookeeper/server/quorum/MultipleAddresses;)Z
     270: pop
     271: goto          282
     274: aload_0
     275: aload_3
     276: invokevirtual #154                // Method java/lang/Long.longValue:()J
     279: invokevirtual #201                // Method connectOne:(J)V
     282: goto          409
     285: aload_3
     286: invokevirtual #154                // Method java/lang/Long.longValue:()J
     289: aload_0
     290: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     293: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     296: lcmp
     297: ifne          313
     300: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     303: ldc           #202                // String We got a connection request from a server with our own ID. This should be either a configuration error, or a bug.
     305: invokeinterface #203,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     310: goto          409
     313: new           #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
     316: dup
     317: aload_0
     318: aload_1
     319: aload_3
     320: invokespecial #159                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;Ljava/net/Socket;Ljava/lang/Long;)V
     323: astore        6
     325: new           #160                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker
     328: dup
     329: aload_0
     330: aload_1
     331: aload_2
     332: aload_3
     333: aload         6
     335: invokespecial #161                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker."<init>":(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager;Ljava/net/Socket;Ljava/io/DataInputStream;Ljava/lang/Long;Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker;)V
     338: astore        7
     340: aload         6
     342: aload         7
     344: invokevirtual #162                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.setRecv:(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker;)V
     347: aload_0
     348: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
     351: aload_3
     352: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     355: checkcast     #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
     358: astore        8
     360: aload         8
     362: ifnull        371
     365: aload         8
     367: invokevirtual #164                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.finish:()Z
     370: pop
     371: aload_0
     372: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
     375: aload_3
     376: aload         6
     378: invokevirtual #165                // Method java/util/concurrent/ConcurrentHashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     381: pop
     382: aload_0
     383: getfield      #33                 // Field queueSendMap:Ljava/util/concurrent/ConcurrentHashMap;
     386: aload_3
     387: new           #27                 // class org/apache/zookeeper/util/CircularBlockingQueue
     390: dup
     391: iconst_1
     392: invokespecial #29                 // Method org/apache/zookeeper/util/CircularBlockingQueue."<init>":(I)V
     395: invokevirtual #166                // Method java/util/concurrent/ConcurrentHashMap.putIfAbsent:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     398: pop
     399: aload         6
     401: invokevirtual #167                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.start:()V
     404: aload         7
     406: invokevirtual #168                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$RecvWorker.start:()V
     409: return
    Exception table:
       from    to  target type
          33   110   113   Class org/apache/zookeeper/server/quorum/QuorumCnxManager$InitialMessage$InitialMessageException
           8   132   169   Class java/io/IOException
         133   166   169   Class java/io/IOException

  public void toSend(java.lang.Long, java.nio.ByteBuffer);
    Code:
       0: aload_0
       1: getfield      #40                 // Field mySid:J
       4: aload_1
       5: invokevirtual #154                // Method java/lang/Long.longValue:()J
       8: lcmp
       9: ifne          40
      12: aload_2
      13: iconst_0
      14: invokevirtual #204                // Method java/nio/ByteBuffer.position:(I)Ljava/nio/Buffer;
      17: pop
      18: aload_0
      19: new           #205                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$Message
      22: dup
      23: aload_2
      24: invokevirtual #206                // Method java/nio/ByteBuffer.duplicate:()Ljava/nio/ByteBuffer;
      27: aload_1
      28: invokevirtual #154                // Method java/lang/Long.longValue:()J
      31: invokespecial #207                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$Message."<init>":(Ljava/nio/ByteBuffer;J)V
      34: invokevirtual #208                // Method addToRecvQueue:(Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$Message;)V
      37: goto          71
      40: aload_0
      41: getfield      #33                 // Field queueSendMap:Ljava/util/concurrent/ConcurrentHashMap;
      44: aload_1
      45: invokedynamic #209,  0            // InvokeDynamic #2:apply:()Ljava/util/function/Function;
      50: invokevirtual #210                // Method java/util/concurrent/ConcurrentHashMap.computeIfAbsent:(Ljava/lang/Object;Ljava/util/function/Function;)Ljava/lang/Object;
      53: checkcast     #211                // class java/util/concurrent/BlockingQueue
      56: astore_3
      57: aload_0
      58: aload_3
      59: aload_2
      60: invokespecial #212                // Method addToSendQueue:(Ljava/util/concurrent/BlockingQueue;Ljava/nio/ByteBuffer;)V
      63: aload_0
      64: aload_1
      65: invokevirtual #154                // Method java/lang/Long.longValue:()J
      68: invokevirtual #201                // Method connectOne:(J)V
      71: return

  synchronized boolean connectOne(long, org.apache.zookeeper.server.quorum.MultipleAddresses);
    Code:
       0: aload_0
       1: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
       4: lload_1
       5: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      11: ifnull        75
      14: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      17: ldc           #213                // String There is a connection already for server {}
      19: lload_1
      20: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      23: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      28: aload_0
      29: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      32: invokevirtual #123                // Method org/apache/zookeeper/server/quorum/QuorumPeer.isMultiAddressEnabled:()Z
      35: ifeq          73
      38: aload_3
      39: invokevirtual #214                // Method org/apache/zookeeper/server/quorum/MultipleAddresses.size:()I
      42: iconst_1
      43: if_icmple     73
      46: aload_0
      47: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      50: invokevirtual #215                // Method org/apache/zookeeper/server/quorum/QuorumPeer.isMultiAddressReachabilityCheckEnabled:()Z
      53: ifeq          73
      56: aload_0
      57: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
      60: lload_1
      61: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      64: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      67: checkcast     #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
      70: invokevirtual #216                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.asyncValidateIfSocketIsStillReachable:()V
      73: iconst_1
      74: ireturn
      75: aload_0
      76: aload_3
      77: lload_1
      78: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      81: invokevirtual #217                // Method initiateConnectionAsync:(Lorg/apache/zookeeper/server/quorum/MultipleAddresses;Ljava/lang/Long;)Z
      84: ireturn

  synchronized void connectOne(long);
    Code:
       0: aload_0
       1: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
       4: lload_1
       5: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      11: ifnull        66
      14: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      17: ldc           #213                // String There is a connection already for server {}
      19: lload_1
      20: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      23: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      28: aload_0
      29: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      32: invokevirtual #123                // Method org/apache/zookeeper/server/quorum/QuorumPeer.isMultiAddressEnabled:()Z
      35: ifeq          65
      38: aload_0
      39: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      42: invokevirtual #215                // Method org/apache/zookeeper/server/quorum/QuorumPeer.isMultiAddressReachabilityCheckEnabled:()Z
      45: ifeq          65
      48: aload_0
      49: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
      52: lload_1
      53: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      56: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      59: checkcast     #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
      62: invokevirtual #216                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.asyncValidateIfSocketIsStillReachable:()V
      65: return
      66: aload_0
      67: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      70: getfield      #218                // Field org/apache/zookeeper/server/quorum/QuorumPeer.QV_LOCK:Ljava/lang/Object;
      73: dup
      74: astore_3
      75: monitorenter
      76: iconst_0
      77: istore        4
      79: aload_0
      80: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      83: lload_1
      84: invokevirtual #219                // Method org/apache/zookeeper/server/quorum/QuorumPeer.recreateSocketAddresses:(J)V
      87: aload_0
      88: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      91: invokevirtual #220                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getView:()Ljava/util/Map;
      94: astore        5
      96: aload_0
      97: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     100: invokevirtual #221                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getLastSeenQuorumVerifier:()Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
     103: astore        6
     105: aload         6
     107: invokeinterface #222,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getAllMembers:()Ljava/util/Map;
     112: astore        7
     114: aload         5
     116: lload_1
     117: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     120: invokeinterface #223,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     125: ifeq          183
     128: iconst_1
     129: istore        4
     131: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     134: ldc           #224                // String Server {} knows {} already, it is in the lastCommittedView
     136: aload_0
     137: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     140: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     143: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     146: lload_1
     147: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     150: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     155: aload_0
     156: lload_1
     157: aload         5
     159: lload_1
     160: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     163: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     168: checkcast     #71                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
     171: getfield      #72                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     174: invokevirtual #200                // Method connectOne:(JLorg/apache/zookeeper/server/quorum/MultipleAddresses;)Z
     177: ifeq          183
     180: aload_3
     181: monitorexit
     182: return
     183: aload         6
     185: ifnull        302
     188: aload         7
     190: lload_1
     191: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     194: invokeinterface #223,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     199: ifeq          302
     202: iload         4
     204: ifeq          247
     207: aload         7
     209: lload_1
     210: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     213: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     218: checkcast     #71                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
     221: getfield      #72                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     224: aload         5
     226: lload_1
     227: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     230: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     235: checkcast     #71                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
     238: getfield      #72                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     241: invokevirtual #225                // Method org/apache/zookeeper/server/quorum/MultipleAddresses.equals:(Ljava/lang/Object;)Z
     244: ifne          302
     247: iconst_1
     248: istore        4
     250: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     253: ldc           #226                // String Server {} knows {} already, it is in the lastProposedView
     255: aload_0
     256: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     259: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
     262: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     265: lload_1
     266: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     269: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     274: aload_0
     275: lload_1
     276: aload         7
     278: lload_1
     279: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     282: invokeinterface #70,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     287: checkcast     #71                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
     290: getfield      #72                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     293: invokevirtual #200                // Method connectOne:(JLorg/apache/zookeeper/server/quorum/MultipleAddresses;)Z
     296: ifeq          302
     299: aload_3
     300: monitorexit
     301: return
     302: iload         4
     304: ifne          321
     307: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
     310: ldc           #227                // String Invalid server id: {}
     312: lload_1
     313: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     316: invokeinterface #228,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     321: aload_3
     322: monitorexit
     323: goto          333
     326: astore        8
     328: aload_3
     329: monitorexit
     330: aload         8
     332: athrow
     333: return
    Exception table:
       from    to  target type
          76   182   326   any
         183   301   326   any
         302   323   326   any
         326   330   326   any

  public void connectAll();
    Code:
       0: aload_0
       1: getfield      #33                 // Field queueSendMap:Ljava/util/concurrent/ConcurrentHashMap;
       4: invokevirtual #229                // Method java/util/concurrent/ConcurrentHashMap.keys:()Ljava/util/Enumeration;
       7: astore_3
       8: aload_3
       9: invokeinterface #230,  1          // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      14: ifeq          38
      17: aload_3
      18: invokeinterface #231,  1          // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      23: checkcast     #232                // class java/lang/Long
      26: invokevirtual #154                // Method java/lang/Long.longValue:()J
      29: lstore_1
      30: aload_0
      31: lload_1
      32: invokevirtual #201                // Method connectOne:(J)V
      35: goto          8
      38: return

  boolean haveDelivered();
    Code:
       0: aload_0
       1: getfield      #33                 // Field queueSendMap:Ljava/util/concurrent/ConcurrentHashMap;
       4: invokevirtual #233                // Method java/util/concurrent/ConcurrentHashMap.values:()Ljava/util/Collection;
       7: invokeinterface #234,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      12: astore_1
      13: aload_1
      14: invokeinterface #235,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      19: ifeq          62
      22: aload_1
      23: invokeinterface #236,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      28: checkcast     #211                // class java/util/concurrent/BlockingQueue
      31: astore_2
      32: aload_2
      33: invokeinterface #237,  1          // InterfaceMethod java/util/concurrent/BlockingQueue.size:()I
      38: istore_3
      39: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      42: ldc           #238                // String Queue size: {}
      44: iload_3
      45: invokestatic  #93                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      48: invokeinterface #68,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      53: iload_3
      54: ifne          59
      57: iconst_1
      58: ireturn
      59: goto          13
      62: iconst_0
      63: ireturn

  public void halt();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #23                 // Field shutdown:Z
       5: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       8: ldc           #239                // String Halting listener
      10: invokeinterface #240,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      15: aload_0
      16: getfield      #49                 // Field listener:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$Listener;
      19: invokevirtual #241                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$Listener.halt:()V
      22: aload_0
      23: getfield      #49                 // Field listener:Lorg/apache/zookeeper/server/quorum/QuorumCnxManager$Listener;
      26: invokevirtual #242                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$Listener.join:()V
      29: goto          44
      32: astore_1
      33: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      36: ldc           #244                // String Got interrupted before joining the listener
      38: aload_1
      39: invokeinterface #151,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      44: aload_0
      45: invokevirtual #245                // Method softHalt:()V
      48: aload_0
      49: getfield      #64                 // Field connectionExecutor:Ljava/util/concurrent/ThreadPoolExecutor;
      52: ifnull        62
      55: aload_0
      56: getfield      #64                 // Field connectionExecutor:Ljava/util/concurrent/ThreadPoolExecutor;
      59: invokevirtual #246                // Method java/util/concurrent/ThreadPoolExecutor.shutdown:()V
      62: aload_0
      63: getfield      #8                  // Field inprogressConnections:Ljava/util/Set;
      66: invokeinterface #247,  1          // InterfaceMethod java/util/Set.clear:()V
      71: aload_0
      72: invokespecial #248                // Method resetConnectionThreadCount:()V
      75: return
    Exception table:
       from    to  target type
          22    29    32   Class java/lang/InterruptedException

  public void softHalt();
    Code:
       0: aload_0
       1: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
       4: invokevirtual #233                // Method java/util/concurrent/ConcurrentHashMap.values:()Ljava/util/Collection;
       7: invokeinterface #234,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      12: astore_1
      13: aload_1
      14: invokeinterface #235,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      19: ifeq          61
      22: aload_1
      23: invokeinterface #236,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      28: checkcast     #158                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker
      31: astore_2
      32: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      35: ldc           #249                // String Server {} is soft-halting sender towards: {}
      37: aload_0
      38: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      41: invokevirtual #116                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getId:()J
      44: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      47: aload_2
      48: invokeinterface #117,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      53: aload_2
      54: invokevirtual #164                // Method org/apache/zookeeper/server/quorum/QuorumCnxManager$SendWorker.finish:()Z
      57: pop
      58: goto          13
      61: return

  private void setSockOpts(java.net.Socket) throws java.net.SocketException;
    Code:
       0: aload_1
       1: iconst_1
       2: invokevirtual #250                // Method java/net/Socket.setTcpNoDelay:(Z)V
       5: aload_1
       6: aload_0
       7: getfield      #26                 // Field tcpKeepAlive:Z
      10: invokevirtual #251                // Method java/net/Socket.setKeepAlive:(Z)V
      13: aload_1
      14: aload_0
      15: getfield      #41                 // Field socketTimeout:I
      18: invokevirtual #252                // Method java/net/Socket.setSoTimeout:(I)V
      21: return

  private void closeSocket(java.net.Socket);
    Code:
       0: aload_1
       1: ifnonnull     5
       4: return
       5: aload_1
       6: invokevirtual #253                // Method java/net/Socket.close:()V
       9: goto          24
      12: astore_2
      13: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
      16: ldc           #254                // String Exception while closing
      18: aload_2
      19: invokeinterface #114,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      24: return
    Exception table:
       from    to  target type
           5     9    12   Class java/io/IOException

  public long getThreadCount();
    Code:
       0: aload_0
       1: getfield      #3                  // Field threadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #255                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: i2l
       8: lreturn

  public long getConnectionThreadCount();
    Code:
       0: aload_0
       1: getfield      #22                 // Field connectionThreadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #255                // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: i2l
       8: lreturn

  private void resetConnectionThreadCount();
    Code:
       0: aload_0
       1: getfield      #22                 // Field connectionThreadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
       4: iconst_0
       5: invokevirtual #256                // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
       8: return

  private void addToSendQueue(java.util.concurrent.BlockingQueue<java.nio.ByteBuffer>, java.nio.ByteBuffer);
    Code:
       0: aload_1
       1: aload_2
       2: invokeinterface #257,  2          // InterfaceMethod java/util/concurrent/BlockingQueue.offer:(Ljava/lang/Object;)Z
       7: istore_3
       8: iload_3
       9: ifne          23
      12: new           #258                // class java/lang/RuntimeException
      15: dup
      16: ldc_w         #259                // String Could not insert into receive queue
      19: invokespecial #260                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      22: athrow
      23: return

  private boolean isSendQueueEmpty(java.util.concurrent.BlockingQueue<java.nio.ByteBuffer>);
    Code:
       0: aload_1
       1: invokeinterface #261,  1          // InterfaceMethod java/util/concurrent/BlockingQueue.isEmpty:()Z
       6: ireturn

  private java.nio.ByteBuffer pollSendQueue(java.util.concurrent.BlockingQueue<java.nio.ByteBuffer>, long, java.util.concurrent.TimeUnit) throws java.lang.InterruptedException;
    Code:
       0: aload_1
       1: lload_2
       2: aload         4
       4: invokeinterface #262,  4          // InterfaceMethod java/util/concurrent/BlockingQueue.poll:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
       9: checkcast     #263                // class java/nio/ByteBuffer
      12: areturn

  public void addToRecvQueue(org.apache.zookeeper.server.quorum.QuorumCnxManager$Message);
    Code:
       0: aload_0
       1: getfield      #30                 // Field recvQueue:Ljava/util/concurrent/BlockingQueue;
       4: aload_1
       5: invokeinterface #257,  2          // InterfaceMethod java/util/concurrent/BlockingQueue.offer:(Ljava/lang/Object;)Z
      10: istore_2
      11: iload_2
      12: ifne          26
      15: new           #258                // class java/lang/RuntimeException
      18: dup
      19: ldc_w         #259                // String Could not insert into receive queue
      22: invokespecial #260                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: return

  public org.apache.zookeeper.server.quorum.QuorumCnxManager$Message pollRecvQueue(long, java.util.concurrent.TimeUnit) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #30                 // Field recvQueue:Ljava/util/concurrent/BlockingQueue;
       4: lload_1
       5: aload_3
       6: invokeinterface #262,  4          // InterfaceMethod java/util/concurrent/BlockingQueue.poll:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
      11: checkcast     #205                // class org/apache/zookeeper/server/quorum/QuorumCnxManager$Message
      14: areturn

  public boolean connectedToPeer(long);
    Code:
       0: aload_0
       1: getfield      #34                 // Field senderWorkerMap:Ljava/util/concurrent/ConcurrentHashMap;
       4: lload_1
       5: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
       8: invokevirtual #163                // Method java/util/concurrent/ConcurrentHashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      11: ifnull        18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  public boolean isReconfigEnabled();
    Code:
       0: aload_0
       1: getfield      #39                 // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       4: invokevirtual #264                // Method org/apache/zookeeper/server/quorum/QuorumPeer.isReconfigEnabled:()Z
       7: ireturn

  private static java.util.concurrent.BlockingQueue lambda$toSend$2(java.lang.Long);
    Code:
       0: new           #27                 // class org/apache/zookeeper/util/CircularBlockingQueue
       3: dup
       4: iconst_1
       5: invokespecial #29                 // Method org/apache/zookeeper/util/CircularBlockingQueue."<init>":(I)V
       8: areturn

  private static java.lang.Thread lambda$initializeConnectionExecutor$1(java.lang.ThreadGroup, long, java.util.concurrent.atomic.AtomicInteger, java.lang.Runnable);
    Code:
       0: new           #265                // class java/lang/Thread
       3: dup
       4: aload_0
       5: aload         4
       7: ldc_w         #266                // String QuorumConnectionThread-[myid=%d]-%d
      10: iconst_2
      11: anewarray     #84                 // class java/lang/Object
      14: dup
      15: iconst_0
      16: lload_1
      17: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      20: aastore
      21: dup
      22: iconst_1
      23: aload_3
      24: invokevirtual #267                // Method java/util/concurrent/atomic/AtomicInteger.getAndIncrement:()I
      27: invokestatic  #93                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      30: aastore
      31: invokestatic  #268                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      34: invokespecial #269                // Method java/lang/Thread."<init>":(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;)V
      37: areturn

  private static java.net.Socket lambda$static$0();
    Code:
       0: new           #78                 // class java/net/Socket
       3: dup
       4: invokespecial #270                // Method java/net/Socket."<init>":()V
       7: areturn

  static java.util.Set access$000(org.apache.zookeeper.server.quorum.QuorumCnxManager);
    Code:
       0: aload_0
       1: getfield      #8                  // Field inprogressConnections:Ljava/util/Set;
       4: areturn

  static org.slf4j.Logger access$100();
    Code:
       0: getstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static void access$300(org.apache.zookeeper.server.quorum.QuorumCnxManager, java.net.Socket) throws java.net.SocketException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #6                  // Method setSockOpts:(Ljava/net/Socket;)V
       5: return

  static boolean access$400(org.apache.zookeeper.server.quorum.QuorumCnxManager);
    Code:
       0: aload_0
       1: getfield      #5                  // Field quorumSaslAuthEnabled:Z
       4: ireturn

  static void access$600(org.apache.zookeeper.server.quorum.QuorumCnxManager, java.net.Socket);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #4                  // Method closeSocket:(Ljava/net/Socket;)V
       5: return

  static java.util.concurrent.atomic.AtomicInteger access$700(org.apache.zookeeper.server.quorum.QuorumCnxManager);
    Code:
       0: aload_0
       1: getfield      #3                  // Field threadCnt:Ljava/util/concurrent/atomic/AtomicInteger;
       4: areturn

  static boolean access$800(org.apache.zookeeper.server.quorum.QuorumCnxManager, java.util.concurrent.BlockingQueue);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method isSendQueueEmpty:(Ljava/util/concurrent/BlockingQueue;)Z
       5: ireturn

  static java.nio.ByteBuffer access$900(org.apache.zookeeper.server.quorum.QuorumCnxManager, java.util.concurrent.BlockingQueue, long, java.util.concurrent.TimeUnit) throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: aload_1
       2: lload_2
       3: aload         4
       5: invokespecial #1                  // Method pollSendQueue:(Ljava/util/concurrent/BlockingQueue;JLjava/util/concurrent/TimeUnit;)Ljava/nio/ByteBuffer;
       8: areturn

  static {};
    Code:
       0: ldc           #28                 // class org/apache/zookeeper/server/quorum/QuorumCnxManager
       2: invokestatic  #271                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #7                  // Field LOG:Lorg/slf4j/Logger;
       8: invokedynamic #272,  0            // InvokeDynamic #3:get:()Ljava/util/function/Supplier;
      13: putstatic     #273                // Field DEFAULT_SOCKET_FACTORY:Ljava/util/function/Supplier;
      16: getstatic     #273                // Field DEFAULT_SOCKET_FACTORY:Ljava/util/function/Supplier;
      19: putstatic     #9                  // Field SOCKET_FACTORY:Ljava/util/function/Supplier;
      22: return
}
