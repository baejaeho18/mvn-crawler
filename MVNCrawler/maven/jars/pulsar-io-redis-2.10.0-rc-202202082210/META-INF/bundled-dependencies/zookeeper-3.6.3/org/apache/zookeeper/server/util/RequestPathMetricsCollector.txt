Compiled from "RequestPathMetricsCollector.java"
public class org.apache.zookeeper.server.util.RequestPathMetricsCollector {
  private static final org.slf4j.Logger LOG;

  private final int REQUEST_STATS_SLOT_DURATION;

  private final int REQUEST_STATS_SLOT_CAPACITY;

  private final int REQUEST_PREPROCESS_PATH_DEPTH;

  private final float REQUEST_PREPROCESS_SAMPLE_RATE;

  private final long COLLECTOR_INITIAL_DELAY;

  private final long COLLECTOR_DELAY;

  private final int REQUEST_PREPROCESS_TOPPATH_MAX;

  private final boolean enabled;

  public static final java.lang.String PATH_STATS_SLOT_CAPACITY;

  public static final java.lang.String PATH_STATS_SLOT_DURATION;

  public static final java.lang.String PATH_STATS_MAX_DEPTH;

  public static final java.lang.String PATH_STATS_SAMPLE_RATE;

  public static final java.lang.String PATH_STATS_COLLECTOR_INITIAL_DELAY;

  public static final java.lang.String PATH_STATS_COLLECTOR_DELAY;

  public static final java.lang.String PATH_STATS_TOP_PATH_MAX;

  public static final java.lang.String PATH_STATS_ENABLED;

  private static final java.lang.String PATH_SEPERATOR;

  private final java.util.Map<java.lang.String, org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue> immutableRequestsMap;

  private final java.util.concurrent.ScheduledThreadPoolExecutor scheduledExecutor;

  private final boolean accurateMode;

  public org.apache.zookeeper.server.util.RequestPathMetricsCollector();
    Code:
       0: aload_0
       1: iconst_0
       2: invokespecial #9                  // Method "<init>":(Z)V
       5: return

  public org.apache.zookeeper.server.util.RequestPathMetricsCollector(boolean);
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: new           #11                 // class java/util/HashMap
       7: dup
       8: invokespecial #12                 // Method java/util/HashMap."<init>":()V
      11: astore_2
      12: aload_0
      13: iload_1
      14: putfield      #6                  // Field accurateMode:Z
      17: aload_0
      18: ldc           #14                 // String zookeeper.pathStats.topPathMax
      20: bipush        20
      22: invokestatic  #15                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      25: invokevirtual #16                 // Method java/lang/Integer.intValue:()I
      28: putfield      #17                 // Field REQUEST_PREPROCESS_TOPPATH_MAX:I
      31: aload_0
      32: ldc           #18                 // String zookeeper.pathStats.slotDuration
      34: bipush        15
      36: invokestatic  #15                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      39: invokevirtual #16                 // Method java/lang/Integer.intValue:()I
      42: putfield      #5                  // Field REQUEST_STATS_SLOT_DURATION:I
      45: aload_0
      46: ldc           #19                 // String zookeeper.pathStats.slotCapacity
      48: bipush        60
      50: invokestatic  #15                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      53: invokevirtual #16                 // Method java/lang/Integer.intValue:()I
      56: putfield      #8                  // Field REQUEST_STATS_SLOT_CAPACITY:I
      59: aload_0
      60: ldc           #20                 // String zookeeper.pathStats.maxDepth
      62: bipush        6
      64: invokestatic  #15                 // Method java/lang/Integer.getInteger:(Ljava/lang/String;I)Ljava/lang/Integer;
      67: invokevirtual #16                 // Method java/lang/Integer.intValue:()I
      70: putfield      #3                  // Field REQUEST_PREPROCESS_PATH_DEPTH:I
      73: aload_0
      74: ldc           #21                 // String zookeeper.pathStats.sampleRate
      76: ldc           #22                 // String 0.1
      78: invokestatic  #23                 // Method java/lang/System.getProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      81: invokestatic  #24                 // Method java/lang/Float.parseFloat:(Ljava/lang/String;)F
      84: putfield      #25                 // Field REQUEST_PREPROCESS_SAMPLE_RATE:F
      87: aload_0
      88: ldc           #26                 // String zookeeper.pathStats.initialDelay
      90: ldc2_w        #27                 // long 5l
      93: invokestatic  #29                 // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
      96: invokevirtual #30                 // Method java/lang/Long.longValue:()J
      99: putfield      #31                 // Field COLLECTOR_INITIAL_DELAY:J
     102: aload_0
     103: ldc           #32                 // String zookeeper.pathStats.delay
     105: ldc2_w        #27                 // long 5l
     108: invokestatic  #29                 // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
     111: invokevirtual #30                 // Method java/lang/Long.longValue:()J
     114: putfield      #33                 // Field COLLECTOR_DELAY:J
     117: aload_0
     118: ldc           #34                 // String zookeeper.pathStats.enabled
     120: invokestatic  #35                 // Method java/lang/Boolean.getBoolean:(Ljava/lang/String;)Z
     123: putfield      #7                  // Field enabled:Z
     126: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     129: ldc           #36                 // String {} = {}
     131: ldc           #19                 // String zookeeper.pathStats.slotCapacity
     133: aload_0
     134: getfield      #8                  // Field REQUEST_STATS_SLOT_CAPACITY:I
     137: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     140: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     145: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     148: ldc           #36                 // String {} = {}
     150: ldc           #18                 // String zookeeper.pathStats.slotDuration
     152: aload_0
     153: getfield      #5                  // Field REQUEST_STATS_SLOT_DURATION:I
     156: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     159: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     164: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     167: ldc           #36                 // String {} = {}
     169: ldc           #20                 // String zookeeper.pathStats.maxDepth
     171: aload_0
     172: getfield      #3                  // Field REQUEST_PREPROCESS_PATH_DEPTH:I
     175: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     178: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     183: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     186: ldc           #36                 // String {} = {}
     188: ldc           #26                 // String zookeeper.pathStats.initialDelay
     190: aload_0
     191: getfield      #31                 // Field COLLECTOR_INITIAL_DELAY:J
     194: invokestatic  #39                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     197: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     202: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     205: ldc           #36                 // String {} = {}
     207: ldc           #32                 // String zookeeper.pathStats.delay
     209: aload_0
     210: getfield      #33                 // Field COLLECTOR_DELAY:J
     213: invokestatic  #39                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     216: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     221: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     224: ldc           #36                 // String {} = {}
     226: ldc           #34                 // String zookeeper.pathStats.enabled
     228: aload_0
     229: getfield      #7                  // Field enabled:Z
     232: invokestatic  #40                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     235: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     240: aload_0
     241: invokestatic  #41                 // Method java/lang/Runtime.getRuntime:()Ljava/lang/Runtime;
     244: invokevirtual #42                 // Method java/lang/Runtime.availableProcessors:()I
     247: invokestatic  #43                 // Method java/util/concurrent/Executors.newScheduledThreadPool:(I)Ljava/util/concurrent/ScheduledExecutorService;
     250: checkcast     #44                 // class java/util/concurrent/ScheduledThreadPoolExecutor
     253: putfield      #4                  // Field scheduledExecutor:Ljava/util/concurrent/ScheduledThreadPoolExecutor;
     256: aload_0
     257: getfield      #4                  // Field scheduledExecutor:Ljava/util/concurrent/ScheduledThreadPoolExecutor;
     260: iconst_0
     261: invokevirtual #45                 // Method java/util/concurrent/ScheduledThreadPoolExecutor.setContinueExistingPeriodicTasksAfterShutdownPolicy:(Z)V
     264: aload_0
     265: getfield      #4                  // Field scheduledExecutor:Ljava/util/concurrent/ScheduledThreadPoolExecutor;
     268: iconst_0
     269: invokevirtual #46                 // Method java/util/concurrent/ScheduledThreadPoolExecutor.setExecuteExistingDelayedTasksAfterShutdownPolicy:(Z)V
     272: aload_2
     273: iconst_1
     274: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     277: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     280: dup
     281: aload_0
     282: iconst_1
     283: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     286: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     291: pop
     292: aload_2
     293: bipush        15
     295: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     298: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     301: dup
     302: aload_0
     303: bipush        15
     305: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     308: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     313: pop
     314: aload_2
     315: bipush        19
     317: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     320: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     323: dup
     324: aload_0
     325: bipush        19
     327: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     330: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     335: pop
     336: aload_2
     337: bipush        20
     339: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     342: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     345: dup
     346: aload_0
     347: bipush        20
     349: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     352: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     357: pop
     358: aload_2
     359: iconst_2
     360: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     363: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     366: dup
     367: aload_0
     368: iconst_2
     369: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     372: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     377: pop
     378: aload_2
     379: iconst_3
     380: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     383: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     386: dup
     387: aload_0
     388: iconst_3
     389: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     392: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     397: pop
     398: aload_2
     399: iconst_5
     400: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     403: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     406: dup
     407: aload_0
     408: iconst_5
     409: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     412: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     417: pop
     418: aload_2
     419: iconst_4
     420: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     423: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     426: dup
     427: aload_0
     428: iconst_4
     429: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     432: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     437: pop
     438: aload_2
     439: bipush        6
     441: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     444: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     447: dup
     448: aload_0
     449: bipush        6
     451: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     454: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     459: pop
     460: aload_2
     461: bipush        7
     463: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     466: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     469: dup
     470: aload_0
     471: bipush        7
     473: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     476: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     481: pop
     482: aload_2
     483: bipush        8
     485: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     488: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     491: dup
     492: aload_0
     493: bipush        8
     495: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     498: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     503: pop
     504: aload_2
     505: bipush        12
     507: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     510: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     513: dup
     514: aload_0
     515: bipush        12
     517: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     520: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     525: pop
     526: aload_2
     527: bipush        17
     529: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     532: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     535: dup
     536: aload_0
     537: bipush        17
     539: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     542: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     547: pop
     548: aload_2
     549: bipush        18
     551: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     554: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     557: dup
     558: aload_0
     559: bipush        18
     561: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     564: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     569: pop
     570: aload_2
     571: bipush        105
     573: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     576: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     579: dup
     580: aload_0
     581: bipush        105
     583: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     586: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     591: pop
     592: aload_2
     593: bipush        9
     595: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
     598: new           #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
     601: dup
     602: aload_0
     603: bipush        9
     605: invokespecial #49                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue."<init>":(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;I)V
     608: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     613: pop
     614: aload_0
     615: aload_2
     616: invokestatic  #51                 // Method java/util/Collections.unmodifiableMap:(Ljava/util/Map;)Ljava/util/Map;
     619: putfield      #52                 // Field immutableRequestsMap:Ljava/util/Map;
     622: return

  static boolean isWriteOp(int);
    Code:
       0: iload_0
       1: tableswitch   { // 1 to 20
                     1: 96
                     2: 96
                     3: 98
                     4: 98
                     5: 96
                     6: 98
                     7: 96
                     8: 98
                     9: 96
                    10: 98
                    11: 98
                    12: 98
                    13: 96
                    14: 96
                    15: 96
                    16: 96
                    17: 98
                    18: 98
                    19: 96
                    20: 96
               default: 98
          }
      96: iconst_1
      97: ireturn
      98: iconst_0
      99: ireturn

  static java.lang.String trimPathDepth(java.lang.String, int);
    Code:
       0: iconst_0
       1: istore_2
       2: new           #53                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
       9: astore_3
      10: new           #55                 // class java/util/StringTokenizer
      13: dup
      14: aload_0
      15: ldc           #56                 // String /
      17: invokespecial #57                 // Method java/util/StringTokenizer."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      20: astore        4
      22: aload         4
      24: invokevirtual #58                 // Method java/util/StringTokenizer.hasMoreElements:()Z
      27: ifeq          58
      30: iload_2
      31: iinc          2, 1
      34: iload_1
      35: if_icmpge     58
      38: aload_3
      39: ldc           #56                 // String /
      41: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: pop
      45: aload_3
      46: aload         4
      48: invokevirtual #60                 // Method java/util/StringTokenizer.nextToken:()Ljava/lang/String;
      51: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: pop
      55: goto          22
      58: aload_3
      59: invokevirtual #61                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      62: astore_0
      63: aload_0
      64: areturn

  public void shutdown();
    Code:
       0: aload_0
       1: getfield      #7                  // Field enabled:Z
       4: ifne          8
       7: return
       8: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      11: ldc           #62                 // String shutdown scheduledExecutor
      13: invokeinterface #63,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      18: aload_0
      19: getfield      #4                  // Field scheduledExecutor:Ljava/util/concurrent/ScheduledThreadPoolExecutor;
      22: invokevirtual #64                 // Method java/util/concurrent/ScheduledThreadPoolExecutor.shutdownNow:()Ljava/util/List;
      25: pop
      26: return

  public void start();
    Code:
       0: aload_0
       1: getfield      #7                  // Field enabled:Z
       4: ifne          8
       7: return
       8: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      11: ldc           #65                 // String Start the RequestPath collector
      13: invokeinterface #63,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      18: aload_0
      19: getfield      #52                 // Field immutableRequestsMap:Ljava/util/Map;
      22: invokedynamic #66,  0             // InvokeDynamic #0:accept:()Ljava/util/function/BiConsumer;
      27: invokeinterface #67,  2           // InterfaceMethod java/util/Map.forEach:(Ljava/util/function/BiConsumer;)V
      32: aload_0
      33: getfield      #4                  // Field scheduledExecutor:Ljava/util/concurrent/ScheduledThreadPoolExecutor;
      36: aload_0
      37: invokedynamic #68,  0             // InvokeDynamic #1:run:(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector;)Ljava/lang/Runnable;
      42: aload_0
      43: getfield      #31                 // Field COLLECTOR_INITIAL_DELAY:J
      46: aload_0
      47: getfield      #33                 // Field COLLECTOR_DELAY:J
      50: getstatic     #69                 // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
      53: invokevirtual #70                 // Method java/util/concurrent/ScheduledThreadPoolExecutor.scheduleWithFixedDelay:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/ScheduledFuture;
      56: pop
      57: return

  public void registerRequest(int, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #7                  // Field enabled:Z
       4: ifne          8
       7: return
       8: invokestatic  #71                 // Method java/util/concurrent/ThreadLocalRandom.current:()Ljava/util/concurrent/ThreadLocalRandom;
      11: invokevirtual #72                 // Method java/util/concurrent/ThreadLocalRandom.nextFloat:()F
      14: aload_0
      15: getfield      #25                 // Field REQUEST_PREPROCESS_SAMPLE_RATE:F
      18: fcmpg
      19: ifgt          65
      22: aload_0
      23: getfield      #52                 // Field immutableRequestsMap:Ljava/util/Map;
      26: iload_1
      27: invokestatic  #47                 // Method org/apache/zookeeper/server/Request.op2String:(I)Ljava/lang/String;
      30: invokeinterface #73,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      35: checkcast     #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
      38: astore_3
      39: aload_3
      40: ifnull        51
      43: aload_3
      44: aload_2
      45: invokevirtual #74                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.registerRequest:(Ljava/lang/String;)V
      48: goto          65
      51: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      54: ldc           #75                 // String We should not handle {}
      56: iload_1
      57: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      60: invokeinterface #76,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
      65: return

  public void dumpTopRequestPath(java.io.PrintWriter, java.lang.String, int);
    Code:
       0: iload_3
       1: iconst_1
       2: if_icmpge     6
       5: return
       6: aload_0
       7: getfield      #52                 // Field immutableRequestsMap:Ljava/util/Map;
      10: aload_2
      11: invokeinterface #73,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      16: checkcast     #48                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue
      19: astore        4
      21: aload         4
      23: ifnonnull     50
      26: aload_1
      27: new           #53                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      34: ldc           #77                 // String Can not find path stats for type:
      36: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_2
      40: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: invokevirtual #61                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      46: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      49: return
      50: aload_1
      51: new           #53                 // class java/lang/StringBuilder
      54: dup
      55: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
      58: ldc           #79                 // String The top requests of type:
      60: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: aload_2
      64: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: invokevirtual #61                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      73: iload_3
      74: aload_0
      75: getfield      #3                  // Field REQUEST_PREPROCESS_PATH_DEPTH:I
      78: invokestatic  #80                 // Method java/lang/Math.min:(II)I
      81: istore        6
      83: aload         4
      85: iload         6
      87: invokevirtual #81                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.collectStats:(I)Ljava/util/Map;
      90: astore        5
      92: aload_0
      93: aload         5
      95: aload_1
      96: invokedynamic #82,  0             // InvokeDynamic #2:accept:(Ljava/io/PrintWriter;)Ljava/util/function/Consumer;
     101: invokevirtual #83                 // Method logTopPaths:(Ljava/util/Map;Ljava/util/function/Consumer;)V
     104: return

  public void dumpTopReadPaths(java.io.PrintWriter, int);
    Code:
       0: aload_1
       1: ldc           #84                 // String The top read requests are
       3: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: iload_2
       9: invokedynamic #85,  0             // InvokeDynamic #3:test:()Ljava/util/function/Predicate;
      14: invokespecial #86                 // Method dumpTopAggregatedPaths:(Ljava/io/PrintWriter;ILjava/util/function/Predicate;)V
      17: return

  public void dumpTopWritePaths(java.io.PrintWriter, int);
    Code:
       0: aload_1
       1: ldc           #87                 // String The top write requests are
       3: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: iload_2
       9: invokedynamic #88,  0             // InvokeDynamic #4:test:()Ljava/util/function/Predicate;
      14: invokespecial #86                 // Method dumpTopAggregatedPaths:(Ljava/io/PrintWriter;ILjava/util/function/Predicate;)V
      17: return

  public void dumpTopPaths(java.io.PrintWriter, int);
    Code:
       0: aload_1
       1: ldc           #89                 // String The top requests are
       3: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: iload_2
       9: invokedynamic #90,  0             // InvokeDynamic #5:test:()Ljava/util/function/Predicate;
      14: invokespecial #86                 // Method dumpTopAggregatedPaths:(Ljava/io/PrintWriter;ILjava/util/function/Predicate;)V
      17: return

  private void dumpTopAggregatedPaths(java.io.PrintWriter, int, java.util.function.Predicate<org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue>);
    Code:
       0: aload_0
       1: getfield      #7                  // Field enabled:Z
       4: ifne          8
       7: return
       8: aload_0
       9: iload_2
      10: aload_3
      11: invokevirtual #91                 // Method aggregatePaths:(ILjava/util/function/Predicate;)Ljava/util/Map;
      14: astore        4
      16: aload_0
      17: aload         4
      19: aload_1
      20: invokedynamic #92,  0             // InvokeDynamic #6:accept:(Ljava/io/PrintWriter;)Ljava/util/function/Consumer;
      25: invokevirtual #83                 // Method logTopPaths:(Ljava/util/Map;Ljava/util/function/Consumer;)V
      28: return

  java.util.Map<java.lang.String, java.lang.Integer> aggregatePaths(int, java.util.function.Predicate<org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue>);
    Code:
       0: new           #11                 // class java/util/HashMap
       3: dup
       4: aload_0
       5: getfield      #17                 // Field REQUEST_PREPROCESS_TOPPATH_MAX:I
       8: invokespecial #93                 // Method java/util/HashMap."<init>":(I)V
      11: astore_3
      12: iload_1
      13: aload_0
      14: getfield      #3                  // Field REQUEST_PREPROCESS_PATH_DEPTH:I
      17: invokestatic  #80                 // Method java/lang/Math.min:(II)I
      20: istore        4
      22: aload_0
      23: getfield      #52                 // Field immutableRequestsMap:Ljava/util/Map;
      26: invokeinterface #94,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      31: invokeinterface #95,  1           // InterfaceMethod java/util/Collection.stream:()Ljava/util/stream/Stream;
      36: aload_2
      37: invokeinterface #96,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      42: iload         4
      44: aload_3
      45: invokedynamic #97,  0             // InvokeDynamic #7:accept:(ILjava/util/Map;)Ljava/util/function/Consumer;
      50: invokeinterface #98,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
      55: aload_3
      56: areturn

  void logTopPaths(java.util.Map<java.lang.String, java.lang.Integer>, java.util.function.Consumer<java.util.Map$Entry<java.lang.String, java.lang.Integer>>);
    Code:
       0: aload_1
       1: invokeinterface #99,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
       6: invokeinterface #100,  1          // InterfaceMethod java/util/Set.stream:()Ljava/util/stream/Stream;
      11: invokedynamic #101,  0            // InvokeDynamic #8:apply:()Ljava/util/function/Function;
      16: invokestatic  #102                // InterfaceMethod java/util/Comparator.comparing:(Ljava/util/function/Function;)Ljava/util/Comparator;
      19: invokeinterface #103,  1          // InterfaceMethod java/util/Comparator.reversed:()Ljava/util/Comparator;
      24: invokeinterface #104,  2          // InterfaceMethod java/util/stream/Stream.sorted:(Ljava/util/Comparator;)Ljava/util/stream/Stream;
      29: aload_0
      30: getfield      #17                 // Field REQUEST_PREPROCESS_TOPPATH_MAX:I
      33: i2l
      34: invokeinterface #105,  3          // InterfaceMethod java/util/stream/Stream.limit:(J)Ljava/util/stream/Stream;
      39: aload_2
      40: invokeinterface #98,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
      45: return

  private static void lambda$aggregatePaths$12(int, java.util.Map, org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: aload_2
       1: iload_0
       2: invokevirtual #81                 // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.collectStats:(I)Ljava/util/Map;
       5: aload_1
       6: invokedynamic #106,  0            // InvokeDynamic #9:accept:(Ljava/util/Map;)Ljava/util/function/BiConsumer;
      11: invokeinterface #67,  2           // InterfaceMethod java/util/Map.forEach:(Ljava/util/function/BiConsumer;)V
      16: return

  private static void lambda$null$11(java.util.Map, java.lang.String, java.lang.Integer);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: aload_1
       4: iconst_0
       5: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       8: invokeinterface #107,  3          // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #108                // class java/lang/Integer
      16: invokevirtual #16                 // Method java/lang/Integer.intValue:()I
      19: aload_2
      20: invokevirtual #16                 // Method java/lang/Integer.intValue:()I
      23: iadd
      24: invokestatic  #37                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      27: invokeinterface #50,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      32: checkcast     #108                // class java/lang/Integer
      35: pop
      36: return

  private static void lambda$dumpTopAggregatedPaths$10(java.io.PrintWriter, java.util.Map$Entry);
    Code:
       0: aload_0
       1: new           #53                 // class java/lang/StringBuilder
       4: dup
       5: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
       8: aload_1
       9: invokeinterface #109,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      14: checkcast     #110                // class java/lang/String
      17: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: ldc           #111                // String  :
      22: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokeinterface #112,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      31: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      34: invokevirtual #61                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      40: return

  private static boolean lambda$dumpTopPaths$9(org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: iconst_1
       1: ireturn

  private static boolean lambda$dumpTopWritePaths$8(org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: aload_0
       1: invokestatic  #114                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.access$700:(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue;)Z
       4: ireturn

  private static boolean lambda$dumpTopReadPaths$7(org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: aload_0
       1: invokestatic  #114                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.access$700:(Lorg/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue;)Z
       4: ifne          11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  private static void lambda$dumpTopRequestPath$6(java.io.PrintWriter, java.util.Map$Entry);
    Code:
       0: aload_0
       1: new           #53                 // class java/lang/StringBuilder
       4: dup
       5: invokespecial #54                 // Method java/lang/StringBuilder."<init>":()V
       8: aload_1
       9: invokeinterface #109,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      14: checkcast     #110                // class java/lang/String
      17: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: ldc           #111                // String  :
      22: invokevirtual #59                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokeinterface #112,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      31: invokevirtual #113                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      34: invokevirtual #61                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokevirtual #78                 // Method java/io/PrintWriter.println:(Ljava/lang/String;)V
      40: return

  private void lambda$start$5();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #115                // String %nHere are the top Read paths:
       5: invokeinterface #63,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: aload_0
      12: iconst_4
      13: invokedynamic #116,  0            // InvokeDynamic #10:test:()Ljava/util/function/Predicate;
      18: invokevirtual #91                 // Method aggregatePaths:(ILjava/util/function/Predicate;)Ljava/util/Map;
      21: invokedynamic #117,  0            // InvokeDynamic #11:accept:()Ljava/util/function/Consumer;
      26: invokevirtual #83                 // Method logTopPaths:(Ljava/util/Map;Ljava/util/function/Consumer;)V
      29: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      32: ldc           #118                // String %nHere are the top Write paths:
      34: invokeinterface #63,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      39: aload_0
      40: aload_0
      41: iconst_4
      42: invokedynamic #119,  0            // InvokeDynamic #12:test:()Ljava/util/function/Predicate;
      47: invokevirtual #91                 // Method aggregatePaths:(ILjava/util/function/Predicate;)Ljava/util/Map;
      50: invokedynamic #120,  0            // InvokeDynamic #13:accept:()Ljava/util/function/Consumer;
      55: invokevirtual #83                 // Method logTopPaths:(Ljava/util/Map;Ljava/util/function/Consumer;)V
      58: return

  private static void lambda$null$4(java.util.Map$Entry);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #121                // String {} : {}
       5: aload_0
       6: invokeinterface #109,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      11: aload_0
      12: invokeinterface #112,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      17: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: return

  private static boolean lambda$null$3(org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: aload_0
       1: invokevirtual #122                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.isWriteOperation:()Z
       4: ireturn

  private static void lambda$null$2(java.util.Map$Entry);
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #121                // String {} : {}
       5: aload_0
       6: invokeinterface #109,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      11: aload_0
      12: invokeinterface #112,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      17: invokeinterface #38,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: return

  private static boolean lambda$null$1(org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: aload_0
       1: invokevirtual #122                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.isWriteOperation:()Z
       4: ifne          11
       7: iconst_1
       8: goto          12
      11: iconst_0
      12: ireturn

  private static void lambda$start$0(java.lang.String, org.apache.zookeeper.server.util.RequestPathMetricsCollector$PathStatsQueue);
    Code:
       0: aload_1
       1: invokevirtual #123                // Method org/apache/zookeeper/server/util/RequestPathMetricsCollector$PathStatsQueue.start:()V
       4: return

  static int access$000(org.apache.zookeeper.server.util.RequestPathMetricsCollector);
    Code:
       0: aload_0
       1: getfield      #8                  // Field REQUEST_STATS_SLOT_CAPACITY:I
       4: ireturn

  static boolean access$100(org.apache.zookeeper.server.util.RequestPathMetricsCollector);
    Code:
       0: aload_0
       1: getfield      #7                  // Field enabled:Z
       4: ireturn

  static boolean access$200(org.apache.zookeeper.server.util.RequestPathMetricsCollector);
    Code:
       0: aload_0
       1: getfield      #6                  // Field accurateMode:Z
       4: ireturn

  static int access$300(org.apache.zookeeper.server.util.RequestPathMetricsCollector);
    Code:
       0: aload_0
       1: getfield      #5                  // Field REQUEST_STATS_SLOT_DURATION:I
       4: ireturn

  static java.util.concurrent.ScheduledThreadPoolExecutor access$400(org.apache.zookeeper.server.util.RequestPathMetricsCollector);
    Code:
       0: aload_0
       1: getfield      #4                  // Field scheduledExecutor:Ljava/util/concurrent/ScheduledThreadPoolExecutor;
       4: areturn

  static int access$500(org.apache.zookeeper.server.util.RequestPathMetricsCollector);
    Code:
       0: aload_0
       1: getfield      #3                  // Field REQUEST_PREPROCESS_PATH_DEPTH:I
       4: ireturn

  static org.slf4j.Logger access$600();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static {};
    Code:
       0: ldc           #13                 // class org/apache/zookeeper/server/util/RequestPathMetricsCollector
       2: invokestatic  #124                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       8: return
}
