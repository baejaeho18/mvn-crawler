Compiled from "Observer.java"
public class org.apache.zookeeper.server.quorum.Observer extends org.apache.zookeeper.server.quorum.Learner {
  private static final org.slf4j.Logger LOG;

  public static final java.lang.String OBSERVER_RECONNECT_DELAY_MS;

  public static final java.lang.String OBSERVER_ELECTION_DELAY_MS;

  private static final long reconnectDelayMs;

  private static volatile long observerElectionDelayMs;

  private static final java.util.concurrent.atomic.AtomicReference<org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer> nextLearnerMaster;

  private org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer currentLearnerMaster;

  org.apache.zookeeper.server.quorum.Observer(org.apache.zookeeper.server.quorum.QuorumPeer, org.apache.zookeeper.server.quorum.ObserverZooKeeperServer);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/zookeeper/server/quorum/Learner."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      19: return

  public java.lang.String toString();
    Code:
       0: new           #5                  // class java/lang/StringBuilder
       3: dup
       4: invokespecial #6                  // Method java/lang/StringBuilder."<init>":()V
       7: astore_1
       8: aload_1
       9: ldc           #7                  // String Observer
      11: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_0
      15: getfield      #9                  // Field sock:Ljava/net/Socket;
      18: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      21: pop
      22: aload_1
      23: ldc           #11                 // String  pendingRevalidationCount:
      25: invokevirtual #8                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: getfield      #12                 // Field pendingRevalidations:Ljava/util/concurrent/ConcurrentHashMap;
      32: invokevirtual #13                 // Method java/util/concurrent/ConcurrentHashMap.size:()I
      35: invokevirtual #14                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      38: pop
      39: aload_1
      40: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      43: areturn

  void observeLeader() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
       4: new           #16                 // class org/apache/zookeeper/server/ObserverBean
       7: dup
       8: aload_0
       9: aload_0
      10: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
      13: invokespecial #17                 // Method org/apache/zookeeper/server/ObserverBean."<init>":(Lorg/apache/zookeeper/server/quorum/Observer;Lorg/apache/zookeeper/server/ZooKeeperServer;)V
      16: aload_0
      17: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      20: getfield      #18                 // Field org/apache/zookeeper/server/quorum/QuorumPeer.jmxLocalPeerBean:Lorg/apache/zookeeper/server/quorum/LocalPeerBean;
      23: invokevirtual #19                 // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.registerJMX:(Lorg/apache/zookeeper/server/ZooKeeperServerBean;Lorg/apache/zookeeper/server/quorum/LocalPeerBean;)V
      26: lconst_0
      27: lstore_1
      28: iconst_0
      29: istore_3
      30: aload_0
      31: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      34: getstatic     #20                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ZabState.DISCOVERY:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ZabState;
      37: invokevirtual #21                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setZabState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ZabState;)V
      40: aload_0
      41: invokespecial #22                 // Method findLearnerMaster:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
      44: astore        4
      46: aload_0
      47: aload         4
      49: getfield      #23                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
      52: aload         4
      54: getfield      #24                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.hostname:Ljava/lang/String;
      57: invokevirtual #25                 // Method connectToLeader:(Lorg/apache/zookeeper/server/quorum/MultipleAddresses;Ljava/lang/String;)V
      60: invokestatic  #26                 // Method java/lang/System.currentTimeMillis:()J
      63: lstore_1
      64: aload_0
      65: bipush        16
      67: invokevirtual #28                 // Method registerWithLeader:(I)J
      70: lstore        5
      72: aload_0
      73: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      76: invokevirtual #29                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.isReconfigStateChange:()Z
      79: ifeq          92
      82: new           #30                 // class java/lang/Exception
      85: dup
      86: ldc           #31                 // String learned about role change
      88: invokespecial #32                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
      91: athrow
      92: aload_0
      93: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      96: aload         4
      98: getfield      #23                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     101: aload         4
     103: invokevirtual #33                 // Method org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.getId:()J
     106: invokevirtual #34                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setLeaderAddressAndId:(Lorg/apache/zookeeper/server/quorum/MultipleAddresses;J)V
     109: aload_0
     110: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     113: getstatic     #35                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ZabState.SYNCHRONIZATION:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ZabState;
     116: invokevirtual #21                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setZabState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ZabState;)V
     119: aload_0
     120: lload         5
     122: invokevirtual #36                 // Method syncWithLeader:(J)V
     125: aload_0
     126: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     129: getstatic     #37                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$ZabState.BROADCAST:Lorg/apache/zookeeper/server/quorum/QuorumPeer$ZabState;
     132: invokevirtual #21                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.setZabState:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$ZabState;)V
     135: iconst_1
     136: istore_3
     137: new           #38                 // class org/apache/zookeeper/server/quorum/QuorumPacket
     140: dup
     141: invokespecial #39                 // Method org/apache/zookeeper/server/quorum/QuorumPacket."<init>":()V
     144: astore        7
     146: aload_0
     147: invokevirtual #40                 // Method isRunning:()Z
     150: ifeq          177
     153: getstatic     #41                 // Field nextLearnerMaster:Ljava/util/concurrent/atomic/AtomicReference;
     156: invokevirtual #42                 // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
     159: ifnonnull     177
     162: aload_0
     163: aload         7
     165: invokevirtual #43                 // Method readPacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     168: aload_0
     169: aload         7
     171: invokevirtual #44                 // Method processPacket:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     174: goto          146
     177: goto          205
     180: astore        5
     182: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     185: ldc           #46                 // String Exception when observing the leader
     187: aload         5
     189: invokeinterface #47,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     194: aload_0
     195: invokevirtual #48                 // Method closeSocket:()V
     198: aload_0
     199: getfield      #12                 // Field pendingRevalidations:Ljava/util/concurrent/ConcurrentHashMap;
     202: invokevirtual #49                 // Method java/util/concurrent/ConcurrentHashMap.clear:()V
     205: aload_0
     206: aconst_null
     207: putfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
     210: aload_0
     211: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     214: aload_0
     215: invokevirtual #50                 // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.unregisterJMX:(Lorg/apache/zookeeper/server/quorum/Learner;)V
     218: lload_1
     219: lconst_0
     220: lcmp
     221: ifeq          365
     224: invokestatic  #26                 // Method java/lang/System.currentTimeMillis:()J
     227: lload_1
     228: lsub
     229: lstore        4
     231: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     234: ldc           #51                 // String Disconnected from leader (with address: {}). Was connected for {}ms. Sync state: {}
     236: iconst_3
     237: anewarray     #52                 // class java/lang/Object
     240: dup
     241: iconst_0
     242: aload_0
     243: getfield      #53                 // Field leaderAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     246: aastore
     247: dup
     248: iconst_1
     249: lload         4
     251: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     254: aastore
     255: dup
     256: iconst_2
     257: iload_3
     258: invokestatic  #55                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     261: aastore
     262: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     267: aload_0
     268: getfield      #57                 // Field messageTracker:Lorg/apache/zookeeper/server/util/MessageTracker;
     271: aload_0
     272: getfield      #53                 // Field leaderAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     275: invokevirtual #58                 // Method org/apache/zookeeper/server/quorum/MultipleAddresses.toString:()Ljava/lang/String;
     278: invokevirtual #59                 // Method org/apache/zookeeper/server/util/MessageTracker.dumpToLog:(Ljava/lang/String;)V
     281: goto          365
     284: astore        8
     286: aload_0
     287: aconst_null
     288: putfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
     291: aload_0
     292: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     295: aload_0
     296: invokevirtual #50                 // Method org/apache/zookeeper/server/quorum/LearnerZooKeeperServer.unregisterJMX:(Lorg/apache/zookeeper/server/quorum/Learner;)V
     299: lload_1
     300: lconst_0
     301: lcmp
     302: ifeq          362
     305: invokestatic  #26                 // Method java/lang/System.currentTimeMillis:()J
     308: lload_1
     309: lsub
     310: lstore        9
     312: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     315: ldc           #51                 // String Disconnected from leader (with address: {}). Was connected for {}ms. Sync state: {}
     317: iconst_3
     318: anewarray     #52                 // class java/lang/Object
     321: dup
     322: iconst_0
     323: aload_0
     324: getfield      #53                 // Field leaderAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     327: aastore
     328: dup
     329: iconst_1
     330: lload         9
     332: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     335: aastore
     336: dup
     337: iconst_2
     338: iload_3
     339: invokestatic  #55                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     342: aastore
     343: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
     348: aload_0
     349: getfield      #57                 // Field messageTracker:Lorg/apache/zookeeper/server/util/MessageTracker;
     352: aload_0
     353: getfield      #53                 // Field leaderAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     356: invokevirtual #58                 // Method org/apache/zookeeper/server/quorum/MultipleAddresses.toString:()Ljava/lang/String;
     359: invokevirtual #59                 // Method org/apache/zookeeper/server/util/MessageTracker.dumpToLog:(Ljava/lang/String;)V
     362: aload         8
     364: athrow
     365: return
    Exception table:
       from    to  target type
          46   177   180   Class java/lang/Exception
          30   205   284   any
         284   286   284   any

  private org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer findLearnerMaster();
    Code:
       0: getstatic     #41                 // Field nextLearnerMaster:Ljava/util/concurrent/atomic/AtomicReference;
       3: aconst_null
       4: invokevirtual #60                 // Method java/util/concurrent/atomic/AtomicReference.getAndSet:(Ljava/lang/Object;)Ljava/lang/Object;
       7: checkcast     #61                 // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
      10: astore_1
      11: aload_1
      12: ifnull        45
      15: aload_0
      16: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      19: aload_1
      20: getfield      #62                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      23: invokestatic  #63                 // Method java/lang/Long.toString:(J)Ljava/lang/String;
      26: invokevirtual #64                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.validateLearnerMaster:(Ljava/lang/String;)Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
      29: ifnonnull     45
      32: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      35: ldc           #65                 // String requested next learner master {} is no longer valid
      37: aload_1
      38: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      43: aconst_null
      44: astore_1
      45: aload_1
      46: ifnonnull     63
      49: aload_0
      50: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
      53: aload_0
      54: invokevirtual #67                 // Method findLeader:()Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
      57: invokevirtual #68                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.findLearnerMaster:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;)Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
      60: goto          64
      63: aload_1
      64: astore_2
      65: aload_0
      66: aload_2
      67: putfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
      70: aload_2
      71: ifnonnull     87
      74: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      77: ldc           #69                 // String No learner master found
      79: invokeinterface #70,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      84: goto          108
      87: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      90: ldc           #71                 // String Observing new leader sid={} addr={}
      92: aload_2
      93: getfield      #62                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      96: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      99: aload_2
     100: getfield      #23                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
     103: invokeinterface #72,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     108: aload_2
     109: areturn

  protected void processPacket(org.apache.zookeeper.server.quorum.QuorumPacket) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #73                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getType:()I
       4: tableswitch   { // 2 to 19
                     2: 100
                     3: 426
                     4: 113
                     5: 92
                     6: 139
                     7: 147
                     8: 160
                     9: 426
                    10: 426
                    11: 426
                    12: 126
                    13: 426
                    14: 426
                    15: 426
                    16: 426
                    17: 426
                    18: 426
                    19: 259
               default: 426
          }
      92: aload_0
      93: aload_1
      94: invokevirtual #74                 // Method ping:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
      97: goto          440
     100: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     103: ldc           #75                 // String Ignoring proposal
     105: invokeinterface #70,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     110: goto          440
     113: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     116: ldc           #76                 // String Ignoring commit
     118: invokeinterface #70,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     123: goto          440
     126: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     129: ldc           #77                 // String Received an UPTODATE message after Observer started
     131: invokeinterface #78,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     136: goto          440
     139: aload_0
     140: aload_1
     141: invokevirtual #79                 // Method revalidate:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)V
     144: goto          440
     147: aload_0
     148: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     151: checkcast     #80                 // class org/apache/zookeeper/server/quorum/ObserverZooKeeperServer
     154: invokevirtual #81                 // Method org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.sync:()V
     157: goto          440
     160: invokestatic  #82                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     163: getfield      #83                 // Field org/apache/zookeeper/server/ServerMetrics.LEARNER_COMMIT_RECEIVED_COUNT:Lorg/apache/zookeeper/metrics/Counter;
     166: lconst_1
     167: invokeinterface #84,  3           // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
     172: aload_1
     173: invokevirtual #85                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
     176: invokestatic  #86                 // Method org/apache/zookeeper/server/util/SerializeUtils.deserializeTxn:([B)Lorg/apache/zookeeper/server/TxnLogEntry;
     179: astore_2
     180: aload_2
     181: invokevirtual #87                 // Method org/apache/zookeeper/server/TxnLogEntry.getHeader:()Lorg/apache/zookeeper/txn/TxnHeader;
     184: astore_3
     185: aload_2
     186: invokevirtual #88                 // Method org/apache/zookeeper/server/TxnLogEntry.getTxn:()Lorg/apache/jute/Record;
     189: astore        5
     191: aload_2
     192: invokevirtual #89                 // Method org/apache/zookeeper/server/TxnLogEntry.getDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
     195: astore        4
     197: new           #90                 // class org/apache/zookeeper/server/Request
     200: dup
     201: aload_3
     202: invokevirtual #91                 // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
     205: aload_3
     206: invokevirtual #92                 // Method org/apache/zookeeper/txn/TxnHeader.getCxid:()I
     209: aload_3
     210: invokevirtual #93                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
     213: aload_3
     214: aload         5
     216: lconst_0
     217: invokespecial #94                 // Method org/apache/zookeeper/server/Request."<init>":(JIILorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;J)V
     220: astore        6
     222: aload         6
     224: invokestatic  #82                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     227: getfield      #95                 // Field org/apache/zookeeper/server/ServerMetrics.COMMIT_PROPAGATION_LATENCY:Lorg/apache/zookeeper/metrics/Summary;
     230: invokevirtual #96                 // Method org/apache/zookeeper/server/Request.logLatency:(Lorg/apache/zookeeper/metrics/Summary;)V
     233: aload         6
     235: aload         4
     237: invokevirtual #97                 // Method org/apache/zookeeper/server/Request.setTxnDigest:(Lorg/apache/zookeeper/txn/TxnDigest;)V
     240: aload_0
     241: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     244: checkcast     #80                 // class org/apache/zookeeper/server/quorum/ObserverZooKeeperServer
     247: astore        7
     249: aload         7
     251: aload         6
     253: invokevirtual #98                 // Method org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.commitRequest:(Lorg/apache/zookeeper/server/Request;)V
     256: goto          440
     259: aload_1
     260: invokevirtual #85                 // Method org/apache/zookeeper/server/quorum/QuorumPacket.getData:()[B
     263: invokestatic  #99                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     266: astore        8
     268: aload         8
     270: invokevirtual #100                // Method java/nio/ByteBuffer.getLong:()J
     273: lstore        9
     275: aload         8
     277: invokevirtual #101                // Method java/nio/ByteBuffer.remaining:()I
     280: newarray       byte
     282: astore        11
     284: aload         8
     286: aload         11
     288: invokevirtual #102                // Method java/nio/ByteBuffer.get:([B)Ljava/nio/ByteBuffer;
     291: pop
     292: aload         11
     294: invokestatic  #86                 // Method org/apache/zookeeper/server/util/SerializeUtils.deserializeTxn:([B)Lorg/apache/zookeeper/server/TxnLogEntry;
     297: astore_2
     298: aload_2
     299: invokevirtual #87                 // Method org/apache/zookeeper/server/TxnLogEntry.getHeader:()Lorg/apache/zookeeper/txn/TxnHeader;
     302: astore_3
     303: aload_2
     304: invokevirtual #88                 // Method org/apache/zookeeper/server/TxnLogEntry.getTxn:()Lorg/apache/jute/Record;
     307: astore        5
     309: aload_2
     310: invokevirtual #89                 // Method org/apache/zookeeper/server/TxnLogEntry.getDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
     313: astore        4
     315: aload_0
     316: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     319: new           #103                // class java/lang/String
     322: dup
     323: aload         5
     325: checkcast     #104                // class org/apache/zookeeper/txn/SetDataTxn
     328: invokevirtual #105                // Method org/apache/zookeeper/txn/SetDataTxn.getData:()[B
     331: invokespecial #106                // Method java/lang/String."<init>":([B)V
     334: invokevirtual #107                // Method org/apache/zookeeper/server/quorum/QuorumPeer.configFromString:(Ljava/lang/String;)Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
     337: astore        12
     339: new           #90                 // class org/apache/zookeeper/server/Request
     342: dup
     343: aload_3
     344: invokevirtual #91                 // Method org/apache/zookeeper/txn/TxnHeader.getClientId:()J
     347: aload_3
     348: invokevirtual #92                 // Method org/apache/zookeeper/txn/TxnHeader.getCxid:()I
     351: aload_3
     352: invokevirtual #93                 // Method org/apache/zookeeper/txn/TxnHeader.getType:()I
     355: aload_3
     356: aload         5
     358: lconst_0
     359: invokespecial #94                 // Method org/apache/zookeeper/server/Request."<init>":(JIILorg/apache/zookeeper/txn/TxnHeader;Lorg/apache/jute/Record;J)V
     362: astore        6
     364: aload         6
     366: aload         4
     368: invokevirtual #97                 // Method org/apache/zookeeper/server/Request.setTxnDigest:(Lorg/apache/zookeeper/txn/TxnDigest;)V
     371: aload_0
     372: getfield      #4                  // Field zk:Lorg/apache/zookeeper/server/quorum/LearnerZooKeeperServer;
     375: checkcast     #80                 // class org/apache/zookeeper/server/quorum/ObserverZooKeeperServer
     378: astore        7
     380: aload_0
     381: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
     384: aload         12
     386: lload         9
     388: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     391: aload_1
     392: invokevirtual #108                // Method org/apache/zookeeper/server/quorum/QuorumPacket.getZxid:()J
     395: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     398: iconst_1
     399: invokevirtual #109                // Method org/apache/zookeeper/server/quorum/QuorumPeer.processReconfig:(Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;Ljava/lang/Long;Ljava/lang/Long;Z)Z
     402: istore        13
     404: aload         7
     406: aload         6
     408: invokevirtual #98                 // Method org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.commitRequest:(Lorg/apache/zookeeper/server/Request;)V
     411: iload         13
     413: ifeq          440
     416: new           #30                 // class java/lang/Exception
     419: dup
     420: ldc           #110                // String changes proposed in reconfig
     422: invokespecial #32                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     425: athrow
     426: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
     429: ldc           #111                // String Unknown packet type: {}
     431: aload_1
     432: invokestatic  #112                // Method org/apache/zookeeper/server/quorum/LearnerHandler.packetToString:(Lorg/apache/zookeeper/server/quorum/QuorumPacket;)Ljava/lang/String;
     435: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
     440: return

  public void shutdown();
    Code:
       0: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #113                // String shutdown Observer
       5: invokeinterface #114,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: invokespecial #115                // Method org/apache/zookeeper/server/quorum/Learner.shutdown:()V
      14: return

  static void waitForReconnectDelay();
    Code:
       0: getstatic     #116                // Field reconnectDelayMs:J
       3: invokestatic  #117                // Method waitForReconnectDelayHelper:(J)V
       6: return

  static void waitForObserverElectionDelay();
    Code:
       0: getstatic     #118                // Field observerElectionDelayMs:J
       3: invokestatic  #117                // Method waitForReconnectDelayHelper:(J)V
       6: return

  private static void waitForReconnectDelayHelper(long);
    Code:
       0: lload_0
       1: lconst_0
       2: lcmp
       3: ifle          49
       6: invokestatic  #119                // Method java/util/concurrent/ThreadLocalRandom.current:()Ljava/util/concurrent/ThreadLocalRandom;
       9: lload_0
      10: invokevirtual #120                // Method java/util/concurrent/ThreadLocalRandom.nextLong:(J)J
      13: lstore_2
      14: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      17: ldc           #121                // String Waiting for {} ms before reconnecting with the leader
      19: lload_2
      20: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      23: invokeinterface #122,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      28: lload_2
      29: invokestatic  #123                // Method java/lang/Thread.sleep:(J)V
      32: goto          49
      35: astore        4
      37: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      40: ldc           #125                // String Interrupted while waiting
      42: aload         4
      44: invokeinterface #47,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      49: return
    Exception table:
       from    to  target type
          28    32    35   Class java/lang/InterruptedException

  public long getLearnerMasterId();
    Code:
       0: aload_0
       1: getfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
       4: astore_1
       5: aload_1
       6: ifnonnull     15
       9: ldc2_w        #126                // long -1l
      12: goto          19
      15: aload_1
      16: getfield      #62                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      19: lreturn

  public boolean setLearnerMaster(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #3                  // Field self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
       4: aload_1
       5: invokevirtual #64                 // Method org/apache/zookeeper/server/quorum/QuorumPeer.validateLearnerMaster:(Ljava/lang/String;)Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
       8: astore_2
       9: aload_2
      10: ifnonnull     15
      13: iconst_0
      14: ireturn
      15: aload_2
      16: aload_0
      17: getfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
      20: invokevirtual #128                // Method org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.equals:(Ljava/lang/Object;)Z
      23: ifeq          49
      26: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      29: ldc           #129                // String Already connected to requested learner master sid={} addr={}
      31: aload_2
      32: getfield      #62                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      35: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      38: aload_2
      39: getfield      #23                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
      42: invokeinterface #72,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      47: iconst_1
      48: ireturn
      49: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      52: ldc           #130                // String Requesting disconnect and reconnect to new learner master sid={} addr={}
      54: aload_2
      55: getfield      #62                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
      58: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      61: aload_2
      62: getfield      #23                 // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
      65: invokeinterface #72,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      70: getstatic     #41                 // Field nextLearnerMaster:Ljava/util/concurrent/atomic/AtomicReference;
      73: aload_2
      74: invokevirtual #131                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      77: iconst_1
      78: ireturn

  public org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer getCurrentLearnerMaster();
    Code:
       0: aload_0
       1: getfield      #2                  // Field currentLearnerMaster:Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;
       4: areturn

  public static long getObserverElectionDelayMs();
    Code:
       0: getstatic     #118                // Field observerElectionDelayMs:J
       3: lreturn

  public static void setObserverElectionDelayMs(long);
    Code:
       0: lload_0
       1: putstatic     #118                // Field observerElectionDelayMs:J
       4: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
       7: ldc           #132                // String {} = {}
       9: ldc           #134                // String zookeeper.observer.election.DelayMs
      11: getstatic     #118                // Field observerElectionDelayMs:J
      14: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      17: invokeinterface #72,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      22: return

  static {};
    Code:
       0: ldc           #133                // class org/apache/zookeeper/server/quorum/Observer
       2: invokestatic  #135                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
       8: ldc           #136                // String zookeeper.observer.reconnectDelayMs
      10: lconst_0
      11: invokestatic  #137                // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
      14: invokevirtual #138                // Method java/lang/Long.longValue:()J
      17: putstatic     #116                // Field reconnectDelayMs:J
      20: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      23: ldc           #132                // String {} = {}
      25: ldc           #136                // String zookeeper.observer.reconnectDelayMs
      27: getstatic     #116                // Field reconnectDelayMs:J
      30: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      33: invokeinterface #72,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      38: ldc           #134                // String zookeeper.observer.election.DelayMs
      40: ldc2_w        #139                // long 200l
      43: invokestatic  #137                // Method java/lang/Long.getLong:(Ljava/lang/String;J)Ljava/lang/Long;
      46: invokevirtual #138                // Method java/lang/Long.longValue:()J
      49: putstatic     #118                // Field observerElectionDelayMs:J
      52: getstatic     #45                 // Field LOG:Lorg/slf4j/Logger;
      55: ldc           #132                // String {} = {}
      57: ldc           #134                // String zookeeper.observer.election.DelayMs
      59: getstatic     #118                // Field observerElectionDelayMs:J
      62: invokestatic  #54                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      65: invokeinterface #72,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      70: new           #141                // class java/util/concurrent/atomic/AtomicReference
      73: dup
      74: invokespecial #142                // Method java/util/concurrent/atomic/AtomicReference."<init>":()V
      77: putstatic     #41                 // Field nextLearnerMaster:Ljava/util/concurrent/atomic/AtomicReference;
      80: return
}
