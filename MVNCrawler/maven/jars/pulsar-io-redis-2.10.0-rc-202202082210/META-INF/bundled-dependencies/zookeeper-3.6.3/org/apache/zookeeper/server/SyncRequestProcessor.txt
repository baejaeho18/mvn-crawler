Compiled from "SyncRequestProcessor.java"
public class org.apache.zookeeper.server.SyncRequestProcessor extends org.apache.zookeeper.server.ZooKeeperCriticalThread implements org.apache.zookeeper.server.RequestProcessor {
  private static final org.slf4j.Logger LOG;

  private static final org.apache.zookeeper.server.Request REQUEST_OF_DEATH;

  private static int snapCount;

  private static long snapSizeInBytes;

  private int randRoll;

  private long randSize;

  private final java.util.concurrent.BlockingQueue<org.apache.zookeeper.server.Request> queuedRequests;

  private final java.util.concurrent.Semaphore snapThreadMutex;

  private final org.apache.zookeeper.server.ZooKeeperServer zks;

  private final org.apache.zookeeper.server.RequestProcessor nextProcessor;

  private final java.util.Queue<org.apache.zookeeper.server.Request> toFlush;

  private long lastFlushTime;

  public org.apache.zookeeper.server.SyncRequestProcessor(org.apache.zookeeper.server.ZooKeeperServer, org.apache.zookeeper.server.RequestProcessor);
    Code:
       0: aload_0
       1: new           #4                  // class java/lang/StringBuilder
       4: dup
       5: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #6                  // String SyncThread:
      10: invokevirtual #7                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: invokevirtual #8                  // Method org/apache/zookeeper/server/ZooKeeperServer.getServerId:()J
      17: invokevirtual #9                  // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      20: invokevirtual #10                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: aload_1
      24: invokevirtual #11                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZooKeeperServerListener:()Lorg/apache/zookeeper/server/ZooKeeperServerListener;
      27: invokespecial #12                 // Method org/apache/zookeeper/server/ZooKeeperCriticalThread."<init>":(Ljava/lang/String;Lorg/apache/zookeeper/server/ZooKeeperServerListener;)V
      30: aload_0
      31: new           #13                 // class java/util/concurrent/LinkedBlockingQueue
      34: dup
      35: invokespecial #14                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":()V
      38: putfield      #15                 // Field queuedRequests:Ljava/util/concurrent/BlockingQueue;
      41: aload_0
      42: new           #16                 // class java/util/concurrent/Semaphore
      45: dup
      46: iconst_1
      47: invokespecial #17                 // Method java/util/concurrent/Semaphore."<init>":(I)V
      50: putfield      #1                  // Field snapThreadMutex:Ljava/util/concurrent/Semaphore;
      53: aload_0
      54: aload_1
      55: putfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      58: aload_0
      59: aload_2
      60: putfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      63: aload_0
      64: new           #19                 // class java/util/ArrayDeque
      67: dup
      68: aload_1
      69: invokevirtual #20                 // Method org/apache/zookeeper/server/ZooKeeperServer.getMaxBatchSize:()I
      72: invokespecial #21                 // Method java/util/ArrayDeque."<init>":(I)V
      75: putfield      #22                 // Field toFlush:Ljava/util/Queue;
      78: return

  public static void setSnapCount(int);
    Code:
       0: iload_0
       1: putstatic     #23                 // Field snapCount:I
       4: return

  public static int getSnapCount();
    Code:
       0: getstatic     #23                 // Field snapCount:I
       3: ireturn

  private long getRemainingDelay();
    Code:
       0: aload_0
       1: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: invokevirtual #24                 // Method org/apache/zookeeper/server/ZooKeeperServer.getFlushDelay:()J
       7: lstore_1
       8: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      11: aload_0
      12: getfield      #26                 // Field lastFlushTime:J
      15: lsub
      16: lstore_3
      17: lload_3
      18: lload_1
      19: lcmp
      20: ifge          27
      23: lload_1
      24: lload_3
      25: lsub
      26: lreturn
      27: lconst_0
      28: lreturn

  private boolean shouldFlush();
    Code:
       0: aload_0
       1: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: invokevirtual #24                 // Method org/apache/zookeeper/server/ZooKeeperServer.getFlushDelay:()J
       7: lstore_1
       8: aload_0
       9: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      12: invokevirtual #20                 // Method org/apache/zookeeper/server/ZooKeeperServer.getMaxBatchSize:()I
      15: i2l
      16: lstore_3
      17: lload_1
      18: lconst_0
      19: lcmp
      20: ifle          34
      23: aload_0
      24: invokespecial #27                 // Method getRemainingDelay:()J
      27: lconst_0
      28: lcmp
      29: ifne          34
      32: iconst_1
      33: ireturn
      34: lload_3
      35: lconst_0
      36: lcmp
      37: ifle          59
      40: aload_0
      41: getfield      #22                 // Field toFlush:Ljava/util/Queue;
      44: invokeinterface #28,  1           // InterfaceMethod java/util/Queue.size:()I
      49: i2l
      50: lload_3
      51: lcmp
      52: iflt          59
      55: iconst_1
      56: goto          60
      59: iconst_0
      60: ireturn

  public static void setSnapSizeInBytes(long);
    Code:
       0: lload_0
       1: putstatic     #29                 // Field snapSizeInBytes:J
       4: return

  private boolean shouldSnapshot();
    Code:
       0: aload_0
       1: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: invokevirtual #30                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
       7: invokevirtual #31                 // Method org/apache/zookeeper/server/ZKDatabase.getTxnCount:()I
      10: istore_1
      11: aload_0
      12: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      15: invokevirtual #30                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      18: invokevirtual #32                 // Method org/apache/zookeeper/server/ZKDatabase.getTxnSize:()J
      21: lstore_2
      22: iload_1
      23: getstatic     #23                 // Field snapCount:I
      26: iconst_2
      27: idiv
      28: aload_0
      29: getfield      #33                 // Field randRoll:I
      32: iadd
      33: if_icmpgt     61
      36: getstatic     #29                 // Field snapSizeInBytes:J
      39: lconst_0
      40: lcmp
      41: ifle          65
      44: lload_2
      45: getstatic     #29                 // Field snapSizeInBytes:J
      48: ldc2_w        #34                 // long 2l
      51: ldiv
      52: aload_0
      53: getfield      #36                 // Field randSize:J
      56: ladd
      57: lcmp
      58: ifle          65
      61: iconst_1
      62: goto          66
      65: iconst_0
      66: ireturn

  private void resetSnapshotStats();
    Code:
       0: aload_0
       1: invokestatic  #37                 // Method java/util/concurrent/ThreadLocalRandom.current:()Ljava/util/concurrent/ThreadLocalRandom;
       4: getstatic     #23                 // Field snapCount:I
       7: iconst_2
       8: idiv
       9: invokevirtual #38                 // Method java/util/concurrent/ThreadLocalRandom.nextInt:(I)I
      12: putfield      #33                 // Field randRoll:I
      15: aload_0
      16: invokestatic  #37                 // Method java/util/concurrent/ThreadLocalRandom.current:()Ljava/util/concurrent/ThreadLocalRandom;
      19: invokevirtual #39                 // Method java/util/concurrent/ThreadLocalRandom.nextLong:()J
      22: getstatic     #29                 // Field snapSizeInBytes:J
      25: ldc2_w        #34                 // long 2l
      28: ldiv
      29: lrem
      30: invokestatic  #40                 // Method java/lang/Math.abs:(J)J
      33: putfield      #36                 // Field randSize:J
      36: return

  public void run();
    Code:
       0: aload_0
       1: invokespecial #41                 // Method resetSnapshotStats:()V
       4: aload_0
       5: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
       8: putfield      #26                 // Field lastFlushTime:J
      11: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      14: getfield      #43                 // Field org/apache/zookeeper/server/ServerMetrics.SYNC_PROCESSOR_QUEUE_SIZE:Lorg/apache/zookeeper/metrics/Summary;
      17: aload_0
      18: getfield      #15                 // Field queuedRequests:Ljava/util/concurrent/BlockingQueue;
      21: invokeinterface #44,  1           // InterfaceMethod java/util/concurrent/BlockingQueue.size:()I
      26: i2l
      27: invokeinterface #45,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      32: aload_0
      33: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      36: invokevirtual #46                 // Method org/apache/zookeeper/server/ZooKeeperServer.getMaxWriteQueuePollTime:()J
      39: aload_0
      40: invokespecial #27                 // Method getRemainingDelay:()J
      43: invokestatic  #47                 // Method java/lang/Math.min:(JJ)J
      46: lstore_1
      47: aload_0
      48: getfield      #15                 // Field queuedRequests:Ljava/util/concurrent/BlockingQueue;
      51: lload_1
      52: getstatic     #48                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      55: invokeinterface #49,  4           // InterfaceMethod java/util/concurrent/BlockingQueue.poll:(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
      60: checkcast     #50                 // class org/apache/zookeeper/server/Request
      63: astore_3
      64: aload_3
      65: ifnonnull     85
      68: aload_0
      69: invokespecial #51                 // Method flush:()V
      72: aload_0
      73: getfield      #15                 // Field queuedRequests:Ljava/util/concurrent/BlockingQueue;
      76: invokeinterface #52,  1           // InterfaceMethod java/util/concurrent/BlockingQueue.take:()Ljava/lang/Object;
      81: checkcast     #50                 // class org/apache/zookeeper/server/Request
      84: astore_3
      85: aload_3
      86: getstatic     #53                 // Field REQUEST_OF_DEATH:Lorg/apache/zookeeper/server/Request;
      89: if_acmpne     95
      92: goto          288
      95: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      98: lstore        4
     100: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     103: getfield      #54                 // Field org/apache/zookeeper/server/ServerMetrics.SYNC_PROCESSOR_QUEUE_TIME:Lorg/apache/zookeeper/metrics/Summary;
     106: lload         4
     108: aload_3
     109: getfield      #55                 // Field org/apache/zookeeper/server/Request.syncQueueStartTime:J
     112: lsub
     113: invokeinterface #45,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
     118: aload_0
     119: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     122: invokevirtual #30                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     125: aload_3
     126: invokevirtual #56                 // Method org/apache/zookeeper/server/ZKDatabase.append:(Lorg/apache/zookeeper/server/Request;)Z
     129: ifeq          192
     132: aload_0
     133: invokespecial #57                 // Method shouldSnapshot:()Z
     136: ifeq          246
     139: aload_0
     140: invokespecial #41                 // Method resetSnapshotStats:()V
     143: aload_0
     144: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     147: invokevirtual #30                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     150: invokevirtual #58                 // Method org/apache/zookeeper/server/ZKDatabase.rollLog:()V
     153: aload_0
     154: getfield      #1                  // Field snapThreadMutex:Ljava/util/concurrent/Semaphore;
     157: invokevirtual #59                 // Method java/util/concurrent/Semaphore.tryAcquire:()Z
     160: ifne          176
     163: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     166: ldc           #60                 // String Too busy to snap, skipping
     168: invokeinterface #61,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     173: goto          246
     176: new           #62                 // class org/apache/zookeeper/server/SyncRequestProcessor$1
     179: dup
     180: aload_0
     181: ldc           #63                 // String Snapshot Thread
     183: invokespecial #64                 // Method org/apache/zookeeper/server/SyncRequestProcessor$1."<init>":(Lorg/apache/zookeeper/server/SyncRequestProcessor;Ljava/lang/String;)V
     186: invokevirtual #65                 // Method org/apache/zookeeper/server/SyncRequestProcessor$1.start:()V
     189: goto          246
     192: aload_0
     193: getfield      #22                 // Field toFlush:Ljava/util/Queue;
     196: invokeinterface #66,  1           // InterfaceMethod java/util/Queue.isEmpty:()Z
     201: ifeq          246
     204: aload_0
     205: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     208: ifnull        11
     211: aload_0
     212: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     215: aload_3
     216: invokeinterface #67,  2           // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     221: aload_0
     222: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     225: instanceof    #68                 // class java/io/Flushable
     228: ifeq          11
     231: aload_0
     232: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     235: checkcast     #68                 // class java/io/Flushable
     238: invokeinterface #69,  1           // InterfaceMethod java/io/Flushable.flush:()V
     243: goto          11
     246: aload_0
     247: getfield      #22                 // Field toFlush:Ljava/util/Queue;
     250: aload_3
     251: invokeinterface #70,  2           // InterfaceMethod java/util/Queue.add:(Ljava/lang/Object;)Z
     256: pop
     257: aload_0
     258: invokespecial #71                 // Method shouldFlush:()Z
     261: ifeq          268
     264: aload_0
     265: invokespecial #51                 // Method flush:()V
     268: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     271: getfield      #72                 // Field org/apache/zookeeper/server/ServerMetrics.SYNC_PROCESS_TIME:Lorg/apache/zookeeper/metrics/Summary;
     274: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
     277: lload         4
     279: lsub
     280: invokeinterface #45,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
     285: goto          11
     288: goto          301
     291: astore_1
     292: aload_0
     293: aload_0
     294: invokevirtual #74                 // Method getName:()Ljava/lang/String;
     297: aload_1
     298: invokevirtual #75                 // Method handleException:(Ljava/lang/String;Ljava/lang/Throwable;)V
     301: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
     304: ldc           #76                 // String SyncRequestProcessor exited!
     306: invokeinterface #77,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     311: return
    Exception table:
       from    to  target type
           0   288   291   Class java/lang/Throwable

  private void flush() throws java.io.IOException, org.apache.zookeeper.server.RequestProcessor$RequestProcessorException;
    Code:
       0: aload_0
       1: getfield      #22                 // Field toFlush:Ljava/util/Queue;
       4: invokeinterface #66,  1           // InterfaceMethod java/util/Queue.isEmpty:()Z
       9: ifeq          13
      12: return
      13: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      16: getfield      #78                 // Field org/apache/zookeeper/server/ServerMetrics.BATCH_SIZE:Lorg/apache/zookeeper/metrics/Summary;
      19: aload_0
      20: getfield      #22                 // Field toFlush:Ljava/util/Queue;
      23: invokeinterface #28,  1           // InterfaceMethod java/util/Queue.size:()I
      28: i2l
      29: invokeinterface #45,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      34: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      37: lstore_1
      38: aload_0
      39: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      42: invokevirtual #30                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      45: invokevirtual #79                 // Method org/apache/zookeeper/server/ZKDatabase.commit:()V
      48: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      51: getfield      #80                 // Field org/apache/zookeeper/server/ServerMetrics.SYNC_PROCESSOR_FLUSH_TIME:Lorg/apache/zookeeper/metrics/Summary;
      54: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      57: lload_1
      58: lsub
      59: invokeinterface #45,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      64: aload_0
      65: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      68: ifnonnull     83
      71: aload_0
      72: getfield      #22                 // Field toFlush:Ljava/util/Queue;
      75: invokeinterface #81,  1           // InterfaceMethod java/util/Queue.clear:()V
      80: goto          173
      83: aload_0
      84: getfield      #22                 // Field toFlush:Ljava/util/Queue;
      87: invokeinterface #66,  1           // InterfaceMethod java/util/Queue.isEmpty:()Z
      92: ifne          144
      95: aload_0
      96: getfield      #22                 // Field toFlush:Ljava/util/Queue;
      99: invokeinterface #82,  1           // InterfaceMethod java/util/Queue.remove:()Ljava/lang/Object;
     104: checkcast     #50                 // class org/apache/zookeeper/server/Request
     107: astore_3
     108: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
     111: aload_3
     112: getfield      #55                 // Field org/apache/zookeeper/server/Request.syncQueueStartTime:J
     115: lsub
     116: lstore        4
     118: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
     121: getfield      #83                 // Field org/apache/zookeeper/server/ServerMetrics.SYNC_PROCESSOR_QUEUE_AND_FLUSH_TIME:Lorg/apache/zookeeper/metrics/Summary;
     124: lload         4
     126: invokeinterface #45,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
     131: aload_0
     132: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     135: aload_3
     136: invokeinterface #67,  2           // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
     141: goto          83
     144: aload_0
     145: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     148: instanceof    #68                 // class java/io/Flushable
     151: ifeq          166
     154: aload_0
     155: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
     158: checkcast     #68                 // class java/io/Flushable
     161: invokeinterface #69,  1           // InterfaceMethod java/io/Flushable.flush:()V
     166: aload_0
     167: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
     170: putfield      #26                 // Field lastFlushTime:J
     173: return

  public void shutdown();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #84                 // String Shutting down
       5: invokeinterface #77,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      10: aload_0
      11: getfield      #15                 // Field queuedRequests:Ljava/util/concurrent/BlockingQueue;
      14: getstatic     #53                 // Field REQUEST_OF_DEATH:Lorg/apache/zookeeper/server/Request;
      17: invokeinterface #85,  2           // InterfaceMethod java/util/concurrent/BlockingQueue.add:(Ljava/lang/Object;)Z
      22: pop
      23: aload_0
      24: invokevirtual #86                 // Method join:()V
      27: aload_0
      28: invokespecial #51                 // Method flush:()V
      31: goto          80
      34: astore_1
      35: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      38: ldc           #88                 // String Interrupted while wating for {} to finish
      40: aload_0
      41: invokeinterface #89,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      46: invokestatic  #90                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      49: invokevirtual #91                 // Method java/lang/Thread.interrupt:()V
      52: goto          80
      55: astore_1
      56: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      59: ldc           #93                 // String Got IO exception during shutdown
      61: invokeinterface #61,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      66: goto          80
      69: astore_1
      70: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
      73: ldc           #95                 // String Got request processor exception during shutdown
      75: invokeinterface #61,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      80: aload_0
      81: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      84: ifnull        96
      87: aload_0
      88: getfield      #18                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      91: invokeinterface #96,  1           // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.shutdown:()V
      96: return
    Exception table:
       from    to  target type
          23    31    34   Class java/lang/InterruptedException
          23    31    55   Class java/io/IOException
          23    31    69   Class org/apache/zookeeper/server/RequestProcessor$RequestProcessorException

  public void processRequest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_1
       1: ldc           #97                 // String Request cannot be null
       3: invokestatic  #98                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
       6: pop
       7: aload_1
       8: invokestatic  #25                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      11: putfield      #55                 // Field org/apache/zookeeper/server/Request.syncQueueStartTime:J
      14: aload_0
      15: getfield      #15                 // Field queuedRequests:Ljava/util/concurrent/BlockingQueue;
      18: aload_1
      19: invokeinterface #85,  2           // InterfaceMethod java/util/concurrent/BlockingQueue.add:(Ljava/lang/Object;)Z
      24: pop
      25: invokestatic  #42                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      28: getfield      #99                 // Field org/apache/zookeeper/server/ServerMetrics.SYNC_PROCESSOR_QUEUED:Lorg/apache/zookeeper/metrics/Counter;
      31: lconst_1
      32: invokeinterface #100,  3          // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
      37: return

  static org.apache.zookeeper.server.ZooKeeperServer access$000(org.apache.zookeeper.server.SyncRequestProcessor);
    Code:
       0: aload_0
       1: getfield      #3                  // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: areturn

  static org.slf4j.Logger access$100();
    Code:
       0: getstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       3: areturn

  static java.util.concurrent.Semaphore access$200(org.apache.zookeeper.server.SyncRequestProcessor);
    Code:
       0: aload_0
       1: getfield      #1                  // Field snapThreadMutex:Ljava/util/concurrent/Semaphore;
       4: areturn

  static {};
    Code:
       0: ldc           #101                // class org/apache/zookeeper/server/SyncRequestProcessor
       2: invokestatic  #102                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #2                  // Field LOG:Lorg/slf4j/Logger;
       8: getstatic     #103                // Field org/apache/zookeeper/server/Request.requestOfDeath:Lorg/apache/zookeeper/server/Request;
      11: putstatic     #53                 // Field REQUEST_OF_DEATH:Lorg/apache/zookeeper/server/Request;
      14: invokestatic  #104                // Method org/apache/zookeeper/server/ZooKeeperServer.getSnapCount:()I
      17: putstatic     #23                 // Field snapCount:I
      20: invokestatic  #105                // Method org/apache/zookeeper/server/ZooKeeperServer.getSnapSizeInBytes:()J
      23: putstatic     #29                 // Field snapSizeInBytes:J
      26: return
}
