Compiled from "SnapshotFormatter.java"
public class org.apache.zookeeper.server.SnapshotFormatter {
  private static java.lang.Integer INODE_IDX;

  public org.apache.zookeeper.server.SnapshotFormatter();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: return

  public static void main(java.lang.String[]) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_1
       2: iconst_0
       3: istore_2
       4: iconst_0
       5: istore_3
       6: iconst_0
       7: istore        4
       9: iload         4
      11: aload_0
      12: arraylength
      13: if_icmpge     67
      16: aload_0
      17: iload         4
      19: aaload
      20: ldc           #3                  // String -d
      22: invokevirtual #4                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      25: ifeq          33
      28: iconst_1
      29: istore_2
      30: goto          61
      33: aload_0
      34: iload         4
      36: aaload
      37: ldc           #5                  // String -json
      39: invokevirtual #4                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      42: ifeq          50
      45: iconst_1
      46: istore_3
      47: goto          61
      50: aload_0
      51: iload         4
      53: aaload
      54: astore_1
      55: iinc          4, 1
      58: goto          67
      61: iinc          4, 1
      64: goto          9
      67: aload_0
      68: arraylength
      69: iload         4
      71: if_icmpne     78
      74: aload_1
      75: ifnonnull     112
      78: getstatic     #6                  // Field java/lang/System.err:Ljava/io/PrintStream;
      81: ldc           #7                  // String USAGE: SnapshotFormatter [-d|-json] snapshot_file
      83: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      86: getstatic     #6                  // Field java/lang/System.err:Ljava/io/PrintStream;
      89: ldc           #9                  // String        -d dump the data for each znode
      91: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      94: getstatic     #6                  // Field java/lang/System.err:Ljava/io/PrintStream;
      97: ldc           #10                 // String        -json dump znode info in json format
      99: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     102: getstatic     #11                 // Field org/apache/zookeeper/server/ExitCode.INVALID_INVOCATION:Lorg/apache/zookeeper/server/ExitCode;
     105: invokevirtual #12                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     108: invokestatic  #13                 // Method org/apache/zookeeper/util/ServiceUtils.requestSystemExit:(I)V
     111: return
     112: aload_1
     113: invokestatic  #14                 // Method org/apache/zookeeper/ZKUtil.validateFileInput:(Ljava/lang/String;)Ljava/lang/String;
     116: astore        5
     118: aconst_null
     119: aload         5
     121: if_acmpeq     141
     124: getstatic     #6                  // Field java/lang/System.err:Ljava/io/PrintStream;
     127: aload         5
     129: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     132: getstatic     #11                 // Field org/apache/zookeeper/server/ExitCode.INVALID_INVOCATION:Lorg/apache/zookeeper/server/ExitCode;
     135: invokevirtual #12                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     138: invokestatic  #13                 // Method org/apache/zookeeper/util/ServiceUtils.requestSystemExit:(I)V
     141: iload_2
     142: ifeq          166
     145: iload_3
     146: ifeq          166
     149: getstatic     #6                  // Field java/lang/System.err:Ljava/io/PrintStream;
     152: ldc           #15                 // String Cannot specify both data dump (-d) and json mode (-json) in same call
     154: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     157: getstatic     #11                 // Field org/apache/zookeeper/server/ExitCode.INVALID_INVOCATION:Lorg/apache/zookeeper/server/ExitCode;
     160: invokevirtual #12                 // Method org/apache/zookeeper/server/ExitCode.getValue:()I
     163: invokestatic  #13                 // Method org/apache/zookeeper/util/ServiceUtils.requestSystemExit:(I)V
     166: new           #16                 // class org/apache/zookeeper/server/SnapshotFormatter
     169: dup
     170: invokespecial #17                 // Method "<init>":()V
     173: aload_1
     174: iload_2
     175: iload_3
     176: invokevirtual #18                 // Method run:(Ljava/lang/String;ZZ)V
     179: return

  public void run(java.lang.String, boolean, boolean) throws java.io.IOException;
    Code:
       0: new           #19                 // class java/io/File
       3: dup
       4: aload_1
       5: invokespecial #20                 // Method java/io/File."<init>":(Ljava/lang/String;)V
       8: astore        4
      10: aload         4
      12: invokestatic  #21                 // Method org/apache/zookeeper/server/persistence/SnapStream.getInputStream:(Ljava/io/File;)Ljava/util/zip/CheckedInputStream;
      15: astore        5
      17: aconst_null
      18: astore        6
      20: aload         5
      22: invokestatic  #22                 // Method org/apache/jute/BinaryInputArchive.getArchive:(Ljava/io/InputStream;)Lorg/apache/jute/BinaryInputArchive;
      25: astore        7
      27: new           #1                  // class org/apache/zookeeper/server/persistence/FileSnap
      30: dup
      31: aconst_null
      32: invokespecial #23                 // Method org/apache/zookeeper/server/persistence/FileSnap."<init>":(Ljava/io/File;)V
      35: astore        8
      37: new           #24                 // class org/apache/zookeeper/server/DataTree
      40: dup
      41: invokespecial #25                 // Method org/apache/zookeeper/server/DataTree."<init>":()V
      44: astore        9
      46: new           #26                 // class java/util/HashMap
      49: dup
      50: invokespecial #27                 // Method java/util/HashMap."<init>":()V
      53: astore        10
      55: aload         8
      57: aload         9
      59: aload         10
      61: aload         7
      63: invokevirtual #28                 // Method org/apache/zookeeper/server/persistence/FileSnap.deserialize:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;Lorg/apache/jute/InputArchive;)V
      66: aload         4
      68: invokevirtual #29                 // Method java/io/File.getName:()Ljava/lang/String;
      71: ldc           #30                 // String snapshot
      73: invokestatic  #31                 // Method org/apache/zookeeper/server/persistence/Util.getZxidFromName:(Ljava/lang/String;Ljava/lang/String;)J
      76: lstore        11
      78: iload_3
      79: ifeq          91
      82: aload_0
      83: aload         9
      85: invokespecial #32                 // Method printSnapshotJson:(Lorg/apache/zookeeper/server/DataTree;)V
      88: goto          102
      91: aload_0
      92: aload         9
      94: aload         10
      96: iload_2
      97: lload         11
      99: invokespecial #33                 // Method printDetails:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;ZJ)V
     102: aload         5
     104: ifnull        189
     107: aload         6
     109: ifnull        132
     112: aload         5
     114: invokevirtual #34                 // Method java/io/InputStream.close:()V
     117: goto          189
     120: astore        7
     122: aload         6
     124: aload         7
     126: invokevirtual #36                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     129: goto          189
     132: aload         5
     134: invokevirtual #34                 // Method java/io/InputStream.close:()V
     137: goto          189
     140: astore        7
     142: aload         7
     144: astore        6
     146: aload         7
     148: athrow
     149: astore        13
     151: aload         5
     153: ifnull        186
     156: aload         6
     158: ifnull        181
     161: aload         5
     163: invokevirtual #34                 // Method java/io/InputStream.close:()V
     166: goto          186
     169: astore        14
     171: aload         6
     173: aload         14
     175: invokevirtual #36                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     178: goto          186
     181: aload         5
     183: invokevirtual #34                 // Method java/io/InputStream.close:()V
     186: aload         13
     188: athrow
     189: return
    Exception table:
       from    to  target type
         112   117   120   Class java/lang/Throwable
          20   102   140   Class java/lang/Throwable
          20   102   149   any
         161   166   169   Class java/lang/Throwable
         140   151   149   any

  private void printDetails(org.apache.zookeeper.server.DataTree, java.util.Map<java.lang.Long, java.lang.Integer>, boolean, long);
    Code:
       0: aload_0
       1: aload_1
       2: iload_3
       3: invokespecial #37                 // Method printZnodeDetails:(Lorg/apache/zookeeper/server/DataTree;Z)J
       6: lstore        6
       8: aload_0
       9: aload_1
      10: aload_2
      11: invokespecial #38                 // Method printSessionDetails:(Lorg/apache/zookeeper/server/DataTree;Ljava/util/Map;)V
      14: aload_1
      15: invokevirtual #39                 // Method org/apache/zookeeper/server/DataTree.getDigestFromLoadedSnapshot:()Lorg/apache/zookeeper/server/DataTree$ZxidDigest;
      18: astore        8
      20: aload         8
      22: ifnull        62
      25: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      28: ldc           #41                 // String Target zxid digest is: %s, %s
      30: iconst_2
      31: anewarray     #42                 // class java/lang/Object
      34: dup
      35: iconst_0
      36: aload         8
      38: getfield      #43                 // Field org/apache/zookeeper/server/DataTree$ZxidDigest.zxid:J
      41: invokestatic  #44                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      44: aastore
      45: dup
      46: iconst_1
      47: aload         8
      49: getfield      #45                 // Field org/apache/zookeeper/server/DataTree$ZxidDigest.digest:J
      52: invokestatic  #46                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      55: aastore
      56: invokestatic  #47                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      59: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      62: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      65: ldc           #48                 // String ----%nLast zxid: 0x%s
      67: iconst_1
      68: anewarray     #42                 // class java/lang/Object
      71: dup
      72: iconst_0
      73: lload         4
      75: lload         6
      77: invokestatic  #49                 // Method java/lang/Math.max:(JJ)J
      80: invokestatic  #44                 // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      83: aastore
      84: invokestatic  #47                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      87: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      90: return

  private long printZnodeDetails(org.apache.zookeeper.server.DataTree, boolean);
    Code:
       0: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #50                 // String ZNode Details (count=%d):
       5: iconst_1
       6: anewarray     #42                 // class java/lang/Object
       9: dup
      10: iconst_0
      11: aload_1
      12: invokevirtual #51                 // Method org/apache/zookeeper/server/DataTree.getNodeCount:()I
      15: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: aastore
      19: invokestatic  #47                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      22: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      25: aload_0
      26: aload_1
      27: ldc           #53                 // String /
      29: iload_2
      30: invokespecial #54                 // Method printZnode:(Lorg/apache/zookeeper/server/DataTree;Ljava/lang/String;Z)J
      33: lstore_3
      34: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      37: ldc           #55                 // String ----
      39: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      42: lload_3
      43: lreturn

  private long printZnode(org.apache.zookeeper.server.DataTree, java.lang.String, boolean);
    Code:
       0: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #55                 // String ----
       5: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
       8: aload_1
       9: aload_2
      10: invokevirtual #56                 // Method org/apache/zookeeper/server/DataTree.getNode:(Ljava/lang/String;)Lorg/apache/zookeeper/server/DataNode;
      13: astore        4
      15: aload         4
      17: dup
      18: astore        8
      20: monitorenter
      21: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      24: aload_2
      25: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      28: aload_0
      29: aload         4
      31: getfield      #57                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
      34: invokespecial #58                 // Method printStat:(Lorg/apache/zookeeper/data/StatPersisted;)V
      37: aload         4
      39: getfield      #57                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
      42: invokevirtual #59                 // Method org/apache/zookeeper/data/StatPersisted.getMzxid:()J
      45: aload         4
      47: getfield      #57                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
      50: invokevirtual #60                 // Method org/apache/zookeeper/data/StatPersisted.getPzxid:()J
      53: invokestatic  #49                 // Method java/lang/Math.max:(JJ)J
      56: lstore        6
      58: iload_3
      59: ifeq          113
      62: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      65: new           #61                 // class java/lang/StringBuilder
      68: dup
      69: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
      72: ldc           #63                 // String   data =
      74: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload         4
      79: getfield      #65                 // Field org/apache/zookeeper/server/DataNode.data:[B
      82: ifnonnull     90
      85: ldc           #66                 // String
      87: goto          101
      90: invokestatic  #67                 // Method java/util/Base64.getEncoder:()Ljava/util/Base64$Encoder;
      93: aload         4
      95: getfield      #65                 // Field org/apache/zookeeper/server/DataNode.data:[B
      98: invokevirtual #68                 // Method java/util/Base64$Encoder.encodeToString:([B)Ljava/lang/String;
     101: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     107: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     110: goto          155
     113: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     116: new           #61                 // class java/lang/StringBuilder
     119: dup
     120: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     123: ldc           #70                 // String   dataLength =
     125: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: aload         4
     130: getfield      #65                 // Field org/apache/zookeeper/server/DataNode.data:[B
     133: ifnonnull     140
     136: iconst_0
     137: goto          146
     140: aload         4
     142: getfield      #65                 // Field org/apache/zookeeper/server/DataNode.data:[B
     145: arraylength
     146: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     149: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     152: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     155: aload         4
     157: invokevirtual #72                 // Method org/apache/zookeeper/server/DataNode.getChildren:()Ljava/util/Set;
     160: astore        5
     162: aload         8
     164: monitorexit
     165: goto          176
     168: astore        9
     170: aload         8
     172: monitorexit
     173: aload         9
     175: athrow
     176: aload         5
     178: ifnull        270
     181: aload         5
     183: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     188: astore        8
     190: aload         8
     192: invokeinterface #74,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     197: ifeq          270
     200: aload         8
     202: invokeinterface #75,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     207: checkcast     #76                 // class java/lang/String
     210: astore        9
     212: aload_0
     213: aload_1
     214: new           #61                 // class java/lang/StringBuilder
     217: dup
     218: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     221: aload_2
     222: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     225: aload_2
     226: ldc           #53                 // String /
     228: invokevirtual #4                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     231: ifeq          239
     234: ldc           #66                 // String
     236: goto          241
     239: ldc           #53                 // String /
     241: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     244: aload         9
     246: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     249: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     252: iload_3
     253: invokespecial #54                 // Method printZnode:(Lorg/apache/zookeeper/server/DataTree;Ljava/lang/String;Z)J
     256: lstore        10
     258: lload         6
     260: lload         10
     262: invokestatic  #49                 // Method java/lang/Math.max:(JJ)J
     265: lstore        6
     267: goto          190
     270: lload         6
     272: lreturn
    Exception table:
       from    to  target type
          21   165   168   any
         168   173   168   any

  private void printSessionDetails(org.apache.zookeeper.server.DataTree, java.util.Map<java.lang.Long, java.lang.Integer>);
    Code:
       0: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #77                 // String Session Details (sid, timeout, ephemeralCount):
       5: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
       8: aload_2
       9: invokeinterface #78,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      14: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      19: astore_3
      20: aload_3
      21: invokeinterface #74,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          108
      29: aload_3
      30: invokeinterface #75,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      35: checkcast     #79                 // class java/util/Map$Entry
      38: astore        4
      40: aload         4
      42: invokeinterface #80,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      47: checkcast     #81                 // class java/lang/Long
      50: invokevirtual #82                 // Method java/lang/Long.longValue:()J
      53: lstore        5
      55: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      58: ldc           #83                 // String %#016x, %d, %d
      60: iconst_3
      61: anewarray     #42                 // class java/lang/Object
      64: dup
      65: iconst_0
      66: lload         5
      68: invokestatic  #46                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      71: aastore
      72: dup
      73: iconst_1
      74: aload         4
      76: invokeinterface #84,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      81: aastore
      82: dup
      83: iconst_2
      84: aload_1
      85: lload         5
      87: invokevirtual #85                 // Method org/apache/zookeeper/server/DataTree.getEphemerals:(J)Ljava/util/Set;
      90: invokeinterface #86,  1           // InterfaceMethod java/util/Set.size:()I
      95: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      98: aastore
      99: invokestatic  #47                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     102: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     105: goto          20
     108: return

  private void printStat(org.apache.zookeeper.data.StatPersisted);
    Code:
       0: aload_0
       1: ldc           #87                 // String cZxid
       3: aload_1
       4: invokevirtual #88                 // Method org/apache/zookeeper/data/StatPersisted.getCzxid:()J
       7: invokespecial #89                 // Method printHex:(Ljava/lang/String;J)V
      10: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      13: new           #61                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #90                 // String   ctime =
      22: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: new           #91                 // class java/util/Date
      28: dup
      29: aload_1
      30: invokevirtual #92                 // Method org/apache/zookeeper/data/StatPersisted.getCtime:()J
      33: invokespecial #93                 // Method java/util/Date."<init>":(J)V
      36: invokevirtual #94                 // Method java/util/Date.toString:()Ljava/lang/String;
      39: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      48: aload_0
      49: ldc           #95                 // String mZxid
      51: aload_1
      52: invokevirtual #59                 // Method org/apache/zookeeper/data/StatPersisted.getMzxid:()J
      55: invokespecial #89                 // Method printHex:(Ljava/lang/String;J)V
      58: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      61: new           #61                 // class java/lang/StringBuilder
      64: dup
      65: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
      68: ldc           #96                 // String   mtime =
      70: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: new           #91                 // class java/util/Date
      76: dup
      77: aload_1
      78: invokevirtual #97                 // Method org/apache/zookeeper/data/StatPersisted.getMtime:()J
      81: invokespecial #93                 // Method java/util/Date."<init>":(J)V
      84: invokevirtual #94                 // Method java/util/Date.toString:()Ljava/lang/String;
      87: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      96: aload_0
      97: ldc           #98                 // String pZxid
      99: aload_1
     100: invokevirtual #60                 // Method org/apache/zookeeper/data/StatPersisted.getPzxid:()J
     103: invokespecial #89                 // Method printHex:(Ljava/lang/String;J)V
     106: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     109: new           #61                 // class java/lang/StringBuilder
     112: dup
     113: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     116: ldc           #99                 // String   cversion =
     118: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     121: aload_1
     122: invokevirtual #100                // Method org/apache/zookeeper/data/StatPersisted.getCversion:()I
     125: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     128: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     131: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     134: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     137: new           #61                 // class java/lang/StringBuilder
     140: dup
     141: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     144: ldc           #101                // String   dataVersion =
     146: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: aload_1
     150: invokevirtual #102                // Method org/apache/zookeeper/data/StatPersisted.getVersion:()I
     153: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     156: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     159: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     162: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     165: new           #61                 // class java/lang/StringBuilder
     168: dup
     169: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     172: ldc           #103                // String   aclVersion =
     174: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     177: aload_1
     178: invokevirtual #104                // Method org/apache/zookeeper/data/StatPersisted.getAversion:()I
     181: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     184: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     187: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     190: aload_0
     191: ldc           #105                // String ephemeralOwner
     193: aload_1
     194: invokevirtual #106                // Method org/apache/zookeeper/data/StatPersisted.getEphemeralOwner:()J
     197: invokespecial #89                 // Method printHex:(Ljava/lang/String;J)V
     200: return

  private void printHex(java.lang.String, long);
    Code:
       0: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #107                // String   %s = %#016x
       5: iconst_2
       6: anewarray     #42                 // class java/lang/Object
       9: dup
      10: iconst_0
      11: aload_1
      12: aastore
      13: dup
      14: iconst_1
      15: lload_2
      16: invokestatic  #46                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      19: aastore
      20: invokestatic  #47                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      23: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      26: return

  private void printSnapshotJson(org.apache.zookeeper.server.DataTree);
    Code:
       0: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #108                // String [1,0,{\"progname\":\"SnapshotFormatter.java\",\"progver\":\"0.01\",\"timestamp\":%d}
       5: iconst_1
       6: anewarray     #42                 // class java/lang/Object
       9: dup
      10: iconst_0
      11: invokestatic  #109                // Method java/lang/System.currentTimeMillis:()J
      14: invokestatic  #46                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      17: aastore
      18: invokevirtual #110                // Method java/io/PrintStream.printf:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/io/PrintStream;
      21: pop
      22: aload_0
      23: aload_1
      24: ldc           #53                 // String /
      26: invokespecial #111                // Method printZnodeJson:(Lorg/apache/zookeeper/server/DataTree;Ljava/lang/String;)V
      29: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      32: ldc           #112                // String ]
      34: invokevirtual #113                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
      37: return

  private void printZnodeJson(org.apache.zookeeper.server.DataTree, java.lang.String);
    Code:
       0: aload_1
       1: aload_2
       2: invokevirtual #56                 // Method org/apache/zookeeper/server/DataTree.getNode:(Ljava/lang/String;)Lorg/apache/zookeeper/server/DataNode;
       5: astore_3
       6: aconst_null
       7: aload_3
       8: if_acmpne     42
      11: getstatic     #6                  // Field java/lang/System.err:Ljava/io/PrintStream;
      14: new           #61                 // class java/lang/StringBuilder
      17: dup
      18: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
      21: ldc           #114                // String DataTree Node for
      23: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      26: aload_2
      27: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: ldc           #115                // String  doesn\'t exist
      32: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      38: invokevirtual #8                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      41: return
      42: aload_2
      43: ldc           #53                 // String /
      45: invokevirtual #4                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      48: ifeq          55
      51: aload_2
      52: goto          67
      55: aload_2
      56: aload_2
      57: ldc           #53                 // String /
      59: invokevirtual #116                // Method java/lang/String.lastIndexOf:(Ljava/lang/String;)I
      62: iconst_1
      63: iadd
      64: invokevirtual #117                // Method java/lang/String.substring:(I)Ljava/lang/String;
      67: astore        4
      69: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
      72: ldc           #118                // String ,
      74: invokevirtual #113                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
      77: aload_3
      78: dup
      79: astore        6
      81: monitorenter
      82: aload_3
      83: getfield      #65                 // Field org/apache/zookeeper/server/DataNode.data:[B
      86: ifnonnull     93
      89: iconst_0
      90: goto          98
      93: aload_3
      94: getfield      #65                 // Field org/apache/zookeeper/server/DataNode.data:[B
      97: arraylength
      98: istore        5
     100: aload         6
     102: monitorexit
     103: goto          114
     106: astore        7
     108: aload         6
     110: monitorexit
     111: aload         7
     113: athrow
     114: new           #61                 // class java/lang/StringBuilder
     117: dup
     118: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     121: astore        6
     123: aload         6
     125: ldc           #119                // String {
     127: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     130: pop
     131: aload         6
     133: ldc           #120                // String \"name\":\"
     135: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: aload         4
     140: invokestatic  #121                // Method org/json/simple/JSONValue.escape:(Ljava/lang/String;)Ljava/lang/String;
     143: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     146: ldc           #122                // String \"
     148: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: ldc           #118                // String ,
     153: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     156: pop
     157: aload         6
     159: ldc           #123                // String \"asize\":
     161: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     164: iload         5
     166: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     169: ldc           #118                // String ,
     171: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     174: pop
     175: aload         6
     177: ldc           #124                // String \"dsize\":
     179: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: iload         5
     184: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     187: ldc           #118                // String ,
     189: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     192: pop
     193: aload         6
     195: ldc           #125                // String \"dev\":
     197: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: iconst_0
     201: invokevirtual #71                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     204: ldc           #118                // String ,
     206: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     209: pop
     210: aload         6
     212: ldc           #126                // String \"ino\":
     214: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     217: getstatic     #127                // Field INODE_IDX:Ljava/lang/Integer;
     220: invokevirtual #128                // Method java/lang/Integer.intValue:()I
     223: iconst_1
     224: iadd
     225: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     228: dup
     229: putstatic     #127                // Field INODE_IDX:Ljava/lang/Integer;
     232: invokevirtual #129                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     235: pop
     236: aload         6
     238: ldc           #130                // String }
     240: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     243: pop
     244: aload_3
     245: dup
     246: astore        8
     248: monitorenter
     249: aload_3
     250: invokevirtual #72                 // Method org/apache/zookeeper/server/DataNode.getChildren:()Ljava/util/Set;
     253: astore        7
     255: aload         8
     257: monitorexit
     258: goto          269
     261: astore        9
     263: aload         8
     265: monitorexit
     266: aload         9
     268: athrow
     269: aload         7
     271: ifnull        398
     274: aload         7
     276: invokeinterface #86,  1           // InterfaceMethod java/util/Set.size:()I
     281: ifle          398
     284: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     287: new           #61                 // class java/lang/StringBuilder
     290: dup
     291: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     294: ldc           #131                // String [
     296: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     299: aload         6
     301: invokevirtual #129                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     304: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     307: invokevirtual #113                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
     310: aload         7
     312: invokeinterface #73,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
     317: astore        8
     319: aload         8
     321: invokeinterface #74,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     326: ifeq          387
     329: aload         8
     331: invokeinterface #75,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     336: checkcast     #76                 // class java/lang/String
     339: astore        9
     341: aload_0
     342: aload_1
     343: new           #61                 // class java/lang/StringBuilder
     346: dup
     347: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     350: aload_2
     351: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     354: aload_2
     355: ldc           #53                 // String /
     357: invokevirtual #4                  // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     360: ifeq          368
     363: ldc           #66                 // String
     365: goto          370
     368: ldc           #53                 // String /
     370: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     373: aload         9
     375: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     378: invokevirtual #69                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     381: invokespecial #111                // Method printZnodeJson:(Lorg/apache/zookeeper/server/DataTree;Ljava/lang/String;)V
     384: goto          319
     387: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     390: ldc           #112                // String ]
     392: invokevirtual #113                // Method java/io/PrintStream.print:(Ljava/lang/String;)V
     395: goto          406
     398: getstatic     #40                 // Field java/lang/System.out:Ljava/io/PrintStream;
     401: aload         6
     403: invokevirtual #132                // Method java/io/PrintStream.print:(Ljava/lang/Object;)V
     406: return
    Exception table:
       from    to  target type
          82   103   106   any
         106   111   106   any
         249   258   261   any
         261   266   261   any

  static {};
    Code:
       0: sipush        1000
       3: invokestatic  #52                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       6: putstatic     #127                // Field INODE_IDX:Ljava/lang/Integer;
       9: return
}
