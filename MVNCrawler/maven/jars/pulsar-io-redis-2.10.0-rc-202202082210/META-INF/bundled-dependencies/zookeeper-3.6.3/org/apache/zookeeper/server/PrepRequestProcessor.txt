Compiled from "PrepRequestProcessor.java"
public class org.apache.zookeeper.server.PrepRequestProcessor extends org.apache.zookeeper.server.ZooKeeperCriticalThread implements org.apache.zookeeper.server.RequestProcessor {
  private static final org.slf4j.Logger LOG;

  private static boolean failCreate;

  java.util.concurrent.LinkedBlockingQueue<org.apache.zookeeper.server.Request> submittedRequests;

  private final org.apache.zookeeper.server.RequestProcessor nextProcessor;

  private final boolean digestEnabled;

  private org.apache.zookeeper.server.DigestCalculator digestCalculator;

  org.apache.zookeeper.server.ZooKeeperServer zks;

  public org.apache.zookeeper.server.PrepRequestProcessor(org.apache.zookeeper.server.ZooKeeperServer, org.apache.zookeeper.server.RequestProcessor);
    Code:
       0: aload_0
       1: new           #1                  // class java/lang/StringBuilder
       4: dup
       5: invokespecial #2                  // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #3                  // String ProcessThread(sid:
      10: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: invokevirtual #5                  // Method org/apache/zookeeper/server/ZooKeeperServer.getServerId:()J
      17: invokevirtual #6                  // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
      20: ldc           #7                  // String  cport:
      22: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #8                  // Method org/apache/zookeeper/server/ZooKeeperServer.getClientPort:()I
      29: invokevirtual #9                  // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      32: ldc           #10                 // String ):
      34: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      40: aload_1
      41: invokevirtual #12                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZooKeeperServerListener:()Lorg/apache/zookeeper/server/ZooKeeperServerListener;
      44: invokespecial #13                 // Method org/apache/zookeeper/server/ZooKeeperCriticalThread."<init>":(Ljava/lang/String;Lorg/apache/zookeeper/server/ZooKeeperServerListener;)V
      47: aload_0
      48: new           #14                 // class java/util/concurrent/LinkedBlockingQueue
      51: dup
      52: invokespecial #15                 // Method java/util/concurrent/LinkedBlockingQueue."<init>":()V
      55: putfield      #16                 // Field submittedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      58: aload_0
      59: aload_2
      60: putfield      #17                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      63: aload_0
      64: aload_1
      65: putfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      68: aload_0
      69: invokestatic  #19                 // Method org/apache/zookeeper/server/ZooKeeperServer.isDigestEnabled:()Z
      72: putfield      #20                 // Field digestEnabled:Z
      75: aload_0
      76: getfield      #20                 // Field digestEnabled:Z
      79: ifeq          93
      82: aload_0
      83: new           #21                 // class org/apache/zookeeper/server/DigestCalculator
      86: dup
      87: invokespecial #22                 // Method org/apache/zookeeper/server/DigestCalculator."<init>":()V
      90: putfield      #23                 // Field digestCalculator:Lorg/apache/zookeeper/server/DigestCalculator;
      93: return

  public static void setFailCreate(boolean);
    Code:
       0: iload_0
       1: putstatic     #24                 // Field failCreate:Z
       4: return

  public void run();
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #26                 // String PrepRequestProcessor (sid:%d) started, reconfigEnabled=%s
       5: iconst_2
       6: anewarray     #27                 // class java/lang/Object
       9: dup
      10: iconst_0
      11: aload_0
      12: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      15: invokevirtual #5                  // Method org/apache/zookeeper/server/ZooKeeperServer.getServerId:()J
      18: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      21: aastore
      22: dup
      23: iconst_1
      24: aload_0
      25: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      28: getfield      #29                 // Field org/apache/zookeeper/server/ZooKeeperServer.reconfigEnabled:Z
      31: invokestatic  #30                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      34: aastore
      35: invokestatic  #31                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      38: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      43: invokestatic  #33                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      46: getfield      #34                 // Field org/apache/zookeeper/server/ServerMetrics.PREP_PROCESSOR_QUEUE_SIZE:Lorg/apache/zookeeper/metrics/Summary;
      49: aload_0
      50: getfield      #16                 // Field submittedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      53: invokevirtual #35                 // Method java/util/concurrent/LinkedBlockingQueue.size:()I
      56: i2l
      57: invokeinterface #36,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      62: aload_0
      63: getfield      #16                 // Field submittedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      66: invokevirtual #37                 // Method java/util/concurrent/LinkedBlockingQueue.take:()Ljava/lang/Object;
      69: checkcast     #38                 // class org/apache/zookeeper/server/Request
      72: astore_1
      73: invokestatic  #33                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      76: getfield      #39                 // Field org/apache/zookeeper/server/ServerMetrics.PREP_PROCESSOR_QUEUE_TIME:Lorg/apache/zookeeper/metrics/Summary;
      79: invokestatic  #40                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
      82: aload_1
      83: getfield      #41                 // Field org/apache/zookeeper/server/Request.prepQueueStartTime:J
      86: lsub
      87: invokeinterface #36,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
      92: ldc2_w        #43                 // long 2l
      95: lstore_2
      96: aload_1
      97: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     100: bipush        11
     102: if_icmpne     109
     105: ldc2_w        #47                 // long 8l
     108: lstore_2
     109: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     112: invokeinterface #49,  1           // InterfaceMethod org/slf4j/Logger.isTraceEnabled:()Z
     117: ifeq          132
     120: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     123: lload_2
     124: bipush        80
     126: aload_1
     127: ldc           #50                 // String
     129: invokestatic  #51                 // Method org/apache/zookeeper/server/ZooTrace.logRequest:(Lorg/slf4j/Logger;JCLorg/apache/zookeeper/server/Request;Ljava/lang/String;)V
     132: getstatic     #52                 // Field org/apache/zookeeper/server/Request.requestOfDeath:Lorg/apache/zookeeper/server/Request;
     135: aload_1
     136: if_acmpne     142
     139: goto          157
     142: aload_1
     143: invokestatic  #40                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
     146: putfield      #53                 // Field org/apache/zookeeper/server/Request.prepStartTime:J
     149: aload_0
     150: aload_1
     151: invokevirtual #54                 // Method pRequest:(Lorg/apache/zookeeper/server/Request;)V
     154: goto          43
     157: goto          170
     160: astore_1
     161: aload_0
     162: aload_0
     163: invokevirtual #56                 // Method getName:()Ljava/lang/String;
     166: aload_1
     167: invokevirtual #57                 // Method handleException:(Ljava/lang/String;Ljava/lang/Throwable;)V
     170: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     173: ldc           #58                 // String PrepRequestProcessor exited loop!
     175: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     180: return
    Exception table:
       from    to  target type
          43   157   160   Class java/lang/Exception

  private org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord getRecordForPath(java.lang.String) throws org.apache.zookeeper.KeeperException$NoNodeException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_0
       3: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       6: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
       9: dup
      10: astore_3
      11: monitorenter
      12: aload_0
      13: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      16: getfield      #60                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChangesForPath:Ljava/util/Map;
      19: aload_1
      20: invokeinterface #61,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
      28: astore_2
      29: aload_2
      30: ifnonnull     152
      33: aload_0
      34: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      37: invokevirtual #63                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      40: aload_1
      41: invokevirtual #64                 // Method org/apache/zookeeper/server/ZKDatabase.getNode:(Ljava/lang/String;)Lorg/apache/zookeeper/server/DataNode;
      44: astore        4
      46: aload         4
      48: ifnull        152
      51: aload         4
      53: dup
      54: astore        6
      56: monitorenter
      57: aload         4
      59: invokevirtual #65                 // Method org/apache/zookeeper/server/DataNode.getChildren:()Ljava/util/Set;
      62: astore        5
      64: aload         6
      66: monitorexit
      67: goto          78
      70: astore        7
      72: aload         6
      74: monitorexit
      75: aload         7
      77: athrow
      78: new           #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
      81: dup
      82: ldc2_w        #66                 // long -1l
      85: aload_1
      86: aload         4
      88: getfield      #68                 // Field org/apache/zookeeper/server/DataNode.stat:Lorg/apache/zookeeper/data/StatPersisted;
      91: aload         5
      93: invokeinterface #69,  1           // InterfaceMethod java/util/Set.size:()I
      98: aload_0
      99: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     102: invokevirtual #63                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
     105: aload         4
     107: invokevirtual #70                 // Method org/apache/zookeeper/server/ZKDatabase.aclForNode:(Lorg/apache/zookeeper/server/DataNode;)Ljava/util/List;
     110: invokespecial #71                 // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord."<init>":(JLjava/lang/String;Lorg/apache/zookeeper/data/StatPersisted;ILjava/util/List;)V
     113: astore_2
     114: aload_0
     115: getfield      #20                 // Field digestEnabled:Z
     118: ifeq          143
     121: aload_2
     122: new           #72                 // class org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest
     125: dup
     126: aload_0
     127: getfield      #23                 // Field digestCalculator:Lorg/apache/zookeeper/server/DigestCalculator;
     130: aload_1
     131: aload         4
     133: invokevirtual #73                 // Method org/apache/zookeeper/server/DigestCalculator.calculateDigest:(Ljava/lang/String;Lorg/apache/zookeeper/server/DataNode;)J
     136: lconst_0
     137: invokespecial #74                 // Method org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest."<init>":(JJ)V
     140: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     143: aload_2
     144: aload         4
     146: invokevirtual #76                 // Method org/apache/zookeeper/server/DataNode.getData:()[B
     149: putfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     152: aload_3
     153: monitorexit
     154: goto          164
     157: astore        8
     159: aload_3
     160: monitorexit
     161: aload         8
     163: athrow
     164: aload_2
     165: ifnull        175
     168: aload_2
     169: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     172: ifnonnull     184
     175: new           #79                 // class org/apache/zookeeper/KeeperException$NoNodeException
     178: dup
     179: aload_1
     180: invokespecial #80                 // Method org/apache/zookeeper/KeeperException$NoNodeException."<init>":(Ljava/lang/String;)V
     183: athrow
     184: aload_2
     185: areturn
    Exception table:
       from    to  target type
          57    67    70   any
          70    75    70   any
          12   154   157   any
         157   161   157   any

  private org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord getOutstandingChange(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
       7: dup
       8: astore_2
       9: monitorenter
      10: aload_0
      11: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      14: getfield      #60                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChangesForPath:Ljava/util/Map;
      17: aload_1
      18: invokeinterface #61,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
      26: aload_2
      27: monitorexit
      28: areturn
      29: astore_3
      30: aload_2
      31: monitorexit
      32: aload_3
      33: athrow
    Exception table:
       from    to  target type
          10    28    29   any
          29    32    29   any

  protected void addChangeRecord(org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord);
    Code:
       0: aload_0
       1: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
       7: dup
       8: astore_2
       9: monitorenter
      10: aload_0
      11: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      14: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
      17: aload_1
      18: invokeinterface #81,  2           // InterfaceMethod java/util/Deque.add:(Ljava/lang/Object;)Z
      23: pop
      24: aload_0
      25: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      28: getfield      #60                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChangesForPath:Ljava/util/Map;
      31: aload_1
      32: getfield      #82                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
      35: aload_1
      36: invokeinterface #83,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      41: pop
      42: invokestatic  #33                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      45: getfield      #84                 // Field org/apache/zookeeper/server/ServerMetrics.OUTSTANDING_CHANGES_QUEUED:Lorg/apache/zookeeper/metrics/Counter;
      48: lconst_1
      49: invokeinterface #85,  3           // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
      54: aload_2
      55: monitorexit
      56: goto          64
      59: astore_3
      60: aload_2
      61: monitorexit
      62: aload_3
      63: athrow
      64: return
    Exception table:
       from    to  target type
          10    56    59   any
          59    62    59   any

  private java.util.Map<java.lang.String, org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord> getPendingChanges(org.apache.zookeeper.MultiOperationRecord);
    Code:
       0: new           #86                 // class java/util/HashMap
       3: dup
       4: invokespecial #87                 // Method java/util/HashMap."<init>":()V
       7: astore_2
       8: aload_1
       9: invokevirtual #88                 // Method org/apache/zookeeper/MultiOperationRecord.iterator:()Ljava/util/Iterator;
      12: astore_3
      13: aload_3
      14: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      19: ifeq          129
      22: aload_3
      23: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      28: checkcast     #91                 // class org/apache/zookeeper/Op
      31: astore        4
      33: aload         4
      35: invokevirtual #92                 // Method org/apache/zookeeper/Op.getPath:()Ljava/lang/String;
      38: astore        5
      40: aload_0
      41: aload         5
      43: invokespecial #93                 // Method getOutstandingChange:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
      46: astore        6
      48: aload         6
      50: ifnull        64
      53: aload_2
      54: aload         5
      56: aload         6
      58: invokeinterface #83,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      63: pop
      64: aload         5
      66: bipush        47
      68: invokevirtual #94                 // Method java/lang/String.lastIndexOf:(I)I
      71: istore        7
      73: iload         7
      75: iconst_m1
      76: if_icmpeq     13
      79: aload         5
      81: iconst_0
      82: invokevirtual #95                 // Method java/lang/String.indexOf:(I)I
      85: iconst_m1
      86: if_icmpeq     92
      89: goto          13
      92: aload         5
      94: iconst_0
      95: iload         7
      97: invokevirtual #96                 // Method java/lang/String.substring:(II)Ljava/lang/String;
     100: astore        8
     102: aload_0
     103: aload         8
     105: invokespecial #93                 // Method getOutstandingChange:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     108: astore        9
     110: aload         9
     112: ifnull        126
     115: aload_2
     116: aload         8
     118: aload         9
     120: invokeinterface #83,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     125: pop
     126: goto          13
     129: aload_2
     130: areturn

  void rollbackPendingChanges(long, java.util.Map<java.lang.String, org.apache.zookeeper.server.ZooKeeperServer$ChangeRecord>);
    Code:
       0: aload_0
       1: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
       7: dup
       8: astore        4
      10: monitorenter
      11: aload_0
      12: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      15: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
      18: invokeinterface #97,  1           // InterfaceMethod java/util/Deque.descendingIterator:()Ljava/util/Iterator;
      23: astore        5
      25: aload         5
      27: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      32: ifeq          85
      35: aload         5
      37: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
      45: astore        6
      47: aload         6
      49: getfield      #98                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.zxid:J
      52: lload_1
      53: lcmp
      54: ifne          85
      57: aload         5
      59: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.remove:()V
      64: aload_0
      65: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      68: getfield      #60                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChangesForPath:Ljava/util/Map;
      71: aload         6
      73: getfield      #82                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
      76: invokeinterface #100,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      81: pop
      82: goto          25
      85: aload_0
      86: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      89: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
      92: invokeinterface #101,  1          // InterfaceMethod java/util/Deque.isEmpty:()Z
      97: ifeq          104
     100: aload         4
     102: monitorexit
     103: return
     104: aload_0
     105: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     108: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
     111: invokeinterface #102,  1          // InterfaceMethod java/util/Deque.peek:()Ljava/lang/Object;
     116: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     119: getfield      #98                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.zxid:J
     122: lstore        6
     124: aload_3
     125: invokeinterface #103,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     130: invokeinterface #104,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     135: astore        8
     137: aload         8
     139: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     144: ifeq          196
     147: aload         8
     149: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     154: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     157: astore        9
     159: aload         9
     161: getfield      #98                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.zxid:J
     164: lload         6
     166: lcmp
     167: ifge          173
     170: goto          137
     173: aload_0
     174: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     177: getfield      #60                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChangesForPath:Ljava/util/Map;
     180: aload         9
     182: getfield      #82                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
     185: aload         9
     187: invokeinterface #83,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     192: pop
     193: goto          137
     196: aload         4
     198: monitorexit
     199: goto          210
     202: astore        10
     204: aload         4
     206: monitorexit
     207: aload         10
     209: athrow
     210: return
    Exception table:
       from    to  target type
          11   103   202   any
         104   199   202   any
         202   207   202   any

  private java.lang.String validatePathForCreate(java.lang.String, long) throws org.apache.zookeeper.KeeperException$BadArgumentsException;
    Code:
       0: aload_1
       1: bipush        47
       3: invokevirtual #94                 // Method java/lang/String.lastIndexOf:(I)I
       6: istore        4
       8: iload         4
      10: iconst_m1
      11: if_icmpeq     29
      14: aload_1
      15: iconst_0
      16: invokevirtual #95                 // Method java/lang/String.indexOf:(I)I
      19: iconst_m1
      20: if_icmpne     29
      23: getstatic     #24                 // Field failCreate:Z
      26: ifeq          53
      29: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      32: ldc           #105                // String Invalid path {} with session 0x{}
      34: aload_1
      35: lload_2
      36: invokestatic  #106                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      39: invokeinterface #107,  4          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      44: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
      47: dup
      48: aload_1
      49: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
      52: athrow
      53: aload_1
      54: iconst_0
      55: iload         4
      57: invokevirtual #96                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      60: areturn

  protected void pRequest2Txn(int, long, org.apache.zookeeper.server.Request, org.apache.jute.Record, boolean) throws org.apache.zookeeper.KeeperException, java.io.IOException, org.apache.zookeeper.server.RequestProcessor$RequestProcessorException;
    Code:
       0: aload         4
       2: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
       5: ifnonnull     35
       8: aload         4
      10: new           #111                // class org/apache/zookeeper/txn/TxnHeader
      13: dup
      14: aload         4
      16: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
      19: aload         4
      21: getfield      #113                // Field org/apache/zookeeper/server/Request.cxid:I
      24: lload_2
      25: invokestatic  #114                // Method org/apache/zookeeper/common/Time.currentWallTime:()J
      28: iload_1
      29: invokespecial #115                // Method org/apache/zookeeper/txn/TxnHeader."<init>":(JIJJI)V
      32: invokevirtual #116                // Method org/apache/zookeeper/server/Request.setHdr:(Lorg/apache/zookeeper/txn/TxnHeader;)V
      35: iload_1
      36: tableswitch   { // -11 to 21
                   -11: 2351
                   -10: 2269
                    -9: 2846
                    -8: 2846
                    -7: 2846
                    -6: 2846
                    -5: 2846
                    -4: 2846
                    -3: 2846
                    -2: 2846
                    -1: 2846
                     0: 2846
                     1: 184
                     2: 426
                     3: 2846
                     4: 2846
                     5: 707
                     6: 2846
                     7: 2047
                     8: 2846
                     9: 2846
                    10: 2846
                    11: 2846
                    12: 2846
                    13: 2715
                    14: 2846
                    15: 184
                    16: 948
                    17: 2846
                    18: 2846
                    19: 184
                    20: 198
                    21: 184
               default: 2846
          }
     184: aload_0
     185: iload_1
     186: aload         4
     188: aload         5
     190: iload         6
     192: invokespecial #117                // Method pRequest2TxnCreate:(ILorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     195: goto          2861
     198: new           #118                // class java/lang/String
     201: dup
     202: aload         4
     204: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     207: invokevirtual #120                // Method java/nio/ByteBuffer.array:()[B
     210: invokespecial #121                // Method java/lang/String."<init>":([B)V
     213: astore        8
     215: aload_0
     216: aload         8
     218: invokespecial #122                // Method getParentPathAndValidate:(Ljava/lang/String;)Ljava/lang/String;
     221: astore        9
     223: aload_0
     224: aload         8
     226: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     229: astore        10
     231: aload         10
     233: getfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     236: ifle          249
     239: new           #125                // class org/apache/zookeeper/KeeperException$NotEmptyException
     242: dup
     243: aload         8
     245: invokespecial #126                // Method org/apache/zookeeper/KeeperException$NotEmptyException."<init>":(Ljava/lang/String;)V
     248: athrow
     249: aload         10
     251: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     254: invokevirtual #127                // Method org/apache/zookeeper/data/StatPersisted.getEphemeralOwner:()J
     257: invokestatic  #128                // Method org/apache/zookeeper/server/EphemeralType.get:(J)Lorg/apache/zookeeper/server/EphemeralType;
     260: getstatic     #129                // Field org/apache/zookeeper/server/EphemeralType.NORMAL:Lorg/apache/zookeeper/server/EphemeralType;
     263: if_acmpne     276
     266: new           #130                // class org/apache/zookeeper/KeeperException$BadVersionException
     269: dup
     270: aload         8
     272: invokespecial #131                // Method org/apache/zookeeper/KeeperException$BadVersionException."<init>":(Ljava/lang/String;)V
     275: athrow
     276: aload_0
     277: aload         9
     279: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     282: astore        11
     284: aload         4
     286: new           #132                // class org/apache/zookeeper/txn/DeleteTxn
     289: dup
     290: aload         8
     292: invokespecial #133                // Method org/apache/zookeeper/txn/DeleteTxn."<init>":(Ljava/lang/String;)V
     295: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
     298: aload         11
     300: aload         4
     302: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     305: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     308: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     311: astore        11
     313: aload         11
     315: dup
     316: getfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     319: iconst_1
     320: isub
     321: putfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     324: aload         11
     326: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     329: aload         4
     331: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     334: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     337: invokevirtual #137                // Method org/apache/zookeeper/data/StatPersisted.setPzxid:(J)V
     340: aload         11
     342: aload_0
     343: getstatic     #138                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.UPDATE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     346: aload         9
     348: aload         11
     350: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     353: aload         11
     355: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     358: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     361: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     364: aload_0
     365: aload         11
     367: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     370: new           #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     373: dup
     374: aload         4
     376: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     379: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     382: aload         8
     384: aconst_null
     385: iconst_m1
     386: aconst_null
     387: invokespecial #71                 // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord."<init>":(JLjava/lang/String;Lorg/apache/zookeeper/data/StatPersisted;ILjava/util/List;)V
     390: astore        10
     392: aload         10
     394: aload_0
     395: getstatic     #141                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.REMOVE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     398: aload         8
     400: invokespecial #142                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     403: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     406: aload_0
     407: aload         4
     409: aload         10
     411: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     414: invokespecial #143                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;)V
     417: aload_0
     418: aload         10
     420: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     423: goto          2861
     426: aload_0
     427: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     430: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
     433: aload         4
     435: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     438: aload         4
     440: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
     443: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
     448: aload         5
     450: checkcast     #147                // class org/apache/zookeeper/proto/DeleteRequest
     453: astore        8
     455: iload         6
     457: ifeq          470
     460: aload         4
     462: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     465: aload         8
     467: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
     470: aload         8
     472: invokevirtual #149                // Method org/apache/zookeeper/proto/DeleteRequest.getPath:()Ljava/lang/String;
     475: astore        9
     477: aload_0
     478: aload         9
     480: invokespecial #122                // Method getParentPathAndValidate:(Ljava/lang/String;)Ljava/lang/String;
     483: astore        10
     485: aload_0
     486: aload         10
     488: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     491: astore        11
     493: aload_0
     494: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     497: aload         4
     499: getfield      #150                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     502: aload         11
     504: getfield      #151                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.acl:Ljava/util/List;
     507: bipush        8
     509: aload         4
     511: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
     514: aload         9
     516: aconst_null
     517: invokevirtual #154                // Method org/apache/zookeeper/server/ZooKeeperServer.checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
     520: aload_0
     521: aload         9
     523: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     526: astore        12
     528: aload         12
     530: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     533: invokevirtual #155                // Method org/apache/zookeeper/data/StatPersisted.getVersion:()I
     536: aload         8
     538: invokevirtual #156                // Method org/apache/zookeeper/proto/DeleteRequest.getVersion:()I
     541: aload         9
     543: invokestatic  #157                // Method checkAndIncVersion:(IILjava/lang/String;)I
     546: pop
     547: aload         12
     549: getfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     552: ifle          565
     555: new           #125                // class org/apache/zookeeper/KeeperException$NotEmptyException
     558: dup
     559: aload         9
     561: invokespecial #126                // Method org/apache/zookeeper/KeeperException$NotEmptyException."<init>":(Ljava/lang/String;)V
     564: athrow
     565: aload         4
     567: new           #132                // class org/apache/zookeeper/txn/DeleteTxn
     570: dup
     571: aload         9
     573: invokespecial #133                // Method org/apache/zookeeper/txn/DeleteTxn."<init>":(Ljava/lang/String;)V
     576: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
     579: aload         11
     581: aload         4
     583: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     586: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     589: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     592: astore        11
     594: aload         11
     596: dup
     597: getfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     600: iconst_1
     601: isub
     602: putfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     605: aload         11
     607: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     610: aload         4
     612: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     615: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     618: invokevirtual #137                // Method org/apache/zookeeper/data/StatPersisted.setPzxid:(J)V
     621: aload         11
     623: aload_0
     624: getstatic     #138                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.UPDATE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     627: aload         10
     629: aload         11
     631: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     634: aload         11
     636: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     639: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     642: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     645: aload_0
     646: aload         11
     648: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     651: new           #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     654: dup
     655: aload         4
     657: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     660: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     663: aload         9
     665: aconst_null
     666: iconst_m1
     667: aconst_null
     668: invokespecial #71                 // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord."<init>":(JLjava/lang/String;Lorg/apache/zookeeper/data/StatPersisted;ILjava/util/List;)V
     671: astore        12
     673: aload         12
     675: aload_0
     676: getstatic     #141                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.REMOVE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     679: aload         9
     681: invokespecial #142                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     684: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     687: aload_0
     688: aload         4
     690: aload         12
     692: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     695: invokespecial #143                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;)V
     698: aload_0
     699: aload         12
     701: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     704: goto          2861
     707: aload_0
     708: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     711: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
     714: aload         4
     716: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     719: aload         4
     721: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
     724: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
     729: aload         5
     731: checkcast     #158                // class org/apache/zookeeper/proto/SetDataRequest
     734: astore        13
     736: iload         6
     738: ifeq          751
     741: aload         4
     743: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     746: aload         13
     748: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
     751: aload         13
     753: invokevirtual #159                // Method org/apache/zookeeper/proto/SetDataRequest.getPath:()Ljava/lang/String;
     756: astore        9
     758: aload_0
     759: aload         9
     761: aload         4
     763: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     766: invokespecial #160                // Method validatePath:(Ljava/lang/String;J)V
     769: aload_0
     770: aload         9
     772: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     775: astore        12
     777: aload_0
     778: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     781: aload         4
     783: getfield      #150                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     786: aload         12
     788: getfield      #151                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.acl:Ljava/util/List;
     791: iconst_2
     792: aload         4
     794: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
     797: aload         9
     799: aconst_null
     800: invokevirtual #154                // Method org/apache/zookeeper/server/ZooKeeperServer.checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
     803: aload         12
     805: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     808: invokevirtual #155                // Method org/apache/zookeeper/data/StatPersisted.getVersion:()I
     811: aload         13
     813: invokevirtual #161                // Method org/apache/zookeeper/proto/SetDataRequest.getVersion:()I
     816: aload         9
     818: invokestatic  #157                // Method checkAndIncVersion:(IILjava/lang/String;)I
     821: istore        14
     823: aload         4
     825: new           #162                // class org/apache/zookeeper/txn/SetDataTxn
     828: dup
     829: aload         9
     831: aload         13
     833: invokevirtual #163                // Method org/apache/zookeeper/proto/SetDataRequest.getData:()[B
     836: iload         14
     838: invokespecial #164                // Method org/apache/zookeeper/txn/SetDataTxn."<init>":(Ljava/lang/String;[BI)V
     841: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
     844: aload         12
     846: aload         4
     848: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     851: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     854: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     857: astore        12
     859: aload         12
     861: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     864: iload         14
     866: invokevirtual #165                // Method org/apache/zookeeper/data/StatPersisted.setVersion:(I)V
     869: aload         12
     871: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     874: aload         4
     876: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     879: invokevirtual #166                // Method org/apache/zookeeper/txn/TxnHeader.getTime:()J
     882: invokevirtual #167                // Method org/apache/zookeeper/data/StatPersisted.setMtime:(J)V
     885: aload         12
     887: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     890: lload_2
     891: invokevirtual #168                // Method org/apache/zookeeper/data/StatPersisted.setMzxid:(J)V
     894: aload         12
     896: aload         13
     898: invokevirtual #163                // Method org/apache/zookeeper/proto/SetDataRequest.getData:()[B
     901: putfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     904: aload         12
     906: aload_0
     907: getstatic     #138                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.UPDATE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     910: aload         9
     912: aload         12
     914: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     917: aload         12
     919: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     922: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     925: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     928: aload_0
     929: aload         4
     931: aload         12
     933: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     936: invokespecial #143                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;)V
     939: aload_0
     940: aload         12
     942: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     945: goto          2861
     948: aload_0
     949: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     952: invokevirtual #169                // Method org/apache/zookeeper/server/ZooKeeperServer.isReconfigEnabled:()Z
     955: ifne          976
     958: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     961: ldc           #170                // String Reconfig operation requested but reconfig feature is disabled.
     963: invokeinterface #171,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     968: new           #172                // class org/apache/zookeeper/KeeperException$ReconfigDisabledException
     971: dup
     972: invokespecial #173                // Method org/apache/zookeeper/KeeperException$ReconfigDisabledException."<init>":()V
     975: athrow
     976: getstatic     #174                // Field org/apache/zookeeper/server/ZooKeeperServer.skipACL:Z
     979: ifeq          992
     982: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     985: ldc           #175                // String skipACL is set, reconfig operation will skip ACL checks!
     987: invokeinterface #176,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     992: aload_0
     993: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     996: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
     999: aload         4
    1001: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    1004: aload         4
    1006: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
    1009: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
    1014: aload_0
    1015: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    1018: checkcast     #177                // class org/apache/zookeeper/server/quorum/LeaderZooKeeperServer
    1021: astore        15
    1023: goto          1036
    1026: astore        16
    1028: new           #179                // class org/apache/zookeeper/KeeperException$UnimplementedException
    1031: dup
    1032: invokespecial #180                // Method org/apache/zookeeper/KeeperException$UnimplementedException."<init>":()V
    1035: athrow
    1036: aload         15
    1038: getfield      #181                // Field org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1041: invokevirtual #182                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getLastSeenQuorumVerifier:()Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1044: astore        16
    1046: aload         16
    1048: invokeinterface #183,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getVersion:()J
    1053: aload         15
    1055: getfield      #181                // Field org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1058: invokevirtual #184                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getQuorumVerifier:()Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1061: invokeinterface #183,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getVersion:()J
    1066: lcmp
    1067: ifeq          1078
    1070: new           #185                // class org/apache/zookeeper/KeeperException$ReconfigInProgress
    1073: dup
    1074: invokespecial #186                // Method org/apache/zookeeper/KeeperException$ReconfigInProgress."<init>":()V
    1077: athrow
    1078: aload         5
    1080: checkcast     #187                // class org/apache/zookeeper/proto/ReconfigRequest
    1083: astore        17
    1085: aload         17
    1087: invokevirtual #188                // Method org/apache/zookeeper/proto/ReconfigRequest.getCurConfigId:()J
    1090: lstore        18
    1092: lload         18
    1094: ldc2_w        #66                 // long -1l
    1097: lcmp
    1098: ifeq          1173
    1101: lload         18
    1103: aload         15
    1105: getfield      #181                // Field org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1108: invokevirtual #182                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getLastSeenQuorumVerifier:()Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1111: invokeinterface #183,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getVersion:()J
    1116: lcmp
    1117: ifeq          1173
    1120: new           #1                  // class java/lang/StringBuilder
    1123: dup
    1124: invokespecial #2                  // Method java/lang/StringBuilder."<init>":()V
    1127: ldc           #189                // String Reconfiguration from version
    1129: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1132: lload         18
    1134: invokevirtual #6                  // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
    1137: ldc           #190                // String  failed -- last seen version is
    1139: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1142: aload         15
    1144: getfield      #181                // Field org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1147: invokevirtual #182                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getLastSeenQuorumVerifier:()Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1150: invokeinterface #183,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getVersion:()J
    1155: invokevirtual #6                  // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
    1158: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1161: astore        20
    1163: new           #130                // class org/apache/zookeeper/KeeperException$BadVersionException
    1166: dup
    1167: aload         20
    1169: invokespecial #131                // Method org/apache/zookeeper/KeeperException$BadVersionException."<init>":(Ljava/lang/String;)V
    1172: athrow
    1173: aload         17
    1175: invokevirtual #191                // Method org/apache/zookeeper/proto/ReconfigRequest.getNewMembers:()Ljava/lang/String;
    1178: astore        20
    1180: aload         20
    1182: ifnull        1285
    1185: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1188: ldc           #192                // String Non-incremental reconfig
    1190: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
    1195: aload         20
    1197: ldc           #193                // String ,
    1199: ldc           #194                // String \n
    1201: invokevirtual #195                // Method java/lang/String.replaceAll:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    1204: astore        20
    1206: new           #196                // class java/util/Properties
    1209: dup
    1210: invokespecial #197                // Method java/util/Properties."<init>":()V
    1213: astore        21
    1215: aload         21
    1217: new           #198                // class java/io/StringReader
    1220: dup
    1221: aload         20
    1223: invokespecial #199                // Method java/io/StringReader."<init>":(Ljava/lang/String;)V
    1226: invokevirtual #200                // Method java/util/Properties.load:(Ljava/io/Reader;)V
    1229: aload         4
    1231: aload         21
    1233: aload         15
    1235: getfield      #181                // Field org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.self:Lorg/apache/zookeeper/server/quorum/QuorumPeer;
    1238: invokevirtual #201                // Method org/apache/zookeeper/server/quorum/QuorumPeer.getElectionType:()I
    1241: iconst_1
    1242: iconst_0
    1243: invokestatic  #202                // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.parseDynamicConfig:(Ljava/util/Properties;IZZ)Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1246: putfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1249: aload         4
    1251: getfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1254: aload         4
    1256: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1259: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    1262: invokeinterface #204,  3          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.setVersion:(J)V
    1267: goto          1749
    1270: astore        21
    1272: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1275: dup
    1276: aload         21
    1278: invokevirtual #207                // Method java/lang/Exception.getMessage:()Ljava/lang/String;
    1281: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1284: athrow
    1285: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1288: ldc           #208                // String Incremental reconfig
    1290: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
    1295: aconst_null
    1296: astore        21
    1298: aload         17
    1300: invokevirtual #209                // Method org/apache/zookeeper/proto/ReconfigRequest.getJoiningServers:()Ljava/lang/String;
    1303: astore        22
    1305: aload         22
    1307: ifnull        1319
    1310: aload         22
    1312: ldc           #193                // String ,
    1314: invokestatic  #210                // Method org/apache/zookeeper/common/StringUtils.split:(Ljava/lang/String;Ljava/lang/String;)Ljava/util/List;
    1317: astore        21
    1319: aconst_null
    1320: astore        23
    1322: aload         17
    1324: invokevirtual #211                // Method org/apache/zookeeper/proto/ReconfigRequest.getLeavingServers:()Ljava/lang/String;
    1327: astore        24
    1329: aload         24
    1331: ifnull        1343
    1334: aload         24
    1336: ldc           #193                // String ,
    1338: invokestatic  #210                // Method org/apache/zookeeper/common/StringUtils.split:(Ljava/lang/String;Ljava/lang/String;)Ljava/util/List;
    1341: astore        23
    1343: aload         16
    1345: instanceof    #212                // class org/apache/zookeeper/server/quorum/flexible/QuorumMaj
    1348: ifne          1375
    1351: ldc           #213                // String Incremental reconfiguration requested but last configuration seen has a non-majority quorum system
    1353: astore        25
    1355: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1358: aload         25
    1360: invokeinterface #176,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
    1365: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1368: dup
    1369: aload         25
    1371: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1374: athrow
    1375: new           #86                 // class java/util/HashMap
    1378: dup
    1379: aload         16
    1381: invokeinterface #214,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getAllMembers:()Ljava/util/Map;
    1386: invokespecial #215                // Method java/util/HashMap."<init>":(Ljava/util/Map;)V
    1389: astore        25
    1391: aload         23
    1393: ifnull        1450
    1396: aload         23
    1398: invokeinterface #216,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
    1403: astore        26
    1405: aload         26
    1407: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
    1412: ifeq          1450
    1415: aload         26
    1417: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
    1422: checkcast     #118                // class java/lang/String
    1425: astore        27
    1427: aload         27
    1429: invokestatic  #217                // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
    1432: lstore        28
    1434: aload         25
    1436: lload         28
    1438: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
    1441: invokeinterface #100,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
    1446: pop
    1447: goto          1405
    1450: aload         21
    1452: ifnull        1702
    1455: aload         21
    1457: invokeinterface #216,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
    1462: astore        26
    1464: aload         26
    1466: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
    1471: ifeq          1702
    1474: aload         26
    1476: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
    1481: checkcast     #118                // class java/lang/String
    1484: astore        27
    1486: aload         27
    1488: ldc           #218                // String =
    1490: invokestatic  #210                // Method org/apache/zookeeper/common/StringUtils.split:(Ljava/lang/String;Ljava/lang/String;)Ljava/util/List;
    1493: iconst_0
    1494: anewarray     #118                // class java/lang/String
    1497: invokeinterface #219,  2          // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
    1502: checkcast     #220                // class "[Ljava/lang/String;"
    1505: astore        28
    1507: aload         28
    1509: arraylength
    1510: iconst_2
    1511: if_icmpeq     1524
    1514: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1517: dup
    1518: ldc           #221                // String Wrong format of server string
    1520: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1523: athrow
    1524: aload         28
    1526: iconst_0
    1527: aaload
    1528: aload         28
    1530: iconst_0
    1531: aaload
    1532: bipush        46
    1534: invokevirtual #94                 // Method java/lang/String.lastIndexOf:(I)I
    1537: iconst_1
    1538: iadd
    1539: invokevirtual #222                // Method java/lang/String.substring:(I)Ljava/lang/String;
    1542: invokestatic  #217                // Method java/lang/Long.parseLong:(Ljava/lang/String;)J
    1545: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
    1548: astore        29
    1550: new           #223                // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
    1553: dup
    1554: aload         29
    1556: invokevirtual #224                // Method java/lang/Long.longValue:()J
    1559: aload         28
    1561: iconst_1
    1562: aaload
    1563: invokespecial #225                // Method org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer."<init>":(JLjava/lang/String;)V
    1566: astore        30
    1568: aload         30
    1570: getfield      #226                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.clientAddr:Ljava/net/InetSocketAddress;
    1573: ifnull        1592
    1576: aload         30
    1578: getfield      #227                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.electionAddr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
    1581: ifnull        1592
    1584: aload         30
    1586: getfield      #228                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.addr:Lorg/apache/zookeeper/server/quorum/MultipleAddresses;
    1589: ifnonnull     1602
    1592: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1595: dup
    1596: ldc           #229                // String Wrong format of server string - each server should have 3 ports specified
    1598: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1601: athrow
    1602: aload         25
    1604: invokeinterface #103,  1          // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
    1609: invokeinterface #104,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
    1614: astore        31
    1616: aload         31
    1618: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
    1623: ifeq          1665
    1626: aload         31
    1628: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
    1633: checkcast     #223                // class org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer
    1636: astore        32
    1638: aload         30
    1640: getfield      #230                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
    1643: aload         32
    1645: getfield      #230                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
    1648: lcmp
    1649: ifne          1655
    1652: goto          1616
    1655: aload         30
    1657: aload         32
    1659: invokevirtual #231                // Method org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.checkAddressDuplicate:(Lorg/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer;)V
    1662: goto          1616
    1665: aload         25
    1667: aload         30
    1669: getfield      #230                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
    1672: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
    1675: invokeinterface #100,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
    1680: pop
    1681: aload         25
    1683: aload         30
    1685: getfield      #230                // Field org/apache/zookeeper/server/quorum/QuorumPeer$QuorumServer.id:J
    1688: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
    1691: aload         30
    1693: invokeinterface #83,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    1698: pop
    1699: goto          1464
    1702: goto          1717
    1705: astore        26
    1707: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1710: dup
    1711: ldc           #232                // String Reconfiguration failed
    1713: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1716: athrow
    1717: aload         4
    1719: new           #212                // class org/apache/zookeeper/server/quorum/flexible/QuorumMaj
    1722: dup
    1723: aload         25
    1725: invokespecial #233                // Method org/apache/zookeeper/server/quorum/flexible/QuorumMaj."<init>":(Ljava/util/Map;)V
    1728: putfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1731: aload         4
    1733: getfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1736: aload         4
    1738: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1741: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    1744: invokeinterface #204,  3          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.setVersion:(J)V
    1749: invokestatic  #234                // Method org/apache/zookeeper/server/quorum/QuorumPeerConfig.isStandaloneEnabled:()Z
    1752: ifeq          1798
    1755: aload         4
    1757: getfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1760: invokeinterface #235,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getVotingMembers:()Ljava/util/Map;
    1765: invokeinterface #236,  1          // InterfaceMethod java/util/Map.size:()I
    1770: iconst_2
    1771: if_icmpge     1798
    1774: ldc           #237                // String Reconfig failed - new configuration must include at least 2 followers
    1776: astore        21
    1778: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1781: aload         21
    1783: invokeinterface #176,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
    1788: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1791: dup
    1792: aload         21
    1794: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1797: athrow
    1798: aload         4
    1800: getfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1803: invokeinterface #235,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.getVotingMembers:()Ljava/util/Map;
    1808: invokeinterface #236,  1          // InterfaceMethod java/util/Map.size:()I
    1813: iconst_1
    1814: if_icmpge     1841
    1817: ldc           #238                // String Reconfig failed - new configuration must include at least 1 follower
    1819: astore        21
    1821: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1824: aload         21
    1826: invokeinterface #176,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
    1831: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
    1834: dup
    1835: aload         21
    1837: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
    1840: athrow
    1841: aload         15
    1843: invokevirtual #239                // Method org/apache/zookeeper/server/quorum/LeaderZooKeeperServer.getLeader:()Lorg/apache/zookeeper/server/quorum/Leader;
    1846: aload         4
    1848: getfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1851: invokevirtual #240                // Method org/apache/zookeeper/server/quorum/Leader.isQuorumSynced:(Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;)Z
    1854: ifne          1879
    1857: ldc           #241                // String Reconfig failed - there must be a connected and synced quorum in new configuration
    1859: astore        21
    1861: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1864: aload         21
    1866: invokeinterface #176,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
    1871: new           #242                // class org/apache/zookeeper/KeeperException$NewConfigNoQuorum
    1874: dup
    1875: invokespecial #243                // Method org/apache/zookeeper/KeeperException$NewConfigNoQuorum."<init>":()V
    1878: athrow
    1879: aload_0
    1880: ldc           #245                // String /zookeeper/config
    1882: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    1885: astore        12
    1887: aload_0
    1888: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    1891: aload         4
    1893: getfield      #150                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
    1896: aload         12
    1898: getfield      #151                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.acl:Ljava/util/List;
    1901: iconst_2
    1902: aload         4
    1904: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
    1907: aconst_null
    1908: aconst_null
    1909: invokevirtual #154                // Method org/apache/zookeeper/server/ZooKeeperServer.checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
    1912: new           #162                // class org/apache/zookeeper/txn/SetDataTxn
    1915: dup
    1916: ldc           #245                // String /zookeeper/config
    1918: aload         4
    1920: getfield      #203                // Field org/apache/zookeeper/server/Request.qv:Lorg/apache/zookeeper/server/quorum/flexible/QuorumVerifier;
    1923: invokeinterface #246,  1          // InterfaceMethod org/apache/zookeeper/server/quorum/flexible/QuorumVerifier.toString:()Ljava/lang/String;
    1928: invokevirtual #247                // Method java/lang/String.getBytes:()[B
    1931: iconst_m1
    1932: invokespecial #164                // Method org/apache/zookeeper/txn/SetDataTxn."<init>":(Ljava/lang/String;[BI)V
    1935: astore        21
    1937: aload         4
    1939: aload         21
    1941: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    1944: aload         12
    1946: aload         4
    1948: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1951: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    1954: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    1957: astore        12
    1959: aload         12
    1961: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    1964: iconst_m1
    1965: invokevirtual #165                // Method org/apache/zookeeper/data/StatPersisted.setVersion:(I)V
    1968: aload         12
    1970: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    1973: aload         4
    1975: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1978: invokevirtual #166                // Method org/apache/zookeeper/txn/TxnHeader.getTime:()J
    1981: invokevirtual #167                // Method org/apache/zookeeper/data/StatPersisted.setMtime:(J)V
    1984: aload         12
    1986: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    1989: lload_2
    1990: invokevirtual #168                // Method org/apache/zookeeper/data/StatPersisted.setMzxid:(J)V
    1993: aload         12
    1995: aload         21
    1997: invokevirtual #248                // Method org/apache/zookeeper/txn/SetDataTxn.getData:()[B
    2000: putfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
    2003: aload         12
    2005: aload_0
    2006: getstatic     #249                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.NOOP:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
    2009: ldc           #245                // String /zookeeper/config
    2011: aload         12
    2013: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
    2016: aload         12
    2018: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2021: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2024: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2027: aload_0
    2028: aload         4
    2030: aload         12
    2032: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2035: invokespecial #143                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;)V
    2038: aload_0
    2039: aload         12
    2041: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
    2044: goto          2861
    2047: aload_0
    2048: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2051: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
    2054: aload         4
    2056: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2059: aload         4
    2061: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
    2064: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
    2069: aload         5
    2071: checkcast     #250                // class org/apache/zookeeper/proto/SetACLRequest
    2074: astore        22
    2076: iload         6
    2078: ifeq          2091
    2081: aload         4
    2083: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
    2086: aload         22
    2088: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
    2091: aload         22
    2093: invokevirtual #251                // Method org/apache/zookeeper/proto/SetACLRequest.getPath:()Ljava/lang/String;
    2096: astore        9
    2098: aload_0
    2099: aload         9
    2101: aload         4
    2103: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2106: invokespecial #160                // Method validatePath:(Ljava/lang/String;J)V
    2109: aload         9
    2111: aload         4
    2113: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
    2116: aload         22
    2118: invokevirtual #252                // Method org/apache/zookeeper/proto/SetACLRequest.getAcl:()Ljava/util/List;
    2121: invokestatic  #253                // Method fixupACL:(Ljava/lang/String;Ljava/util/List;Ljava/util/List;)Ljava/util/List;
    2124: astore        23
    2126: aload_0
    2127: aload         9
    2129: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    2132: astore        12
    2134: aload_0
    2135: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2138: aload         4
    2140: getfield      #150                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
    2143: aload         12
    2145: getfield      #151                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.acl:Ljava/util/List;
    2148: bipush        16
    2150: aload         4
    2152: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
    2155: aload         9
    2157: aload         23
    2159: invokevirtual #154                // Method org/apache/zookeeper/server/ZooKeeperServer.checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
    2162: aload         12
    2164: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2167: invokevirtual #254                // Method org/apache/zookeeper/data/StatPersisted.getAversion:()I
    2170: aload         22
    2172: invokevirtual #255                // Method org/apache/zookeeper/proto/SetACLRequest.getVersion:()I
    2175: aload         9
    2177: invokestatic  #157                // Method checkAndIncVersion:(IILjava/lang/String;)I
    2180: istore        14
    2182: aload         4
    2184: new           #256                // class org/apache/zookeeper/txn/SetACLTxn
    2187: dup
    2188: aload         9
    2190: aload         23
    2192: iload         14
    2194: invokespecial #257                // Method org/apache/zookeeper/txn/SetACLTxn."<init>":(Ljava/lang/String;Ljava/util/List;I)V
    2197: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    2200: aload         12
    2202: aload         4
    2204: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    2207: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    2210: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    2213: astore        12
    2215: aload         12
    2217: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2220: iload         14
    2222: invokevirtual #258                // Method org/apache/zookeeper/data/StatPersisted.setAversion:(I)V
    2225: aload         12
    2227: aload_0
    2228: getstatic     #138                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.UPDATE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
    2231: aload         9
    2233: aload         12
    2235: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
    2238: aload         12
    2240: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2243: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2246: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2249: aload_0
    2250: aload         4
    2252: aload         12
    2254: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2257: invokespecial #143                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;)V
    2260: aload_0
    2261: aload         12
    2263: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
    2266: goto          2861
    2269: aload         4
    2271: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
    2274: invokevirtual #259                // Method java/nio/ByteBuffer.rewind:()Ljava/nio/Buffer;
    2277: pop
    2278: aload         4
    2280: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
    2283: invokevirtual #260                // Method java/nio/ByteBuffer.getInt:()I
    2286: istore        24
    2288: aload         4
    2290: new           #261                // class org/apache/zookeeper/txn/CreateSessionTxn
    2293: dup
    2294: iload         24
    2296: invokespecial #262                // Method org/apache/zookeeper/txn/CreateSessionTxn."<init>":(I)V
    2299: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    2302: aload         4
    2304: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
    2307: invokevirtual #259                // Method java/nio/ByteBuffer.rewind:()Ljava/nio/Buffer;
    2310: pop
    2311: aload_0
    2312: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2315: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
    2318: aload         4
    2320: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2323: iload         24
    2325: invokeinterface #263,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.trackSession:(JI)Z
    2330: pop
    2331: aload_0
    2332: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2335: aload         4
    2337: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2340: aload         4
    2342: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
    2345: invokevirtual #264                // Method org/apache/zookeeper/server/ZooKeeperServer.setOwner:(JLjava/lang/Object;)V
    2348: goto          2861
    2351: invokestatic  #40                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
    2354: lstore        25
    2356: aload_0
    2357: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2360: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
    2363: dup
    2364: astore        27
    2366: monitorenter
    2367: aload_0
    2368: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2371: invokevirtual #63                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
    2374: aload         4
    2376: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2379: invokevirtual #265                // Method org/apache/zookeeper/server/ZKDatabase.getEphemerals:(J)Ljava/util/Set;
    2382: astore        28
    2384: aload_0
    2385: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2388: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
    2391: invokeinterface #266,  1          // InterfaceMethod java/util/Deque.iterator:()Ljava/util/Iterator;
    2396: astore        29
    2398: aload         29
    2400: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
    2405: ifeq          2477
    2408: aload         29
    2410: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
    2415: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
    2418: astore        30
    2420: aload         30
    2422: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2425: ifnonnull     2444
    2428: aload         28
    2430: aload         30
    2432: getfield      #82                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
    2435: invokeinterface #267,  2          // InterfaceMethod java/util/Set.remove:(Ljava/lang/Object;)Z
    2440: pop
    2441: goto          2474
    2444: aload         30
    2446: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2449: invokevirtual #127                // Method org/apache/zookeeper/data/StatPersisted.getEphemeralOwner:()J
    2452: aload         4
    2454: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2457: lcmp
    2458: ifne          2474
    2461: aload         28
    2463: aload         30
    2465: getfield      #82                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.path:Ljava/lang/String;
    2468: invokeinterface #268,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
    2473: pop
    2474: goto          2398
    2477: aload         28
    2479: invokeinterface #269,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
    2484: astore        29
    2486: aload         29
    2488: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
    2493: ifeq          2637
    2496: aload         29
    2498: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
    2503: checkcast     #118                // class java/lang/String
    2506: astore        30
    2508: aload_0
    2509: getfield      #20                 // Field digestEnabled:Z
    2512: ifeq          2592
    2515: aload_0
    2516: aload         30
    2518: invokespecial #122                // Method getParentPathAndValidate:(Ljava/lang/String;)Ljava/lang/String;
    2521: astore        10
    2523: aload_0
    2524: aload         10
    2526: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    2529: astore        11
    2531: aload         11
    2533: aload         4
    2535: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    2538: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    2541: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    2544: astore        11
    2546: aload         11
    2548: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2551: aload         4
    2553: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    2556: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    2559: invokevirtual #137                // Method org/apache/zookeeper/data/StatPersisted.setPzxid:(J)V
    2562: aload         11
    2564: aload_0
    2565: getstatic     #138                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.UPDATE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
    2568: aload         10
    2570: aload         11
    2572: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
    2575: aload         11
    2577: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2580: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2583: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2586: aload_0
    2587: aload         11
    2589: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
    2592: new           #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
    2595: dup
    2596: aload         4
    2598: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    2601: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
    2604: aload         30
    2606: aconst_null
    2607: iconst_0
    2608: aconst_null
    2609: invokespecial #71                 // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord."<init>":(JLjava/lang/String;Lorg/apache/zookeeper/data/StatPersisted;ILjava/util/List;)V
    2612: astore        12
    2614: aload         12
    2616: aload_0
    2617: getstatic     #141                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.REMOVE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
    2620: aload         30
    2622: invokespecial #142                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2625: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
    2628: aload_0
    2629: aload         12
    2631: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
    2634: goto          2486
    2637: invokestatic  #270                // Method org/apache/zookeeper/server/ZooKeeperServer.isCloseSessionTxnEnabled:()Z
    2640: ifeq          2664
    2643: aload         4
    2645: new           #271                // class org/apache/zookeeper/txn/CloseSessionTxn
    2648: dup
    2649: new           #272                // class java/util/ArrayList
    2652: dup
    2653: aload         28
    2655: invokespecial #273                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
    2658: invokespecial #274                // Method org/apache/zookeeper/txn/CloseSessionTxn."<init>":(Ljava/util/List;)V
    2661: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    2664: aload_0
    2665: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2668: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
    2671: aload         4
    2673: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2676: invokeinterface #275,  3          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.setSessionClosing:(J)V
    2681: aload         27
    2683: monitorexit
    2684: goto          2695
    2687: astore        33
    2689: aload         27
    2691: monitorexit
    2692: aload         33
    2694: athrow
    2695: invokestatic  #33                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
    2698: getfield      #276                // Field org/apache/zookeeper/server/ServerMetrics.CLOSE_SESSION_PREP_TIME:Lorg/apache/zookeeper/metrics/Summary;
    2701: invokestatic  #40                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
    2704: lload         25
    2706: lsub
    2707: invokeinterface #36,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
    2712: goto          2861
    2715: aload_0
    2716: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2719: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
    2722: aload         4
    2724: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2727: aload         4
    2729: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
    2732: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
    2737: aload         5
    2739: checkcast     #277                // class org/apache/zookeeper/proto/CheckVersionRequest
    2742: astore        27
    2744: iload         6
    2746: ifeq          2759
    2749: aload         4
    2751: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
    2754: aload         27
    2756: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
    2759: aload         27
    2761: invokevirtual #278                // Method org/apache/zookeeper/proto/CheckVersionRequest.getPath:()Ljava/lang/String;
    2764: astore        9
    2766: aload_0
    2767: aload         9
    2769: aload         4
    2771: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    2774: invokespecial #160                // Method validatePath:(Ljava/lang/String;J)V
    2777: aload_0
    2778: aload         9
    2780: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
    2783: astore        12
    2785: aload_0
    2786: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    2789: aload         4
    2791: getfield      #150                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
    2794: aload         12
    2796: getfield      #151                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.acl:Ljava/util/List;
    2799: iconst_1
    2800: aload         4
    2802: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
    2805: aload         9
    2807: aconst_null
    2808: invokevirtual #154                // Method org/apache/zookeeper/server/ZooKeeperServer.checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
    2811: aload         4
    2813: new           #279                // class org/apache/zookeeper/txn/CheckVersionTxn
    2816: dup
    2817: aload         9
    2819: aload         12
    2821: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
    2824: invokevirtual #155                // Method org/apache/zookeeper/data/StatPersisted.getVersion:()I
    2827: aload         27
    2829: invokevirtual #280                // Method org/apache/zookeeper/proto/CheckVersionRequest.getVersion:()I
    2832: aload         9
    2834: invokestatic  #157                // Method checkAndIncVersion:(IILjava/lang/String;)I
    2837: invokespecial #281                // Method org/apache/zookeeper/txn/CheckVersionTxn."<init>":(Ljava/lang/String;I)V
    2840: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    2843: goto          2861
    2846: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    2849: ldc_w         #282                // String unknown type {}
    2852: iload_1
    2853: invokestatic  #283                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    2856: invokeinterface #284,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
    2861: aload         4
    2863: invokevirtual #285                // Method org/apache/zookeeper/server/Request.getTxnDigest:()Lorg/apache/zookeeper/txn/TxnDigest;
    2866: ifnonnull     2882
    2869: aload_0
    2870: getfield      #20                 // Field digestEnabled:Z
    2873: ifeq          2882
    2876: aload_0
    2877: aload         4
    2879: invokespecial #286                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;)V
    2882: return
    Exception table:
       from    to  target type
        1014  1023  1026   Class java/lang/ClassCastException
        1206  1267  1270   Class java/io/IOException
        1206  1267  1270   Class org/apache/zookeeper/server/quorum/QuorumPeerConfig$ConfigException
        1391  1702  1705   Class org/apache/zookeeper/server/quorum/QuorumPeerConfig$ConfigException
        2367  2684  2687   any
        2687  2692  2687   any

  private void pRequest2TxnCreate(int, org.apache.zookeeper.server.Request, org.apache.jute.Record, boolean) throws java.io.IOException, org.apache.zookeeper.KeeperException;
    Code:
       0: iload         4
       2: ifeq          13
       5: aload_2
       6: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
       9: aload_3
      10: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
      13: iload_1
      14: bipush        21
      16: if_icmpne     63
      19: aload_3
      20: checkcast     #287                // class org/apache/zookeeper/proto/CreateTTLRequest
      23: astore        11
      25: aload         11
      27: invokevirtual #288                // Method org/apache/zookeeper/proto/CreateTTLRequest.getFlags:()I
      30: istore        5
      32: aload         11
      34: invokevirtual #289                // Method org/apache/zookeeper/proto/CreateTTLRequest.getPath:()Ljava/lang/String;
      37: astore        6
      39: aload         11
      41: invokevirtual #290                // Method org/apache/zookeeper/proto/CreateTTLRequest.getAcl:()Ljava/util/List;
      44: astore        7
      46: aload         11
      48: invokevirtual #291                // Method org/apache/zookeeper/proto/CreateTTLRequest.getData:()[B
      51: astore        8
      53: aload         11
      55: invokevirtual #292                // Method org/apache/zookeeper/proto/CreateTTLRequest.getTtl:()J
      58: lstore        9
      60: goto          102
      63: aload_3
      64: checkcast     #293                // class org/apache/zookeeper/proto/CreateRequest
      67: astore        11
      69: aload         11
      71: invokevirtual #294                // Method org/apache/zookeeper/proto/CreateRequest.getFlags:()I
      74: istore        5
      76: aload         11
      78: invokevirtual #295                // Method org/apache/zookeeper/proto/CreateRequest.getPath:()Ljava/lang/String;
      81: astore        6
      83: aload         11
      85: invokevirtual #296                // Method org/apache/zookeeper/proto/CreateRequest.getAcl:()Ljava/util/List;
      88: astore        7
      90: aload         11
      92: invokevirtual #297                // Method org/apache/zookeeper/proto/CreateRequest.getData:()[B
      95: astore        8
      97: ldc2_w        #66                 // long -1l
     100: lstore        9
     102: iload         5
     104: invokestatic  #298                // Method org/apache/zookeeper/CreateMode.fromFlag:(I)Lorg/apache/zookeeper/CreateMode;
     107: astore        11
     109: aload_0
     110: aload         6
     112: aload         11
     114: aload_2
     115: lload         9
     117: invokespecial #299                // Method validateCreateRequest:(Ljava/lang/String;Lorg/apache/zookeeper/CreateMode;Lorg/apache/zookeeper/server/Request;J)V
     120: aload_0
     121: aload         6
     123: aload_2
     124: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     127: invokespecial #300                // Method validatePathForCreate:(Ljava/lang/String;J)Ljava/lang/String;
     130: astore        12
     132: aload         6
     134: aload_2
     135: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
     138: aload         7
     140: invokestatic  #253                // Method fixupACL:(Ljava/lang/String;Ljava/util/List;Ljava/util/List;)Ljava/util/List;
     143: astore        13
     145: aload_0
     146: aload         12
     148: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     151: astore        14
     153: aload_0
     154: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     157: aload_2
     158: getfield      #150                // Field org/apache/zookeeper/server/Request.cnxn:Lorg/apache/zookeeper/server/ServerCnxn;
     161: aload         14
     163: getfield      #151                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.acl:Ljava/util/List;
     166: iconst_4
     167: aload_2
     168: getfield      #153                // Field org/apache/zookeeper/server/Request.authInfo:Ljava/util/List;
     171: aload         6
     173: aload         13
     175: invokevirtual #154                // Method org/apache/zookeeper/server/ZooKeeperServer.checkACL:(Lorg/apache/zookeeper/server/ServerCnxn;Ljava/util/List;ILjava/util/List;Ljava/lang/String;Ljava/util/List;)V
     178: aload         14
     180: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     183: invokevirtual #301                // Method org/apache/zookeeper/data/StatPersisted.getCversion:()I
     186: istore        15
     188: aload         11
     190: invokevirtual #302                // Method org/apache/zookeeper/CreateMode.isSequential:()Z
     193: ifeq          237
     196: new           #1                  // class java/lang/StringBuilder
     199: dup
     200: invokespecial #2                  // Method java/lang/StringBuilder."<init>":()V
     203: aload         6
     205: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     208: getstatic     #303                // Field java/util/Locale.ENGLISH:Ljava/util/Locale;
     211: ldc_w         #304                // String %010d
     214: iconst_1
     215: anewarray     #27                 // class java/lang/Object
     218: dup
     219: iconst_0
     220: iload         15
     222: invokestatic  #283                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     225: aastore
     226: invokestatic  #305                // Method java/lang/String.format:(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     229: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     232: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     235: astore        6
     237: aload_0
     238: aload         6
     240: aload_2
     241: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     244: invokespecial #160                // Method validatePath:(Ljava/lang/String;J)V
     247: aload_0
     248: aload         6
     250: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     253: ifnull        266
     256: new           #306                // class org/apache/zookeeper/KeeperException$NodeExistsException
     259: dup
     260: aload         6
     262: invokespecial #307                // Method org/apache/zookeeper/KeeperException$NodeExistsException."<init>":(Ljava/lang/String;)V
     265: athrow
     266: goto          271
     269: astore        16
     271: aload         14
     273: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     276: invokevirtual #127                // Method org/apache/zookeeper/data/StatPersisted.getEphemeralOwner:()J
     279: invokestatic  #128                // Method org/apache/zookeeper/server/EphemeralType.get:(J)Lorg/apache/zookeeper/server/EphemeralType;
     282: getstatic     #129                // Field org/apache/zookeeper/server/EphemeralType.NORMAL:Lorg/apache/zookeeper/server/EphemeralType;
     285: if_acmpne     292
     288: iconst_1
     289: goto          293
     292: iconst_0
     293: istore        16
     295: iload         16
     297: ifeq          310
     300: new           #308                // class org/apache/zookeeper/KeeperException$NoChildrenForEphemeralsException
     303: dup
     304: aload         6
     306: invokespecial #309                // Method org/apache/zookeeper/KeeperException$NoChildrenForEphemeralsException."<init>":(Ljava/lang/String;)V
     309: athrow
     310: aload         14
     312: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     315: invokevirtual #301                // Method org/apache/zookeeper/data/StatPersisted.getCversion:()I
     318: iconst_1
     319: iadd
     320: istore        17
     322: iload_1
     323: bipush        19
     325: if_icmpne     350
     328: aload_2
     329: new           #310                // class org/apache/zookeeper/txn/CreateContainerTxn
     332: dup
     333: aload         6
     335: aload         8
     337: aload         13
     339: iload         17
     341: invokespecial #311                // Method org/apache/zookeeper/txn/CreateContainerTxn."<init>":(Ljava/lang/String;[BLjava/util/List;I)V
     344: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
     347: goto          404
     350: iload_1
     351: bipush        21
     353: if_icmpne     380
     356: aload_2
     357: new           #312                // class org/apache/zookeeper/txn/CreateTTLTxn
     360: dup
     361: aload         6
     363: aload         8
     365: aload         13
     367: iload         17
     369: lload         9
     371: invokespecial #313                // Method org/apache/zookeeper/txn/CreateTTLTxn."<init>":(Ljava/lang/String;[BLjava/util/List;IJ)V
     374: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
     377: goto          404
     380: aload_2
     381: new           #314                // class org/apache/zookeeper/txn/CreateTxn
     384: dup
     385: aload         6
     387: aload         8
     389: aload         13
     391: aload         11
     393: invokevirtual #315                // Method org/apache/zookeeper/CreateMode.isEphemeral:()Z
     396: iload         17
     398: invokespecial #316                // Method org/apache/zookeeper/txn/CreateTxn."<init>":(Ljava/lang/String;[BLjava/util/List;ZI)V
     401: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
     404: aload_2
     405: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     408: astore        18
     410: lconst_0
     411: lstore        19
     413: aload         11
     415: invokevirtual #317                // Method org/apache/zookeeper/CreateMode.isContainer:()Z
     418: ifeq          429
     421: ldc2_w        #319                // long -9223372036854775808l
     424: lstore        19
     426: goto          464
     429: aload         11
     431: invokevirtual #321                // Method org/apache/zookeeper/CreateMode.isTTL:()Z
     434: ifeq          450
     437: getstatic     #322                // Field org/apache/zookeeper/server/EphemeralType.TTL:Lorg/apache/zookeeper/server/EphemeralType;
     440: lload         9
     442: invokevirtual #323                // Method org/apache/zookeeper/server/EphemeralType.toEphemeralOwner:(J)J
     445: lstore        19
     447: goto          464
     450: aload         11
     452: invokevirtual #315                // Method org/apache/zookeeper/CreateMode.isEphemeral:()Z
     455: ifeq          464
     458: aload_2
     459: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     462: lstore        19
     464: aload         18
     466: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     469: aload         18
     471: invokevirtual #166                // Method org/apache/zookeeper/txn/TxnHeader.getTime:()J
     474: lload         19
     476: invokestatic  #324                // Method org/apache/zookeeper/server/DataTree.createStat:(JJJ)Lorg/apache/zookeeper/data/StatPersisted;
     479: astore        21
     481: aload         14
     483: aload_2
     484: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     487: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     490: invokevirtual #136                // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.duplicate:(J)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
     493: astore        14
     495: aload         14
     497: dup
     498: getfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     501: iconst_1
     502: iadd
     503: putfield      #124                // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.childCount:I
     506: aload         14
     508: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     511: iload         17
     513: invokevirtual #325                // Method org/apache/zookeeper/data/StatPersisted.setCversion:(I)V
     516: aload         14
     518: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     521: aload_2
     522: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     525: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     528: invokevirtual #137                // Method org/apache/zookeeper/data/StatPersisted.setPzxid:(J)V
     531: aload         14
     533: aload_0
     534: getstatic     #138                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.UPDATE:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     537: aload         12
     539: aload         14
     541: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     544: aload         14
     546: getfield      #78                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.stat:Lorg/apache/zookeeper/data/StatPersisted;
     549: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     552: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     555: aload_0
     556: aload         14
     558: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     561: new           #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
     564: dup
     565: aload_2
     566: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
     569: invokevirtual #135                // Method org/apache/zookeeper/txn/TxnHeader.getZxid:()J
     572: aload         6
     574: aload         21
     576: iconst_0
     577: aload         13
     579: invokespecial #71                 // Method org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord."<init>":(JLjava/lang/String;Lorg/apache/zookeeper/data/StatPersisted;ILjava/util/List;)V
     582: astore        22
     584: aload         22
     586: aload         8
     588: putfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     591: aload         22
     593: aload_0
     594: getstatic     #326                // Field org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.ADD:Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;
     597: aload         6
     599: aload         22
     601: getfield      #77                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.data:[B
     604: aload         21
     606: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     609: putfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     612: aload_0
     613: aload_2
     614: aload         22
     616: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
     619: invokespecial #143                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;)V
     622: aload_0
     623: aload         22
     625: invokevirtual #140                // Method addChangeRecord:(Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;)V
     628: return
    Exception table:
       from    to  target type
         247   266   269   Class org/apache/zookeeper/KeeperException$NoNodeException

  private void validatePath(java.lang.String, long) throws org.apache.zookeeper.KeeperException$BadArgumentsException;
    Code:
       0: aload_1
       1: invokestatic  #327                // Method org/apache/zookeeper/common/PathUtils.validatePath:(Ljava/lang/String;)V
       4: goto          52
       7: astore        4
       9: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      12: ldc_w         #329                // String Invalid path {} with session 0x{}, reason: {}
      15: iconst_3
      16: anewarray     #27                 // class java/lang/Object
      19: dup
      20: iconst_0
      21: aload_1
      22: aastore
      23: dup
      24: iconst_1
      25: lload_2
      26: invokestatic  #106                // Method java/lang/Long.toHexString:(J)Ljava/lang/String;
      29: aastore
      30: dup
      31: iconst_2
      32: aload         4
      34: invokevirtual #330                // Method java/lang/IllegalArgumentException.getMessage:()Ljava/lang/String;
      37: aastore
      38: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      43: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
      46: dup
      47: aload_1
      48: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
      51: athrow
      52: return
    Exception table:
       from    to  target type
           0     4     7   Class java/lang/IllegalArgumentException

  private java.lang.String getParentPathAndValidate(java.lang.String) throws org.apache.zookeeper.KeeperException$BadArgumentsException;
    Code:
       0: aload_1
       1: bipush        47
       3: invokevirtual #94                 // Method java/lang/String.lastIndexOf:(I)I
       6: istore_2
       7: iload_2
       8: iconst_m1
       9: if_icmpeq     35
      12: aload_1
      13: iconst_0
      14: invokevirtual #95                 // Method java/lang/String.indexOf:(I)I
      17: iconst_m1
      18: if_icmpne     35
      21: aload_0
      22: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      25: invokevirtual #63                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      28: aload_1
      29: invokevirtual #332                // Method org/apache/zookeeper/server/ZKDatabase.isSpecialPath:(Ljava/lang/String;)Z
      32: ifeq          44
      35: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
      38: dup
      39: aload_1
      40: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
      43: athrow
      44: aload_1
      45: iconst_0
      46: iload_2
      47: invokevirtual #96                 // Method java/lang/String.substring:(II)Ljava/lang/String;
      50: areturn

  private static int checkAndIncVersion(int, int, java.lang.String) throws org.apache.zookeeper.KeeperException$BadVersionException;
    Code:
       0: iload_1
       1: iconst_m1
       2: if_icmpeq     19
       5: iload_1
       6: iload_0
       7: if_icmpeq     19
      10: new           #130                // class org/apache/zookeeper/KeeperException$BadVersionException
      13: dup
      14: aload_2
      15: invokespecial #131                // Method org/apache/zookeeper/KeeperException$BadVersionException."<init>":(Ljava/lang/String;)V
      18: athrow
      19: iload_0
      20: iconst_1
      21: iadd
      22: ireturn

  protected void pRequest(org.apache.zookeeper.server.Request) throws org.apache.zookeeper.server.RequestProcessor$RequestProcessorException;
    Code:
       0: aload_1
       1: aconst_null
       2: invokevirtual #116                // Method org/apache/zookeeper/server/Request.setHdr:(Lorg/apache/zookeeper/txn/TxnHeader;)V
       5: aload_1
       6: aconst_null
       7: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
      10: aload_1
      11: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
      14: tableswitch   { // -11 to 106
                   -11: 1205
                   -10: 1205
                    -9: 1256
                    -8: 1256
                    -7: 1256
                    -6: 1256
                    -5: 1256
                    -4: 1256
                    -3: 1256
                    -2: 1256
                    -1: 1256
                     0: 1256
                     1: 500
                     2: 558
                     3: 1233
                     4: 1233
                     5: 589
                     6: 1233
                     7: 660
                     8: 1233
                     9: 1233
                    10: 1256
                    11: 1233
                    12: 1233
                    13: 691
                    14: 722
                    15: 500
                    16: 620
                    17: 1233
                    18: 1233
                    19: 500
                    20: 558
                    21: 529
                    22: 1233
                    23: 1256
                    24: 1256
                    25: 1256
                    26: 1256
                    27: 1256
                    28: 1256
                    29: 1256
                    30: 1256
                    31: 1256
                    32: 1256
                    33: 1256
                    34: 1256
                    35: 1256
                    36: 1256
                    37: 1256
                    38: 1256
                    39: 1256
                    40: 1256
                    41: 1256
                    42: 1256
                    43: 1256
                    44: 1256
                    45: 1256
                    46: 1256
                    47: 1256
                    48: 1256
                    49: 1256
                    50: 1256
                    51: 1256
                    52: 1256
                    53: 1256
                    54: 1256
                    55: 1256
                    56: 1256
                    57: 1256
                    58: 1256
                    59: 1256
                    60: 1256
                    61: 1256
                    62: 1256
                    63: 1256
                    64: 1256
                    65: 1256
                    66: 1256
                    67: 1256
                    68: 1256
                    69: 1256
                    70: 1256
                    71: 1256
                    72: 1256
                    73: 1256
                    74: 1256
                    75: 1256
                    76: 1256
                    77: 1256
                    78: 1256
                    79: 1256
                    80: 1256
                    81: 1256
                    82: 1256
                    83: 1256
                    84: 1256
                    85: 1256
                    86: 1256
                    87: 1256
                    88: 1256
                    89: 1256
                    90: 1256
                    91: 1256
                    92: 1256
                    93: 1256
                    94: 1256
                    95: 1256
                    96: 1256
                    97: 1256
                    98: 1256
                    99: 1256
                   100: 1256
                   101: 1233
                   102: 1256
                   103: 1233
                   104: 1233
                   105: 1233
                   106: 1233
               default: 1256
          }
     500: new           #293                // class org/apache/zookeeper/proto/CreateRequest
     503: dup
     504: invokespecial #333                // Method org/apache/zookeeper/proto/CreateRequest."<init>":()V
     507: astore_2
     508: aload_0
     509: aload_1
     510: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     513: aload_0
     514: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     517: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     520: aload_1
     521: aload_2
     522: iconst_1
     523: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     526: goto          1274
     529: new           #287                // class org/apache/zookeeper/proto/CreateTTLRequest
     532: dup
     533: invokespecial #336                // Method org/apache/zookeeper/proto/CreateTTLRequest."<init>":()V
     536: astore_3
     537: aload_0
     538: aload_1
     539: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     542: aload_0
     543: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     546: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     549: aload_1
     550: aload_3
     551: iconst_1
     552: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     555: goto          1274
     558: new           #147                // class org/apache/zookeeper/proto/DeleteRequest
     561: dup
     562: invokespecial #337                // Method org/apache/zookeeper/proto/DeleteRequest."<init>":()V
     565: astore        4
     567: aload_0
     568: aload_1
     569: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     572: aload_0
     573: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     576: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     579: aload_1
     580: aload         4
     582: iconst_1
     583: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     586: goto          1274
     589: new           #158                // class org/apache/zookeeper/proto/SetDataRequest
     592: dup
     593: invokespecial #338                // Method org/apache/zookeeper/proto/SetDataRequest."<init>":()V
     596: astore        5
     598: aload_0
     599: aload_1
     600: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     603: aload_0
     604: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     607: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     610: aload_1
     611: aload         5
     613: iconst_1
     614: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     617: goto          1274
     620: new           #187                // class org/apache/zookeeper/proto/ReconfigRequest
     623: dup
     624: invokespecial #339                // Method org/apache/zookeeper/proto/ReconfigRequest."<init>":()V
     627: astore        6
     629: aload_1
     630: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     633: aload         6
     635: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
     638: aload_0
     639: aload_1
     640: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     643: aload_0
     644: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     647: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     650: aload_1
     651: aload         6
     653: iconst_1
     654: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     657: goto          1274
     660: new           #250                // class org/apache/zookeeper/proto/SetACLRequest
     663: dup
     664: invokespecial #340                // Method org/apache/zookeeper/proto/SetACLRequest."<init>":()V
     667: astore        7
     669: aload_0
     670: aload_1
     671: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     674: aload_0
     675: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     678: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     681: aload_1
     682: aload         7
     684: iconst_1
     685: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     688: goto          1274
     691: new           #277                // class org/apache/zookeeper/proto/CheckVersionRequest
     694: dup
     695: invokespecial #341                // Method org/apache/zookeeper/proto/CheckVersionRequest."<init>":()V
     698: astore        8
     700: aload_0
     701: aload_1
     702: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     705: aload_0
     706: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     709: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     712: aload_1
     713: aload         8
     715: iconst_1
     716: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     719: goto          1274
     722: new           #342                // class org/apache/zookeeper/MultiOperationRecord
     725: dup
     726: invokespecial #343                // Method org/apache/zookeeper/MultiOperationRecord."<init>":()V
     729: astore        9
     731: aload_1
     732: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
     735: aload         9
     737: invokestatic  #148                // Method org/apache/zookeeper/server/ByteBufferInputStream.byteBuffer2Record:(Ljava/nio/ByteBuffer;Lorg/apache/jute/Record;)V
     740: goto          779
     743: astore        10
     745: aload_1
     746: new           #111                // class org/apache/zookeeper/txn/TxnHeader
     749: dup
     750: aload_1
     751: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     754: aload_1
     755: getfield      #113                // Field org/apache/zookeeper/server/Request.cxid:I
     758: aload_0
     759: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     762: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     765: invokestatic  #114                // Method org/apache/zookeeper/common/Time.currentWallTime:()J
     768: bipush        14
     770: invokespecial #115                // Method org/apache/zookeeper/txn/TxnHeader."<init>":(JIJJI)V
     773: invokevirtual #116                // Method org/apache/zookeeper/server/Request.setHdr:(Lorg/apache/zookeeper/txn/TxnHeader;)V
     776: aload         10
     778: athrow
     779: new           #272                // class java/util/ArrayList
     782: dup
     783: invokespecial #344                // Method java/util/ArrayList."<init>":()V
     786: astore        10
     788: aload_0
     789: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
     792: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
     795: lstore        11
     797: aconst_null
     798: astore        13
     800: aload_0
     801: aload         9
     803: invokespecial #345                // Method getPendingChanges:(Lorg/apache/zookeeper/MultiOperationRecord;)Ljava/util/Map;
     806: astore        14
     808: aload_1
     809: new           #111                // class org/apache/zookeeper/txn/TxnHeader
     812: dup
     813: aload_1
     814: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
     817: aload_1
     818: getfield      #113                // Field org/apache/zookeeper/server/Request.cxid:I
     821: lload         11
     823: invokestatic  #114                // Method org/apache/zookeeper/common/Time.currentWallTime:()J
     826: aload_1
     827: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
     830: invokespecial #115                // Method org/apache/zookeeper/txn/TxnHeader."<init>":(JIJJI)V
     833: invokevirtual #116                // Method org/apache/zookeeper/server/Request.setHdr:(Lorg/apache/zookeeper/txn/TxnHeader;)V
     836: aload         9
     838: invokevirtual #88                 // Method org/apache/zookeeper/MultiOperationRecord.iterator:()Ljava/util/Iterator;
     841: astore        15
     843: aload         15
     845: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     850: ifeq          1177
     853: aload         15
     855: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     860: checkcast     #91                 // class org/apache/zookeeper/Op
     863: astore        16
     865: aload         16
     867: invokevirtual #346                // Method org/apache/zookeeper/Op.toRequestRecord:()Lorg/apache/jute/Record;
     870: astore        17
     872: aload         13
     874: ifnull        898
     877: iconst_m1
     878: istore        18
     880: new           #347                // class org/apache/zookeeper/txn/ErrorTxn
     883: dup
     884: getstatic     #348                // Field org/apache/zookeeper/KeeperException$Code.RUNTIMEINCONSISTENCY:Lorg/apache/zookeeper/KeeperException$Code;
     887: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     890: invokespecial #350                // Method org/apache/zookeeper/txn/ErrorTxn."<init>":(I)V
     893: astore        19
     895: goto          1024
     898: aload_0
     899: aload         16
     901: invokevirtual #351                // Method org/apache/zookeeper/Op.getType:()I
     904: lload         11
     906: aload_1
     907: aload         17
     909: iconst_0
     910: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
     913: aload         16
     915: invokevirtual #351                // Method org/apache/zookeeper/Op.getType:()I
     918: istore        18
     920: aload_1
     921: invokevirtual #352                // Method org/apache/zookeeper/server/Request.getTxn:()Lorg/apache/jute/Record;
     924: astore        19
     926: goto          1024
     929: astore        20
     931: aload         20
     933: astore        13
     935: iconst_m1
     936: istore        18
     938: new           #347                // class org/apache/zookeeper/txn/ErrorTxn
     941: dup
     942: aload         20
     944: invokevirtual #354                // Method org/apache/zookeeper/KeeperException.code:()Lorg/apache/zookeeper/KeeperException$Code;
     947: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     950: invokespecial #350                // Method org/apache/zookeeper/txn/ErrorTxn."<init>":(I)V
     953: astore        19
     955: aload         20
     957: invokevirtual #354                // Method org/apache/zookeeper/KeeperException.code:()Lorg/apache/zookeeper/KeeperException$Code;
     960: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     963: getstatic     #355                // Field org/apache/zookeeper/KeeperException$Code.APIERROR:Lorg/apache/zookeeper/KeeperException$Code;
     966: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
     969: if_icmple     1010
     972: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     975: ldc_w         #356                // String Got user-level KeeperException when processing {} aborting remaining multi ops. Error Path:{} Error:{}
     978: iconst_3
     979: anewarray     #27                 // class java/lang/Object
     982: dup
     983: iconst_0
     984: aload_1
     985: invokevirtual #357                // Method org/apache/zookeeper/server/Request.toString:()Ljava/lang/String;
     988: aastore
     989: dup
     990: iconst_1
     991: aload         20
     993: invokevirtual #358                // Method org/apache/zookeeper/KeeperException.getPath:()Ljava/lang/String;
     996: aastore
     997: dup
     998: iconst_2
     999: aload         20
    1001: invokevirtual #359                // Method org/apache/zookeeper/KeeperException.getMessage:()Ljava/lang/String;
    1004: aastore
    1005: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
    1010: aload_1
    1011: aload         20
    1013: invokevirtual #360                // Method org/apache/zookeeper/server/Request.setException:(Lorg/apache/zookeeper/KeeperException;)V
    1016: aload_0
    1017: lload         11
    1019: aload         14
    1021: invokevirtual #361                // Method rollbackPendingChanges:(JLjava/util/Map;)V
    1024: new           #362                // class java/io/ByteArrayOutputStream
    1027: dup
    1028: invokespecial #363                // Method java/io/ByteArrayOutputStream."<init>":()V
    1031: astore        20
    1033: aconst_null
    1034: astore        21
    1036: aload         20
    1038: invokestatic  #364                // Method org/apache/jute/BinaryOutputArchive.getArchive:(Ljava/io/OutputStream;)Lorg/apache/jute/BinaryOutputArchive;
    1041: astore        22
    1043: aload         19
    1045: aload         22
    1047: ldc_w         #365                // String request
    1050: invokeinterface #366,  3          // InterfaceMethod org/apache/jute/Record.serialize:(Lorg/apache/jute/OutputArchive;Ljava/lang/String;)V
    1055: aload         20
    1057: invokevirtual #367                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
    1060: invokestatic  #368                // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
    1063: astore        23
    1065: aload         10
    1067: new           #369                // class org/apache/zookeeper/txn/Txn
    1070: dup
    1071: iload         18
    1073: aload         23
    1075: invokevirtual #120                // Method java/nio/ByteBuffer.array:()[B
    1078: invokespecial #370                // Method org/apache/zookeeper/txn/Txn."<init>":(I[B)V
    1081: invokeinterface #371,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
    1086: pop
    1087: aload         20
    1089: ifnull        1174
    1092: aload         21
    1094: ifnull        1117
    1097: aload         20
    1099: invokevirtual #372                // Method java/io/ByteArrayOutputStream.close:()V
    1102: goto          1174
    1105: astore        22
    1107: aload         21
    1109: aload         22
    1111: invokevirtual #374                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
    1114: goto          1174
    1117: aload         20
    1119: invokevirtual #372                // Method java/io/ByteArrayOutputStream.close:()V
    1122: goto          1174
    1125: astore        22
    1127: aload         22
    1129: astore        21
    1131: aload         22
    1133: athrow
    1134: astore        24
    1136: aload         20
    1138: ifnull        1171
    1141: aload         21
    1143: ifnull        1166
    1146: aload         20
    1148: invokevirtual #372                // Method java/io/ByteArrayOutputStream.close:()V
    1151: goto          1171
    1154: astore        25
    1156: aload         21
    1158: aload         25
    1160: invokevirtual #374                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
    1163: goto          1171
    1166: aload         20
    1168: invokevirtual #372                // Method java/io/ByteArrayOutputStream.close:()V
    1171: aload         24
    1173: athrow
    1174: goto          843
    1177: aload_1
    1178: new           #375                // class org/apache/zookeeper/txn/MultiTxn
    1181: dup
    1182: aload         10
    1184: invokespecial #376                // Method org/apache/zookeeper/txn/MultiTxn."<init>":(Ljava/util/List;)V
    1187: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    1190: aload_0
    1191: getfield      #20                 // Field digestEnabled:Z
    1194: ifeq          1274
    1197: aload_0
    1198: aload_1
    1199: invokespecial #286                // Method setTxnDigest:(Lorg/apache/zookeeper/server/Request;)V
    1202: goto          1274
    1205: aload_1
    1206: invokevirtual #377                // Method org/apache/zookeeper/server/Request.isLocalSession:()Z
    1209: ifne          1274
    1212: aload_0
    1213: aload_1
    1214: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
    1217: aload_0
    1218: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    1221: invokevirtual #334                // Method org/apache/zookeeper/server/ZooKeeperServer.getNextZxid:()J
    1224: aload_1
    1225: aconst_null
    1226: iconst_1
    1227: invokevirtual #335                // Method pRequest2Txn:(IJLorg/apache/zookeeper/server/Request;Lorg/apache/jute/Record;Z)V
    1230: goto          1274
    1233: aload_0
    1234: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    1237: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
    1240: aload_1
    1241: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
    1244: aload_1
    1245: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
    1248: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
    1253: goto          1274
    1256: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1259: ldc_w         #282                // String unknown type {}
    1262: aload_1
    1263: getfield      #45                 // Field org/apache/zookeeper/server/Request.type:I
    1266: invokestatic  #283                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
    1269: invokeinterface #284,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
    1274: goto          1493
    1277: astore_2
    1278: aload_1
    1279: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1282: ifnull        1311
    1285: aload_1
    1286: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1289: iconst_m1
    1290: invokevirtual #378                // Method org/apache/zookeeper/txn/TxnHeader.setType:(I)V
    1293: aload_1
    1294: new           #347                // class org/apache/zookeeper/txn/ErrorTxn
    1297: dup
    1298: aload_2
    1299: invokevirtual #354                // Method org/apache/zookeeper/KeeperException.code:()Lorg/apache/zookeeper/KeeperException$Code;
    1302: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
    1305: invokespecial #350                // Method org/apache/zookeeper/txn/ErrorTxn."<init>":(I)V
    1308: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    1311: aload_2
    1312: invokevirtual #354                // Method org/apache/zookeeper/KeeperException.code:()Lorg/apache/zookeeper/KeeperException$Code;
    1315: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
    1318: getstatic     #355                // Field org/apache/zookeeper/KeeperException$Code.APIERROR:Lorg/apache/zookeeper/KeeperException$Code;
    1321: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
    1324: if_icmple     1363
    1327: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1330: ldc_w         #379                // String Got user-level KeeperException when processing {} Error Path:{} Error:{}
    1333: iconst_3
    1334: anewarray     #27                 // class java/lang/Object
    1337: dup
    1338: iconst_0
    1339: aload_1
    1340: invokevirtual #357                // Method org/apache/zookeeper/server/Request.toString:()Ljava/lang/String;
    1343: aastore
    1344: dup
    1345: iconst_1
    1346: aload_2
    1347: invokevirtual #358                // Method org/apache/zookeeper/KeeperException.getPath:()Ljava/lang/String;
    1350: aastore
    1351: dup
    1352: iconst_2
    1353: aload_2
    1354: invokevirtual #359                // Method org/apache/zookeeper/KeeperException.getMessage:()Ljava/lang/String;
    1357: aastore
    1358: invokeinterface #331,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
    1363: aload_1
    1364: aload_2
    1365: invokevirtual #360                // Method org/apache/zookeeper/server/Request.setException:(Lorg/apache/zookeeper/KeeperException;)V
    1368: goto          1493
    1371: astore_2
    1372: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1375: ldc_w         #380                // String Failed to process {}
    1378: aload_1
    1379: aload_2
    1380: invokeinterface #381,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
    1385: new           #1                  // class java/lang/StringBuilder
    1388: dup
    1389: invokespecial #2                  // Method java/lang/StringBuilder."<init>":()V
    1392: astore_3
    1393: aload_1
    1394: getfield      #119                // Field org/apache/zookeeper/server/Request.request:Ljava/nio/ByteBuffer;
    1397: astore        4
    1399: aload         4
    1401: ifnull        1438
    1404: aload         4
    1406: invokevirtual #259                // Method java/nio/ByteBuffer.rewind:()Ljava/nio/Buffer;
    1409: pop
    1410: aload         4
    1412: invokevirtual #382                // Method java/nio/ByteBuffer.hasRemaining:()Z
    1415: ifeq          1446
    1418: aload_3
    1419: aload         4
    1421: invokevirtual #383                // Method java/nio/ByteBuffer.get:()B
    1424: sipush        255
    1427: iand
    1428: invokestatic  #384                // Method java/lang/Integer.toHexString:(I)Ljava/lang/String;
    1431: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1434: pop
    1435: goto          1410
    1438: aload_3
    1439: ldc_w         #385                // String request buffer is null
    1442: invokevirtual #4                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    1445: pop
    1446: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
    1449: ldc_w         #386                // String Dumping request buffer: 0x{}
    1452: aload_3
    1453: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    1456: invokeinterface #387,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
    1461: aload_1
    1462: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1465: ifnull        1493
    1468: aload_1
    1469: invokevirtual #110                // Method org/apache/zookeeper/server/Request.getHdr:()Lorg/apache/zookeeper/txn/TxnHeader;
    1472: iconst_m1
    1473: invokevirtual #378                // Method org/apache/zookeeper/txn/TxnHeader.setType:(I)V
    1476: aload_1
    1477: new           #347                // class org/apache/zookeeper/txn/ErrorTxn
    1480: dup
    1481: getstatic     #388                // Field org/apache/zookeeper/KeeperException$Code.MARSHALLINGERROR:Lorg/apache/zookeeper/KeeperException$Code;
    1484: invokevirtual #349                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
    1487: invokespecial #350                // Method org/apache/zookeeper/txn/ErrorTxn."<init>":(I)V
    1490: invokevirtual #134                // Method org/apache/zookeeper/server/Request.setTxn:(Lorg/apache/jute/Record;)V
    1493: aload_1
    1494: aload_0
    1495: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
    1498: invokevirtual #389                // Method org/apache/zookeeper/server/ZooKeeperServer.getZxid:()J
    1501: putfield      #390                // Field org/apache/zookeeper/server/Request.zxid:J
    1504: invokestatic  #33                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
    1507: getfield      #391                // Field org/apache/zookeeper/server/ServerMetrics.PREP_PROCESS_TIME:Lorg/apache/zookeeper/metrics/Summary;
    1510: invokestatic  #40                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
    1513: aload_1
    1514: getfield      #53                 // Field org/apache/zookeeper/server/Request.prepStartTime:J
    1517: lsub
    1518: invokeinterface #36,  3           // InterfaceMethod org/apache/zookeeper/metrics/Summary.add:(J)V
    1523: aload_0
    1524: getfield      #17                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
    1527: aload_1
    1528: invokeinterface #392,  2          // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.processRequest:(Lorg/apache/zookeeper/server/Request;)V
    1533: return
    Exception table:
       from    to  target type
         731   740   743   Class java/io/IOException
         898   926   929   Class org/apache/zookeeper/KeeperException
        1097  1102  1105   Class java/lang/Throwable
        1036  1087  1125   Class java/lang/Throwable
        1036  1087  1134   any
        1146  1151  1154   Class java/lang/Throwable
        1125  1136  1134   any
          10  1274  1277   Class org/apache/zookeeper/KeeperException
          10  1274  1371   Class java/lang/Exception

  private static java.util.List<org.apache.zookeeper.data.ACL> removeDuplicates(java.util.List<org.apache.zookeeper.data.ACL>);
    Code:
       0: aload_0
       1: ifnull        13
       4: aload_0
       5: invokeinterface #393,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      10: ifeq          17
      13: invokestatic  #394                // Method java/util/Collections.emptyList:()Ljava/util/List;
      16: areturn
      17: new           #272                // class java/util/ArrayList
      20: dup
      21: aload_0
      22: invokeinterface #395,  1          // InterfaceMethod java/util/List.size:()I
      27: invokespecial #396                // Method java/util/ArrayList."<init>":(I)V
      30: astore_1
      31: aload_0
      32: invokeinterface #216,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      37: astore_2
      38: aload_2
      39: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          74
      47: aload_2
      48: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      53: checkcast     #397                // class org/apache/zookeeper/data/ACL
      56: astore_3
      57: aload_1
      58: aload_3
      59: invokevirtual #398                // Method java/util/ArrayList.contains:(Ljava/lang/Object;)Z
      62: ifne          71
      65: aload_1
      66: aload_3
      67: invokevirtual #399                // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
      70: pop
      71: goto          38
      74: aload_1
      75: areturn

  private void validateCreateRequest(java.lang.String, org.apache.zookeeper.CreateMode, org.apache.zookeeper.server.Request, long) throws org.apache.zookeeper.KeeperException;
    Code:
       0: aload_2
       1: invokevirtual #321                // Method org/apache/zookeeper/CreateMode.isTTL:()Z
       4: ifeq          21
       7: invokestatic  #400                // Method org/apache/zookeeper/server/EphemeralType.extendedEphemeralTypesEnabled:()Z
      10: ifne          21
      13: new           #179                // class org/apache/zookeeper/KeeperException$UnimplementedException
      16: dup
      17: invokespecial #180                // Method org/apache/zookeeper/KeeperException$UnimplementedException."<init>":()V
      20: athrow
      21: aload_2
      22: lload         4
      24: invokestatic  #401                // Method org/apache/zookeeper/server/EphemeralType.validateTTL:(Lorg/apache/zookeeper/CreateMode;J)V
      27: goto          41
      30: astore        6
      32: new           #108                // class org/apache/zookeeper/KeeperException$BadArgumentsException
      35: dup
      36: aload_1
      37: invokespecial #109                // Method org/apache/zookeeper/KeeperException$BadArgumentsException."<init>":(Ljava/lang/String;)V
      40: athrow
      41: aload_2
      42: invokevirtual #315                // Method org/apache/zookeeper/CreateMode.isEphemeral:()Z
      45: ifeq          83
      48: aload_3
      49: invokevirtual #402                // Method org/apache/zookeeper/server/Request.getException:()Lorg/apache/zookeeper/KeeperException;
      52: ifnull        60
      55: aload_3
      56: invokevirtual #402                // Method org/apache/zookeeper/server/Request.getException:()Lorg/apache/zookeeper/KeeperException;
      59: athrow
      60: aload_0
      61: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      64: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      67: aload_3
      68: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
      71: aload_3
      72: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
      75: invokeinterface #403,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkGlobalSession:(JLjava/lang/Object;)V
      80: goto          103
      83: aload_0
      84: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      87: getfield      #144                // Field org/apache/zookeeper/server/ZooKeeperServer.sessionTracker:Lorg/apache/zookeeper/server/SessionTracker;
      90: aload_3
      91: getfield      #112                // Field org/apache/zookeeper/server/Request.sessionId:J
      94: aload_3
      95: invokevirtual #145                // Method org/apache/zookeeper/server/Request.getOwner:()Ljava/lang/Object;
      98: invokeinterface #146,  4          // InterfaceMethod org/apache/zookeeper/server/SessionTracker.checkSession:(JLjava/lang/Object;)V
     103: return
    Exception table:
       from    to  target type
          21    27    30   Class java/lang/IllegalArgumentException

  public static java.util.List<org.apache.zookeeper.data.ACL> fixupACL(java.lang.String, java.util.List<org.apache.zookeeper.data.Id>, java.util.List<org.apache.zookeeper.data.ACL>) throws org.apache.zookeeper.KeeperException$InvalidACLException;
    Code:
       0: aload_2
       1: invokestatic  #404                // Method removeDuplicates:(Ljava/util/List;)Ljava/util/List;
       4: astore_3
       5: aload_3
       6: ifnull        18
       9: aload_3
      10: invokeinterface #395,  1          // InterfaceMethod java/util/List.size:()I
      15: ifne          27
      18: new           #405                // class org/apache/zookeeper/KeeperException$InvalidACLException
      21: dup
      22: aload_0
      23: invokespecial #406                // Method org/apache/zookeeper/KeeperException$InvalidACLException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: new           #272                // class java/util/ArrayList
      30: dup
      31: invokespecial #344                // Method java/util/ArrayList."<init>":()V
      34: astore        4
      36: aload_3
      37: invokeinterface #216,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      42: astore        5
      44: aload         5
      46: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      51: ifeq          347
      54: aload         5
      56: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      61: checkcast     #397                // class org/apache/zookeeper/data/ACL
      64: astore        6
      66: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      69: ldc_w         #407                // String Processing ACL: {}
      72: aload         6
      74: invokeinterface #408,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      79: aload         6
      81: ifnonnull     93
      84: new           #405                // class org/apache/zookeeper/KeeperException$InvalidACLException
      87: dup
      88: aload_0
      89: invokespecial #406                // Method org/apache/zookeeper/KeeperException$InvalidACLException."<init>":(Ljava/lang/String;)V
      92: athrow
      93: aload         6
      95: invokevirtual #409                // Method org/apache/zookeeper/data/ACL.getId:()Lorg/apache/zookeeper/data/Id;
      98: astore        7
     100: aload         7
     102: ifnull        113
     105: aload         7
     107: invokevirtual #410                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     110: ifnonnull     122
     113: new           #405                // class org/apache/zookeeper/KeeperException$InvalidACLException
     116: dup
     117: aload_0
     118: invokespecial #406                // Method org/apache/zookeeper/KeeperException$InvalidACLException."<init>":(Ljava/lang/String;)V
     121: athrow
     122: aload         7
     124: invokevirtual #410                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     127: ldc_w         #411                // String world
     130: invokevirtual #412                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     133: ifeq          163
     136: aload         7
     138: invokevirtual #413                // Method org/apache/zookeeper/data/Id.getId:()Ljava/lang/String;
     141: ldc_w         #414                // String anyone
     144: invokevirtual #412                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     147: ifeq          163
     150: aload         4
     152: aload         6
     154: invokeinterface #371,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     159: pop
     160: goto          344
     163: aload         7
     165: invokevirtual #410                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     168: ldc_w         #415                // String auth
     171: invokevirtual #412                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     174: ifeq          297
     177: iconst_0
     178: istore        8
     180: aload_1
     181: invokeinterface #216,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     186: astore        9
     188: aload         9
     190: invokeinterface #89,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     195: ifeq          280
     198: aload         9
     200: invokeinterface #90,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     205: checkcast     #416                // class org/apache/zookeeper/data/Id
     208: astore        10
     210: aload         10
     212: invokevirtual #410                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     215: invokestatic  #417                // Method org/apache/zookeeper/server/auth/ProviderRegistry.getServerProvider:(Ljava/lang/String;)Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider;
     218: astore        11
     220: aload         11
     222: ifnonnull     244
     225: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     228: ldc_w         #418                // String Missing AuthenticationProvider for {}
     231: aload         10
     233: invokevirtual #410                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     236: invokeinterface #387,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
     241: goto          277
     244: aload         11
     246: invokevirtual #419                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider.isAuthenticated:()Z
     249: ifeq          277
     252: iconst_1
     253: istore        8
     255: aload         4
     257: new           #397                // class org/apache/zookeeper/data/ACL
     260: dup
     261: aload         6
     263: invokevirtual #420                // Method org/apache/zookeeper/data/ACL.getPerms:()I
     266: aload         10
     268: invokespecial #421                // Method org/apache/zookeeper/data/ACL."<init>":(ILorg/apache/zookeeper/data/Id;)V
     271: invokeinterface #371,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     276: pop
     277: goto          188
     280: iload         8
     282: ifne          294
     285: new           #405                // class org/apache/zookeeper/KeeperException$InvalidACLException
     288: dup
     289: aload_0
     290: invokespecial #406                // Method org/apache/zookeeper/KeeperException$InvalidACLException."<init>":(Ljava/lang/String;)V
     293: athrow
     294: goto          344
     297: aload         7
     299: invokevirtual #410                // Method org/apache/zookeeper/data/Id.getScheme:()Ljava/lang/String;
     302: invokestatic  #417                // Method org/apache/zookeeper/server/auth/ProviderRegistry.getServerProvider:(Ljava/lang/String;)Lorg/apache/zookeeper/server/auth/ServerAuthenticationProvider;
     305: astore        8
     307: aload         8
     309: ifnull        325
     312: aload         8
     314: aload         7
     316: invokevirtual #413                // Method org/apache/zookeeper/data/Id.getId:()Ljava/lang/String;
     319: invokevirtual #422                // Method org/apache/zookeeper/server/auth/ServerAuthenticationProvider.isValid:(Ljava/lang/String;)Z
     322: ifne          334
     325: new           #405                // class org/apache/zookeeper/KeeperException$InvalidACLException
     328: dup
     329: aload_0
     330: invokespecial #406                // Method org/apache/zookeeper/KeeperException$InvalidACLException."<init>":(Ljava/lang/String;)V
     333: athrow
     334: aload         4
     336: aload         6
     338: invokeinterface #371,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     343: pop
     344: goto          44
     347: aload         4
     349: areturn

  public void processRequest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_1
       1: invokestatic  #40                 // Method org/apache/zookeeper/common/Time.currentElapsedTime:()J
       4: putfield      #41                 // Field org/apache/zookeeper/server/Request.prepQueueStartTime:J
       7: aload_0
       8: getfield      #16                 // Field submittedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      11: aload_1
      12: invokevirtual #423                // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
      15: pop
      16: invokestatic  #33                 // Method org/apache/zookeeper/server/ServerMetrics.getMetrics:()Lorg/apache/zookeeper/server/ServerMetrics;
      19: getfield      #424                // Field org/apache/zookeeper/server/ServerMetrics.PREP_PROCESSOR_QUEUED:Lorg/apache/zookeeper/metrics/Counter;
      22: lconst_1
      23: invokeinterface #85,  3           // InterfaceMethod org/apache/zookeeper/metrics/Counter.add:(J)V
      28: return

  public void shutdown();
    Code:
       0: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc_w         #425                // String Shutting down
       6: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      11: aload_0
      12: getfield      #16                 // Field submittedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      15: invokevirtual #426                // Method java/util/concurrent/LinkedBlockingQueue.clear:()V
      18: aload_0
      19: getfield      #16                 // Field submittedRequests:Ljava/util/concurrent/LinkedBlockingQueue;
      22: getstatic     #52                 // Field org/apache/zookeeper/server/Request.requestOfDeath:Lorg/apache/zookeeper/server/Request;
      25: invokevirtual #423                // Method java/util/concurrent/LinkedBlockingQueue.add:(Ljava/lang/Object;)Z
      28: pop
      29: aload_0
      30: getfield      #17                 // Field nextProcessor:Lorg/apache/zookeeper/server/RequestProcessor;
      33: invokeinterface #427,  1          // InterfaceMethod org/apache/zookeeper/server/RequestProcessor.shutdown:()V
      38: return

  private org.apache.zookeeper.server.ZooKeeperServer$PrecalculatedDigest precalculateDigest(org.apache.zookeeper.server.PrepRequestProcessor$DigestOpCode, java.lang.String, byte[], org.apache.zookeeper.data.StatPersisted) throws org.apache.zookeeper.KeeperException$NoNodeException;
    Code:
       0: aload_0
       1: getfield      #20                 // Field digestEnabled:Z
       4: ifne          9
       7: aconst_null
       8: areturn
       9: getstatic     #428                // Field org/apache/zookeeper/server/PrepRequestProcessor$1.$SwitchMap$org$apache$zookeeper$server$PrepRequestProcessor$DigestOpCode:[I
      12: aload_1
      13: invokevirtual #429                // Method org/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode.ordinal:()I
      16: iaload
      17: tableswitch   { // 1 to 4
                     1: 48
                     2: 67
                     3: 86
                     4: 115
               default: 124
          }
      48: lconst_0
      49: lstore        5
      51: aload_0
      52: getfield      #23                 // Field digestCalculator:Lorg/apache/zookeeper/server/DigestCalculator;
      55: aload_2
      56: aload_3
      57: aload         4
      59: invokevirtual #430                // Method org/apache/zookeeper/server/DigestCalculator.calculateDigest:(Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)J
      62: lstore        7
      64: goto          126
      67: aload_0
      68: aload_2
      69: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
      72: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
      75: getfield      #431                // Field org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest.nodeDigest:J
      78: lstore        5
      80: lconst_0
      81: lstore        7
      83: goto          126
      86: aload_0
      87: aload_2
      88: invokespecial #123                // Method getRecordForPath:(Ljava/lang/String;)Lorg/apache/zookeeper/server/ZooKeeperServer$ChangeRecord;
      91: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
      94: getfield      #431                // Field org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest.nodeDigest:J
      97: lstore        5
      99: aload_0
     100: getfield      #23                 // Field digestCalculator:Lorg/apache/zookeeper/server/DigestCalculator;
     103: aload_2
     104: aload_3
     105: aload         4
     107: invokevirtual #430                // Method org/apache/zookeeper/server/DigestCalculator.calculateDigest:(Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)J
     110: lstore        7
     112: goto          126
     115: lconst_0
     116: dup2
     117: lstore        5
     119: lstore        7
     121: goto          126
     124: aconst_null
     125: areturn
     126: aload_0
     127: invokespecial #432                // Method getCurrentTreeDigest:()J
     130: lload         5
     132: lsub
     133: lload         7
     135: ladd
     136: lstore        9
     138: new           #72                 // class org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest
     141: dup
     142: lload         7
     144: lload         9
     146: invokespecial #74                 // Method org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest."<init>":(JJ)V
     149: areturn

  private org.apache.zookeeper.server.ZooKeeperServer$PrecalculatedDigest precalculateDigest(org.apache.zookeeper.server.PrepRequestProcessor$DigestOpCode, java.lang.String) throws org.apache.zookeeper.KeeperException$NoNodeException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: aconst_null
       5: invokespecial #139                // Method precalculateDigest:(Lorg/apache/zookeeper/server/PrepRequestProcessor$DigestOpCode;Ljava/lang/String;[BLorg/apache/zookeeper/data/StatPersisted;)Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
       8: areturn

  private long getCurrentTreeDigest();
    Code:
       0: aload_0
       1: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
       4: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
       7: dup
       8: astore_3
       9: monitorenter
      10: aload_0
      11: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      14: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
      17: invokeinterface #101,  1          // InterfaceMethod java/util/Deque.isEmpty:()Z
      22: ifeq          57
      25: aload_0
      26: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      29: invokevirtual #63                 // Method org/apache/zookeeper/server/ZooKeeperServer.getZKDatabase:()Lorg/apache/zookeeper/server/ZKDatabase;
      32: invokevirtual #433                // Method org/apache/zookeeper/server/ZKDatabase.getDataTree:()Lorg/apache/zookeeper/server/DataTree;
      35: invokevirtual #434                // Method org/apache/zookeeper/server/DataTree.getTreeDigest:()J
      38: lstore_1
      39: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      42: ldc_w         #435                // String Digest got from data tree is: {}
      45: lload_1
      46: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      49: invokeinterface #408,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      54: goto          94
      57: aload_0
      58: getfield      #18                 // Field zks:Lorg/apache/zookeeper/server/ZooKeeperServer;
      61: getfield      #59                 // Field org/apache/zookeeper/server/ZooKeeperServer.outstandingChanges:Ljava/util/Deque;
      64: invokeinterface #436,  1          // InterfaceMethod java/util/Deque.peekLast:()Ljava/lang/Object;
      69: checkcast     #62                 // class org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord
      72: getfield      #75                 // Field org/apache/zookeeper/server/ZooKeeperServer$ChangeRecord.precalculatedDigest:Lorg/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest;
      75: getfield      #437                // Field org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest.treeDigest:J
      78: lstore_1
      79: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      82: ldc_w         #438                // String Digest got from outstandingChanges is: {}
      85: lload_1
      86: invokestatic  #28                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      89: invokeinterface #408,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      94: aload_3
      95: monitorexit
      96: goto          106
      99: astore        4
     101: aload_3
     102: monitorexit
     103: aload         4
     105: athrow
     106: lload_1
     107: lreturn
    Exception table:
       from    to  target type
          10    96    99   any
          99   103    99   any

  private void setTxnDigest(org.apache.zookeeper.server.Request);
    Code:
       0: aload_1
       1: new           #439                // class org/apache/zookeeper/txn/TxnDigest
       4: dup
       5: aload_0
       6: getfield      #23                 // Field digestCalculator:Lorg/apache/zookeeper/server/DigestCalculator;
       9: invokevirtual #440                // Method org/apache/zookeeper/server/DigestCalculator.getDigestVersion:()I
      12: aload_0
      13: invokespecial #432                // Method getCurrentTreeDigest:()J
      16: invokespecial #441                // Method org/apache/zookeeper/txn/TxnDigest."<init>":(IJ)V
      19: invokevirtual #442                // Method org/apache/zookeeper/server/Request.setTxnDigest:(Lorg/apache/zookeeper/txn/TxnDigest;)V
      22: return

  private void setTxnDigest(org.apache.zookeeper.server.Request, org.apache.zookeeper.server.ZooKeeperServer$PrecalculatedDigest);
    Code:
       0: aload_2
       1: ifnonnull     5
       4: return
       5: aload_1
       6: new           #439                // class org/apache/zookeeper/txn/TxnDigest
       9: dup
      10: aload_0
      11: getfield      #23                 // Field digestCalculator:Lorg/apache/zookeeper/server/DigestCalculator;
      14: invokevirtual #440                // Method org/apache/zookeeper/server/DigestCalculator.getDigestVersion:()I
      17: aload_2
      18: getfield      #437                // Field org/apache/zookeeper/server/ZooKeeperServer$PrecalculatedDigest.treeDigest:J
      21: invokespecial #441                // Method org/apache/zookeeper/txn/TxnDigest."<init>":(IJ)V
      24: invokevirtual #442                // Method org/apache/zookeeper/server/Request.setTxnDigest:(Lorg/apache/zookeeper/txn/TxnDigest;)V
      27: return

  static {};
    Code:
       0: ldc_w         #443                // class org/apache/zookeeper/server/PrepRequestProcessor
       3: invokestatic  #444                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       9: iconst_0
      10: putstatic     #24                 // Field failCreate:Z
      13: return
}
