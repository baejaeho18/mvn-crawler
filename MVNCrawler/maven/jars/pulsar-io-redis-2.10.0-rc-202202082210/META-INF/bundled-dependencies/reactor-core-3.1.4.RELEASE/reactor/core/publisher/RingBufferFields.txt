Compiled from "RingBuffer.java"
abstract class reactor.core.publisher.RingBufferFields<E> extends reactor.core.publisher.RingBufferPad<E> {
  private static final int BUFFER_PAD;

  private static final long REF_ARRAY_BASE;

  private static final int REF_ELEMENT_SHIFT;

  private static final sun.misc.Unsafe UNSAFE;

  private final long indexMask;

  private final java.lang.Object[] entries;

  protected final int bufferSize;

  protected final reactor.core.publisher.RingBufferProducer sequenceProducer;

  reactor.core.publisher.RingBufferFields(java.util.function.Supplier<E>, reactor.core.publisher.RingBufferProducer);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method reactor/core/publisher/RingBufferPad."<init>":()V
       4: aload_0
       5: aload_2
       6: putfield      #2                  // Field sequenceProducer:Lreactor/core/publisher/RingBufferProducer;
       9: aload_0
      10: aload_2
      11: invokevirtual #3                  // Method reactor/core/publisher/RingBufferProducer.getBufferSize:()I
      14: putfield      #4                  // Field bufferSize:I
      17: aload_0
      18: aload_0
      19: getfield      #4                  // Field bufferSize:I
      22: iconst_1
      23: isub
      24: i2l
      25: putfield      #5                  // Field indexMask:J
      28: aload_0
      29: aload_2
      30: invokevirtual #3                  // Method reactor/core/publisher/RingBufferProducer.getBufferSize:()I
      33: iconst_2
      34: getstatic     #6                  // Field BUFFER_PAD:I
      37: imul
      38: iadd
      39: anewarray     #7                  // class java/lang/Object
      42: putfield      #8                  // Field entries:[Ljava/lang/Object;
      45: aload_0
      46: aload_1
      47: invokespecial #9                  // Method fill:(Ljava/util/function/Supplier;)V
      50: return

  private void fill(java.util.function.Supplier<E>);
    Code:
       0: iconst_0
       1: istore_2
       2: iload_2
       3: aload_0
       4: getfield      #4                  // Field bufferSize:I
       7: if_icmpge     32
      10: aload_0
      11: getfield      #8                  // Field entries:[Ljava/lang/Object;
      14: getstatic     #6                  // Field BUFFER_PAD:I
      17: iload_2
      18: iadd
      19: aload_1
      20: invokeinterface #10,  1           // InterfaceMethod java/util/function/Supplier.get:()Ljava/lang/Object;
      25: aastore
      26: iinc          2, 1
      29: goto          2
      32: return

  final E elementAt(long);
    Code:
       0: getstatic     #11                 // Field UNSAFE:Lsun/misc/Unsafe;
       3: aload_0
       4: getfield      #8                  // Field entries:[Ljava/lang/Object;
       7: getstatic     #12                 // Field REF_ARRAY_BASE:J
      10: lload_1
      11: aload_0
      12: getfield      #5                  // Field indexMask:J
      15: land
      16: getstatic     #13                 // Field REF_ELEMENT_SHIFT:I
      19: lshl
      20: ladd
      21: invokevirtual #14                 // Method sun/misc/Unsafe.getObject:(Ljava/lang/Object;J)Ljava/lang/Object;
      24: areturn

  static {};
    Code:
       0: invokestatic  #15                 // Method reactor/core/publisher/RingBuffer.getUnsafe:()Ljava/lang/Object;
       3: checkcast     #16                 // class sun/misc/Unsafe
       6: putstatic     #11                 // Field UNSAFE:Lsun/misc/Unsafe;
       9: getstatic     #11                 // Field UNSAFE:Lsun/misc/Unsafe;
      12: ldc           #17                 // class "[Ljava/lang/Object;"
      14: invokevirtual #18                 // Method sun/misc/Unsafe.arrayIndexScale:(Ljava/lang/Class;)I
      17: istore_0
      18: iconst_4
      19: iload_0
      20: if_icmpne     30
      23: iconst_2
      24: putstatic     #13                 // Field REF_ELEMENT_SHIFT:I
      27: goto          53
      30: bipush        8
      32: iload_0
      33: if_icmpne     43
      36: iconst_3
      37: putstatic     #13                 // Field REF_ELEMENT_SHIFT:I
      40: goto          53
      43: new           #19                 // class java/lang/IllegalStateException
      46: dup
      47: ldc           #20                 // String Unknown pointer size
      49: invokespecial #21                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      52: athrow
      53: sipush        128
      56: iload_0
      57: idiv
      58: putstatic     #6                  // Field BUFFER_PAD:I
      61: getstatic     #11                 // Field UNSAFE:Lsun/misc/Unsafe;
      64: ldc           #17                 // class "[Ljava/lang/Object;"
      66: invokevirtual #22                 // Method sun/misc/Unsafe.arrayBaseOffset:(Ljava/lang/Class;)I
      69: getstatic     #6                  // Field BUFFER_PAD:I
      72: getstatic     #13                 // Field REF_ELEMENT_SHIFT:I
      75: ishl
      76: iadd
      77: i2l
      78: putstatic     #12                 // Field REF_ARRAY_BASE:J
      81: return
}
