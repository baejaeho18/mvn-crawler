Compiled from "ClientCache.java"
public class org.apache.hadoop.mapred.ClientCache {
  private final org.apache.hadoop.conf.Configuration conf;

  private final org.apache.hadoop.mapred.ResourceMgrDelegate rm;

  private static final org.slf4j.Logger LOG;

  private java.util.Map<org.apache.hadoop.mapreduce.JobID, org.apache.hadoop.mapred.ClientServiceDelegate> cache;

  private org.apache.hadoop.mapreduce.v2.api.MRClientProtocol hsProxy;

  public org.apache.hadoop.mapred.ClientCache(org.apache.hadoop.conf.Configuration, org.apache.hadoop.mapred.ResourceMgrDelegate);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/HashMap
       8: dup
       9: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      12: putfield      #5                  // Field cache:Ljava/util/Map;
      15: aload_0
      16: aload_1
      17: putfield      #1                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
      20: aload_0
      21: aload_2
      22: putfield      #6                  // Field rm:Lorg/apache/hadoop/mapred/ResourceMgrDelegate;
      25: return

  public synchronized org.apache.hadoop.mapred.ClientServiceDelegate getClient(org.apache.hadoop.mapreduce.JobID);
    Code:
       0: aload_0
       1: getfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
       4: ifnonnull     41
       7: aload_0
       8: aload_0
       9: invokevirtual #8                  // Method instantiateHistoryProxy:()Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      12: putfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      15: goto          41
      18: astore_2
      19: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      22: ldc           #11                 // String Could not connect to History server.
      24: aload_2
      25: invokeinterface #12,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      30: new           #13                 // class org/apache/hadoop/yarn/exceptions/YarnRuntimeException
      33: dup
      34: ldc           #11                 // String Could not connect to History server.
      36: aload_2
      37: invokespecial #14                 // Method org/apache/hadoop/yarn/exceptions/YarnRuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      40: athrow
      41: aload_0
      42: getfield      #5                  // Field cache:Ljava/util/Map;
      45: aload_1
      46: invokeinterface #15,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      51: checkcast     #16                 // class org/apache/hadoop/mapred/ClientServiceDelegate
      54: astore_2
      55: aload_2
      56: ifnonnull     92
      59: new           #16                 // class org/apache/hadoop/mapred/ClientServiceDelegate
      62: dup
      63: aload_0
      64: getfield      #1                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
      67: aload_0
      68: getfield      #6                  // Field rm:Lorg/apache/hadoop/mapred/ResourceMgrDelegate;
      71: aload_1
      72: aload_0
      73: getfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      76: invokespecial #17                 // Method org/apache/hadoop/mapred/ClientServiceDelegate."<init>":(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/mapred/ResourceMgrDelegate;Lorg/apache/hadoop/mapreduce/JobID;Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;)V
      79: astore_2
      80: aload_0
      81: getfield      #5                  // Field cache:Ljava/util/Map;
      84: aload_1
      85: aload_2
      86: invokeinterface #18,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      91: pop
      92: aload_2
      93: areturn
    Exception table:
       from    to  target type
           7    15    18   Class java/io/IOException

  protected synchronized org.apache.hadoop.mapreduce.v2.api.MRClientProtocol getInitializedHSProxy() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
       4: ifnonnull     15
       7: aload_0
       8: aload_0
       9: invokevirtual #8                  // Method instantiateHistoryProxy:()Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      12: putfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      15: aload_0
      16: getfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      19: areturn

  protected org.apache.hadoop.mapreduce.v2.api.MRClientProtocol instantiateHistoryProxy() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #1                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
       4: ldc           #20                 // String mapreduce.jobhistory.address
       6: invokevirtual #21                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;)Ljava/lang/String;
       9: astore_1
      10: aload_1
      11: invokestatic  #22                 // Method org/apache/commons/lang3/StringUtils.isEmpty:(Ljava/lang/CharSequence;)Z
      14: ifeq          19
      17: aconst_null
      18: areturn
      19: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      22: new           #23                 // class java/lang/StringBuilder
      25: dup
      26: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      29: ldc           #25                 // String Connecting to HistoryServer at:
      31: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: aload_1
      35: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      38: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: invokeinterface #28,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      46: aload_0
      47: getfield      #1                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
      50: invokestatic  #29                 // Method org/apache/hadoop/yarn/ipc/YarnRPC.create:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/yarn/ipc/YarnRPC;
      53: astore_2
      54: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      57: new           #23                 // class java/lang/StringBuilder
      60: dup
      61: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      64: ldc           #30                 // String Connected to HistoryServer at:
      66: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      69: aload_1
      70: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: invokevirtual #27                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      76: invokeinterface #28,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      81: invokestatic  #31                 // Method org/apache/hadoop/security/UserGroupInformation.getCurrentUser:()Lorg/apache/hadoop/security/UserGroupInformation;
      84: astore_3
      85: aload_3
      86: new           #32                 // class org/apache/hadoop/mapred/ClientCache$1
      89: dup
      90: aload_0
      91: aload_2
      92: aload_1
      93: invokespecial #33                 // Method org/apache/hadoop/mapred/ClientCache$1."<init>":(Lorg/apache/hadoop/mapred/ClientCache;Lorg/apache/hadoop/yarn/ipc/YarnRPC;Ljava/lang/String;)V
      96: invokevirtual #34                 // Method org/apache/hadoop/security/UserGroupInformation.doAs:(Ljava/security/PrivilegedAction;)Ljava/lang/Object;
      99: checkcast     #35                 // class org/apache/hadoop/mapreduce/v2/api/MRClientProtocol
     102: areturn

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #6                  // Field rm:Lorg/apache/hadoop/mapred/ResourceMgrDelegate;
       4: ifnull        14
       7: aload_0
       8: getfield      #6                  // Field rm:Lorg/apache/hadoop/mapred/ResourceMgrDelegate;
      11: invokevirtual #36                 // Method org/apache/hadoop/mapred/ResourceMgrDelegate.close:()V
      14: aload_0
      15: getfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      18: ifnull        33
      21: aload_0
      22: getfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      25: invokestatic  #37                 // Method org/apache/hadoop/ipc/RPC.stopProxy:(Ljava/lang/Object;)V
      28: aload_0
      29: aconst_null
      30: putfield      #7                  // Field hsProxy:Lorg/apache/hadoop/mapreduce/v2/api/MRClientProtocol;
      33: aload_0
      34: getfield      #5                  // Field cache:Ljava/util/Map;
      37: ifnull        113
      40: aload_0
      41: getfield      #5                  // Field cache:Ljava/util/Map;
      44: invokeinterface #38,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
      49: ifne          113
      52: aload_0
      53: getfield      #5                  // Field cache:Ljava/util/Map;
      56: invokeinterface #39,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      61: invokeinterface #40,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      66: astore_1
      67: aload_1
      68: invokeinterface #41,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      73: ifeq          99
      76: aload_1
      77: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      82: checkcast     #16                 // class org/apache/hadoop/mapred/ClientServiceDelegate
      85: astore_2
      86: aload_2
      87: ifnull        96
      90: aload_2
      91: invokevirtual #43                 // Method org/apache/hadoop/mapred/ClientServiceDelegate.close:()V
      94: aconst_null
      95: astore_2
      96: goto          67
      99: aload_0
     100: getfield      #5                  // Field cache:Ljava/util/Map;
     103: invokeinterface #44,  1           // InterfaceMethod java/util/Map.clear:()V
     108: aload_0
     109: aconst_null
     110: putfield      #5                  // Field cache:Ljava/util/Map;
     113: return

  static org.apache.hadoop.conf.Configuration access$000(org.apache.hadoop.mapred.ClientCache);
    Code:
       0: aload_0
       1: getfield      #1                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
       4: areturn

  static {};
    Code:
       0: ldc           #45                 // class org/apache/hadoop/mapred/ClientCache
       2: invokestatic  #46                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
