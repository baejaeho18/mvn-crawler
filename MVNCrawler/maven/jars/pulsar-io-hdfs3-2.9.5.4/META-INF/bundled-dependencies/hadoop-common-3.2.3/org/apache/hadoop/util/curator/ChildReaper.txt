Compiled from "ChildReaper.java"
public class org.apache.hadoop.util.curator.ChildReaper implements java.io.Closeable {
  private final org.slf4j.Logger log;

  private final org.apache.curator.framework.recipes.locks.Reaper reaper;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.hadoop.util.curator.ChildReaper$State> state;

  private final org.apache.curator.framework.CuratorFramework client;

  private final java.util.Collection<java.lang.String> paths;

  private final org.apache.curator.framework.recipes.locks.Reaper$Mode mode;

  private final org.apache.curator.utils.CloseableScheduledExecutorService executor;

  private final int reapingThresholdMs;

  private volatile java.util.concurrent.Future<?> task;

  static final int DEFAULT_REAPING_THRESHOLD_MS;

  public static <E> java.util.Set<E> newConcurrentHashSet();
    Code:
       0: new           #2                  // class java/util/concurrent/ConcurrentHashMap
       3: dup
       4: invokespecial #3                  // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
       7: invokestatic  #4                  // Method java/util/Collections.newSetFromMap:(Ljava/util/Map;)Ljava/util/Set;
      10: areturn

  public org.apache.hadoop.util.curator.ChildReaper(org.apache.curator.framework.CuratorFramework, java.lang.String, org.apache.curator.framework.recipes.locks.Reaper$Mode);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokestatic  #5                  // Method newExecutorService:()Ljava/util/concurrent/ScheduledExecutorService;
       7: getstatic     #6                  // Field DEFAULT_REAPING_THRESHOLD_MS:I
      10: aconst_null
      11: invokespecial #7                  // Method "<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Lorg/apache/curator/framework/recipes/locks/Reaper$Mode;Ljava/util/concurrent/ScheduledExecutorService;ILjava/lang/String;)V
      14: return

  public org.apache.hadoop.util.curator.ChildReaper(org.apache.curator.framework.CuratorFramework, java.lang.String, org.apache.curator.framework.recipes.locks.Reaper$Mode, int);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokestatic  #5                  // Method newExecutorService:()Ljava/util/concurrent/ScheduledExecutorService;
       7: iload         4
       9: aconst_null
      10: invokespecial #7                  // Method "<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Lorg/apache/curator/framework/recipes/locks/Reaper$Mode;Ljava/util/concurrent/ScheduledExecutorService;ILjava/lang/String;)V
      13: return

  public org.apache.hadoop.util.curator.ChildReaper(org.apache.curator.framework.CuratorFramework, java.lang.String, org.apache.curator.framework.recipes.locks.Reaper$Mode, java.util.concurrent.ScheduledExecutorService, int);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: iload         5
       8: aconst_null
       9: invokespecial #7                  // Method "<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Lorg/apache/curator/framework/recipes/locks/Reaper$Mode;Ljava/util/concurrent/ScheduledExecutorService;ILjava/lang/String;)V
      12: return

  public org.apache.hadoop.util.curator.ChildReaper(org.apache.curator.framework.CuratorFramework, java.lang.String, org.apache.curator.framework.recipes.locks.Reaper$Mode, java.util.concurrent.ScheduledExecutorService, int, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #8                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #9                  // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #10                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      12: putfield      #11                 // Field log:Lorg/slf4j/Logger;
      15: aload_0
      16: new           #12                 // class java/util/concurrent/atomic/AtomicReference
      19: dup
      20: getstatic     #13                 // Field org/apache/hadoop/util/curator/ChildReaper$State.LATENT:Lorg/apache/hadoop/util/curator/ChildReaper$State;
      23: invokespecial #14                 // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      26: putfield      #15                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      29: aload_0
      30: invokestatic  #16                 // Method newConcurrentHashSet:()Ljava/util/Set;
      33: putfield      #17                 // Field paths:Ljava/util/Collection;
      36: aload_0
      37: aload_1
      38: putfield      #18                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      41: aload_0
      42: aload_3
      43: putfield      #19                 // Field mode:Lorg/apache/curator/framework/recipes/locks/Reaper$Mode;
      46: aload_0
      47: new           #20                 // class org/apache/curator/utils/CloseableScheduledExecutorService
      50: dup
      51: aload         4
      53: invokespecial #21                 // Method org/apache/curator/utils/CloseableScheduledExecutorService."<init>":(Ljava/util/concurrent/ScheduledExecutorService;)V
      56: putfield      #22                 // Field executor:Lorg/apache/curator/utils/CloseableScheduledExecutorService;
      59: aload_0
      60: iload         5
      62: putfield      #23                 // Field reapingThresholdMs:I
      65: aload_0
      66: new           #24                 // class org/apache/curator/framework/recipes/locks/Reaper
      69: dup
      70: aload_1
      71: aload         4
      73: iload         5
      75: aload         6
      77: invokespecial #25                 // Method org/apache/curator/framework/recipes/locks/Reaper."<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/util/concurrent/ScheduledExecutorService;ILjava/lang/String;)V
      80: putfield      #26                 // Field reaper:Lorg/apache/curator/framework/recipes/locks/Reaper;
      83: aload_0
      84: aload_2
      85: invokevirtual #27                 // Method addPath:(Ljava/lang/String;)Lorg/apache/hadoop/util/curator/ChildReaper;
      88: pop
      89: return

  public void start() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #15                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #13                 // Field org/apache/hadoop/util/curator/ChildReaper$State.LATENT:Lorg/apache/hadoop/util/curator/ChildReaper$State;
       7: getstatic     #28                 // Field org/apache/hadoop/util/curator/ChildReaper$State.STARTED:Lorg/apache/hadoop/util/curator/ChildReaper$State;
      10: invokevirtual #29                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ldc           #30                 // String Cannot be started more than once
      15: invokestatic  #31                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      18: aload_0
      19: aload_0
      20: getfield      #22                 // Field executor:Lorg/apache/curator/utils/CloseableScheduledExecutorService;
      23: new           #32                 // class org/apache/hadoop/util/curator/ChildReaper$1
      26: dup
      27: aload_0
      28: invokespecial #33                 // Method org/apache/hadoop/util/curator/ChildReaper$1."<init>":(Lorg/apache/hadoop/util/curator/ChildReaper;)V
      31: aload_0
      32: getfield      #23                 // Field reapingThresholdMs:I
      35: i2l
      36: aload_0
      37: getfield      #23                 // Field reapingThresholdMs:I
      40: i2l
      41: getstatic     #34                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      44: invokevirtual #35                 // Method org/apache/curator/utils/CloseableScheduledExecutorService.scheduleWithFixedDelay:(Ljava/lang/Runnable;JJLjava/util/concurrent/TimeUnit;)Ljava/util/concurrent/Future;
      47: putfield      #36                 // Field task:Ljava/util/concurrent/Future;
      50: aload_0
      51: getfield      #26                 // Field reaper:Lorg/apache/curator/framework/recipes/locks/Reaper;
      54: invokevirtual #37                 // Method org/apache/curator/framework/recipes/locks/Reaper.start:()V
      57: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #15                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #28                 // Field org/apache/hadoop/util/curator/ChildReaper$State.STARTED:Lorg/apache/hadoop/util/curator/ChildReaper$State;
       7: getstatic     #38                 // Field org/apache/hadoop/util/curator/ChildReaper$State.CLOSED:Lorg/apache/hadoop/util/curator/ChildReaper$State;
      10: invokevirtual #29                 // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ifeq          34
      16: aload_0
      17: getfield      #26                 // Field reaper:Lorg/apache/curator/framework/recipes/locks/Reaper;
      20: invokestatic  #39                 // Method org/apache/curator/utils/CloseableUtils.closeQuietly:(Ljava/io/Closeable;)V
      23: aload_0
      24: getfield      #36                 // Field task:Ljava/util/concurrent/Future;
      27: iconst_1
      28: invokeinterface #40,  2           // InterfaceMethod java/util/concurrent/Future.cancel:(Z)Z
      33: pop
      34: return

  public org.apache.hadoop.util.curator.ChildReaper addPath(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #17                 // Field paths:Ljava/util/Collection;
       4: aload_1
       5: invokestatic  #41                 // Method org/apache/curator/utils/PathUtils.validatePath:(Ljava/lang/String;)Ljava/lang/String;
       8: invokeinterface #42,  2           // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
      13: pop
      14: aload_0
      15: areturn

  public boolean removePath(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #17                 // Field paths:Ljava/util/Collection;
       4: aload_1
       5: invokestatic  #41                 // Method org/apache/curator/utils/PathUtils.validatePath:(Ljava/lang/String;)Ljava/lang/String;
       8: invokeinterface #43,  2           // InterfaceMethod java/util/Collection.remove:(Ljava/lang/Object;)Z
      13: ireturn

  private static java.util.concurrent.ScheduledExecutorService newExecutorService();
    Code:
       0: iconst_2
       1: ldc           #44                 // String ChildReaper
       3: invokestatic  #45                 // Method org/apache/curator/utils/ThreadUtils.newFixedThreadScheduledPool:(ILjava/lang/String;)Ljava/util/concurrent/ScheduledExecutorService;
       6: areturn

  private void doWork();
    Code:
       0: aload_0
       1: getfield      #17                 // Field paths:Ljava/util/Collection;
       4: invokeinterface #46,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       9: astore_1
      10: aload_1
      11: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          172
      19: aload_1
      20: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #49                 // class java/lang/String
      28: astore_2
      29: aload_0
      30: getfield      #18                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      33: invokeinterface #50,  1           // InterfaceMethod org/apache/curator/framework/CuratorFramework.getChildren:()Lorg/apache/curator/framework/api/GetChildrenBuilder;
      38: aload_2
      39: invokeinterface #51,  2           // InterfaceMethod org/apache/curator/framework/api/GetChildrenBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      44: checkcast     #52                 // class java/util/List
      47: astore_3
      48: aload_3
      49: invokeinterface #53,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      54: astore        4
      56: aload         4
      58: invokeinterface #47,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      63: ifeq          136
      66: aload         4
      68: invokeinterface #48,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      73: checkcast     #49                 // class java/lang/String
      76: astore        5
      78: aload_2
      79: aload         5
      81: invokestatic  #54                 // Method org/apache/curator/utils/ZKPaths.makePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      84: astore        6
      86: aload_0
      87: getfield      #18                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      90: invokeinterface #55,  1           // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
      95: aload         6
      97: invokeinterface #56,  2           // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     102: checkcast     #57                 // class org/apache/zookeeper/data/Stat
     105: astore        7
     107: aload         7
     109: ifnull        133
     112: aload         7
     114: invokevirtual #58                 // Method org/apache/zookeeper/data/Stat.getNumChildren:()I
     117: ifne          133
     120: aload_0
     121: getfield      #26                 // Field reaper:Lorg/apache/curator/framework/recipes/locks/Reaper;
     124: aload         6
     126: aload_0
     127: getfield      #19                 // Field mode:Lorg/apache/curator/framework/recipes/locks/Reaper$Mode;
     130: invokevirtual #59                 // Method org/apache/curator/framework/recipes/locks/Reaper.addPath:(Ljava/lang/String;Lorg/apache/curator/framework/recipes/locks/Reaper$Mode;)V
     133: goto          56
     136: goto          169
     139: astore_3
     140: aload_0
     141: getfield      #11                 // Field log:Lorg/slf4j/Logger;
     144: new           #61                 // class java/lang/StringBuilder
     147: dup
     148: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     151: ldc           #63                 // String Could not get children for path:
     153: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     156: aload_2
     157: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     160: invokevirtual #65                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     163: aload_3
     164: invokeinterface #66,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     169: goto          10
     172: return
    Exception table:
       from    to  target type
          29   136   139   Class java/lang/Exception

  static void access$000(org.apache.hadoop.util.curator.ChildReaper);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method doWork:()V
       4: return

  static {};
    Code:
       0: getstatic     #34                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
       3: ldc2_w        #67                 // long 5l
       6: getstatic     #69                 // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
       9: invokevirtual #70                 // Method java/util/concurrent/TimeUnit.convert:(JLjava/util/concurrent/TimeUnit;)J
      12: l2i
      13: putstatic     #6                  // Field DEFAULT_REAPING_THRESHOLD_MS:I
      16: return
}
