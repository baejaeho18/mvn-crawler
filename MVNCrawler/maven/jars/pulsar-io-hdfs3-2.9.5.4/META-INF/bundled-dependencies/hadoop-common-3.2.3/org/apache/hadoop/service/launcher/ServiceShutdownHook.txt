Compiled from "ServiceShutdownHook.java"
public class org.apache.hadoop.service.launcher.ServiceShutdownHook implements java.lang.Runnable {
  private static final org.slf4j.Logger LOG;

  private final java.lang.ref.WeakReference<org.apache.hadoop.service.Service> serviceRef;

  public org.apache.hadoop.service.launcher.ServiceShutdownHook(org.apache.hadoop.service.Service);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class java/lang/ref/WeakReference
       8: dup
       9: aload_1
      10: invokespecial #3                  // Method java/lang/ref/WeakReference."<init>":(Ljava/lang/Object;)V
      13: putfield      #4                  // Field serviceRef:Ljava/lang/ref/WeakReference;
      16: return

  public synchronized void register(int);
    Code:
       0: aload_0
       1: invokevirtual #5                  // Method unregister:()V
       4: invokestatic  #6                  // Method org/apache/hadoop/util/ShutdownHookManager.get:()Lorg/apache/hadoop/util/ShutdownHookManager;
       7: aload_0
       8: iload_1
       9: invokevirtual #7                  // Method org/apache/hadoop/util/ShutdownHookManager.addShutdownHook:(Ljava/lang/Runnable;I)V
      12: return

  public synchronized void unregister();
    Code:
       0: invokestatic  #6                  // Method org/apache/hadoop/util/ShutdownHookManager.get:()Lorg/apache/hadoop/util/ShutdownHookManager;
       3: aload_0
       4: invokevirtual #8                  // Method org/apache/hadoop/util/ShutdownHookManager.removeShutdownHook:(Ljava/lang/Runnable;)Z
       7: pop
       8: goto          24
      11: astore_1
      12: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #11                 // String Failed to unregister shutdown hook: {}
      17: aload_1
      18: aload_1
      19: invokeinterface #12,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      24: return
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/IllegalStateException

  public void run();
    Code:
       0: aload_0
       1: invokevirtual #13                 // Method shutdown:()Z
       4: pop
       5: return

  protected boolean shutdown();
    Code:
       0: iconst_0
       1: istore_2
       2: aload_0
       3: dup
       4: astore_3
       5: monitorenter
       6: aload_0
       7: getfield      #4                  // Field serviceRef:Ljava/lang/ref/WeakReference;
      10: invokevirtual #14                 // Method java/lang/ref/WeakReference.get:()Ljava/lang/Object;
      13: checkcast     #15                 // class org/apache/hadoop/service/Service
      16: astore_1
      17: aload_0
      18: getfield      #4                  // Field serviceRef:Ljava/lang/ref/WeakReference;
      21: invokevirtual #16                 // Method java/lang/ref/WeakReference.clear:()V
      24: aload_3
      25: monitorexit
      26: goto          36
      29: astore        4
      31: aload_3
      32: monitorexit
      33: aload         4
      35: athrow
      36: aload_1
      37: ifnull        69
      40: aload_1
      41: invokeinterface #17,  1           // InterfaceMethod org/apache/hadoop/service/Service.stop:()V
      46: iconst_1
      47: istore_2
      48: goto          69
      51: astore_3
      52: getstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
      55: ldc           #19                 // String Error stopping {}
      57: aload_1
      58: invokeinterface #20,  1           // InterfaceMethod org/apache/hadoop/service/Service.getName:()Ljava/lang/String;
      63: aload_3
      64: invokeinterface #12,  4           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      69: iload_2
      70: ireturn
    Exception table:
       from    to  target type
           6    26    29   any
          29    33    29   any
          40    48    51   Class java/lang/Throwable

  static {};
    Code:
       0: ldc           #21                 // class org/apache/hadoop/service/launcher/ServiceShutdownHook
       2: invokestatic  #22                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #10                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
