Compiled from "ZKDelegationTokenSecretManager.java"
public abstract class org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager<TokenIdent extends org.apache.hadoop.security.token.delegation.AbstractDelegationTokenIdentifier> extends org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager<TokenIdent> {
  private static final java.lang.String ZK_CONF_PREFIX;

  public static final java.lang.String ZK_DTSM_ZK_NUM_RETRIES;

  public static final java.lang.String ZK_DTSM_ZK_SESSION_TIMEOUT;

  public static final java.lang.String ZK_DTSM_ZK_CONNECTION_TIMEOUT;

  public static final java.lang.String ZK_DTSM_ZK_SHUTDOWN_TIMEOUT;

  public static final java.lang.String ZK_DTSM_ZNODE_WORKING_PATH;

  public static final java.lang.String ZK_DTSM_ZK_AUTH_TYPE;

  public static final java.lang.String ZK_DTSM_ZK_CONNECTION_STRING;

  public static final java.lang.String ZK_DTSM_ZK_KERBEROS_KEYTAB;

  public static final java.lang.String ZK_DTSM_ZK_KERBEROS_PRINCIPAL;

  public static final int ZK_DTSM_ZK_NUM_RETRIES_DEFAULT;

  public static final int ZK_DTSM_ZK_SESSION_TIMEOUT_DEFAULT;

  public static final int ZK_DTSM_ZK_CONNECTION_TIMEOUT_DEFAULT;

  public static final int ZK_DTSM_ZK_SHUTDOWN_TIMEOUT_DEFAULT;

  public static final java.lang.String ZK_DTSM_ZNODE_WORKING_PATH_DEAFULT;

  private static org.slf4j.Logger LOG;

  private static final java.lang.String JAAS_LOGIN_ENTRY_NAME;

  private static final java.lang.String ZK_DTSM_NAMESPACE;

  private static final java.lang.String ZK_DTSM_SEQNUM_ROOT;

  private static final java.lang.String ZK_DTSM_KEYID_ROOT;

  private static final java.lang.String ZK_DTSM_TOKENS_ROOT;

  private static final java.lang.String ZK_DTSM_MASTER_KEY_ROOT;

  private static final java.lang.String DELEGATION_KEY_PREFIX;

  private static final java.lang.String DELEGATION_TOKEN_PREFIX;

  private static final java.lang.ThreadLocal<org.apache.curator.framework.CuratorFramework> CURATOR_TL;

  private final boolean isExternalClient;

  private final org.apache.curator.framework.CuratorFramework zkClient;

  private org.apache.curator.framework.recipes.shared.SharedCount delTokSeqCounter;

  private org.apache.curator.framework.recipes.shared.SharedCount keyIdSeqCounter;

  private org.apache.curator.framework.recipes.cache.PathChildrenCache keyCache;

  private org.apache.curator.framework.recipes.cache.PathChildrenCache tokenCache;

  private java.util.concurrent.ExecutorService listenerThreadPool;

  private final long shutdownTimeout;

  public static void setCurator(org.apache.curator.framework.CuratorFramework);
    Code:
       0: getstatic     #6                  // Field CURATOR_TL:Ljava/lang/ThreadLocal;
       3: aload_0
       4: invokevirtual #7                  // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
       7: return

  public org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager(org.apache.hadoop.conf.Configuration);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #9                  // String delegation-token.update-interval.sec
       4: ldc2_w        #10                 // long 86400l
       7: invokevirtual #12                 // Method org/apache/hadoop/conf/Configuration.getLong:(Ljava/lang/String;J)J
      10: ldc2_w        #13                 // long 1000l
      13: lmul
      14: aload_1
      15: ldc           #15                 // String delegation-token.max-lifetime.sec
      17: ldc2_w        #16                 // long 604800l
      20: invokevirtual #12                 // Method org/apache/hadoop/conf/Configuration.getLong:(Ljava/lang/String;J)J
      23: ldc2_w        #13                 // long 1000l
      26: lmul
      27: aload_1
      28: ldc           #18                 // String delegation-token.renew-interval.sec
      30: ldc2_w        #10                 // long 86400l
      33: invokevirtual #12                 // Method org/apache/hadoop/conf/Configuration.getLong:(Ljava/lang/String;J)J
      36: ldc2_w        #13                 // long 1000l
      39: lmul
      40: aload_1
      41: ldc           #19                 // String delegation-token.removal-scan-interval.sec
      43: ldc2_w        #20                 // long 3600l
      46: invokevirtual #12                 // Method org/apache/hadoop/conf/Configuration.getLong:(Ljava/lang/String;J)J
      49: ldc2_w        #13                 // long 1000l
      52: lmul
      53: invokespecial #22                 // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager."<init>":(JJJJ)V
      56: aload_0
      57: aload_1
      58: ldc           #23                 // String zk-dt-secret-manager.zkShutdownTimeout
      60: ldc2_w        #24                 // long 10000l
      63: invokevirtual #12                 // Method org/apache/hadoop/conf/Configuration.getLong:(Ljava/lang/String;J)J
      66: putfield      #26                 // Field shutdownTimeout:J
      69: getstatic     #6                  // Field CURATOR_TL:Ljava/lang/ThreadLocal;
      72: invokevirtual #27                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      75: ifnull        135
      78: aload_0
      79: getstatic     #6                  // Field CURATOR_TL:Ljava/lang/ThreadLocal;
      82: invokevirtual #27                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      85: checkcast     #28                 // class org/apache/curator/framework/CuratorFramework
      88: new           #29                 // class java/lang/StringBuilder
      91: dup
      92: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      95: aload_1
      96: ldc           #31                 // String zk-dt-secret-manager.znodeWorkingPath
      98: ldc           #32                 // String zkdtsm
     100: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     103: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: ldc           #35                 // String /
     108: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     111: ldc           #36                 // String ZKDTSMRoot
     113: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     116: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     119: invokeinterface #38,  2           // InterfaceMethod org/apache/curator/framework/CuratorFramework.usingNamespace:(Ljava/lang/String;)Lorg/apache/curator/framework/CuratorFramework;
     124: putfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     127: aload_0
     128: iconst_1
     129: putfield      #40                 // Field isExternalClient:Z
     132: goto          431
     135: aload_1
     136: ldc           #41                 // String zk-dt-secret-manager.zkConnectionString
     138: invokevirtual #42                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;)Ljava/lang/String;
     141: astore_2
     142: aload_2
     143: ldc           #43                 // String Zookeeper connection string cannot be null
     145: invokestatic  #44                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     148: pop
     149: aload_1
     150: ldc           #45                 // String zk-dt-secret-manager.zkAuthType
     152: invokevirtual #42                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;)Ljava/lang/String;
     155: astore_3
     156: aload_3
     157: ldc           #46                 // String Zookeeper authType cannot be null !!
     159: invokestatic  #44                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     162: pop
     163: aload_3
     164: ldc           #47                 // String sasl
     166: invokevirtual #48                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     169: ifne          181
     172: aload_3
     173: ldc           #49                 // String none
     175: invokevirtual #48                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     178: ifeq          185
     181: iconst_1
     182: goto          186
     185: iconst_0
     186: ldc           #50                 // String Zookeeper authType must be one of [none, sasl]
     188: invokestatic  #51                 // Method com/google/common/base/Preconditions.checkArgument:(ZLjava/lang/Object;)V
     191: aconst_null
     192: astore        4
     194: aconst_null
     195: astore        5
     197: aload_3
     198: ldc           #47                 // String sasl
     200: invokevirtual #48                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     203: ifeq          254
     206: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     209: ldc           #53                 // String Connecting to ZooKeeper with SASL/Kerberosand using \'sasl\' ACLs
     211: invokeinterface #54,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     216: aload_0
     217: aload_1
     218: invokespecial #55                 // Method setJaasConfiguration:(Lorg/apache/hadoop/conf/Configuration;)Ljava/lang/String;
     221: astore        6
     223: ldc           #57                 // String zookeeper.sasl.clientconfig
     225: ldc           #58                 // String ZKDelegationTokenSecretManagerClient
     227: invokestatic  #59                 // Method java/lang/System.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     230: pop
     231: ldc           #60                 // String zookeeper.authProvider.1
     233: ldc           #61                 // String org.apache.zookeeper.server.auth.SASLAuthenticationProvider
     235: invokestatic  #59                 // Method java/lang/System.setProperty:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     238: pop
     239: new           #62                 // class org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$SASLOwnerACLProvider
     242: dup
     243: aload         6
     245: aconst_null
     246: invokespecial #63                 // Method org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$SASLOwnerACLProvider."<init>":(Ljava/lang/String;Lorg/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$1;)V
     249: astore        5
     251: goto          273
     254: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     257: ldc           #64                 // String Connecting to ZooKeeper without authentication
     259: invokeinterface #54,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     264: new           #65                 // class org/apache/curator/framework/imps/DefaultACLProvider
     267: dup
     268: invokespecial #66                 // Method org/apache/curator/framework/imps/DefaultACLProvider."<init>":()V
     271: astore        5
     273: aload_1
     274: ldc           #67                 // String zk-dt-secret-manager.zkSessionTimeout
     276: sipush        10000
     279: invokevirtual #68                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     282: istore        6
     284: aload_1
     285: ldc           #69                 // String zk-dt-secret-manager.zkNumRetries
     287: iconst_3
     288: invokevirtual #68                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     291: istore        7
     293: invokestatic  #70                 // Method org/apache/curator/framework/CuratorFrameworkFactory.builder:()Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     296: aload         5
     298: invokevirtual #71                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.aclProvider:(Lorg/apache/curator/framework/api/ACLProvider;)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     301: new           #29                 // class java/lang/StringBuilder
     304: dup
     305: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     308: aload_1
     309: ldc           #31                 // String zk-dt-secret-manager.znodeWorkingPath
     311: ldc           #32                 // String zkdtsm
     313: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     316: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     319: ldc           #35                 // String /
     321: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     324: ldc           #36                 // String ZKDTSMRoot
     326: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     329: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     332: invokevirtual #72                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.namespace:(Ljava/lang/String;)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     335: iload         6
     337: invokevirtual #73                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.sessionTimeoutMs:(I)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     340: aload_1
     341: ldc           #74                 // String zk-dt-secret-manager.zkConnectionTimeout
     343: sipush        10000
     346: invokevirtual #68                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
     349: invokevirtual #75                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.connectionTimeoutMs:(I)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     352: new           #76                 // class org/apache/curator/retry/RetryNTimes
     355: dup
     356: iload         7
     358: iload         6
     360: iload         7
     362: idiv
     363: invokespecial #77                 // Method org/apache/curator/retry/RetryNTimes."<init>":(II)V
     366: invokevirtual #78                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.retryPolicy:(Lorg/apache/curator/RetryPolicy;)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     369: astore        4
     371: goto          406
     374: astore        5
     376: new           #80                 // class java/lang/RuntimeException
     379: dup
     380: new           #29                 // class java/lang/StringBuilder
     383: dup
     384: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     387: ldc           #81                 // String Could not Load ZK acls or auth:
     389: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     392: aload         5
     394: invokevirtual #82                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     397: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     400: aload         5
     402: invokespecial #83                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     405: athrow
     406: aload_0
     407: aload         4
     409: new           #84                 // class org/apache/curator/ensemble/fixed/FixedEnsembleProvider
     412: dup
     413: aload_2
     414: invokespecial #85                 // Method org/apache/curator/ensemble/fixed/FixedEnsembleProvider."<init>":(Ljava/lang/String;)V
     417: invokevirtual #86                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.ensembleProvider:(Lorg/apache/curator/ensemble/EnsembleProvider;)Lorg/apache/curator/framework/CuratorFrameworkFactory$Builder;
     420: invokevirtual #87                 // Method org/apache/curator/framework/CuratorFrameworkFactory$Builder.build:()Lorg/apache/curator/framework/CuratorFramework;
     423: putfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     426: aload_0
     427: iconst_0
     428: putfield      #40                 // Field isExternalClient:Z
     431: return
    Exception table:
       from    to  target type
         194   371   374   Class java/lang/Exception

  private java.lang.String setJaasConfiguration(org.apache.hadoop.conf.Configuration) throws java.lang.Exception;
    Code:
       0: aload_1
       1: ldc           #88                 // String zk-dt-secret-manager.kerberos.keytab
       3: ldc           #89                 // String
       5: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
       8: invokevirtual #90                 // Method java/lang/String.trim:()Ljava/lang/String;
      11: astore_2
      12: aload_2
      13: ifnull        23
      16: aload_2
      17: invokevirtual #91                 // Method java/lang/String.length:()I
      20: ifne          33
      23: new           #92                 // class java/lang/IllegalArgumentException
      26: dup
      27: ldc           #93                 // String zk-dt-secret-manager.kerberos.keytab must be specified
      29: invokespecial #94                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_1
      34: ldc           #95                 // String zk-dt-secret-manager.kerberos.principal
      36: ldc           #89                 // String
      38: invokevirtual #33                 // Method org/apache/hadoop/conf/Configuration.get:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      41: invokevirtual #90                 // Method java/lang/String.trim:()Ljava/lang/String;
      44: astore_3
      45: aload_3
      46: ldc           #89                 // String
      48: invokestatic  #96                 // Method org/apache/hadoop/security/SecurityUtil.getServerPrincipal:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      51: astore_3
      52: aload_3
      53: ifnull        63
      56: aload_3
      57: invokevirtual #91                 // Method java/lang/String.length:()I
      60: ifne          73
      63: new           #92                 // class java/lang/IllegalArgumentException
      66: dup
      67: ldc           #97                 // String zk-dt-secret-manager.kerberos.principal must be specified
      69: invokespecial #94                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      72: athrow
      73: new           #98                 // class org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$JaasConfiguration
      76: dup
      77: ldc           #58                 // String ZKDelegationTokenSecretManagerClient
      79: aload_3
      80: aload_2
      81: invokespecial #99                 // Method org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$JaasConfiguration."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
      84: astore        4
      86: aload         4
      88: invokestatic  #100                // Method javax/security/auth/login/Configuration.setConfiguration:(Ljavax/security/auth/login/Configuration;)V
      91: aload_3
      92: ldc           #101                // String [/@]
      94: invokevirtual #102                // Method java/lang/String.split:(Ljava/lang/String;)[Ljava/lang/String;
      97: iconst_0
      98: aaload
      99: areturn

  public void startThreads() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #40                 // Field isExternalClient:Z
       4: ifne          31
       7: aload_0
       8: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      11: invokeinterface #103,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.start:()V
      16: goto          101
      19: astore_1
      20: new           #104                // class java/io/IOException
      23: dup
      24: ldc           #105                // String Could not start Curator Framework
      26: aload_1
      27: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      30: athrow
      31: aload_0
      32: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      35: aconst_null
      36: invokeinterface #38,  2           // InterfaceMethod org/apache/curator/framework/CuratorFramework.usingNamespace:(Ljava/lang/String;)Lorg/apache/curator/framework/CuratorFramework;
      41: astore_1
      42: aload_1
      43: new           #29                 // class java/lang/StringBuilder
      46: dup
      47: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      50: ldc           #35                 // String /
      52: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_0
      56: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      59: invokeinterface #107,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getNamespace:()Ljava/lang/String;
      64: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: invokeinterface #108,  2          // InterfaceMethod org/apache/curator/framework/CuratorFramework.newNamespaceAwareEnsurePath:(Ljava/lang/String;)Lorg/apache/curator/utils/EnsurePath;
      75: astore_2
      76: aload_2
      77: aload_1
      78: invokeinterface #109,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getZookeeperClient:()Lorg/apache/curator/CuratorZookeeperClient;
      83: invokevirtual #110                // Method org/apache/curator/utils/EnsurePath.ensure:(Lorg/apache/curator/CuratorZookeeperClient;)V
      86: goto          101
      89: astore_3
      90: new           #104                // class java/io/IOException
      93: dup
      94: ldc           #111                // String Could not create namespace
      96: aload_3
      97: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     100: athrow
     101: aload_0
     102: invokestatic  #112                // Method java/util/concurrent/Executors.newSingleThreadExecutor:()Ljava/util/concurrent/ExecutorService;
     105: putfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     108: aload_0
     109: new           #114                // class org/apache/curator/framework/recipes/shared/SharedCount
     112: dup
     113: aload_0
     114: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     117: ldc           #115                // String /ZKDTSMSeqNumRoot
     119: iconst_0
     120: invokespecial #116                // Method org/apache/curator/framework/recipes/shared/SharedCount."<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;I)V
     123: putfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
     126: aload_0
     127: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
     130: ifnull        140
     133: aload_0
     134: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
     137: invokevirtual #118                // Method org/apache/curator/framework/recipes/shared/SharedCount.start:()V
     140: goto          155
     143: astore_1
     144: new           #104                // class java/io/IOException
     147: dup
     148: ldc           #119                // String Could not start Sequence Counter
     150: aload_1
     151: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     154: athrow
     155: aload_0
     156: new           #114                // class org/apache/curator/framework/recipes/shared/SharedCount
     159: dup
     160: aload_0
     161: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     164: ldc           #120                // String /ZKDTSMKeyIdRoot
     166: iconst_0
     167: invokespecial #116                // Method org/apache/curator/framework/recipes/shared/SharedCount."<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;I)V
     170: putfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
     173: aload_0
     174: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
     177: ifnull        187
     180: aload_0
     181: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
     184: invokevirtual #118                // Method org/apache/curator/framework/recipes/shared/SharedCount.start:()V
     187: goto          202
     190: astore_1
     191: new           #104                // class java/io/IOException
     194: dup
     195: ldc           #122                // String Could not start KeyId Counter
     197: aload_1
     198: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     201: athrow
     202: aload_0
     203: ldc           #123                // String /ZKDTSMMasterKeyRoot
     205: invokespecial #124                // Method createPersistentNode:(Ljava/lang/String;)V
     208: aload_0
     209: ldc           #125                // String /ZKDTSMTokensRoot
     211: invokespecial #124                // Method createPersistentNode:(Ljava/lang/String;)V
     214: goto          228
     217: astore_1
     218: new           #80                 // class java/lang/RuntimeException
     221: dup
     222: ldc           #126                // String Could not create ZK paths
     224: invokespecial #127                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     227: athrow
     228: aload_0
     229: new           #128                // class org/apache/curator/framework/recipes/cache/PathChildrenCache
     232: dup
     233: aload_0
     234: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     237: ldc           #123                // String /ZKDTSMMasterKeyRoot
     239: iconst_1
     240: invokespecial #129                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache."<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Z)V
     243: putfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     246: aload_0
     247: getfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     250: ifnull        290
     253: aload_0
     254: getfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     257: getstatic     #131                // Field org/apache/curator/framework/recipes/cache/PathChildrenCache$StartMode.BUILD_INITIAL_CACHE:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache$StartMode;
     260: invokevirtual #132                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.start:(Lorg/apache/curator/framework/recipes/cache/PathChildrenCache$StartMode;)V
     263: aload_0
     264: getfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     267: invokevirtual #133                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.getListenable:()Lorg/apache/curator/framework/listen/ListenerContainer;
     270: new           #134                // class org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$1
     273: dup
     274: aload_0
     275: invokespecial #135                // Method org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$1."<init>":(Lorg/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager;)V
     278: aload_0
     279: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     282: invokevirtual #136                // Method org/apache/curator/framework/listen/ListenerContainer.addListener:(Ljava/lang/Object;Ljava/util/concurrent/Executor;)V
     285: aload_0
     286: iconst_0
     287: invokespecial #137                // Method loadFromZKCache:(Z)V
     290: goto          305
     293: astore_1
     294: new           #104                // class java/io/IOException
     297: dup
     298: ldc           #138                // String Could not start PathChildrenCache for keys
     300: aload_1
     301: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     304: athrow
     305: aload_0
     306: new           #128                // class org/apache/curator/framework/recipes/cache/PathChildrenCache
     309: dup
     310: aload_0
     311: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     314: ldc           #125                // String /ZKDTSMTokensRoot
     316: iconst_1
     317: invokespecial #129                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache."<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Z)V
     320: putfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     323: aload_0
     324: getfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     327: ifnull        367
     330: aload_0
     331: getfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     334: getstatic     #131                // Field org/apache/curator/framework/recipes/cache/PathChildrenCache$StartMode.BUILD_INITIAL_CACHE:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache$StartMode;
     337: invokevirtual #132                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.start:(Lorg/apache/curator/framework/recipes/cache/PathChildrenCache$StartMode;)V
     340: aload_0
     341: getfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     344: invokevirtual #133                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.getListenable:()Lorg/apache/curator/framework/listen/ListenerContainer;
     347: new           #140                // class org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$2
     350: dup
     351: aload_0
     352: invokespecial #141                // Method org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager$2."<init>":(Lorg/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager;)V
     355: aload_0
     356: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     359: invokevirtual #136                // Method org/apache/curator/framework/listen/ListenerContainer.addListener:(Ljava/lang/Object;Ljava/util/concurrent/Executor;)V
     362: aload_0
     363: iconst_1
     364: invokespecial #137                // Method loadFromZKCache:(Z)V
     367: goto          382
     370: astore_1
     371: new           #104                // class java/io/IOException
     374: dup
     375: ldc           #142                // String Could not start PathChildrenCache for tokens
     377: aload_1
     378: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     381: athrow
     382: aload_0
     383: invokespecial #143                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager.startThreads:()V
     386: return
    Exception table:
       from    to  target type
           7    16    19   Class java/lang/Exception
          76    86    89   Class java/lang/Exception
         108   140   143   Class java/lang/Exception
         155   187   190   Class java/lang/Exception
         202   214   217   Class java/lang/Exception
         228   290   293   Class java/lang/Exception
         305   367   370   Class java/lang/Exception

  private void loadFromZKCache(boolean);
    Code:
       0: iload_1
       1: ifeq          9
       4: ldc           #144                // String token
       6: goto          11
       9: ldc           #145                // String key
      11: astore_2
      12: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #146                // String Starting to load {} cache.
      17: aload_2
      18: invokeinterface #147,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      23: iload_1
      24: ifeq          38
      27: aload_0
      28: getfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
      31: invokevirtual #148                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.getCurrentData:()Ljava/util/List;
      34: astore_3
      35: goto          46
      38: aload_0
      39: getfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
      42: invokevirtual #148                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.getCurrentData:()Ljava/util/List;
      45: astore_3
      46: iconst_0
      47: istore        4
      49: aload_3
      50: invokeinterface #149,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      55: astore        5
      57: aload         5
      59: invokeinterface #150,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      64: ifeq          139
      67: aload         5
      69: invokeinterface #151,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      74: checkcast     #152                // class org/apache/curator/framework/recipes/cache/ChildData
      77: astore        6
      79: iload_1
      80: ifeq          92
      83: aload_0
      84: aload         6
      86: invokespecial #3                  // Method processTokenAddOrUpdate:(Lorg/apache/curator/framework/recipes/cache/ChildData;)V
      89: goto          101
      92: aload_0
      93: aload         6
      95: invokevirtual #153                // Method org/apache/curator/framework/recipes/cache/ChildData.getData:()[B
      98: invokespecial #5                  // Method processKeyAddOrUpdate:([B)V
     101: goto          136
     104: astore        7
     106: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     109: ldc           #154                // String Ignoring node {} because it failed to load.
     111: aload         6
     113: invokevirtual #155                // Method org/apache/curator/framework/recipes/cache/ChildData.getPath:()Ljava/lang/String;
     116: invokeinterface #147,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     121: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     124: ldc           #156                // String Failure exception:
     126: aload         7
     128: invokeinterface #157,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     133: iinc          4, 1
     136: goto          57
     139: iload         4
     141: ifle          160
     144: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     147: ldc           #158                // String Ignored {} nodes while loading {} cache.
     149: iload         4
     151: invokestatic  #159                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     154: aload_2
     155: invokeinterface #160,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     160: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     163: ldc           #161                // String Loaded {} cache.
     165: aload_2
     166: invokeinterface #147,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     171: return
    Exception table:
       from    to  target type
          79   101   104   Class java/lang/Exception

  private void processKeyAddOrUpdate(byte[]) throws java.io.IOException;
    Code:
       0: new           #162                // class java/io/ByteArrayInputStream
       3: dup
       4: aload_1
       5: invokespecial #163                // Method java/io/ByteArrayInputStream."<init>":([B)V
       8: astore_2
       9: new           #164                // class java/io/DataInputStream
      12: dup
      13: aload_2
      14: invokespecial #165                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      17: astore_3
      18: new           #166                // class org/apache/hadoop/security/token/delegation/DelegationKey
      21: dup
      22: invokespecial #167                // Method org/apache/hadoop/security/token/delegation/DelegationKey."<init>":()V
      25: astore        4
      27: aload         4
      29: aload_3
      30: invokevirtual #168                // Method org/apache/hadoop/security/token/delegation/DelegationKey.readFields:(Ljava/io/DataInput;)V
      33: aload_0
      34: dup
      35: astore        5
      37: monitorenter
      38: aload_0
      39: getfield      #169                // Field allKeys:Ljava/util/Map;
      42: aload         4
      44: invokevirtual #170                // Method org/apache/hadoop/security/token/delegation/DelegationKey.getKeyId:()I
      47: invokestatic  #159                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      50: aload         4
      52: invokeinterface #171,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      57: pop
      58: aload         5
      60: monitorexit
      61: goto          72
      64: astore        6
      66: aload         5
      68: monitorexit
      69: aload         6
      71: athrow
      72: return
    Exception table:
       from    to  target type
          38    61    64   any
          64    69    64   any

  private void processKeyRemoved(java.lang.String);
    Code:
       0: aload_1
       1: bipush        47
       3: invokevirtual #172                // Method java/lang/String.lastIndexOf:(I)I
       6: istore_2
       7: iload_2
       8: ifle          79
      11: aload_1
      12: iload_2
      13: iconst_1
      14: iadd
      15: invokevirtual #173                // Method java/lang/String.substring:(I)Ljava/lang/String;
      18: astore_3
      19: aload_3
      20: bipush        95
      22: invokevirtual #174                // Method java/lang/String.indexOf:(I)I
      25: istore        4
      27: iload         4
      29: ifle          79
      32: aload_3
      33: iload         4
      35: iconst_1
      36: iadd
      37: invokevirtual #173                // Method java/lang/String.substring:(I)Ljava/lang/String;
      40: invokestatic  #175                // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
      43: istore        5
      45: aload_0
      46: dup
      47: astore        6
      49: monitorenter
      50: aload_0
      51: getfield      #169                // Field allKeys:Ljava/util/Map;
      54: iload         5
      56: invokestatic  #159                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      59: invokeinterface #176,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      64: pop
      65: aload         6
      67: monitorexit
      68: goto          79
      71: astore        7
      73: aload         6
      75: monitorexit
      76: aload         7
      78: athrow
      79: return
    Exception table:
       from    to  target type
          50    68    71   any
          71    76    71   any

  private void processTokenAddOrUpdate(org.apache.curator.framework.recipes.cache.ChildData) throws java.io.IOException;
    Code:
       0: new           #162                // class java/io/ByteArrayInputStream
       3: dup
       4: aload_1
       5: invokevirtual #153                // Method org/apache/curator/framework/recipes/cache/ChildData.getData:()[B
       8: invokespecial #163                // Method java/io/ByteArrayInputStream."<init>":([B)V
      11: astore_2
      12: new           #164                // class java/io/DataInputStream
      15: dup
      16: aload_2
      17: invokespecial #165                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      20: astore_3
      21: aload_0
      22: invokevirtual #177                // Method createIdentifier:()Lorg/apache/hadoop/security/token/TokenIdentifier;
      25: checkcast     #178                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier
      28: astore        4
      30: aload         4
      32: aload_3
      33: invokevirtual #179                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.readFields:(Ljava/io/DataInput;)V
      36: aload_3
      37: invokevirtual #180                // Method java/io/DataInputStream.readLong:()J
      40: lstore        5
      42: aload_3
      43: invokevirtual #181                // Method java/io/DataInputStream.readInt:()I
      46: istore        7
      48: iload         7
      50: newarray       byte
      52: astore        8
      54: aload_3
      55: aload         8
      57: iconst_0
      58: iload         7
      60: invokevirtual #182                // Method java/io/DataInputStream.read:([BII)I
      63: istore        9
      65: iload         9
      67: iconst_m1
      68: if_icmple     121
      71: new           #183                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation
      74: dup
      75: lload         5
      77: aload         8
      79: invokespecial #184                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation."<init>":(J[B)V
      82: astore        10
      84: aload_0
      85: dup
      86: astore        11
      88: monitorenter
      89: aload_0
      90: getfield      #185                // Field currentTokens:Ljava/util/Map;
      93: aload         4
      95: aload         10
      97: invokeinterface #171,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     102: pop
     103: aload_0
     104: invokevirtual #186                // Method java/lang/Object.notifyAll:()V
     107: aload         11
     109: monitorexit
     110: goto          121
     113: astore        12
     115: aload         11
     117: monitorexit
     118: aload         12
     120: athrow
     121: return
    Exception table:
       from    to  target type
          89   110   113   any
         113   118   113   any

  private void processTokenRemoved(org.apache.curator.framework.recipes.cache.ChildData) throws java.io.IOException;
    Code:
       0: new           #162                // class java/io/ByteArrayInputStream
       3: dup
       4: aload_1
       5: invokevirtual #153                // Method org/apache/curator/framework/recipes/cache/ChildData.getData:()[B
       8: invokespecial #163                // Method java/io/ByteArrayInputStream."<init>":([B)V
      11: astore_2
      12: new           #164                // class java/io/DataInputStream
      15: dup
      16: aload_2
      17: invokespecial #165                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      20: astore_3
      21: aload_0
      22: invokevirtual #177                // Method createIdentifier:()Lorg/apache/hadoop/security/token/TokenIdentifier;
      25: checkcast     #178                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier
      28: astore        4
      30: aload         4
      32: aload_3
      33: invokevirtual #179                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.readFields:(Ljava/io/DataInput;)V
      36: aload_0
      37: dup
      38: astore        5
      40: monitorenter
      41: aload_0
      42: getfield      #185                // Field currentTokens:Ljava/util/Map;
      45: aload         4
      47: invokeinterface #176,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      52: pop
      53: aload_0
      54: invokevirtual #186                // Method java/lang/Object.notifyAll:()V
      57: aload         5
      59: monitorexit
      60: goto          71
      63: astore        6
      65: aload         5
      67: monitorexit
      68: aload         6
      70: athrow
      71: return
    Exception table:
       from    to  target type
          41    60    63   any
          63    68    63   any

  public void stopThreads();
    Code:
       0: aload_0
       1: invokespecial #187                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager.stopThreads:()V
       4: aload_0
       5: getfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
       8: ifnull        18
      11: aload_0
      12: getfield      #139                // Field tokenCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
      15: invokevirtual #188                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.close:()V
      18: goto          33
      21: astore_1
      22: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      25: ldc           #189                // String Could not stop Delegation Token Cache
      27: aload_1
      28: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      33: aload_0
      34: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
      37: ifnull        47
      40: aload_0
      41: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
      44: invokevirtual #191                // Method org/apache/curator/framework/recipes/shared/SharedCount.close:()V
      47: goto          62
      50: astore_1
      51: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      54: ldc           #192                // String Could not stop Delegation Token Counter
      56: aload_1
      57: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      62: aload_0
      63: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
      66: ifnull        76
      69: aload_0
      70: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
      73: invokevirtual #191                // Method org/apache/curator/framework/recipes/shared/SharedCount.close:()V
      76: goto          91
      79: astore_1
      80: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      83: ldc           #193                // String Could not stop Key Id Counter
      85: aload_1
      86: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      91: aload_0
      92: getfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
      95: ifnull        105
      98: aload_0
      99: getfield      #130                // Field keyCache:Lorg/apache/curator/framework/recipes/cache/PathChildrenCache;
     102: invokevirtual #188                // Method org/apache/curator/framework/recipes/cache/PathChildrenCache.close:()V
     105: goto          120
     108: astore_1
     109: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     112: ldc           #194                // String Could not stop KeyCache
     114: aload_1
     115: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     120: aload_0
     121: getfield      #40                 // Field isExternalClient:Z
     124: ifne          143
     127: aload_0
     128: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     131: ifnull        143
     134: aload_0
     135: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     138: invokeinterface #195,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.close:()V
     143: goto          158
     146: astore_1
     147: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     150: ldc           #196                // String Could not stop Curator Framework
     152: aload_1
     153: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     158: aload_0
     159: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     162: ifnull        233
     165: aload_0
     166: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     169: invokeinterface #197,  1          // InterfaceMethod java/util/concurrent/ExecutorService.shutdown:()V
     174: aload_0
     175: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     178: aload_0
     179: getfield      #26                 // Field shutdownTimeout:J
     182: getstatic     #198                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     185: invokeinterface #199,  4          // InterfaceMethod java/util/concurrent/ExecutorService.awaitTermination:(JLjava/util/concurrent/TimeUnit;)Z
     190: ifne          213
     193: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     196: ldc           #200                // String Forcing Listener threadPool to shutdown !!
     198: invokeinterface #201,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     203: aload_0
     204: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     207: invokeinterface #202,  1          // InterfaceMethod java/util/concurrent/ExecutorService.shutdownNow:()Ljava/util/List;
     212: pop
     213: goto          233
     216: astore_1
     217: aload_0
     218: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
     221: invokeinterface #202,  1          // InterfaceMethod java/util/concurrent/ExecutorService.shutdownNow:()Ljava/util/List;
     226: pop
     227: invokestatic  #204                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     230: invokevirtual #205                // Method java/lang/Thread.interrupt:()V
     233: return
    Exception table:
       from    to  target type
           4    18    21   Class java/lang/Exception
          33    47    50   Class java/lang/Exception
          62    76    79   Class java/lang/Exception
          91   105   108   Class java/lang/Exception
         120   143   146   Class java/lang/Exception
         174   213   216   Class java/lang/InterruptedException

  private void createPersistentNode(java.lang.String) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
       4: invokeinterface #206,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.create:()Lorg/apache/curator/framework/api/CreateBuilder;
       9: getstatic     #207                // Field org/apache/zookeeper/CreateMode.PERSISTENT:Lorg/apache/zookeeper/CreateMode;
      12: invokeinterface #208,  2          // InterfaceMethod org/apache/curator/framework/api/CreateBuilder.withMode:(Lorg/apache/zookeeper/CreateMode;)Ljava/lang/Object;
      17: checkcast     #209                // class org/apache/curator/framework/api/ACLBackgroundPathAndBytesable
      20: aload_1
      21: invokeinterface #210,  2          // InterfaceMethod org/apache/curator/framework/api/ACLBackgroundPathAndBytesable.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      26: pop
      27: goto          90
      30: astore_2
      31: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      34: new           #29                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      41: aload_1
      42: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: ldc           #212                // String  znode already exists !!
      47: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      58: goto          90
      61: astore_2
      62: new           #104                // class java/io/IOException
      65: dup
      66: new           #29                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      73: aload_1
      74: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: ldc           #214                // String  znode could not be created !!
      79: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      82: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      85: aload_2
      86: invokespecial #106                // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      89: athrow
      90: return
    Exception table:
       from    to  target type
           0    27    30   Class org/apache/zookeeper/KeeperException$NodeExistsException
           0    27    61   Class java/lang/Exception

  protected int getDelegationTokenSeqNum();
    Code:
       0: aload_0
       1: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
       4: invokevirtual #215                // Method org/apache/curator/framework/recipes/shared/SharedCount.getCount:()I
       7: ireturn

  private void incrSharedCount(org.apache.curator.framework.recipes.shared.SharedCount) throws java.lang.Exception;
    Code:
       0: aload_1
       1: invokevirtual #216                // Method org/apache/curator/framework/recipes/shared/SharedCount.getVersionedValue:()Lorg/apache/curator/framework/recipes/shared/VersionedValue;
       4: astore_2
       5: aload_1
       6: aload_2
       7: aload_2
       8: invokevirtual #217                // Method org/apache/curator/framework/recipes/shared/VersionedValue.getValue:()Ljava/lang/Object;
      11: checkcast     #218                // class java/lang/Integer
      14: invokevirtual #219                // Method java/lang/Integer.intValue:()I
      17: iconst_1
      18: iadd
      19: invokevirtual #220                // Method org/apache/curator/framework/recipes/shared/SharedCount.trySetCount:(Lorg/apache/curator/framework/recipes/shared/VersionedValue;I)Z
      22: ifeq          28
      25: goto          31
      28: goto          0
      31: return

  protected int incrementDelegationTokenSeqNum();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
       5: invokespecial #221                // Method incrSharedCount:(Lorg/apache/curator/framework/recipes/shared/SharedCount;)V
       8: goto          44
      11: astore_1
      12: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #222                // String Thread interrupted while performing token counter increment
      17: aload_1
      18: invokeinterface #157,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      23: invokestatic  #204                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      26: invokevirtual #205                // Method java/lang/Thread.interrupt:()V
      29: goto          44
      32: astore_1
      33: new           #80                 // class java/lang/RuntimeException
      36: dup
      37: ldc           #223                // String Could not increment shared counter !!
      39: aload_1
      40: invokespecial #83                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      43: athrow
      44: aload_0
      45: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
      48: invokevirtual #215                // Method org/apache/curator/framework/recipes/shared/SharedCount.getCount:()I
      51: ireturn
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/InterruptedException
           0     8    32   Class java/lang/Exception

  protected void setDelegationTokenSeqNum(int);
    Code:
       0: aload_0
       1: getfield      #117                // Field delTokSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
       4: iload_1
       5: invokevirtual #224                // Method org/apache/curator/framework/recipes/shared/SharedCount.setCount:(I)V
       8: goto          23
      11: astore_2
      12: new           #80                 // class java/lang/RuntimeException
      15: dup
      16: ldc           #225                // String Could not set shared counter !!
      18: aload_2
      19: invokespecial #83                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      22: athrow
      23: return
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/Exception

  protected int getCurrentKeyId();
    Code:
       0: aload_0
       1: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
       4: invokevirtual #215                // Method org/apache/curator/framework/recipes/shared/SharedCount.getCount:()I
       7: ireturn

  protected int incrementCurrentKeyId();
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
       5: invokespecial #221                // Method incrSharedCount:(Lorg/apache/curator/framework/recipes/shared/SharedCount;)V
       8: goto          44
      11: astore_1
      12: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      15: ldc           #226                // String Thread interrupted while performing keyId increment
      17: aload_1
      18: invokeinterface #157,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      23: invokestatic  #204                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      26: invokevirtual #205                // Method java/lang/Thread.interrupt:()V
      29: goto          44
      32: astore_1
      33: new           #80                 // class java/lang/RuntimeException
      36: dup
      37: ldc           #227                // String Could not increment shared keyId counter !!
      39: aload_1
      40: invokespecial #83                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      43: athrow
      44: aload_0
      45: getfield      #121                // Field keyIdSeqCounter:Lorg/apache/curator/framework/recipes/shared/SharedCount;
      48: invokevirtual #215                // Method org/apache/curator/framework/recipes/shared/SharedCount.getCount:()I
      51: ireturn
    Exception table:
       from    to  target type
           0     8    11   Class java/lang/InterruptedException
           0     8    32   Class java/lang/Exception

  protected org.apache.hadoop.security.token.delegation.DelegationKey getDelegationKey(int);
    Code:
       0: aload_0
       1: getfield      #169                // Field allKeys:Ljava/util/Map;
       4: iload_1
       5: invokestatic  #159                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       8: invokeinterface #228,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #166                // class org/apache/hadoop/security/token/delegation/DelegationKey
      16: astore_2
      17: aload_2
      18: ifnonnull     83
      21: aload_0
      22: iload_1
      23: invokespecial #229                // Method getKeyFromZK:(I)Lorg/apache/hadoop/security/token/delegation/DelegationKey;
      26: astore_2
      27: aload_2
      28: ifnull        46
      31: aload_0
      32: getfield      #169                // Field allKeys:Ljava/util/Map;
      35: iload_1
      36: invokestatic  #159                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      39: aload_2
      40: invokeinterface #171,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      45: pop
      46: goto          83
      49: astore_3
      50: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      53: new           #29                 // class java/lang/StringBuilder
      56: dup
      57: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      60: ldc           #230                // String Error retrieving key [
      62: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: iload_1
      66: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      69: ldc           #232                // String ] from ZK
      71: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      77: aload_3
      78: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      83: aload_2
      84: areturn
    Exception table:
       from    to  target type
          21    46    49   Class java/io/IOException

  private org.apache.hadoop.security.token.delegation.DelegationKey getKeyFromZK(int) throws java.io.IOException;
    Code:
       0: ldc           #123                // String /ZKDTSMMasterKeyRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #233                // String DK_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: iload_1
      15: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      18: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      21: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      24: astore_2
      25: aload_0
      26: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      29: invokeinterface #235,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getData:()Lorg/apache/curator/framework/api/GetDataBuilder;
      34: aload_2
      35: invokeinterface #236,  2          // InterfaceMethod org/apache/curator/framework/api/GetDataBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      40: checkcast     #237                // class "[B"
      43: astore_3
      44: aload_3
      45: ifnull        53
      48: aload_3
      49: arraylength
      50: ifne          55
      53: aconst_null
      54: areturn
      55: new           #162                // class java/io/ByteArrayInputStream
      58: dup
      59: aload_3
      60: invokespecial #163                // Method java/io/ByteArrayInputStream."<init>":([B)V
      63: astore        4
      65: new           #164                // class java/io/DataInputStream
      68: dup
      69: aload         4
      71: invokespecial #165                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      74: astore        5
      76: new           #166                // class org/apache/hadoop/security/token/delegation/DelegationKey
      79: dup
      80: invokespecial #167                // Method org/apache/hadoop/security/token/delegation/DelegationKey."<init>":()V
      83: astore        6
      85: aload         6
      87: aload         5
      89: invokevirtual #168                // Method org/apache/hadoop/security/token/delegation/DelegationKey.readFields:(Ljava/io/DataInput;)V
      92: aload         6
      94: areturn
      95: astore_3
      96: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      99: new           #29                 // class java/lang/StringBuilder
     102: dup
     103: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     106: ldc           #239                // String No node in path [
     108: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     111: aload_2
     112: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: ldc           #240                // String ]
     117: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: invokeinterface #201,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     128: goto          141
     131: astore_3
     132: new           #104                // class java/io/IOException
     135: dup
     136: aload_3
     137: invokespecial #241                // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     140: athrow
     141: aconst_null
     142: areturn
    Exception table:
       from    to  target type
          25    54    95   Class org/apache/zookeeper/KeeperException$NoNodeException
          55    94    95   Class org/apache/zookeeper/KeeperException$NoNodeException
          25    54   131   Class java/lang/Exception
          55    94   131   Class java/lang/Exception

  protected org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation getTokenInfo(TokenIdent);
    Code:
       0: aload_0
       1: getfield      #185                // Field currentTokens:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #228,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #183                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation
      13: astore_2
      14: aload_2
      15: ifnonnull     80
      18: aload_0
      19: aload_1
      20: invokespecial #242                // Method getTokenInfoFromZK:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;)Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation;
      23: astore_2
      24: aload_2
      25: ifnull        40
      28: aload_0
      29: getfield      #185                // Field currentTokens:Ljava/util/Map;
      32: aload_1
      33: aload_2
      34: invokeinterface #171,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      39: pop
      40: goto          80
      43: astore_3
      44: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      47: new           #29                 // class java/lang/StringBuilder
      50: dup
      51: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      54: ldc           #243                // String Error retrieving tokenInfo [
      56: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: aload_1
      60: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      63: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      66: ldc           #232                // String ] from ZK
      68: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      71: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      74: aload_3
      75: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      80: aload_2
      81: areturn
    Exception table:
       from    to  target type
          18    40    43   Class java/io/IOException

  private synchronized void syncLocalCacheWithZk(TokenIdent);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #242                // Method getTokenInfoFromZK:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;)Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation;
       5: astore_2
       6: aload_2
       7: ifnull        38
      10: aload_0
      11: getfield      #185                // Field currentTokens:Ljava/util/Map;
      14: aload_1
      15: invokeinterface #245,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      20: ifne          38
      23: aload_0
      24: getfield      #185                // Field currentTokens:Ljava/util/Map;
      27: aload_1
      28: aload_2
      29: invokeinterface #171,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      34: pop
      35: goto          66
      38: aload_2
      39: ifnonnull     66
      42: aload_0
      43: getfield      #185                // Field currentTokens:Ljava/util/Map;
      46: aload_1
      47: invokeinterface #245,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
      52: ifeq          66
      55: aload_0
      56: getfield      #185                // Field currentTokens:Ljava/util/Map;
      59: aload_1
      60: invokeinterface #176,  2          // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      65: pop
      66: goto          106
      69: astore_2
      70: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      73: new           #29                 // class java/lang/StringBuilder
      76: dup
      77: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      80: ldc           #243                // String Error retrieving tokenInfo [
      82: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: aload_1
      86: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      89: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      92: ldc           #232                // String ] from ZK
      94: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: aload_2
     101: invokeinterface #190,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     106: return
    Exception table:
       from    to  target type
           0    66    69   Class java/io/IOException

  private org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation getTokenInfoFromZK(TokenIdent) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: invokespecial #246                // Method getTokenInfoFromZK:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;Z)Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation;
       6: areturn

  private org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation getTokenInfoFromZK(TokenIdent, boolean) throws java.io.IOException;
    Code:
       0: ldc           #125                // String /ZKDTSMTokensRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #247                // String DT_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_1
      15: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      18: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      21: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: astore_3
      28: aload_0
      29: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      32: invokeinterface #235,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getData:()Lorg/apache/curator/framework/api/GetDataBuilder;
      37: aload_3
      38: invokeinterface #236,  2          // InterfaceMethod org/apache/curator/framework/api/GetDataBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      43: checkcast     #237                // class "[B"
      46: astore        4
      48: aload         4
      50: ifnull        59
      53: aload         4
      55: arraylength
      56: ifne          61
      59: aconst_null
      60: areturn
      61: new           #162                // class java/io/ByteArrayInputStream
      64: dup
      65: aload         4
      67: invokespecial #163                // Method java/io/ByteArrayInputStream."<init>":([B)V
      70: astore        5
      72: new           #164                // class java/io/DataInputStream
      75: dup
      76: aload         5
      78: invokespecial #165                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      81: astore        6
      83: aload_0
      84: invokevirtual #177                // Method createIdentifier:()Lorg/apache/hadoop/security/token/TokenIdentifier;
      87: checkcast     #178                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier
      90: aload         6
      92: invokevirtual #179                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.readFields:(Ljava/io/DataInput;)V
      95: aload         6
      97: invokevirtual #180                // Method java/io/DataInputStream.readLong:()J
     100: lstore        7
     102: aload         6
     104: invokevirtual #181                // Method java/io/DataInputStream.readInt:()I
     107: istore        9
     109: iload         9
     111: newarray       byte
     113: astore        10
     115: aload         6
     117: aload         10
     119: iconst_0
     120: iload         9
     122: invokevirtual #182                // Method java/io/DataInputStream.read:([BII)I
     125: istore        11
     127: iload         11
     129: iconst_m1
     130: if_icmple     149
     133: new           #183                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation
     136: dup
     137: lload         7
     139: aload         10
     141: invokespecial #184                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation."<init>":(J[B)V
     144: astore        12
     146: aload         12
     148: areturn
     149: goto          205
     152: astore        4
     154: iload_2
     155: ifne          190
     158: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     161: new           #29                 // class java/lang/StringBuilder
     164: dup
     165: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     168: ldc           #239                // String No node in path [
     170: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     173: aload_3
     174: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     177: ldc           #240                // String ]
     179: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: invokeinterface #201,  2          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     190: goto          205
     193: astore        4
     195: new           #104                // class java/io/IOException
     198: dup
     199: aload         4
     201: invokespecial #241                // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     204: athrow
     205: aconst_null
     206: areturn
    Exception table:
       from    to  target type
          28    60   152   Class org/apache/zookeeper/KeeperException$NoNodeException
          61   148   152   Class org/apache/zookeeper/KeeperException$NoNodeException
          28    60   193   Class java/lang/Exception
          61   148   193   Class java/lang/Exception

  protected void storeDelegationKey(org.apache.hadoop.security.token.delegation.DelegationKey) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: invokespecial #248                // Method addOrUpdateDelegationKey:(Lorg/apache/hadoop/security/token/delegation/DelegationKey;Z)V
       6: return

  protected void updateDelegationKey(org.apache.hadoop.security.token.delegation.DelegationKey) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: invokespecial #248                // Method addOrUpdateDelegationKey:(Lorg/apache/hadoop/security/token/delegation/DelegationKey;Z)V
       6: return

  private void addOrUpdateDelegationKey(org.apache.hadoop.security.token.delegation.DelegationKey, boolean) throws java.io.IOException;
    Code:
       0: ldc           #123                // String /ZKDTSMMasterKeyRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #233                // String DK_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_1
      15: invokevirtual #170                // Method org/apache/hadoop/security/token/delegation/DelegationKey.getKeyId:()I
      18: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      21: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: astore_3
      28: new           #249                // class java/io/ByteArrayOutputStream
      31: dup
      32: invokespecial #250                // Method java/io/ByteArrayOutputStream."<init>":()V
      35: astore        4
      37: new           #251                // class java/io/DataOutputStream
      40: dup
      41: aload         4
      43: invokespecial #252                // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      46: astore        5
      48: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      51: invokeinterface #253,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      56: ifeq          89
      59: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      62: new           #29                 // class java/lang/StringBuilder
      65: dup
      66: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      69: ldc           #254                // String Storing ZKDTSMDelegationKey_
      71: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: aload_1
      75: invokevirtual #170                // Method org/apache/hadoop/security/token/delegation/DelegationKey.getKeyId:()I
      78: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      81: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      89: aload_1
      90: aload         5
      92: invokevirtual #255                // Method org/apache/hadoop/security/token/delegation/DelegationKey.write:(Ljava/io/DataOutput;)V
      95: aload_0
      96: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      99: invokeinterface #256,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
     104: aload_3
     105: invokeinterface #257,  2          // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     110: ifnull        181
     113: aload_0
     114: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     117: invokeinterface #258,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.setData:()Lorg/apache/curator/framework/api/SetDataBuilder;
     122: aload_3
     123: aload         4
     125: invokevirtual #259                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     128: invokeinterface #260,  3          // InterfaceMethod org/apache/curator/framework/api/SetDataBuilder.forPath:(Ljava/lang/String;[B)Ljava/lang/Object;
     133: checkcast     #261                // class org/apache/zookeeper/data/Stat
     136: iconst_m1
     137: invokevirtual #262                // Method org/apache/zookeeper/data/Stat.setVersion:(I)V
     140: iload_2
     141: ifne          251
     144: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     147: new           #29                 // class java/lang/StringBuilder
     150: dup
     151: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     154: ldc_w         #263                // String Key with path [
     157: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     160: aload_3
     161: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     164: ldc_w         #264                // String ] already exists.. Updating !!
     167: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     170: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     173: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     178: goto          251
     181: aload_0
     182: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     185: invokeinterface #206,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.create:()Lorg/apache/curator/framework/api/CreateBuilder;
     190: getstatic     #207                // Field org/apache/zookeeper/CreateMode.PERSISTENT:Lorg/apache/zookeeper/CreateMode;
     193: invokeinterface #208,  2          // InterfaceMethod org/apache/curator/framework/api/CreateBuilder.withMode:(Lorg/apache/zookeeper/CreateMode;)Ljava/lang/Object;
     198: checkcast     #209                // class org/apache/curator/framework/api/ACLBackgroundPathAndBytesable
     201: aload_3
     202: aload         4
     204: invokevirtual #259                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     207: invokeinterface #265,  3          // InterfaceMethod org/apache/curator/framework/api/ACLBackgroundPathAndBytesable.forPath:(Ljava/lang/String;[B)Ljava/lang/Object;
     212: pop
     213: iload_2
     214: ifeq          251
     217: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     220: new           #29                 // class java/lang/StringBuilder
     223: dup
     224: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     227: ldc_w         #266                // String Updating non existent Key path [
     230: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     233: aload_3
     234: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     237: ldc_w         #267                // String ].. Adding new !!
     240: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     243: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     246: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     251: aload         4
     253: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     256: goto          318
     259: astore        6
     261: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     264: new           #29                 // class java/lang/StringBuilder
     267: dup
     268: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     271: aload_3
     272: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     275: ldc           #212                // String  znode already exists !!
     277: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     280: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     283: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     288: aload         4
     290: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     293: goto          318
     296: astore        6
     298: new           #104                // class java/io/IOException
     301: dup
     302: aload         6
     304: invokespecial #241                // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
     307: athrow
     308: astore        7
     310: aload         4
     312: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     315: aload         7
     317: athrow
     318: return
    Exception table:
       from    to  target type
          95   251   259   Class org/apache/zookeeper/KeeperException$NodeExistsException
          95   251   296   Class java/lang/Exception
          95   251   308   any
         259   288   308   any
         296   310   308   any

  protected void removeStoredMasterKey(org.apache.hadoop.security.token.delegation.DelegationKey);
    Code:
       0: ldc           #123                // String /ZKDTSMMasterKeyRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #233                // String DK_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_1
      15: invokevirtual #170                // Method org/apache/hadoop/security/token/delegation/DelegationKey.getKeyId:()I
      18: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      21: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: astore_2
      28: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      31: invokeinterface #253,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      36: ifeq          70
      39: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      42: new           #29                 // class java/lang/StringBuilder
      45: dup
      46: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      49: ldc_w         #269                // String Removing ZKDTSMDelegationKey_
      52: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_1
      56: invokevirtual #170                // Method org/apache/hadoop/security/token/delegation/DelegationKey.getKeyId:()I
      59: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      62: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      65: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      70: aload_0
      71: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      74: invokeinterface #256,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
      79: aload_2
      80: invokeinterface #257,  2          // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      85: ifnull        162
      88: aload_0
      89: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      92: invokeinterface #256,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
      97: aload_2
      98: invokeinterface #257,  2          // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     103: ifnull        190
     106: aload_0
     107: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     110: invokeinterface #270,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.delete:()Lorg/apache/curator/framework/api/DeleteBuilder;
     115: invokeinterface #271,  1          // InterfaceMethod org/apache/curator/framework/api/DeleteBuilder.guaranteed:()Lorg/apache/curator/framework/api/ChildrenDeletable;
     120: aload_2
     121: invokeinterface #272,  2          // InterfaceMethod org/apache/curator/framework/api/ChildrenDeletable.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     126: pop
     127: goto          88
     130: astore_3
     131: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     134: new           #29                 // class java/lang/StringBuilder
     137: dup
     138: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     141: ldc_w         #273                // String Node already deleted by peer
     144: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: aload_2
     148: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     159: goto          88
     162: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     165: new           #29                 // class java/lang/StringBuilder
     168: dup
     169: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     172: ldc_w         #274                // String Attempted to delete a non-existing znode
     175: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     178: aload_2
     179: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     190: goto          222
     193: astore_3
     194: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     197: new           #29                 // class java/lang/StringBuilder
     200: dup
     201: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     204: aload_2
     205: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     208: ldc_w         #275                // String  znode could not be removed!!
     211: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     214: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     217: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     222: return
    Exception table:
       from    to  target type
         106   127   130   Class org/apache/zookeeper/KeeperException$NoNodeException
          70   190   193   Class java/lang/Exception

  protected void storeToken(TokenIdent, org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: iconst_0
       4: invokespecial #276                // Method addOrUpdateToken:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation;Z)V
       7: goto          20
      10: astore_3
      11: new           #80                 // class java/lang/RuntimeException
      14: dup
      15: aload_3
      16: invokespecial #277                // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
      19: athrow
      20: return
    Exception table:
       from    to  target type
           0     7    10   Class java/lang/Exception

  protected void updateToken(TokenIdent, org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation) throws java.io.IOException;
    Code:
       0: ldc           #125                // String /ZKDTSMTokensRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #247                // String DT_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_1
      15: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      18: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      21: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: astore_3
      28: aload_0
      29: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      32: invokeinterface #256,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
      37: aload_3
      38: invokeinterface #257,  2          // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      43: ifnull        56
      46: aload_0
      47: aload_1
      48: aload_2
      49: iconst_1
      50: invokespecial #276                // Method addOrUpdateToken:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation;Z)V
      53: goto          91
      56: aload_0
      57: aload_1
      58: aload_2
      59: iconst_0
      60: invokespecial #276                // Method addOrUpdateToken:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation;Z)V
      63: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      66: new           #29                 // class java/lang/StringBuilder
      69: dup
      70: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      73: ldc_w         #278                // String Attempted to update a non-existing znode
      76: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_3
      80: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      83: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      86: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      91: goto          129
      94: astore        4
      96: new           #80                 // class java/lang/RuntimeException
      99: dup
     100: new           #29                 // class java/lang/StringBuilder
     103: dup
     104: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     107: ldc_w         #279                // String Could not update Stored Token ZKDTSMDelegationToken_
     110: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     113: aload_1
     114: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
     117: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     120: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: aload         4
     125: invokespecial #83                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     128: athrow
     129: return
    Exception table:
       from    to  target type
          28    91    94   Class java/lang/Exception

  protected void removeStoredToken(TokenIdent) throws java.io.IOException;
    Code:
       0: ldc           #125                // String /ZKDTSMTokensRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #247                // String DT_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_1
      15: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      18: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      21: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: astore_2
      28: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      31: invokeinterface #253,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      36: ifeq          70
      39: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      42: new           #29                 // class java/lang/StringBuilder
      45: dup
      46: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
      49: ldc_w         #280                // String Removing ZKDTSMDelegationToken_
      52: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_1
      56: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      59: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      62: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      65: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      70: aload_0
      71: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      74: invokeinterface #256,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
      79: aload_2
      80: invokeinterface #257,  2          // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      85: ifnull        162
      88: aload_0
      89: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
      92: invokeinterface #256,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.checkExists:()Lorg/apache/curator/framework/api/ExistsBuilder;
      97: aload_2
      98: invokeinterface #257,  2          // InterfaceMethod org/apache/curator/framework/api/ExistsBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     103: ifnull        190
     106: aload_0
     107: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     110: invokeinterface #270,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.delete:()Lorg/apache/curator/framework/api/DeleteBuilder;
     115: invokeinterface #271,  1          // InterfaceMethod org/apache/curator/framework/api/DeleteBuilder.guaranteed:()Lorg/apache/curator/framework/api/ChildrenDeletable;
     120: aload_2
     121: invokeinterface #272,  2          // InterfaceMethod org/apache/curator/framework/api/ChildrenDeletable.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     126: pop
     127: goto          88
     130: astore_3
     131: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     134: new           #29                 // class java/lang/StringBuilder
     137: dup
     138: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     141: ldc_w         #273                // String Node already deleted by peer
     144: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: aload_2
     148: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     159: goto          88
     162: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     165: new           #29                 // class java/lang/StringBuilder
     168: dup
     169: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     172: ldc_w         #281                // String Attempted to remove a non-existing znode
     175: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     178: aload_2
     179: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     190: goto          226
     193: astore_3
     194: new           #80                 // class java/lang/RuntimeException
     197: dup
     198: new           #29                 // class java/lang/StringBuilder
     201: dup
     202: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     205: ldc_w         #282                // String Could not remove Stored Token ZKDTSMDelegationToken_
     208: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     211: aload_1
     212: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
     215: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     218: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     221: aload_3
     222: invokespecial #83                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     225: athrow
     226: return
    Exception table:
       from    to  target type
         106   127   130   Class org/apache/zookeeper/KeeperException$NoNodeException
          70   190   193   Class java/lang/Exception

  public synchronized TokenIdent cancelToken(org.apache.hadoop.security.token.Token<TokenIdent>, java.lang.String) throws java.io.IOException;
    Code:
       0: new           #162                // class java/io/ByteArrayInputStream
       3: dup
       4: aload_1
       5: invokevirtual #283                // Method org/apache/hadoop/security/token/Token.getIdentifier:()[B
       8: invokespecial #163                // Method java/io/ByteArrayInputStream."<init>":([B)V
      11: astore_3
      12: new           #164                // class java/io/DataInputStream
      15: dup
      16: aload_3
      17: invokespecial #165                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      20: astore        4
      22: aload_0
      23: invokevirtual #177                // Method createIdentifier:()Lorg/apache/hadoop/security/token/TokenIdentifier;
      26: checkcast     #178                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier
      29: astore        5
      31: aload         5
      33: aload         4
      35: invokevirtual #179                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.readFields:(Ljava/io/DataInput;)V
      38: aload_0
      39: aload         5
      41: invokespecial #284                // Method syncLocalCacheWithZk:(Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;)V
      44: aload_0
      45: aload_1
      46: aload_2
      47: invokespecial #285                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager.cancelToken:(Lorg/apache/hadoop/security/token/Token;Ljava/lang/String;)Lorg/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier;
      50: areturn

  private void addOrUpdateToken(TokenIdent, org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation, boolean) throws java.lang.Exception;
    Code:
       0: ldc           #125                // String /ZKDTSMTokensRoot
       2: new           #29                 // class java/lang/StringBuilder
       5: dup
       6: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       9: ldc           #247                // String DT_
      11: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: aload_1
      15: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
      18: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      21: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      24: invokestatic  #234                // Method getNodePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      27: astore        4
      29: new           #249                // class java/io/ByteArrayOutputStream
      32: dup
      33: invokespecial #250                // Method java/io/ByteArrayOutputStream."<init>":()V
      36: astore        5
      38: aconst_null
      39: astore        6
      41: new           #251                // class java/io/DataOutputStream
      44: dup
      45: aload         5
      47: invokespecial #252                // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
      50: astore        7
      52: aconst_null
      53: astore        8
      55: aload_1
      56: aload         7
      58: invokevirtual #286                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.write:(Ljava/io/DataOutput;)V
      61: aload         7
      63: aload_2
      64: invokevirtual #287                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation.getRenewDate:()J
      67: invokevirtual #288                // Method java/io/DataOutputStream.writeLong:(J)V
      70: aload         7
      72: aload_2
      73: invokevirtual #289                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation.getPassword:()[B
      76: arraylength
      77: invokevirtual #290                // Method java/io/DataOutputStream.writeInt:(I)V
      80: aload         7
      82: aload_2
      83: invokevirtual #289                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation.getPassword:()[B
      86: invokevirtual #291                // Method java/io/DataOutputStream.write:([B)V
      89: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
      92: invokeinterface #253,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      97: ifeq          147
     100: getstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
     103: new           #29                 // class java/lang/StringBuilder
     106: dup
     107: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
     110: iload_3
     111: ifeq          120
     114: ldc_w         #292                // String Updating
     117: goto          123
     120: ldc_w         #293                // String Storing
     123: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: ldc_w         #294                // String ZKDTSMDelegationToken_
     129: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: aload_1
     133: invokevirtual #244                // Method org/apache/hadoop/security/token/delegation/AbstractDelegationTokenIdentifier.getSequenceNumber:()I
     136: invokevirtual #231                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     139: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     142: invokeinterface #213,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     147: iload_3
     148: ifeq          182
     151: aload_0
     152: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     155: invokeinterface #258,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.setData:()Lorg/apache/curator/framework/api/SetDataBuilder;
     160: aload         4
     162: aload         5
     164: invokevirtual #259                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     167: invokeinterface #260,  3          // InterfaceMethod org/apache/curator/framework/api/SetDataBuilder.forPath:(Ljava/lang/String;[B)Ljava/lang/Object;
     172: checkcast     #261                // class org/apache/zookeeper/data/Stat
     175: iconst_m1
     176: invokevirtual #262                // Method org/apache/zookeeper/data/Stat.setVersion:(I)V
     179: goto          215
     182: aload_0
     183: getfield      #39                 // Field zkClient:Lorg/apache/curator/framework/CuratorFramework;
     186: invokeinterface #206,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.create:()Lorg/apache/curator/framework/api/CreateBuilder;
     191: getstatic     #207                // Field org/apache/zookeeper/CreateMode.PERSISTENT:Lorg/apache/zookeeper/CreateMode;
     194: invokeinterface #208,  2          // InterfaceMethod org/apache/curator/framework/api/CreateBuilder.withMode:(Lorg/apache/zookeeper/CreateMode;)Ljava/lang/Object;
     199: checkcast     #209                // class org/apache/curator/framework/api/ACLBackgroundPathAndBytesable
     202: aload         4
     204: aload         5
     206: invokevirtual #259                // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     209: invokeinterface #265,  3          // InterfaceMethod org/apache/curator/framework/api/ACLBackgroundPathAndBytesable.forPath:(Ljava/lang/String;[B)Ljava/lang/Object;
     214: pop
     215: aload         7
     217: ifnull        302
     220: aload         8
     222: ifnull        245
     225: aload         7
     227: invokevirtual #295                // Method java/io/DataOutputStream.close:()V
     230: goto          302
     233: astore        9
     235: aload         8
     237: aload         9
     239: invokevirtual #297                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     242: goto          302
     245: aload         7
     247: invokevirtual #295                // Method java/io/DataOutputStream.close:()V
     250: goto          302
     253: astore        9
     255: aload         9
     257: astore        8
     259: aload         9
     261: athrow
     262: astore        10
     264: aload         7
     266: ifnull        299
     269: aload         8
     271: ifnull        294
     274: aload         7
     276: invokevirtual #295                // Method java/io/DataOutputStream.close:()V
     279: goto          299
     282: astore        11
     284: aload         8
     286: aload         11
     288: invokevirtual #297                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     291: goto          299
     294: aload         7
     296: invokevirtual #295                // Method java/io/DataOutputStream.close:()V
     299: aload         10
     301: athrow
     302: aload         5
     304: ifnull        389
     307: aload         6
     309: ifnull        332
     312: aload         5
     314: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     317: goto          389
     320: astore        7
     322: aload         6
     324: aload         7
     326: invokevirtual #297                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     329: goto          389
     332: aload         5
     334: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     337: goto          389
     340: astore        7
     342: aload         7
     344: astore        6
     346: aload         7
     348: athrow
     349: astore        12
     351: aload         5
     353: ifnull        386
     356: aload         6
     358: ifnull        381
     361: aload         5
     363: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     366: goto          386
     369: astore        13
     371: aload         6
     373: aload         13
     375: invokevirtual #297                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     378: goto          386
     381: aload         5
     383: invokevirtual #268                // Method java/io/ByteArrayOutputStream.close:()V
     386: aload         12
     388: athrow
     389: return
    Exception table:
       from    to  target type
         225   230   233   Class java/lang/Throwable
          55   215   253   Class java/lang/Throwable
          55   215   262   any
         274   279   282   Class java/lang/Throwable
         253   264   262   any
         312   317   320   Class java/lang/Throwable
          41   302   340   Class java/lang/Throwable
          41   302   349   any
         361   366   369   Class java/lang/Throwable
         340   351   349   any

  static java.lang.String getNodePath(java.lang.String, java.lang.String);
    Code:
       0: new           #29                 // class java/lang/StringBuilder
       3: dup
       4: invokespecial #30                 // Method java/lang/StringBuilder."<init>":()V
       7: aload_0
       8: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      11: ldc           #35                 // String /
      13: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_1
      17: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      23: areturn

  public java.util.concurrent.ExecutorService getListenerThreadPool();
    Code:
       0: aload_0
       1: getfield      #113                // Field listenerThreadPool:Ljava/util/concurrent/ExecutorService;
       4: areturn

  org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager$DelegationTokenInformation getTokenInfoFromMemory(TokenIdent);
    Code:
       0: aload_0
       1: getfield      #185                // Field currentTokens:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #228,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #183                // class org/apache/hadoop/security/token/delegation/AbstractDelegationTokenSecretManager$DelegationTokenInformation
      13: areturn

  static void access$100(org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager, byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #5                  // Method processKeyAddOrUpdate:([B)V
       5: return

  static void access$200(org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #4                  // Method processKeyRemoved:(Ljava/lang/String;)V
       5: return

  static void access$300(org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager, org.apache.curator.framework.recipes.cache.ChildData) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #3                  // Method processTokenAddOrUpdate:(Lorg/apache/curator/framework/recipes/cache/ChildData;)V
       5: return

  static void access$400(org.apache.hadoop.security.token.delegation.ZKDelegationTokenSecretManager, org.apache.curator.framework.recipes.cache.ChildData) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #2                  // Method processTokenRemoved:(Lorg/apache/curator/framework/recipes/cache/ChildData;)V
       5: return

  static {};
    Code:
       0: ldc           #1                  // class org/apache/hadoop/security/token/delegation/ZKDelegationTokenSecretManager
       2: invokestatic  #298                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #52                 // Field LOG:Lorg/slf4j/Logger;
       8: new           #299                // class java/lang/ThreadLocal
      11: dup
      12: invokespecial #300                // Method java/lang/ThreadLocal."<init>":()V
      15: putstatic     #6                  // Field CURATOR_TL:Ljava/lang/ThreadLocal;
      18: return
}
