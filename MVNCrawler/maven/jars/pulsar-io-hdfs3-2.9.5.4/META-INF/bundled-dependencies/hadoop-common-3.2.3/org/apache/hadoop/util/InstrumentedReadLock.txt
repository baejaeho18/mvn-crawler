Compiled from "InstrumentedReadLock.java"
public class org.apache.hadoop.util.InstrumentedReadLock extends org.apache.hadoop.util.InstrumentedLock {
  private final java.util.concurrent.locks.ReentrantReadWriteLock readWriteLock;

  private final java.lang.ThreadLocal<java.lang.Long> readLockHeldTimeStamp;

  public org.apache.hadoop.util.InstrumentedReadLock(java.lang.String, org.slf4j.Logger, java.util.concurrent.locks.ReentrantReadWriteLock, long, long);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: lload         4
       6: lload         6
       8: new           #1                  // class org/apache/hadoop/util/Timer
      11: dup
      12: invokespecial #2                  // Method org/apache/hadoop/util/Timer."<init>":()V
      15: invokespecial #3                  // Method "<init>":(Ljava/lang/String;Lorg/slf4j/Logger;Ljava/util/concurrent/locks/ReentrantReadWriteLock;JJLorg/apache/hadoop/util/Timer;)V
      18: return

  org.apache.hadoop.util.InstrumentedReadLock(java.lang.String, org.slf4j.Logger, java.util.concurrent.locks.ReentrantReadWriteLock, long, long, org.apache.hadoop.util.Timer);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokevirtual #4                  // Method java/util/concurrent/locks/ReentrantReadWriteLock.readLock:()Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;
       7: lload         4
       9: lload         6
      11: aload         8
      13: invokespecial #5                  // Method org/apache/hadoop/util/InstrumentedLock."<init>":(Ljava/lang/String;Lorg/slf4j/Logger;Ljava/util/concurrent/locks/Lock;JJLorg/apache/hadoop/util/Timer;)V
      16: aload_0
      17: new           #6                  // class org/apache/hadoop/util/InstrumentedReadLock$1
      20: dup
      21: aload_0
      22: invokespecial #7                  // Method org/apache/hadoop/util/InstrumentedReadLock$1."<init>":(Lorg/apache/hadoop/util/InstrumentedReadLock;)V
      25: putfield      #8                  // Field readLockHeldTimeStamp:Ljava/lang/ThreadLocal;
      28: aload_0
      29: aload_3
      30: putfield      #9                  // Field readWriteLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
      33: return

  public void unlock();
    Code:
       0: aload_0
       1: getfield      #9                  // Field readWriteLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.getReadHoldCount:()I
       7: iconst_1
       8: if_icmpne     15
      11: iconst_1
      12: goto          16
      15: iconst_0
      16: istore_1
      17: aload_0
      18: invokevirtual #11                 // Method getTimer:()Lorg/apache/hadoop/util/Timer;
      21: invokevirtual #12                 // Method org/apache/hadoop/util/Timer.monotonicNow:()J
      24: lstore_2
      25: aload_0
      26: getfield      #8                  // Field readLockHeldTimeStamp:Ljava/lang/ThreadLocal;
      29: invokevirtual #13                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
      32: checkcast     #14                 // class java/lang/Long
      35: invokevirtual #15                 // Method java/lang/Long.longValue:()J
      38: lstore        4
      40: aload_0
      41: invokevirtual #16                 // Method getLock:()Ljava/util/concurrent/locks/Lock;
      44: invokeinterface #17,  1           // InterfaceMethod java/util/concurrent/locks/Lock.unlock:()V
      49: iload_1
      50: ifeq          67
      53: aload_0
      54: getfield      #8                  // Field readLockHeldTimeStamp:Ljava/lang/ThreadLocal;
      57: invokevirtual #18                 // Method java/lang/ThreadLocal.remove:()V
      60: aload_0
      61: lload         4
      63: lload_2
      64: invokevirtual #19                 // Method check:(JJ)V
      67: return

  protected void startLockTiming();
    Code:
       0: aload_0
       1: getfield      #9                  // Field readWriteLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
       4: invokevirtual #10                 // Method java/util/concurrent/locks/ReentrantReadWriteLock.getReadHoldCount:()I
       7: iconst_1
       8: if_icmpne     28
      11: aload_0
      12: getfield      #8                  // Field readLockHeldTimeStamp:Ljava/lang/ThreadLocal;
      15: aload_0
      16: invokevirtual #11                 // Method getTimer:()Lorg/apache/hadoop/util/Timer;
      19: invokevirtual #12                 // Method org/apache/hadoop/util/Timer.monotonicNow:()J
      22: invokestatic  #20                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      25: invokevirtual #21                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      28: return
}
