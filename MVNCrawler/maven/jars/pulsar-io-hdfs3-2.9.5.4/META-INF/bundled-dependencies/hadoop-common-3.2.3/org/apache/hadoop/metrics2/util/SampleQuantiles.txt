Compiled from "SampleQuantiles.java"
public class org.apache.hadoop.metrics2.util.SampleQuantiles implements org.apache.hadoop.metrics2.util.QuantileEstimator {
  private long count;

  private java.util.LinkedList<org.apache.hadoop.metrics2.util.SampleQuantiles$SampleItem> samples;

  private long[] buffer;

  private int bufferCount;

  private final org.apache.hadoop.metrics2.util.Quantile[] quantiles;

  public org.apache.hadoop.metrics2.util.SampleQuantiles(org.apache.hadoop.metrics2.util.Quantile[]);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: lconst_0
       6: putfield      #2                  // Field count:J
       9: aload_0
      10: sipush        500
      13: newarray       long
      15: putfield      #3                  // Field buffer:[J
      18: aload_0
      19: iconst_0
      20: putfield      #4                  // Field bufferCount:I
      23: aload_0
      24: aload_1
      25: putfield      #5                  // Field quantiles:[Lorg/apache/hadoop/metrics2/util/Quantile;
      28: aload_0
      29: new           #6                  // class java/util/LinkedList
      32: dup
      33: invokespecial #7                  // Method java/util/LinkedList."<init>":()V
      36: putfield      #8                  // Field samples:Ljava/util/LinkedList;
      39: return

  private double allowableError(int);
    Code:
       0: aload_0
       1: getfield      #8                  // Field samples:Ljava/util/LinkedList;
       4: invokevirtual #9                  // Method java/util/LinkedList.size:()I
       7: istore_2
       8: iload_2
       9: iconst_1
      10: iadd
      11: i2d
      12: dstore_3
      13: aload_0
      14: getfield      #5                  // Field quantiles:[Lorg/apache/hadoop/metrics2/util/Quantile;
      17: astore        5
      19: aload         5
      21: arraylength
      22: istore        6
      24: iconst_0
      25: istore        7
      27: iload         7
      29: iload         6
      31: if_icmpge     118
      34: aload         5
      36: iload         7
      38: aaload
      39: astore        8
      41: iload_1
      42: i2d
      43: aload         8
      45: getfield      #10                 // Field org/apache/hadoop/metrics2/util/Quantile.quantile:D
      48: iload_2
      49: i2d
      50: dmul
      51: dcmpg
      52: ifgt          82
      55: ldc2_w        #11                 // double 2.0d
      58: aload         8
      60: getfield      #13                 // Field org/apache/hadoop/metrics2/util/Quantile.error:D
      63: dmul
      64: iload_2
      65: iload_1
      66: isub
      67: i2d
      68: dmul
      69: dconst_1
      70: aload         8
      72: getfield      #10                 // Field org/apache/hadoop/metrics2/util/Quantile.quantile:D
      75: dsub
      76: ddiv
      77: dstore        9
      79: goto          102
      82: ldc2_w        #11                 // double 2.0d
      85: aload         8
      87: getfield      #13                 // Field org/apache/hadoop/metrics2/util/Quantile.error:D
      90: dmul
      91: iload_1
      92: i2d
      93: dmul
      94: aload         8
      96: getfield      #10                 // Field org/apache/hadoop/metrics2/util/Quantile.quantile:D
      99: ddiv
     100: dstore        9
     102: dload         9
     104: dload_3
     105: dcmpg
     106: ifge          112
     109: dload         9
     111: dstore_3
     112: iinc          7, 1
     115: goto          27
     118: dload_3
     119: dreturn

  public synchronized void insert(long);
    Code:
       0: aload_0
       1: getfield      #3                  // Field buffer:[J
       4: aload_0
       5: getfield      #4                  // Field bufferCount:I
       8: lload_1
       9: lastore
      10: aload_0
      11: dup
      12: getfield      #4                  // Field bufferCount:I
      15: iconst_1
      16: iadd
      17: putfield      #4                  // Field bufferCount:I
      20: aload_0
      21: dup
      22: getfield      #2                  // Field count:J
      25: lconst_1
      26: ladd
      27: putfield      #2                  // Field count:J
      30: aload_0
      31: getfield      #4                  // Field bufferCount:I
      34: aload_0
      35: getfield      #3                  // Field buffer:[J
      38: arraylength
      39: if_icmpne     50
      42: aload_0
      43: invokespecial #14                 // Method insertBatch:()V
      46: aload_0
      47: invokespecial #15                 // Method compress:()V
      50: return

  private void insertBatch();
    Code:
       0: aload_0
       1: getfield      #4                  // Field bufferCount:I
       4: ifne          8
       7: return
       8: aload_0
       9: getfield      #3                  // Field buffer:[J
      12: iconst_0
      13: aload_0
      14: getfield      #4                  // Field bufferCount:I
      17: invokestatic  #16                 // Method java/util/Arrays.sort:([JII)V
      20: iconst_0
      21: istore_1
      22: aload_0
      23: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      26: invokevirtual #9                  // Method java/util/LinkedList.size:()I
      29: ifne          60
      32: new           #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
      35: dup
      36: aload_0
      37: getfield      #3                  // Field buffer:[J
      40: iconst_0
      41: laload
      42: iconst_1
      43: iconst_0
      44: invokespecial #18                 // Method org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem."<init>":(JII)V
      47: astore_2
      48: aload_0
      49: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      52: aload_2
      53: invokevirtual #19                 // Method java/util/LinkedList.add:(Ljava/lang/Object;)Z
      56: pop
      57: iinc          1, 1
      60: aload_0
      61: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      64: invokevirtual #20                 // Method java/util/LinkedList.listIterator:()Ljava/util/ListIterator;
      67: astore_2
      68: aload_2
      69: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
      74: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
      77: astore_3
      78: iload_1
      79: istore        4
      81: iload         4
      83: aload_0
      84: getfield      #4                  // Field bufferCount:I
      87: if_icmpge     235
      90: aload_0
      91: getfield      #3                  // Field buffer:[J
      94: iload         4
      96: laload
      97: lstore        5
      99: aload_2
     100: invokeinterface #22,  1           // InterfaceMethod java/util/ListIterator.nextIndex:()I
     105: aload_0
     106: getfield      #8                  // Field samples:Ljava/util/LinkedList;
     109: invokevirtual #9                  // Method java/util/LinkedList.size:()I
     112: if_icmpge     138
     115: aload_3
     116: getfield      #23                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.value:J
     119: lload         5
     121: lcmp
     122: ifge          138
     125: aload_2
     126: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
     131: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
     134: astore_3
     135: goto          99
     138: aload_3
     139: getfield      #23                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.value:J
     142: lload         5
     144: lcmp
     145: ifle          155
     148: aload_2
     149: invokeinterface #24,  1           // InterfaceMethod java/util/ListIterator.previous:()Ljava/lang/Object;
     154: pop
     155: aload_2
     156: invokeinterface #25,  1           // InterfaceMethod java/util/ListIterator.previousIndex:()I
     161: ifeq          180
     164: aload_2
     165: invokeinterface #22,  1           // InterfaceMethod java/util/ListIterator.nextIndex:()I
     170: aload_0
     171: getfield      #8                  // Field samples:Ljava/util/LinkedList;
     174: invokevirtual #9                  // Method java/util/LinkedList.size:()I
     177: if_icmpne     186
     180: iconst_0
     181: istore        7
     183: goto          204
     186: aload_0
     187: aload_2
     188: invokeinterface #22,  1           // InterfaceMethod java/util/ListIterator.nextIndex:()I
     193: invokespecial #26                 // Method allowableError:(I)D
     196: invokestatic  #27                 // Method java/lang/Math.floor:(D)D
     199: d2i
     200: iconst_1
     201: isub
     202: istore        7
     204: new           #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
     207: dup
     208: lload         5
     210: iconst_1
     211: iload         7
     213: invokespecial #18                 // Method org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem."<init>":(JII)V
     216: astore        8
     218: aload_2
     219: aload         8
     221: invokeinterface #28,  2           // InterfaceMethod java/util/ListIterator.add:(Ljava/lang/Object;)V
     226: aload         8
     228: astore_3
     229: iinc          4, 1
     232: goto          81
     235: aload_0
     236: iconst_0
     237: putfield      #4                  // Field bufferCount:I
     240: return

  private void compress();
    Code:
       0: aload_0
       1: getfield      #8                  // Field samples:Ljava/util/LinkedList;
       4: invokevirtual #9                  // Method java/util/LinkedList.size:()I
       7: iconst_2
       8: if_icmpge     12
      11: return
      12: aload_0
      13: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      16: invokevirtual #20                 // Method java/util/LinkedList.listIterator:()Ljava/util/ListIterator;
      19: astore_1
      20: aconst_null
      21: astore_2
      22: aload_1
      23: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
      28: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
      31: astore_3
      32: aload_1
      33: invokeinterface #29,  1           // InterfaceMethod java/util/ListIterator.hasNext:()Z
      38: ifeq          125
      41: aload_3
      42: astore_2
      43: aload_1
      44: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
      49: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
      52: astore_3
      53: aload_2
      54: getfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
      57: aload_3
      58: getfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
      61: iadd
      62: aload_3
      63: getfield      #31                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.delta:I
      66: iadd
      67: i2d
      68: aload_0
      69: aload_1
      70: invokeinterface #25,  1           // InterfaceMethod java/util/ListIterator.previousIndex:()I
      75: invokespecial #26                 // Method allowableError:(I)D
      78: dcmpg
      79: ifgt          32
      82: aload_3
      83: dup
      84: getfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
      87: aload_2
      88: getfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
      91: iadd
      92: putfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
      95: aload_1
      96: invokeinterface #24,  1           // InterfaceMethod java/util/ListIterator.previous:()Ljava/lang/Object;
     101: pop
     102: aload_1
     103: invokeinterface #24,  1           // InterfaceMethod java/util/ListIterator.previous:()Ljava/lang/Object;
     108: pop
     109: aload_1
     110: invokeinterface #32,  1           // InterfaceMethod java/util/ListIterator.remove:()V
     115: aload_1
     116: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
     121: pop
     122: goto          32
     125: return

  private long query(double);
    Code:
       0: aload_0
       1: getfield      #8                  // Field samples:Ljava/util/LinkedList;
       4: invokevirtual #33                 // Method java/util/LinkedList.isEmpty:()Z
       7: ifne          14
      10: iconst_1
      11: goto          15
      14: iconst_0
      15: ldc           #34                 // String no data in estimator
      17: invokestatic  #35                 // Method com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      20: iconst_0
      21: istore_3
      22: dload_1
      23: aload_0
      24: getfield      #2                  // Field count:J
      27: l2d
      28: dmul
      29: d2i
      30: istore        4
      32: aload_0
      33: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      36: invokevirtual #20                 // Method java/util/LinkedList.listIterator:()Ljava/util/ListIterator;
      39: astore        5
      41: aconst_null
      42: astore        6
      44: aload         5
      46: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
      51: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
      54: astore        7
      56: iconst_1
      57: istore        8
      59: iload         8
      61: aload_0
      62: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      65: invokevirtual #9                  // Method java/util/LinkedList.size:()I
      68: if_icmpge     139
      71: aload         7
      73: astore        6
      75: aload         5
      77: invokeinterface #21,  1           // InterfaceMethod java/util/ListIterator.next:()Ljava/lang/Object;
      82: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
      85: astore        7
      87: iload_3
      88: aload         6
      90: getfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
      93: iadd
      94: istore_3
      95: iload_3
      96: aload         7
      98: getfield      #30                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.g:I
     101: iadd
     102: aload         7
     104: getfield      #31                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.delta:I
     107: iadd
     108: i2d
     109: iload         4
     111: i2d
     112: aload_0
     113: iload         8
     115: invokespecial #26                 // Method allowableError:(I)D
     118: ldc2_w        #11                 // double 2.0d
     121: ddiv
     122: dadd
     123: dcmpl
     124: ifle          133
     127: aload         6
     129: getfield      #23                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.value:J
     132: lreturn
     133: iinc          8, 1
     136: goto          59
     139: aload_0
     140: getfield      #8                  // Field samples:Ljava/util/LinkedList;
     143: aload_0
     144: getfield      #8                  // Field samples:Ljava/util/LinkedList;
     147: invokevirtual #9                  // Method java/util/LinkedList.size:()I
     150: iconst_1
     151: isub
     152: invokevirtual #36                 // Method java/util/LinkedList.get:(I)Ljava/lang/Object;
     155: checkcast     #17                 // class org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem
     158: getfield      #23                 // Field org/apache/hadoop/metrics2/util/SampleQuantiles$SampleItem.value:J
     161: lreturn

  public synchronized java.util.Map<org.apache.hadoop.metrics2.util.Quantile, java.lang.Long> snapshot();
    Code:
       0: aload_0
       1: invokespecial #14                 // Method insertBatch:()V
       4: aload_0
       5: getfield      #8                  // Field samples:Ljava/util/LinkedList;
       8: invokevirtual #33                 // Method java/util/LinkedList.isEmpty:()Z
      11: ifeq          16
      14: aconst_null
      15: areturn
      16: new           #37                 // class java/util/TreeMap
      19: dup
      20: invokespecial #38                 // Method java/util/TreeMap."<init>":()V
      23: astore_1
      24: iconst_0
      25: istore_2
      26: iload_2
      27: aload_0
      28: getfield      #5                  // Field quantiles:[Lorg/apache/hadoop/metrics2/util/Quantile;
      31: arraylength
      32: if_icmpge     70
      35: aload_1
      36: aload_0
      37: getfield      #5                  // Field quantiles:[Lorg/apache/hadoop/metrics2/util/Quantile;
      40: iload_2
      41: aaload
      42: aload_0
      43: aload_0
      44: getfield      #5                  // Field quantiles:[Lorg/apache/hadoop/metrics2/util/Quantile;
      47: iload_2
      48: aaload
      49: getfield      #10                 // Field org/apache/hadoop/metrics2/util/Quantile.quantile:D
      52: invokespecial #39                 // Method query:(D)J
      55: invokestatic  #40                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      58: invokeinterface #41,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      63: pop
      64: iinc          2, 1
      67: goto          26
      70: aload_1
      71: areturn

  public synchronized long getCount();
    Code:
       0: aload_0
       1: getfield      #2                  // Field count:J
       4: lreturn

  public synchronized int getSampleCount();
    Code:
       0: aload_0
       1: getfield      #8                  // Field samples:Ljava/util/LinkedList;
       4: invokevirtual #9                  // Method java/util/LinkedList.size:()I
       7: ireturn

  public synchronized void clear();
    Code:
       0: aload_0
       1: lconst_0
       2: putfield      #2                  // Field count:J
       5: aload_0
       6: iconst_0
       7: putfield      #4                  // Field bufferCount:I
      10: aload_0
      11: getfield      #8                  // Field samples:Ljava/util/LinkedList;
      14: invokevirtual #42                 // Method java/util/LinkedList.clear:()V
      17: return

  public synchronized java.lang.String toString();
    Code:
       0: aload_0
       1: invokevirtual #43                 // Method snapshot:()Ljava/util/Map;
       4: astore_1
       5: aload_1
       6: ifnonnull     12
       9: ldc           #44                 // String [no samples]
      11: areturn
      12: ldc           #45                 // String \n
      14: invokestatic  #46                 // Method com/google/common/base/Joiner.on:(Ljava/lang/String;)Lcom/google/common/base/Joiner;
      17: ldc           #47                 // String :
      19: invokevirtual #48                 // Method com/google/common/base/Joiner.withKeyValueSeparator:(Ljava/lang/String;)Lcom/google/common/base/Joiner$MapJoiner;
      22: aload_1
      23: invokevirtual #49                 // Method com/google/common/base/Joiner$MapJoiner.join:(Ljava/util/Map;)Ljava/lang/String;
      26: areturn
}
