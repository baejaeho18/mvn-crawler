Compiled from "StreamPumper.java"
class org.apache.hadoop.ha.StreamPumper {
  private final org.slf4j.Logger log;

  final java.lang.Thread thread;

  final java.lang.String logPrefix;

  final org.apache.hadoop.ha.StreamPumper$StreamType type;

  private final java.io.InputStream stream;

  private boolean started;

  static final boolean $assertionsDisabled;

  org.apache.hadoop.ha.StreamPumper(org.slf4j.Logger, java.lang.String, java.io.InputStream, org.apache.hadoop.ha.StreamPumper$StreamType);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field started:Z
       9: aload_0
      10: aload_1
      11: putfield      #3                  // Field log:Lorg/slf4j/Logger;
      14: aload_0
      15: aload_2
      16: putfield      #4                  // Field logPrefix:Ljava/lang/String;
      19: aload_0
      20: aload_3
      21: putfield      #5                  // Field stream:Ljava/io/InputStream;
      24: aload_0
      25: aload         4
      27: putfield      #6                  // Field type:Lorg/apache/hadoop/ha/StreamPumper$StreamType;
      30: aload_0
      31: new           #7                  // class java/lang/Thread
      34: dup
      35: new           #8                  // class org/apache/hadoop/ha/StreamPumper$1
      38: dup
      39: aload_0
      40: aload_2
      41: aload         4
      43: invokespecial #9                  // Method org/apache/hadoop/ha/StreamPumper$1."<init>":(Lorg/apache/hadoop/ha/StreamPumper;Ljava/lang/String;Lorg/apache/hadoop/ha/StreamPumper$StreamType;)V
      46: new           #10                 // class java/lang/StringBuilder
      49: dup
      50: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      53: aload_2
      54: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: ldc           #13                 // String : StreamPumper for
      59: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: aload         4
      64: invokevirtual #14                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      67: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      70: invokespecial #16                 // Method java/lang/Thread."<init>":(Ljava/lang/Runnable;Ljava/lang/String;)V
      73: putfield      #17                 // Field thread:Ljava/lang/Thread;
      76: aload_0
      77: getfield      #17                 // Field thread:Ljava/lang/Thread;
      80: iconst_1
      81: invokevirtual #18                 // Method java/lang/Thread.setDaemon:(Z)V
      84: return

  void join() throws java.lang.InterruptedException;
    Code:
       0: getstatic     #19                 // Field $assertionsDisabled:Z
       3: ifne          21
       6: aload_0
       7: getfield      #2                  // Field started:Z
      10: ifne          21
      13: new           #20                 // class java/lang/AssertionError
      16: dup
      17: invokespecial #21                 // Method java/lang/AssertionError."<init>":()V
      20: athrow
      21: aload_0
      22: getfield      #17                 // Field thread:Ljava/lang/Thread;
      25: invokevirtual #22                 // Method java/lang/Thread.join:()V
      28: return

  void start();
    Code:
       0: getstatic     #19                 // Field $assertionsDisabled:Z
       3: ifne          21
       6: aload_0
       7: getfield      #2                  // Field started:Z
      10: ifeq          21
      13: new           #20                 // class java/lang/AssertionError
      16: dup
      17: invokespecial #21                 // Method java/lang/AssertionError."<init>":()V
      20: athrow
      21: aload_0
      22: getfield      #17                 // Field thread:Ljava/lang/Thread;
      25: invokevirtual #23                 // Method java/lang/Thread.start:()V
      28: aload_0
      29: iconst_1
      30: putfield      #2                  // Field started:Z
      33: return

  protected void pump() throws java.io.IOException;
    Code:
       0: new           #24                 // class java/io/InputStreamReader
       3: dup
       4: aload_0
       5: getfield      #5                  // Field stream:Ljava/io/InputStream;
       8: getstatic     #25                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      11: invokespecial #26                 // Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;Ljava/nio/charset/Charset;)V
      14: astore_1
      15: new           #27                 // class java/io/BufferedReader
      18: dup
      19: aload_1
      20: invokespecial #28                 // Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
      23: astore_2
      24: aconst_null
      25: astore_3
      26: aload_2
      27: invokevirtual #29                 // Method java/io/BufferedReader.readLine:()Ljava/lang/String;
      30: dup
      31: astore_3
      32: ifnull        121
      35: aload_0
      36: getfield      #6                  // Field type:Lorg/apache/hadoop/ha/StreamPumper$StreamType;
      39: getstatic     #30                 // Field org/apache/hadoop/ha/StreamPumper$StreamType.STDOUT:Lorg/apache/hadoop/ha/StreamPumper$StreamType;
      42: if_acmpne     83
      45: aload_0
      46: getfield      #3                  // Field log:Lorg/slf4j/Logger;
      49: new           #10                 // class java/lang/StringBuilder
      52: dup
      53: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      56: aload_0
      57: getfield      #4                  // Field logPrefix:Ljava/lang/String;
      60: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: ldc           #31                 // String :
      65: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: aload_3
      69: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      80: goto          26
      83: aload_0
      84: getfield      #3                  // Field log:Lorg/slf4j/Logger;
      87: new           #10                 // class java/lang/StringBuilder
      90: dup
      91: invokespecial #11                 // Method java/lang/StringBuilder."<init>":()V
      94: aload_0
      95: getfield      #4                  // Field logPrefix:Ljava/lang/String;
      98: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: ldc           #31                 // String :
     103: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: aload_3
     107: invokevirtual #12                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: invokevirtual #15                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     113: invokeinterface #33,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     118: goto          26
     121: return

  static {};
    Code:
       0: ldc           #34                 // class org/apache/hadoop/ha/StreamPumper
       2: invokevirtual #35                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #19                 // Field $assertionsDisabled:Z
      16: return
}
