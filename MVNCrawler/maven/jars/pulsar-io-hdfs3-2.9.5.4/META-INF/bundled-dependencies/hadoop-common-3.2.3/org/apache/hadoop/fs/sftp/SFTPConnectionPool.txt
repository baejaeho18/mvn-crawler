Compiled from "SFTPConnectionPool.java"
class org.apache.hadoop.fs.sftp.SFTPConnectionPool {
  public static final org.slf4j.Logger LOG;

  private int maxConnection;

  private int liveConnectionCount;

  private java.util.HashMap<org.apache.hadoop.fs.sftp.SFTPConnectionPool$ConnectionInfo, java.util.HashSet<com.jcraft.jsch.ChannelSftp>> idleConnections;

  private java.util.HashMap<com.jcraft.jsch.ChannelSftp, org.apache.hadoop.fs.sftp.SFTPConnectionPool$ConnectionInfo> con2infoMap;

  org.apache.hadoop.fs.sftp.SFTPConnectionPool(int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field liveConnectionCount:I
       9: aload_0
      10: new           #3                  // class java/util/HashMap
      13: dup
      14: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      17: putfield      #5                  // Field idleConnections:Ljava/util/HashMap;
      20: aload_0
      21: new           #3                  // class java/util/HashMap
      24: dup
      25: invokespecial #4                  // Method java/util/HashMap."<init>":()V
      28: putfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
      31: aload_0
      32: iload_1
      33: putfield      #7                  // Field maxConnection:I
      36: return

  synchronized com.jcraft.jsch.ChannelSftp getFromPool(org.apache.hadoop.fs.sftp.SFTPConnectionPool$ConnectionInfo) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field idleConnections:Ljava/util/HashMap;
       4: aload_1
       5: invokevirtual #8                  // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #9                  // class java/util/Set
      11: astore_2
      12: aload_2
      13: ifnull        75
      16: aload_2
      17: invokeinterface #10,  1           // InterfaceMethod java/util/Set.size:()I
      22: ifle          75
      25: aload_2
      26: invokeinterface #11,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      31: astore        4
      33: aload         4
      35: invokeinterface #12,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      40: ifeq          65
      43: aload         4
      45: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #14                 // class com/jcraft/jsch/ChannelSftp
      53: astore_3
      54: aload_0
      55: getfield      #5                  // Field idleConnections:Ljava/util/HashMap;
      58: aload_1
      59: invokevirtual #15                 // Method java/util/HashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      62: pop
      63: aload_3
      64: areturn
      65: new           #16                 // class java/io/IOException
      68: dup
      69: ldc           #17                 // String Connection pool error.
      71: invokespecial #18                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      74: athrow
      75: aconst_null
      76: areturn

  synchronized void returnToPool(com.jcraft.jsch.ChannelSftp);
    Code:
       0: aload_0
       1: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
       4: aload_1
       5: invokevirtual #8                  // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #19                 // class org/apache/hadoop/fs/sftp/SFTPConnectionPool$ConnectionInfo
      11: astore_2
      12: aload_0
      13: getfield      #5                  // Field idleConnections:Ljava/util/HashMap;
      16: aload_2
      17: invokevirtual #8                  // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
      20: checkcast     #20                 // class java/util/HashSet
      23: astore_3
      24: aload_3
      25: ifnonnull     46
      28: new           #20                 // class java/util/HashSet
      31: dup
      32: invokespecial #21                 // Method java/util/HashSet."<init>":()V
      35: astore_3
      36: aload_0
      37: getfield      #5                  // Field idleConnections:Ljava/util/HashMap;
      40: aload_2
      41: aload_3
      42: invokevirtual #22                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      45: pop
      46: aload_3
      47: aload_1
      48: invokevirtual #23                 // Method java/util/HashSet.add:(Ljava/lang/Object;)Z
      51: pop
      52: return

  synchronized void shutdown();
    Code:
       0: aload_0
       1: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
       4: ifnonnull     8
       7: return
       8: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
      11: new           #25                 // class java/lang/StringBuilder
      14: dup
      15: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      18: ldc           #27                 // String Inside shutdown, con2infoMap size=
      20: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      23: aload_0
      24: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
      27: invokevirtual #29                 // Method java/util/HashMap.size:()I
      30: invokevirtual #30                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      33: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      36: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      41: aload_0
      42: iconst_0
      43: putfield      #7                  // Field maxConnection:I
      46: aload_0
      47: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
      50: invokevirtual #33                 // Method java/util/HashMap.keySet:()Ljava/util/Set;
      53: astore_1
      54: aload_1
      55: ifnull        164
      58: aload_1
      59: invokeinterface #10,  1           // InterfaceMethod java/util/Set.size:()I
      64: ifle          164
      67: new           #20                 // class java/util/HashSet
      70: dup
      71: aload_1
      72: invokespecial #34                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      75: astore_2
      76: aload_2
      77: invokeinterface #11,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      82: astore_3
      83: aload_3
      84: invokeinterface #12,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      89: ifeq          164
      92: aload_3
      93: invokeinterface #13,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      98: checkcast     #14                 // class com/jcraft/jsch/ChannelSftp
     101: astore        4
     103: aload_0
     104: aload         4
     106: invokevirtual #35                 // Method disconnect:(Lcom/jcraft/jsch/ChannelSftp;)V
     109: goto          161
     112: astore        5
     114: aload_0
     115: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
     118: aload         4
     120: invokevirtual #8                  // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     123: checkcast     #19                 // class org/apache/hadoop/fs/sftp/SFTPConnectionPool$ConnectionInfo
     126: astore        6
     128: getstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
     131: new           #25                 // class java/lang/StringBuilder
     134: dup
     135: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
     138: ldc           #36                 // String Error encountered while closing connection to
     140: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: aload         6
     145: invokevirtual #37                 // Method org/apache/hadoop/fs/sftp/SFTPConnectionPool$ConnectionInfo.getHost:()Ljava/lang/String;
     148: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: aload         5
     156: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     161: goto          83
     164: aload_0
     165: aconst_null
     166: putfield      #5                  // Field idleConnections:Ljava/util/HashMap;
     169: aload_0
     170: aconst_null
     171: putfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
     174: return
    Exception table:
       from    to  target type
         103   109   112   Class java/io/IOException

  public synchronized int getMaxConnection();
    Code:
       0: aload_0
       1: getfield      #7                  // Field maxConnection:I
       4: ireturn

  public synchronized void setMaxConnection(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #7                  // Field maxConnection:I
       5: return

  public com.jcraft.jsch.ChannelSftp connect(java.lang.String, int, java.lang.String, java.lang.String, java.lang.String) throws java.io.IOException;
    Code:
       0: new           #19                 // class org/apache/hadoop/fs/sftp/SFTPConnectionPool$ConnectionInfo
       3: dup
       4: aload_1
       5: iload_2
       6: aload_3
       7: invokespecial #39                 // Method org/apache/hadoop/fs/sftp/SFTPConnectionPool$ConnectionInfo."<init>":(Ljava/lang/String;ILjava/lang/String;)V
      10: astore        6
      12: aload_0
      13: aload         6
      15: invokevirtual #40                 // Method getFromPool:(Lorg/apache/hadoop/fs/sftp/SFTPConnectionPool$ConnectionInfo;)Lcom/jcraft/jsch/ChannelSftp;
      18: astore        7
      20: aload         7
      22: ifnull        78
      25: aload         7
      27: invokevirtual #41                 // Method com/jcraft/jsch/ChannelSftp.isConnected:()Z
      30: ifeq          36
      33: aload         7
      35: areturn
      36: aconst_null
      37: astore        7
      39: aload_0
      40: dup
      41: astore        8
      43: monitorenter
      44: aload_0
      45: dup
      46: getfield      #2                  // Field liveConnectionCount:I
      49: iconst_1
      50: isub
      51: putfield      #2                  // Field liveConnectionCount:I
      54: aload_0
      55: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
      58: aload         7
      60: invokevirtual #15                 // Method java/util/HashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      63: pop
      64: aload         8
      66: monitorexit
      67: goto          78
      70: astore        9
      72: aload         8
      74: monitorexit
      75: aload         9
      77: athrow
      78: new           #42                 // class com/jcraft/jsch/JSch
      81: dup
      82: invokespecial #43                 // Method com/jcraft/jsch/JSch."<init>":()V
      85: astore        8
      87: aconst_null
      88: astore        9
      90: aload_3
      91: ifnull        101
      94: aload_3
      95: invokevirtual #44                 // Method java/lang/String.length:()I
      98: ifne          107
     101: ldc           #45                 // String user.name
     103: invokestatic  #46                 // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
     106: astore_3
     107: aload         4
     109: ifnonnull     116
     112: ldc           #47                 // String
     114: astore        4
     116: aload         5
     118: ifnull        136
     121: aload         5
     123: invokevirtual #44                 // Method java/lang/String.length:()I
     126: ifle          136
     129: aload         8
     131: aload         5
     133: invokevirtual #48                 // Method com/jcraft/jsch/JSch.addIdentity:(Ljava/lang/String;)V
     136: iload_2
     137: ifgt          152
     140: aload         8
     142: aload_3
     143: aload_1
     144: invokevirtual #49                 // Method com/jcraft/jsch/JSch.getSession:(Ljava/lang/String;Ljava/lang/String;)Lcom/jcraft/jsch/Session;
     147: astore        9
     149: goto          162
     152: aload         8
     154: aload_3
     155: aload_1
     156: iload_2
     157: invokevirtual #50                 // Method com/jcraft/jsch/JSch.getSession:(Ljava/lang/String;Ljava/lang/String;I)Lcom/jcraft/jsch/Session;
     160: astore        9
     162: aload         9
     164: aload         4
     166: invokevirtual #51                 // Method com/jcraft/jsch/Session.setPassword:(Ljava/lang/String;)V
     169: new           #52                 // class java/util/Properties
     172: dup
     173: invokespecial #53                 // Method java/util/Properties."<init>":()V
     176: astore        10
     178: aload         10
     180: ldc           #54                 // String StrictHostKeyChecking
     182: ldc           #55                 // String no
     184: invokevirtual #56                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     187: pop
     188: aload         9
     190: aload         10
     192: invokevirtual #57                 // Method com/jcraft/jsch/Session.setConfig:(Ljava/util/Properties;)V
     195: aload         9
     197: invokevirtual #58                 // Method com/jcraft/jsch/Session.connect:()V
     200: aload         9
     202: ldc           #59                 // String sftp
     204: invokevirtual #60                 // Method com/jcraft/jsch/Session.openChannel:(Ljava/lang/String;)Lcom/jcraft/jsch/Channel;
     207: checkcast     #14                 // class com/jcraft/jsch/ChannelSftp
     210: astore        7
     212: aload         7
     214: invokevirtual #61                 // Method com/jcraft/jsch/ChannelSftp.connect:()V
     217: aload_0
     218: dup
     219: astore        11
     221: monitorenter
     222: aload_0
     223: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
     226: aload         7
     228: aload         6
     230: invokevirtual #22                 // Method java/util/HashMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     233: pop
     234: aload_0
     235: dup
     236: getfield      #2                  // Field liveConnectionCount:I
     239: iconst_1
     240: iadd
     241: putfield      #2                  // Field liveConnectionCount:I
     244: aload         11
     246: monitorexit
     247: goto          258
     250: astore        12
     252: aload         11
     254: monitorexit
     255: aload         12
     257: athrow
     258: aload         7
     260: areturn
     261: astore        10
     263: new           #16                 // class java/io/IOException
     266: dup
     267: aload         10
     269: invokestatic  #63                 // Method org/apache/hadoop/util/StringUtils.stringifyException:(Ljava/lang/Throwable;)Ljava/lang/String;
     272: invokespecial #18                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     275: athrow
    Exception table:
       from    to  target type
          44    67    70   any
          70    75    70   any
         222   247   250   any
         250   255   250   any
          90   260   261   Class com/jcraft/jsch/JSchException

  void disconnect(com.jcraft.jsch.ChannelSftp) throws java.io.IOException;
    Code:
       0: aload_1
       1: ifnull        99
       4: iconst_0
       5: istore_2
       6: aload_0
       7: dup
       8: astore_3
       9: monitorenter
      10: aload_0
      11: getfield      #2                  // Field liveConnectionCount:I
      14: aload_0
      15: getfield      #7                  // Field maxConnection:I
      18: if_icmple     42
      21: aload_0
      22: dup
      23: getfield      #2                  // Field liveConnectionCount:I
      26: iconst_1
      27: isub
      28: putfield      #2                  // Field liveConnectionCount:I
      31: aload_0
      32: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
      35: aload_1
      36: invokevirtual #15                 // Method java/util/HashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      39: pop
      40: iconst_1
      41: istore_2
      42: aload_3
      43: monitorexit
      44: goto          54
      47: astore        4
      49: aload_3
      50: monitorexit
      51: aload         4
      53: athrow
      54: iload_2
      55: ifeq          94
      58: aload_1
      59: invokevirtual #41                 // Method com/jcraft/jsch/ChannelSftp.isConnected:()Z
      62: ifeq          99
      65: aload_1
      66: invokevirtual #64                 // Method com/jcraft/jsch/ChannelSftp.getSession:()Lcom/jcraft/jsch/Session;
      69: astore_3
      70: aload_1
      71: invokevirtual #65                 // Method com/jcraft/jsch/ChannelSftp.disconnect:()V
      74: aload_3
      75: invokevirtual #66                 // Method com/jcraft/jsch/Session.disconnect:()V
      78: goto          99
      81: astore_3
      82: new           #16                 // class java/io/IOException
      85: dup
      86: aload_3
      87: invokestatic  #63                 // Method org/apache/hadoop/util/StringUtils.stringifyException:(Ljava/lang/Throwable;)Ljava/lang/String;
      90: invokespecial #18                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      93: athrow
      94: aload_0
      95: aload_1
      96: invokevirtual #67                 // Method returnToPool:(Lcom/jcraft/jsch/ChannelSftp;)V
      99: return
    Exception table:
       from    to  target type
          10    44    47   any
          47    51    47   any
          65    78    81   Class com/jcraft/jsch/JSchException

  public int getIdleCount();
    Code:
       0: aload_0
       1: getfield      #5                  // Field idleConnections:Ljava/util/HashMap;
       4: invokevirtual #29                 // Method java/util/HashMap.size:()I
       7: ireturn

  public int getLiveConnCount();
    Code:
       0: aload_0
       1: getfield      #2                  // Field liveConnectionCount:I
       4: ireturn

  public int getConnPoolSize();
    Code:
       0: aload_0
       1: getfield      #6                  // Field con2infoMap:Ljava/util/HashMap;
       4: invokevirtual #29                 // Method java/util/HashMap.size:()I
       7: ireturn

  static {};
    Code:
       0: ldc           #68                 // class org/apache/hadoop/fs/sftp/SFTPFileSystem
       2: invokestatic  #69                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #24                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
