Compiled from "SaslRpcClient.java"
class org.apache.hadoop.security.SaslRpcClient$WrappedInputStream extends java.io.FilterInputStream {
  private java.nio.ByteBuffer unwrappedRpcBuffer;

  final org.apache.hadoop.security.SaslRpcClient this$0;

  public org.apache.hadoop.security.SaslRpcClient$WrappedInputStream(org.apache.hadoop.security.SaslRpcClient, java.io.InputStream) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/apache/hadoop/security/SaslRpcClient;
       5: aload_0
       6: aload_2
       7: invokespecial #2                  // Method java/io/FilterInputStream."<init>":(Ljava/io/InputStream;)V
      10: aload_0
      11: iconst_0
      12: invokestatic  #3                  // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
      15: putfield      #4                  // Field unwrappedRpcBuffer:Ljava/nio/ByteBuffer;
      18: return

  public int read() throws java.io.IOException;
    Code:
       0: iconst_1
       1: newarray       byte
       3: astore_1
       4: aload_0
       5: aload_1
       6: iconst_0
       7: iconst_1
       8: invokevirtual #5                  // Method read:([BII)I
      11: istore_2
      12: iload_2
      13: iconst_m1
      14: if_icmpeq     23
      17: aload_1
      18: iconst_0
      19: baload
      20: goto          24
      23: iconst_m1
      24: ireturn

  public int read(byte[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_0
       3: aload_1
       4: arraylength
       5: invokevirtual #5                  // Method read:([BII)I
       8: ireturn

  public synchronized int read(byte[], int, int) throws java.io.IOException;
    Code:
       0: iload_3
       1: ifne          6
       4: iconst_0
       5: ireturn
       6: aload_0
       7: getfield      #4                  // Field unwrappedRpcBuffer:Ljava/nio/ByteBuffer;
      10: invokevirtual #6                  // Method java/nio/ByteBuffer.remaining:()I
      13: ifne          20
      16: aload_0
      17: invokespecial #7                  // Method readNextRpcPacket:()V
      20: iload_3
      21: aload_0
      22: getfield      #4                  // Field unwrappedRpcBuffer:Ljava/nio/ByteBuffer;
      25: invokevirtual #6                  // Method java/nio/ByteBuffer.remaining:()I
      28: invokestatic  #8                  // Method java/lang/Math.min:(II)I
      31: istore        4
      33: aload_0
      34: getfield      #4                  // Field unwrappedRpcBuffer:Ljava/nio/ByteBuffer;
      37: aload_1
      38: iload_2
      39: iload         4
      41: invokevirtual #9                  // Method java/nio/ByteBuffer.get:([BII)Ljava/nio/ByteBuffer;
      44: pop
      45: iload         4
      47: ireturn

  private void readNextRpcPacket() throws java.io.IOException;
    Code:
       0: getstatic     #10                 // Field org/apache/hadoop/security/SaslRpcClient.LOG:Lorg/slf4j/Logger;
       3: ldc           #11                 // String reading next wrapped RPC packet
       5: invokeinterface #12,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      10: new           #13                 // class java/io/DataInputStream
      13: dup
      14: aload_0
      15: getfield      #14                 // Field in:Ljava/io/InputStream;
      18: invokespecial #15                 // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
      21: astore_1
      22: aload_1
      23: invokevirtual #16                 // Method java/io/DataInputStream.readInt:()I
      26: istore_2
      27: iload_2
      28: newarray       byte
      30: astore_3
      31: aload_1
      32: aload_3
      33: invokevirtual #17                 // Method java/io/DataInputStream.readFully:([B)V
      36: new           #18                 // class java/io/ByteArrayInputStream
      39: dup
      40: aload_3
      41: invokespecial #19                 // Method java/io/ByteArrayInputStream."<init>":([B)V
      44: astore        4
      46: invokestatic  #20                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcResponseHeaderProto.newBuilder:()Lorg/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcResponseHeaderProto$Builder;
      49: astore        5
      51: aload         5
      53: aload         4
      55: invokevirtual #21                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcResponseHeaderProto$Builder.mergeDelimitedFrom:(Ljava/io/InputStream;)Z
      58: pop
      59: iconst_0
      60: istore        6
      62: aload         5
      64: invokevirtual #22                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcResponseHeaderProto$Builder.getCallId:()I
      67: getstatic     #23                 // Field org/apache/hadoop/ipc/Server$AuthProtocol.SASL:Lorg/apache/hadoop/ipc/Server$AuthProtocol;
      70: getfield      #24                 // Field org/apache/hadoop/ipc/Server$AuthProtocol.callId:I
      73: if_icmpne     182
      76: invokestatic  #25                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto.newBuilder:()Lorg/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$Builder;
      79: astore        7
      81: aload         7
      83: aload         4
      85: invokevirtual #26                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$Builder.mergeDelimitedFrom:(Ljava/io/InputStream;)Z
      88: pop
      89: aload         7
      91: invokevirtual #27                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$Builder.getState:()Lorg/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$SaslState;
      94: getstatic     #28                 // Field org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$SaslState.WRAP:Lorg/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$SaslState;
      97: if_acmpne     182
     100: iconst_1
     101: istore        6
     103: aload         7
     105: invokevirtual #29                 // Method org/apache/hadoop/ipc/protobuf/RpcHeaderProtos$RpcSaslProto$Builder.getToken:()Lcom/google/protobuf/ByteString;
     108: invokevirtual #30                 // Method com/google/protobuf/ByteString.toByteArray:()[B
     111: astore        8
     113: getstatic     #10                 // Field org/apache/hadoop/security/SaslRpcClient.LOG:Lorg/slf4j/Logger;
     116: invokeinterface #31,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     121: ifeq          153
     124: getstatic     #10                 // Field org/apache/hadoop/security/SaslRpcClient.LOG:Lorg/slf4j/Logger;
     127: new           #32                 // class java/lang/StringBuilder
     130: dup
     131: invokespecial #33                 // Method java/lang/StringBuilder."<init>":()V
     134: ldc           #34                 // String unwrapping token of length:
     136: invokevirtual #35                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     139: aload         8
     141: arraylength
     142: invokevirtual #36                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     145: invokevirtual #37                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     148: invokeinterface #12,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     153: aload_0
     154: getfield      #1                  // Field this$0:Lorg/apache/hadoop/security/SaslRpcClient;
     157: invokestatic  #38                 // Method org/apache/hadoop/security/SaslRpcClient.access$000:(Lorg/apache/hadoop/security/SaslRpcClient;)Ljavax/security/sasl/SaslClient;
     160: aload         8
     162: iconst_0
     163: aload         8
     165: arraylength
     166: invokeinterface #39,  4           // InterfaceMethod javax/security/sasl/SaslClient.unwrap:([BII)[B
     171: astore        8
     173: aload_0
     174: aload         8
     176: invokestatic  #40                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
     179: putfield      #4                  // Field unwrappedRpcBuffer:Ljava/nio/ByteBuffer;
     182: iload         6
     184: ifne          197
     187: new           #41                 // class javax/security/sasl/SaslException
     190: dup
     191: ldc           #42                 // String Server sent non-wrapped response
     193: invokespecial #43                 // Method javax/security/sasl/SaslException."<init>":(Ljava/lang/String;)V
     196: athrow
     197: return
}
