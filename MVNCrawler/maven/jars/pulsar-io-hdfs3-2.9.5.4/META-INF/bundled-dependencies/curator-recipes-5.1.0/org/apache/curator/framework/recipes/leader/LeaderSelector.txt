Compiled from "LeaderSelector.java"
public class org.apache.curator.framework.recipes.leader.LeaderSelector implements java.io.Closeable {
  private final org.slf4j.Logger log;

  private final org.apache.curator.framework.CuratorFramework client;

  private final org.apache.curator.framework.recipes.leader.LeaderSelectorListener listener;

  private final org.apache.curator.utils.CloseableExecutorService executorService;

  private final org.apache.curator.framework.recipes.locks.InterProcessMutex mutex;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.curator.framework.recipes.leader.LeaderSelector$State> state;

  private final java.util.concurrent.atomic.AtomicBoolean autoRequeue;

  private final java.util.concurrent.atomic.AtomicReference<java.util.concurrent.Future<?>> ourTask;

  private volatile boolean hasLeadership;

  private volatile java.lang.String id;

  volatile java.util.concurrent.CountDownLatch debugLeadershipLatch;

  volatile java.util.concurrent.CountDownLatch debugLeadershipWaitLatch;

  private boolean isQueued;

  private static final java.util.concurrent.ThreadFactory defaultThreadFactory;

  volatile java.util.concurrent.atomic.AtomicInteger failedMutexReleaseCount;

  public org.apache.curator.framework.recipes.leader.LeaderSelector(org.apache.curator.framework.CuratorFramework, java.lang.String, org.apache.curator.framework.recipes.leader.LeaderSelectorListener);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: new           #69                 // class org/apache/curator/utils/CloseableExecutorService
       6: dup
       7: getstatic     #71                 // Field defaultThreadFactory:Ljava/util/concurrent/ThreadFactory;
      10: invokestatic  #77                 // Method java/util/concurrent/Executors.newSingleThreadExecutor:(Ljava/util/concurrent/ThreadFactory;)Ljava/util/concurrent/ExecutorService;
      13: iconst_1
      14: invokespecial #80                 // Method org/apache/curator/utils/CloseableExecutorService."<init>":(Ljava/util/concurrent/ExecutorService;Z)V
      17: aload_3
      18: invokespecial #83                 // Method "<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Lorg/apache/curator/utils/CloseableExecutorService;Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;)V
      21: return

  public org.apache.curator.framework.recipes.leader.LeaderSelector(org.apache.curator.framework.CuratorFramework, java.lang.String, java.util.concurrent.ThreadFactory, java.util.concurrent.Executor, org.apache.curator.framework.recipes.leader.LeaderSelectorListener);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: new           #69                 // class org/apache/curator/utils/CloseableExecutorService
       6: dup
       7: aload         4
       9: invokestatic  #92                 // Method wrapExecutor:(Ljava/util/concurrent/Executor;)Ljava/util/concurrent/ExecutorService;
      12: iconst_1
      13: invokespecial #80                 // Method org/apache/curator/utils/CloseableExecutorService."<init>":(Ljava/util/concurrent/ExecutorService;Z)V
      16: aload         5
      18: invokespecial #83                 // Method "<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Lorg/apache/curator/utils/CloseableExecutorService;Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;)V
      21: return

  public org.apache.curator.framework.recipes.leader.LeaderSelector(org.apache.curator.framework.CuratorFramework, java.lang.String, java.util.concurrent.ExecutorService, org.apache.curator.framework.recipes.leader.LeaderSelectorListener);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: new           #69                 // class org/apache/curator/utils/CloseableExecutorService
       6: dup
       7: aload_3
       8: invokespecial #99                 // Method org/apache/curator/utils/CloseableExecutorService."<init>":(Ljava/util/concurrent/ExecutorService;)V
      11: aload         4
      13: invokespecial #83                 // Method "<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Lorg/apache/curator/utils/CloseableExecutorService;Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;)V
      16: return

  public org.apache.curator.framework.recipes.leader.LeaderSelector(org.apache.curator.framework.CuratorFramework, java.lang.String, org.apache.curator.utils.CloseableExecutorService, org.apache.curator.framework.recipes.leader.LeaderSelectorListener);
    Code:
       0: aload_0
       1: invokespecial #103                // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #107                // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #113                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      12: putfield      #115                // Field log:Lorg/slf4j/Logger;
      15: aload_0
      16: new           #117                // class java/util/concurrent/atomic/AtomicReference
      19: dup
      20: getstatic     #121                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.LATENT:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
      23: invokespecial #124                // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      26: putfield      #126                // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      29: aload_0
      30: new           #128                // class java/util/concurrent/atomic/AtomicBoolean
      33: dup
      34: iconst_0
      35: invokespecial #131                // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
      38: putfield      #133                // Field autoRequeue:Ljava/util/concurrent/atomic/AtomicBoolean;
      41: aload_0
      42: new           #117                // class java/util/concurrent/atomic/AtomicReference
      45: dup
      46: aconst_null
      47: invokespecial #124                // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      50: putfield      #135                // Field ourTask:Ljava/util/concurrent/atomic/AtomicReference;
      53: aload_0
      54: ldc           #137                // String
      56: putfield      #139                // Field id:Ljava/lang/String;
      59: aload_0
      60: aconst_null
      61: putfield      #141                // Field debugLeadershipLatch:Ljava/util/concurrent/CountDownLatch;
      64: aload_0
      65: aconst_null
      66: putfield      #143                // Field debugLeadershipWaitLatch:Ljava/util/concurrent/CountDownLatch;
      69: aload_0
      70: iconst_0
      71: putfield      #145                // Field isQueued:Z
      74: aload_0
      75: aconst_null
      76: putfield      #147                // Field failedMutexReleaseCount:Ljava/util/concurrent/atomic/AtomicInteger;
      79: aload_1
      80: ldc           #149                // String client cannot be null
      82: invokestatic  #155                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      85: pop
      86: aload_2
      87: invokestatic  #161                // Method org/apache/curator/utils/PathUtils.validatePath:(Ljava/lang/String;)Ljava/lang/String;
      90: pop
      91: aload         4
      93: ldc           #163                // String listener cannot be null
      95: invokestatic  #155                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      98: pop
      99: aload_0
     100: aload_1
     101: putfield      #165                // Field client:Lorg/apache/curator/framework/CuratorFramework;
     104: aload_0
     105: new           #9                  // class org/apache/curator/framework/recipes/leader/LeaderSelector$WrappedListener
     108: dup
     109: aload_0
     110: aload         4
     112: invokespecial #168                // Method org/apache/curator/framework/recipes/leader/LeaderSelector$WrappedListener."<init>":(Lorg/apache/curator/framework/recipes/leader/LeaderSelector;Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;)V
     115: putfield      #170                // Field listener:Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;
     118: aload_0
     119: iconst_0
     120: putfield      #172                // Field hasLeadership:Z
     123: aload_0
     124: aload_3
     125: putfield      #174                // Field executorService:Lorg/apache/curator/utils/CloseableExecutorService;
     128: aload_0
     129: new           #19                 // class org/apache/curator/framework/recipes/leader/LeaderSelector$1
     132: dup
     133: aload_0
     134: aload_1
     135: aload_2
     136: invokespecial #177                // Method org/apache/curator/framework/recipes/leader/LeaderSelector$1."<init>":(Lorg/apache/curator/framework/recipes/leader/LeaderSelector;Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;)V
     139: putfield      #179                // Field mutex:Lorg/apache/curator/framework/recipes/locks/InterProcessMutex;
     142: return

  static byte[] getIdBytes(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #185                // String UTF-8
       3: invokevirtual #190                // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
       6: areturn
       7: astore_1
       8: new           #192                // class java/lang/Error
      11: dup
      12: aload_1
      13: invokespecial #195                // Method java/lang/Error."<init>":(Ljava/lang/Throwable;)V
      16: athrow
    Exception table:
       from    to  target type
           0     6     7   Class java/io/UnsupportedEncodingException

  public void autoRequeue();
    Code:
       0: aload_0
       1: getfield      #133                // Field autoRequeue:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: iconst_1
       5: invokevirtual #200                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
       8: return

  public void setId(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #204                // String id cannot be null
       3: invokestatic  #155                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
       6: pop
       7: aload_0
       8: aload_1
       9: putfield      #139                // Field id:Ljava/lang/String;
      12: return

  public java.lang.String getId();
    Code:
       0: aload_0
       1: getfield      #139                // Field id:Ljava/lang/String;
       4: areturn

  public void start();
    Code:
       0: aload_0
       1: getfield      #126                // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #121                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.LATENT:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
       7: getstatic     #210                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.STARTED:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
      10: invokevirtual #214                // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ldc           #216                // String Cannot be started more than once
      15: invokestatic  #220                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      18: aload_0
      19: getfield      #174                // Field executorService:Lorg/apache/curator/utils/CloseableExecutorService;
      22: invokevirtual #224                // Method org/apache/curator/utils/CloseableExecutorService.isShutdown:()Z
      25: ifne          32
      28: iconst_1
      29: goto          33
      32: iconst_0
      33: ldc           #226                // String Already started
      35: invokestatic  #220                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      38: aload_0
      39: getfield      #172                // Field hasLeadership:Z
      42: ifne          49
      45: iconst_1
      46: goto          50
      49: iconst_0
      50: ldc           #228                // String Already has leadership
      52: invokestatic  #220                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      55: aload_0
      56: getfield      #165                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      59: invokeinterface #234,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getConnectionStateListenable:()Lorg/apache/curator/framework/listen/Listenable;
      64: aload_0
      65: getfield      #170                // Field listener:Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;
      68: invokeinterface #239,  2          // InterfaceMethod org/apache/curator/framework/listen/Listenable.addListener:(Ljava/lang/Object;)V
      73: aload_0
      74: invokevirtual #242                // Method requeue:()Z
      77: pop
      78: return

  public boolean requeue();
    Code:
       0: aload_0
       1: getfield      #126                // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #246                // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: getstatic     #210                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.STARTED:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
      10: if_acmpne     17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: ldc           #248                // String close() has already been called
      20: invokestatic  #220                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      23: aload_0
      24: invokespecial #251                // Method internalRequeue:()Z
      27: ireturn

  private synchronized boolean internalRequeue();
    Code:
       0: aload_0
       1: getfield      #145                // Field isQueued:Z
       4: ifne          51
       7: aload_0
       8: getfield      #126                // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      11: invokevirtual #246                // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
      14: getstatic     #210                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.STARTED:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
      17: if_acmpne     51
      20: aload_0
      21: iconst_1
      22: putfield      #145                // Field isQueued:Z
      25: aload_0
      26: getfield      #174                // Field executorService:Lorg/apache/curator/utils/CloseableExecutorService;
      29: new           #17                 // class org/apache/curator/framework/recipes/leader/LeaderSelector$2
      32: dup
      33: aload_0
      34: invokespecial #254                // Method org/apache/curator/framework/recipes/leader/LeaderSelector$2."<init>":(Lorg/apache/curator/framework/recipes/leader/LeaderSelector;)V
      37: invokevirtual #258                // Method org/apache/curator/utils/CloseableExecutorService.submit:(Ljava/util/concurrent/Callable;)Ljava/util/concurrent/Future;
      40: astore_1
      41: aload_0
      42: getfield      #135                // Field ourTask:Ljava/util/concurrent/atomic/AtomicReference;
      45: aload_1
      46: invokevirtual #260                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      49: iconst_1
      50: ireturn
      51: iconst_0
      52: ireturn

  public synchronized void close();
    Code:
       0: aload_0
       1: getfield      #126                // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #210                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.STARTED:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
       7: getstatic     #267                // Field org/apache/curator/framework/recipes/leader/LeaderSelector$State.CLOSED:Lorg/apache/curator/framework/recipes/leader/LeaderSelector$State;
      10: invokevirtual #214                // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ldc_w         #269                // String Already closed or has not been started
      16: invokestatic  #220                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      19: aload_0
      20: getfield      #165                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      23: invokeinterface #234,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getConnectionStateListenable:()Lorg/apache/curator/framework/listen/Listenable;
      28: aload_0
      29: getfield      #170                // Field listener:Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;
      32: invokeinterface #272,  2          // InterfaceMethod org/apache/curator/framework/listen/Listenable.removeListener:(Ljava/lang/Object;)V
      37: aload_0
      38: getfield      #174                // Field executorService:Lorg/apache/curator/utils/CloseableExecutorService;
      41: invokevirtual #274                // Method org/apache/curator/utils/CloseableExecutorService.close:()V
      44: aload_0
      45: getfield      #135                // Field ourTask:Ljava/util/concurrent/atomic/AtomicReference;
      48: aconst_null
      49: invokevirtual #260                // Method java/util/concurrent/atomic/AtomicReference.set:(Ljava/lang/Object;)V
      52: return

  public java.util.Collection<org.apache.curator.framework.recipes.leader.Participant> getParticipants() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #179                // Field mutex:Lorg/apache/curator/framework/recipes/locks/InterProcessMutex;
       4: invokevirtual #284                // Method org/apache/curator/framework/recipes/locks/InterProcessMutex.getParticipantNodes:()Ljava/util/Collection;
       7: astore_1
       8: aload_0
       9: getfield      #165                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      12: aload_1
      13: invokestatic  #287                // Method getParticipants:(Lorg/apache/curator/framework/CuratorFramework;Ljava/util/Collection;)Ljava/util/Collection;
      16: areturn

  static java.util.Collection<org.apache.curator.framework.recipes.leader.Participant> getParticipants(org.apache.curator.framework.CuratorFramework, java.util.Collection<java.lang.String>) throws java.lang.Exception;
    Code:
       0: invokestatic  #295                // Method org/apache/curator/shaded/com/google/common/collect/ImmutableList.builder:()Lorg/apache/curator/shaded/com/google/common/collect/ImmutableList$Builder;
       3: astore_2
       4: iconst_1
       5: istore_3
       6: aload_1
       7: invokeinterface #301,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      12: astore        4
      14: aload         4
      16: invokeinterface #306,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          62
      24: aload         4
      26: invokeinterface #309,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      31: checkcast     #187                // class java/lang/String
      34: astore        5
      36: aload_0
      37: aload         5
      39: iload_3
      40: invokestatic  #313                // Method participantForPath:(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Z)Lorg/apache/curator/framework/recipes/leader/Participant;
      43: astore        6
      45: aload         6
      47: ifnull        59
      50: aload_2
      51: aload         6
      53: invokevirtual #317                // Method org/apache/curator/shaded/com/google/common/collect/ImmutableList$Builder.add:(Ljava/lang/Object;)Lorg/apache/curator/shaded/com/google/common/collect/ImmutableList$Builder;
      56: pop
      57: iconst_0
      58: istore_3
      59: goto          14
      62: aload_2
      63: invokevirtual #321                // Method org/apache/curator/shaded/com/google/common/collect/ImmutableList$Builder.build:()Lorg/apache/curator/shaded/com/google/common/collect/ImmutableList;
      66: areturn

  public org.apache.curator.framework.recipes.leader.Participant getLeader() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #179                // Field mutex:Lorg/apache/curator/framework/recipes/locks/InterProcessMutex;
       4: invokevirtual #284                // Method org/apache/curator/framework/recipes/locks/InterProcessMutex.getParticipantNodes:()Ljava/util/Collection;
       7: astore_1
       8: aload_0
       9: getfield      #165                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      12: aload_1
      13: invokestatic  #332                // Method getLeader:(Lorg/apache/curator/framework/CuratorFramework;Ljava/util/Collection;)Lorg/apache/curator/framework/recipes/leader/Participant;
      16: areturn

  static org.apache.curator.framework.recipes.leader.Participant getLeader(org.apache.curator.framework.CuratorFramework, java.util.Collection<java.lang.String>) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: invokeinterface #337,  1          // InterfaceMethod java/util/Collection.size:()I
       8: ifle          49
      11: aload_1
      12: invokeinterface #301,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      17: astore_3
      18: aload_3
      19: invokeinterface #306,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          49
      27: aload_0
      28: aload_3
      29: invokeinterface #309,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      34: checkcast     #187                // class java/lang/String
      37: iconst_1
      38: invokestatic  #313                // Method participantForPath:(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;Z)Lorg/apache/curator/framework/recipes/leader/Participant;
      41: astore_2
      42: aload_2
      43: ifnull        18
      46: goto          49
      49: aload_2
      50: ifnonnull     61
      53: new           #339                // class org/apache/curator/framework/recipes/leader/Participant
      56: dup
      57: invokespecial #340                // Method org/apache/curator/framework/recipes/leader/Participant."<init>":()V
      60: astore_2
      61: aload_2
      62: areturn

  public boolean hasLeadership();
    Code:
       0: aload_0
       1: getfield      #172                // Field hasLeadership:Z
       4: ireturn

  public synchronized void interruptLeadership();
    Code:
       0: aload_0
       1: getfield      #135                // Field ourTask:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #246                // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: checkcast     #347                // class java/util/concurrent/Future
      10: astore_1
      11: aload_1
      12: ifnull        23
      15: aload_1
      16: iconst_1
      17: invokeinterface #351,  2          // InterfaceMethod java/util/concurrent/Future.cancel:(Z)Z
      22: pop
      23: return

  private static org.apache.curator.framework.recipes.leader.Participant participantForPath(org.apache.curator.framework.CuratorFramework, java.lang.String, boolean) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokeinterface #356,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getData:()Lorg/apache/curator/framework/api/GetDataBuilder;
       6: aload_1
       7: invokeinterface #362,  2          // InterfaceMethod org/apache/curator/framework/api/GetDataBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      12: checkcast     #364                // class "[B"
      15: astore_3
      16: new           #187                // class java/lang/String
      19: dup
      20: aload_3
      21: ldc           #185                // String UTF-8
      23: invokespecial #367                // Method java/lang/String."<init>":([BLjava/lang/String;)V
      26: astore        4
      28: new           #339                // class org/apache/curator/framework/recipes/leader/Participant
      31: dup
      32: aload         4
      34: iload_2
      35: invokespecial #370                // Method org/apache/curator/framework/recipes/leader/Participant."<init>":(Ljava/lang/String;Z)V
      38: areturn
      39: astore_3
      40: aconst_null
      41: areturn
    Exception table:
       from    to  target type
           0    38    39   Class org/apache/zookeeper/KeeperException$NoNodeException

  void doWork() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #172                // Field hasLeadership:Z
       5: aload_0
       6: getfield      #179                // Field mutex:Lorg/apache/curator/framework/recipes/locks/InterProcessMutex;
       9: invokevirtual #382                // Method org/apache/curator/framework/recipes/locks/InterProcessMutex.acquire:()V
      12: aload_0
      13: iconst_1
      14: putfield      #172                // Field hasLeadership:Z
      17: aload_0
      18: getfield      #141                // Field debugLeadershipLatch:Ljava/util/concurrent/CountDownLatch;
      21: ifnull        31
      24: aload_0
      25: getfield      #141                // Field debugLeadershipLatch:Ljava/util/concurrent/CountDownLatch;
      28: invokevirtual #387                // Method java/util/concurrent/CountDownLatch.countDown:()V
      31: aload_0
      32: getfield      #143                // Field debugLeadershipWaitLatch:Ljava/util/concurrent/CountDownLatch;
      35: ifnull        45
      38: aload_0
      39: getfield      #143                // Field debugLeadershipWaitLatch:Ljava/util/concurrent/CountDownLatch;
      42: invokevirtual #390                // Method java/util/concurrent/CountDownLatch.await:()V
      45: aload_0
      46: getfield      #170                // Field listener:Lorg/apache/curator/framework/recipes/leader/LeaderSelectorListener;
      49: aload_0
      50: getfield      #165                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      53: invokeinterface #396,  2          // InterfaceMethod org/apache/curator/framework/recipes/leader/LeaderSelectorListener.takeLeadership:(Lorg/apache/curator/framework/CuratorFramework;)V
      58: aload_0
      59: invokespecial #399                // Method clearIsQueued:()V
      62: goto          94
      65: astore_1
      66: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      69: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
      72: aload_1
      73: athrow
      74: astore_1
      75: aload_1
      76: invokestatic  #414                // Method org/apache/curator/utils/ThreadUtils.checkInterrupted:(Ljava/lang/Throwable;)Z
      79: pop
      80: aload_0
      81: invokespecial #399                // Method clearIsQueued:()V
      84: goto          94
      87: astore_2
      88: aload_0
      89: invokespecial #399                // Method clearIsQueued:()V
      92: aload_2
      93: athrow
      94: aload_0
      95: getfield      #172                // Field hasLeadership:Z
      98: ifeq          312
     101: aload_0
     102: iconst_0
     103: putfield      #172                // Field hasLeadership:Z
     106: invokestatic  #417                // Method java/lang/Thread.interrupted:()Z
     109: istore_1
     110: aload_0
     111: getfield      #179                // Field mutex:Lorg/apache/curator/framework/recipes/locks/InterProcessMutex;
     114: invokevirtual #420                // Method org/apache/curator/framework/recipes/locks/InterProcessMutex.release:()V
     117: iload_1
     118: ifeq          190
     121: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     124: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     127: goto          190
     130: astore_2
     131: aload_0
     132: getfield      #147                // Field failedMutexReleaseCount:Ljava/util/concurrent/atomic/AtomicInteger;
     135: ifnull        146
     138: aload_0
     139: getfield      #147                // Field failedMutexReleaseCount:Ljava/util/concurrent/atomic/AtomicInteger;
     142: invokevirtual #425                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     145: pop
     146: aload_2
     147: invokestatic  #414                // Method org/apache/curator/utils/ThreadUtils.checkInterrupted:(Ljava/lang/Throwable;)Z
     150: pop
     151: aload_0
     152: getfield      #115                // Field log:Lorg/slf4j/Logger;
     155: ldc_w         #427                // String The leader threw an exception
     158: aload_2
     159: invokeinterface #433,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     164: iload_1
     165: ifeq          190
     168: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     171: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     174: goto          190
     177: astore_3
     178: iload_1
     179: ifeq          188
     182: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     185: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     188: aload_3
     189: athrow
     190: goto          312
     193: astore_1
     194: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     197: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     200: aload_1
     201: athrow
     202: astore        4
     204: aload_0
     205: getfield      #172                // Field hasLeadership:Z
     208: ifeq          309
     211: aload_0
     212: iconst_0
     213: putfield      #172                // Field hasLeadership:Z
     216: invokestatic  #417                // Method java/lang/Thread.interrupted:()Z
     219: istore        5
     221: aload_0
     222: getfield      #179                // Field mutex:Lorg/apache/curator/framework/recipes/locks/InterProcessMutex;
     225: invokevirtual #420                // Method org/apache/curator/framework/recipes/locks/InterProcessMutex.release:()V
     228: iload         5
     230: ifeq          309
     233: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     236: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     239: goto          309
     242: astore        6
     244: aload_0
     245: getfield      #147                // Field failedMutexReleaseCount:Ljava/util/concurrent/atomic/AtomicInteger;
     248: ifnull        259
     251: aload_0
     252: getfield      #147                // Field failedMutexReleaseCount:Ljava/util/concurrent/atomic/AtomicInteger;
     255: invokevirtual #425                // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
     258: pop
     259: aload         6
     261: invokestatic  #414                // Method org/apache/curator/utils/ThreadUtils.checkInterrupted:(Ljava/lang/Throwable;)Z
     264: pop
     265: aload_0
     266: getfield      #115                // Field log:Lorg/slf4j/Logger;
     269: ldc_w         #427                // String The leader threw an exception
     272: aload         6
     274: invokeinterface #433,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     279: iload         5
     281: ifeq          309
     284: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     287: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     290: goto          309
     293: astore        7
     295: iload         5
     297: ifeq          306
     300: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     303: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
     306: aload         7
     308: athrow
     309: aload         4
     311: athrow
     312: return
    Exception table:
       from    to  target type
          17    58    65   Class java/lang/InterruptedException
          17    58    74   Class java/lang/Throwable
          17    58    87   any
          65    80    87   any
         110   117   130   Class java/lang/Exception
         110   117   177   any
         130   164   177   any
           5    94   193   Class java/lang/InterruptedException
           5    94   202   any
         221   228   242   Class java/lang/Exception
         221   228   293   any
         242   279   293   any
         293   295   293   any
         193   204   202   any

  private void doWorkLoop() throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: invokevirtual #440                // Method doWork:()V
       6: goto          28
       9: astore_2
      10: aload_2
      11: astore_1
      12: goto          28
      15: astore_2
      16: aload_2
      17: astore_1
      18: goto          28
      21: astore_2
      22: invokestatic  #405                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      25: invokevirtual #408                // Method java/lang/Thread.interrupt:()V
      28: aload_1
      29: ifnull        44
      32: aload_0
      33: getfield      #133                // Field autoRequeue:Ljava/util/concurrent/atomic/AtomicBoolean;
      36: invokevirtual #442                // Method java/util/concurrent/atomic/AtomicBoolean.get:()Z
      39: ifne          44
      42: aload_1
      43: athrow
      44: return
    Exception table:
       from    to  target type
           2     6     9   Class org/apache/zookeeper/KeeperException$ConnectionLossException
           2     6    15   Class org/apache/zookeeper/KeeperException$SessionExpiredException
           2     6    21   Class java/lang/InterruptedException

  private synchronized void clearIsQueued();
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #145                // Field isQueued:Z
       5: return

  private static java.util.concurrent.ExecutorService wrapExecutor(java.util.concurrent.Executor);
    Code:
       0: new           #15                 // class org/apache/curator/framework/recipes/leader/LeaderSelector$3
       3: dup
       4: aload_0
       5: invokespecial #450                // Method org/apache/curator/framework/recipes/leader/LeaderSelector$3."<init>":(Ljava/util/concurrent/Executor;)V
       8: areturn

  static java.lang.String access$000(org.apache.curator.framework.recipes.leader.LeaderSelector);
    Code:
       0: aload_0
       1: getfield      #139                // Field id:Ljava/lang/String;
       4: areturn

  static void access$100(org.apache.curator.framework.recipes.leader.LeaderSelector) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #456                // Method doWorkLoop:()V
       4: return

  static void access$200(org.apache.curator.framework.recipes.leader.LeaderSelector);
    Code:
       0: aload_0
       1: invokespecial #399                // Method clearIsQueued:()V
       4: return

  static java.util.concurrent.atomic.AtomicBoolean access$300(org.apache.curator.framework.recipes.leader.LeaderSelector);
    Code:
       0: aload_0
       1: getfield      #133                // Field autoRequeue:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: areturn

  static boolean access$400(org.apache.curator.framework.recipes.leader.LeaderSelector);
    Code:
       0: aload_0
       1: invokespecial #251                // Method internalRequeue:()Z
       4: ireturn

  static {};
    Code:
       0: ldc_w         #464                // String LeaderSelector
       3: invokestatic  #468                // Method org/apache/curator/utils/ThreadUtils.newThreadFactory:(Ljava/lang/String;)Ljava/util/concurrent/ThreadFactory;
       6: putstatic     #71                 // Field defaultThreadFactory:Ljava/util/concurrent/ThreadFactory;
       9: return
}
