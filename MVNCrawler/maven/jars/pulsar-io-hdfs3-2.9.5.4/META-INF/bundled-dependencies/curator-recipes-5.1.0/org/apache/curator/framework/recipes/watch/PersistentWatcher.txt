Compiled from "PersistentWatcher.java"
public class org.apache.curator.framework.recipes.watch.PersistentWatcher implements java.io.Closeable {
  private final org.slf4j.Logger log;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.curator.framework.recipes.watch.PersistentWatcher$State> state;

  private final org.apache.curator.framework.listen.StandardListenerManager<org.apache.zookeeper.Watcher> listeners;

  private final org.apache.curator.framework.listen.StandardListenerManager<java.lang.Runnable> resetListeners;

  private final org.apache.curator.framework.state.ConnectionStateListener connectionStateListener;

  private final org.apache.zookeeper.Watcher watcher;

  private final org.apache.curator.framework.CuratorFramework client;

  private final java.lang.String basePath;

  private final boolean recursive;

  public org.apache.curator.framework.recipes.watch.PersistentWatcher(org.apache.curator.framework.CuratorFramework, java.lang.String, boolean);
    Code:
       0: aload_0
       1: invokespecial #45                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #49                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #55                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      12: putfield      #57                 // Field log:Lorg/slf4j/Logger;
      15: aload_0
      16: new           #59                 // class java/util/concurrent/atomic/AtomicReference
      19: dup
      20: getstatic     #63                 // Field org/apache/curator/framework/recipes/watch/PersistentWatcher$State.LATENT:Lorg/apache/curator/framework/recipes/watch/PersistentWatcher$State;
      23: invokespecial #66                 // Method java/util/concurrent/atomic/AtomicReference."<init>":(Ljava/lang/Object;)V
      26: putfield      #68                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
      29: aload_0
      30: invokestatic  #74                 // Method org/apache/curator/framework/listen/StandardListenerManager.standard:()Lorg/apache/curator/framework/listen/StandardListenerManager;
      33: putfield      #76                 // Field listeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
      36: aload_0
      37: invokestatic  #74                 // Method org/apache/curator/framework/listen/StandardListenerManager.standard:()Lorg/apache/curator/framework/listen/StandardListenerManager;
      40: putfield      #78                 // Field resetListeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
      43: aload_0
      44: aload_0
      45: invokedynamic #95,  0             // InvokeDynamic #0:stateChanged:(Lorg/apache/curator/framework/recipes/watch/PersistentWatcher;)Lorg/apache/curator/framework/state/ConnectionStateListener;
      50: putfield      #97                 // Field connectionStateListener:Lorg/apache/curator/framework/state/ConnectionStateListener;
      53: aload_0
      54: aload_0
      55: invokedynamic #107,  0            // InvokeDynamic #1:process:(Lorg/apache/curator/framework/recipes/watch/PersistentWatcher;)Lorg/apache/zookeeper/Watcher;
      60: putfield      #109                // Field watcher:Lorg/apache/zookeeper/Watcher;
      63: aload_0
      64: aload_1
      65: ldc           #111                // String client cannot be null
      67: invokestatic  #117                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      70: checkcast     #119                // class org/apache/curator/framework/CuratorFramework
      73: putfield      #121                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      76: aload_0
      77: aload_2
      78: ldc           #123                // String basePath cannot be null
      80: invokestatic  #117                // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;
      83: checkcast     #125                // class java/lang/String
      86: putfield      #127                // Field basePath:Ljava/lang/String;
      89: aload_0
      90: iload_3
      91: putfield      #129                // Field recursive:Z
      94: return

  public void start();
    Code:
       0: aload_0
       1: getfield      #68                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #63                 // Field org/apache/curator/framework/recipes/watch/PersistentWatcher$State.LATENT:Lorg/apache/curator/framework/recipes/watch/PersistentWatcher$State;
       7: getstatic     #135                // Field org/apache/curator/framework/recipes/watch/PersistentWatcher$State.STARTED:Lorg/apache/curator/framework/recipes/watch/PersistentWatcher$State;
      10: invokevirtual #139                // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ldc           #141                // String Already started
      15: invokestatic  #147                // Method org/apache/curator/shaded/com/google/common/base/Preconditions.checkState:(ZLjava/lang/Object;)V
      18: aload_0
      19: getfield      #121                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      22: invokeinterface #151,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getConnectionStateListenable:()Lorg/apache/curator/framework/listen/Listenable;
      27: aload_0
      28: getfield      #97                 // Field connectionStateListener:Lorg/apache/curator/framework/state/ConnectionStateListener;
      31: invokeinterface #156,  2          // InterfaceMethod org/apache/curator/framework/listen/Listenable.addListener:(Ljava/lang/Object;)V
      36: aload_0
      37: invokespecial #159                // Method reset:()V
      40: return

  public void close();
    Code:
       0: aload_0
       1: getfield      #68                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: getstatic     #135                // Field org/apache/curator/framework/recipes/watch/PersistentWatcher$State.STARTED:Lorg/apache/curator/framework/recipes/watch/PersistentWatcher$State;
       7: getstatic     #165                // Field org/apache/curator/framework/recipes/watch/PersistentWatcher$State.CLOSED:Lorg/apache/curator/framework/recipes/watch/PersistentWatcher$State;
      10: invokevirtual #139                // Method java/util/concurrent/atomic/AtomicReference.compareAndSet:(Ljava/lang/Object;Ljava/lang/Object;)Z
      13: ifeq          120
      16: aload_0
      17: getfield      #76                 // Field listeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
      20: invokevirtual #168                // Method org/apache/curator/framework/listen/StandardListenerManager.clear:()V
      23: aload_0
      24: getfield      #121                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      27: invokeinterface #151,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getConnectionStateListenable:()Lorg/apache/curator/framework/listen/Listenable;
      32: aload_0
      33: getfield      #97                 // Field connectionStateListener:Lorg/apache/curator/framework/state/ConnectionStateListener;
      36: invokeinterface #171,  2          // InterfaceMethod org/apache/curator/framework/listen/Listenable.removeListener:(Ljava/lang/Object;)V
      41: aload_0
      42: getfield      #121                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      45: invokeinterface #175,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.watchers:()Lorg/apache/curator/framework/api/WatchesBuilder;
      50: aload_0
      51: getfield      #109                // Field watcher:Lorg/apache/zookeeper/Watcher;
      54: invokeinterface #181,  2          // InterfaceMethod org/apache/curator/framework/api/WatchesBuilder.remove:(Lorg/apache/zookeeper/Watcher;)Lorg/apache/curator/framework/api/RemoveWatchesType;
      59: invokeinterface #187,  1          // InterfaceMethod org/apache/curator/framework/api/RemoveWatchesType.guaranteed:()Ljava/lang/Object;
      64: checkcast     #189                // class org/apache/curator/framework/api/BackgroundPathableQuietlyable
      67: invokeinterface #192,  1          // InterfaceMethod org/apache/curator/framework/api/BackgroundPathableQuietlyable.inBackground:()Ljava/lang/Object;
      72: checkcast     #194                // class org/apache/curator/framework/api/ErrorListenerPathable
      75: aload_0
      76: getfield      #127                // Field basePath:Ljava/lang/String;
      79: invokeinterface #198,  2          // InterfaceMethod org/apache/curator/framework/api/ErrorListenerPathable.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      84: pop
      85: goto          120
      88: astore_1
      89: aload_1
      90: invokestatic  #204                // Method org/apache/curator/utils/ThreadUtils.checkInterrupted:(Ljava/lang/Throwable;)Z
      93: pop
      94: aload_0
      95: getfield      #57                 // Field log:Lorg/slf4j/Logger;
      98: ldc           #206                // String Could not remove watcher for path: %s
     100: iconst_1
     101: anewarray     #4                  // class java/lang/Object
     104: dup
     105: iconst_0
     106: aload_0
     107: getfield      #127                // Field basePath:Ljava/lang/String;
     110: aastore
     111: invokestatic  #210                // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     114: aload_1
     115: invokeinterface #216,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     120: return
    Exception table:
       from    to  target type
          41    85    88   Class java/lang/Exception

  public org.apache.curator.framework.listen.Listenable<org.apache.zookeeper.Watcher> getListenable();
    Code:
       0: aload_0
       1: getfield      #76                 // Field listeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
       4: areturn

  public org.apache.curator.framework.listen.Listenable<java.lang.Runnable> getResetListenable();
    Code:
       0: aload_0
       1: getfield      #78                 // Field resetListeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
       4: areturn

  private void reset();
    Code:
       0: aload_0
       1: getfield      #68                 // Field state:Ljava/util/concurrent/atomic/AtomicReference;
       4: invokevirtual #225                // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
       7: getstatic     #135                // Field org/apache/curator/framework/recipes/watch/PersistentWatcher$State.STARTED:Lorg/apache/curator/framework/recipes/watch/PersistentWatcher$State;
      10: if_acmpeq     14
      13: return
      14: aload_0
      15: invokedynamic #235,  0            // InvokeDynamic #2:processResult:(Lorg/apache/curator/framework/recipes/watch/PersistentWatcher;)Lorg/apache/curator/framework/api/BackgroundCallback;
      20: astore_1
      21: aload_0
      22: getfield      #121                // Field client:Lorg/apache/curator/framework/CuratorFramework;
      25: invokeinterface #175,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.watchers:()Lorg/apache/curator/framework/api/WatchesBuilder;
      30: invokeinterface #239,  1          // InterfaceMethod org/apache/curator/framework/api/WatchesBuilder.add:()Lorg/apache/curator/framework/api/AddWatchBuilder;
      35: aload_0
      36: getfield      #129                // Field recursive:Z
      39: ifeq          48
      42: getstatic     #245                // Field org/apache/zookeeper/AddWatchMode.PERSISTENT_RECURSIVE:Lorg/apache/zookeeper/AddWatchMode;
      45: goto          51
      48: getstatic     #252                // Field org/apache/zookeeper/AddWatchMode.PERSISTENT:Lorg/apache/zookeeper/AddWatchMode;
      51: invokeinterface #256,  2          // InterfaceMethod org/apache/curator/framework/api/AddWatchBuilder.withMode:(Lorg/apache/zookeeper/AddWatchMode;)Lorg/apache/curator/framework/api/AddWatchBuilder2;
      56: aload_1
      57: invokeinterface #261,  2          // InterfaceMethod org/apache/curator/framework/api/AddWatchBuilder2.inBackground:(Lorg/apache/curator/framework/api/BackgroundCallback;)Ljava/lang/Object;
      62: checkcast     #263                // class org/apache/curator/framework/api/WatchableBase
      65: aload_0
      66: getfield      #109                // Field watcher:Lorg/apache/zookeeper/Watcher;
      69: invokeinterface #267,  2          // InterfaceMethod org/apache/curator/framework/api/WatchableBase.usingWatcher:(Lorg/apache/zookeeper/Watcher;)Ljava/lang/Object;
      74: checkcast     #269                // class org/apache/curator/framework/api/Pathable
      77: aload_0
      78: getfield      #127                // Field basePath:Ljava/lang/String;
      81: invokeinterface #270,  2          // InterfaceMethod org/apache/curator/framework/api/Pathable.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      86: pop
      87: goto          124
      90: astore_1
      91: aload_0
      92: getfield      #57                 // Field log:Lorg/slf4j/Logger;
      95: new           #272                // class java/lang/StringBuilder
      98: dup
      99: invokespecial #273                // Method java/lang/StringBuilder."<init>":()V
     102: ldc_w         #275                // String Could not reset persistent watch at path:
     105: invokevirtual #279                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload_0
     109: getfield      #127                // Field basePath:Ljava/lang/String;
     112: invokevirtual #279                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: invokevirtual #283                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     118: aload_1
     119: invokeinterface #286,  3          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     124: return
    Exception table:
       from    to  target type
          14    87    90   Class java/lang/Exception

  private void lambda$reset$3(org.apache.curator.framework.CuratorFramework, org.apache.curator.framework.api.CuratorEvent) throws java.lang.Exception;
    Code:
       0: aload_2
       1: invokeinterface #294,  1          // InterfaceMethod org/apache/curator/framework/api/CuratorEvent.getResultCode:()I
       6: getstatic     #298                // Field org/apache/zookeeper/KeeperException$Code.OK:Lorg/apache/zookeeper/KeeperException$Code;
       9: invokevirtual #301                // Method org/apache/zookeeper/KeeperException$Code.intValue:()I
      12: if_icmpne     30
      15: aload_0
      16: getfield      #78                 // Field resetListeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
      19: invokedynamic #314,  0            // InvokeDynamic #3:accept:()Ljava/util/function/Consumer;
      24: invokevirtual #318                // Method org/apache/curator/framework/listen/StandardListenerManager.forEach:(Ljava/util/function/Consumer;)V
      27: goto          34
      30: aload_0
      31: invokespecial #159                // Method reset:()V
      34: return

  private void lambda$new$2(org.apache.zookeeper.WatchedEvent);
    Code:
       0: aload_0
       1: getfield      #76                 // Field listeners:Lorg/apache/curator/framework/listen/StandardListenerManager;
       4: aload_1
       5: invokedynamic #331,  0            // InvokeDynamic #4:accept:(Lorg/apache/zookeeper/WatchedEvent;)Ljava/util/function/Consumer;
      10: invokevirtual #318                // Method org/apache/curator/framework/listen/StandardListenerManager.forEach:(Ljava/util/function/Consumer;)V
      13: return

  private static void lambda$null$1(org.apache.zookeeper.WatchedEvent, org.apache.zookeeper.Watcher);
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #336,  2          // InterfaceMethod org/apache/zookeeper/Watcher.process:(Lorg/apache/zookeeper/WatchedEvent;)V
       7: return

  private void lambda$new$0(org.apache.curator.framework.CuratorFramework, org.apache.curator.framework.state.ConnectionState);
    Code:
       0: aload_2
       1: invokevirtual #343                // Method org/apache/curator/framework/state/ConnectionState.isConnected:()Z
       4: ifeq          11
       7: aload_0
       8: invokespecial #159                // Method reset:()V
      11: return
}
