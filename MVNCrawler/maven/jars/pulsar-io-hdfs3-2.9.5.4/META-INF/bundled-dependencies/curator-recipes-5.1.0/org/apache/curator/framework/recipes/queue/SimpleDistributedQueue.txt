Compiled from "SimpleDistributedQueue.java"
public class org.apache.curator.framework.recipes.queue.SimpleDistributedQueue {
  private final org.slf4j.Logger log;

  private final org.apache.curator.framework.CuratorFramework client;

  private final java.lang.String path;

  private final org.apache.curator.framework.EnsureContainers ensureContainers;

  private final java.lang.String PREFIX;

  public org.apache.curator.framework.recipes.queue.SimpleDistributedQueue(org.apache.curator.framework.CuratorFramework, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #28                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_0
       6: invokevirtual #32                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
       9: invokestatic  #38                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      12: putfield      #40                 // Field log:Lorg/slf4j/Logger;
      15: aload_0
      16: ldc           #23                 // String qn-
      18: putfield      #42                 // Field PREFIX:Ljava/lang/String;
      21: aload_0
      22: aload_1
      23: putfield      #44                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      26: aload_0
      27: aload_2
      28: invokestatic  #50                 // Method org/apache/curator/utils/PathUtils.validatePath:(Ljava/lang/String;)Ljava/lang/String;
      31: putfield      #52                 // Field path:Ljava/lang/String;
      34: aload_0
      35: new           #54                 // class org/apache/curator/framework/EnsureContainers
      38: dup
      39: aload_1
      40: aload_2
      41: invokespecial #56                 // Method org/apache/curator/framework/EnsureContainers."<init>":(Lorg/apache/curator/framework/CuratorFramework;Ljava/lang/String;)V
      44: putfield      #58                 // Field ensureContainers:Lorg/apache/curator/framework/EnsureContainers;
      47: return

  public byte[] element() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_0
       2: aconst_null
       3: invokespecial #68                 // Method internalElement:(ZLorg/apache/zookeeper/Watcher;)[B
       6: astore_1
       7: aload_1
       8: ifnonnull     19
      11: new           #70                 // class java/util/NoSuchElementException
      14: dup
      15: invokespecial #71                 // Method java/util/NoSuchElementException."<init>":()V
      18: athrow
      19: aload_1
      20: areturn

  public byte[] remove() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_1
       2: aconst_null
       3: invokespecial #68                 // Method internalElement:(ZLorg/apache/zookeeper/Watcher;)[B
       6: astore_1
       7: aload_1
       8: ifnonnull     19
      11: new           #70                 // class java/util/NoSuchElementException
      14: dup
      15: invokespecial #71                 // Method java/util/NoSuchElementException."<init>":()V
      18: athrow
      19: aload_1
      20: areturn

  public byte[] take() throws java.lang.Exception;
    Code:
       0: aload_0
       1: lconst_0
       2: aconst_null
       3: invokespecial #80                 // Method internalPoll:(JLjava/util/concurrent/TimeUnit;)[B
       6: areturn

  public boolean offer(byte[]) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #52                 // Field path:Ljava/lang/String;
       4: ldc           #23                 // String qn-
       6: invokestatic  #88                 // Method org/apache/curator/utils/ZKPaths.makePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
       9: astore_2
      10: aload_0
      11: getfield      #44                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      14: invokeinterface #94,  1           // InterfaceMethod org/apache/curator/framework/CuratorFramework.create:()Lorg/apache/curator/framework/api/CreateBuilder;
      19: invokeinterface #100,  1          // InterfaceMethod org/apache/curator/framework/api/CreateBuilder.creatingParentContainersIfNeeded:()Lorg/apache/curator/framework/api/ProtectACLCreateModeStatPathAndBytesable;
      24: getstatic     #106                // Field org/apache/zookeeper/CreateMode.PERSISTENT_SEQUENTIAL:Lorg/apache/zookeeper/CreateMode;
      27: invokeinterface #112,  2          // InterfaceMethod org/apache/curator/framework/api/ProtectACLCreateModeStatPathAndBytesable.withMode:(Lorg/apache/zookeeper/CreateMode;)Ljava/lang/Object;
      32: checkcast     #114                // class org/apache/curator/framework/api/ACLBackgroundPathAndBytesable
      35: aload_2
      36: aload_1
      37: invokeinterface #118,  3          // InterfaceMethod org/apache/curator/framework/api/ACLBackgroundPathAndBytesable.forPath:(Ljava/lang/String;[B)Ljava/lang/Object;
      42: pop
      43: iconst_1
      44: ireturn

  public byte[] peek() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #123                // Method element:()[B
       4: areturn
       5: astore_1
       6: aconst_null
       7: areturn
    Exception table:
       from    to  target type
           0     4     5   Class java/util/NoSuchElementException

  public byte[] poll(long, java.util.concurrent.TimeUnit) throws java.lang.Exception;
    Code:
       0: aload_0
       1: lload_1
       2: aload_3
       3: invokespecial #80                 // Method internalPoll:(JLjava/util/concurrent/TimeUnit;)[B
       6: areturn

  public byte[] poll() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #132                // Method remove:()[B
       4: areturn
       5: astore_1
       6: aconst_null
       7: areturn
    Exception table:
       from    to  target type
           0     4     5   Class java/util/NoSuchElementException

  protected void ensurePath() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #58                 // Field ensureContainers:Lorg/apache/curator/framework/EnsureContainers;
       4: invokevirtual #136                // Method org/apache/curator/framework/EnsureContainers.ensure:()V
       7: return

  private byte[] internalPoll(long, java.util.concurrent.TimeUnit) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #138                // Method ensurePath:()V
       4: invokestatic  #144                // Method java/lang/System.currentTimeMillis:()J
       7: lstore        4
       9: aload_3
      10: ifnull        17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: istore        6
      20: iload         6
      22: ifeq          36
      25: getstatic     #149                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      28: lload_1
      29: aload_3
      30: invokevirtual #153                // Method java/util/concurrent/TimeUnit.convert:(JLjava/util/concurrent/TimeUnit;)J
      33: goto          39
      36: ldc2_w        #154                // long 9223372036854775807l
      39: lstore        7
      41: new           #157                // class java/util/concurrent/CountDownLatch
      44: dup
      45: iconst_1
      46: invokespecial #160                // Method java/util/concurrent/CountDownLatch."<init>":(I)V
      49: astore        9
      51: new           #7                  // class org/apache/curator/framework/recipes/queue/SimpleDistributedQueue$1
      54: dup
      55: aload_0
      56: aload         9
      58: invokespecial #163                // Method org/apache/curator/framework/recipes/queue/SimpleDistributedQueue$1."<init>":(Lorg/apache/curator/framework/recipes/queue/SimpleDistributedQueue;Ljava/util/concurrent/CountDownLatch;)V
      61: astore        10
      63: aload_0
      64: iconst_1
      65: aload         10
      67: invokespecial #68                 // Method internalElement:(ZLorg/apache/zookeeper/Watcher;)[B
      70: astore        11
      72: goto          98
      75: astore        12
      77: aload_0
      78: getfield      #40                 // Field log:Lorg/slf4j/Logger;
      81: ldc           #167                // String Parent containers appear to have lapsed - recreate and retry
      83: invokeinterface #173,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      88: aload_0
      89: getfield      #58                 // Field ensureContainers:Lorg/apache/curator/framework/EnsureContainers;
      92: invokevirtual #176                // Method org/apache/curator/framework/EnsureContainers.reset:()V
      95: goto          41
      98: aload         11
     100: ifnull        106
     103: aload         11
     105: areturn
     106: iload         6
     108: ifeq          149
     111: invokestatic  #144                // Method java/lang/System.currentTimeMillis:()J
     114: lload         4
     116: lsub
     117: lstore        12
     119: lload         7
     121: lload         12
     123: lsub
     124: lstore        14
     126: lload         14
     128: lconst_0
     129: lcmp
     130: ifgt          135
     133: aconst_null
     134: areturn
     135: aload         9
     137: lload         14
     139: getstatic     #149                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     142: invokevirtual #180                // Method java/util/concurrent/CountDownLatch.await:(JLjava/util/concurrent/TimeUnit;)Z
     145: pop
     146: goto          154
     149: aload         9
     151: invokevirtual #182                // Method java/util/concurrent/CountDownLatch.await:()V
     154: goto          41
    Exception table:
       from    to  target type
          63    72    75   Class java/util/NoSuchElementException

  private byte[] internalElement(boolean, org.apache.zookeeper.Watcher) throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokevirtual #138                // Method ensurePath:()V
       4: aload_2
       5: ifnull        41
       8: aload_0
       9: getfield      #44                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      12: invokeinterface #197,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getChildren:()Lorg/apache/curator/framework/api/GetChildrenBuilder;
      17: aload_2
      18: invokeinterface #203,  2          // InterfaceMethod org/apache/curator/framework/api/GetChildrenBuilder.usingWatcher:(Lorg/apache/zookeeper/Watcher;)Ljava/lang/Object;
      23: checkcast     #205                // class org/apache/curator/framework/api/BackgroundPathable
      26: aload_0
      27: getfield      #52                 // Field path:Ljava/lang/String;
      30: invokeinterface #208,  2          // InterfaceMethod org/apache/curator/framework/api/BackgroundPathable.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      35: checkcast     #210                // class java/util/List
      38: goto          62
      41: aload_0
      42: getfield      #44                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
      45: invokeinterface #197,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getChildren:()Lorg/apache/curator/framework/api/GetChildrenBuilder;
      50: aload_0
      51: getfield      #52                 // Field path:Ljava/lang/String;
      54: invokeinterface #211,  2          // InterfaceMethod org/apache/curator/framework/api/GetChildrenBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
      59: checkcast     #210                // class java/util/List
      62: astore_3
      63: goto          76
      66: astore        4
      68: new           #70                 // class java/util/NoSuchElementException
      71: dup
      72: invokespecial #71                 // Method java/util/NoSuchElementException."<init>":()V
      75: athrow
      76: aload_3
      77: invokestatic  #217                // Method java/util/Collections.sort:(Ljava/util/List;)V
      80: aload_3
      81: invokeinterface #221,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      86: astore        4
      88: aload         4
      90: invokeinterface #227,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      95: ifeq          213
      98: aload         4
     100: invokeinterface #231,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     105: checkcast     #233                // class java/lang/String
     108: astore        5
     110: aload         5
     112: ldc           #23                 // String qn-
     114: invokevirtual #237                // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     117: ifne          152
     120: aload_0
     121: getfield      #40                 // Field log:Lorg/slf4j/Logger;
     124: new           #239                // class java/lang/StringBuilder
     127: dup
     128: invokespecial #240                // Method java/lang/StringBuilder."<init>":()V
     131: ldc           #242                // String Foreign node in queue path:
     133: invokevirtual #246                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: aload         5
     138: invokevirtual #246                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: invokevirtual #250                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     144: invokeinterface #253,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     149: goto          88
     152: aload_0
     153: getfield      #52                 // Field path:Ljava/lang/String;
     156: aload         5
     158: invokestatic  #88                 // Method org/apache/curator/utils/ZKPaths.makePath:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     161: astore        6
     163: aload_0
     164: getfield      #44                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
     167: invokeinterface #257,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.getData:()Lorg/apache/curator/framework/api/GetDataBuilder;
     172: aload         6
     174: invokeinterface #260,  2          // InterfaceMethod org/apache/curator/framework/api/GetDataBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     179: checkcast     #73                 // class "[B"
     182: astore        7
     184: iload_1
     185: ifeq          205
     188: aload_0
     189: getfield      #44                 // Field client:Lorg/apache/curator/framework/CuratorFramework;
     192: invokeinterface #264,  1          // InterfaceMethod org/apache/curator/framework/CuratorFramework.delete:()Lorg/apache/curator/framework/api/DeleteBuilder;
     197: aload         6
     199: invokeinterface #267,  2          // InterfaceMethod org/apache/curator/framework/api/DeleteBuilder.forPath:(Ljava/lang/String;)Ljava/lang/Object;
     204: pop
     205: aload         7
     207: areturn
     208: astore        7
     210: goto          88
     213: aconst_null
     214: areturn
    Exception table:
       from    to  target type
           4    63    66   Class org/apache/zookeeper/KeeperException$NoNodeException
         163   207   208   Class org/apache/zookeeper/KeeperException$NoNodeException
}
