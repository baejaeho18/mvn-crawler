Compiled from "StackLocator.java"
public final class org.apache.logging.log4j.util.StackLocator {
  static final int JDK_7U25_OFFSET;

  private static final java.lang.reflect.Method GET_CALLER_CLASS_METHOD;

  private static final org.apache.logging.log4j.util.StackLocator INSTANCE;

  private static final java.lang.Class<?> DEFAULT_CALLER_CLASS;

  public static org.apache.logging.log4j.util.StackLocator getInstance();
    Code:
       0: getstatic     #1                  // Field INSTANCE:Lorg/apache/logging/log4j/util/StackLocator;
       3: areturn

  private org.apache.logging.log4j.util.StackLocator();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: return

  public java.lang.Class<?> getCallerClass(java.lang.Class<?>, java.util.function.Predicate<java.lang.Class<?>>);
    Code:
       0: aload_1
       1: ifnonnull     14
       4: new           #3                  // class java/lang/IllegalArgumentException
       7: dup
       8: ldc           #4                  // String sentinelClass cannot be null
      10: invokespecial #5                  // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      13: athrow
      14: aload_2
      15: ifnonnull     28
      18: new           #3                  // class java/lang/IllegalArgumentException
      21: dup
      22: ldc           #6                  // String callerPredicate cannot be null
      24: invokespecial #5                  // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      27: athrow
      28: iconst_0
      29: istore_3
      30: iconst_2
      31: istore        5
      33: aconst_null
      34: aload_0
      35: iload         5
      37: invokevirtual #7                  // Method getCallerClass:(I)Ljava/lang/Class;
      40: dup
      41: astore        4
      43: if_acmpeq     84
      46: aload_1
      47: aload         4
      49: invokevirtual #8                  // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      52: ifeq          60
      55: iconst_1
      56: istore_3
      57: goto          78
      60: iload_3
      61: ifeq          78
      64: aload_2
      65: aload         4
      67: invokeinterface #9,  2            // InterfaceMethod java/util/function/Predicate.test:(Ljava/lang/Object;)Z
      72: ifeq          78
      75: aload         4
      77: areturn
      78: iinc          5, 1
      81: goto          33
      84: getstatic     #10                 // Field DEFAULT_CALLER_CLASS:Ljava/lang/Class;
      87: areturn

  public java.lang.Class<?> getCallerClass(int);
    Code:
       0: iload_1
       1: ifge          16
       4: new           #11                 // class java/lang/IndexOutOfBoundsException
       7: dup
       8: iload_1
       9: invokestatic  #12                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      12: invokespecial #13                 // Method java/lang/IndexOutOfBoundsException."<init>":(Ljava/lang/String;)V
      15: athrow
      16: getstatic     #14                 // Field GET_CALLER_CLASS_METHOD:Ljava/lang/reflect/Method;
      19: ifnonnull     26
      22: getstatic     #10                 // Field DEFAULT_CALLER_CLASS:Ljava/lang/Class;
      25: areturn
      26: getstatic     #14                 // Field GET_CALLER_CLASS_METHOD:Ljava/lang/reflect/Method;
      29: aconst_null
      30: iconst_1
      31: anewarray     #15                 // class java/lang/Object
      34: dup
      35: iconst_0
      36: iload_1
      37: iconst_1
      38: iadd
      39: getstatic     #16                 // Field JDK_7U25_OFFSET:I
      42: iadd
      43: invokestatic  #17                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      46: aastore
      47: invokevirtual #18                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      50: checkcast     #19                 // class java/lang/Class
      53: areturn
      54: astore_2
      55: getstatic     #10                 // Field DEFAULT_CALLER_CLASS:Ljava/lang/Class;
      58: areturn
    Exception table:
       from    to  target type
          26    53    54   Class java/lang/Exception

  public java.lang.Class<?> getCallerClass(java.lang.String, java.lang.String);
    Code:
       0: iconst_0
       1: istore_3
       2: iconst_2
       3: istore        5
       5: aconst_null
       6: aload_0
       7: iload         5
       9: invokevirtual #7                  // Method getCallerClass:(I)Ljava/lang/Class;
      12: dup
      13: astore        4
      15: if_acmpeq     60
      18: aload_1
      19: aload         4
      21: invokevirtual #21                 // Method java/lang/Class.getName:()Ljava/lang/String;
      24: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      27: ifeq          35
      30: iconst_1
      31: istore_3
      32: goto          54
      35: iload_3
      36: ifeq          54
      39: aload         4
      41: invokevirtual #21                 // Method java/lang/Class.getName:()Ljava/lang/String;
      44: aload_2
      45: invokevirtual #23                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      48: ifeq          54
      51: aload         4
      53: areturn
      54: iinc          5, 1
      57: goto          5
      60: getstatic     #10                 // Field DEFAULT_CALLER_CLASS:Ljava/lang/Class;
      63: areturn

  public java.lang.Class<?> getCallerClass(java.lang.Class<?>);
    Code:
       0: iconst_0
       1: istore_2
       2: iconst_2
       3: istore        4
       5: aconst_null
       6: aload_0
       7: iload         4
       9: invokevirtual #7                  // Method getCallerClass:(I)Ljava/lang/Class;
      12: dup
      13: astore_3
      14: if_acmpeq     42
      17: aload_1
      18: aload_3
      19: invokevirtual #8                  // Method java/lang/Object.equals:(Ljava/lang/Object;)Z
      22: ifeq          30
      25: iconst_1
      26: istore_2
      27: goto          36
      30: iload_2
      31: ifeq          36
      34: aload_3
      35: areturn
      36: iinc          4, 1
      39: goto          5
      42: ldc           #15                 // class java/lang/Object
      44: areturn

  public java.util.Deque<java.lang.Class<?>> getCurrentStackTrace();
    Code:
       0: invokestatic  #24                 // Method org/apache/logging/log4j/util/PrivateSecurityManagerStackTraceUtil.isEnabled:()Z
       3: ifeq          10
       6: invokestatic  #25                 // Method org/apache/logging/log4j/util/PrivateSecurityManagerStackTraceUtil.getCurrentStackTrace:()Ljava/util/Deque;
       9: areturn
      10: new           #26                 // class java/util/ArrayDeque
      13: dup
      14: invokespecial #27                 // Method java/util/ArrayDeque."<init>":()V
      17: astore_1
      18: iconst_1
      19: istore_3
      20: aconst_null
      21: aload_0
      22: iload_3
      23: invokevirtual #7                  // Method getCallerClass:(I)Ljava/lang/Class;
      26: dup
      27: astore_2
      28: if_acmpeq     44
      31: aload_1
      32: aload_2
      33: invokeinterface #28,  2           // InterfaceMethod java/util/Deque.push:(Ljava/lang/Object;)V
      38: iinc          3, 1
      41: goto          20
      44: aload_1
      45: areturn

  public java.lang.StackTraceElement calcLocation(java.lang.String);
    Code:
       0: aload_1
       1: ifnonnull     6
       4: aconst_null
       5: areturn
       6: new           #29                 // class java/lang/Throwable
       9: dup
      10: invokespecial #30                 // Method java/lang/Throwable."<init>":()V
      13: invokevirtual #31                 // Method java/lang/Throwable.getStackTrace:()[Ljava/lang/StackTraceElement;
      16: astore_2
      17: iconst_0
      18: istore_3
      19: iconst_0
      20: istore        4
      22: iload         4
      24: aload_2
      25: arraylength
      26: if_icmpge     76
      29: aload_2
      30: iload         4
      32: aaload
      33: invokevirtual #32                 // Method java/lang/StackTraceElement.getClassName:()Ljava/lang/String;
      36: astore        5
      38: aload_1
      39: aload         5
      41: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      44: ifeq          52
      47: iconst_1
      48: istore_3
      49: goto          70
      52: iload_3
      53: ifeq          70
      56: aload_1
      57: aload         5
      59: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      62: ifne          70
      65: aload_2
      66: iload         4
      68: aaload
      69: areturn
      70: iinc          4, 1
      73: goto          22
      76: aconst_null
      77: areturn

  public java.lang.StackTraceElement getStackTraceElement(int);
    Code:
       0: iconst_0
       1: istore_2
       2: new           #29                 // class java/lang/Throwable
       5: dup
       6: invokespecial #30                 // Method java/lang/Throwable."<init>":()V
       9: invokevirtual #31                 // Method java/lang/Throwable.getStackTrace:()[Ljava/lang/StackTraceElement;
      12: astore_3
      13: aload_3
      14: arraylength
      15: istore        4
      17: iconst_0
      18: istore        5
      20: iload         5
      22: iload         4
      24: if_icmpge     59
      27: aload_3
      28: iload         5
      30: aaload
      31: astore        6
      33: aload_0
      34: aload         6
      36: invokespecial #33                 // Method isValid:(Ljava/lang/StackTraceElement;)Z
      39: ifeq          53
      42: iload_2
      43: iload_1
      44: if_icmpne     50
      47: aload         6
      49: areturn
      50: iinc          2, 1
      53: iinc          5, 1
      56: goto          20
      59: new           #11                 // class java/lang/IndexOutOfBoundsException
      62: dup
      63: iload_1
      64: invokestatic  #12                 // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      67: invokespecial #13                 // Method java/lang/IndexOutOfBoundsException."<init>":(Ljava/lang/String;)V
      70: athrow

  private boolean isValid(java.lang.StackTraceElement);
    Code:
       0: aload_1
       1: invokevirtual #34                 // Method java/lang/StackTraceElement.isNativeMethod:()Z
       4: ifeq          9
       7: iconst_0
       8: ireturn
       9: aload_1
      10: invokevirtual #32                 // Method java/lang/StackTraceElement.getClassName:()Ljava/lang/String;
      13: astore_2
      14: aload_2
      15: ldc           #35                 // String sun.reflect.
      17: invokevirtual #23                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      20: ifeq          25
      23: iconst_0
      24: ireturn
      25: aload_1
      26: invokevirtual #36                 // Method java/lang/StackTraceElement.getMethodName:()Ljava/lang/String;
      29: astore_3
      30: aload_2
      31: ldc           #37                 // String java.lang.reflect.
      33: invokevirtual #23                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      36: ifeq          59
      39: aload_3
      40: ldc           #38                 // String invoke
      42: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      45: ifne          57
      48: aload_3
      49: ldc           #39                 // String newInstance
      51: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      54: ifeq          59
      57: iconst_0
      58: ireturn
      59: aload_2
      60: ldc           #40                 // String jdk.internal.reflect.
      62: invokevirtual #23                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      65: ifeq          70
      68: iconst_0
      69: ireturn
      70: aload_2
      71: ldc           #41                 // String java.lang.Class
      73: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      76: ifeq          90
      79: aload_3
      80: ldc           #39                 // String newInstance
      82: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      85: ifeq          90
      88: iconst_0
      89: ireturn
      90: aload_2
      91: ldc           #42                 // String java.lang.invoke.MethodHandle
      93: invokevirtual #22                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      96: ifeq          110
      99: aload_3
     100: ldc           #38                 // String invoke
     102: invokevirtual #23                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
     105: ifeq          110
     108: iconst_0
     109: ireturn
     110: iconst_1
     111: ireturn

  static {};
    Code:
       0: aconst_null
       1: putstatic     #10                 // Field DEFAULT_CALLER_CLASS:Ljava/lang/Class;
       4: iconst_0
       5: istore_1
       6: ldc           #43                 // String sun.reflect.Reflection
       8: invokestatic  #44                 // Method org/apache/logging/log4j/util/LoaderUtil.loadClass:(Ljava/lang/String;)Ljava/lang/Class;
      11: astore_2
      12: aload_2
      13: ldc           #45                 // String getCallerClass
      15: iconst_1
      16: anewarray     #19                 // class java/lang/Class
      19: dup
      20: iconst_0
      21: getstatic     #46                 // Field java/lang/Integer.TYPE:Ljava/lang/Class;
      24: aastore
      25: invokevirtual #47                 // Method java/lang/Class.getDeclaredMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      28: astore_0
      29: aload_0
      30: aconst_null
      31: iconst_1
      32: anewarray     #15                 // class java/lang/Object
      35: dup
      36: iconst_0
      37: iconst_0
      38: invokestatic  #17                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      41: aastore
      42: invokevirtual #18                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      45: astore_3
      46: aload_0
      47: aconst_null
      48: iconst_1
      49: anewarray     #15                 // class java/lang/Object
      52: dup
      53: iconst_0
      54: iconst_0
      55: invokestatic  #17                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      58: aastore
      59: invokevirtual #18                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      62: pop
      63: aload_3
      64: ifnull        72
      67: aload_3
      68: aload_2
      69: if_acmpeq     79
      72: aconst_null
      73: astore_0
      74: iconst_m1
      75: istore_1
      76: goto          111
      79: aload_0
      80: aconst_null
      81: iconst_1
      82: anewarray     #15                 // class java/lang/Object
      85: dup
      86: iconst_0
      87: iconst_1
      88: invokestatic  #17                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      91: aastore
      92: invokevirtual #18                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      95: astore_3
      96: aload_3
      97: aload_2
      98: if_acmpne     111
     101: getstatic     #48                 // Field java/lang/System.out:Ljava/io/PrintStream;
     104: ldc           #49                 // String WARNING: Unexpected result from sun.reflect.Reflection.getCallerClass(int), adjusting offset for future calls.
     106: invokevirtual #50                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     109: iconst_1
     110: istore_1
     111: goto          127
     114: astore_2
     115: getstatic     #48                 // Field java/lang/System.out:Ljava/io/PrintStream;
     118: ldc           #52                 // String WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.
     120: invokevirtual #50                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
     123: aconst_null
     124: astore_0
     125: iconst_m1
     126: istore_1
     127: aload_0
     128: putstatic     #14                 // Field GET_CALLER_CLASS_METHOD:Ljava/lang/reflect/Method;
     131: iload_1
     132: putstatic     #16                 // Field JDK_7U25_OFFSET:I
     135: new           #53                 // class org/apache/logging/log4j/util/StackLocator
     138: dup
     139: invokespecial #54                 // Method "<init>":()V
     142: putstatic     #1                  // Field INSTANCE:Lorg/apache/logging/log4j/util/StackLocator;
     145: return
    Exception table:
       from    to  target type
           6   111   114   Class java/lang/Exception
           6   111   114   Class java/lang/LinkageError
}
