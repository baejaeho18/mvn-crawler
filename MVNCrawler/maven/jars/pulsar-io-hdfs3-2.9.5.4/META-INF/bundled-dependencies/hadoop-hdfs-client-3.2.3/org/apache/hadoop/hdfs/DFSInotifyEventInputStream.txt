Compiled from "DFSInotifyEventInputStream.java"
public class org.apache.hadoop.hdfs.DFSInotifyEventInputStream {
  public static final org.slf4j.Logger LOG;

  private final org.apache.hadoop.hdfs.protocol.ClientProtocol namenode;

  private java.util.Iterator<org.apache.hadoop.hdfs.inotify.EventBatch> it;

  private long lastReadTxid;

  private long syncTxid;

  private java.util.Random rng;

  private final org.apache.htrace.core.Tracer tracer;

  private static final int INITIAL_WAIT_MS;

  static final boolean $assertionsDisabled;

  org.apache.hadoop.hdfs.DFSInotifyEventInputStream(org.apache.hadoop.hdfs.protocol.ClientProtocol, org.apache.htrace.core.Tracer) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_1
       4: invokeinterface #1,  1            // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.getCurrentEditLogTxid:()J
       9: invokespecial #2                  // Method "<init>":(Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;Lorg/apache/htrace/core/Tracer;J)V
      12: return

  org.apache.hadoop.hdfs.DFSInotifyEventInputStream(org.apache.hadoop.hdfs.protocol.ClientProtocol, org.apache.htrace.core.Tracer, long);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #4                  // class java/util/Random
       8: dup
       9: invokespecial #5                  // Method java/util/Random."<init>":()V
      12: putfield      #6                  // Field rng:Ljava/util/Random;
      15: aload_0
      16: aload_1
      17: putfield      #7                  // Field namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
      20: aload_0
      21: invokestatic  #8                  // Method java/util/Collections.emptyIterator:()Ljava/util/Iterator;
      24: putfield      #9                  // Field it:Ljava/util/Iterator;
      27: aload_0
      28: lload_3
      29: putfield      #10                 // Field lastReadTxid:J
      32: aload_0
      33: aload_2
      34: putfield      #11                 // Field tracer:Lorg/apache/htrace/core/Tracer;
      37: return

  public org.apache.hadoop.hdfs.inotify.EventBatch poll() throws java.io.IOException, org.apache.hadoop.hdfs.inotify.MissingEventsException;
    Code:
       0: aload_0
       1: getfield      #11                 // Field tracer:Lorg/apache/htrace/core/Tracer;
       4: ldc           #12                 // String inotifyPoll
       6: invokevirtual #13                 // Method org/apache/htrace/core/Tracer.newScope:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
       9: astore_1
      10: aconst_null
      11: astore_2
      12: aload_0
      13: getfield      #10                 // Field lastReadTxid:J
      16: ldc2_w        #14                 // long -1l
      19: lcmp
      20: ifne          80
      23: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
      26: ldc           #17                 // String poll(): lastReadTxid is -1, reading current txid from NN
      28: invokeinterface #18,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      33: aload_0
      34: aload_0
      35: getfield      #7                  // Field namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
      38: invokeinterface #1,  1            // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.getCurrentEditLogTxid:()J
      43: putfield      #10                 // Field lastReadTxid:J
      46: aconst_null
      47: astore_3
      48: aload_1
      49: ifnull        78
      52: aload_2
      53: ifnull        74
      56: aload_1
      57: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
      60: goto          78
      63: astore        4
      65: aload_2
      66: aload         4
      68: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      71: goto          78
      74: aload_1
      75: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
      78: aload_3
      79: areturn
      80: aload_0
      81: getfield      #9                  // Field it:Ljava/util/Iterator;
      84: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      89: ifne          238
      92: aload_0
      93: getfield      #7                  // Field namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
      96: aload_0
      97: getfield      #10                 // Field lastReadTxid:J
     100: lconst_1
     101: ladd
     102: invokeinterface #23,  3           // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.getEditsFromTxid:(J)Lorg/apache/hadoop/hdfs/inotify/EventBatchList;
     107: astore_3
     108: aload_3
     109: invokevirtual #24                 // Method org/apache/hadoop/hdfs/inotify/EventBatchList.getLastTxid:()J
     112: ldc2_w        #14                 // long -1l
     115: lcmp
     116: ifeq          185
     119: aload_0
     120: aload_3
     121: invokevirtual #25                 // Method org/apache/hadoop/hdfs/inotify/EventBatchList.getSyncTxid:()J
     124: putfield      #26                 // Field syncTxid:J
     127: aload_0
     128: aload_3
     129: invokevirtual #27                 // Method org/apache/hadoop/hdfs/inotify/EventBatchList.getBatches:()Ljava/util/List;
     132: invokeinterface #28,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     137: putfield      #9                  // Field it:Ljava/util/Iterator;
     140: aload_0
     141: getfield      #10                 // Field lastReadTxid:J
     144: lstore        4
     146: aload_0
     147: aload_3
     148: invokevirtual #24                 // Method org/apache/hadoop/hdfs/inotify/EventBatchList.getLastTxid:()J
     151: putfield      #10                 // Field lastReadTxid:J
     154: aload_3
     155: invokevirtual #29                 // Method org/apache/hadoop/hdfs/inotify/EventBatchList.getFirstTxid:()J
     158: lload         4
     160: lconst_1
     161: ladd
     162: lcmp
     163: ifeq          182
     166: new           #30                 // class org/apache/hadoop/hdfs/inotify/MissingEventsException
     169: dup
     170: lload         4
     172: lconst_1
     173: ladd
     174: aload_3
     175: invokevirtual #29                 // Method org/apache/hadoop/hdfs/inotify/EventBatchList.getFirstTxid:()J
     178: invokespecial #31                 // Method org/apache/hadoop/hdfs/inotify/MissingEventsException."<init>":(JJ)V
     181: athrow
     182: goto          238
     185: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
     188: ldc           #32                 // String poll(): read no edits from the NN when requesting edits after txid {}
     190: aload_0
     191: getfield      #10                 // Field lastReadTxid:J
     194: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     197: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     202: aconst_null
     203: astore        4
     205: aload_1
     206: ifnull        235
     209: aload_2
     210: ifnull        231
     213: aload_1
     214: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     217: goto          235
     220: astore        5
     222: aload_2
     223: aload         5
     225: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     228: goto          235
     231: aload_1
     232: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     235: aload         4
     237: areturn
     238: aload_0
     239: getfield      #9                  // Field it:Ljava/util/Iterator;
     242: invokeinterface #22,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     247: ifeq          295
     250: aload_0
     251: getfield      #9                  // Field it:Ljava/util/Iterator;
     254: invokeinterface #35,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     259: checkcast     #36                 // class org/apache/hadoop/hdfs/inotify/EventBatch
     262: astore_3
     263: aload_1
     264: ifnull        293
     267: aload_2
     268: ifnull        289
     271: aload_1
     272: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     275: goto          293
     278: astore        4
     280: aload_2
     281: aload         4
     283: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     286: goto          293
     289: aload_1
     290: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     293: aload_3
     294: areturn
     295: aconst_null
     296: astore_3
     297: aload_1
     298: ifnull        327
     301: aload_2
     302: ifnull        323
     305: aload_1
     306: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     309: goto          327
     312: astore        4
     314: aload_2
     315: aload         4
     317: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     320: goto          327
     323: aload_1
     324: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     327: aload_3
     328: areturn
     329: astore_3
     330: aload_3
     331: astore_2
     332: aload_3
     333: athrow
     334: astore        6
     336: aload_1
     337: ifnull        366
     340: aload_2
     341: ifnull        362
     344: aload_1
     345: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     348: goto          366
     351: astore        7
     353: aload_2
     354: aload         7
     356: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     359: goto          366
     362: aload_1
     363: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     366: aload         6
     368: athrow
    Exception table:
       from    to  target type
          56    60    63   Class java/lang/Throwable
         213   217   220   Class java/lang/Throwable
         271   275   278   Class java/lang/Throwable
         305   309   312   Class java/lang/Throwable
          12    48   329   Class java/lang/Throwable
          80   205   329   Class java/lang/Throwable
         238   263   329   Class java/lang/Throwable
         295   297   329   Class java/lang/Throwable
          12    48   334   any
          80   205   334   any
         238   263   334   any
         295   297   334   any
         344   348   351   Class java/lang/Throwable
         329   336   334   any

  public long getTxidsBehindEstimate();
    Code:
       0: aload_0
       1: getfield      #26                 // Field syncTxid:J
       4: lconst_0
       5: lcmp
       6: ifne          13
       9: ldc2_w        #14                 // long -1l
      12: lreturn
      13: getstatic     #37                 // Field $assertionsDisabled:Z
      16: ifne          39
      19: aload_0
      20: getfield      #26                 // Field syncTxid:J
      23: aload_0
      24: getfield      #10                 // Field lastReadTxid:J
      27: lcmp
      28: ifge          39
      31: new           #38                 // class java/lang/AssertionError
      34: dup
      35: invokespecial #39                 // Method java/lang/AssertionError."<init>":()V
      38: athrow
      39: aload_0
      40: getfield      #26                 // Field syncTxid:J
      43: aload_0
      44: getfield      #10                 // Field lastReadTxid:J
      47: lsub
      48: lreturn

  public org.apache.hadoop.hdfs.inotify.EventBatch poll(long, java.util.concurrent.TimeUnit) throws java.io.IOException, java.lang.InterruptedException, org.apache.hadoop.hdfs.inotify.MissingEventsException;
    Code:
       0: aload_0
       1: getfield      #11                 // Field tracer:Lorg/apache/htrace/core/Tracer;
       4: ldc           #40                 // String inotifyPollWithTimeout
       6: invokevirtual #13                 // Method org/apache/htrace/core/Tracer.newScope:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
       9: astore        5
      11: aconst_null
      12: astore        6
      14: invokestatic  #41                 // Method org/apache/hadoop/util/Time.monotonicNow:()J
      17: lstore        7
      19: getstatic     #42                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
      22: lload_1
      23: aload_3
      24: invokevirtual #43                 // Method java/util/concurrent/TimeUnit.convert:(JLjava/util/concurrent/TimeUnit;)J
      27: lstore        9
      29: ldc2_w        #45                 // long 10l
      32: lstore        11
      34: aload_0
      35: invokevirtual #47                 // Method poll:()Lorg/apache/hadoop/hdfs/inotify/EventBatch;
      38: dup
      39: astore        4
      41: ifnonnull     125
      44: lload         9
      46: invokestatic  #41                 // Method org/apache/hadoop/util/Time.monotonicNow:()J
      49: lload         7
      51: lsub
      52: lsub
      53: lstore        13
      55: lload         13
      57: lconst_0
      58: lcmp
      59: ifgt          75
      62: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
      65: ldc           #48                 // String timed poll(): timed out
      67: invokeinterface #18,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      72: goto          125
      75: lload         13
      77: lload         11
      79: ldc2_w        #49                 // long 2l
      82: lmul
      83: lcmp
      84: ifge          94
      87: lload         13
      89: lstore        11
      91: goto          102
      94: lload         11
      96: ldc2_w        #49                 // long 2l
      99: lmul
     100: lstore        11
     102: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
     105: ldc           #51                 // String timed poll(): poll() returned null, sleeping for {} ms
     107: lload         11
     109: invokestatic  #33                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     112: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     117: lload         11
     119: invokestatic  #52                 // Method java/lang/Thread.sleep:(J)V
     122: goto          34
     125: aload         5
     127: ifnull        212
     130: aload         6
     132: ifnull        155
     135: aload         5
     137: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     140: goto          212
     143: astore        7
     145: aload         6
     147: aload         7
     149: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     152: goto          212
     155: aload         5
     157: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     160: goto          212
     163: astore        7
     165: aload         7
     167: astore        6
     169: aload         7
     171: athrow
     172: astore        15
     174: aload         5
     176: ifnull        209
     179: aload         6
     181: ifnull        204
     184: aload         5
     186: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     189: goto          209
     192: astore        16
     194: aload         6
     196: aload         16
     198: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     201: goto          209
     204: aload         5
     206: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     209: aload         15
     211: athrow
     212: aload         4
     214: areturn
    Exception table:
       from    to  target type
         135   140   143   Class java/lang/Throwable
          14   125   163   Class java/lang/Throwable
          14   125   172   any
         184   189   192   Class java/lang/Throwable
         163   174   172   any

  public org.apache.hadoop.hdfs.inotify.EventBatch take() throws java.io.IOException, java.lang.InterruptedException, org.apache.hadoop.hdfs.inotify.MissingEventsException;
    Code:
       0: aload_0
       1: getfield      #11                 // Field tracer:Lorg/apache/htrace/core/Tracer;
       4: ldc           #53                 // String inotifyTake
       6: invokevirtual #13                 // Method org/apache/htrace/core/Tracer.newScope:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
       9: astore_2
      10: aconst_null
      11: astore_3
      12: bipush        10
      14: istore        4
      16: aload_0
      17: invokevirtual #47                 // Method poll:()Lorg/apache/hadoop/hdfs/inotify/EventBatch;
      20: dup
      21: astore_1
      22: ifnonnull     74
      25: iload         4
      27: aload_0
      28: getfield      #6                  // Field rng:Ljava/util/Random;
      31: iload         4
      33: invokevirtual #54                 // Method java/util/Random.nextInt:(I)I
      36: iadd
      37: istore        5
      39: getstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
      42: ldc           #55                 // String take(): poll() returned null, sleeping for {} ms
      44: iload         5
      46: invokestatic  #56                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      49: invokeinterface #34,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      54: iload         5
      56: i2l
      57: invokestatic  #52                 // Method java/lang/Thread.sleep:(J)V
      60: ldc           #57                 // int 60000
      62: iload         4
      64: iconst_2
      65: imul
      66: invokestatic  #58                 // Method java/lang/Math.min:(II)I
      69: istore        4
      71: goto          16
      74: aload_2
      75: ifnull        150
      78: aload_3
      79: ifnull        100
      82: aload_2
      83: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
      86: goto          150
      89: astore        4
      91: aload_3
      92: aload         4
      94: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      97: goto          150
     100: aload_2
     101: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     104: goto          150
     107: astore        4
     109: aload         4
     111: astore_3
     112: aload         4
     114: athrow
     115: astore        6
     117: aload_2
     118: ifnull        147
     121: aload_3
     122: ifnull        143
     125: aload_2
     126: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     129: goto          147
     132: astore        7
     134: aload_3
     135: aload         7
     137: invokevirtual #21                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     140: goto          147
     143: aload_2
     144: invokevirtual #19                 // Method org/apache/htrace/core/TraceScope.close:()V
     147: aload         6
     149: athrow
     150: aload_1
     151: areturn
    Exception table:
       from    to  target type
          82    86    89   Class java/lang/Throwable
          12    74   107   Class java/lang/Throwable
          12    74   115   any
         125   129   132   Class java/lang/Throwable
         107   117   115   any

  static {};
    Code:
       0: ldc           #44                 // class org/apache/hadoop/hdfs/DFSInotifyEventInputStream
       2: invokevirtual #59                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #37                 // Field $assertionsDisabled:Z
      16: ldc           #44                 // class org/apache/hadoop/hdfs/DFSInotifyEventInputStream
      18: invokestatic  #60                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      21: putstatic     #16                 // Field LOG:Lorg/slf4j/Logger;
      24: return
}
