Compiled from "BlockReaderIoProvider.java"
public class org.apache.hadoop.hdfs.client.impl.metrics.BlockReaderIoProvider {
  public static final org.slf4j.Logger LOG;

  private final org.apache.hadoop.hdfs.client.impl.metrics.BlockReaderLocalMetrics metrics;

  private final boolean isEnabled;

  private final int sampleRangeMax;

  private final org.apache.hadoop.util.Timer timer;

  private static final long SLOW_READ_WARNING_THRESHOLD_MS;

  private boolean isWarningLogged;

  public org.apache.hadoop.hdfs.client.impl.metrics.BlockReaderIoProvider(org.apache.hadoop.hdfs.client.impl.DfsClientConf$ShortCircuitConf, org.apache.hadoop.hdfs.client.impl.metrics.BlockReaderLocalMetrics, org.apache.hadoop.util.Timer);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field isWarningLogged:Z
       9: aload_1
      10: ifnull        45
      13: aload_0
      14: aload_1
      15: invokevirtual #3                  // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf$ShortCircuitConf.isScrMetricsEnabled:()Z
      18: putfield      #4                  // Field isEnabled:Z
      21: aload_0
      22: ldc           #6                  // int 21474836
      24: aload_1
      25: invokevirtual #7                  // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf$ShortCircuitConf.getScrMetricsSamplingPercentage:()I
      28: imul
      29: putfield      #8                  // Field sampleRangeMax:I
      32: aload_0
      33: aload_2
      34: putfield      #9                  // Field metrics:Lorg/apache/hadoop/hdfs/client/impl/metrics/BlockReaderLocalMetrics;
      37: aload_0
      38: aload_3
      39: putfield      #10                 // Field timer:Lorg/apache/hadoop/util/Timer;
      42: goto          65
      45: aload_0
      46: iconst_0
      47: putfield      #4                  // Field isEnabled:Z
      50: aload_0
      51: iconst_0
      52: putfield      #8                  // Field sampleRangeMax:I
      55: aload_0
      56: aconst_null
      57: putfield      #9                  // Field metrics:Lorg/apache/hadoop/hdfs/client/impl/metrics/BlockReaderLocalMetrics;
      60: aload_0
      61: aconst_null
      62: putfield      #10                 // Field timer:Lorg/apache/hadoop/util/Timer;
      65: return

  public int read(java.nio.channels.FileChannel, java.nio.ByteBuffer, long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field isEnabled:Z
       4: ifeq          58
       7: invokestatic  #11                 // Method java/util/concurrent/ThreadLocalRandom.current:()Ljava/util/concurrent/ThreadLocalRandom;
      10: invokevirtual #12                 // Method java/util/concurrent/ThreadLocalRandom.nextInt:()I
      13: aload_0
      14: getfield      #8                  // Field sampleRangeMax:I
      17: if_icmpge     58
      20: aload_0
      21: getfield      #10                 // Field timer:Lorg/apache/hadoop/util/Timer;
      24: invokevirtual #13                 // Method org/apache/hadoop/util/Timer.monotonicNow:()J
      27: lstore        6
      29: aload_1
      30: aload_2
      31: lload_3
      32: invokevirtual #14                 // Method java/nio/channels/FileChannel.read:(Ljava/nio/ByteBuffer;J)I
      35: istore        5
      37: aload_0
      38: getfield      #10                 // Field timer:Lorg/apache/hadoop/util/Timer;
      41: invokevirtual #13                 // Method org/apache/hadoop/util/Timer.monotonicNow:()J
      44: lload         6
      46: lsub
      47: lstore        8
      49: aload_0
      50: lload         8
      52: invokespecial #15                 // Method addLatency:(J)V
      55: goto          66
      58: aload_1
      59: aload_2
      60: lload_3
      61: invokevirtual #14                 // Method java/nio/channels/FileChannel.read:(Ljava/nio/ByteBuffer;J)I
      64: istore        5
      66: iload         5
      68: ireturn

  private void addLatency(long);
    Code:
       0: aload_0
       1: getfield      #9                  // Field metrics:Lorg/apache/hadoop/hdfs/client/impl/metrics/BlockReaderLocalMetrics;
       4: lload_1
       5: invokevirtual #16                 // Method org/apache/hadoop/hdfs/client/impl/metrics/BlockReaderLocalMetrics.addShortCircuitReadLatency:(J)V
       8: lload_1
       9: ldc2_w        #18                 // long 1000l
      12: lcmp
      13: ifle          61
      16: aload_0
      17: getfield      #2                  // Field isWarningLogged:Z
      20: ifne          61
      23: getstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
      26: ldc           #21                 // String The Short Circuit Local Read latency, %d ms, is higher then the threshold (%d ms). Suppressing further warnings for this BlockReaderLocal.
      28: iconst_2
      29: anewarray     #22                 // class java/lang/Object
      32: dup
      33: iconst_0
      34: lload_1
      35: invokestatic  #23                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      38: aastore
      39: dup
      40: iconst_1
      41: ldc2_w        #18                 // long 1000l
      44: invokestatic  #23                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      47: aastore
      48: invokestatic  #24                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      51: invokeinterface #25,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      56: aload_0
      57: iconst_1
      58: putfield      #2                  // Field isWarningLogged:Z
      61: return

  static {};
    Code:
       0: ldc           #17                 // class org/apache/hadoop/hdfs/client/impl/metrics/BlockReaderIoProvider
       2: invokestatic  #26                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #20                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
