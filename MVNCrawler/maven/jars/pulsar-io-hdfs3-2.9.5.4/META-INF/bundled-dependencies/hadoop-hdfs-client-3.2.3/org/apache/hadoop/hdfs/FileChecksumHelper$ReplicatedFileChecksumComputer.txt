Compiled from "FileChecksumHelper.java"
class org.apache.hadoop.hdfs.FileChecksumHelper$ReplicatedFileChecksumComputer extends org.apache.hadoop.hdfs.FileChecksumHelper$FileChecksumComputer {
  private int blockIdx;

  org.apache.hadoop.hdfs.FileChecksumHelper$ReplicatedFileChecksumComputer(java.lang.String, long, org.apache.hadoop.hdfs.protocol.LocatedBlocks, org.apache.hadoop.hdfs.protocol.ClientProtocol, org.apache.hadoop.hdfs.DFSClient, org.apache.hadoop.fs.Options$ChecksumCombineMode) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: lload_2
       3: aload         4
       5: aload         5
       7: aload         6
       9: aload         7
      11: invokespecial #1                  // Method org/apache/hadoop/hdfs/FileChecksumHelper$FileChecksumComputer."<init>":(Ljava/lang/String;JLorg/apache/hadoop/hdfs/protocol/LocatedBlocks;Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;Lorg/apache/hadoop/hdfs/DFSClient;Lorg/apache/hadoop/fs/Options$ChecksumCombineMode;)V
      14: return

  void checksumBlocks() throws java.io.IOException;
    Code:
       0: aload_0
       1: iconst_0
       2: putfield      #2                  // Field blockIdx:I
       5: aload_0
       6: getfield      #2                  // Field blockIdx:I
       9: aload_0
      10: invokevirtual #3                  // Method getLocatedBlocks:()Ljava/util/List;
      13: invokeinterface #4,  1            // InterfaceMethod java/util/List.size:()I
      18: if_icmpge     110
      21: aload_0
      22: invokevirtual #5                  // Method getRemaining:()J
      25: lconst_0
      26: lcmp
      27: iflt          110
      30: aload_0
      31: invokevirtual #6                  // Method isRefetchBlocks:()Z
      34: ifeq          41
      37: aload_0
      38: invokevirtual #7                  // Method refetchBlocks:()V
      41: aload_0
      42: invokevirtual #3                  // Method getLocatedBlocks:()Ljava/util/List;
      45: aload_0
      46: getfield      #2                  // Field blockIdx:I
      49: invokeinterface #8,  2            // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      54: checkcast     #9                  // class org/apache/hadoop/hdfs/protocol/LocatedBlock
      57: astore_1
      58: aload_0
      59: aload_1
      60: invokespecial #10                 // Method checksumBlock:(Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;)Z
      63: ifne          97
      66: new           #11                 // class org/apache/hadoop/fs/PathIOException
      69: dup
      70: aload_0
      71: invokevirtual #12                 // Method getSrc:()Ljava/lang/String;
      74: new           #13                 // class java/lang/StringBuilder
      77: dup
      78: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      81: ldc           #15                 // String Fail to get block MD5 for
      83: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload_1
      87: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      90: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      93: invokespecial #19                 // Method org/apache/hadoop/fs/PathIOException."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      96: athrow
      97: aload_0
      98: dup
      99: getfield      #2                  // Field blockIdx:I
     102: iconst_1
     103: iadd
     104: putfield      #2                  // Field blockIdx:I
     107: goto          5
     110: return

  private boolean checksumBlock(org.apache.hadoop.hdfs.protocol.LocatedBlock);
    Code:
       0: aload_1
       1: invokevirtual #20                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
       4: astore_2
       5: aload_0
       6: invokevirtual #5                  // Method getRemaining:()J
       9: aload_2
      10: invokevirtual #21                 // Method org/apache/hadoop/hdfs/protocol/ExtendedBlock.getNumBytes:()J
      13: lcmp
      14: ifge          25
      17: aload_2
      18: aload_0
      19: invokevirtual #5                  // Method getRemaining:()J
      22: invokevirtual #22                 // Method org/apache/hadoop/hdfs/protocol/ExtendedBlock.setNumBytes:(J)V
      25: aload_0
      26: aload_0
      27: invokevirtual #5                  // Method getRemaining:()J
      30: aload_2
      31: invokevirtual #21                 // Method org/apache/hadoop/hdfs/protocol/ExtendedBlock.getNumBytes:()J
      34: lsub
      35: invokevirtual #23                 // Method setRemaining:(J)V
      38: aload_1
      39: invokevirtual #24                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getLocations:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      42: astore_3
      43: sipush        3000
      46: aload_3
      47: arraylength
      48: imul
      49: aload_0
      50: invokevirtual #25                 // Method getClient:()Lorg/apache/hadoop/hdfs/DFSClient;
      53: invokevirtual #26                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
      56: invokevirtual #27                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getSocketTimeout:()I
      59: iadd
      60: istore        4
      62: aload_0
      63: iload         4
      65: invokevirtual #28                 // Method setTimeout:(I)V
      68: iconst_0
      69: istore        5
      71: iconst_0
      72: istore        6
      74: iload         5
      76: ifne          300
      79: iload         6
      81: aload_3
      82: arraylength
      83: if_icmpge     300
      86: aload_0
      87: aload_1
      88: aload_3
      89: iload         6
      91: aaload
      92: invokespecial #29                 // Method tryDatanode:(Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;)V
      95: iconst_1
      96: istore        5
      98: goto          294
     101: astore        7
     103: aload_0
     104: getfield      #2                  // Field blockIdx:I
     107: aload_0
     108: invokevirtual #31                 // Method getLastRetriedIndex:()I
     111: if_icmple     172
     114: getstatic     #32                 // Field org/apache/hadoop/hdfs/FileChecksumHelper.LOG:Lorg/slf4j/Logger;
     117: ldc           #33                 // String Got access token error in response to OP_BLOCK_CHECKSUM for file {} for block {} from datanode {}. Will retry the block once.
     119: iconst_3
     120: anewarray     #34                 // class java/lang/Object
     123: dup
     124: iconst_0
     125: aload_0
     126: invokevirtual #12                 // Method getSrc:()Ljava/lang/String;
     129: aastore
     130: dup
     131: iconst_1
     132: aload_2
     133: aastore
     134: dup
     135: iconst_2
     136: aload_3
     137: iload         6
     139: aaload
     140: aastore
     141: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     146: aload_0
     147: aload_0
     148: getfield      #2                  // Field blockIdx:I
     151: invokevirtual #36                 // Method setLastRetriedIndex:(I)V
     154: iconst_1
     155: istore        5
     157: aload_0
     158: dup
     159: getfield      #2                  // Field blockIdx:I
     162: iconst_1
     163: isub
     164: putfield      #2                  // Field blockIdx:I
     167: aload_0
     168: iconst_1
     169: invokevirtual #37                 // Method setRefetchBlocks:(Z)V
     172: goto          294
     175: astore        7
     177: aload_0
     178: getfield      #2                  // Field blockIdx:I
     181: aload_0
     182: invokevirtual #31                 // Method getLastRetriedIndex:()I
     185: if_icmple     248
     188: getstatic     #32                 // Field org/apache/hadoop/hdfs/FileChecksumHelper.LOG:Lorg/slf4j/Logger;
     191: ldc           #39                 // String Got invalid encryption key error in response to OP_BLOCK_CHECKSUM for file {} for block {} from datanode {}. Will retry the block once.
     193: iconst_3
     194: anewarray     #34                 // class java/lang/Object
     197: dup
     198: iconst_0
     199: aload_0
     200: invokevirtual #12                 // Method getSrc:()Ljava/lang/String;
     203: aastore
     204: dup
     205: iconst_1
     206: aload_2
     207: aastore
     208: dup
     209: iconst_2
     210: aload_3
     211: iload         6
     213: aaload
     214: aastore
     215: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     220: aload_0
     221: aload_0
     222: getfield      #2                  // Field blockIdx:I
     225: invokevirtual #36                 // Method setLastRetriedIndex:(I)V
     228: iconst_1
     229: istore        5
     231: aload_0
     232: dup
     233: getfield      #2                  // Field blockIdx:I
     236: iconst_1
     237: isub
     238: putfield      #2                  // Field blockIdx:I
     241: aload_0
     242: invokevirtual #25                 // Method getClient:()Lorg/apache/hadoop/hdfs/DFSClient;
     245: invokevirtual #40                 // Method org/apache/hadoop/hdfs/DFSClient.clearDataEncryptionKey:()V
     248: goto          294
     251: astore        7
     253: getstatic     #32                 // Field org/apache/hadoop/hdfs/FileChecksumHelper.LOG:Lorg/slf4j/Logger;
     256: ldc           #42                 // String src={}, datanodes[{}]={}
     258: iconst_4
     259: anewarray     #34                 // class java/lang/Object
     262: dup
     263: iconst_0
     264: aload_0
     265: invokevirtual #12                 // Method getSrc:()Ljava/lang/String;
     268: aastore
     269: dup
     270: iconst_1
     271: iload         6
     273: invokestatic  #43                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     276: aastore
     277: dup
     278: iconst_2
     279: aload_3
     280: iload         6
     282: aaload
     283: aastore
     284: dup
     285: iconst_3
     286: aload         7
     288: aastore
     289: invokeinterface #44,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     294: iinc          6, 1
     297: goto          74
     300: iload         5
     302: ireturn
    Exception table:
       from    to  target type
          86    98   101   Class org/apache/hadoop/hdfs/security/token/block/InvalidBlockTokenException
          86    98   175   Class org/apache/hadoop/hdfs/protocol/datatransfer/InvalidEncryptionKeyException
          86    98   251   Class java/io/IOException

  private void tryDatanode(org.apache.hadoop.hdfs.protocol.LocatedBlock, org.apache.hadoop.hdfs.protocol.DatanodeInfo) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #20                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
       4: astore_3
       5: aload_0
       6: invokevirtual #25                 // Method getClient:()Lorg/apache/hadoop/hdfs/DFSClient;
       9: aload_2
      10: aload_0
      11: invokevirtual #45                 // Method getTimeout:()I
      14: aload_1
      15: invokevirtual #46                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlockToken:()Lorg/apache/hadoop/security/token/Token;
      18: invokevirtual #47                 // Method org/apache/hadoop/hdfs/DFSClient.connectToDN:(Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;ILorg/apache/hadoop/security/token/Token;)Lorg/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair;
      21: astore        4
      23: aconst_null
      24: astore        5
      26: getstatic     #32                 // Field org/apache/hadoop/hdfs/FileChecksumHelper.LOG:Lorg/slf4j/Logger;
      29: ldc           #48                 // String write to {}: {}, block={}
      31: iconst_3
      32: anewarray     #34                 // class java/lang/Object
      35: dup
      36: iconst_0
      37: aload_2
      38: aastore
      39: dup
      40: iconst_1
      41: getstatic     #49                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/Op.BLOCK_CHECKSUM:Lorg/apache/hadoop/hdfs/protocol/datatransfer/Op;
      44: aastore
      45: dup
      46: iconst_2
      47: aload_3
      48: aastore
      49: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      54: aload_0
      55: aload         4
      57: invokevirtual #50                 // Method createSender:(Lorg/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair;)Lorg/apache/hadoop/hdfs/protocol/datatransfer/Sender;
      60: aload_3
      61: aload_1
      62: invokevirtual #46                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlockToken:()Lorg/apache/hadoop/security/token/Token;
      65: new           #51                 // class org/apache/hadoop/hdfs/protocol/BlockChecksumOptions
      68: dup
      69: aload_0
      70: invokevirtual #52                 // Method getBlockChecksumType:()Lorg/apache/hadoop/hdfs/protocol/BlockChecksumType;
      73: invokespecial #53                 // Method org/apache/hadoop/hdfs/protocol/BlockChecksumOptions."<init>":(Lorg/apache/hadoop/hdfs/protocol/BlockChecksumType;)V
      76: invokevirtual #54                 // Method org/apache/hadoop/hdfs/protocol/datatransfer/Sender.blockChecksum:(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;Lorg/apache/hadoop/security/token/Token;Lorg/apache/hadoop/hdfs/protocol/BlockChecksumOptions;)V
      79: aload         4
      81: getfield      #55                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.in:Ljava/io/InputStream;
      84: invokestatic  #56                 // Method org/apache/hadoop/hdfs/protocolPB/PBHelperClient.vintPrefixed:(Ljava/io/InputStream;)Ljava/io/InputStream;
      87: invokestatic  #57                 // Method org/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto.parseFrom:(Ljava/io/InputStream;)Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto;
      90: astore        6
      92: new           #13                 // class java/lang/StringBuilder
      95: dup
      96: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      99: ldc           #58                 // String for block
     101: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: aload_3
     105: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     108: ldc           #59                 // String  from datanode
     110: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     113: aload_2
     114: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     117: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     120: astore        7
     122: aload         6
     124: aload         7
     126: invokestatic  #60                 // Method org/apache/hadoop/hdfs/protocol/datatransfer/DataTransferProtoUtil.checkBlockOpStatus:(Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto;Ljava/lang/String;)V
     129: aload         6
     131: invokevirtual #61                 // Method org/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto.getChecksumResponse:()Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$OpBlockChecksumResponseProto;
     134: astore        8
     136: aload_0
     137: aload         8
     139: aload_1
     140: aload_2
     141: aload_0
     142: getfield      #2                  // Field blockIdx:I
     145: invokevirtual #62                 // Method extractChecksumProperties:(Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$OpBlockChecksumResponseProto;Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;I)V
     148: aload_0
     149: aload         8
     151: invokevirtual #63                 // Method populateBlockChecksumBuf:(Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$OpBlockChecksumResponseProto;)Ljava/lang/String;
     154: astore        9
     156: getstatic     #32                 // Field org/apache/hadoop/hdfs/FileChecksumHelper.LOG:Lorg/slf4j/Logger;
     159: ldc           #64                 // String got reply from {}: blockChecksum={}, blockChecksumType={}
     161: iconst_3
     162: anewarray     #34                 // class java/lang/Object
     165: dup
     166: iconst_0
     167: aload_2
     168: aastore
     169: dup
     170: iconst_1
     171: aload         9
     173: aastore
     174: dup
     175: iconst_2
     176: aload_0
     177: invokevirtual #52                 // Method getBlockChecksumType:()Lorg/apache/hadoop/hdfs/protocol/BlockChecksumType;
     180: aastore
     181: invokeinterface #35,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     186: aload         4
     188: ifnull        273
     191: aload         5
     193: ifnull        216
     196: aload         4
     198: invokevirtual #65                 // Method org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.close:()V
     201: goto          273
     204: astore        6
     206: aload         5
     208: aload         6
     210: invokevirtual #67                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     213: goto          273
     216: aload         4
     218: invokevirtual #65                 // Method org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.close:()V
     221: goto          273
     224: astore        6
     226: aload         6
     228: astore        5
     230: aload         6
     232: athrow
     233: astore        10
     235: aload         4
     237: ifnull        270
     240: aload         5
     242: ifnull        265
     245: aload         4
     247: invokevirtual #65                 // Method org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.close:()V
     250: goto          270
     253: astore        11
     255: aload         5
     257: aload         11
     259: invokevirtual #67                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     262: goto          270
     265: aload         4
     267: invokevirtual #65                 // Method org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.close:()V
     270: aload         10
     272: athrow
     273: return
    Exception table:
       from    to  target type
         196   201   204   Class java/lang/Throwable
          26   186   224   Class java/lang/Throwable
          26   186   233   any
         245   250   253   Class java/lang/Throwable
         224   235   233   any
}
