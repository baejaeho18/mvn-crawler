Compiled from "DataStreamer.java"
class org.apache.hadoop.hdfs.DataStreamer extends org.apache.hadoop.util.Daemon {
  static final org.slf4j.Logger LOG;

  private volatile boolean streamerClosed;

  protected final org.apache.hadoop.hdfs.DataStreamer$BlockToWrite block;

  protected org.apache.hadoop.security.token.Token<org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier> accessToken;

  private java.io.DataOutputStream blockStream;

  private java.io.DataInputStream blockReplyStream;

  private org.apache.hadoop.hdfs.DataStreamer$ResponseProcessor response;

  private volatile org.apache.hadoop.hdfs.protocol.DatanodeInfo[] nodes;

  private volatile org.apache.hadoop.fs.StorageType[] storageTypes;

  private volatile java.lang.String[] storageIDs;

  private final org.apache.hadoop.hdfs.DataStreamer$ErrorState errorState;

  private volatile org.apache.hadoop.hdfs.protocol.datatransfer.BlockConstructionStage stage;

  protected long bytesSent;

  private final boolean isLazyPersistFile;

  private long lastPacket;

  private final java.util.List<org.apache.hadoop.hdfs.protocol.DatanodeInfo> failed;

  private java.util.List<org.apache.hadoop.hdfs.protocol.DatanodeInfo> restartingNodes;

  private volatile int pipelineRecoveryCount;

  private boolean isHflushed;

  private final boolean isAppend;

  private long currentSeqno;

  private long lastQueuedSeqno;

  private long lastAckedSeqno;

  private long bytesCurBlock;

  private final org.apache.hadoop.hdfs.DataStreamer$LastExceptionInStreamer lastException;

  private java.net.Socket s;

  protected final org.apache.hadoop.hdfs.DFSClient dfsClient;

  protected final java.lang.String src;

  final org.apache.hadoop.util.DataChecksum checksum4WriteBlock;

  final org.apache.hadoop.util.Progressable progress;

  protected final org.apache.hadoop.hdfs.protocol.HdfsFileStatus stat;

  private volatile boolean appendChunk;

  protected final java.util.LinkedList<org.apache.hadoop.hdfs.DFSPacket> dataQueue;

  private final java.util.Map<java.lang.Long, java.lang.Long> packetSendTime;

  private final java.util.LinkedList<org.apache.hadoop.hdfs.DFSPacket> ackQueue;

  private final java.util.concurrent.atomic.AtomicReference<org.apache.hadoop.hdfs.server.datanode.CachingStrategy> cachingStrategy;

  private final org.apache.hadoop.hdfs.util.ByteArrayManager byteArrayManager;

  private final java.util.concurrent.atomic.AtomicBoolean persistBlocks;

  private boolean failPacket;

  private final long dfsclientSlowLogThresholdMs;

  private long artificialSlowdown;

  private final java.util.List<org.apache.hadoop.hdfs.protocol.DatanodeInfo> congestedNodes;

  private static final int CONGESTION_BACKOFF_MEAN_TIME_IN_MS;

  private static final int CONGESTION_BACK_OFF_MAX_TIME_IN_MS;

  private int lastCongestionBackoffTime;

  protected final com.google.common.cache.LoadingCache<org.apache.hadoop.hdfs.protocol.DatanodeInfo, org.apache.hadoop.hdfs.protocol.DatanodeInfo> excludedNodes;

  private final java.lang.String[] favoredNodes;

  private final java.util.EnumSet<org.apache.hadoop.hdfs.AddBlockFlag> addBlockFlags;

  static final boolean $assertionsDisabled;

  static java.net.Socket createSocketForPipeline(org.apache.hadoop.hdfs.protocol.DatanodeInfo, int, org.apache.hadoop.hdfs.DFSClient) throws java.io.IOException;
    Code:
       0: aload_2
       1: invokevirtual #14                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
       4: astore_3
       5: aload_0
       6: aload_3
       7: invokevirtual #15                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.isConnectToDnViaHostname:()Z
      10: invokevirtual #16                 // Method org/apache/hadoop/hdfs/protocol/DatanodeInfo.getXferAddr:(Z)Ljava/lang/String;
      13: astore        4
      15: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      18: ldc           #18                 // String Connecting to datanode {}
      20: aload         4
      22: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      27: aload         4
      29: invokestatic  #20                 // Method org/apache/hadoop/net/NetUtils.createSocketAddr:(Ljava/lang/String;)Ljava/net/InetSocketAddress;
      32: astore        5
      34: aload_2
      35: getfield      #21                 // Field org/apache/hadoop/hdfs/DFSClient.socketFactory:Ljavax/net/SocketFactory;
      38: invokevirtual #22                 // Method javax/net/SocketFactory.createSocket:()Ljava/net/Socket;
      41: astore        6
      43: aload_2
      44: iload_1
      45: invokevirtual #23                 // Method org/apache/hadoop/hdfs/DFSClient.getDatanodeReadTimeout:(I)I
      48: istore        7
      50: aload         6
      52: aload         5
      54: aload_2
      55: invokevirtual #24                 // Method org/apache/hadoop/hdfs/DFSClient.getRandomLocalInterfaceAddr:()Ljava/net/SocketAddress;
      58: aload_3
      59: invokevirtual #25                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getSocketTimeout:()I
      62: invokestatic  #26                 // Method org/apache/hadoop/net/NetUtils.connect:(Ljava/net/Socket;Ljava/net/SocketAddress;Ljava/net/SocketAddress;I)V
      65: aload         6
      67: aload_3
      68: invokevirtual #27                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getDataTransferTcpNoDelay:()Z
      71: invokevirtual #28                 // Method java/net/Socket.setTcpNoDelay:(Z)V
      74: aload         6
      76: iload         7
      78: invokevirtual #29                 // Method java/net/Socket.setSoTimeout:(I)V
      81: aload         6
      83: iconst_1
      84: invokevirtual #30                 // Method java/net/Socket.setKeepAlive:(Z)V
      87: aload_3
      88: invokevirtual #31                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getSocketSendBufferSize:()I
      91: ifle          103
      94: aload         6
      96: aload_3
      97: invokevirtual #31                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getSocketSendBufferSize:()I
     100: invokevirtual #32                 // Method java/net/Socket.setSendBufferSize:(I)V
     103: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     106: ldc           #33                 // String Send buf size {}
     108: aload         6
     110: invokevirtual #34                 // Method java/net/Socket.getSendBufferSize:()I
     113: invokestatic  #35                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     116: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     121: aload         6
     123: areturn

  static boolean isLazyPersist(org.apache.hadoop.hdfs.protocol.HdfsFileStatus);
    Code:
       0: aload_0
       1: invokeinterface #36,  1           // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getStoragePolicy:()B
       6: bipush        15
       8: if_icmpne     15
      11: iconst_1
      12: goto          16
      15: iconst_0
      16: ireturn

  private static void releaseBuffer(java.util.List<org.apache.hadoop.hdfs.DFSPacket>, org.apache.hadoop.hdfs.util.ByteArrayManager);
    Code:
       0: aload_0
       1: invokeinterface #38,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       6: astore_2
       7: aload_2
       8: invokeinterface #39,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      13: ifeq          34
      16: aload_2
      17: invokeinterface #40,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      22: checkcast     #41                 // class org/apache/hadoop/hdfs/DFSPacket
      25: astore_3
      26: aload_3
      27: aload_1
      28: invokevirtual #42                 // Method org/apache/hadoop/hdfs/DFSPacket.releaseBuffer:(Lorg/apache/hadoop/hdfs/util/ByteArrayManager;)V
      31: goto          7
      34: aload_0
      35: invokeinterface #43,  1           // InterfaceMethod java/util/List.clear:()V
      40: return

  private org.apache.hadoop.hdfs.DataStreamer(org.apache.hadoop.hdfs.protocol.HdfsFileStatus, org.apache.hadoop.hdfs.protocol.ExtendedBlock, org.apache.hadoop.hdfs.DFSClient, java.lang.String, org.apache.hadoop.util.Progressable, org.apache.hadoop.util.DataChecksum, java.util.concurrent.atomic.AtomicReference<org.apache.hadoop.hdfs.server.datanode.CachingStrategy>, org.apache.hadoop.hdfs.util.ByteArrayManager, boolean, java.lang.String[], java.util.EnumSet<org.apache.hadoop.hdfs.AddBlockFlag>);
    Code:
       0: aload_0
       1: invokespecial #44                 // Method org/apache/hadoop/util/Daemon."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #45                 // Field streamerClosed:Z
       9: aload_0
      10: aconst_null
      11: putfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      14: aload_0
      15: aconst_null
      16: putfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      19: aload_0
      20: aconst_null
      21: putfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
      24: aload_0
      25: aconst_null
      26: putfield      #49                 // Field storageIDs:[Ljava/lang/String;
      29: aload_0
      30: lconst_0
      31: putfield      #50                 // Field bytesSent:J
      34: aload_0
      35: new           #51                 // class java/util/ArrayList
      38: dup
      39: invokespecial #52                 // Method java/util/ArrayList."<init>":()V
      42: putfield      #53                 // Field failed:Ljava/util/List;
      45: aload_0
      46: new           #51                 // class java/util/ArrayList
      49: dup
      50: invokespecial #52                 // Method java/util/ArrayList."<init>":()V
      53: putfield      #54                 // Field restartingNodes:Ljava/util/List;
      56: aload_0
      57: iconst_0
      58: putfield      #4                  // Field pipelineRecoveryCount:I
      61: aload_0
      62: iconst_0
      63: putfield      #55                 // Field isHflushed:Z
      66: aload_0
      67: lconst_0
      68: putfield      #56                 // Field currentSeqno:J
      71: aload_0
      72: ldc2_w        #57                 // long -1l
      75: putfield      #59                 // Field lastQueuedSeqno:J
      78: aload_0
      79: ldc2_w        #57                 // long -1l
      82: putfield      #5                  // Field lastAckedSeqno:J
      85: aload_0
      86: lconst_0
      87: putfield      #60                 // Field bytesCurBlock:J
      90: aload_0
      91: new           #61                 // class org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer
      94: dup
      95: aload_0
      96: invokespecial #62                 // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer."<init>":(Lorg/apache/hadoop/hdfs/DataStreamer;)V
      99: putfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     102: aload_0
     103: iconst_0
     104: putfield      #63                 // Field appendChunk:Z
     107: aload_0
     108: new           #64                 // class java/util/LinkedList
     111: dup
     112: invokespecial #65                 // Method java/util/LinkedList."<init>":()V
     115: putfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     118: aload_0
     119: new           #67                 // class java/util/HashMap
     122: dup
     123: invokespecial #68                 // Method java/util/HashMap."<init>":()V
     126: putfield      #12                 // Field packetSendTime:Ljava/util/Map;
     129: aload_0
     130: new           #64                 // class java/util/LinkedList
     133: dup
     134: invokespecial #65                 // Method java/util/LinkedList."<init>":()V
     137: putfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
     140: aload_0
     141: new           #69                 // class java/util/concurrent/atomic/AtomicBoolean
     144: dup
     145: iconst_0
     146: invokespecial #70                 // Method java/util/concurrent/atomic/AtomicBoolean."<init>":(Z)V
     149: putfield      #71                 // Field persistBlocks:Ljava/util/concurrent/atomic/AtomicBoolean;
     152: aload_0
     153: iconst_0
     154: putfield      #6                  // Field failPacket:Z
     157: aload_0
     158: lconst_0
     159: putfield      #72                 // Field artificialSlowdown:J
     162: aload_0
     163: new           #51                 // class java/util/ArrayList
     166: dup
     167: invokespecial #52                 // Method java/util/ArrayList."<init>":()V
     170: putfield      #9                  // Field congestedNodes:Ljava/util/List;
     173: aload_0
     174: new           #73                 // class org/apache/hadoop/hdfs/DataStreamer$BlockToWrite
     177: dup
     178: aload_2
     179: invokespecial #74                 // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite."<init>":(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;)V
     182: putfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     185: aload_0
     186: aload_3
     187: putfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     190: aload_0
     191: aload         4
     193: putfield      #77                 // Field src:Ljava/lang/String;
     196: aload_0
     197: aload         5
     199: putfield      #78                 // Field progress:Lorg/apache/hadoop/util/Progressable;
     202: aload_0
     203: aload_1
     204: putfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
     207: aload_0
     208: aload         6
     210: putfield      #80                 // Field checksum4WriteBlock:Lorg/apache/hadoop/util/DataChecksum;
     213: aload_0
     214: aload         7
     216: putfield      #81                 // Field cachingStrategy:Ljava/util/concurrent/atomic/AtomicReference;
     219: aload_0
     220: aload         8
     222: putfield      #3                  // Field byteArrayManager:Lorg/apache/hadoop/hdfs/util/ByteArrayManager;
     225: aload_0
     226: aload_1
     227: invokestatic  #82                 // Method isLazyPersist:(Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;)Z
     230: putfield      #83                 // Field isLazyPersistFile:Z
     233: aload_0
     234: iload         9
     236: putfield      #84                 // Field isAppend:Z
     239: aload_0
     240: aload         10
     242: putfield      #85                 // Field favoredNodes:[Ljava/lang/String;
     245: aload_3
     246: invokevirtual #14                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
     249: astore        12
     251: aload_0
     252: aload         12
     254: invokevirtual #86                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getSlowIoWarningThresholdMs:()J
     257: putfield      #11                 // Field dfsclientSlowLogThresholdMs:J
     260: aload_0
     261: aload         12
     263: invokevirtual #87                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getExcludedNodesCacheExpiry:()J
     266: invokestatic  #88                 // Method initExcludedNodes:(J)Lcom/google/common/cache/LoadingCache;
     269: putfield      #89                 // Field excludedNodes:Lcom/google/common/cache/LoadingCache;
     272: aload_0
     273: new           #90                 // class org/apache/hadoop/hdfs/DataStreamer$ErrorState
     276: dup
     277: aload         12
     279: invokevirtual #91                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getDatanodeRestartTimeout:()J
     282: invokespecial #92                 // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState."<init>":(J)V
     285: putfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     288: aload_0
     289: aload         11
     291: putfield      #93                 // Field addBlockFlags:Ljava/util/EnumSet;
     294: return

  org.apache.hadoop.hdfs.DataStreamer(org.apache.hadoop.hdfs.protocol.HdfsFileStatus, org.apache.hadoop.hdfs.protocol.ExtendedBlock, org.apache.hadoop.hdfs.DFSClient, java.lang.String, org.apache.hadoop.util.Progressable, org.apache.hadoop.util.DataChecksum, java.util.concurrent.atomic.AtomicReference<org.apache.hadoop.hdfs.server.datanode.CachingStrategy>, org.apache.hadoop.hdfs.util.ByteArrayManager, java.lang.String[], java.util.EnumSet<org.apache.hadoop.hdfs.AddBlockFlag>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: aload         4
       6: aload         5
       8: aload         6
      10: aload         7
      12: aload         8
      14: iconst_0
      15: aload         9
      17: aload         10
      19: invokespecial #94                 // Method "<init>":(Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;Lorg/apache/hadoop/hdfs/DFSClient;Ljava/lang/String;Lorg/apache/hadoop/util/Progressable;Lorg/apache/hadoop/util/DataChecksum;Ljava/util/concurrent/atomic/AtomicReference;Lorg/apache/hadoop/hdfs/util/ByteArrayManager;Z[Ljava/lang/String;Ljava/util/EnumSet;)V
      22: aload_0
      23: getstatic     #95                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_SETUP_CREATE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      26: putfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      29: return

  org.apache.hadoop.hdfs.DataStreamer(org.apache.hadoop.hdfs.protocol.LocatedBlock, org.apache.hadoop.hdfs.protocol.HdfsFileStatus, org.apache.hadoop.hdfs.DFSClient, java.lang.String, org.apache.hadoop.util.Progressable, org.apache.hadoop.util.DataChecksum, java.util.concurrent.atomic.AtomicReference<org.apache.hadoop.hdfs.server.datanode.CachingStrategy>, org.apache.hadoop.hdfs.util.ByteArrayManager);
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokevirtual #97                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
       6: aload_3
       7: aload         4
       9: aload         5
      11: aload         6
      13: aload         7
      15: aload         8
      17: iconst_1
      18: aconst_null
      19: aconst_null
      20: invokespecial #94                 // Method "<init>":(Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;Lorg/apache/hadoop/hdfs/DFSClient;Ljava/lang/String;Lorg/apache/hadoop/util/Progressable;Lorg/apache/hadoop/util/DataChecksum;Ljava/util/concurrent/atomic/AtomicReference;Lorg/apache/hadoop/hdfs/util/ByteArrayManager;Z[Ljava/lang/String;Ljava/util/EnumSet;)V
      23: aload_0
      24: getstatic     #98                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_SETUP_APPEND:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      27: putfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      30: aload_0
      31: aload_0
      32: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      35: invokevirtual #99                 // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getNumBytes:()J
      38: putfield      #50                 // Field bytesSent:J
      41: aload_0
      42: aload_1
      43: invokevirtual #100                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlockToken:()Lorg/apache/hadoop/security/token/Token;
      46: putfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
      49: return

  void setPipelineInConstruction(org.apache.hadoop.hdfs.protocol.LocatedBlock) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #102                // Method setPipeline:(Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;)V
       5: aload_0
       6: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       9: arraylength
      10: iconst_1
      11: if_icmpge     56
      14: new           #103                // class java/io/IOException
      17: dup
      18: new           #104                // class java/lang/StringBuilder
      21: dup
      22: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      25: ldc           #106                // String Unable to retrieve blocks locations  for last block
      27: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      30: aload_0
      31: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      34: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      37: ldc           #109                // String  of file
      39: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: getfield      #77                 // Field src:Ljava/lang/String;
      46: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      52: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      55: athrow
      56: return

  void setAccessToken(org.apache.hadoop.security.token.Token<org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
       5: return

  private void setPipeline(org.apache.hadoop.hdfs.protocol.LocatedBlock);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #112                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getLocations:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       5: aload_1
       6: invokevirtual #113                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getStorageTypes:()[Lorg/apache/hadoop/fs/StorageType;
       9: aload_1
      10: invokevirtual #114                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getStorageIDs:()[Ljava/lang/String;
      13: invokespecial #115                // Method setPipeline:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;)V
      16: return

  private void setPipeline(org.apache.hadoop.hdfs.protocol.DatanodeInfo[], org.apache.hadoop.fs.StorageType[], java.lang.String[]);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       5: aload_0
       6: aload_2
       7: putfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
      10: aload_0
      11: aload_3
      12: putfield      #49                 // Field storageIDs:[Ljava/lang/String;
      15: return

  private void initDataStreaming();
    Code:
       0: aload_0
       1: new           #104                // class java/lang/StringBuilder
       4: dup
       5: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #116                // String DataStreamer for file
      10: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_0
      14: getfield      #77                 // Field src:Ljava/lang/String;
      17: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      20: ldc           #117                // String  block
      22: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_0
      26: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      29: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      32: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      35: invokevirtual #118                // Method setName:(Ljava/lang/String;)V
      38: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      41: invokeinterface #119,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      46: ifeq          93
      49: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      52: ldc           #120                // String nodes {} storageTypes {} storageIDs {}
      54: iconst_3
      55: anewarray     #121                // class java/lang/Object
      58: dup
      59: iconst_0
      60: aload_0
      61: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      64: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      67: aastore
      68: dup
      69: iconst_1
      70: aload_0
      71: getfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
      74: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      77: aastore
      78: dup
      79: iconst_2
      80: aload_0
      81: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
      84: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      87: aastore
      88: invokeinterface #123,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      93: aload_0
      94: new           #124                // class org/apache/hadoop/hdfs/DataStreamer$ResponseProcessor
      97: dup
      98: aload_0
      99: aload_0
     100: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     103: invokespecial #125                // Method org/apache/hadoop/hdfs/DataStreamer$ResponseProcessor."<init>":(Lorg/apache/hadoop/hdfs/DataStreamer;[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;)V
     106: putfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
     109: aload_0
     110: getfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
     113: invokevirtual #126                // Method org/apache/hadoop/hdfs/DataStreamer$ResponseProcessor.start:()V
     116: aload_0
     117: getstatic     #127                // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.DATA_STREAMING:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     120: putfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     123: aload_0
     124: invokestatic  #128                // Method org/apache/hadoop/util/Time.monotonicNow:()J
     127: putfield      #129                // Field lastPacket:J
     130: return

  protected void endBlock();
    Code:
       0: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
       3: ldc           #130                // String Closing old block {}
       5: aload_0
       6: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
       9: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      14: aload_0
      15: new           #104                // class java/lang/StringBuilder
      18: dup
      19: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      22: ldc           #116                // String DataStreamer for file
      24: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      27: aload_0
      28: getfield      #77                 // Field src:Ljava/lang/String;
      31: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      34: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      37: invokevirtual #118                // Method setName:(Ljava/lang/String;)V
      40: aload_0
      41: invokespecial #131                // Method closeResponder:()V
      44: aload_0
      45: invokevirtual #132                // Method closeStream:()V
      48: aload_0
      49: aconst_null
      50: aconst_null
      51: aconst_null
      52: invokespecial #115                // Method setPipeline:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;)V
      55: aload_0
      56: getstatic     #95                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_SETUP_CREATE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      59: putfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      62: return

  private boolean shouldStop();
    Code:
       0: aload_0
       1: getfield      #45                 // Field streamerClosed:Z
       4: ifne          27
       7: aload_0
       8: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      11: invokevirtual #133                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.hasError:()Z
      14: ifne          27
      17: aload_0
      18: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      21: getfield      #134                // Field org/apache/hadoop/hdfs/DFSClient.clientRunning:Z
      24: ifne          31
      27: iconst_1
      28: goto          32
      31: iconst_0
      32: ireturn

  public void run();
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #45                 // Field streamerClosed:Z
       6: ifne          979
       9: aload_0
      10: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      13: getfield      #134                // Field org/apache/hadoop/hdfs/DFSClient.clientRunning:Z
      16: ifeq          979
      19: aload_0
      20: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      23: invokevirtual #133                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.hasError:()Z
      26: ifeq          33
      29: aload_0
      30: invokespecial #131                // Method closeResponder:()V
      33: aload_0
      34: invokespecial #135                // Method processDatanodeOrExternalError:()Z
      37: istore_3
      38: aload_0
      39: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      42: dup
      43: astore        4
      45: monitorenter
      46: aload_0
      47: invokespecial #136                // Method shouldStop:()Z
      50: ifne          63
      53: aload_0
      54: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      57: invokevirtual #137                // Method java/util/LinkedList.isEmpty:()Z
      60: ifne          67
      63: iload_3
      64: ifeq          119
      67: ldc2_w        #138                // long 1000l
      70: lstore        5
      72: aload_0
      73: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      76: getstatic     #127                // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.DATA_STREAMING:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      79: if_acmpne     88
      82: aload_0
      83: invokespecial #140                // Method sendHeartbeat:()J
      86: lstore        5
      88: aload_0
      89: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      92: lload         5
      94: invokevirtual #141                // Method java/lang/Object.wait:(J)V
      97: goto          114
     100: astore        7
     102: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     105: ldc           #143                // String Thread interrupted
     107: aload         7
     109: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     114: iconst_0
     115: istore_3
     116: goto          46
     119: aload_0
     120: invokespecial #136                // Method shouldStop:()Z
     123: ifeq          142
     126: aload         4
     128: monitorexit
     129: aload_1
     130: ifnull        2
     133: aload_1
     134: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     137: aconst_null
     138: astore_1
     139: goto          2
     142: aload_0
     143: invokespecial #146                // Method backOffIfNecessary:()V
     146: goto          163
     149: astore        5
     151: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     154: ldc           #143                // String Thread interrupted
     156: aload         5
     158: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     163: aload_0
     164: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     167: invokevirtual #147                // Method java/util/LinkedList.getFirst:()Ljava/lang/Object;
     170: checkcast     #41                 // class org/apache/hadoop/hdfs/DFSPacket
     173: astore_2
     174: aload_2
     175: invokevirtual #148                // Method org/apache/hadoop/hdfs/DFSPacket.getTraceParents:()[Lorg/apache/htrace/core/SpanId;
     178: astore        5
     180: aload         5
     182: arraylength
     183: ifle          214
     186: aload_0
     187: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     190: invokevirtual #149                // Method org/apache/hadoop/hdfs/DFSClient.getTracer:()Lorg/apache/htrace/core/Tracer;
     193: ldc           #150                // String dataStreamer
     195: aload         5
     197: iconst_0
     198: aaload
     199: invokevirtual #151                // Method org/apache/htrace/core/Tracer.newScope:(Ljava/lang/String;Lorg/apache/htrace/core/SpanId;)Lorg/apache/htrace/core/TraceScope;
     202: astore_1
     203: aload_1
     204: invokevirtual #152                // Method org/apache/htrace/core/TraceScope.getSpan:()Lorg/apache/htrace/core/Span;
     207: aload         5
     209: invokeinterface #153,  2          // InterfaceMethod org/apache/htrace/core/Span.setParents:([Lorg/apache/htrace/core/SpanId;)V
     214: aload         4
     216: monitorexit
     217: goto          228
     220: astore        8
     222: aload         4
     224: monitorexit
     225: aload         8
     227: athrow
     228: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     231: ldc           #154                // String stage={}, {}
     233: aload_0
     234: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     237: aload_0
     238: invokeinterface #155,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     243: aload_0
     244: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     247: getstatic     #95                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_SETUP_CREATE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     250: if_acmpne     279
     253: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     256: ldc           #156                // String Allocating new block: {}
     258: aload_0
     259: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     264: aload_0
     265: aload_0
     266: invokevirtual #157                // Method nextBlockOutputStream:()Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;
     269: invokespecial #102                // Method setPipeline:(Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;)V
     272: aload_0
     273: invokespecial #158                // Method initDataStreaming:()V
     276: goto          331
     279: aload_0
     280: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     283: getstatic     #98                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_SETUP_APPEND:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     286: if_acmpne     331
     289: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     292: ldc           #159                // String Append to block {}
     294: aload_0
     295: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     298: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     303: aload_0
     304: invokespecial #160                // Method setupPipelineForAppendOrRecovery:()V
     307: aload_0
     308: getfield      #45                 // Field streamerClosed:Z
     311: ifeq          327
     314: aload_1
     315: ifnull        2
     318: aload_1
     319: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     322: aconst_null
     323: astore_1
     324: goto          2
     327: aload_0
     328: invokespecial #158                // Method initDataStreaming:()V
     331: aload_2
     332: invokevirtual #161                // Method org/apache/hadoop/hdfs/DFSPacket.getLastByteOffsetBlock:()J
     335: lstore        4
     337: lload         4
     339: aload_0
     340: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
     343: invokeinterface #162,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getBlockSize:()J
     348: lcmp
     349: ifle          405
     352: new           #103                // class java/io/IOException
     355: dup
     356: new           #104                // class java/lang/StringBuilder
     359: dup
     360: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     363: ldc           #163                // String BlockSize
     365: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     368: aload_0
     369: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
     372: invokeinterface #162,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getBlockSize:()J
     377: invokevirtual #164                // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     380: ldc           #165                // String  < lastByteOffsetInBlock,
     382: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     385: aload_0
     386: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     389: ldc           #166                // String ,
     391: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     394: aload_2
     395: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     398: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     401: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     404: athrow
     405: aload_2
     406: invokevirtual #167                // Method org/apache/hadoop/hdfs/DFSPacket.isLastPacketInBlock:()Z
     409: ifeq          443
     412: aload_0
     413: invokespecial #168                // Method waitForAllAcks:()V
     416: aload_0
     417: invokespecial #136                // Method shouldStop:()Z
     420: ifeq          436
     423: aload_1
     424: ifnull        2
     427: aload_1
     428: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     431: aconst_null
     432: astore_1
     433: goto          2
     436: aload_0
     437: getstatic     #169                // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_CLOSE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     440: putfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     443: getstatic     #170                // Field org/apache/htrace/core/SpanId.INVALID:Lorg/apache/htrace/core/SpanId;
     446: astore        6
     448: aload_0
     449: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     452: dup
     453: astore        7
     455: monitorenter
     456: aload_2
     457: invokevirtual #171                // Method org/apache/hadoop/hdfs/DFSPacket.isHeartbeatPacket:()Z
     460: ifne          530
     463: aload_1
     464: ifnull        482
     467: aload_1
     468: invokevirtual #172                // Method org/apache/htrace/core/TraceScope.getSpanId:()Lorg/apache/htrace/core/SpanId;
     471: astore        6
     473: aload_1
     474: invokevirtual #173                // Method org/apache/htrace/core/TraceScope.detach:()V
     477: aload_2
     478: aload_1
     479: invokevirtual #174                // Method org/apache/hadoop/hdfs/DFSPacket.setTraceScope:(Lorg/apache/htrace/core/TraceScope;)V
     482: aconst_null
     483: astore_1
     484: aload_0
     485: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     488: invokevirtual #175                // Method java/util/LinkedList.removeFirst:()Ljava/lang/Object;
     491: pop
     492: aload_0
     493: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
     496: aload_2
     497: invokevirtual #176                // Method java/util/LinkedList.addLast:(Ljava/lang/Object;)V
     500: aload_0
     501: getfield      #12                 // Field packetSendTime:Ljava/util/Map;
     504: aload_2
     505: invokevirtual #177                // Method org/apache/hadoop/hdfs/DFSPacket.getSeqno:()J
     508: invokestatic  #178                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     511: invokestatic  #128                // Method org/apache/hadoop/util/Time.monotonicNow:()J
     514: invokestatic  #178                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     517: invokeinterface #179,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     522: pop
     523: aload_0
     524: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     527: invokevirtual #180                // Method java/lang/Object.notifyAll:()V
     530: aload         7
     532: monitorexit
     533: goto          544
     536: astore        9
     538: aload         7
     540: monitorexit
     541: aload         9
     543: athrow
     544: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     547: ldc           #181                // String {} sending {}
     549: aload_0
     550: aload_2
     551: invokeinterface #155,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     556: aload_0
     557: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     560: invokevirtual #149                // Method org/apache/hadoop/hdfs/DFSClient.getTracer:()Lorg/apache/htrace/core/Tracer;
     563: ldc           #182                // String DataStreamer#writeTo
     565: aload         6
     567: invokevirtual #151                // Method org/apache/htrace/core/Tracer.newScope:(Ljava/lang/String;Lorg/apache/htrace/core/SpanId;)Lorg/apache/htrace/core/TraceScope;
     570: astore        7
     572: aconst_null
     573: astore        8
     575: aload_0
     576: aload_2
     577: invokespecial #183                // Method sendPacket:(Lorg/apache/hadoop/hdfs/DFSPacket;)V
     580: aload         7
     582: ifnull        667
     585: aload         8
     587: ifnull        610
     590: aload         7
     592: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     595: goto          667
     598: astore        9
     600: aload         8
     602: aload         9
     604: invokevirtual #185                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     607: goto          667
     610: aload         7
     612: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     615: goto          667
     618: astore        9
     620: aload         9
     622: astore        8
     624: aload         9
     626: athrow
     627: astore        10
     629: aload         7
     631: ifnull        664
     634: aload         8
     636: ifnull        659
     639: aload         7
     641: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     644: goto          664
     647: astore        11
     649: aload         8
     651: aload         11
     653: invokevirtual #185                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     656: goto          664
     659: aload         7
     661: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     664: aload         10
     666: athrow
     667: goto          682
     670: astore        7
     672: aload_0
     673: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     676: invokevirtual #186                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.markFirstNodeIfNotMarked:()V
     679: aload         7
     681: athrow
     682: aload_2
     683: invokevirtual #161                // Method org/apache/hadoop/hdfs/DFSPacket.getLastByteOffsetBlock:()J
     686: lstore        7
     688: aload_0
     689: getfield      #50                 // Field bytesSent:J
     692: lload         7
     694: lcmp
     695: ifge          704
     698: aload_0
     699: lload         7
     701: putfield      #50                 // Field bytesSent:J
     704: aload_0
     705: invokespecial #136                // Method shouldStop:()Z
     708: ifeq          724
     711: aload_1
     712: ifnull        2
     715: aload_1
     716: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     719: aconst_null
     720: astore_1
     721: goto          2
     724: aload_2
     725: invokevirtual #167                // Method org/apache/hadoop/hdfs/DFSPacket.isLastPacketInBlock:()Z
     728: ifeq          799
     731: aload_0
     732: invokespecial #168                // Method waitForAllAcks:()V
     735: goto          775
     738: astore        9
     740: aload_0
     741: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     744: dup
     745: astore        10
     747: monitorenter
     748: aload_0
     749: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
     752: invokevirtual #137                // Method java/util/LinkedList.isEmpty:()Z
     755: ifne          761
     758: aload         9
     760: athrow
     761: aload         10
     763: monitorexit
     764: goto          775
     767: astore        12
     769: aload         10
     771: monitorexit
     772: aload         12
     774: athrow
     775: aload_0
     776: invokespecial #136                // Method shouldStop:()Z
     779: ifeq          795
     782: aload_1
     783: ifnull        2
     786: aload_1
     787: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     790: aconst_null
     791: astore_1
     792: goto          2
     795: aload_0
     796: invokevirtual #187                // Method endBlock:()V
     799: aload_0
     800: getfield      #78                 // Field progress:Lorg/apache/hadoop/util/Progressable;
     803: ifnull        815
     806: aload_0
     807: getfield      #78                 // Field progress:Lorg/apache/hadoop/util/Progressable;
     810: invokeinterface #188,  1          // InterfaceMethod org/apache/hadoop/util/Progressable.progress:()V
     815: aload_0
     816: getfield      #72                 // Field artificialSlowdown:J
     819: lconst_0
     820: lcmp
     821: ifeq          841
     824: aload_0
     825: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     828: getfield      #134                // Field org/apache/hadoop/hdfs/DFSClient.clientRunning:Z
     831: ifeq          841
     834: aload_0
     835: getfield      #72                 // Field artificialSlowdown:J
     838: invokestatic  #189                // Method java/lang/Thread.sleep:(J)V
     841: aload_1
     842: ifnull        976
     845: aload_1
     846: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     849: aconst_null
     850: astore_1
     851: goto          976
     854: astore_3
     855: aload_0
     856: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     859: invokevirtual #190                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.isRestartingNode:()Z
     862: ifne          897
     865: aload_3
     866: instanceof    #191                // class org/apache/hadoop/hdfs/protocol/QuotaExceededException
     869: ifeq          886
     872: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     875: ldc           #192                // String DataStreamer Quota Exception
     877: aload_3
     878: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     883: goto          897
     886: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     889: ldc           #193                // String DataStreamer Exception
     891: aload_3
     892: invokeinterface #194,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     897: aload_0
     898: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     901: aload_3
     902: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
     905: getstatic     #196                // Field $assertionsDisabled:Z
     908: ifne          926
     911: aload_3
     912: instanceof    #197                // class java/lang/NullPointerException
     915: ifeq          926
     918: new           #198                // class java/lang/AssertionError
     921: dup
     922: invokespecial #199                // Method java/lang/AssertionError."<init>":()V
     925: athrow
     926: aload_0
     927: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     930: invokevirtual #200                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.setInternalError:()V
     933: aload_0
     934: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     937: invokevirtual #201                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.isNodeMarked:()Z
     940: ifne          948
     943: aload_0
     944: iconst_1
     945: putfield      #45                 // Field streamerClosed:Z
     948: aload_1
     949: ifnull        976
     952: aload_1
     953: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     956: aconst_null
     957: astore_1
     958: goto          976
     961: astore        13
     963: aload_1
     964: ifnull        973
     967: aload_1
     968: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     971: aconst_null
     972: astore_1
     973: aload         13
     975: athrow
     976: goto          2
     979: aload_0
     980: invokespecial #202                // Method closeInternal:()V
     983: return
    Exception table:
       from    to  target type
          88    97   100   Class java/lang/InterruptedException
         142   146   149   Class java/lang/InterruptedException
          46   129   220   any
         142   217   220   any
         220   225   220   any
         456   533   536   any
         536   541   536   any
         590   595   598   Class java/lang/Throwable
         575   580   618   Class java/lang/Throwable
         575   580   627   any
         639   644   647   Class java/lang/Throwable
         618   629   627   any
         556   667   670   Class java/io/IOException
         731   735   738   Class java/io/IOException
         748   764   767   any
         767   772   767   any
          33   129   854   Class java/lang/Throwable
         142   314   854   Class java/lang/Throwable
         327   423   854   Class java/lang/Throwable
         436   711   854   Class java/lang/Throwable
         724   782   854   Class java/lang/Throwable
         795   841   854   Class java/lang/Throwable
          33   129   961   any
         142   314   961   any
         327   423   961   any
         436   711   961   any
         724   782   961   any
         795   841   961   any
         854   948   961   any
         961   963   961   any

  private void waitForAllAcks() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: invokespecial #136                // Method shouldStop:()Z
      11: ifne          53
      14: aload_0
      15: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
      18: invokevirtual #137                // Method java/util/LinkedList.isEmpty:()Z
      21: ifne          53
      24: aload_0
      25: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      28: aload_0
      29: invokespecial #140                // Method sendHeartbeat:()J
      32: invokevirtual #141                // Method java/lang/Object.wait:(J)V
      35: goto          7
      38: astore_2
      39: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      42: ldc           #203                // String Thread interrupted
      44: aload_2
      45: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      50: goto          7
      53: aload_1
      54: monitorexit
      55: goto          63
      58: astore_3
      59: aload_1
      60: monitorexit
      61: aload_3
      62: athrow
      63: return
    Exception table:
       from    to  target type
          24    35    38   Class java/lang/InterruptedException
           7    55    58   any
          58    61    58   any

  private void sendPacket(org.apache.hadoop.hdfs.DFSPacket) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
       5: invokevirtual #205                // Method org/apache/hadoop/hdfs/DFSPacket.writeTo:(Ljava/io/DataOutputStream;)V
       8: aload_0
       9: getfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      12: invokevirtual #206                // Method java/io/DataOutputStream.flush:()V
      15: goto          28
      18: astore_2
      19: aload_0
      20: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      23: invokevirtual #186                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.markFirstNodeIfNotMarked:()V
      26: aload_2
      27: athrow
      28: aload_0
      29: invokestatic  #128                // Method org/apache/hadoop/util/Time.monotonicNow:()J
      32: putfield      #129                // Field lastPacket:J
      35: return
    Exception table:
       from    to  target type
           0    15    18   Class java/io/IOException

  private long sendHeartbeat() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       4: invokevirtual #14                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
       7: invokevirtual #25                 // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getSocketTimeout:()I
      10: iconst_2
      11: idiv
      12: i2l
      13: lstore_1
      14: lload_1
      15: invokestatic  #128                // Method org/apache/hadoop/util/Time.monotonicNow:()J
      18: aload_0
      19: getfield      #129                // Field lastPacket:J
      22: lsub
      23: lsub
      24: lstore_3
      25: lload_3
      26: lconst_0
      27: lcmp
      28: ifgt          41
      31: aload_0
      32: aload_0
      33: invokespecial #207                // Method createHeartbeatPacket:()Lorg/apache/hadoop/hdfs/DFSPacket;
      36: invokespecial #183                // Method sendPacket:(Lorg/apache/hadoop/hdfs/DFSPacket;)V
      39: lload_1
      40: lstore_3
      41: lload_3
      42: lreturn

  private void closeInternal();
    Code:
       0: aload_0
       1: invokespecial #131                // Method closeResponder:()V
       4: aload_0
       5: invokevirtual #132                // Method closeStream:()V
       8: aload_0
       9: iconst_1
      10: putfield      #45                 // Field streamerClosed:Z
      13: aload_0
      14: invokevirtual #208                // Method release:()V
      17: aload_0
      18: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      21: dup
      22: astore_1
      23: monitorenter
      24: aload_0
      25: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      28: invokevirtual #180                // Method java/lang/Object.notifyAll:()V
      31: aload_1
      32: monitorexit
      33: goto          41
      36: astore_2
      37: aload_1
      38: monitorexit
      39: aload_2
      40: athrow
      41: return
    Exception table:
       from    to  target type
          24    33    36   any
          36    39    36   any

  void release();
    Code:
       0: aload_0
       1: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
       4: dup
       5: astore_1
       6: monitorenter
       7: aload_0
       8: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      11: aload_0
      12: getfield      #3                  // Field byteArrayManager:Lorg/apache/hadoop/hdfs/util/ByteArrayManager;
      15: invokestatic  #209                // Method releaseBuffer:(Ljava/util/List;Lorg/apache/hadoop/hdfs/util/ByteArrayManager;)V
      18: aload_0
      19: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
      22: aload_0
      23: getfield      #3                  // Field byteArrayManager:Lorg/apache/hadoop/hdfs/util/ByteArrayManager;
      26: invokestatic  #209                // Method releaseBuffer:(Ljava/util/List;Lorg/apache/hadoop/hdfs/util/ByteArrayManager;)V
      29: aload_1
      30: monitorexit
      31: goto          39
      34: astore_2
      35: aload_1
      36: monitorexit
      37: aload_2
      38: athrow
      39: return
    Exception table:
       from    to  target type
           7    31    34   any
          34    37    34   any

  void waitForAckedSeqno(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       4: invokevirtual #149                // Method org/apache/hadoop/hdfs/DFSClient.getTracer:()Lorg/apache/htrace/core/Tracer;
       7: ldc           #210                // String waitForAckedSeqno
       9: invokevirtual #211                // Method org/apache/htrace/core/Tracer.newScope:(Ljava/lang/String;)Lorg/apache/htrace/core/TraceScope;
      12: astore_3
      13: aconst_null
      14: astore        4
      16: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      19: ldc           #212                // String {} waiting for ack for: {}
      21: aload_0
      22: lload_1
      23: invokestatic  #178                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      26: invokeinterface #155,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      31: invokestatic  #128                // Method org/apache/hadoop/util/Time.monotonicNow:()J
      34: lstore        5
      36: aload_0
      37: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      40: dup
      41: astore        7
      43: monitorenter
      44: aload_0
      45: getfield      #45                 // Field streamerClosed:Z
      48: ifne          92
      51: aload_0
      52: invokespecial #213                // Method checkClosed:()V
      55: aload_0
      56: getfield      #5                  // Field lastAckedSeqno:J
      59: lload_1
      60: lcmp
      61: iflt          67
      64: goto          92
      67: aload_0
      68: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      71: ldc2_w        #138                // long 1000l
      74: invokevirtual #141                // Method java/lang/Object.wait:(J)V
      77: goto          44
      80: astore        8
      82: new           #214                // class java/io/InterruptedIOException
      85: dup
      86: ldc           #215                // String Interrupted while waiting for data to be acknowledged by pipeline
      88: invokespecial #216                // Method java/io/InterruptedIOException."<init>":(Ljava/lang/String;)V
      91: athrow
      92: aload         7
      94: monitorexit
      95: goto          106
      98: astore        9
     100: aload         7
     102: monitorexit
     103: aload         9
     105: athrow
     106: aload_0
     107: invokespecial #213                // Method checkClosed:()V
     110: goto          127
     113: astore        7
     115: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     118: ldc           #218                // String Closed channel exception
     120: aload         7
     122: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     127: invokestatic  #128                // Method org/apache/hadoop/util/Time.monotonicNow:()J
     130: lload         5
     132: lsub
     133: lstore        7
     135: lload         7
     137: aload_0
     138: getfield      #11                 // Field dfsclientSlowLogThresholdMs:J
     141: lcmp
     142: ifle          198
     145: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     148: ldc           #219                // String Slow waitForAckedSeqno took {}ms (threshold={}ms). File being written: {}, block: {}, Write pipeline datanodes: {}.
     150: iconst_5
     151: anewarray     #121                // class java/lang/Object
     154: dup
     155: iconst_0
     156: lload         7
     158: invokestatic  #178                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     161: aastore
     162: dup
     163: iconst_1
     164: aload_0
     165: getfield      #11                 // Field dfsclientSlowLogThresholdMs:J
     168: invokestatic  #178                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     171: aastore
     172: dup
     173: iconst_2
     174: aload_0
     175: getfield      #77                 // Field src:Ljava/lang/String;
     178: aastore
     179: dup
     180: iconst_3
     181: aload_0
     182: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     185: aastore
     186: dup
     187: iconst_4
     188: aload_0
     189: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     192: aastore
     193: invokeinterface #220,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;[Ljava/lang/Object;)V
     198: aload_3
     199: ifnull        279
     202: aload         4
     204: ifnull        226
     207: aload_3
     208: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     211: goto          279
     214: astore        5
     216: aload         4
     218: aload         5
     220: invokevirtual #185                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     223: goto          279
     226: aload_3
     227: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     230: goto          279
     233: astore        5
     235: aload         5
     237: astore        4
     239: aload         5
     241: athrow
     242: astore        10
     244: aload_3
     245: ifnull        276
     248: aload         4
     250: ifnull        272
     253: aload_3
     254: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     257: goto          276
     260: astore        11
     262: aload         4
     264: aload         11
     266: invokevirtual #185                // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     269: goto          276
     272: aload_3
     273: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     276: aload         10
     278: athrow
     279: return
    Exception table:
       from    to  target type
          67    77    80   Class java/lang/InterruptedException
          44    95    98   any
          98   103    98   any
          36   110   113   Class java/nio/channels/ClosedChannelException
         207   211   214   Class java/lang/Throwable
          16   198   233   Class java/lang/Throwable
          16   198   242   any
         253   257   260   Class java/lang/Throwable
         233   244   242   any

  void waitAndQueuePacket(org.apache.hadoop.hdfs.DFSPacket) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
       4: dup
       5: astore_2
       6: monitorenter
       7: iconst_1
       8: istore_3
       9: aload_0
      10: getfield      #45                 // Field streamerClosed:Z
      13: ifne          90
      16: aload_0
      17: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      20: invokevirtual #221                // Method java/util/LinkedList.size:()I
      23: aload_0
      24: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
      27: invokevirtual #221                // Method java/util/LinkedList.size:()I
      30: iadd
      31: aload_0
      32: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      35: invokevirtual #14                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
      38: invokevirtual #222                // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getWriteMaxPackets:()I
      41: if_icmple     90
      44: iload_3
      45: ifeq          69
      48: invokestatic  #223                // Method org/apache/htrace/core/Tracer.getCurrentSpan:()Lorg/apache/htrace/core/Span;
      51: astore        4
      53: aload         4
      55: ifnull        67
      58: aload         4
      60: ldc           #224                // String dataQueue.wait
      62: invokeinterface #225,  2          // InterfaceMethod org/apache/htrace/core/Span.addTimelineAnnotation:(Ljava/lang/String;)V
      67: iconst_0
      68: istore_3
      69: aload_0
      70: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      73: invokevirtual #226                // Method java/lang/Object.wait:()V
      76: goto          9
      79: astore        4
      81: invokestatic  #227                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      84: invokevirtual #228                // Method java/lang/Thread.interrupt:()V
      87: goto          90
      90: invokestatic  #223                // Method org/apache/htrace/core/Tracer.getCurrentSpan:()Lorg/apache/htrace/core/Span;
      93: astore        4
      95: aload         4
      97: ifnull        113
     100: iload_3
     101: ifne          113
     104: aload         4
     106: ldc           #229                // String end.wait
     108: invokeinterface #225,  2          // InterfaceMethod org/apache/htrace/core/Span.addTimelineAnnotation:(Ljava/lang/String;)V
     113: goto          144
     116: astore        5
     118: invokestatic  #223                // Method org/apache/htrace/core/Tracer.getCurrentSpan:()Lorg/apache/htrace/core/Span;
     121: astore        6
     123: aload         6
     125: ifnull        141
     128: iload_3
     129: ifne          141
     132: aload         6
     134: ldc           #229                // String end.wait
     136: invokeinterface #225,  2          // InterfaceMethod org/apache/htrace/core/Span.addTimelineAnnotation:(Ljava/lang/String;)V
     141: aload         5
     143: athrow
     144: aload_0
     145: invokespecial #213                // Method checkClosed:()V
     148: aload_0
     149: aload_1
     150: invokevirtual #230                // Method queuePacket:(Lorg/apache/hadoop/hdfs/DFSPacket;)V
     153: goto          168
     156: astore_3
     157: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     160: ldc           #218                // String Closed channel exception
     162: aload_3
     163: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     168: aload_2
     169: monitorexit
     170: goto          180
     173: astore        7
     175: aload_2
     176: monitorexit
     177: aload         7
     179: athrow
     180: return
    Exception table:
       from    to  target type
          69    76    79   Class java/lang/InterruptedException
           9    90   116   any
         116   118   116   any
           7   153   156   Class java/nio/channels/ClosedChannelException
           7   170   173   any
         173   177   173   any

  void close(boolean);
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #45                 // Field streamerClosed:Z
       5: aload_0
       6: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
       9: dup
      10: astore_2
      11: monitorenter
      12: aload_0
      13: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      16: invokevirtual #180                // Method java/lang/Object.notifyAll:()V
      19: aload_2
      20: monitorexit
      21: goto          29
      24: astore_3
      25: aload_2
      26: monitorexit
      27: aload_3
      28: athrow
      29: iload_1
      30: ifeq          37
      33: aload_0
      34: invokevirtual #231                // Method interrupt:()V
      37: return
    Exception table:
       from    to  target type
          12    21    24   any
          24    27    24   any

  void setStreamerAsClosed();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #45                 // Field streamerClosed:Z
       5: return

  private void checkClosed() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #45                 // Field streamerClosed:Z
       4: ifeq          14
       7: aload_0
       8: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
      11: invokevirtual #232                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.throwException4Close:()V
      14: return

  private void closeResponder();
    Code:
       0: aload_0
       1: getfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
       4: ifnull        63
       7: aload_0
       8: getfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      11: invokevirtual #233                // Method org/apache/hadoop/hdfs/DataStreamer$ResponseProcessor.close:()V
      14: aload_0
      15: getfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      18: invokevirtual #234                // Method org/apache/hadoop/hdfs/DataStreamer$ResponseProcessor.join:()V
      21: aload_0
      22: aconst_null
      23: putfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      26: goto          63
      29: astore_1
      30: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      33: ldc           #143                // String Thread interrupted
      35: aload_1
      36: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      41: invokestatic  #227                // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      44: invokevirtual #228                // Method java/lang/Thread.interrupt:()V
      47: aload_0
      48: aconst_null
      49: putfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      52: goto          63
      55: astore_2
      56: aload_0
      57: aconst_null
      58: putfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      61: aload_2
      62: athrow
      63: return
    Exception table:
       from    to  target type
           7    21    29   Class java/lang/InterruptedException
           7    21    55   any
          29    47    55   any

  void closeStream();
    Code:
       0: new           #235                // class org/apache/hadoop/io/MultipleIOException$Builder
       3: dup
       4: invokespecial #236                // Method org/apache/hadoop/io/MultipleIOException$Builder."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      12: ifnull        52
      15: aload_0
      16: getfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      19: invokevirtual #237                // Method java/io/DataOutputStream.close:()V
      22: aload_0
      23: aconst_null
      24: putfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      27: goto          52
      30: astore_2
      31: aload_1
      32: aload_2
      33: invokevirtual #238                // Method org/apache/hadoop/io/MultipleIOException$Builder.add:(Ljava/lang/Throwable;)V
      36: aload_0
      37: aconst_null
      38: putfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      41: goto          52
      44: astore_3
      45: aload_0
      46: aconst_null
      47: putfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      50: aload_3
      51: athrow
      52: aload_0
      53: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
      56: ifnull        98
      59: aload_0
      60: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
      63: invokevirtual #239                // Method java/io/DataInputStream.close:()V
      66: aload_0
      67: aconst_null
      68: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
      71: goto          98
      74: astore_2
      75: aload_1
      76: aload_2
      77: invokevirtual #238                // Method org/apache/hadoop/io/MultipleIOException$Builder.add:(Ljava/lang/Throwable;)V
      80: aload_0
      81: aconst_null
      82: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
      85: goto          98
      88: astore        4
      90: aload_0
      91: aconst_null
      92: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
      95: aload         4
      97: athrow
      98: aconst_null
      99: aload_0
     100: getfield      #240                // Field s:Ljava/net/Socket;
     103: if_acmpeq     145
     106: aload_0
     107: getfield      #240                // Field s:Ljava/net/Socket;
     110: invokevirtual #241                // Method java/net/Socket.close:()V
     113: aload_0
     114: aconst_null
     115: putfield      #240                // Field s:Ljava/net/Socket;
     118: goto          145
     121: astore_2
     122: aload_1
     123: aload_2
     124: invokevirtual #238                // Method org/apache/hadoop/io/MultipleIOException$Builder.add:(Ljava/lang/Throwable;)V
     127: aload_0
     128: aconst_null
     129: putfield      #240                // Field s:Ljava/net/Socket;
     132: goto          145
     135: astore        5
     137: aload_0
     138: aconst_null
     139: putfield      #240                // Field s:Ljava/net/Socket;
     142: aload         5
     144: athrow
     145: aload_1
     146: invokevirtual #242                // Method org/apache/hadoop/io/MultipleIOException$Builder.build:()Ljava/io/IOException;
     149: astore_2
     150: aload_2
     151: ifnull        162
     154: aload_0
     155: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     158: aload_2
     159: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
     162: return
    Exception table:
       from    to  target type
          15    22    30   Class java/io/IOException
          15    22    44   any
          30    36    44   any
          59    66    74   Class java/io/IOException
          59    66    88   any
          74    80    88   any
          88    90    88   any
         106   113   121   Class java/io/IOException
         106   113   135   any
         121   127   135   any
         135   137   135   any

  boolean shouldWaitForRestart(int);
    Code:
       0: aload_0
       1: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       4: arraylength
       5: iconst_1
       6: if_icmpne     11
       9: iconst_1
      10: ireturn
      11: invokestatic  #243                // Method org/apache/hadoop/hdfs/DFSClientFaultInjector.get:()Lorg/apache/hadoop/hdfs/DFSClientFaultInjector;
      14: invokevirtual #244                // Method org/apache/hadoop/hdfs/DFSClientFaultInjector.skipRollingRestartWait:()Z
      17: ifeq          22
      20: iconst_0
      21: ireturn
      22: aconst_null
      23: astore_2
      24: aload_0
      25: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      28: iload_1
      29: aaload
      30: invokevirtual #245                // Method org/apache/hadoop/hdfs/protocol/DatanodeInfo.getIpAddr:()Ljava/lang/String;
      33: invokestatic  #246                // Method java/net/InetAddress.getByName:(Ljava/lang/String;)Ljava/net/InetAddress;
      36: astore_2
      37: goto          55
      40: astore_3
      41: getstatic     #196                // Field $assertionsDisabled:Z
      44: ifne          55
      47: new           #198                // class java/lang/AssertionError
      50: dup
      51: invokespecial #199                // Method java/lang/AssertionError."<init>":()V
      54: athrow
      55: aload_2
      56: ifnull        70
      59: aload_2
      60: invokestatic  #248                // Method org/apache/hadoop/net/NetUtils.isLocalAddress:(Ljava/net/InetAddress;)Z
      63: ifeq          70
      66: iconst_1
      67: goto          71
      70: iconst_0
      71: ireturn
    Exception table:
       from    to  target type
          24    37    40   Class java/net/UnknownHostException

  private boolean shouldHandleExternalError();
    Code:
       0: aload_0
       1: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
       4: invokevirtual #249                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.hasExternalError:()Z
       7: ifeq          21
      10: aload_0
      11: getfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
      14: ifnull        21
      17: iconst_1
      18: goto          22
      21: iconst_0
      22: ireturn

  private boolean processDatanodeOrExternalError() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
       4: invokevirtual #250                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.hasDatanodeError:()Z
       7: ifne          19
      10: aload_0
      11: invokespecial #251                // Method shouldHandleExternalError:()Z
      14: ifne          19
      17: iconst_0
      18: ireturn
      19: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      22: ldc           #252                // String start process datanode/external error, {}
      24: aload_0
      25: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      30: aload_0
      31: getfield      #46                 // Field response:Lorg/apache/hadoop/hdfs/DataStreamer$ResponseProcessor;
      34: ifnull        74
      37: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      40: new           #104                // class java/lang/StringBuilder
      43: dup
      44: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #253                // String Error Recovery for
      49: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: aload_0
      53: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      56: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      59: ldc           #254                // String  waiting for responder to exit.
      61: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      64: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      67: invokeinterface #255,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      72: iconst_1
      73: ireturn
      74: aload_0
      75: invokevirtual #132                // Method closeStream:()V
      78: aload_0
      79: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      82: dup
      83: astore_1
      84: monitorenter
      85: aload_0
      86: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      89: iconst_0
      90: aload_0
      91: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
      94: invokevirtual #256                // Method java/util/LinkedList.addAll:(ILjava/util/Collection;)Z
      97: pop
      98: aload_0
      99: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
     102: invokevirtual #257                // Method java/util/LinkedList.clear:()V
     105: aload_0
     106: getfield      #12                 // Field packetSendTime:Ljava/util/Map;
     109: invokeinterface #258,  1          // InterfaceMethod java/util/Map.clear:()V
     114: aload_1
     115: monitorexit
     116: goto          124
     119: astore_2
     120: aload_1
     121: monitorexit
     122: aload_2
     123: athrow
     124: aload_0
     125: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     128: invokevirtual #190                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.isRestartingNode:()Z
     131: ifne          210
     134: aload_0
     135: dup
     136: getfield      #4                  // Field pipelineRecoveryCount:I
     139: iconst_1
     140: iadd
     141: dup_x1
     142: putfield      #4                  // Field pipelineRecoveryCount:I
     145: iconst_5
     146: if_icmple     210
     149: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     152: new           #104                // class java/lang/StringBuilder
     155: dup
     156: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     159: ldc_w         #259                // String Error recovering pipeline for writing
     162: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     165: aload_0
     166: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     169: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     172: ldc_w         #260                // String . Already retried 5 times for the same packet.
     175: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     178: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     181: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     186: aload_0
     187: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     190: new           #103                // class java/io/IOException
     193: dup
     194: ldc_w         #262                // String Failing write. Tried pipeline recovery 5 times without success.
     197: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     200: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
     203: aload_0
     204: iconst_1
     205: putfield      #45                 // Field streamerClosed:Z
     208: iconst_0
     209: ireturn
     210: aload_0
     211: invokespecial #160                // Method setupPipelineForAppendOrRecovery:()V
     214: aload_0
     215: getfield      #45                 // Field streamerClosed:Z
     218: ifne          373
     221: aload_0
     222: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     225: getfield      #134                // Field org/apache/hadoop/hdfs/DFSClient.clientRunning:Z
     228: ifeq          373
     231: aload_0
     232: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     235: getstatic     #169                // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_CLOSE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     238: if_acmpne     369
     241: aload_0
     242: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     245: dup
     246: astore_1
     247: monitorenter
     248: aload_0
     249: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     252: invokevirtual #263                // Method java/util/LinkedList.remove:()Ljava/lang/Object;
     255: checkcast     #41                 // class org/apache/hadoop/hdfs/DFSPacket
     258: astore_2
     259: aload_2
     260: invokevirtual #264                // Method org/apache/hadoop/hdfs/DFSPacket.getTraceScope:()Lorg/apache/htrace/core/TraceScope;
     263: astore_3
     264: aload_3
     265: ifnull        281
     268: aload_3
     269: invokevirtual #265                // Method org/apache/htrace/core/TraceScope.reattach:()V
     272: aload_3
     273: invokevirtual #145                // Method org/apache/htrace/core/TraceScope.close:()V
     276: aload_2
     277: aconst_null
     278: invokevirtual #174                // Method org/apache/hadoop/hdfs/DFSPacket.setTraceScope:(Lorg/apache/htrace/core/TraceScope;)V
     281: getstatic     #196                // Field $assertionsDisabled:Z
     284: ifne          302
     287: aload_2
     288: invokevirtual #167                // Method org/apache/hadoop/hdfs/DFSPacket.isLastPacketInBlock:()Z
     291: ifne          302
     294: new           #198                // class java/lang/AssertionError
     297: dup
     298: invokespecial #199                // Method java/lang/AssertionError."<init>":()V
     301: athrow
     302: getstatic     #196                // Field $assertionsDisabled:Z
     305: ifne          330
     308: aload_0
     309: getfield      #5                  // Field lastAckedSeqno:J
     312: aload_2
     313: invokevirtual #177                // Method org/apache/hadoop/hdfs/DFSPacket.getSeqno:()J
     316: lconst_1
     317: lsub
     318: lcmp
     319: ifeq          330
     322: new           #198                // class java/lang/AssertionError
     325: dup
     326: invokespecial #199                // Method java/lang/AssertionError."<init>":()V
     329: athrow
     330: aload_0
     331: aload_2
     332: invokevirtual #177                // Method org/apache/hadoop/hdfs/DFSPacket.getSeqno:()J
     335: putfield      #5                  // Field lastAckedSeqno:J
     338: aload_0
     339: iconst_0
     340: putfield      #4                  // Field pipelineRecoveryCount:I
     343: aload_0
     344: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
     347: invokevirtual #180                // Method java/lang/Object.notifyAll:()V
     350: aload_1
     351: monitorexit
     352: goto          362
     355: astore        4
     357: aload_1
     358: monitorexit
     359: aload         4
     361: athrow
     362: aload_0
     363: invokevirtual #187                // Method endBlock:()V
     366: goto          373
     369: aload_0
     370: invokespecial #158                // Method initDataStreaming:()V
     373: iconst_0
     374: ireturn
    Exception table:
       from    to  target type
          85   116   119   any
         119   122   119   any
         248   352   355   any
         355   359   355   any

  void setHflush();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #55                 // Field isHflushed:Z
       5: return

  private int findNewDatanode(org.apache.hadoop.hdfs.protocol.DatanodeInfo[]) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       4: arraylength
       5: aload_1
       6: arraylength
       7: iconst_1
       8: iadd
       9: if_icmpeq     93
      12: new           #103                // class java/io/IOException
      15: dup
      16: new           #104                // class java/lang/StringBuilder
      19: dup
      20: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      23: ldc_w         #266                // String Failed to replace a bad datanode on the existing pipeline due to no more good datanodes being available to try. (Nodes: current=
      26: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      29: aload_0
      30: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      33: invokestatic  #267                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      36: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      39: ldc_w         #268                // String , original=
      42: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      45: aload_1
      46: invokestatic  #267                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      49: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      52: ldc_w         #269                // String ). The current failed datanode replacement policy is
      55: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: aload_0
      59: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      62: getfield      #270                // Field org/apache/hadoop/hdfs/DFSClient.dtpReplaceDatanodeOnFailure:Lorg/apache/hadoop/hdfs/protocol/datatransfer/ReplaceDatanodeOnFailure;
      65: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      68: ldc_w         #271                // String , and a client may configure this via \'
      71: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: ldc_w         #273                // String dfs.client.block.write.replace-datanode-on-failure.policy
      77: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: ldc_w         #274                // String \' in its configuration.
      83: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      89: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      92: athrow
      93: iconst_0
      94: istore_2
      95: iload_2
      96: aload_0
      97: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     100: arraylength
     101: if_icmpge     147
     104: iconst_0
     105: istore_3
     106: iload_3
     107: aload_1
     108: arraylength
     109: if_icmpge     133
     112: aload_0
     113: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     116: iload_2
     117: aaload
     118: aload_1
     119: iload_3
     120: aaload
     121: invokevirtual #275                // Method org/apache/hadoop/hdfs/protocol/DatanodeInfo.equals:(Ljava/lang/Object;)Z
     124: ifne          133
     127: iinc          3, 1
     130: goto          106
     133: iload_3
     134: aload_1
     135: arraylength
     136: if_icmpne     141
     139: iload_2
     140: ireturn
     141: iinc          2, 1
     144: goto          95
     147: new           #103                // class java/io/IOException
     150: dup
     151: new           #104                // class java/lang/StringBuilder
     154: dup
     155: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     158: ldc_w         #276                // String Failed: new datanode not found: nodes=
     161: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     164: aload_0
     165: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     168: invokestatic  #267                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     171: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     174: ldc_w         #268                // String , original=
     177: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     180: aload_1
     181: invokestatic  #267                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
     184: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     187: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     190: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     193: athrow

  private void addDatanode2ExistingPipeline() throws java.io.IOException;
    Code:
       0: getstatic     #277                // Field org/apache/hadoop/hdfs/protocol/datatransfer/DataTransferProtocol.LOG:Lorg/slf4j/Logger;
       3: ldc_w         #278                // String lastAckedSeqno = {}
       6: aload_0
       7: getfield      #5                  // Field lastAckedSeqno:J
      10: invokestatic  #178                // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      13: invokeinterface #19,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      18: aload_0
      19: getfield      #84                 // Field isAppend:Z
      22: ifne          45
      25: aload_0
      26: getfield      #5                  // Field lastAckedSeqno:J
      29: lconst_0
      30: lcmp
      31: ifge          45
      34: aload_0
      35: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      38: getstatic     #95                 // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_SETUP_CREATE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      41: if_acmpne     45
      44: return
      45: aload_0
      46: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      49: getstatic     #169                // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_CLOSE:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      52: if_acmpeq     65
      55: aload_0
      56: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      59: getstatic     #279                // Field org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.PIPELINE_CLOSE_RECOVERY:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
      62: if_acmpne     66
      65: return
      66: iconst_0
      67: istore_1
      68: aload_0
      69: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      72: astore_2
      73: aload_0
      74: getfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
      77: astore_3
      78: aload_0
      79: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
      82: astore        4
      84: aconst_null
      85: astore        5
      87: new           #51                 // class java/util/ArrayList
      90: dup
      91: aload_0
      92: getfield      #53                 // Field failed:Ljava/util/List;
      95: invokespecial #280                // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      98: astore        6
     100: iload_1
     101: iconst_3
     102: if_icmpge     455
     105: aload_0
     106: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     109: getfield      #281                // Field org/apache/hadoop/hdfs/DFSClient.namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
     112: aload_0
     113: getfield      #77                 // Field src:Ljava/lang/String;
     116: aload_0
     117: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
     120: invokeinterface #282,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getFileId:()J
     125: aload_0
     126: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     129: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
     132: aload_0
     133: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     136: aload_0
     137: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
     140: aload         6
     142: aload         6
     144: invokevirtual #284                // Method java/util/ArrayList.size:()I
     147: anewarray     #285                // class org/apache/hadoop/hdfs/protocol/DatanodeInfo
     150: invokevirtual #286                // Method java/util/ArrayList.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     153: checkcast     #287                // class "[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;"
     156: iconst_1
     157: aload_0
     158: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     161: getfield      #288                // Field org/apache/hadoop/hdfs/DFSClient.clientName:Ljava/lang/String;
     164: invokeinterface #289,  10         // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.getAdditionalDatanode:(Ljava/lang/String;JLorg/apache/hadoop/hdfs/protocol/ExtendedBlock;[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Ljava/lang/String;[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;ILjava/lang/String;)Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;
     169: astore        7
     171: aload_0
     172: aload         7
     174: invokespecial #102                // Method setPipeline:(Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;)V
     177: aload_0
     178: aload_2
     179: invokespecial #290                // Method findNewDatanode:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;)I
     182: istore        8
     184: goto          286
     187: astore        9
     189: aload_0
     190: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     193: getfield      #291                // Field org/apache/hadoop/hdfs/DFSClient.dtpReplaceDatanodeOnFailureReplication:S
     196: ifle          283
     199: aload_0
     200: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     203: arraylength
     204: aload_0
     205: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     208: getfield      #291                // Field org/apache/hadoop/hdfs/DFSClient.dtpReplaceDatanodeOnFailureReplication:S
     211: if_icmplt     283
     214: getstatic     #292                // Field org/apache/hadoop/hdfs/DFSClient.LOG:Lorg/slf4j/Logger;
     217: new           #104                // class java/lang/StringBuilder
     220: dup
     221: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     224: ldc_w         #293                // String Failed to find a new datanode to add to the write pipeline,  continue to write to the pipeline with
     227: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     230: aload_0
     231: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     234: arraylength
     235: invokevirtual #294                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     238: ldc_w         #295                // String  nodes since it\'s no less than minimum replication:
     241: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     244: aload_0
     245: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     248: getfield      #291                // Field org/apache/hadoop/hdfs/DFSClient.dtpReplaceDatanodeOnFailureReplication:S
     251: invokevirtual #294                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     254: ldc_w         #296                // String  configured by
     257: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     260: ldc_w         #297                // String dfs.client.block.write.replace-datanode-on-failure.min-replication
     263: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     266: ldc_w         #298                // String .
     269: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     272: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     275: aload         9
     277: invokeinterface #194,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     282: return
     283: aload         9
     285: athrow
     286: aload_2
     287: iload_1
     288: aload_2
     289: arraylength
     290: irem
     291: aaload
     292: astore        9
     294: iconst_1
     295: anewarray     #285                // class org/apache/hadoop/hdfs/protocol/DatanodeInfo
     298: dup
     299: iconst_0
     300: aload_0
     301: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     304: iload         8
     306: aaload
     307: aastore
     308: astore        10
     310: iconst_1
     311: anewarray     #299                // class org/apache/hadoop/fs/StorageType
     314: dup
     315: iconst_0
     316: aload_0
     317: getfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
     320: iload         8
     322: aaload
     323: aastore
     324: astore        11
     326: iconst_1
     327: anewarray     #300                // class java/lang/String
     330: dup
     331: iconst_0
     332: aload_0
     333: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
     336: iload         8
     338: aaload
     339: aastore
     340: astore        12
     342: aload_0
     343: aload         9
     345: aload         10
     347: aload         11
     349: aload         12
     351: aload         7
     353: invokevirtual #100                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlockToken:()Lorg/apache/hadoop/security/token/Token;
     356: invokespecial #301                // Method transfer:(Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;Lorg/apache/hadoop/security/token/Token;)V
     359: goto          454
     362: astore        13
     364: getstatic     #292                // Field org/apache/hadoop/hdfs/DFSClient.LOG:Lorg/slf4j/Logger;
     367: new           #104                // class java/lang/StringBuilder
     370: dup
     371: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     374: ldc_w         #302                // String Error transferring data from
     377: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     380: aload         9
     382: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     385: ldc_w         #303                // String  to
     388: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     391: aload_0
     392: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     395: iload         8
     397: aaload
     398: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     401: ldc_w         #304                // String :
     404: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     407: aload         13
     409: invokevirtual #305                // Method java/io/IOException.getMessage:()Ljava/lang/String;
     412: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     415: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     418: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     423: aload         13
     425: astore        5
     427: aload         6
     429: aload_0
     430: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     433: iload         8
     435: aaload
     436: invokevirtual #306                // Method java/util/ArrayList.add:(Ljava/lang/Object;)Z
     439: pop
     440: aload_0
     441: aload_2
     442: aload_3
     443: aload         4
     445: invokespecial #115                // Method setPipeline:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;)V
     448: iinc          1, 1
     451: goto          100
     454: return
     455: aload         5
     457: ifnull        465
     460: aload         5
     462: goto          475
     465: new           #103                // class java/io/IOException
     468: dup
     469: ldc_w         #307                // String Failed to add a node
     472: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     475: athrow
    Exception table:
       from    to  target type
         177   184   187   Class java/io/IOException
         342   359   362   Class java/io/IOException

  private long computeTransferWriteTimeout();
    Code:
       0: aload_0
       1: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       4: iconst_2
       5: invokevirtual #308                // Method org/apache/hadoop/hdfs/DFSClient.getDatanodeWriteTimeout:(I)I
       8: i2l
       9: lreturn

  private long computeTransferReadTimeout();
    Code:
       0: iconst_2
       1: aload_0
       2: getfield      #50                 // Field bytesSent:J
       5: aload_0
       6: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       9: invokevirtual #14                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
      12: invokevirtual #309                // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getWritePacketSize:()I
      15: i2l
      16: ldiv
      17: l2i
      18: sipush        200
      21: idiv
      22: iadd
      23: istore_1
      24: aload_0
      25: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      28: iload_1
      29: invokevirtual #23                 // Method org/apache/hadoop/hdfs/DFSClient.getDatanodeReadTimeout:(I)I
      32: i2l
      33: lreturn

  private void transfer(org.apache.hadoop.hdfs.protocol.DatanodeInfo, org.apache.hadoop.hdfs.protocol.DatanodeInfo[], org.apache.hadoop.fs.StorageType[], java.lang.String[], org.apache.hadoop.security.token.Token<org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier>) throws java.io.IOException;
    Code:
       0: new           #310                // class org/apache/hadoop/hdfs/DataStreamer$RefetchEncryptionKeyPolicy
       3: dup
       4: aload_0
       5: aload_1
       6: invokespecial #311                // Method org/apache/hadoop/hdfs/DataStreamer$RefetchEncryptionKeyPolicy."<init>":(Lorg/apache/hadoop/hdfs/DataStreamer;Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;)V
       9: astore        6
      11: aconst_null
      12: astore        7
      14: aload_0
      15: invokespecial #312                // Method computeTransferWriteTimeout:()J
      18: lstore        8
      20: aload_0
      21: invokespecial #313                // Method computeTransferReadTimeout:()J
      24: lstore        10
      26: new           #314                // class org/apache/hadoop/hdfs/DataStreamer$StreamerStreams
      29: dup
      30: aload_0
      31: aload_1
      32: lload         8
      34: lload         10
      36: aload         5
      38: invokespecial #315                // Method org/apache/hadoop/hdfs/DataStreamer$StreamerStreams."<init>":(Lorg/apache/hadoop/hdfs/DataStreamer;Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;JJLorg/apache/hadoop/security/token/Token;)V
      41: astore        7
      43: aload         7
      45: aload_2
      46: aload_3
      47: aload         4
      49: aload         5
      51: invokevirtual #316                // Method org/apache/hadoop/hdfs/DataStreamer$StreamerStreams.sendTransferBlock:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;Lorg/apache/hadoop/security/token/Token;)V
      54: aload         7
      56: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
      59: return
      60: astore        8
      62: aload         6
      64: aload         8
      66: invokevirtual #319                // Method org/apache/hadoop/hdfs/DataStreamer$RefetchEncryptionKeyPolicy.recordFailure:(Lorg/apache/hadoop/hdfs/protocol/datatransfer/InvalidEncryptionKeyException;)V
      69: aload         7
      71: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
      74: goto          87
      77: astore        12
      79: aload         7
      81: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
      84: aload         12
      86: athrow
      87: aload         6
      89: invokevirtual #320                // Method org/apache/hadoop/hdfs/DataStreamer$RefetchEncryptionKeyPolicy.continueRetryingOrThrow:()Z
      92: ifne          11
      95: return
    Exception table:
       from    to  target type
          14    54    60   Class org/apache/hadoop/hdfs/protocol/datatransfer/InvalidEncryptionKeyException
          14    54    77   any
          60    69    77   any
          77    79    77   any

  private void setupPipelineForAppendOrRecovery() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       4: ifnull        15
       7: aload_0
       8: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      11: arraylength
      12: ifne          79
      15: new           #104                // class java/lang/StringBuilder
      18: dup
      19: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      22: ldc_w         #321                // String Could not get block locations. Source file \"
      25: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      28: aload_0
      29: getfield      #77                 // Field src:Ljava/lang/String;
      32: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: ldc_w         #322                // String \" - Aborting...
      38: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      41: aload_0
      42: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      45: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      48: astore_1
      49: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      52: aload_1
      53: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      58: aload_0
      59: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
      62: new           #103                // class java/io/IOException
      65: dup
      66: aload_1
      67: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      70: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
      73: aload_0
      74: iconst_1
      75: putfield      #45                 // Field streamerClosed:Z
      78: return
      79: aload_0
      80: aload_0
      81: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      84: aload_0
      85: getfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
      88: aload_0
      89: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
      92: invokevirtual #323                // Method setupPipelineInternal:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;)V
      95: return

  protected void setupPipelineInternal(org.apache.hadoop.hdfs.protocol.DatanodeInfo[], org.apache.hadoop.fs.StorageType[], java.lang.String[]) throws java.io.IOException;
    Code:
       0: iconst_0
       1: istore        4
       3: lconst_0
       4: lstore        5
       6: iload         4
       8: ifne          122
      11: aload_0
      12: getfield      #45                 // Field streamerClosed:Z
      15: ifne          122
      18: aload_0
      19: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      22: getfield      #134                // Field org/apache/hadoop/hdfs/DFSClient.clientRunning:Z
      25: ifeq          122
      28: aload_0
      29: invokevirtual #324                // Method handleRestartingDatanode:()Z
      32: ifne          36
      35: return
      36: aload_0
      37: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      40: invokevirtual #325                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.hasInternalError:()Z
      43: istore        7
      45: aload_0
      46: invokevirtual #326                // Method handleBadDatanode:()Z
      49: ifne          53
      52: return
      53: aload_0
      54: invokespecial #327                // Method handleDatanodeReplacement:()V
      57: aload_0
      58: invokespecial #328                // Method updateBlockForPipeline:()Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;
      61: astore        8
      63: aload         8
      65: invokevirtual #97                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
      68: invokevirtual #329                // Method org/apache/hadoop/hdfs/protocol/ExtendedBlock.getGenerationStamp:()J
      71: lstore        5
      73: aload_0
      74: aload         8
      76: invokevirtual #100                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlockToken:()Lorg/apache/hadoop/security/token/Token;
      79: putfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
      82: aload_0
      83: aload_0
      84: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      87: aload_0
      88: getfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
      91: aload_0
      92: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
      95: lload         5
      97: iload         7
      99: invokevirtual #330                // Method createBlockOutputStream:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;JZ)Z
     102: istore        4
     104: aload_0
     105: invokevirtual #331                // Method failPacket4Testing:()V
     108: aload_0
     109: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     112: aload_0
     113: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     116: invokevirtual #332                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.checkRestartingNodeDeadline:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;)V
     119: goto          6
     122: iload         4
     124: ifeq          133
     127: aload_0
     128: lload         5
     130: invokevirtual #333                // Method updatePipeline:(J)V
     133: return

  boolean handleRestartingDatanode();
    Code:
       0: aload_0
       1: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
       4: invokevirtual #190                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.isRestartingNode:()Z
       7: ifeq          110
      10: aload_0
      11: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      14: invokevirtual #334                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.doWaitForRestart:()Z
      17: ifne          36
      20: aload_0
      21: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      24: aload_0
      25: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      28: invokevirtual #335                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.getRestartingNodeIndex:()I
      31: invokevirtual #336                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.setBadNodeIndex:(I)V
      34: iconst_1
      35: ireturn
      36: aload_0
      37: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      40: invokestatic  #337                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.access$1200:(Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;)J
      43: ldc2_w        #338                // long 4000l
      46: invokestatic  #340                // Method java/lang/Math.min:(JJ)J
      49: lstore_1
      50: lload_1
      51: invokestatic  #189                // Method java/lang/Thread.sleep:(J)V
      54: goto          110
      57: astore_3
      58: aload_0
      59: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
      62: new           #103                // class java/io/IOException
      65: dup
      66: new           #104                // class java/lang/StringBuilder
      69: dup
      70: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      73: ldc_w         #341                // String Interrupted while waiting for restarting
      76: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_0
      80: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      83: aload_0
      84: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      87: invokevirtual #335                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.getRestartingNodeIndex:()I
      90: aaload
      91: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      94: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      97: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     100: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
     103: aload_0
     104: iconst_1
     105: putfield      #45                 // Field streamerClosed:Z
     108: iconst_0
     109: ireturn
     110: iconst_1
     111: ireturn
    Exception table:
       from    to  target type
          50    54    57   Class java/lang/InterruptedException

  boolean handleBadDatanode();
    Code:
       0: aload_0
       1: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
       4: invokevirtual #342                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.getBadNodeIndex:()I
       7: istore_1
       8: iload_1
       9: iflt          283
      12: aload_0
      13: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      16: arraylength
      17: iconst_1
      18: if_icmpgt     74
      21: aload_0
      22: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
      25: new           #103                // class java/io/IOException
      28: dup
      29: new           #104                // class java/lang/StringBuilder
      32: dup
      33: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      36: ldc_w         #343                // String All datanodes
      39: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: aload_0
      43: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      46: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      49: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: ldc_w         #344                // String  are bad. Aborting...
      55: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      58: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      61: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      64: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
      67: aload_0
      68: iconst_1
      69: putfield      #45                 // Field streamerClosed:Z
      72: iconst_0
      73: ireturn
      74: ldc_w         #345                // String bad.
      77: astore_2
      78: aload_0
      79: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      82: invokevirtual #335                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.getRestartingNodeIndex:()I
      85: iload_1
      86: if_icmpne     109
      89: ldc_w         #346                // String restarting.
      92: astore_2
      93: aload_0
      94: getfield      #54                 // Field restartingNodes:Ljava/util/List;
      97: aload_0
      98: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     101: iload_1
     102: aaload
     103: invokeinterface #347,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     108: pop
     109: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     112: new           #104                // class java/lang/StringBuilder
     115: dup
     116: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     119: ldc           #253                // String Error Recovery for
     121: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     124: aload_0
     125: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     128: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     131: ldc_w         #348                // String  in pipeline
     134: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     137: aload_0
     138: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     141: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
     144: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     147: ldc_w         #349                // String : datanode
     150: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     153: iload_1
     154: invokevirtual #294                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     157: ldc_w         #350                // String (
     160: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     163: aload_0
     164: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     167: iload_1
     168: aaload
     169: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     172: ldc_w         #351                // String ) is
     175: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     178: aload_2
     179: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     182: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     185: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     190: aload_0
     191: getfield      #53                 // Field failed:Ljava/util/List;
     194: aload_0
     195: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     198: iload_1
     199: aaload
     200: invokeinterface #347,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     205: pop
     206: aload_0
     207: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     210: arraylength
     211: iconst_1
     212: isub
     213: anewarray     #285                // class org/apache/hadoop/hdfs/protocol/DatanodeInfo
     216: astore_3
     217: aload_0
     218: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
     221: aload_3
     222: iload_1
     223: invokestatic  #352                // Method arraycopy:([Ljava/lang/Object;[Ljava/lang/Object;I)V
     226: aload_3
     227: arraylength
     228: anewarray     #299                // class org/apache/hadoop/fs/StorageType
     231: astore        4
     233: aload_0
     234: getfield      #48                 // Field storageTypes:[Lorg/apache/hadoop/fs/StorageType;
     237: aload         4
     239: iload_1
     240: invokestatic  #352                // Method arraycopy:([Ljava/lang/Object;[Ljava/lang/Object;I)V
     243: aload_3
     244: arraylength
     245: anewarray     #300                // class java/lang/String
     248: astore        5
     250: aload_0
     251: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
     254: aload         5
     256: iload_1
     257: invokestatic  #352                // Method arraycopy:([Ljava/lang/Object;[Ljava/lang/Object;I)V
     260: aload_0
     261: aload_3
     262: aload         4
     264: aload         5
     266: invokespecial #115                // Method setPipeline:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;)V
     269: aload_0
     270: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     273: invokevirtual #353                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.adjustState4RestartingNode:()V
     276: aload_0
     277: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     280: invokevirtual #354                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.clear:()V
     283: iconst_1
     284: ireturn

  private void handleDatanodeReplacement() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       4: getfield      #270                // Field org/apache/hadoop/hdfs/DFSClient.dtpReplaceDatanodeOnFailure:Lorg/apache/hadoop/hdfs/protocol/datatransfer/ReplaceDatanodeOnFailure;
       7: aload_0
       8: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
      11: invokeinterface #355,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getReplication:()S
      16: aload_0
      17: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      20: aload_0
      21: getfield      #84                 // Field isAppend:Z
      24: aload_0
      25: getfield      #55                 // Field isHflushed:Z
      28: invokevirtual #356                // Method org/apache/hadoop/hdfs/protocol/datatransfer/ReplaceDatanodeOnFailure.satisfy:(S[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;ZZ)Z
      31: ifeq          69
      34: aload_0
      35: invokespecial #357                // Method addDatanode2ExistingPipeline:()V
      38: goto          69
      41: astore_1
      42: aload_0
      43: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      46: getfield      #270                // Field org/apache/hadoop/hdfs/DFSClient.dtpReplaceDatanodeOnFailure:Lorg/apache/hadoop/hdfs/protocol/datatransfer/ReplaceDatanodeOnFailure;
      49: invokevirtual #358                // Method org/apache/hadoop/hdfs/protocol/datatransfer/ReplaceDatanodeOnFailure.isBestEffort:()Z
      52: ifne          57
      55: aload_1
      56: athrow
      57: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      60: ldc_w         #359                // String Failed to replace datanode. Continue with the remaining datanodes since dfs.client.block.write.replace-datanode-on-failure.best-effort is set to true.
      63: aload_1
      64: invokeinterface #194,  3          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      69: return
    Exception table:
       from    to  target type
          34    38    41   Class java/io/IOException

  void failPacket4Testing();
    Code:
       0: aload_0
       1: getfield      #6                  // Field failPacket:Z
       4: ifeq          33
       7: aload_0
       8: iconst_0
       9: putfield      #6                  // Field failPacket:Z
      12: ldc2_w        #360                // long 2000l
      15: invokestatic  #189                // Method java/lang/Thread.sleep:(J)V
      18: goto          33
      21: astore_1
      22: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      25: ldc           #143                // String Thread interrupted
      27: aload_1
      28: invokeinterface #144,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      33: return
    Exception table:
       from    to  target type
          12    18    21   Class java/lang/InterruptedException

  private org.apache.hadoop.hdfs.protocol.LocatedBlock updateBlockForPipeline() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       4: getfield      #281                // Field org/apache/hadoop/hdfs/DFSClient.namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
       7: aload_0
       8: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      11: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
      14: aload_0
      15: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      18: getfield      #288                // Field org/apache/hadoop/hdfs/DFSClient.clientName:Ljava/lang/String;
      21: invokeinterface #362,  3          // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.updateBlockForPipeline:(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;Ljava/lang/String;)Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;
      26: areturn

  void updateBlockGS(long);
    Code:
       0: aload_0
       1: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
       4: lload_1
       5: invokevirtual #363                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.setGenerationStamp:(J)V
       8: return

  public void updatePipeline(long) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
       4: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
       7: astore_3
       8: aload_0
       9: lload_1
      10: invokevirtual #364                // Method updateBlockGS:(J)V
      13: aload_0
      14: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      17: getfield      #281                // Field org/apache/hadoop/hdfs/DFSClient.namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
      20: aload_0
      21: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
      24: getfield      #288                // Field org/apache/hadoop/hdfs/DFSClient.clientName:Ljava/lang/String;
      27: aload_3
      28: aload_0
      29: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      32: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
      35: aload_0
      36: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      39: aload_0
      40: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
      43: invokeinterface #365,  6          // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.updatePipeline:(Ljava/lang/String;Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;[Lorg/apache/hadoop/hdfs/protocol/DatanodeID;[Ljava/lang/String;)V
      48: return

  org.apache.hadoop.hdfs.protocol.DatanodeInfo[] getExcludedNodes();
    Code:
       0: aload_0
       1: getfield      #89                 // Field excludedNodes:Lcom/google/common/cache/LoadingCache;
       4: aload_0
       5: getfield      #89                 // Field excludedNodes:Lcom/google/common/cache/LoadingCache;
       8: invokeinterface #366,  1          // InterfaceMethod com/google/common/cache/LoadingCache.asMap:()Ljava/util/concurrent/ConcurrentMap;
      13: invokeinterface #367,  1          // InterfaceMethod java/util/concurrent/ConcurrentMap.keySet:()Ljava/util/Set;
      18: invokeinterface #368,  2          // InterfaceMethod com/google/common/cache/LoadingCache.getAllPresent:(Ljava/lang/Iterable;)Lcom/google/common/collect/ImmutableMap;
      23: invokevirtual #369                // Method com/google/common/collect/ImmutableMap.keySet:()Lcom/google/common/collect/ImmutableSet;
      26: iconst_0
      27: anewarray     #285                // class org/apache/hadoop/hdfs/protocol/DatanodeInfo
      30: invokevirtual #370                // Method com/google/common/collect/ImmutableSet.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      33: checkcast     #287                // class "[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;"
      36: areturn

  protected org.apache.hadoop.hdfs.protocol.LocatedBlock nextBlockOutputStream() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       4: invokevirtual #14                 // Method org/apache/hadoop/hdfs/DFSClient.getConf:()Lorg/apache/hadoop/hdfs/client/impl/DfsClientConf;
       7: invokevirtual #371                // Method org/apache/hadoop/hdfs/client/impl/DfsClientConf.getNumBlockWriteRetry:()I
      10: istore        5
      12: aload_0
      13: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      16: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
      19: astore        7
      21: aload_0
      22: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
      25: invokevirtual #372                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.resetInternalError:()V
      28: aload_0
      29: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
      32: invokevirtual #354                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.clear:()V
      35: aload_0
      36: invokevirtual #373                // Method getExcludedNodes:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      39: astore        8
      41: aload_0
      42: aload         8
      44: arraylength
      45: ifle          53
      48: aload         8
      50: goto          54
      53: aconst_null
      54: aload         7
      56: invokespecial #374                // Method locateFollowingBlock:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;)Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;
      59: astore_1
      60: aload_0
      61: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      64: aload_1
      65: invokevirtual #97                 // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
      68: invokevirtual #375                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.setCurrentBlock:(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;)V
      71: aload_0
      72: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      75: lconst_0
      76: invokevirtual #376                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.setNumBytes:(J)V
      79: aload_0
      80: lconst_0
      81: putfield      #50                 // Field bytesSent:J
      84: aload_0
      85: aload_1
      86: invokevirtual #100                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getBlockToken:()Lorg/apache/hadoop/security/token/Token;
      89: putfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
      92: aload_1
      93: invokevirtual #112                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getLocations:()[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
      96: astore_2
      97: aload_1
      98: invokevirtual #113                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getStorageTypes:()[Lorg/apache/hadoop/fs/StorageType;
     101: astore_3
     102: aload_1
     103: invokevirtual #114                // Method org/apache/hadoop/hdfs/protocol/LocatedBlock.getStorageIDs:()[Ljava/lang/String;
     106: astore        4
     108: aload_0
     109: aload_2
     110: aload_3
     111: aload         4
     113: lconst_0
     114: iconst_0
     115: invokevirtual #330                // Method createBlockOutputStream:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;[Ljava/lang/String;JZ)Z
     118: istore        6
     120: iload         6
     122: ifne          256
     125: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     128: new           #104                // class java/lang/StringBuilder
     131: dup
     132: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     135: ldc_w         #377                // String Abandoning
     138: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: aload_0
     142: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     145: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     148: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     151: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     156: aload_0
     157: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     160: getfield      #281                // Field org/apache/hadoop/hdfs/DFSClient.namenode:Lorg/apache/hadoop/hdfs/protocol/ClientProtocol;
     163: aload_0
     164: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     167: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
     170: aload_0
     171: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
     174: invokeinterface #282,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getFileId:()J
     179: aload_0
     180: getfield      #77                 // Field src:Ljava/lang/String;
     183: aload_0
     184: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     187: getfield      #288                // Field org/apache/hadoop/hdfs/DFSClient.clientName:Ljava/lang/String;
     190: invokeinterface #378,  6          // InterfaceMethod org/apache/hadoop/hdfs/protocol/ClientProtocol.abandonBlock:(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;JLjava/lang/String;Ljava/lang/String;)V
     195: aload_0
     196: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     199: aconst_null
     200: invokevirtual #375                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.setCurrentBlock:(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;)V
     203: aload_2
     204: aload_0
     205: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     208: invokevirtual #342                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.getBadNodeIndex:()I
     211: aaload
     212: astore        9
     214: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     217: new           #104                // class java/lang/StringBuilder
     220: dup
     221: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     224: ldc_w         #379                // String Excluding datanode
     227: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     230: aload         9
     232: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     235: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     238: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     243: aload_0
     244: getfield      #89                 // Field excludedNodes:Lcom/google/common/cache/LoadingCache;
     247: aload         9
     249: aload         9
     251: invokeinterface #380,  3          // InterfaceMethod com/google/common/cache/LoadingCache.put:(Ljava/lang/Object;Ljava/lang/Object;)V
     256: iload         6
     258: ifne          269
     261: iinc          5, -1
     264: iload         5
     266: ifge          21
     269: iload         6
     271: ifne          285
     274: new           #103                // class java/io/IOException
     277: dup
     278: ldc_w         #381                // String Unable to create new block.
     281: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     284: athrow
     285: aload_1
     286: areturn

  boolean createBlockOutputStream(org.apache.hadoop.hdfs.protocol.DatanodeInfo[], org.apache.hadoop.fs.StorageType[], java.lang.String[], long, boolean);
    Code:
       0: aload_1
       1: arraylength
       2: ifne          38
       5: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
       8: new           #104                // class java/lang/StringBuilder
      11: dup
      12: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      15: ldc_w         #382                // String nodes are empty for write pipeline of
      18: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      21: aload_0
      22: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
      25: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: invokeinterface #255,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      36: iconst_0
      37: ireturn
      38: ldc_w         #383                // String
      41: astore        7
      43: iconst_0
      44: istore        8
      46: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      49: invokeinterface #119,  1          // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      54: ifeq          97
      57: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      60: new           #104                // class java/lang/StringBuilder
      63: dup
      64: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      67: ldc_w         #384                // String pipeline =
      70: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: aload_1
      74: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
      77: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      80: ldc           #166                // String ,
      82: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: aload_0
      86: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      89: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      92: invokeinterface #385,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      97: aload_0
      98: getfield      #71                 // Field persistBlocks:Ljava/util/concurrent/atomic/AtomicBoolean;
     101: iconst_1
     102: invokevirtual #386                // Method java/util/concurrent/atomic/AtomicBoolean.set:(Z)V
     105: iconst_1
     106: istore        9
     108: iconst_0
     109: istore        10
     111: aconst_null
     112: astore        11
     114: getstatic     #196                // Field $assertionsDisabled:Z
     117: ifne          139
     120: aconst_null
     121: aload_0
     122: getfield      #240                // Field s:Ljava/net/Socket;
     125: if_acmpeq     139
     128: new           #198                // class java/lang/AssertionError
     131: dup
     132: ldc_w         #387                // String Previous socket unclosed
     135: invokespecial #388                // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
     138: athrow
     139: getstatic     #196                // Field $assertionsDisabled:Z
     142: ifne          164
     145: aconst_null
     146: aload_0
     147: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     150: if_acmpeq     164
     153: new           #198                // class java/lang/AssertionError
     156: dup
     157: ldc_w         #389                // String Previous blockReplyStream unclosed
     160: invokespecial #388                // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
     163: athrow
     164: aload_0
     165: aload_1
     166: iconst_0
     167: aaload
     168: aload_1
     169: arraylength
     170: aload_0
     171: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     174: invokestatic  #390                // Method createSocketForPipeline:(Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;ILorg/apache/hadoop/hdfs/DFSClient;)Ljava/net/Socket;
     177: putfield      #240                // Field s:Ljava/net/Socket;
     180: aload_0
     181: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     184: aload_1
     185: arraylength
     186: invokevirtual #308                // Method org/apache/hadoop/hdfs/DFSClient.getDatanodeWriteTimeout:(I)I
     189: i2l
     190: lstore        12
     192: aload_0
     193: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     196: aload_1
     197: arraylength
     198: invokevirtual #23                 // Method org/apache/hadoop/hdfs/DFSClient.getDatanodeReadTimeout:(I)I
     201: i2l
     202: lstore        14
     204: aload_0
     205: getfield      #240                // Field s:Ljava/net/Socket;
     208: lload         12
     210: invokestatic  #391                // Method org/apache/hadoop/net/NetUtils.getOutputStream:(Ljava/net/Socket;J)Ljava/io/OutputStream;
     213: astore        16
     215: aload_0
     216: getfield      #240                // Field s:Ljava/net/Socket;
     219: lload         14
     221: invokestatic  #392                // Method org/apache/hadoop/net/NetUtils.getInputStream:(Ljava/net/Socket;J)Lorg/apache/hadoop/net/SocketInputWrapper;
     224: astore        17
     226: aload_0
     227: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     230: getfield      #393                // Field org/apache/hadoop/hdfs/DFSClient.saslClient:Lorg/apache/hadoop/hdfs/protocol/datatransfer/sasl/SaslDataTransferClient;
     233: aload_0
     234: getfield      #240                // Field s:Ljava/net/Socket;
     237: aload         16
     239: aload         17
     241: aload_0
     242: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     245: aload_0
     246: getfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
     249: aload_1
     250: iconst_0
     251: aaload
     252: invokevirtual #394                // Method org/apache/hadoop/hdfs/protocol/datatransfer/sasl/SaslDataTransferClient.socketSend:(Ljava/net/Socket;Ljava/io/OutputStream;Ljava/io/InputStream;Lorg/apache/hadoop/hdfs/protocol/datatransfer/sasl/DataEncryptionKeyFactory;Lorg/apache/hadoop/security/token/Token;Lorg/apache/hadoop/hdfs/protocol/DatanodeID;)Lorg/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair;
     255: astore        18
     257: aload         18
     259: getfield      #395                // Field org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.out:Ljava/io/OutputStream;
     262: astore        16
     264: aload         18
     266: getfield      #396                // Field org/apache/hadoop/hdfs/protocol/datatransfer/IOStreamPair.in:Ljava/io/InputStream;
     269: astore        17
     271: new           #397                // class java/io/DataOutputStream
     274: dup
     275: new           #398                // class java/io/BufferedOutputStream
     278: dup
     279: aload         16
     281: aload_0
     282: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     285: invokevirtual #399                // Method org/apache/hadoop/hdfs/DFSClient.getConfiguration:()Lorg/apache/hadoop/conf/Configuration;
     288: invokestatic  #400                // Method org/apache/hadoop/hdfs/DFSUtilClient.getSmallBufferSize:(Lorg/apache/hadoop/conf/Configuration;)I
     291: invokespecial #401                // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;I)V
     294: invokespecial #402                // Method java/io/DataOutputStream."<init>":(Ljava/io/OutputStream;)V
     297: astore        11
     299: aload_0
     300: new           #403                // class java/io/DataInputStream
     303: dup
     304: aload         17
     306: invokespecial #404                // Method java/io/DataInputStream."<init>":(Ljava/io/InputStream;)V
     309: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     312: iload         6
     314: ifeq          327
     317: aload_0
     318: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     321: invokevirtual #405                // Method org/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage.getRecoveryStage:()Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     324: goto          331
     327: aload_0
     328: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
     331: astore        19
     333: aload_0
     334: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     337: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
     340: astore        20
     342: aload         20
     344: aload_0
     345: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
     348: invokeinterface #162,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getBlockSize:()J
     353: invokevirtual #406                // Method org/apache/hadoop/hdfs/protocol/ExtendedBlock.setNumBytes:(J)V
     356: aload_0
     357: aload_1
     358: invokespecial #407                // Method getPinnings:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;)[Z
     361: astore        21
     363: new           #408                // class org/apache/hadoop/hdfs/protocol/datatransfer/Sender
     366: dup
     367: aload         11
     369: invokespecial #409                // Method org/apache/hadoop/hdfs/protocol/datatransfer/Sender."<init>":(Ljava/io/DataOutputStream;)V
     372: aload         20
     374: aload_2
     375: iconst_0
     376: aaload
     377: aload_0
     378: getfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
     381: aload_0
     382: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     385: getfield      #288                // Field org/apache/hadoop/hdfs/DFSClient.clientName:Ljava/lang/String;
     388: aload_1
     389: aload_2
     390: aconst_null
     391: aload         19
     393: aload_1
     394: arraylength
     395: aload_0
     396: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
     399: invokevirtual #99                 // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getNumBytes:()J
     402: aload_0
     403: getfield      #50                 // Field bytesSent:J
     406: lload         4
     408: aload_0
     409: getfield      #80                 // Field checksum4WriteBlock:Lorg/apache/hadoop/util/DataChecksum;
     412: aload_0
     413: getfield      #81                 // Field cachingStrategy:Ljava/util/concurrent/atomic/AtomicReference;
     416: invokevirtual #410                // Method java/util/concurrent/atomic/AtomicReference.get:()Ljava/lang/Object;
     419: checkcast     #411                // class org/apache/hadoop/hdfs/server/datanode/CachingStrategy
     422: aload_0
     423: getfield      #83                 // Field isLazyPersistFile:Z
     426: aload         21
     428: ifnull        442
     431: aload         21
     433: iconst_0
     434: baload
     435: ifeq          442
     438: iconst_1
     439: goto          443
     442: iconst_0
     443: aload         21
     445: aload_3
     446: iconst_0
     447: aaload
     448: aload_3
     449: invokevirtual #412                // Method org/apache/hadoop/hdfs/protocol/datatransfer/Sender.writeBlock:(Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;Lorg/apache/hadoop/fs/StorageType;Lorg/apache/hadoop/security/token/Token;Ljava/lang/String;[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;[Lorg/apache/hadoop/fs/StorageType;Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;IJJJLorg/apache/hadoop/util/DataChecksum;Lorg/apache/hadoop/hdfs/server/datanode/CachingStrategy;ZZ[ZLjava/lang/String;[Ljava/lang/String;)V
     452: aload_0
     453: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     456: invokestatic  #413                // Method org/apache/hadoop/hdfs/protocolPB/PBHelperClient.vintPrefixed:(Ljava/io/InputStream;)Ljava/io/InputStream;
     459: invokestatic  #414                // Method org/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto.parseFrom:(Ljava/io/InputStream;)Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto;
     462: astore        22
     464: aload         22
     466: invokevirtual #415                // Method org/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto.getStatus:()Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$Status;
     469: astore        23
     471: aload         22
     473: invokevirtual #416                // Method org/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto.getFirstBadLink:()Ljava/lang/String;
     476: astore        7
     478: aload         23
     480: invokestatic  #417                // Method org/apache/hadoop/hdfs/protocol/datatransfer/PipelineAck.isRestartOOBStatus:(Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$Status;)Z
     483: ifeq          510
     486: aload_0
     487: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     490: invokevirtual #190                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.isRestartingNode:()Z
     493: ifne          510
     496: iconst_1
     497: istore        8
     499: new           #103                // class java/io/IOException
     502: dup
     503: ldc_w         #418                // String A datanode is restarting.
     506: invokespecial #111                // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     509: athrow
     510: new           #104                // class java/lang/StringBuilder
     513: dup
     514: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     517: ldc_w         #419                // String ack with firstBadLink as
     520: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     523: aload         7
     525: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     528: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     531: astore        24
     533: aload         22
     535: aload         24
     537: invokestatic  #420                // Method org/apache/hadoop/hdfs/protocol/datatransfer/DataTransferProtoUtil.checkBlockOpStatus:(Lorg/apache/hadoop/hdfs/protocol/proto/DataTransferProtos$BlockOpResponseProto;Ljava/lang/String;)V
     540: getstatic     #196                // Field $assertionsDisabled:Z
     543: ifne          565
     546: aconst_null
     547: aload_0
     548: getfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
     551: if_acmpeq     565
     554: new           #198                // class java/lang/AssertionError
     557: dup
     558: ldc_w         #421                // String Previous blockStream unclosed
     561: invokespecial #388                // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
     564: athrow
     565: aload_0
     566: aload         11
     568: putfield      #204                // Field blockStream:Ljava/io/DataOutputStream;
     571: iconst_1
     572: istore        10
     574: aload_0
     575: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     578: invokevirtual #372                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.resetInternalError:()V
     581: aload_0
     582: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     585: invokevirtual #354                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.clear:()V
     588: aload_0
     589: getfield      #53                 // Field failed:Ljava/util/List;
     592: aload_0
     593: getfield      #54                 // Field restartingNodes:Ljava/util/List;
     596: invokeinterface #422,  2          // InterfaceMethod java/util/List.removeAll:(Ljava/util/Collection;)Z
     601: pop
     602: aload_0
     603: getfield      #54                 // Field restartingNodes:Ljava/util/List;
     606: invokeinterface #43,  1           // InterfaceMethod java/util/List.clear:()V
     611: iload         10
     613: ifne          1030
     616: aload_0
     617: getfield      #240                // Field s:Ljava/net/Socket;
     620: invokestatic  #423                // Method org/apache/hadoop/io/IOUtils.closeSocket:(Ljava/net/Socket;)V
     623: aload_0
     624: aconst_null
     625: putfield      #240                // Field s:Ljava/net/Socket;
     628: aload         11
     630: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
     633: aload_0
     634: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     637: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
     640: aload_0
     641: aconst_null
     642: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     645: goto          1030
     648: astore        12
     650: aload_0
     651: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     654: invokevirtual #190                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.isRestartingNode:()Z
     657: ifne          690
     660: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     663: new           #104                // class java/lang/StringBuilder
     666: dup
     667: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     670: ldc_w         #424                // String Exception in createBlockOutputStream
     673: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     676: aload_0
     677: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     680: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     683: aload         12
     685: invokeinterface #425,  3          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Throwable;)V
     690: aload         12
     692: instanceof    #318                // class org/apache/hadoop/hdfs/protocol/datatransfer/InvalidEncryptionKeyException
     695: ifeq          791
     698: iload         9
     700: ifle          791
     703: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     706: new           #104                // class java/lang/StringBuilder
     709: dup
     710: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     713: ldc_w         #426                // String Will fetch a new encryption key and retry, encryption key was invalid when connecting to
     716: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     719: aload_1
     720: iconst_0
     721: aaload
     722: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     725: ldc_w         #427                // String  :
     728: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     731: aload         12
     733: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     736: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     739: invokeinterface #255,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     744: iinc          9, -1
     747: aload_0
     748: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
     751: invokevirtual #428                // Method org/apache/hadoop/hdfs/DFSClient.clearDataEncryptionKey:()V
     754: iload         10
     756: ifne          108
     759: aload_0
     760: getfield      #240                // Field s:Ljava/net/Socket;
     763: invokestatic  #423                // Method org/apache/hadoop/io/IOUtils.closeSocket:(Ljava/net/Socket;)V
     766: aload_0
     767: aconst_null
     768: putfield      #240                // Field s:Ljava/net/Socket;
     771: aload         11
     773: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
     776: aload_0
     777: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     780: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
     783: aload_0
     784: aconst_null
     785: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     788: goto          108
     791: aload         7
     793: invokevirtual #429                // Method java/lang/String.length:()I
     796: ifeq          845
     799: iconst_0
     800: istore        13
     802: iload         13
     804: aload_1
     805: arraylength
     806: if_icmpge     842
     809: aload         7
     811: aload_1
     812: iload         13
     814: aaload
     815: invokevirtual #430                // Method org/apache/hadoop/hdfs/protocol/DatanodeInfo.getXferAddr:()Ljava/lang/String;
     818: invokevirtual #431                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     821: ifeq          836
     824: aload_0
     825: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     828: iload         13
     830: invokevirtual #336                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.setBadNodeIndex:(I)V
     833: goto          842
     836: iinc          13, 1
     839: goto          802
     842: goto          872
     845: getstatic     #196                // Field $assertionsDisabled:Z
     848: ifne          864
     851: iload         8
     853: ifeq          864
     856: new           #198                // class java/lang/AssertionError
     859: dup
     860: invokespecial #199                // Method java/lang/AssertionError."<init>":()V
     863: athrow
     864: aload_0
     865: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     868: iconst_0
     869: invokevirtual #336                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.setBadNodeIndex:(I)V
     872: aload_0
     873: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     876: invokevirtual #342                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.getBadNodeIndex:()I
     879: istore        13
     881: iload         8
     883: ifeq          935
     886: aload_0
     887: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     890: iload         13
     892: new           #104                // class java/lang/StringBuilder
     895: dup
     896: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     899: ldc_w         #432                // String Datanode
     902: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     905: iload         13
     907: invokevirtual #294                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     910: ldc_w         #433                // String  is restarting:
     913: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     916: aload_1
     917: iload         13
     919: aaload
     920: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     923: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     926: aload_0
     927: iload         13
     929: invokevirtual #434                // Method shouldWaitForRestart:(I)Z
     932: invokevirtual #435                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.initRestartingNode:(ILjava/lang/String;Z)V
     935: aload_0
     936: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
     939: invokevirtual #200                // Method org/apache/hadoop/hdfs/DataStreamer$ErrorState.setInternalError:()V
     942: aload_0
     943: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
     946: aload         12
     948: invokevirtual #195                // Method org/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer.set:(Ljava/lang/Throwable;)V
     951: iconst_0
     952: istore        10
     954: iload         10
     956: ifne          1030
     959: aload_0
     960: getfield      #240                // Field s:Ljava/net/Socket;
     963: invokestatic  #423                // Method org/apache/hadoop/io/IOUtils.closeSocket:(Ljava/net/Socket;)V
     966: aload_0
     967: aconst_null
     968: putfield      #240                // Field s:Ljava/net/Socket;
     971: aload         11
     973: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
     976: aload_0
     977: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     980: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
     983: aload_0
     984: aconst_null
     985: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
     988: goto          1030
     991: astore        25
     993: iload         10
     995: ifne          1027
     998: aload_0
     999: getfield      #240                // Field s:Ljava/net/Socket;
    1002: invokestatic  #423                // Method org/apache/hadoop/io/IOUtils.closeSocket:(Ljava/net/Socket;)V
    1005: aload_0
    1006: aconst_null
    1007: putfield      #240                // Field s:Ljava/net/Socket;
    1010: aload         11
    1012: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
    1015: aload_0
    1016: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
    1019: invokestatic  #317                // Method org/apache/hadoop/io/IOUtils.closeStream:(Ljava/io/Closeable;)V
    1022: aload_0
    1023: aconst_null
    1024: putfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
    1027: aload         25
    1029: athrow
    1030: iload         10
    1032: ireturn
    Exception table:
       from    to  target type
         114   611   648   Class java/io/IOException
         114   611   991   any
         648   754   991   any
         791   954   991   any
         991   993   991   any

  private boolean[] getPinnings(org.apache.hadoop.hdfs.protocol.DatanodeInfo[]);
    Code:
       0: aload_0
       1: getfield      #85                 // Field favoredNodes:[Ljava/lang/String;
       4: ifnonnull     9
       7: aconst_null
       8: areturn
       9: aload_1
      10: arraylength
      11: newarray       boolean
      13: astore_2
      14: new           #436                // class java/util/HashSet
      17: dup
      18: aload_0
      19: getfield      #85                 // Field favoredNodes:[Ljava/lang/String;
      22: invokestatic  #267                // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      25: invokespecial #437                // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
      28: astore_3
      29: iconst_0
      30: istore        4
      32: iload         4
      34: aload_1
      35: arraylength
      36: if_icmpge     85
      39: aload_2
      40: iload         4
      42: aload_3
      43: aload_1
      44: iload         4
      46: aaload
      47: invokevirtual #438                // Method org/apache/hadoop/hdfs/protocol/DatanodeInfo.getXferAddrWithHostname:()Ljava/lang/String;
      50: invokevirtual #439                // Method java/util/HashSet.remove:(Ljava/lang/Object;)Z
      53: bastore
      54: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      57: ldc_w         #440                // String {} was chosen by name node (favored={}).
      60: aload_1
      61: iload         4
      63: aaload
      64: invokevirtual #438                // Method org/apache/hadoop/hdfs/protocol/DatanodeInfo.getXferAddrWithHostname:()Ljava/lang/String;
      67: aload_2
      68: iload         4
      70: baload
      71: invokestatic  #441                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      74: invokeinterface #155,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      79: iinc          4, 1
      82: goto          32
      85: aload_3
      86: invokevirtual #442                // Method java/util/HashSet.isEmpty:()Z
      89: ifne          136
      92: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      95: new           #104                // class java/lang/StringBuilder
      98: dup
      99: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
     102: ldc_w         #443                // String These favored nodes were specified but not chosen:
     105: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     108: aload_3
     109: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     112: ldc_w         #444                // String  Specified favored nodes:
     115: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     118: aload_0
     119: getfield      #85                 // Field favoredNodes:[Ljava/lang/String;
     122: invokestatic  #122                // Method java/util/Arrays.toString:([Ljava/lang/Object;)Ljava/lang/String;
     125: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     131: invokeinterface #261,  2          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     136: aload_2
     137: areturn

  private org.apache.hadoop.hdfs.protocol.LocatedBlock locateFollowingBlock(org.apache.hadoop.hdfs.protocol.DatanodeInfo[], org.apache.hadoop.hdfs.protocol.ExtendedBlock) throws java.io.IOException;
    Code:
       0: aload_1
       1: aload_0
       2: getfield      #76                 // Field dfsClient:Lorg/apache/hadoop/hdfs/DFSClient;
       5: aload_0
       6: getfield      #77                 // Field src:Ljava/lang/String;
       9: aload_2
      10: aload_0
      11: getfield      #79                 // Field stat:Lorg/apache/hadoop/hdfs/protocol/HdfsFileStatus;
      14: invokeinterface #282,  1          // InterfaceMethod org/apache/hadoop/hdfs/protocol/HdfsFileStatus.getFileId:()J
      19: aload_0
      20: getfield      #85                 // Field favoredNodes:[Ljava/lang/String;
      23: aload_0
      24: getfield      #93                 // Field addBlockFlags:Ljava/util/EnumSet;
      27: invokestatic  #445                // Method org/apache/hadoop/hdfs/DFSOutputStream.addBlock:([Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;Lorg/apache/hadoop/hdfs/DFSClient;Ljava/lang/String;Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;J[Ljava/lang/String;Ljava/util/EnumSet;)Lorg/apache/hadoop/hdfs/protocol/LocatedBlock;
      30: areturn

  private void backOffIfNecessary() throws java.lang.InterruptedException;
    Code:
       0: iconst_0
       1: istore_1
       2: aload_0
       3: getfield      #9                  // Field congestedNodes:Ljava/util/List;
       6: dup
       7: astore_2
       8: monitorenter
       9: aload_0
      10: getfield      #9                  // Field congestedNodes:Ljava/util/List;
      13: invokeinterface #446,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      18: ifne          172
      21: new           #104                // class java/lang/StringBuilder
      24: dup
      25: ldc_w         #447                // String DataNode
      28: invokespecial #448                // Method java/lang/StringBuilder."<init>":(Ljava/lang/String;)V
      31: astore_3
      32: aload_0
      33: getfield      #9                  // Field congestedNodes:Ljava/util/List;
      36: invokeinterface #38,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      41: astore        4
      43: aload         4
      45: invokeinterface #39,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      50: ifeq          80
      53: aload         4
      55: invokeinterface #40,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      60: checkcast     #285                // class org/apache/hadoop/hdfs/protocol/DatanodeInfo
      63: astore        5
      65: aload_3
      66: bipush        32
      68: invokevirtual #449                // Method java/lang/StringBuilder.append:(C)Ljava/lang/StringBuilder;
      71: aload         5
      73: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      76: pop
      77: goto          43
      80: aload_0
      81: getfield      #8                  // Field lastCongestionBackoffTime:I
      84: iconst_3
      85: imul
      86: sipush        5000
      89: isub
      90: invokestatic  #450                // Method java/lang/Math.abs:(I)I
      93: istore        4
      95: aload_0
      96: getfield      #8                  // Field lastCongestionBackoffTime:I
      99: iconst_3
     100: imul
     101: sipush        5000
     104: invokestatic  #451                // Method java/lang/Math.min:(II)I
     107: istore        5
     109: ldc_w         #452                // int 50000
     112: iload         5
     114: i2d
     115: invokestatic  #453                // Method java/lang/Math.random:()D
     118: iload         4
     120: i2d
     121: dmul
     122: dadd
     123: d2i
     124: invokestatic  #451                // Method java/lang/Math.min:(II)I
     127: istore_1
     128: aload_0
     129: iload_1
     130: putfield      #8                  // Field lastCongestionBackoffTime:I
     133: aload_3
     134: ldc_w         #454                // String  are congested. Backing off for
     137: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: iload_1
     141: invokevirtual #294                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     144: ldc_w         #455                // String  ms
     147: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     150: pop
     151: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
     154: aload_3
     155: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     158: invokeinterface #255,  2          // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     163: aload_0
     164: getfield      #9                  // Field congestedNodes:Ljava/util/List;
     167: invokeinterface #43,  1           // InterfaceMethod java/util/List.clear:()V
     172: aload_2
     173: monitorexit
     174: goto          184
     177: astore        6
     179: aload_2
     180: monitorexit
     181: aload         6
     183: athrow
     184: iload_1
     185: ifeq          193
     188: iload_1
     189: i2l
     190: invokestatic  #189                // Method java/lang/Thread.sleep:(J)V
     193: return
    Exception table:
       from    to  target type
           9   174   177   any
         177   181   177   any

  org.apache.hadoop.hdfs.protocol.ExtendedBlock getBlock();
    Code:
       0: aload_0
       1: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
       4: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
       7: areturn

  org.apache.hadoop.hdfs.protocol.DatanodeInfo[] getNodes();
    Code:
       0: aload_0
       1: getfield      #47                 // Field nodes:[Lorg/apache/hadoop/hdfs/protocol/DatanodeInfo;
       4: areturn

  java.lang.String[] getStorageIDs();
    Code:
       0: aload_0
       1: getfield      #49                 // Field storageIDs:[Ljava/lang/String;
       4: areturn

  org.apache.hadoop.hdfs.protocol.datatransfer.BlockConstructionStage getStage();
    Code:
       0: aload_0
       1: getfield      #96                 // Field stage:Lorg/apache/hadoop/hdfs/protocol/datatransfer/BlockConstructionStage;
       4: areturn

  org.apache.hadoop.security.token.Token<org.apache.hadoop.hdfs.security.token.block.BlockTokenIdentifier> getBlockToken();
    Code:
       0: aload_0
       1: getfield      #101                // Field accessToken:Lorg/apache/hadoop/security/token/Token;
       4: areturn

  org.apache.hadoop.hdfs.DataStreamer$ErrorState getErrorState();
    Code:
       0: aload_0
       1: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
       4: areturn

  void queuePacket(org.apache.hadoop.hdfs.DFSPacket);
    Code:
       0: aload_0
       1: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
       4: dup
       5: astore_2
       6: monitorenter
       7: aload_1
       8: ifnonnull     14
      11: aload_2
      12: monitorexit
      13: return
      14: aload_1
      15: invokestatic  #456                // Method org/apache/htrace/core/Tracer.getCurrentSpanId:()Lorg/apache/htrace/core/SpanId;
      18: invokevirtual #457                // Method org/apache/hadoop/hdfs/DFSPacket.addTraceParent:(Lorg/apache/htrace/core/SpanId;)V
      21: aload_0
      22: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      25: aload_1
      26: invokevirtual #176                // Method java/util/LinkedList.addLast:(Ljava/lang/Object;)V
      29: aload_0
      30: aload_1
      31: invokevirtual #177                // Method org/apache/hadoop/hdfs/DFSPacket.getSeqno:()J
      34: putfield      #59                 // Field lastQueuedSeqno:J
      37: getstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      40: ldc_w         #458                // String Queued {}, {}
      43: aload_1
      44: aload_0
      45: invokeinterface #155,  4          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      50: aload_0
      51: getfield      #66                 // Field dataQueue:Ljava/util/LinkedList;
      54: invokevirtual #180                // Method java/lang/Object.notifyAll:()V
      57: aload_2
      58: monitorexit
      59: goto          67
      62: astore_3
      63: aload_2
      64: monitorexit
      65: aload_3
      66: athrow
      67: return
    Exception table:
       from    to  target type
           7    13    62   any
          14    59    62   any
          62    65    62   any

  private org.apache.hadoop.hdfs.DFSPacket createHeartbeatPacket();
    Code:
       0: getstatic     #459                // Field org/apache/hadoop/hdfs/protocol/datatransfer/PacketHeader.PKT_MAX_HEADER_LEN:I
       3: newarray       byte
       5: astore_1
       6: new           #41                 // class org/apache/hadoop/hdfs/DFSPacket
       9: dup
      10: aload_1
      11: iconst_0
      12: lconst_0
      13: ldc2_w        #57                 // long -1l
      16: iconst_0
      17: iconst_0
      18: invokespecial #460                // Method org/apache/hadoop/hdfs/DFSPacket."<init>":([BIJJIZ)V
      21: areturn

  private static com.google.common.cache.LoadingCache<org.apache.hadoop.hdfs.protocol.DatanodeInfo, org.apache.hadoop.hdfs.protocol.DatanodeInfo> initExcludedNodes(long);
    Code:
       0: invokestatic  #461                // Method com/google/common/cache/CacheBuilder.newBuilder:()Lcom/google/common/cache/CacheBuilder;
       3: lload_0
       4: getstatic     #462                // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
       7: invokevirtual #463                // Method com/google/common/cache/CacheBuilder.expireAfterWrite:(JLjava/util/concurrent/TimeUnit;)Lcom/google/common/cache/CacheBuilder;
      10: new           #464                // class org/apache/hadoop/hdfs/DataStreamer$2
      13: dup
      14: invokespecial #465                // Method org/apache/hadoop/hdfs/DataStreamer$2."<init>":()V
      17: invokevirtual #466                // Method com/google/common/cache/CacheBuilder.removalListener:(Lcom/google/common/cache/RemovalListener;)Lcom/google/common/cache/CacheBuilder;
      20: new           #467                // class org/apache/hadoop/hdfs/DataStreamer$1
      23: dup
      24: invokespecial #468                // Method org/apache/hadoop/hdfs/DataStreamer$1."<init>":()V
      27: invokevirtual #469                // Method com/google/common/cache/CacheBuilder.build:(Lcom/google/common/cache/CacheLoader;)Lcom/google/common/cache/LoadingCache;
      30: areturn

  private static <T> void arraycopy(T[], T[], int);
    Code:
       0: aload_0
       1: iconst_0
       2: aload_1
       3: iconst_0
       4: iload_2
       5: invokestatic  #470                // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
       8: aload_0
       9: iload_2
      10: iconst_1
      11: iadd
      12: aload_1
      13: iload_2
      14: aload_1
      15: arraylength
      16: iload_2
      17: isub
      18: invokestatic  #470                // Method java/lang/System.arraycopy:(Ljava/lang/Object;ILjava/lang/Object;II)V
      21: return

  java.util.concurrent.atomic.AtomicBoolean getPersistBlocks();
    Code:
       0: aload_0
       1: getfield      #71                 // Field persistBlocks:Ljava/util/concurrent/atomic/AtomicBoolean;
       4: areturn

  void setAppendChunk(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #63                 // Field appendChunk:Z
       5: return

  boolean getAppendChunk();
    Code:
       0: aload_0
       1: getfield      #63                 // Field appendChunk:Z
       4: ireturn

  org.apache.hadoop.hdfs.DataStreamer$LastExceptionInStreamer getLastException();
    Code:
       0: aload_0
       1: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
       4: areturn

  void setSocketToNull();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #240                // Field s:Ljava/net/Socket;
       5: return

  long getAndIncCurrentSeqno();
    Code:
       0: aload_0
       1: getfield      #56                 // Field currentSeqno:J
       4: lstore_1
       5: aload_0
       6: dup
       7: getfield      #56                 // Field currentSeqno:J
      10: lconst_1
      11: ladd
      12: putfield      #56                 // Field currentSeqno:J
      15: lload_1
      16: lreturn

  long getLastQueuedSeqno();
    Code:
       0: aload_0
       1: getfield      #59                 // Field lastQueuedSeqno:J
       4: lreturn

  long getBytesCurBlock();
    Code:
       0: aload_0
       1: getfield      #60                 // Field bytesCurBlock:J
       4: lreturn

  void setBytesCurBlock(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #60                 // Field bytesCurBlock:J
       5: return

  void incBytesCurBlock(long);
    Code:
       0: aload_0
       1: dup
       2: getfield      #60                 // Field bytesCurBlock:J
       5: lload_1
       6: ladd
       7: putfield      #60                 // Field bytesCurBlock:J
      10: return

  void setArtificialSlowdown(long);
    Code:
       0: aload_0
       1: lload_1
       2: putfield      #72                 // Field artificialSlowdown:J
       5: return

  boolean streamerClosed();
    Code:
       0: aload_0
       1: getfield      #45                 // Field streamerClosed:Z
       4: ireturn

  int getPipelineRecoveryCount();
    Code:
       0: aload_0
       1: getfield      #4                  // Field pipelineRecoveryCount:I
       4: ireturn

  void closeSocket() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #240                // Field s:Ljava/net/Socket;
       4: ifnull        14
       7: aload_0
       8: getfield      #240                // Field s:Ljava/net/Socket;
      11: invokevirtual #241                // Method java/net/Socket.close:()V
      14: return

  public java.lang.String toString();
    Code:
       0: aload_0
       1: getfield      #75                 // Field block:Lorg/apache/hadoop/hdfs/DataStreamer$BlockToWrite;
       4: invokevirtual #283                // Method org/apache/hadoop/hdfs/DataStreamer$BlockToWrite.getCurrentBlock:()Lorg/apache/hadoop/hdfs/protocol/ExtendedBlock;
       7: astore_1
       8: aload_1
       9: ifnonnull     18
      12: ldc_w         #471                // String block==null
      15: goto          41
      18: new           #104                // class java/lang/StringBuilder
      21: dup
      22: invokespecial #105                // Method java/lang/StringBuilder."<init>":()V
      25: ldc_w         #383                // String
      28: invokevirtual #107                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: aload_1
      32: invokevirtual #472                // Method org/apache/hadoop/hdfs/protocol/ExtendedBlock.getLocalBlock:()Lorg/apache/hadoop/hdfs/protocol/Block;
      35: invokevirtual #108                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      38: invokevirtual #110                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      41: areturn

  static java.io.DataInputStream access$000(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #13                 // Field blockReplyStream:Ljava/io/DataInputStream;
       4: areturn

  static java.util.Map access$100(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #12                 // Field packetSendTime:Ljava/util/Map;
       4: areturn

  static long access$200(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #11                 // Field dfsclientSlowLogThresholdMs:J
       4: lreturn

  static org.apache.hadoop.hdfs.DataStreamer$ErrorState access$300(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #10                 // Field errorState:Lorg/apache/hadoop/hdfs/DataStreamer$ErrorState;
       4: areturn

  static java.util.List access$400(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #9                  // Field congestedNodes:Ljava/util/List;
       4: areturn

  static int access$502(org.apache.hadoop.hdfs.DataStreamer, int);
    Code:
       0: aload_0
       1: iload_1
       2: dup_x1
       3: putfield      #8                  // Field lastCongestionBackoffTime:I
       6: ireturn

  static java.util.LinkedList access$600(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #7                  // Field ackQueue:Ljava/util/LinkedList;
       4: areturn

  static boolean access$702(org.apache.hadoop.hdfs.DataStreamer, boolean);
    Code:
       0: aload_0
       1: iload_1
       2: dup_x1
       3: putfield      #6                  // Field failPacket:Z
       6: ireturn

  static long access$802(org.apache.hadoop.hdfs.DataStreamer, long);
    Code:
       0: aload_0
       1: lload_1
       2: dup2_x1
       3: putfield      #5                  // Field lastAckedSeqno:J
       6: lreturn

  static int access$902(org.apache.hadoop.hdfs.DataStreamer, int);
    Code:
       0: aload_0
       1: iload_1
       2: dup_x1
       3: putfield      #4                  // Field pipelineRecoveryCount:I
       6: ireturn

  static org.apache.hadoop.hdfs.util.ByteArrayManager access$1000(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #3                  // Field byteArrayManager:Lorg/apache/hadoop/hdfs/util/ByteArrayManager;
       4: areturn

  static org.apache.hadoop.hdfs.DataStreamer$LastExceptionInStreamer access$1100(org.apache.hadoop.hdfs.DataStreamer);
    Code:
       0: aload_0
       1: getfield      #2                  // Field lastException:Lorg/apache/hadoop/hdfs/DataStreamer$LastExceptionInStreamer;
       4: areturn

  static {};
    Code:
       0: ldc           #1                  // class org/apache/hadoop/hdfs/DataStreamer
       2: invokevirtual #473                // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #196                // Field $assertionsDisabled:Z
      16: ldc           #1                  // class org/apache/hadoop/hdfs/DataStreamer
      18: invokestatic  #474                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      21: putstatic     #17                 // Field LOG:Lorg/slf4j/Logger;
      24: return
}
