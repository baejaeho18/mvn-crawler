Compiled from "Archive.java"
public class org.apache.commons.compress.harmony.pack200.Archive {
  private final java.util.jar.JarInputStream jarInputStream;

  private final java.io.OutputStream outputStream;

  private java.util.jar.JarFile jarFile;

  private long currentSegmentSize;

  private final org.apache.commons.compress.harmony.pack200.PackingOptions options;

  public org.apache.commons.compress.harmony.pack200.Archive(java.util.jar.JarInputStream, java.io.OutputStream, org.apache.commons.compress.harmony.pack200.PackingOptions) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field jarInputStream:Ljava/util/jar/JarInputStream;
       9: aload_3
      10: ifnonnull     21
      13: new           #3                  // class org/apache/commons/compress/harmony/pack200/PackingOptions
      16: dup
      17: invokespecial #4                  // Method org/apache/commons/compress/harmony/pack200/PackingOptions."<init>":()V
      20: astore_3
      21: aload_0
      22: aload_3
      23: putfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
      26: aload_3
      27: invokevirtual #6                  // Method org/apache/commons/compress/harmony/pack200/PackingOptions.isGzip:()Z
      30: ifeq          42
      33: new           #7                  // class java/util/zip/GZIPOutputStream
      36: dup
      37: aload_2
      38: invokespecial #8                  // Method java/util/zip/GZIPOutputStream."<init>":(Ljava/io/OutputStream;)V
      41: astore_2
      42: aload_0
      43: new           #9                  // class java/io/BufferedOutputStream
      46: dup
      47: aload_2
      48: invokespecial #10                 // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
      51: putfield      #11                 // Field outputStream:Ljava/io/OutputStream;
      54: aload_3
      55: invokestatic  #12                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.config:(Lorg/apache/commons/compress/harmony/pack200/PackingOptions;)V
      58: return

  public org.apache.commons.compress.harmony.pack200.Archive(java.util.jar.JarFile, java.io.OutputStream, org.apache.commons.compress.harmony.pack200.PackingOptions) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_3
       5: ifnonnull     16
       8: new           #3                  // class org/apache/commons/compress/harmony/pack200/PackingOptions
      11: dup
      12: invokespecial #4                  // Method org/apache/commons/compress/harmony/pack200/PackingOptions."<init>":()V
      15: astore_3
      16: aload_0
      17: aload_3
      18: putfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
      21: aload_3
      22: invokevirtual #6                  // Method org/apache/commons/compress/harmony/pack200/PackingOptions.isGzip:()Z
      25: ifeq          37
      28: new           #7                  // class java/util/zip/GZIPOutputStream
      31: dup
      32: aload_2
      33: invokespecial #8                  // Method java/util/zip/GZIPOutputStream."<init>":(Ljava/io/OutputStream;)V
      36: astore_2
      37: aload_0
      38: new           #9                  // class java/io/BufferedOutputStream
      41: dup
      42: aload_2
      43: invokespecial #10                 // Method java/io/BufferedOutputStream."<init>":(Ljava/io/OutputStream;)V
      46: putfield      #11                 // Field outputStream:Ljava/io/OutputStream;
      49: aload_0
      50: aload_1
      51: putfield      #13                 // Field jarFile:Ljava/util/jar/JarFile;
      54: aload_0
      55: aconst_null
      56: putfield      #2                  // Field jarInputStream:Ljava/util/jar/JarInputStream;
      59: aload_3
      60: invokestatic  #12                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.config:(Lorg/apache/commons/compress/harmony/pack200/PackingOptions;)V
      63: return

  public void pack() throws org.apache.commons.compress.harmony.pack200.Pack200Exception, java.io.IOException;
    Code:
       0: iconst_0
       1: aload_0
       2: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
       5: invokevirtual #14                 // Method org/apache/commons/compress/harmony/pack200/PackingOptions.getEffort:()I
       8: if_icmpne     18
      11: aload_0
      12: invokespecial #15                 // Method doZeroEffortPack:()V
      15: goto          22
      18: aload_0
      19: invokespecial #16                 // Method doNormalPack:()V
      22: return

  private void doZeroEffortPack() throws java.io.IOException, org.apache.commons.compress.harmony.pack200.Pack200Exception;
    Code:
       0: ldc           #17                 // String Start to perform a zero-effort packing
       2: invokestatic  #18                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.log:(Ljava/lang/String;)V
       5: aload_0
       6: getfield      #2                  // Field jarInputStream:Ljava/util/jar/JarInputStream;
       9: ifnull        26
      12: aload_0
      13: getfield      #2                  // Field jarInputStream:Ljava/util/jar/JarInputStream;
      16: aload_0
      17: getfield      #11                 // Field outputStream:Ljava/io/OutputStream;
      20: invokestatic  #19                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.copyThroughJar:(Ljava/util/jar/JarInputStream;Ljava/io/OutputStream;)V
      23: goto          37
      26: aload_0
      27: getfield      #13                 // Field jarFile:Ljava/util/jar/JarFile;
      30: aload_0
      31: getfield      #11                 // Field outputStream:Ljava/io/OutputStream;
      34: invokestatic  #20                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.copyThroughJar:(Ljava/util/jar/JarFile;Ljava/io/OutputStream;)V
      37: return

  private void doNormalPack() throws java.io.IOException, org.apache.commons.compress.harmony.pack200.Pack200Exception;
    Code:
       0: ldc           #21                 // String Start to perform a normal packing
       2: invokestatic  #18                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.log:(Ljava/lang/String;)V
       5: aload_0
       6: getfield      #2                  // Field jarInputStream:Ljava/util/jar/JarInputStream;
       9: ifnull        30
      12: aload_0
      13: getfield      #2                  // Field jarInputStream:Ljava/util/jar/JarInputStream;
      16: aload_0
      17: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
      20: invokevirtual #22                 // Method org/apache/commons/compress/harmony/pack200/PackingOptions.isKeepFileOrder:()Z
      23: invokestatic  #23                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.getPackingFileListFromJar:(Ljava/util/jar/JarInputStream;Z)Ljava/util/List;
      26: astore_1
      27: goto          45
      30: aload_0
      31: getfield      #13                 // Field jarFile:Ljava/util/jar/JarFile;
      34: aload_0
      35: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
      38: invokevirtual #22                 // Method org/apache/commons/compress/harmony/pack200/PackingOptions.isKeepFileOrder:()Z
      41: invokestatic  #24                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.getPackingFileListFromJar:(Ljava/util/jar/JarFile;Z)Ljava/util/List;
      44: astore_1
      45: aload_0
      46: aload_1
      47: invokespecial #25                 // Method splitIntoSegments:(Ljava/util/List;)Ljava/util/List;
      50: astore_2
      51: iconst_0
      52: istore_3
      53: iconst_0
      54: istore        4
      56: aload_2
      57: invokeinterface #26,  1           // InterfaceMethod java/util/List.size:()I
      62: istore        5
      64: iconst_0
      65: istore        7
      67: iload         7
      69: iload         5
      71: if_icmpge     131
      74: aload_2
      75: iload         7
      77: invokeinterface #27,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      82: checkcast     #28                 // class org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit
      85: astore        6
      87: new           #29                 // class org/apache/commons/compress/harmony/pack200/Segment
      90: dup
      91: invokespecial #30                 // Method org/apache/commons/compress/harmony/pack200/Segment."<init>":()V
      94: aload         6
      96: aload_0
      97: getfield      #11                 // Field outputStream:Ljava/io/OutputStream;
     100: aload_0
     101: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
     104: invokevirtual #31                 // Method org/apache/commons/compress/harmony/pack200/Segment.pack:(Lorg/apache/commons/compress/harmony/pack200/Archive$SegmentUnit;Ljava/io/OutputStream;Lorg/apache/commons/compress/harmony/pack200/PackingOptions;)V
     107: iload_3
     108: aload         6
     110: invokevirtual #32                 // Method org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit.getByteAmount:()I
     113: iadd
     114: istore_3
     115: iload         4
     117: aload         6
     119: invokevirtual #33                 // Method org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit.getPackedByteAmount:()I
     122: iadd
     123: istore        4
     125: iinc          7, 1
     128: goto          67
     131: new           #34                 // class java/lang/StringBuilder
     134: dup
     135: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     138: ldc           #36                 // String Total: Packed
     140: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     143: iload_3
     144: invokevirtual #38                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     147: ldc           #39                 // String  input bytes of
     149: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: aload_1
     153: invokeinterface #26,  1           // InterfaceMethod java/util/List.size:()I
     158: invokevirtual #38                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     161: ldc           #40                 // String  files into
     163: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: iload         4
     168: invokevirtual #38                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     171: ldc           #41                 // String  bytes in
     173: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     176: iload         5
     178: invokevirtual #38                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     181: ldc           #42                 // String  segments
     183: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     186: invokevirtual #43                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     189: invokestatic  #18                 // Method org/apache/commons/compress/harmony/pack200/PackingUtils.log:(Ljava/lang/String;)V
     192: aload_0
     193: getfield      #11                 // Field outputStream:Ljava/io/OutputStream;
     196: invokevirtual #44                 // Method java/io/OutputStream.close:()V
     199: return

  private java.util.List splitIntoSegments(java.util.List) throws java.io.IOException, org.apache.commons.compress.harmony.pack200.Pack200Exception;
    Code:
       0: new           #45                 // class java/util/ArrayList
       3: dup
       4: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: new           #45                 // class java/util/ArrayList
      11: dup
      12: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
      15: astore_3
      16: new           #45                 // class java/util/ArrayList
      19: dup
      20: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
      23: astore        4
      25: aload_0
      26: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
      29: invokevirtual #47                 // Method org/apache/commons/compress/harmony/pack200/PackingOptions.getSegmentLimit:()J
      32: lstore        5
      34: aload_1
      35: invokeinterface #26,  1           // InterfaceMethod java/util/List.size:()I
      40: istore        7
      42: iconst_0
      43: istore        9
      45: iload         9
      47: iload         7
      49: if_icmpge     192
      52: aload_1
      53: iload         9
      55: invokeinterface #27,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      60: checkcast     #48                 // class org/apache/commons/compress/harmony/pack200/Archive$PackingFile
      63: astore        8
      65: aload_0
      66: aload         8
      68: aload_3
      69: aload         4
      71: invokespecial #49                 // Method addJarEntry:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;Ljava/util/List;Ljava/util/List;)Z
      74: ifne          134
      77: aload_2
      78: new           #28                 // class org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit
      81: dup
      82: aload_3
      83: aload         4
      85: invokespecial #50                 // Method org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit."<init>":(Ljava/util/List;Ljava/util/List;)V
      88: invokeinterface #51,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      93: pop
      94: new           #45                 // class java/util/ArrayList
      97: dup
      98: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
     101: astore_3
     102: new           #45                 // class java/util/ArrayList
     105: dup
     106: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
     109: astore        4
     111: aload_0
     112: lconst_0
     113: putfield      #52                 // Field currentSegmentSize:J
     116: aload_0
     117: aload         8
     119: aload_3
     120: aload         4
     122: invokespecial #49                 // Method addJarEntry:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;Ljava/util/List;Ljava/util/List;)Z
     125: pop
     126: aload_0
     127: lconst_0
     128: putfield      #52                 // Field currentSegmentSize:J
     131: goto          186
     134: lload         5
     136: lconst_0
     137: lcmp
     138: ifne          186
     141: aload_0
     142: aload         8
     144: invokespecial #53                 // Method estimateSize:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;)J
     147: lconst_0
     148: lcmp
     149: ifle          186
     152: aload_2
     153: new           #28                 // class org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit
     156: dup
     157: aload_3
     158: aload         4
     160: invokespecial #50                 // Method org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit."<init>":(Ljava/util/List;Ljava/util/List;)V
     163: invokeinterface #51,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     168: pop
     169: new           #45                 // class java/util/ArrayList
     172: dup
     173: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
     176: astore_3
     177: new           #45                 // class java/util/ArrayList
     180: dup
     181: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
     184: astore        4
     186: iinc          9, 1
     189: goto          45
     192: aload_3
     193: invokeinterface #26,  1           // InterfaceMethod java/util/List.size:()I
     198: ifgt          211
     201: aload         4
     203: invokeinterface #26,  1           // InterfaceMethod java/util/List.size:()I
     208: ifle          228
     211: aload_2
     212: new           #28                 // class org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit
     215: dup
     216: aload_3
     217: aload         4
     219: invokespecial #50                 // Method org/apache/commons/compress/harmony/pack200/Archive$SegmentUnit."<init>":(Ljava/util/List;Ljava/util/List;)V
     222: invokeinterface #51,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     227: pop
     228: aload_2
     229: areturn

  private boolean addJarEntry(org.apache.commons.compress.harmony.pack200.Archive$PackingFile, java.util.List, java.util.List) throws java.io.IOException, org.apache.commons.compress.harmony.pack200.Pack200Exception;
    Code:
       0: aload_0
       1: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
       4: invokevirtual #47                 // Method org/apache/commons/compress/harmony/pack200/PackingOptions.getSegmentLimit:()J
       7: lstore        4
       9: lload         4
      11: ldc2_w        #54                 // long -1l
      14: lcmp
      15: ifeq          67
      18: lload         4
      20: lconst_0
      21: lcmp
      22: ifeq          67
      25: aload_0
      26: aload_1
      27: invokespecial #53                 // Method estimateSize:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;)J
      30: lstore        6
      32: lload         6
      34: aload_0
      35: getfield      #52                 // Field currentSegmentSize:J
      38: ladd
      39: lload         4
      41: lcmp
      42: ifle          56
      45: aload_0
      46: getfield      #52                 // Field currentSegmentSize:J
      49: lconst_0
      50: lcmp
      51: ifle          56
      54: iconst_0
      55: ireturn
      56: aload_0
      57: dup
      58: getfield      #52                 // Field currentSegmentSize:J
      61: lload         6
      63: ladd
      64: putfield      #52                 // Field currentSegmentSize:J
      67: aload_1
      68: invokevirtual #56                 // Method org/apache/commons/compress/harmony/pack200/Archive$PackingFile.getName:()Ljava/lang/String;
      71: astore        6
      73: aload         6
      75: ldc           #57                 // String .class
      77: invokevirtual #58                 // Method java/lang/String.endsWith:(Ljava/lang/String;)Z
      80: ifeq          132
      83: aload_0
      84: getfield      #5                  // Field options:Lorg/apache/commons/compress/harmony/pack200/PackingOptions;
      87: aload         6
      89: invokevirtual #59                 // Method org/apache/commons/compress/harmony/pack200/PackingOptions.isPassFile:(Ljava/lang/String;)Z
      92: ifne          132
      95: new           #60                 // class org/apache/commons/compress/harmony/pack200/Pack200ClassReader
      98: dup
      99: aload_1
     100: invokestatic  #61                 // Method org/apache/commons/compress/harmony/pack200/Archive$PackingFile.access$000:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;)[B
     103: invokespecial #62                 // Method org/apache/commons/compress/harmony/pack200/Pack200ClassReader."<init>":([B)V
     106: astore        7
     108: aload         7
     110: aload         6
     112: invokevirtual #63                 // Method org/apache/commons/compress/harmony/pack200/Pack200ClassReader.setFileName:(Ljava/lang/String;)V
     115: aload_2
     116: aload         7
     118: invokeinterface #51,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     123: pop
     124: aload_1
     125: iconst_0
     126: newarray       byte
     128: invokestatic  #64                 // Method org/apache/commons/compress/harmony/pack200/Archive$PackingFile.access$002:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;[B)[B
     131: pop
     132: aload_3
     133: aload_1
     134: invokeinterface #51,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     139: pop
     140: iconst_1
     141: ireturn

  private long estimateSize(org.apache.commons.compress.harmony.pack200.Archive$PackingFile);
    Code:
       0: aload_1
       1: invokevirtual #56                 // Method org/apache/commons/compress/harmony/pack200/Archive$PackingFile.getName:()Ljava/lang/String;
       4: astore_2
       5: aload_2
       6: ldc           #65                 // String META-INF
       8: invokevirtual #66                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      11: ifne          23
      14: aload_2
      15: ldc           #67                 // String /META-INF
      17: invokevirtual #66                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      20: ifeq          25
      23: lconst_0
      24: lreturn
      25: aload_1
      26: invokestatic  #61                 // Method org/apache/commons/compress/harmony/pack200/Archive$PackingFile.access$000:(Lorg/apache/commons/compress/harmony/pack200/Archive$PackingFile;)[B
      29: arraylength
      30: i2l
      31: lstore_3
      32: lload_3
      33: lconst_0
      34: lcmp
      35: ifge          40
      38: lconst_0
      39: lstore_3
      40: aload_2
      41: invokevirtual #68                 // Method java/lang/String.length:()I
      44: i2l
      45: lload_3
      46: ladd
      47: ldc2_w        #69                 // long 5l
      50: ladd
      51: lreturn
}
