Compiled from "CryptoUtils.java"
public class org.apache.hadoop.mapreduce.CryptoUtils {
  private static final org.slf4j.Logger LOG;

  public org.apache.hadoop.mapreduce.CryptoUtils();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public static boolean isEncryptedSpillEnabled(org.apache.hadoop.conf.Configuration);
    Code:
       0: aload_0
       1: ldc           #3                  // String mapreduce.job.encrypted-intermediate-data
       3: iconst_0
       4: invokevirtual #4                  // Method org/apache/hadoop/conf/Configuration.getBoolean:(Ljava/lang/String;Z)Z
       7: ireturn

  public static byte[] createIV(org.apache.hadoop.conf.Configuration) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #5                  // Method org/apache/hadoop/crypto/CryptoCodec.getInstance:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/crypto/CryptoCodec;
       4: astore_1
       5: aload_0
       6: invokestatic  #6                  // Method isEncryptedSpillEnabled:(Lorg/apache/hadoop/conf/Configuration;)Z
       9: ifeq          33
      12: aload_1
      13: invokevirtual #7                  // Method org/apache/hadoop/crypto/CryptoCodec.getCipherSuite:()Lorg/apache/hadoop/crypto/CipherSuite;
      16: invokevirtual #8                  // Method org/apache/hadoop/crypto/CipherSuite.getAlgorithmBlockSize:()I
      19: newarray       byte
      21: astore_2
      22: aload_1
      23: aload_2
      24: invokevirtual #9                  // Method org/apache/hadoop/crypto/CryptoCodec.generateSecureRandom:([B)V
      27: aload_1
      28: invokevirtual #10                 // Method org/apache/hadoop/crypto/CryptoCodec.close:()V
      31: aload_2
      32: areturn
      33: aconst_null
      34: areturn

  public static int cryptoPadding(org.apache.hadoop.conf.Configuration) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #6                  // Method isEncryptedSpillEnabled:(Lorg/apache/hadoop/conf/Configuration;)Z
       4: ifne          9
       7: iconst_0
       8: ireturn
       9: aload_0
      10: invokestatic  #5                  // Method org/apache/hadoop/crypto/CryptoCodec.getInstance:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/crypto/CryptoCodec;
      13: astore_1
      14: aload_1
      15: invokevirtual #7                  // Method org/apache/hadoop/crypto/CryptoCodec.getCipherSuite:()Lorg/apache/hadoop/crypto/CipherSuite;
      18: invokevirtual #8                  // Method org/apache/hadoop/crypto/CipherSuite.getAlgorithmBlockSize:()I
      21: bipush        8
      23: iadd
      24: istore_2
      25: aload_1
      26: invokevirtual #10                 // Method org/apache/hadoop/crypto/CryptoCodec.close:()V
      29: iload_2
      30: ireturn
      31: astore_3
      32: aload_1
      33: invokevirtual #10                 // Method org/apache/hadoop/crypto/CryptoCodec.close:()V
      36: aload_3
      37: athrow
    Exception table:
       from    to  target type
          14    25    31   any

  private static byte[] getEncryptionKey() throws java.io.IOException;
    Code:
       0: invokestatic  #11                 // Method org/apache/hadoop/security/UserGroupInformation.getCurrentUser:()Lorg/apache/hadoop/security/UserGroupInformation;
       3: invokevirtual #12                 // Method org/apache/hadoop/security/UserGroupInformation.getCredentials:()Lorg/apache/hadoop/security/Credentials;
       6: invokestatic  #13                 // Method org/apache/hadoop/mapreduce/security/TokenCache.getEncryptedSpillKey:(Lorg/apache/hadoop/security/Credentials;)[B
       9: areturn

  private static int getBufferSize(org.apache.hadoop.conf.Configuration);
    Code:
       0: aload_0
       1: ldc           #14                 // String mapreduce.job.encrypted-intermediate-data.buffer.kb
       3: sipush        128
       6: invokevirtual #15                 // Method org/apache/hadoop/conf/Configuration.getInt:(Ljava/lang/String;I)I
       9: sipush        1024
      12: imul
      13: ireturn

  public static org.apache.hadoop.fs.FSDataOutputStream wrapIfNecessary(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FSDataOutputStream) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: iconst_1
       3: invokestatic  #16                 // Method wrapIfNecessary:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FSDataOutputStream;Z)Lorg/apache/hadoop/fs/FSDataOutputStream;
       6: areturn

  public static org.apache.hadoop.fs.FSDataOutputStream wrapIfNecessary(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FSDataOutputStream, boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #6                  // Method isEncryptedSpillEnabled:(Lorg/apache/hadoop/conf/Configuration;)Z
       4: ifeq          104
       7: aload_1
       8: bipush        8
      10: invokestatic  #17                 // Method java/nio/ByteBuffer.allocate:(I)Ljava/nio/ByteBuffer;
      13: aload_1
      14: invokevirtual #18                 // Method org/apache/hadoop/fs/FSDataOutputStream.getPos:()J
      17: invokevirtual #19                 // Method java/nio/ByteBuffer.putLong:(J)Ljava/nio/ByteBuffer;
      20: invokevirtual #20                 // Method java/nio/ByteBuffer.array:()[B
      23: invokevirtual #21                 // Method org/apache/hadoop/fs/FSDataOutputStream.write:([B)V
      26: aload_0
      27: invokestatic  #22                 // Method createIV:(Lorg/apache/hadoop/conf/Configuration;)[B
      30: astore_3
      31: aload_1
      32: aload_3
      33: invokevirtual #21                 // Method org/apache/hadoop/fs/FSDataOutputStream.write:([B)V
      36: getstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
      39: invokeinterface #24,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      44: ifeq          82
      47: getstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
      50: new           #25                 // class java/lang/StringBuilder
      53: dup
      54: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      57: ldc           #27                 // String IV written to Stream [
      59: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: aload_3
      63: invokestatic  #29                 // Method org/apache/commons/codec/binary/Base64.encodeBase64URLSafeString:([B)Ljava/lang/String;
      66: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      69: ldc           #30                 // String ]
      71: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      77: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      82: new           #33                 // class org/apache/hadoop/fs/crypto/CryptoFSDataOutputStream
      85: dup
      86: aload_1
      87: aload_0
      88: invokestatic  #5                  // Method org/apache/hadoop/crypto/CryptoCodec.getInstance:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/crypto/CryptoCodec;
      91: aload_0
      92: invokestatic  #34                 // Method getBufferSize:(Lorg/apache/hadoop/conf/Configuration;)I
      95: invokestatic  #35                 // Method getEncryptionKey:()[B
      98: aload_3
      99: iload_2
     100: invokespecial #36                 // Method org/apache/hadoop/fs/crypto/CryptoFSDataOutputStream."<init>":(Lorg/apache/hadoop/fs/FSDataOutputStream;Lorg/apache/hadoop/crypto/CryptoCodec;I[B[BZ)V
     103: areturn
     104: aload_1
     105: areturn

  public static java.io.InputStream wrapIfNecessary(org.apache.hadoop.conf.Configuration, java.io.InputStream, long) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #6                  // Method isEncryptedSpillEnabled:(Lorg/apache/hadoop/conf/Configuration;)Z
       4: ifeq          162
       7: aload_0
       8: invokestatic  #34                 // Method getBufferSize:(Lorg/apache/hadoop/conf/Configuration;)I
      11: istore        4
      13: lload_2
      14: ldc2_w        #37                 // long -1l
      17: lcmp
      18: ifle          31
      21: new           #39                 // class org/apache/hadoop/util/LimitInputStream
      24: dup
      25: aload_1
      26: lload_2
      27: invokespecial #40                 // Method org/apache/hadoop/util/LimitInputStream."<init>":(Ljava/io/InputStream;J)V
      30: astore_1
      31: bipush        8
      33: newarray       byte
      35: astore        5
      37: aload_1
      38: aload         5
      40: iconst_0
      41: bipush        8
      43: invokestatic  #41                 // Method org/apache/hadoop/io/IOUtils.readFully:(Ljava/io/InputStream;[BII)V
      46: aload         5
      48: invokestatic  #42                 // Method java/nio/ByteBuffer.wrap:([B)Ljava/nio/ByteBuffer;
      51: invokevirtual #43                 // Method java/nio/ByteBuffer.getLong:()J
      54: lstore        6
      56: aload_0
      57: invokestatic  #5                  // Method org/apache/hadoop/crypto/CryptoCodec.getInstance:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/crypto/CryptoCodec;
      60: astore        8
      62: aload         8
      64: invokevirtual #7                  // Method org/apache/hadoop/crypto/CryptoCodec.getCipherSuite:()Lorg/apache/hadoop/crypto/CipherSuite;
      67: invokevirtual #8                  // Method org/apache/hadoop/crypto/CipherSuite.getAlgorithmBlockSize:()I
      70: newarray       byte
      72: astore        9
      74: aload_1
      75: aload         9
      77: iconst_0
      78: aload         8
      80: invokevirtual #7                  // Method org/apache/hadoop/crypto/CryptoCodec.getCipherSuite:()Lorg/apache/hadoop/crypto/CipherSuite;
      83: invokevirtual #8                  // Method org/apache/hadoop/crypto/CipherSuite.getAlgorithmBlockSize:()I
      86: invokestatic  #41                 // Method org/apache/hadoop/io/IOUtils.readFully:(Ljava/io/InputStream;[BII)V
      89: getstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
      92: invokeinterface #24,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      97: ifeq          136
     100: getstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
     103: new           #25                 // class java/lang/StringBuilder
     106: dup
     107: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
     110: ldc           #44                 // String IV read from [
     112: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: aload         9
     117: invokestatic  #29                 // Method org/apache/commons/codec/binary/Base64.encodeBase64URLSafeString:([B)Ljava/lang/String;
     120: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     123: ldc           #30                 // String ]
     125: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     128: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     131: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     136: new           #45                 // class org/apache/hadoop/crypto/CryptoInputStream
     139: dup
     140: aload_1
     141: aload         8
     143: iload         4
     145: invokestatic  #35                 // Method getEncryptionKey:()[B
     148: aload         9
     150: lload         6
     152: aload_0
     153: invokestatic  #46                 // Method cryptoPadding:(Lorg/apache/hadoop/conf/Configuration;)I
     156: i2l
     157: ladd
     158: invokespecial #47                 // Method org/apache/hadoop/crypto/CryptoInputStream."<init>":(Ljava/io/InputStream;Lorg/apache/hadoop/crypto/CryptoCodec;I[B[BJ)V
     161: areturn
     162: aload_1
     163: areturn

  public static org.apache.hadoop.fs.FSDataInputStream wrapIfNecessary(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.FSDataInputStream) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #6                  // Method isEncryptedSpillEnabled:(Lorg/apache/hadoop/conf/Configuration;)Z
       4: ifeq          116
       7: aload_0
       8: invokestatic  #5                  // Method org/apache/hadoop/crypto/CryptoCodec.getInstance:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/crypto/CryptoCodec;
      11: astore_2
      12: aload_0
      13: invokestatic  #34                 // Method getBufferSize:(Lorg/apache/hadoop/conf/Configuration;)I
      16: istore_3
      17: aload_1
      18: bipush        8
      20: newarray       byte
      22: iconst_0
      23: bipush        8
      25: invokestatic  #41                 // Method org/apache/hadoop/io/IOUtils.readFully:(Ljava/io/InputStream;[BII)V
      28: aload_2
      29: invokevirtual #7                  // Method org/apache/hadoop/crypto/CryptoCodec.getCipherSuite:()Lorg/apache/hadoop/crypto/CipherSuite;
      32: invokevirtual #8                  // Method org/apache/hadoop/crypto/CipherSuite.getAlgorithmBlockSize:()I
      35: newarray       byte
      37: astore        4
      39: aload_1
      40: aload         4
      42: iconst_0
      43: aload_2
      44: invokevirtual #7                  // Method org/apache/hadoop/crypto/CryptoCodec.getCipherSuite:()Lorg/apache/hadoop/crypto/CipherSuite;
      47: invokevirtual #8                  // Method org/apache/hadoop/crypto/CipherSuite.getAlgorithmBlockSize:()I
      50: invokestatic  #41                 // Method org/apache/hadoop/io/IOUtils.readFully:(Ljava/io/InputStream;[BII)V
      53: getstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
      56: invokeinterface #24,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
      61: ifeq          100
      64: getstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
      67: new           #25                 // class java/lang/StringBuilder
      70: dup
      71: invokespecial #26                 // Method java/lang/StringBuilder."<init>":()V
      74: ldc           #48                 // String IV read from Stream [
      76: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload         4
      81: invokestatic  #29                 // Method org/apache/commons/codec/binary/Base64.encodeBase64URLSafeString:([B)Ljava/lang/String;
      84: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      87: ldc           #30                 // String ]
      89: invokevirtual #28                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      92: invokevirtual #31                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      95: invokeinterface #32,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     100: new           #49                 // class org/apache/hadoop/fs/crypto/CryptoFSDataInputStream
     103: dup
     104: aload_1
     105: aload_2
     106: iload_3
     107: invokestatic  #35                 // Method getEncryptionKey:()[B
     110: aload         4
     112: invokespecial #50                 // Method org/apache/hadoop/fs/crypto/CryptoFSDataInputStream."<init>":(Lorg/apache/hadoop/fs/FSDataInputStream;Lorg/apache/hadoop/crypto/CryptoCodec;I[B[B)V
     115: areturn
     116: aload_1
     117: areturn

  static {};
    Code:
       0: ldc           #51                 // class org/apache/hadoop/mapreduce/CryptoUtils
       2: invokestatic  #52                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #23                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
