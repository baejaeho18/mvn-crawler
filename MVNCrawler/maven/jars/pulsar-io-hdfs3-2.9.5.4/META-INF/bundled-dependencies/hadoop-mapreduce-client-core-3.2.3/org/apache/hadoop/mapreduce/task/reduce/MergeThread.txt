Compiled from "MergeThread.java"
abstract class org.apache.hadoop.mapreduce.task.reduce.MergeThread<T, K, V> extends java.lang.Thread {
  private static final org.slf4j.Logger LOG;

  private java.util.concurrent.atomic.AtomicInteger numPending;

  private java.util.LinkedList<java.util.List<T>> pendingToBeMerged;

  protected final org.apache.hadoop.mapreduce.task.reduce.MergeManagerImpl<K, V> manager;

  private final org.apache.hadoop.mapreduce.task.reduce.ExceptionReporter reporter;

  private boolean closed;

  private final int mergeFactor;

  public org.apache.hadoop.mapreduce.task.reduce.MergeThread(org.apache.hadoop.mapreduce.task.reduce.MergeManagerImpl<K, V>, int, org.apache.hadoop.mapreduce.task.reduce.ExceptionReporter);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Thread."<init>":()V
       4: aload_0
       5: new           #2                  // class java/util/concurrent/atomic/AtomicInteger
       8: dup
       9: iconst_0
      10: invokespecial #3                  // Method java/util/concurrent/atomic/AtomicInteger."<init>":(I)V
      13: putfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
      16: aload_0
      17: iconst_0
      18: putfield      #5                  // Field closed:Z
      21: aload_0
      22: new           #6                  // class java/util/LinkedList
      25: dup
      26: invokespecial #7                  // Method java/util/LinkedList."<init>":()V
      29: putfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
      32: aload_0
      33: aload_1
      34: putfield      #9                  // Field manager:Lorg/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl;
      37: aload_0
      38: iload_2
      39: putfield      #10                 // Field mergeFactor:I
      42: aload_0
      43: aload_3
      44: putfield      #11                 // Field reporter:Lorg/apache/hadoop/mapreduce/task/reduce/ExceptionReporter;
      47: return

  public synchronized void close() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #5                  // Field closed:Z
       5: aload_0
       6: invokevirtual #12                 // Method waitForMerge:()V
       9: aload_0
      10: invokevirtual #13                 // Method interrupt:()V
      13: return

  public void startMerge(java.util.Set<T>);
    Code:
       0: aload_0
       1: getfield      #5                  // Field closed:Z
       4: ifne          171
       7: aload_0
       8: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
      11: invokevirtual #14                 // Method java/util/concurrent/atomic/AtomicInteger.incrementAndGet:()I
      14: pop
      15: new           #15                 // class java/util/ArrayList
      18: dup
      19: invokespecial #16                 // Method java/util/ArrayList."<init>":()V
      22: astore_2
      23: aload_1
      24: invokeinterface #17,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      29: astore_3
      30: iconst_0
      31: istore        4
      33: aload_3
      34: invokeinterface #18,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      39: ifeq          76
      42: iload         4
      44: aload_0
      45: getfield      #10                 // Field mergeFactor:I
      48: if_icmpge     76
      51: aload_2
      52: aload_3
      53: invokeinterface #19,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      58: invokeinterface #20,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      63: pop
      64: aload_3
      65: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.remove:()V
      70: iinc          4, 1
      73: goto          33
      76: getstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
      79: new           #23                 // class java/lang/StringBuilder
      82: dup
      83: invokespecial #24                 // Method java/lang/StringBuilder."<init>":()V
      86: aload_0
      87: invokevirtual #25                 // Method getName:()Ljava/lang/String;
      90: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: ldc           #27                 // String : Starting merge with
      95: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: aload_2
      99: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
     104: invokevirtual #29                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     107: ldc           #30                 // String  segments, while ignoring
     109: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: aload_1
     113: invokeinterface #31,  1           // InterfaceMethod java/util/Set.size:()I
     118: invokevirtual #29                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     121: ldc           #32                 // String  segments
     123: invokevirtual #26                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: invokevirtual #33                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     129: invokeinterface #34,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     134: aload_0
     135: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
     138: dup
     139: astore        4
     141: monitorenter
     142: aload_0
     143: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
     146: aload_2
     147: invokevirtual #35                 // Method java/util/LinkedList.addLast:(Ljava/lang/Object;)V
     150: aload_0
     151: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
     154: invokevirtual #36                 // Method java/lang/Object.notifyAll:()V
     157: aload         4
     159: monitorexit
     160: goto          171
     163: astore        5
     165: aload         4
     167: monitorexit
     168: aload         5
     170: athrow
     171: return
    Exception table:
       from    to  target type
         142   160   163   any
         163   168   163   any

  public synchronized void waitForMerge() throws java.lang.InterruptedException;
    Code:
       0: aload_0
       1: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
       4: invokevirtual #37                 // Method java/util/concurrent/atomic/AtomicInteger.get:()I
       7: ifle          17
      10: aload_0
      11: invokevirtual #38                 // Method java/lang/Object.wait:()V
      14: goto          0
      17: return

  public void run();
    Code:
       0: aconst_null
       1: astore_1
       2: aload_0
       3: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
       6: dup
       7: astore_2
       8: monitorenter
       9: aload_0
      10: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
      13: invokevirtual #39                 // Method java/util/LinkedList.size:()I
      16: ifgt          29
      19: aload_0
      20: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
      23: invokevirtual #38                 // Method java/lang/Object.wait:()V
      26: goto          9
      29: aload_0
      30: getfield      #8                  // Field pendingToBeMerged:Ljava/util/LinkedList;
      33: invokevirtual #40                 // Method java/util/LinkedList.removeFirst:()Ljava/lang/Object;
      36: checkcast     #41                 // class java/util/List
      39: astore_1
      40: aload_2
      41: monitorexit
      42: goto          50
      45: astore_3
      46: aload_2
      47: monitorexit
      48: aload_3
      49: athrow
      50: aload_0
      51: aload_1
      52: invokevirtual #42                 // Method merge:(Ljava/util/List;)V
      55: aload_0
      56: dup
      57: astore_2
      58: monitorenter
      59: aload_0
      60: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
      63: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
      66: pop
      67: aload_0
      68: invokevirtual #36                 // Method java/lang/Object.notifyAll:()V
      71: aload_2
      72: monitorexit
      73: goto          83
      76: astore        4
      78: aload_2
      79: monitorexit
      80: aload         4
      82: athrow
      83: goto          208
      86: astore_2
      87: aload_0
      88: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
      91: iconst_0
      92: invokevirtual #45                 // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
      95: aload_0
      96: dup
      97: astore_3
      98: monitorenter
      99: aload_0
     100: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
     103: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     106: pop
     107: aload_0
     108: invokevirtual #36                 // Method java/lang/Object.notifyAll:()V
     111: aload_3
     112: monitorexit
     113: goto          123
     116: astore        5
     118: aload_3
     119: monitorexit
     120: aload         5
     122: athrow
     123: return
     124: astore_2
     125: aload_0
     126: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
     129: iconst_0
     130: invokevirtual #45                 // Method java/util/concurrent/atomic/AtomicInteger.set:(I)V
     133: aload_0
     134: getfield      #11                 // Field reporter:Lorg/apache/hadoop/mapreduce/task/reduce/ExceptionReporter;
     137: aload_2
     138: invokeinterface #47,  2           // InterfaceMethod org/apache/hadoop/mapreduce/task/reduce/ExceptionReporter.reportException:(Ljava/lang/Throwable;)V
     143: aload_0
     144: dup
     145: astore_3
     146: monitorenter
     147: aload_0
     148: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
     151: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     154: pop
     155: aload_0
     156: invokevirtual #36                 // Method java/lang/Object.notifyAll:()V
     159: aload_3
     160: monitorexit
     161: goto          171
     164: astore        6
     166: aload_3
     167: monitorexit
     168: aload         6
     170: athrow
     171: return
     172: astore        7
     174: aload_0
     175: dup
     176: astore        8
     178: monitorenter
     179: aload_0
     180: getfield      #4                  // Field numPending:Ljava/util/concurrent/atomic/AtomicInteger;
     183: invokevirtual #43                 // Method java/util/concurrent/atomic/AtomicInteger.decrementAndGet:()I
     186: pop
     187: aload_0
     188: invokevirtual #36                 // Method java/lang/Object.notifyAll:()V
     191: aload         8
     193: monitorexit
     194: goto          205
     197: astore        9
     199: aload         8
     201: monitorexit
     202: aload         9
     204: athrow
     205: aload         7
     207: athrow
     208: goto          0
    Exception table:
       from    to  target type
           9    42    45   any
          45    48    45   any
          59    73    76   any
          76    80    76   any
           2    55    86   Class java/lang/InterruptedException
          99   113   116   any
         116   120   116   any
           2    55   124   Class java/lang/Throwable
         147   161   164   any
         164   168   164   any
           2    55   172   any
          86    95   172   any
         124   143   172   any
         179   194   197   any
         197   202   197   any
         172   174   172   any

  public abstract void merge(java.util.List<T>) throws java.io.IOException;

  static {};
    Code:
       0: ldc           #48                 // class org/apache/hadoop/mapreduce/task/reduce/MergeThread
       2: invokestatic  #49                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #22                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
