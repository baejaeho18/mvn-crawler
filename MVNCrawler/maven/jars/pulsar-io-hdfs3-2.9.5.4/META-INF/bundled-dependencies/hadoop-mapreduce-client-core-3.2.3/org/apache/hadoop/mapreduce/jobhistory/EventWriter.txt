Compiled from "EventWriter.java"
public class org.apache.hadoop.mapreduce.jobhistory.EventWriter {
  static final java.lang.String VERSION;

  static final java.lang.String VERSION_BINARY;

  private org.apache.hadoop.fs.FSDataOutputStream out;

  private org.apache.avro.io.DatumWriter<org.apache.hadoop.mapreduce.jobhistory.Event> writer;

  private org.apache.avro.io.Encoder encoder;

  private static final org.slf4j.Logger LOG;

  private final org.apache.hadoop.mapreduce.jobhistory.EventWriter$WriteMode writeMode;

  private final boolean jsonOutput;

  private static final org.apache.avro.Schema GROUPS;

  private static final org.apache.avro.Schema COUNTERS;

  public org.apache.hadoop.mapreduce.jobhistory.EventWriter(org.apache.hadoop.fs.FSDataOutputStream, org.apache.hadoop.mapreduce.jobhistory.EventWriter$WriteMode) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/apache/avro/specific/SpecificDatumWriter
       8: dup
       9: ldc           #3                  // class org/apache/hadoop/mapreduce/jobhistory/Event
      11: invokespecial #4                  // Method org/apache/avro/specific/SpecificDatumWriter."<init>":(Ljava/lang/Class;)V
      14: putfield      #5                  // Field writer:Lorg/apache/avro/io/DatumWriter;
      17: aload_0
      18: aload_1
      19: putfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      22: aload_0
      23: aload_2
      24: putfield      #7                  // Field writeMode:Lorg/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode;
      27: aload_0
      28: getfield      #7                  // Field writeMode:Lorg/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode;
      31: getstatic     #8                  // Field org/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode.JSON:Lorg/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode;
      34: if_acmpne     51
      37: aload_0
      38: iconst_1
      39: putfield      #9                  // Field jsonOutput:Z
      42: aload_1
      43: ldc           #11                 // String Avro-Json
      45: invokevirtual #12                 // Method org/apache/hadoop/fs/FSDataOutputStream.writeBytes:(Ljava/lang/String;)V
      48: goto          102
      51: aload_0
      52: getfield      #7                  // Field writeMode:Lorg/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode;
      55: getstatic     #13                 // Field org/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode.BINARY:Lorg/apache/hadoop/mapreduce/jobhistory/EventWriter$WriteMode;
      58: if_acmpne     75
      61: aload_0
      62: iconst_0
      63: putfield      #9                  // Field jsonOutput:Z
      66: aload_1
      67: ldc           #14                 // String Avro-Binary
      69: invokevirtual #12                 // Method org/apache/hadoop/fs/FSDataOutputStream.writeBytes:(Ljava/lang/String;)V
      72: goto          102
      75: new           #15                 // class java/io/IOException
      78: dup
      79: new           #16                 // class java/lang/StringBuilder
      82: dup
      83: invokespecial #17                 // Method java/lang/StringBuilder."<init>":()V
      86: ldc           #18                 // String Unknown mode:
      88: invokevirtual #19                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: aload_2
      92: invokevirtual #20                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      95: invokevirtual #21                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      98: invokespecial #22                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     101: athrow
     102: aload_1
     103: ldc           #23                 // String \n
     105: invokevirtual #12                 // Method org/apache/hadoop/fs/FSDataOutputStream.writeBytes:(Ljava/lang/String;)V
     108: aload_1
     109: getstatic     #24                 // Field org/apache/hadoop/mapreduce/jobhistory/Event.SCHEMA$:Lorg/apache/avro/Schema;
     112: invokevirtual #25                 // Method org/apache/avro/Schema.toString:()Ljava/lang/String;
     115: invokevirtual #12                 // Method org/apache/hadoop/fs/FSDataOutputStream.writeBytes:(Ljava/lang/String;)V
     118: aload_1
     119: ldc           #23                 // String \n
     121: invokevirtual #12                 // Method org/apache/hadoop/fs/FSDataOutputStream.writeBytes:(Ljava/lang/String;)V
     124: aload_0
     125: getfield      #9                  // Field jsonOutput:Z
     128: ifne          146
     131: aload_0
     132: invokestatic  #26                 // Method org/apache/avro/io/EncoderFactory.get:()Lorg/apache/avro/io/EncoderFactory;
     135: aload_1
     136: aconst_null
     137: invokevirtual #27                 // Method org/apache/avro/io/EncoderFactory.binaryEncoder:(Ljava/io/OutputStream;Lorg/apache/avro/io/BinaryEncoder;)Lorg/apache/avro/io/BinaryEncoder;
     140: putfield      #28                 // Field encoder:Lorg/apache/avro/io/Encoder;
     143: goto          160
     146: aload_0
     147: invokestatic  #26                 // Method org/apache/avro/io/EncoderFactory.get:()Lorg/apache/avro/io/EncoderFactory;
     150: getstatic     #24                 // Field org/apache/hadoop/mapreduce/jobhistory/Event.SCHEMA$:Lorg/apache/avro/Schema;
     153: aload_1
     154: invokevirtual #29                 // Method org/apache/avro/io/EncoderFactory.jsonEncoder:(Lorg/apache/avro/Schema;Ljava/io/OutputStream;)Lorg/apache/avro/io/JsonEncoder;
     157: putfield      #28                 // Field encoder:Lorg/apache/avro/io/Encoder;
     160: return

  synchronized void write(org.apache.hadoop.mapreduce.jobhistory.HistoryEvent) throws java.io.IOException;
    Code:
       0: new           #3                  // class org/apache/hadoop/mapreduce/jobhistory/Event
       3: dup
       4: invokespecial #30                 // Method org/apache/hadoop/mapreduce/jobhistory/Event."<init>":()V
       7: astore_2
       8: aload_2
       9: aload_1
      10: invokeinterface #31,  1           // InterfaceMethod org/apache/hadoop/mapreduce/jobhistory/HistoryEvent.getEventType:()Lorg/apache/hadoop/mapreduce/jobhistory/EventType;
      15: invokevirtual #32                 // Method org/apache/hadoop/mapreduce/jobhistory/Event.setType:(Lorg/apache/hadoop/mapreduce/jobhistory/EventType;)V
      18: aload_2
      19: aload_1
      20: invokeinterface #33,  1           // InterfaceMethod org/apache/hadoop/mapreduce/jobhistory/HistoryEvent.getDatum:()Ljava/lang/Object;
      25: invokevirtual #34                 // Method org/apache/hadoop/mapreduce/jobhistory/Event.setEvent:(Ljava/lang/Object;)V
      28: aload_0
      29: getfield      #5                  // Field writer:Lorg/apache/avro/io/DatumWriter;
      32: aload_2
      33: aload_0
      34: getfield      #28                 // Field encoder:Lorg/apache/avro/io/Encoder;
      37: invokeinterface #35,  3           // InterfaceMethod org/apache/avro/io/DatumWriter.write:(Ljava/lang/Object;Lorg/apache/avro/io/Encoder;)V
      42: aload_0
      43: getfield      #9                  // Field jsonOutput:Z
      46: ifeq          65
      49: aload_0
      50: getfield      #28                 // Field encoder:Lorg/apache/avro/io/Encoder;
      53: invokevirtual #36                 // Method org/apache/avro/io/Encoder.flush:()V
      56: aload_0
      57: getfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      60: ldc           #23                 // String \n
      62: invokevirtual #12                 // Method org/apache/hadoop/fs/FSDataOutputStream.writeBytes:(Ljava/lang/String;)V
      65: return

  void flush() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #28                 // Field encoder:Lorg/apache/avro/io/Encoder;
       4: invokevirtual #36                 // Method org/apache/avro/io/Encoder.flush:()V
       7: aload_0
       8: getfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      11: invokevirtual #37                 // Method org/apache/hadoop/fs/FSDataOutputStream.flush:()V
      14: aload_0
      15: getfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      18: invokevirtual #38                 // Method org/apache/hadoop/fs/FSDataOutputStream.hflush:()V
      21: return

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #28                 // Field encoder:Lorg/apache/avro/io/Encoder;
       4: invokevirtual #36                 // Method org/apache/avro/io/Encoder.flush:()V
       7: aload_0
       8: getfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      11: invokevirtual #39                 // Method org/apache/hadoop/fs/FSDataOutputStream.close:()V
      14: aload_0
      15: aconst_null
      16: putfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      19: getstatic     #40                 // Field LOG:Lorg/slf4j/Logger;
      22: iconst_1
      23: anewarray     #41                 // class java/io/Closeable
      26: dup
      27: iconst_0
      28: aload_0
      29: getfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      32: aastore
      33: invokestatic  #42                 // Method org/apache/hadoop/io/IOUtils.cleanupWithLogger:(Lorg/slf4j/Logger;[Ljava/io/Closeable;)V
      36: goto          59
      39: astore_1
      40: getstatic     #40                 // Field LOG:Lorg/slf4j/Logger;
      43: iconst_1
      44: anewarray     #41                 // class java/io/Closeable
      47: dup
      48: iconst_0
      49: aload_0
      50: getfield      #6                  // Field out:Lorg/apache/hadoop/fs/FSDataOutputStream;
      53: aastore
      54: invokestatic  #42                 // Method org/apache/hadoop/io/IOUtils.cleanupWithLogger:(Lorg/slf4j/Logger;[Ljava/io/Closeable;)V
      57: aload_1
      58: athrow
      59: return
    Exception table:
       from    to  target type
           0    19    39   any

  static org.apache.hadoop.mapreduce.jobhistory.JhCounters toAvro(org.apache.hadoop.mapreduce.Counters);
    Code:
       0: aload_0
       1: ldc           #43                 // String COUNTERS
       3: invokestatic  #44                 // Method toAvro:(Lorg/apache/hadoop/mapreduce/Counters;Ljava/lang/String;)Lorg/apache/hadoop/mapreduce/jobhistory/JhCounters;
       6: areturn

  static org.apache.hadoop.mapreduce.jobhistory.JhCounters toAvro(org.apache.hadoop.mapreduce.Counters, java.lang.String);
    Code:
       0: new           #45                 // class org/apache/hadoop/mapreduce/jobhistory/JhCounters
       3: dup
       4: invokespecial #46                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounters."<init>":()V
       7: astore_2
       8: aload_2
       9: new           #47                 // class org/apache/avro/util/Utf8
      12: dup
      13: aload_1
      14: invokespecial #48                 // Method org/apache/avro/util/Utf8."<init>":(Ljava/lang/String;)V
      17: invokevirtual #49                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounters.setName:(Ljava/lang/CharSequence;)V
      20: aload_2
      21: new           #50                 // class java/util/ArrayList
      24: dup
      25: iconst_0
      26: invokespecial #51                 // Method java/util/ArrayList."<init>":(I)V
      29: invokevirtual #52                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounters.setGroups:(Ljava/util/List;)V
      32: aload_0
      33: ifnonnull     38
      36: aload_2
      37: areturn
      38: aload_0
      39: invokevirtual #53                 // Method org/apache/hadoop/mapreduce/Counters.iterator:()Ljava/util/Iterator;
      42: astore_3
      43: aload_3
      44: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      49: ifeq          253
      52: aload_3
      53: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      58: checkcast     #56                 // class org/apache/hadoop/mapreduce/CounterGroup
      61: astore        4
      63: new           #57                 // class org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup
      66: dup
      67: invokespecial #58                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup."<init>":()V
      70: astore        5
      72: aload         5
      74: new           #47                 // class org/apache/avro/util/Utf8
      77: dup
      78: aload         4
      80: invokeinterface #59,  1           // InterfaceMethod org/apache/hadoop/mapreduce/CounterGroup.getName:()Ljava/lang/String;
      85: invokespecial #48                 // Method org/apache/avro/util/Utf8."<init>":(Ljava/lang/String;)V
      88: invokevirtual #60                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup.setName:(Ljava/lang/CharSequence;)V
      91: aload         5
      93: new           #47                 // class org/apache/avro/util/Utf8
      96: dup
      97: aload         4
      99: invokeinterface #61,  1           // InterfaceMethod org/apache/hadoop/mapreduce/CounterGroup.getDisplayName:()Ljava/lang/String;
     104: invokespecial #48                 // Method org/apache/avro/util/Utf8."<init>":(Ljava/lang/String;)V
     107: invokevirtual #62                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup.setDisplayName:(Ljava/lang/CharSequence;)V
     110: aload         5
     112: new           #50                 // class java/util/ArrayList
     115: dup
     116: aload         4
     118: invokeinterface #63,  1           // InterfaceMethod org/apache/hadoop/mapreduce/CounterGroup.size:()I
     123: invokespecial #51                 // Method java/util/ArrayList."<init>":(I)V
     126: invokevirtual #64                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup.setCounts:(Ljava/util/List;)V
     129: aload         4
     131: invokeinterface #65,  1           // InterfaceMethod org/apache/hadoop/mapreduce/CounterGroup.iterator:()Ljava/util/Iterator;
     136: astore        6
     138: aload         6
     140: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     145: ifeq          238
     148: aload         6
     150: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     155: checkcast     #66                 // class org/apache/hadoop/mapreduce/Counter
     158: astore        7
     160: new           #67                 // class org/apache/hadoop/mapreduce/jobhistory/JhCounter
     163: dup
     164: invokespecial #68                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounter."<init>":()V
     167: astore        8
     169: aload         8
     171: new           #47                 // class org/apache/avro/util/Utf8
     174: dup
     175: aload         7
     177: invokeinterface #69,  1           // InterfaceMethod org/apache/hadoop/mapreduce/Counter.getName:()Ljava/lang/String;
     182: invokespecial #48                 // Method org/apache/avro/util/Utf8."<init>":(Ljava/lang/String;)V
     185: invokevirtual #70                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounter.setName:(Ljava/lang/CharSequence;)V
     188: aload         8
     190: new           #47                 // class org/apache/avro/util/Utf8
     193: dup
     194: aload         7
     196: invokeinterface #71,  1           // InterfaceMethod org/apache/hadoop/mapreduce/Counter.getDisplayName:()Ljava/lang/String;
     201: invokespecial #48                 // Method org/apache/avro/util/Utf8."<init>":(Ljava/lang/String;)V
     204: invokevirtual #72                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounter.setDisplayName:(Ljava/lang/CharSequence;)V
     207: aload         8
     209: aload         7
     211: invokeinterface #73,  1           // InterfaceMethod org/apache/hadoop/mapreduce/Counter.getValue:()J
     216: invokestatic  #74                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     219: invokevirtual #75                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounter.setValue:(Ljava/lang/Long;)V
     222: aload         5
     224: invokevirtual #76                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup.getCounts:()Ljava/util/List;
     227: aload         8
     229: invokeinterface #77,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     234: pop
     235: goto          138
     238: aload_2
     239: invokevirtual #78                 // Method org/apache/hadoop/mapreduce/jobhistory/JhCounters.getGroups:()Ljava/util/List;
     242: aload         5
     244: invokeinterface #77,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     249: pop
     250: goto          43
     253: aload_2
     254: areturn

  static {};
    Code:
       0: ldc           #10                 // class org/apache/hadoop/mapreduce/jobhistory/EventWriter
       2: invokestatic  #79                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #40                 // Field LOG:Lorg/slf4j/Logger;
       8: getstatic     #80                 // Field org/apache/hadoop/mapreduce/jobhistory/JhCounterGroup.SCHEMA$:Lorg/apache/avro/Schema;
      11: invokestatic  #81                 // Method org/apache/avro/Schema.createArray:(Lorg/apache/avro/Schema;)Lorg/apache/avro/Schema;
      14: putstatic     #82                 // Field GROUPS:Lorg/apache/avro/Schema;
      17: getstatic     #83                 // Field org/apache/hadoop/mapreduce/jobhistory/JhCounter.SCHEMA$:Lorg/apache/avro/Schema;
      20: invokestatic  #81                 // Method org/apache/avro/Schema.createArray:(Lorg/apache/avro/Schema;)Lorg/apache/avro/Schema;
      23: putstatic     #84                 // Field COUNTERS:Lorg/apache/avro/Schema;
      26: return
}
