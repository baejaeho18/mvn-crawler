Compiled from "EventFetcher.java"
class org.apache.hadoop.mapreduce.task.reduce.EventFetcher<K, V> extends java.lang.Thread {
  private static final long SLEEP_TIME;

  private static final int MAX_RETRIES;

  private static final int RETRY_PERIOD;

  private static final org.slf4j.Logger LOG;

  private final org.apache.hadoop.mapreduce.TaskAttemptID reduce;

  private final org.apache.hadoop.mapred.TaskUmbilicalProtocol umbilical;

  private final org.apache.hadoop.mapreduce.task.reduce.ShuffleScheduler<K, V> scheduler;

  private int fromEventIdx;

  private final int maxEventsToFetch;

  private final org.apache.hadoop.mapreduce.task.reduce.ExceptionReporter exceptionReporter;

  private volatile boolean stopped;

  static final boolean $assertionsDisabled;

  public org.apache.hadoop.mapreduce.task.reduce.EventFetcher(org.apache.hadoop.mapreduce.TaskAttemptID, org.apache.hadoop.mapred.TaskUmbilicalProtocol, org.apache.hadoop.mapreduce.task.reduce.ShuffleScheduler<K, V>, org.apache.hadoop.mapreduce.task.reduce.ExceptionReporter, int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Thread."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #2                  // Field fromEventIdx:I
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field stopped:Z
      14: aload_0
      15: ldc           #4                  // String EventFetcher for fetching Map Completion Events
      17: invokevirtual #5                  // Method setName:(Ljava/lang/String;)V
      20: aload_0
      21: iconst_1
      22: invokevirtual #6                  // Method setDaemon:(Z)V
      25: aload_0
      26: aload_1
      27: putfield      #7                  // Field reduce:Lorg/apache/hadoop/mapreduce/TaskAttemptID;
      30: aload_0
      31: aload_2
      32: putfield      #8                  // Field umbilical:Lorg/apache/hadoop/mapred/TaskUmbilicalProtocol;
      35: aload_0
      36: aload_3
      37: putfield      #9                  // Field scheduler:Lorg/apache/hadoop/mapreduce/task/reduce/ShuffleScheduler;
      40: aload_0
      41: aload         4
      43: putfield      #10                 // Field exceptionReporter:Lorg/apache/hadoop/mapreduce/task/reduce/ExceptionReporter;
      46: aload_0
      47: iload         5
      49: putfield      #11                 // Field maxEventsToFetch:I
      52: return

  public void run();
    Code:
       0: iconst_0
       1: istore_1
       2: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
       5: new           #13                 // class java/lang/StringBuilder
       8: dup
       9: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      12: aload_0
      13: getfield      #7                  // Field reduce:Lorg/apache/hadoop/mapreduce/TaskAttemptID;
      16: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #16                 // String  Thread started:
      21: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokevirtual #18                 // Method getName:()Ljava/lang/String;
      28: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      31: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      34: invokeinterface #20,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
      39: aload_0
      40: getfield      #3                  // Field stopped:Z
      43: ifne          195
      46: invokestatic  #21                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      49: invokevirtual #22                 // Method java/lang/Thread.isInterrupted:()Z
      52: ifne          195
      55: aload_0
      56: invokevirtual #23                 // Method getMapCompletionEvents:()I
      59: istore_2
      60: iconst_0
      61: istore_1
      62: iload_2
      63: ifle          105
      66: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
      69: new           #13                 // class java/lang/StringBuilder
      72: dup
      73: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      76: aload_0
      77: getfield      #7                  // Field reduce:Lorg/apache/hadoop/mapreduce/TaskAttemptID;
      80: invokevirtual #15                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      83: ldc           #24                 // String : Got
      85: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: iload_2
      89: invokevirtual #25                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      92: ldc           #26                 // String  new map-outputs
      94: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      97: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     100: invokeinterface #20,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     105: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
     108: ldc           #28                 // String GetMapEventsThread about to sleep for 1000
     110: invokeinterface #29,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
     115: invokestatic  #21                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     118: invokevirtual #22                 // Method java/lang/Thread.isInterrupted:()Z
     121: ifne          130
     124: ldc2_w        #30                 // long 1000l
     127: invokestatic  #32                 // Method java/lang/Thread.sleep:(J)V
     130: goto          39
     133: astore_2
     134: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
     137: ldc           #34                 // String EventFetcher is interrupted.. Returning
     139: invokeinterface #20,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     144: return
     145: astore_2
     146: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
     149: ldc           #36                 // String Exception in getting events
     151: aload_2
     152: invokeinterface #37,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Throwable;)V
     157: iinc          1, 1
     160: iload_1
     161: bipush        10
     163: if_icmplt     177
     166: new           #35                 // class java/io/IOException
     169: dup
     170: ldc           #38                 // String too many failures downloading events
     172: aload_2
     173: invokespecial #39                 // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     176: athrow
     177: invokestatic  #21                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
     180: invokevirtual #22                 // Method java/lang/Thread.isInterrupted:()Z
     183: ifne          192
     186: ldc2_w        #40                 // long 5000l
     189: invokestatic  #32                 // Method java/lang/Thread.sleep:(J)V
     192: goto          39
     195: goto          212
     198: astore_2
     199: return
     200: astore_2
     201: aload_0
     202: getfield      #10                 // Field exceptionReporter:Lorg/apache/hadoop/mapreduce/task/reduce/ExceptionReporter;
     205: aload_2
     206: invokeinterface #43,  2           // InterfaceMethod org/apache/hadoop/mapreduce/task/reduce/ExceptionReporter.reportException:(Ljava/lang/Throwable;)V
     211: return
     212: return
    Exception table:
       from    to  target type
          55   130   133   Class java/lang/InterruptedException
          55   130   145   Class java/io/IOException
          39   144   198   Class java/lang/InterruptedException
         145   195   198   Class java/lang/InterruptedException
          39   144   200   Class java/lang/Throwable
         145   195   200   Class java/lang/Throwable

  public void shutDown();
    Code:
       0: aload_0
       1: iconst_1
       2: putfield      #3                  // Field stopped:Z
       5: aload_0
       6: invokevirtual #44                 // Method interrupt:()V
       9: aload_0
      10: ldc2_w        #40                 // long 5000l
      13: invokevirtual #45                 // Method join:(J)V
      16: goto          51
      19: astore_1
      20: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
      23: new           #13                 // class java/lang/StringBuilder
      26: dup
      27: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      30: ldc           #46                 // String Got interrupted while joining
      32: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      35: aload_0
      36: invokevirtual #18                 // Method getName:()Ljava/lang/String;
      39: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      42: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      45: aload_1
      46: invokeinterface #47,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
      51: return
    Exception table:
       from    to  target type
           9    16    19   Class java/lang/InterruptedException

  protected int getMapCompletionEvents() throws java.io.IOException, java.lang.InterruptedException;
    Code:
       0: iconst_0
       1: istore_1
       2: aconst_null
       3: astore_2
       4: aload_0
       5: getfield      #8                  // Field umbilical:Lorg/apache/hadoop/mapred/TaskUmbilicalProtocol;
       8: aload_0
       9: getfield      #7                  // Field reduce:Lorg/apache/hadoop/mapreduce/TaskAttemptID;
      12: invokevirtual #48                 // Method org/apache/hadoop/mapreduce/TaskAttemptID.getJobID:()Lorg/apache/hadoop/mapreduce/JobID;
      15: checkcast     #49                 // class org/apache/hadoop/mapred/JobID
      18: aload_0
      19: getfield      #2                  // Field fromEventIdx:I
      22: aload_0
      23: getfield      #11                 // Field maxEventsToFetch:I
      26: aload_0
      27: getfield      #7                  // Field reduce:Lorg/apache/hadoop/mapreduce/TaskAttemptID;
      30: checkcast     #50                 // class org/apache/hadoop/mapred/TaskAttemptID
      33: invokeinterface #51,  5           // InterfaceMethod org/apache/hadoop/mapred/TaskUmbilicalProtocol.getMapCompletionEvents:(Lorg/apache/hadoop/mapred/JobID;IILorg/apache/hadoop/mapred/TaskAttemptID;)Lorg/apache/hadoop/mapred/MapTaskCompletionEventsUpdate;
      38: astore_3
      39: aload_3
      40: invokevirtual #52                 // Method org/apache/hadoop/mapred/MapTaskCompletionEventsUpdate.getMapTaskCompletionEvents:()[Lorg/apache/hadoop/mapred/TaskCompletionEvent;
      43: astore_2
      44: getstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
      47: new           #13                 // class java/lang/StringBuilder
      50: dup
      51: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      54: ldc           #53                 // String Got
      56: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: aload_2
      60: arraylength
      61: invokevirtual #25                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      64: ldc           #54                 // String  map completion events from
      66: invokevirtual #17                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      69: aload_0
      70: getfield      #2                  // Field fromEventIdx:I
      73: invokevirtual #25                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      76: invokevirtual #19                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      79: invokeinterface #29,  2           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      84: getstatic     #55                 // Field $assertionsDisabled:Z
      87: ifne          107
      90: aload_3
      91: invokevirtual #56                 // Method org/apache/hadoop/mapred/MapTaskCompletionEventsUpdate.shouldReset:()Z
      94: ifeq          107
      97: new           #57                 // class java/lang/AssertionError
     100: dup
     101: ldc           #58                 // String Unexpected legacy state
     103: invokespecial #59                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
     106: athrow
     107: aload_0
     108: dup
     109: getfield      #2                  // Field fromEventIdx:I
     112: aload_2
     113: arraylength
     114: iadd
     115: putfield      #2                  // Field fromEventIdx:I
     118: aload_2
     119: astore        4
     121: aload         4
     123: arraylength
     124: istore        5
     126: iconst_0
     127: istore        6
     129: iload         6
     131: iload         5
     133: if_icmpge     174
     136: aload         4
     138: iload         6
     140: aaload
     141: astore        7
     143: aload_0
     144: getfield      #9                  // Field scheduler:Lorg/apache/hadoop/mapreduce/task/reduce/ShuffleScheduler;
     147: aload         7
     149: invokeinterface #60,  2           // InterfaceMethod org/apache/hadoop/mapreduce/task/reduce/ShuffleScheduler.resolve:(Lorg/apache/hadoop/mapred/TaskCompletionEvent;)V
     154: getstatic     #61                 // Field org/apache/hadoop/mapred/TaskCompletionEvent$Status.SUCCEEDED:Lorg/apache/hadoop/mapred/TaskCompletionEvent$Status;
     157: aload         7
     159: invokevirtual #62                 // Method org/apache/hadoop/mapred/TaskCompletionEvent.getTaskStatus:()Lorg/apache/hadoop/mapred/TaskCompletionEvent$Status;
     162: if_acmpne     168
     165: iinc          1, 1
     168: iinc          6, 1
     171: goto          129
     174: aload_2
     175: arraylength
     176: aload_0
     177: getfield      #11                 // Field maxEventsToFetch:I
     180: if_icmpeq     4
     183: iload_1
     184: ireturn

  static {};
    Code:
       0: ldc           #27                 // class org/apache/hadoop/mapreduce/task/reduce/EventFetcher
       2: invokevirtual #63                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #55                 // Field $assertionsDisabled:Z
      16: ldc           #27                 // class org/apache/hadoop/mapreduce/task/reduce/EventFetcher
      18: invokestatic  #64                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      21: putstatic     #12                 // Field LOG:Lorg/slf4j/Logger;
      24: return
}
