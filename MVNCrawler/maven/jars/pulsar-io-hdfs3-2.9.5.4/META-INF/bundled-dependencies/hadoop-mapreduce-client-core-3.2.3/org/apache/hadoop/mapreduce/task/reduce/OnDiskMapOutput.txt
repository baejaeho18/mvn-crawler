Compiled from "OnDiskMapOutput.java"
class org.apache.hadoop.mapreduce.task.reduce.OnDiskMapOutput<K, V> extends org.apache.hadoop.mapreduce.task.reduce.IFileWrappedMapOutput<K, V> {
  private static final org.slf4j.Logger LOG;

  private final org.apache.hadoop.fs.FileSystem fs;

  private final org.apache.hadoop.fs.Path tmpOutputPath;

  private final org.apache.hadoop.fs.Path outputPath;

  private final java.io.OutputStream disk;

  private long compressedSize;

  public org.apache.hadoop.mapreduce.task.reduce.OnDiskMapOutput(org.apache.hadoop.mapreduce.TaskAttemptID, org.apache.hadoop.mapreduce.TaskAttemptID, org.apache.hadoop.mapreduce.task.reduce.MergeManagerImpl<K, V>, long, org.apache.hadoop.mapred.JobConf, org.apache.hadoop.mapred.MapOutputFile, int, boolean) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_3
       3: lload         4
       5: aload         6
       7: iload         8
       9: iload         9
      11: aload         6
      13: invokestatic  #1                  // Method org/apache/hadoop/fs/FileSystem.getLocal:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/LocalFileSystem;
      16: invokevirtual #2                  // Method org/apache/hadoop/fs/LocalFileSystem.getRaw:()Lorg/apache/hadoop/fs/FileSystem;
      19: aload         7
      21: aload_1
      22: invokevirtual #3                  // Method org/apache/hadoop/mapreduce/TaskAttemptID.getTaskID:()Lorg/apache/hadoop/mapreduce/TaskID;
      25: lload         4
      27: invokevirtual #4                  // Method org/apache/hadoop/mapred/MapOutputFile.getInputFileForWrite:(Lorg/apache/hadoop/mapreduce/TaskID;J)Lorg/apache/hadoop/fs/Path;
      30: invokespecial #5                  // Method "<init>":(Lorg/apache/hadoop/mapreduce/TaskAttemptID;Lorg/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl;JLorg/apache/hadoop/mapred/JobConf;IZLorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;)V
      33: return

  org.apache.hadoop.mapreduce.task.reduce.OnDiskMapOutput(org.apache.hadoop.mapreduce.TaskAttemptID, org.apache.hadoop.mapreduce.TaskAttemptID, org.apache.hadoop.mapreduce.task.reduce.MergeManagerImpl<K, V>, long, org.apache.hadoop.mapred.JobConf, org.apache.hadoop.mapred.MapOutputFile, int, boolean, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_3
       3: lload         4
       5: aload         6
       7: iload         8
       9: iload         9
      11: aload         10
      13: aload         11
      15: invokespecial #5                  // Method "<init>":(Lorg/apache/hadoop/mapreduce/TaskAttemptID;Lorg/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl;JLorg/apache/hadoop/mapred/JobConf;IZLorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/fs/Path;)V
      18: return

  org.apache.hadoop.mapreduce.task.reduce.OnDiskMapOutput(org.apache.hadoop.mapreduce.TaskAttemptID, org.apache.hadoop.mapreduce.task.reduce.MergeManagerImpl<K, V>, long, org.apache.hadoop.mapred.JobConf, int, boolean, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path) throws java.io.IOException;
    Code:
       0: aload_0
       1: aload         5
       3: aload_2
       4: aload_1
       5: lload_3
       6: iload         7
       8: invokespecial #6                  // Method org/apache/hadoop/mapreduce/task/reduce/IFileWrappedMapOutput."<init>":(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl;Lorg/apache/hadoop/mapreduce/TaskAttemptID;JZ)V
      11: aload_0
      12: aload         8
      14: putfield      #7                  // Field fs:Lorg/apache/hadoop/fs/FileSystem;
      17: aload_0
      18: aload         9
      20: putfield      #8                  // Field outputPath:Lorg/apache/hadoop/fs/Path;
      23: aload_0
      24: aload         9
      26: iload         6
      28: invokestatic  #9                  // Method getTempPath:(Lorg/apache/hadoop/fs/Path;I)Lorg/apache/hadoop/fs/Path;
      31: putfield      #10                 // Field tmpOutputPath:Lorg/apache/hadoop/fs/Path;
      34: aload_0
      35: aload         5
      37: aload         8
      39: aload_0
      40: getfield      #10                 // Field tmpOutputPath:Lorg/apache/hadoop/fs/Path;
      43: invokevirtual #11                 // Method org/apache/hadoop/fs/FileSystem.create:(Lorg/apache/hadoop/fs/Path;)Lorg/apache/hadoop/fs/FSDataOutputStream;
      46: aload_0
      47: getfield      #10                 // Field tmpOutputPath:Lorg/apache/hadoop/fs/Path;
      50: invokestatic  #12                 // Method org/apache/hadoop/mapreduce/security/IntermediateEncryptedStream.wrapIfNecessary:(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/fs/FSDataOutputStream;Lorg/apache/hadoop/fs/Path;)Lorg/apache/hadoop/fs/FSDataOutputStream;
      53: putfield      #13                 // Field disk:Ljava/io/OutputStream;
      56: return

  static org.apache.hadoop.fs.Path getTempPath(org.apache.hadoop.fs.Path, int);
    Code:
       0: aload_0
       1: iload_1
       2: invokestatic  #14                 // Method java/lang/String.valueOf:(I)Ljava/lang/String;
       5: invokevirtual #15                 // Method org/apache/hadoop/fs/Path.suffix:(Ljava/lang/String;)Lorg/apache/hadoop/fs/Path;
       8: areturn

  protected void doShuffle(org.apache.hadoop.mapreduce.task.reduce.MapHost, org.apache.hadoop.mapred.IFileInputStream, long, long, org.apache.hadoop.mapreduce.task.reduce.ShuffleClientMetrics, org.apache.hadoop.mapred.Reporter) throws java.io.IOException;
    Code:
       0: lload_3
       1: lstore        9
       3: ldc           #16                 // int 65536
       5: istore        11
       7: ldc           #16                 // int 65536
       9: newarray       byte
      11: astore        12
      13: lload         9
      15: lconst_0
      16: lcmp
      17: ifle          111
      20: aload_2
      21: aload         12
      23: iconst_0
      24: lload         9
      26: ldc2_w        #17                 // long 65536l
      29: invokestatic  #19                 // Method java/lang/Math.min:(JJ)J
      32: l2i
      33: invokevirtual #20                 // Method org/apache/hadoop/mapred/IFileInputStream.readWithChecksum:([BII)I
      36: istore        13
      38: iload         13
      40: ifge          73
      43: new           #21                 // class java/io/IOException
      46: dup
      47: new           #22                 // class java/lang/StringBuilder
      50: dup
      51: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      54: ldc           #24                 // String read past end of stream reading
      56: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: aload_0
      60: invokevirtual #26                 // Method getMapId:()Lorg/apache/hadoop/mapreduce/TaskAttemptID;
      63: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      66: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      69: invokespecial #29                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
      72: athrow
      73: aload_0
      74: getfield      #13                 // Field disk:Ljava/io/OutputStream;
      77: aload         12
      79: iconst_0
      80: iload         13
      82: invokevirtual #30                 // Method java/io/OutputStream.write:([BII)V
      85: lload         9
      87: iload         13
      89: i2l
      90: lsub
      91: lstore        9
      93: aload         7
      95: iload         13
      97: i2l
      98: invokevirtual #31                 // Method org/apache/hadoop/mapreduce/task/reduce/ShuffleClientMetrics.inputBytes:(J)V
     101: aload         8
     103: invokeinterface #32,  1           // InterfaceMethod org/apache/hadoop/mapred/Reporter.progress:()V
     108: goto          13
     111: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
     114: new           #22                 // class java/lang/StringBuilder
     117: dup
     118: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     121: ldc           #34                 // String Read
     123: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: lload_3
     127: lload         9
     129: lsub
     130: invokevirtual #35                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     133: ldc           #36                 // String  bytes from map-output for
     135: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     138: aload_0
     139: invokevirtual #26                 // Method getMapId:()Lorg/apache/hadoop/mapreduce/TaskAttemptID;
     142: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     145: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     148: invokeinterface #37,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     153: aload_0
     154: getfield      #13                 // Field disk:Ljava/io/OutputStream;
     157: invokevirtual #38                 // Method java/io/OutputStream.close:()V
     160: goto          185
     163: astore        11
     165: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
     168: iconst_1
     169: anewarray     #39                 // class java/io/Closeable
     172: dup
     173: iconst_0
     174: aload_0
     175: getfield      #13                 // Field disk:Ljava/io/OutputStream;
     178: aastore
     179: invokestatic  #40                 // Method org/apache/hadoop/io/IOUtils.cleanupWithLogger:(Lorg/slf4j/Logger;[Ljava/io/Closeable;)V
     182: aload         11
     184: athrow
     185: lload         9
     187: lconst_0
     188: lcmp
     189: ifeq          258
     192: new           #21                 // class java/io/IOException
     195: dup
     196: new           #22                 // class java/lang/StringBuilder
     199: dup
     200: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
     203: ldc           #41                 // String Incomplete map output received for
     205: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     208: aload_0
     209: invokevirtual #26                 // Method getMapId:()Lorg/apache/hadoop/mapreduce/TaskAttemptID;
     212: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     215: ldc           #42                 // String  from
     217: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     220: aload_1
     221: invokevirtual #43                 // Method org/apache/hadoop/mapreduce/task/reduce/MapHost.getHostName:()Ljava/lang/String;
     224: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     227: ldc           #44                 // String  (
     229: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     232: lload         9
     234: invokevirtual #35                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     237: ldc           #45                 // String  bytes missing of
     239: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     242: lload_3
     243: invokevirtual #35                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;
     246: ldc           #46                 // String )
     248: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     251: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     254: invokespecial #29                 // Method java/io/IOException."<init>":(Ljava/lang/String;)V
     257: athrow
     258: aload_0
     259: lload_3
     260: putfield      #47                 // Field compressedSize:J
     263: return
    Exception table:
       from    to  target type
           3   160   163   Class java/io/IOException

  public void commit() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field fs:Lorg/apache/hadoop/fs/FileSystem;
       4: aload_0
       5: getfield      #10                 // Field tmpOutputPath:Lorg/apache/hadoop/fs/Path;
       8: aload_0
       9: getfield      #8                  // Field outputPath:Lorg/apache/hadoop/fs/Path;
      12: invokevirtual #48                 // Method org/apache/hadoop/fs/FileSystem.rename:(Lorg/apache/hadoop/fs/Path;Lorg/apache/hadoop/fs/Path;)Z
      15: pop
      16: new           #49                 // class org/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl$CompressAwarePath
      19: dup
      20: aload_0
      21: getfield      #8                  // Field outputPath:Lorg/apache/hadoop/fs/Path;
      24: aload_0
      25: invokevirtual #50                 // Method getSize:()J
      28: aload_0
      29: getfield      #47                 // Field compressedSize:J
      32: invokespecial #51                 // Method org/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl$CompressAwarePath."<init>":(Lorg/apache/hadoop/fs/Path;JJ)V
      35: astore_1
      36: aload_0
      37: invokevirtual #52                 // Method getMerger:()Lorg/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl;
      40: aload_1
      41: invokevirtual #53                 // Method org/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl.closeOnDiskFile:(Lorg/apache/hadoop/mapreduce/task/reduce/MergeManagerImpl$CompressAwarePath;)V
      44: return

  public void abort();
    Code:
       0: aload_0
       1: getfield      #7                  // Field fs:Lorg/apache/hadoop/fs/FileSystem;
       4: aload_0
       5: getfield      #10                 // Field tmpOutputPath:Lorg/apache/hadoop/fs/Path;
       8: iconst_0
       9: invokevirtual #54                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
      12: pop
      13: goto          48
      16: astore_1
      17: getstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
      20: new           #22                 // class java/lang/StringBuilder
      23: dup
      24: invokespecial #23                 // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #55                 // String failure to clean up
      29: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_0
      33: getfield      #10                 // Field tmpOutputPath:Lorg/apache/hadoop/fs/Path;
      36: invokevirtual #27                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      39: invokevirtual #28                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      42: aload_1
      43: invokeinterface #56,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Throwable;)V
      48: return
    Exception table:
       from    to  target type
           0    13    16   Class java/io/IOException

  public java.lang.String getDescription();
    Code:
       0: ldc           #57                 // String DISK
       2: areturn

  static {};
    Code:
       0: ldc           #58                 // class org/apache/hadoop/mapreduce/task/reduce/OnDiskMapOutput
       2: invokestatic  #59                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #33                 // Field LOG:Lorg/slf4j/Logger;
       8: return
}
