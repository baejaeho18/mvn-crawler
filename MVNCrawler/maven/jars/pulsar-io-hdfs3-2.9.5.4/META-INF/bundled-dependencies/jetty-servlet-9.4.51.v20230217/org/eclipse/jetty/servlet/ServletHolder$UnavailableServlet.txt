Compiled from "ServletHolder.java"
class org.eclipse.jetty.servlet.ServletHolder$UnavailableServlet extends org.eclipse.jetty.servlet.ServletHolder$Wrapper {
  final javax.servlet.UnavailableException _unavailableException;

  final java.util.concurrent.atomic.AtomicLong _unavailableStart;

  final org.eclipse.jetty.servlet.ServletHolder this$0;

  public org.eclipse.jetty.servlet.ServletHolder$UnavailableServlet(org.eclipse.jetty.servlet.ServletHolder, javax.servlet.UnavailableException, javax.servlet.Servlet);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/eclipse/jetty/servlet/ServletHolder;
       5: aload_0
       6: aload_3
       7: ifnull        14
      10: aload_3
      11: goto          22
      14: new           #2                  // class org/eclipse/jetty/servlet/ServletHolder$UnavailableServlet$1
      17: dup
      18: aload_1
      19: invokespecial #3                  // Method org/eclipse/jetty/servlet/ServletHolder$UnavailableServlet$1."<init>":(Lorg/eclipse/jetty/servlet/ServletHolder;)V
      22: invokespecial #4                  // Method org/eclipse/jetty/servlet/ServletHolder$Wrapper."<init>":(Ljavax/servlet/Servlet;)V
      25: aload_0
      26: aload_2
      27: putfield      #5                  // Field _unavailableException:Ljavax/servlet/UnavailableException;
      30: aload_2
      31: invokevirtual #6                  // Method javax/servlet/UnavailableException.isPermanent:()Z
      34: ifeq          45
      37: aload_0
      38: aconst_null
      39: putfield      #7                  // Field _unavailableStart:Ljava/util/concurrent/atomic/AtomicLong;
      42: goto          78
      45: invokestatic  #8                  // Method java/lang/System.nanoTime:()J
      48: lstore        4
      50: lload         4
      52: lconst_0
      53: lcmp
      54: ifne          65
      57: invokestatic  #8                  // Method java/lang/System.nanoTime:()J
      60: lstore        4
      62: goto          50
      65: aload_0
      66: new           #9                  // class java/util/concurrent/atomic/AtomicLong
      69: dup
      70: lload         4
      72: invokespecial #10                 // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      75: putfield      #7                  // Field _unavailableStart:Ljava/util/concurrent/atomic/AtomicLong;
      78: return

  public void service(javax.servlet.ServletRequest, javax.servlet.ServletResponse) throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: invokestatic  #11                 // Method org/eclipse/jetty/servlet/ServletHolder.access$200:()Lorg/eclipse/jetty/util/log/Logger;
       3: invokeinterface #12,  1           // InterfaceMethod org/eclipse/jetty/util/log/Logger.isDebugEnabled:()Z
       8: ifeq          36
      11: invokestatic  #11                 // Method org/eclipse/jetty/servlet/ServletHolder.access$200:()Lorg/eclipse/jetty/util/log/Logger;
      14: ldc           #13                 // String Unavailable {}
      16: iconst_2
      17: anewarray     #14                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_1
      23: aastore
      24: dup
      25: iconst_1
      26: aload_0
      27: getfield      #5                  // Field _unavailableException:Ljavax/servlet/UnavailableException;
      30: aastore
      31: invokeinterface #15,  3           // InterfaceMethod org/eclipse/jetty/util/log/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      36: aload_0
      37: getfield      #7                  // Field _unavailableStart:Ljava/util/concurrent/atomic/AtomicLong;
      40: ifnonnull     58
      43: aload_2
      44: checkcast     #16                 // class javax/servlet/http/HttpServletResponse
      47: sipush        404
      50: invokeinterface #17,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
      55: goto          196
      58: aload_0
      59: getfield      #7                  // Field _unavailableStart:Ljava/util/concurrent/atomic/AtomicLong;
      62: invokevirtual #18                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
      65: lstore_3
      66: lload_3
      67: lconst_0
      68: lcmp
      69: ifeq          95
      72: invokestatic  #8                  // Method java/lang/System.nanoTime:()J
      75: lload_3
      76: lsub
      77: getstatic     #19                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
      80: aload_0
      81: getfield      #5                  // Field _unavailableException:Ljavax/servlet/UnavailableException;
      84: invokevirtual #20                 // Method javax/servlet/UnavailableException.getUnavailableSeconds:()I
      87: i2l
      88: invokevirtual #21                 // Method java/util/concurrent/TimeUnit.toNanos:(J)J
      91: lcmp
      92: ifge          110
      95: aload_2
      96: checkcast     #16                 // class javax/servlet/http/HttpServletResponse
      99: sipush        503
     102: invokeinterface #17,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     107: goto          196
     110: aload_0
     111: getfield      #7                  // Field _unavailableStart:Ljava/util/concurrent/atomic/AtomicLong;
     114: lload_3
     115: lconst_0
     116: invokevirtual #22                 // Method java/util/concurrent/atomic/AtomicLong.compareAndSet:(JJ)Z
     119: ifeq          184
     122: aload_0
     123: dup
     124: astore        5
     126: monitorenter
     127: aload_0
     128: getfield      #1                  // Field this$0:Lorg/eclipse/jetty/servlet/ServletHolder;
     131: aload_0
     132: invokevirtual #23                 // Method getWrapped:()Ljavax/servlet/Servlet;
     135: invokestatic  #24                 // Method org/eclipse/jetty/servlet/ServletHolder.access$402:(Lorg/eclipse/jetty/servlet/ServletHolder;Ljavax/servlet/Servlet;)Ljavax/servlet/Servlet;
     138: pop
     139: aload         5
     141: monitorexit
     142: goto          153
     145: astore        6
     147: aload         5
     149: monitorexit
     150: aload         6
     152: athrow
     153: aload_1
     154: invokestatic  #25                 // Method org/eclipse/jetty/server/Request.getBaseRequest:(Ljavax/servlet/ServletRequest;)Lorg/eclipse/jetty/server/Request;
     157: astore        5
     159: aload_0
     160: getfield      #1                  // Field this$0:Lorg/eclipse/jetty/servlet/ServletHolder;
     163: aload         5
     165: aload_1
     166: aload_2
     167: invokevirtual #26                 // Method org/eclipse/jetty/servlet/ServletHolder.prepare:(Lorg/eclipse/jetty/server/Request;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     170: aload_0
     171: getfield      #1                  // Field this$0:Lorg/eclipse/jetty/servlet/ServletHolder;
     174: aload         5
     176: aload_1
     177: aload_2
     178: invokevirtual #27                 // Method org/eclipse/jetty/servlet/ServletHolder.handle:(Lorg/eclipse/jetty/server/Request;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
     181: goto          196
     184: aload_2
     185: checkcast     #16                 // class javax/servlet/http/HttpServletResponse
     188: sipush        503
     191: invokeinterface #17,  2           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(I)V
     196: return
    Exception table:
       from    to  target type
         127   142   145   any
         145   150   145   any

  public javax.servlet.UnavailableException getUnavailableException();
    Code:
       0: aload_0
       1: getfield      #5                  // Field _unavailableException:Ljavax/servlet/UnavailableException;
       4: areturn
}
