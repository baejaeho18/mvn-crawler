Compiled from "AggregatedLogDeletionService.java"
class org.apache.hadoop.yarn.logaggregation.AggregatedLogDeletionService$LogDeletionTask extends java.util.TimerTask {
  private org.apache.hadoop.conf.Configuration conf;

  private long retentionMillis;

  private java.lang.String suffix;

  private org.apache.hadoop.fs.Path remoteRootLogDir;

  private org.apache.hadoop.yarn.api.ApplicationClientProtocol rmClient;

  public org.apache.hadoop.yarn.logaggregation.AggregatedLogDeletionService$LogDeletionTask(org.apache.hadoop.conf.Configuration, long, org.apache.hadoop.yarn.api.ApplicationClientProtocol);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/util/TimerTask."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field suffix:Ljava/lang/String;
       9: aload_0
      10: aconst_null
      11: putfield      #3                  // Field remoteRootLogDir:Lorg/apache/hadoop/fs/Path;
      14: aload_0
      15: aconst_null
      16: putfield      #4                  // Field rmClient:Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;
      19: aload_0
      20: aload_1
      21: putfield      #5                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
      24: aload_0
      25: lload_2
      26: ldc2_w        #6                  // long 1000l
      29: lmul
      30: putfield      #8                  // Field retentionMillis:J
      33: new           #9                  // class org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileControllerFactory
      36: dup
      37: aload_1
      38: invokespecial #10                 // Method org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileControllerFactory."<init>":(Lorg/apache/hadoop/conf/Configuration;)V
      41: astore        5
      43: aload         5
      45: invokevirtual #11                 // Method org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileControllerFactory.getFileControllerForWrite:()Lorg/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController;
      48: astore        6
      50: aload_0
      51: aload         6
      53: invokevirtual #12                 // Method org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController.getRemoteRootLogDir:()Lorg/apache/hadoop/fs/Path;
      56: putfield      #3                  // Field remoteRootLogDir:Lorg/apache/hadoop/fs/Path;
      59: aload_0
      60: aload         6
      62: invokevirtual #13                 // Method org/apache/hadoop/yarn/logaggregation/filecontroller/LogAggregationFileController.getRemoteRootLogDirSuffix:()Ljava/lang/String;
      65: putfield      #2                  // Field suffix:Ljava/lang/String;
      68: aload_0
      69: aload         4
      71: putfield      #4                  // Field rmClient:Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;
      74: return

  public void run();
    Code:
       0: invokestatic  #14                 // Method java/lang/System.currentTimeMillis:()J
       3: aload_0
       4: getfield      #8                  // Field retentionMillis:J
       7: lsub
       8: lstore_1
       9: invokestatic  #15                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$000:()Lorg/apache/commons/logging/Log;
      12: ldc           #16                 // String aggregated log deletion started.
      14: invokeinterface #17,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
      19: aload_0
      20: getfield      #3                  // Field remoteRootLogDir:Lorg/apache/hadoop/fs/Path;
      23: aload_0
      24: getfield      #5                  // Field conf:Lorg/apache/hadoop/conf/Configuration;
      27: invokevirtual #18                 // Method org/apache/hadoop/fs/Path.getFileSystem:(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/fs/FileSystem;
      30: astore_3
      31: aload_3
      32: aload_0
      33: getfield      #3                  // Field remoteRootLogDir:Lorg/apache/hadoop/fs/Path;
      36: invokevirtual #19                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;)[Lorg/apache/hadoop/fs/FileStatus;
      39: astore        4
      41: aload         4
      43: arraylength
      44: istore        5
      46: iconst_0
      47: istore        6
      49: iload         6
      51: iload         5
      53: if_icmpge     106
      56: aload         4
      58: iload         6
      60: aaload
      61: astore        7
      63: aload         7
      65: invokevirtual #20                 // Method org/apache/hadoop/fs/FileStatus.isDirectory:()Z
      68: ifeq          100
      71: new           #21                 // class org/apache/hadoop/fs/Path
      74: dup
      75: aload         7
      77: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
      80: aload_0
      81: getfield      #2                  // Field suffix:Ljava/lang/String;
      84: invokespecial #23                 // Method org/apache/hadoop/fs/Path."<init>":(Lorg/apache/hadoop/fs/Path;Ljava/lang/String;)V
      87: astore        8
      89: aload         8
      91: lload_1
      92: aload_3
      93: aload_0
      94: getfield      #4                  // Field rmClient:Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;
      97: invokestatic  #24                 // Method deleteOldLogDirsFrom:(Lorg/apache/hadoop/fs/Path;JLorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;)V
     100: iinc          6, 1
     103: goto          49
     106: goto          116
     109: astore_3
     110: ldc           #26                 // String Error reading root log dir this deletion attempt is being aborted
     112: aload_3
     113: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
     116: invokestatic  #15                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$000:()Lorg/apache/commons/logging/Log;
     119: ldc           #28                 // String aggregated log deletion finished.
     121: invokeinterface #17,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
     126: return
    Exception table:
       from    to  target type
          19   106   109   Class java/lang/Throwable

  private static void deleteOldLogDirsFrom(org.apache.hadoop.fs.Path, long, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.yarn.api.ApplicationClientProtocol);
    Code:
       0: aload_3
       1: aload_0
       2: invokevirtual #19                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;)[Lorg/apache/hadoop/fs/FileStatus;
       5: astore        5
       7: goto          37
      10: astore        6
      12: new           #30                 // class java/lang/StringBuilder
      15: dup
      16: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
      19: ldc           #32                 // String Could not read the contents of
      21: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: aload_0
      25: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      28: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      31: aload         6
      33: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
      36: return
      37: aload         5
      39: astore        6
      41: aload         6
      43: arraylength
      44: istore        7
      46: iconst_0
      47: istore        8
      49: iload         8
      51: iload         7
      53: if_icmpge     78
      56: aload         6
      58: iload         8
      60: aaload
      61: astore        9
      63: lload_1
      64: aload_3
      65: aload         4
      67: aload         9
      69: invokestatic  #36                 // Method deleteAppDirLogs:(JLorg/apache/hadoop/fs/FileSystem;Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;Lorg/apache/hadoop/fs/FileStatus;)V
      72: iinc          8, 1
      75: goto          49
      78: return
    Exception table:
       from    to  target type
           0     7    10   Class java/io/IOException

  private static void deleteAppDirLogs(long, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.yarn.api.ApplicationClientProtocol, org.apache.hadoop.fs.FileStatus);
    Code:
       0: aload         4
       2: invokevirtual #20                 // Method org/apache/hadoop/fs/FileStatus.isDirectory:()Z
       5: ifeq          263
       8: aload         4
      10: invokevirtual #37                 // Method org/apache/hadoop/fs/FileStatus.getModificationTime:()J
      13: lload_0
      14: lcmp
      15: ifge          263
      18: aload         4
      20: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
      23: invokevirtual #38                 // Method org/apache/hadoop/fs/Path.getName:()Ljava/lang/String;
      26: invokestatic  #39                 // Method org/apache/hadoop/yarn/api/records/ApplicationId.fromString:(Ljava/lang/String;)Lorg/apache/hadoop/yarn/api/records/ApplicationId;
      29: astore        5
      31: aload         5
      33: aload_3
      34: invokestatic  #40                 // Method isApplicationTerminated:(Lorg/apache/hadoop/yarn/api/records/ApplicationId;Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;)Z
      37: istore        6
      39: iload         6
      41: ifne          178
      44: aload_2
      45: aload         4
      47: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
      50: invokevirtual #19                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;)[Lorg/apache/hadoop/fs/FileStatus;
      53: astore        7
      55: goto          89
      58: astore        8
      60: new           #30                 // class java/lang/StringBuilder
      63: dup
      64: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
      67: ldc           #41                 // String Error reading the contents of
      69: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: aload         4
      74: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
      77: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      80: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      83: aload         8
      85: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
      88: return
      89: aload         7
      91: astore        8
      93: aload         8
      95: arraylength
      96: istore        9
      98: iconst_0
      99: istore        10
     101: iload         10
     103: iload         9
     105: if_icmpge     175
     108: aload         8
     110: iload         10
     112: aaload
     113: astore        11
     115: aload         11
     117: invokevirtual #37                 // Method org/apache/hadoop/fs/FileStatus.getModificationTime:()J
     120: lload_0
     121: lcmp
     122: ifge          169
     125: aload_2
     126: aload         11
     128: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     131: iconst_1
     132: invokevirtual #42                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     135: pop
     136: goto          169
     139: astore        12
     141: new           #30                 // class java/lang/StringBuilder
     144: dup
     145: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
     148: ldc           #43                 // String Could not delete
     150: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     153: aload         4
     155: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     158: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     161: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     164: aload         12
     166: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
     169: iinc          10, 1
     172: goto          101
     175: goto          263
     178: aload         4
     180: lload_0
     181: aload_2
     182: invokestatic  #44                 // Method shouldDeleteLogDir:(Lorg/apache/hadoop/fs/FileStatus;JLorg/apache/hadoop/fs/FileSystem;)Z
     185: ifeq          263
     188: invokestatic  #15                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$000:()Lorg/apache/commons/logging/Log;
     191: new           #30                 // class java/lang/StringBuilder
     194: dup
     195: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
     198: ldc           #45                 // String Deleting aggregated logs in
     200: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     203: aload         4
     205: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     208: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     211: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     214: invokeinterface #17,  2           // InterfaceMethod org/apache/commons/logging/Log.info:(Ljava/lang/Object;)V
     219: aload_2
     220: aload         4
     222: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     225: iconst_1
     226: invokevirtual #42                 // Method org/apache/hadoop/fs/FileSystem.delete:(Lorg/apache/hadoop/fs/Path;Z)Z
     229: pop
     230: goto          263
     233: astore        7
     235: new           #30                 // class java/lang/StringBuilder
     238: dup
     239: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
     242: ldc           #43                 // String Could not delete
     244: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     247: aload         4
     249: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     252: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     255: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     258: aload         7
     260: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
     263: goto          296
     266: astore        5
     268: new           #30                 // class java/lang/StringBuilder
     271: dup
     272: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
     275: ldc           #43                 // String Could not delete
     277: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     280: aload         4
     282: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
     285: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     288: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     291: aload         5
     293: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
     296: return
    Exception table:
       from    to  target type
          44    55    58   Class java/io/IOException
         125   136   139   Class java/io/IOException
         188   230   233   Class java/io/IOException
           0    88   266   Class java/lang/Exception
          89   263   266   Class java/lang/Exception

  private static boolean shouldDeleteLogDir(org.apache.hadoop.fs.FileStatus, long, org.apache.hadoop.fs.FileSystem);
    Code:
       0: iconst_1
       1: istore        4
       3: aload_3
       4: aload_0
       5: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
       8: invokevirtual #19                 // Method org/apache/hadoop/fs/FileSystem.listStatus:(Lorg/apache/hadoop/fs/Path;)[Lorg/apache/hadoop/fs/FileStatus;
      11: astore        5
      13: aload         5
      15: arraylength
      16: istore        6
      18: iconst_0
      19: istore        7
      21: iload         7
      23: iload         6
      25: if_icmpge     57
      28: aload         5
      30: iload         7
      32: aaload
      33: astore        8
      35: aload         8
      37: invokevirtual #37                 // Method org/apache/hadoop/fs/FileStatus.getModificationTime:()J
      40: lload_1
      41: lcmp
      42: iflt          51
      45: iconst_0
      46: istore        4
      48: goto          57
      51: iinc          7, 1
      54: goto          21
      57: goto          92
      60: astore        5
      62: new           #30                 // class java/lang/StringBuilder
      65: dup
      66: invokespecial #31                 // Method java/lang/StringBuilder."<init>":()V
      69: ldc           #41                 // String Error reading the contents of
      71: invokevirtual #33                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      74: aload_0
      75: invokevirtual #22                 // Method org/apache/hadoop/fs/FileStatus.getPath:()Lorg/apache/hadoop/fs/Path;
      78: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      81: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: aload         5
      86: invokestatic  #27                 // Method org/apache/hadoop/yarn/logaggregation/AggregatedLogDeletionService.access$100:(Ljava/lang/String;Ljava/lang/Throwable;)V
      89: iconst_0
      90: istore        4
      92: iload         4
      94: ireturn
    Exception table:
       from    to  target type
           3    57    60   Class java/io/IOException

  private static boolean isApplicationTerminated(org.apache.hadoop.yarn.api.records.ApplicationId, org.apache.hadoop.yarn.api.ApplicationClientProtocol) throws java.io.IOException;
    Code:
       0: aconst_null
       1: astore_2
       2: aload_1
       3: aload_0
       4: invokestatic  #47                 // Method org/apache/hadoop/yarn/api/protocolrecords/GetApplicationReportRequest.newInstance:(Lorg/apache/hadoop/yarn/api/records/ApplicationId;)Lorg/apache/hadoop/yarn/api/protocolrecords/GetApplicationReportRequest;
       7: invokeinterface #48,  2           // InterfaceMethod org/apache/hadoop/yarn/api/ApplicationClientProtocol.getApplicationReport:(Lorg/apache/hadoop/yarn/api/protocolrecords/GetApplicationReportRequest;)Lorg/apache/hadoop/yarn/api/protocolrecords/GetApplicationReportResponse;
      12: invokevirtual #49                 // Method org/apache/hadoop/yarn/api/protocolrecords/GetApplicationReportResponse.getApplicationReport:()Lorg/apache/hadoop/yarn/api/records/ApplicationReport;
      15: astore_2
      16: goto          32
      19: astore_3
      20: iconst_1
      21: ireturn
      22: astore_3
      23: new           #29                 // class java/io/IOException
      26: dup
      27: aload_3
      28: invokespecial #52                 // Method java/io/IOException."<init>":(Ljava/lang/Throwable;)V
      31: athrow
      32: aload_2
      33: invokevirtual #53                 // Method org/apache/hadoop/yarn/api/records/ApplicationReport.getYarnApplicationState:()Lorg/apache/hadoop/yarn/api/records/YarnApplicationState;
      36: astore_3
      37: aload_3
      38: invokestatic  #54                 // Method org/apache/hadoop/yarn/util/Apps.isApplicationFinalState:(Lorg/apache/hadoop/yarn/api/records/YarnApplicationState;)Z
      41: ireturn
    Exception table:
       from    to  target type
           2    16    19   Class org/apache/hadoop/yarn/exceptions/ApplicationNotFoundException
           2    16    22   Class org/apache/hadoop/yarn/exceptions/YarnException

  public org.apache.hadoop.yarn.api.ApplicationClientProtocol getRMClient();
    Code:
       0: aload_0
       1: getfield      #4                  // Field rmClient:Lorg/apache/hadoop/yarn/api/ApplicationClientProtocol;
       4: areturn
}
