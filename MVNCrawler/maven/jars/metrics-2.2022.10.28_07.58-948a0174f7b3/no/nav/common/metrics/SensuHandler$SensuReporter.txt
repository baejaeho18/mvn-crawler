Compiled from "SensuHandler.java"
class no.nav.common.metrics.SensuHandler$SensuReporter implements java.lang.Runnable {
  final no.nav.common.metrics.SensuHandler this$0;

  private no.nav.common.metrics.SensuHandler$SensuReporter(no.nav.common.metrics.SensuHandler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
       5: aload_0
       6: invokespecial #3                  // Method java/lang/Object."<init>":()V
       9: return

  public void run();
    Code:
       0: new           #4                  // class java/util/ArrayList
       3: dup
       4: invokespecial #5                  // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
      12: getfield      #6                  // Field no/nav/common/metrics/SensuHandler.isShutDown:Z
      15: ifne          339
      18: aload_0
      19: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
      22: getfield      #7                  // Field no/nav/common/metrics/SensuHandler.reportQueue:Ljava/util/concurrent/LinkedBlockingQueue;
      25: invokevirtual #8                  // Method java/util/concurrent/LinkedBlockingQueue.isEmpty:()Z
      28: ifne          270
      31: aload_1
      32: invokeinterface #9,  1            // InterfaceMethod java/util/List.clear:()V
      37: aload_0
      38: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
      41: getfield      #7                  // Field no/nav/common/metrics/SensuHandler.reportQueue:Ljava/util/concurrent/LinkedBlockingQueue;
      44: aload_1
      45: aload_0
      46: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
      49: getfield      #10                 // Field no/nav/common/metrics/SensuHandler.sensuConfig:Lno/nav/common/metrics/SensuConfig;
      52: invokevirtual #11                 // Method no/nav/common/metrics/SensuConfig.getBatchSize:()I
      55: iconst_1
      56: isub
      57: invokevirtual #12                 // Method java/util/concurrent/LinkedBlockingQueue.drainTo:(Ljava/util/Collection;I)I
      60: pop
      61: aload_0
      62: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
      65: getfield      #7                  // Field no/nav/common/metrics/SensuHandler.reportQueue:Ljava/util/concurrent/LinkedBlockingQueue;
      68: invokevirtual #13                 // Method java/util/concurrent/LinkedBlockingQueue.size:()I
      71: i2f
      72: aload_0
      73: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
      76: getfield      #10                 // Field no/nav/common/metrics/SensuHandler.sensuConfig:Lno/nav/common/metrics/SensuConfig;
      79: invokevirtual #14                 // Method no/nav/common/metrics/SensuConfig.getQueueSize:()I
      82: i2f
      83: fdiv
      84: ldc           #15                 // float 100.0f
      86: fmul
      87: fstore_2
      88: getstatic     #16                 // Field no/nav/common/metrics/SensuHandler.log:Lorg/slf4j/Logger;
      91: ldc           #17                 // String Metrics still in queue: %d \tQueue full: %.2f%% \tMetrics sent: %d
      93: iconst_3
      94: anewarray     #18                 // class java/lang/Object
      97: dup
      98: iconst_0
      99: aload_0
     100: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     103: getfield      #7                  // Field no/nav/common/metrics/SensuHandler.reportQueue:Ljava/util/concurrent/LinkedBlockingQueue;
     106: invokevirtual #13                 // Method java/util/concurrent/LinkedBlockingQueue.size:()I
     109: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     112: aastore
     113: dup
     114: iconst_1
     115: fload_2
     116: invokestatic  #20                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;
     119: aastore
     120: dup
     121: iconst_2
     122: aload_1
     123: invokeinterface #21,  1           // InterfaceMethod java/util/List.size:()I
     128: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     131: aastore
     132: invokestatic  #22                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     135: invokeinterface #23,  2           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;)V
     140: aload_1
     141: ldc           #24                 // String \n
     143: invokestatic  #25                 // Method org/apache/commons/lang3/StringUtils.join:(Ljava/lang/Iterable;Ljava/lang/String;)Ljava/lang/String;
     146: astore_3
     147: aload_0
     148: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     151: aload_3
     152: invokevirtual #26                 // Method no/nav/common/metrics/SensuHandler.createJSON:(Ljava/lang/String;)Lorg/json/JSONObject;
     155: astore        4
     157: new           #27                 // class java/net/Socket
     160: dup
     161: invokespecial #28                 // Method java/net/Socket."<init>":()V
     164: astore        5
     166: aload_0
     167: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     170: aload         4
     172: aload         5
     174: invokevirtual #29                 // Method no/nav/common/metrics/SensuHandler.writeToSensu:(Lorg/json/JSONObject;Ljava/net/Socket;)V
     177: aload         5
     179: invokevirtual #30                 // Method java/net/Socket.close:()V
     182: goto          207
     185: astore        6
     187: aload         5
     189: invokevirtual #30                 // Method java/net/Socket.close:()V
     192: goto          204
     195: astore        7
     197: aload         6
     199: aload         7
     201: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     204: aload         6
     206: athrow
     207: goto          270
     210: astore        5
     212: aload_0
     213: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     216: getfield      #7                  // Field no/nav/common/metrics/SensuHandler.reportQueue:Ljava/util/concurrent/LinkedBlockingQueue;
     219: aload_1
     220: invokevirtual #34                 // Method java/util/concurrent/LinkedBlockingQueue.addAll:(Ljava/util/Collection;)Z
     223: pop
     224: getstatic     #16                 // Field no/nav/common/metrics/SensuHandler.log:Lorg/slf4j/Logger;
     227: ldc           #35                 // String Noe gikk feil med tilkoblingen til Sensu socket: {} - {}
     229: aload         5
     231: invokevirtual #36                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     234: invokevirtual #37                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     237: aload         5
     239: invokevirtual #38                 // Method java/io/IOException.getMessage:()Ljava/lang/String;
     242: invokeinterface #39,  4           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     247: aload_0
     248: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     251: getfield      #6                  // Field no/nav/common/metrics/SensuHandler.isShutDown:Z
     254: ifne          270
     257: aload_0
     258: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     261: getfield      #10                 // Field no/nav/common/metrics/SensuHandler.sensuConfig:Lno/nav/common/metrics/SensuConfig;
     264: invokevirtual #40                 // Method no/nav/common/metrics/SensuConfig.getRetryInterval:()J
     267: invokestatic  #41                 // Method java/lang/Thread.sleep:(J)V
     270: aload_0
     271: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     274: getfield      #6                  // Field no/nav/common/metrics/SensuHandler.isShutDown:Z
     277: ifne          321
     280: aload_0
     281: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     284: getfield      #7                  // Field no/nav/common/metrics/SensuHandler.reportQueue:Ljava/util/concurrent/LinkedBlockingQueue;
     287: invokevirtual #13                 // Method java/util/concurrent/LinkedBlockingQueue.size:()I
     290: aload_0
     291: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     294: getfield      #10                 // Field no/nav/common/metrics/SensuHandler.sensuConfig:Lno/nav/common/metrics/SensuConfig;
     297: invokevirtual #14                 // Method no/nav/common/metrics/SensuConfig.getQueueSize:()I
     300: ldc2_w        #42                 // long 100l
     303: aload_0
     304: getfield      #2                  // Field this$0:Lno/nav/common/metrics/SensuHandler;
     307: getfield      #10                 // Field no/nav/common/metrics/SensuHandler.sensuConfig:Lno/nav/common/metrics/SensuConfig;
     310: invokevirtual #44                 // Method no/nav/common/metrics/SensuConfig.getMaxBatchTime:()J
     313: invokestatic  #45                 // Method no/nav/common/metrics/SensuHandler.calculateBatchTime:(IIJJ)J
     316: lstore_2
     317: lload_2
     318: invokestatic  #41                 // Method java/lang/Thread.sleep:(J)V
     321: goto          8
     324: astore_2
     325: getstatic     #16                 // Field no/nav/common/metrics/SensuHandler.log:Lorg/slf4j/Logger;
     328: ldc           #47                 // String Å vente på neste objekt ble avbrutt, bør ikke kunne skje
     330: aload_2
     331: invokeinterface #48,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     336: goto          8
     339: return
    Exception table:
       from    to  target type
         166   177   185   Class java/lang/Throwable
         187   192   195   Class java/lang/Throwable
         157   207   210   Class java/io/IOException
          18   321   324   Class java/lang/InterruptedException
}
