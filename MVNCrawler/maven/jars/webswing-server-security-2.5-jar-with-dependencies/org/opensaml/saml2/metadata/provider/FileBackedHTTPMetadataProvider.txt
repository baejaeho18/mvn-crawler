Compiled from "FileBackedHTTPMetadataProvider.java"
public class org.opensaml.saml2.metadata.provider.FileBackedHTTPMetadataProvider extends org.opensaml.saml2.metadata.provider.HTTPMetadataProvider {
  private final org.slf4j.Logger log;

  private java.io.File metadataBackupFile;

  public org.opensaml.saml2.metadata.provider.FileBackedHTTPMetadataProvider(java.lang.String, int, java.lang.String) throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: aload_0
       1: aload_1
       2: iload_2
       3: invokespecial #1                  // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider."<init>":(Ljava/lang/String;I)V
       6: aload_0
       7: ldc_w         #2                  // class org/opensaml/saml2/metadata/provider/FileBackedHTTPMetadataProvider
      10: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      13: putfield      #4                  // Field log:Lorg/slf4j/Logger;
      16: aload_0
      17: aload_3
      18: invokevirtual #5                  // Method setBackupFile:(Ljava/lang/String;)V
      21: return

  public org.opensaml.saml2.metadata.provider.FileBackedHTTPMetadataProvider(java.util.Timer, org.apache.commons.httpclient.HttpClient, java.lang.String, java.lang.String) throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #6                  // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider."<init>":(Ljava/util/Timer;Lorg/apache/commons/httpclient/HttpClient;Ljava/lang/String;)V
       7: aload_0
       8: ldc_w         #2                  // class org/opensaml/saml2/metadata/provider/FileBackedHTTPMetadataProvider
      11: invokestatic  #3                  // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
      14: putfield      #4                  // Field log:Lorg/slf4j/Logger;
      17: aload_0
      18: aload         4
      20: invokevirtual #5                  // Method setBackupFile:(Ljava/lang/String;)V
      23: return

  public synchronized void destroy();
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #7                  // Field metadataBackupFile:Ljava/io/File;
       5: aload_0
       6: invokespecial #8                  // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.destroy:()V
       9: return

  protected void doInitialization() throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
       5: invokevirtual #9                  // Method validateBackupFile:(Ljava/io/File;)V
       8: goto          43
      11: astore_1
      12: aload_0
      13: invokevirtual #11                 // Method isFailFastInitialization:()Z
      16: ifeq          32
      19: aload_0
      20: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      23: ldc           #12                 // String Metadata backup file path was invalid, initialization is fatal
      25: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      30: aload_1
      31: athrow
      32: aload_0
      33: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      36: ldc           #14                 // String Metadata backup file path was invalid, continuing without known good backup file
      38: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
      43: aload_0
      44: invokespecial #15                 // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.doInitialization:()V
      47: return
    Exception table:
       from    to  target type
           0     8    11   Class org/opensaml/saml2/metadata/provider/MetadataProviderException

  protected void setBackupFile(java.lang.String) throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: new           #16                 // class java/io/File
       3: dup
       4: aload_1
       5: invokespecial #17                 // Method java/io/File."<init>":(Ljava/lang/String;)V
       8: astore_2
       9: aload_0
      10: aload_2
      11: putfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      14: return

  protected void validateBackupFile(java.io.File) throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: aload_1
       1: invokevirtual #18                 // Method java/io/File.exists:()Z
       4: ifne          76
       7: aload_1
       8: invokevirtual #19                 // Method java/io/File.createNewFile:()Z
      11: pop
      12: goto          76
      15: astore_2
      16: aload_0
      17: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      20: new           #21                 // class java/lang/StringBuilder
      23: dup
      24: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      27: ldc           #23                 // String Unable to create backing file
      29: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: aload_1
      33: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      36: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      39: aload_2
      40: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      45: new           #10                 // class org/opensaml/saml2/metadata/provider/MetadataProviderException
      48: dup
      49: new           #21                 // class java/lang/StringBuilder
      52: dup
      53: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      56: ldc           #23                 // String Unable to create backing file
      58: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_1
      62: invokevirtual #28                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      65: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      71: aload_2
      72: invokespecial #29                 // Method org/opensaml/saml2/metadata/provider/MetadataProviderException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
      75: athrow
      76: aload_1
      77: invokevirtual #30                 // Method java/io/File.isDirectory:()Z
      80: ifeq          118
      83: new           #10                 // class org/opensaml/saml2/metadata/provider/MetadataProviderException
      86: dup
      87: new           #21                 // class java/lang/StringBuilder
      90: dup
      91: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      94: ldc           #31                 // String Filepath
      96: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      99: aload_1
     100: invokevirtual #28                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     103: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: ldc           #32                 // String  is a directory and may not be used as a backing metadata file
     108: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     111: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     114: invokespecial #33                 // Method org/opensaml/saml2/metadata/provider/MetadataProviderException."<init>":(Ljava/lang/String;)V
     117: athrow
     118: aload_1
     119: invokevirtual #34                 // Method java/io/File.canRead:()Z
     122: ifne          160
     125: new           #10                 // class org/opensaml/saml2/metadata/provider/MetadataProviderException
     128: dup
     129: new           #21                 // class java/lang/StringBuilder
     132: dup
     133: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     136: ldc           #31                 // String Filepath
     138: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: aload_1
     142: invokevirtual #28                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     145: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     148: ldc           #35                 // String  exists but can not be read by this user
     150: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     153: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     156: invokespecial #33                 // Method org/opensaml/saml2/metadata/provider/MetadataProviderException."<init>":(Ljava/lang/String;)V
     159: athrow
     160: aload_1
     161: invokevirtual #36                 // Method java/io/File.canWrite:()Z
     164: ifne          202
     167: new           #10                 // class org/opensaml/saml2/metadata/provider/MetadataProviderException
     170: dup
     171: new           #21                 // class java/lang/StringBuilder
     174: dup
     175: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     178: ldc           #31                 // String Filepath
     180: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     183: aload_1
     184: invokevirtual #28                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     187: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     190: ldc           #37                 // String  exists but can not be written to by this user
     192: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     195: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     198: invokespecial #33                 // Method org/opensaml/saml2/metadata/provider/MetadataProviderException."<init>":(Ljava/lang/String;)V
     201: athrow
     202: return
    Exception table:
       from    to  target type
           7    12    15   Class java/io/IOException

  protected byte[] fetchMetadata() throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: aload_0
       1: invokespecial #38                 // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.fetchMetadata:()[B
       4: areturn
       5: astore_1
       6: aload_0
       7: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      10: invokevirtual #18                 // Method java/io/File.exists:()Z
      13: ifeq          90
      16: aload_0
      17: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      20: ldc           #39                 // String Problem reading metadata from remote source, processing existing backup file: {}
      22: aload_0
      23: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      26: invokevirtual #28                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      29: invokeinterface #40,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      34: aload_0
      35: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      38: invokestatic  #41                 // Method org/opensaml/xml/util/DatatypeHelper.fileToByteArray:(Ljava/io/File;)[B
      41: areturn
      42: astore_2
      43: new           #21                 // class java/lang/StringBuilder
      46: dup
      47: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      50: ldc           #42                 // String Unable to retrieve metadata from backup file
      52: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      55: aload_0
      56: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      59: invokevirtual #28                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      62: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      68: astore_3
      69: aload_0
      70: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      73: aload_3
      74: aload_2
      75: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      80: new           #10                 // class org/opensaml/saml2/metadata/provider/MetadataProviderException
      83: dup
      84: aload_3
      85: aload_2
      86: invokespecial #29                 // Method org/opensaml/saml2/metadata/provider/MetadataProviderException."<init>":(Ljava/lang/String;Ljava/lang/Exception;)V
      89: athrow
      90: aload_0
      91: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      94: ldc           #43                 // String Unable to read metadata from remote server and backup does not exist
      96: invokeinterface #13,  2           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;)V
     101: new           #10                 // class org/opensaml/saml2/metadata/provider/MetadataProviderException
     104: dup
     105: ldc           #43                 // String Unable to read metadata from remote server and backup does not exist
     107: invokespecial #33                 // Method org/opensaml/saml2/metadata/provider/MetadataProviderException."<init>":(Ljava/lang/String;)V
     110: athrow
    Exception table:
       from    to  target type
           0     4     5   Class org/opensaml/saml2/metadata/provider/MetadataProviderException
          34    41    42   Class java/io/IOException

  protected void postProcessMetadata(byte[], org.w3c.dom.Document, org.opensaml.xml.XMLObject) throws org.opensaml.saml2.metadata.provider.MetadataProviderException;
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
       5: invokevirtual #9                  // Method validateBackupFile:(Ljava/io/File;)V
       8: new           #44                 // class java/io/FileOutputStream
      11: dup
      12: aload_0
      13: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      16: invokespecial #45                 // Method java/io/FileOutputStream."<init>":(Ljava/io/File;)V
      19: astore        4
      21: aload         4
      23: aload_1
      24: invokevirtual #46                 // Method java/io/FileOutputStream.write:([B)V
      27: aload         4
      29: invokevirtual #47                 // Method java/io/FileOutputStream.flush:()V
      32: aload         4
      34: invokevirtual #48                 // Method java/io/FileOutputStream.close:()V
      37: aload_0
      38: aload_1
      39: aload_2
      40: aload_3
      41: invokespecial #49                 // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.postProcessMetadata:([BLorg/w3c/dom/Document;Lorg/opensaml/xml/XMLObject;)V
      44: goto          155
      47: astore        4
      49: aload_0
      50: getfield      #4                  // Field log:Lorg/slf4j/Logger;
      53: new           #21                 // class java/lang/StringBuilder
      56: dup
      57: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
      60: ldc           #50                 // String Unable to write metadata to backup file:
      62: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: aload_0
      66: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
      69: invokevirtual #51                 // Method java/io/File.getAbsoluteFile:()Ljava/io/File;
      72: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      75: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      78: aload         4
      80: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      85: aload_0
      86: aload_1
      87: aload_2
      88: aload_3
      89: invokespecial #49                 // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.postProcessMetadata:([BLorg/w3c/dom/Document;Lorg/opensaml/xml/XMLObject;)V
      92: goto          155
      95: astore        4
      97: aload_0
      98: getfield      #4                  // Field log:Lorg/slf4j/Logger;
     101: new           #21                 // class java/lang/StringBuilder
     104: dup
     105: invokespecial #22                 // Method java/lang/StringBuilder."<init>":()V
     108: ldc           #50                 // String Unable to write metadata to backup file:
     110: invokevirtual #24                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     113: aload_0
     114: getfield      #7                  // Field metadataBackupFile:Ljava/io/File;
     117: invokevirtual #51                 // Method java/io/File.getAbsoluteFile:()Ljava/io/File;
     120: invokevirtual #25                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     123: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     126: aload         4
     128: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     133: aload_0
     134: aload_1
     135: aload_2
     136: aload_3
     137: invokespecial #49                 // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.postProcessMetadata:([BLorg/w3c/dom/Document;Lorg/opensaml/xml/XMLObject;)V
     140: goto          155
     143: astore        5
     145: aload_0
     146: aload_1
     147: aload_2
     148: aload_3
     149: invokespecial #49                 // Method org/opensaml/saml2/metadata/provider/HTTPMetadataProvider.postProcessMetadata:([BLorg/w3c/dom/Document;Lorg/opensaml/xml/XMLObject;)V
     152: aload         5
     154: athrow
     155: return
    Exception table:
       from    to  target type
           0    37    47   Class org/opensaml/saml2/metadata/provider/MetadataProviderException
           0    37    95   Class java/io/IOException
           0    37   143   any
          47    85   143   any
          95   133   143   any
         143   145   143   any
}
