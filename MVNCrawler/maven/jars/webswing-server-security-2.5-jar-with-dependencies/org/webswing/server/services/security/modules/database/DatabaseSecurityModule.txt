Compiled from "DatabaseSecurityModule.java"
public class org.webswing.server.services.security.modules.database.DatabaseSecurityModule extends org.webswing.server.services.security.modules.AbstractUserPasswordSecurityModule<org.webswing.server.services.security.modules.database.DatabaseSecurityModuleConfig> {
  private org.apache.shiro.realm.jdbc.JdbcRealm realm;

  public org.webswing.server.services.security.modules.database.DatabaseSecurityModule(org.webswing.server.services.security.modules.database.DatabaseSecurityModuleConfig);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/webswing/server/services/security/modules/AbstractUserPasswordSecurityModule."<init>":(Lorg/webswing/server/services/security/extension/api/WebswingExtendableSecurityModuleConfig;)V
       5: return

  public void init();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/webswing/server/services/security/modules/AbstractUserPasswordSecurityModule.init:()V
       4: aload_0
       5: new           #3                  // class org/apache/shiro/realm/jdbc/JdbcRealm
       8: dup
       9: invokespecial #4                  // Method org/apache/shiro/realm/jdbc/JdbcRealm."<init>":()V
      12: putfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      15: aload_0
      16: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      19: aload_0
      20: invokevirtual #6                  // Method initializeDataSource:()Ljavax/sql/DataSource;
      23: invokevirtual #7                  // Method org/apache/shiro/realm/jdbc/JdbcRealm.setDataSource:(Ljavax/sql/DataSource;)V
      26: aload_0
      27: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      30: aload_0
      31: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      34: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      37: invokeinterface #10,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getAuthenticationQuery:()Ljava/lang/String;
      42: invokevirtual #11                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.setAuthenticationQuery:(Ljava/lang/String;)V
      45: aload_0
      46: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      49: aload_0
      50: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      53: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      56: invokeinterface #12,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getUserRolesQuery:()Ljava/lang/String;
      61: invokevirtual #13                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.setUserRolesQuery:(Ljava/lang/String;)V
      64: aload_0
      65: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      68: aload_0
      69: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      72: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      75: invokeinterface #14,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getPermissionsQuery:()Ljava/lang/String;
      80: invokevirtual #15                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.setPermissionsQuery:(Ljava/lang/String;)V
      83: aload_0
      84: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      87: aload_0
      88: invokevirtual #16                 // Method initializeCredentialMatcher:()Lorg/apache/shiro/authc/credential/CredentialsMatcher;
      91: invokevirtual #17                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.setCredentialsMatcher:(Lorg/apache/shiro/authc/credential/CredentialsMatcher;)V
      94: aload_0
      95: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      98: aload_0
      99: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     102: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
     105: invokeinterface #18,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.isPasswordSalted:()Z
     110: ifeq          119
     113: getstatic     #19                 // Field org/apache/shiro/realm/jdbc/JdbcRealm$SaltStyle.COLUMN:Lorg/apache/shiro/realm/jdbc/JdbcRealm$SaltStyle;
     116: goto          122
     119: getstatic     #20                 // Field org/apache/shiro/realm/jdbc/JdbcRealm$SaltStyle.NO_SALT:Lorg/apache/shiro/realm/jdbc/JdbcRealm$SaltStyle;
     122: invokevirtual #21                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.setSaltStyle:(Lorg/apache/shiro/realm/jdbc/JdbcRealm$SaltStyle;)V
     125: aload_0
     126: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
     129: aload_0
     130: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     133: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
     136: invokeinterface #22,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.isPermissionsEnabled:()Z
     141: invokevirtual #23                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.setPermissionsLookupEnabled:(Z)V
     144: aload_0
     145: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
     148: invokevirtual #24                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.init:()V
     151: return

  protected org.apache.shiro.authc.credential.CredentialsMatcher initializeCredentialMatcher();
    Code:
       0: aload_0
       1: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
       4: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
       7: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getHashAlgorithm:()Ljava/lang/String;
      12: astore_1
      13: aload_1
      14: invokestatic  #26                 // Method org/webswing/server/services/security/modules/database/HashType.valueOf:(Ljava/lang/String;)Lorg/webswing/server/services/security/modules/database/HashType;
      17: invokevirtual #27                 // Method org/webswing/server/services/security/modules/database/HashType.getValue:()Ljava/lang/String;
      20: astore_1
      21: goto          25
      24: astore_2
      25: aload_1
      26: ifnonnull     37
      29: new           #29                 // class org/apache/shiro/authc/credential/SimpleCredentialsMatcher
      32: dup
      33: invokespecial #30                 // Method org/apache/shiro/authc/credential/SimpleCredentialsMatcher."<init>":()V
      36: areturn
      37: new           #31                 // class org/apache/shiro/authc/credential/HashedCredentialsMatcher
      40: dup
      41: invokespecial #32                 // Method org/apache/shiro/authc/credential/HashedCredentialsMatcher."<init>":()V
      44: astore_2
      45: aload_2
      46: aload_1
      47: invokevirtual #33                 // Method org/apache/shiro/authc/credential/HashedCredentialsMatcher.setHashAlgorithmName:(Ljava/lang/String;)V
      50: aload_2
      51: aload_0
      52: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      55: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      58: invokeinterface #34,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getHashIterations:()I
      63: invokevirtual #35                 // Method org/apache/shiro/authc/credential/HashedCredentialsMatcher.setHashIterations:(I)V
      66: aload_2
      67: aload_0
      68: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      71: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      74: invokeinterface #36,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getHashHexEncoded:()Z
      79: invokevirtual #37                 // Method org/apache/shiro/authc/credential/HashedCredentialsMatcher.setStoredCredentialsHexEncoded:(Z)V
      82: aload_2
      83: areturn
    Exception table:
       from    to  target type
          13    21    24   Class java/lang/Exception

  protected javax.sql.DataSource initializeDataSource() throws java.lang.RuntimeException;
    Code:
       0: invokestatic  #38                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
       3: invokevirtual #39                 // Method java/lang/Thread.getContextClassLoader:()Ljava/lang/ClassLoader;
       6: astore_1
       7: aload_1
       8: aload_0
       9: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      12: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      15: invokeinterface #40,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getDataSourceClass:()Ljava/lang/String;
      20: invokevirtual #41                 // Method java/lang/ClassLoader.loadClass:(Ljava/lang/String;)Ljava/lang/Class;
      23: astore_2
      24: aload_2
      25: invokevirtual #42                 // Method java/lang/Class.newInstance:()Ljava/lang/Object;
      28: checkcast     #43                 // class javax/sql/DataSource
      31: astore_3
      32: aload_2
      33: invokestatic  #44                 // Method java/beans/Introspector.getBeanInfo:(Ljava/lang/Class;)Ljava/beans/BeanInfo;
      36: astore        4
      38: aload_0
      39: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      42: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
      45: invokeinterface #45,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getDataSourceProperties:()Ljava/util/Map;
      50: astore        5
      52: aload         4
      54: invokeinterface #46,  1           // InterfaceMethod java/beans/BeanInfo.getPropertyDescriptors:()[Ljava/beans/PropertyDescriptor;
      59: astore        6
      61: aload         6
      63: arraylength
      64: istore        7
      66: iconst_0
      67: istore        8
      69: iload         8
      71: iload         7
      73: if_icmpge     302
      76: aload         6
      78: iload         8
      80: aaload
      81: astore        9
      83: aload         5
      85: aload         9
      87: invokevirtual #47                 // Method java/beans/PropertyDescriptor.getName:()Ljava/lang/String;
      90: invokeinterface #48,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      95: checkcast     #49                 // class java/lang/String
      98: astore        10
     100: aload         9
     102: invokevirtual #50                 // Method java/beans/PropertyDescriptor.getWriteMethod:()Ljava/lang/reflect/Method;
     105: ifnull        296
     108: aload         10
     110: ifnull        296
     113: aload         9
     115: invokevirtual #50                 // Method java/beans/PropertyDescriptor.getWriteMethod:()Ljava/lang/reflect/Method;
     118: invokevirtual #51                 // Method java/lang/reflect/Method.getParameterTypes:()[Ljava/lang/Class;
     121: iconst_0
     122: aaload
     123: astore        11
     125: aload         11
     127: ldc           #49                 // class java/lang/String
     129: if_acmpne     154
     132: aload         9
     134: invokevirtual #50                 // Method java/beans/PropertyDescriptor.getWriteMethod:()Ljava/lang/reflect/Method;
     137: aload_3
     138: iconst_1
     139: anewarray     #52                 // class java/lang/Object
     142: dup
     143: iconst_0
     144: aload         10
     146: aastore
     147: invokevirtual #53                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     150: pop
     151: goto          223
     154: aload         11
     156: getstatic     #54                 // Field java/lang/Boolean.TYPE:Ljava/lang/Class;
     159: if_acmpne     190
     162: aload         9
     164: invokevirtual #50                 // Method java/beans/PropertyDescriptor.getWriteMethod:()Ljava/lang/reflect/Method;
     167: aload_3
     168: iconst_1
     169: anewarray     #52                 // class java/lang/Object
     172: dup
     173: iconst_0
     174: aload         10
     176: invokestatic  #55                 // Method java/lang/Boolean.parseBoolean:(Ljava/lang/String;)Z
     179: invokestatic  #56                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     182: aastore
     183: invokevirtual #53                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     186: pop
     187: goto          223
     190: aload         11
     192: getstatic     #57                 // Field java/lang/Integer.TYPE:Ljava/lang/Class;
     195: if_acmpne     223
     198: aload         9
     200: invokevirtual #50                 // Method java/beans/PropertyDescriptor.getWriteMethod:()Ljava/lang/reflect/Method;
     203: aload_3
     204: iconst_1
     205: anewarray     #52                 // class java/lang/Object
     208: dup
     209: iconst_0
     210: aload         10
     212: invokestatic  #58                 // Method java/lang/Integer.parseInt:(Ljava/lang/String;)I
     215: invokestatic  #59                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     218: aastore
     219: invokevirtual #53                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     222: pop
     223: goto          296
     226: astore        11
     228: new           #60                 // class java/lang/IllegalStateException
     231: dup
     232: new           #61                 // class java/lang/StringBuilder
     235: dup
     236: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     239: ldc           #63                 // String Setting the value of
     241: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     244: aload_0
     245: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     248: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
     251: invokeinterface #40,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getDataSourceClass:()Ljava/lang/String;
     256: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     259: ldc           #65                 // String .
     261: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     264: aload         9
     266: invokevirtual #47                 // Method java/beans/PropertyDescriptor.getName:()Ljava/lang/String;
     269: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     272: ldc           #66                 // String  to
     274: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     277: aload         10
     279: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     282: ldc           #67                 // String  failed.
     284: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     287: invokevirtual #68                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     290: aload         11
     292: invokespecial #69                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     295: athrow
     296: iinc          8, 1
     299: goto          69
     302: aload_3
     303: areturn
     304: astore_1
     305: new           #60                 // class java/lang/IllegalStateException
     308: dup
     309: new           #61                 // class java/lang/StringBuilder
     312: dup
     313: invokespecial #62                 // Method java/lang/StringBuilder."<init>":()V
     316: ldc           #70                 // String Failed to initialize DataSource
     318: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     321: aload_0
     322: invokevirtual #8                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     325: checkcast     #9                  // class org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig
     328: invokeinterface #40,  1           // InterfaceMethod org/webswing/server/services/security/modules/database/DatabaseSecurityModuleConfig.getDataSourceClass:()Ljava/lang/String;
     333: invokevirtual #64                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     336: invokevirtual #68                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     339: aload_1
     340: invokespecial #69                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     343: athrow
    Exception table:
       from    to  target type
         113   223   226   Class java/lang/Exception
           0   303   304   Class java/lang/Exception

  public org.webswing.server.services.security.api.AbstractWebswingUser verifyUserPassword(java.lang.String, java.lang.String) throws org.webswing.server.services.security.api.WebswingAuthenticationException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
       4: new           #71                 // class org/apache/shiro/authc/UsernamePasswordToken
       7: dup
       8: aload_1
       9: aload_2
      10: invokespecial #72                 // Method org/apache/shiro/authc/UsernamePasswordToken."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      13: invokevirtual #73                 // Method org/apache/shiro/realm/jdbc/JdbcRealm.getAuthenticationInfo:(Lorg/apache/shiro/authc/AuthenticationToken;)Lorg/apache/shiro/authc/AuthenticationInfo;
      16: astore_3
      17: goto          36
      20: astore        4
      22: new           #75                 // class org/webswing/server/services/security/api/WebswingAuthenticationException
      25: dup
      26: ldc           #76                 // String Username or password is not valid!
      28: ldc           #77                 // String login.invalidUserPassword
      30: aload         4
      32: invokespecial #78                 // Method org/webswing/server/services/security/api/WebswingAuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
      35: athrow
      36: aload_3
      37: ifnonnull     52
      40: new           #75                 // class org/webswing/server/services/security/api/WebswingAuthenticationException
      43: dup
      44: ldc           #79                 // String User not found!
      46: ldc           #77                 // String login.invalidUserPassword
      48: invokespecial #80                 // Method org/webswing/server/services/security/api/WebswingAuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      51: athrow
      52: new           #81                 // class org/webswing/server/services/security/modules/property/ShiroWebswingUser
      55: dup
      56: aload_0
      57: getfield      #5                  // Field realm:Lorg/apache/shiro/realm/jdbc/JdbcRealm;
      60: aload_3
      61: invokespecial #82                 // Method org/webswing/server/services/security/modules/property/ShiroWebswingUser."<init>":(Lorg/apache/shiro/realm/AuthorizingRealm;Lorg/apache/shiro/authc/AuthenticationInfo;)V
      64: areturn
    Exception table:
       from    to  target type
           0    17    20   Class org/apache/shiro/authc/AuthenticationException
}
