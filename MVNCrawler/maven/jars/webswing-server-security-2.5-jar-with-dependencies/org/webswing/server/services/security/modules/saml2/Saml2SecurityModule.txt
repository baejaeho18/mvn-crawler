Compiled from "Saml2SecurityModule.java"
public class org.webswing.server.services.security.modules.saml2.Saml2SecurityModule extends org.webswing.server.services.security.modules.AbstractExtendableSecurityModule<org.webswing.server.services.security.modules.saml2.Saml2SecurityModuleConfig> {
  private static final org.slf4j.Logger log;

  private static boolean staticInit;

  private static final java.lang.String SAML_PARAMETER;

  private org.webswing.server.services.security.modules.saml2.com.lastpass.saml.SAMLClient client;

  public org.webswing.server.services.security.modules.saml2.Saml2SecurityModule(org.webswing.server.services.security.modules.saml2.Saml2SecurityModuleConfig);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method org/webswing/server/services/security/modules/AbstractExtendableSecurityModule."<init>":(Lorg/webswing/server/services/security/extension/api/WebswingExtendableSecurityModuleConfig;)V
       5: return

  public void init();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/webswing/server/services/security/modules/AbstractExtendableSecurityModule.init:()V
       4: getstatic     #3                  // Field staticInit:Z
       7: ifne          20
      10: new           #4                  // class java/lang/RuntimeException
      13: dup
      14: ldc           #5                  // String SAML2 module was not initialized correctly. Not possible to configure security module.
      16: invokespecial #6                  // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
      19: athrow
      20: aload_0
      21: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      24: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
      27: invokeinterface #9,  1            // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getIdentityProviderMetadataFile:()Ljava/lang/String;
      32: astore_1
      33: aload_0
      34: aload_1
      35: invokespecial #10                 // Method getMetadataFile:(Ljava/lang/String;)Ljava/io/File;
      38: astore_2
      39: aload_2
      40: ifnull        50
      43: aload_2
      44: invokevirtual #11                 // Method java/io/File.isFile:()Z
      47: ifne          82
      50: new           #12                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException
      53: dup
      54: new           #13                 // class java/lang/StringBuilder
      57: dup
      58: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      61: ldc           #15                 // String The SAML2 Identity provider metadata file
      63: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      66: aload_1
      67: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      70: ldc           #17                 // String  does not exist.
      72: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      78: invokespecial #19                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException."<init>":(Ljava/lang/String;)V
      81: athrow
      82: aload_0
      83: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
      86: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
      89: invokeinterface #20,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getServiceProviderConsumerUrl:()Ljava/lang/String;
      94: astore_3
      95: aload_3
      96: invokestatic  #21                 // Method org/apache/commons/lang/StringUtils.isEmpty:(Ljava/lang/String;)Z
      99: ifeq          112
     102: new           #12                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException
     105: dup
     106: ldc           #22                 // String The SAML2 serviceProviderConsumerUrl property must not be empty.
     108: invokespecial #19                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException."<init>":(Ljava/lang/String;)V
     111: athrow
     112: aload_0
     113: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     116: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     119: invokeinterface #23,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getServiceProviderEntityId:()Ljava/lang/String;
     124: astore        4
     126: aload         4
     128: invokestatic  #21                 // Method org/apache/commons/lang/StringUtils.isEmpty:(Ljava/lang/String;)Z
     131: ifeq          144
     134: new           #4                  // class java/lang/RuntimeException
     137: dup
     138: ldc           #24                 // String The SAML2 Service provider entityId property must not be empty.
     140: invokespecial #6                  // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     143: athrow
     144: aload_0
     145: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     148: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     151: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getContext:()Lorg/webswing/server/services/security/api/SecurityContext;
     156: aload_0
     157: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     160: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     163: invokeinterface #26,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getDecryptionKeyStore:()Ljava/lang/String;
     168: invokeinterface #27,  2           // InterfaceMethod org/webswing/server/services/security/api/SecurityContext.replaceVariables:(Ljava/lang/String;)Ljava/lang/String;
     173: astore        5
     175: aconst_null
     176: astore        6
     178: aload         5
     180: invokestatic  #28                 // Method org/apache/commons/lang/StringUtils.isNotEmpty:(Ljava/lang/String;)Z
     183: ifeq          435
     186: aload_0
     187: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     190: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     193: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getContext:()Lorg/webswing/server/services/security/api/SecurityContext;
     198: aload         5
     200: invokeinterface #29,  2           // InterfaceMethod org/webswing/server/services/security/api/SecurityContext.resolveFile:(Ljava/lang/String;)Ljava/io/File;
     205: astore        7
     207: aload_2
     208: ifnull        218
     211: aload_2
     212: invokevirtual #30                 // Method java/io/File.exists:()Z
     215: ifne          258
     218: getstatic     #31                 // Field log:Lorg/slf4j/Logger;
     221: ldc           #32                 // String Failed to load keystore.
     223: new           #33                 // class java/lang/Exception
     226: dup
     227: new           #13                 // class java/lang/StringBuilder
     230: dup
     231: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
     234: aload         5
     236: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     239: ldc           #34                 // String  does not exits.
     241: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     244: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     247: invokespecial #35                 // Method java/lang/Exception."<init>":(Ljava/lang/String;)V
     250: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     255: goto          435
     258: aload         7
     260: invokevirtual #37                 // Method java/io/File.getName:()Ljava/lang/String;
     263: invokestatic  #38                 // Method org/apache/commons/io/FilenameUtils.getExtension:(Ljava/lang/String;)Ljava/lang/String;
     266: astore        8
     268: ldc           #39                 // String p12
     270: aload         8
     272: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     275: ifeq          283
     278: ldc           #41                 // String PKCS12
     280: goto          285
     283: ldc           #42                 // String JKS
     285: astore        9
     287: aload_0
     288: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     291: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     294: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getContext:()Lorg/webswing/server/services/security/api/SecurityContext;
     299: aload_0
     300: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     303: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     306: invokeinterface #43,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getDecryptionKeyAlias:()Ljava/lang/String;
     311: invokeinterface #27,  2           // InterfaceMethod org/webswing/server/services/security/api/SecurityContext.replaceVariables:(Ljava/lang/String;)Ljava/lang/String;
     316: astore        10
     318: aload_0
     319: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     322: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     325: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getContext:()Lorg/webswing/server/services/security/api/SecurityContext;
     330: aload_0
     331: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     334: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     337: invokeinterface #44,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getDecryptionKeyStorePwd:()Ljava/lang/String;
     342: invokeinterface #27,  2           // InterfaceMethod org/webswing/server/services/security/api/SecurityContext.replaceVariables:(Ljava/lang/String;)Ljava/lang/String;
     347: astore        11
     349: aload_0
     350: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     353: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     356: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getContext:()Lorg/webswing/server/services/security/api/SecurityContext;
     361: aload_0
     362: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
     365: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
     368: invokeinterface #45,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getDecryptionKeyPwd:()Ljava/lang/String;
     373: invokeinterface #27,  2           // InterfaceMethod org/webswing/server/services/security/api/SecurityContext.replaceVariables:(Ljava/lang/String;)Ljava/lang/String;
     378: astore        12
     380: aload         7
     382: aload         11
     384: aload         9
     386: invokestatic  #46                 // Method loadKeyStore:(Ljava/io/File;Ljava/lang/String;Ljava/lang/String;)Ljava/security/KeyStore;
     389: astore        13
     391: aload         13
     393: aload         10
     395: aconst_null
     396: aload         12
     398: if_acmpne     405
     401: aconst_null
     402: goto          410
     405: aload         12
     407: invokevirtual #47                 // Method java/lang/String.toCharArray:()[C
     410: invokevirtual #48                 // Method java/security/KeyStore.getKey:(Ljava/lang/String;[C)Ljava/security/Key;
     413: checkcast     #49                 // class java/security/PrivateKey
     416: astore        6
     418: goto          435
     421: astore        13
     423: getstatic     #31                 // Field log:Lorg/slf4j/Logger;
     426: ldc           #50                 // String Failed to load private key from keystore
     428: aload         13
     430: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     435: new           #51                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/IdPConfig
     438: dup
     439: aload_2
     440: invokespecial #52                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/IdPConfig."<init>":(Ljava/io/File;)V
     443: astore        7
     445: aload_0
     446: invokevirtual #53                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     449: invokevirtual #54                 // Method java/lang/Class.getClassLoader:()Ljava/lang/ClassLoader;
     452: ldc           #55                 // String saml2/saml2-sp-template.xml
     454: invokevirtual #56                 // Method java/lang/ClassLoader.getResourceAsStream:(Ljava/lang/String;)Ljava/io/InputStream;
     457: invokestatic  #57                 // Method org/apache/commons/io/IOUtils.toString:(Ljava/io/InputStream;)Ljava/lang/String;
     460: astore        8
     462: aload         8
     464: ldc           #58                 // String ${entityID}
     466: aload         4
     468: invokevirtual #59                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
     471: astore        8
     473: aload         8
     475: ldc           #60                 // String ${consumerUrl}
     477: aload_3
     478: invokevirtual #59                 // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
     481: astore        8
     483: new           #61                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SPConfig
     486: dup
     487: new           #62                 // class java/io/ByteArrayInputStream
     490: dup
     491: aload         8
     493: ldc           #63                 // String UTF-8
     495: invokevirtual #64                 // Method java/lang/String.getBytes:(Ljava/lang/String;)[B
     498: invokespecial #65                 // Method java/io/ByteArrayInputStream."<init>":([B)V
     501: invokespecial #66                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SPConfig."<init>":(Ljava/io/InputStream;)V
     504: astore        9
     506: aload         6
     508: ifnull        518
     511: aload         9
     513: aload         6
     515: invokevirtual #67                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SPConfig.setPrivateKey:(Ljava/security/PrivateKey;)V
     518: aload_0
     519: new           #68                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient
     522: dup
     523: aload         9
     525: aload         7
     527: invokespecial #69                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient."<init>":(Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/SPConfig;Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/IdPConfig;)V
     530: putfield      #70                 // Field client:Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient;
     533: goto          550
     536: astore        8
     538: new           #12                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException
     541: dup
     542: ldc           #72                 // String The SAML2 template file could not be loaded.
     544: aload         8
     546: invokespecial #73                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     549: athrow
     550: goto          565
     553: astore_1
     554: new           #4                  // class java/lang/RuntimeException
     557: dup
     558: ldc           #74                 // String Failed to initialize SAML2 webswing security module.
     560: aload_1
     561: invokespecial #75                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     564: athrow
     565: return
    Exception table:
       from    to  target type
         380   418   421   Class java/lang/Exception
         445   533   536   Class java/io/IOException
          20   550   553   Class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException

  private java.io.File getMetadataFile(java.lang.String) throws org.webswing.server.services.security.modules.saml2.com.lastpass.saml.SAMLException;
    Code:
       0: aload_0
       1: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
       4: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
       7: invokeinterface #25,  1           // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getContext:()Lorg/webswing/server/services/security/api/SecurityContext;
      12: aload_1
      13: invokeinterface #29,  2           // InterfaceMethod org/webswing/server/services/security/api/SecurityContext.resolveFile:(Ljava/lang/String;)Ljava/io/File;
      18: astore_2
      19: aload_2
      20: ifnull        25
      23: aload_2
      24: areturn
      25: new           #76                 // class java/io/File
      28: dup
      29: invokestatic  #77                 // Method main/Main.getTempDir:()Ljava/io/File;
      32: aload_1
      33: invokevirtual #78                 // Method java/lang/String.getBytes:()[B
      36: invokestatic  #79                 // Method org/apache/commons/codec/binary/Base64.encodeBase64URLSafeString:([B)Ljava/lang/String;
      39: invokespecial #80                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      42: astore_3
      43: new           #81                 // class java/net/URL
      46: dup
      47: aload_1
      48: invokespecial #82                 // Method java/net/URL."<init>":(Ljava/lang/String;)V
      51: aload_3
      52: invokestatic  #83                 // Method org/apache/commons/io/FileUtils.copyURLToFile:(Ljava/net/URL;Ljava/io/File;)V
      55: aload_3
      56: areturn
      57: astore_3
      58: aconst_null
      59: areturn
      60: astore_3
      61: new           #12                 // class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException
      64: dup
      65: ldc           #85                 // String Failed to load SAML2 Identity provider metadata.
      67: aload_3
      68: invokespecial #73                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      71: athrow
    Exception table:
       from    to  target type
          25    56    57   Class java/net/MalformedURLException
          25    56    60   Class java/io/IOException

  protected void serveLoginPartial(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse, org.webswing.server.services.security.api.WebswingAuthenticationException) throws java.io.IOException;
    Code:
       0: aload_3
       1: ifnull        16
       4: aload_0
       5: aload_1
       6: aload_2
       7: ldc           #86                 // String errorPartial.html
       9: aload_3
      10: invokevirtual #87                 // Method sendPartialHtml:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljava/lang/String;Ljava/lang/Object;)V
      13: goto          31
      16: aload_0
      17: aload_1
      18: invokespecial #88                 // Method getSaml2RedirectUrl:(Ljavax/servlet/http/HttpServletRequest;)Ljava/lang/String;
      21: astore        4
      23: aload_0
      24: aload_1
      25: aload_2
      26: aload         4
      28: invokevirtual #89                 // Method sendRedirect:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljava/lang/String;)V
      31: return

  private java.lang.String getSaml2RedirectUrl(javax.servlet.http.HttpServletRequest) throws java.io.IOException;
    Code:
       0: invokestatic  #90                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLUtils.generateRequestId:()Ljava/lang/String;
       3: astore_2
       4: aload_0
       5: getfield      #70                 // Field client:Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient;
       8: aload_2
       9: invokevirtual #91                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient.generateAuthnRequest:(Ljava/lang/String;)Ljava/lang/String;
      12: astore_3
      13: goto          30
      16: astore        4
      18: new           #71                 // class java/io/IOException
      21: dup
      22: ldc           #92                 // String Failed to build SAML request.
      24: aload         4
      26: invokespecial #93                 // Method java/io/IOException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      29: athrow
      30: aload_0
      31: getfield      #70                 // Field client:Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient;
      34: invokevirtual #94                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient.getIdPConfig:()Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/IdPConfig;
      37: invokevirtual #95                 // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/IdPConfig.getLoginUrl:()Ljava/lang/String;
      40: astore        4
      42: aload_1
      43: invokeinterface #96,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getQueryString:()Ljava/lang/String;
      48: astore        5
      50: aload         5
      52: invokestatic  #97                 // Method org/apache/commons/lang/StringUtils.isNotBlank:(Ljava/lang/String;)Z
      55: ifeq          67
      58: aload         4
      60: aload         5
      62: invokestatic  #98                 // Method org/webswing/server/common/util/CommonUtil.addParam:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      65: astore        4
      67: new           #13                 // class java/lang/StringBuilder
      70: dup
      71: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      74: ldc           #99                 // String SAMLRequest=
      76: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      79: aload_3
      80: ldc           #63                 // String UTF-8
      82: invokestatic  #100                // Method java/net/URLEncoder.encode:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      85: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      91: astore        6
      93: aload         4
      95: aload         6
      97: invokestatic  #98                 // Method org/webswing/server/common/util/CommonUtil.addParam:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     100: astore        4
     102: aload         4
     104: areturn
    Exception table:
       from    to  target type
           4    13    16   Class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException

  protected org.webswing.server.services.security.api.AbstractWebswingUser authenticate(javax.servlet.http.HttpServletRequest) throws org.webswing.server.services.security.api.WebswingAuthenticationException;
    Code:
       0: aload_1
       1: ldc           #102                // String SAMLResponse
       3: invokeinterface #103,  2          // InterfaceMethod javax/servlet/http/HttpServletRequest.getParameter:(Ljava/lang/String;)Ljava/lang/String;
       8: astore_2
       9: aload_2
      10: invokestatic  #21                 // Method org/apache/commons/lang/StringUtils.isEmpty:(Ljava/lang/String;)Z
      13: ifne          131
      16: aload_0
      17: getfield      #70                 // Field client:Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient;
      20: aload_2
      21: invokevirtual #104                // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLClient.validateResponse:(Ljava/lang/String;)Lorg/webswing/server/services/security/modules/saml2/com/lastpass/saml/AttributeSet;
      24: astore_3
      25: aload_3
      26: invokevirtual #105                // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/AttributeSet.getNameId:()Ljava/lang/String;
      29: astore        4
      31: aload_0
      32: aload_1
      33: aload         4
      35: invokevirtual #106                // Method logSuccess:(Ljavax/servlet/http/HttpServletRequest;Ljava/lang/String;)V
      38: new           #107                // class org/webswing/server/services/security/modules/saml2/Saml2User
      41: dup
      42: aload_2
      43: aload         4
      45: aload_3
      46: invokevirtual #108                // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/AttributeSet.getAttributes:()Ljava/util/Map;
      49: invokespecial #109                // Method org/webswing/server/services/security/modules/saml2/Saml2User."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;)V
      52: areturn
      53: astore        4
      55: aload_0
      56: aload_1
      57: aconst_null
      58: new           #13                 // class java/lang/StringBuilder
      61: dup
      62: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
      65: ldc           #110                // String Failed to authenticate.
      67: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      70: aload         4
      72: invokevirtual #111                // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException.getMessage:()Ljava/lang/String;
      75: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      81: invokevirtual #112                // Method logFailure:(Ljavax/servlet/http/HttpServletRequest;Ljava/lang/String;Ljava/lang/String;)V
      84: getstatic     #31                 // Field log:Lorg/slf4j/Logger;
      87: ldc           #113                // String Failed to authenticate
      89: aload         4
      91: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      96: new           #114                // class org/webswing/server/services/security/api/WebswingAuthenticationException
      99: dup
     100: new           #13                 // class java/lang/StringBuilder
     103: dup
     104: invokespecial #14                 // Method java/lang/StringBuilder."<init>":()V
     107: ldc           #115                // String Failed to auhenticate.
     109: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     112: aload         4
     114: invokevirtual #111                // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException.getMessage:()Ljava/lang/String;
     117: invokevirtual #16                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: invokevirtual #18                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: ldc           #116                // String login.failedToAuthenticate
     125: aload         4
     127: invokespecial #117                // Method org/webswing/server/services/security/api/WebswingAuthenticationException."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
     130: athrow
     131: aconst_null
     132: areturn
    Exception table:
       from    to  target type
          16    52    53   Class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException

  public void doLogout(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: aload_0
       1: aload_0
       2: invokevirtual #7                  // Method getConfig:()Lorg/webswing/server/services/security/api/WebswingSecurityModuleConfig;
       5: checkcast     #8                  // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig
       8: invokeinterface #118,  1          // InterfaceMethod org/webswing/server/services/security/modules/saml2/Saml2SecurityModuleConfig.getLogoutUrl:()Ljava/lang/String;
      13: invokevirtual #119                // Method replaceVar:(Ljava/lang/String;)Ljava/lang/String;
      16: astore_3
      17: aload_0
      18: aload_1
      19: aload_2
      20: aload_3
      21: invokevirtual #120                // Method logoutRedirect:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljava/lang/String;)V
      24: return

  public static java.security.KeyStore loadKeyStore(java.io.File, java.lang.String, java.lang.String) throws java.security.KeyStoreException, java.io.IOException, java.security.NoSuchAlgorithmException, java.security.cert.CertificateException;
    Code:
       0: aload_0
       1: invokevirtual #121                // Method java/io/File.toURI:()Ljava/net/URI;
       4: invokevirtual #122                // Method java/net/URI.toURL:()Ljava/net/URL;
       7: astore_3
       8: aload_2
       9: invokestatic  #123                // Method java/security/KeyStore.getInstance:(Ljava/lang/String;)Ljava/security/KeyStore;
      12: astore        4
      14: aconst_null
      15: astore        5
      17: aload_3
      18: invokevirtual #124                // Method java/net/URL.openStream:()Ljava/io/InputStream;
      21: astore        5
      23: aload         4
      25: aload         5
      27: aconst_null
      28: aload_1
      29: if_acmpne     36
      32: aconst_null
      33: goto          40
      36: aload_1
      37: invokevirtual #47                 // Method java/lang/String.toCharArray:()[C
      40: invokevirtual #125                // Method java/security/KeyStore.load:(Ljava/io/InputStream;[C)V
      43: aconst_null
      44: aload         5
      46: if_acmpeq     73
      49: aload         5
      51: invokevirtual #126                // Method java/io/InputStream.close:()V
      54: goto          73
      57: astore        6
      59: aconst_null
      60: aload         5
      62: if_acmpeq     70
      65: aload         5
      67: invokevirtual #126                // Method java/io/InputStream.close:()V
      70: aload         6
      72: athrow
      73: aload         4
      75: areturn
    Exception table:
       from    to  target type
          17    43    57   any
          57    59    57   any

  static {};
    Code:
       0: ldc           #101                // class org/webswing/server/services/security/modules/saml2/Saml2SecurityModule
       2: invokestatic  #127                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #31                 // Field log:Lorg/slf4j/Logger;
       8: iconst_0
       9: putstatic     #3                  // Field staticInit:Z
      12: invokestatic  #128                // Method org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLInit.initialize:()V
      15: iconst_1
      16: putstatic     #3                  // Field staticInit:Z
      19: goto          34
      22: astore_0
      23: getstatic     #31                 // Field log:Lorg/slf4j/Logger;
      26: ldc           #129                // String Initializing SAML2 client failed.
      28: aload_0
      29: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      34: return
    Exception table:
       from    to  target type
          12    19    22   Class org/webswing/server/services/security/modules/saml2/com/lastpass/saml/SAMLException
}
