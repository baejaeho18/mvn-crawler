Compiled from "VelocimacroFactory.java"
public class org.apache.velocity.runtime.VelocimacroFactory {
  private final org.apache.velocity.runtime.RuntimeServices rsvc;

  private final org.apache.velocity.runtime.log.LogDisplayWrapper log;

  private org.apache.velocity.runtime.VelocimacroManager vmManager;

  private boolean replaceAllowed;

  private boolean addNewAllowed;

  private boolean templateLocal;

  private boolean autoReloadLibrary;

  private java.util.List macroLibVec;

  private java.util.Map libModMap;

  public org.apache.velocity.runtime.VelocimacroFactory(org.apache.velocity.runtime.RuntimeServices);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
       9: aload_0
      10: iconst_0
      11: putfield      #3                  // Field replaceAllowed:Z
      14: aload_0
      15: iconst_1
      16: putfield      #4                  // Field addNewAllowed:Z
      19: aload_0
      20: iconst_0
      21: putfield      #5                  // Field templateLocal:Z
      24: aload_0
      25: iconst_0
      26: putfield      #6                  // Field autoReloadLibrary:Z
      29: aload_0
      30: aconst_null
      31: putfield      #7                  // Field macroLibVec:Ljava/util/List;
      34: aload_0
      35: aload_1
      36: putfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
      39: aload_0
      40: new           #9                  // class org/apache/velocity/runtime/log/LogDisplayWrapper
      43: dup
      44: aload_1
      45: invokeinterface #10,  1           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getLog:()Lorg/apache/velocity/runtime/log/Log;
      50: ldc           #11                 // String Velocimacro :
      52: aload_1
      53: ldc           #12                 // String velocimacro.messages.on
      55: iconst_1
      56: invokeinterface #13,  3           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getBoolean:(Ljava/lang/String;Z)Z
      61: invokespecial #14                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper."<init>":(Lorg/apache/velocity/runtime/log/Log;Ljava/lang/String;Z)V
      64: putfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
      67: aload_0
      68: new           #16                 // class java/util/HashMap
      71: dup
      72: invokespecial #17                 // Method java/util/HashMap."<init>":()V
      75: putfield      #18                 // Field libModMap:Ljava/util/Map;
      78: aload_0
      79: new           #19                 // class org/apache/velocity/runtime/VelocimacroManager
      82: dup
      83: aload_1
      84: invokespecial #20                 // Method org/apache/velocity/runtime/VelocimacroManager."<init>":(Lorg/apache/velocity/runtime/RuntimeServices;)V
      87: putfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
      90: return

  public void initVelocimacro();
    Code:
       0: aload_0
       1: dup
       2: astore_1
       3: monitorenter
       4: aload_0
       5: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
       8: ldc           #21                 // String initialization starting.
      10: invokevirtual #22                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.trace:(Ljava/lang/Object;)V
      13: aload_0
      14: iconst_1
      15: invokespecial #23                 // Method setReplacementPermission:(Z)Z
      18: pop
      19: aload_0
      20: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
      23: iconst_0
      24: invokevirtual #24                 // Method org/apache/velocity/runtime/VelocimacroManager.setNamespaceUsage:(Z)V
      27: aload_0
      28: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
      31: ldc           #25                 // String velocimacro.library
      33: invokeinterface #26,  2           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
      38: astore_2
      39: aload_2
      40: ifnonnull     81
      43: aload_0
      44: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
      47: ldc           #27                 // String \"velocimacro.library\" is not set.  Trying default library: VM_global_library.vm
      49: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
      52: aload_0
      53: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
      56: ldc           #29                 // String VM_global_library.vm
      58: invokeinterface #30,  2           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getLoaderNameForResource:(Ljava/lang/String;)Ljava/lang/String;
      63: ifnull        72
      66: ldc           #29                 // String VM_global_library.vm
      68: astore_2
      69: goto          81
      72: aload_0
      73: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
      76: ldc           #31                 // String Default library not found.
      78: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
      81: aload_2
      82: ifnull        343
      85: aload_0
      86: new           #32                 // class java/util/ArrayList
      89: dup
      90: invokespecial #33                 // Method java/util/ArrayList."<init>":()V
      93: putfield      #7                  // Field macroLibVec:Ljava/util/List;
      96: aload_2
      97: instanceof    #34                 // class java/util/Vector
     100: ifeq          120
     103: aload_0
     104: getfield      #7                  // Field macroLibVec:Ljava/util/List;
     107: aload_2
     108: checkcast     #34                 // class java/util/Vector
     111: invokeinterface #35,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
     116: pop
     117: goto          138
     120: aload_2
     121: instanceof    #36                 // class java/lang/String
     124: ifeq          138
     127: aload_0
     128: getfield      #7                  // Field macroLibVec:Ljava/util/List;
     131: aload_2
     132: invokeinterface #37,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     137: pop
     138: iconst_0
     139: istore_3
     140: aload_0
     141: getfield      #7                  // Field macroLibVec:Ljava/util/List;
     144: invokeinterface #38,  1           // InterfaceMethod java/util/List.size:()I
     149: istore        4
     151: iload_3
     152: iload         4
     154: if_icmpge     343
     157: aload_0
     158: getfield      #7                  // Field macroLibVec:Ljava/util/List;
     161: iload_3
     162: invokeinterface #39,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     167: checkcast     #36                 // class java/lang/String
     170: astore        5
     172: aload         5
     174: invokestatic  #40                 // Method org/apache/commons/lang/StringUtils.isNotEmpty:(Ljava/lang/String;)Z
     177: ifeq          337
     180: aload_0
     181: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     184: iconst_1
     185: invokevirtual #41                 // Method org/apache/velocity/runtime/VelocimacroManager.setRegisterFromLib:(Z)V
     188: aload_0
     189: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     192: new           #42                 // class java/lang/StringBuffer
     195: dup
     196: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     199: ldc           #44                 // String adding VMs from VM library :
     201: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     204: aload         5
     206: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     209: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     212: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     215: aload_0
     216: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     219: aload         5
     221: invokeinterface #47,  2           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getTemplate:(Ljava/lang/String;)Lorg/apache/velocity/Template;
     226: astore        6
     228: new           #48                 // class org/apache/velocity/runtime/VelocimacroFactory$Twonk
     231: dup
     232: aconst_null
     233: invokespecial #49                 // Method org/apache/velocity/runtime/VelocimacroFactory$Twonk."<init>":(Lorg/apache/velocity/runtime/VelocimacroFactory$1;)V
     236: astore        7
     238: aload         7
     240: aload         6
     242: putfield      #50                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.template:Lorg/apache/velocity/Template;
     245: aload         7
     247: aload         6
     249: invokevirtual #51                 // Method org/apache/velocity/Template.getLastModified:()J
     252: putfield      #52                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.modificationTime:J
     255: aload_0
     256: getfield      #18                 // Field libModMap:Ljava/util/Map;
     259: aload         5
     261: aload         7
     263: invokeinterface #53,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     268: pop
     269: goto          320
     272: astore        6
     274: new           #42                 // class java/lang/StringBuffer
     277: dup
     278: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     281: ldc           #55                 // String Velocimacro : Error using VM library :
     283: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     286: aload         5
     288: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     291: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     294: astore        7
     296: aload_0
     297: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     300: iconst_1
     301: aload         7
     303: aload         6
     305: invokevirtual #56                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.error:(ZLjava/lang/Object;Ljava/lang/Throwable;)V
     308: new           #57                 // class org/apache/velocity/exception/VelocityException
     311: dup
     312: aload         7
     314: aload         6
     316: invokespecial #58                 // Method org/apache/velocity/exception/VelocityException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     319: athrow
     320: aload_0
     321: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     324: ldc           #59                 // String VM library registration complete.
     326: invokevirtual #22                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.trace:(Ljava/lang/Object;)V
     329: aload_0
     330: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     333: iconst_0
     334: invokevirtual #41                 // Method org/apache/velocity/runtime/VelocimacroManager.setRegisterFromLib:(Z)V
     337: iinc          3, 1
     340: goto          151
     343: aload_0
     344: iconst_1
     345: invokespecial #60                 // Method setAddMacroPermission:(Z)Z
     348: pop
     349: aload_0
     350: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     353: ldc           #61                 // String velocimacro.permissions.allow.inline
     355: iconst_1
     356: invokeinterface #13,  3           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getBoolean:(Ljava/lang/String;Z)Z
     361: ifne          382
     364: aload_0
     365: iconst_0
     366: invokespecial #60                 // Method setAddMacroPermission:(Z)Z
     369: pop
     370: aload_0
     371: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     374: ldc           #62                 // String allowInline = false : VMs can NOT be defined inline in templates
     376: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     379: goto          391
     382: aload_0
     383: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     386: ldc           #63                 // String allowInline = true : VMs can be defined inline in templates
     388: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     391: aload_0
     392: iconst_0
     393: invokespecial #23                 // Method setReplacementPermission:(Z)Z
     396: pop
     397: aload_0
     398: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     401: ldc           #64                 // String velocimacro.permissions.allow.inline.to.replace.global
     403: iconst_0
     404: invokeinterface #13,  3           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getBoolean:(Ljava/lang/String;Z)Z
     409: ifeq          430
     412: aload_0
     413: iconst_1
     414: invokespecial #23                 // Method setReplacementPermission:(Z)Z
     417: pop
     418: aload_0
     419: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     422: ldc           #65                 // String allowInlineToOverride = true : VMs defined inline may replace previous VM definitions
     424: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     427: goto          439
     430: aload_0
     431: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     434: ldc           #66                 // String allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
     436: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     439: aload_0
     440: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     443: iconst_1
     444: invokevirtual #24                 // Method org/apache/velocity/runtime/VelocimacroManager.setNamespaceUsage:(Z)V
     447: aload_0
     448: aload_0
     449: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     452: ldc           #67                 // String velocimacro.permissions.allow.inline.local.scope
     454: iconst_0
     455: invokeinterface #13,  3           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getBoolean:(Ljava/lang/String;Z)Z
     460: invokespecial #68                 // Method setTemplateLocalInline:(Z)V
     463: aload_0
     464: invokespecial #69                 // Method getTemplateLocalInline:()Z
     467: ifeq          482
     470: aload_0
     471: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     474: ldc           #70                 // String allowInlineLocal = true : VMs defined inline will be local to their defining template only.
     476: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     479: goto          491
     482: aload_0
     483: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     486: ldc           #71                 // String allowInlineLocal = false : VMs defined inline will be global in scope if allowed.
     488: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     491: aload_0
     492: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     495: aload_0
     496: invokespecial #69                 // Method getTemplateLocalInline:()Z
     499: invokevirtual #72                 // Method org/apache/velocity/runtime/VelocimacroManager.setTemplateLocalInlineVM:(Z)V
     502: aload_0
     503: aload_0
     504: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     507: ldc           #73                 // String velocimacro.library.autoreload
     509: iconst_0
     510: invokeinterface #13,  3           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getBoolean:(Ljava/lang/String;Z)Z
     515: invokespecial #74                 // Method setAutoload:(Z)V
     518: aload_0
     519: invokespecial #75                 // Method getAutoload:()Z
     522: ifeq          537
     525: aload_0
     526: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     529: ldc           #76                 // String autoload on : VM system will automatically reload global library macros
     531: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     534: goto          546
     537: aload_0
     538: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     541: ldc           #77                 // String autoload off : VM system will not automatically reload global library macros
     543: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     546: aload_0
     547: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     550: ldc           #78                 // String Velocimacro : initialization complete.
     552: invokevirtual #22                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.trace:(Ljava/lang/Object;)V
     555: aload_1
     556: monitorexit
     557: goto          567
     560: astore        8
     562: aload_1
     563: monitorexit
     564: aload         8
     566: athrow
     567: return
    Exception table:
       from    to  target type
         215   269   272   Class java/lang/Exception
           4   557   560   any
         560   564   560   any

  public boolean addVelocimacro(java.lang.String, java.lang.String, java.lang.String[], java.lang.String);
    Code:
       0: aload_1
       1: ifnull        17
       4: aload_2
       5: ifnull        17
       8: aload_3
       9: ifnull        17
      12: aload         4
      14: ifnonnull     193
      17: new           #42                 // class java/lang/StringBuffer
      20: dup
      21: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      24: ldc           #79                 // String VM \'
      26: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      29: aload_1
      30: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      33: ldc           #80                 // String \' addition rejected :
      35: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      38: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      41: astore        5
      43: aload_1
      44: ifnonnull     72
      47: new           #42                 // class java/lang/StringBuffer
      50: dup
      51: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      54: aload         5
      56: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      59: ldc           #81                 // String name
      61: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      64: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      67: astore        5
      69: goto          152
      72: aload_2
      73: ifnonnull     101
      76: new           #42                 // class java/lang/StringBuffer
      79: dup
      80: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      83: aload         5
      85: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      88: ldc           #82                 // String macroBody
      90: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      93: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      96: astore        5
      98: goto          152
     101: aload_3
     102: ifnonnull     130
     105: new           #42                 // class java/lang/StringBuffer
     108: dup
     109: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     112: aload         5
     114: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     117: ldc           #83                 // String argArray
     119: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     122: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     125: astore        5
     127: goto          152
     130: new           #42                 // class java/lang/StringBuffer
     133: dup
     134: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     137: aload         5
     139: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     142: ldc           #84                 // String sourceTemplate
     144: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     147: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     150: astore        5
     152: new           #42                 // class java/lang/StringBuffer
     155: dup
     156: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     159: aload         5
     161: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     164: ldc           #85                 // String  argument was null
     166: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     169: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     172: astore        5
     174: aload_0
     175: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     178: aload         5
     180: invokevirtual #86                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.error:(Ljava/lang/Object;)V
     183: new           #87                 // class java/lang/NullPointerException
     186: dup
     187: aload         5
     189: invokespecial #88                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
     192: athrow
     193: aload_0
     194: aload_1
     195: aload         4
     197: invokespecial #89                 // Method canAddVelocimacro:(Ljava/lang/String;Ljava/lang/String;)Z
     200: ifne          205
     203: iconst_0
     204: ireturn
     205: aload_0
     206: dup
     207: astore        5
     209: monitorenter
     210: aload_0
     211: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     214: new           #90                 // class java/io/StringReader
     217: dup
     218: aload_2
     219: invokespecial #91                 // Method java/io/StringReader."<init>":(Ljava/lang/String;)V
     222: aload         4
     224: invokeinterface #92,  3           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.parse:(Ljava/io/Reader;Ljava/lang/String;)Lorg/apache/velocity/runtime/parser/node/SimpleNode;
     229: astore        6
     231: aload_0
     232: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     235: aload_1
     236: aload         6
     238: aload_3
     239: aload         4
     241: aload_0
     242: getfield      #3                  // Field replaceAllowed:Z
     245: invokevirtual #93                 // Method org/apache/velocity/runtime/VelocimacroManager.addVM:(Ljava/lang/String;Lorg/apache/velocity/runtime/parser/node/Node;[Ljava/lang/String;Ljava/lang/String;Z)Z
     248: pop
     249: goto          267
     252: astore        6
     254: new           #95                 // class java/lang/RuntimeException
     257: dup
     258: aload         6
     260: invokevirtual #96                 // Method org/apache/velocity/runtime/parser/ParseException.toString:()Ljava/lang/String;
     263: invokespecial #97                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     266: athrow
     267: aload         5
     269: monitorexit
     270: goto          281
     273: astore        7
     275: aload         5
     277: monitorexit
     278: aload         7
     280: athrow
     281: aload_0
     282: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     285: invokevirtual #98                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.isDebugEnabled:()Z
     288: ifeq          334
     291: new           #42                 // class java/lang/StringBuffer
     294: dup
     295: ldc           #99                 // String added
     297: invokespecial #100                // Method java/lang/StringBuffer."<init>":(Ljava/lang/String;)V
     300: astore        5
     302: aload         5
     304: aload_3
     305: invokestatic  #101                // Method org/apache/velocity/runtime/directive/Macro.macroToString:(Ljava/lang/StringBuffer;[Ljava/lang/String;)Ljava/lang/StringBuffer;
     308: pop
     309: aload         5
     311: ldc           #102                // String  : source =
     313: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     316: aload         4
     318: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     321: pop
     322: aload_0
     323: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     326: aload         5
     328: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     331: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     334: iconst_1
     335: ireturn
    Exception table:
       from    to  target type
         210   249   252   Class org/apache/velocity/runtime/parser/ParseException
         210   270   273   any
         273   278   273   any

  public boolean addVelocimacro(java.lang.String, org.apache.velocity.runtime.parser.node.Node, java.lang.String[], java.lang.String);
    Code:
       0: aload_1
       1: ifnull        17
       4: aload_2
       5: ifnull        17
       8: aload_3
       9: ifnull        17
      12: aload         4
      14: ifnonnull     193
      17: new           #42                 // class java/lang/StringBuffer
      20: dup
      21: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      24: ldc           #79                 // String VM \'
      26: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      29: aload_1
      30: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      33: ldc           #80                 // String \' addition rejected :
      35: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      38: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      41: astore        5
      43: aload_1
      44: ifnonnull     72
      47: new           #42                 // class java/lang/StringBuffer
      50: dup
      51: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      54: aload         5
      56: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      59: ldc           #81                 // String name
      61: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      64: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      67: astore        5
      69: goto          152
      72: aload_2
      73: ifnonnull     101
      76: new           #42                 // class java/lang/StringBuffer
      79: dup
      80: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      83: aload         5
      85: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      88: ldc           #82                 // String macroBody
      90: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      93: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      96: astore        5
      98: goto          152
     101: aload_3
     102: ifnonnull     130
     105: new           #42                 // class java/lang/StringBuffer
     108: dup
     109: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     112: aload         5
     114: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     117: ldc           #83                 // String argArray
     119: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     122: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     125: astore        5
     127: goto          152
     130: new           #42                 // class java/lang/StringBuffer
     133: dup
     134: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     137: aload         5
     139: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     142: ldc           #84                 // String sourceTemplate
     144: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     147: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     150: astore        5
     152: new           #42                 // class java/lang/StringBuffer
     155: dup
     156: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     159: aload         5
     161: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     164: ldc           #85                 // String  argument was null
     166: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     169: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     172: astore        5
     174: aload_0
     175: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     178: aload         5
     180: invokevirtual #86                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.error:(Ljava/lang/Object;)V
     183: new           #87                 // class java/lang/NullPointerException
     186: dup
     187: aload         5
     189: invokespecial #88                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
     192: athrow
     193: aload_0
     194: aload_1
     195: aload         4
     197: invokespecial #89                 // Method canAddVelocimacro:(Ljava/lang/String;Ljava/lang/String;)Z
     200: ifne          205
     203: iconst_0
     204: ireturn
     205: aload_0
     206: dup
     207: astore        5
     209: monitorenter
     210: aload_0
     211: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     214: aload_1
     215: aload_2
     216: aload_3
     217: aload         4
     219: aload_0
     220: getfield      #3                  // Field replaceAllowed:Z
     223: invokevirtual #93                 // Method org/apache/velocity/runtime/VelocimacroManager.addVM:(Ljava/lang/String;Lorg/apache/velocity/runtime/parser/node/Node;[Ljava/lang/String;Ljava/lang/String;Z)Z
     226: pop
     227: aload         5
     229: monitorexit
     230: goto          241
     233: astore        6
     235: aload         5
     237: monitorexit
     238: aload         6
     240: athrow
     241: aload_0
     242: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     245: invokevirtual #98                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.isDebugEnabled:()Z
     248: ifeq          287
     251: aload_0
     252: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     255: new           #42                 // class java/lang/StringBuffer
     258: dup
     259: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     262: ldc           #103                // String added VM
     264: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     267: aload_1
     268: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     271: ldc           #104                // String : source=
     273: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     276: aload         4
     278: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     281: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     284: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     287: iconst_1
     288: ireturn
    Exception table:
       from    to  target type
         210   230   233   any
         233   238   233   any

  private synchronized boolean canAddVelocimacro(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #6                  // Field autoReloadLibrary:Z
       4: ifeq          29
       7: aload_0
       8: getfield      #7                  // Field macroLibVec:Ljava/util/List;
      11: ifnull        29
      14: aload_0
      15: getfield      #7                  // Field macroLibVec:Ljava/util/List;
      18: aload_2
      19: invokeinterface #105,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      24: ifeq          29
      27: iconst_1
      28: ireturn
      29: aload_0
      30: getfield      #4                  // Field addNewAllowed:Z
      33: ifne          69
      36: aload_0
      37: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
      40: new           #42                 // class java/lang/StringBuffer
      43: dup
      44: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
      47: ldc           #106                // String VM addition rejected :
      49: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      52: aload_1
      53: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      56: ldc           #107                // String  : inline VMs not allowed.
      58: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
      61: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
      64: invokevirtual #108                // Method org/apache/velocity/runtime/log/LogDisplayWrapper.warn:(Ljava/lang/Object;)V
      67: iconst_0
      68: ireturn
      69: aload_0
      70: getfield      #5                  // Field templateLocal:Z
      73: ifne          135
      76: aload_0
      77: getfield      #3                  // Field replaceAllowed:Z
      80: ifne          135
      83: aload_0
      84: aload_1
      85: aload_2
      86: invokevirtual #109                // Method isVelocimacro:(Ljava/lang/String;Ljava/lang/String;)Z
      89: ifeq          135
      92: aload_0
      93: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
      96: invokevirtual #98                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.isDebugEnabled:()Z
      99: ifeq          133
     102: aload_0
     103: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     106: new           #42                 // class java/lang/StringBuffer
     109: dup
     110: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     113: ldc           #106                // String VM addition rejected :
     115: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     118: aload_1
     119: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     122: ldc           #110                // String  : inline not allowed to replace existing VM
     124: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     127: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     130: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     133: iconst_0
     134: ireturn
     135: iconst_1
     136: ireturn

  public boolean isVelocimacro(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
       4: aload_1
       5: aload_2
       6: invokevirtual #111                // Method org/apache/velocity/runtime/VelocimacroManager.get:(Ljava/lang/String;Ljava/lang/String;)Lorg/apache/velocity/runtime/directive/VelocimacroProxy;
       9: ifnull        16
      12: iconst_1
      13: goto          17
      16: iconst_0
      17: ireturn

  public org.apache.velocity.runtime.directive.Directive getVelocimacro(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aconst_null
       4: invokevirtual #112                // Method getVelocimacro:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/apache/velocity/runtime/directive/Directive;
       7: areturn

  public org.apache.velocity.runtime.directive.Directive getVelocimacro(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aconst_null
       1: astore        4
       3: aload_0
       4: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
       7: aload_1
       8: aload_2
       9: aload_3
      10: invokevirtual #113                // Method org/apache/velocity/runtime/VelocimacroManager.get:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/apache/velocity/runtime/directive/VelocimacroProxy;
      13: astore        4
      15: aload         4
      17: ifnull        244
      20: aload_0
      21: getfield      #6                  // Field autoReloadLibrary:Z
      24: ifeq          244
      27: aload_0
      28: dup
      29: astore        5
      31: monitorenter
      32: aload_0
      33: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
      36: aload_1
      37: aload_2
      38: invokevirtual #114                // Method org/apache/velocity/runtime/VelocimacroManager.getLibraryName:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      41: astore        6
      43: aload         6
      45: ifnull        230
      48: aload_0
      49: getfield      #18                 // Field libModMap:Ljava/util/Map;
      52: aload         6
      54: invokeinterface #115,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      59: checkcast     #48                 // class org/apache/velocity/runtime/VelocimacroFactory$Twonk
      62: astore        7
      64: aload         7
      66: ifnull        167
      69: aload         7
      71: getfield      #50                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.template:Lorg/apache/velocity/Template;
      74: astore        8
      76: aload         7
      78: getfield      #52                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.modificationTime:J
      81: lstore        9
      83: aload         8
      85: invokevirtual #116                // Method org/apache/velocity/Template.getResourceLoader:()Lorg/apache/velocity/runtime/resource/loader/ResourceLoader;
      88: aload         8
      90: invokevirtual #117                // Method org/apache/velocity/runtime/resource/loader/ResourceLoader.getLastModified:(Lorg/apache/velocity/runtime/resource/Resource;)J
      93: lstore        11
      95: lload         11
      97: lload         9
      99: lcmp
     100: ifle          167
     103: aload_0
     104: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     107: new           #42                 // class java/lang/StringBuffer
     110: dup
     111: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     114: ldc           #118                // String auto-reloading VMs from VM library :
     116: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     119: aload         6
     121: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     124: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     127: invokevirtual #28                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.debug:(Ljava/lang/Object;)V
     130: aload         7
     132: lload         11
     134: putfield      #52                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.modificationTime:J
     137: aload_0
     138: getfield      #8                  // Field rsvc:Lorg/apache/velocity/runtime/RuntimeServices;
     141: aload         6
     143: invokeinterface #47,  2           // InterfaceMethod org/apache/velocity/runtime/RuntimeServices.getTemplate:(Ljava/lang/String;)Lorg/apache/velocity/Template;
     148: astore        8
     150: aload         7
     152: aload         8
     154: putfield      #50                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.template:Lorg/apache/velocity/Template;
     157: aload         7
     159: aload         8
     161: invokevirtual #51                 // Method org/apache/velocity/Template.getLastModified:()J
     164: putfield      #52                 // Field org/apache/velocity/runtime/VelocimacroFactory$Twonk.modificationTime:J
     167: goto          218
     170: astore        7
     172: new           #42                 // class java/lang/StringBuffer
     175: dup
     176: invokespecial #43                 // Method java/lang/StringBuffer."<init>":()V
     179: ldc           #55                 // String Velocimacro : Error using VM library :
     181: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     184: aload         6
     186: invokevirtual #45                 // Method java/lang/StringBuffer.append:(Ljava/lang/String;)Ljava/lang/StringBuffer;
     189: invokevirtual #46                 // Method java/lang/StringBuffer.toString:()Ljava/lang/String;
     192: astore        8
     194: aload_0
     195: getfield      #15                 // Field log:Lorg/apache/velocity/runtime/log/LogDisplayWrapper;
     198: iconst_1
     199: aload         8
     201: aload         7
     203: invokevirtual #56                 // Method org/apache/velocity/runtime/log/LogDisplayWrapper.error:(ZLjava/lang/Object;Ljava/lang/Throwable;)V
     206: new           #57                 // class org/apache/velocity/exception/VelocityException
     209: dup
     210: aload         8
     212: aload         7
     214: invokespecial #58                 // Method org/apache/velocity/exception/VelocityException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     217: athrow
     218: aload_0
     219: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
     222: aload_1
     223: aload_2
     224: aload_3
     225: invokevirtual #113                // Method org/apache/velocity/runtime/VelocimacroManager.get:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/apache/velocity/runtime/directive/VelocimacroProxy;
     228: astore        4
     230: aload         5
     232: monitorexit
     233: goto          244
     236: astore        13
     238: aload         5
     240: monitorexit
     241: aload         13
     243: athrow
     244: aload         4
     246: areturn
    Exception table:
       from    to  target type
          48   167   170   Class java/lang/Exception
          32   233   236   any
         236   241   236   any

  public boolean dumpVMNamespace(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
       4: aload_1
       5: invokevirtual #119                // Method org/apache/velocity/runtime/VelocimacroManager.dumpNamespace:(Ljava/lang/String;)Z
       8: ireturn

  private void setTemplateLocalInline(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #5                  // Field templateLocal:Z
       5: return

  private boolean getTemplateLocalInline();
    Code:
       0: aload_0
       1: getfield      #5                  // Field templateLocal:Z
       4: ireturn

  private boolean setAddMacroPermission(boolean);
    Code:
       0: aload_0
       1: getfield      #4                  // Field addNewAllowed:Z
       4: istore_2
       5: aload_0
       6: iload_1
       7: putfield      #4                  // Field addNewAllowed:Z
      10: iload_2
      11: ireturn

  private boolean setReplacementPermission(boolean);
    Code:
       0: aload_0
       1: getfield      #3                  // Field replaceAllowed:Z
       4: istore_2
       5: aload_0
       6: iload_1
       7: putfield      #3                  // Field replaceAllowed:Z
      10: aload_0
      11: getfield      #2                  // Field vmManager:Lorg/apache/velocity/runtime/VelocimacroManager;
      14: iload_1
      15: invokevirtual #120                // Method org/apache/velocity/runtime/VelocimacroManager.setInlineReplacesGlobal:(Z)V
      18: iload_2
      19: ireturn

  private void setAutoload(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #6                  // Field autoReloadLibrary:Z
       5: return

  private boolean getAutoload();
    Code:
       0: aload_0
       1: getfield      #6                  // Field autoReloadLibrary:Z
       4: ireturn
}
