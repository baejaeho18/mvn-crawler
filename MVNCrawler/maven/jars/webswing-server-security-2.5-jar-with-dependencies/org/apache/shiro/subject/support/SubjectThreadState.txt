Compiled from "SubjectThreadState.java"
public class org.apache.shiro.subject.support.SubjectThreadState implements org.apache.shiro.util.ThreadState {
  private java.util.Map<java.lang.Object, java.lang.Object> originalResources;

  private final org.apache.shiro.subject.Subject subject;

  private transient org.apache.shiro.mgt.SecurityManager securityManager;

  public org.apache.shiro.subject.support.SubjectThreadState(org.apache.shiro.subject.Subject);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_1
       5: ifnonnull     18
       8: new           #2                  // class java/lang/IllegalArgumentException
      11: dup
      12: ldc           #3                  // String Subject argument cannot be null.
      14: invokespecial #4                  // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      17: athrow
      18: aload_0
      19: aload_1
      20: putfield      #5                  // Field subject:Lorg/apache/shiro/subject/Subject;
      23: aconst_null
      24: astore_2
      25: aload_1
      26: instanceof    #6                  // class org/apache/shiro/subject/support/DelegatingSubject
      29: ifeq          40
      32: aload_1
      33: checkcast     #6                  // class org/apache/shiro/subject/support/DelegatingSubject
      36: invokevirtual #7                  // Method org/apache/shiro/subject/support/DelegatingSubject.getSecurityManager:()Lorg/apache/shiro/mgt/SecurityManager;
      39: astore_2
      40: aload_2
      41: ifnonnull     48
      44: invokestatic  #8                  // Method org/apache/shiro/util/ThreadContext.getSecurityManager:()Lorg/apache/shiro/mgt/SecurityManager;
      47: astore_2
      48: aload_0
      49: aload_2
      50: putfield      #9                  // Field securityManager:Lorg/apache/shiro/mgt/SecurityManager;
      53: return

  protected org.apache.shiro.subject.Subject getSubject();
    Code:
       0: aload_0
       1: getfield      #5                  // Field subject:Lorg/apache/shiro/subject/Subject;
       4: areturn

  public void bind();
    Code:
       0: aload_0
       1: getfield      #9                  // Field securityManager:Lorg/apache/shiro/mgt/SecurityManager;
       4: astore_1
       5: aload_1
       6: ifnonnull     13
       9: invokestatic  #8                  // Method org/apache/shiro/util/ThreadContext.getSecurityManager:()Lorg/apache/shiro/mgt/SecurityManager;
      12: astore_1
      13: aload_0
      14: invokestatic  #10                 // Method org/apache/shiro/util/ThreadContext.getResources:()Ljava/util/Map;
      17: putfield      #11                 // Field originalResources:Ljava/util/Map;
      20: invokestatic  #12                 // Method org/apache/shiro/util/ThreadContext.remove:()V
      23: aload_0
      24: getfield      #5                  // Field subject:Lorg/apache/shiro/subject/Subject;
      27: invokestatic  #13                 // Method org/apache/shiro/util/ThreadContext.bind:(Lorg/apache/shiro/subject/Subject;)V
      30: aload_1
      31: ifnull        38
      34: aload_1
      35: invokestatic  #14                 // Method org/apache/shiro/util/ThreadContext.bind:(Lorg/apache/shiro/mgt/SecurityManager;)V
      38: return

  public void restore();
    Code:
       0: invokestatic  #12                 // Method org/apache/shiro/util/ThreadContext.remove:()V
       3: aload_0
       4: getfield      #11                 // Field originalResources:Ljava/util/Map;
       7: invokestatic  #15                 // Method org/apache/shiro/util/CollectionUtils.isEmpty:(Ljava/util/Map;)Z
      10: ifne          20
      13: aload_0
      14: getfield      #11                 // Field originalResources:Ljava/util/Map;
      17: invokestatic  #16                 // Method org/apache/shiro/util/ThreadContext.setResources:(Ljava/util/Map;)V
      20: return

  public void clear();
    Code:
       0: invokestatic  #12                 // Method org/apache/shiro/util/ThreadContext.remove:()V
       3: return
}
