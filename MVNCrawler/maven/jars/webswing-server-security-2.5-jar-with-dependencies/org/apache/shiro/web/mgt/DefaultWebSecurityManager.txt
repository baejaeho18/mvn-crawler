Compiled from "DefaultWebSecurityManager.java"
public class org.apache.shiro.web.mgt.DefaultWebSecurityManager extends org.apache.shiro.mgt.DefaultSecurityManager implements org.apache.shiro.web.mgt.WebSecurityManager {
  private static final org.slf4j.Logger log;

  public static final java.lang.String HTTP_SESSION_MODE;

  public static final java.lang.String NATIVE_SESSION_MODE;

  private java.lang.String sessionMode;

  public org.apache.shiro.web.mgt.DefaultWebSecurityManager();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/shiro/mgt/DefaultSecurityManager."<init>":()V
       4: aload_0
       5: getfield      #2                  // Field subjectDAO:Lorg/apache/shiro/mgt/SubjectDAO;
       8: checkcast     #3                  // class org/apache/shiro/mgt/DefaultSubjectDAO
      11: new           #4                  // class org/apache/shiro/web/mgt/DefaultWebSessionStorageEvaluator
      14: dup
      15: invokespecial #5                  // Method org/apache/shiro/web/mgt/DefaultWebSessionStorageEvaluator."<init>":()V
      18: invokevirtual #6                  // Method org/apache/shiro/mgt/DefaultSubjectDAO.setSessionStorageEvaluator:(Lorg/apache/shiro/mgt/SessionStorageEvaluator;)V
      21: aload_0
      22: ldc           #7                  // String http
      24: putfield      #8                  // Field sessionMode:Ljava/lang/String;
      27: aload_0
      28: new           #9                  // class org/apache/shiro/web/mgt/DefaultWebSubjectFactory
      31: dup
      32: invokespecial #10                 // Method org/apache/shiro/web/mgt/DefaultWebSubjectFactory."<init>":()V
      35: invokevirtual #11                 // Method setSubjectFactory:(Lorg/apache/shiro/mgt/SubjectFactory;)V
      38: aload_0
      39: new           #12                 // class org/apache/shiro/web/mgt/CookieRememberMeManager
      42: dup
      43: invokespecial #13                 // Method org/apache/shiro/web/mgt/CookieRememberMeManager."<init>":()V
      46: invokevirtual #14                 // Method setRememberMeManager:(Lorg/apache/shiro/mgt/RememberMeManager;)V
      49: aload_0
      50: new           #15                 // class org/apache/shiro/web/session/mgt/ServletContainerSessionManager
      53: dup
      54: invokespecial #16                 // Method org/apache/shiro/web/session/mgt/ServletContainerSessionManager."<init>":()V
      57: invokevirtual #17                 // Method setSessionManager:(Lorg/apache/shiro/session/mgt/SessionManager;)V
      60: return

  public org.apache.shiro.web.mgt.DefaultWebSecurityManager(org.apache.shiro.realm.Realm);
    Code:
       0: aload_0
       1: invokespecial #18                 // Method "<init>":()V
       4: aload_0
       5: aload_1
       6: invokevirtual #19                 // Method setRealm:(Lorg/apache/shiro/realm/Realm;)V
       9: return

  public org.apache.shiro.web.mgt.DefaultWebSecurityManager(java.util.Collection<org.apache.shiro.realm.Realm>);
    Code:
       0: aload_0
       1: invokespecial #18                 // Method "<init>":()V
       4: aload_0
       5: aload_1
       6: invokevirtual #20                 // Method setRealms:(Ljava/util/Collection;)V
       9: return

  protected org.apache.shiro.subject.SubjectContext createSubjectContext();
    Code:
       0: new           #21                 // class org/apache/shiro/web/subject/support/DefaultWebSubjectContext
       3: dup
       4: invokespecial #22                 // Method org/apache/shiro/web/subject/support/DefaultWebSubjectContext."<init>":()V
       7: areturn

  public void setSubjectDAO(org.apache.shiro.mgt.SubjectDAO);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #23                 // Method org/apache/shiro/mgt/DefaultSecurityManager.setSubjectDAO:(Lorg/apache/shiro/mgt/SubjectDAO;)V
       5: aload_0
       6: invokespecial #24                 // Method applySessionManagerToSessionStorageEvaluatorIfPossible:()V
       9: return

  protected void afterSessionManagerSet();
    Code:
       0: aload_0
       1: invokespecial #25                 // Method org/apache/shiro/mgt/DefaultSecurityManager.afterSessionManagerSet:()V
       4: aload_0
       5: invokespecial #24                 // Method applySessionManagerToSessionStorageEvaluatorIfPossible:()V
       8: return

  private void applySessionManagerToSessionStorageEvaluatorIfPossible();
    Code:
       0: aload_0
       1: invokevirtual #26                 // Method getSubjectDAO:()Lorg/apache/shiro/mgt/SubjectDAO;
       4: astore_1
       5: aload_1
       6: instanceof    #3                  // class org/apache/shiro/mgt/DefaultSubjectDAO
       9: ifeq          38
      12: aload_1
      13: checkcast     #3                  // class org/apache/shiro/mgt/DefaultSubjectDAO
      16: invokevirtual #27                 // Method org/apache/shiro/mgt/DefaultSubjectDAO.getSessionStorageEvaluator:()Lorg/apache/shiro/mgt/SessionStorageEvaluator;
      19: astore_2
      20: aload_2
      21: instanceof    #4                  // class org/apache/shiro/web/mgt/DefaultWebSessionStorageEvaluator
      24: ifeq          38
      27: aload_2
      28: checkcast     #4                  // class org/apache/shiro/web/mgt/DefaultWebSessionStorageEvaluator
      31: aload_0
      32: invokevirtual #28                 // Method getSessionManager:()Lorg/apache/shiro/session/mgt/SessionManager;
      35: invokevirtual #29                 // Method org/apache/shiro/web/mgt/DefaultWebSessionStorageEvaluator.setSessionManager:(Lorg/apache/shiro/session/mgt/SessionManager;)V
      38: return

  protected org.apache.shiro.subject.SubjectContext copy(org.apache.shiro.subject.SubjectContext);
    Code:
       0: aload_1
       1: instanceof    #30                 // class org/apache/shiro/web/subject/WebSubjectContext
       4: ifeq          19
       7: new           #21                 // class org/apache/shiro/web/subject/support/DefaultWebSubjectContext
      10: dup
      11: aload_1
      12: checkcast     #30                 // class org/apache/shiro/web/subject/WebSubjectContext
      15: invokespecial #31                 // Method org/apache/shiro/web/subject/support/DefaultWebSubjectContext."<init>":(Lorg/apache/shiro/web/subject/WebSubjectContext;)V
      18: areturn
      19: aload_0
      20: aload_1
      21: invokespecial #32                 // Method org/apache/shiro/mgt/DefaultSecurityManager.copy:(Lorg/apache/shiro/subject/SubjectContext;)Lorg/apache/shiro/subject/SubjectContext;
      24: areturn

  public java.lang.String getSessionMode();
    Code:
       0: aload_0
       1: getfield      #8                  // Field sessionMode:Ljava/lang/String;
       4: areturn

  public void setSessionMode(java.lang.String);
    Code:
       0: getstatic     #33                 // Field log:Lorg/slf4j/Logger;
       3: ldc           #34                 // String The \'sessionMode\' property has been deprecated.  Please configure an appropriate WebSessionManager instance instead of using this property.  This property/method will be removed in a later version.
       5: invokeinterface #35,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
      10: aload_1
      11: astore_2
      12: aload_2
      13: ifnonnull     26
      16: new           #36                 // class java/lang/IllegalArgumentException
      19: dup
      20: ldc           #37                 // String sessionMode argument cannot be null.
      22: invokespecial #38                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      25: athrow
      26: aload_1
      27: invokevirtual #39                 // Method java/lang/String.toLowerCase:()Ljava/lang/String;
      30: astore_2
      31: ldc           #7                  // String http
      33: aload_2
      34: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      37: ifne          133
      40: ldc           #41                 // String native
      42: aload_2
      43: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      46: ifne          133
      49: new           #42                 // class java/lang/StringBuilder
      52: dup
      53: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      56: ldc           #44                 // String Invalid sessionMode [
      58: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      61: aload_1
      62: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: ldc           #46                 // String ].  Allowed values are
      67: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      70: ldc           #47                 // String public static final String constants in the
      72: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      75: aload_0
      76: invokevirtual #48                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      79: invokevirtual #49                 // Method java/lang/Class.getName:()Ljava/lang/String;
      82: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      85: ldc           #50                 // String  class: \'
      87: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      90: ldc           #7                  // String http
      92: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      95: ldc           #51                 // String \' or \'
      97: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: ldc           #41                 // String native
     102: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     105: ldc           #52                 // String \', with \'
     107: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: ldc           #7                  // String http
     112: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     115: ldc           #53                 // String \' being the default.
     117: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     120: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     123: astore_3
     124: new           #36                 // class java/lang/IllegalArgumentException
     127: dup
     128: aload_3
     129: invokespecial #38                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     132: athrow
     133: aload_0
     134: getfield      #8                  // Field sessionMode:Ljava/lang/String;
     137: ifnull        151
     140: aload_0
     141: getfield      #8                  // Field sessionMode:Ljava/lang/String;
     144: aload_2
     145: invokevirtual #40                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     148: ifne          155
     151: iconst_1
     152: goto          156
     155: iconst_0
     156: istore_3
     157: aload_0
     158: aload_2
     159: putfield      #8                  // Field sessionMode:Ljava/lang/String;
     162: iload_3
     163: ifeq          186
     166: aload_0
     167: invokevirtual #28                 // Method getSessionManager:()Lorg/apache/shiro/session/mgt/SessionManager;
     170: invokestatic  #55                 // Method org/apache/shiro/util/LifecycleUtils.destroy:(Ljava/lang/Object;)V
     173: aload_0
     174: aload_2
     175: invokevirtual #56                 // Method createSessionManager:(Ljava/lang/String;)Lorg/apache/shiro/session/mgt/SessionManager;
     178: astore        4
     180: aload_0
     181: aload         4
     183: invokespecial #57                 // Method setInternalSessionManager:(Lorg/apache/shiro/session/mgt/SessionManager;)V
     186: return

  public void setSessionManager(org.apache.shiro.session.mgt.SessionManager);
    Code:
       0: aload_0
       1: aconst_null
       2: putfield      #8                  // Field sessionMode:Ljava/lang/String;
       5: aload_1
       6: ifnull        111
       9: aload_1
      10: instanceof    #58                 // class org/apache/shiro/web/session/mgt/WebSessionManager
      13: ifne          111
      16: getstatic     #33                 // Field log:Lorg/slf4j/Logger;
      19: invokeinterface #59,  1           // InterfaceMethod org/slf4j/Logger.isWarnEnabled:()Z
      24: ifeq          111
      27: new           #42                 // class java/lang/StringBuilder
      30: dup
      31: invokespecial #43                 // Method java/lang/StringBuilder."<init>":()V
      34: ldc           #60                 // String The
      36: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      39: aload_0
      40: invokevirtual #48                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      43: invokevirtual #49                 // Method java/lang/Class.getName:()Ljava/lang/String;
      46: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: ldc           #61                 // String  implementation expects SessionManager instances
      51: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      54: ldc           #62                 // String that implement the
      56: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      59: ldc_w         #58                 // class org/apache/shiro/web/session/mgt/WebSessionManager
      62: invokevirtual #49                 // Method java/lang/Class.getName:()Ljava/lang/String;
      65: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      68: ldc           #63                 // String  interface.  The
      70: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      73: ldc           #64                 // String configured instance is of type [
      75: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      78: aload_1
      79: invokevirtual #48                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      82: invokevirtual #49                 // Method java/lang/Class.getName:()Ljava/lang/String;
      85: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      88: ldc           #65                 // String ] which does not
      90: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      93: ldc           #66                 // String implement this interface..  This may cause unexpected behavior.
      95: invokevirtual #45                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: invokevirtual #54                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     101: astore_2
     102: getstatic     #33                 // Field log:Lorg/slf4j/Logger;
     105: aload_2
     106: invokeinterface #35,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     111: aload_0
     112: aload_1
     113: invokespecial #57                 // Method setInternalSessionManager:(Lorg/apache/shiro/session/mgt/SessionManager;)V
     116: return

  private void setInternalSessionManager(org.apache.shiro.session.mgt.SessionManager);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #67                 // Method org/apache/shiro/mgt/DefaultSecurityManager.setSessionManager:(Lorg/apache/shiro/session/mgt/SessionManager;)V
       5: return

  public boolean isHttpSessionMode();
    Code:
       0: aload_0
       1: invokevirtual #28                 // Method getSessionManager:()Lorg/apache/shiro/session/mgt/SessionManager;
       4: astore_1
       5: aload_1
       6: instanceof    #58                 // class org/apache/shiro/web/session/mgt/WebSessionManager
       9: ifeq          28
      12: aload_1
      13: checkcast     #58                 // class org/apache/shiro/web/session/mgt/WebSessionManager
      16: invokeinterface #68,  1           // InterfaceMethod org/apache/shiro/web/session/mgt/WebSessionManager.isServletContainerSessions:()Z
      21: ifeq          28
      24: iconst_1
      25: goto          29
      28: iconst_0
      29: ireturn

  protected org.apache.shiro.session.mgt.SessionManager createSessionManager(java.lang.String);
    Code:
       0: aload_1
       1: ifnull        13
       4: aload_1
       5: ldc           #41                 // String native
       7: invokevirtual #69                 // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      10: ifne          33
      13: getstatic     #33                 // Field log:Lorg/slf4j/Logger;
      16: ldc           #70                 // String {} mode - enabling ServletContainerSessionManager (HTTP-only Sessions)
      18: ldc           #7                  // String http
      20: invokeinterface #71,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      25: new           #15                 // class org/apache/shiro/web/session/mgt/ServletContainerSessionManager
      28: dup
      29: invokespecial #16                 // Method org/apache/shiro/web/session/mgt/ServletContainerSessionManager."<init>":()V
      32: areturn
      33: getstatic     #33                 // Field log:Lorg/slf4j/Logger;
      36: ldc           #72                 // String {} mode - enabling DefaultWebSessionManager (non-HTTP and HTTP Sessions)
      38: ldc           #41                 // String native
      40: invokeinterface #71,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
      45: new           #73                 // class org/apache/shiro/web/session/mgt/DefaultWebSessionManager
      48: dup
      49: invokespecial #74                 // Method org/apache/shiro/web/session/mgt/DefaultWebSessionManager."<init>":()V
      52: areturn

  protected org.apache.shiro.session.mgt.SessionContext createSessionContext(org.apache.shiro.subject.SubjectContext);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #75                 // Method org/apache/shiro/mgt/DefaultSecurityManager.createSessionContext:(Lorg/apache/shiro/subject/SubjectContext;)Lorg/apache/shiro/session/mgt/SessionContext;
       5: astore_2
       6: aload_1
       7: instanceof    #30                 // class org/apache/shiro/web/subject/WebSubjectContext
      10: ifeq          71
      13: aload_1
      14: checkcast     #30                 // class org/apache/shiro/web/subject/WebSubjectContext
      17: astore_3
      18: aload_3
      19: invokeinterface #76,  1           // InterfaceMethod org/apache/shiro/web/subject/WebSubjectContext.resolveServletRequest:()Ljavax/servlet/ServletRequest;
      24: astore        4
      26: aload_3
      27: invokeinterface #77,  1           // InterfaceMethod org/apache/shiro/web/subject/WebSubjectContext.resolveServletResponse:()Ljavax/servlet/ServletResponse;
      32: astore        5
      34: new           #78                 // class org/apache/shiro/web/session/mgt/DefaultWebSessionContext
      37: dup
      38: aload_2
      39: invokespecial #79                 // Method org/apache/shiro/web/session/mgt/DefaultWebSessionContext."<init>":(Ljava/util/Map;)V
      42: astore        6
      44: aload         4
      46: ifnull        56
      49: aload         6
      51: aload         4
      53: invokevirtual #80                 // Method org/apache/shiro/web/session/mgt/DefaultWebSessionContext.setServletRequest:(Ljavax/servlet/ServletRequest;)V
      56: aload         5
      58: ifnull        68
      61: aload         6
      63: aload         5
      65: invokevirtual #81                 // Method org/apache/shiro/web/session/mgt/DefaultWebSessionContext.setServletResponse:(Ljavax/servlet/ServletResponse;)V
      68: aload         6
      70: astore_2
      71: aload_2
      72: areturn

  protected org.apache.shiro.session.mgt.SessionKey getSessionKey(org.apache.shiro.subject.SubjectContext);
    Code:
       0: aload_1
       1: invokestatic  #82                 // Method org/apache/shiro/web/util/WebUtils.isWeb:(Ljava/lang/Object;)Z
       4: ifeq          37
       7: aload_1
       8: invokeinterface #83,  1           // InterfaceMethod org/apache/shiro/subject/SubjectContext.getSessionId:()Ljava/io/Serializable;
      13: astore_2
      14: aload_1
      15: invokestatic  #84                 // Method org/apache/shiro/web/util/WebUtils.getRequest:(Ljava/lang/Object;)Ljavax/servlet/ServletRequest;
      18: astore_3
      19: aload_1
      20: invokestatic  #85                 // Method org/apache/shiro/web/util/WebUtils.getResponse:(Ljava/lang/Object;)Ljavax/servlet/ServletResponse;
      23: astore        4
      25: new           #86                 // class org/apache/shiro/web/session/mgt/WebSessionKey
      28: dup
      29: aload_2
      30: aload_3
      31: aload         4
      33: invokespecial #87                 // Method org/apache/shiro/web/session/mgt/WebSessionKey."<init>":(Ljava/io/Serializable;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V
      36: areturn
      37: aload_0
      38: aload_1
      39: invokespecial #88                 // Method org/apache/shiro/mgt/DefaultSecurityManager.getSessionKey:(Lorg/apache/shiro/subject/SubjectContext;)Lorg/apache/shiro/session/mgt/SessionKey;
      42: areturn

  protected void beforeLogout(org.apache.shiro.subject.Subject);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #89                 // Method org/apache/shiro/mgt/DefaultSecurityManager.beforeLogout:(Lorg/apache/shiro/subject/Subject;)V
       5: aload_0
       6: aload_1
       7: invokevirtual #90                 // Method removeRequestIdentity:(Lorg/apache/shiro/subject/Subject;)V
      10: return

  protected void removeRequestIdentity(org.apache.shiro.subject.Subject);
    Code:
       0: aload_1
       1: instanceof    #91                 // class org/apache/shiro/web/subject/WebSubject
       4: ifeq          35
       7: aload_1
       8: checkcast     #91                 // class org/apache/shiro/web/subject/WebSubject
      11: astore_2
      12: aload_2
      13: invokeinterface #92,  1           // InterfaceMethod org/apache/shiro/web/subject/WebSubject.getServletRequest:()Ljavax/servlet/ServletRequest;
      18: astore_3
      19: aload_3
      20: ifnull        35
      23: aload_3
      24: getstatic     #93                 // Field org/apache/shiro/web/servlet/ShiroHttpServletRequest.IDENTITY_REMOVED_KEY:Ljava/lang/String;
      27: getstatic     #94                 // Field java/lang/Boolean.TRUE:Ljava/lang/Boolean;
      30: invokeinterface #95,  3           // InterfaceMethod javax/servlet/ServletRequest.setAttribute:(Ljava/lang/String;Ljava/lang/Object;)V
      35: return

  static {};
    Code:
       0: ldc_w         #96                 // class org/apache/shiro/web/mgt/DefaultWebSecurityManager
       3: invokestatic  #97                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #33                 // Field log:Lorg/slf4j/Logger;
       9: return
}
