Compiled from "DOMHMACSignatureMethod.java"
public abstract class org.apache.jcp.xml.dsig.internal.dom.DOMHMACSignatureMethod extends org.apache.jcp.xml.dsig.internal.dom.AbstractDOMSignatureMethod {
  private static org.apache.commons.logging.Log log;

  static final java.lang.String HMAC_SHA224;

  static final java.lang.String HMAC_SHA256;

  static final java.lang.String HMAC_SHA384;

  static final java.lang.String HMAC_SHA512;

  static final java.lang.String HMAC_RIPEMD160;

  private javax.crypto.Mac hmac;

  private int outputLength;

  private boolean outputLengthSet;

  private javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec params;

  org.apache.jcp.xml.dsig.internal.dom.DOMHMACSignatureMethod(java.security.spec.AlgorithmParameterSpec) throws java.security.InvalidAlgorithmParameterException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/jcp/xml/dsig/internal/dom/AbstractDOMSignatureMethod."<init>":()V
       4: aload_0
       5: aload_1
       6: checkcast     #2                  // class javax/xml/crypto/dsig/spec/SignatureMethodParameterSpec
       9: invokevirtual #3                  // Method checkParams:(Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;)V
      12: aload_0
      13: aload_1
      14: checkcast     #2                  // class javax/xml/crypto/dsig/spec/SignatureMethodParameterSpec
      17: putfield      #4                  // Field params:Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;
      20: return

  org.apache.jcp.xml.dsig.internal.dom.DOMHMACSignatureMethod(org.w3c.dom.Element) throws javax.xml.crypto.MarshalException;
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/apache/jcp/xml/dsig/internal/dom/AbstractDOMSignatureMethod."<init>":()V
       4: aload_1
       5: invokestatic  #5                  // Method org/apache/jcp/xml/dsig/internal/dom/DOMUtils.getFirstChildElement:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Element;
       8: astore_2
       9: aload_2
      10: ifnull        22
      13: aload_0
      14: aload_0
      15: aload_2
      16: invokevirtual #6                  // Method unmarshalParams:(Lorg/w3c/dom/Element;)Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;
      19: putfield      #4                  // Field params:Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;
      22: aload_0
      23: aload_0
      24: getfield      #4                  // Field params:Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;
      27: invokevirtual #3                  // Method checkParams:(Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;)V
      30: goto          43
      33: astore_3
      34: new           #8                  // class javax/xml/crypto/MarshalException
      37: dup
      38: aload_3
      39: invokespecial #9                  // Method javax/xml/crypto/MarshalException."<init>":(Ljava/lang/Throwable;)V
      42: athrow
      43: return
    Exception table:
       from    to  target type
          22    30    33   Class java/security/InvalidAlgorithmParameterException

  void checkParams(javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec) throws java.security.InvalidAlgorithmParameterException;
    Code:
       0: aload_1
       1: ifnull        78
       4: aload_1
       5: instanceof    #10                 // class javax/xml/crypto/dsig/spec/HMACParameterSpec
       8: ifne          21
      11: new           #7                  // class java/security/InvalidAlgorithmParameterException
      14: dup
      15: ldc           #11                 // String params must be of type HMACParameterSpec
      17: invokespecial #12                 // Method java/security/InvalidAlgorithmParameterException."<init>":(Ljava/lang/String;)V
      20: athrow
      21: aload_0
      22: aload_1
      23: checkcast     #10                 // class javax/xml/crypto/dsig/spec/HMACParameterSpec
      26: invokevirtual #13                 // Method javax/xml/crypto/dsig/spec/HMACParameterSpec.getOutputLength:()I
      29: putfield      #14                 // Field outputLength:I
      32: aload_0
      33: iconst_1
      34: putfield      #15                 // Field outputLengthSet:Z
      37: getstatic     #16                 // Field log:Lorg/apache/commons/logging/Log;
      40: invokeinterface #17,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      45: ifeq          78
      48: getstatic     #16                 // Field log:Lorg/apache/commons/logging/Log;
      51: new           #18                 // class java/lang/StringBuilder
      54: dup
      55: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      58: ldc           #20                 // String Setting outputLength from HMACParameterSpec to:
      60: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      63: aload_0
      64: getfield      #14                 // Field outputLength:I
      67: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      70: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      73: invokeinterface #24,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      78: return

  public final java.security.spec.AlgorithmParameterSpec getParameterSpec();
    Code:
       0: aload_0
       1: getfield      #4                  // Field params:Ljavax/xml/crypto/dsig/spec/SignatureMethodParameterSpec;
       4: areturn

  javax.xml.crypto.dsig.spec.SignatureMethodParameterSpec unmarshalParams(org.w3c.dom.Element) throws javax.xml.crypto.MarshalException;
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #25,  1           // InterfaceMethod org/w3c/dom/Element.getFirstChild:()Lorg/w3c/dom/Node;
       7: invokeinterface #26,  1           // InterfaceMethod org/w3c/dom/Node.getNodeValue:()Ljava/lang/String;
      12: invokestatic  #27                 // Method java/lang/Integer.valueOf:(Ljava/lang/String;)Ljava/lang/Integer;
      15: invokevirtual #28                 // Method java/lang/Integer.intValue:()I
      18: putfield      #14                 // Field outputLength:I
      21: aload_0
      22: iconst_1
      23: putfield      #15                 // Field outputLengthSet:Z
      26: getstatic     #16                 // Field log:Lorg/apache/commons/logging/Log;
      29: invokeinterface #17,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      34: ifeq          67
      37: getstatic     #16                 // Field log:Lorg/apache/commons/logging/Log;
      40: new           #18                 // class java/lang/StringBuilder
      43: dup
      44: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      47: ldc           #29                 // String unmarshalled outputLength:
      49: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: aload_0
      53: getfield      #14                 // Field outputLength:I
      56: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
      59: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      62: invokeinterface #24,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      67: new           #10                 // class javax/xml/crypto/dsig/spec/HMACParameterSpec
      70: dup
      71: aload_0
      72: getfield      #14                 // Field outputLength:I
      75: invokespecial #30                 // Method javax/xml/crypto/dsig/spec/HMACParameterSpec."<init>":(I)V
      78: areturn

  void marshalParams(org.w3c.dom.Element, java.lang.String) throws javax.xml.crypto.MarshalException;
    Code:
       0: aload_1
       1: invokestatic  #31                 // Method org/apache/jcp/xml/dsig/internal/dom/DOMUtils.getOwnerDocument:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Document;
       4: astore_3
       5: aload_3
       6: ldc           #32                 // String HMACOutputLength
       8: ldc           #33                 // String http://www.w3.org/2000/09/xmldsig#
      10: aload_2
      11: invokestatic  #34                 // Method org/apache/jcp/xml/dsig/internal/dom/DOMUtils.createElement:(Lorg/w3c/dom/Document;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lorg/w3c/dom/Element;
      14: astore        4
      16: aload         4
      18: aload_3
      19: aload_0
      20: getfield      #14                 // Field outputLength:I
      23: invokestatic  #35                 // Method java/lang/String.valueOf:(I)Ljava/lang/String;
      26: invokeinterface #36,  2           // InterfaceMethod org/w3c/dom/Document.createTextNode:(Ljava/lang/String;)Lorg/w3c/dom/Text;
      31: invokeinterface #37,  2           // InterfaceMethod org/w3c/dom/Element.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
      36: pop
      37: aload_1
      38: aload         4
      40: invokeinterface #37,  2           // InterfaceMethod org/w3c/dom/Element.appendChild:(Lorg/w3c/dom/Node;)Lorg/w3c/dom/Node;
      45: pop
      46: return

  boolean verify(java.security.Key, javax.xml.crypto.dsig.SignedInfo, byte[], javax.xml.crypto.dsig.XMLValidateContext) throws java.security.InvalidKeyException, java.security.SignatureException, javax.xml.crypto.dsig.XMLSignatureException;
    Code:
       0: aload_1
       1: ifnull        12
       4: aload_2
       5: ifnull        12
       8: aload_3
       9: ifnonnull     20
      12: new           #38                 // class java/lang/NullPointerException
      15: dup
      16: invokespecial #39                 // Method java/lang/NullPointerException."<init>":()V
      19: athrow
      20: aload_1
      21: instanceof    #40                 // class javax/crypto/SecretKey
      24: ifne          37
      27: new           #41                 // class java/security/InvalidKeyException
      30: dup
      31: ldc           #42                 // String key must be SecretKey
      33: invokespecial #43                 // Method java/security/InvalidKeyException."<init>":(Ljava/lang/String;)V
      36: athrow
      37: aload_0
      38: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
      41: ifnonnull     70
      44: aload_0
      45: aload_0
      46: invokevirtual #45                 // Method getJCAAlgorithm:()Ljava/lang/String;
      49: invokestatic  #46                 // Method javax/crypto/Mac.getInstance:(Ljava/lang/String;)Ljavax/crypto/Mac;
      52: putfield      #44                 // Field hmac:Ljavax/crypto/Mac;
      55: goto          70
      58: astore        5
      60: new           #48                 // class javax/xml/crypto/dsig/XMLSignatureException
      63: dup
      64: aload         5
      66: invokespecial #49                 // Method javax/xml/crypto/dsig/XMLSignatureException."<init>":(Ljava/lang/Throwable;)V
      69: athrow
      70: aload_0
      71: getfield      #15                 // Field outputLengthSet:Z
      74: ifeq          118
      77: aload_0
      78: getfield      #14                 // Field outputLength:I
      81: aload_0
      82: invokevirtual #50                 // Method getDigestLength:()I
      85: if_icmpge     118
      88: new           #48                 // class javax/xml/crypto/dsig/XMLSignatureException
      91: dup
      92: new           #18                 // class java/lang/StringBuilder
      95: dup
      96: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      99: ldc           #51                 // String HMACOutputLength must not be less than
     101: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     104: aload_0
     105: invokevirtual #50                 // Method getDigestLength:()I
     108: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     111: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     114: invokespecial #52                 // Method javax/xml/crypto/dsig/XMLSignatureException."<init>":(Ljava/lang/String;)V
     117: athrow
     118: aload_0
     119: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
     122: aload_1
     123: checkcast     #40                 // class javax/crypto/SecretKey
     126: invokevirtual #53                 // Method javax/crypto/Mac.init:(Ljava/security/Key;)V
     129: aload_2
     130: checkcast     #54                 // class org/apache/jcp/xml/dsig/internal/dom/DOMSignedInfo
     133: aload         4
     135: new           #55                 // class org/apache/jcp/xml/dsig/internal/MacOutputStream
     138: dup
     139: aload_0
     140: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
     143: invokespecial #56                 // Method org/apache/jcp/xml/dsig/internal/MacOutputStream."<init>":(Ljavax/crypto/Mac;)V
     146: invokevirtual #57                 // Method org/apache/jcp/xml/dsig/internal/dom/DOMSignedInfo.canonicalize:(Ljavax/xml/crypto/XMLCryptoContext;Ljava/io/ByteArrayOutputStream;)V
     149: aload_0
     150: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
     153: invokevirtual #58                 // Method javax/crypto/Mac.doFinal:()[B
     156: astore        5
     158: aload_3
     159: aload         5
     161: invokestatic  #59                 // Method java/security/MessageDigest.isEqual:([B[B)Z
     164: ireturn
    Exception table:
       from    to  target type
          44    55    58   Class java/security/NoSuchAlgorithmException

  byte[] sign(java.security.Key, javax.xml.crypto.dsig.SignedInfo, javax.xml.crypto.dsig.XMLSignContext) throws java.security.InvalidKeyException, javax.xml.crypto.dsig.XMLSignatureException;
    Code:
       0: aload_1
       1: ifnull        8
       4: aload_2
       5: ifnonnull     16
       8: new           #38                 // class java/lang/NullPointerException
      11: dup
      12: invokespecial #39                 // Method java/lang/NullPointerException."<init>":()V
      15: athrow
      16: aload_1
      17: instanceof    #40                 // class javax/crypto/SecretKey
      20: ifne          33
      23: new           #41                 // class java/security/InvalidKeyException
      26: dup
      27: ldc           #42                 // String key must be SecretKey
      29: invokespecial #43                 // Method java/security/InvalidKeyException."<init>":(Ljava/lang/String;)V
      32: athrow
      33: aload_0
      34: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
      37: ifnonnull     66
      40: aload_0
      41: aload_0
      42: invokevirtual #45                 // Method getJCAAlgorithm:()Ljava/lang/String;
      45: invokestatic  #46                 // Method javax/crypto/Mac.getInstance:(Ljava/lang/String;)Ljavax/crypto/Mac;
      48: putfield      #44                 // Field hmac:Ljavax/crypto/Mac;
      51: goto          66
      54: astore        4
      56: new           #48                 // class javax/xml/crypto/dsig/XMLSignatureException
      59: dup
      60: aload         4
      62: invokespecial #49                 // Method javax/xml/crypto/dsig/XMLSignatureException."<init>":(Ljava/lang/Throwable;)V
      65: athrow
      66: aload_0
      67: getfield      #15                 // Field outputLengthSet:Z
      70: ifeq          114
      73: aload_0
      74: getfield      #14                 // Field outputLength:I
      77: aload_0
      78: invokevirtual #50                 // Method getDigestLength:()I
      81: if_icmpge     114
      84: new           #48                 // class javax/xml/crypto/dsig/XMLSignatureException
      87: dup
      88: new           #18                 // class java/lang/StringBuilder
      91: dup
      92: invokespecial #19                 // Method java/lang/StringBuilder."<init>":()V
      95: ldc           #51                 // String HMACOutputLength must not be less than
      97: invokevirtual #21                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     100: aload_0
     101: invokevirtual #50                 // Method getDigestLength:()I
     104: invokevirtual #22                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     107: invokevirtual #23                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     110: invokespecial #52                 // Method javax/xml/crypto/dsig/XMLSignatureException."<init>":(Ljava/lang/String;)V
     113: athrow
     114: aload_0
     115: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
     118: aload_1
     119: checkcast     #40                 // class javax/crypto/SecretKey
     122: invokevirtual #53                 // Method javax/crypto/Mac.init:(Ljava/security/Key;)V
     125: aload_2
     126: checkcast     #54                 // class org/apache/jcp/xml/dsig/internal/dom/DOMSignedInfo
     129: aload_3
     130: new           #55                 // class org/apache/jcp/xml/dsig/internal/MacOutputStream
     133: dup
     134: aload_0
     135: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
     138: invokespecial #56                 // Method org/apache/jcp/xml/dsig/internal/MacOutputStream."<init>":(Ljavax/crypto/Mac;)V
     141: invokevirtual #57                 // Method org/apache/jcp/xml/dsig/internal/dom/DOMSignedInfo.canonicalize:(Ljavax/xml/crypto/XMLCryptoContext;Ljava/io/ByteArrayOutputStream;)V
     144: aload_0
     145: getfield      #44                 // Field hmac:Ljavax/crypto/Mac;
     148: invokevirtual #58                 // Method javax/crypto/Mac.doFinal:()[B
     151: areturn
    Exception table:
       from    to  target type
          40    51    54   Class java/security/NoSuchAlgorithmException

  boolean paramsEqual(java.security.spec.AlgorithmParameterSpec);
    Code:
       0: aload_0
       1: invokevirtual #60                 // Method getParameterSpec:()Ljava/security/spec/AlgorithmParameterSpec;
       4: aload_1
       5: if_acmpne     10
       8: iconst_1
       9: ireturn
      10: aload_1
      11: instanceof    #10                 // class javax/xml/crypto/dsig/spec/HMACParameterSpec
      14: ifne          19
      17: iconst_0
      18: ireturn
      19: aload_1
      20: checkcast     #10                 // class javax/xml/crypto/dsig/spec/HMACParameterSpec
      23: astore_2
      24: aload_0
      25: getfield      #14                 // Field outputLength:I
      28: aload_2
      29: invokevirtual #13                 // Method javax/xml/crypto/dsig/spec/HMACParameterSpec.getOutputLength:()I
      32: if_icmpne     39
      35: iconst_1
      36: goto          40
      39: iconst_0
      40: ireturn

  org.apache.jcp.xml.dsig.internal.dom.AbstractDOMSignatureMethod$Type getAlgorithmType();
    Code:
       0: getstatic     #61                 // Field org/apache/jcp/xml/dsig/internal/dom/AbstractDOMSignatureMethod$Type.HMAC:Lorg/apache/jcp/xml/dsig/internal/dom/AbstractDOMSignatureMethod$Type;
       3: areturn

  abstract int getDigestLength();

  static {};
    Code:
       0: ldc_w         #62                 // class org/apache/jcp/xml/dsig/internal/dom/DOMHMACSignatureMethod
       3: invokestatic  #63                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       6: putstatic     #16                 // Field log:Lorg/apache/commons/logging/Log;
       9: return
}
