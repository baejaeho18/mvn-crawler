Compiled from "GlobalStateManagerImpl.java"
public class org.apache.kafka.streams.processor.internals.GlobalStateManagerImpl implements org.apache.kafka.streams.processor.internals.GlobalStateManager {
  private final org.slf4j.Logger log;

  private final org.apache.kafka.streams.processor.internals.ProcessorTopology topology;

  private final org.apache.kafka.clients.consumer.Consumer<byte[], byte[]> globalConsumer;

  private final java.io.File baseDir;

  private final org.apache.kafka.streams.processor.internals.StateDirectory stateDirectory;

  private final java.util.Set<java.lang.String> globalStoreNames;

  private final org.apache.kafka.common.utils.FixedOrderMap<java.lang.String, java.util.Optional<org.apache.kafka.streams.processor.StateStore>> globalStores;

  private final org.apache.kafka.streams.processor.StateRestoreListener stateRestoreListener;

  private org.apache.kafka.streams.processor.internals.InternalProcessorContext globalProcessorContext;

  private final int retries;

  private final long retryBackoffMs;

  private final java.time.Duration pollTime;

  private final java.util.Set<java.lang.String> globalNonPersistentStoresTopics;

  private final org.apache.kafka.streams.state.internals.OffsetCheckpoint checkpointFile;

  private final java.util.Map<org.apache.kafka.common.TopicPartition, java.lang.Long> checkpointFileCache;

  public org.apache.kafka.streams.processor.internals.GlobalStateManagerImpl(org.apache.kafka.common.utils.LogContext, org.apache.kafka.streams.processor.internals.ProcessorTopology, org.apache.kafka.clients.consumer.Consumer<byte[], byte[]>, org.apache.kafka.streams.processor.internals.StateDirectory, org.apache.kafka.streams.processor.StateRestoreListener, org.apache.kafka.streams.StreamsConfig);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #3                  // class java/util/HashSet
       8: dup
       9: invokespecial #4                  // Method java/util/HashSet."<init>":()V
      12: putfield      #5                  // Field globalStoreNames:Ljava/util/Set;
      15: aload_0
      16: new           #6                  // class org/apache/kafka/common/utils/FixedOrderMap
      19: dup
      20: invokespecial #7                  // Method org/apache/kafka/common/utils/FixedOrderMap."<init>":()V
      23: putfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
      26: aload_0
      27: new           #3                  // class java/util/HashSet
      30: dup
      31: invokespecial #4                  // Method java/util/HashSet."<init>":()V
      34: putfield      #9                  // Field globalNonPersistentStoresTopics:Ljava/util/Set;
      37: aload_0
      38: aload         4
      40: invokevirtual #10                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.globalStateDir:()Ljava/io/File;
      43: putfield      #11                 // Field baseDir:Ljava/io/File;
      46: aload_0
      47: new           #12                 // class org/apache/kafka/streams/state/internals/OffsetCheckpoint
      50: dup
      51: new           #13                 // class java/io/File
      54: dup
      55: aload_0
      56: getfield      #11                 // Field baseDir:Ljava/io/File;
      59: ldc           #14                 // String .checkpoint
      61: invokespecial #15                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      64: invokespecial #16                 // Method org/apache/kafka/streams/state/internals/OffsetCheckpoint."<init>":(Ljava/io/File;)V
      67: putfield      #17                 // Field checkpointFile:Lorg/apache/kafka/streams/state/internals/OffsetCheckpoint;
      70: aload_0
      71: new           #18                 // class java/util/HashMap
      74: dup
      75: invokespecial #19                 // Method java/util/HashMap."<init>":()V
      78: putfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
      81: aload_2
      82: invokevirtual #21                 // Method org/apache/kafka/streams/processor/internals/ProcessorTopology.storeToChangelogTopic:()Ljava/util/Map;
      85: astore        7
      87: aload_2
      88: invokevirtual #22                 // Method org/apache/kafka/streams/processor/internals/ProcessorTopology.globalStateStores:()Ljava/util/List;
      91: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      96: astore        8
      98: aload         8
     100: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     105: ifeq          157
     108: aload         8
     110: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     115: checkcast     #26                 // class org/apache/kafka/streams/processor/StateStore
     118: astore        9
     120: aload         9
     122: invokeinterface #27,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.persistent:()Z
     127: ifne          154
     130: aload_0
     131: getfield      #9                  // Field globalNonPersistentStoresTopics:Ljava/util/Set;
     134: aload         7
     136: aload         9
     138: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     143: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     148: invokeinterface #30,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     153: pop
     154: goto          98
     157: aload_0
     158: aload_1
     159: ldc           #31                 // class org/apache/kafka/streams/processor/internals/GlobalStateManagerImpl
     161: invokevirtual #32                 // Method org/apache/kafka/common/utils/LogContext.logger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
     164: putfield      #33                 // Field log:Lorg/slf4j/Logger;
     167: aload_0
     168: aload_2
     169: putfield      #34                 // Field topology:Lorg/apache/kafka/streams/processor/internals/ProcessorTopology;
     172: aload_0
     173: aload_3
     174: putfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     177: aload_0
     178: aload         4
     180: putfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
     183: aload_0
     184: aload         5
     186: putfield      #37                 // Field stateRestoreListener:Lorg/apache/kafka/streams/processor/StateRestoreListener;
     189: aload_0
     190: aload         6
     192: ldc           #39                 // String retries
     194: invokevirtual #40                 // Method org/apache/kafka/streams/StreamsConfig.getInt:(Ljava/lang/String;)Ljava/lang/Integer;
     197: invokevirtual #41                 // Method java/lang/Integer.intValue:()I
     200: putfield      #42                 // Field retries:I
     203: aload_0
     204: aload         6
     206: ldc           #43                 // String retry.backoff.ms
     208: invokevirtual #44                 // Method org/apache/kafka/streams/StreamsConfig.getLong:(Ljava/lang/String;)Ljava/lang/Long;
     211: invokevirtual #45                 // Method java/lang/Long.longValue:()J
     214: putfield      #46                 // Field retryBackoffMs:J
     217: aload_0
     218: aload         6
     220: ldc           #47                 // String poll.ms
     222: invokevirtual #44                 // Method org/apache/kafka/streams/StreamsConfig.getLong:(Ljava/lang/String;)Ljava/lang/Long;
     225: invokevirtual #45                 // Method java/lang/Long.longValue:()J
     228: invokestatic  #48                 // Method java/time/Duration.ofMillis:(J)Ljava/time/Duration;
     231: putfield      #49                 // Field pollTime:Ljava/time/Duration;
     234: return

  public void setGlobalProcessorContext(org.apache.kafka.streams.processor.internals.InternalProcessorContext);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #50                 // Field globalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
       5: return

  public java.util.Set<java.lang.String> initialize();
    Code:
       0: aload_0
       1: getfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
       4: invokevirtual #51                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.lockGlobalState:()Z
       7: ifne          34
      10: new           #52                 // class org/apache/kafka/streams/errors/LockException
      13: dup
      14: ldc           #53                 // String Failed to lock the global state directory: %s
      16: iconst_1
      17: anewarray     #54                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_0
      23: getfield      #11                 // Field baseDir:Ljava/io/File;
      26: aastore
      27: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      30: invokespecial #56                 // Method org/apache/kafka/streams/errors/LockException."<init>":(Ljava/lang/String;)V
      33: athrow
      34: goto          63
      37: astore_1
      38: new           #52                 // class org/apache/kafka/streams/errors/LockException
      41: dup
      42: ldc           #53                 // String Failed to lock the global state directory: %s
      44: iconst_1
      45: anewarray     #54                 // class java/lang/Object
      48: dup
      49: iconst_0
      50: aload_0
      51: getfield      #11                 // Field baseDir:Ljava/io/File;
      54: aastore
      55: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      58: aload_1
      59: invokespecial #58                 // Method org/apache/kafka/streams/errors/LockException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      62: athrow
      63: aload_0
      64: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
      67: aload_0
      68: getfield      #17                 // Field checkpointFile:Lorg/apache/kafka/streams/state/internals/OffsetCheckpoint;
      71: invokevirtual #59                 // Method org/apache/kafka/streams/state/internals/OffsetCheckpoint.read:()Ljava/util/Map;
      74: invokeinterface #60,  2           // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
      79: goto          117
      82: astore_1
      83: aload_0
      84: getfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
      87: invokevirtual #61                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.unlockGlobalState:()V
      90: goto          106
      93: astore_2
      94: aload_0
      95: getfield      #33                 // Field log:Lorg/slf4j/Logger;
      98: ldc           #62                 // String Failed to unlock the global state directory
     100: aload_1
     101: invokeinterface #63,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     106: new           #64                 // class org/apache/kafka/streams/errors/StreamsException
     109: dup
     110: ldc           #65                 // String Failed to read checkpoints for global state globalStores
     112: aload_1
     113: invokespecial #66                 // Method org/apache/kafka/streams/errors/StreamsException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     116: athrow
     117: aload_0
     118: getfield      #34                 // Field topology:Lorg/apache/kafka/streams/processor/internals/ProcessorTopology;
     121: invokevirtual #22                 // Method org/apache/kafka/streams/processor/internals/ProcessorTopology.globalStateStores:()Ljava/util/List;
     124: astore_1
     125: aload_0
     126: getfield      #34                 // Field topology:Lorg/apache/kafka/streams/processor/internals/ProcessorTopology;
     129: invokevirtual #21                 // Method org/apache/kafka/streams/processor/internals/ProcessorTopology.storeToChangelogTopic:()Ljava/util/Map;
     132: astore_2
     133: new           #3                  // class java/util/HashSet
     136: dup
     137: invokespecial #4                  // Method java/util/HashSet."<init>":()V
     140: astore_3
     141: aload_1
     142: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     147: astore        4
     149: aload         4
     151: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     156: ifeq          231
     159: aload         4
     161: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     166: checkcast     #26                 // class org/apache/kafka/streams/processor/StateStore
     169: astore        5
     171: aload_0
     172: getfield      #5                  // Field globalStoreNames:Ljava/util/Set;
     175: aload         5
     177: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     182: invokeinterface #30,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     187: pop
     188: aload_2
     189: aload         5
     191: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     196: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     201: checkcast     #67                 // class java/lang/String
     204: astore        6
     206: aload_3
     207: aload         6
     209: invokeinterface #30,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     214: pop
     215: aload         5
     217: aload_0
     218: getfield      #50                 // Field globalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
     221: aload         5
     223: invokeinterface #68,  3           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.init:(Lorg/apache/kafka/streams/processor/ProcessorContext;Lorg/apache/kafka/streams/processor/StateStore;)V
     228: goto          149
     231: aload_0
     232: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
     235: invokeinterface #69,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     240: aload_0
     241: aload_3
     242: invokedynamic #70,  0             // InvokeDynamic #0:accept:(Lorg/apache/kafka/streams/processor/internals/GlobalStateManagerImpl;Ljava/util/Set;)Ljava/util/function/Consumer;
     247: invokeinterface #71,  2           // InterfaceMethod java/util/Set.forEach:(Ljava/util/function/Consumer;)V
     252: aload_0
     253: getfield      #5                  // Field globalStoreNames:Ljava/util/Set;
     256: invokestatic  #72                 // Method java/util/Collections.unmodifiableSet:(Ljava/util/Set;)Ljava/util/Set;
     259: areturn
    Exception table:
       from    to  target type
           0    34    37   Class java/io/IOException
          63    79    82   Class java/io/IOException
          83    90    93   Class java/io/IOException

  public org.apache.kafka.streams.processor.StateStore getGlobalStore(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
       4: aload_1
       5: invokestatic  #73                 // Method java/util/Optional.empty:()Ljava/util/Optional;
       8: invokevirtual #74                 // Method org/apache/kafka/common/utils/FixedOrderMap.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #75                 // class java/util/Optional
      14: aconst_null
      15: invokevirtual #76                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      18: checkcast     #26                 // class org/apache/kafka/streams/processor/StateStore
      21: areturn

  public org.apache.kafka.streams.processor.StateStore getStore(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #77                 // Method getGlobalStore:(Ljava/lang/String;)Lorg/apache/kafka/streams/processor/StateStore;
       5: areturn

  public java.io.File baseDir();
    Code:
       0: aload_0
       1: getfield      #11                 // Field baseDir:Ljava/io/File;
       4: areturn

  public void registerStore(org.apache.kafka.streams.processor.StateStore, org.apache.kafka.streams.processor.StateRestoreCallback);
    Code:
       0: aload_0
       1: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
       4: aload_1
       5: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
      10: invokevirtual #78                 // Method org/apache/kafka/common/utils/FixedOrderMap.containsKey:(Ljava/lang/Object;)Z
      13: ifeq          42
      16: new           #79                 // class java/lang/IllegalArgumentException
      19: dup
      20: ldc           #80                 // String Global Store %s has already been registered
      22: iconst_1
      23: anewarray     #54                 // class java/lang/Object
      26: dup
      27: iconst_0
      28: aload_1
      29: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
      34: aastore
      35: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      38: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: aload_0
      43: getfield      #5                  // Field globalStoreNames:Ljava/util/Set;
      46: aload_1
      47: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
      52: invokeinterface #82,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      57: ifne          86
      60: new           #79                 // class java/lang/IllegalArgumentException
      63: dup
      64: ldc           #83                 // String Trying to register store %s that is not a known global store
      66: iconst_1
      67: anewarray     #54                 // class java/lang/Object
      70: dup
      71: iconst_0
      72: aload_1
      73: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
      78: aastore
      79: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      82: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
      85: athrow
      86: aload_2
      87: ifnonnull     116
      90: new           #79                 // class java/lang/IllegalArgumentException
      93: dup
      94: ldc           #84                 // String The stateRestoreCallback provided for store %s was null
      96: iconst_1
      97: anewarray     #54                 // class java/lang/Object
     100: dup
     101: iconst_0
     102: aload_1
     103: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     108: aastore
     109: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     112: invokespecial #81                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     115: athrow
     116: aload_0
     117: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     120: ldc           #85                 // String Restoring state for global store {}
     122: aload_1
     123: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     128: invokeinterface #86,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     133: aload_0
     134: aload_1
     135: invokespecial #87                 // Method topicPartitionsForStore:(Lorg/apache/kafka/streams/processor/StateStore;)Ljava/util/List;
     138: astore_3
     139: aconst_null
     140: astore        4
     142: iconst_0
     143: istore        5
     145: aload         4
     147: ifnonnull     318
     150: aload_0
     151: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     154: aload_3
     155: invokeinterface #88,  2           // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.endOffsets:(Ljava/util/Collection;)Ljava/util/Map;
     160: astore        4
     162: goto          145
     165: astore        6
     167: iinc          5, 1
     170: iload         5
     172: aload_0
     173: getfield      #42                 // Field retries:I
     176: if_icmple     256
     179: aload_0
     180: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     183: ldc           #90                 // String Failed to get end offsets for topic partitions of global store {} after {} retry attempts. You can increase the number of retries via configuration parameter `retries`.
     185: iconst_3
     186: anewarray     #54                 // class java/lang/Object
     189: dup
     190: iconst_0
     191: aload_1
     192: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     197: aastore
     198: dup
     199: iconst_1
     200: aload_0
     201: getfield      #42                 // Field retries:I
     204: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     207: aastore
     208: dup
     209: iconst_2
     210: aload         6
     212: aastore
     213: invokeinterface #92,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
     218: new           #64                 // class org/apache/kafka/streams/errors/StreamsException
     221: dup
     222: ldc           #93                 // String Failed to get end offsets for topic partitions of global store %s after %d retry attempts. You can increase the number of retries via configuration parameter `retries`.
     224: iconst_2
     225: anewarray     #54                 // class java/lang/Object
     228: dup
     229: iconst_0
     230: aload_1
     231: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     236: aastore
     237: dup
     238: iconst_1
     239: aload_0
     240: getfield      #42                 // Field retries:I
     243: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     246: aastore
     247: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     250: aload         6
     252: invokespecial #66                 // Method org/apache/kafka/streams/errors/StreamsException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     255: athrow
     256: aload_0
     257: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     260: ldc           #94                 // String Failed to get end offsets for partitions {}, backing off for {} ms to retry (attempt {} of {})
     262: iconst_5
     263: anewarray     #54                 // class java/lang/Object
     266: dup
     267: iconst_0
     268: aload_3
     269: aastore
     270: dup
     271: iconst_1
     272: aload_0
     273: getfield      #46                 // Field retryBackoffMs:J
     276: invokestatic  #95                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     279: aastore
     280: dup
     281: iconst_2
     282: iload         5
     284: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     287: aastore
     288: dup
     289: iconst_3
     290: aload_0
     291: getfield      #42                 // Field retries:I
     294: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     297: aastore
     298: dup
     299: iconst_4
     300: aload         6
     302: aastore
     303: invokeinterface #96,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     308: aload_0
     309: getfield      #46                 // Field retryBackoffMs:J
     312: invokestatic  #97                 // Method org/apache/kafka/common/utils/Utils.sleep:(J)V
     315: goto          145
     318: aload_0
     319: aload_2
     320: aload_3
     321: aload         4
     323: aload_1
     324: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     329: aload_1
     330: invokestatic  #98                 // Method org/apache/kafka/streams/processor/internals/StateManagerUtil.converterForStore:(Lorg/apache/kafka/streams/processor/StateStore;)Lorg/apache/kafka/streams/state/internals/RecordConverter;
     333: invokespecial #99                 // Method restoreState:(Lorg/apache/kafka/streams/processor/StateRestoreCallback;Ljava/util/List;Ljava/util/Map;Ljava/lang/String;Lorg/apache/kafka/streams/state/internals/RecordConverter;)V
     336: aload_0
     337: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
     340: aload_1
     341: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     346: aload_1
     347: invokestatic  #100                // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
     350: invokevirtual #101                // Method org/apache/kafka/common/utils/FixedOrderMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     353: pop
     354: aload_0
     355: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     358: invokeinterface #102,  1          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.unsubscribe:()V
     363: goto          380
     366: astore        7
     368: aload_0
     369: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     372: invokeinterface #102,  1          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.unsubscribe:()V
     377: aload         7
     379: athrow
     380: return
    Exception table:
       from    to  target type
         150   162   165   Class org/apache/kafka/common/errors/TimeoutException
         318   354   366   any
         366   368   366   any

  private java.util.List<org.apache.kafka.common.TopicPartition> topicPartitionsForStore(org.apache.kafka.streams.processor.StateStore);
    Code:
       0: aload_0
       1: getfield      #34                 // Field topology:Lorg/apache/kafka/streams/processor/internals/ProcessorTopology;
       4: invokevirtual #21                 // Method org/apache/kafka/streams/processor/internals/ProcessorTopology.storeToChangelogTopic:()Ljava/util/Map;
       7: aload_1
       8: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
      13: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      18: checkcast     #67                 // class java/lang/String
      21: astore_2
      22: iconst_0
      23: istore        4
      25: aload_0
      26: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
      29: aload_2
      30: invokeinterface #103,  2          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.partitionsFor:(Ljava/lang/String;)Ljava/util/List;
      35: astore_3
      36: goto          182
      39: astore        5
      41: iinc          4, 1
      44: iload         4
      46: aload_0
      47: getfield      #42                 // Field retries:I
      50: if_icmple     120
      53: aload_0
      54: getfield      #33                 // Field log:Lorg/slf4j/Logger;
      57: ldc           #104                // String Failed to get partitions for topic {} after {} retry attempts due to timeout. The broker may be transiently unavailable at the moment. You can increase the number of retries via configuration parameter `retries`.
      59: iconst_3
      60: anewarray     #54                 // class java/lang/Object
      63: dup
      64: iconst_0
      65: aload_2
      66: aastore
      67: dup
      68: iconst_1
      69: aload_0
      70: getfield      #42                 // Field retries:I
      73: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      76: aastore
      77: dup
      78: iconst_2
      79: aload         5
      81: aastore
      82: invokeinterface #92,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;[Ljava/lang/Object;)V
      87: new           #64                 // class org/apache/kafka/streams/errors/StreamsException
      90: dup
      91: ldc           #105                // String Failed to get partitions for topic %s after %d retry attempts due to timeout. The broker may be transiently unavailable at the moment. You can increase the number of retries via configuration parameter `retries`.
      93: iconst_2
      94: anewarray     #54                 // class java/lang/Object
      97: dup
      98: iconst_0
      99: aload_2
     100: aastore
     101: dup
     102: iconst_1
     103: aload_0
     104: getfield      #42                 // Field retries:I
     107: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     110: aastore
     111: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     114: aload         5
     116: invokespecial #66                 // Method org/apache/kafka/streams/errors/StreamsException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     119: athrow
     120: aload_0
     121: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     124: ldc           #106                // String Failed to get partitions for topic {} due to timeout. The broker may be transiently unavailable at the moment. Backing off for {} ms to retry (attempt {} of {})
     126: iconst_5
     127: anewarray     #54                 // class java/lang/Object
     130: dup
     131: iconst_0
     132: aload_2
     133: aastore
     134: dup
     135: iconst_1
     136: aload_0
     137: getfield      #46                 // Field retryBackoffMs:J
     140: invokestatic  #95                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     143: aastore
     144: dup
     145: iconst_2
     146: iload         4
     148: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     151: aastore
     152: dup
     153: iconst_3
     154: aload_0
     155: getfield      #42                 // Field retries:I
     158: invokestatic  #91                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     161: aastore
     162: dup
     163: iconst_4
     164: aload         5
     166: aastore
     167: invokeinterface #96,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     172: aload_0
     173: getfield      #46                 // Field retryBackoffMs:J
     176: invokestatic  #97                 // Method org/apache/kafka/common/utils/Utils.sleep:(J)V
     179: goto          25
     182: aload_3
     183: ifnull        195
     186: aload_3
     187: invokeinterface #107,  1          // InterfaceMethod java/util/List.isEmpty:()Z
     192: ifeq          225
     195: new           #64                 // class org/apache/kafka/streams/errors/StreamsException
     198: dup
     199: ldc           #108                // String There are no partitions available for topic %s when initializing global store %s
     201: iconst_2
     202: anewarray     #54                 // class java/lang/Object
     205: dup
     206: iconst_0
     207: aload_2
     208: aastore
     209: dup
     210: iconst_1
     211: aload_1
     212: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     217: aastore
     218: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     221: invokespecial #109                // Method org/apache/kafka/streams/errors/StreamsException."<init>":(Ljava/lang/String;)V
     224: athrow
     225: new           #110                // class java/util/ArrayList
     228: dup
     229: invokespecial #111                // Method java/util/ArrayList."<init>":()V
     232: astore        5
     234: aload_3
     235: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     240: astore        6
     242: aload         6
     244: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     249: ifeq          292
     252: aload         6
     254: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     259: checkcast     #112                // class org/apache/kafka/common/PartitionInfo
     262: astore        7
     264: aload         5
     266: new           #113                // class org/apache/kafka/common/TopicPartition
     269: dup
     270: aload         7
     272: invokevirtual #114                // Method org/apache/kafka/common/PartitionInfo.topic:()Ljava/lang/String;
     275: aload         7
     277: invokevirtual #115                // Method org/apache/kafka/common/PartitionInfo.partition:()I
     280: invokespecial #116                // Method org/apache/kafka/common/TopicPartition."<init>":(Ljava/lang/String;I)V
     283: invokeinterface #117,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     288: pop
     289: goto          242
     292: aload         5
     294: areturn
    Exception table:
       from    to  target type
          25    36    39   Class org/apache/kafka/common/errors/TimeoutException

  private void restoreState(org.apache.kafka.streams.processor.StateRestoreCallback, java.util.List<org.apache.kafka.common.TopicPartition>, java.util.Map<org.apache.kafka.common.TopicPartition, java.lang.Long>, java.lang.String, org.apache.kafka.streams.state.internals.RecordConverter);
    Code:
       0: aload_2
       1: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
       6: astore        6
       8: aload         6
      10: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          348
      18: aload         6
      20: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #113                // class org/apache/kafka/common/TopicPartition
      28: astore        7
      30: aload_0
      31: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
      34: aload         7
      36: invokestatic  #118                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
      39: invokeinterface #119,  2          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.assign:(Ljava/util/Collection;)V
      44: aload_0
      45: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
      48: aload         7
      50: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      55: checkcast     #120                // class java/lang/Long
      58: astore        8
      60: aload         8
      62: ifnull        84
      65: aload_0
      66: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
      69: aload         7
      71: aload         8
      73: invokevirtual #45                 // Method java/lang/Long.longValue:()J
      76: invokeinterface #121,  4          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.seek:(Lorg/apache/kafka/common/TopicPartition;J)V
      81: goto          98
      84: aload_0
      85: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
      88: aload         7
      90: invokestatic  #118                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
      93: invokeinterface #122,  2          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.seekToBeginning:(Ljava/util/Collection;)V
      98: aload_0
      99: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     102: aload         7
     104: invokeinterface #123,  2          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.position:(Lorg/apache/kafka/common/TopicPartition;)J
     109: lstore        9
     111: aload_3
     112: aload         7
     114: invokeinterface #29,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     119: checkcast     #120                // class java/lang/Long
     122: astore        11
     124: aload_1
     125: invokestatic  #124                // Method org/apache/kafka/streams/processor/internals/StateRestoreCallbackAdapter.adapt:(Lorg/apache/kafka/streams/processor/StateRestoreCallback;)Lorg/apache/kafka/streams/processor/internals/RecordBatchingStateRestoreCallback;
     128: astore        12
     130: aload_0
     131: getfield      #37                 // Field stateRestoreListener:Lorg/apache/kafka/streams/processor/StateRestoreListener;
     134: aload         7
     136: aload         4
     138: lload         9
     140: aload         11
     142: invokevirtual #45                 // Method java/lang/Long.longValue:()J
     145: invokeinterface #125,  7          // InterfaceMethod org/apache/kafka/streams/processor/StateRestoreListener.onRestoreStart:(Lorg/apache/kafka/common/TopicPartition;Ljava/lang/String;JJ)V
     150: lconst_0
     151: lstore        13
     153: lload         9
     155: aload         11
     157: invokevirtual #45                 // Method java/lang/Long.longValue:()J
     160: lcmp
     161: ifge          313
     164: aload_0
     165: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     168: aload_0
     169: getfield      #49                 // Field pollTime:Ljava/time/Duration;
     172: invokeinterface #126,  2          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.poll:(Ljava/time/Duration;)Lorg/apache/kafka/clients/consumer/ConsumerRecords;
     177: astore        15
     179: new           #110                // class java/util/ArrayList
     182: dup
     183: invokespecial #111                // Method java/util/ArrayList."<init>":()V
     186: astore        16
     188: aload         15
     190: aload         7
     192: invokevirtual #127                // Method org/apache/kafka/clients/consumer/ConsumerRecords.records:(Lorg/apache/kafka/common/TopicPartition;)Ljava/util/List;
     195: invokeinterface #23,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     200: astore        17
     202: aload         17
     204: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     209: ifeq          252
     212: aload         17
     214: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     219: checkcast     #128                // class org/apache/kafka/clients/consumer/ConsumerRecord
     222: astore        18
     224: aload         18
     226: invokevirtual #129                // Method org/apache/kafka/clients/consumer/ConsumerRecord.key:()Ljava/lang/Object;
     229: ifnull        249
     232: aload         16
     234: aload         5
     236: aload         18
     238: invokeinterface #130,  2          // InterfaceMethod org/apache/kafka/streams/state/internals/RecordConverter.convert:(Lorg/apache/kafka/clients/consumer/ConsumerRecord;)Lorg/apache/kafka/clients/consumer/ConsumerRecord;
     243: invokeinterface #117,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     248: pop
     249: goto          202
     252: aload_0
     253: getfield      #35                 // Field globalConsumer:Lorg/apache/kafka/clients/consumer/Consumer;
     256: aload         7
     258: invokeinterface #123,  2          // InterfaceMethod org/apache/kafka/clients/consumer/Consumer.position:(Lorg/apache/kafka/common/TopicPartition;)J
     263: lstore        9
     265: aload         12
     267: aload         16
     269: invokeinterface #131,  2          // InterfaceMethod org/apache/kafka/streams/processor/internals/RecordBatchingStateRestoreCallback.restoreBatch:(Ljava/util/Collection;)V
     274: aload_0
     275: getfield      #37                 // Field stateRestoreListener:Lorg/apache/kafka/streams/processor/StateRestoreListener;
     278: aload         7
     280: aload         4
     282: lload         9
     284: aload         16
     286: invokeinterface #132,  1          // InterfaceMethod java/util/List.size:()I
     291: i2l
     292: invokeinterface #133,  7          // InterfaceMethod org/apache/kafka/streams/processor/StateRestoreListener.onBatchRestored:(Lorg/apache/kafka/common/TopicPartition;Ljava/lang/String;JJ)V
     297: lload         13
     299: aload         16
     301: invokeinterface #132,  1          // InterfaceMethod java/util/List.size:()I
     306: i2l
     307: ladd
     308: lstore        13
     310: goto          153
     313: aload_0
     314: getfield      #37                 // Field stateRestoreListener:Lorg/apache/kafka/streams/processor/StateRestoreListener;
     317: aload         7
     319: aload         4
     321: lload         13
     323: invokeinterface #134,  5          // InterfaceMethod org/apache/kafka/streams/processor/StateRestoreListener.onRestoreEnd:(Lorg/apache/kafka/common/TopicPartition;Ljava/lang/String;J)V
     328: aload_0
     329: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
     332: aload         7
     334: lload         9
     336: invokestatic  #95                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     339: invokeinterface #135,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     344: pop
     345: goto          8
     348: return

  public void flush();
    Code:
       0: aload_0
       1: getfield      #33                 // Field log:Lorg/slf4j/Logger;
       4: ldc           #136                // String Flushing all global globalStores registered in the state manager
       6: invokeinterface #137,  2          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;)V
      11: aload_0
      12: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
      15: invokevirtual #138                // Method org/apache/kafka/common/utils/FixedOrderMap.entrySet:()Ljava/util/Set;
      18: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      23: astore_1
      24: aload_1
      25: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      30: ifeq          176
      33: aload_1
      34: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      39: checkcast     #140                // class java/util/Map$Entry
      42: astore_2
      43: aload_2
      44: invokeinterface #141,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      49: checkcast     #75                 // class java/util/Optional
      52: invokevirtual #142                // Method java/util/Optional.isPresent:()Z
      55: ifeq          133
      58: aload_2
      59: invokeinterface #141,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      64: checkcast     #75                 // class java/util/Optional
      67: invokevirtual #143                // Method java/util/Optional.get:()Ljava/lang/Object;
      70: checkcast     #26                 // class org/apache/kafka/streams/processor/StateStore
      73: astore_3
      74: aload_0
      75: getfield      #33                 // Field log:Lorg/slf4j/Logger;
      78: ldc           #144                // String Flushing global store={}
      80: aload_3
      81: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
      86: invokeinterface #145,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
      91: aload_3
      92: invokeinterface #146,  1          // InterfaceMethod org/apache/kafka/streams/processor/StateStore.flush:()V
      97: goto          130
     100: astore        4
     102: new           #148                // class org/apache/kafka/streams/errors/ProcessorStateException
     105: dup
     106: ldc           #149                // String Failed to flush global state store %s
     108: iconst_1
     109: anewarray     #54                 // class java/lang/Object
     112: dup
     113: iconst_0
     114: aload_3
     115: invokeinterface #28,  1           // InterfaceMethod org/apache/kafka/streams/processor/StateStore.name:()Ljava/lang/String;
     120: aastore
     121: invokestatic  #55                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     124: aload         4
     126: invokespecial #150                // Method org/apache/kafka/streams/errors/ProcessorStateException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     129: athrow
     130: goto          173
     133: new           #151                // class java/lang/IllegalStateException
     136: dup
     137: new           #152                // class java/lang/StringBuilder
     140: dup
     141: invokespecial #153                // Method java/lang/StringBuilder."<init>":()V
     144: ldc           #154                // String Expected
     146: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: aload_2
     150: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     155: checkcast     #67                 // class java/lang/String
     158: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     161: ldc           #157                // String  to have been initialized
     163: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     166: invokevirtual #158                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     169: invokespecial #159                // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
     172: athrow
     173: goto          24
     176: return
    Exception table:
       from    to  target type
          74    97   100   Class java/lang/RuntimeException

  public void close() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
       4: invokevirtual #160                // Method org/apache/kafka/common/utils/FixedOrderMap.isEmpty:()Z
       7: ifeq          18
      10: aload_0
      11: getfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
      14: invokevirtual #61                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.unlockGlobalState:()V
      17: return
      18: new           #152                // class java/lang/StringBuilder
      21: dup
      22: invokespecial #153                // Method java/lang/StringBuilder."<init>":()V
      25: astore_1
      26: aload_0
      27: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
      30: invokevirtual #138                // Method org/apache/kafka/common/utils/FixedOrderMap.entrySet:()Ljava/util/Set;
      33: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      38: astore_2
      39: aload_2
      40: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      45: ifeq          208
      48: aload_2
      49: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #140                // class java/util/Map$Entry
      57: astore_3
      58: aload_3
      59: invokeinterface #141,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      64: checkcast     #75                 // class java/util/Optional
      67: invokevirtual #142                // Method java/util/Optional.isPresent:()Z
      70: ifeq          188
      73: aload_0
      74: getfield      #33                 // Field log:Lorg/slf4j/Logger;
      77: ldc           #161                // String Closing global storage engine {}
      79: aload_3
      80: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      85: invokeinterface #162,  3          // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      90: aload_3
      91: invokeinterface #141,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      96: checkcast     #75                 // class java/util/Optional
      99: invokevirtual #143                // Method java/util/Optional.get:()Ljava/lang/Object;
     102: checkcast     #26                 // class org/apache/kafka/streams/processor/StateStore
     105: invokeinterface #163,  1          // InterfaceMethod org/apache/kafka/streams/processor/StateStore.close:()V
     110: goto          168
     113: astore        4
     115: aload_0
     116: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     119: ldc           #164                // String Failed to close global state store {}
     121: aload_3
     122: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     127: aload         4
     129: invokeinterface #165,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     134: aload_1
     135: ldc           #166                // String Failed to close global state store:
     137: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     140: aload_3
     141: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     146: checkcast     #67                 // class java/lang/String
     149: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     152: ldc           #167                // String . Reason:
     154: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     157: aload         4
     159: invokevirtual #168                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     162: ldc           #169                // String \n
     164: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     167: pop
     168: aload_0
     169: getfield      #8                  // Field globalStores:Lorg/apache/kafka/common/utils/FixedOrderMap;
     172: aload_3
     173: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     178: invokestatic  #73                 // Method java/util/Optional.empty:()Ljava/util/Optional;
     181: invokevirtual #101                // Method org/apache/kafka/common/utils/FixedOrderMap.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     184: pop
     185: goto          205
     188: aload_0
     189: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     192: ldc           #170                // String Skipping to close non-initialized store {}
     194: aload_3
     195: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
     200: invokeinterface #86,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     205: goto          39
     208: aload_1
     209: invokevirtual #171                // Method java/lang/StringBuilder.length:()I
     212: ifle          242
     215: new           #148                // class org/apache/kafka/streams/errors/ProcessorStateException
     218: dup
     219: new           #152                // class java/lang/StringBuilder
     222: dup
     223: invokespecial #153                // Method java/lang/StringBuilder."<init>":()V
     226: ldc           #172                // String Exceptions caught during close of 1 or more global state globalStores\n
     228: invokevirtual #155                // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     231: aload_1
     232: invokevirtual #168                // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     235: invokevirtual #158                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     238: invokespecial #173                // Method org/apache/kafka/streams/errors/ProcessorStateException."<init>":(Ljava/lang/String;)V
     241: athrow
     242: aload_0
     243: getfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
     246: invokevirtual #61                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.unlockGlobalState:()V
     249: goto          264
     252: astore        5
     254: aload_0
     255: getfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
     258: invokevirtual #61                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.unlockGlobalState:()V
     261: aload         5
     263: athrow
     264: return
    Exception table:
       from    to  target type
          90   110   113   Class java/lang/RuntimeException
           0    10   252   any
          18   242   252   any
         252   254   252   any

  public void checkpoint(java.util.Map<org.apache.kafka.common.TopicPartition, java.lang.Long>);
    Code:
       0: aload_0
       1: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #60,  2           // InterfaceMethod java/util/Map.putAll:(Ljava/util/Map;)V
      10: new           #18                 // class java/util/HashMap
      13: dup
      14: invokespecial #19                 // Method java/util/HashMap."<init>":()V
      17: astore_2
      18: aload_0
      19: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
      22: invokeinterface #174,  1          // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      27: invokeinterface #139,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      32: astore_3
      33: aload_3
      34: invokeinterface #24,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      39: ifeq          106
      42: aload_3
      43: invokeinterface #25,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      48: checkcast     #140                // class java/util/Map$Entry
      51: astore        4
      53: aload         4
      55: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      60: checkcast     #113                // class org/apache/kafka/common/TopicPartition
      63: invokevirtual #175                // Method org/apache/kafka/common/TopicPartition.topic:()Ljava/lang/String;
      66: astore        5
      68: aload_0
      69: getfield      #9                  // Field globalNonPersistentStoresTopics:Ljava/util/Set;
      72: aload         5
      74: invokeinterface #82,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      79: ifne          103
      82: aload_2
      83: aload         4
      85: invokeinterface #156,  1          // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      90: aload         4
      92: invokeinterface #141,  1          // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      97: invokeinterface #135,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     102: pop
     103: goto          33
     106: aload_0
     107: getfield      #17                 // Field checkpointFile:Lorg/apache/kafka/streams/state/internals/OffsetCheckpoint;
     110: aload_2
     111: invokevirtual #176                // Method org/apache/kafka/streams/state/internals/OffsetCheckpoint.write:(Ljava/util/Map;)V
     114: goto          134
     117: astore_3
     118: aload_0
     119: getfield      #33                 // Field log:Lorg/slf4j/Logger;
     122: ldc           #177                // String Failed to write offset checkpoint file to {} for global stores: {}
     124: aload_0
     125: getfield      #17                 // Field checkpointFile:Lorg/apache/kafka/streams/state/internals/OffsetCheckpoint;
     128: aload_3
     129: invokeinterface #178,  4          // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     134: return
    Exception table:
       from    to  target type
         106   114   117   Class java/io/IOException

  public org.apache.kafka.streams.processor.internals.Task$TaskType taskType();
    Code:
       0: getstatic     #179                // Field org/apache/kafka/streams/processor/internals/Task$TaskType.GLOBAL:Lorg/apache/kafka/streams/processor/internals/Task$TaskType;
       3: areturn

  public java.util.Map<org.apache.kafka.common.TopicPartition, java.lang.Long> changelogOffsets();
    Code:
       0: aload_0
       1: getfield      #20                 // Field checkpointFileCache:Ljava/util/Map;
       4: invokestatic  #180                // Method java/util/Collections.unmodifiableMap:(Ljava/util/Map;)Ljava/util/Map;
       7: areturn

  private void lambda$initialize$0(java.util.Set, org.apache.kafka.common.TopicPartition);
    Code:
       0: aload_1
       1: aload_2
       2: invokevirtual #175                // Method org/apache/kafka/common/TopicPartition.topic:()Ljava/lang/String;
       5: invokeinterface #82,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      10: ifne          68
      13: aload_0
      14: getfield      #33                 // Field log:Lorg/slf4j/Logger;
      17: ldc           #181                // String Encountered a topic-partition in the global checkpoint file not associated with any global state store, topic-partition: {}, checkpoint file: {}. If this topic-partition is no longer valid, an application reset and state store directory cleanup will be required.
      19: aload_2
      20: invokevirtual #175                // Method org/apache/kafka/common/TopicPartition.topic:()Ljava/lang/String;
      23: aload_0
      24: getfield      #17                 // Field checkpointFile:Lorg/apache/kafka/streams/state/internals/OffsetCheckpoint;
      27: invokevirtual #182                // Method org/apache/kafka/streams/state/internals/OffsetCheckpoint.toString:()Ljava/lang/String;
      30: invokeinterface #165,  4          // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      35: aload_0
      36: getfield      #36                 // Field stateDirectory:Lorg/apache/kafka/streams/processor/internals/StateDirectory;
      39: invokevirtual #61                 // Method org/apache/kafka/streams/processor/internals/StateDirectory.unlockGlobalState:()V
      42: goto          58
      45: astore_3
      46: aload_0
      47: getfield      #33                 // Field log:Lorg/slf4j/Logger;
      50: ldc           #62                 // String Failed to unlock the global state directory
      52: aload_3
      53: invokeinterface #63,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
      58: new           #64                 // class org/apache/kafka/streams/errors/StreamsException
      61: dup
      62: ldc           #183                // String Encountered a topic-partition not associated with any global state store
      64: invokespecial #109                // Method org/apache/kafka/streams/errors/StreamsException."<init>":(Ljava/lang/String;)V
      67: athrow
      68: return
    Exception table:
       from    to  target type
          35    42    45   Class java/io/IOException
}
