Compiled from "KTableSuppressProcessorSupplier.java"
final class org.apache.kafka.streams.kstream.internals.suppress.KTableSuppressProcessorSupplier$KTableSuppressProcessor<K, V> implements org.apache.kafka.streams.processor.Processor<K, org.apache.kafka.streams.kstream.internals.Change<V>> {
  private final long maxRecords;

  private final long maxBytes;

  private final long suppressDurationMillis;

  private final org.apache.kafka.streams.kstream.internals.suppress.TimeDefinitions$TimeDefinition<K> bufferTimeDefinition;

  private final org.apache.kafka.streams.kstream.internals.suppress.BufferFullStrategy bufferFullStrategy;

  private final boolean safeToDropTombstones;

  private final java.lang.String storeName;

  private org.apache.kafka.streams.state.internals.TimeOrderedKeyValueBuffer<K, V> buffer;

  private org.apache.kafka.streams.processor.internals.InternalProcessorContext internalProcessorContext;

  private org.apache.kafka.common.metrics.Sensor suppressionEmitSensor;

  private long observedStreamTime;

  private org.apache.kafka.streams.kstream.internals.suppress.KTableSuppressProcessorSupplier$KTableSuppressProcessor(org.apache.kafka.streams.kstream.internals.suppress.SuppressedInternal<K>, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc2_w        #4                  // long -1l
       8: putfield      #6                  // Field observedStreamTime:J
      11: aload_0
      12: aload_2
      13: putfield      #7                  // Field storeName:Ljava/lang/String;
      16: aload_1
      17: invokestatic  #8                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      20: pop
      21: aload_0
      22: aload_1
      23: invokevirtual #9                  // Method org/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal.bufferConfig:()Lorg/apache/kafka/streams/kstream/internals/suppress/BufferConfigInternal;
      26: invokevirtual #10                 // Method org/apache/kafka/streams/kstream/internals/suppress/BufferConfigInternal.maxRecords:()J
      29: putfield      #11                 // Field maxRecords:J
      32: aload_0
      33: aload_1
      34: invokevirtual #9                  // Method org/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal.bufferConfig:()Lorg/apache/kafka/streams/kstream/internals/suppress/BufferConfigInternal;
      37: invokevirtual #12                 // Method org/apache/kafka/streams/kstream/internals/suppress/BufferConfigInternal.maxBytes:()J
      40: putfield      #13                 // Field maxBytes:J
      43: aload_0
      44: aload_1
      45: invokevirtual #14                 // Method org/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal.timeToWaitForMoreEvents:()Ljava/time/Duration;
      48: invokevirtual #15                 // Method java/time/Duration.toMillis:()J
      51: putfield      #16                 // Field suppressDurationMillis:J
      54: aload_0
      55: aload_1
      56: invokevirtual #17                 // Method org/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal.timeDefinition:()Lorg/apache/kafka/streams/kstream/internals/suppress/TimeDefinitions$TimeDefinition;
      59: putfield      #18                 // Field bufferTimeDefinition:Lorg/apache/kafka/streams/kstream/internals/suppress/TimeDefinitions$TimeDefinition;
      62: aload_0
      63: aload_1
      64: invokevirtual #9                  // Method org/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal.bufferConfig:()Lorg/apache/kafka/streams/kstream/internals/suppress/BufferConfigInternal;
      67: invokevirtual #19                 // Method org/apache/kafka/streams/kstream/internals/suppress/BufferConfigInternal.bufferFullStrategy:()Lorg/apache/kafka/streams/kstream/internals/suppress/BufferFullStrategy;
      70: putfield      #20                 // Field bufferFullStrategy:Lorg/apache/kafka/streams/kstream/internals/suppress/BufferFullStrategy;
      73: aload_0
      74: aload_1
      75: invokevirtual #21                 // Method org/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal.safeToDropTombstones:()Z
      78: putfield      #22                 // Field safeToDropTombstones:Z
      81: return

  public void init(org.apache.kafka.streams.processor.ProcessorContext);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #23                 // class org/apache/kafka/streams/processor/internals/InternalProcessorContext
       5: putfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
       8: aload_0
       9: invokestatic  #25                 // Method java/lang/Thread.currentThread:()Ljava/lang/Thread;
      12: invokevirtual #26                 // Method java/lang/Thread.getName:()Ljava/lang/String;
      15: aload_1
      16: invokeinterface #27,  1           // InterfaceMethod org/apache/kafka/streams/processor/ProcessorContext.taskId:()Lorg/apache/kafka/streams/processor/TaskId;
      21: invokevirtual #28                 // Method org/apache/kafka/streams/processor/TaskId.toString:()Ljava/lang/String;
      24: aload_0
      25: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      28: invokeinterface #29,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.currentNode:()Lorg/apache/kafka/streams/processor/internals/ProcessorNode;
      33: invokevirtual #30                 // Method org/apache/kafka/streams/processor/internals/ProcessorNode.name:()Ljava/lang/String;
      36: aload_0
      37: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      40: invokeinterface #31,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.metrics:()Lorg/apache/kafka/streams/processor/internals/metrics/StreamsMetricsImpl;
      45: invokestatic  #32                 // Method org/apache/kafka/streams/processor/internals/metrics/ProcessorNodeMetrics.suppressionEmitSensor:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lorg/apache/kafka/streams/processor/internals/metrics/StreamsMetricsImpl;)Lorg/apache/kafka/common/metrics/Sensor;
      48: putfield      #33                 // Field suppressionEmitSensor:Lorg/apache/kafka/common/metrics/Sensor;
      51: aload_0
      52: aload_1
      53: aload_0
      54: getfield      #7                  // Field storeName:Ljava/lang/String;
      57: invokeinterface #34,  2           // InterfaceMethod org/apache/kafka/streams/processor/ProcessorContext.getStateStore:(Ljava/lang/String;)Lorg/apache/kafka/streams/processor/StateStore;
      62: checkcast     #35                 // class org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer
      65: invokestatic  #8                  // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      68: checkcast     #35                 // class org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer
      71: putfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
      74: aload_0
      75: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
      78: aload_1
      79: invokeinterface #37,  1           // InterfaceMethod org/apache/kafka/streams/processor/ProcessorContext.keySerde:()Lorg/apache/kafka/common/serialization/Serde;
      84: aload_1
      85: invokeinterface #38,  1           // InterfaceMethod org/apache/kafka/streams/processor/ProcessorContext.valueSerde:()Lorg/apache/kafka/common/serialization/Serde;
      90: invokeinterface #39,  3           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.setSerdesIfNull:(Lorg/apache/kafka/common/serialization/Serde;Lorg/apache/kafka/common/serialization/Serde;)V
      95: return

  public void process(K, org.apache.kafka.streams.kstream.internals.Change<V>);
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #6                  // Field observedStreamTime:J
       5: aload_0
       6: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
       9: invokeinterface #40,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.timestamp:()J
      14: invokestatic  #41                 // Method java/lang/Math.max:(JJ)J
      17: putfield      #6                  // Field observedStreamTime:J
      20: aload_0
      21: aload_1
      22: aload_2
      23: invokespecial #42                 // Method buffer:(Ljava/lang/Object;Lorg/apache/kafka/streams/kstream/internals/Change;)V
      26: aload_0
      27: invokespecial #43                 // Method enforceConstraints:()V
      30: return

  private void buffer(K, org.apache.kafka.streams.kstream.internals.Change<V>);
    Code:
       0: aload_0
       1: getfield      #18                 // Field bufferTimeDefinition:Lorg/apache/kafka/streams/kstream/internals/suppress/TimeDefinitions$TimeDefinition;
       4: aload_0
       5: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
       8: aload_1
       9: invokeinterface #44,  3           // InterfaceMethod org/apache/kafka/streams/kstream/internals/suppress/TimeDefinitions$TimeDefinition.time:(Lorg/apache/kafka/streams/processor/ProcessorContext;Ljava/lang/Object;)J
      14: lstore_3
      15: aload_0
      16: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
      19: lload_3
      20: aload_1
      21: aload_2
      22: aload_0
      23: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      26: invokeinterface #45,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.recordContext:()Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;
      31: invokeinterface #46,  6           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.put:(JLjava/lang/Object;Lorg/apache/kafka/streams/kstream/internals/Change;Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;)V
      36: return

  private void enforceConstraints();
    Code:
       0: aload_0
       1: getfield      #6                  // Field observedStreamTime:J
       4: lstore_1
       5: lload_1
       6: aload_0
       7: getfield      #16                 // Field suppressDurationMillis:J
      10: lsub
      11: lstore_3
      12: aload_0
      13: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
      16: aload_0
      17: lload_3
      18: invokedynamic #47,  0             // InvokeDynamic #0:get:(Lorg/apache/kafka/streams/kstream/internals/suppress/KTableSuppressProcessorSupplier$KTableSuppressProcessor;J)Ljava/util/function/Supplier;
      23: aload_0
      24: invokedynamic #48,  0             // InvokeDynamic #1:accept:(Lorg/apache/kafka/streams/kstream/internals/suppress/KTableSuppressProcessorSupplier$KTableSuppressProcessor;)Ljava/util/function/Consumer;
      29: invokeinterface #49,  3           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.evictWhile:(Ljava/util/function/Supplier;Ljava/util/function/Consumer;)V
      34: aload_0
      35: invokespecial #50                 // Method overCapacity:()Z
      38: ifeq          219
      41: getstatic     #51                 // Field org/apache/kafka/streams/kstream/internals/suppress/KTableSuppressProcessorSupplier$2.$SwitchMap$org$apache$kafka$streams$kstream$internals$suppress$BufferFullStrategy:[I
      44: aload_0
      45: getfield      #20                 // Field bufferFullStrategy:Lorg/apache/kafka/streams/kstream/internals/suppress/BufferFullStrategy;
      48: invokevirtual #52                 // Method org/apache/kafka/streams/kstream/internals/suppress/BufferFullStrategy.ordinal:()I
      51: iaload
      52: lookupswitch  { // 2
                     1: 80
                     2: 102
               default: 184
          }
      80: aload_0
      81: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
      84: aload_0
      85: invokedynamic #53,  0             // InvokeDynamic #2:get:(Lorg/apache/kafka/streams/kstream/internals/suppress/KTableSuppressProcessorSupplier$KTableSuppressProcessor;)Ljava/util/function/Supplier;
      90: aload_0
      91: invokedynamic #48,  0             // InvokeDynamic #1:accept:(Lorg/apache/kafka/streams/kstream/internals/suppress/KTableSuppressProcessorSupplier$KTableSuppressProcessor;)Ljava/util/function/Consumer;
      96: invokeinterface #49,  3           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.evictWhile:(Ljava/util/function/Supplier;Ljava/util/function/Consumer;)V
     101: return
     102: new           #54                 // class org/apache/kafka/streams/errors/StreamsException
     105: dup
     106: ldc           #55                 // String %s buffer exceeded its max capacity. Currently [%d/%d] records and [%d/%d] bytes.
     108: iconst_5
     109: anewarray     #56                 // class java/lang/Object
     112: dup
     113: iconst_0
     114: aload_0
     115: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
     118: invokeinterface #29,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.currentNode:()Lorg/apache/kafka/streams/processor/internals/ProcessorNode;
     123: invokevirtual #30                 // Method org/apache/kafka/streams/processor/internals/ProcessorNode.name:()Ljava/lang/String;
     126: aastore
     127: dup
     128: iconst_1
     129: aload_0
     130: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
     133: invokeinterface #57,  1           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.numRecords:()I
     138: invokestatic  #58                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     141: aastore
     142: dup
     143: iconst_2
     144: aload_0
     145: getfield      #11                 // Field maxRecords:J
     148: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     151: aastore
     152: dup
     153: iconst_3
     154: aload_0
     155: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
     158: invokeinterface #60,  1           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.bufferSize:()J
     163: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     166: aastore
     167: dup
     168: iconst_4
     169: aload_0
     170: getfield      #13                 // Field maxBytes:J
     173: invokestatic  #59                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     176: aastore
     177: invokestatic  #61                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     180: invokespecial #62                 // Method org/apache/kafka/streams/errors/StreamsException."<init>":(Ljava/lang/String;)V
     183: athrow
     184: new           #63                 // class java/lang/UnsupportedOperationException
     187: dup
     188: new           #64                 // class java/lang/StringBuilder
     191: dup
     192: invokespecial #65                 // Method java/lang/StringBuilder."<init>":()V
     195: ldc           #66                 // String The bufferFullStrategy [
     197: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: aload_0
     201: getfield      #20                 // Field bufferFullStrategy:Lorg/apache/kafka/streams/kstream/internals/suppress/BufferFullStrategy;
     204: invokevirtual #68                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     207: ldc           #69                 // String ] is not implemented. This is a bug in Kafka Streams.
     209: invokevirtual #67                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     212: invokevirtual #70                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     215: invokespecial #71                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
     218: athrow
     219: return

  private boolean overCapacity();
    Code:
       0: aload_0
       1: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
       4: invokeinterface #57,  1           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.numRecords:()I
       9: i2l
      10: aload_0
      11: getfield      #11                 // Field maxRecords:J
      14: lcmp
      15: ifgt          35
      18: aload_0
      19: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
      22: invokeinterface #60,  1           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.bufferSize:()J
      27: aload_0
      28: getfield      #13                 // Field maxBytes:J
      31: lcmp
      32: ifle          39
      35: iconst_1
      36: goto          40
      39: iconst_0
      40: ireturn

  private void emit(org.apache.kafka.streams.state.internals.TimeOrderedKeyValueBuffer$Eviction<K, V>);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #72                 // Method org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer$Eviction.value:()Lorg/apache/kafka/streams/kstream/internals/Change;
       5: invokespecial #73                 // Method shouldForward:(Lorg/apache/kafka/streams/kstream/internals/Change;)Z
       8: ifeq          94
      11: aload_0
      12: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      15: invokeinterface #45,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.recordContext:()Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;
      20: astore_2
      21: aload_0
      22: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      25: aload_1
      26: invokevirtual #74                 // Method org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer$Eviction.recordContext:()Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;
      29: invokeinterface #75,  2           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.setRecordContext:(Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;)V
      34: aload_0
      35: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      38: aload_1
      39: invokevirtual #76                 // Method org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer$Eviction.key:()Ljava/lang/Object;
      42: aload_1
      43: invokevirtual #72                 // Method org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer$Eviction.value:()Lorg/apache/kafka/streams/kstream/internals/Change;
      46: invokeinterface #77,  3           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.forward:(Ljava/lang/Object;Ljava/lang/Object;)V
      51: aload_0
      52: getfield      #33                 // Field suppressionEmitSensor:Lorg/apache/kafka/common/metrics/Sensor;
      55: dconst_1
      56: aload_0
      57: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      60: invokeinterface #78,  1           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.currentSystemTimeMs:()J
      65: invokevirtual #79                 // Method org/apache/kafka/common/metrics/Sensor.record:(DJ)V
      68: aload_0
      69: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      72: aload_2
      73: invokeinterface #75,  2           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.setRecordContext:(Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;)V
      78: goto          94
      81: astore_3
      82: aload_0
      83: getfield      #24                 // Field internalProcessorContext:Lorg/apache/kafka/streams/processor/internals/InternalProcessorContext;
      86: aload_2
      87: invokeinterface #75,  2           // InterfaceMethod org/apache/kafka/streams/processor/internals/InternalProcessorContext.setRecordContext:(Lorg/apache/kafka/streams/processor/internals/ProcessorRecordContext;)V
      92: aload_3
      93: athrow
      94: return
    Exception table:
       from    to  target type
          34    68    81   any

  private boolean shouldForward(org.apache.kafka.streams.kstream.internals.Change<V>);
    Code:
       0: aload_1
       1: getfield      #80                 // Field org/apache/kafka/streams/kstream/internals/Change.newValue:Ljava/lang/Object;
       4: ifnonnull     14
       7: aload_0
       8: getfield      #22                 // Field safeToDropTombstones:Z
      11: ifne          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  public void close();
    Code:
       0: return

  public void process(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: checkcast     #81                 // class org/apache/kafka/streams/kstream/internals/Change
       6: invokevirtual #82                 // Method process:(Ljava/lang/Object;Lorg/apache/kafka/streams/kstream/internals/Change;)V
       9: return

  private java.lang.Boolean lambda$enforceConstraints$0(long);
    Code:
       0: aload_0
       1: getfield      #36                 // Field buffer:Lorg/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer;
       4: invokeinterface #83,  1           // InterfaceMethod org/apache/kafka/streams/state/internals/TimeOrderedKeyValueBuffer.minTimestamp:()J
       9: lload_1
      10: lcmp
      11: ifgt          18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: invokestatic  #84                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      22: areturn

  org.apache.kafka.streams.kstream.internals.suppress.KTableSuppressProcessorSupplier$KTableSuppressProcessor(org.apache.kafka.streams.kstream.internals.suppress.SuppressedInternal, java.lang.String, org.apache.kafka.streams.kstream.internals.suppress.KTableSuppressProcessorSupplier$1);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokespecial #1                  // Method "<init>":(Lorg/apache/kafka/streams/kstream/internals/suppress/SuppressedInternal;Ljava/lang/String;)V
       6: return
}
