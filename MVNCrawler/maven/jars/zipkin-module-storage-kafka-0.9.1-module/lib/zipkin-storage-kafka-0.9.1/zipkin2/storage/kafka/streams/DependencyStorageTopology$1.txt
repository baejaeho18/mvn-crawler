Compiled from "DependencyStorageTopology.java"
class zipkin2.storage.kafka.streams.DependencyStorageTopology$1 implements org.apache.kafka.streams.processor.Processor<java.lang.String, zipkin2.DependencyLink> {
  org.apache.kafka.streams.processor.ProcessorContext context;

  org.apache.kafka.streams.state.WindowStore dependenciesStore;

  final zipkin2.storage.kafka.streams.DependencyStorageTopology this$0;

  zipkin2.storage.kafka.streams.DependencyStorageTopology$1(zipkin2.storage.kafka.streams.DependencyStorageTopology);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field this$0:Lzipkin2/storage/kafka/streams/DependencyStorageTopology;
       5: aload_0
       6: invokespecial #3                  // Method java/lang/Object."<init>":()V
       9: return

  public void init(org.apache.kafka.streams.processor.ProcessorContext);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field context:Lorg/apache/kafka/streams/processor/ProcessorContext;
       5: aload_0
       6: aload_1
       7: ldc           #5                  // String zipkin-dependencies
       9: invokeinterface #6,  2            // InterfaceMethod org/apache/kafka/streams/processor/ProcessorContext.getStateStore:(Ljava/lang/String;)Lorg/apache/kafka/streams/processor/StateStore;
      14: checkcast     #7                  // class org/apache/kafka/streams/state/WindowStore
      17: putfield      #8                  // Field dependenciesStore:Lorg/apache/kafka/streams/state/WindowStore;
      20: return

  public void process(java.lang.String, zipkin2.DependencyLink);
    Code:
       0: aload_0
       1: getfield      #4                  // Field context:Lorg/apache/kafka/streams/processor/ProcessorContext;
       4: invokeinterface #9,  1            // InterfaceMethod org/apache/kafka/streams/processor/ProcessorContext.timestamp:()J
       9: invokestatic  #10                 // Method java/time/Instant.ofEpochMilli:(J)Ljava/time/Instant;
      12: astore_3
      13: aload_3
      14: aload_0
      15: getfield      #2                  // Field this$0:Lzipkin2/storage/kafka/streams/DependencyStorageTopology;
      18: getfield      #11                 // Field zipkin2/storage/kafka/streams/DependencyStorageTopology.dependencyWindowSize:Ljava/time/Duration;
      21: invokevirtual #12                 // Method java/time/Instant.minus:(Ljava/time/temporal/TemporalAmount;)Ljava/time/Instant;
      24: astore        4
      26: aload_0
      27: getfield      #8                  // Field dependenciesStore:Lorg/apache/kafka/streams/state/WindowStore;
      30: aload_1
      31: aload         4
      33: aload_3
      34: invokeinterface #13,  4           // InterfaceMethod org/apache/kafka/streams/state/WindowStore.fetch:(Ljava/lang/Object;Ljava/time/Instant;Ljava/time/Instant;)Lorg/apache/kafka/streams/state/WindowStoreIterator;
      39: astore        5
      41: aconst_null
      42: astore        6
      44: aload         5
      46: invokeinterface #14,  1           // InterfaceMethod org/apache/kafka/streams/state/WindowStoreIterator.hasNext:()Z
      51: ifeq          66
      54: aload         5
      56: invokeinterface #15,  1           // InterfaceMethod org/apache/kafka/streams/state/WindowStoreIterator.next:()Ljava/lang/Object;
      61: checkcast     #16                 // class org/apache/kafka/streams/KeyValue
      64: astore        6
      66: aload         5
      68: invokeinterface #14,  1           // InterfaceMethod org/apache/kafka/streams/state/WindowStoreIterator.hasNext:()Z
      73: ifeq          88
      76: aload         5
      78: invokeinterface #15,  1           // InterfaceMethod org/apache/kafka/streams/state/WindowStoreIterator.next:()Ljava/lang/Object;
      83: checkcast     #16                 // class org/apache/kafka/streams/KeyValue
      86: astore        6
      88: aload         6
      90: ifnull        165
      93: aload         6
      95: getfield      #17                 // Field org/apache/kafka/streams/KeyValue.value:Ljava/lang/Object;
      98: checkcast     #18                 // class zipkin2/DependencyLink
     101: astore        7
     103: aload         7
     105: invokevirtual #19                 // Method zipkin2/DependencyLink.toBuilder:()Lzipkin2/DependencyLink$Builder;
     108: aload         7
     110: invokevirtual #20                 // Method zipkin2/DependencyLink.callCount:()J
     113: aload_2
     114: invokevirtual #20                 // Method zipkin2/DependencyLink.callCount:()J
     117: ladd
     118: invokevirtual #21                 // Method zipkin2/DependencyLink$Builder.callCount:(J)Lzipkin2/DependencyLink$Builder;
     121: aload         7
     123: invokevirtual #22                 // Method zipkin2/DependencyLink.errorCount:()J
     126: aload_2
     127: invokevirtual #22                 // Method zipkin2/DependencyLink.errorCount:()J
     130: ladd
     131: invokevirtual #23                 // Method zipkin2/DependencyLink$Builder.errorCount:(J)Lzipkin2/DependencyLink$Builder;
     134: invokevirtual #24                 // Method zipkin2/DependencyLink$Builder.build:()Lzipkin2/DependencyLink;
     137: astore        8
     139: aload_0
     140: getfield      #8                  // Field dependenciesStore:Lorg/apache/kafka/streams/state/WindowStore;
     143: aload_1
     144: aload         8
     146: aload         6
     148: getfield      #25                 // Field org/apache/kafka/streams/KeyValue.key:Ljava/lang/Object;
     151: checkcast     #26                 // class java/lang/Long
     154: invokevirtual #27                 // Method java/lang/Long.longValue:()J
     157: invokeinterface #28,  5           // InterfaceMethod org/apache/kafka/streams/state/WindowStore.put:(Ljava/lang/Object;Ljava/lang/Object;J)V
     162: goto          180
     165: aload_0
     166: getfield      #8                  // Field dependenciesStore:Lorg/apache/kafka/streams/state/WindowStore;
     169: aload_1
     170: aload_2
     171: aload_3
     172: invokevirtual #29                 // Method java/time/Instant.toEpochMilli:()J
     175: invokeinterface #28,  5           // InterfaceMethod org/apache/kafka/streams/state/WindowStore.put:(Ljava/lang/Object;Ljava/lang/Object;J)V
     180: aload         5
     182: ifnull        224
     185: aload         5
     187: invokeinterface #30,  1           // InterfaceMethod org/apache/kafka/streams/state/WindowStoreIterator.close:()V
     192: goto          224
     195: astore        6
     197: aload         5
     199: ifnull        221
     202: aload         5
     204: invokeinterface #30,  1           // InterfaceMethod org/apache/kafka/streams/state/WindowStoreIterator.close:()V
     209: goto          221
     212: astore        7
     214: aload         6
     216: aload         7
     218: invokevirtual #32                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     221: aload         6
     223: athrow
     224: return
    Exception table:
       from    to  target type
          41   180   195   Class java/lang/Throwable
         202   209   212   Class java/lang/Throwable

  public void close();
    Code:
       0: return

  public void process(java.lang.Object, java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #33                 // class java/lang/String
       5: aload_2
       6: checkcast     #18                 // class zipkin2/DependencyLink
       9: invokevirtual #34                 // Method process:(Ljava/lang/String;Lzipkin2/DependencyLink;)V
      12: return
}
