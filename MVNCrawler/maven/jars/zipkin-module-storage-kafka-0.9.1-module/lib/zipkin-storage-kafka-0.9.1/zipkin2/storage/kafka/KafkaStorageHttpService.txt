Compiled from "KafkaStorageHttpService.java"
final class zipkin2.storage.kafka.KafkaStorageHttpService {
  static final org.slf4j.Logger LOG;

  static final com.fasterxml.jackson.databind.ObjectMapper MAPPER;

  final zipkin2.storage.kafka.KafkaStorage storage;

  final long minTracesStored;

  zipkin2.storage.kafka.KafkaStorageHttpService(zipkin2.storage.kafka.KafkaStorage);
    Code:
       0: aload_0
       1: invokespecial #3                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       9: aload_0
      10: aload_1
      11: getfield      #5                  // Field zipkin2/storage/kafka/KafkaStorage.minTracesStored:J
      14: putfield      #6                  // Field minTracesStored:J
      17: return

  public com.linecorp.armeria.common.AggregatedHttpResponse getDependencies(long, long);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #7                  // Field zipkin2/storage/kafka/KafkaStorage.dependencyQueryEnabled:Z
       7: ifne          17
      10: getstatic     #8                  // Field com/linecorp/armeria/common/HttpStatus.NOT_FOUND:Lcom/linecorp/armeria/common/HttpStatus;
      13: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #10                 // Method zipkin2/storage/kafka/KafkaStorage.getDependencyStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #11                 // String zipkin-dependencies
      26: invokestatic  #12                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.windowStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #14                 // class org/apache/kafka/streams/state/ReadOnlyWindowStore
      35: astore        5
      37: new           #15                 // class java/util/ArrayList
      40: dup
      41: invokespecial #16                 // Method java/util/ArrayList."<init>":()V
      44: astore        6
      46: lload_1
      47: lload_3
      48: lsub
      49: invokestatic  #17                 // Method java/time/Instant.ofEpochMilli:(J)Ljava/time/Instant;
      52: astore        7
      54: lload_1
      55: invokestatic  #17                 // Method java/time/Instant.ofEpochMilli:(J)Ljava/time/Instant;
      58: astore        8
      60: aload         5
      62: aload         7
      64: aload         8
      66: invokeinterface #18,  3           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyWindowStore.fetchAll:(Ljava/time/Instant;Ljava/time/Instant;)Lorg/apache/kafka/streams/state/KeyValueIterator;
      71: astore        9
      73: aload         9
      75: aload         6
      77: invokedynamic #19,  0             // InvokeDynamic #0:accept:(Ljava/util/List;)Ljava/util/function/Consumer;
      82: invokeinterface #20,  2           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.forEachRemaining:(Ljava/util/function/Consumer;)V
      87: aload         9
      89: ifnull        131
      92: aload         9
      94: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
      99: goto          131
     102: astore        10
     104: aload         9
     106: ifnull        128
     109: aload         9
     111: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
     116: goto          128
     119: astore        11
     121: aload         10
     123: aload         11
     125: invokevirtual #23                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     128: aload         10
     130: athrow
     131: aload         6
     133: invokestatic  #24                 // Method zipkin2/internal/DependencyLinker.merge:(Ljava/lang/Iterable;)Ljava/util/List;
     136: astore        9
     138: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     141: ldc           #26                 // String Dependencies found from={}-to={}: {}
     143: iconst_3
     144: anewarray     #27                 // class java/lang/Object
     147: dup
     148: iconst_0
     149: aload         7
     151: aastore
     152: dup
     153: iconst_1
     154: aload         8
     156: aastore
     157: dup
     158: iconst_2
     159: aload         9
     161: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
     166: invokestatic  #29                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     169: aastore
     170: invokeinterface #30,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
     175: getstatic     #31                 // Field com/linecorp/armeria/common/HttpStatus.OK:Lcom/linecorp/armeria/common/HttpStatus;
     178: getstatic     #32                 // Field com/linecorp/armeria/common/MediaType.JSON:Lcom/linecorp/armeria/common/MediaType;
     181: getstatic     #33                 // Field zipkin2/codec/DependencyLinkBytesEncoder.JSON_V1:Lzipkin2/codec/DependencyLinkBytesEncoder;
     184: aload         9
     186: invokevirtual #34                 // Method zipkin2/codec/DependencyLinkBytesEncoder.encodeList:(Ljava/util/List;)[B
     189: invokestatic  #35                 // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;Lcom/linecorp/armeria/common/MediaType;[B)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
     192: areturn
     193: astore        5
     195: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     198: ldc           #37                 // String State store is not ready
     200: aload         5
     202: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     207: getstatic     #39                 // Field com/linecorp/armeria/common/HttpStatus.SERVICE_UNAVAILABLE:Lcom/linecorp/armeria/common/HttpStatus;
     210: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
     213: areturn
    Exception table:
       from    to  target type
          73    87   102   Class java/lang/Throwable
         109   116   119   Class java/lang/Throwable
           0    16   193   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17   192   193   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.fasterxml.jackson.databind.JsonNode getServiceNames();
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #40                 // Field zipkin2/storage/kafka/KafkaStorage.traceSearchEnabled:Z
       7: ifne          17
      10: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      13: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #44                 // String zipkin-service-names
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_1
      36: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      39: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      42: astore_2
      43: aload_1
      44: invokeinterface #47,  1           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.all:()Lorg/apache/kafka/streams/state/KeyValueIterator;
      49: astore_3
      50: aload_3
      51: aload_2
      52: invokedynamic #48,  0             // InvokeDynamic #1:accept:(Lcom/fasterxml/jackson/databind/node/ArrayNode;)Ljava/util/function/Consumer;
      57: invokeinterface #20,  2           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.forEachRemaining:(Ljava/util/function/Consumer;)V
      62: aload_3
      63: ifnull        102
      66: aload_3
      67: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
      72: goto          102
      75: astore        4
      77: aload_3
      78: ifnull        99
      81: aload_3
      82: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
      87: goto          99
      90: astore        5
      92: aload         4
      94: aload         5
      96: invokevirtual #23                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      99: aload         4
     101: athrow
     102: aload_2
     103: areturn
     104: astore_1
     105: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     108: ldc           #37                 // String State store is not ready
     110: aload_1
     111: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     116: aload_1
     117: athrow
    Exception table:
       from    to  target type
          50    62    75   Class java/lang/Throwable
          81    87    90   Class java/lang/Throwable
           0    16   104   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17   103   104   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.fasterxml.jackson.databind.JsonNode getSpanNames(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #40                 // Field zipkin2/storage/kafka/KafkaStorage.traceSearchEnabled:Z
       7: ifne          17
      10: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      13: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #49                 // String zipkin-span-names
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_2
      36: aload_2
      37: aload_1
      38: invokeinterface #50,  2           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: checkcast     #51                 // class java/util/Set
      46: astore_3
      47: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      50: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      53: astore        4
      55: aload_3
      56: ifnull        77
      59: aload_3
      60: aload         4
      62: dup
      63: invokestatic  #52                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      66: pop
      67: invokedynamic #53,  0             // InvokeDynamic #2:accept:(Lcom/fasterxml/jackson/databind/node/ArrayNode;)Ljava/util/function/Consumer;
      72: invokeinterface #54,  2           // InterfaceMethod java/util/Set.forEach:(Ljava/util/function/Consumer;)V
      77: aload         4
      79: areturn
      80: astore_2
      81: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      84: ldc           #37                 // String State store is not ready
      86: aload_2
      87: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      92: aload_2
      93: athrow
    Exception table:
       from    to  target type
           0    16    80   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17    79    80   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.fasterxml.jackson.databind.JsonNode getRemoteServiceNames(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #40                 // Field zipkin2/storage/kafka/KafkaStorage.traceSearchEnabled:Z
       7: ifne          17
      10: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      13: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #55                 // String zipkin-remote-service-names
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_2
      36: aload_2
      37: aload_1
      38: invokeinterface #50,  2           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: checkcast     #51                 // class java/util/Set
      46: astore_3
      47: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      50: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      53: astore        4
      55: aload_3
      56: ifnull        77
      59: aload_3
      60: aload         4
      62: dup
      63: invokestatic  #52                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      66: pop
      67: invokedynamic #53,  0             // InvokeDynamic #2:accept:(Lcom/fasterxml/jackson/databind/node/ArrayNode;)Ljava/util/function/Consumer;
      72: invokeinterface #54,  2           // InterfaceMethod java/util/Set.forEach:(Ljava/util/function/Consumer;)V
      77: aload         4
      79: areturn
      80: astore_2
      81: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      84: ldc           #37                 // String State store is not ready
      86: aload_2
      87: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      92: aload_2
      93: athrow
    Exception table:
       from    to  target type
           0    16    80   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17    79    80   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.linecorp.armeria.common.AggregatedHttpResponse getTraces(java.util.Optional<java.lang.String>, java.util.Optional<java.lang.String>, java.util.Optional<java.lang.String>, java.util.Optional<java.lang.String>, java.util.Optional<java.lang.Long>, java.util.Optional<java.lang.Long>, java.util.Optional<java.lang.Long>, java.lang.Long, int);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #40                 // Field zipkin2/storage/kafka/KafkaStorage.traceSearchEnabled:Z
       7: ifne          17
      10: getstatic     #8                  // Field com/linecorp/armeria/common/HttpStatus.NOT_FOUND:Lcom/linecorp/armeria/common/HttpStatus;
      13: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
      16: areturn
      17: invokestatic  #56                 // Method zipkin2/storage/QueryRequest.newBuilder:()Lzipkin2/storage/QueryRequest$Builder;
      20: aload_1
      21: aconst_null
      22: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #58                 // class java/lang/String
      28: invokevirtual #59                 // Method zipkin2/storage/QueryRequest$Builder.serviceName:(Ljava/lang/String;)Lzipkin2/storage/QueryRequest$Builder;
      31: aload_2
      32: aconst_null
      33: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      36: checkcast     #58                 // class java/lang/String
      39: invokevirtual #60                 // Method zipkin2/storage/QueryRequest$Builder.remoteServiceName:(Ljava/lang/String;)Lzipkin2/storage/QueryRequest$Builder;
      42: aload_3
      43: aconst_null
      44: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      47: checkcast     #58                 // class java/lang/String
      50: invokevirtual #61                 // Method zipkin2/storage/QueryRequest$Builder.spanName:(Ljava/lang/String;)Lzipkin2/storage/QueryRequest$Builder;
      53: aload         4
      55: aconst_null
      56: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      59: checkcast     #58                 // class java/lang/String
      62: invokevirtual #62                 // Method zipkin2/storage/QueryRequest$Builder.parseAnnotationQuery:(Ljava/lang/String;)Lzipkin2/storage/QueryRequest$Builder;
      65: aload         5
      67: aconst_null
      68: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      71: checkcast     #63                 // class java/lang/Long
      74: invokevirtual #64                 // Method zipkin2/storage/QueryRequest$Builder.minDuration:(Ljava/lang/Long;)Lzipkin2/storage/QueryRequest$Builder;
      77: aload         6
      79: aconst_null
      80: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      83: checkcast     #63                 // class java/lang/Long
      86: invokevirtual #65                 // Method zipkin2/storage/QueryRequest$Builder.maxDuration:(Ljava/lang/Long;)Lzipkin2/storage/QueryRequest$Builder;
      89: aload         7
      91: invokestatic  #66                 // Method java/lang/System.currentTimeMillis:()J
      94: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      97: invokevirtual #57                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
     100: checkcast     #63                 // class java/lang/Long
     103: invokevirtual #68                 // Method java/lang/Long.longValue:()J
     106: invokevirtual #69                 // Method zipkin2/storage/QueryRequest$Builder.endTs:(J)Lzipkin2/storage/QueryRequest$Builder;
     109: aload         8
     111: invokevirtual #68                 // Method java/lang/Long.longValue:()J
     114: invokevirtual #70                 // Method zipkin2/storage/QueryRequest$Builder.lookback:(J)Lzipkin2/storage/QueryRequest$Builder;
     117: iload         9
     119: invokevirtual #71                 // Method zipkin2/storage/QueryRequest$Builder.limit:(I)Lzipkin2/storage/QueryRequest$Builder;
     122: invokevirtual #72                 // Method zipkin2/storage/QueryRequest$Builder.build:()Lzipkin2/storage/QueryRequest;
     125: astore        10
     127: aload_0
     128: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
     131: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
     134: ldc           #73                 // String zipkin-traces
     136: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
     139: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
     142: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
     145: astore        11
     147: aload_0
     148: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
     151: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
     154: ldc           #74                 // String zipkin-traces-by-timestamp
     156: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
     159: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
     162: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
     165: astore        12
     167: new           #15                 // class java/util/ArrayList
     170: dup
     171: invokespecial #16                 // Method java/util/ArrayList."<init>":()V
     174: astore        13
     176: new           #15                 // class java/util/ArrayList
     179: dup
     180: invokespecial #16                 // Method java/util/ArrayList."<init>":()V
     183: astore        14
     185: getstatic     #75                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     188: aload         10
     190: invokevirtual #76                 // Method zipkin2/storage/QueryRequest.endTs:()J
     193: aload         10
     195: invokevirtual #77                 // Method zipkin2/storage/QueryRequest.lookback:()J
     198: lsub
     199: invokevirtual #78                 // Method java/util/concurrent/TimeUnit.toMicros:(J)J
     202: lstore        15
     204: getstatic     #75                 // Field java/util/concurrent/TimeUnit.MILLISECONDS:Ljava/util/concurrent/TimeUnit;
     207: aload         10
     209: invokevirtual #76                 // Method zipkin2/storage/QueryRequest.endTs:()J
     212: invokevirtual #78                 // Method java/util/concurrent/TimeUnit.toMicros:(J)J
     215: lstore        17
     217: getstatic     #79                 // Field java/util/concurrent/TimeUnit.SECONDS:Ljava/util/concurrent/TimeUnit;
     220: ldc2_w        #80                 // long 30l
     223: invokevirtual #78                 // Method java/util/concurrent/TimeUnit.toMicros:(J)J
     226: lstore        19
     228: lload         17
     230: lload         19
     232: lsub
     233: lstore        21
     235: lload         21
     237: lload         15
     239: lcmp
     240: ifle          258
     243: aload         11
     245: invokeinterface #82,  1           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.approximateNumEntries:()J
     250: aload_0
     251: getfield      #6                  // Field minTracesStored:J
     254: lcmp
     255: ifgt          338
     258: aload         12
     260: lload         15
     262: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     265: lload         17
     267: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     270: invokeinterface #83,  3           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.range:(Ljava/lang/Object;Ljava/lang/Object;)Lorg/apache/kafka/streams/state/KeyValueIterator;
     275: astore        23
     277: aload_0
     278: aload         10
     280: aload         11
     282: aload         13
     284: aload         14
     286: aload         23
     288: invokevirtual #84                 // Method addResults:(Lzipkin2/storage/QueryRequest;Lorg/apache/kafka/streams/state/ReadOnlyKeyValueStore;Ljava/util/List;Ljava/util/List;Lorg/apache/kafka/streams/state/KeyValueIterator;)V
     291: aload         23
     293: ifnull        335
     296: aload         23
     298: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
     303: goto          335
     306: astore        24
     308: aload         23
     310: ifnull        332
     313: aload         23
     315: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
     320: goto          332
     323: astore        25
     325: aload         24
     327: aload         25
     329: invokevirtual #23                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     332: aload         24
     334: athrow
     335: goto          452
     338: lload         21
     340: lload         15
     342: lcmp
     343: ifle          452
     346: aload         13
     348: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
     353: aload         10
     355: invokevirtual #85                 // Method zipkin2/storage/QueryRequest.limit:()I
     358: if_icmpge     452
     361: aload         12
     363: lload         21
     365: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     368: lload         17
     370: invokestatic  #67                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     373: invokeinterface #83,  3           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.range:(Ljava/lang/Object;Ljava/lang/Object;)Lorg/apache/kafka/streams/state/KeyValueIterator;
     378: astore        23
     380: aload_0
     381: aload         10
     383: aload         11
     385: aload         13
     387: aload         14
     389: aload         23
     391: invokevirtual #84                 // Method addResults:(Lzipkin2/storage/QueryRequest;Lorg/apache/kafka/streams/state/ReadOnlyKeyValueStore;Ljava/util/List;Ljava/util/List;Lorg/apache/kafka/streams/state/KeyValueIterator;)V
     394: aload         23
     396: ifnull        438
     399: aload         23
     401: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
     406: goto          438
     409: astore        24
     411: aload         23
     413: ifnull        435
     416: aload         23
     418: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
     423: goto          435
     426: astore        25
     428: aload         24
     430: aload         25
     432: invokevirtual #23                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     435: aload         24
     437: athrow
     438: lload         21
     440: lstore        17
     442: lload         21
     444: lload         19
     446: lsub
     447: lstore        21
     449: goto          338
     452: aload         13
     454: invokedynamic #86,  0             // InvokeDynamic #3:applyAsLong:()Ljava/util/function/ToLongFunction;
     459: invokestatic  #87                 // InterfaceMethod java/util/Comparator.comparingLong:(Ljava/util/function/ToLongFunction;)Ljava/util/Comparator;
     462: invokeinterface #88,  1           // InterfaceMethod java/util/Comparator.reversed:()Ljava/util/Comparator;
     467: invokeinterface #89,  2           // InterfaceMethod java/util/List.sort:(Ljava/util/Comparator;)V
     472: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     475: ldc           #90                 // String Traces found from query {}: {}
     477: aload         10
     479: aload         13
     481: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
     486: invokestatic  #29                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     489: invokeinterface #91,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
     494: aload         13
     496: invokeinterface #92,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
     501: aload         10
     503: invokevirtual #85                 // Method zipkin2/storage/QueryRequest.limit:()I
     506: i2l
     507: invokeinterface #93,  3           // InterfaceMethod java/util/stream/Stream.limit:(J)Ljava/util/stream/Stream;
     512: invokestatic  #94                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
     515: invokeinterface #95,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
     520: checkcast     #96                 // class java/util/List
     523: astore        23
     525: getstatic     #31                 // Field com/linecorp/armeria/common/HttpStatus.OK:Lcom/linecorp/armeria/common/HttpStatus;
     528: getstatic     #32                 // Field com/linecorp/armeria/common/MediaType.JSON:Lcom/linecorp/armeria/common/MediaType;
     531: aload         23
     533: invokestatic  #97                 // Method writeTraces:(Ljava/util/List;)[B
     536: invokestatic  #35                 // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;Lcom/linecorp/armeria/common/MediaType;[B)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
     539: areturn
     540: astore        10
     542: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     545: ldc           #37                 // String State store is not ready
     547: aload         10
     549: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     554: getstatic     #39                 // Field com/linecorp/armeria/common/HttpStatus.SERVICE_UNAVAILABLE:Lcom/linecorp/armeria/common/HttpStatus;
     557: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
     560: areturn
    Exception table:
       from    to  target type
         277   291   306   Class java/lang/Throwable
         313   320   323   Class java/lang/Throwable
         380   394   409   Class java/lang/Throwable
         416   423   426   Class java/lang/Throwable
           0    16   540   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17   539   540   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  void addResults(zipkin2.storage.QueryRequest, org.apache.kafka.streams.state.ReadOnlyKeyValueStore<java.lang.String, java.util.List<zipkin2.Span>>, java.util.List<java.util.List<zipkin2.Span>>, java.util.List<java.lang.String>, org.apache.kafka.streams.state.KeyValueIterator<java.lang.Long, java.util.Set<java.lang.String>>);
    Code:
       0: aload         5
       2: aload         4
       4: aload_2
       5: aload_1
       6: aload_3
       7: invokedynamic #98,  0             // InvokeDynamic #4:accept:(Ljava/util/List;Lorg/apache/kafka/streams/state/ReadOnlyKeyValueStore;Lzipkin2/storage/QueryRequest;Ljava/util/List;)Ljava/util/function/Consumer;
      12: invokeinterface #20,  2           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.forEachRemaining:(Ljava/util/function/Consumer;)V
      17: return

  public com.linecorp.armeria.common.AggregatedHttpResponse getTrace(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #99                 // Field zipkin2/storage/kafka/KafkaStorage.traceByIdQueryEnabled:Z
       7: ifne          17
      10: getstatic     #8                  // Field com/linecorp/armeria/common/HttpStatus.NOT_FOUND:Lcom/linecorp/armeria/common/HttpStatus;
      13: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #73                 // String zipkin-traces
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_2
      36: aload_2
      37: aload_1
      38: invokeinterface #50,  2           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: checkcast     #96                 // class java/util/List
      46: astore_3
      47: getstatic     #31                 // Field com/linecorp/armeria/common/HttpStatus.OK:Lcom/linecorp/armeria/common/HttpStatus;
      50: getstatic     #32                 // Field com/linecorp/armeria/common/MediaType.JSON:Lcom/linecorp/armeria/common/MediaType;
      53: getstatic     #100                // Field zipkin2/codec/SpanBytesEncoder.JSON_V2:Lzipkin2/codec/SpanBytesEncoder;
      56: aload_3
      57: invokevirtual #101                // Method zipkin2/codec/SpanBytesEncoder.encodeList:(Ljava/util/List;)[B
      60: invokestatic  #35                 // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;Lcom/linecorp/armeria/common/MediaType;[B)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
      63: areturn
      64: astore_2
      65: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      68: ldc           #37                 // String State store is not ready
      70: aload_2
      71: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      76: getstatic     #39                 // Field com/linecorp/armeria/common/HttpStatus.SERVICE_UNAVAILABLE:Lcom/linecorp/armeria/common/HttpStatus;
      79: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
      82: areturn
    Exception table:
       from    to  target type
           0    16    64   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17    63    64   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.linecorp.armeria.common.AggregatedHttpResponse getTraces(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #99                 // Field zipkin2/storage/kafka/KafkaStorage.traceByIdQueryEnabled:Z
       7: ifne          17
      10: getstatic     #8                  // Field com/linecorp/armeria/common/HttpStatus.NOT_FOUND:Lcom/linecorp/armeria/common/HttpStatus;
      13: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #73                 // String zipkin-traces
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_2
      36: new           #15                 // class java/util/ArrayList
      39: dup
      40: invokespecial #16                 // Method java/util/ArrayList."<init>":()V
      43: astore_3
      44: aload_1
      45: ldc           #102                // String ,
      47: sipush        1000
      50: invokevirtual #103                // Method java/lang/String.split:(Ljava/lang/String;I)[Ljava/lang/String;
      53: astore        4
      55: aload         4
      57: arraylength
      58: istore        5
      60: iconst_0
      61: istore        6
      63: iload         6
      65: iload         5
      67: if_icmpge     101
      70: aload         4
      72: iload         6
      74: aaload
      75: astore        7
      77: aload_3
      78: aload_2
      79: aload         7
      81: invokeinterface #50,  2           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.get:(Ljava/lang/Object;)Ljava/lang/Object;
      86: checkcast     #96                 // class java/util/List
      89: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      94: pop
      95: iinc          6, 1
      98: goto          63
     101: getstatic     #31                 // Field com/linecorp/armeria/common/HttpStatus.OK:Lcom/linecorp/armeria/common/HttpStatus;
     104: getstatic     #32                 // Field com/linecorp/armeria/common/MediaType.JSON:Lcom/linecorp/armeria/common/MediaType;
     107: aload_3
     108: invokestatic  #97                 // Method writeTraces:(Ljava/util/List;)[B
     111: invokestatic  #35                 // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;Lcom/linecorp/armeria/common/MediaType;[B)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
     114: areturn
     115: astore_2
     116: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     119: ldc           #37                 // String State store is not ready
     121: aload_2
     122: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     127: getstatic     #39                 // Field com/linecorp/armeria/common/HttpStatus.SERVICE_UNAVAILABLE:Lcom/linecorp/armeria/common/HttpStatus;
     130: invokestatic  #9                  // InterfaceMethod com/linecorp/armeria/common/AggregatedHttpResponse.of:(Lcom/linecorp/armeria/common/HttpStatus;)Lcom/linecorp/armeria/common/AggregatedHttpResponse;
     133: areturn
    Exception table:
       from    to  target type
           0    16   115   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17   114   115   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.fasterxml.jackson.databind.JsonNode getAutocompleteTags();
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #40                 // Field zipkin2/storage/kafka/KafkaStorage.traceSearchEnabled:Z
       7: ifne          17
      10: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      13: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #105                // String zipkin-autocomplete-tags
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_1
      36: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      39: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      42: astore_2
      43: aload_1
      44: invokeinterface #47,  1           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.all:()Lorg/apache/kafka/streams/state/KeyValueIterator;
      49: astore_3
      50: aload_3
      51: aload_2
      52: invokedynamic #106,  0            // InvokeDynamic #5:accept:(Lcom/fasterxml/jackson/databind/node/ArrayNode;)Ljava/util/function/Consumer;
      57: invokeinterface #20,  2           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.forEachRemaining:(Ljava/util/function/Consumer;)V
      62: aload_3
      63: ifnull        102
      66: aload_3
      67: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
      72: goto          102
      75: astore        4
      77: aload_3
      78: ifnull        99
      81: aload_3
      82: invokeinterface #21,  1           // InterfaceMethod org/apache/kafka/streams/state/KeyValueIterator.close:()V
      87: goto          99
      90: astore        5
      92: aload         4
      94: aload         5
      96: invokevirtual #23                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      99: aload         4
     101: athrow
     102: aload_2
     103: areturn
     104: astore_1
     105: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
     108: ldc           #37                 // String State store is not ready
     110: aload_1
     111: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
     116: aload_1
     117: athrow
    Exception table:
       from    to  target type
          50    62    75   Class java/lang/Throwable
          81    87    90   Class java/lang/Throwable
           0    16   104   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17   103   104   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public com.fasterxml.jackson.databind.JsonNode getAutocompleteValues(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: getfield      #40                 // Field zipkin2/storage/kafka/KafkaStorage.traceSearchEnabled:Z
       7: ifne          17
      10: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      13: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      16: areturn
      17: aload_0
      18: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      21: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      24: ldc           #105                // String zipkin-autocomplete-tags
      26: invokestatic  #45                 // Method org/apache/kafka/streams/state/QueryableStoreTypes.keyValueStore:()Lorg/apache/kafka/streams/state/QueryableStoreType;
      29: invokevirtual #13                 // Method org/apache/kafka/streams/KafkaStreams.store:(Ljava/lang/String;Lorg/apache/kafka/streams/state/QueryableStoreType;)Ljava/lang/Object;
      32: checkcast     #46                 // class org/apache/kafka/streams/state/ReadOnlyKeyValueStore
      35: astore_2
      36: aload_2
      37: aload_1
      38: invokeinterface #50,  2           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.get:(Ljava/lang/Object;)Ljava/lang/Object;
      43: checkcast     #51                 // class java/util/Set
      46: astore_3
      47: getstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      50: invokevirtual #42                 // Method com/fasterxml/jackson/databind/ObjectMapper.createArrayNode:()Lcom/fasterxml/jackson/databind/node/ArrayNode;
      53: astore        4
      55: aload_3
      56: ifnull        77
      59: aload_3
      60: aload         4
      62: dup
      63: invokestatic  #52                 // Method java/util/Objects.requireNonNull:(Ljava/lang/Object;)Ljava/lang/Object;
      66: pop
      67: invokedynamic #53,  0             // InvokeDynamic #2:accept:(Lcom/fasterxml/jackson/databind/node/ArrayNode;)Ljava/util/function/Consumer;
      72: invokeinterface #54,  2           // InterfaceMethod java/util/Set.forEach:(Ljava/util/function/Consumer;)V
      77: aload         4
      79: areturn
      80: astore_2
      81: getstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
      84: ldc           #37                 // String State store is not ready
      86: aload_2
      87: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Throwable;)V
      92: aload_2
      93: athrow
    Exception table:
       from    to  target type
           0    16    80   Class org/apache/kafka/streams/errors/InvalidStateStoreException
          17    79    80   Class org/apache/kafka/streams/errors/InvalidStateStoreException

  public zipkin2.storage.kafka.KafkaStreamsMetadata getInstancesByStore(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
       7: aload_1
       8: invokevirtual #107                // Method org/apache/kafka/streams/KafkaStreams.allMetadataForStore:(Ljava/lang/String;)Ljava/util/Collection;
      11: astore_2
      12: aload_2
      13: aload_0
      14: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      17: invokevirtual #10                 // Method zipkin2/storage/kafka/KafkaStorage.getDependencyStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      20: aload_1
      21: invokevirtual #107                // Method org/apache/kafka/streams/KafkaStreams.allMetadataForStore:(Ljava/lang/String;)Ljava/util/Collection;
      24: invokeinterface #108,  2          // InterfaceMethod java/util/Collection.addAll:(Ljava/util/Collection;)Z
      29: pop
      30: aload_2
      31: invokestatic  #109                // Method zipkin2/storage/kafka/KafkaStreamsMetadata.create:(Ljava/util/Collection;)Lzipkin2/storage/kafka/KafkaStreamsMetadata;
      34: areturn

  public zipkin2.storage.kafka.KafkaStreamsMetadata getInstances();
    Code:
       0: aload_0
       1: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
       4: invokevirtual #43                 // Method zipkin2/storage/kafka/KafkaStorage.getTraceStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
       7: invokevirtual #110                // Method org/apache/kafka/streams/KafkaStreams.allMetadata:()Ljava/util/Collection;
      10: astore_1
      11: aload_1
      12: aload_0
      13: getfield      #4                  // Field storage:Lzipkin2/storage/kafka/KafkaStorage;
      16: invokevirtual #10                 // Method zipkin2/storage/kafka/KafkaStorage.getDependencyStorageStream:()Lorg/apache/kafka/streams/KafkaStreams;
      19: invokevirtual #110                // Method org/apache/kafka/streams/KafkaStreams.allMetadata:()Ljava/util/Collection;
      22: invokeinterface #108,  2          // InterfaceMethod java/util/Collection.addAll:(Ljava/util/Collection;)Z
      27: pop
      28: aload_1
      29: invokestatic  #109                // Method zipkin2/storage/kafka/KafkaStreamsMetadata.create:(Ljava/util/Collection;)Lzipkin2/storage/kafka/KafkaStreamsMetadata;
      32: areturn

  static byte[] writeTraces(java.util.List<java.util.List<zipkin2.Span>>);
    Code:
       0: aload_0
       1: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
       6: istore_1
       7: iconst_2
       8: istore_2
       9: iload_1
      10: iconst_1
      11: if_icmple     20
      14: iload_2
      15: iload_1
      16: iconst_1
      17: isub
      18: iadd
      19: istore_2
      20: aload_0
      21: invokeinterface #111,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      26: astore_3
      27: aload_3
      28: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          120
      36: aload_3
      37: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      42: checkcast     #96                 // class java/util/List
      45: astore        4
      47: aload         4
      49: invokeinterface #28,  1           // InterfaceMethod java/util/List.size:()I
      54: istore        5
      56: iinc          2, 2
      59: iload         5
      61: iconst_1
      62: if_icmple     72
      65: iload_2
      66: iload         5
      68: iconst_1
      69: isub
      70: iadd
      71: istore_2
      72: aload         4
      74: invokeinterface #111,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      79: astore        6
      81: aload         6
      83: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      88: ifeq          117
      91: aload         6
      93: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      98: checkcast     #114                // class zipkin2/Span
     101: astore        7
     103: iload_2
     104: getstatic     #100                // Field zipkin2/codec/SpanBytesEncoder.JSON_V2:Lzipkin2/codec/SpanBytesEncoder;
     107: aload         7
     109: invokevirtual #115                // Method zipkin2/codec/SpanBytesEncoder.sizeInBytes:(Ljava/lang/Object;)I
     112: iadd
     113: istore_2
     114: goto          81
     117: goto          27
     120: iload_2
     121: newarray       byte
     123: astore_3
     124: iconst_0
     125: istore        4
     127: aload_3
     128: iload         4
     130: iinc          4, 1
     133: bipush        91
     135: bastore
     136: iconst_0
     137: istore        5
     139: iload         5
     141: iload_1
     142: if_icmpge     193
     145: iload         4
     147: getstatic     #100                // Field zipkin2/codec/SpanBytesEncoder.JSON_V2:Lzipkin2/codec/SpanBytesEncoder;
     150: aload_0
     151: iload         5
     153: invokeinterface #116,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     158: checkcast     #96                 // class java/util/List
     161: aload_3
     162: iload         4
     164: invokevirtual #117                // Method zipkin2/codec/SpanBytesEncoder.encodeList:(Ljava/util/List;[BI)I
     167: iadd
     168: istore        4
     170: iload         5
     172: iconst_1
     173: iadd
     174: iload_1
     175: if_icmpge     187
     178: aload_3
     179: iload         4
     181: iinc          4, 1
     184: bipush        44
     186: bastore
     187: iinc          5, 1
     190: goto          139
     193: aload_3
     194: iload         4
     196: bipush        93
     198: bastore
     199: aload_3
     200: areturn

  private static void lambda$getAutocompleteTags$4(com.fasterxml.jackson.databind.node.ArrayNode, org.apache.kafka.streams.KeyValue);
    Code:
       0: aload_0
       1: aload_1
       2: getfield      #118                // Field org/apache/kafka/streams/KeyValue.key:Ljava/lang/Object;
       5: checkcast     #58                 // class java/lang/String
       8: invokevirtual #119                // Method com/fasterxml/jackson/databind/node/ArrayNode.add:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/node/ArrayNode;
      11: pop
      12: return

  private static void lambda$addResults$3(java.util.List, org.apache.kafka.streams.state.ReadOnlyKeyValueStore, zipkin2.storage.QueryRequest, java.util.List, org.apache.kafka.streams.KeyValue);
    Code:
       0: aload         4
       2: getfield      #120                // Field org/apache/kafka/streams/KeyValue.value:Ljava/lang/Object;
       5: checkcast     #51                 // class java/util/Set
       8: invokeinterface #121,  1          // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      13: astore        5
      15: aload         5
      17: invokeinterface #112,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      22: ifeq          106
      25: aload         5
      27: invokeinterface #113,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      32: checkcast     #58                 // class java/lang/String
      35: astore        6
      37: aload_0
      38: aload         6
      40: invokeinterface #122,  2          // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      45: ifne          103
      48: aload_1
      49: aload         6
      51: invokeinterface #50,  2           // InterfaceMethod org/apache/kafka/streams/state/ReadOnlyKeyValueStore.get:(Ljava/lang/Object;)Ljava/lang/Object;
      56: checkcast     #96                 // class java/util/List
      59: astore        7
      61: aload         7
      63: ifnull        103
      66: aload         7
      68: invokeinterface #123,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      73: ifne          103
      76: aload_2
      77: aload         7
      79: invokevirtual #124                // Method zipkin2/storage/QueryRequest.test:(Ljava/util/List;)Z
      82: ifeq          103
      85: aload_0
      86: aload         6
      88: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      93: pop
      94: aload_3
      95: aload         7
      97: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     102: pop
     103: goto          15
     106: return

  private static long lambda$getTraces$2(java.util.List);
    Code:
       0: aload_0
       1: iconst_0
       2: invokeinterface #116,  2          // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
       7: checkcast     #114                // class zipkin2/Span
      10: invokevirtual #125                // Method zipkin2/Span.timestampAsLong:()J
      13: lreturn

  private static void lambda$getServiceNames$1(com.fasterxml.jackson.databind.node.ArrayNode, org.apache.kafka.streams.KeyValue);
    Code:
       0: aload_0
       1: aload_1
       2: getfield      #120                // Field org/apache/kafka/streams/KeyValue.value:Ljava/lang/Object;
       5: checkcast     #58                 // class java/lang/String
       8: invokevirtual #119                // Method com/fasterxml/jackson/databind/node/ArrayNode.add:(Ljava/lang/String;)Lcom/fasterxml/jackson/databind/node/ArrayNode;
      11: pop
      12: return

  private static void lambda$getDependencies$0(java.util.List, org.apache.kafka.streams.KeyValue);
    Code:
       0: aload_0
       1: aload_1
       2: getfield      #120                // Field org/apache/kafka/streams/KeyValue.value:Ljava/lang/Object;
       5: checkcast     #126                // class zipkin2/DependencyLink
       8: invokeinterface #104,  2          // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      13: pop
      14: return

  static {};
    Code:
       0: ldc           #127                // class zipkin2/storage/kafka/KafkaStorageHttpService
       2: invokestatic  #128                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #25                 // Field LOG:Lorg/slf4j/Logger;
       8: new           #129                // class com/fasterxml/jackson/databind/ObjectMapper
      11: dup
      12: invokespecial #130                // Method com/fasterxml/jackson/databind/ObjectMapper."<init>":()V
      15: putstatic     #41                 // Field MAPPER:Lcom/fasterxml/jackson/databind/ObjectMapper;
      18: return
}
