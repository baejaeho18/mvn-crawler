Compiled from "ErrorTally.java"
class net.serenitybdd.screenplay.ErrorTally {
  private final net.serenitybdd.screenplay.EventBusInterface eventBusInterface;

  private java.util.List<net.serenitybdd.screenplay.FailedConsequence> errors;

  net.serenitybdd.screenplay.ErrorTally(net.serenitybdd.screenplay.EventBusInterface);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field eventBusInterface:Lnet/serenitybdd/screenplay/EventBusInterface;
       9: aload_0
      10: new           #3                  // class java/util/ArrayList
      13: dup
      14: invokespecial #4                  // Method java/util/ArrayList."<init>":()V
      17: putfield      #5                  // Field errors:Ljava/util/List;
      20: return

  void recordError(net.serenitybdd.screenplay.Consequence<?>, java.lang.Throwable);
    Code:
       0: aload_0
       1: getfield      #5                  // Field errors:Ljava/util/List;
       4: new           #6                  // class net/serenitybdd/screenplay/FailedConsequence
       7: dup
       8: aload_1
       9: aload_2
      10: invokespecial #7                  // Method net/serenitybdd/screenplay/FailedConsequence."<init>":(Lnet/serenitybdd/screenplay/Consequence;Ljava/lang/Throwable;)V
      13: invokeinterface #8,  2            // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      18: pop
      19: aload_0
      20: getfield      #2                  // Field eventBusInterface:Lnet/serenitybdd/screenplay/EventBusInterface;
      23: aload_1
      24: aload_2
      25: invokevirtual #9                  // Method net/serenitybdd/screenplay/EventBusInterface.reportStepFailureFor:(Lnet/serenitybdd/screenplay/Consequence;Ljava/lang/Throwable;)V
      28: return

  void reportAnyErrors();
    Code:
       0: aload_0
       1: getfield      #5                  // Field errors:Ljava/util/List;
       4: invokeinterface #10,  1           // InterfaceMethod java/util/List.isEmpty:()Z
       9: ifeq          13
      12: return
      13: invokestatic  #11                 // Method net/serenitybdd/core/Serenity.shouldThrowErrorsImmediately:()Z
      16: ifeq          31
      19: aload_0
      20: aload_0
      21: aload_0
      22: getfield      #5                  // Field errors:Ljava/util/List;
      25: invokespecial #12                 // Method errorCausesIn:(Ljava/util/List;)Ljava/util/List;
      28: invokespecial #13                 // Method throwSummaryExceptionFrom:(Ljava/util/List;)V
      31: return

  private void throwSummaryExceptionFrom(java.util.List<java.lang.Throwable>);
    Code:
       0: invokestatic  #14                 // Method java/lang/System.lineSeparator:()Ljava/lang/String;
       3: aload_0
       4: aload_1
       5: invokespecial #15                 // Method errorMessagesIn:(Ljava/util/List;)Ljava/util/List;
       8: invokestatic  #16                 // Method java/lang/String.join:(Ljava/lang/CharSequence;Ljava/lang/Iterable;)Ljava/lang/String;
      11: astore_2
      12: new           #17                 // class java/lang/AssertionError
      15: dup
      16: aload_2
      17: invokespecial #18                 // Method java/lang/AssertionError."<init>":(Ljava/lang/Object;)V
      20: athrow

  private java.util.List<java.lang.Throwable> errorCausesIn(java.util.List<net.serenitybdd.screenplay.FailedConsequence>);
    Code:
       0: aload_1
       1: invokeinterface #19,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       6: invokedynamic #20,  0             // InvokeDynamic #0:apply:()Ljava/util/function/Function;
      11: invokeinterface #21,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      16: invokestatic  #22                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      19: invokeinterface #23,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      24: checkcast     #24                 // class java/util/List
      27: areturn

  private java.util.List<java.lang.String> errorMessagesIn(java.util.List<java.lang.Throwable>);
    Code:
       0: aload_1
       1: invokeinterface #19,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
       6: invokedynamic #25,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      11: invokeinterface #21,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      16: invokestatic  #22                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      19: invokeinterface #23,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      24: checkcast     #24                 // class java/util/List
      27: areturn
}
