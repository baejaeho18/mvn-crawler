Compiled from "RecordFormatsMigrationIT.java"
public class org.neo4j.upgrade.RecordFormatsMigrationIT {
  private static final org.neo4j.graphdb.Label LABEL;

  private static final java.lang.String PROPERTY;

  private static final int VALUE;

  private final org.neo4j.test.rule.fs.DefaultFileSystemRule fileSystemRule;

  private final org.neo4j.test.rule.TestDirectory testDirectory;

  public org.junit.rules.RuleChain ruleChain;

  public org.neo4j.upgrade.RecordFormatsMigrationIT();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class org/neo4j/test/rule/fs/DefaultFileSystemRule
       8: dup
       9: invokespecial #3                  // Method org/neo4j/test/rule/fs/DefaultFileSystemRule."<init>":()V
      12: putfield      #4                  // Field fileSystemRule:Lorg/neo4j/test/rule/fs/DefaultFileSystemRule;
      15: aload_0
      16: aload_0
      17: getfield      #4                  // Field fileSystemRule:Lorg/neo4j/test/rule/fs/DefaultFileSystemRule;
      20: invokevirtual #5                  // Method org/neo4j/test/rule/fs/DefaultFileSystemRule.get:()Lorg/neo4j/io/fs/FileSystemAbstraction;
      23: invokestatic  #6                  // Method org/neo4j/test/rule/TestDirectory.testDirectory:(Lorg/neo4j/io/fs/FileSystemAbstraction;)Lorg/neo4j/test/rule/TestDirectory;
      26: putfield      #7                  // Field testDirectory:Lorg/neo4j/test/rule/TestDirectory;
      29: aload_0
      30: aload_0
      31: getfield      #7                  // Field testDirectory:Lorg/neo4j/test/rule/TestDirectory;
      34: invokestatic  #8                  // Method org/junit/rules/RuleChain.outerRule:(Lorg/junit/rules/TestRule;)Lorg/junit/rules/RuleChain;
      37: aload_0
      38: getfield      #4                  // Field fileSystemRule:Lorg/neo4j/test/rule/fs/DefaultFileSystemRule;
      41: invokevirtual #9                  // Method org/junit/rules/RuleChain.around:(Lorg/junit/rules/TestRule;)Lorg/junit/rules/RuleChain;
      44: putfield      #10                 // Field ruleChain:Lorg/junit/rules/RuleChain;
      47: return

  public void migrateLatestStandardToLatestHighLimit() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #11                 // Method startStandardFormatDb:()Lorg/neo4j/graphdb/GraphDatabaseService;
       4: invokedynamic #12,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
       9: invokestatic  #13                 // Method executeAndStopDb:(Lorg/neo4j/graphdb/GraphDatabaseService;Ljava/util/function/Consumer;)V
      12: aload_0
      13: invokespecial #14                 // Method assertLatestStandardStore:()V
      16: aload_0
      17: invokespecial #15                 // Method startHighLimitFormatDb:()Lorg/neo4j/graphdb/GraphDatabaseService;
      20: invokedynamic #16,  0             // InvokeDynamic #1:accept:()Ljava/util/function/Consumer;
      25: invokestatic  #13                 // Method executeAndStopDb:(Lorg/neo4j/graphdb/GraphDatabaseService;Ljava/util/function/Consumer;)V
      28: aload_0
      29: invokespecial #17                 // Method assertLatestHighLimitStore:()V
      32: return

  public void migrateHighLimitV3_0ToLatestHighLimit() throws java.lang.Exception;
    Code:
       0: aload_0
       1: ldc           #19                 // String high_limitV3_0_0
       3: invokespecial #20                 // Method startDb:(Ljava/lang/String;)Lorg/neo4j/graphdb/GraphDatabaseService;
       6: invokedynamic #12,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
      11: invokestatic  #13                 // Method executeAndStopDb:(Lorg/neo4j/graphdb/GraphDatabaseService;Ljava/util/function/Consumer;)V
      14: aload_0
      15: getstatic     #21                 // Field org/neo4j/kernel/impl/store/format/highlimit/v300/HighLimitV3_0_0.RECORD_FORMATS:Lorg/neo4j/kernel/impl/store/format/RecordFormats;
      18: invokespecial #22                 // Method assertStoreFormat:(Lorg/neo4j/kernel/impl/store/format/RecordFormats;)V
      21: aload_0
      22: invokespecial #15                 // Method startHighLimitFormatDb:()Lorg/neo4j/graphdb/GraphDatabaseService;
      25: invokedynamic #16,  0             // InvokeDynamic #1:accept:()Ljava/util/function/Consumer;
      30: invokestatic  #13                 // Method executeAndStopDb:(Lorg/neo4j/graphdb/GraphDatabaseService;Ljava/util/function/Consumer;)V
      33: aload_0
      34: invokespecial #17                 // Method assertLatestHighLimitStore:()V
      37: return

  public void migrateHighLimitToStandard() throws java.lang.Exception;
    Code:
       0: aload_0
       1: invokespecial #15                 // Method startHighLimitFormatDb:()Lorg/neo4j/graphdb/GraphDatabaseService;
       4: invokedynamic #12,  0             // InvokeDynamic #0:accept:()Ljava/util/function/Consumer;
       9: invokestatic  #13                 // Method executeAndStopDb:(Lorg/neo4j/graphdb/GraphDatabaseService;Ljava/util/function/Consumer;)V
      12: aload_0
      13: invokespecial #17                 // Method assertLatestHighLimitStore:()V
      16: aload_0
      17: invokespecial #11                 // Method startStandardFormatDb:()Lorg/neo4j/graphdb/GraphDatabaseService;
      20: pop
      21: ldc           #23                 // String Should not be possible to downgrade
      23: invokestatic  #24                 // Method org/junit/Assert.fail:(Ljava/lang/String;)V
      26: goto          42
      29: astore_1
      30: aload_1
      31: invokestatic  #26                 // Method org/neo4j/helpers/Exceptions.rootCause:(Ljava/lang/Throwable;)Ljava/lang/Throwable;
      34: ldc           #27                 // class org/neo4j/kernel/impl/storemigration/StoreUpgrader$UnexpectedUpgradingStoreFormatException
      36: invokestatic  #28                 // Method org/hamcrest/Matchers.instanceOf:(Ljava/lang/Class;)Lorg/hamcrest/Matcher;
      39: invokestatic  #29                 // Method org/junit/Assert.assertThat:(Ljava/lang/Object;Lorg/hamcrest/Matcher;)V
      42: aload_0
      43: invokespecial #17                 // Method assertLatestHighLimitStore:()V
      46: return
    Exception table:
       from    to  target type
          16    26    29   Class java/lang/Exception

  private static void createNode(org.neo4j.graphdb.GraphDatabaseService);
    Code:
       0: aload_0
       1: invokeinterface #30,  1           // InterfaceMethod org/neo4j/graphdb/GraphDatabaseService.beginTx:()Lorg/neo4j/graphdb/Transaction;
       6: astore_1
       7: aconst_null
       8: astore_2
       9: aload_0
      10: iconst_1
      11: anewarray     #31                 // class org/neo4j/graphdb/Label
      14: dup
      15: iconst_0
      16: getstatic     #32                 // Field LABEL:Lorg/neo4j/graphdb/Label;
      19: aastore
      20: invokeinterface #33,  2           // InterfaceMethod org/neo4j/graphdb/GraphDatabaseService.createNode:([Lorg/neo4j/graphdb/Label;)Lorg/neo4j/graphdb/Node;
      25: astore_3
      26: aload_3
      27: ldc           #35                 // String legs
      29: bipush        42
      31: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: invokeinterface #37,  3           // InterfaceMethod org/neo4j/graphdb/Node.setProperty:(Ljava/lang/String;Ljava/lang/Object;)V
      39: aload_1
      40: invokeinterface #38,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.success:()V
      45: aload_1
      46: ifnull        124
      49: aload_2
      50: ifnull        71
      53: aload_1
      54: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
      59: goto          124
      62: astore_3
      63: aload_2
      64: aload_3
      65: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      68: goto          124
      71: aload_1
      72: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
      77: goto          124
      80: astore_3
      81: aload_3
      82: astore_2
      83: aload_3
      84: athrow
      85: astore        4
      87: aload_1
      88: ifnull        121
      91: aload_2
      92: ifnull        115
      95: aload_1
      96: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
     101: goto          121
     104: astore        5
     106: aload_2
     107: aload         5
     109: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     112: goto          121
     115: aload_1
     116: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
     121: aload         4
     123: athrow
     124: return
    Exception table:
       from    to  target type
          53    59    62   Class java/lang/Throwable
           9    45    80   Class java/lang/Throwable
           9    45    85   any
          95   101   104   Class java/lang/Throwable
          80    87    85   any

  private static void assertNodeExists(org.neo4j.graphdb.GraphDatabaseService);
    Code:
       0: aload_0
       1: invokeinterface #30,  1           // InterfaceMethod org/neo4j/graphdb/GraphDatabaseService.beginTx:()Lorg/neo4j/graphdb/Transaction;
       6: astore_1
       7: aconst_null
       8: astore_2
       9: aload_0
      10: getstatic     #32                 // Field LABEL:Lorg/neo4j/graphdb/Label;
      13: ldc           #35                 // String legs
      15: bipush        42
      17: invokestatic  #36                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      20: invokeinterface #42,  4           // InterfaceMethod org/neo4j/graphdb/GraphDatabaseService.findNode:(Lorg/neo4j/graphdb/Label;Ljava/lang/String;Ljava/lang/Object;)Lorg/neo4j/graphdb/Node;
      25: invokestatic  #43                 // Method org/junit/Assert.assertNotNull:(Ljava/lang/Object;)V
      28: aload_1
      29: invokeinterface #38,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.success:()V
      34: aload_1
      35: ifnull        113
      38: aload_2
      39: ifnull        60
      42: aload_1
      43: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
      48: goto          113
      51: astore_3
      52: aload_2
      53: aload_3
      54: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      57: goto          113
      60: aload_1
      61: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
      66: goto          113
      69: astore_3
      70: aload_3
      71: astore_2
      72: aload_3
      73: athrow
      74: astore        4
      76: aload_1
      77: ifnull        110
      80: aload_2
      81: ifnull        104
      84: aload_1
      85: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
      90: goto          110
      93: astore        5
      95: aload_2
      96: aload         5
      98: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     101: goto          110
     104: aload_1
     105: invokeinterface #39,  1           // InterfaceMethod org/neo4j/graphdb/Transaction.close:()V
     110: aload         4
     112: athrow
     113: return
    Exception table:
       from    to  target type
          42    48    51   Class java/lang/Throwable
           9    34    69   Class java/lang/Throwable
           9    34    74   any
          84    90    93   Class java/lang/Throwable
          69    76    74   any

  private org.neo4j.graphdb.GraphDatabaseService startStandardFormatDb();
    Code:
       0: aload_0
       1: ldc           #45                 // String standard
       3: invokespecial #20                 // Method startDb:(Ljava/lang/String;)Lorg/neo4j/graphdb/GraphDatabaseService;
       6: areturn

  private org.neo4j.graphdb.GraphDatabaseService startHighLimitFormatDb();
    Code:
       0: aload_0
       1: ldc           #47                 // String high_limit
       3: invokespecial #20                 // Method startDb:(Ljava/lang/String;)Lorg/neo4j/graphdb/GraphDatabaseService;
       6: areturn

  private org.neo4j.graphdb.GraphDatabaseService startDb(java.lang.String);
    Code:
       0: new           #48                 // class org/neo4j/test/TestGraphDatabaseFactory
       3: dup
       4: invokespecial #49                 // Method org/neo4j/test/TestGraphDatabaseFactory."<init>":()V
       7: aload_0
       8: getfield      #7                  // Field testDirectory:Lorg/neo4j/test/rule/TestDirectory;
      11: invokevirtual #50                 // Method org/neo4j/test/rule/TestDirectory.databaseDir:()Ljava/io/File;
      14: invokevirtual #51                 // Method org/neo4j/test/TestGraphDatabaseFactory.newEmbeddedDatabaseBuilder:(Ljava/io/File;)Lorg/neo4j/graphdb/factory/GraphDatabaseBuilder;
      17: getstatic     #52                 // Field org/neo4j/graphdb/factory/GraphDatabaseSettings.allow_upgrade:Lorg/neo4j/graphdb/config/Setting;
      20: ldc           #54                 // String true
      22: invokevirtual #55                 // Method org/neo4j/graphdb/factory/GraphDatabaseBuilder.setConfig:(Lorg/neo4j/graphdb/config/Setting;Ljava/lang/String;)Lorg/neo4j/graphdb/factory/GraphDatabaseBuilder;
      25: getstatic     #56                 // Field org/neo4j/graphdb/factory/GraphDatabaseSettings.record_format:Lorg/neo4j/graphdb/config/Setting;
      28: aload_1
      29: invokevirtual #55                 // Method org/neo4j/graphdb/factory/GraphDatabaseBuilder.setConfig:(Lorg/neo4j/graphdb/config/Setting;Ljava/lang/String;)Lorg/neo4j/graphdb/factory/GraphDatabaseBuilder;
      32: getstatic     #57                 // Field org/neo4j/kernel/impl/enterprise/configuration/OnlineBackupSettings.online_backup_enabled:Lorg/neo4j/graphdb/config/Setting;
      35: ldc           #58                 // String false
      37: invokevirtual #55                 // Method org/neo4j/graphdb/factory/GraphDatabaseBuilder.setConfig:(Lorg/neo4j/graphdb/config/Setting;Ljava/lang/String;)Lorg/neo4j/graphdb/factory/GraphDatabaseBuilder;
      40: invokevirtual #59                 // Method org/neo4j/graphdb/factory/GraphDatabaseBuilder.newGraphDatabase:()Lorg/neo4j/graphdb/GraphDatabaseService;
      43: areturn

  private void assertLatestStandardStore() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getstatic     #60                 // Field org/neo4j/kernel/impl/store/format/standard/Standard.LATEST_RECORD_FORMATS:Lorg/neo4j/kernel/impl/store/format/RecordFormats;
       4: invokespecial #22                 // Method assertStoreFormat:(Lorg/neo4j/kernel/impl/store/format/RecordFormats;)V
       7: return

  private void assertLatestHighLimitStore() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getstatic     #61                 // Field org/neo4j/kernel/impl/store/format/highlimit/HighLimit.RECORD_FORMATS:Lorg/neo4j/kernel/impl/store/format/RecordFormats;
       4: invokespecial #22                 // Method assertStoreFormat:(Lorg/neo4j/kernel/impl/store/format/RecordFormats;)V
       7: return

  private void assertStoreFormat(org.neo4j.kernel.impl.store.format.RecordFormats) throws java.lang.Exception;
    Code:
       0: getstatic     #62                 // Field org/neo4j/graphdb/factory/GraphDatabaseSettings.pagecache_memory:Lorg/neo4j/graphdb/config/Setting;
       3: ldc           #63                 // String 8m
       5: invokestatic  #64                 // Method org/neo4j/kernel/configuration/Config.defaults:(Lorg/neo4j/graphdb/config/Setting;Ljava/lang/String;)Lorg/neo4j/kernel/configuration/Config;
       8: astore_2
       9: new           #65                 // class org/neo4j/scheduler/ThreadPoolJobScheduler
      12: dup
      13: invokespecial #66                 // Method org/neo4j/scheduler/ThreadPoolJobScheduler."<init>":()V
      16: astore_3
      17: aconst_null
      18: astore        4
      20: aload_0
      21: getfield      #4                  // Field fileSystemRule:Lorg/neo4j/test/rule/fs/DefaultFileSystemRule;
      24: invokevirtual #5                  // Method org/neo4j/test/rule/fs/DefaultFileSystemRule.get:()Lorg/neo4j/io/fs/FileSystemAbstraction;
      27: aload_2
      28: aload_3
      29: invokestatic  #67                 // Method org/neo4j/kernel/impl/pagecache/ConfigurableStandalonePageCacheFactory.createPageCache:(Lorg/neo4j/io/fs/FileSystemAbstraction;Lorg/neo4j/kernel/configuration/Config;Lorg/neo4j/scheduler/JobScheduler;)Lorg/neo4j/io/pagecache/PageCache;
      32: astore        5
      34: aconst_null
      35: astore        6
      37: aload_2
      38: aload_0
      39: getfield      #7                  // Field testDirectory:Lorg/neo4j/test/rule/TestDirectory;
      42: invokevirtual #68                 // Method org/neo4j/test/rule/TestDirectory.databaseLayout:()Lorg/neo4j/io/layout/DatabaseLayout;
      45: aload_0
      46: getfield      #4                  // Field fileSystemRule:Lorg/neo4j/test/rule/fs/DefaultFileSystemRule;
      49: aload         5
      51: invokestatic  #69                 // Method org/neo4j/logging/NullLogProvider.getInstance:()Lorg/neo4j/logging/NullLogProvider;
      54: invokestatic  #70                 // Method org/neo4j/kernel/impl/store/format/RecordFormatSelector.selectForStoreOrConfig:(Lorg/neo4j/kernel/configuration/Config;Lorg/neo4j/io/layout/DatabaseLayout;Lorg/neo4j/io/fs/FileSystemAbstraction;Lorg/neo4j/io/pagecache/PageCache;Lorg/neo4j/logging/LogProvider;)Lorg/neo4j/kernel/impl/store/format/RecordFormats;
      57: astore        7
      59: aload         7
      61: invokestatic  #43                 // Method org/junit/Assert.assertNotNull:(Ljava/lang/Object;)V
      64: aload_1
      65: invokeinterface #71,  1           // InterfaceMethod org/neo4j/kernel/impl/store/format/RecordFormats.storeVersion:()Ljava/lang/String;
      70: aload         7
      72: invokeinterface #71,  1           // InterfaceMethod org/neo4j/kernel/impl/store/format/RecordFormats.storeVersion:()Ljava/lang/String;
      77: invokestatic  #72                 // Method org/junit/Assert.assertEquals:(Ljava/lang/Object;Ljava/lang/Object;)V
      80: aload         5
      82: ifnull        175
      85: aload         6
      87: ifnull        112
      90: aload         5
      92: invokeinterface #73,  1           // InterfaceMethod org/neo4j/io/pagecache/PageCache.close:()V
      97: goto          175
     100: astore        7
     102: aload         6
     104: aload         7
     106: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     109: goto          175
     112: aload         5
     114: invokeinterface #73,  1           // InterfaceMethod org/neo4j/io/pagecache/PageCache.close:()V
     119: goto          175
     122: astore        7
     124: aload         7
     126: astore        6
     128: aload         7
     130: athrow
     131: astore        8
     133: aload         5
     135: ifnull        172
     138: aload         6
     140: ifnull        165
     143: aload         5
     145: invokeinterface #73,  1           // InterfaceMethod org/neo4j/io/pagecache/PageCache.close:()V
     150: goto          172
     153: astore        9
     155: aload         6
     157: aload         9
     159: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     162: goto          172
     165: aload         5
     167: invokeinterface #73,  1           // InterfaceMethod org/neo4j/io/pagecache/PageCache.close:()V
     172: aload         8
     174: athrow
     175: aload_3
     176: ifnull        264
     179: aload         4
     181: ifnull        205
     184: aload_3
     185: invokeinterface #74,  1           // InterfaceMethod org/neo4j/scheduler/JobScheduler.close:()V
     190: goto          264
     193: astore        5
     195: aload         4
     197: aload         5
     199: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     202: goto          264
     205: aload_3
     206: invokeinterface #74,  1           // InterfaceMethod org/neo4j/scheduler/JobScheduler.close:()V
     211: goto          264
     214: astore        5
     216: aload         5
     218: astore        4
     220: aload         5
     222: athrow
     223: astore        10
     225: aload_3
     226: ifnull        261
     229: aload         4
     231: ifnull        255
     234: aload_3
     235: invokeinterface #74,  1           // InterfaceMethod org/neo4j/scheduler/JobScheduler.close:()V
     240: goto          261
     243: astore        11
     245: aload         4
     247: aload         11
     249: invokevirtual #41                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     252: goto          261
     255: aload_3
     256: invokeinterface #74,  1           // InterfaceMethod org/neo4j/scheduler/JobScheduler.close:()V
     261: aload         10
     263: athrow
     264: return
    Exception table:
       from    to  target type
          90    97   100   Class java/lang/Throwable
          37    80   122   Class java/lang/Throwable
          37    80   131   any
         143   150   153   Class java/lang/Throwable
         122   133   131   any
         184   190   193   Class java/lang/Throwable
          20   175   214   Class java/lang/Throwable
          20   175   223   any
         234   240   243   Class java/lang/Throwable
         214   225   223   any

  private static void executeAndStopDb(org.neo4j.graphdb.GraphDatabaseService, java.util.function.Consumer<org.neo4j.graphdb.GraphDatabaseService>);
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #75,  2           // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V
       7: aload_0
       8: invokeinterface #76,  1           // InterfaceMethod org/neo4j/graphdb/GraphDatabaseService.shutdown:()V
      13: goto          25
      16: astore_2
      17: aload_0
      18: invokeinterface #76,  1           // InterfaceMethod org/neo4j/graphdb/GraphDatabaseService.shutdown:()V
      23: aload_2
      24: athrow
      25: return
    Exception table:
       from    to  target type
           0     7    16   any

  static {};
    Code:
       0: ldc           #77                 // String Centipede
       2: invokestatic  #78                 // InterfaceMethod org/neo4j/graphdb/Label.label:(Ljava/lang/String;)Lorg/neo4j/graphdb/Label;
       5: putstatic     #32                 // Field LABEL:Lorg/neo4j/graphdb/Label;
       8: return
}
