Compiled from "AbstractServiceTestSupport.java"
public class net.nemerosa.ontrack.it.AbstractServiceTestSupport$AccountCall<T extends net.nemerosa.ontrack.it.AbstractServiceTestSupport$AccountCall<T>> extends net.nemerosa.ontrack.it.AbstractServiceTestSupport$AbstractContextCall {
  protected final net.nemerosa.ontrack.model.security.Account account;

  public net.nemerosa.ontrack.it.AbstractServiceTestSupport$AccountCall(net.nemerosa.ontrack.model.security.Account);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method net/nemerosa/ontrack/it/AbstractServiceTestSupport$AbstractContextCall."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field account:Lnet/nemerosa/ontrack/model/security/Account;
       9: return

  public net.nemerosa.ontrack.it.AbstractServiceTestSupport$AccountCall(java.lang.String, net.nemerosa.ontrack.model.security.SecurityRole);
    Code:
       0: aload_0
       1: aload_1
       2: aload_1
       3: new           #3                  // class java/lang/StringBuilder
       6: dup
       7: invokespecial #4                  // Method java/lang/StringBuilder."<init>":()V
      10: aload_1
      11: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      14: ldc           #6                  // String @test.com
      16: invokevirtual #5                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      19: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      22: aload_2
      23: invokestatic  #8                  // Method net/nemerosa/ontrack/model/security/AuthenticationSource.none:()Lnet/nemerosa/ontrack/model/security/AuthenticationSource;
      26: invokestatic  #9                  // Method net/nemerosa/ontrack/model/security/Account.of:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lnet/nemerosa/ontrack/model/security/SecurityRole;Lnet/nemerosa/ontrack/model/security/AuthenticationSource;)Lnet/nemerosa/ontrack/model/security/Account;
      29: invokespecial #10                 // Method "<init>":(Lnet/nemerosa/ontrack/model/security/Account;)V
      32: return

  public T with(java.lang.Class<? extends net.nemerosa.ontrack.model.security.GlobalFunction>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field account:Lnet/nemerosa/ontrack/model/security/Account;
       4: new           #11                 // class net/nemerosa/ontrack/model/security/GlobalRole
       7: dup
       8: ldc           #12                 // String test
      10: ldc           #13                 // String Test global role
      12: ldc           #14                 // String
      14: aload_1
      15: invokestatic  #15                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      18: invokestatic  #16                 // Method java/util/Collections.emptySet:()Ljava/util/Set;
      21: invokespecial #17                 // Method net/nemerosa/ontrack/model/security/GlobalRole."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/util/Set;Ljava/util/Set;)V
      24: invokestatic  #18                 // Method java/util/Optional.of:(Ljava/lang/Object;)Ljava/util/Optional;
      27: invokevirtual #19                 // Method net/nemerosa/ontrack/model/security/Account.withGlobalRole:(Ljava/util/Optional;)Lnet/nemerosa/ontrack/model/security/Account;
      30: pop
      31: aload_0
      32: areturn

  public T with(int, java.lang.Class<? extends net.nemerosa.ontrack.model.security.ProjectFunction>);
    Code:
       0: aload_0
       1: getfield      #2                  // Field account:Lnet/nemerosa/ontrack/model/security/Account;
       4: new           #20                 // class net/nemerosa/ontrack/model/security/ProjectRoleAssociation
       7: dup
       8: iload_1
       9: new           #21                 // class net/nemerosa/ontrack/model/security/ProjectRole
      12: dup
      13: ldc           #12                 // String test
      15: ldc           #22                 // String Test
      17: ldc           #14                 // String
      19: aload_2
      20: invokestatic  #15                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      23: invokespecial #23                 // Method net/nemerosa/ontrack/model/security/ProjectRole."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/util/Set;)V
      26: invokespecial #24                 // Method net/nemerosa/ontrack/model/security/ProjectRoleAssociation."<init>":(ILnet/nemerosa/ontrack/model/security/ProjectRole;)V
      29: invokevirtual #25                 // Method net/nemerosa/ontrack/model/security/Account.withProjectRole:(Lnet/nemerosa/ontrack/model/security/ProjectRoleAssociation;)Lnet/nemerosa/ontrack/model/security/Account;
      32: pop
      33: aload_0
      34: areturn

  public T with(net.nemerosa.ontrack.model.structure.ProjectEntity, java.lang.Class<? extends net.nemerosa.ontrack.model.security.ProjectFunction>);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #26,  1           // InterfaceMethod net/nemerosa/ontrack/model/structure/ProjectEntity.projectId:()I
       7: aload_2
       8: invokevirtual #27                 // Method with:(ILjava/lang/Class;)Lnet/nemerosa/ontrack/it/AbstractServiceTestSupport$AccountCall;
      11: areturn

  public T withView(net.nemerosa.ontrack.model.structure.ProjectEntity);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #28                 // class net/nemerosa/ontrack/model/security/ProjectView
       4: invokevirtual #29                 // Method with:(Lnet/nemerosa/ontrack/model/structure/ProjectEntity;Ljava/lang/Class;)Lnet/nemerosa/ontrack/it/AbstractServiceTestSupport$AccountCall;
       7: areturn

  protected void contextSetup();
    Code:
       0: new           #30                 // class org/springframework/security/core/context/SecurityContextImpl
       3: dup
       4: invokespecial #31                 // Method org/springframework/security/core/context/SecurityContextImpl."<init>":()V
       7: astore_1
       8: new           #32                 // class org/springframework/security/authentication/TestingAuthenticationToken
      11: dup
      12: aload_0
      13: invokedynamic #33,  0             // InvokeDynamic #0:getAccount:(Lnet/nemerosa/ontrack/it/AbstractServiceTestSupport$AccountCall;)Lnet/nemerosa/ontrack/model/security/AccountHolder;
      18: ldc           #14                 // String
      20: iconst_1
      21: anewarray     #34                 // class java/lang/String
      24: dup
      25: iconst_0
      26: aload_0
      27: getfield      #2                  // Field account:Lnet/nemerosa/ontrack/model/security/Account;
      30: invokevirtual #35                 // Method net/nemerosa/ontrack/model/security/Account.getRole:()Lnet/nemerosa/ontrack/model/security/SecurityRole;
      33: invokevirtual #36                 // Method net/nemerosa/ontrack/model/security/SecurityRole.name:()Ljava/lang/String;
      36: aastore
      37: invokespecial #37                 // Method org/springframework/security/authentication/TestingAuthenticationToken."<init>":(Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/String;)V
      40: astore_2
      41: aload_1
      42: aload_2
      43: invokeinterface #38,  2           // InterfaceMethod org/springframework/security/core/context/SecurityContext.setAuthentication:(Lorg/springframework/security/core/Authentication;)V
      48: aload_1
      49: invokestatic  #39                 // Method org/springframework/security/core/context/SecurityContextHolder.setContext:(Lorg/springframework/security/core/context/SecurityContext;)V
      52: return

  private net.nemerosa.ontrack.model.security.Account lambda$contextSetup$10();
    Code:
       0: aload_0
       1: getfield      #2                  // Field account:Lnet/nemerosa/ontrack/model/security/Account;
       4: areturn
}
