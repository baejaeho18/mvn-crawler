Compiled from "JdbcMachineIdDistributor.java"
public class me.ahoo.cosid.jdbc.JdbcMachineIdDistributor extends me.ahoo.cosid.machine.AbstractMachineIdDistributor {
  private static final org.slf4j.Logger log;

  private final javax.sql.DataSource dataSource;

  private static final java.lang.String GET_MACHINE_STATE;

  private static final java.lang.String GET_REVERT_MACHINE_STATE;

  private static final java.lang.String DISTRIBUTE_REVERT_MACHINE_STATE;

  private static final java.lang.String NEXT_MACHINE_ID;

  private static final java.lang.String DISTRIBUTE_MACHINE;

  private static final java.lang.String REVERT_MACHINE_STATE;

  private static final java.lang.String GUARD_MACHINE_STATE;

  public me.ahoo.cosid.jdbc.JdbcMachineIdDistributor(javax.sql.DataSource, me.ahoo.cosid.machine.MachineStateStorage, me.ahoo.cosid.machine.ClockBackwardsSynchronizer);
    Code:
       0: aload_0
       1: aload_2
       2: aload_3
       3: invokespecial #1                  // Method me/ahoo/cosid/machine/AbstractMachineIdDistributor."<init>":(Lme/ahoo/cosid/machine/MachineStateStorage;Lme/ahoo/cosid/machine/ClockBackwardsSynchronizer;)V
       6: aload_0
       7: aload_1
       8: putfield      #2                  // Field dataSource:Ljavax/sql/DataSource;
      11: return

  private int distributeRevertMachineState(java.sql.Connection, java.lang.String, int, me.ahoo.cosid.machine.InstanceId, java.time.Duration) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: ldc           #4                  // String update cosid_machine set instance_id=?,last_timestamp=?,distribute_time=? where name=? and (instance_id=\'\' or last_timestamp<=?)
       3: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
       8: astore        6
      10: aconst_null
      11: astore        7
      13: aload         6
      15: iconst_1
      16: aload         4
      18: invokevirtual #6                  // Method me/ahoo/cosid/machine/InstanceId.getInstanceId:()Ljava/lang/String;
      21: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      26: aload         6
      28: iconst_2
      29: invokestatic  #8                  // Method java/lang/System.currentTimeMillis:()J
      32: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
      37: aload         6
      39: iconst_3
      40: invokestatic  #8                  // Method java/lang/System.currentTimeMillis:()J
      43: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
      48: aload         6
      50: iconst_4
      51: aload_2
      52: iload_3
      53: invokestatic  #10                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.namespacedMachineId:(Ljava/lang/String;I)Ljava/lang/String;
      56: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      61: aload         6
      63: iconst_5
      64: aload         5
      66: aload         4
      68: invokevirtual #11                 // Method me/ahoo/cosid/machine/InstanceId.isStable:()Z
      71: invokestatic  #12                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.getSafeGuardAt:(Ljava/time/Duration;Z)J
      74: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
      79: aload         6
      81: invokeinterface #13,  1           // InterfaceMethod java/sql/PreparedStatement.executeUpdate:()I
      86: istore        8
      88: iload         8
      90: istore        9
      92: aload         6
      94: ifnull        131
      97: aload         7
      99: ifnull        124
     102: aload         6
     104: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     109: goto          131
     112: astore        10
     114: aload         7
     116: aload         10
     118: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     121: goto          131
     124: aload         6
     126: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     131: iload         9
     133: ireturn
     134: astore        8
     136: aload         8
     138: astore        7
     140: aload         8
     142: athrow
     143: astore        11
     145: aload         6
     147: ifnull        184
     150: aload         7
     152: ifnull        177
     155: aload         6
     157: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     162: goto          184
     165: astore        12
     167: aload         7
     169: aload         12
     171: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     174: goto          184
     177: aload         6
     179: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     184: aload         11
     186: athrow
    Exception table:
       from    to  target type
         102   109   112   Class java/lang/Throwable
          13    92   134   Class java/lang/Throwable
          13    92   143   any
         155   162   165   Class java/lang/Throwable
         134   145   143   any

  private int nextMachineId(java.sql.Connection, java.lang.String) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: ldc           #17                 // String select max(machine_id)+1 as next_machine_id from cosid_machine where namespace=?
       3: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
       8: astore_3
       9: aconst_null
      10: astore        4
      12: aload_3
      13: iconst_1
      14: aload_2
      15: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      20: aload_3
      21: invokeinterface #18,  1           // InterfaceMethod java/sql/PreparedStatement.executeQuery:()Ljava/sql/ResultSet;
      26: astore        5
      28: aconst_null
      29: astore        6
      31: aload         5
      33: invokeinterface #19,  1           // InterfaceMethod java/sql/ResultSet.next:()Z
      38: ifeq          129
      41: aload         5
      43: iconst_1
      44: invokeinterface #20,  2           // InterfaceMethod java/sql/ResultSet.getInt:(I)I
      49: istore        7
      51: aload         5
      53: ifnull        90
      56: aload         6
      58: ifnull        83
      61: aload         5
      63: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
      68: goto          90
      71: astore        8
      73: aload         6
      75: aload         8
      77: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
      80: goto          90
      83: aload         5
      85: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
      90: aload_3
      91: ifnull        126
      94: aload         4
      96: ifnull        120
      99: aload_3
     100: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     105: goto          126
     108: astore        8
     110: aload         4
     112: aload         8
     114: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     117: goto          126
     120: aload_3
     121: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     126: iload         7
     128: ireturn
     129: iconst_0
     130: istore        7
     132: aload         5
     134: ifnull        171
     137: aload         6
     139: ifnull        164
     142: aload         5
     144: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     149: goto          171
     152: astore        8
     154: aload         6
     156: aload         8
     158: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     161: goto          171
     164: aload         5
     166: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     171: aload_3
     172: ifnull        207
     175: aload         4
     177: ifnull        201
     180: aload_3
     181: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     186: goto          207
     189: astore        8
     191: aload         4
     193: aload         8
     195: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     198: goto          207
     201: aload_3
     202: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     207: iload         7
     209: ireturn
     210: astore        7
     212: aload         7
     214: astore        6
     216: aload         7
     218: athrow
     219: astore        9
     221: aload         5
     223: ifnull        260
     226: aload         6
     228: ifnull        253
     231: aload         5
     233: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     238: goto          260
     241: astore        10
     243: aload         6
     245: aload         10
     247: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     250: goto          260
     253: aload         5
     255: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     260: aload         9
     262: athrow
     263: astore        5
     265: aload         5
     267: astore        4
     269: aload         5
     271: athrow
     272: astore        11
     274: aload_3
     275: ifnull        310
     278: aload         4
     280: ifnull        304
     283: aload_3
     284: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     289: goto          310
     292: astore        12
     294: aload         4
     296: aload         12
     298: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     301: goto          310
     304: aload_3
     305: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     310: aload         11
     312: athrow
    Exception table:
       from    to  target type
          61    68    71   Class java/lang/Throwable
          99   105   108   Class java/lang/Throwable
         142   149   152   Class java/lang/Throwable
         180   186   189   Class java/lang/Throwable
          31    51   210   Class java/lang/Throwable
         129   132   210   Class java/lang/Throwable
          31    51   219   any
         129   132   219   any
         231   238   241   Class java/lang/Throwable
         210   221   219   any
          12    90   263   Class java/lang/Throwable
         129   171   263   Class java/lang/Throwable
         210   263   263   Class java/lang/Throwable
          12    90   272   any
         129   171   272   any
         283   289   292   Class java/lang/Throwable
         210   274   272   any

  protected me.ahoo.cosid.machine.MachineState distributeRemote(java.lang.String, int, me.ahoo.cosid.machine.InstanceId, java.time.Duration);
    Code:
       0: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isInfoEnabled:()Z
       8: ifeq          40
      11: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
      14: ldc           #24                 // String Distribute Remote instanceId:[{}] - machineBit:[{}] @ namespace:[{}].
      16: iconst_3
      17: anewarray     #25                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_3
      23: aastore
      24: dup
      25: iconst_1
      26: iload_2
      27: invokestatic  #26                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      30: aastore
      31: dup
      32: iconst_2
      33: aload_1
      34: aastore
      35: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      40: aload_0
      41: getfield      #2                  // Field dataSource:Ljavax/sql/DataSource;
      44: invokeinterface #28,  1           // InterfaceMethod javax/sql/DataSource.getConnection:()Ljava/sql/Connection;
      49: astore        5
      51: aconst_null
      52: astore        6
      54: aload_0
      55: aload_1
      56: aload_3
      57: aload         5
      59: aload         4
      61: invokespecial #29                 // Method distributeBySelf:(Ljava/lang/String;Lme/ahoo/cosid/machine/InstanceId;Ljava/sql/Connection;Ljava/time/Duration;)Lme/ahoo/cosid/machine/MachineState;
      64: astore        7
      66: aload         7
      68: ifnull        117
      71: aload         7
      73: astore        8
      75: aload         5
      77: ifnull        114
      80: aload         6
      82: ifnull        107
      85: aload         5
      87: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
      92: goto          114
      95: astore        9
      97: aload         6
      99: aload         9
     101: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     104: goto          114
     107: aload         5
     109: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     114: aload         8
     116: areturn
     117: aload_0
     118: aload_1
     119: aload_3
     120: aload         5
     122: aload         4
     124: invokespecial #31                 // Method distributeByRevert:(Ljava/lang/String;Lme/ahoo/cosid/machine/InstanceId;Ljava/sql/Connection;Ljava/time/Duration;)Lme/ahoo/cosid/machine/MachineState;
     127: astore        7
     129: aload         7
     131: ifnull        180
     134: aload         7
     136: astore        8
     138: aload         5
     140: ifnull        177
     143: aload         6
     145: ifnull        170
     148: aload         5
     150: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     155: goto          177
     158: astore        9
     160: aload         6
     162: aload         9
     164: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     167: goto          177
     170: aload         5
     172: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     177: aload         8
     179: areturn
     180: aload_0
     181: aload_1
     182: iload_2
     183: aload_3
     184: aload         5
     186: invokespecial #32                 // Method distributeMachine:(Ljava/lang/String;ILme/ahoo/cosid/machine/InstanceId;Ljava/sql/Connection;)Lme/ahoo/cosid/machine/MachineState;
     189: astore        8
     191: aload         5
     193: ifnull        230
     196: aload         6
     198: ifnull        223
     201: aload         5
     203: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     208: goto          230
     211: astore        9
     213: aload         6
     215: aload         9
     217: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     220: goto          230
     223: aload         5
     225: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     230: aload         8
     232: areturn
     233: astore        7
     235: aload         7
     237: astore        6
     239: aload         7
     241: athrow
     242: astore        10
     244: aload         5
     246: ifnull        283
     249: aload         6
     251: ifnull        276
     254: aload         5
     256: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     261: goto          283
     264: astore        11
     266: aload         6
     268: aload         11
     270: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     273: goto          283
     276: aload         5
     278: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     283: aload         10
     285: athrow
     286: astore        5
     288: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     291: invokeinterface #34,  1           // InterfaceMethod org/slf4j/Logger.isErrorEnabled:()Z
     296: ifeq          314
     299: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     302: aload         5
     304: invokevirtual #35                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     307: aload         5
     309: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     314: new           #37                 // class me/ahoo/cosid/CosIdException
     317: dup
     318: aload         5
     320: invokevirtual #35                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     323: aload         5
     325: invokespecial #38                 // Method me/ahoo/cosid/CosIdException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     328: athrow
    Exception table:
       from    to  target type
          85    92    95   Class java/lang/Throwable
         148   155   158   Class java/lang/Throwable
         201   208   211   Class java/lang/Throwable
          54    75   233   Class java/lang/Throwable
         117   138   233   Class java/lang/Throwable
         180   191   233   Class java/lang/Throwable
          54    75   242   any
         117   138   242   any
         180   191   242   any
         254   261   264   Class java/lang/Throwable
         233   244   242   any
          40   114   286   Class java/sql/SQLException
         117   177   286   Class java/sql/SQLException
         180   230   286   Class java/sql/SQLException
         233   286   286   Class java/sql/SQLException

  private me.ahoo.cosid.machine.MachineState distributeMachine(java.lang.String, int, me.ahoo.cosid.machine.InstanceId, java.sql.Connection) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload         4
       3: aload_1
       4: invokespecial #39                 // Method nextMachineId:(Ljava/sql/Connection;Ljava/lang/String;)I
       7: istore        5
       9: iload         5
      11: iload_2
      12: invokestatic  #40                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.maxMachineId:(I)I
      15: if_icmple     31
      18: new           #41                 // class me/ahoo/cosid/machine/MachineIdOverflowException
      21: dup
      22: iload_2
      23: invokestatic  #42                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.totalMachineIds:(I)I
      26: aload_3
      27: invokespecial #43                 // Method me/ahoo/cosid/machine/MachineIdOverflowException."<init>":(ILme/ahoo/cosid/machine/InstanceId;)V
      30: athrow
      31: iload         5
      33: invokestatic  #8                  // Method java/lang/System.currentTimeMillis:()J
      36: invokestatic  #44                 // Method me/ahoo/cosid/machine/MachineState.of:(IJ)Lme/ahoo/cosid/machine/MachineState;
      39: astore        6
      41: aload         4
      43: ldc           #45                 // String insert into cosid_machine (name, namespace, machine_id, last_timestamp, instance_id, distribute_time, revert_time) values (?,?,?,?,?,?,0);
      45: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
      50: astore        7
      52: aconst_null
      53: astore        8
      55: aload         7
      57: iconst_1
      58: aload_1
      59: iload         5
      61: invokestatic  #10                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.namespacedMachineId:(Ljava/lang/String;I)Ljava/lang/String;
      64: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      69: aload         7
      71: iconst_2
      72: aload_1
      73: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      78: aload         7
      80: iconst_3
      81: iload         5
      83: invokeinterface #46,  3           // InterfaceMethod java/sql/PreparedStatement.setInt:(II)V
      88: aload         7
      90: iconst_4
      91: aload         6
      93: invokevirtual #47                 // Method me/ahoo/cosid/machine/MachineState.getLastTimeStamp:()J
      96: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
     101: aload         7
     103: iconst_5
     104: aload_3
     105: invokevirtual #6                  // Method me/ahoo/cosid/machine/InstanceId.getInstanceId:()Ljava/lang/String;
     108: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
     113: aload         7
     115: bipush        6
     117: invokestatic  #8                  // Method java/lang/System.currentTimeMillis:()J
     120: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
     125: aload         7
     127: invokeinterface #13,  1           // InterfaceMethod java/sql/PreparedStatement.executeUpdate:()I
     132: pop
     133: aload         6
     135: astore        9
     137: aload         7
     139: ifnull        176
     142: aload         8
     144: ifnull        169
     147: aload         7
     149: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     154: goto          176
     157: astore        10
     159: aload         8
     161: aload         10
     163: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     166: goto          176
     169: aload         7
     171: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     176: aload         9
     178: areturn
     179: astore        9
     181: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     184: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isInfoEnabled:()Z
     189: ifeq          207
     192: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     195: ldc           #49                 // String Distribute Machine [{}]
     197: aload         9
     199: invokevirtual #50                 // Method java/sql/SQLIntegrityConstraintViolationException.getMessage:()Ljava/lang/String;
     202: invokeinterface #51,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     207: aload_0
     208: aload_1
     209: iload_2
     210: aload_3
     211: aload         4
     213: invokespecial #32                 // Method distributeMachine:(Ljava/lang/String;ILme/ahoo/cosid/machine/InstanceId;Ljava/sql/Connection;)Lme/ahoo/cosid/machine/MachineState;
     216: astore        10
     218: aload         7
     220: ifnull        257
     223: aload         8
     225: ifnull        250
     228: aload         7
     230: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     235: goto          257
     238: astore        11
     240: aload         8
     242: aload         11
     244: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     247: goto          257
     250: aload         7
     252: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     257: aload         10
     259: areturn
     260: astore        9
     262: aload         9
     264: astore        8
     266: aload         9
     268: athrow
     269: astore        12
     271: aload         7
     273: ifnull        310
     276: aload         8
     278: ifnull        303
     281: aload         7
     283: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     288: goto          310
     291: astore        13
     293: aload         8
     295: aload         13
     297: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     300: goto          310
     303: aload         7
     305: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     310: aload         12
     312: athrow
    Exception table:
       from    to  target type
         147   154   157   Class java/lang/Throwable
         125   137   179   Class java/sql/SQLIntegrityConstraintViolationException
         228   235   238   Class java/lang/Throwable
          55   137   260   Class java/lang/Throwable
         179   218   260   Class java/lang/Throwable
          55   137   269   any
         179   218   269   any
         281   288   291   Class java/lang/Throwable
         260   271   269   any

  private me.ahoo.cosid.machine.MachineState distributeByRevert(java.lang.String, me.ahoo.cosid.machine.InstanceId, java.sql.Connection, java.time.Duration) throws java.sql.SQLException;
    Code:
       0: aload_3
       1: ldc           #52                 // String select machine_id, last_timestamp from cosid_machine where namespace=? and (instance_id=\'\' or last_timestamp<=?)
       3: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
       8: astore        5
      10: aconst_null
      11: astore        6
      13: aload         5
      15: iconst_1
      16: aload_1
      17: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      22: aload         5
      24: iconst_2
      25: aload         4
      27: aload_2
      28: invokevirtual #11                 // Method me/ahoo/cosid/machine/InstanceId.isStable:()Z
      31: invokestatic  #12                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.getSafeGuardAt:(Ljava/time/Duration;Z)J
      34: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
      39: aload         5
      41: invokeinterface #18,  1           // InterfaceMethod java/sql/PreparedStatement.executeQuery:()Ljava/sql/ResultSet;
      46: astore        7
      48: aconst_null
      49: astore        8
      51: aload         7
      53: invokeinterface #19,  1           // InterfaceMethod java/sql/ResultSet.next:()Z
      58: ifeq          185
      61: aload         7
      63: iconst_1
      64: invokeinterface #20,  2           // InterfaceMethod java/sql/ResultSet.getInt:(I)I
      69: istore        9
      71: aload         7
      73: iconst_2
      74: invokeinterface #53,  2           // InterfaceMethod java/sql/ResultSet.getLong:(I)J
      79: lstore        10
      81: aload_0
      82: aload_3
      83: aload_1
      84: iload         9
      86: aload_2
      87: aload         4
      89: invokespecial #54                 // Method distributeRevertMachineState:(Ljava/sql/Connection;Ljava/lang/String;ILme/ahoo/cosid/machine/InstanceId;Ljava/time/Duration;)I
      92: ifle          185
      95: iload         9
      97: lload         10
      99: invokestatic  #44                 // Method me/ahoo/cosid/machine/MachineState.of:(IJ)Lme/ahoo/cosid/machine/MachineState;
     102: astore        12
     104: aload         7
     106: ifnull        143
     109: aload         8
     111: ifnull        136
     114: aload         7
     116: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     121: goto          143
     124: astore        13
     126: aload         8
     128: aload         13
     130: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     133: goto          143
     136: aload         7
     138: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     143: aload         5
     145: ifnull        182
     148: aload         6
     150: ifnull        175
     153: aload         5
     155: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     160: goto          182
     163: astore        13
     165: aload         6
     167: aload         13
     169: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     172: goto          182
     175: aload         5
     177: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     182: aload         12
     184: areturn
     185: aload         7
     187: ifnull        280
     190: aload         8
     192: ifnull        217
     195: aload         7
     197: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     202: goto          280
     205: astore        9
     207: aload         8
     209: aload         9
     211: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     214: goto          280
     217: aload         7
     219: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     224: goto          280
     227: astore        9
     229: aload         9
     231: astore        8
     233: aload         9
     235: athrow
     236: astore        14
     238: aload         7
     240: ifnull        277
     243: aload         8
     245: ifnull        270
     248: aload         7
     250: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     255: goto          277
     258: astore        15
     260: aload         8
     262: aload         15
     264: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     267: goto          277
     270: aload         7
     272: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     277: aload         14
     279: athrow
     280: aload         5
     282: ifnull        375
     285: aload         6
     287: ifnull        312
     290: aload         5
     292: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     297: goto          375
     300: astore        7
     302: aload         6
     304: aload         7
     306: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     309: goto          375
     312: aload         5
     314: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     319: goto          375
     322: astore        7
     324: aload         7
     326: astore        6
     328: aload         7
     330: athrow
     331: astore        16
     333: aload         5
     335: ifnull        372
     338: aload         6
     340: ifnull        365
     343: aload         5
     345: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     350: goto          372
     353: astore        17
     355: aload         6
     357: aload         17
     359: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     362: goto          372
     365: aload         5
     367: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     372: aload         16
     374: athrow
     375: aconst_null
     376: areturn
    Exception table:
       from    to  target type
         114   121   124   Class java/lang/Throwable
         153   160   163   Class java/lang/Throwable
         195   202   205   Class java/lang/Throwable
          51   104   227   Class java/lang/Throwable
          51   104   236   any
         248   255   258   Class java/lang/Throwable
         227   238   236   any
         290   297   300   Class java/lang/Throwable
          13   143   322   Class java/lang/Throwable
         185   280   322   Class java/lang/Throwable
          13   143   331   any
         185   280   331   any
         343   350   353   Class java/lang/Throwable
         322   333   331   any

  private me.ahoo.cosid.machine.MachineState distributeBySelf(java.lang.String, me.ahoo.cosid.machine.InstanceId, java.sql.Connection, java.time.Duration) throws java.sql.SQLException;
    Code:
       0: aload_3
       1: ldc           #55                 // String select machine_id, last_timestamp from cosid_machine where namespace=? and instance_id=? and last_timestamp>?
       3: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
       8: astore        5
      10: aconst_null
      11: astore        6
      13: aload         5
      15: iconst_1
      16: aload_1
      17: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      22: aload         5
      24: iconst_2
      25: aload_2
      26: invokevirtual #6                  // Method me/ahoo/cosid/machine/InstanceId.getInstanceId:()Ljava/lang/String;
      29: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      34: aload         5
      36: iconst_3
      37: aload         4
      39: aload_2
      40: invokevirtual #11                 // Method me/ahoo/cosid/machine/InstanceId.isStable:()Z
      43: invokestatic  #12                 // InterfaceMethod me/ahoo/cosid/machine/MachineIdDistributor.getSafeGuardAt:(Ljava/time/Duration;Z)J
      46: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
      51: aload         5
      53: invokeinterface #18,  1           // InterfaceMethod java/sql/PreparedStatement.executeQuery:()Ljava/sql/ResultSet;
      58: astore        7
      60: aconst_null
      61: astore        8
      63: aload         7
      65: invokeinterface #19,  1           // InterfaceMethod java/sql/ResultSet.next:()Z
      70: ifeq          188
      73: aload         7
      75: iconst_1
      76: invokeinterface #20,  2           // InterfaceMethod java/sql/ResultSet.getInt:(I)I
      81: istore        9
      83: iload         9
      85: invokestatic  #8                  // Method java/lang/System.currentTimeMillis:()J
      88: invokestatic  #44                 // Method me/ahoo/cosid/machine/MachineState.of:(IJ)Lme/ahoo/cosid/machine/MachineState;
      91: astore        10
      93: aload_0
      94: aload_1
      95: aload_2
      96: aload         10
      98: aload         4
     100: invokevirtual #56                 // Method guardRemote:(Ljava/lang/String;Lme/ahoo/cosid/machine/InstanceId;Lme/ahoo/cosid/machine/MachineState;Ljava/time/Duration;)V
     103: aload         10
     105: astore        11
     107: aload         7
     109: ifnull        146
     112: aload         8
     114: ifnull        139
     117: aload         7
     119: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     124: goto          146
     127: astore        12
     129: aload         8
     131: aload         12
     133: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     136: goto          146
     139: aload         7
     141: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     146: aload         5
     148: ifnull        185
     151: aload         6
     153: ifnull        178
     156: aload         5
     158: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     163: goto          185
     166: astore        12
     168: aload         6
     170: aload         12
     172: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     175: goto          185
     178: aload         5
     180: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     185: aload         11
     187: areturn
     188: aload         7
     190: ifnull        283
     193: aload         8
     195: ifnull        220
     198: aload         7
     200: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     205: goto          283
     208: astore        9
     210: aload         8
     212: aload         9
     214: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     217: goto          283
     220: aload         7
     222: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     227: goto          283
     230: astore        9
     232: aload         9
     234: astore        8
     236: aload         9
     238: athrow
     239: astore        13
     241: aload         7
     243: ifnull        280
     246: aload         8
     248: ifnull        273
     251: aload         7
     253: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     258: goto          280
     261: astore        14
     263: aload         8
     265: aload         14
     267: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     270: goto          280
     273: aload         7
     275: invokeinterface #21,  1           // InterfaceMethod java/sql/ResultSet.close:()V
     280: aload         13
     282: athrow
     283: aload         5
     285: ifnull        378
     288: aload         6
     290: ifnull        315
     293: aload         5
     295: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     300: goto          378
     303: astore        7
     305: aload         6
     307: aload         7
     309: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     312: goto          378
     315: aload         5
     317: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     322: goto          378
     325: astore        7
     327: aload         7
     329: astore        6
     331: aload         7
     333: athrow
     334: astore        15
     336: aload         5
     338: ifnull        375
     341: aload         6
     343: ifnull        368
     346: aload         5
     348: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     353: goto          375
     356: astore        16
     358: aload         6
     360: aload         16
     362: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     365: goto          375
     368: aload         5
     370: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     375: aload         15
     377: athrow
     378: aconst_null
     379: areturn
    Exception table:
       from    to  target type
         117   124   127   Class java/lang/Throwable
         156   163   166   Class java/lang/Throwable
         198   205   208   Class java/lang/Throwable
          63   107   230   Class java/lang/Throwable
          63   107   239   any
         251   258   261   Class java/lang/Throwable
         230   241   239   any
         293   300   303   Class java/lang/Throwable
          13   146   325   Class java/lang/Throwable
         188   283   325   Class java/lang/Throwable
          13   146   334   any
         188   283   334   any
         346   353   356   Class java/lang/Throwable
         325   336   334   any

  protected void revertRemote(java.lang.String, me.ahoo.cosid.machine.InstanceId, me.ahoo.cosid.machine.MachineState);
    Code:
       0: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isInfoEnabled:()Z
       8: ifeq          37
      11: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
      14: ldc           #57                 // String Revert Remote [{}] instanceId:[{}] @ namespace:[{}].
      16: iconst_3
      17: anewarray     #25                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_3
      23: aastore
      24: dup
      25: iconst_1
      26: aload_2
      27: aastore
      28: dup
      29: iconst_2
      30: aload_1
      31: aastore
      32: invokeinterface #27,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;[Ljava/lang/Object;)V
      37: aload_0
      38: getfield      #2                  // Field dataSource:Ljavax/sql/DataSource;
      41: invokeinterface #28,  1           // InterfaceMethod javax/sql/DataSource.getConnection:()Ljava/sql/Connection;
      46: astore        4
      48: aconst_null
      49: astore        5
      51: aload         4
      53: ldc           #58                 // String update cosid_machine set instance_id=?,last_timestamp=?,revert_time=? where namespace=? and instance_id=?
      55: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
      60: astore        6
      62: aconst_null
      63: astore        7
      65: aload         6
      67: iconst_1
      68: aload_2
      69: invokevirtual #11                 // Method me/ahoo/cosid/machine/InstanceId.isStable:()Z
      72: ifeq          82
      75: aload_2
      76: invokevirtual #6                  // Method me/ahoo/cosid/machine/InstanceId.getInstanceId:()Ljava/lang/String;
      79: goto          84
      82: ldc           #59                 // String
      84: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      89: aload         6
      91: iconst_2
      92: aload_3
      93: invokevirtual #47                 // Method me/ahoo/cosid/machine/MachineState.getLastTimeStamp:()J
      96: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
     101: aload         6
     103: iconst_3
     104: invokestatic  #8                  // Method java/lang/System.currentTimeMillis:()J
     107: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
     112: aload         6
     114: iconst_4
     115: aload_1
     116: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
     121: aload         6
     123: iconst_5
     124: aload_2
     125: invokevirtual #6                  // Method me/ahoo/cosid/machine/InstanceId.getInstanceId:()Ljava/lang/String;
     128: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
     133: aload         6
     135: invokeinterface #13,  1           // InterfaceMethod java/sql/PreparedStatement.executeUpdate:()I
     140: istore        8
     142: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     145: invokeinterface #23,  1           // InterfaceMethod org/slf4j/Logger.isInfoEnabled:()Z
     150: ifeq          168
     153: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     156: ldc           #60                 // String Revert Remote affected:[{}]
     158: iload         8
     160: invokestatic  #26                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     163: invokeinterface #51,  3           // InterfaceMethod org/slf4j/Logger.info:(Ljava/lang/String;Ljava/lang/Object;)V
     168: aload         6
     170: ifnull        263
     173: aload         7
     175: ifnull        200
     178: aload         6
     180: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     185: goto          263
     188: astore        8
     190: aload         7
     192: aload         8
     194: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     197: goto          263
     200: aload         6
     202: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     207: goto          263
     210: astore        8
     212: aload         8
     214: astore        7
     216: aload         8
     218: athrow
     219: astore        9
     221: aload         6
     223: ifnull        260
     226: aload         7
     228: ifnull        253
     231: aload         6
     233: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     238: goto          260
     241: astore        10
     243: aload         7
     245: aload         10
     247: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     250: goto          260
     253: aload         6
     255: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     260: aload         9
     262: athrow
     263: aload         4
     265: ifnull        358
     268: aload         5
     270: ifnull        295
     273: aload         4
     275: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     280: goto          358
     283: astore        6
     285: aload         5
     287: aload         6
     289: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     292: goto          358
     295: aload         4
     297: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     302: goto          358
     305: astore        6
     307: aload         6
     309: astore        5
     311: aload         6
     313: athrow
     314: astore        11
     316: aload         4
     318: ifnull        355
     321: aload         5
     323: ifnull        348
     326: aload         4
     328: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     333: goto          355
     336: astore        12
     338: aload         5
     340: aload         12
     342: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     345: goto          355
     348: aload         4
     350: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     355: aload         11
     357: athrow
     358: goto          404
     361: astore        4
     363: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     366: invokeinterface #34,  1           // InterfaceMethod org/slf4j/Logger.isErrorEnabled:()Z
     371: ifeq          389
     374: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     377: aload         4
     379: invokevirtual #35                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     382: aload         4
     384: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     389: new           #37                 // class me/ahoo/cosid/CosIdException
     392: dup
     393: aload         4
     395: invokevirtual #35                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     398: aload         4
     400: invokespecial #38                 // Method me/ahoo/cosid/CosIdException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     403: athrow
     404: return
    Exception table:
       from    to  target type
         178   185   188   Class java/lang/Throwable
          65   168   210   Class java/lang/Throwable
          65   168   219   any
         231   238   241   Class java/lang/Throwable
         210   221   219   any
         273   280   283   Class java/lang/Throwable
          51   263   305   Class java/lang/Throwable
          51   263   314   any
         326   333   336   Class java/lang/Throwable
         305   316   314   any
          37   358   361   Class java/sql/SQLException

  protected void guardRemote(java.lang.String, me.ahoo.cosid.machine.InstanceId, me.ahoo.cosid.machine.MachineState, java.time.Duration);
    Code:
       0: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
       3: invokeinterface #61,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
       8: ifeq          37
      11: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
      14: ldc           #62                 // String Guard Remote - [{}] instanceId:[{}] @ namespace:[{}].
      16: iconst_3
      17: anewarray     #25                 // class java/lang/Object
      20: dup
      21: iconst_0
      22: aload_3
      23: aastore
      24: dup
      25: iconst_1
      26: aload_2
      27: aastore
      28: dup
      29: iconst_2
      30: aload_1
      31: aastore
      32: invokeinterface #63,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;[Ljava/lang/Object;)V
      37: aload_0
      38: getfield      #2                  // Field dataSource:Ljavax/sql/DataSource;
      41: invokeinterface #28,  1           // InterfaceMethod javax/sql/DataSource.getConnection:()Ljava/sql/Connection;
      46: astore        5
      48: aconst_null
      49: astore        6
      51: aload         5
      53: ldc           #64                 // String update cosid_machine set last_timestamp=? where namespace=? and instance_id=? and machine_id=?
      55: invokeinterface #5,  2            // InterfaceMethod java/sql/Connection.prepareStatement:(Ljava/lang/String;)Ljava/sql/PreparedStatement;
      60: astore        7
      62: aconst_null
      63: astore        8
      65: aload         7
      67: iconst_1
      68: aload_3
      69: invokevirtual #47                 // Method me/ahoo/cosid/machine/MachineState.getLastTimeStamp:()J
      72: invokeinterface #9,  4            // InterfaceMethod java/sql/PreparedStatement.setLong:(IJ)V
      77: aload         7
      79: iconst_2
      80: aload_1
      81: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      86: aload         7
      88: iconst_3
      89: aload_2
      90: invokevirtual #6                  // Method me/ahoo/cosid/machine/InstanceId.getInstanceId:()Ljava/lang/String;
      93: invokeinterface #7,  3            // InterfaceMethod java/sql/PreparedStatement.setString:(ILjava/lang/String;)V
      98: aload         7
     100: iconst_4
     101: aload_3
     102: invokevirtual #65                 // Method me/ahoo/cosid/machine/MachineState.getMachineId:()I
     105: invokeinterface #46,  3           // InterfaceMethod java/sql/PreparedStatement.setInt:(II)V
     110: aload         7
     112: invokeinterface #13,  1           // InterfaceMethod java/sql/PreparedStatement.executeUpdate:()I
     117: istore        9
     119: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     122: invokeinterface #61,  1           // InterfaceMethod org/slf4j/Logger.isDebugEnabled:()Z
     127: ifeq          145
     130: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     133: ldc           #66                 // String Guard Remote - affected:[{}]
     135: iload         9
     137: invokestatic  #26                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     140: invokeinterface #67,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
     145: iconst_0
     146: iload         9
     148: if_icmpne     162
     151: new           #68                 // class me/ahoo/cosid/machine/MachineIdLostException
     154: dup
     155: aload_1
     156: aload_2
     157: aload_3
     158: invokespecial #69                 // Method me/ahoo/cosid/machine/MachineIdLostException."<init>":(Ljava/lang/String;Lme/ahoo/cosid/machine/InstanceId;Lme/ahoo/cosid/machine/MachineState;)V
     161: athrow
     162: aload         7
     164: ifnull        257
     167: aload         8
     169: ifnull        194
     172: aload         7
     174: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     179: goto          257
     182: astore        9
     184: aload         8
     186: aload         9
     188: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     191: goto          257
     194: aload         7
     196: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     201: goto          257
     204: astore        9
     206: aload         9
     208: astore        8
     210: aload         9
     212: athrow
     213: astore        10
     215: aload         7
     217: ifnull        254
     220: aload         8
     222: ifnull        247
     225: aload         7
     227: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     232: goto          254
     235: astore        11
     237: aload         8
     239: aload         11
     241: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     244: goto          254
     247: aload         7
     249: invokeinterface #14,  1           // InterfaceMethod java/sql/PreparedStatement.close:()V
     254: aload         10
     256: athrow
     257: aload         5
     259: ifnull        352
     262: aload         6
     264: ifnull        289
     267: aload         5
     269: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     274: goto          352
     277: astore        7
     279: aload         6
     281: aload         7
     283: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     286: goto          352
     289: aload         5
     291: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     296: goto          352
     299: astore        7
     301: aload         7
     303: astore        6
     305: aload         7
     307: athrow
     308: astore        12
     310: aload         5
     312: ifnull        349
     315: aload         6
     317: ifnull        342
     320: aload         5
     322: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     327: goto          349
     330: astore        13
     332: aload         6
     334: aload         13
     336: invokevirtual #16                 // Method java/lang/Throwable.addSuppressed:(Ljava/lang/Throwable;)V
     339: goto          349
     342: aload         5
     344: invokeinterface #30,  1           // InterfaceMethod java/sql/Connection.close:()V
     349: aload         12
     351: athrow
     352: goto          398
     355: astore        5
     357: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     360: invokeinterface #34,  1           // InterfaceMethod org/slf4j/Logger.isErrorEnabled:()Z
     365: ifeq          383
     368: getstatic     #22                 // Field log:Lorg/slf4j/Logger;
     371: aload         5
     373: invokevirtual #35                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     376: aload         5
     378: invokeinterface #36,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Throwable;)V
     383: new           #37                 // class me/ahoo/cosid/CosIdException
     386: dup
     387: aload         5
     389: invokevirtual #35                 // Method java/sql/SQLException.getMessage:()Ljava/lang/String;
     392: aload         5
     394: invokespecial #38                 // Method me/ahoo/cosid/CosIdException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
     397: athrow
     398: return
    Exception table:
       from    to  target type
         172   179   182   Class java/lang/Throwable
          65   162   204   Class java/lang/Throwable
          65   162   213   any
         225   232   235   Class java/lang/Throwable
         204   215   213   any
         267   274   277   Class java/lang/Throwable
          51   257   299   Class java/lang/Throwable
          51   257   308   any
         320   327   330   Class java/lang/Throwable
         299   310   308   any
          37   352   355   Class java/sql/SQLException

  static {};
    Code:
       0: ldc           #3                  // class me/ahoo/cosid/jdbc/JdbcMachineIdDistributor
       2: invokestatic  #70                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #22                 // Field log:Lorg/slf4j/Logger;
       8: return
}
