Compiled from "ProxyServlet.java"
public abstract class io.fabric8.gateway.servlet.ProxyServlet extends javax.servlet.http.HttpServlet {
  private static final transient org.slf4j.Logger LOG;

  private static final long serialVersionUID;

  private static final java.lang.String STRING_LOCATION_HEADER;

  private static final java.lang.String STRING_CONTENT_TYPE_HEADER_NAME;

  private static final java.lang.String STRING_CONTENT_LENGTH_HEADER_NAME;

  private static final java.lang.String[] IGNORE_HEADER_NAMES;

  private static final java.lang.String STRING_HOST_HEADER_NAME;

  private static final java.io.File FILE_UPLOAD_TEMP_DIRECTORY;

  private io.fabric8.gateway.servlet.HttpMappingRuleResolver resolver;

  private int intMaxFileUploadSize;

  public io.fabric8.gateway.servlet.ProxyServlet();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method javax/servlet/http/HttpServlet."<init>":()V
       4: aload_0
       5: new           #2                  // class io/fabric8/gateway/servlet/HttpMappingRuleResolver
       8: dup
       9: invokespecial #3                  // Method io/fabric8/gateway/servlet/HttpMappingRuleResolver."<init>":()V
      12: putfield      #4                  // Field resolver:Lio/fabric8/gateway/servlet/HttpMappingRuleResolver;
      15: aload_0
      16: ldc           #5                  // int 5242880
      18: putfield      #6                  // Field intMaxFileUploadSize:I
      21: return

  public void init(javax.servlet.ServletConfig) throws javax.servlet.ServletException;
    Code:
       0: new           #7                  // class io/fabric8/gateway/model/HttpProxyRuleBase
       3: dup
       4: invokespecial #8                  // Method io/fabric8/gateway/model/HttpProxyRuleBase."<init>":()V
       7: astore_2
       8: aload_0
       9: aload_1
      10: aload_2
      11: invokevirtual #9                  // Method loadRuleBase:(Ljavax/servlet/ServletConfig;Lio/fabric8/gateway/model/HttpProxyRuleBase;)V
      14: aload_0
      15: getfield      #4                  // Field resolver:Lio/fabric8/gateway/servlet/HttpMappingRuleResolver;
      18: aload_2
      19: invokevirtual #10                 // Method io/fabric8/gateway/servlet/HttpMappingRuleResolver.setMappingRules:(Lio/fabric8/gateway/model/HttpProxyRuleBase;)V
      22: ldc           #11                 // String http
      24: new           #12                 // class org/apache/commons/httpclient/protocol/Protocol
      27: dup
      28: ldc           #11                 // String http
      30: new           #13                 // class io/fabric8/gateway/servlet/support/NonBindingSocketFactory
      33: dup
      34: invokespecial #14                 // Method io/fabric8/gateway/servlet/support/NonBindingSocketFactory."<init>":()V
      37: bipush        80
      39: invokespecial #15                 // Method org/apache/commons/httpclient/protocol/Protocol."<init>":(Ljava/lang/String;Lorg/apache/commons/httpclient/protocol/ProtocolSocketFactory;I)V
      42: invokestatic  #16                 // Method org/apache/commons/httpclient/protocol/Protocol.registerProtocol:(Ljava/lang/String;Lorg/apache/commons/httpclient/protocol/Protocol;)V
      45: ldc           #17                 // String https
      47: new           #12                 // class org/apache/commons/httpclient/protocol/Protocol
      50: dup
      51: ldc           #17                 // String https
      53: new           #13                 // class io/fabric8/gateway/servlet/support/NonBindingSocketFactory
      56: dup
      57: invokespecial #14                 // Method io/fabric8/gateway/servlet/support/NonBindingSocketFactory."<init>":()V
      60: sipush        443
      63: invokespecial #15                 // Method org/apache/commons/httpclient/protocol/Protocol."<init>":(Ljava/lang/String;Lorg/apache/commons/httpclient/protocol/ProtocolSocketFactory;I)V
      66: invokestatic  #16                 // Method org/apache/commons/httpclient/protocol/Protocol.registerProtocol:(Ljava/lang/String;Lorg/apache/commons/httpclient/protocol/Protocol;)V
      69: return

  protected abstract void loadRuleBase(javax.servlet.ServletConfig, io.fabric8.gateway.model.HttpProxyRuleBase) throws javax.servlet.ServletException;

  public void doGet(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #18                 // Method createProxyDetails:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lio/fabric8/gateway/servlet/ProxyDetails;
       6: astore_3
       7: aload_3
       8: invokevirtual #19                 // Method io/fabric8/gateway/servlet/ProxyDetails.isValid:()Z
      11: ifne          23
      14: aload_0
      15: aload_1
      16: aload_2
      17: invokevirtual #20                 // Method noMappingFound:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      20: goto          53
      23: new           #21                 // class org/apache/commons/httpclient/methods/GetMethod
      26: dup
      27: aload_3
      28: invokevirtual #22                 // Method io/fabric8/gateway/servlet/ProxyDetails.getStringProxyURL:()Ljava/lang/String;
      31: invokespecial #23                 // Method org/apache/commons/httpclient/methods/GetMethod."<init>":(Ljava/lang/String;)V
      34: astore        4
      36: aload_0
      37: aload_3
      38: aload_1
      39: aload         4
      41: invokespecial #24                 // Method setProxyRequestHeaders:(Lio/fabric8/gateway/servlet/ProxyDetails;Ljavax/servlet/http/HttpServletRequest;Lorg/apache/commons/httpclient/HttpMethod;)V
      44: aload_0
      45: aload_3
      46: aload         4
      48: aload_1
      49: aload_2
      50: invokespecial #25                 // Method executeProxyRequest:(Lio/fabric8/gateway/servlet/ProxyDetails;Lorg/apache/commons/httpclient/HttpMethod;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      53: return

  public void doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #18                 // Method createProxyDetails:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lio/fabric8/gateway/servlet/ProxyDetails;
       6: astore_3
       7: aload_3
       8: invokevirtual #19                 // Method io/fabric8/gateway/servlet/ProxyDetails.isValid:()Z
      11: ifne          23
      14: aload_0
      15: aload_1
      16: aload_2
      17: invokevirtual #20                 // Method noMappingFound:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      20: goto          77
      23: new           #26                 // class org/apache/commons/httpclient/methods/PostMethod
      26: dup
      27: aload_3
      28: invokevirtual #22                 // Method io/fabric8/gateway/servlet/ProxyDetails.getStringProxyURL:()Ljava/lang/String;
      31: invokespecial #27                 // Method org/apache/commons/httpclient/methods/PostMethod."<init>":(Ljava/lang/String;)V
      34: astore        4
      36: aload_0
      37: aload_3
      38: aload_1
      39: aload         4
      41: invokespecial #24                 // Method setProxyRequestHeaders:(Lio/fabric8/gateway/servlet/ProxyDetails;Ljavax/servlet/http/HttpServletRequest;Lorg/apache/commons/httpclient/HttpMethod;)V
      44: aload_1
      45: invokestatic  #28                 // Method org/apache/commons/fileupload/servlet/ServletFileUpload.isMultipartContent:(Ljavax/servlet/http/HttpServletRequest;)Z
      48: ifeq          61
      51: aload_0
      52: aload         4
      54: aload_1
      55: invokespecial #29                 // Method handleMultipartPost:(Lorg/apache/commons/httpclient/methods/EntityEnclosingMethod;Ljavax/servlet/http/HttpServletRequest;)V
      58: goto          68
      61: aload_0
      62: aload         4
      64: aload_1
      65: invokespecial #30                 // Method handleEntity:(Lorg/apache/commons/httpclient/methods/EntityEnclosingMethod;Ljavax/servlet/http/HttpServletRequest;)V
      68: aload_0
      69: aload_3
      70: aload         4
      72: aload_1
      73: aload_2
      74: invokespecial #25                 // Method executeProxyRequest:(Lio/fabric8/gateway/servlet/ProxyDetails;Lorg/apache/commons/httpclient/HttpMethod;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      77: return

  public void doPut(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #18                 // Method createProxyDetails:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lio/fabric8/gateway/servlet/ProxyDetails;
       6: astore_3
       7: aload_3
       8: invokevirtual #19                 // Method io/fabric8/gateway/servlet/ProxyDetails.isValid:()Z
      11: ifne          23
      14: aload_0
      15: aload_1
      16: aload_2
      17: invokevirtual #20                 // Method noMappingFound:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      20: goto          77
      23: new           #31                 // class org/apache/commons/httpclient/methods/PutMethod
      26: dup
      27: aload_3
      28: invokevirtual #22                 // Method io/fabric8/gateway/servlet/ProxyDetails.getStringProxyURL:()Ljava/lang/String;
      31: invokespecial #32                 // Method org/apache/commons/httpclient/methods/PutMethod."<init>":(Ljava/lang/String;)V
      34: astore        4
      36: aload_0
      37: aload_3
      38: aload_1
      39: aload         4
      41: invokespecial #24                 // Method setProxyRequestHeaders:(Lio/fabric8/gateway/servlet/ProxyDetails;Ljavax/servlet/http/HttpServletRequest;Lorg/apache/commons/httpclient/HttpMethod;)V
      44: aload_1
      45: invokestatic  #28                 // Method org/apache/commons/fileupload/servlet/ServletFileUpload.isMultipartContent:(Ljavax/servlet/http/HttpServletRequest;)Z
      48: ifeq          61
      51: aload_0
      52: aload         4
      54: aload_1
      55: invokespecial #29                 // Method handleMultipartPost:(Lorg/apache/commons/httpclient/methods/EntityEnclosingMethod;Ljavax/servlet/http/HttpServletRequest;)V
      58: goto          68
      61: aload_0
      62: aload         4
      64: aload_1
      65: invokespecial #30                 // Method handleEntity:(Lorg/apache/commons/httpclient/methods/EntityEnclosingMethod;Ljavax/servlet/http/HttpServletRequest;)V
      68: aload_0
      69: aload_3
      70: aload         4
      72: aload_1
      73: aload_2
      74: invokespecial #25                 // Method executeProxyRequest:(Lio/fabric8/gateway/servlet/ProxyDetails;Lorg/apache/commons/httpclient/HttpMethod;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      77: return

  public void doDelete(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #18                 // Method createProxyDetails:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lio/fabric8/gateway/servlet/ProxyDetails;
       6: astore_3
       7: aload_3
       8: invokevirtual #19                 // Method io/fabric8/gateway/servlet/ProxyDetails.isValid:()Z
      11: ifne          23
      14: aload_0
      15: aload_1
      16: aload_2
      17: invokevirtual #20                 // Method noMappingFound:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      20: goto          53
      23: new           #33                 // class org/apache/commons/httpclient/methods/DeleteMethod
      26: dup
      27: aload_3
      28: invokevirtual #22                 // Method io/fabric8/gateway/servlet/ProxyDetails.getStringProxyURL:()Ljava/lang/String;
      31: invokespecial #34                 // Method org/apache/commons/httpclient/methods/DeleteMethod."<init>":(Ljava/lang/String;)V
      34: astore        4
      36: aload_0
      37: aload_3
      38: aload_1
      39: aload         4
      41: invokespecial #24                 // Method setProxyRequestHeaders:(Lio/fabric8/gateway/servlet/ProxyDetails;Ljavax/servlet/http/HttpServletRequest;Lorg/apache/commons/httpclient/HttpMethod;)V
      44: aload_0
      45: aload_3
      46: aload         4
      48: aload_1
      49: aload_2
      50: invokespecial #25                 // Method executeProxyRequest:(Lio/fabric8/gateway/servlet/ProxyDetails;Lorg/apache/commons/httpclient/HttpMethod;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      53: return

  protected void doOptions(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws javax.servlet.ServletException, java.io.IOException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #18                 // Method createProxyDetails:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lio/fabric8/gateway/servlet/ProxyDetails;
       6: astore_3
       7: aload_3
       8: invokevirtual #19                 // Method io/fabric8/gateway/servlet/ProxyDetails.isValid:()Z
      11: ifne          23
      14: aload_0
      15: aload_1
      16: aload_2
      17: invokevirtual #20                 // Method noMappingFound:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      20: goto          53
      23: new           #35                 // class org/apache/commons/httpclient/methods/OptionsMethod
      26: dup
      27: aload_3
      28: invokevirtual #22                 // Method io/fabric8/gateway/servlet/ProxyDetails.getStringProxyURL:()Ljava/lang/String;
      31: invokespecial #36                 // Method org/apache/commons/httpclient/methods/OptionsMethod."<init>":(Ljava/lang/String;)V
      34: astore        4
      36: aload_0
      37: aload_3
      38: aload_1
      39: aload         4
      41: invokespecial #24                 // Method setProxyRequestHeaders:(Lio/fabric8/gateway/servlet/ProxyDetails;Ljavax/servlet/http/HttpServletRequest;Lorg/apache/commons/httpclient/HttpMethod;)V
      44: aload_0
      45: aload_3
      46: aload         4
      48: aload_1
      49: aload_2
      50: invokespecial #25                 // Method executeProxyRequest:(Lio/fabric8/gateway/servlet/ProxyDetails;Lorg/apache/commons/httpclient/HttpMethod;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      53: return

  protected io.fabric8.gateway.servlet.ProxyDetails createProxyDetails(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse);
    Code:
       0: aload_0
       1: invokevirtual #37                 // Method getResolver:()Lio/fabric8/gateway/servlet/HttpMappingRuleResolver;
       4: aload_1
       5: aload_2
       6: invokevirtual #38                 // Method io/fabric8/gateway/servlet/HttpMappingRuleResolver.findMappingRule:(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lio/fabric8/gateway/servlet/HttpMappingResult;
       9: astore_3
      10: aload_3
      11: invokevirtual #39                 // Method io/fabric8/gateway/servlet/HttpMappingResult.getProxyRule:()Lio/fabric8/gateway/model/HttpProxyRule;
      14: astore        4
      16: aload_3
      17: ifnull        53
      20: aload_3
      21: new           #40                 // class io/fabric8/gateway/servlet/HttpClientRequestFacade
      24: dup
      25: aload_1
      26: aload_2
      27: invokespecial #41                 // Method io/fabric8/gateway/servlet/HttpClientRequestFacade."<init>":(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)V
      30: invokevirtual #42                 // Method io/fabric8/gateway/servlet/HttpMappingResult.getDestinationUrl:(Lio/fabric8/gateway/loadbalancer/ClientRequestFacade;)Ljava/lang/String;
      33: astore        5
      35: aload         5
      37: ifnull        53
      40: new           #43                 // class io/fabric8/gateway/servlet/ProxyDetails
      43: dup
      44: iconst_1
      45: aload         5
      47: aload         4
      49: invokespecial #44                 // Method io/fabric8/gateway/servlet/ProxyDetails."<init>":(ZLjava/lang/String;Lio/fabric8/gateway/model/HttpProxyRule;)V
      52: areturn
      53: new           #43                 // class io/fabric8/gateway/servlet/ProxyDetails
      56: dup
      57: iconst_0
      58: aconst_null
      59: aload         4
      61: invokespecial #44                 // Method io/fabric8/gateway/servlet/ProxyDetails."<init>":(ZLjava/lang/String;Lio/fabric8/gateway/model/HttpProxyRule;)V
      64: areturn

  protected void noMappingFound(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException;
    Code:
       0: aload_2
       1: sipush        404
       4: new           #45                 // class java/lang/StringBuilder
       7: dup
       8: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      11: ldc           #47                 // String No endpoint could be found for
      13: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      16: aload_1
      17: invokeinterface #49,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getRequestURI:()Ljava/lang/String;
      22: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      28: invokeinterface #51,  3           // InterfaceMethod javax/servlet/http/HttpServletResponse.sendError:(ILjava/lang/String;)V
      33: return

  private void handleMultipartPost(org.apache.commons.httpclient.methods.EntityEnclosingMethod, javax.servlet.http.HttpServletRequest) throws javax.servlet.ServletException;
    Code:
       0: new           #52                 // class org/apache/commons/fileupload/disk/DiskFileItemFactory
       3: dup
       4: invokespecial #53                 // Method org/apache/commons/fileupload/disk/DiskFileItemFactory."<init>":()V
       7: astore_3
       8: aload_3
       9: aload_0
      10: invokespecial #54                 // Method getMaxFileUploadSize:()I
      13: invokevirtual #55                 // Method org/apache/commons/fileupload/disk/DiskFileItemFactory.setSizeThreshold:(I)V
      16: aload_3
      17: getstatic     #56                 // Field FILE_UPLOAD_TEMP_DIRECTORY:Ljava/io/File;
      20: invokevirtual #57                 // Method org/apache/commons/fileupload/disk/DiskFileItemFactory.setRepository:(Ljava/io/File;)V
      23: new           #58                 // class org/apache/commons/fileupload/servlet/ServletFileUpload
      26: dup
      27: aload_3
      28: invokespecial #59                 // Method org/apache/commons/fileupload/servlet/ServletFileUpload."<init>":(Lorg/apache/commons/fileupload/FileItemFactory;)V
      31: astore        4
      33: aload         4
      35: aload_2
      36: invokevirtual #60                 // Method org/apache/commons/fileupload/servlet/ServletFileUpload.parseRequest:(Ljavax/servlet/http/HttpServletRequest;)Ljava/util/List;
      39: astore        5
      41: new           #61                 // class java/util/ArrayList
      44: dup
      45: invokespecial #62                 // Method java/util/ArrayList."<init>":()V
      48: astore        6
      50: aload         5
      52: invokeinterface #63,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      57: astore        7
      59: aload         7
      61: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      66: ifeq          177
      69: aload         7
      71: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      76: checkcast     #66                 // class org/apache/commons/fileupload/FileItem
      79: astore        8
      81: aload         8
      83: invokeinterface #67,  1           // InterfaceMethod org/apache/commons/fileupload/FileItem.isFormField:()Z
      88: ifeq          127
      91: new           #68                 // class org/apache/commons/httpclient/methods/multipart/StringPart
      94: dup
      95: aload         8
      97: invokeinterface #69,  1           // InterfaceMethod org/apache/commons/fileupload/FileItem.getFieldName:()Ljava/lang/String;
     102: aload         8
     104: invokeinterface #70,  1           // InterfaceMethod org/apache/commons/fileupload/FileItem.getString:()Ljava/lang/String;
     109: invokespecial #71                 // Method org/apache/commons/httpclient/methods/multipart/StringPart."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     112: astore        9
     114: aload         6
     116: aload         9
     118: invokeinterface #72,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     123: pop
     124: goto          174
     127: new           #73                 // class org/apache/commons/httpclient/methods/multipart/FilePart
     130: dup
     131: aload         8
     133: invokeinterface #69,  1           // InterfaceMethod org/apache/commons/fileupload/FileItem.getFieldName:()Ljava/lang/String;
     138: new           #74                 // class org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource
     141: dup
     142: aload         8
     144: invokeinterface #75,  1           // InterfaceMethod org/apache/commons/fileupload/FileItem.getName:()Ljava/lang/String;
     149: aload         8
     151: invokeinterface #76,  1           // InterfaceMethod org/apache/commons/fileupload/FileItem.get:()[B
     156: invokespecial #77                 // Method org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource."<init>":(Ljava/lang/String;[B)V
     159: invokespecial #78                 // Method org/apache/commons/httpclient/methods/multipart/FilePart."<init>":(Ljava/lang/String;Lorg/apache/commons/httpclient/methods/multipart/PartSource;)V
     162: astore        9
     164: aload         6
     166: aload         9
     168: invokeinterface #72,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     173: pop
     174: goto          59
     177: new           #79                 // class org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity
     180: dup
     181: aload         6
     183: iconst_0
     184: anewarray     #80                 // class org/apache/commons/httpclient/methods/multipart/Part
     187: invokeinterface #81,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     192: checkcast     #82                 // class "[Lorg/apache/commons/httpclient/methods/multipart/Part;"
     195: aload_1
     196: invokevirtual #83                 // Method org/apache/commons/httpclient/methods/EntityEnclosingMethod.getParams:()Lorg/apache/commons/httpclient/params/HttpMethodParams;
     199: invokespecial #84                 // Method org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity."<init>":([Lorg/apache/commons/httpclient/methods/multipart/Part;Lorg/apache/commons/httpclient/params/HttpMethodParams;)V
     202: astore        7
     204: aload_1
     205: aload         7
     207: invokevirtual #85                 // Method org/apache/commons/httpclient/methods/EntityEnclosingMethod.setRequestEntity:(Lorg/apache/commons/httpclient/methods/RequestEntity;)V
     210: aload_1
     211: ldc           #86                 // String Content-Type
     213: aload         7
     215: invokevirtual #87                 // Method org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity.getContentType:()Ljava/lang/String;
     218: invokevirtual #88                 // Method org/apache/commons/httpclient/methods/EntityEnclosingMethod.setRequestHeader:(Ljava/lang/String;Ljava/lang/String;)V
     221: goto          236
     224: astore        5
     226: new           #90                 // class javax/servlet/ServletException
     229: dup
     230: aload         5
     232: invokespecial #91                 // Method javax/servlet/ServletException."<init>":(Ljava/lang/Throwable;)V
     235: athrow
     236: return
    Exception table:
       from    to  target type
          33   221   224   Class org/apache/commons/fileupload/FileUploadException

  private void handleEntity(org.apache.commons.httpclient.methods.EntityEnclosingMethod, javax.servlet.http.HttpServletRequest) throws java.io.IOException;
    Code:
       0: aload_2
       1: invokeinterface #92,  1           // InterfaceMethod javax/servlet/http/HttpServletRequest.getParameterMap:()Ljava/util/Map;
       6: astore_3
       7: new           #61                 // class java/util/ArrayList
      10: dup
      11: invokespecial #62                 // Method java/util/ArrayList."<init>":()V
      14: astore        4
      16: aload_3
      17: invokeinterface #93,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
      22: invokeinterface #94,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      27: astore        5
      29: aload         5
      31: invokeinterface #64,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      36: ifeq          122
      39: aload         5
      41: invokeinterface #65,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      46: checkcast     #95                 // class java/lang/String
      49: astore        6
      51: aload_3
      52: aload         6
      54: invokeinterface #96,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      59: checkcast     #97                 // class "[Ljava/lang/String;"
      62: astore        7
      64: aload         7
      66: astore        8
      68: aload         8
      70: arraylength
      71: istore        9
      73: iconst_0
      74: istore        10
      76: iload         10
      78: iload         9
      80: if_icmpge     119
      83: aload         8
      85: iload         10
      87: aaload
      88: astore        11
      90: new           #98                 // class org/apache/commons/httpclient/NameValuePair
      93: dup
      94: aload         6
      96: aload         11
      98: invokespecial #99                 // Method org/apache/commons/httpclient/NameValuePair."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     101: astore        12
     103: aload         4
     105: aload         12
     107: invokeinterface #72,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     112: pop
     113: iinc          10, 1
     116: goto          76
     119: goto          29
     122: aconst_null
     123: astore        5
     125: aload_2
     126: invokeinterface #100,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getContentType:()Ljava/lang/String;
     131: astore        6
     133: aload         6
     135: ifnull        221
     138: aload         6
     140: invokevirtual #101                // Method java/lang/String.toLowerCase:()Ljava/lang/String;
     143: astore        6
     145: aload         6
     147: ldc           #102                // String json
     149: invokevirtual #103                // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     152: ifne          185
     155: aload         6
     157: ldc           #104                // String xml
     159: invokevirtual #103                // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     162: ifne          185
     165: aload         6
     167: ldc           #105                // String application
     169: invokevirtual #103                // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     172: ifne          185
     175: aload         6
     177: ldc           #106                // String text
     179: invokevirtual #103                // Method java/lang/String.contains:(Ljava/lang/CharSequence;)Z
     182: ifeq          221
     185: aload_2
     186: invokeinterface #107,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getReader:()Ljava/io/BufferedReader;
     191: invokestatic  #108                // Method io/fabric8/utils/IOHelpers.readFully:(Ljava/io/Reader;)Ljava/lang/String;
     194: astore        7
     196: new           #109                // class org/apache/commons/httpclient/methods/StringRequestEntity
     199: dup
     200: aload         7
     202: aload         6
     204: aload_2
     205: invokeinterface #110,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getCharacterEncoding:()Ljava/lang/String;
     210: invokespecial #111                // Method org/apache/commons/httpclient/methods/StringRequestEntity."<init>":(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
     213: astore        5
     215: aload_1
     216: aload         5
     218: invokevirtual #85                 // Method org/apache/commons/httpclient/methods/EntityEnclosingMethod.setRequestEntity:(Lorg/apache/commons/httpclient/methods/RequestEntity;)V
     221: aload         4
     223: iconst_0
     224: anewarray     #98                 // class org/apache/commons/httpclient/NameValuePair
     227: invokeinterface #81,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
     232: checkcast     #112                // class "[Lorg/apache/commons/httpclient/NameValuePair;"
     235: astore        7
     237: aload         5
     239: ifnull        245
     242: goto          261
     245: aload_1
     246: instanceof    #26                 // class org/apache/commons/httpclient/methods/PostMethod
     249: ifeq          261
     252: aload_1
     253: checkcast     #26                 // class org/apache/commons/httpclient/methods/PostMethod
     256: aload         7
     258: invokevirtual #113                // Method org/apache/commons/httpclient/methods/PostMethod.setRequestBody:([Lorg/apache/commons/httpclient/NameValuePair;)V
     261: return

  private void executeProxyRequest(io.fabric8.gateway.servlet.ProxyDetails, org.apache.commons.httpclient.HttpMethod, javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse) throws java.io.IOException, javax.servlet.ServletException;
    Code:
       0: aload_2
       1: iconst_0
       2: invokeinterface #114,  2          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.setDoAuthentication:(Z)V
       7: aload_2
       8: iconst_0
       9: invokeinterface #115,  2          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.setFollowRedirects:(Z)V
      14: aload_1
      15: aload_2
      16: invokevirtual #116                // Method io/fabric8/gateway/servlet/ProxyDetails.createHttpClient:(Lorg/apache/commons/httpclient/HttpMethod;)Lorg/apache/commons/httpclient/HttpClient;
      19: astore        5
      21: aload         5
      23: aload_2
      24: invokevirtual #117                // Method org/apache/commons/httpclient/HttpClient.executeMethod:(Lorg/apache/commons/httpclient/HttpMethod;)I
      27: istore        6
      29: iload         6
      31: sipush        300
      34: if_icmplt     228
      37: iload         6
      39: sipush        304
      42: if_icmpge     228
      45: iload         6
      47: invokestatic  #118                // Method java/lang/Integer.toString:(I)Ljava/lang/String;
      50: astore        7
      52: aload_2
      53: ldc           #119                // String Location
      55: invokeinterface #120,  2          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.getResponseHeader:(Ljava/lang/String;)Lorg/apache/commons/httpclient/Header;
      60: invokevirtual #121                // Method org/apache/commons/httpclient/Header.getValue:()Ljava/lang/String;
      63: astore        8
      65: aload         8
      67: ifnonnull     113
      70: new           #90                 // class javax/servlet/ServletException
      73: dup
      74: new           #45                 // class java/lang/StringBuilder
      77: dup
      78: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
      81: ldc           #122                // String Received status code:
      83: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      86: aload         7
      88: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      91: ldc           #123                // String  but no
      93: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      96: ldc           #119                // String Location
      98: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     101: ldc           #124                // String  header was found in the response
     103: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     106: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     109: invokespecial #125                // Method javax/servlet/ServletException."<init>":(Ljava/lang/String;)V
     112: athrow
     113: aload_3
     114: invokeinterface #126,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getServerName:()Ljava/lang/String;
     119: astore        9
     121: aload_3
     122: invokeinterface #127,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getServerPort:()I
     127: bipush        80
     129: if_icmpeq     163
     132: new           #45                 // class java/lang/StringBuilder
     135: dup
     136: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     139: aload         9
     141: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     144: ldc           #128                // String :
     146: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     149: aload_3
     150: invokeinterface #127,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getServerPort:()I
     155: invokevirtual #129                // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;
     158: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     161: astore        9
     163: new           #45                 // class java/lang/StringBuilder
     166: dup
     167: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     170: aload         9
     172: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     175: aload_3
     176: invokeinterface #130,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getContextPath:()Ljava/lang/String;
     181: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     184: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     187: astore        9
     189: aload         4
     191: aload         8
     193: new           #45                 // class java/lang/StringBuilder
     196: dup
     197: invokespecial #46                 // Method java/lang/StringBuilder."<init>":()V
     200: aload_1
     201: invokevirtual #131                // Method io/fabric8/gateway/servlet/ProxyDetails.getProxyHostAndPort:()Ljava/lang/String;
     204: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     207: aload_1
     208: invokevirtual #132                // Method io/fabric8/gateway/servlet/ProxyDetails.getProxyPath:()Ljava/lang/String;
     211: invokevirtual #48                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     214: invokevirtual #50                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     217: aload         9
     219: invokevirtual #133                // Method java/lang/String.replace:(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;
     222: invokeinterface #134,  2          // InterfaceMethod javax/servlet/http/HttpServletResponse.sendRedirect:(Ljava/lang/String;)V
     227: return
     228: iload         6
     230: sipush        304
     233: if_icmpne     257
     236: aload         4
     238: ldc           #135                // String Content-Length
     240: iconst_0
     241: invokeinterface #136,  3          // InterfaceMethod javax/servlet/http/HttpServletResponse.setIntHeader:(Ljava/lang/String;I)V
     246: aload         4
     248: sipush        304
     251: invokeinterface #137,  2          // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
     256: return
     257: aload         4
     259: iload         6
     261: invokeinterface #137,  2          // InterfaceMethod javax/servlet/http/HttpServletResponse.setStatus:(I)V
     266: aload_2
     267: invokeinterface #138,  1          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.getResponseHeaders:()[Lorg/apache/commons/httpclient/Header;
     272: astore        7
     274: aload         7
     276: astore        8
     278: aload         8
     280: arraylength
     281: istore        9
     283: iconst_0
     284: istore        10
     286: iload         10
     288: iload         9
     290: if_icmpge     385
     293: aload         8
     295: iload         10
     297: aaload
     298: astore        11
     300: aload         11
     302: invokevirtual #139                // Method org/apache/commons/httpclient/Header.getName:()Ljava/lang/String;
     305: invokestatic  #140                // Method io/fabric8/gateway/servlet/support/ProxySupport.isHopByHopHeader:(Ljava/lang/String;)Z
     308: ifne          379
     311: aload         11
     313: invokestatic  #141                // Method io/fabric8/gateway/servlet/support/ProxySupport.isSetCookieHeader:(Lorg/apache/commons/httpclient/Header;)Z
     316: ifeq          362
     319: aload_1
     320: invokevirtual #142                // Method io/fabric8/gateway/servlet/ProxyDetails.getProxyRule:()Lio/fabric8/gateway/model/HttpProxyRule;
     323: astore        12
     325: aload         11
     327: invokevirtual #121                // Method org/apache/commons/httpclient/Header.getValue:()Ljava/lang/String;
     330: aload         12
     332: invokevirtual #143                // Method io/fabric8/gateway/model/HttpProxyRule.getCookiePath:()Ljava/lang/String;
     335: aload         12
     337: invokevirtual #144                // Method io/fabric8/gateway/model/HttpProxyRule.getCookieDomain:()Ljava/lang/String;
     340: invokestatic  #145                // Method io/fabric8/gateway/servlet/support/ProxySupport.replaceCookieAttributes:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     343: astore        13
     345: aload         4
     347: aload         11
     349: invokevirtual #139                // Method org/apache/commons/httpclient/Header.getName:()Ljava/lang/String;
     352: aload         13
     354: invokeinterface #146,  3          // InterfaceMethod javax/servlet/http/HttpServletResponse.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     359: goto          379
     362: aload         4
     364: aload         11
     366: invokevirtual #139                // Method org/apache/commons/httpclient/Header.getName:()Ljava/lang/String;
     369: aload         11
     371: invokevirtual #121                // Method org/apache/commons/httpclient/Header.getValue:()Ljava/lang/String;
     374: invokeinterface #146,  3          // InterfaceMethod javax/servlet/http/HttpServletResponse.setHeader:(Ljava/lang/String;Ljava/lang/String;)V
     379: iinc          10, 1
     382: goto          286
     385: aload_2
     386: invokeinterface #147,  1          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.getStatusCode:()I
     391: istore        8
     393: iload         8
     395: sipush        204
     398: if_icmpne     405
     401: iconst_1
     402: goto          406
     405: iconst_0
     406: istore        9
     408: iload         9
     410: ifne          444
     413: aload_3
     414: ldc           #135                // String Content-Length
     416: invokeinterface #148,  2          // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeader:(Ljava/lang/String;)Ljava/lang/String;
     421: astore        10
     423: aload         10
     425: ifnull        444
     428: ldc           #149                // String 0
     430: aload         10
     432: invokevirtual #150                // Method java/lang/String.trim:()Ljava/lang/String;
     435: invokevirtual #151                // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     438: ifeq          444
     441: iconst_1
     442: istore        9
     444: getstatic     #152                // Field LOG:Lorg/slf4j/Logger;
     447: ldc           #153                // String Response has data? {}
     449: iload         9
     451: ifne          458
     454: iconst_1
     455: goto          459
     458: iconst_0
     459: invokestatic  #154                // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     462: invokeinterface #155,  3          // InterfaceMethod org/slf4j/Logger.trace:(Ljava/lang/String;Ljava/lang/Object;)V
     467: iload         9
     469: ifne          522
     472: aload_2
     473: invokeinterface #156,  1          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.getResponseBodyAsStream:()Ljava/io/InputStream;
     478: astore        10
     480: new           #157                // class java/io/BufferedInputStream
     483: dup
     484: aload         10
     486: invokespecial #158                // Method java/io/BufferedInputStream."<init>":(Ljava/io/InputStream;)V
     489: astore        11
     491: aload         4
     493: invokeinterface #159,  1          // InterfaceMethod javax/servlet/http/HttpServletResponse.getOutputStream:()Ljavax/servlet/ServletOutputStream;
     498: astore        12
     500: aload         11
     502: invokevirtual #160                // Method java/io/BufferedInputStream.read:()I
     505: dup
     506: istore        13
     508: iconst_m1
     509: if_icmpeq     522
     512: aload         12
     514: iload         13
     516: invokevirtual #161                // Method java/io/OutputStream.write:(I)V
     519: goto          500
     522: return

  public java.lang.String getServletInfo();
    Code:
       0: ldc           #162                // String Fabric8 Gateway Proxy Servlet
       2: areturn

  public io.fabric8.gateway.servlet.HttpMappingRuleResolver getResolver();
    Code:
       0: aload_0
       1: getfield      #4                  // Field resolver:Lio/fabric8/gateway/servlet/HttpMappingRuleResolver;
       4: areturn

  private void setProxyRequestHeaders(io.fabric8.gateway.servlet.ProxyDetails, javax.servlet.http.HttpServletRequest, org.apache.commons.httpclient.HttpMethod);
    Code:
       0: aload_2
       1: invokeinterface #163,  1          // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeaderNames:()Ljava/util/Enumeration;
       6: astore        4
       8: aload         4
      10: invokeinterface #164,  1          // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      15: ifeq          126
      18: aload         4
      20: invokeinterface #165,  1          // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      25: checkcast     #95                 // class java/lang/String
      28: astore        5
      30: aload         5
      32: ldc           #135                // String Content-Length
      34: invokevirtual #166                // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      37: ifne          8
      40: aload         5
      42: invokestatic  #140                // Method io/fabric8/gateway/servlet/support/ProxySupport.isHopByHopHeader:(Ljava/lang/String;)Z
      45: ifeq          51
      48: goto          8
      51: aload_2
      52: aload         5
      54: invokeinterface #167,  2          // InterfaceMethod javax/servlet/http/HttpServletRequest.getHeaders:(Ljava/lang/String;)Ljava/util/Enumeration;
      59: astore        6
      61: aload         6
      63: invokeinterface #164,  1          // InterfaceMethod java/util/Enumeration.hasMoreElements:()Z
      68: ifeq          123
      71: aload         6
      73: invokeinterface #165,  1          // InterfaceMethod java/util/Enumeration.nextElement:()Ljava/lang/Object;
      78: checkcast     #95                 // class java/lang/String
      81: astore        7
      83: aload         5
      85: ldc           #168                // String Host
      87: invokevirtual #166                // Method java/lang/String.equalsIgnoreCase:(Ljava/lang/String;)Z
      90: ifeq          99
      93: aload_1
      94: invokevirtual #131                // Method io/fabric8/gateway/servlet/ProxyDetails.getProxyHostAndPort:()Ljava/lang/String;
      97: astore        7
      99: new           #169                // class org/apache/commons/httpclient/Header
     102: dup
     103: aload         5
     105: aload         7
     107: invokespecial #170                // Method org/apache/commons/httpclient/Header."<init>":(Ljava/lang/String;Ljava/lang/String;)V
     110: astore        8
     112: aload_3
     113: aload         8
     115: invokeinterface #171,  2          // InterfaceMethod org/apache/commons/httpclient/HttpMethod.setRequestHeader:(Lorg/apache/commons/httpclient/Header;)V
     120: goto          61
     123: goto          8
     126: return

  private int getMaxFileUploadSize();
    Code:
       0: aload_0
       1: getfield      #6                  // Field intMaxFileUploadSize:I
       4: ireturn

  private void setMaxFileUploadSize(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #6                  // Field intMaxFileUploadSize:I
       5: return

  static {};
    Code:
       0: ldc_w         #172                // class io/fabric8/gateway/servlet/ProxyServlet
       3: invokestatic  #173                // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       6: putstatic     #152                // Field LOG:Lorg/slf4j/Logger;
       9: iconst_3
      10: anewarray     #95                 // class java/lang/String
      13: dup
      14: iconst_0
      15: ldc           #135                // String Content-Length
      17: aastore
      18: dup
      19: iconst_1
      20: ldc           #174                // String Origin
      22: aastore
      23: dup
      24: iconst_2
      25: ldc           #175                // String Authorization
      27: aastore
      28: putstatic     #176                // Field IGNORE_HEADER_NAMES:[Ljava/lang/String;
      31: new           #177                // class java/io/File
      34: dup
      35: ldc           #178                // String java.io.tmpdir
      37: invokestatic  #179                // Method java/lang/System.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      40: invokespecial #180                // Method java/io/File."<init>":(Ljava/lang/String;)V
      43: putstatic     #56                 // Field FILE_UPLOAD_TEMP_DIRECTORY:Ljava/io/File;
      46: return
}
