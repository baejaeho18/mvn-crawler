Compiled from "MutableTargetImpl.java"
class org.jboss.as.patching.installation.MutableTargetImpl implements org.jboss.as.patching.installation.InstallationManager$MutablePatchingTarget {
  private final org.jboss.as.patching.DirectoryStructure structure;

  private final org.jboss.as.patching.installation.PatchableTarget$TargetInfo current;

  private final java.util.List<java.lang.String> patchIds;

  private final java.util.Properties properties;

  private java.lang.String cumulativeID;

  private boolean modified;

  private java.lang.String version;

  private java.util.Set<java.lang.String> rolledback;

  static final boolean $assertionsDisabled;

  org.jboss.as.patching.installation.MutableTargetImpl(org.jboss.as.patching.installation.PatchableTarget$TargetInfo);
    Code:
       0: aload_0
       1: aload_1
       2: aconst_null
       3: invokespecial #1                  // Method "<init>":(Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;Ljava/lang/String;)V
       6: return

  org.jboss.as.patching.installation.MutableTargetImpl(org.jboss.as.patching.installation.PatchableTarget$TargetInfo, java.lang.String);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #3                  // Field modified:Z
       9: aload_0
      10: invokestatic  #4                  // Method java/util/Collections.emptySet:()Ljava/util/Set;
      13: putfield      #5                  // Field rolledback:Ljava/util/Set;
      16: aload_0
      17: aload_1
      18: putfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
      21: aload_0
      22: aload_1
      23: invokeinterface #7,  1            // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getDirectoryStructure:()Lorg/jboss/as/patching/DirectoryStructure;
      28: putfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
      31: aload_0
      32: aload_1
      33: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getCumulativePatchID:()Ljava/lang/String;
      38: putfield      #10                 // Field cumulativeID:Ljava/lang/String;
      41: aload_0
      42: new           #11                 // class java/util/ArrayList
      45: dup
      46: aload_1
      47: invokeinterface #12,  1           // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getPatchIDs:()Ljava/util/List;
      52: invokespecial #13                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      55: putfield      #14                 // Field patchIds:Ljava/util/List;
      58: aload_0
      59: new           #15                 // class java/util/Properties
      62: dup
      63: aload_1
      64: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getProperties:()Ljava/util/Properties;
      69: invokespecial #17                 // Method java/util/Properties."<init>":(Ljava/util/Properties;)V
      72: putfield      #18                 // Field properties:Ljava/util/Properties;
      75: aload_0
      76: aload_2
      77: putfield      #19                 // Field version:Ljava/lang/String;
      80: return

  public boolean isApplied(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #10                 // Field cumulativeID:Ljava/lang/String;
       4: aload_1
       5: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       8: ifeq          13
      11: iconst_1
      12: ireturn
      13: aload_0
      14: getfield      #14                 // Field patchIds:Ljava/util/List;
      17: aload_1
      18: invokeinterface #21,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      23: ireturn

  public void rollback(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #14                 // Field patchIds:Ljava/util/List;
       4: aload_1
       5: invokeinterface #22,  2           // InterfaceMethod java/util/List.remove:(Ljava/lang/Object;)Z
      10: ifne          47
      13: aload_1
      14: aload_0
      15: getfield      #10                 // Field cumulativeID:Ljava/lang/String;
      18: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      21: ifeq          33
      24: aload_0
      25: ldc           #24                 // String base
      27: putfield      #10                 // Field cumulativeID:Ljava/lang/String;
      30: goto          121
      33: new           #25                 // class java/lang/IllegalStateException
      36: dup
      37: aload_1
      38: invokedynamic #26,  0             // InvokeDynamic #0:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      43: invokespecial #27                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      46: athrow
      47: aload_0
      48: getfield      #5                  // Field rolledback:Ljava/util/Set;
      51: invokeinterface #28,  1           // InterfaceMethod java/util/Set.size:()I
      56: lookupswitch  { // 2
                     0: 84
                     1: 95
               default: 110
          }
      84: aload_0
      85: aload_1
      86: invokestatic  #29                 // Method java/util/Collections.singleton:(Ljava/lang/Object;)Ljava/util/Set;
      89: putfield      #5                  // Field rolledback:Ljava/util/Set;
      92: goto          121
      95: aload_0
      96: new           #30                 // class java/util/HashSet
      99: dup
     100: aload_0
     101: getfield      #5                  // Field rolledback:Ljava/util/Set;
     104: invokespecial #31                 // Method java/util/HashSet."<init>":(Ljava/util/Collection;)V
     107: putfield      #5                  // Field rolledback:Ljava/util/Set;
     110: aload_0
     111: getfield      #5                  // Field rolledback:Ljava/util/Set;
     114: aload_1
     115: invokeinterface #32,  2           // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     120: pop
     121: aload_0
     122: iconst_1
     123: putfield      #3                  // Field modified:Z
     126: return

  public boolean isRolledback(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field rolledback:Ljava/util/Set;
       4: aload_1
       5: invokeinterface #33,  2           // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
      10: ireturn

  public void apply(java.lang.String, org.jboss.as.patching.metadata.Patch$PatchType);
    Code:
       0: aload_2
       1: getstatic     #34                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
       4: if_acmpne     44
       7: aload_0
       8: getfield      #14                 // Field patchIds:Ljava/util/List;
      11: invokeinterface #35,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      16: ifne          36
      19: new           #25                 // class java/lang/IllegalStateException
      22: dup
      23: aload_0
      24: getfield      #14                 // Field patchIds:Ljava/util/List;
      27: invokedynamic #36,  0             // InvokeDynamic #1:makeConcatWithConstants:(Ljava/util/List;)Ljava/lang/String;
      32: invokespecial #27                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      35: athrow
      36: aload_0
      37: aload_1
      38: putfield      #10                 // Field cumulativeID:Ljava/lang/String;
      41: goto          55
      44: aload_0
      45: getfield      #14                 // Field patchIds:Ljava/util/List;
      48: iconst_0
      49: aload_1
      50: invokeinterface #37,  3           // InterfaceMethod java/util/List.add:(ILjava/lang/Object;)V
      55: aload_0
      56: iconst_1
      57: putfield      #3                  // Field modified:Z
      60: return

  public java.lang.String getCumulativePatchID();
    Code:
       0: aload_0
       1: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
       4: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getCumulativePatchID:()Ljava/lang/String;
       9: areturn

  public java.util.List<java.lang.String> getPatchIDs();
    Code:
       0: aload_0
       1: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
       4: invokeinterface #12,  1           // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getPatchIDs:()Ljava/util/List;
       9: areturn

  public java.util.Properties getProperties();
    Code:
       0: aload_0
       1: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
       4: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getProperties:()Ljava/util/Properties;
       9: areturn

  public org.jboss.as.patching.DirectoryStructure getDirectoryStructure();
    Code:
       0: aload_0
       1: getfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
       4: areturn

  public java.lang.String getVersion();
    Code:
       0: aload_0
       1: getfield      #19                 // Field version:Ljava/lang/String;
       4: areturn

  public void setResultingVersion(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #19                 // Field version:Ljava/lang/String;
       5: return

  protected java.util.Properties getMutableProperties();
    Code:
       0: aload_0
       1: getfield      #18                 // Field properties:Ljava/util/Properties;
       4: areturn

  protected void persist() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field modified:Z
       4: ifeq          23
       7: aload_0
       8: aload_0
       9: getfield      #10                 // Field cumulativeID:Ljava/lang/String;
      12: aload_0
      13: getfield      #14                 // Field patchIds:Ljava/util/List;
      16: aload_0
      17: getfield      #18                 // Field properties:Ljava/util/Properties;
      20: invokevirtual #38                 // Method persist:(Ljava/lang/String;Ljava/util/List;Ljava/util/Properties;)V
      23: return

  protected void restore() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field modified:Z
       4: ifeq          38
       7: aload_0
       8: aload_0
       9: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
      12: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getCumulativePatchID:()Ljava/lang/String;
      17: aload_0
      18: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
      21: invokeinterface #12,  1           // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getPatchIDs:()Ljava/util/List;
      26: aload_0
      27: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
      30: invokeinterface #16,  1           // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getProperties:()Ljava/util/Properties;
      35: invokevirtual #38                 // Method persist:(Ljava/lang/String;Ljava/util/List;Ljava/util/Properties;)V
      38: return

  protected void persist(java.lang.String, java.util.List<java.lang.String>, java.util.Properties) throws java.io.IOException;
    Code:
       0: getstatic     #39                 // Field $assertionsDisabled:Z
       3: ifne          18
       6: aload_1
       7: ifnonnull     18
      10: new           #40                 // class java/lang/AssertionError
      13: dup
      14: invokespecial #41                 // Method java/lang/AssertionError."<init>":()V
      17: athrow
      18: aload_0
      19: getfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
      22: invokevirtual #42                 // Method org/jboss/as/patching/DirectoryStructure.getInstallationInfo:()Ljava/io/File;
      25: invokevirtual #43                 // Method java/io/File.getParentFile:()Ljava/io/File;
      28: iconst_0
      29: anewarray     #44                 // class java/lang/String
      32: invokestatic  #45                 // Method org/jboss/as/patching/IoUtils.mkdir:(Ljava/io/File;[Ljava/lang/String;)Ljava/io/File;
      35: pop
      36: new           #11                 // class java/util/ArrayList
      39: dup
      40: invokespecial #46                 // Method java/util/ArrayList."<init>":()V
      43: astore        4
      45: aload         4
      47: aload_2
      48: invokeinterface #47,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
      53: pop
      54: ldc           #24                 // String base
      56: aload_1
      57: invokevirtual #20                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      60: ifne          72
      63: aload         4
      65: aload_1
      66: invokeinterface #48,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      71: pop
      72: aload_0
      73: getfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
      76: invokevirtual #49                 // Method org/jboss/as/patching/DirectoryStructure.getModuleRoot:()Ljava/io/File;
      79: ifnull        120
      82: new           #50                 // class java/io/File
      85: dup
      86: aload_0
      87: getfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
      90: invokevirtual #49                 // Method org/jboss/as/patching/DirectoryStructure.getModuleRoot:()Ljava/io/File;
      93: ldc           #51                 // String .overlays
      95: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      98: astore        5
     100: new           #50                 // class java/io/File
     103: dup
     104: aload         5
     106: ldc           #51                 // String .overlays
     108: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     111: astore        6
     113: aload         6
     115: aload         4
     117: invokestatic  #53                 // Method org/jboss/as/patching/runner/PatchUtils.writeRefs:(Ljava/io/File;Ljava/util/List;)V
     120: aload_3
     121: ldc           #54                 // String cumulative-patch-id
     123: aload_1
     124: invokevirtual #55                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     127: pop
     128: aload_3
     129: ldc           #56                 // String patches
     131: aload_2
     132: invokestatic  #57                 // Method org/jboss/as/patching/runner/PatchUtils.asString:(Ljava/util/List;)Ljava/lang/String;
     135: invokevirtual #55                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     138: pop
     139: aload_0
     140: getfield      #19                 // Field version:Ljava/lang/String;
     143: ifnull        157
     146: aload_3
     147: ldc           #58                 // String current-version
     149: aload_0
     150: getfield      #19                 // Field version:Ljava/lang/String;
     153: invokevirtual #55                 // Method java/util/Properties.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     156: pop
     157: aload_0
     158: getfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
     161: invokevirtual #42                 // Method org/jboss/as/patching/DirectoryStructure.getInstallationInfo:()Ljava/io/File;
     164: aload_3
     165: invokestatic  #59                 // Method org/jboss/as/patching/runner/PatchUtils.writeProperties:(Ljava/io/File;Ljava/util/Properties;)V
     168: return

  public org.jboss.as.patching.installation.PatchableTarget$TargetInfo getModifiedState();
    Code:
       0: aload_0
       1: getfield      #3                  // Field modified:Z
       4: ifeq          31
       7: new           #60                 // class org/jboss/as/patching/installation/LayerInfo$TargetInfoImpl
      10: dup
      11: aload_0
      12: getfield      #18                 // Field properties:Ljava/util/Properties;
      15: aload_0
      16: getfield      #10                 // Field cumulativeID:Ljava/lang/String;
      19: aload_0
      20: getfield      #14                 // Field patchIds:Ljava/util/List;
      23: aload_0
      24: getfield      #8                  // Field structure:Lorg/jboss/as/patching/DirectoryStructure;
      27: invokespecial #61                 // Method org/jboss/as/patching/installation/LayerInfo$TargetInfoImpl."<init>":(Ljava/util/Properties;Ljava/lang/String;Ljava/util/List;Lorg/jboss/as/patching/DirectoryStructure;)V
      30: areturn
      31: aload_0
      32: getfield      #6                  // Field current:Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
      35: areturn

  static {};
    Code:
       0: ldc           #62                 // class org/jboss/as/patching/installation/MutableTargetImpl
       2: invokevirtual #63                 // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #39                 // Field $assertionsDisabled:Z
      16: return
}
