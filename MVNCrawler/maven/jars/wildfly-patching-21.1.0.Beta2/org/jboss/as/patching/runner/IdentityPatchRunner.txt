Compiled from "IdentityPatchRunner.java"
class org.jboss.as.patching.runner.IdentityPatchRunner implements org.jboss.as.patching.installation.InstallationManager$ModificationCompletionCallback {
  private static final java.lang.String DIRECTORY_SUFFIX;

  private static final java.io.File TEMP_DIR;

  private final org.jboss.as.patching.installation.InstalledImage installedImage;

  static final boolean $assertionsDisabled;

  org.jboss.as.patching.runner.IdentityPatchRunner(org.jboss.as.patching.installation.InstalledImage);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
       9: return

  public org.jboss.as.patching.tool.PatchingResult applyPatch(org.jboss.as.patching.metadata.PatchMetadataResolver, org.jboss.as.patching.runner.PatchContentProvider, org.jboss.as.patching.tool.ContentVerificationPolicy, org.jboss.as.patching.installation.InstallationManager$InstallationModification) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_1
       1: aload         4
       3: invokeinterface #3,  1            // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getName:()Ljava/lang/String;
       8: aload         4
      10: invokeinterface #4,  1            // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getVersion:()Ljava/lang/String;
      15: invokeinterface #5,  3            // InterfaceMethod org/jboss/as/patching/metadata/PatchMetadataResolver.resolvePatch:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/Patch;
      20: astore        5
      22: aload         5
      24: ifnonnull     50
      27: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      30: aload         4
      32: invokeinterface #3,  1            // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getName:()Ljava/lang/String;
      37: aload         4
      39: invokeinterface #4,  1            // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getVersion:()Ljava/lang/String;
      44: invokeinterface #7,  3            // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.failedToResolvePatch:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
      49: athrow
      50: aload         5
      52: invokeinterface #8,  1            // InterfaceMethod org/jboss/as/patching/metadata/Patch.getPatchId:()Ljava/lang/String;
      57: astore        6
      59: aload         5
      61: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/patching/metadata/Patch.getIdentity:()Lorg/jboss/as/patching/metadata/Identity;
      66: astore        7
      68: aload         7
      70: invokeinterface #10,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity.getVersion:()Ljava/lang/String;
      75: astore        8
      77: aload         8
      79: aload         4
      81: invokeinterface #4,  1            // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getVersion:()Ljava/lang/String;
      86: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      89: ifne          110
      92: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      95: aload         8
      97: aload         4
      99: invokeinterface #4,  1            // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getVersion:()Ljava/lang/String;
     104: invokeinterface #12,  3           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.doesNotApply:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     109: athrow
     110: aload         4
     112: aload         6
     114: invokeinterface #13,  2           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.isApplied:(Ljava/lang/String;)Z
     119: ifeq          133
     122: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     125: aload         6
     127: invokeinterface #14,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.alreadyApplied:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     132: athrow
     133: aload         7
     135: aload         4
     137: invokestatic  #15                 // Method checkUpgradeConditions:(Lorg/jboss/as/patching/metadata/UpgradeCondition;Lorg/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget;)V
     140: aload_0
     141: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
     144: aload         6
     146: invokeinterface #16,  2           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getPatchHistoryDir:(Ljava/lang/String;)Ljava/io/File;
     151: astore        9
     153: new           #17                 // class org/jboss/as/patching/runner/IdentityPatchContext
     156: dup
     157: aload         9
     159: aload_2
     160: aload_3
     161: aload         4
     163: getstatic     #18                 // Field org/jboss/as/patching/runner/PatchingTaskContext$Mode.APPLY:Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;
     166: aload_0
     167: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
     170: invokespecial #19                 // Method org/jboss/as/patching/runner/IdentityPatchContext."<init>":(Ljava/io/File;Lorg/jboss/as/patching/runner/PatchContentProvider;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;Lorg/jboss/as/patching/installation/InstallationManager$InstallationModification;Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;Lorg/jboss/as/patching/installation/InstalledImage;)V
     173: astore        10
     175: aload_0
     176: aload         6
     178: aload         5
     180: aload         10
     182: invokevirtual #20                 // Method applyPatch:(Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch;Lorg/jboss/as/patching/runner/IdentityPatchContext;)Lorg/jboss/as/patching/tool/PatchingResult;
     185: astore        11
     187: aload         10
     189: invokevirtual #21                 // Method org/jboss/as/patching/runner/IdentityPatchContext.cleanup:()V
     192: aload_2
     193: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/patching/runner/PatchContentProvider.cleanup:()V
     198: aload         11
     200: areturn
     201: astore        11
     203: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     206: aload         11
     208: ldc           #24                 // String failed to apply patch %s
     210: aload         6
     212: invokeinterface #25,  4           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.debugf:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
     217: aload         11
     219: invokestatic  #26                 // Method rethrowException:(Ljava/lang/Exception;)Lorg/jboss/as/patching/PatchingException;
     222: athrow
     223: astore        12
     225: aload         10
     227: invokevirtual #21                 // Method org/jboss/as/patching/runner/IdentityPatchContext.cleanup:()V
     230: aload         12
     232: athrow
     233: astore        13
     235: aload_2
     236: invokeinterface #22,  1           // InterfaceMethod org/jboss/as/patching/runner/PatchContentProvider.cleanup:()V
     241: aload         13
     243: athrow
    Exception table:
       from    to  target type
         175   187   201   Class java/lang/Exception
         175   187   223   any
         201   225   223   any
           0   192   233   any
         201   235   233   any

  private org.jboss.as.patching.tool.PatchingResult applyPatch(java.lang.String, org.jboss.as.patching.metadata.Patch, org.jboss.as.patching.runner.IdentityPatchContext) throws org.jboss.as.patching.PatchingException, java.io.IOException, javax.xml.stream.XMLStreamException;
    Code:
       0: aload_2
       1: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/patching/metadata/Patch.getIdentity:()Lorg/jboss/as/patching/metadata/Identity;
       6: astore        4
       8: aload         4
      10: invokeinterface #27,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity.getPatchType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
      15: astore        5
      17: aload_3
      18: invokevirtual #28                 // Method org/jboss/as/patching/runner/IdentityPatchContext.getModification:()Lorg/jboss/as/patching/installation/InstallationManager$InstallationModification;
      21: astore        6
      23: aload         5
      25: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
      28: if_acmpne     147
      31: new           #30                 // class java/util/ArrayList
      34: dup
      35: aload         6
      37: invokeinterface #31,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getPatchIDs:()Ljava/util/List;
      42: invokespecial #32                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      45: astore        7
      47: aload         7
      49: invokeinterface #33,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      54: ifne          147
      57: aload         7
      59: aload         7
      61: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
      66: iconst_1
      67: isub
      68: invokeinterface #35,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      73: checkcast     #36                 // class java/lang/String
      76: aload         6
      78: invokeinterface #37,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getUnmodifiedInstallationState:()Lorg/jboss/as/patching/installation/InstalledIdentity;
      83: invokestatic  #38                 // Method org/jboss/as/patching/validation/PatchHistoryValidations.validateRollbackState:(Ljava/lang/String;Lorg/jboss/as/patching/installation/InstalledIdentity;)V
      86: goto          106
      89: astore        8
      91: aload         8
      93: athrow
      94: astore        8
      96: new           #39                 // class org/jboss/as/patching/PatchingException
      99: dup
     100: aload         8
     102: invokespecial #40                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
     105: athrow
     106: aload         7
     108: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     113: astore        8
     115: aload         8
     117: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     122: ifeq          147
     125: aload         8
     127: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     132: checkcast     #36                 // class java/lang/String
     135: astore        9
     137: aload_0
     138: aload         9
     140: aload_3
     141: invokevirtual #44                 // Method rollback:(Ljava/lang/String;Lorg/jboss/as/patching/runner/IdentityPatchContext;)V
     144: goto          115
     147: aload         6
     149: aload_1
     150: invokeinterface #45,  2           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.addInstalledPatch:(Ljava/lang/String;)V
     155: aload_2
     156: invokeinterface #46,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getElements:()Ljava/util/List;
     161: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     166: astore        7
     168: aload         7
     170: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     175: ifeq          279
     178: aload         7
     180: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     185: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     188: astore        8
     190: aload_3
     191: aload         8
     193: invokevirtual #48                 // Method org/jboss/as/patching/runner/IdentityPatchContext.resolveForElement:(Lorg/jboss/as/patching/metadata/PatchElement;)Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     196: astore        9
     198: aload         8
     200: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     205: astore        10
     207: aload         10
     209: invokeinterface #50,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getPatchType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
     214: astore        11
     216: aload         8
     218: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getId:()Ljava/lang/String;
     223: astore        12
     225: aload         9
     227: aload         12
     229: invokevirtual #52                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.isApplied:(Ljava/lang/String;)Z
     232: ifeq          246
     235: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     238: aload         12
     240: invokeinterface #14,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.alreadyApplied:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     245: athrow
     246: aload         10
     248: aload         9
     250: invokestatic  #15                 // Method checkUpgradeConditions:(Lorg/jboss/as/patching/metadata/UpgradeCondition;Lorg/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget;)V
     253: aload         12
     255: aload         8
     257: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     262: aload         9
     264: invokestatic  #54                 // Method org/jboss/as/patching/runner/PatchingTasks.apply:(Ljava/lang/String;Ljava/util/Collection;Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)V
     267: aload         9
     269: aload         12
     271: aload         11
     273: invokevirtual #55                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.apply:(Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch$PatchType;)V
     276: goto          168
     279: aload_3
     280: invokevirtual #56                 // Method org/jboss/as/patching/runner/IdentityPatchContext.getIdentityEntry:()Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     283: astore        7
     285: aload_1
     286: aload_2
     287: invokeinterface #57,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getModifications:()Ljava/util/List;
     292: aload         7
     294: invokestatic  #54                 // Method org/jboss/as/patching/runner/PatchingTasks.apply:(Ljava/lang/String;Ljava/util/Collection;Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)V
     297: aload         7
     299: aload_1
     300: aload         5
     302: invokevirtual #55                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.apply:(Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch$PatchType;)V
     305: aload         5
     307: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     310: if_acmpne     319
     313: aload_0
     314: aload_2
     315: aload_3
     316: invokevirtual #58                 // Method portForward:(Lorg/jboss/as/patching/metadata/Patch;Lorg/jboss/as/patching/runner/IdentityPatchContext;)V
     319: aload         5
     321: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     324: if_acmpne     356
     327: aload         4
     329: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     332: ldc           #59                 // class org/jboss/as/patching/metadata/Identity$IdentityUpgrade
     334: invokeinterface #60,  3           // InterfaceMethod org/jboss/as/patching/metadata/Identity.forType:(Lorg/jboss/as/patching/metadata/Patch$PatchType;Ljava/lang/Class;)Lorg/jboss/as/patching/metadata/Identity;
     339: checkcast     #59                 // class org/jboss/as/patching/metadata/Identity$IdentityUpgrade
     342: astore        8
     344: aload         7
     346: aload         8
     348: invokeinterface #61,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity$IdentityUpgrade.getResultingVersion:()Ljava/lang/String;
     353: invokevirtual #62                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.setResultingVersion:(Ljava/lang/String;)V
     356: new           #63                 // class org/jboss/as/patching/runner/IdentityApplyCallback
     359: dup
     360: aload_2
     361: aload         7
     363: invokevirtual #64                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getDirectoryStructure:()Lorg/jboss/as/patching/DirectoryStructure;
     366: invokespecial #65                 // Method org/jboss/as/patching/runner/IdentityApplyCallback."<init>":(Lorg/jboss/as/patching/metadata/Patch;Lorg/jboss/as/patching/DirectoryStructure;)V
     369: astore        8
     371: aload_3
     372: aload         8
     374: invokestatic  #66                 // Method executeTasks:(Lorg/jboss/as/patching/runner/IdentityPatchContext;Lorg/jboss/as/patching/runner/IdentityPatchContext$FinalizeCallback;)Lorg/jboss/as/patching/tool/PatchingResult;
     377: areturn
     378: astore        9
     380: aload_3
     381: aload         8
     383: invokevirtual #67                 // Method org/jboss/as/patching/runner/IdentityPatchContext.cancel:(Lorg/jboss/as/patching/runner/IdentityPatchContext$FinalizeCallback;)V
     386: aload         9
     388: invokestatic  #26                 // Method rethrowException:(Ljava/lang/Exception;)Lorg/jboss/as/patching/PatchingException;
     391: athrow
    Exception table:
       from    to  target type
          57    86    89   Class org/jboss/as/patching/PatchingException
          57    86    94   Class java/lang/Exception
         371   377   378   Class java/lang/Exception

  public org.jboss.as.patching.tool.PatchingResult rollbackPatch(java.lang.String, org.jboss.as.patching.tool.ContentVerificationPolicy, boolean, boolean, org.jboss.as.patching.installation.InstallationManager$InstallationModification) throws org.jboss.as.patching.PatchingException;
    Code:
       0: ldc           #69                 // String base
       2: aload_1
       3: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
       6: ifeq          19
       9: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      12: aload_1
      13: invokeinterface #70,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotRollbackPatch:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
      18: athrow
      19: aload_1
      20: aload         5
      22: invokeinterface #37,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getUnmodifiedInstallationState:()Lorg/jboss/as/patching/installation/InstalledIdentity;
      27: invokestatic  #38                 // Method org/jboss/as/patching/validation/PatchHistoryValidations.validateRollbackState:(Ljava/lang/String;Lorg/jboss/as/patching/installation/InstalledIdentity;)V
      30: goto          50
      33: astore        6
      35: aload         6
      37: athrow
      38: astore        6
      40: new           #39                 // class org/jboss/as/patching/PatchingException
      43: dup
      44: aload         6
      46: invokespecial #40                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
      49: athrow
      50: new           #30                 // class java/util/ArrayList
      53: dup
      54: invokespecial #71                 // Method java/util/ArrayList."<init>":()V
      57: astore        6
      59: aload         5
      61: invokeinterface #31,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getPatchIDs:()Ljava/util/List;
      66: astore        7
      68: aload         7
      70: aload_1
      71: invokeinterface #72,  2           // InterfaceMethod java/util/List.indexOf:(Ljava/lang/Object;)I
      76: istore        8
      78: iload         8
      80: iconst_m1
      81: if_icmpne     136
      84: aload_1
      85: aload         5
      87: invokeinterface #73,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getCumulativePatchID:()Ljava/lang/String;
      92: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      95: ifeq          126
      98: aload         6
     100: aload         7
     102: invokeinterface #74,  2           // InterfaceMethod java/util/List.addAll:(Ljava/util/Collection;)Z
     107: pop
     108: aload         6
     110: aload         5
     112: invokeinterface #73,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getCumulativePatchID:()Ljava/lang/String;
     117: invokeinterface #75,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     122: pop
     123: goto          206
     126: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     129: aload_1
     130: invokeinterface #70,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotRollbackPatch:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     135: athrow
     136: iload         8
     138: ifne          153
     141: aload         6
     143: aload_1
     144: invokeinterface #75,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     149: pop
     150: goto          206
     153: iload_3
     154: ifeq          196
     157: iconst_0
     158: istore        9
     160: iload         9
     162: iload         8
     164: if_icmpgt     193
     167: aload         6
     169: aload         7
     171: iload         9
     173: invokeinterface #35,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     178: checkcast     #36                 // class java/lang/String
     181: invokeinterface #75,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     186: pop
     187: iinc          9, 1
     190: goto          160
     193: goto          206
     196: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     199: aload_1
     200: invokeinterface #70,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotRollbackPatch:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     205: athrow
     206: aload_0
     207: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
     210: aload_1
     211: invokeinterface #16,  2           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getPatchHistoryDir:(Ljava/lang/String;)Ljava/io/File;
     216: astore        9
     218: aload         9
     220: invokestatic  #76                 // Method assertExists:(Ljava/io/File;)V
     223: new           #77                 // class java/io/File
     226: dup
     227: aload         9
     229: ldc           #78                 // String rollback.xml
     231: invokespecial #79                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     234: astore        10
     236: aload         10
     238: invokestatic  #76                 // Method assertExists:(Ljava/io/File;)V
     241: invokestatic  #80                 // Method createTempDir:()Ljava/io/File;
     244: astore        11
     246: getstatic     #81                 // Field org/jboss/as/patching/runner/PatchContentProvider.ROLLBACK_PROVIDER:Lorg/jboss/as/patching/runner/PatchContentProvider;
     249: astore        12
     251: new           #17                 // class org/jboss/as/patching/runner/IdentityPatchContext
     254: dup
     255: aload         11
     257: aload         12
     259: aload_2
     260: aload         5
     262: getstatic     #82                 // Field org/jboss/as/patching/runner/PatchingTaskContext$Mode.ROLLBACK:Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;
     265: aload_0
     266: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
     269: invokespecial #19                 // Method org/jboss/as/patching/runner/IdentityPatchContext."<init>":(Ljava/io/File;Lorg/jboss/as/patching/runner/PatchContentProvider;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;Lorg/jboss/as/patching/installation/InstallationManager$InstallationModification;Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;Lorg/jboss/as/patching/installation/InstalledImage;)V
     272: astore        13
     274: aload         6
     276: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     281: astore        14
     283: aload         14
     285: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     290: ifeq          335
     293: aload         14
     295: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     300: checkcast     #36                 // class java/lang/String
     303: astore        15
     305: ldc           #69                 // String base
     307: aload         15
     309: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     312: ifne          332
     315: aload_0
     316: aload         15
     318: aload         13
     320: invokevirtual #44                 // Method rollback:(Ljava/lang/String;Lorg/jboss/as/patching/runner/IdentityPatchContext;)V
     323: aload         5
     325: aload         15
     327: invokeinterface #83,  2           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.removeInstalledPatch:(Ljava/lang/String;)V
     332: goto          283
     335: aload         13
     337: invokevirtual #56                 // Method org/jboss/as/patching/runner/IdentityPatchContext.getIdentityEntry:()Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     340: astore        14
     342: new           #84                 // class org/jboss/as/patching/runner/IdentityRollbackCallback
     345: dup
     346: aload_1
     347: aload         6
     349: iload         4
     351: aload         14
     353: invokevirtual #64                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getDirectoryStructure:()Lorg/jboss/as/patching/DirectoryStructure;
     356: invokespecial #85                 // Method org/jboss/as/patching/runner/IdentityRollbackCallback."<init>":(Ljava/lang/String;Ljava/util/Collection;ZLorg/jboss/as/patching/DirectoryStructure;)V
     359: astore        15
     361: aload         13
     363: aload         15
     365: invokestatic  #66                 // Method executeTasks:(Lorg/jboss/as/patching/runner/IdentityPatchContext;Lorg/jboss/as/patching/runner/IdentityPatchContext$FinalizeCallback;)Lorg/jboss/as/patching/tool/PatchingResult;
     368: astore        16
     370: aload         11
     372: ifnull        396
     375: aload         11
     377: invokestatic  #86                 // Method org/jboss/as/patching/IoUtils.recursiveDelete:(Ljava/io/File;)Z
     380: ifne          396
     383: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     386: aload         11
     388: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     391: invokeinterface #88,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotDeleteFile:(Ljava/lang/String;)V
     396: aload         13
     398: invokevirtual #21                 // Method org/jboss/as/patching/runner/IdentityPatchContext.cleanup:()V
     401: aload         16
     403: areturn
     404: astore        16
     406: aload         13
     408: aload         15
     410: invokevirtual #67                 // Method org/jboss/as/patching/runner/IdentityPatchContext.cancel:(Lorg/jboss/as/patching/runner/IdentityPatchContext$FinalizeCallback;)V
     413: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     416: aload         16
     418: ldc           #89                 // String failed to rollback patch %s
     420: aload_1
     421: invokeinterface #25,  4           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.debugf:(Ljava/lang/Throwable;Ljava/lang/String;Ljava/lang/Object;)V
     426: aload         16
     428: invokestatic  #26                 // Method rethrowException:(Ljava/lang/Exception;)Lorg/jboss/as/patching/PatchingException;
     431: athrow
     432: astore        17
     434: aload         11
     436: ifnull        460
     439: aload         11
     441: invokestatic  #86                 // Method org/jboss/as/patching/IoUtils.recursiveDelete:(Ljava/io/File;)Z
     444: ifne          460
     447: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     450: aload         11
     452: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     455: invokeinterface #88,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotDeleteFile:(Ljava/lang/String;)V
     460: aload         13
     462: invokevirtual #21                 // Method org/jboss/as/patching/runner/IdentityPatchContext.cleanup:()V
     465: aload         17
     467: athrow
    Exception table:
       from    to  target type
          19    30    33   Class org/jboss/as/patching/PatchingException
          19    30    38   Class java/lang/Exception
         361   370   404   Class java/lang/Exception
         274   370   432   any
         404   434   432   any

  public org.jboss.as.patching.tool.PatchingResult rollbackLast(org.jboss.as.patching.tool.ContentVerificationPolicy, boolean, org.jboss.as.patching.installation.InstallationManager$InstallationModification) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_3
       1: invokeinterface #31,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getPatchIDs:()Ljava/util/List;
       6: astore        5
       8: aload         5
      10: invokeinterface #33,  1           // InterfaceMethod java/util/List.isEmpty:()Z
      15: ifeq          50
      18: aload_3
      19: invokeinterface #73,  1           // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$InstallationModification.getCumulativePatchID:()Ljava/lang/String;
      24: astore        4
      26: aload         4
      28: ifnull        41
      31: ldc           #69                 // String base
      33: aload         4
      35: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      38: ifeq          63
      41: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      44: invokeinterface #90,  1           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.noPatchesApplied:()Ljava/lang/IllegalArgumentException;
      49: athrow
      50: aload         5
      52: iconst_0
      53: invokeinterface #35,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      58: checkcast     #36                 // class java/lang/String
      61: astore        4
      63: aload_0
      64: aload         4
      66: aload_1
      67: iconst_0
      68: iload_2
      69: aload_3
      70: invokevirtual #91                 // Method rollbackPatch:(Ljava/lang/String;Lorg/jboss/as/patching/tool/ContentVerificationPolicy;ZZLorg/jboss/as/patching/installation/InstallationManager$InstallationModification;)Lorg/jboss/as/patching/tool/PatchingResult;
      73: areturn

  public void completed();
    Code:
       0: return

  public void canceled();
    Code:
       0: return

  private void rollback(java.lang.String, org.jboss.as.patching.runner.IdentityPatchContext) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_2
       1: invokevirtual #92                 // Method org/jboss/as/patching/runner/IdentityPatchContext.getMode:()Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;
       4: astore_3
       5: aload_1
       6: aload_0
       7: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
      10: invokestatic  #93                 // Method loadPatchInformation:(Ljava/lang/String;Lorg/jboss/as/patching/installation/InstalledImage;)Lorg/jboss/as/patching/metadata/Patch;
      13: astore        4
      15: aload_1
      16: aload_0
      17: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
      20: invokestatic  #94                 // Method loadRollbackInformation:(Ljava/lang/String;Lorg/jboss/as/patching/installation/InstalledImage;)Lorg/jboss/as/patching/metadata/RollbackPatch;
      23: astore        5
      25: aload         5
      27: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getIdentity:()Lorg/jboss/as/patching/metadata/Identity;
      32: invokeinterface #27,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity.getPatchType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
      37: astore        6
      39: aload         5
      41: invokeinterface #96,  1           // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getIdentityState:()Lorg/jboss/as/patching/installation/InstalledIdentity;
      46: astore        7
      48: new           #97                 // class java/util/LinkedHashMap
      51: dup
      52: invokespecial #98                 // Method java/util/LinkedHashMap."<init>":()V
      55: astore        8
      57: new           #97                 // class java/util/LinkedHashMap
      60: dup
      61: invokespecial #98                 // Method java/util/LinkedHashMap."<init>":()V
      64: astore        9
      66: aload         4
      68: invokeinterface #46,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getElements:()Ljava/util/List;
      73: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      78: astore        10
      80: aload         10
      82: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      87: ifeq          232
      90: aload         10
      92: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      97: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     100: astore        11
     102: aload         11
     104: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     109: astore        12
     111: aload         12
     113: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     118: astore        13
     120: aload         12
     122: invokeinterface #100,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getLayerType:()Lorg/jboss/as/patching/metadata/LayerType;
     127: astore        14
     129: getstatic     #101                // Field org/jboss/as/patching/runner/IdentityPatchRunner$1.$SwitchMap$org$jboss$as$patching$metadata$LayerType:[I
     132: aload         14
     134: invokevirtual #102                // Method org/jboss/as/patching/metadata/LayerType.ordinal:()I
     137: iaload
     138: lookupswitch  { // 2
                     1: 164
                     2: 171
               default: 178
          }
     164: aload         8
     166: astore        15
     168: goto          186
     171: aload         9
     173: astore        15
     175: goto          186
     178: new           #103                // class java/lang/IllegalStateException
     181: dup
     182: invokespecial #104                // Method java/lang/IllegalStateException."<init>":()V
     185: athrow
     186: aload         15
     188: aload         13
     190: invokeinterface #105,  2          // InterfaceMethod java/util/Map.containsKey:(Ljava/lang/Object;)Z
     195: ifne          213
     198: aload         15
     200: aload         13
     202: aload         11
     204: invokeinterface #106,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     209: pop
     210: goto          229
     213: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     216: aload         14
     218: invokevirtual #107                // Method org/jboss/as/patching/metadata/LayerType.toString:()Ljava/lang/String;
     221: aload         13
     223: invokeinterface #108,  3          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.installationDuplicateLayer:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/IllegalStateException;
     228: athrow
     229: goto          80
     232: aload         5
     234: invokeinterface #109,  1          // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getElements:()Ljava/util/List;
     239: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     244: astore        10
     246: aload         10
     248: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     253: ifeq          504
     256: aload         10
     258: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     263: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     266: astore        11
     268: aload         11
     270: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getId:()Ljava/lang/String;
     275: astore        12
     277: aload         11
     279: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     284: astore        13
     286: aload         13
     288: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     293: astore        14
     295: aload         13
     297: invokeinterface #100,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getLayerType:()Lorg/jboss/as/patching/metadata/LayerType;
     302: astore        15
     304: getstatic     #101                // Field org/jboss/as/patching/runner/IdentityPatchRunner$1.$SwitchMap$org$jboss$as$patching$metadata$LayerType:[I
     307: aload         15
     309: invokevirtual #102                // Method org/jboss/as/patching/metadata/LayerType.ordinal:()I
     312: iaload
     313: lookupswitch  { // 2
                     1: 340
                     2: 347
               default: 354
          }
     340: aload         8
     342: astore        16
     344: goto          362
     347: aload         9
     349: astore        16
     351: goto          362
     354: new           #103                // class java/lang/IllegalStateException
     357: dup
     358: invokespecial #104                // Method java/lang/IllegalStateException."<init>":()V
     361: athrow
     362: aload         16
     364: aload         14
     366: invokevirtual #110                // Method java/util/LinkedHashMap.remove:(Ljava/lang/Object;)Ljava/lang/Object;
     369: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     372: astore        17
     374: aload         17
     376: ifnonnull     390
     379: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     382: aload         14
     384: invokeinterface #111,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.noSuchLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     389: athrow
     390: aload_2
     391: aload         11
     393: invokevirtual #48                 // Method org/jboss/as/patching/runner/IdentityPatchContext.resolveForElement:(Lorg/jboss/as/patching/metadata/PatchElement;)Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     396: astore        18
     398: aload         12
     400: aload         17
     402: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     407: aload         11
     409: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     414: aload         18
     416: getstatic     #112                // Field org/jboss/as/patching/runner/ContentItemFilter.ALL_BUT_MISC:Lorg/jboss/as/patching/runner/ContentItemFilter;
     419: aload_3
     420: invokestatic  #113                // Method org/jboss/as/patching/runner/PatchingTasks.rollback:(Ljava/lang/String;Ljava/util/Collection;Ljava/util/Collection;Lorg/jboss/as/patching/runner/ContentTaskDefinitions;Lorg/jboss/as/patching/runner/ContentItemFilter;Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;)V
     423: aload         18
     425: aload         17
     427: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getId:()Ljava/lang/String;
     432: invokevirtual #114                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.rollback:(Ljava/lang/String;)V
     435: aload         13
     437: invokeinterface #50,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getPatchType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
     442: astore        19
     444: aload         15
     446: getstatic     #115                // Field org/jboss/as/patching/metadata/LayerType.AddOn:Lorg/jboss/as/patching/metadata/LayerType;
     449: if_acmpne     469
     452: aload         7
     454: aload         14
     456: invokevirtual #116                // Method org/jboss/as/patching/installation/InstalledIdentity.getAddOn:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/AddOn;
     459: invokeinterface #117,  1          // InterfaceMethod org/jboss/as/patching/installation/AddOn.loadTargetInfo:()Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
     464: astore        20
     466: goto          483
     469: aload         7
     471: aload         14
     473: invokevirtual #118                // Method org/jboss/as/patching/installation/InstalledIdentity.getLayer:(Ljava/lang/String;)Lorg/jboss/as/patching/installation/Layer;
     476: invokeinterface #119,  1          // InterfaceMethod org/jboss/as/patching/installation/Layer.loadTargetInfo:()Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
     481: astore        20
     483: aload_3
     484: getstatic     #82                 // Field org/jboss/as/patching/runner/PatchingTaskContext$Mode.ROLLBACK:Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;
     487: if_acmpne     501
     490: aload         18
     492: aload         12
     494: aload         19
     496: aload         20
     498: invokestatic  #120                // Method restoreFromHistory:(Lorg/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget;Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch$PatchType;Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;)V
     501: goto          246
     504: aload         8
     506: invokevirtual #121                // Method java/util/LinkedHashMap.isEmpty:()Z
     509: ifeq          520
     512: aload         9
     514: invokevirtual #121                // Method java/util/LinkedHashMap.isEmpty:()Z
     517: ifne          529
     520: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     523: invokeinterface #122,  1          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.invalidRollbackInformation:()Lorg/jboss/as/patching/PatchingException;
     528: athrow
     529: aload_2
     530: invokevirtual #56                 // Method org/jboss/as/patching/runner/IdentityPatchContext.getIdentityEntry:()Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     533: astore        10
     535: aload_1
     536: aload         4
     538: invokeinterface #57,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getModifications:()Ljava/util/List;
     543: aload         5
     545: invokeinterface #123,  1          // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getModifications:()Ljava/util/List;
     550: aload         10
     552: getstatic     #124                // Field org/jboss/as/patching/runner/ContentItemFilter.MISC_ONLY:Lorg/jboss/as/patching/runner/ContentItemFilter;
     555: aload_3
     556: invokestatic  #113                // Method org/jboss/as/patching/runner/PatchingTasks.rollback:(Ljava/lang/String;Ljava/util/Collection;Ljava/util/Collection;Lorg/jboss/as/patching/runner/ContentTaskDefinitions;Lorg/jboss/as/patching/runner/ContentItemFilter;Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;)V
     559: aload         10
     561: aload_1
     562: invokevirtual #114                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.rollback:(Ljava/lang/String;)V
     565: aload_3
     566: getstatic     #82                 // Field org/jboss/as/patching/runner/PatchingTaskContext$Mode.ROLLBACK:Lorg/jboss/as/patching/runner/PatchingTaskContext$Mode;
     569: if_acmpne     615
     572: aload         7
     574: invokevirtual #125                // Method org/jboss/as/patching/installation/InstalledIdentity.getIdentity:()Lorg/jboss/as/patching/installation/Identity;
     577: invokeinterface #126,  1          // InterfaceMethod org/jboss/as/patching/installation/Identity.loadTargetInfo:()Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
     582: astore        11
     584: aload         10
     586: aload         5
     588: invokeinterface #127,  1          // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getPatchId:()Ljava/lang/String;
     593: aload         6
     595: aload         11
     597: invokestatic  #120                // Method restoreFromHistory:(Lorg/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget;Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch$PatchType;Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;)V
     600: aload         6
     602: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     605: if_acmpne     615
     608: aload_0
     609: aload         5
     611: aload_2
     612: invokevirtual #128                // Method reenableNotOverridenModules:(Lorg/jboss/as/patching/metadata/RollbackPatch;Lorg/jboss/as/patching/runner/IdentityPatchContext;)V
     615: aload         6
     617: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     620: if_acmpne     657
     623: aload         5
     625: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getIdentity:()Lorg/jboss/as/patching/metadata/Identity;
     630: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     633: ldc           #59                 // class org/jboss/as/patching/metadata/Identity$IdentityUpgrade
     635: invokeinterface #60,  3           // InterfaceMethod org/jboss/as/patching/metadata/Identity.forType:(Lorg/jboss/as/patching/metadata/Patch$PatchType;Ljava/lang/Class;)Lorg/jboss/as/patching/metadata/Identity;
     640: checkcast     #59                 // class org/jboss/as/patching/metadata/Identity$IdentityUpgrade
     643: astore        11
     645: aload         10
     647: aload         11
     649: invokeinterface #61,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity$IdentityUpgrade.getResultingVersion:()Ljava/lang/String;
     654: invokevirtual #62                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.setResultingVersion:(Ljava/lang/String;)V
     657: goto          666
     660: astore_3
     661: aload_3
     662: invokestatic  #26                 // Method rethrowException:(Ljava/lang/Exception;)Lorg/jboss/as/patching/PatchingException;
     665: athrow
     666: return
    Exception table:
       from    to  target type
           0   657   660   Class java/lang/Exception

  static void restoreFromHistory(org.jboss.as.patching.installation.InstallationManager$MutablePatchingTarget, java.lang.String, org.jboss.as.patching.metadata.Patch$PatchType, org.jboss.as.patching.installation.PatchableTarget$TargetInfo) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_2
       1: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
       4: if_acmpne     107
       7: getstatic     #129                // Field $assertionsDisabled:Z
      10: ifne          34
      13: aload_3
      14: invokeinterface #130,  1          // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getCumulativePatchID:()Ljava/lang/String;
      19: aload_1
      20: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      23: ifne          34
      26: new           #131                // class java/lang/AssertionError
      29: dup
      30: invokespecial #132                // Method java/lang/AssertionError."<init>":()V
      33: athrow
      34: aload_0
      35: aload_1
      36: aload_2
      37: invokeinterface #133,  3          // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget.apply:(Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch$PatchType;)V
      42: new           #30                 // class java/util/ArrayList
      45: dup
      46: aload_3
      47: invokeinterface #134,  1          // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getPatchIDs:()Ljava/util/List;
      52: invokespecial #32                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      55: astore        4
      57: aload         4
      59: invokestatic  #135                // Method java/util/Collections.reverse:(Ljava/util/List;)V
      62: aload         4
      64: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      69: astore        5
      71: aload         5
      73: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      78: ifeq          107
      81: aload         5
      83: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      88: checkcast     #36                 // class java/lang/String
      91: astore        6
      93: aload_0
      94: aload         6
      96: getstatic     #136                // Field org/jboss/as/patching/metadata/Patch$PatchType.ONE_OFF:Lorg/jboss/as/patching/metadata/Patch$PatchType;
      99: invokeinterface #133,  3          // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget.apply:(Ljava/lang/String;Lorg/jboss/as/patching/metadata/Patch$PatchType;)V
     104: goto          71
     107: aload_3
     108: aload_3
     109: invokestatic  #137                // Method checkState:(Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;)V
     112: return

  static void checkState(org.jboss.as.patching.installation.PatchableTarget$TargetInfo, org.jboss.as.patching.installation.PatchableTarget$TargetInfo);
    Code:
       0: getstatic     #129                // Field $assertionsDisabled:Z
       3: ifne          34
       6: aload_1
       7: invokeinterface #134,  1          // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getPatchIDs:()Ljava/util/List;
      12: aload_0
      13: invokeinterface #134,  1          // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getPatchIDs:()Ljava/util/List;
      18: invokeinterface #138,  2          // InterfaceMethod java/util/List.equals:(Ljava/lang/Object;)Z
      23: ifne          34
      26: new           #131                // class java/lang/AssertionError
      29: dup
      30: invokespecial #132                // Method java/lang/AssertionError."<init>":()V
      33: athrow
      34: getstatic     #129                // Field $assertionsDisabled:Z
      37: ifne          66
      40: aload_1
      41: invokeinterface #130,  1          // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getCumulativePatchID:()Ljava/lang/String;
      46: aload_0
      47: invokeinterface #130,  1          // InterfaceMethod org/jboss/as/patching/installation/PatchableTarget$TargetInfo.getCumulativePatchID:()Ljava/lang/String;
      52: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      55: ifne          66
      58: new           #131                // class java/lang/AssertionError
      61: dup
      62: invokespecial #132                // Method java/lang/AssertionError."<init>":()V
      65: athrow
      66: return

  void reenableNotOverridenModules(org.jboss.as.patching.metadata.RollbackPatch, org.jboss.as.patching.runner.IdentityPatchContext) throws org.jboss.as.patching.PatchingException, java.io.IOException, javax.xml.stream.XMLStreamException;
    Code:
       0: getstatic     #129                // Field $assertionsDisabled:Z
       3: ifne          31
       6: aload_1
       7: invokeinterface #95,  1           // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getIdentity:()Lorg/jboss/as/patching/metadata/Identity;
      12: invokeinterface #27,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity.getPatchType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
      17: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
      20: if_acmpeq     31
      23: new           #131                // class java/lang/AssertionError
      26: dup
      27: invokespecial #132                // Method java/lang/AssertionError."<init>":()V
      30: athrow
      31: aload_2
      32: invokevirtual #139                // Method org/jboss/as/patching/runner/IdentityPatchContext.getHistory:()Lorg/jboss/as/patching/tool/PatchingHistory;
      35: aload_1
      36: invokeinterface #96,  1           // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getIdentityState:()Lorg/jboss/as/patching/installation/InstalledIdentity;
      41: invokevirtual #125                // Method org/jboss/as/patching/installation/InstalledIdentity.getIdentity:()Lorg/jboss/as/patching/installation/Identity;
      44: invokeinterface #126,  1          // InterfaceMethod org/jboss/as/patching/installation/Identity.loadTargetInfo:()Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;
      49: invokeinterface #140,  2          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory.iterator:(Lorg/jboss/as/patching/installation/PatchableTarget$TargetInfo;)Lorg/jboss/as/patching/tool/PatchingHistory$Iterator;
      54: astore_3
      55: aload_3
      56: invokeinterface #141,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Iterator.hasNext:()Z
      61: ifne          65
      64: return
      65: aload_1
      66: invokeinterface #109,  1          // InterfaceMethod org/jboss/as/patching/metadata/RollbackPatch.getElements:()Ljava/util/List;
      71: astore        4
      73: new           #142                // class java/util/HashMap
      76: dup
      77: aload         4
      79: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
      84: invokespecial #143                // Method java/util/HashMap."<init>":(I)V
      87: astore        5
      89: new           #142                // class java/util/HashMap
      92: dup
      93: aload         4
      95: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
     100: invokespecial #143                // Method java/util/HashMap."<init>":(I)V
     103: astore        6
     105: aload         4
     107: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     112: astore        7
     114: aload         7
     116: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     121: ifeq          203
     124: aload         7
     126: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     131: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     134: astore        8
     136: aload         8
     138: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     143: invokeinterface #144,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.isAddOn:()Z
     148: ifeq          177
     151: aload         6
     153: aload         8
     155: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     160: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     165: invokestatic  #145                // Method java/util/Collections.emptyList:()Ljava/util/List;
     168: invokeinterface #106,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     173: pop
     174: goto          200
     177: aload         5
     179: aload         8
     181: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     186: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     191: invokestatic  #145                // Method java/util/Collections.emptyList:()Ljava/util/List;
     194: invokeinterface #106,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     199: pop
     200: goto          114
     203: aconst_null
     204: astore        7
     206: aload_3
     207: invokeinterface #141,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Iterator.hasNext:()Z
     212: ifeq          461
     215: aload_3
     216: invokeinterface #146,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Iterator.next:()Ljava/lang/Object;
     221: checkcast     #147                // class org/jboss/as/patching/tool/PatchingHistory$Entry
     224: astore        8
     226: aload         8
     228: invokeinterface #148,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Entry.getType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
     233: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
     236: if_acmpne     251
     239: aload         8
     241: invokeinterface #149,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Entry.getMetadata:()Lorg/jboss/as/patching/metadata/Patch;
     246: astore        7
     248: goto          461
     251: aload         8
     253: invokeinterface #149,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Entry.getMetadata:()Lorg/jboss/as/patching/metadata/Patch;
     258: astore        9
     260: aload         9
     262: invokeinterface #46,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getElements:()Ljava/util/List;
     267: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     272: astore        10
     274: aload         10
     276: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     281: ifeq          458
     284: aload         10
     286: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     291: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     294: astore        11
     296: aload         11
     298: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     303: invokeinterface #144,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.isAddOn:()Z
     308: ifeq          318
     311: aload         6
     313: astore        12
     315: goto          322
     318: aload         5
     320: astore        12
     322: aload         12
     324: aload         11
     326: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     331: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     336: invokeinterface #150,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     341: checkcast     #151                // class java/util/List
     344: astore        13
     346: aload         13
     348: ifnull        455
     351: aload         13
     353: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
     358: lookupswitch  { // 2
                     0: 384
                     1: 412
               default: 445
          }
     384: aload         12
     386: aload         11
     388: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     393: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     398: aload         11
     400: invokestatic  #152                // Method java/util/Collections.singletonList:(Ljava/lang/Object;)Ljava/util/List;
     403: invokeinterface #106,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     408: pop
     409: goto          455
     412: new           #30                 // class java/util/ArrayList
     415: dup
     416: aload         13
     418: invokespecial #32                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
     421: astore        13
     423: aload         12
     425: aload         11
     427: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     432: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     437: aload         13
     439: invokeinterface #106,  3          // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     444: pop
     445: aload         13
     447: aload         11
     449: invokeinterface #75,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     454: pop
     455: goto          274
     458: goto          206
     461: invokestatic  #153                // Method java/util/Collections.emptySet:()Ljava/util/Set;
     464: astore        9
     466: aload         4
     468: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     473: astore        10
     475: aload         10
     477: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     482: ifeq          1021
     485: aload         10
     487: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     492: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     495: astore        11
     497: aload         11
     499: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     504: invokeinterface #144,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.isAddOn:()Z
     509: ifeq          539
     512: aload         6
     514: aload         11
     516: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     521: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     526: invokeinterface #150,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     531: checkcast     #151                // class java/util/List
     534: astore        12
     536: goto          563
     539: aload         5
     541: aload         11
     543: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     548: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     553: invokeinterface #150,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     558: checkcast     #151                // class java/util/List
     561: astore        12
     563: aload         12
     565: invokeinterface #33,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     570: ifeq          576
     573: goto          475
     576: aconst_null
     577: astore        8
     579: aload_2
     580: aload         11
     582: invokevirtual #48                 // Method org/jboss/as/patching/runner/IdentityPatchContext.resolveForElement:(Lorg/jboss/as/patching/metadata/PatchElement;)Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     585: astore        13
     587: aload         12
     589: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     594: astore        14
     596: aload         14
     598: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     603: ifeq          1018
     606: aload         14
     608: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     613: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     616: astore        15
     618: aload         15
     620: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     625: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     630: astore        16
     632: aload         16
     634: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     639: ifeq          1015
     642: aload         16
     644: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     649: checkcast     #155                // class org/jboss/as/patching/metadata/ContentModification
     652: astore        17
     654: aload         17
     656: invokevirtual #156                // Method org/jboss/as/patching/metadata/ContentModification.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     659: invokevirtual #157                // Method org/jboss/as/patching/metadata/ContentItem.getContentType:()Lorg/jboss/as/patching/metadata/ContentType;
     662: getstatic     #158                // Field org/jboss/as/patching/metadata/ContentType.MODULE:Lorg/jboss/as/patching/metadata/ContentType;
     665: if_acmpeq     671
     668: goto          632
     671: aload         17
     673: invokevirtual #156                // Method org/jboss/as/patching/metadata/ContentModification.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     676: checkcast     #159                // class org/jboss/as/patching/metadata/ModuleItem
     679: astore        18
     681: aload         13
     683: new           #160                // class org/jboss/as/patching/runner/Location
     686: dup
     687: aload         18
     689: invokespecial #161                // Method org/jboss/as/patching/runner/Location."<init>":(Lorg/jboss/as/patching/metadata/ContentItem;)V
     692: invokevirtual #162                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.get:(Lorg/jboss/as/patching/runner/Location;)Lorg/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition;
     695: ifnull        701
     698: goto          632
     701: aload         9
     703: aload         18
     705: invokeinterface #163,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
     710: ifeq          716
     713: goto          632
     716: aload         13
     718: invokevirtual #64                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getDirectoryStructure:()Lorg/jboss/as/patching/DirectoryStructure;
     721: aload         15
     723: invokeinterface #51,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getId:()Ljava/lang/String;
     728: invokevirtual #164                // Method org/jboss/as/patching/DirectoryStructure.getModulePatchDirectory:(Ljava/lang/String;)Ljava/io/File;
     731: aload         18
     733: invokestatic  #165                // Method org/jboss/as/patching/runner/PatchContentLoader.getModulePath:(Ljava/io/File;Lorg/jboss/as/patching/metadata/ModuleItem;)Ljava/io/File;
     736: astore        19
     738: aload         13
     740: aload         19
     742: invokevirtual #166                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.invalidateRoot:(Ljava/io/File;)V
     745: aload         9
     747: invokeinterface #167,  1          // InterfaceMethod java/util/Set.isEmpty:()Z
     752: ifeq          764
     755: new           #168                // class java/util/HashSet
     758: dup
     759: invokespecial #169                // Method java/util/HashSet."<init>":()V
     762: astore        9
     764: aload         9
     766: aload         18
     768: invokeinterface #170,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     773: pop
     774: aload         7
     776: ifnonnull     789
     779: aload         13
     781: aload         18
     783: invokevirtual #171                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.disableBaseModule:(Lorg/jboss/as/patching/metadata/ModuleItem;)V
     786: goto          1012
     789: aload         8
     791: ifnonnull     988
     794: aload         7
     796: invokeinterface #46,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getElements:()Ljava/util/List;
     801: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     806: astore        20
     808: aload         20
     810: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     815: ifeq          988
     818: aload         20
     820: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     825: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     828: astore        21
     830: aload         21
     832: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     837: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     842: aload         11
     844: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     849: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     854: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     857: ifeq          985
     860: aload         21
     862: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     867: invokeinterface #100,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getLayerType:()Lorg/jboss/as/patching/metadata/LayerType;
     872: aload         11
     874: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     879: invokeinterface #100,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getLayerType:()Lorg/jboss/as/patching/metadata/LayerType;
     884: invokevirtual #172                // Method org/jboss/as/patching/metadata/LayerType.equals:(Ljava/lang/Object;)Z
     887: ifeq          985
     890: new           #168                // class java/util/HashSet
     893: dup
     894: aload         21
     896: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     901: invokeinterface #173,  1          // InterfaceMethod java/util/Collection.size:()I
     906: invokespecial #174                // Method java/util/HashSet."<init>":(I)V
     909: astore        8
     911: aload         21
     913: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     918: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     923: astore        22
     925: aload         22
     927: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     932: ifeq          982
     935: aload         22
     937: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     942: checkcast     #155                // class org/jboss/as/patching/metadata/ContentModification
     945: astore        23
     947: aload         23
     949: invokevirtual #156                // Method org/jboss/as/patching/metadata/ContentModification.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     952: invokevirtual #157                // Method org/jboss/as/patching/metadata/ContentItem.getContentType:()Lorg/jboss/as/patching/metadata/ContentType;
     955: getstatic     #158                // Field org/jboss/as/patching/metadata/ContentType.MODULE:Lorg/jboss/as/patching/metadata/ContentType;
     958: if_acmpne     979
     961: aload         8
     963: aload         23
     965: ldc           #159                // class org/jboss/as/patching/metadata/ModuleItem
     967: invokevirtual #175                // Method org/jboss/as/patching/metadata/ContentModification.getItem:(Ljava/lang/Class;)Lorg/jboss/as/patching/metadata/ContentItem;
     970: checkcast     #159                // class org/jboss/as/patching/metadata/ModuleItem
     973: invokeinterface #170,  2          // InterfaceMethod java/util/Set.add:(Ljava/lang/Object;)Z
     978: pop
     979: goto          925
     982: goto          988
     985: goto          808
     988: aload         8
     990: ifnull        1012
     993: aload         8
     995: aload         18
     997: invokeinterface #163,  2          // InterfaceMethod java/util/Set.contains:(Ljava/lang/Object;)Z
    1002: ifne          1012
    1005: aload         13
    1007: aload         18
    1009: invokevirtual #171                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.disableBaseModule:(Lorg/jboss/as/patching/metadata/ModuleItem;)V
    1012: goto          632
    1015: goto          596
    1018: goto          475
    1021: return

  void portForward(org.jboss.as.patching.metadata.Patch, org.jboss.as.patching.runner.IdentityPatchContext) throws org.jboss.as.patching.PatchingException, java.io.IOException, javax.xml.stream.XMLStreamException;
    Code:
       0: getstatic     #129                // Field $assertionsDisabled:Z
       3: ifne          31
       6: aload_1
       7: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/patching/metadata/Patch.getIdentity:()Lorg/jboss/as/patching/metadata/Identity;
      12: invokeinterface #27,  1           // InterfaceMethod org/jboss/as/patching/metadata/Identity.getPatchType:()Lorg/jboss/as/patching/metadata/Patch$PatchType;
      17: getstatic     #29                 // Field org/jboss/as/patching/metadata/Patch$PatchType.CUMULATIVE:Lorg/jboss/as/patching/metadata/Patch$PatchType;
      20: if_acmpeq     31
      23: new           #131                // class java/lang/AssertionError
      26: dup
      27: invokespecial #132                // Method java/lang/AssertionError."<init>":()V
      30: athrow
      31: aload_2
      32: invokevirtual #139                // Method org/jboss/as/patching/runner/IdentityPatchContext.getHistory:()Lorg/jboss/as/patching/tool/PatchingHistory;
      35: astore_3
      36: aload_1
      37: invokeinterface #46,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getElements:()Ljava/util/List;
      42: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      47: astore        4
      49: aload         4
      51: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      56: ifeq          405
      59: aload         4
      61: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      66: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
      69: astore        5
      71: aload         5
      73: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
      78: astore        6
      80: aload         6
      82: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
      87: astore        7
      89: aload         6
      91: invokeinterface #144,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.isAddOn:()Z
      96: istore        8
      98: aload_2
      99: aload         5
     101: invokevirtual #48                 // Method org/jboss/as/patching/runner/IdentityPatchContext.resolveForElement:(Lorg/jboss/as/patching/metadata/PatchElement;)Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
     104: astore        9
     106: aload         9
     108: invokevirtual #176                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getCumulativePatchID:()Ljava/lang/String;
     111: astore        10
     113: ldc           #69                 // String base
     115: aload         10
     117: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     120: ifeq          132
     123: aload_0
     124: aload         9
     126: invokevirtual #177                // Method reenableRolledBackInBase:(Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)V
     129: goto          49
     132: iconst_0
     133: istore        11
     135: aload_3
     136: invokeinterface #178,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory.iterator:()Lorg/jboss/as/patching/tool/PatchingHistory$Iterator;
     141: astore        12
     143: aload         12
     145: invokeinterface #179,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Iterator.hasNextCP:()Z
     150: ifeq          380
     153: aload         12
     155: invokeinterface #180,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Iterator.nextCP:()Lorg/jboss/as/patching/tool/PatchingHistory$Entry;
     160: astore        13
     162: iload         8
     164: ifeq          187
     167: aload         13
     169: invokeinterface #181,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Entry.getAddOnPatches:()Ljava/util/Map;
     174: aload         7
     176: invokeinterface #150,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     181: checkcast     #36                 // class java/lang/String
     184: goto          204
     187: aload         13
     189: invokeinterface #182,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Entry.getLayerPatches:()Ljava/util/Map;
     194: aload         7
     196: invokeinterface #150,  2          // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
     201: checkcast     #36                 // class java/lang/String
     204: astore        14
     206: aload         14
     208: ifnull        377
     211: aload         14
     213: aload         10
     215: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     218: ifeq          377
     221: aload         13
     223: invokeinterface #183,  1          // InterfaceMethod org/jboss/as/patching/tool/PatchingHistory$Entry.getPatchId:()Ljava/lang/String;
     228: aload_0
     229: getfield      #2                  // Field installedImage:Lorg/jboss/as/patching/installation/InstalledImage;
     232: invokestatic  #93                 // Method loadPatchInformation:(Ljava/lang/String;Lorg/jboss/as/patching/installation/InstalledImage;)Lorg/jboss/as/patching/metadata/Patch;
     235: astore        15
     237: aload         15
     239: invokeinterface #46,  1           // InterfaceMethod org/jboss/as/patching/metadata/Patch.getElements:()Ljava/util/List;
     244: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     249: astore        16
     251: aload         16
     253: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     258: ifeq          328
     261: aload         16
     263: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     268: checkcast     #47                 // class org/jboss/as/patching/metadata/PatchElement
     271: astore        17
     273: aload         7
     275: aload         17
     277: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     282: invokeinterface #99,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.getName:()Ljava/lang/String;
     287: invokevirtual #11                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
     290: ifeq          325
     293: iload         8
     295: aload         17
     297: invokeinterface #49,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getProvider:()Lorg/jboss/as/patching/metadata/PatchElementProvider;
     302: invokeinterface #144,  1          // InterfaceMethod org/jboss/as/patching/metadata/PatchElementProvider.isAddOn:()Z
     307: if_icmpne     325
     310: aload         9
     312: aload         17
     314: invokeinterface #53,  1           // InterfaceMethod org/jboss/as/patching/metadata/PatchElement.getModifications:()Ljava/util/Collection;
     319: getstatic     #112                // Field org/jboss/as/patching/runner/ContentItemFilter.ALL_BUT_MISC:Lorg/jboss/as/patching/runner/ContentItemFilter;
     322: invokestatic  #184                // Method org/jboss/as/patching/runner/PatchingTasks.addMissingModifications:(Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;Ljava/util/Collection;Lorg/jboss/as/patching/runner/ContentItemFilter;)V
     325: goto          251
     328: aload         9
     330: invokevirtual #64                 // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getDirectoryStructure:()Lorg/jboss/as/patching/DirectoryStructure;
     333: astore        16
     335: aload         16
     337: aload         14
     339: invokevirtual #164                // Method org/jboss/as/patching/DirectoryStructure.getModulePatchDirectory:(Ljava/lang/String;)Ljava/io/File;
     342: astore        17
     344: aload         16
     346: aload         14
     348: invokevirtual #185                // Method org/jboss/as/patching/DirectoryStructure.getBundlesPatchDirectory:(Ljava/lang/String;)Ljava/io/File;
     351: astore        18
     353: aconst_null
     354: aload         18
     356: aload         17
     358: invokestatic  #186                // Method org/jboss/as/patching/runner/PatchContentLoader.create:(Ljava/io/File;Ljava/io/File;Ljava/io/File;)Lorg/jboss/as/patching/runner/PatchContentLoader;
     361: astore        19
     363: aload_2
     364: aload         14
     366: aload         19
     368: invokevirtual #187                // Method org/jboss/as/patching/runner/IdentityPatchContext.recordContentLoader:(Ljava/lang/String;Lorg/jboss/as/patching/runner/PatchContentLoader;)V
     371: iconst_1
     372: istore        11
     374: goto          380
     377: goto          143
     380: iload         11
     382: ifne          396
     385: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     388: aload         10
     390: invokeinterface #188,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.patchNotFoundInHistory:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     395: athrow
     396: aload_0
     397: aload         9
     399: invokevirtual #177                // Method reenableRolledBackInBase:(Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)V
     402: goto          49
     405: return

  protected void reenableRolledBackInBase(org.jboss.as.patching.runner.IdentityPatchContext$PatchEntry) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #189                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getTaskDefinitions:()Ljava/util/Collection;
       4: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       9: astore_2
      10: aload_2
      11: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      16: ifeq          68
      19: aload_2
      20: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #190                // class org/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition
      28: astore_3
      29: aload_3
      30: invokevirtual #191                // Method org/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition.isRollback:()Z
      33: ifeq          65
      36: aload_3
      37: invokevirtual #192                // Method org/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition.getTarget:()Lorg/jboss/as/patching/runner/PatchingTasks$ContentEntry;
      40: invokevirtual #193                // Method org/jboss/as/patching/runner/PatchingTasks$ContentEntry.getItem:()Lorg/jboss/as/patching/metadata/ContentItem;
      43: astore        4
      45: aload         4
      47: invokevirtual #157                // Method org/jboss/as/patching/metadata/ContentItem.getContentType:()Lorg/jboss/as/patching/metadata/ContentType;
      50: getstatic     #158                // Field org/jboss/as/patching/metadata/ContentType.MODULE:Lorg/jboss/as/patching/metadata/ContentType;
      53: if_acmpne     65
      56: aload_1
      57: aload         4
      59: checkcast     #159                // class org/jboss/as/patching/metadata/ModuleItem
      62: invokevirtual #194                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.reenableBaseModule:(Lorg/jboss/as/patching/metadata/ModuleItem;)V
      65: goto          10
      68: return

  static org.jboss.as.patching.tool.PatchingResult executeTasks(org.jboss.as.patching.runner.IdentityPatchContext, org.jboss.as.patching.runner.IdentityPatchContext$FinalizeCallback) throws java.lang.Exception;
    Code:
       0: new           #30                 // class java/util/ArrayList
       3: dup
       4: invokespecial #71                 // Method java/util/ArrayList."<init>":()V
       7: astore_2
       8: new           #30                 // class java/util/ArrayList
      11: dup
      12: invokespecial #71                 // Method java/util/ArrayList."<init>":()V
      15: astore_3
      16: aload_0
      17: invokevirtual #56                 // Method org/jboss/as/patching/runner/IdentityPatchContext.getIdentityEntry:()Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;
      20: aload_0
      21: aload_2
      22: aload_3
      23: invokestatic  #195                // Method prepareTasks:(Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;Lorg/jboss/as/patching/runner/IdentityPatchContext;Ljava/util/List;Ljava/util/List;)V
      26: aload_0
      27: invokevirtual #196                // Method org/jboss/as/patching/runner/IdentityPatchContext.getLayers:()Ljava/util/Collection;
      30: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      35: astore        4
      37: aload         4
      39: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          70
      47: aload         4
      49: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #197                // class org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry
      57: astore        5
      59: aload         5
      61: aload_0
      62: aload_2
      63: aload_3
      64: invokestatic  #195                // Method prepareTasks:(Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;Lorg/jboss/as/patching/runner/IdentityPatchContext;Ljava/util/List;Ljava/util/List;)V
      67: goto          37
      70: aload_0
      71: invokevirtual #198                // Method org/jboss/as/patching/runner/IdentityPatchContext.getAddOns:()Ljava/util/Collection;
      74: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      79: astore        4
      81: aload         4
      83: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      88: ifeq          114
      91: aload         4
      93: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      98: checkcast     #197                // class org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry
     101: astore        5
     103: aload         5
     105: aload_0
     106: aload_2
     107: aload_3
     108: invokestatic  #195                // Method prepareTasks:(Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;Lorg/jboss/as/patching/runner/IdentityPatchContext;Ljava/util/List;Ljava/util/List;)V
     111: goto          81
     114: aload_3
     115: invokeinterface #33,  1           // InterfaceMethod java/util/List.isEmpty:()Z
     120: ifne          133
     123: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     126: aload_3
     127: invokeinterface #199,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.conflictsDetected:(Ljava/util/Collection;)Lorg/jboss/as/patching/ContentConflictsException;
     132: athrow
     133: aload_2
     134: invokeinterface #41,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     139: astore        4
     141: aload         4
     143: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     148: ifeq          195
     151: aload         4
     153: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     158: checkcast     #200                // class org/jboss/as/patching/runner/IdentityPatchRunner$PreparedTask
     161: astore        5
     163: aload         5
     165: invokevirtual #201                // Method org/jboss/as/patching/runner/IdentityPatchRunner$PreparedTask.getContentItem:()Lorg/jboss/as/patching/metadata/ContentItem;
     168: astore        6
     170: aload         6
     172: ifnull        187
     175: aload_0
     176: aload         6
     178: invokevirtual #202                // Method org/jboss/as/patching/runner/IdentityPatchContext.isExcluded:(Lorg/jboss/as/patching/metadata/ContentItem;)Z
     181: ifeq          187
     184: goto          141
     187: aload         5
     189: invokevirtual #203                // Method org/jboss/as/patching/runner/IdentityPatchRunner$PreparedTask.execute:()V
     192: goto          141
     195: aload_0
     196: aload_1
     197: invokevirtual #204                // Method org/jboss/as/patching/runner/IdentityPatchContext.finalize:(Lorg/jboss/as/patching/runner/IdentityPatchContext$FinalizeCallback;)Lorg/jboss/as/patching/tool/PatchingResult;
     200: areturn

  static void prepareTasks(org.jboss.as.patching.runner.IdentityPatchContext$PatchEntry, org.jboss.as.patching.runner.IdentityPatchContext, java.util.List<org.jboss.as.patching.runner.IdentityPatchRunner$PreparedTask>, java.util.List<org.jboss.as.patching.metadata.ContentItem>) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_0
       1: invokevirtual #189                // Method org/jboss/as/patching/runner/IdentityPatchContext$PatchEntry.getTaskDefinitions:()Ljava/util/Collection;
       4: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
       9: astore        4
      11: aload         4
      13: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifeq          137
      21: aload         4
      23: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      28: checkcast     #190                // class org/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition
      31: astore        5
      33: aload         5
      35: aload_1
      36: aload_0
      37: invokestatic  #205                // Method createTask:(Lorg/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition;Lorg/jboss/as/patching/runner/PatchContentProvider;Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)Lorg/jboss/as/patching/runner/PatchingTask;
      40: astore        6
      42: aload         6
      44: aload_0
      45: invokeinterface #206,  2          // InterfaceMethod org/jboss/as/patching/runner/PatchingTask.isRelevant:(Lorg/jboss/as/patching/runner/PatchingTaskContext;)Z
      50: ifne          56
      53: goto          11
      56: aload         6
      58: aload_0
      59: invokeinterface #207,  2          // InterfaceMethod org/jboss/as/patching/runner/PatchingTask.prepare:(Lorg/jboss/as/patching/runner/PatchingTaskContext;)Z
      64: ifeq          75
      67: aload         5
      69: invokevirtual #208                // Method org/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition.hasConflicts:()Z
      72: ifeq          102
      75: aload         6
      77: invokeinterface #209,  1          // InterfaceMethod org/jboss/as/patching/runner/PatchingTask.getContentItem:()Lorg/jboss/as/patching/metadata/ContentItem;
      82: astore        7
      84: aload_1
      85: aload         7
      87: invokevirtual #210                // Method org/jboss/as/patching/runner/IdentityPatchContext.isIgnored:(Lorg/jboss/as/patching/metadata/ContentItem;)Z
      90: ifne          102
      93: aload_3
      94: aload         7
      96: invokeinterface #75,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     101: pop
     102: aload_2
     103: new           #200                // class org/jboss/as/patching/runner/IdentityPatchRunner$PreparedTask
     106: dup
     107: aload         6
     109: aload_0
     110: invokespecial #211                // Method org/jboss/as/patching/runner/IdentityPatchRunner$PreparedTask."<init>":(Lorg/jboss/as/patching/runner/PatchingTask;Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)V
     113: invokeinterface #75,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     118: pop
     119: goto          134
     122: astore        7
     124: new           #39                 // class org/jboss/as/patching/PatchingException
     127: dup
     128: aload         7
     130: invokespecial #40                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
     133: athrow
     134: goto          11
     137: return
    Exception table:
       from    to  target type
          56   119   122   Class java/io/IOException

  static org.jboss.as.patching.runner.PatchingTask createTask(org.jboss.as.patching.runner.PatchingTasks$ContentTaskDefinition, org.jboss.as.patching.runner.PatchContentProvider, org.jboss.as.patching.runner.IdentityPatchContext$PatchEntry);
    Code:
       0: aload_1
       1: aload_0
       2: invokevirtual #192                // Method org/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition.getTarget:()Lorg/jboss/as/patching/runner/PatchingTasks$ContentEntry;
       5: invokevirtual #213                // Method org/jboss/as/patching/runner/PatchingTasks$ContentEntry.getPatchId:()Ljava/lang/String;
       8: invokeinterface #214,  2          // InterfaceMethod org/jboss/as/patching/runner/PatchContentProvider.getLoader:(Ljava/lang/String;)Lorg/jboss/as/patching/runner/PatchContentLoader;
      13: astore_3
      14: aload_0
      15: aload_3
      16: invokestatic  #215                // Method org/jboss/as/patching/runner/PatchingTaskDescription.create:(Lorg/jboss/as/patching/runner/PatchingTasks$ContentTaskDefinition;Lorg/jboss/as/patching/runner/PatchContentLoader;)Lorg/jboss/as/patching/runner/PatchingTaskDescription;
      19: astore        4
      21: aload         4
      23: aload_2
      24: invokestatic  #216                // Method org/jboss/as/patching/runner/PatchingTask$Factory.create:(Lorg/jboss/as/patching/runner/PatchingTaskDescription;Lorg/jboss/as/patching/runner/IdentityPatchContext$PatchEntry;)Lorg/jboss/as/patching/runner/PatchingTask;
      27: areturn

  static org.jboss.as.patching.metadata.Patch loadPatchInformation(java.lang.String, org.jboss.as.patching.installation.InstalledImage) throws org.jboss.as.patching.PatchingException, java.io.IOException, javax.xml.stream.XMLStreamException;
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #16,  2           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getPatchHistoryDir:(Ljava/lang/String;)Ljava/io/File;
       7: astore_2
       8: new           #77                 // class java/io/File
      11: dup
      12: aload_2
      13: ldc           #218                // String patch.xml
      15: invokespecial #79                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      18: astore_3
      19: aload_3
      20: invokestatic  #219                // Method org/jboss/as/patching/metadata/PatchXml.parse:(Ljava/io/File;)Lorg/jboss/as/patching/metadata/PatchMetadataResolver;
      23: aconst_null
      24: aconst_null
      25: invokeinterface #5,  3            // InterfaceMethod org/jboss/as/patching/metadata/PatchMetadataResolver.resolvePatch:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/Patch;
      30: areturn

  static org.jboss.as.patching.metadata.RollbackPatch loadRollbackInformation(java.lang.String, org.jboss.as.patching.installation.InstalledImage) throws org.jboss.as.patching.PatchingException, java.io.IOException, javax.xml.stream.XMLStreamException;
    Code:
       0: aload_1
       1: aload_0
       2: invokeinterface #16,  2           // InterfaceMethod org/jboss/as/patching/installation/InstalledImage.getPatchHistoryDir:(Ljava/lang/String;)Ljava/io/File;
       7: astore_2
       8: new           #77                 // class java/io/File
      11: dup
      12: aload_2
      13: ldc           #78                 // String rollback.xml
      15: invokespecial #79                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      18: astore_3
      19: aload_3
      20: invokestatic  #219                // Method org/jboss/as/patching/metadata/PatchXml.parse:(Ljava/io/File;)Lorg/jboss/as/patching/metadata/PatchMetadataResolver;
      23: aconst_null
      24: aconst_null
      25: invokeinterface #5,  3            // InterfaceMethod org/jboss/as/patching/metadata/PatchMetadataResolver.resolvePatch:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/metadata/Patch;
      30: checkcast     #220                // class org/jboss/as/patching/metadata/RollbackPatch
      33: areturn

  static java.io.File createTempDir() throws org.jboss.as.patching.PatchingException;
    Code:
       0: getstatic     #221                // Field TEMP_DIR:Ljava/io/File;
       3: invokestatic  #222                // Method createTempDir:(Ljava/io/File;)Ljava/io/File;
       6: areturn

  static java.io.File createTempDir(java.io.File) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aconst_null
       1: astore_1
       2: iconst_0
       3: istore_2
       4: aload_1
       5: ifnull        15
       8: aload_1
       9: invokevirtual #223                // Method java/io/File.exists:()Z
      12: ifeq          46
      15: iinc          2, 1
      18: new           #77                 // class java/io/File
      21: dup
      22: aload_0
      23: ifnonnull     32
      26: getstatic     #221                // Field TEMP_DIR:Ljava/io/File;
      29: goto          33
      32: aload_0
      33: iload_2
      34: invokedynamic #224,  0            // InvokeDynamic #0:makeConcatWithConstants:(I)Ljava/lang/String;
      39: invokespecial #79                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      42: astore_1
      43: goto          4
      46: aload_1
      47: invokevirtual #225                // Method java/io/File.mkdirs:()Z
      50: ifne          73
      53: new           #39                 // class org/jboss/as/patching/PatchingException
      56: dup
      57: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      60: aload_1
      61: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      64: invokeinterface #226,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotCreateDirectory:(Ljava/lang/String;)Ljava/io/IOException;
      69: invokespecial #40                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
      72: athrow
      73: aload_1
      74: areturn

  static org.jboss.as.patching.PatchingException rethrowException(java.lang.Exception);
    Code:
       0: aload_0
       1: instanceof    #39                 // class org/jboss/as/patching/PatchingException
       4: ifeq          12
       7: aload_0
       8: checkcast     #39                 // class org/jboss/as/patching/PatchingException
      11: areturn
      12: new           #39                 // class org/jboss/as/patching/PatchingException
      15: dup
      16: aload_0
      17: invokespecial #40                 // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/Throwable;)V
      20: areturn

  static void checkUpgradeConditions(org.jboss.as.patching.metadata.UpgradeCondition, org.jboss.as.patching.installation.InstallationManager$MutablePatchingTarget) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_0
       1: invokeinterface #227,  1          // InterfaceMethod org/jboss/as/patching/metadata/UpgradeCondition.getRequires:()Ljava/util/Collection;
       6: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      11: astore_2
      12: aload_2
      13: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifeq          54
      21: aload_2
      22: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      27: checkcast     #36                 // class java/lang/String
      30: astore_3
      31: aload_1
      32: aload_3
      33: invokeinterface #228,  2          // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget.isApplied:(Ljava/lang/String;)Z
      38: ifne          51
      41: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      44: aload_3
      45: invokeinterface #229,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.requiresPatch:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
      50: athrow
      51: goto          12
      54: aload_0
      55: invokeinterface #230,  1          // InterfaceMethod org/jboss/as/patching/metadata/UpgradeCondition.getIncompatibleWith:()Ljava/util/Collection;
      60: invokeinterface #154,  1          // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      65: astore_2
      66: aload_2
      67: invokeinterface #42,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      72: ifeq          108
      75: aload_2
      76: invokeinterface #43,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      81: checkcast     #36                 // class java/lang/String
      84: astore_3
      85: aload_1
      86: aload_3
      87: invokeinterface #228,  2          // InterfaceMethod org/jboss/as/patching/installation/InstallationManager$MutablePatchingTarget.isApplied:(Ljava/lang/String;)Z
      92: ifeq          105
      95: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      98: aload_3
      99: invokeinterface #231,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.incompatiblePatch:(Ljava/lang/String;)Lorg/jboss/as/patching/PatchingException;
     104: athrow
     105: goto          66
     108: return

  static void assertExists(java.io.File) throws org.jboss.as.patching.PatchingException;
    Code:
       0: aload_0
       1: invokevirtual #223                // Method java/io/File.exists:()Z
       4: ifne          27
       7: new           #39                 // class org/jboss/as/patching/PatchingException
      10: dup
      11: getstatic     #6                  // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      14: aload_0
      15: invokevirtual #87                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      18: invokeinterface #232,  2          // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.fileDoesNotExist:(Ljava/lang/String;)Ljava/lang/String;
      23: invokespecial #233                // Method org/jboss/as/patching/PatchingException."<init>":(Ljava/lang/String;)V
      26: athrow
      27: return

  static {};
    Code:
       0: ldc           #234                // class org/jboss/as/patching/runner/IdentityPatchRunner
       2: invokevirtual #235                // Method java/lang/Class.desiredAssertionStatus:()Z
       5: ifne          12
       8: iconst_1
       9: goto          13
      12: iconst_0
      13: putstatic     #129                // Field $assertionsDisabled:Z
      16: new           #77                 // class java/io/File
      19: dup
      20: ldc           #236                // String java.io.tmpdir
      22: invokestatic  #237                // Method org/jboss/as/patching/runner/SecurityActions.getSystemProperty:(Ljava/lang/String;)Ljava/lang/String;
      25: invokespecial #238                // Method java/io/File."<init>":(Ljava/lang/String;)V
      28: putstatic     #221                // Field TEMP_DIR:Ljava/io/File;
      31: return
}
