Compiled from "LayersFactory.java"
class org.jboss.as.patching.installation.LayersFactory {
  org.jboss.as.patching.installation.LayersFactory();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  static org.jboss.as.patching.installation.InstalledIdentity load(org.jboss.as.patching.installation.InstalledImage, org.jboss.as.version.ProductConfig, java.util.List<java.io.File>, java.util.List<java.io.File>) throws java.io.IOException;
    Code:
       0: aload_1
       1: invokevirtual #2                  // Method org/jboss/as/version/ProductConfig.resolveVersion:()Ljava/lang/String;
       4: astore        4
       6: aload_1
       7: invokevirtual #3                  // Method org/jboss/as/version/ProductConfig.resolveName:()Ljava/lang/String;
      10: astore        5
      12: new           #4                  // class org/jboss/as/patching/installation/LayersFactory$1
      15: dup
      16: aload         5
      18: aload         4
      20: aload_0
      21: invokespecial #5                  // Method org/jboss/as/patching/installation/LayersFactory$1."<init>":(Ljava/lang/String;Ljava/lang/String;Lorg/jboss/as/patching/installation/InstalledImage;)V
      24: astore        6
      26: aload         6
      28: invokeinterface #6,  1            // InterfaceMethod org/jboss/as/patching/installation/Identity.getDirectoryStructure:()Lorg/jboss/as/patching/DirectoryStructure;
      33: invokevirtual #7                  // Method org/jboss/as/patching/DirectoryStructure.getInstallationInfo:()Ljava/io/File;
      36: invokestatic  #8                  // Method org/jboss/as/patching/runner/PatchUtils.loadProperties:(Ljava/io/File;)Ljava/util/Properties;
      39: astore        7
      41: aload         7
      43: ldc           #10                 // String installed-patches
      45: invokestatic  #11                 // Method org/jboss/as/patching/runner/PatchUtils.readRefs:(Ljava/util/Properties;Ljava/lang/String;)Ljava/util/List;
      48: astore        8
      50: aload_0
      51: invokestatic  #12                 // Method createInstalledConfig:(Lorg/jboss/as/patching/installation/InstalledImage;)Lorg/jboss/as/patching/installation/LayersFactory$InstalledConfiguration;
      54: astore        9
      56: aload         9
      58: aload_2
      59: aload_3
      60: invokestatic  #13                 // Method process:(Lorg/jboss/as/patching/installation/LayersFactory$InstalledConfiguration;Ljava/util/List;Ljava/util/List;)Lorg/jboss/as/patching/installation/LayersFactory$ProcessedLayers;
      63: astore        10
      65: aload         10
      67: invokevirtual #14                 // Method org/jboss/as/patching/installation/LayersFactory$ProcessedLayers.getConf:()Lorg/jboss/as/patching/installation/LayersFactory$InstalledConfiguration;
      70: astore        11
      72: new           #15                 // class org/jboss/as/patching/installation/InstalledIdentityImpl
      75: dup
      76: aload         6
      78: aload         8
      80: aload_0
      81: invokespecial #16                 // Method org/jboss/as/patching/installation/InstalledIdentityImpl."<init>":(Lorg/jboss/as/patching/installation/Identity;Ljava/util/List;Lorg/jboss/as/patching/installation/InstalledImage;)V
      84: astore        12
      86: aload         10
      88: invokevirtual #17                 // Method org/jboss/as/patching/installation/LayersFactory$ProcessedLayers.getLayers:()Ljava/util/Map;
      91: invokeinterface #18,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
      96: invokeinterface #19,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     101: astore        13
     103: aload         13
     105: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     110: ifeq          158
     113: aload         13
     115: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     120: checkcast     #22                 // class org/jboss/as/patching/installation/LayersFactory$LayerPathConfig
     123: astore        14
     125: aload         14
     127: getfield      #23                 // Field org/jboss/as/patching/installation/LayersFactory$LayerPathConfig.name:Ljava/lang/String;
     130: astore        15
     132: aload         12
     134: aload         15
     136: aload         15
     138: aload         14
     140: aload         11
     142: aload         15
     144: invokevirtual #24                 // Method org/jboss/as/patching/installation/LayersFactory$InstalledConfiguration.getLayerMetadataDir:(Ljava/lang/String;)Ljava/io/File;
     147: aload_0
     148: invokestatic  #25                 // Method createPatchableTarget:(Ljava/lang/String;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathConfig;Ljava/io/File;Lorg/jboss/as/patching/installation/InstalledImage;)Lorg/jboss/as/patching/installation/LayersFactory$AbstractLazyPatchableTarget;
     151: invokevirtual #26                 // Method org/jboss/as/patching/installation/InstalledIdentityImpl.putLayer:(Ljava/lang/String;Lorg/jboss/as/patching/installation/Layer;)Lorg/jboss/as/patching/installation/Layer;
     154: pop
     155: goto          103
     158: aload         10
     160: invokevirtual #27                 // Method org/jboss/as/patching/installation/LayersFactory$ProcessedLayers.getAddOns:()Ljava/util/Map;
     163: invokeinterface #18,  1           // InterfaceMethod java/util/Map.values:()Ljava/util/Collection;
     168: invokeinterface #19,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
     173: astore        13
     175: aload         13
     177: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     182: ifeq          230
     185: aload         13
     187: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     192: checkcast     #22                 // class org/jboss/as/patching/installation/LayersFactory$LayerPathConfig
     195: astore        14
     197: aload         14
     199: getfield      #23                 // Field org/jboss/as/patching/installation/LayersFactory$LayerPathConfig.name:Ljava/lang/String;
     202: astore        15
     204: aload         12
     206: aload         15
     208: aload         15
     210: aload         14
     212: aload         11
     214: aload         15
     216: invokevirtual #28                 // Method org/jboss/as/patching/installation/LayersFactory$InstalledConfiguration.getAddOnMetadataDir:(Ljava/lang/String;)Ljava/io/File;
     219: aload_0
     220: invokestatic  #25                 // Method createPatchableTarget:(Ljava/lang/String;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathConfig;Ljava/io/File;Lorg/jboss/as/patching/installation/InstalledImage;)Lorg/jboss/as/patching/installation/LayersFactory$AbstractLazyPatchableTarget;
     223: invokevirtual #29                 // Method org/jboss/as/patching/installation/InstalledIdentityImpl.putAddOn:(Ljava/lang/String;Lorg/jboss/as/patching/installation/AddOn;)Lorg/jboss/as/patching/installation/AddOn;
     226: pop
     227: goto          175
     230: aload         12
     232: areturn

  static org.jboss.as.patching.installation.LayersFactory$ProcessedLayers process(org.jboss.as.patching.installation.LayersFactory$InstalledConfiguration, java.util.List<java.io.File>, java.util.List<java.io.File>) throws java.io.IOException;
    Code:
       0: new           #30                 // class org/jboss/as/patching/installation/LayersFactory$ProcessedLayers
       3: dup
       4: aload_0
       5: invokespecial #31                 // Method org/jboss/as/patching/installation/LayersFactory$ProcessedLayers."<init>":(Lorg/jboss/as/patching/installation/LayersFactory$InstalledConfiguration;)V
       8: astore_3
       9: new           #32                 // class org/jboss/as/patching/installation/LayersFactory$2
      12: dup
      13: invokespecial #33                 // Method org/jboss/as/patching/installation/LayersFactory$2."<init>":()V
      16: astore        4
      18: aload_1
      19: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      24: astore        5
      26: aload         5
      28: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      33: ifeq          59
      36: aload         5
      38: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      43: checkcast     #35                 // class java/io/File
      46: astore        6
      48: aload         6
      50: aload_3
      51: aload         4
      53: invokestatic  #36                 // Method processRoot:(Ljava/io/File;Lorg/jboss/as/patching/installation/LayersFactory$ProcessedLayers;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathSetter;)V
      56: goto          26
      59: new           #37                 // class org/jboss/as/patching/installation/LayersFactory$3
      62: dup
      63: invokespecial #38                 // Method org/jboss/as/patching/installation/LayersFactory$3."<init>":()V
      66: astore        5
      68: aload_2
      69: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      74: astore        6
      76: aload         6
      78: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      83: ifeq          109
      86: aload         6
      88: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      93: checkcast     #35                 // class java/io/File
      96: astore        7
      98: aload         7
     100: aload_3
     101: aload         5
     103: invokestatic  #36                 // Method processRoot:(Ljava/io/File;Lorg/jboss/as/patching/installation/LayersFactory$ProcessedLayers;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathSetter;)V
     106: goto          76
     109: aload_3
     110: areturn

  static void processRoot(java.io.File, org.jboss.as.patching.installation.LayersFactory$ProcessedLayers, org.jboss.as.patching.installation.LayersFactory$LayerPathSetter) throws java.io.IOException;
    Code:
       0: aload_0
       1: invokestatic  #39                 // Method org/jboss/as/patching/installation/LayersConfig.getLayersConfig:(Ljava/io/File;)Lorg/jboss/as/patching/installation/LayersConfig;
       4: astore_3
       5: new           #35                 // class java/io/File
       8: dup
       9: aload_0
      10: aload_3
      11: invokevirtual #40                 // Method org/jboss/as/patching/installation/LayersConfig.getLayersPath:()Ljava/lang/String;
      14: invokespecial #41                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      17: astore        4
      19: aload         4
      21: invokevirtual #42                 // Method java/io/File.exists:()Z
      24: ifne          48
      27: aload_3
      28: invokevirtual #43                 // Method org/jboss/as/patching/installation/LayersConfig.isConfigured:()Z
      31: ifeq          138
      34: getstatic     #44                 // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      37: aload         4
      39: invokevirtual #45                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      42: invokeinterface #46,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.installationNoLayersConfigFound:(Ljava/lang/String;)Ljava/lang/IllegalStateException;
      47: athrow
      48: aload_3
      49: invokevirtual #47                 // Method org/jboss/as/patching/installation/LayersConfig.getLayers:()Ljava/util/List;
      52: invokeinterface #34,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      57: astore        5
      59: aload         5
      61: invokeinterface #20,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      66: ifeq          138
      69: aload         5
      71: invokeinterface #21,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      76: checkcast     #48                 // class java/lang/String
      79: astore        6
      81: new           #35                 // class java/io/File
      84: dup
      85: aload         4
      87: aload         6
      89: invokespecial #41                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      92: astore        7
      94: aload         7
      96: invokevirtual #42                 // Method java/io/File.exists:()Z
      99: ifne          126
     102: aload_3
     103: invokevirtual #43                 // Method org/jboss/as/patching/installation/LayersConfig.isConfigured:()Z
     106: ifeq          125
     109: getstatic     #44                 // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
     112: aload         6
     114: aload         4
     116: invokevirtual #45                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
     119: invokeinterface #49,  3           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.installationMissingLayer:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/IllegalStateException;
     124: athrow
     125: return
     126: aload_1
     127: aload         6
     129: aload         7
     131: aload_2
     132: invokevirtual #50                 // Method org/jboss/as/patching/installation/LayersFactory$ProcessedLayers.addLayer:(Ljava/lang/String;Ljava/io/File;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathSetter;)V
     135: goto          59
     138: new           #35                 // class java/io/File
     141: dup
     142: aload_0
     143: aload_3
     144: invokevirtual #51                 // Method org/jboss/as/patching/installation/LayersConfig.getAddOnsPath:()Ljava/lang/String;
     147: invokespecial #41                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     150: astore        5
     152: aload         5
     154: invokevirtual #52                 // Method java/io/File.listFiles:()[Ljava/io/File;
     157: astore        6
     159: aload         6
     161: ifnull        208
     164: aload         6
     166: astore        7
     168: aload         7
     170: arraylength
     171: istore        8
     173: iconst_0
     174: istore        9
     176: iload         9
     178: iload         8
     180: if_icmpge     208
     183: aload         7
     185: iload         9
     187: aaload
     188: astore        10
     190: aload_1
     191: aload         10
     193: invokevirtual #53                 // Method java/io/File.getName:()Ljava/lang/String;
     196: aload         10
     198: aload_2
     199: invokevirtual #54                 // Method org/jboss/as/patching/installation/LayersFactory$ProcessedLayers.addAddOn:(Ljava/lang/String;Ljava/io/File;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathSetter;)V
     202: iinc          9, 1
     205: goto          176
     208: return

  static org.jboss.as.patching.installation.LayersFactory$AbstractLazyPatchableTarget createPatchableTarget(java.lang.String, org.jboss.as.patching.installation.LayersFactory$LayerPathConfig, java.io.File, org.jboss.as.patching.installation.InstalledImage) throws java.io.IOException;
    Code:
       0: new           #55                 // class org/jboss/as/patching/installation/LayersFactory$4
       3: dup
       4: aload_3
       5: aload_1
       6: aload_2
       7: aload_0
       8: invokespecial #56                 // Method org/jboss/as/patching/installation/LayersFactory$4."<init>":(Lorg/jboss/as/patching/installation/InstalledImage;Lorg/jboss/as/patching/installation/LayersFactory$LayerPathConfig;Ljava/io/File;Ljava/lang/String;)V
      11: areturn

  static org.jboss.as.patching.installation.LayersFactory$InstalledConfiguration createInstalledConfig(org.jboss.as.patching.installation.InstalledImage);
    Code:
       0: new           #57                 // class org/jboss/as/patching/installation/LayersFactory$InstalledConfiguration
       3: dup
       4: aload_0
       5: invokespecial #58                 // Method org/jboss/as/patching/installation/LayersFactory$InstalledConfiguration."<init>":(Lorg/jboss/as/patching/installation/InstalledImage;)V
       8: astore_1
       9: aload_1
      10: areturn
}
