Compiled from "AbstractFileTask.java"
abstract class org.jboss.as.patching.runner.AbstractFileTask extends org.jboss.as.patching.runner.AbstractPatchingTask<org.jboss.as.patching.metadata.MiscContentItem> {
  final java.io.File target;

  final java.io.File backup;

  protected org.jboss.as.patching.runner.AbstractFileTask(org.jboss.as.patching.runner.PatchingTaskDescription, java.io.File, java.io.File);
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #1                  // class org/jboss/as/patching/metadata/MiscContentItem
       4: invokespecial #2                  // Method org/jboss/as/patching/runner/AbstractPatchingTask."<init>":(Lorg/jboss/as/patching/runner/PatchingTaskDescription;Ljava/lang/Class;)V
       7: aload_0
       8: aload_2
       9: putfield      #3                  // Field target:Ljava/io/File;
      12: aload_0
      13: aload_3
      14: putfield      #4                  // Field backup:Ljava/io/File;
      17: return

  abstract org.jboss.as.patching.metadata.ContentModification createRollbackEntry(org.jboss.as.patching.metadata.ContentModification, org.jboss.as.patching.metadata.MiscContentItem, byte[]);

  byte[] backup(org.jboss.as.patching.runner.PatchingTaskContext) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #3                  // Field target:Ljava/io/File;
       4: invokevirtual #5                  // Method java/io/File.isFile:()Z
       7: ifeq          24
      10: aload_0
      11: getfield      #3                  // Field target:Ljava/io/File;
      14: aload_0
      15: getfield      #4                  // Field backup:Ljava/io/File;
      18: invokestatic  #6                  // Method org/jboss/as/patching/IoUtils.copy:(Ljava/io/File;Ljava/io/File;)[B
      21: astore_2
      22: aload_2
      23: areturn
      24: aload_0
      25: getfield      #7                  // Field contentItem:Lorg/jboss/as/patching/metadata/ContentItem;
      28: checkcast     #1                  // class org/jboss/as/patching/metadata/MiscContentItem
      31: invokevirtual #8                  // Method org/jboss/as/patching/metadata/MiscContentItem.isDirectory:()Z
      34: ifeq          51
      37: aload_0
      38: getfield      #3                  // Field target:Ljava/io/File;
      41: invokevirtual #9                  // Method java/io/File.isDirectory:()Z
      44: ifeq          51
      47: aload_0
      48: invokevirtual #10                 // Method setIgnoreApply:()V
      51: getstatic     #11                 // Field org/jboss/as/patching/IoUtils.NO_CONTENT:[B
      54: areturn

  byte[] apply(org.jboss.as.patching.runner.PatchingTaskContext, org.jboss.as.patching.runner.PatchContentLoader) throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #7                  // Field contentItem:Lorg/jboss/as/patching/metadata/ContentItem;
       4: checkcast     #1                  // class org/jboss/as/patching/metadata/MiscContentItem
       7: astore_3
       8: aload_3
       9: invokevirtual #8                  // Method org/jboss/as/patching/metadata/MiscContentItem.isDirectory:()Z
      12: ifeq          55
      15: aload_0
      16: getfield      #3                  // Field target:Ljava/io/File;
      19: invokevirtual #12                 // Method java/io/File.mkdirs:()Z
      22: ifne          51
      25: aload_0
      26: getfield      #3                  // Field target:Ljava/io/File;
      29: invokevirtual #9                  // Method java/io/File.isDirectory:()Z
      32: ifne          51
      35: getstatic     #13                 // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      38: aload_0
      39: getfield      #3                  // Field target:Ljava/io/File;
      42: invokevirtual #14                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      45: invokeinterface #15,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotCreateDirectory:(Ljava/lang/String;)Ljava/io/IOException;
      50: athrow
      51: getstatic     #11                 // Field org/jboss/as/patching/IoUtils.NO_CONTENT:[B
      54: areturn
      55: aload_0
      56: getfield      #3                  // Field target:Ljava/io/File;
      59: invokevirtual #16                 // Method java/io/File.exists:()Z
      62: ifne          82
      65: aload_0
      66: getfield      #3                  // Field target:Ljava/io/File;
      69: aload_3
      70: invokevirtual #17                 // Method org/jboss/as/patching/metadata/MiscContentItem.getPath:()[Ljava/lang/String;
      73: aload_3
      74: invokevirtual #17                 // Method org/jboss/as/patching/metadata/MiscContentItem.getPath:()[Ljava/lang/String;
      77: arraylength
      78: aload_1
      79: invokestatic  #18                 // Method createParentDirectories:(Ljava/io/File;[Ljava/lang/String;ILorg/jboss/as/patching/runner/PatchingTaskContext;)V
      82: aload_2
      83: aload_3
      84: invokevirtual #19                 // Method org/jboss/as/patching/runner/PatchContentLoader.openContentStream:(Lorg/jboss/as/patching/metadata/ContentItem;)Ljava/io/InputStream;
      87: astore        4
      89: aload         4
      91: aload_0
      92: getfield      #3                  // Field target:Ljava/io/File;
      95: invokestatic  #20                 // Method org/jboss/as/patching/IoUtils.copy:(Ljava/io/InputStream;Ljava/io/File;)[B
      98: astore        5
     100: aload         4
     102: invokestatic  #21                 // Method org/jboss/as/patching/IoUtils.safeClose:(Ljava/io/Closeable;)V
     105: aload         5
     107: areturn
     108: astore        6
     110: aload         4
     112: invokestatic  #21                 // Method org/jboss/as/patching/IoUtils.safeClose:(Ljava/io/Closeable;)V
     115: aload         6
     117: athrow
    Exception table:
       from    to  target type
          89   100   108   any
         108   110   108   any

  org.jboss.as.patching.metadata.ContentModification createRollbackEntry(org.jboss.as.patching.metadata.ContentModification, byte[], byte[]);
    Code:
       0: new           #1                  // class org/jboss/as/patching/metadata/MiscContentItem
       3: dup
       4: aload_0
       5: getfield      #7                  // Field contentItem:Lorg/jboss/as/patching/metadata/ContentItem;
       8: checkcast     #1                  // class org/jboss/as/patching/metadata/MiscContentItem
      11: invokevirtual #22                 // Method org/jboss/as/patching/metadata/MiscContentItem.getName:()Ljava/lang/String;
      14: aload_0
      15: getfield      #7                  // Field contentItem:Lorg/jboss/as/patching/metadata/ContentItem;
      18: checkcast     #1                  // class org/jboss/as/patching/metadata/MiscContentItem
      21: invokevirtual #17                 // Method org/jboss/as/patching/metadata/MiscContentItem.getPath:()[Ljava/lang/String;
      24: aload_3
      25: aload_0
      26: getfield      #7                  // Field contentItem:Lorg/jboss/as/patching/metadata/ContentItem;
      29: checkcast     #1                  // class org/jboss/as/patching/metadata/MiscContentItem
      32: invokevirtual #8                  // Method org/jboss/as/patching/metadata/MiscContentItem.isDirectory:()Z
      35: aload_0
      36: getfield      #7                  // Field contentItem:Lorg/jboss/as/patching/metadata/ContentItem;
      39: checkcast     #1                  // class org/jboss/as/patching/metadata/MiscContentItem
      42: invokevirtual #23                 // Method org/jboss/as/patching/metadata/MiscContentItem.isAffectsRuntime:()Z
      45: invokespecial #24                 // Method org/jboss/as/patching/metadata/MiscContentItem."<init>":(Ljava/lang/String;[Ljava/lang/String;[BZZ)V
      48: astore        4
      50: aload_0
      51: aload_1
      52: aload         4
      54: aload_2
      55: invokevirtual #25                 // Method createRollbackEntry:(Lorg/jboss/as/patching/metadata/ContentModification;Lorg/jboss/as/patching/metadata/MiscContentItem;[B)Lorg/jboss/as/patching/metadata/ContentModification;
      58: areturn

  static void createParentDirectories(java.io.File, java.lang.String[], int, org.jboss.as.patching.runner.PatchingTaskContext) throws java.io.IOException;
    Code:
       0: iload_2
       1: ifle          57
       4: aload_0
       5: invokevirtual #26                 // Method java/io/File.getParentFile:()Ljava/io/File;
       8: astore        4
      10: aload         4
      12: invokevirtual #16                 // Method java/io/File.exists:()Z
      15: ifne          28
      18: aload         4
      20: aload_1
      21: iload_2
      22: iconst_1
      23: isub
      24: aload_3
      25: invokestatic  #18                 // Method createParentDirectories:(Ljava/io/File;[Ljava/lang/String;ILorg/jboss/as/patching/runner/PatchingTaskContext;)V
      28: aload         4
      30: invokevirtual #27                 // Method java/io/File.mkdir:()Z
      33: ifne          57
      36: aload         4
      38: invokevirtual #9                  // Method java/io/File.isDirectory:()Z
      41: ifne          57
      44: getstatic     #13                 // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      47: aload_0
      48: invokevirtual #14                 // Method java/io/File.getAbsolutePath:()Ljava/lang/String;
      51: invokeinterface #15,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.cannotCreateDirectory:(Ljava/lang/String;)Ljava/io/IOException;
      56: athrow
      57: return
}
