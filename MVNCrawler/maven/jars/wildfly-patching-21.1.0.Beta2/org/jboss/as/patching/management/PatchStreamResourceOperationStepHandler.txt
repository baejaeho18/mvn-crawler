Compiled from "PatchStreamResourceOperationStepHandler.java"
abstract class org.jboss.as.patching.management.PatchStreamResourceOperationStepHandler implements org.jboss.as.controller.OperationStepHandler {
  boolean acquireWriteLock;

  org.jboss.as.patching.management.PatchStreamResourceOperationStepHandler();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: iconst_1
       6: putfield      #2                  // Field acquireWriteLock:Z
       9: return

  public void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_1
       1: invokeinterface #3,  1            // InterfaceMethod org/jboss/as/controller/OperationContext.getCurrentStage:()Lorg/jboss/as/controller/OperationContext$Stage;
       6: getstatic     #4                  // Field org/jboss/as/controller/OperationContext$Stage.MODEL:Lorg/jboss/as/controller/OperationContext$Stage;
       9: if_acmpne     30
      12: aload_1
      13: aload_0
      14: invokedynamic #5,  0              // InvokeDynamic #0:execute:(Lorg/jboss/as/patching/management/PatchStreamResourceOperationStepHandler;)Lorg/jboss/as/controller/OperationStepHandler;
      19: getstatic     #6                  // Field org/jboss/as/controller/OperationContext$Stage.RUNTIME:Lorg/jboss/as/controller/OperationContext$Stage;
      22: invokeinterface #7,  3            // InterfaceMethod org/jboss/as/controller/OperationContext.addStep:(Lorg/jboss/as/controller/OperationStepHandler;Lorg/jboss/as/controller/OperationContext$Stage;)V
      27: goto          36
      30: aload_0
      31: aload_1
      32: aload_2
      33: invokevirtual #8                  // Method executeRuntime:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;)V
      36: return

  private void executeRuntime(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload_0
       1: getfield      #2                  // Field acquireWriteLock:Z
       4: ifeq          13
       7: aload_1
       8: invokeinterface #9,  1            // InterfaceMethod org/jboss/as/controller/OperationContext.acquireControllerLock:()V
      13: aload_0
      14: aload_1
      15: aload_2
      16: aload_0
      17: aload_1
      18: invokevirtual #10                 // Method getInstallationManager:(Lorg/jboss/as/controller/OperationContext;)Lorg/jboss/as/patching/installation/InstallationManager;
      21: aload_0
      22: aload_1
      23: invokevirtual #11                 // Method getPatchStreamName:(Lorg/jboss/as/controller/OperationContext;)Ljava/lang/String;
      26: invokevirtual #12                 // Method execute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/patching/installation/InstallationManager;Ljava/lang/String;)V
      29: return

  protected java.lang.String getPatchStreamName(org.jboss.as.controller.OperationContext);
    Code:
       0: aload_1
       1: invokeinterface #13,  1           // InterfaceMethod org/jboss/as/controller/OperationContext.getCurrentAddress:()Lorg/jboss/as/controller/PathAddress;
       6: invokevirtual #14                 // Method org/jboss/as/controller/PathAddress.getLastElement:()Lorg/jboss/as/controller/PathElement;
       9: astore_2
      10: ldc           #16                 // String patch-stream
      12: aload_2
      13: invokevirtual #17                 // Method org/jboss/as/controller/PathElement.getKey:()Ljava/lang/String;
      16: invokevirtual #18                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      19: ifeq          30
      22: aload_2
      23: invokevirtual #19                 // Method org/jboss/as/controller/PathElement.getValue:()Ljava/lang/String;
      26: astore_3
      27: goto          32
      30: aconst_null
      31: astore_3
      32: aload_3
      33: areturn

  protected void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode, org.jboss.as.patching.installation.InstallationManager, java.lang.String) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: aload         4
       2: ifnull        39
       5: aload_3
       6: aload         4
       8: aconst_null
       9: invokevirtual #20                 // Method org/jboss/as/patching/installation/InstallationManager.getInstalledIdentity:(Ljava/lang/String;Ljava/lang/String;)Lorg/jboss/as/patching/installation/InstalledIdentity;
      12: astore        5
      14: goto          45
      17: astore        6
      19: new           #22                 // class org/jboss/as/controller/OperationFailedException
      22: dup
      23: getstatic     #23                 // Field org/jboss/as/patching/logging/PatchLogger.ROOT_LOGGER:Lorg/jboss/as/patching/logging/PatchLogger;
      26: aload         4
      28: invokeinterface #24,  2           // InterfaceMethod org/jboss/as/patching/logging/PatchLogger.failedToLoadInfo:(Ljava/lang/String;)Ljava/lang/String;
      33: aload         6
      35: invokespecial #25                 // Method org/jboss/as/controller/OperationFailedException."<init>":(Ljava/lang/String;Ljava/lang/Throwable;)V
      38: athrow
      39: aload_3
      40: invokevirtual #26                 // Method org/jboss/as/patching/installation/InstallationManager.getDefaultIdentity:()Lorg/jboss/as/patching/installation/InstalledIdentity;
      43: astore        5
      45: aload_0
      46: aload_1
      47: aload_2
      48: aload         5
      50: invokevirtual #27                 // Method execute:(Lorg/jboss/as/controller/OperationContext;Lorg/jboss/dmr/ModelNode;Lorg/jboss/as/patching/installation/InstalledIdentity;)V
      53: return
    Exception table:
       from    to  target type
           5    14    17   Class org/jboss/as/patching/PatchingException

  protected void execute(org.jboss.as.controller.OperationContext, org.jboss.dmr.ModelNode, org.jboss.as.patching.installation.InstalledIdentity) throws org.jboss.as.controller.OperationFailedException;
    Code:
       0: new           #28                 // class java/lang/UnsupportedOperationException
       3: dup
       4: invokespecial #29                 // Method java/lang/UnsupportedOperationException."<init>":()V
       7: athrow

  protected org.jboss.as.patching.installation.InstallationManager getInstallationManager(org.jboss.as.controller.OperationContext);
    Code:
       0: aload_1
       1: iconst_0
       2: invokeinterface #30,  2           // InterfaceMethod org/jboss/as/controller/OperationContext.getServiceRegistry:(Z)Lorg/jboss/msc/service/ServiceRegistry;
       7: getstatic     #31                 // Field org/jboss/as/patching/installation/InstallationManagerService.NAME:Lorg/jboss/msc/service/ServiceName;
      10: invokeinterface #32,  2           // InterfaceMethod org/jboss/msc/service/ServiceRegistry.getRequiredService:(Lorg/jboss/msc/service/ServiceName;)Lorg/jboss/msc/service/ServiceController;
      15: astore_2
      16: aload_2
      17: ifnull        46
      20: aload_2
      21: invokeinterface #33,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getState:()Lorg/jboss/msc/service/ServiceController$State;
      26: getstatic     #34                 // Field org/jboss/msc/service/ServiceController$State.UP:Lorg/jboss/msc/service/ServiceController$State;
      29: if_acmpne     46
      32: aload_2
      33: invokeinterface #35,  1           // InterfaceMethod org/jboss/msc/service/ServiceController.getValue:()Ljava/lang/Object;
      38: checkcast     #36                 // class org/jboss/as/patching/installation/InstallationManager
      41: areturn
      42: astore_3
      43: goto          16
      46: aconst_null
      47: areturn
    Exception table:
       from    to  target type
          32    41    42   Class java/lang/IllegalStateException
}
