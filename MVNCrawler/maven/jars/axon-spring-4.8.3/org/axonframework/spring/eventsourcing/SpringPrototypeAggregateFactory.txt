Compiled from "SpringPrototypeAggregateFactory.java"
public class org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory<T> implements org.axonframework.eventsourcing.AggregateFactory<T>, org.springframework.beans.factory.InitializingBean, org.springframework.context.ApplicationContextAware, org.springframework.beans.factory.BeanNameAware {
  private final java.lang.Class<T> aggregateType;

  private final java.lang.String prototypeBeanName;

  private final java.util.Map<java.lang.Class<? extends T>, java.lang.String> subtypes;

  private org.springframework.context.ApplicationContext applicationContext;

  private java.lang.String beanName;

  private org.axonframework.eventsourcing.AggregateFactory<T> delegate;

  public org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: new           #5                  // class java/util/HashMap
       5: dup
       6: invokespecial #6                  // Method java/util/HashMap."<init>":()V
       9: invokespecial #7                  // Method "<init>":(Ljava/lang/String;Ljava/util/Map;)V
      12: return

  public org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory(java.lang.String, java.util.Map<java.lang.Class<? extends T>, java.lang.String>);
    Code:
       0: aload_0
       1: aconst_null
       2: aload_1
       3: aload_2
       4: invokespecial #8                  // Method "<init>":(Ljava/lang/Class;Ljava/lang/String;Ljava/util/Map;)V
       7: return

  public org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory(java.lang.Class<T>, java.lang.String, java.util.Map<java.lang.Class<? extends T>, java.lang.String>);
    Code:
       0: aload_0
       1: invokespecial #9                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #1                  // Field aggregateType:Ljava/lang/Class;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field prototypeBeanName:Ljava/lang/String;
      14: aload_0
      15: aload_3
      16: putfield      #2                  // Field subtypes:Ljava/util/Map;
      19: return

  public static <T> org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory<T> withSubtypeSupport(java.lang.Class<T>, java.lang.String, java.util.Map<java.lang.Class<? extends T>, java.lang.String>);
    Code:
       0: new           #10                 // class org/axonframework/spring/eventsourcing/SpringPrototypeAggregateFactory
       3: dup
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokespecial #8                  // Method "<init>":(Ljava/lang/Class;Ljava/lang/String;Ljava/util/Map;)V
      10: areturn

  public T createAggregateRoot(java.lang.String, org.axonframework.eventhandling.DomainEventMessage<?>);
    Code:
       0: aload_0
       1: getfield      #11                 // Field delegate:Lorg/axonframework/eventsourcing/AggregateFactory;
       4: aload_1
       5: aload_2
       6: invokeinterface #12,  3           // InterfaceMethod org/axonframework/eventsourcing/AggregateFactory.createAggregateRoot:(Ljava/lang/String;Lorg/axonframework/eventhandling/DomainEventMessage;)Ljava/lang/Object;
      11: areturn

  public java.lang.Class<T> getAggregateType();
    Code:
       0: aload_0
       1: getfield      #1                  // Field aggregateType:Ljava/lang/Class;
       4: areturn

  public void setApplicationContext(org.springframework.context.ApplicationContext);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field applicationContext:Lorg/springframework/context/ApplicationContext;
       5: return

  public void setBeanName(java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #13                 // Field beanName:Ljava/lang/String;
       5: return

  public void afterPropertiesSet();
    Code:
       0: aload_0
       1: getfield      #2                  // Field subtypes:Ljava/util/Map;
       4: invokeinterface #14,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
       9: ifeq          59
      12: aload_0
      13: getfield      #4                  // Field applicationContext:Lorg/springframework/context/ApplicationContext;
      16: aload_0
      17: getfield      #3                  // Field prototypeBeanName:Ljava/lang/String;
      20: invokeinterface #15,  2           // InterfaceMethod org/springframework/context/ApplicationContext.isPrototype:(Ljava/lang/String;)Z
      25: ifne          59
      28: new           #16                 // class org/axonframework/eventsourcing/IncompatibleAggregateException
      31: dup
      32: ldc           #17                 // String Cannot initialize repository \'%s\'. The bean with name \'%s\' does not have the \'prototype\' scope.
      34: iconst_2
      35: anewarray     #18                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_0
      41: getfield      #13                 // Field beanName:Ljava/lang/String;
      44: aastore
      45: dup
      46: iconst_1
      47: aload_0
      48: getfield      #3                  // Field prototypeBeanName:Ljava/lang/String;
      51: aastore
      52: invokestatic  #19                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      55: invokespecial #20                 // Method org/axonframework/eventsourcing/IncompatibleAggregateException."<init>":(Ljava/lang/String;)V
      58: athrow
      59: aload_0
      60: getfield      #4                  // Field applicationContext:Lorg/springframework/context/ApplicationContext;
      63: ldc           #21                 // class org/axonframework/config/Configuration
      65: invokeinterface #22,  2           // InterfaceMethod org/springframework/context/ApplicationContext.getBeanNamesForType:(Ljava/lang/Class;)[Ljava/lang/String;
      70: arraylength
      71: ifle          125
      74: aload_0
      75: getfield      #4                  // Field applicationContext:Lorg/springframework/context/ApplicationContext;
      78: ldc           #21                 // class org/axonframework/config/Configuration
      80: invokeinterface #23,  2           // InterfaceMethod org/springframework/context/ApplicationContext.getBean:(Ljava/lang/Class;)Ljava/lang/Object;
      85: checkcast     #21                 // class org/axonframework/config/Configuration
      88: astore_2
      89: aload_0
      90: invokevirtual #24                 // Method getAggregateType:()Ljava/lang/Class;
      93: aload_2
      94: invokeinterface #25,  1           // InterfaceMethod org/axonframework/config/Configuration.parameterResolverFactory:()Lorg/axonframework/messaging/annotation/ParameterResolverFactory;
      99: aload_2
     100: aload_0
     101: invokevirtual #24                 // Method getAggregateType:()Ljava/lang/Class;
     104: invokeinterface #26,  2           // InterfaceMethod org/axonframework/config/Configuration.handlerDefinition:(Ljava/lang/Class;)Lorg/axonframework/messaging/annotation/HandlerDefinition;
     109: aload_0
     110: getfield      #2                  // Field subtypes:Ljava/util/Map;
     113: invokeinterface #27,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     118: invokestatic  #28                 // Method org/axonframework/modelling/command/inspection/AnnotatedAggregateMetaModelFactory.inspectAggregate:(Ljava/lang/Class;Lorg/axonframework/messaging/annotation/ParameterResolverFactory;Lorg/axonframework/messaging/annotation/HandlerDefinition;Ljava/util/Set;)Lorg/axonframework/modelling/command/inspection/AggregateModel;
     121: astore_1
     122: goto          142
     125: aload_0
     126: invokevirtual #24                 // Method getAggregateType:()Ljava/lang/Class;
     129: aload_0
     130: getfield      #2                  // Field subtypes:Ljava/util/Map;
     133: invokeinterface #27,  1           // InterfaceMethod java/util/Map.keySet:()Ljava/util/Set;
     138: invokestatic  #29                 // Method org/axonframework/modelling/command/inspection/AnnotatedAggregateMetaModelFactory.inspectAggregate:(Ljava/lang/Class;Ljava/util/Set;)Lorg/axonframework/modelling/command/inspection/AggregateModel;
     141: astore_1
     142: aload_0
     143: new           #30                 // class org/axonframework/spring/eventsourcing/SpringPrototypeAggregateFactory$1
     146: dup
     147: aload_0
     148: aload_1
     149: invokespecial #31                 // Method org/axonframework/spring/eventsourcing/SpringPrototypeAggregateFactory$1."<init>":(Lorg/axonframework/spring/eventsourcing/SpringPrototypeAggregateFactory;Lorg/axonframework/modelling/command/inspection/AggregateModel;)V
     152: putfield      #11                 // Field delegate:Lorg/axonframework/eventsourcing/AggregateFactory;
     155: return

  static org.springframework.context.ApplicationContext access$000(org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory);
    Code:
       0: aload_0
       1: getfield      #4                  // Field applicationContext:Lorg/springframework/context/ApplicationContext;
       4: areturn

  static java.lang.String access$100(org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory);
    Code:
       0: aload_0
       1: getfield      #3                  // Field prototypeBeanName:Ljava/lang/String;
       4: areturn

  static java.util.Map access$200(org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory);
    Code:
       0: aload_0
       1: getfield      #2                  // Field subtypes:Ljava/util/Map;
       4: areturn

  static java.lang.Class access$300(org.axonframework.spring.eventsourcing.SpringPrototypeAggregateFactory);
    Code:
       0: aload_0
       1: getfield      #1                  // Field aggregateType:Ljava/lang/Class;
       4: areturn
}
