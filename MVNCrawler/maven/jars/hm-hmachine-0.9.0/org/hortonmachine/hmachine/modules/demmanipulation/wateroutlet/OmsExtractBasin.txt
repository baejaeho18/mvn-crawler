Compiled from "OmsExtractBasin.java"
public class org.hortonmachine.hmachine.modules.demmanipulation.wateroutlet.OmsExtractBasin extends org.hortonmachine.gears.libs.modules.HMModel {
  public double pNorth;

  public double pEast;

  public org.geotools.coverage.grid.GridCoverage2D inFlow;

  public org.geotools.data.simple.SimpleFeatureCollection inNetwork;

  public double pSnapbuffer;

  public boolean doVector;

  public boolean doSmoothing;

  public double outArea;

  public org.geotools.coverage.grid.GridCoverage2D outBasin;

  public org.geotools.data.simple.SimpleFeatureCollection outOutlet;

  public org.geotools.data.simple.SimpleFeatureCollection outVectorBasin;

  public static final java.lang.String OMSEXTRACTBASIN_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_DOCUMENTATION;

  public static final java.lang.String OMSEXTRACTBASIN_KEYWORDS;

  public static final java.lang.String OMSEXTRACTBASIN_LABEL;

  public static final java.lang.String OMSEXTRACTBASIN_NAME;

  public static final int OMSEXTRACTBASIN_STATUS;

  public static final java.lang.String OMSEXTRACTBASIN_LICENSE;

  public static final java.lang.String OMSEXTRACTBASIN_AUTHORNAMES;

  public static final java.lang.String OMSEXTRACTBASIN_AUTHORCONTACTS;

  public static final java.lang.String OMSEXTRACTBASIN_pNorth_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_pEast_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_inFlow_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_inNetwork_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_pSnapbuffer_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_doVector_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_doSmoothing_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_outArea_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_outBasin_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_outOutlet_DESCRIPTION;

  public static final java.lang.String OMSEXTRACTBASIN_outVectorBasin_DESCRIPTION;

  public static final java.lang.String FIELD_BASINAREA;

  private org.hortonmachine.hmachine.i18n.HortonMessageHandler msg;

  private int ncols;

  private int nrows;

  private org.opengis.referencing.crs.CoordinateReferenceSystem crs;

  private com.vividsolutions.jts.geom.GeometryFactory gf;

  private boolean alreadyWarned;

  public org.hortonmachine.hmachine.modules.demmanipulation.wateroutlet.OmsExtractBasin();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/hortonmachine/gears/libs/modules/HMModel."<init>":()V
       4: aload_0
       5: ldc2_w        #3                  // double -1.0d
       8: putfield      #5                  // Field pNorth:D
      11: aload_0
      12: ldc2_w        #3                  // double -1.0d
      15: putfield      #6                  // Field pEast:D
      18: aload_0
      19: ldc2_w        #7                  // double 200.0d
      22: putfield      #9                  // Field pSnapbuffer:D
      25: aload_0
      26: iconst_1
      27: putfield      #10                 // Field doVector:Z
      30: aload_0
      31: iconst_0
      32: putfield      #11                 // Field doSmoothing:Z
      35: aload_0
      36: dconst_0
      37: putfield      #12                 // Field outArea:D
      40: aload_0
      41: aconst_null
      42: putfield      #13                 // Field outBasin:Lorg/geotools/coverage/grid/GridCoverage2D;
      45: aload_0
      46: aconst_null
      47: putfield      #14                 // Field outOutlet:Lorg/geotools/data/simple/SimpleFeatureCollection;
      50: aload_0
      51: aconst_null
      52: putfield      #15                 // Field outVectorBasin:Lorg/geotools/data/simple/SimpleFeatureCollection;
      55: aload_0
      56: invokestatic  #16                 // Method org/hortonmachine/hmachine/i18n/HortonMessageHandler.getInstance:()Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      59: putfield      #17                 // Field msg:Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      62: aload_0
      63: invokestatic  #18                 // Method org/hortonmachine/gears/utils/geometry/GeometryUtilities.gf:()Lcom/vividsolutions/jts/geom/GeometryFactory;
      66: putfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
      69: aload_0
      70: iconst_0
      71: putfield      #20                 // Field alreadyWarned:Z
      74: return

  public void process() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_2
       2: newarray       boolean
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #13                 // Field outBasin:Lorg/geotools/coverage/grid/GridCoverage2D;
      10: ifnonnull     17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: bastore
      19: dup
      20: iconst_1
      21: aload_0
      22: getfield      #21                 // Field doReset:Z
      25: bastore
      26: invokevirtual #22                 // Method concatOr:([Z)Z
      29: ifne          33
      32: return
      33: aload_0
      34: iconst_1
      35: anewarray     #23                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_0
      41: getfield      #24                 // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      44: aastore
      45: invokevirtual #25                 // Method checkNull:([Ljava/lang/Object;)V
      48: aload_0
      49: aload_0
      50: getfield      #24                 // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      53: invokevirtual #26                 // Method org/geotools/coverage/grid/GridCoverage2D.getCoordinateReferenceSystem:()Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
      56: putfield      #27                 // Field crs:Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
      59: aload_0
      60: getfield      #24                 // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      63: invokestatic  #28                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getRegionParamsFromGridCoverage:(Lorg/geotools/coverage/grid/GridCoverage2D;)Lorg/hortonmachine/gears/utils/RegionMap;
      66: astore_1
      67: aload_0
      68: aload_1
      69: invokevirtual #29                 // Method org/hortonmachine/gears/utils/RegionMap.getCols:()I
      72: putfield      #30                 // Field ncols:I
      75: aload_0
      76: aload_1
      77: invokevirtual #31                 // Method org/hortonmachine/gears/utils/RegionMap.getRows:()I
      80: putfield      #32                 // Field nrows:I
      83: aload_1
      84: invokevirtual #33                 // Method org/hortonmachine/gears/utils/RegionMap.getXres:()D
      87: dstore_2
      88: aload_1
      89: invokevirtual #34                 // Method org/hortonmachine/gears/utils/RegionMap.getYres:()D
      92: dstore        4
      94: aload_1
      95: invokevirtual #35                 // Method org/hortonmachine/gears/utils/RegionMap.getNorth:()D
      98: dstore        6
     100: aload_1
     101: invokevirtual #36                 // Method org/hortonmachine/gears/utils/RegionMap.getWest:()D
     104: dstore        8
     106: aload_1
     107: invokevirtual #37                 // Method org/hortonmachine/gears/utils/RegionMap.getSouth:()D
     110: dstore        10
     112: aload_1
     113: invokevirtual #38                 // Method org/hortonmachine/gears/utils/RegionMap.getEast:()D
     116: dstore        12
     118: aload_0
     119: getfield      #5                  // Field pNorth:D
     122: ldc2_w        #3                  // double -1.0d
     125: dcmpl
     126: ifeq          140
     129: aload_0
     130: getfield      #6                  // Field pEast:D
     133: ldc2_w        #3                  // double -1.0d
     136: dcmpl
     137: ifne          161
     140: new           #39                 // class org/hortonmachine/gears/libs/exceptions/ModelsIllegalargumentException
     143: dup
     144: ldc           #40                 // String No outlet coordinates were supplied.
     146: aload_0
     147: invokevirtual #41                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     150: invokevirtual #42                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     153: aload_0
     154: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     157: invokespecial #44                 // Method org/hortonmachine/gears/libs/exceptions/ModelsIllegalargumentException."<init>":(Ljava/lang/String;Ljava/lang/Object;Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;)V
     160: athrow
     161: aload_0
     162: getfield      #5                  // Field pNorth:D
     165: dload         6
     167: dcmpl
     168: ifgt          201
     171: aload_0
     172: getfield      #5                  // Field pNorth:D
     175: dload         10
     177: dcmpg
     178: iflt          201
     181: aload_0
     182: getfield      #6                  // Field pEast:D
     185: dload         12
     187: dcmpl
     188: ifgt          201
     191: aload_0
     192: getfield      #6                  // Field pEast:D
     195: dload         8
     197: dcmpg
     198: ifge          222
     201: new           #39                 // class org/hortonmachine/gears/libs/exceptions/ModelsIllegalargumentException
     204: dup
     205: ldc           #45                 // String The outlet point lies outside the map region.
     207: aload_0
     208: invokevirtual #41                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     211: invokevirtual #42                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     214: aload_0
     215: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     218: invokespecial #44                 // Method org/hortonmachine/gears/libs/exceptions/ModelsIllegalargumentException."<init>":(Ljava/lang/String;Ljava/lang/Object;Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;)V
     221: athrow
     222: aload_0
     223: invokespecial #46                 // Method snapOutlet:()Lcom/vividsolutions/jts/geom/Coordinate;
     226: astore        14
     228: aload         14
     230: ifnull        251
     233: aload_0
     234: aload         14
     236: getfield      #47                 // Field com/vividsolutions/jts/geom/Coordinate.x:D
     239: putfield      #6                  // Field pEast:D
     242: aload_0
     243: aload         14
     245: getfield      #48                 // Field com/vividsolutions/jts/geom/Coordinate.y:D
     248: putfield      #5                  // Field pNorth:D
     251: aload_0
     252: getfield      #24                 // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
     255: invokestatic  #49                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getRandomIterator:(Lorg/geotools/coverage/grid/GridCoverage2D;)Ljavax/media/jai/iterator/RandomIter;
     258: astore        15
     260: aload_0
     261: getfield      #30                 // Field ncols:I
     264: aload_0
     265: getfield      #32                 // Field nrows:I
     268: ldc           #50                 // class java/lang/Short
     270: aconst_null
     271: sipush        -9999
     274: invokestatic  #51                 // Method java/lang/Short.valueOf:(S)Ljava/lang/Short;
     277: invokestatic  #52                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     280: astore        16
     282: aload         16
     284: aconst_null
     285: invokestatic  #53                 // Method javax/media/jai/iterator/RandomIterFactory.createWritable:(Ljava/awt/image/WritableRaster;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/WritableRandomIter;
     288: astore        17
     290: new           #54                 // class com/vividsolutions/jts/geom/Coordinate
     293: dup
     294: aload_0
     295: getfield      #6                  // Field pEast:D
     298: aload_0
     299: getfield      #5                  // Field pNorth:D
     302: invokespecial #55                 // Method com/vividsolutions/jts/geom/Coordinate."<init>":(DD)V
     305: astore        18
     307: aload         18
     309: aload_0
     310: getfield      #24                 // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
     313: invokevirtual #56                 // Method org/geotools/coverage/grid/GridCoverage2D.getGridGeometry:()Lorg/geotools/coverage/grid/GridGeometry2D;
     316: aconst_null
     317: invokestatic  #57                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.colRowFromCoordinate:(Lcom/vividsolutions/jts/geom/Coordinate;Lorg/geotools/coverage/grid/GridGeometry2D;Ljava/awt/Point;)[I
     320: astore        19
     322: aload         15
     324: aload         19
     326: iconst_0
     327: iaload
     328: aload         19
     330: iconst_1
     331: iaload
     332: iconst_0
     333: invokeinterface #58,  4           // InterfaceMethod javax/media/jai/iterator/RandomIter.getSample:(III)I
     338: istore        20
     340: iload         20
     342: invokestatic  #59                 // Method org/hortonmachine/gears/libs/modules/HMConstants.isNovalue:(I)Z
     345: ifeq          358
     348: new           #60                 // class java/lang/IllegalArgumentException
     351: dup
     352: ldc           #61                 // String The chosen outlet point doesn\'t have a valid value.
     354: invokespecial #62                 // Method java/lang/IllegalArgumentException."<init>":(Ljava/lang/String;)V
     357: athrow
     358: new           #63                 // class org/hortonmachine/gears/libs/modules/FlowNode
     361: dup
     362: aload         15
     364: aload_0
     365: getfield      #30                 // Field ncols:I
     368: aload_0
     369: getfield      #32                 // Field nrows:I
     372: aload         19
     374: iconst_0
     375: iaload
     376: aload         19
     378: iconst_1
     379: iaload
     380: invokespecial #64                 // Method org/hortonmachine/gears/libs/modules/FlowNode."<init>":(Ljavax/media/jai/iterator/RandomIter;IIII)V
     383: astore        21
     385: aload         21
     387: aload         17
     389: iconst_1
     390: invokevirtual #65                 // Method org/hortonmachine/gears/libs/modules/FlowNode.setIntValueInMap:(Ljavax/media/jai/iterator/WritableRandomIter;I)V
     393: aload_0
     394: dup
     395: getfield      #12                 // Field outArea:D
     398: dconst_1
     399: dadd
     400: putfield      #12                 // Field outArea:D
     403: new           #66                 // class java/util/concurrent/ConcurrentLinkedQueue
     406: dup
     407: aload         21
     409: invokevirtual #67                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getEnteringNodes:()Ljava/util/List;
     412: invokespecial #68                 // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":(Ljava/util/Collection;)V
     415: astore        22
     417: aload_0
     418: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     421: aload_0
     422: getfield      #17                 // Field msg:Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
     425: ldc           #69                 // String wateroutlet.extracting
     427: invokevirtual #70                 // Method org/hortonmachine/hmachine/i18n/HortonMessageHandler.message:(Ljava/lang/String;)Ljava/lang/String;
     430: iconst_m1
     431: invokeinterface #71,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
     436: aload         22
     438: invokevirtual #72                 // Method java/util/concurrent/ConcurrentLinkedQueue.size:()I
     441: ifle          507
     444: aload_0
     445: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     448: invokeinterface #73,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.isCanceled:()Z
     453: ifeq          471
     456: aload         15
     458: invokeinterface #74,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     463: aload         17
     465: invokeinterface #75,  1           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.done:()V
     470: return
     471: new           #66                 // class java/util/concurrent/ConcurrentLinkedQueue
     474: dup
     475: invokespecial #76                 // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
     478: astore        23
     480: aload         22
     482: invokevirtual #77                 // Method java/util/concurrent/ConcurrentLinkedQueue.parallelStream:()Ljava/util/stream/Stream;
     485: aload_0
     486: aload         17
     488: aload         23
     490: invokedynamic #78,  0             // InvokeDynamic #0:accept:(Lorg/hortonmachine/hmachine/modules/demmanipulation/wateroutlet/OmsExtractBasin;Ljavax/media/jai/iterator/WritableRandomIter;Ljava/util/concurrent/ConcurrentLinkedQueue;)Ljava/util/function/Consumer;
     495: invokeinterface #79,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
     500: aload         23
     502: astore        22
     504: goto          436
     507: aload_0
     508: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     511: invokeinterface #80,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     516: aload_0
     517: aload_0
     518: getfield      #12                 // Field outArea:D
     521: dload_2
     522: dmul
     523: dload         4
     525: dmul
     526: putfield      #12                 // Field outArea:D
     529: aload_0
     530: ldc           #81                 // String basin
     532: aload         16
     534: aload_1
     535: aload_0
     536: getfield      #27                 // Field crs:Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
     539: invokestatic  #82                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     542: putfield      #13                 // Field outBasin:Lorg/geotools/coverage/grid/GridCoverage2D;
     545: aload_0
     546: invokespecial #83                 // Method extractVectorBasin:()V
     549: aload         15
     551: invokeinterface #74,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     556: aload         17
     558: invokeinterface #75,  1           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.done:()V
     563: goto          585
     566: astore        24
     568: aload         15
     570: invokeinterface #74,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     575: aload         17
     577: invokeinterface #75,  1           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.done:()V
     582: aload         24
     584: athrow
     585: return
    Exception table:
       from    to  target type
         290   456   566   any
         471   549   566   any
         566   568   566   any

  private void extractVectorBasin() throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #10                 // Field doVector:Z
       4: ifne          8
       7: return
       8: new           #84                 // class java/util/HashMap
      11: dup
      12: invokespecial #85                 // Method java/util/HashMap."<init>":()V
      15: astore_1
      16: aload_1
      17: ldc           #86                 // String outsideValues
      19: iconst_1
      20: anewarray     #87                 // class java/lang/Double
      23: dup
      24: iconst_0
      25: ldc2_w        #88                 // double -9999.0d
      28: invokestatic  #90                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      31: aastore
      32: invokestatic  #91                 // Method java/util/Arrays.asList:([Ljava/lang/Object;)Ljava/util/List;
      35: invokeinterface #92,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      40: pop
      41: aload_0
      42: getfield      #13                 // Field outBasin:Lorg/geotools/coverage/grid/GridCoverage2D;
      45: aload_1
      46: invokestatic  #93                 // Method org/hortonmachine/gears/utils/features/FeatureUtilities.doVectorize:(Lorg/geotools/coverage/grid/GridCoverage2D;Ljava/util/Map;)Ljava/util/Collection;
      49: astore_2
      50: aconst_null
      51: astore_3
      52: ldc2_w        #94                 // double -Infinityd
      55: dstore        4
      57: aload_2
      58: invokeinterface #96,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      63: astore        6
      65: aload         6
      67: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      72: ifeq          112
      75: aload         6
      77: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      82: checkcast     #99                 // class com/vividsolutions/jts/geom/Polygon
      85: astore        7
      87: aload         7
      89: invokevirtual #100                // Method com/vividsolutions/jts/geom/Polygon.getArea:()D
      92: dstore        8
      94: dload         8
      96: dload         4
      98: dcmpl
      99: ifle          109
     102: aload         7
     104: astore_3
     105: dload         8
     107: dstore        4
     109: goto          65
     112: aload_0
     113: aload_3
     114: invokespecial #101                // Method smoothVectorBasin:(Lcom/vividsolutions/jts/geom/Polygon;)Lcom/vividsolutions/jts/geom/Polygon;
     117: astore_3
     118: aload_0
     119: new           #102                // class org/geotools/feature/DefaultFeatureCollection
     122: dup
     123: invokespecial #103                // Method org/geotools/feature/DefaultFeatureCollection."<init>":()V
     126: putfield      #15                 // Field outVectorBasin:Lorg/geotools/data/simple/SimpleFeatureCollection;
     129: new           #104                // class org/geotools/feature/simple/SimpleFeatureTypeBuilder
     132: dup
     133: invokespecial #105                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder."<init>":()V
     136: astore        6
     138: aload         6
     140: ldc           #106                // String basins
     142: invokevirtual #107                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.setName:(Ljava/lang/String;)V
     145: aload         6
     147: aload_0
     148: getfield      #27                 // Field crs:Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
     151: invokevirtual #108                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.setCRS:(Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)V
     154: aload         6
     156: ldc           #109                // String the_geom
     158: ldc           #99                 // class com/vividsolutions/jts/geom/Polygon
     160: invokevirtual #110                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.add:(Ljava/lang/String;Ljava/lang/Class;)V
     163: aload         6
     165: ldc           #111                // String area
     167: ldc           #87                 // class java/lang/Double
     169: invokevirtual #110                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.add:(Ljava/lang/String;Ljava/lang/Class;)V
     172: aload         6
     174: invokevirtual #112                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.buildFeatureType:()Lorg/opengis/feature/simple/SimpleFeatureType;
     177: astore        7
     179: new           #113                // class org/geotools/feature/simple/SimpleFeatureBuilder
     182: dup
     183: aload         7
     185: invokespecial #114                // Method org/geotools/feature/simple/SimpleFeatureBuilder."<init>":(Lorg/opengis/feature/simple/SimpleFeatureType;)V
     188: astore        8
     190: iconst_2
     191: anewarray     #23                 // class java/lang/Object
     194: dup
     195: iconst_0
     196: aload_3
     197: aastore
     198: dup
     199: iconst_1
     200: aload_3
     201: invokevirtual #100                // Method com/vividsolutions/jts/geom/Polygon.getArea:()D
     204: invokestatic  #90                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     207: aastore
     208: astore        9
     210: aload         8
     212: aload         9
     214: invokevirtual #115                // Method org/geotools/feature/simple/SimpleFeatureBuilder.addAll:([Ljava/lang/Object;)V
     217: aload         8
     219: aconst_null
     220: invokevirtual #116                // Method org/geotools/feature/simple/SimpleFeatureBuilder.buildFeature:(Ljava/lang/String;)Lorg/opengis/feature/simple/SimpleFeature;
     223: astore        10
     225: aload_0
     226: getfield      #15                 // Field outVectorBasin:Lorg/geotools/data/simple/SimpleFeatureCollection;
     229: checkcast     #102                // class org/geotools/feature/DefaultFeatureCollection
     232: aload         10
     234: invokevirtual #117                // Method org/geotools/feature/DefaultFeatureCollection.add:(Lorg/opengis/feature/simple/SimpleFeature;)Z
     237: pop
     238: return

  private com.vividsolutions.jts.geom.Polygon smoothVectorBasin(com.vividsolutions.jts.geom.Polygon) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #11                 // Field doSmoothing:Z
       4: ifne          9
       7: aload_1
       8: areturn
       9: aload_0
      10: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      13: ldc           #118                // String Smoothing polygons...
      15: iconst_m1
      16: invokeinterface #71,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
      21: aload_0
      22: getfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
      25: aload_1
      26: invokevirtual #120                // Method com/vividsolutions/jts/geom/Polygon.getCoordinates:()[Lcom/vividsolutions/jts/geom/Coordinate;
      29: invokevirtual #121                // Method com/vividsolutions/jts/geom/GeometryFactory.createLineString:([Lcom/vividsolutions/jts/geom/Coordinate;)Lcom/vividsolutions/jts/geom/LineString;
      32: astore_2
      33: new           #102                // class org/geotools/feature/DefaultFeatureCollection
      36: dup
      37: invokespecial #103                // Method org/geotools/feature/DefaultFeatureCollection."<init>":()V
      40: astore_3
      41: aload_3
      42: aload_2
      43: aconst_null
      44: invokestatic  #122                // Method org/hortonmachine/gears/utils/features/FeatureUtilities.toDummyFeature:(Lcom/vividsolutions/jts/geom/Geometry;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/opengis/feature/simple/SimpleFeature;
      47: invokevirtual #117                // Method org/geotools/feature/DefaultFeatureCollection.add:(Lorg/opengis/feature/simple/SimpleFeature;)Z
      50: pop
      51: new           #123                // class org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster
      54: dup
      55: invokespecial #124                // Method org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster."<init>":()V
      58: astore        4
      60: aload         4
      62: aload_3
      63: putfield      #125                // Field org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster.inVector:Lorg/geotools/data/simple/SimpleFeatureCollection;
      66: aload         4
      68: iconst_5
      69: putfield      #126                // Field org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster.pLookahead:I
      72: aload         4
      74: ldc2_w        #127                // double 0.9d
      77: putfield      #129                // Field org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster.pSlide:D
      80: aload         4
      82: invokevirtual #130                // Method org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster.process:()V
      85: aload         4
      87: getfield      #131                // Field org/hortonmachine/gears/modules/v/smoothing/OmsLineSmootherMcMaster.outVector:Lorg/geotools/data/simple/SimpleFeatureCollection;
      90: astore        5
      92: aload         5
      94: invokeinterface #132,  1          // InterfaceMethod org/geotools/data/simple/SimpleFeatureCollection.features:()Lorg/geotools/data/simple/SimpleFeatureIterator;
      99: invokeinterface #133,  1          // InterfaceMethod org/geotools/data/simple/SimpleFeatureIterator.next:()Lorg/opengis/feature/Feature;
     104: checkcast     #134                // class org/opengis/feature/simple/SimpleFeature
     107: invokeinterface #135,  1          // InterfaceMethod org/opengis/feature/simple/SimpleFeature.getDefaultGeometry:()Ljava/lang/Object;
     112: checkcast     #136                // class com/vividsolutions/jts/geom/MultiLineString
     115: astore        6
     117: aload_0
     118: getfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
     121: aload_0
     122: getfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
     125: aload         6
     127: invokevirtual #137                // Method com/vividsolutions/jts/geom/MultiLineString.getCoordinates:()[Lcom/vividsolutions/jts/geom/Coordinate;
     130: invokevirtual #138                // Method com/vividsolutions/jts/geom/GeometryFactory.createLinearRing:([Lcom/vividsolutions/jts/geom/Coordinate;)Lcom/vividsolutions/jts/geom/LinearRing;
     133: aconst_null
     134: invokevirtual #139                // Method com/vividsolutions/jts/geom/GeometryFactory.createPolygon:(Lcom/vividsolutions/jts/geom/LinearRing;[Lcom/vividsolutions/jts/geom/LinearRing;)Lcom/vividsolutions/jts/geom/Polygon;
     137: astore_1
     138: goto          153
     141: astore_2
     142: aload_0
     143: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     146: ldc           #141                // String Warning, unable to smooth the basin. Continue with original layer.
     148: invokeinterface #142,  2          // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.errorMessage:(Ljava/lang/String;)V
     153: aload_0
     154: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     157: invokeinterface #80,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     162: aload_1
     163: areturn
    Exception table:
       from    to  target type
          21   138   141   Class java/lang/Exception

  private com.vividsolutions.jts.geom.Coordinate snapOutlet() throws java.io.IOException;
    Code:
       0: aload_0
       1: getfield      #143                // Field inNetwork:Lorg/geotools/data/simple/SimpleFeatureCollection;
       4: ifnull        224
       7: aload_0
       8: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      11: ldc           #144                // String Snapping to network...
      13: aload_0
      14: getfield      #143                // Field inNetwork:Lorg/geotools/data/simple/SimpleFeatureCollection;
      17: invokeinterface #145,  1          // InterfaceMethod org/geotools/data/simple/SimpleFeatureCollection.size:()I
      22: invokeinterface #71,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
      27: new           #146                // class com/vividsolutions/jts/index/strtree/STRtree
      30: dup
      31: invokespecial #147                // Method com/vividsolutions/jts/index/strtree/STRtree."<init>":()V
      34: astore_1
      35: aload_0
      36: getfield      #143                // Field inNetwork:Lorg/geotools/data/simple/SimpleFeatureCollection;
      39: new           #148                // class org/hortonmachine/hmachine/modules/demmanipulation/wateroutlet/OmsExtractBasin$1
      42: dup
      43: aload_0
      44: aload_1
      45: invokespecial #149                // Method org/hortonmachine/hmachine/modules/demmanipulation/wateroutlet/OmsExtractBasin$1."<init>":(Lorg/hortonmachine/hmachine/modules/demmanipulation/wateroutlet/OmsExtractBasin;Lcom/vividsolutions/jts/index/SpatialIndex;)V
      48: new           #150                // class org/geotools/util/NullProgressListener
      51: dup
      52: invokespecial #151                // Method org/geotools/util/NullProgressListener."<init>":()V
      55: invokeinterface #152,  3          // InterfaceMethod org/geotools/data/simple/SimpleFeatureCollection.accepts:(Lorg/opengis/feature/FeatureVisitor;Lorg/opengis/util/ProgressListener;)V
      60: aload_0
      61: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      64: invokeinterface #80,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
      69: new           #54                 // class com/vividsolutions/jts/geom/Coordinate
      72: dup
      73: aload_0
      74: getfield      #6                  // Field pEast:D
      77: aload_0
      78: getfield      #5                  // Field pNorth:D
      81: invokespecial #55                 // Method com/vividsolutions/jts/geom/Coordinate."<init>":(DD)V
      84: astore_2
      85: aload_0
      86: getfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
      89: aload_2
      90: invokevirtual #153                // Method com/vividsolutions/jts/geom/GeometryFactory.createPoint:(Lcom/vividsolutions/jts/geom/Coordinate;)Lcom/vividsolutions/jts/geom/Point;
      93: astore_3
      94: aload_1
      95: aload_3
      96: invokevirtual #154                // Method com/vividsolutions/jts/geom/Point.getEnvelopeInternal:()Lcom/vividsolutions/jts/geom/Envelope;
      99: invokeinterface #155,  2          // InterfaceMethod com/vividsolutions/jts/index/SpatialIndex.query:(Lcom/vividsolutions/jts/geom/Envelope;)Ljava/util/List;
     104: astore        4
     106: ldc2_w        #156                // double Infinityd
     109: dstore        5
     111: aconst_null
     112: astore        7
     114: aload         4
     116: invokeinterface #158,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     121: astore        8
     123: aload         8
     125: invokeinterface #97,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     130: ifeq          189
     133: aload         8
     135: invokeinterface #98,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     140: checkcast     #159                // class com/vividsolutions/jts/linearref/LocationIndexedLine
     143: astore        9
     145: aload         9
     147: aload_2
     148: invokevirtual #160                // Method com/vividsolutions/jts/linearref/LocationIndexedLine.project:(Lcom/vividsolutions/jts/geom/Coordinate;)Lcom/vividsolutions/jts/linearref/LinearLocation;
     151: astore        10
     153: aload         9
     155: aload         10
     157: invokevirtual #161                // Method com/vividsolutions/jts/linearref/LocationIndexedLine.extractPoint:(Lcom/vividsolutions/jts/linearref/LinearLocation;)Lcom/vividsolutions/jts/geom/Coordinate;
     160: astore        11
     162: aload         11
     164: aload_2
     165: invokevirtual #162                // Method com/vividsolutions/jts/geom/Coordinate.distance:(Lcom/vividsolutions/jts/geom/Coordinate;)D
     168: dstore        12
     170: dload         12
     172: dload         5
     174: dcmpg
     175: ifge          186
     178: dload         12
     180: dstore        5
     182: aload         11
     184: astore        7
     186: goto          123
     189: aload         7
     191: ifnonnull     204
     194: new           #163                // class java/lang/RuntimeException
     197: dup
     198: ldc           #164                // String The outlet point could not be snapped to the network.
     200: invokespecial #165                // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     203: athrow
     204: aload_0
     205: getfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
     208: aload         7
     210: invokevirtual #153                // Method com/vividsolutions/jts/geom/GeometryFactory.createPoint:(Lcom/vividsolutions/jts/geom/Coordinate;)Lcom/vividsolutions/jts/geom/Point;
     213: astore        8
     215: aload_0
     216: aload         8
     218: invokespecial #166                // Method makeOutletFC:(Lcom/vividsolutions/jts/geom/Point;)V
     221: aload         7
     223: areturn
     224: aload_0
     225: getfield      #19                 // Field gf:Lcom/vividsolutions/jts/geom/GeometryFactory;
     228: new           #54                 // class com/vividsolutions/jts/geom/Coordinate
     231: dup
     232: aload_0
     233: getfield      #6                  // Field pEast:D
     236: aload_0
     237: getfield      #5                  // Field pNorth:D
     240: invokespecial #55                 // Method com/vividsolutions/jts/geom/Coordinate."<init>":(DD)V
     243: invokevirtual #153                // Method com/vividsolutions/jts/geom/GeometryFactory.createPoint:(Lcom/vividsolutions/jts/geom/Coordinate;)Lcom/vividsolutions/jts/geom/Point;
     246: astore_1
     247: aload_0
     248: aload_1
     249: invokespecial #166                // Method makeOutletFC:(Lcom/vividsolutions/jts/geom/Point;)V
     252: aconst_null
     253: areturn

  private void makeOutletFC(com.vividsolutions.jts.geom.Point);
    Code:
       0: aload_0
       1: new           #102                // class org/geotools/feature/DefaultFeatureCollection
       4: dup
       5: invokespecial #103                // Method org/geotools/feature/DefaultFeatureCollection."<init>":()V
       8: putfield      #14                 // Field outOutlet:Lorg/geotools/data/simple/SimpleFeatureCollection;
      11: new           #104                // class org/geotools/feature/simple/SimpleFeatureTypeBuilder
      14: dup
      15: invokespecial #105                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder."<init>":()V
      18: astore_2
      19: aload_2
      20: ldc           #167                // String outlet
      22: invokevirtual #107                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.setName:(Ljava/lang/String;)V
      25: aload_2
      26: aload_0
      27: getfield      #27                 // Field crs:Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
      30: invokevirtual #108                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.setCRS:(Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)V
      33: aload_2
      34: ldc           #109                // String the_geom
      36: ldc           #168                // class com/vividsolutions/jts/geom/Point
      38: invokevirtual #110                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.add:(Ljava/lang/String;Ljava/lang/Class;)V
      41: aload_2
      42: ldc           #170                // String basinarea
      44: ldc           #87                 // class java/lang/Double
      46: invokevirtual #110                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.add:(Ljava/lang/String;Ljava/lang/Class;)V
      49: aload_2
      50: invokevirtual #112                // Method org/geotools/feature/simple/SimpleFeatureTypeBuilder.buildFeatureType:()Lorg/opengis/feature/simple/SimpleFeatureType;
      53: astore_3
      54: new           #113                // class org/geotools/feature/simple/SimpleFeatureBuilder
      57: dup
      58: aload_3
      59: invokespecial #114                // Method org/geotools/feature/simple/SimpleFeatureBuilder."<init>":(Lorg/opengis/feature/simple/SimpleFeatureType;)V
      62: astore        4
      64: iconst_2
      65: anewarray     #23                 // class java/lang/Object
      68: dup
      69: iconst_0
      70: aload_1
      71: aastore
      72: dup
      73: iconst_1
      74: ldc2_w        #88                 // double -9999.0d
      77: invokestatic  #90                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      80: aastore
      81: astore        5
      83: aload         4
      85: aload         5
      87: invokevirtual #115                // Method org/geotools/feature/simple/SimpleFeatureBuilder.addAll:([Ljava/lang/Object;)V
      90: aload         4
      92: aconst_null
      93: invokevirtual #116                // Method org/geotools/feature/simple/SimpleFeatureBuilder.buildFeature:(Ljava/lang/String;)Lorg/opengis/feature/simple/SimpleFeature;
      96: astore        6
      98: aload_0
      99: getfield      #14                 // Field outOutlet:Lorg/geotools/data/simple/SimpleFeatureCollection;
     102: checkcast     #102                // class org/geotools/feature/DefaultFeatureCollection
     105: aload         6
     107: invokevirtual #117                // Method org/geotools/feature/DefaultFeatureCollection.add:(Lorg/opengis/feature/simple/SimpleFeature;)Z
     110: pop
     111: return

  private void lambda$process$15(javax.media.jai.iterator.WritableRandomIter, java.util.concurrent.ConcurrentLinkedQueue, org.hortonmachine.gears.libs.modules.FlowNode);
    Code:
       0: aload_0
       1: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
       4: invokeinterface #73,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.isCanceled:()Z
       9: ifeq          13
      12: return
      13: aload_0
      14: getfield      #20                 // Field alreadyWarned:Z
      17: ifne          70
      20: aload_3
      21: invokevirtual #171                // Method org/hortonmachine/gears/libs/modules/FlowNode.touchesBound:()Z
      24: ifeq          70
      27: aload_0
      28: getfield      #43                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      31: ldc           #172                // String WARNING: touched boundaries in col/row = {0}/{1}. You might consider to review your processing region.
      33: iconst_2
      34: anewarray     #23                 // class java/lang/Object
      37: dup
      38: iconst_0
      39: aload_3
      40: getfield      #173                // Field org/hortonmachine/gears/libs/modules/FlowNode.col:I
      43: invokestatic  #174                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      46: aastore
      47: dup
      48: iconst_1
      49: aload_3
      50: getfield      #175                // Field org/hortonmachine/gears/libs/modules/FlowNode.row:I
      53: invokestatic  #174                // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      56: aastore
      57: invokestatic  #176                // Method java/text/MessageFormat.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      60: invokeinterface #142,  2          // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.errorMessage:(Ljava/lang/String;)V
      65: aload_0
      66: iconst_1
      67: putfield      #20                 // Field alreadyWarned:Z
      70: aload_3
      71: aload_1
      72: iconst_1
      73: invokevirtual #65                 // Method org/hortonmachine/gears/libs/modules/FlowNode.setIntValueInMap:(Ljavax/media/jai/iterator/WritableRandomIter;I)V
      76: aload_0
      77: dup
      78: getfield      #12                 // Field outArea:D
      81: dconst_1
      82: dadd
      83: putfield      #12                 // Field outArea:D
      86: aload_3
      87: invokevirtual #67                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getEnteringNodes:()Ljava/util/List;
      90: astore        4
      92: aload_2
      93: aload         4
      95: invokevirtual #177                // Method java/util/concurrent/ConcurrentLinkedQueue.addAll:(Ljava/util/Collection;)Z
      98: pop
      99: return
}
