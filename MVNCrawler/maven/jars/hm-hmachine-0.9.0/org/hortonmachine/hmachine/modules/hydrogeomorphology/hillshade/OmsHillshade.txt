Compiled from "OmsHillshade.java"
public class org.hortonmachine.hmachine.modules.hydrogeomorphology.hillshade.OmsHillshade extends org.hortonmachine.gears.libs.modules.HMModel {
  public org.geotools.coverage.grid.GridCoverage2D inElev;

  public double pMinDiffuse;

  public double pAzimuth;

  public double pElev;

  public org.geotools.coverage.grid.GridCoverage2D outHill;

  private static final double doubleNoValue;

  private org.hortonmachine.hmachine.i18n.HortonMessageHandler msg;

  public org.hortonmachine.hmachine.modules.hydrogeomorphology.hillshade.OmsHillshade();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/hortonmachine/gears/libs/modules/HMModel."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
       9: aload_0
      10: dconst_0
      11: putfield      #4                  // Field pMinDiffuse:D
      14: aload_0
      15: ldc2_w        #5                  // double 360.0d
      18: putfield      #7                  // Field pAzimuth:D
      21: aload_0
      22: ldc2_w        #8                  // double 90.0d
      25: putfield      #10                 // Field pElev:D
      28: aload_0
      29: invokestatic  #11                 // Method org/hortonmachine/hmachine/i18n/HortonMessageHandler.getInstance:()Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      32: putfield      #12                 // Field msg:Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      35: return

  public void process() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_1
       2: anewarray     #13                 // class java/lang/Object
       5: dup
       6: iconst_0
       7: aload_0
       8: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
      11: aastore
      12: invokevirtual #14                 // Method checkNull:([Ljava/lang/Object;)V
      15: aload_0
      16: getfield      #7                  // Field pAzimuth:D
      19: dconst_0
      20: dcmpg
      21: iflt          35
      24: aload_0
      25: getfield      #7                  // Field pAzimuth:D
      28: ldc2_w        #5                  // double 360.0d
      31: dcmpl
      32: ifle          50
      35: getstatic     #15                 // Field java/lang/System.err:Ljava/io/PrintStream;
      38: aload_0
      39: getfield      #12                 // Field msg:Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      42: ldc           #16                 // String hillshade.errAzimuth
      44: invokevirtual #17                 // Method org/hortonmachine/hmachine/i18n/HortonMessageHandler.message:(Ljava/lang/String;)Ljava/lang/String;
      47: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      50: aload_0
      51: getfield      #10                 // Field pElev:D
      54: dconst_0
      55: dcmpg
      56: iflt          70
      59: aload_0
      60: getfield      #10                 // Field pElev:D
      63: ldc2_w        #8                  // double 90.0d
      66: dcmpl
      67: ifle          85
      70: getstatic     #15                 // Field java/lang/System.err:Ljava/io/PrintStream;
      73: aload_0
      74: getfield      #12                 // Field msg:Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      77: ldc           #19                 // String hillshade.errElevation
      79: invokevirtual #17                 // Method org/hortonmachine/hmachine/i18n/HortonMessageHandler.message:(Ljava/lang/String;)Ljava/lang/String;
      82: invokevirtual #18                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V
      85: aload_0
      86: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
      89: invokevirtual #20                 // Method org/geotools/coverage/grid/GridCoverage2D.getRenderedImage:()Ljava/awt/image/RenderedImage;
      92: astore_1
      93: aload_1
      94: ldc2_w        #21                 // double -9999.0d
      97: invokestatic  #23                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.replaceNovalue:(Ljava/awt/image/RenderedImage;D)Ljava/awt/image/WritableRaster;
     100: astore_2
     101: aload_0
     102: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
     105: invokestatic  #24                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getRegionParamsFromGridCoverage:(Lorg/geotools/coverage/grid/GridCoverage2D;)Lorg/hortonmachine/gears/utils/RegionMap;
     108: astore_3
     109: aload_3
     110: ldc           #26                 // String XRES
     112: invokevirtual #27                 // Method java/util/HashMap.get:(Ljava/lang/Object;)Ljava/lang/Object;
     115: checkcast     #28                 // class java/lang/Double
     118: invokevirtual #29                 // Method java/lang/Double.doubleValue:()D
     121: dstore        4
     123: aload_1
     124: invokeinterface #30,  1           // InterfaceMethod java/awt/image/RenderedImage.getWidth:()I
     129: istore        6
     131: aload_1
     132: invokeinterface #31,  1           // InterfaceMethod java/awt/image/RenderedImage.getHeight:()I
     137: istore        7
     139: aconst_null
     140: astore_1
     141: iload         6
     143: iload         7
     145: aconst_null
     146: aload_2
     147: invokevirtual #32                 // Method java/awt/image/WritableRaster.getSampleModel:()Ljava/awt/image/SampleModel;
     150: dconst_0
     151: invokestatic  #33                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     154: invokestatic  #34                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     157: astore        8
     159: aload_0
     160: aload_2
     161: dload         4
     163: invokevirtual #35                 // Method normalVector:(Ljava/awt/image/WritableRaster;D)Ljava/awt/image/WritableRaster;
     166: astore        9
     168: aload_0
     169: aload_2
     170: aload         8
     172: aload         9
     174: dload         4
     176: invokespecial #36                 // Method calchillshade:(Ljava/awt/image/WritableRaster;Ljava/awt/image/WritableRaster;Ljava/awt/image/WritableRaster;D)V
     179: aload_0
     180: aload_2
     181: iload         6
     183: iload         7
     185: aload         8
     187: invokespecial #37                 // Method setNoValueBorder:(Ljava/awt/image/WritableRaster;IILjava/awt/image/WritableRaster;)V
     190: aload_0
     191: ldc           #38                 // String insolation
     193: aload         8
     195: aload_3
     196: aload_0
     197: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
     200: invokevirtual #39                 // Method org/geotools/coverage/grid/GridCoverage2D.getCoordinateReferenceSystem:()Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
     203: invokestatic  #40                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     206: putfield      #41                 // Field outHill:Lorg/geotools/coverage/grid/GridCoverage2D;
     209: return

  private void setNoValueBorder(java.awt.image.WritableRaster, int, int, java.awt.image.WritableRaster);
    Code:
       0: iconst_2
       1: istore        5
       3: iload         5
       5: iload_3
       6: iconst_2
       7: isub
       8: if_icmpge     63
      11: iconst_2
      12: istore        6
      14: iload         6
      16: iload_2
      17: iconst_2
      18: isub
      19: if_icmpge     57
      22: aload_1
      23: iload         6
      25: iload         5
      27: iconst_0
      28: invokevirtual #42                 // Method java/awt/image/WritableRaster.getSampleDouble:(III)D
      31: ldc2_w        #21                 // double -9999.0d
      34: dcmpl
      35: ifne          51
      38: aload         4
      40: iload         6
      42: iload         5
      44: iconst_0
      45: ldc2_w        #21                 // double -9999.0d
      48: invokevirtual #44                 // Method java/awt/image/WritableRaster.setSample:(IIID)V
      51: iinc          6, 1
      54: goto          14
      57: iinc          5, 1
      60: goto          3
      63: iconst_0
      64: istore        5
      66: iload         5
      68: iload_3
      69: if_icmpge     122
      72: aload         4
      74: iconst_0
      75: iload         5
      77: iconst_0
      78: iconst_0
      79: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
      82: aload         4
      84: iconst_1
      85: iload         5
      87: iconst_0
      88: iconst_0
      89: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
      92: aload         4
      94: iload_2
      95: iconst_2
      96: isub
      97: iload         5
      99: iconst_0
     100: iconst_0
     101: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     104: aload         4
     106: iload_2
     107: iconst_1
     108: isub
     109: iload         5
     111: iconst_0
     112: iconst_0
     113: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     116: iinc          5, 1
     119: goto          66
     122: iconst_2
     123: istore        5
     125: iload         5
     127: iload_2
     128: iconst_2
     129: isub
     130: if_icmpge     183
     133: aload         4
     135: iload         5
     137: iconst_0
     138: iconst_0
     139: iconst_0
     140: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     143: aload         4
     145: iload         5
     147: iconst_1
     148: iconst_0
     149: iconst_0
     150: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     153: aload         4
     155: iload         5
     157: iload_3
     158: iconst_2
     159: isub
     160: iconst_0
     161: iconst_0
     162: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     165: aload         4
     167: iload         5
     169: iload_3
     170: iconst_1
     171: isub
     172: iconst_0
     173: iconst_0
     174: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     177: iinc          5, 1
     180: goto          125
     183: return

  private void calchillshade(java.awt.image.WritableRaster, java.awt.image.WritableRaster, java.awt.image.WritableRaster, double);
    Code:
       0: aload_0
       1: aload_0
       2: getfield      #7                  // Field pAzimuth:D
       5: invokestatic  #46                 // Method java/lang/Math.toRadians:(D)D
       8: putfield      #7                  // Field pAzimuth:D
      11: aload_0
      12: aload_0
      13: getfield      #10                 // Field pElev:D
      16: invokestatic  #46                 // Method java/lang/Math.toRadians:(D)D
      19: putfield      #10                 // Field pElev:D
      22: aload_0
      23: invokevirtual #47                 // Method calcSunVector:()[D
      26: astore        6
      28: aload         6
      30: invokestatic  #48                 // Method org/hortonmachine/gears/libs/modules/ModelsEngine.calcNormalSunVector:([D)[D
      33: astore        7
      35: aload         6
      37: invokestatic  #49                 // Method org/hortonmachine/gears/libs/modules/ModelsEngine.calcInverseSunVector:([D)[D
      40: astore        8
      42: aload_1
      43: invokevirtual #50                 // Method java/awt/image/WritableRaster.getHeight:()I
      46: istore        9
      48: aload_1
      49: invokevirtual #51                 // Method java/awt/image/WritableRaster.getWidth:()I
      52: istore        10
      54: iload         9
      56: iload         10
      58: aload         6
      60: aload         8
      62: aload         7
      64: aload_1
      65: dload         4
      67: invokestatic  #52                 // Method org/hortonmachine/gears/libs/modules/ModelsEngine.calculateFactor:(II[D[D[DLjava/awt/image/WritableRaster;D)Ljava/awt/image/WritableRaster;
      70: astore        11
      72: aload_0
      73: getfield      #53                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      76: aload_0
      77: getfield      #12                 // Field msg:Lorg/hortonmachine/hmachine/i18n/HortonMessageHandler;
      80: ldc           #54                 // String hillshade.calculating
      82: invokevirtual #17                 // Method org/hortonmachine/hmachine/i18n/HortonMessageHandler.message:(Ljava/lang/String;)Ljava/lang/String;
      85: iload         9
      87: iload         10
      89: imul
      90: invokeinterface #55,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
      95: iconst_1
      96: istore        12
      98: iload         12
     100: iload         9
     102: iconst_1
     103: isub
     104: if_icmpge     214
     107: iconst_1
     108: istore        13
     110: iload         13
     112: iload         10
     114: iconst_1
     115: isub
     116: if_icmpge     208
     119: aload_3
     120: iload         13
     122: iload         12
     124: iconst_3
     125: newarray       double
     127: invokevirtual #56                 // Method java/awt/image/WritableRaster.getPixel:(II[D)[D
     130: astore        14
     132: aload         6
     134: aload         14
     136: invokestatic  #57                 // Method org/hortonmachine/gears/libs/modules/ModelsEngine.scalarProduct:([D[D)D
     139: dstore        15
     141: dload         15
     143: dconst_0
     144: dcmpg
     145: ifge          159
     148: aload         11
     150: iload         13
     152: iload         12
     154: iconst_0
     155: iconst_0
     156: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     159: aload_2
     160: iload         13
     162: iload         12
     164: iconst_0
     165: ldc2_w        #58                 // double 212.5d
     168: dload         15
     170: aload         11
     172: iload         13
     174: iload         12
     176: iconst_0
     177: invokevirtual #60                 // Method java/awt/image/WritableRaster.getSample:(III)I
     180: i2d
     181: dmul
     182: aload_0
     183: getfield      #4                  // Field pMinDiffuse:D
     186: dadd
     187: dmul
     188: d2i
     189: invokevirtual #45                 // Method java/awt/image/WritableRaster.setSample:(IIII)V
     192: aload_0
     193: getfield      #53                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     196: iconst_1
     197: invokeinterface #61,  2           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.worked:(I)V
     202: iinc          13, 1
     205: goto          110
     208: iinc          12, 1
     211: goto          98
     214: aload_0
     215: getfield      #53                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     218: invokeinterface #62,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     223: return

  protected double[] calcSunVector();
    Code:
       0: iconst_3
       1: newarray       double
       3: astore_1
       4: aload_1
       5: iconst_0
       6: aload_0
       7: getfield      #7                  // Field pAzimuth:D
      10: invokestatic  #63                 // Method java/lang/Math.sin:(D)D
      13: aload_0
      14: getfield      #10                 // Field pElev:D
      17: invokestatic  #64                 // Method java/lang/Math.cos:(D)D
      20: dmul
      21: dastore
      22: aload_1
      23: iconst_1
      24: aload_0
      25: getfield      #7                  // Field pAzimuth:D
      28: invokestatic  #64                 // Method java/lang/Math.cos:(D)D
      31: dneg
      32: aload_0
      33: getfield      #10                 // Field pElev:D
      36: invokestatic  #64                 // Method java/lang/Math.cos:(D)D
      39: dmul
      40: dastore
      41: aload_1
      42: iconst_2
      43: aload_0
      44: getfield      #10                 // Field pElev:D
      47: invokestatic  #63                 // Method java/lang/Math.sin:(D)D
      50: dastore
      51: aload_1
      52: areturn

  protected java.awt.image.WritableRaster normalVector(java.awt.image.WritableRaster, double);
    Code:
       0: aload_1
       1: invokevirtual #65                 // Method java/awt/image/WritableRaster.getMinX:()I
       4: istore        4
       6: aload_1
       7: invokevirtual #66                 // Method java/awt/image/WritableRaster.getMinY:()I
      10: istore        5
      12: aload_1
      13: invokevirtual #50                 // Method java/awt/image/WritableRaster.getHeight:()I
      16: istore        6
      18: aload_1
      19: invokevirtual #51                 // Method java/awt/image/WritableRaster.getWidth:()I
      22: istore        7
      24: aload_1
      25: aconst_null
      26: invokestatic  #67                 // Method javax/media/jai/iterator/RandomIterFactory.create:(Ljava/awt/image/Raster;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/RandomIter;
      29: astore        8
      31: iconst_5
      32: iload         7
      34: iload         6
      36: iconst_3
      37: invokestatic  #68                 // Method javax/media/jai/RasterFactory.createBandedSampleModel:(IIII)Ljava/awt/image/SampleModel;
      40: astore        9
      42: iload         7
      44: iload         6
      46: aconst_null
      47: aload         9
      49: dconst_0
      50: invokestatic  #33                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      53: invokestatic  #34                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
      56: astore        10
      58: aload         10
      60: aconst_null
      61: invokestatic  #69                 // Method javax/media/jai/iterator/RandomIterFactory.createWritable:(Ljava/awt/image/WritableRaster;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/WritableRandomIter;
      64: astore        11
      66: iload         5
      68: istore        12
      70: iload         12
      72: iload         4
      74: iload         6
      76: iadd
      77: iconst_1
      78: isub
      79: if_icmpge     277
      82: iload         4
      84: istore        13
      86: iload         13
      88: iload         4
      90: iload         7
      92: iadd
      93: iconst_1
      94: isub
      95: if_icmpge     271
      98: aload         8
     100: iload         13
     102: iload         12
     104: iconst_0
     105: invokeinterface #70,  4           // InterfaceMethod javax/media/jai/iterator/RandomIter.getSampleDouble:(III)D
     110: dstore        14
     112: aload         8
     114: iload         13
     116: iconst_1
     117: iadd
     118: iload         12
     120: iconst_0
     121: invokeinterface #70,  4           // InterfaceMethod javax/media/jai/iterator/RandomIter.getSampleDouble:(III)D
     126: dstore        16
     128: aload         8
     130: iload         13
     132: iload         12
     134: iconst_1
     135: iadd
     136: iconst_0
     137: invokeinterface #70,  4           // InterfaceMethod javax/media/jai/iterator/RandomIter.getSampleDouble:(III)D
     142: dstore        18
     144: aload         8
     146: iload         13
     148: iconst_1
     149: iadd
     150: iload         12
     152: iconst_1
     153: iadd
     154: iconst_0
     155: invokeinterface #70,  4           // InterfaceMethod javax/media/jai/iterator/RandomIter.getSampleDouble:(III)D
     160: dstore        20
     162: ldc2_w        #71                 // double 0.5d
     165: dload_2
     166: dmul
     167: dload         14
     169: dload         16
     171: dsub
     172: dload         18
     174: dadd
     175: dload         20
     177: dsub
     178: dmul
     179: dstore        22
     181: ldc2_w        #71                 // double 0.5d
     184: dload_2
     185: dmul
     186: dload         14
     188: dload         16
     190: dadd
     191: dload         18
     193: dsub
     194: dload         20
     196: dsub
     197: dmul
     198: dstore        24
     200: dload_2
     201: dload_2
     202: dmul
     203: dstore        26
     205: dload         22
     207: dload         22
     209: dmul
     210: dload         24
     212: dload         24
     214: dmul
     215: dadd
     216: dload         26
     218: dload         26
     220: dmul
     221: dadd
     222: invokestatic  #73                 // Method java/lang/Math.sqrt:(D)D
     225: dstore        28
     227: aload         11
     229: iload         13
     231: iload         12
     233: iconst_3
     234: newarray       double
     236: dup
     237: iconst_0
     238: dload         22
     240: dload         28
     242: ddiv
     243: dastore
     244: dup
     245: iconst_1
     246: dload         24
     248: dload         28
     250: ddiv
     251: dastore
     252: dup
     253: iconst_2
     254: dload         26
     256: dload         28
     258: ddiv
     259: dastore
     260: invokeinterface #74,  4           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.setPixel:(II[D)V
     265: iinc          13, 1
     268: goto          86
     271: iinc          12, 1
     274: goto          70
     277: aload         8
     279: invokeinterface #75,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     284: aload         10
     286: areturn
}
