Compiled from "OmsLeastCostFlowDirections.java"
public class org.hortonmachine.hmachine.modules.geomorphology.flow.OmsLeastCostFlowDirections extends org.hortonmachine.gears.libs.modules.HMModel {
  public org.geotools.coverage.grid.GridCoverage2D inElev;

  public boolean doTca;

  public boolean doSlope;

  public boolean doAspect;

  public org.geotools.coverage.grid.GridCoverage2D outFlow;

  public org.geotools.coverage.grid.GridCoverage2D outTca;

  public org.geotools.coverage.grid.GridCoverage2D outAspect;

  public org.geotools.coverage.grid.GridCoverage2D outSlope;

  private org.hortonmachine.gears.utils.BitMatrix assignedFlowsMap;

  private javax.media.jai.iterator.WritableRandomIter flowIter;

  private java.util.TreeSet<org.hortonmachine.gears.libs.modules.GridNode> orderedNodes;

  private javax.media.jai.iterator.WritableRandomIter tcaIter;

  private javax.media.jai.iterator.WritableRandomIter slopeIter;

  private javax.media.jai.iterator.WritableRandomIter aspectIter;

  private int cols;

  private int rows;

  private boolean doExcludeBorder;

  public org.hortonmachine.hmachine.modules.geomorphology.flow.OmsLeastCostFlowDirections();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/hortonmachine/gears/libs/modules/HMModel."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
       9: aload_0
      10: iconst_1
      11: putfield      #4                  // Field doTca:Z
      14: aload_0
      15: iconst_1
      16: putfield      #5                  // Field doSlope:Z
      19: aload_0
      20: iconst_1
      21: putfield      #6                  // Field doAspect:Z
      24: aload_0
      25: aconst_null
      26: putfield      #7                  // Field outFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      29: aload_0
      30: aconst_null
      31: putfield      #8                  // Field outTca:Lorg/geotools/coverage/grid/GridCoverage2D;
      34: aload_0
      35: aconst_null
      36: putfield      #9                  // Field outAspect:Lorg/geotools/coverage/grid/GridCoverage2D;
      39: aload_0
      40: aconst_null
      41: putfield      #10                 // Field outSlope:Lorg/geotools/coverage/grid/GridCoverage2D;
      44: aload_0
      45: iconst_1
      46: putfield      #11                 // Field doExcludeBorder:Z
      49: return

  public void process() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_2
       2: newarray       boolean
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #7                  // Field outFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      10: ifnonnull     17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: bastore
      19: dup
      20: iconst_1
      21: aload_0
      22: getfield      #12                 // Field doReset:Z
      25: bastore
      26: invokevirtual #13                 // Method concatOr:([Z)Z
      29: ifne          33
      32: return
      33: aload_0
      34: iconst_1
      35: anewarray     #14                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_0
      41: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
      44: aastore
      45: invokevirtual #15                 // Method checkNull:([Ljava/lang/Object;)V
      48: aload_0
      49: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
      52: invokestatic  #16                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getRegionParamsFromGridCoverage:(Lorg/geotools/coverage/grid/GridCoverage2D;)Lorg/hortonmachine/gears/utils/RegionMap;
      55: astore_1
      56: aload_0
      57: aload_1
      58: invokevirtual #17                 // Method org/hortonmachine/gears/utils/RegionMap.getCols:()I
      61: putfield      #18                 // Field cols:I
      64: aload_0
      65: aload_1
      66: invokevirtual #19                 // Method org/hortonmachine/gears/utils/RegionMap.getRows:()I
      69: putfield      #20                 // Field rows:I
      72: aload_1
      73: invokevirtual #21                 // Method org/hortonmachine/gears/utils/RegionMap.getXres:()D
      76: dstore_2
      77: aload_1
      78: invokevirtual #22                 // Method org/hortonmachine/gears/utils/RegionMap.getYres:()D
      81: dstore        4
      83: aload_0
      84: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
      87: invokestatic  #23                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getRandomIterator:(Lorg/geotools/coverage/grid/GridCoverage2D;)Ljavax/media/jai/iterator/RandomIter;
      90: astore        6
      92: aload_0
      93: getfield      #18                 // Field cols:I
      96: aload_0
      97: getfield      #20                 // Field rows:I
     100: aconst_null
     101: aconst_null
     102: ldc2_w        #24                 // double -9999.0d
     105: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     108: invokestatic  #27                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     111: astore        7
     113: aload_0
     114: aload         7
     116: invokestatic  #28                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getWritableRandomIterator:(Ljava/awt/image/WritableRaster;)Ljavax/media/jai/iterator/WritableRandomIter;
     119: putfield      #29                 // Field flowIter:Ljavax/media/jai/iterator/WritableRandomIter;
     122: aconst_null
     123: astore        8
     125: aload_0
     126: getfield      #4                  // Field doTca:Z
     129: ifeq          162
     132: aload_0
     133: getfield      #18                 // Field cols:I
     136: aload_0
     137: getfield      #20                 // Field rows:I
     140: aconst_null
     141: aconst_null
     142: ldc2_w        #24                 // double -9999.0d
     145: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     148: invokestatic  #27                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     151: astore        8
     153: aload_0
     154: aload         8
     156: invokestatic  #28                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getWritableRandomIterator:(Ljava/awt/image/WritableRaster;)Ljavax/media/jai/iterator/WritableRandomIter;
     159: putfield      #30                 // Field tcaIter:Ljavax/media/jai/iterator/WritableRandomIter;
     162: aconst_null
     163: astore        9
     165: aload_0
     166: getfield      #5                  // Field doSlope:Z
     169: ifeq          202
     172: aload_0
     173: getfield      #18                 // Field cols:I
     176: aload_0
     177: getfield      #20                 // Field rows:I
     180: aconst_null
     181: aconst_null
     182: ldc2_w        #24                 // double -9999.0d
     185: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     188: invokestatic  #27                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     191: astore        9
     193: aload_0
     194: aload         9
     196: invokestatic  #28                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getWritableRandomIterator:(Ljava/awt/image/WritableRaster;)Ljavax/media/jai/iterator/WritableRandomIter;
     199: putfield      #31                 // Field slopeIter:Ljavax/media/jai/iterator/WritableRandomIter;
     202: aconst_null
     203: astore        10
     205: aload_0
     206: getfield      #6                  // Field doAspect:Z
     209: ifeq          242
     212: aload_0
     213: getfield      #18                 // Field cols:I
     216: aload_0
     217: getfield      #20                 // Field rows:I
     220: aconst_null
     221: aconst_null
     222: ldc2_w        #24                 // double -9999.0d
     225: invokestatic  #26                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
     228: invokestatic  #27                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     231: astore        10
     233: aload_0
     234: aload         10
     236: invokestatic  #28                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getWritableRandomIterator:(Ljava/awt/image/WritableRaster;)Ljavax/media/jai/iterator/WritableRandomIter;
     239: putfield      #32                 // Field aspectIter:Ljavax/media/jai/iterator/WritableRandomIter;
     242: aload_0
     243: new           #33                 // class java/util/TreeSet
     246: dup
     247: new           #34                 // class org/hortonmachine/gears/libs/modules/GridNodeElevationToLeastComparator
     250: dup
     251: invokespecial #35                 // Method org/hortonmachine/gears/libs/modules/GridNodeElevationToLeastComparator."<init>":()V
     254: invokespecial #36                 // Method java/util/TreeSet."<init>":(Ljava/util/Comparator;)V
     257: putfield      #37                 // Field orderedNodes:Ljava/util/TreeSet;
     260: aload_0
     261: new           #38                 // class org/hortonmachine/gears/utils/BitMatrix
     264: dup
     265: aload_0
     266: getfield      #18                 // Field cols:I
     269: aload_0
     270: getfield      #20                 // Field rows:I
     273: invokespecial #39                 // Method org/hortonmachine/gears/utils/BitMatrix."<init>":(II)V
     276: putfield      #40                 // Field assignedFlowsMap:Lorg/hortonmachine/gears/utils/BitMatrix;
     279: aload_0
     280: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     283: ldc           #42                 // String Check for potential outlets...
     285: aload_0
     286: getfield      #18                 // Field cols:I
     289: invokeinterface #43,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
     294: iconst_0
     295: istore        11
     297: iconst_0
     298: istore        12
     300: iload         12
     302: aload_0
     303: getfield      #18                 // Field cols:I
     306: if_icmpge     462
     309: aload_0
     310: aload_0
     311: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     314: invokevirtual #44                 // Method isCanceled:(Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;)Z
     317: ifeq          321
     320: return
     321: iconst_0
     322: istore        13
     324: iload         13
     326: aload_0
     327: getfield      #20                 // Field rows:I
     330: if_icmpge     446
     333: new           #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     336: dup
     337: aload         6
     339: aload_0
     340: getfield      #18                 // Field cols:I
     343: aload_0
     344: getfield      #20                 // Field rows:I
     347: dload_2
     348: dload         4
     350: iload         12
     352: iload         13
     354: invokespecial #46                 // Method org/hortonmachine/gears/libs/modules/GridNode."<init>":(Ljavax/media/jai/iterator/RandomIter;IIDDII)V
     357: astore        14
     359: aload         14
     361: invokevirtual #47                 // Method org/hortonmachine/gears/libs/modules/GridNode.isValid:()Z
     364: ifne          384
     367: iinc          11, 1
     370: aload_0
     371: getfield      #40                 // Field assignedFlowsMap:Lorg/hortonmachine/gears/utils/BitMatrix;
     374: iload         12
     376: iload         13
     378: invokevirtual #48                 // Method org/hortonmachine/gears/utils/BitMatrix.mark:(II)V
     381: goto          440
     384: aload         14
     386: invokevirtual #49                 // Method org/hortonmachine/gears/libs/modules/GridNode.touchesBound:()Z
     389: ifeq          440
     392: aload_0
     393: getfield      #37                 // Field orderedNodes:Ljava/util/TreeSet;
     396: aload         14
     398: invokevirtual #50                 // Method java/util/TreeSet.add:(Ljava/lang/Object;)Z
     401: pop
     402: aload_0
     403: getfield      #11                 // Field doExcludeBorder:Z
     406: ifeq          423
     409: aload_0
     410: getfield      #40                 // Field assignedFlowsMap:Lorg/hortonmachine/gears/utils/BitMatrix;
     413: iload         12
     415: iload         13
     417: invokevirtual #48                 // Method org/hortonmachine/gears/utils/BitMatrix.mark:(II)V
     420: goto          440
     423: aload_0
     424: getfield      #29                 // Field flowIter:Ljavax/media/jai/iterator/WritableRandomIter;
     427: iload         12
     429: iload         13
     431: iconst_0
     432: invokestatic  #51                 // Method org/hortonmachine/gears/libs/modules/Direction.getOutletValue:()I
     435: invokeinterface #52,  5           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.setSample:(IIII)V
     440: iinc          13, 1
     443: goto          324
     446: aload_0
     447: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     450: iconst_1
     451: invokeinterface #53,  2           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.worked:(I)V
     456: iinc          12, 1
     459: goto          300
     462: aload_0
     463: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     466: invokeinterface #54,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     471: aload_0
     472: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     475: ldc           #55                 // String Extract flowdirections...
     477: aload_0
     478: getfield      #20                 // Field rows:I
     481: aload_0
     482: getfield      #18                 // Field cols:I
     485: imul
     486: iload         11
     488: isub
     489: invokeinterface #43,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
     494: aconst_null
     495: astore        12
     497: aload_0
     498: getfield      #37                 // Field orderedNodes:Ljava/util/TreeSet;
     501: invokevirtual #56                 // Method java/util/TreeSet.pollFirst:()Ljava/lang/Object;
     504: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     507: dup
     508: astore        12
     510: ifnull        874
     513: aload_0
     514: getfield      #40                 // Field assignedFlowsMap:Lorg/hortonmachine/gears/utils/BitMatrix;
     517: aload         12
     519: getfield      #57                 // Field org/hortonmachine/gears/libs/modules/GridNode.col:I
     522: aload         12
     524: getfield      #58                 // Field org/hortonmachine/gears/libs/modules/GridNode.row:I
     527: invokevirtual #48                 // Method org/hortonmachine/gears/utils/BitMatrix.mark:(II)V
     530: aload         12
     532: invokevirtual #59                 // Method org/hortonmachine/gears/libs/modules/GridNode.getSurroundingNodes:()Ljava/util/List;
     535: astore        13
     537: aload         13
     539: iconst_0
     540: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     545: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     548: astore        14
     550: aload_0
     551: aload         14
     553: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     556: ifeq          571
     559: aload_0
     560: aload         14
     562: getstatic     #62                 // Field org/hortonmachine/gears/libs/modules/Direction.E:Lorg/hortonmachine/gears/libs/modules/Direction;
     565: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     568: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     571: aload         13
     573: iconst_2
     574: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     579: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     582: astore        15
     584: aload_0
     585: aload         15
     587: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     590: ifeq          605
     593: aload_0
     594: aload         15
     596: getstatic     #65                 // Field org/hortonmachine/gears/libs/modules/Direction.N:Lorg/hortonmachine/gears/libs/modules/Direction;
     599: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     602: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     605: aload         13
     607: iconst_4
     608: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     613: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     616: astore        16
     618: aload_0
     619: aload         16
     621: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     624: ifeq          639
     627: aload_0
     628: aload         16
     630: getstatic     #66                 // Field org/hortonmachine/gears/libs/modules/Direction.W:Lorg/hortonmachine/gears/libs/modules/Direction;
     633: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     636: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     639: aload         13
     641: bipush        6
     643: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     648: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     651: astore        17
     653: aload_0
     654: aload         17
     656: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     659: ifeq          674
     662: aload_0
     663: aload         17
     665: getstatic     #67                 // Field org/hortonmachine/gears/libs/modules/Direction.S:Lorg/hortonmachine/gears/libs/modules/Direction;
     668: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     671: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     674: aload         13
     676: iconst_1
     677: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     682: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     685: astore        18
     687: aload_0
     688: aload         18
     690: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     693: ifeq          723
     696: aload_0
     697: aload         12
     699: aload         18
     701: aload         14
     703: aload         15
     705: invokespecial #68                 // Method assignFlowDirection:(Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     708: ifeq          723
     711: aload_0
     712: aload         18
     714: getstatic     #69                 // Field org/hortonmachine/gears/libs/modules/Direction.EN:Lorg/hortonmachine/gears/libs/modules/Direction;
     717: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     720: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     723: aload         13
     725: iconst_3
     726: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     731: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     734: astore        19
     736: aload_0
     737: aload         19
     739: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     742: ifeq          772
     745: aload_0
     746: aload         12
     748: aload         19
     750: aload         15
     752: aload         16
     754: invokespecial #68                 // Method assignFlowDirection:(Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     757: ifeq          772
     760: aload_0
     761: aload         19
     763: getstatic     #70                 // Field org/hortonmachine/gears/libs/modules/Direction.NW:Lorg/hortonmachine/gears/libs/modules/Direction;
     766: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     769: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     772: aload         13
     774: iconst_5
     775: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     780: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     783: astore        20
     785: aload_0
     786: aload         20
     788: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     791: ifeq          821
     794: aload_0
     795: aload         12
     797: aload         20
     799: aload         16
     801: aload         17
     803: invokespecial #68                 // Method assignFlowDirection:(Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     806: ifeq          821
     809: aload_0
     810: aload         20
     812: getstatic     #71                 // Field org/hortonmachine/gears/libs/modules/Direction.WS:Lorg/hortonmachine/gears/libs/modules/Direction;
     815: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     818: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     821: aload         13
     823: bipush        7
     825: invokeinterface #60,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
     830: checkcast     #45                 // class org/hortonmachine/gears/libs/modules/GridNode
     833: astore        21
     835: aload_0
     836: aload         21
     838: invokespecial #61                 // Method nodeOk:(Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     841: ifeq          871
     844: aload_0
     845: aload         12
     847: aload         21
     849: aload         17
     851: aload         14
     853: invokespecial #68                 // Method assignFlowDirection:(Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;Lorg/hortonmachine/gears/libs/modules/GridNode;)Z
     856: ifeq          871
     859: aload_0
     860: aload         21
     862: getstatic     #72                 // Field org/hortonmachine/gears/libs/modules/Direction.SE:Lorg/hortonmachine/gears/libs/modules/Direction;
     865: invokevirtual #63                 // Method org/hortonmachine/gears/libs/modules/Direction.getEnteringFlow:()I
     868: invokespecial #64                 // Method setNodeValues:(Lorg/hortonmachine/gears/libs/modules/GridNode;I)V
     871: goto          497
     874: aload_0
     875: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     878: invokeinterface #54,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     883: aload_0
     884: getfield      #3                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
     887: invokevirtual #73                 // Method org/geotools/coverage/grid/GridCoverage2D.getCoordinateReferenceSystem:()Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
     890: astore        13
     892: aload_0
     893: ldc           #74                 // String flowdirections
     895: aload         7
     897: aload_1
     898: aload         13
     900: invokestatic  #75                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     903: putfield      #7                  // Field outFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
     906: aload_0
     907: getfield      #4                  // Field doTca:Z
     910: ifeq          927
     913: aload_0
     914: ldc           #76                 // String tca
     916: aload         8
     918: aload_1
     919: aload         13
     921: invokestatic  #75                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     924: putfield      #8                  // Field outTca:Lorg/geotools/coverage/grid/GridCoverage2D;
     927: aload_0
     928: getfield      #5                  // Field doSlope:Z
     931: ifeq          948
     934: aload_0
     935: ldc           #77                 // String slope
     937: aload         9
     939: aload_1
     940: aload         13
     942: invokestatic  #75                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     945: putfield      #10                 // Field outSlope:Lorg/geotools/coverage/grid/GridCoverage2D;
     948: aload_0
     949: getfield      #6                  // Field doAspect:Z
     952: ifeq          969
     955: aload_0
     956: ldc           #78                 // String aspect
     958: aload         10
     960: aload_1
     961: aload         13
     963: invokestatic  #75                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     966: putfield      #9                  // Field outAspect:Lorg/geotools/coverage/grid/GridCoverage2D;
     969: return

  private void setNodeValues(org.hortonmachine.gears.libs.modules.GridNode, int);
    Code:
       0: aload_1
       1: getfield      #57                 // Field org/hortonmachine/gears/libs/modules/GridNode.col:I
       4: istore_3
       5: aload_1
       6: getfield      #58                 // Field org/hortonmachine/gears/libs/modules/GridNode.row:I
       9: istore        4
      11: aload_0
      12: getfield      #29                 // Field flowIter:Ljavax/media/jai/iterator/WritableRandomIter;
      15: iload_3
      16: iload         4
      18: iconst_0
      19: iload_2
      20: invokeinterface #52,  5           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.setSample:(IIII)V
      25: aload_0
      26: getfield      #41                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      29: iconst_1
      30: invokeinterface #53,  2           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.worked:(I)V
      35: aload_0
      36: getfield      #37                 // Field orderedNodes:Ljava/util/TreeSet;
      39: aload_1
      40: invokevirtual #50                 // Method java/util/TreeSet.add:(Ljava/lang/Object;)Z
      43: pop
      44: aload_0
      45: getfield      #40                 // Field assignedFlowsMap:Lorg/hortonmachine/gears/utils/BitMatrix;
      48: iload_3
      49: iload         4
      51: invokevirtual #48                 // Method org/hortonmachine/gears/utils/BitMatrix.mark:(II)V
      54: aload_0
      55: getfield      #5                  // Field doSlope:Z
      58: ifeq          96
      61: aload_1
      62: iload_2
      63: i2d
      64: invokestatic  #79                 // Method org/hortonmachine/hmachine/modules/geomorphology/slope/OmsSlope.calculateSlope:(Lorg/hortonmachine/gears/libs/modules/GridNode;D)D
      67: dstore        5
      69: dload         5
      71: dconst_0
      72: dcmpg
      73: ifgt          81
      76: ldc2_w        #81                 // double 4.9E-324d
      79: dstore        5
      81: aload_0
      82: getfield      #31                 // Field slopeIter:Ljavax/media/jai/iterator/WritableRandomIter;
      85: iload_3
      86: iload         4
      88: iconst_0
      89: dload         5
      91: invokeinterface #83,  6           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.setSample:(IIID)V
      96: aload_0
      97: getfield      #6                  // Field doAspect:Z
     100: ifeq          126
     103: aload_1
     104: dconst_1
     105: iconst_0
     106: invokestatic  #84                 // Method org/hortonmachine/hmachine/modules/geomorphology/aspect/OmsAspect.calculateAspect:(Lorg/hortonmachine/gears/libs/modules/GridNode;DZ)D
     109: dstore        5
     111: aload_0
     112: getfield      #32                 // Field aspectIter:Ljavax/media/jai/iterator/WritableRandomIter;
     115: iload_3
     116: iload         4
     118: iconst_0
     119: dload         5
     121: invokeinterface #83,  6           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.setSample:(IIID)V
     126: aload_0
     127: getfield      #4                  // Field doTca:Z
     130: ifeq          256
     133: iload_3
     134: istore        5
     136: iload         4
     138: istore        6
     140: aload_0
     141: iload         5
     143: iload         6
     145: invokespecial #85                 // Method isInRaster:(II)Z
     148: ifeq          256
     151: aload_0
     152: getfield      #29                 // Field flowIter:Ljavax/media/jai/iterator/WritableRandomIter;
     155: iload         5
     157: iload         6
     159: iconst_0
     160: invokeinterface #86,  4           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.getSampleDouble:(III)D
     165: dstore        7
     167: dload         7
     169: invokestatic  #87                 // Method org/hortonmachine/gears/libs/modules/HMConstants.isNovalue:(D)Z
     172: ifne          256
     175: aload_0
     176: getfield      #30                 // Field tcaIter:Ljavax/media/jai/iterator/WritableRandomIter;
     179: iload         5
     181: iload         6
     183: iconst_0
     184: invokeinterface #86,  4           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.getSampleDouble:(III)D
     189: dstore        9
     191: dload         9
     193: invokestatic  #87                 // Method org/hortonmachine/gears/libs/modules/HMConstants.isNovalue:(D)Z
     196: ifeq          202
     199: dconst_0
     200: dstore        9
     202: aload_0
     203: getfield      #30                 // Field tcaIter:Ljavax/media/jai/iterator/WritableRandomIter;
     206: iload         5
     208: iload         6
     210: iconst_0
     211: dload         9
     213: dconst_1
     214: dadd
     215: invokeinterface #83,  6           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.setSample:(IIID)V
     220: dload         7
     222: d2i
     223: invokestatic  #88                 // Method org/hortonmachine/gears/libs/modules/Direction.forFlow:(I)Lorg/hortonmachine/gears/libs/modules/Direction;
     226: astore        11
     228: aload         11
     230: ifnull        256
     233: iload         5
     235: aload         11
     237: getfield      #89                 // Field org/hortonmachine/gears/libs/modules/Direction.col:I
     240: iadd
     241: istore        5
     243: iload         6
     245: aload         11
     247: getfield      #90                 // Field org/hortonmachine/gears/libs/modules/Direction.row:I
     250: iadd
     251: istore        6
     253: goto          140
     256: return

  private boolean isInRaster(int, int);
    Code:
       0: iload_1
       1: iflt          24
       4: iload_1
       5: aload_0
       6: getfield      #18                 // Field cols:I
       9: if_icmpge     24
      12: iload_2
      13: iflt          24
      16: iload_2
      17: aload_0
      18: getfield      #20                 // Field rows:I
      21: if_icmplt     26
      24: iconst_0
      25: ireturn
      26: iconst_1
      27: ireturn

  private boolean assignFlowDirection(org.hortonmachine.gears.libs.modules.GridNode, org.hortonmachine.gears.libs.modules.GridNode, org.hortonmachine.gears.libs.modules.GridNode, org.hortonmachine.gears.libs.modules.GridNode);
    Code:
       0: aload_1
       1: aload_2
       2: invokevirtual #91                 // Method org/hortonmachine/gears/libs/modules/GridNode.getSlopeTo:(Lorg/hortonmachine/gears/libs/modules/GridNode;)D
       5: invokestatic  #92                 // Method java/lang/Math.abs:(D)D
       8: dstore        5
      10: aload_3
      11: ifnull        34
      14: aload_2
      15: aload_3
      16: invokevirtual #91                 // Method org/hortonmachine/gears/libs/modules/GridNode.getSlopeTo:(Lorg/hortonmachine/gears/libs/modules/GridNode;)D
      19: invokestatic  #92                 // Method java/lang/Math.abs:(D)D
      22: dstore        7
      24: dload         5
      26: dload         7
      28: dcmpg
      29: ifge          34
      32: iconst_0
      33: ireturn
      34: aload         4
      36: ifnull        60
      39: aload_2
      40: aload         4
      42: invokevirtual #91                 // Method org/hortonmachine/gears/libs/modules/GridNode.getSlopeTo:(Lorg/hortonmachine/gears/libs/modules/GridNode;)D
      45: invokestatic  #92                 // Method java/lang/Math.abs:(D)D
      48: dstore        7
      50: dload         5
      52: dload         7
      54: dcmpg
      55: ifge          60
      58: iconst_0
      59: ireturn
      60: iconst_1
      61: ireturn

  private boolean nodeOk(org.hortonmachine.gears.libs.modules.GridNode);
    Code:
       0: aload_1
       1: ifnull        26
       4: aload_0
       5: getfield      #40                 // Field assignedFlowsMap:Lorg/hortonmachine/gears/utils/BitMatrix;
       8: aload_1
       9: getfield      #57                 // Field org/hortonmachine/gears/libs/modules/GridNode.col:I
      12: aload_1
      13: getfield      #58                 // Field org/hortonmachine/gears/libs/modules/GridNode.row:I
      16: invokevirtual #93                 // Method org/hortonmachine/gears/utils/BitMatrix.isMarked:(II)Z
      19: ifne          26
      22: iconst_1
      23: goto          27
      26: iconst_0
      27: ireturn
}
