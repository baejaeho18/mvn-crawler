Compiled from "OmsRescaledDistance.java"
public class org.hortonmachine.hmachine.modules.basin.rescaleddistance.OmsRescaledDistance extends org.hortonmachine.gears.libs.modules.multiprocessing.GridMultiProcessing {
  public org.geotools.coverage.grid.GridCoverage2D inFlow;

  public org.geotools.coverage.grid.GridCoverage2D inNet;

  public org.geotools.coverage.grid.GridCoverage2D inElev;

  public double pRatio;

  public org.geotools.coverage.grid.GridCoverage2D outRescaled;

  public static final java.lang.String OMSRESCALEDDISTANCE_DESCRIPTION;

  public static final java.lang.String OMSRESCALEDDISTANCE_DOCUMENTATION;

  public static final java.lang.String OMSRESCALEDDISTANCE_KEYWORDS;

  public static final java.lang.String OMSRESCALEDDISTANCE_LABEL;

  public static final java.lang.String OMSRESCALEDDISTANCE_NAME;

  public static final int OMSRESCALEDDISTANCE_STATUS;

  public static final java.lang.String OMSRESCALEDDISTANCE_LICENSE;

  public static final java.lang.String OMSRESCALEDDISTANCE_AUTHORNAMES;

  public static final java.lang.String OMSRESCALEDDISTANCE_AUTHORCONTACTS;

  public static final java.lang.String OMSRESCALEDDISTANCE_inFlow_DESCRIPTION;

  public static final java.lang.String OMSRESCALEDDISTANCE_inNet_DESCRIPTION;

  public static final java.lang.String OMSRESCALEDDISTANCE_inElev_DESCRIPTION;

  public static final java.lang.String OMSRESCALEDDISTANCE_pRatio_DESCRIPTION;

  public static final java.lang.String OMSRESCALEDDISTANCE_outRescaled_DESCRIPTION;

  private double xRes;

  private double yRes;

  private javax.media.jai.iterator.RandomIter elevIter;

  public org.hortonmachine.hmachine.modules.basin.rescaleddistance.OmsRescaledDistance();
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/hortonmachine/gears/libs/modules/multiprocessing/GridMultiProcessing."<init>":()V
       4: aload_0
       5: aconst_null
       6: putfield      #3                  // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
       9: aload_0
      10: aconst_null
      11: putfield      #4                  // Field inNet:Lorg/geotools/coverage/grid/GridCoverage2D;
      14: aload_0
      15: aconst_null
      16: putfield      #5                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
      19: aload_0
      20: dconst_0
      21: putfield      #6                  // Field pRatio:D
      24: aload_0
      25: aconst_null
      26: putfield      #7                  // Field outRescaled:Lorg/geotools/coverage/grid/GridCoverage2D;
      29: aload_0
      30: aconst_null
      31: putfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
      34: return

  public void process() throws java.lang.Exception;
    Code:
       0: aload_0
       1: iconst_2
       2: newarray       boolean
       4: dup
       5: iconst_0
       6: aload_0
       7: getfield      #7                  // Field outRescaled:Lorg/geotools/coverage/grid/GridCoverage2D;
      10: ifnonnull     17
      13: iconst_1
      14: goto          18
      17: iconst_0
      18: bastore
      19: dup
      20: iconst_1
      21: aload_0
      22: getfield      #9                  // Field doReset:Z
      25: bastore
      26: invokevirtual #10                 // Method concatOr:([Z)Z
      29: ifne          33
      32: return
      33: aload_0
      34: iconst_2
      35: anewarray     #11                 // class java/lang/Object
      38: dup
      39: iconst_0
      40: aload_0
      41: getfield      #3                  // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      44: aastore
      45: dup
      46: iconst_1
      47: aload_0
      48: getfield      #4                  // Field inNet:Lorg/geotools/coverage/grid/GridCoverage2D;
      51: aastore
      52: invokevirtual #12                 // Method checkNull:([Ljava/lang/Object;)V
      55: aload_0
      56: getfield      #3                  // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      59: invokestatic  #13                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.getRegionParamsFromGridCoverage:(Lorg/geotools/coverage/grid/GridCoverage2D;)Lorg/hortonmachine/gears/utils/RegionMap;
      62: astore_1
      63: aload_1
      64: invokevirtual #14                 // Method org/hortonmachine/gears/utils/RegionMap.getCols:()I
      67: istore_2
      68: aload_1
      69: invokevirtual #15                 // Method org/hortonmachine/gears/utils/RegionMap.getRows:()I
      72: istore_3
      73: aload_0
      74: aload_1
      75: invokevirtual #16                 // Method org/hortonmachine/gears/utils/RegionMap.getXres:()D
      78: putfield      #17                 // Field xRes:D
      81: aload_0
      82: aload_1
      83: invokevirtual #18                 // Method org/hortonmachine/gears/utils/RegionMap.getYres:()D
      86: putfield      #19                 // Field yRes:D
      89: aload_0
      90: getfield      #3                  // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
      93: invokevirtual #20                 // Method org/geotools/coverage/grid/GridCoverage2D.getRenderedImage:()Ljava/awt/image/RenderedImage;
      96: astore        4
      98: aload         4
     100: aconst_null
     101: invokestatic  #21                 // Method javax/media/jai/iterator/RandomIterFactory.create:(Ljava/awt/image/RenderedImage;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/RandomIter;
     104: astore        5
     106: aload_0
     107: getfield      #4                  // Field inNet:Lorg/geotools/coverage/grid/GridCoverage2D;
     110: invokevirtual #20                 // Method org/geotools/coverage/grid/GridCoverage2D.getRenderedImage:()Ljava/awt/image/RenderedImage;
     113: astore        6
     115: aload         6
     117: aconst_null
     118: invokestatic  #21                 // Method javax/media/jai/iterator/RandomIterFactory.create:(Ljava/awt/image/RenderedImage;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/RandomIter;
     121: astore        7
     123: aload_0
     124: getfield      #5                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
     127: ifnull        149
     130: aload_0
     131: getfield      #5                  // Field inElev:Lorg/geotools/coverage/grid/GridCoverage2D;
     134: invokevirtual #20                 // Method org/geotools/coverage/grid/GridCoverage2D.getRenderedImage:()Ljava/awt/image/RenderedImage;
     137: astore        8
     139: aload_0
     140: aload         8
     142: aconst_null
     143: invokestatic  #21                 // Method javax/media/jai/iterator/RandomIterFactory.create:(Ljava/awt/image/RenderedImage;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/RandomIter;
     146: putfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
     149: iload_2
     150: iload_3
     151: ldc           #22                 // class java/lang/Float
     153: aconst_null
     154: ldc           #23                 // float -9999.0f
     156: invokestatic  #24                 // Method java/lang/Float.valueOf:(F)Ljava/lang/Float;
     159: invokestatic  #25                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.createWritableRaster:(IILjava/lang/Class;Ljava/awt/image/SampleModel;Ljava/lang/Object;)Ljava/awt/image/WritableRaster;
     162: astore        8
     164: aload         8
     166: aconst_null
     167: invokestatic  #26                 // Method javax/media/jai/iterator/RandomIterFactory.createWritable:(Ljava/awt/image/WritableRaster;Ljava/awt/Rectangle;)Ljavax/media/jai/iterator/WritableRandomIter;
     170: astore        9
     172: aload_0
     173: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     176: ldc           #28                 // String Find outlets...
     178: iload_3
     179: iload_2
     180: imul
     181: invokeinterface #29,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
     186: new           #30                 // class java/util/concurrent/ConcurrentLinkedQueue
     189: dup
     190: invokespecial #31                 // Method java/util/concurrent/ConcurrentLinkedQueue."<init>":()V
     193: astore        10
     195: aload_0
     196: iload_2
     197: iload_3
     198: aload_0
     199: aload         7
     201: aload         5
     203: iload_2
     204: iload_3
     205: aload         10
     207: invokedynamic #32,  0             // InvokeDynamic #0:calculate:(Lorg/hortonmachine/hmachine/modules/basin/rescaleddistance/OmsRescaledDistance;Ljavax/media/jai/iterator/RandomIter;Ljavax/media/jai/iterator/RandomIter;IILjava/util/concurrent/ConcurrentLinkedQueue;)Lorg/hortonmachine/gears/libs/modules/multiprocessing/GridMultiProcessing$Calculator;
     212: invokevirtual #33                 // Method processGrid:(IILorg/hortonmachine/gears/libs/modules/multiprocessing/GridMultiProcessing$Calculator;)V
     215: aload_0
     216: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     219: invokeinterface #34,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     224: aload         10
     226: invokevirtual #35                 // Method java/util/concurrent/ConcurrentLinkedQueue.size:()I
     229: ifne          243
     232: new           #36                 // class org/hortonmachine/gears/libs/exceptions/ModelsIllegalargumentException
     235: dup
     236: ldc           #37                 // String No exits found in the map of flowdirections.
     238: aload_0
     239: invokespecial #38                 // Method org/hortonmachine/gears/libs/exceptions/ModelsIllegalargumentException."<init>":(Ljava/lang/String;Ljava/lang/Object;)V
     242: athrow
     243: aload_0
     244: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     247: ldc           #39                 // String Calculate rescaled distance...
     249: aload         10
     251: invokevirtual #35                 // Method java/util/concurrent/ConcurrentLinkedQueue.size:()I
     254: invokeinterface #29,  3           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.beginTask:(Ljava/lang/String;I)V
     259: aload         10
     261: invokevirtual #40                 // Method java/util/concurrent/ConcurrentLinkedQueue.parallelStream:()Ljava/util/stream/Stream;
     264: aload_0
     265: aload         9
     267: aload         7
     269: invokedynamic #41,  0             // InvokeDynamic #1:accept:(Lorg/hortonmachine/hmachine/modules/basin/rescaleddistance/OmsRescaledDistance;Ljavax/media/jai/iterator/WritableRandomIter;Ljavax/media/jai/iterator/RandomIter;)Ljava/util/function/Consumer;
     274: invokeinterface #42,  2           // InterfaceMethod java/util/stream/Stream.forEach:(Ljava/util/function/Consumer;)V
     279: aload_0
     280: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
     283: invokeinterface #34,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.done:()V
     288: aload         9
     290: invokeinterface #43,  1           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.done:()V
     295: aload         7
     297: invokeinterface #44,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     302: aload_0
     303: getfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
     306: ifnull        356
     309: aload_0
     310: getfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
     313: invokeinterface #44,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     318: goto          356
     321: astore        11
     323: aload         9
     325: invokeinterface #43,  1           // InterfaceMethod javax/media/jai/iterator/WritableRandomIter.done:()V
     330: aload         7
     332: invokeinterface #44,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     337: aload_0
     338: getfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
     341: ifnull        353
     344: aload_0
     345: getfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
     348: invokeinterface #44,  1           // InterfaceMethod javax/media/jai/iterator/RandomIter.done:()V
     353: aload         11
     355: athrow
     356: aload_0
     357: ldc           #45                 // String OmsRescaledDistance
     359: aload         8
     361: aload_1
     362: aload_0
     363: getfield      #3                  // Field inFlow:Lorg/geotools/coverage/grid/GridCoverage2D;
     366: invokevirtual #46                 // Method org/geotools/coverage/grid/GridCoverage2D.getCoordinateReferenceSystem:()Lorg/opengis/referencing/crs/CoordinateReferenceSystem;
     369: invokestatic  #47                 // Method org/hortonmachine/gears/utils/coverage/CoverageUtilities.buildCoverage:(Ljava/lang/String;Ljava/awt/image/WritableRaster;Ljava/util/HashMap;Lorg/opengis/referencing/crs/CoordinateReferenceSystem;)Lorg/geotools/coverage/grid/GridCoverage2D;
     372: putfield      #7                  // Field outRescaled:Lorg/geotools/coverage/grid/GridCoverage2D;
     375: return
    Exception table:
       from    to  target type
         172   288   321   any
         321   323   321   any

  private void calculateRescaledDistance(org.hortonmachine.gears.libs.modules.FlowNode, float, javax.media.jai.iterator.WritableRandomIter, javax.media.jai.iterator.RandomIter, javax.media.jai.iterator.RandomIter);
    Code:
       0: aload_1
       1: aload_3
       2: fload_2
       3: invokevirtual #48                 // Method org/hortonmachine/gears/libs/modules/FlowNode.setFloatValueInMap:(Ljavax/media/jai/iterator/WritableRandomIter;F)V
       6: aload_1
       7: invokevirtual #49                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getEnteringNodes:()Ljava/util/List;
      10: invokeinterface #50,  1           // InterfaceMethod java/util/List.size:()I
      15: ifle          172
      18: aload_1
      19: invokevirtual #49                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getEnteringNodes:()Ljava/util/List;
      22: astore        6
      24: aload         6
      26: invokeinterface #51,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      31: astore        7
      33: aload         7
      35: invokeinterface #52,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      40: ifeq          172
      43: aload         7
      45: invokeinterface #53,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      50: checkcast     #54                 // class org/hortonmachine/gears/libs/modules/FlowNode
      53: astore        8
      55: aload         8
      57: getfield      #55                 // Field org/hortonmachine/gears/libs/modules/FlowNode.flow:I
      60: invokestatic  #56                 // Method org/hortonmachine/gears/libs/modules/Direction.forFlow:(I)Lorg/hortonmachine/gears/libs/modules/Direction;
      63: aload_0
      64: getfield      #17                 // Field xRes:D
      67: aload_0
      68: getfield      #19                 // Field yRes:D
      71: invokevirtual #57                 // Method org/hortonmachine/gears/libs/modules/Direction.getDistance:(DD)D
      74: dstore        9
      76: aload         4
      78: ifnull        113
      81: aload         8
      83: aload         4
      85: invokevirtual #58                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getValueFromMap:(Ljavax/media/jai/iterator/RandomIter;)D
      88: dstore        11
      90: aload_1
      91: aload         4
      93: invokevirtual #58                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getValueFromMap:(Ljavax/media/jai/iterator/RandomIter;)D
      96: dstore        13
      98: dload         9
     100: dload         13
     102: dload         11
     104: dsub
     105: invokestatic  #59                 // Method java/lang/Math.abs:(D)D
     108: invokestatic  #60                 // Method org/hortonmachine/gears/utils/math/NumericsUtilities.pythagoras:(DD)D
     111: dstore        9
     113: aload         8
     115: aload         5
     117: invokevirtual #61                 // Method org/hortonmachine/gears/libs/modules/FlowNode.getIntValueFromMap:(Ljavax/media/jai/iterator/RandomIter;)I
     120: istore        11
     122: dconst_0
     123: dstore        12
     125: iload         11
     127: invokestatic  #62                 // Method org/hortonmachine/gears/libs/modules/HMConstants.isNovalue:(I)Z
     130: ifeq          148
     133: fload_2
     134: f2d
     135: dload         9
     137: aload_0
     138: getfield      #6                  // Field pRatio:D
     141: dmul
     142: dadd
     143: dstore        12
     145: goto          155
     148: fload_2
     149: f2d
     150: dload         9
     152: dadd
     153: dstore        12
     155: aload_0
     156: aload         8
     158: dload         12
     160: d2f
     161: aload_3
     162: aload         4
     164: aload         5
     166: invokespecial #63                 // Method calculateRescaledDistance:(Lorg/hortonmachine/gears/libs/modules/FlowNode;FLjavax/media/jai/iterator/WritableRandomIter;Ljavax/media/jai/iterator/RandomIter;Ljavax/media/jai/iterator/RandomIter;)V
     169: goto          33
     172: return

  private void lambda$process$14(javax.media.jai.iterator.WritableRandomIter, javax.media.jai.iterator.RandomIter, org.hortonmachine.gears.libs.modules.FlowNode);
    Code:
       0: aload_0
       1: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
       4: invokeinterface #64,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.isCanceled:()Z
       9: ifeq          13
      12: return
      13: aload_0
      14: aload_3
      15: aload_0
      16: getfield      #17                 // Field xRes:D
      19: d2f
      20: aload_1
      21: aload_0
      22: getfield      #8                  // Field elevIter:Ljavax/media/jai/iterator/RandomIter;
      25: aload_2
      26: invokespecial #63                 // Method calculateRescaledDistance:(Lorg/hortonmachine/gears/libs/modules/FlowNode;FLjavax/media/jai/iterator/WritableRandomIter;Ljavax/media/jai/iterator/RandomIter;Ljavax/media/jai/iterator/RandomIter;)V
      29: aload_0
      30: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      33: iconst_1
      34: invokeinterface #65,  2           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.worked:(I)V
      39: return

  private void lambda$process$13(javax.media.jai.iterator.RandomIter, javax.media.jai.iterator.RandomIter, int, int, java.util.concurrent.ConcurrentLinkedQueue, int, int) throws java.lang.Exception;
    Code:
       0: aload_0
       1: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
       4: invokeinterface #64,  1           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.isCanceled:()Z
       9: ifeq          13
      12: return
      13: aload_1
      14: iload         6
      16: iload         7
      18: iconst_0
      19: invokeinterface #66,  4           // InterfaceMethod javax/media/jai/iterator/RandomIter.getSample:(III)I
      24: istore        8
      26: iload         8
      28: invokestatic  #62                 // Method org/hortonmachine/gears/libs/modules/HMConstants.isNovalue:(I)Z
      31: ifeq          35
      34: return
      35: new           #54                 // class org/hortonmachine/gears/libs/modules/FlowNode
      38: dup
      39: aload_2
      40: iload_3
      41: iload         4
      43: iload         6
      45: iload         7
      47: invokespecial #67                 // Method org/hortonmachine/gears/libs/modules/FlowNode."<init>":(Ljavax/media/jai/iterator/RandomIter;IIII)V
      50: astore        9
      52: aload         9
      54: invokevirtual #68                 // Method org/hortonmachine/gears/libs/modules/FlowNode.isHeadingOutside:()Z
      57: ifeq          68
      60: aload         5
      62: aload         9
      64: invokevirtual #69                 // Method java/util/concurrent/ConcurrentLinkedQueue.add:(Ljava/lang/Object;)Z
      67: pop
      68: aload_0
      69: getfield      #27                 // Field pm:Lorg/hortonmachine/gears/libs/monitor/IHMProgressMonitor;
      72: iconst_1
      73: invokeinterface #65,  2           // InterfaceMethod org/hortonmachine/gears/libs/monitor/IHMProgressMonitor.worked:(I)V
      78: return
}
