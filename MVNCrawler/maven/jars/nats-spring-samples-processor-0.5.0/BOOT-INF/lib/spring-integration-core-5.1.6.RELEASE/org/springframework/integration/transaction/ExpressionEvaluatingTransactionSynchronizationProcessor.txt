Compiled from "ExpressionEvaluatingTransactionSynchronizationProcessor.java"
public class org.springframework.integration.transaction.ExpressionEvaluatingTransactionSynchronizationProcessor extends org.springframework.integration.context.IntegrationObjectSupport implements org.springframework.integration.transaction.TransactionSynchronizationProcessor {
  private volatile org.springframework.expression.EvaluationContext evaluationContext;

  private volatile org.springframework.expression.Expression beforeCommitExpression;

  private volatile org.springframework.expression.Expression afterCommitExpression;

  private volatile org.springframework.expression.Expression afterRollbackExpression;

  private volatile org.springframework.messaging.MessageChannel beforeCommitChannel;

  private volatile org.springframework.messaging.MessageChannel afterCommitChannel;

  private volatile org.springframework.messaging.MessageChannel afterRollbackChannel;

  public org.springframework.integration.transaction.ExpressionEvaluatingTransactionSynchronizationProcessor();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method org/springframework/integration/context/IntegrationObjectSupport."<init>":()V
       4: aload_0
       5: new           #2                  // class org/springframework/integration/channel/NullChannel
       8: dup
       9: invokespecial #3                  // Method org/springframework/integration/channel/NullChannel."<init>":()V
      12: putfield      #4                  // Field beforeCommitChannel:Lorg/springframework/messaging/MessageChannel;
      15: aload_0
      16: new           #2                  // class org/springframework/integration/channel/NullChannel
      19: dup
      20: invokespecial #3                  // Method org/springframework/integration/channel/NullChannel."<init>":()V
      23: putfield      #5                  // Field afterCommitChannel:Lorg/springframework/messaging/MessageChannel;
      26: aload_0
      27: new           #2                  // class org/springframework/integration/channel/NullChannel
      30: dup
      31: invokespecial #3                  // Method org/springframework/integration/channel/NullChannel."<init>":()V
      34: putfield      #6                  // Field afterRollbackChannel:Lorg/springframework/messaging/MessageChannel;
      37: return

  public void setIntegrationEvaluationContext(org.springframework.expression.EvaluationContext);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #7                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
       5: return

  public void setBeforeCommitChannel(org.springframework.messaging.MessageChannel);
    Code:
       0: aload_1
       1: ldc           #8                  // String \'beforeCommitChannel\' must not be null
       3: invokestatic  #9                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #4                  // Field beforeCommitChannel:Lorg/springframework/messaging/MessageChannel;
      11: return

  public void setAfterCommitChannel(org.springframework.messaging.MessageChannel);
    Code:
       0: aload_1
       1: ldc           #10                 // String \'afterCommitChannel\' must not be null
       3: invokestatic  #9                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #5                  // Field afterCommitChannel:Lorg/springframework/messaging/MessageChannel;
      11: return

  public void setAfterRollbackChannel(org.springframework.messaging.MessageChannel);
    Code:
       0: aload_1
       1: ldc           #11                 // String \'afterRollbackChannel\' must not be null
       3: invokestatic  #9                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #6                  // Field afterRollbackChannel:Lorg/springframework/messaging/MessageChannel;
      11: return

  public void setBeforeCommitExpression(org.springframework.expression.Expression);
    Code:
       0: aload_1
       1: ldc           #12                 // String \'beforeCommitExpression\' must not be null
       3: invokestatic  #9                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #13                 // Field beforeCommitExpression:Lorg/springframework/expression/Expression;
      11: return

  public void setAfterCommitExpression(org.springframework.expression.Expression);
    Code:
       0: aload_1
       1: ldc           #14                 // String \'afterCommitExpression\' must not be null
       3: invokestatic  #9                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #15                 // Field afterCommitExpression:Lorg/springframework/expression/Expression;
      11: return

  public void setAfterRollbackExpression(org.springframework.expression.Expression);
    Code:
       0: aload_1
       1: ldc           #16                 // String \'afterRollbackExpression\' must not be null
       3: invokestatic  #9                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: putfield      #17                 // Field afterRollbackExpression:Lorg/springframework/expression/Expression;
      11: return

  protected void onInit();
    Code:
       0: aload_0
       1: invokespecial #18                 // Method org/springframework/integration/context/IntegrationObjectSupport.onInit:()V
       4: aload_0
       5: getfield      #7                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
       8: ifnonnull     19
      11: aload_0
      12: aload_0
      13: invokevirtual #19                 // Method createEvaluationContext:()Lorg/springframework/expression/spel/support/StandardEvaluationContext;
      16: putfield      #7                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
      19: return

  public void processBeforeCommit(org.springframework.integration.transaction.IntegrationResourceHolder);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #13                 // Field beforeCommitExpression:Lorg/springframework/expression/Expression;
       6: aload_0
       7: getfield      #4                  // Field beforeCommitChannel:Lorg/springframework/messaging/MessageChannel;
      10: ldc           #20                 // String beforeCommit
      12: invokespecial #21                 // Method doProcess:(Lorg/springframework/integration/transaction/IntegrationResourceHolder;Lorg/springframework/expression/Expression;Lorg/springframework/messaging/MessageChannel;Ljava/lang/String;)V
      15: return

  public void processAfterCommit(org.springframework.integration.transaction.IntegrationResourceHolder);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #15                 // Field afterCommitExpression:Lorg/springframework/expression/Expression;
       6: aload_0
       7: getfield      #5                  // Field afterCommitChannel:Lorg/springframework/messaging/MessageChannel;
      10: ldc           #22                 // String afterCommit
      12: invokespecial #21                 // Method doProcess:(Lorg/springframework/integration/transaction/IntegrationResourceHolder;Lorg/springframework/expression/Expression;Lorg/springframework/messaging/MessageChannel;Ljava/lang/String;)V
      15: return

  public void processAfterRollback(org.springframework.integration.transaction.IntegrationResourceHolder);
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: getfield      #17                 // Field afterRollbackExpression:Lorg/springframework/expression/Expression;
       6: aload_0
       7: getfield      #6                  // Field afterRollbackChannel:Lorg/springframework/messaging/MessageChannel;
      10: ldc           #23                 // String afterRollback
      12: invokespecial #21                 // Method doProcess:(Lorg/springframework/integration/transaction/IntegrationResourceHolder;Lorg/springframework/expression/Expression;Lorg/springframework/messaging/MessageChannel;Ljava/lang/String;)V
      15: return

  private void doProcess(org.springframework.integration.transaction.IntegrationResourceHolder, org.springframework.expression.Expression, org.springframework.messaging.MessageChannel, java.lang.String);
    Code:
       0: aload_1
       1: invokevirtual #24                 // Method org/springframework/integration/transaction/IntegrationResourceHolder.getMessage:()Lorg/springframework/messaging/Message;
       4: astore        5
       6: aload         5
       8: ifnull        386
      11: aload_2
      12: ifnull        288
      15: aload_0
      16: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
      19: invokeinterface #26,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
      24: ifeq          80
      27: aload_0
      28: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
      31: new           #27                 // class java/lang/StringBuilder
      34: dup
      35: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
      38: ldc           #29                 // String Evaluating
      40: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      43: aload         4
      45: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: ldc           #31                 // String  expression: \'
      50: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      53: aload_2
      54: invokeinterface #32,  1           // InterfaceMethod org/springframework/expression/Expression.getExpressionString:()Ljava/lang/String;
      59: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      62: ldc           #33                 // String \' on
      64: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      67: aload         5
      69: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      72: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      75: invokeinterface #36,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
      80: aload_0
      81: aload_1
      82: invokespecial #37                 // Method prepareEvaluationContextToUse:(Ljava/lang/Object;)Lorg/springframework/expression/EvaluationContext;
      85: astore        6
      87: aload_2
      88: aload         6
      90: aload         5
      92: invokeinterface #38,  3           // InterfaceMethod org/springframework/expression/Expression.getValue:(Lorg/springframework/expression/EvaluationContext;Ljava/lang/Object;)Ljava/lang/Object;
      97: astore        7
      99: aload         7
     101: ifnull        262
     104: aload_0
     105: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     108: invokeinterface #26,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     113: ifeq          159
     116: aload_0
     117: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     120: new           #27                 // class java/lang/StringBuilder
     123: dup
     124: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     127: ldc           #39                 // String Sending expression result message to
     129: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: aload_3
     133: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     136: ldc           #40                 // String  as part of \'
     138: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: aload         4
     143: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     146: ldc           #41                 // String \' transaction synchronization
     148: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     154: invokeinterface #36,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     159: aconst_null
     160: astore        8
     162: aload         7
     164: instanceof    #42                 // class org/springframework/messaging/Message
     167: ifeq          180
     170: aload         7
     172: checkcast     #42                 // class org/springframework/messaging/Message
     175: astore        8
     177: goto          206
     180: aload_0
     181: invokevirtual #43                 // Method getMessageBuilderFactory:()Lorg/springframework/integration/support/MessageBuilderFactory;
     184: aload         7
     186: invokeinterface #44,  2           // InterfaceMethod org/springframework/integration/support/MessageBuilderFactory.withPayload:(Ljava/lang/Object;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
     191: aload         5
     193: invokeinterface #45,  1           // InterfaceMethod org/springframework/messaging/Message.getHeaders:()Lorg/springframework/messaging/MessageHeaders;
     198: invokevirtual #46                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.copyHeaders:(Ljava/util/Map;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
     201: invokevirtual #47                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.build:()Lorg/springframework/messaging/Message;
     204: astore        8
     206: aload_0
     207: aload_3
     208: aload         8
     210: invokespecial #48                 // Method sendMessage:(Lorg/springframework/messaging/MessageChannel;Lorg/springframework/messaging/Message;)V
     213: goto          259
     216: astore        9
     218: aload_0
     219: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     222: new           #27                 // class java/lang/StringBuilder
     225: dup
     226: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     229: ldc           #50                 // String Failed to send
     231: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     234: aload         4
     236: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     239: ldc           #51                 // String  evaluation result
     241: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     244: aload         8
     246: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     249: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     252: aload         9
     254: invokeinterface #52,  3           // InterfaceMethod org/apache/commons/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     259: goto          285
     262: aload_0
     263: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     266: invokeinterface #53,  1           // InterfaceMethod org/apache/commons/logging/Log.isTraceEnabled:()Z
     271: ifeq          285
     274: aload_0
     275: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     278: ldc           #54                 // String Expression evaluation returned null
     280: invokeinterface #55,  2           // InterfaceMethod org/apache/commons/logging/Log.trace:(Ljava/lang/Object;)V
     285: goto          386
     288: aload_0
     289: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     292: invokeinterface #26,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     297: ifeq          343
     300: aload_0
     301: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     304: new           #27                 // class java/lang/StringBuilder
     307: dup
     308: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     311: ldc           #56                 // String Sending received message to
     313: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     316: aload_3
     317: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     320: ldc           #40                 // String  as part of \'
     322: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     325: aload         4
     327: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     330: ldc           #41                 // String \' transaction synchronization
     332: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     335: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     338: invokeinterface #36,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     343: aload_0
     344: aload_3
     345: aload         5
     347: invokespecial #48                 // Method sendMessage:(Lorg/springframework/messaging/MessageChannel;Lorg/springframework/messaging/Message;)V
     350: goto          386
     353: astore        6
     355: aload_0
     356: getfield      #25                 // Field logger:Lorg/apache/commons/logging/Log;
     359: new           #27                 // class java/lang/StringBuilder
     362: dup
     363: invokespecial #28                 // Method java/lang/StringBuilder."<init>":()V
     366: ldc           #50                 // String Failed to send
     368: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     371: aload         5
     373: invokevirtual #34                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     376: invokevirtual #35                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     379: aload         6
     381: invokeinterface #52,  3           // InterfaceMethod org/apache/commons/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
     386: return
    Exception table:
       from    to  target type
         162   213   216   Class java/lang/Exception
         343   350   353   Class java/lang/Exception

  private void sendMessage(org.springframework.messaging.MessageChannel, org.springframework.messaging.Message<?>);
    Code:
       0: aload_1
       1: aload_2
       2: lconst_0
       3: invokeinterface #57,  4           // InterfaceMethod org/springframework/messaging/MessageChannel.send:(Lorg/springframework/messaging/Message;J)Z
       8: pop
       9: return

  private org.springframework.expression.EvaluationContext prepareEvaluationContextToUse(java.lang.Object);
    Code:
       0: aload_1
       1: ifnull        91
       4: aload_0
       5: invokevirtual #19                 // Method createEvaluationContext:()Lorg/springframework/expression/spel/support/StandardEvaluationContext;
       8: astore_2
       9: aload_1
      10: instanceof    #58                 // class org/springframework/integration/transaction/IntegrationResourceHolder
      13: ifeq          89
      16: aload_1
      17: checkcast     #58                 // class org/springframework/integration/transaction/IntegrationResourceHolder
      20: astore_3
      21: aload_3
      22: invokevirtual #59                 // Method org/springframework/integration/transaction/IntegrationResourceHolder.getAttributes:()Ljava/util/Map;
      25: invokeinterface #60,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      30: invokeinterface #61,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      35: astore        4
      37: aload         4
      39: invokeinterface #62,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      44: ifeq          89
      47: aload         4
      49: invokeinterface #63,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      54: checkcast     #64                 // class java/util/Map$Entry
      57: astore        5
      59: aload         5
      61: invokeinterface #65,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      66: checkcast     #66                 // class java/lang/String
      69: astore        6
      71: aload_2
      72: aload         6
      74: aload         5
      76: invokeinterface #67,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      81: invokeinterface #68,  3           // InterfaceMethod org/springframework/expression/EvaluationContext.setVariable:(Ljava/lang/String;Ljava/lang/Object;)V
      86: goto          37
      89: aload_2
      90: areturn
      91: aload_0
      92: getfield      #7                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
      95: areturn

  protected org.springframework.expression.spel.support.StandardEvaluationContext createEvaluationContext();
    Code:
       0: aload_0
       1: invokevirtual #69                 // Method getBeanFactory:()Lorg/springframework/beans/factory/BeanFactory;
       4: invokestatic  #70                 // Method org/springframework/integration/expression/ExpressionUtils.createStandardEvaluationContext:(Lorg/springframework/beans/factory/BeanFactory;)Lorg/springframework/expression/spel/support/StandardEvaluationContext;
       7: areturn
}
