Compiled from "AbstractExecutorChannel.java"
public class org.springframework.integration.channel.AbstractExecutorChannel$MessageHandlingTask implements java.lang.Runnable {
  private final org.springframework.messaging.support.MessageHandlingRunnable delegate;

  final org.springframework.integration.channel.AbstractExecutorChannel this$0;

  public org.springframework.integration.channel.AbstractExecutorChannel$MessageHandlingTask(org.springframework.integration.channel.AbstractExecutorChannel, org.springframework.messaging.support.MessageHandlingRunnable);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
       5: aload_0
       6: invokespecial #2                  // Method java/lang/Object."<init>":()V
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field delegate:Lorg/springframework/messaging/support/MessageHandlingRunnable;
      14: return

  public void run();
    Code:
       0: aload_0
       1: getfield      #3                  // Field delegate:Lorg/springframework/messaging/support/MessageHandlingRunnable;
       4: invokeinterface #4,  1            // InterfaceMethod org/springframework/messaging/support/MessageHandlingRunnable.getMessage:()Lorg/springframework/messaging/Message;
       9: astore_1
      10: aload_0
      11: getfield      #3                  // Field delegate:Lorg/springframework/messaging/support/MessageHandlingRunnable;
      14: invokeinterface #5,  1            // InterfaceMethod org/springframework/messaging/support/MessageHandlingRunnable.getMessageHandler:()Lorg/springframework/messaging/MessageHandler;
      19: astore_2
      20: aload_2
      21: ldc           #6                  // String \'messageHandler\' must not be null
      23: invokestatic  #7                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      26: aconst_null
      27: astore_3
      28: aload_0
      29: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
      32: getfield      #8                  // Field org/springframework/integration/channel/AbstractExecutorChannel.executorInterceptorsSize:I
      35: ifle          58
      38: new           #9                  // class java/util/ArrayDeque
      41: dup
      42: invokespecial #10                 // Method java/util/ArrayDeque."<init>":()V
      45: astore_3
      46: aload_0
      47: aload_1
      48: aload_3
      49: invokespecial #11                 // Method applyBeforeHandle:(Lorg/springframework/messaging/Message;Ljava/util/Deque;)Lorg/springframework/messaging/Message;
      52: astore_1
      53: aload_1
      54: ifnonnull     58
      57: return
      58: aload_2
      59: aload_1
      60: invokeinterface #12,  2           // InterfaceMethod org/springframework/messaging/MessageHandler.handleMessage:(Lorg/springframework/messaging/Message;)V
      65: aload_3
      66: invokestatic  #13                 // Method org/springframework/util/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      69: ifne          79
      72: aload_0
      73: aload_1
      74: aconst_null
      75: aload_3
      76: invokespecial #14                 // Method triggerAfterMessageHandled:(Lorg/springframework/messaging/Message;Ljava/lang/Exception;Ljava/util/Deque;)V
      79: goto          242
      82: astore        4
      84: aload_3
      85: invokestatic  #13                 // Method org/springframework/util/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
      88: ifne          99
      91: aload_0
      92: aload_1
      93: aload         4
      95: aload_3
      96: invokespecial #14                 // Method triggerAfterMessageHandled:(Lorg/springframework/messaging/Message;Ljava/lang/Exception;Ljava/util/Deque;)V
      99: aload         4
     101: instanceof    #16                 // class org/springframework/messaging/MessagingException
     104: ifeq          121
     107: new           #17                 // class org/springframework/integration/support/MessagingExceptionWrapper
     110: dup
     111: aload_1
     112: aload         4
     114: checkcast     #16                 // class org/springframework/messaging/MessagingException
     117: invokespecial #18                 // Method org/springframework/integration/support/MessagingExceptionWrapper."<init>":(Lorg/springframework/messaging/Message;Lorg/springframework/messaging/MessagingException;)V
     120: athrow
     121: new           #19                 // class java/lang/StringBuilder
     124: dup
     125: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     128: ldc           #21                 // String Failed to handle
     130: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     133: aload_1
     134: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     137: ldc           #24                 // String  to
     139: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     142: aload_0
     143: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     146: ldc           #25                 // String  in
     148: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     151: aload_2
     152: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     155: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     158: astore        5
     160: new           #27                 // class org/springframework/messaging/MessageDeliveryException
     163: dup
     164: aload_1
     165: aload         5
     167: aload         4
     169: invokespecial #28                 // Method org/springframework/messaging/MessageDeliveryException."<init>":(Lorg/springframework/messaging/Message;Ljava/lang/String;Ljava/lang/Throwable;)V
     172: athrow
     173: astore        4
     175: aload_3
     176: invokestatic  #13                 // Method org/springframework/util/CollectionUtils.isEmpty:(Ljava/util/Collection;)Z
     179: ifne          239
     182: new           #19                 // class java/lang/StringBuilder
     185: dup
     186: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     189: ldc           #21                 // String Failed to handle
     191: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     194: aload_1
     195: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     198: ldc           #24                 // String  to
     200: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     203: aload_0
     204: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     207: ldc           #25                 // String  in
     209: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     212: aload_2
     213: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     216: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     219: astore        5
     221: aload_0
     222: aload_1
     223: new           #27                 // class org/springframework/messaging/MessageDeliveryException
     226: dup
     227: aload_1
     228: aload         5
     230: aload         4
     232: invokespecial #28                 // Method org/springframework/messaging/MessageDeliveryException."<init>":(Lorg/springframework/messaging/Message;Ljava/lang/String;Ljava/lang/Throwable;)V
     235: aload_3
     236: invokespecial #14                 // Method triggerAfterMessageHandled:(Lorg/springframework/messaging/Message;Ljava/lang/Exception;Ljava/util/Deque;)V
     239: aload         4
     241: athrow
     242: return
    Exception table:
       from    to  target type
          28    57    82   Class java/lang/Exception
          58    79    82   Class java/lang/Exception
          28    57   173   Class java/lang/Error
          58    79   173   Class java/lang/Error

  private org.springframework.messaging.Message<?> applyBeforeHandle(org.springframework.messaging.Message<?>, java.util.Deque<org.springframework.messaging.support.ExecutorChannelInterceptor>);
    Code:
       0: aload_1
       1: astore_3
       2: aload_0
       3: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
       6: getfield      #30                 // Field org/springframework/integration/channel/AbstractExecutorChannel.interceptors:Lorg/springframework/integration/channel/AbstractMessageChannel$ChannelInterceptorList;
       9: getfield      #31                 // Field org/springframework/integration/channel/AbstractMessageChannel$ChannelInterceptorList.interceptors:Ljava/util/List;
      12: invokeinterface #32,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      17: astore        4
      19: aload         4
      21: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      26: ifeq          166
      29: aload         4
      31: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      36: checkcast     #35                 // class org/springframework/messaging/support/ChannelInterceptor
      39: astore        5
      41: aload         5
      43: instanceof    #36                 // class org/springframework/messaging/support/ExecutorChannelInterceptor
      46: ifeq          163
      49: aload         5
      51: checkcast     #36                 // class org/springframework/messaging/support/ExecutorChannelInterceptor
      54: astore        6
      56: aload         6
      58: aload_3
      59: aload_0
      60: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
      63: aload_0
      64: getfield      #3                  // Field delegate:Lorg/springframework/messaging/support/MessageHandlingRunnable;
      67: invokeinterface #5,  1            // InterfaceMethod org/springframework/messaging/support/MessageHandlingRunnable.getMessageHandler:()Lorg/springframework/messaging/MessageHandler;
      72: invokeinterface #37,  4           // InterfaceMethod org/springframework/messaging/support/ExecutorChannelInterceptor.beforeHandle:(Lorg/springframework/messaging/Message;Lorg/springframework/messaging/MessageChannel;Lorg/springframework/messaging/MessageHandler;)Lorg/springframework/messaging/Message;
      77: astore_3
      78: aload_3
      79: ifnonnull     154
      82: aload_0
      83: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
      86: invokevirtual #38                 // Method org/springframework/integration/channel/AbstractExecutorChannel.isLoggingEnabled:()Z
      89: ifeq          145
      92: aload_0
      93: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
      96: invokestatic  #39                 // Method org/springframework/integration/channel/AbstractExecutorChannel.access$000:(Lorg/springframework/integration/channel/AbstractExecutorChannel;)Lorg/apache/commons/logging/Log;
      99: invokeinterface #40,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     104: ifeq          145
     107: aload_0
     108: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
     111: invokestatic  #41                 // Method org/springframework/integration/channel/AbstractExecutorChannel.access$100:(Lorg/springframework/integration/channel/AbstractExecutorChannel;)Lorg/apache/commons/logging/Log;
     114: new           #19                 // class java/lang/StringBuilder
     117: dup
     118: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
     121: aload         6
     123: invokevirtual #42                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     126: invokevirtual #43                 // Method java/lang/Class.getSimpleName:()Ljava/lang/String;
     129: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     132: ldc           #44                 // String  returned null from beforeHandle, i.e. precluding the send.
     134: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     137: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     140: invokeinterface #45,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     145: aload_0
     146: aconst_null
     147: aconst_null
     148: aload_2
     149: invokespecial #14                 // Method triggerAfterMessageHandled:(Lorg/springframework/messaging/Message;Ljava/lang/Exception;Ljava/util/Deque;)V
     152: aconst_null
     153: areturn
     154: aload_2
     155: aload         6
     157: invokeinterface #46,  2           // InterfaceMethod java/util/Deque.add:(Ljava/lang/Object;)Z
     162: pop
     163: goto          19
     166: aload_3
     167: areturn

  private void triggerAfterMessageHandled(org.springframework.messaging.Message<?>, java.lang.Exception, java.util.Deque<org.springframework.messaging.support.ExecutorChannelInterceptor>);
    Code:
       0: aload_3
       1: invokeinterface #47,  1           // InterfaceMethod java/util/Deque.descendingIterator:()Ljava/util/Iterator;
       6: astore        4
       8: aload         4
      10: invokeinterface #33,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      15: ifeq          94
      18: aload         4
      20: invokeinterface #34,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      25: checkcast     #36                 // class org/springframework/messaging/support/ExecutorChannelInterceptor
      28: astore        5
      30: aload         5
      32: aload_1
      33: aload_0
      34: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
      37: aload_0
      38: getfield      #3                  // Field delegate:Lorg/springframework/messaging/support/MessageHandlingRunnable;
      41: invokeinterface #5,  1            // InterfaceMethod org/springframework/messaging/support/MessageHandlingRunnable.getMessageHandler:()Lorg/springframework/messaging/MessageHandler;
      46: aload_2
      47: invokeinterface #48,  5           // InterfaceMethod org/springframework/messaging/support/ExecutorChannelInterceptor.afterMessageHandled:(Lorg/springframework/messaging/Message;Lorg/springframework/messaging/MessageChannel;Lorg/springframework/messaging/MessageHandler;Ljava/lang/Exception;)V
      52: goto          91
      55: astore        6
      57: aload_0
      58: getfield      #1                  // Field this$0:Lorg/springframework/integration/channel/AbstractExecutorChannel;
      61: invokestatic  #50                 // Method org/springframework/integration/channel/AbstractExecutorChannel.access$200:(Lorg/springframework/integration/channel/AbstractExecutorChannel;)Lorg/apache/commons/logging/Log;
      64: new           #19                 // class java/lang/StringBuilder
      67: dup
      68: invokespecial #20                 // Method java/lang/StringBuilder."<init>":()V
      71: ldc           #51                 // String Exception from afterMessageHandled in
      73: invokevirtual #22                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      76: aload         5
      78: invokevirtual #23                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      81: invokevirtual #26                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      84: aload         6
      86: invokeinterface #52,  3           // InterfaceMethod org/apache/commons/logging/Log.error:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      91: goto          8
      94: return
    Exception table:
       from    to  target type
          30    52    55   Class java/lang/Throwable
}
