Compiled from "HeaderEnricher.java"
public class org.springframework.integration.transformer.HeaderEnricher extends org.springframework.integration.context.IntegrationObjectSupport implements org.springframework.integration.transformer.Transformer,org.springframework.beans.factory.BeanNameAware,org.springframework.beans.factory.InitializingBean {
  private static final org.apache.commons.logging.Log logger;

  private final java.util.Map<java.lang.String, ? extends org.springframework.integration.transformer.support.HeaderValueMessageProcessor<?>> headersToAdd;

  private volatile org.springframework.integration.handler.MessageProcessor<?> messageProcessor;

  private volatile boolean defaultOverwrite;

  private volatile boolean shouldSkipNulls;

  public org.springframework.integration.transformer.HeaderEnricher();
    Code:
       0: aload_0
       1: aconst_null
       2: invokespecial #1                  // Method "<init>":(Ljava/util/Map;)V
       5: return

  public org.springframework.integration.transformer.HeaderEnricher(java.util.Map<java.lang.String, ? extends org.springframework.integration.transformer.support.HeaderValueMessageProcessor<?>>);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method org/springframework/integration/context/IntegrationObjectSupport."<init>":()V
       4: aload_0
       5: iconst_0
       6: putfield      #3                  // Field defaultOverwrite:Z
       9: aload_0
      10: iconst_1
      11: putfield      #4                  // Field shouldSkipNulls:Z
      14: aload_0
      15: aload_1
      16: ifnull        23
      19: aload_1
      20: goto          30
      23: new           #5                  // class java/util/HashMap
      26: dup
      27: invokespecial #6                  // Method java/util/HashMap."<init>":()V
      30: putfield      #7                  // Field headersToAdd:Ljava/util/Map;
      33: return

  public <T> void setMessageProcessor(org.springframework.integration.handler.MessageProcessor<T>);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #8                  // Field messageProcessor:Lorg/springframework/integration/handler/MessageProcessor;
       5: return

  public void setDefaultOverwrite(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #3                  // Field defaultOverwrite:Z
       5: return

  public void setShouldSkipNulls(boolean);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #4                  // Field shouldSkipNulls:Z
       5: return

  public java.lang.String getComponentType();
    Code:
       0: ldc           #9                  // String header-enricher
       2: areturn

  public org.springframework.messaging.Message<?> transform(org.springframework.messaging.Message<?>);
    Code:
       0: aload_1
       1: invokeinterface #10,  1           // InterfaceMethod org/springframework/messaging/Message.getHeaders:()Lorg/springframework/messaging/MessageHeaders;
       6: astore_2
       7: aload_0
       8: invokevirtual #11                 // Method getMessageBuilderFactory:()Lorg/springframework/integration/support/MessageBuilderFactory;
      11: aload_1
      12: invokeinterface #12,  2           // InterfaceMethod org/springframework/integration/support/MessageBuilderFactory.fromMessage:(Lorg/springframework/messaging/Message;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
      17: astore_3
      18: aload_0
      19: aload_1
      20: aload_3
      21: invokespecial #13                 // Method addHeadersFromMessageProcessor:(Lorg/springframework/messaging/Message;Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;)V
      24: aload_0
      25: getfield      #7                  // Field headersToAdd:Ljava/util/Map;
      28: invokeinterface #14,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      33: invokeinterface #15,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      38: astore        4
      40: aload         4
      42: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      47: ifeq          172
      50: aload         4
      52: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      57: checkcast     #18                 // class java/util/Map$Entry
      60: astore        5
      62: aload         5
      64: invokeinterface #19,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      69: checkcast     #20                 // class java/lang/String
      72: astore        6
      74: aload         5
      76: invokeinterface #21,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
      81: checkcast     #22                 // class org/springframework/integration/transformer/support/HeaderValueMessageProcessor
      84: astore        7
      86: aload         7
      88: invokeinterface #23,  1           // InterfaceMethod org/springframework/integration/transformer/support/HeaderValueMessageProcessor.isOverwrite:()Ljava/lang/Boolean;
      93: astore        8
      95: aload         8
      97: ifnonnull     109
     100: aload_0
     101: getfield      #3                  // Field defaultOverwrite:Z
     104: invokestatic  #24                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
     107: astore        8
     109: aload_2
     110: aload         6
     112: invokevirtual #25                 // Method org/springframework/messaging/MessageHeaders.get:(Ljava/lang/Object;)Ljava/lang/Object;
     115: ifnonnull     122
     118: iconst_1
     119: goto          123
     122: iconst_0
     123: istore        9
     125: iload         9
     127: ifne          138
     130: aload         8
     132: invokevirtual #26                 // Method java/lang/Boolean.booleanValue:()Z
     135: ifeq          169
     138: aload         7
     140: aload_1
     141: invokeinterface #27,  2           // InterfaceMethod org/springframework/integration/transformer/support/HeaderValueMessageProcessor.processMessage:(Lorg/springframework/messaging/Message;)Ljava/lang/Object;
     146: astore        10
     148: aload         10
     150: ifnonnull     160
     153: aload_0
     154: getfield      #4                  // Field shouldSkipNulls:Z
     157: ifne          169
     160: aload_3
     161: aload         6
     163: aload         10
     165: invokevirtual #28                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.setHeader:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
     168: pop
     169: goto          40
     172: aload_3
     173: invokevirtual #29                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.build:()Lorg/springframework/messaging/Message;
     176: areturn

  private void addHeadersFromMessageProcessor(org.springframework.messaging.Message<?>, org.springframework.integration.support.AbstractIntegrationMessageBuilder<?>);
    Code:
       0: aload_0
       1: getfield      #8                  // Field messageProcessor:Lorg/springframework/integration/handler/MessageProcessor;
       4: ifnull        212
       7: aload_0
       8: getfield      #8                  // Field messageProcessor:Lorg/springframework/integration/handler/MessageProcessor;
      11: aload_1
      12: invokeinterface #30,  2           // InterfaceMethod org/springframework/integration/handler/MessageProcessor.processMessage:(Lorg/springframework/messaging/Message;)Ljava/lang/Object;
      17: astore_3
      18: aload_3
      19: instanceof    #31                 // class java/util/Map
      22: ifeq          174
      25: aload_1
      26: invokeinterface #10,  1           // InterfaceMethod org/springframework/messaging/Message.getHeaders:()Lorg/springframework/messaging/MessageHeaders;
      31: astore        4
      33: aload_3
      34: checkcast     #31                 // class java/util/Map
      37: astore        5
      39: aload         5
      41: invokeinterface #14,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      46: invokeinterface #15,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      51: astore        6
      53: aload         6
      55: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      60: ifeq          171
      63: aload         6
      65: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      70: checkcast     #18                 // class java/util/Map$Entry
      73: astore        7
      75: aload         7
      77: invokeinterface #19,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      82: astore        8
      84: aload         8
      86: instanceof    #20                 // class java/lang/String
      89: ifeq          129
      92: aload_0
      93: getfield      #3                  // Field defaultOverwrite:Z
      96: ifne          109
      99: aload         4
     101: aload         8
     103: invokevirtual #25                 // Method org/springframework/messaging/MessageHeaders.get:(Ljava/lang/Object;)Ljava/lang/Object;
     106: ifnonnull     168
     109: aload_2
     110: aload         8
     112: checkcast     #20                 // class java/lang/String
     115: aload         7
     117: invokeinterface #21,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     122: invokevirtual #28                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.setHeader:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
     125: pop
     126: goto          168
     129: getstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
     132: invokeinterface #33,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     137: ifeq          168
     140: getstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
     143: new           #34                 // class java/lang/StringBuilder
     146: dup
     147: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     150: ldc           #36                 // String ignoring value for non-String key:
     152: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     155: aload         8
     157: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     160: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     163: invokeinterface #40,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     168: goto          53
     171: goto          212
     174: getstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
     177: invokeinterface #33,  1           // InterfaceMethod org/apache/commons/logging/Log.isDebugEnabled:()Z
     182: ifeq          212
     185: getstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
     188: new           #34                 // class java/lang/StringBuilder
     191: dup
     192: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     195: ldc           #41                 // String expected a Map result from processor, but received:
     197: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     200: aload_3
     201: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     204: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     207: invokeinterface #40,  2           // InterfaceMethod org/apache/commons/logging/Log.debug:(Ljava/lang/Object;)V
     212: return

  public void onInit();
    Code:
       0: aload_0
       1: getfield      #3                  // Field defaultOverwrite:Z
       4: istore_1
       5: aload_0
       6: invokevirtual #11                 // Method getMessageBuilderFactory:()Lorg/springframework/integration/support/MessageBuilderFactory;
       9: instanceof    #42                 // class org/springframework/integration/support/DefaultMessageBuilderFactory
      12: istore_2
      13: aload_0
      14: getfield      #7                  // Field headersToAdd:Ljava/util/Map;
      17: invokeinterface #14,  1           // InterfaceMethod java/util/Map.entrySet:()Ljava/util/Set;
      22: invokeinterface #15,  1           // InterfaceMethod java/util/Set.iterator:()Ljava/util/Iterator;
      27: astore_3
      28: aload_3
      29: invokeinterface #16,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      34: ifeq          190
      37: aload_3
      38: invokeinterface #17,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      43: checkcast     #18                 // class java/util/Map$Entry
      46: astore        4
      48: iload_2
      49: ifeq          124
      52: ldc           #44                 // String id
      54: aload         4
      56: invokeinterface #19,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      61: invokevirtual #45                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      64: ifne          82
      67: ldc           #46                 // String timestamp
      69: aload         4
      71: invokeinterface #19,  1           // InterfaceMethod java/util/Map$Entry.getKey:()Ljava/lang/Object;
      76: invokevirtual #45                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      79: ifeq          124
      82: new           #47                 // class org/springframework/beans/factory/BeanInitializationException
      85: dup
      86: new           #34                 // class java/lang/StringBuilder
      89: dup
      90: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
      93: ldc           #48                 // String HeaderEnricher cannot override \'id\' and \'timestamp\' read-only headers.\nWrong \'headersToAdd\' [
      95: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      98: aload_0
      99: getfield      #7                  // Field headersToAdd:Ljava/util/Map;
     102: invokevirtual #38                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     105: ldc           #49                 // String ] configuration for
     107: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     110: aload_0
     111: invokevirtual #50                 // Method getComponentName:()Ljava/lang/String;
     114: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     117: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     120: invokespecial #51                 // Method org/springframework/beans/factory/BeanInitializationException."<init>":(Ljava/lang/String;)V
     123: athrow
     124: aload         4
     126: invokeinterface #21,  1           // InterfaceMethod java/util/Map$Entry.getValue:()Ljava/lang/Object;
     131: checkcast     #22                 // class org/springframework/integration/transformer/support/HeaderValueMessageProcessor
     134: astore        5
     136: aload         5
     138: instanceof    #52                 // class org/springframework/beans/factory/BeanFactoryAware
     141: ifeq          165
     144: aload_0
     145: invokevirtual #53                 // Method getBeanFactory:()Lorg/springframework/beans/factory/BeanFactory;
     148: ifnull        165
     151: aload         5
     153: checkcast     #52                 // class org/springframework/beans/factory/BeanFactoryAware
     156: aload_0
     157: invokevirtual #53                 // Method getBeanFactory:()Lorg/springframework/beans/factory/BeanFactory;
     160: invokeinterface #54,  2           // InterfaceMethod org/springframework/beans/factory/BeanFactoryAware.setBeanFactory:(Lorg/springframework/beans/factory/BeanFactory;)V
     165: aload         5
     167: invokeinterface #23,  1           // InterfaceMethod org/springframework/integration/transformer/support/HeaderValueMessageProcessor.isOverwrite:()Ljava/lang/Boolean;
     172: astore        6
     174: aload         6
     176: ifnull        187
     179: iload_1
     180: aload         6
     182: invokevirtual #26                 // Method java/lang/Boolean.booleanValue:()Z
     185: ior
     186: istore_1
     187: goto          28
     190: aload_0
     191: getfield      #8                  // Field messageProcessor:Lorg/springframework/integration/handler/MessageProcessor;
     194: ifnull        230
     197: aload_0
     198: getfield      #8                  // Field messageProcessor:Lorg/springframework/integration/handler/MessageProcessor;
     201: instanceof    #52                 // class org/springframework/beans/factory/BeanFactoryAware
     204: ifeq          230
     207: aload_0
     208: invokevirtual #53                 // Method getBeanFactory:()Lorg/springframework/beans/factory/BeanFactory;
     211: ifnull        230
     214: aload_0
     215: getfield      #8                  // Field messageProcessor:Lorg/springframework/integration/handler/MessageProcessor;
     218: checkcast     #52                 // class org/springframework/beans/factory/BeanFactoryAware
     221: aload_0
     222: invokevirtual #53                 // Method getBeanFactory:()Lorg/springframework/beans/factory/BeanFactory;
     225: invokeinterface #54,  2           // InterfaceMethod org/springframework/beans/factory/BeanFactoryAware.setBeanFactory:(Lorg/springframework/beans/factory/BeanFactory;)V
     230: iload_1
     231: ifne          282
     234: aload_0
     235: getfield      #4                  // Field shouldSkipNulls:Z
     238: ifne          282
     241: getstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
     244: invokeinterface #55,  1           // InterfaceMethod org/apache/commons/logging/Log.isWarnEnabled:()Z
     249: ifeq          282
     252: getstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
     255: new           #34                 // class java/lang/StringBuilder
     258: dup
     259: invokespecial #35                 // Method java/lang/StringBuilder."<init>":()V
     262: aload_0
     263: invokevirtual #50                 // Method getComponentName:()Ljava/lang/String;
     266: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     269: ldc           #56                 // String  is configured to not overwrite existing headers. \'shouldSkipNulls = false\' will have no effect
     271: invokevirtual #37                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     274: invokevirtual #39                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     277: invokeinterface #57,  2           // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;)V
     282: return

  public java.lang.Object transform(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #58                 // class org/springframework/messaging/Message
       5: invokevirtual #59                 // Method transform:(Lorg/springframework/messaging/Message;)Lorg/springframework/messaging/Message;
       8: areturn

  static {};
    Code:
       0: ldc           #60                 // class org/springframework/integration/transformer/HeaderEnricher
       2: invokestatic  #61                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #32                 // Field logger:Lorg/apache/commons/logging/Log;
       8: return
}
