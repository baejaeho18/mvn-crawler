Compiled from "ExponentialMovingAverageRatio.java"
public class org.springframework.integration.support.management.ExponentialMovingAverageRatio {
  private volatile double t0;

  private volatile long count;

  private volatile double min;

  private volatile double max;

  private final double lapse;

  private final java.util.Deque<java.lang.Long> times;

  private final java.util.Deque<java.lang.Integer> values;

  private final int retention;

  private final int window;

  private final double factor;

  public org.springframework.integration.support.management.ExponentialMovingAverageRatio(double, int);
    Code:
       0: aload_0
       1: dload_1
       2: iload_3
       3: iconst_0
       4: invokespecial #1                  // Method "<init>":(DIZ)V
       7: return

  public org.springframework.integration.support.management.ExponentialMovingAverageRatio(double, int, boolean);
    Code:
       0: aload_0
       1: invokespecial #2                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: ldc2_w        #4                  // double 1.7976931348623157E308d
       8: putfield      #6                  // Field min:D
      11: aload_0
      12: new           #7                  // class java/util/ArrayDeque
      15: dup
      16: invokespecial #8                  // Method java/util/ArrayDeque."<init>":()V
      19: putfield      #9                  // Field times:Ljava/util/Deque;
      22: aload_0
      23: new           #7                  // class java/util/ArrayDeque
      26: dup
      27: invokespecial #8                  // Method java/util/ArrayDeque."<init>":()V
      30: putfield      #10                 // Field values:Ljava/util/Deque;
      33: aload_0
      34: dload_1
      35: dconst_0
      36: dcmpl
      37: ifle          48
      40: ldc2_w        #11                 // double 0.001d
      43: dload_1
      44: ddiv
      45: goto          49
      48: dconst_0
      49: putfield      #13                 // Field lapse:D
      52: aload_0
      53: iload_3
      54: putfield      #14                 // Field window:I
      57: aload_0
      58: iload_3
      59: iconst_5
      60: imul
      61: putfield      #15                 // Field retention:I
      64: aload_0
      65: iload         4
      67: ifeq          76
      70: ldc2_w        #16                 // double 1000000.0d
      73: goto          77
      76: dconst_1
      77: putfield      #18                 // Field factor:D
      80: aload_0
      81: invokestatic  #19                 // Method java/lang/System.nanoTime:()J
      84: l2d
      85: aload_0
      86: getfield      #18                 // Field factor:D
      89: ddiv
      90: putfield      #20                 // Field t0:D
      93: return

  public void success();
    Code:
       0: aload_0
       1: iconst_1
       2: invokestatic  #19                 // Method java/lang/System.nanoTime:()J
       5: invokespecial #21                 // Method append:(IJ)V
       8: return

  public void success(long);
    Code:
       0: aload_0
       1: iconst_1
       2: lload_1
       3: invokespecial #21                 // Method append:(IJ)V
       6: return

  public void failure();
    Code:
       0: aload_0
       1: iconst_0
       2: invokestatic  #19                 // Method java/lang/System.nanoTime:()J
       5: invokespecial #21                 // Method append:(IJ)V
       8: return

  public void failure(long);
    Code:
       0: aload_0
       1: iconst_0
       2: lload_1
       3: invokespecial #21                 // Method append:(IJ)V
       6: return

  public synchronized void reset();
    Code:
       0: aload_0
       1: invokestatic  #19                 // Method java/lang/System.nanoTime:()J
       4: l2d
       5: aload_0
       6: getfield      #18                 // Field factor:D
       9: ddiv
      10: putfield      #20                 // Field t0:D
      13: aload_0
      14: getfield      #9                  // Field times:Ljava/util/Deque;
      17: invokeinterface #22,  1           // InterfaceMethod java/util/Deque.clear:()V
      22: aload_0
      23: getfield      #10                 // Field values:Ljava/util/Deque;
      26: invokeinterface #22,  1           // InterfaceMethod java/util/Deque.clear:()V
      31: aload_0
      32: lconst_0
      33: putfield      #23                 // Field count:J
      36: aload_0
      37: dconst_0
      38: putfield      #24                 // Field max:D
      41: aload_0
      42: ldc2_w        #4                  // double 1.7976931348623157E308d
      45: putfield      #6                  // Field min:D
      48: return

  private synchronized void append(int, long);
    Code:
       0: aload_0
       1: getfield      #9                  // Field times:Ljava/util/Deque;
       4: invokeinterface #25,  1           // InterfaceMethod java/util/Deque.size:()I
       9: aload_0
      10: getfield      #15                 // Field retention:I
      13: if_icmpne     36
      16: aload_0
      17: getfield      #9                  // Field times:Ljava/util/Deque;
      20: invokeinterface #26,  1           // InterfaceMethod java/util/Deque.poll:()Ljava/lang/Object;
      25: pop
      26: aload_0
      27: getfield      #10                 // Field values:Ljava/util/Deque;
      30: invokeinterface #26,  1           // InterfaceMethod java/util/Deque.poll:()Ljava/lang/Object;
      35: pop
      36: aload_0
      37: getfield      #9                  // Field times:Ljava/util/Deque;
      40: lload_2
      41: invokestatic  #27                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      44: invokeinterface #28,  2           // InterfaceMethod java/util/Deque.add:(Ljava/lang/Object;)Z
      49: pop
      50: aload_0
      51: getfield      #10                 // Field values:Ljava/util/Deque;
      54: iload_1
      55: invokestatic  #29                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      58: invokeinterface #28,  2           // InterfaceMethod java/util/Deque.add:(Ljava/lang/Object;)Z
      63: pop
      64: aload_0
      65: dup
      66: getfield      #23                 // Field count:J
      69: lconst_1
      70: ladd
      71: putfield      #23                 // Field count:J
      74: return

  private org.springframework.integration.support.management.Statistics calcStatic();
    Code:
       0: aload_0
       1: dup
       2: astore        5
       4: monitorenter
       5: new           #30                 // class java/util/ArrayList
       8: dup
       9: aload_0
      10: getfield      #9                  // Field times:Ljava/util/Deque;
      13: invokespecial #31                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      16: astore_1
      17: new           #30                 // class java/util/ArrayList
      20: dup
      21: aload_0
      22: getfield      #10                 // Field values:Ljava/util/Deque;
      25: invokespecial #31                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      28: astore_2
      29: aload_0
      30: getfield      #23                 // Field count:J
      33: lstore_3
      34: aload         5
      36: monitorexit
      37: goto          48
      40: astore        6
      42: aload         5
      44: monitorexit
      45: aload         6
      47: athrow
      48: new           #32                 // class org/springframework/integration/support/management/ExponentialMovingAverage
      51: dup
      52: aload_0
      53: getfield      #14                 // Field window:I
      56: invokespecial #33                 // Method org/springframework/integration/support/management/ExponentialMovingAverage."<init>":(I)V
      59: astore        5
      61: dconst_0
      62: dstore        6
      64: dconst_0
      65: dstore        8
      67: dconst_0
      68: dstore        10
      70: aload_0
      71: getfield      #6                  // Field min:D
      74: dstore        12
      76: aload_0
      77: getfield      #24                 // Field max:D
      80: dstore        14
      82: aload_1
      83: invokeinterface #34,  1           // InterfaceMethod java/util/List.size:()I
      88: istore        16
      90: aload_2
      91: invokeinterface #35,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      96: astore        17
      98: aload_1
      99: invokeinterface #35,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
     104: astore        18
     106: aload         18
     108: invokeinterface #36,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     113: ifeq          269
     116: aload         18
     118: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     123: checkcast     #38                 // class java/lang/Long
     126: astore        19
     128: aload         19
     130: invokevirtual #39                 // Method java/lang/Long.longValue:()J
     133: l2d
     134: aload_0
     135: getfield      #18                 // Field factor:D
     138: ddiv
     139: dstore        20
     141: iload         16
     143: iconst_1
     144: if_icmpne     156
     147: aload_0
     148: getfield      #20                 // Field t0:D
     151: dstore        6
     153: goto          178
     156: dload         6
     158: dconst_0
     159: dcmpl
     160: ifne          178
     163: dload         20
     165: dstore        6
     167: aload         17
     169: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     174: pop
     175: goto          106
     178: dload         6
     180: dload         20
     182: dsub
     183: aload_0
     184: getfield      #13                 // Field lapse:D
     187: dmul
     188: invokestatic  #40                 // Method java/lang/Math.exp:(D)D
     191: dstore        22
     193: dload         20
     195: dstore        6
     197: dload         22
     199: dload         8
     201: dmul
     202: aload         17
     204: invokeinterface #37,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     209: checkcast     #41                 // class java/lang/Integer
     212: invokevirtual #42                 // Method java/lang/Integer.intValue:()I
     215: i2d
     216: dadd
     217: dstore        8
     219: dload         22
     221: dload         10
     223: dmul
     224: dconst_1
     225: dadd
     226: dstore        10
     228: dload         8
     230: dload         10
     232: ddiv
     233: dstore        24
     235: dload         24
     237: dload         14
     239: dcmpl
     240: ifle          247
     243: dload         24
     245: dstore        14
     247: dload         24
     249: dload         12
     251: dcmpg
     252: ifge          259
     255: dload         24
     257: dstore        12
     259: aload         5
     261: dload         24
     263: invokevirtual #43                 // Method org/springframework/integration/support/management/ExponentialMovingAverage.append:(D)V
     266: goto          106
     269: aload_0
     270: dup
     271: astore        18
     273: monitorenter
     274: dload         14
     276: aload_0
     277: getfield      #24                 // Field max:D
     280: dcmpl
     281: ifle          290
     284: aload_0
     285: dload         14
     287: putfield      #24                 // Field max:D
     290: dload         12
     292: aload_0
     293: getfield      #6                  // Field min:D
     296: dcmpg
     297: ifge          306
     300: aload_0
     301: dload         12
     303: putfield      #6                  // Field min:D
     306: aload         18
     308: monitorexit
     309: goto          320
     312: astore        26
     314: aload         18
     316: monitorexit
     317: aload         26
     319: athrow
     320: new           #44                 // class org/springframework/integration/support/management/Statistics
     323: dup
     324: lload_3
     325: dload         12
     327: ldc2_w        #4                  // double 1.7976931348623157E308d
     330: dcmpg
     331: ifge          339
     334: dload         12
     336: goto          340
     339: dconst_0
     340: dload         14
     342: aload         5
     344: invokevirtual #45                 // Method org/springframework/integration/support/management/ExponentialMovingAverage.getMean:()D
     347: aload         5
     349: invokevirtual #46                 // Method org/springframework/integration/support/management/ExponentialMovingAverage.getStandardDeviation:()D
     352: invokespecial #47                 // Method org/springframework/integration/support/management/Statistics."<init>":(JDDDD)V
     355: areturn
    Exception table:
       from    to  target type
           5    37    40   any
          40    45    40   any
         274   309   312   any
         312   317   312   any

  public int getCount();
    Code:
       0: aload_0
       1: getfield      #23                 // Field count:J
       4: l2i
       5: ireturn

  public long getCountLong();
    Code:
       0: aload_0
       1: getfield      #23                 // Field count:J
       4: lreturn

  public double getTimeSinceLastMeasurement();
    Code:
       0: invokestatic  #19                 // Method java/lang/System.nanoTime:()J
       3: l2d
       4: aload_0
       5: invokespecial #48                 // Method lastTime:()D
       8: dsub
       9: dstore_1
      10: dload_1
      11: ldc2_w        #49                 // double 1000.0d
      14: ddiv
      15: aload_0
      16: getfield      #18                 // Field factor:D
      19: ddiv
      20: dreturn

  public double getMean();
    Code:
       0: aload_0
       1: getfield      #23                 // Field count:J
       4: lconst_0
       5: lcmp
       6: ifne          11
       9: dconst_1
      10: dreturn
      11: aload_0
      12: aload_0
      13: invokespecial #51                 // Method calcStatic:()Lorg/springframework/integration/support/management/Statistics;
      16: invokespecial #52                 // Method decayMean:(Lorg/springframework/integration/support/management/Statistics;)D
      19: dreturn

  private double decayMean(org.springframework.integration.support.management.Statistics);
    Code:
       0: invokestatic  #19                 // Method java/lang/System.nanoTime:()J
       3: l2d
       4: aload_0
       5: getfield      #18                 // Field factor:D
       8: ddiv
       9: dstore_2
      10: aload_1
      11: invokevirtual #53                 // Method org/springframework/integration/support/management/Statistics.getMean:()D
      14: dstore        4
      16: aload_0
      17: invokespecial #48                 // Method lastTime:()D
      20: aload_0
      21: getfield      #18                 // Field factor:D
      24: ddiv
      25: dload_2
      26: dsub
      27: aload_0
      28: getfield      #13                 // Field lapse:D
      31: dmul
      32: invokestatic  #40                 // Method java/lang/Math.exp:(D)D
      35: dstore        6
      37: dload         6
      39: dload         4
      41: dmul
      42: dconst_1
      43: dadd
      44: dload         6
      46: dsub
      47: dreturn

  private synchronized double lastTime();
    Code:
       0: aload_0
       1: getfield      #9                  // Field times:Ljava/util/Deque;
       4: invokeinterface #25,  1           // InterfaceMethod java/util/Deque.size:()I
       9: ifle          29
      12: aload_0
      13: getfield      #9                  // Field times:Ljava/util/Deque;
      16: invokeinterface #54,  1           // InterfaceMethod java/util/Deque.peekLast:()Ljava/lang/Object;
      21: checkcast     #38                 // class java/lang/Long
      24: invokevirtual #39                 // Method java/lang/Long.longValue:()J
      27: l2d
      28: dreturn
      29: aload_0
      30: getfield      #20                 // Field t0:D
      33: aload_0
      34: getfield      #18                 // Field factor:D
      37: dmul
      38: dreturn

  public double getStandardDeviation();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method calcStatic:()Lorg/springframework/integration/support/management/Statistics;
       4: invokevirtual #55                 // Method org/springframework/integration/support/management/Statistics.getStandardDeviation:()D
       7: dreturn

  public double getMax();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method calcStatic:()Lorg/springframework/integration/support/management/Statistics;
       4: invokevirtual #56                 // Method org/springframework/integration/support/management/Statistics.getMax:()D
       7: dreturn

  public double getMin();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method calcStatic:()Lorg/springframework/integration/support/management/Statistics;
       4: invokevirtual #57                 // Method org/springframework/integration/support/management/Statistics.getMin:()D
       7: dreturn

  public org.springframework.integration.support.management.Statistics getStatistics();
    Code:
       0: aload_0
       1: invokespecial #51                 // Method calcStatic:()Lorg/springframework/integration/support/management/Statistics;
       4: astore_1
       5: aload_1
       6: aload_0
       7: aload_1
       8: invokespecial #52                 // Method decayMean:(Lorg/springframework/integration/support/management/Statistics;)D
      11: invokevirtual #58                 // Method org/springframework/integration/support/management/Statistics.setMean:(D)V
      14: aload_1
      15: areturn

  public java.lang.String toString();
    Code:
       0: ldc           #59                 // String [%s, timeSinceLast=%f]
       2: iconst_2
       3: anewarray     #60                 // class java/lang/Object
       6: dup
       7: iconst_0
       8: aload_0
       9: invokevirtual #61                 // Method getStatistics:()Lorg/springframework/integration/support/management/Statistics;
      12: aastore
      13: dup
      14: iconst_1
      15: aload_0
      16: invokevirtual #62                 // Method getTimeSinceLastMeasurement:()D
      19: invokestatic  #63                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;
      22: aastore
      23: invokestatic  #64                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
      26: areturn
}
