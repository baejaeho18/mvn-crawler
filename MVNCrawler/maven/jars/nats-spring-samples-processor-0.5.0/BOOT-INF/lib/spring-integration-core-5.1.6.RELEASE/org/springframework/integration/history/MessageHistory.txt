Compiled from "MessageHistory.java"
public final class org.springframework.integration.history.MessageHistory implements java.util.List<java.util.Properties>, java.io.Serializable {
  private static final org.apache.commons.logging.Log logger;

  public static final java.lang.String HEADER_NAME;

  public static final java.lang.String NAME_PROPERTY;

  public static final java.lang.String TYPE_PROPERTY;

  public static final java.lang.String TIMESTAMP_PROPERTY;

  private static final org.springframework.integration.support.MessageBuilderFactory MESSAGE_BUILDER_FACTORY;

  private final java.util.List<java.util.Properties> components;

  public static org.springframework.integration.history.MessageHistory read(org.springframework.messaging.Message<?>);
    Code:
       0: aload_0
       1: ifnull        23
       4: aload_0
       5: invokeinterface #1,  1            // InterfaceMethod org/springframework/messaging/Message.getHeaders:()Lorg/springframework/messaging/MessageHeaders;
      10: ldc           #3                  // String history
      12: ldc           #2                  // class org/springframework/integration/history/MessageHistory
      14: invokevirtual #4                  // Method org/springframework/messaging/MessageHeaders.get:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      17: checkcast     #2                  // class org/springframework/integration/history/MessageHistory
      20: goto          24
      23: aconst_null
      24: areturn

  public static <T> org.springframework.messaging.Message<T> write(org.springframework.messaging.Message<T>, org.springframework.integration.support.context.NamedComponent);
    Code:
       0: aload_0
       1: aload_1
       2: getstatic     #5                  // Field MESSAGE_BUILDER_FACTORY:Lorg/springframework/integration/support/MessageBuilderFactory;
       5: invokestatic  #6                  // Method write:(Lorg/springframework/messaging/Message;Lorg/springframework/integration/support/context/NamedComponent;Lorg/springframework/integration/support/MessageBuilderFactory;)Lorg/springframework/messaging/Message;
       8: areturn

  public static <T> org.springframework.messaging.Message<T> write(org.springframework.messaging.Message<T>, org.springframework.integration.support.context.NamedComponent, org.springframework.integration.support.MessageBuilderFactory);
    Code:
       0: aload_0
       1: astore_3
       2: aload_3
       3: ldc           #7                  // String Message must not be null
       5: invokestatic  #8                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
       8: aload_1
       9: ldc           #9                  // String Component must not be null
      11: invokestatic  #8                  // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      14: aload_1
      15: invokestatic  #10                 // Method extractMetadata:(Lorg/springframework/integration/support/context/NamedComponent;)Ljava/util/Properties;
      18: astore        4
      20: aload         4
      22: invokevirtual #11                 // Method java/util/Properties.isEmpty:()Z
      25: ifne          326
      28: aload_3
      29: invokeinterface #1,  1            // InterfaceMethod org/springframework/messaging/Message.getHeaders:()Lorg/springframework/messaging/MessageHeaders;
      34: ldc           #3                  // String history
      36: ldc           #2                  // class org/springframework/integration/history/MessageHistory
      38: invokevirtual #4                  // Method org/springframework/messaging/MessageHeaders.get:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      41: checkcast     #2                  // class org/springframework/integration/history/MessageHistory
      44: astore        5
      46: aload         5
      48: ifnull        63
      51: new           #12                 // class java/util/ArrayList
      54: dup
      55: aload         5
      57: invokespecial #13                 // Method java/util/ArrayList."<init>":(Ljava/util/Collection;)V
      60: goto          70
      63: new           #12                 // class java/util/ArrayList
      66: dup
      67: invokespecial #14                 // Method java/util/ArrayList."<init>":()V
      70: astore        6
      72: aload         6
      74: aload         4
      76: invokeinterface #15,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      81: pop
      82: new           #2                  // class org/springframework/integration/history/MessageHistory
      85: dup
      86: aload         6
      88: invokespecial #16                 // Method "<init>":(Ljava/util/List;)V
      91: astore        7
      93: aload_3
      94: instanceof    #17                 // class org/springframework/integration/support/MutableMessage
      97: ifeq          117
     100: aload_3
     101: invokeinterface #1,  1            // InterfaceMethod org/springframework/messaging/Message.getHeaders:()Lorg/springframework/messaging/MessageHeaders;
     106: ldc           #3                  // String history
     108: aload         7
     110: invokevirtual #18                 // Method org/springframework/messaging/MessageHeaders.put:(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;
     113: pop
     114: goto          326
     117: aload_3
     118: instanceof    #19                 // class org/springframework/messaging/support/ErrorMessage
     121: ifeq          177
     124: new           #20                 // class org/springframework/integration/IntegrationMessageHeaderAccessor
     127: dup
     128: aload_3
     129: invokespecial #21                 // Method org/springframework/integration/IntegrationMessageHeaderAccessor."<init>":(Lorg/springframework/messaging/Message;)V
     132: astore        8
     134: aload         8
     136: ldc           #3                  // String history
     138: aload         7
     140: invokevirtual #22                 // Method org/springframework/integration/IntegrationMessageHeaderAccessor.setHeader:(Ljava/lang/String;Ljava/lang/Object;)V
     143: aload_3
     144: checkcast     #19                 // class org/springframework/messaging/support/ErrorMessage
     147: invokevirtual #23                 // Method org/springframework/messaging/support/ErrorMessage.getPayload:()Ljava/lang/Object;
     150: checkcast     #24                 // class java/lang/Throwable
     153: astore        9
     155: new           #19                 // class org/springframework/messaging/support/ErrorMessage
     158: dup
     159: aload         9
     161: aload         8
     163: invokevirtual #25                 // Method org/springframework/integration/IntegrationMessageHeaderAccessor.toMessageHeaders:()Lorg/springframework/messaging/MessageHeaders;
     166: invokespecial #26                 // Method org/springframework/messaging/support/ErrorMessage."<init>":(Ljava/lang/Throwable;Lorg/springframework/messaging/MessageHeaders;)V
     169: astore        10
     171: aload         10
     173: astore_3
     174: goto          326
     177: aload_3
     178: instanceof    #27                 // class org/springframework/integration/message/AdviceMessage
     181: ifeq          232
     184: new           #20                 // class org/springframework/integration/IntegrationMessageHeaderAccessor
     187: dup
     188: aload_3
     189: invokespecial #21                 // Method org/springframework/integration/IntegrationMessageHeaderAccessor."<init>":(Lorg/springframework/messaging/Message;)V
     192: astore        8
     194: aload         8
     196: ldc           #3                  // String history
     198: aload         7
     200: invokevirtual #22                 // Method org/springframework/integration/IntegrationMessageHeaderAccessor.setHeader:(Ljava/lang/String;Ljava/lang/Object;)V
     203: new           #27                 // class org/springframework/integration/message/AdviceMessage
     206: dup
     207: aload_3
     208: invokeinterface #28,  1           // InterfaceMethod org/springframework/messaging/Message.getPayload:()Ljava/lang/Object;
     213: aload         8
     215: invokevirtual #25                 // Method org/springframework/integration/IntegrationMessageHeaderAccessor.toMessageHeaders:()Lorg/springframework/messaging/MessageHeaders;
     218: aload_3
     219: checkcast     #27                 // class org/springframework/integration/message/AdviceMessage
     222: invokevirtual #29                 // Method org/springframework/integration/message/AdviceMessage.getInputMessage:()Lorg/springframework/messaging/Message;
     225: invokespecial #30                 // Method org/springframework/integration/message/AdviceMessage."<init>":(Ljava/lang/Object;Lorg/springframework/messaging/MessageHeaders;Lorg/springframework/messaging/Message;)V
     228: astore_3
     229: goto          326
     232: aload_3
     233: instanceof    #31                 // class org/springframework/messaging/support/GenericMessage
     236: ifne          308
     239: aload_2
     240: instanceof    #32                 // class org/springframework/integration/support/DefaultMessageBuilderFactory
     243: ifne          253
     246: aload_2
     247: instanceof    #33                 // class org/springframework/integration/support/MutableMessageBuilderFactory
     250: ifeq          308
     253: getstatic     #34                 // Field logger:Lorg/apache/commons/logging/Log;
     256: invokeinterface #35,  1           // InterfaceMethod org/apache/commons/logging/Log.isWarnEnabled:()Z
     261: ifeq          308
     264: getstatic     #34                 // Field logger:Lorg/apache/commons/logging/Log;
     267: new           #36                 // class java/lang/StringBuilder
     270: dup
     271: invokespecial #37                 // Method java/lang/StringBuilder."<init>":()V
     274: ldc           #38                 // String MessageHistory rebuilds the message and produces the result of the [
     276: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     279: aload_2
     280: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     283: ldc           #41                 // String ], not an instance of the provided type [
     285: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     288: aload_3
     289: invokevirtual #42                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
     292: invokevirtual #40                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     295: ldc           #43                 // String ]. Consider to supply a custom MessageBuilderFactory to retain custom messages during MessageHistory tracking.
     297: invokevirtual #39                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     300: invokevirtual #44                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     303: invokeinterface #45,  2           // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;)V
     308: aload_2
     309: aload_3
     310: invokeinterface #46,  2           // InterfaceMethod org/springframework/integration/support/MessageBuilderFactory.fromMessage:(Lorg/springframework/messaging/Message;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
     315: ldc           #3                  // String history
     317: aload         7
     319: invokevirtual #47                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.setHeader:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/integration/support/AbstractIntegrationMessageBuilder;
     322: invokevirtual #48                 // Method org/springframework/integration/support/AbstractIntegrationMessageBuilder.build:()Lorg/springframework/messaging/Message;
     325: astore_3
     326: aload_3
     327: areturn

  private org.springframework.integration.history.MessageHistory(java.util.List<java.util.Properties>);
    Code:
       0: aload_0
       1: invokespecial #49                 // Method java/lang/Object."<init>":()V
       4: aload_1
       5: ldc           #50                 // String component list must not be empty
       7: invokestatic  #51                 // Method org/springframework/util/Assert.notEmpty:(Ljava/util/Collection;Ljava/lang/String;)V
      10: aload_0
      11: aload_1
      12: putfield      #52                 // Field components:Ljava/util/List;
      15: return

  public int size();
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokeinterface #53,  1           // InterfaceMethod java/util/List.size:()I
       9: ireturn

  public boolean isEmpty();
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokeinterface #54,  1           // InterfaceMethod java/util/List.isEmpty:()Z
       9: ireturn

  public boolean contains(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: aload_1
       5: invokeinterface #55,  2           // InterfaceMethod java/util/List.contains:(Ljava/lang/Object;)Z
      10: ireturn

  public boolean containsAll(java.util.Collection<?>);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: aload_1
       5: invokeinterface #56,  2           // InterfaceMethod java/util/List.containsAll:(Ljava/util/Collection;)Z
      10: ireturn

  public java.util.Properties get(int);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: iload_1
       5: invokeinterface #57,  2           // InterfaceMethod java/util/List.get:(I)Ljava/lang/Object;
      10: checkcast     #58                 // class java/util/Properties
      13: areturn

  public java.util.Iterator<java.util.Properties> iterator();
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokestatic  #59                 // Method java/util/Collections.unmodifiableList:(Ljava/util/List;)Ljava/util/List;
       7: invokeinterface #60,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      12: areturn

  public java.util.ListIterator<java.util.Properties> listIterator();
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokestatic  #59                 // Method java/util/Collections.unmodifiableList:(Ljava/util/List;)Ljava/util/List;
       7: invokeinterface #61,  1           // InterfaceMethod java/util/List.listIterator:()Ljava/util/ListIterator;
      12: areturn

  public java.util.ListIterator<java.util.Properties> listIterator(int);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokestatic  #59                 // Method java/util/Collections.unmodifiableList:(Ljava/util/List;)Ljava/util/List;
       7: iload_1
       8: invokeinterface #62,  2           // InterfaceMethod java/util/List.listIterator:(I)Ljava/util/ListIterator;
      13: areturn

  public java.util.List<java.util.Properties> subList(int, int);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokestatic  #59                 // Method java/util/Collections.unmodifiableList:(Ljava/util/List;)Ljava/util/List;
       7: iload_1
       8: iload_2
       9: invokeinterface #63,  3           // InterfaceMethod java/util/List.subList:(II)Ljava/util/List;
      14: areturn

  public java.lang.Object[] toArray();
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: invokeinterface #64,  1           // InterfaceMethod java/util/List.toArray:()[Ljava/lang/Object;
       9: areturn

  public <T> T[] toArray(T[]);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: aload_1
       5: invokeinterface #65,  2           // InterfaceMethod java/util/List.toArray:([Ljava/lang/Object;)[Ljava/lang/Object;
      10: areturn

  public int indexOf(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: aload_1
       5: invokeinterface #66,  2           // InterfaceMethod java/util/List.indexOf:(Ljava/lang/Object;)I
      10: ireturn

  public int lastIndexOf(java.lang.Object);
    Code:
       0: aload_0
       1: getfield      #52                 // Field components:Ljava/util/List;
       4: aload_1
       5: invokeinterface #67,  2           // InterfaceMethod java/util/List.lastIndexOf:(Ljava/lang/Object;)I
      10: ireturn

  public java.lang.String toString();
    Code:
       0: new           #12                 // class java/util/ArrayList
       3: dup
       4: invokespecial #14                 // Method java/util/ArrayList."<init>":()V
       7: astore_1
       8: aload_0
       9: getfield      #52                 // Field components:Ljava/util/List;
      12: invokeinterface #60,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      17: astore_2
      18: aload_2
      19: invokeinterface #68,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      24: ifeq          62
      27: aload_2
      28: invokeinterface #69,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      33: checkcast     #58                 // class java/util/Properties
      36: astore_3
      37: aload_3
      38: ldc           #70                 // String name
      40: invokevirtual #71                 // Method java/util/Properties.getProperty:(Ljava/lang/String;)Ljava/lang/String;
      43: astore        4
      45: aload         4
      47: ifnull        59
      50: aload_1
      51: aload         4
      53: invokeinterface #15,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
      58: pop
      59: goto          18
      62: aload_1
      63: invokestatic  #72                 // Method org/springframework/util/StringUtils.collectionToCommaDelimitedString:(Ljava/util/Collection;)Ljava/lang/String;
      66: areturn

  public boolean add(java.util.Properties);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public void add(int, java.util.Properties);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public boolean addAll(java.util.Collection<? extends java.util.Properties>);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public boolean addAll(int, java.util.Collection<? extends java.util.Properties>);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public java.util.Properties set(int, java.util.Properties);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public java.util.Properties remove(int);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public boolean remove(java.lang.Object);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public boolean removeAll(java.util.Collection<?>);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public boolean retainAll(java.util.Collection<?>);
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  public void clear();
    Code:
       0: new           #73                 // class java/lang/UnsupportedOperationException
       3: dup
       4: ldc           #74                 // String MessageHistory is immutable.
       6: invokespecial #75                 // Method java/lang/UnsupportedOperationException."<init>":(Ljava/lang/String;)V
       9: athrow

  private static java.util.Properties extractMetadata(org.springframework.integration.support.context.NamedComponent);
    Code:
       0: new           #76                 // class org/springframework/integration/history/MessageHistory$Entry
       3: dup
       4: invokespecial #77                 // Method org/springframework/integration/history/MessageHistory$Entry."<init>":()V
       7: astore_1
       8: aload_0
       9: invokeinterface #78,  1           // InterfaceMethod org/springframework/integration/support/context/NamedComponent.getComponentName:()Ljava/lang/String;
      14: astore_2
      15: aload_0
      16: invokeinterface #79,  1           // InterfaceMethod org/springframework/integration/support/context/NamedComponent.getComponentType:()Ljava/lang/String;
      21: astore_3
      22: aload_2
      23: ifnull        49
      26: aload_2
      27: ldc           #80                 // String org.springframework.integration
      29: invokevirtual #81                 // Method java/lang/String.startsWith:(Ljava/lang/String;)Z
      32: ifne          49
      35: aload_1
      36: aload_2
      37: invokestatic  #82                 // Method org/springframework/integration/history/MessageHistory$Entry.access$000:(Lorg/springframework/integration/history/MessageHistory$Entry;Ljava/lang/String;)V
      40: aload_3
      41: ifnull        49
      44: aload_1
      45: aload_3
      46: invokestatic  #83                 // Method org/springframework/integration/history/MessageHistory$Entry.access$100:(Lorg/springframework/integration/history/MessageHistory$Entry;Ljava/lang/String;)V
      49: aload_1
      50: invokevirtual #84                 // Method org/springframework/integration/history/MessageHistory$Entry.isEmpty:()Z
      53: ifne          66
      56: aload_1
      57: invokestatic  #85                 // Method java/lang/System.currentTimeMillis:()J
      60: invokestatic  #86                 // Method java/lang/Long.toString:(J)Ljava/lang/String;
      63: invokestatic  #87                 // Method org/springframework/integration/history/MessageHistory$Entry.access$200:(Lorg/springframework/integration/history/MessageHistory$Entry;Ljava/lang/String;)V
      66: aload_1
      67: areturn

  public java.lang.Object remove(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokevirtual #88                 // Method remove:(I)Ljava/util/Properties;
       5: areturn

  public void add(int, java.lang.Object);
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: checkcast     #58                 // class java/util/Properties
       6: invokevirtual #89                 // Method add:(ILjava/util/Properties;)V
       9: return

  public java.lang.Object set(int, java.lang.Object);
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: checkcast     #58                 // class java/util/Properties
       6: invokevirtual #90                 // Method set:(ILjava/util/Properties;)Ljava/util/Properties;
       9: areturn

  public java.lang.Object get(int);
    Code:
       0: aload_0
       1: iload_1
       2: invokevirtual #91                 // Method get:(I)Ljava/util/Properties;
       5: areturn

  public boolean add(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #58                 // class java/util/Properties
       5: invokevirtual #92                 // Method add:(Ljava/util/Properties;)Z
       8: ireturn

  static {};
    Code:
       0: ldc           #2                  // class org/springframework/integration/history/MessageHistory
       2: invokestatic  #93                 // Method org/apache/commons/logging/LogFactory.getLog:(Ljava/lang/Class;)Lorg/apache/commons/logging/Log;
       5: putstatic     #34                 // Field logger:Lorg/apache/commons/logging/Log;
       8: new           #32                 // class org/springframework/integration/support/DefaultMessageBuilderFactory
      11: dup
      12: invokespecial #94                 // Method org/springframework/integration/support/DefaultMessageBuilderFactory."<init>":()V
      15: putstatic     #5                  // Field MESSAGE_BUILDER_FACTORY:Lorg/springframework/integration/support/MessageBuilderFactory;
      18: return
}
