Compiled from "PartitionHandler.java"
public class org.springframework.cloud.stream.binder.PartitionHandler {
  private final org.springframework.expression.EvaluationContext evaluationContext;

  private final org.springframework.cloud.stream.binder.ProducerProperties producerProperties;

  private final org.springframework.cloud.stream.binder.PartitionKeyExtractorStrategy partitionKeyExtractorStrategy;

  private final org.springframework.cloud.stream.binder.PartitionSelectorStrategy partitionSelectorStrategy;

  private volatile int partitionCount;

  public org.springframework.cloud.stream.binder.PartitionHandler(org.springframework.expression.EvaluationContext, org.springframework.cloud.stream.binder.ProducerProperties, org.springframework.cloud.stream.binder.PartitionKeyExtractorStrategy, org.springframework.cloud.stream.binder.PartitionSelectorStrategy);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
       9: aload_0
      10: aload_2
      11: putfield      #3                  // Field producerProperties:Lorg/springframework/cloud/stream/binder/ProducerProperties;
      14: aload_0
      15: aload_3
      16: putfield      #4                  // Field partitionKeyExtractorStrategy:Lorg/springframework/cloud/stream/binder/PartitionKeyExtractorStrategy;
      19: aload_0
      20: aload         4
      22: putfield      #5                  // Field partitionSelectorStrategy:Lorg/springframework/cloud/stream/binder/PartitionSelectorStrategy;
      25: aload_0
      26: aload_0
      27: getfield      #3                  // Field producerProperties:Lorg/springframework/cloud/stream/binder/ProducerProperties;
      30: invokevirtual #6                  // Method org/springframework/cloud/stream/binder/ProducerProperties.getPartitionCount:()I
      33: putfield      #7                  // Field partitionCount:I
      36: return

  public void setPartitionCount(int);
    Code:
       0: aload_0
       1: iload_1
       2: putfield      #7                  // Field partitionCount:I
       5: return

  public int determinePartition(org.springframework.messaging.Message<?>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #8                  // Method extractKey:(Lorg/springframework/messaging/Message;)Ljava/lang/Object;
       5: astore_2
       6: aload_0
       7: getfield      #3                  // Field producerProperties:Lorg/springframework/cloud/stream/binder/ProducerProperties;
      10: invokevirtual #9                  // Method org/springframework/cloud/stream/binder/ProducerProperties.getPartitionSelectorExpression:()Lorg/springframework/expression/Expression;
      13: ifnull        45
      16: aload_0
      17: getfield      #3                  // Field producerProperties:Lorg/springframework/cloud/stream/binder/ProducerProperties;
      20: invokevirtual #9                  // Method org/springframework/cloud/stream/binder/ProducerProperties.getPartitionSelectorExpression:()Lorg/springframework/expression/Expression;
      23: aload_0
      24: getfield      #2                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
      27: aload_2
      28: ldc           #10                 // class java/lang/Integer
      30: invokeinterface #11,  4           // InterfaceMethod org/springframework/expression/Expression.getValue:(Lorg/springframework/expression/EvaluationContext;Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
      35: checkcast     #10                 // class java/lang/Integer
      38: invokevirtual #12                 // Method java/lang/Integer.intValue:()I
      41: istore_3
      42: goto          60
      45: aload_0
      46: getfield      #5                  // Field partitionSelectorStrategy:Lorg/springframework/cloud/stream/binder/PartitionSelectorStrategy;
      49: aload_2
      50: aload_0
      51: getfield      #7                  // Field partitionCount:I
      54: invokeinterface #13,  3           // InterfaceMethod org/springframework/cloud/stream/binder/PartitionSelectorStrategy.selectPartition:(Ljava/lang/Object;I)I
      59: istore_3
      60: iload_3
      61: aload_0
      62: getfield      #7                  // Field partitionCount:I
      65: irem
      66: invokestatic  #14                 // Method java/lang/Math.abs:(I)I
      69: ireturn

  private java.lang.Object extractKey(org.springframework.messaging.Message<?>);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #15                 // Method invokeKeyExtractor:(Lorg/springframework/messaging/Message;)Ljava/lang/Object;
       5: astore_2
       6: aload_2
       7: ifnonnull     38
      10: aload_0
      11: getfield      #3                  // Field producerProperties:Lorg/springframework/cloud/stream/binder/ProducerProperties;
      14: invokevirtual #16                 // Method org/springframework/cloud/stream/binder/ProducerProperties.getPartitionKeyExpression:()Lorg/springframework/expression/Expression;
      17: ifnull        38
      20: aload_0
      21: getfield      #3                  // Field producerProperties:Lorg/springframework/cloud/stream/binder/ProducerProperties;
      24: invokevirtual #16                 // Method org/springframework/cloud/stream/binder/ProducerProperties.getPartitionKeyExpression:()Lorg/springframework/expression/Expression;
      27: aload_0
      28: getfield      #2                  // Field evaluationContext:Lorg/springframework/expression/EvaluationContext;
      31: aload_1
      32: invokeinterface #17,  3           // InterfaceMethod org/springframework/expression/Expression.getValue:(Lorg/springframework/expression/EvaluationContext;Ljava/lang/Object;)Ljava/lang/Object;
      37: astore_2
      38: aload_2
      39: ldc           #18                 // String Partition key cannot be null
      41: invokestatic  #19                 // Method org/springframework/util/Assert.notNull:(Ljava/lang/Object;Ljava/lang/String;)V
      44: aload_2
      45: areturn

  private java.lang.Object invokeKeyExtractor(org.springframework.messaging.Message<?>);
    Code:
       0: aload_0
       1: getfield      #4                  // Field partitionKeyExtractorStrategy:Lorg/springframework/cloud/stream/binder/PartitionKeyExtractorStrategy;
       4: ifnull        18
       7: aload_0
       8: getfield      #4                  // Field partitionKeyExtractorStrategy:Lorg/springframework/cloud/stream/binder/PartitionKeyExtractorStrategy;
      11: aload_1
      12: invokeinterface #20,  2           // InterfaceMethod org/springframework/cloud/stream/binder/PartitionKeyExtractorStrategy.extractKey:(Lorg/springframework/messaging/Message;)Ljava/lang/Object;
      17: areturn
      18: aconst_null
      19: areturn
}
