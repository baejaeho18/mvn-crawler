Compiled from "NatsSubscription.java"
class io.nats.client.impl.NatsSubscription extends io.nats.client.impl.NatsConsumer implements io.nats.client.Subscription {
  private java.lang.String subject;

  private java.lang.String queueName;

  private java.lang.String sid;

  private io.nats.client.impl.NatsDispatcher dispatcher;

  private io.nats.client.impl.MessageQueue incoming;

  private java.util.concurrent.atomic.AtomicLong unSubMessageLimit;

  io.nats.client.impl.NatsSubscription(java.lang.String, java.lang.String, java.lang.String, io.nats.client.impl.NatsConnection, io.nats.client.impl.NatsDispatcher);
    Code:
       0: aload_0
       1: aload         4
       3: invokespecial #1                  // Method io/nats/client/impl/NatsConsumer."<init>":(Lio/nats/client/impl/NatsConnection;)V
       6: aload_0
       7: aload_2
       8: putfield      #2                  // Field subject:Ljava/lang/String;
      11: aload_0
      12: aload_3
      13: putfield      #3                  // Field queueName:Ljava/lang/String;
      16: aload_0
      17: aload_1
      18: putfield      #4                  // Field sid:Ljava/lang/String;
      21: aload_0
      22: aload         5
      24: putfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
      27: aload_0
      28: new           #6                  // class java/util/concurrent/atomic/AtomicLong
      31: dup
      32: ldc2_w        #7                  // long -1l
      35: invokespecial #9                  // Method java/util/concurrent/atomic/AtomicLong."<init>":(J)V
      38: putfield      #10                 // Field unSubMessageLimit:Ljava/util/concurrent/atomic/AtomicLong;
      41: aload_0
      42: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
      45: ifnonnull     60
      48: aload_0
      49: new           #11                 // class io/nats/client/impl/MessageQueue
      52: dup
      53: iconst_0
      54: invokespecial #12                 // Method io/nats/client/impl/MessageQueue."<init>":(Z)V
      57: putfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      60: return

  public boolean isActive();
    Code:
       0: aload_0
       1: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
       4: ifnonnull     14
       7: aload_0
       8: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      11: ifnull        18
      14: iconst_1
      15: goto          19
      18: iconst_0
      19: ireturn

  void invalidate();
    Code:
       0: aload_0
       1: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
       4: ifnull        14
       7: aload_0
       8: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      11: invokevirtual #14                 // Method io/nats/client/impl/MessageQueue.pause:()V
      14: aload_0
      15: aconst_null
      16: putfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
      19: aload_0
      20: aconst_null
      21: putfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      24: return

  void setUnsubLimit(long);
    Code:
       0: aload_0
       1: getfield      #10                 // Field unSubMessageLimit:Ljava/util/concurrent/atomic/AtomicLong;
       4: lload_1
       5: invokevirtual #15                 // Method java/util/concurrent/atomic/AtomicLong.set:(J)V
       8: return

  boolean reachedUnsubLimit();
    Code:
       0: aload_0
       1: getfield      #10                 // Field unSubMessageLimit:Ljava/util/concurrent/atomic/AtomicLong;
       4: invokevirtual #16                 // Method java/util/concurrent/atomic/AtomicLong.get:()J
       7: lstore_1
       8: aload_0
       9: invokevirtual #17                 // Method getDeliveredCount:()J
      12: lstore_3
      13: lload_1
      14: lconst_0
      15: lcmp
      16: ifle          29
      19: lload_1
      20: lload_3
      21: lcmp
      22: ifgt          29
      25: iconst_1
      26: goto          30
      29: iconst_0
      30: ireturn

  java.lang.String getSID();
    Code:
       0: aload_0
       1: getfield      #4                  // Field sid:Ljava/lang/String;
       4: areturn

  io.nats.client.impl.NatsDispatcher getNatsDispatcher();
    Code:
       0: aload_0
       1: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
       4: areturn

  io.nats.client.impl.MessageQueue getMessageQueue();
    Code:
       0: aload_0
       1: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
       4: areturn

  public io.nats.client.Dispatcher getDispatcher();
    Code:
       0: aload_0
       1: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
       4: areturn

  public java.lang.String getSubject();
    Code:
       0: aload_0
       1: getfield      #2                  // Field subject:Ljava/lang/String;
       4: areturn

  public java.lang.String getQueueName();
    Code:
       0: aload_0
       1: getfield      #3                  // Field queueName:Ljava/lang/String;
       4: areturn

  public io.nats.client.Message nextMessage(java.time.Duration) throws java.lang.InterruptedException, java.lang.IllegalStateException;
    Code:
       0: aload_0
       1: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
       4: ifnull        17
       7: new           #18                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #19                 // String Subscriptions that belong to a dispatcher cannot respond to nextMessage directly.
      13: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      21: ifnonnull     34
      24: new           #18                 // class java/lang/IllegalStateException
      27: dup
      28: ldc           #21                 // String This subscription is inactive.
      30: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      33: athrow
      34: aload_0
      35: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      38: aload_1
      39: invokevirtual #22                 // Method io/nats/client/impl/MessageQueue.pop:(Ljava/time/Duration;)Lio/nats/client/impl/NatsMessage;
      42: astore_2
      43: aload_0
      44: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      47: ifnull        60
      50: aload_0
      51: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      54: invokevirtual #23                 // Method io/nats/client/impl/MessageQueue.isRunning:()Z
      57: ifne          70
      60: new           #18                 // class java/lang/IllegalStateException
      63: dup
      64: ldc           #24                 // String This subscription became inactive.
      66: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      69: athrow
      70: aload_0
      71: invokevirtual #25                 // Method incrementDeliveredCount:()V
      74: aload_0
      75: invokevirtual #26                 // Method reachedUnsubLimit:()Z
      78: ifeq          89
      81: aload_0
      82: getfield      #27                 // Field connection:Lio/nats/client/impl/NatsConnection;
      85: aload_0
      86: invokevirtual #28                 // Method io/nats/client/impl/NatsConnection.invalidate:(Lio/nats/client/impl/NatsSubscription;)V
      89: aload_2
      90: areturn

  public void unsubscribe();
    Code:
       0: aload_0
       1: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
       4: ifnull        17
       7: new           #18                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #29                 // String Subscriptions that belong to a dispatcher cannot respond to unsubscribe directly.
      13: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      21: ifnonnull     34
      24: new           #18                 // class java/lang/IllegalStateException
      27: dup
      28: ldc           #21                 // String This subscription is inactive.
      30: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      33: athrow
      34: aload_0
      35: invokevirtual #30                 // Method isDraining:()Z
      38: ifeq          42
      41: return
      42: aload_0
      43: getfield      #27                 // Field connection:Lio/nats/client/impl/NatsConnection;
      46: aload_0
      47: iconst_m1
      48: invokevirtual #31                 // Method io/nats/client/impl/NatsConnection.unsubscribe:(Lio/nats/client/impl/NatsSubscription;I)V
      51: return

  public io.nats.client.Subscription unsubscribe(int);
    Code:
       0: aload_0
       1: getfield      #5                  // Field dispatcher:Lio/nats/client/impl/NatsDispatcher;
       4: ifnull        17
       7: new           #18                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #29                 // String Subscriptions that belong to a dispatcher cannot respond to unsubscribe directly.
      13: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: getfield      #13                 // Field incoming:Lio/nats/client/impl/MessageQueue;
      21: ifnonnull     34
      24: new           #18                 // class java/lang/IllegalStateException
      27: dup
      28: ldc           #21                 // String This subscription is inactive.
      30: invokespecial #20                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      33: athrow
      34: aload_0
      35: invokevirtual #30                 // Method isDraining:()Z
      38: ifeq          43
      41: aload_0
      42: areturn
      43: aload_0
      44: getfield      #27                 // Field connection:Lio/nats/client/impl/NatsConnection;
      47: aload_0
      48: iload_1
      49: invokevirtual #31                 // Method io/nats/client/impl/NatsConnection.unsubscribe:(Lio/nats/client/impl/NatsSubscription;I)V
      52: aload_0
      53: areturn

  void sendUnsubForDrain();
    Code:
       0: aload_0
       1: getfield      #27                 // Field connection:Lio/nats/client/impl/NatsConnection;
       4: aload_0
       5: iconst_m1
       6: invokevirtual #32                 // Method io/nats/client/impl/NatsConnection.sendUnsub:(Lio/nats/client/impl/NatsSubscription;I)V
       9: return

  void cleanUpAfterDrain();
    Code:
       0: aload_0
       1: getfield      #27                 // Field connection:Lio/nats/client/impl/NatsConnection;
       4: aload_0
       5: invokevirtual #28                 // Method io/nats/client/impl/NatsConnection.invalidate:(Lio/nats/client/impl/NatsSubscription;)V
       8: return
}
