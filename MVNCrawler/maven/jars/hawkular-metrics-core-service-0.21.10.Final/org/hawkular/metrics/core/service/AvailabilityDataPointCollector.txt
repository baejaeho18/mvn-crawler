Compiled from "AvailabilityDataPointCollector.java"
final class org.hawkular.metrics.core.service.AvailabilityDataPointCollector {
  private final org.hawkular.metrics.model.Buckets buckets;

  private final long bucketStart;

  private org.hawkular.metrics.model.DataPoint<org.hawkular.metrics.model.AvailabilityType> previous;

  private java.util.Map<org.hawkular.metrics.model.AvailabilityType, java.lang.Long> durationMap;

  private long lastNotUptime;

  private long notUpCount;

  org.hawkular.metrics.core.service.AvailabilityDataPointCollector(org.hawkular.metrics.model.Buckets, int);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #2                  // Field buckets:Lorg/hawkular/metrics/model/Buckets;
       9: aload_0
      10: aload_1
      11: iload_2
      12: invokevirtual #3                  // Method org/hawkular/metrics/model/Buckets.getBucketStart:(I)J
      15: putfield      #4                  // Field bucketStart:J
      18: aload_0
      19: new           #5                  // class java/util/HashMap
      22: dup
      23: invokespecial #6                  // Method java/util/HashMap."<init>":()V
      26: putfield      #7                  // Field durationMap:Ljava/util/Map;
      29: return

  void increment(org.hawkular.metrics.model.DataPoint<org.hawkular.metrics.model.AvailabilityType>);
    Code:
       0: aload_1
       1: invokevirtual #8                  // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
       4: lstore_2
       5: aload_1
       6: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
       9: checkcast     #10                 // class org/hawkular/metrics/model/AvailabilityType
      12: astore        4
      14: aload_0
      15: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      18: ifnull        43
      21: lload_2
      22: aload_0
      23: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      26: invokevirtual #8                  // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
      29: lcmp
      30: ifgt          43
      33: new           #12                 // class java/lang/IllegalStateException
      36: dup
      37: ldc           #13                 // String Expected stream sorted in time ascending order
      39: invokespecial #14                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      42: athrow
      43: aload_0
      44: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      47: ifnonnull     127
      50: aload_0
      51: getfield      #7                  // Field durationMap:Ljava/util/Map;
      54: aload         4
      56: lconst_0
      57: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      60: invokeinterface #16,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      65: checkcast     #17                 // class java/lang/Long
      68: astore        5
      70: aload         5
      72: invokevirtual #18                 // Method java/lang/Long.longValue:()J
      75: lload_2
      76: aload_0
      77: getfield      #4                  // Field bucketStart:J
      80: lsub
      81: ladd
      82: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      85: astore        5
      87: aload_0
      88: getfield      #7                  // Field durationMap:Ljava/util/Map;
      91: aload         4
      93: aload         5
      95: invokeinterface #19,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     100: pop
     101: aload         4
     103: getstatic     #20                 // Field org/hawkular/metrics/model/AvailabilityType.UP:Lorg/hawkular/metrics/model/AvailabilityType;
     106: if_acmpeq     124
     109: aload_0
     110: lload_2
     111: putfield      #21                 // Field lastNotUptime:J
     114: aload_0
     115: dup
     116: getfield      #22                 // Field notUpCount:J
     119: lconst_1
     120: ladd
     121: putfield      #22                 // Field notUpCount:J
     124: goto          248
     127: aload_0
     128: getfield      #7                  // Field durationMap:Ljava/util/Map;
     131: aload_0
     132: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
     135: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
     138: lconst_0
     139: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     142: invokeinterface #16,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     147: checkcast     #17                 // class java/lang/Long
     150: astore        5
     152: aload         5
     154: invokevirtual #18                 // Method java/lang/Long.longValue:()J
     157: lload_2
     158: aload_0
     159: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
     162: invokevirtual #8                  // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
     165: lsub
     166: ladd
     167: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     170: astore        5
     172: aload_0
     173: getfield      #7                  // Field durationMap:Ljava/util/Map;
     176: aload_0
     177: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
     180: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
     183: aload         5
     185: invokeinterface #19,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     190: pop
     191: aload         4
     193: getstatic     #20                 // Field org/hawkular/metrics/model/AvailabilityType.UP:Lorg/hawkular/metrics/model/AvailabilityType;
     196: if_acmpne     220
     199: aload_0
     200: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
     203: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
     206: getstatic     #20                 // Field org/hawkular/metrics/model/AvailabilityType.UP:Lorg/hawkular/metrics/model/AvailabilityType;
     209: if_acmpeq     248
     212: aload_0
     213: lload_2
     214: putfield      #21                 // Field lastNotUptime:J
     217: goto          248
     220: aload_0
     221: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
     224: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
     227: getstatic     #20                 // Field org/hawkular/metrics/model/AvailabilityType.UP:Lorg/hawkular/metrics/model/AvailabilityType;
     230: if_acmpne     243
     233: aload_0
     234: dup
     235: getfield      #22                 // Field notUpCount:J
     238: lconst_1
     239: ladd
     240: putfield      #22                 // Field notUpCount:J
     243: aload_0
     244: lload_2
     245: putfield      #21                 // Field lastNotUptime:J
     248: aload_0
     249: aload_1
     250: putfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
     253: return

  org.hawkular.metrics.model.AvailabilityBucketPoint toBucketPoint();
    Code:
       0: aload_0
       1: getfield      #4                  // Field bucketStart:J
       4: aload_0
       5: getfield      #2                  // Field buckets:Lorg/hawkular/metrics/model/Buckets;
       8: invokevirtual #23                 // Method org/hawkular/metrics/model/Buckets.getStep:()J
      11: ladd
      12: lstore_1
      13: aload_0
      14: getfield      #7                  // Field durationMap:Ljava/util/Map;
      17: aload_0
      18: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      21: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
      24: lconst_0
      25: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      28: invokeinterface #16,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      33: checkcast     #17                 // class java/lang/Long
      36: astore_3
      37: aload_3
      38: invokevirtual #18                 // Method java/lang/Long.longValue:()J
      41: lload_1
      42: aload_0
      43: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      46: invokevirtual #8                  // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
      49: lsub
      50: ladd
      51: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      54: astore_3
      55: aload_0
      56: getfield      #7                  // Field durationMap:Ljava/util/Map;
      59: aload_0
      60: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      63: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
      66: aload_3
      67: invokeinterface #19,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      72: pop
      73: aload_0
      74: getfield      #11                 // Field previous:Lorg/hawkular/metrics/model/DataPoint;
      77: invokevirtual #9                  // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
      80: getstatic     #20                 // Field org/hawkular/metrics/model/AvailabilityType.UP:Lorg/hawkular/metrics/model/AvailabilityType;
      83: if_acmpeq     91
      86: aload_0
      87: lload_1
      88: putfield      #21                 // Field lastNotUptime:J
      91: new           #24                 // class org/hawkular/metrics/model/AvailabilityBucketPoint$Builder
      94: dup
      95: aload_0
      96: getfield      #4                  // Field bucketStart:J
      99: lload_1
     100: invokespecial #25                 // Method org/hawkular/metrics/model/AvailabilityBucketPoint$Builder."<init>":(JJ)V
     103: aload_0
     104: getfield      #7                  // Field durationMap:Ljava/util/Map;
     107: invokevirtual #26                 // Method org/hawkular/metrics/model/AvailabilityBucketPoint$Builder.setDurationMap:(Ljava/util/Map;)Lorg/hawkular/metrics/model/AvailabilityBucketPoint$Builder;
     110: aload_0
     111: getfield      #21                 // Field lastNotUptime:J
     114: invokevirtual #27                 // Method org/hawkular/metrics/model/AvailabilityBucketPoint$Builder.setLastNotUptime:(J)Lorg/hawkular/metrics/model/AvailabilityBucketPoint$Builder;
     117: aload_0
     118: getfield      #7                  // Field durationMap:Ljava/util/Map;
     121: getstatic     #20                 // Field org/hawkular/metrics/model/AvailabilityType.UP:Lorg/hawkular/metrics/model/AvailabilityType;
     124: lconst_0
     125: invokestatic  #15                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
     128: invokeinterface #16,  3           // InterfaceMethod java/util/Map.getOrDefault:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     133: checkcast     #17                 // class java/lang/Long
     136: invokevirtual #18                 // Method java/lang/Long.longValue:()J
     139: l2d
     140: aload_0
     141: getfield      #2                  // Field buckets:Lorg/hawkular/metrics/model/Buckets;
     144: invokevirtual #23                 // Method org/hawkular/metrics/model/Buckets.getStep:()J
     147: l2d
     148: ddiv
     149: invokevirtual #28                 // Method org/hawkular/metrics/model/AvailabilityBucketPoint$Builder.setUptimeRatio:(D)Lorg/hawkular/metrics/model/AvailabilityBucketPoint$Builder;
     152: aload_0
     153: getfield      #22                 // Field notUpCount:J
     156: invokevirtual #29                 // Method org/hawkular/metrics/model/AvailabilityBucketPoint$Builder.setNotUptimeCount:(J)Lorg/hawkular/metrics/model/AvailabilityBucketPoint$Builder;
     159: invokevirtual #30                 // Method org/hawkular/metrics/model/AvailabilityBucketPoint$Builder.build:()Lorg/hawkular/metrics/model/AvailabilityBucketPoint;
     162: areturn
}
