Compiled from "DataPointCompressTransformer.java"
public class org.hawkular.metrics.core.service.transformers.DataPointCompressTransformer<T> implements rx.Observable$Transformer<org.hawkular.metrics.model.DataPoint<T>, org.hawkular.metrics.core.service.compress.CompressedPointContainer> {
  private fi.iki.yak.ts.compression.gorilla.ByteBufferBitOutput out;

  private long sliceTimestamp;

  private org.hawkular.metrics.model.MetricType<T> metricType;

  private fi.iki.yak.ts.compression.gorilla.Compressor compressor;

  private org.hawkular.metrics.core.service.compress.TagsSerializer tagsSerializer;

  public org.hawkular.metrics.core.service.transformers.DataPointCompressTransformer(org.hawkular.metrics.model.MetricType<T>, long);
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #2                  // class fi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput
       8: dup
       9: invokespecial #3                  // Method fi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput."<init>":()V
      12: putfield      #4                  // Field out:Lfi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput;
      15: aload_0
      16: aload_1
      17: putfield      #5                  // Field metricType:Lorg/hawkular/metrics/model/MetricType;
      20: getstatic     #6                  // Field org/hawkular/metrics/core/service/compress/CompressorHeader$Compressor.GORILLA:Lorg/hawkular/metrics/core/service/compress/CompressorHeader$Compressor;
      23: ldc           #7                  // class org/hawkular/metrics/core/service/compress/CompressorHeader$GorillaSettings
      25: invokestatic  #8                  // Method java/util/EnumSet.noneOf:(Ljava/lang/Class;)Ljava/util/EnumSet;
      28: invokestatic  #9                  // Method org/hawkular/metrics/core/service/compress/CompressorHeader.getHeader:(Lorg/hawkular/metrics/core/service/compress/CompressorHeader$Compressor;Ljava/util/EnumSet;)B
      31: istore        4
      33: aload_0
      34: getfield      #4                  // Field out:Lfi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput;
      37: invokevirtual #10                 // Method fi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput.getByteBuffer:()Ljava/nio/ByteBuffer;
      40: iload         4
      42: invokevirtual #11                 // Method java/nio/ByteBuffer.put:(B)Ljava/nio/ByteBuffer;
      45: pop
      46: aload_0
      47: lload_2
      48: putfield      #12                 // Field sliceTimestamp:J
      51: aload_0
      52: new           #13                 // class fi/iki/yak/ts/compression/gorilla/Compressor
      55: dup
      56: lload_2
      57: aload_0
      58: getfield      #4                  // Field out:Lfi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput;
      61: invokespecial #14                 // Method fi/iki/yak/ts/compression/gorilla/Compressor."<init>":(JLfi/iki/yak/ts/compression/gorilla/BitOutput;)V
      64: putfield      #15                 // Field compressor:Lfi/iki/yak/ts/compression/gorilla/Compressor;
      67: aload_0
      68: new           #16                 // class org/hawkular/metrics/core/service/compress/TagsSerializer
      71: dup
      72: lload_2
      73: invokespecial #17                 // Method org/hawkular/metrics/core/service/compress/TagsSerializer."<init>":(J)V
      76: putfield      #18                 // Field tagsSerializer:Lorg/hawkular/metrics/core/service/compress/TagsSerializer;
      79: return

  public rx.Observable<org.hawkular.metrics.core.service.compress.CompressedPointContainer> call(rx.Observable<org.hawkular.metrics.model.DataPoint<T>>);
    Code:
       0: aload_1
       1: invokedynamic #19,  0             // InvokeDynamic #0:call:()Lrx/functions/Func0;
       6: aload_0
       7: invokedynamic #20,  0             // InvokeDynamic #1:call:(Lorg/hawkular/metrics/core/service/transformers/DataPointCompressTransformer;)Lrx/functions/Action2;
      12: invokevirtual #21                 // Method rx/Observable.collect:(Lrx/functions/Func0;Lrx/functions/Action2;)Lrx/Observable;
      15: aload_0
      16: invokedynamic #22,  0             // InvokeDynamic #2:call:(Lorg/hawkular/metrics/core/service/transformers/DataPointCompressTransformer;)Lrx/functions/Action1;
      21: invokevirtual #23                 // Method rx/Observable.doOnNext:(Lrx/functions/Action1;)Lrx/Observable;
      24: areturn

  public java.lang.Object call(java.lang.Object);
    Code:
       0: aload_0
       1: aload_1
       2: checkcast     #24                 // class rx/Observable
       5: invokevirtual #25                 // Method call:(Lrx/Observable;)Lrx/Observable;
       8: areturn

  private void lambda$call$1(org.hawkular.metrics.core.service.compress.CompressedPointContainer);
    Code:
       0: aload_0
       1: getfield      #15                 // Field compressor:Lfi/iki/yak/ts/compression/gorilla/Compressor;
       4: invokevirtual #26                 // Method fi/iki/yak/ts/compression/gorilla/Compressor.close:()V
       7: aload_0
       8: getfield      #4                  // Field out:Lfi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput;
      11: invokevirtual #10                 // Method fi/iki/yak/ts/compression/gorilla/ByteBufferBitOutput.getByteBuffer:()Ljava/nio/ByteBuffer;
      14: invokevirtual #27                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
      17: checkcast     #28                 // class java/nio/ByteBuffer
      20: astore_2
      21: aload_0
      22: getfield      #18                 // Field tagsSerializer:Lorg/hawkular/metrics/core/service/compress/TagsSerializer;
      25: invokevirtual #29                 // Method org/hawkular/metrics/core/service/compress/TagsSerializer.getByteBuffer:()Ljava/nio/ByteBuffer;
      28: invokevirtual #27                 // Method java/nio/ByteBuffer.flip:()Ljava/nio/Buffer;
      31: checkcast     #28                 // class java/nio/ByteBuffer
      34: astore_3
      35: aload_1
      36: aload_2
      37: invokevirtual #30                 // Method org/hawkular/metrics/core/service/compress/CompressedPointContainer.setValueBuffer:(Ljava/nio/ByteBuffer;)V
      40: aload_3
      41: invokevirtual #31                 // Method java/nio/ByteBuffer.limit:()I
      44: iconst_1
      45: if_icmple     53
      48: aload_1
      49: aload_3
      50: invokevirtual #32                 // Method org/hawkular/metrics/core/service/compress/CompressedPointContainer.setTagsBuffer:(Ljava/nio/ByteBuffer;)V
      53: return

  private void lambda$call$0(org.hawkular.metrics.core.service.compress.CompressedPointContainer, org.hawkular.metrics.model.DataPoint);
    Code:
       0: aload_0
       1: getfield      #5                  // Field metricType:Lorg/hawkular/metrics/model/MetricType;
       4: invokevirtual #33                 // Method org/hawkular/metrics/model/MetricType.getCode:()B
       7: tableswitch   { // 0 to 2
                     0: 32
                     1: 56
                     2: 86
               default: 110
          }
      32: aload_0
      33: getfield      #15                 // Field compressor:Lfi/iki/yak/ts/compression/gorilla/Compressor;
      36: aload_2
      37: invokevirtual #34                 // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
      40: aload_2
      41: invokevirtual #35                 // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
      44: checkcast     #36                 // class java/lang/Double
      47: invokevirtual #37                 // Method java/lang/Double.doubleValue:()D
      50: invokevirtual #38                 // Method fi/iki/yak/ts/compression/gorilla/Compressor.addValue:(JD)V
      53: goto          148
      56: aload_0
      57: getfield      #15                 // Field compressor:Lfi/iki/yak/ts/compression/gorilla/Compressor;
      60: aload_2
      61: invokevirtual #34                 // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
      64: aload_2
      65: invokevirtual #35                 // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
      68: checkcast     #39                 // class org/hawkular/metrics/model/AvailabilityType
      71: invokevirtual #40                 // Method org/hawkular/metrics/model/AvailabilityType.getCode:()B
      74: invokestatic  #41                 // Method java/lang/Byte.valueOf:(B)Ljava/lang/Byte;
      77: invokevirtual #42                 // Method java/lang/Byte.doubleValue:()D
      80: invokevirtual #38                 // Method fi/iki/yak/ts/compression/gorilla/Compressor.addValue:(JD)V
      83: goto          148
      86: aload_0
      87: getfield      #15                 // Field compressor:Lfi/iki/yak/ts/compression/gorilla/Compressor;
      90: aload_2
      91: invokevirtual #34                 // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
      94: aload_2
      95: invokevirtual #35                 // Method org/hawkular/metrics/model/DataPoint.getValue:()Ljava/lang/Object;
      98: checkcast     #43                 // class java/lang/Long
     101: invokevirtual #44                 // Method java/lang/Long.doubleValue:()D
     104: invokevirtual #38                 // Method fi/iki/yak/ts/compression/gorilla/Compressor.addValue:(JD)V
     107: goto          148
     110: new           #45                 // class java/lang/RuntimeException
     113: dup
     114: new           #46                 // class java/lang/StringBuilder
     117: dup
     118: invokespecial #47                 // Method java/lang/StringBuilder."<init>":()V
     121: ldc           #48                 // String Metric of type
     123: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     126: aload_0
     127: getfield      #5                  // Field metricType:Lorg/hawkular/metrics/model/MetricType;
     130: invokevirtual #50                 // Method org/hawkular/metrics/model/MetricType.getText:()Ljava/lang/String;
     133: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     136: ldc           #51                 // String  is not supported in compression
     138: invokevirtual #49                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     141: invokevirtual #52                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     144: invokespecial #53                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/String;)V
     147: athrow
     148: aload_2
     149: invokevirtual #54                 // Method org/hawkular/metrics/model/DataPoint.getTags:()Ljava/util/Map;
     152: ifnull        182
     155: aload_2
     156: invokevirtual #54                 // Method org/hawkular/metrics/model/DataPoint.getTags:()Ljava/util/Map;
     159: invokeinterface #55,  1           // InterfaceMethod java/util/Map.isEmpty:()Z
     164: ifne          182
     167: aload_0
     168: getfield      #18                 // Field tagsSerializer:Lorg/hawkular/metrics/core/service/compress/TagsSerializer;
     171: aload_2
     172: invokevirtual #34                 // Method org/hawkular/metrics/model/DataPoint.getTimestamp:()J
     175: aload_2
     176: invokevirtual #54                 // Method org/hawkular/metrics/model/DataPoint.getTags:()Ljava/util/Map;
     179: invokevirtual #56                 // Method org/hawkular/metrics/core/service/compress/TagsSerializer.addDataPointTags:(JLjava/util/Map;)V
     182: return
}
