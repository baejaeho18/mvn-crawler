Compiled from "JobsServiceImpl.java"
public class org.hawkular.metrics.core.jobs.JobsServiceImpl implements org.hawkular.metrics.core.jobs.JobsService {
  private static org.jboss.logging.Logger logger;

  private org.hawkular.metrics.scheduler.api.Scheduler scheduler;

  private org.hawkular.rx.cassandra.driver.RxSession session;

  private org.hawkular.metrics.core.service.MetricsService metricsService;

  private org.hawkular.metrics.core.jobs.DeleteTenant deleteTenant;

  private org.hawkular.metrics.sysconfig.ConfigurationService configurationService;

  public org.hawkular.metrics.core.jobs.JobsServiceImpl();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: return

  public void setMetricsService(org.hawkular.metrics.core.service.MetricsService);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #2                  // Field metricsService:Lorg/hawkular/metrics/core/service/MetricsService;
       5: return

  public void setSession(org.hawkular.rx.cassandra.driver.RxSession);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #3                  // Field session:Lorg/hawkular/rx/cassandra/driver/RxSession;
       5: return

  public void setConfigurationService(org.hawkular.metrics.sysconfig.ConfigurationService);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #4                  // Field configurationService:Lorg/hawkular/metrics/sysconfig/ConfigurationService;
       5: return

  public void setScheduler(org.hawkular.metrics.scheduler.api.Scheduler);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
       5: return

  public java.util.List<org.hawkular.metrics.scheduler.api.JobDetails> start();
    Code:
       0: aload_0
       1: getfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
       4: invokeinterface #6,  1            // InterfaceMethod org/hawkular/metrics/scheduler/api/Scheduler.start:()V
       9: new           #7                  // class java/util/ArrayList
      12: dup
      13: invokespecial #8                  // Method java/util/ArrayList."<init>":()V
      16: astore_1
      17: aload_0
      18: getfield      #4                  // Field configurationService:Lorg/hawkular/metrics/sysconfig/ConfigurationService;
      21: ldc           #9                  // String org.hawkular.metrics.jobs
      23: invokevirtual #10                 // Method org/hawkular/metrics/sysconfig/ConfigurationService.load:(Ljava/lang/String;)Lrx/Observable;
      26: invokevirtual #11                 // Method rx/Observable.toBlocking:()Lrx/observables/BlockingObservable;
      29: aconst_null
      30: invokevirtual #12                 // Method rx/observables/BlockingObservable.lastOrDefault:(Ljava/lang/Object;)Ljava/lang/Object;
      33: checkcast     #13                 // class org/hawkular/metrics/sysconfig/Configuration
      36: astore_2
      37: aload_0
      38: new           #14                 // class org/hawkular/metrics/core/jobs/DeleteTenant
      41: dup
      42: aload_0
      43: getfield      #3                  // Field session:Lorg/hawkular/rx/cassandra/driver/RxSession;
      46: aload_0
      47: getfield      #2                  // Field metricsService:Lorg/hawkular/metrics/core/service/MetricsService;
      50: invokespecial #15                 // Method org/hawkular/metrics/core/jobs/DeleteTenant."<init>":(Lorg/hawkular/rx/cassandra/driver/RxSession;Lorg/hawkular/metrics/core/service/MetricsService;)V
      53: putfield      #16                 // Field deleteTenant:Lorg/hawkular/metrics/core/jobs/DeleteTenant;
      56: new           #17                 // class java/util/concurrent/ConcurrentHashMap
      59: dup
      60: invokespecial #18                 // Method java/util/concurrent/ConcurrentHashMap."<init>":()V
      63: astore_3
      64: invokedynamic #19,  0             // InvokeDynamic #0:call:()Lrx/functions/Func2;
      69: astore        4
      71: aload_0
      72: getfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
      75: ldc           #20                 // String DELETE_TENANT
      77: aload_0
      78: getfield      #16                 // Field deleteTenant:Lorg/hawkular/metrics/core/jobs/DeleteTenant;
      81: aload         4
      83: invokeinterface #21,  4           // InterfaceMethod org/hawkular/metrics/scheduler/api/Scheduler.register:(Ljava/lang/String;Lrx/functions/Func1;Lrx/functions/Func2;)V
      88: new           #22                 // class org/hawkular/metrics/core/jobs/CompressData
      91: dup
      92: aload_0
      93: getfield      #2                  // Field metricsService:Lorg/hawkular/metrics/core/service/MetricsService;
      96: aload_0
      97: getfield      #4                  // Field configurationService:Lorg/hawkular/metrics/sysconfig/ConfigurationService;
     100: invokespecial #23                 // Method org/hawkular/metrics/core/jobs/CompressData."<init>":(Lorg/hawkular/metrics/core/service/MetricsService;Lorg/hawkular/metrics/sysconfig/ConfigurationService;)V
     103: astore        5
     105: aload_0
     106: getfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
     109: ldc           #24                 // String COMPRESS_DATA
     111: aload         5
     113: invokeinterface #25,  3           // InterfaceMethod org/hawkular/metrics/scheduler/api/Scheduler.register:(Ljava/lang/String;Lrx/functions/Func1;)V
     118: aload_0
     119: aload_1
     120: invokespecial #26                 // Method maybeScheduleCompressData:(Ljava/util/List;)V
     123: aload_1
     124: areturn

  public void shutdown();
    Code:
       0: aload_0
       1: getfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
       4: invokeinterface #27,  1           // InterfaceMethod org/hawkular/metrics/scheduler/api/Scheduler.shutdown:()V
       9: return

  public rx.Single<org.hawkular.metrics.scheduler.api.JobDetails> submitDeleteTenantJob(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: getfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
       4: ldc           #20                 // String DELETE_TENANT
       6: aload_2
       7: ldc           #28                 // String tenantId
       9: aload_1
      10: invokestatic  #29                 // Method com/google/common/collect/ImmutableMap.of:(Ljava/lang/Object;Ljava/lang/Object;)Lcom/google/common/collect/ImmutableMap;
      13: new           #30                 // class org/hawkular/metrics/scheduler/api/SingleExecutionTrigger$Builder
      16: dup
      17: invokespecial #31                 // Method org/hawkular/metrics/scheduler/api/SingleExecutionTrigger$Builder."<init>":()V
      20: lconst_1
      21: getstatic     #32                 // Field java/util/concurrent/TimeUnit.MINUTES:Ljava/util/concurrent/TimeUnit;
      24: invokevirtual #33                 // Method org/hawkular/metrics/scheduler/api/SingleExecutionTrigger$Builder.withDelay:(JLjava/util/concurrent/TimeUnit;)Lorg/hawkular/metrics/scheduler/api/SingleExecutionTrigger$Builder;
      27: invokevirtual #34                 // Method org/hawkular/metrics/scheduler/api/SingleExecutionTrigger$Builder.build:()Lorg/hawkular/metrics/scheduler/api/SingleExecutionTrigger;
      30: invokeinterface #35,  5           // InterfaceMethod org/hawkular/metrics/scheduler/api/Scheduler.scheduleJob:(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;Lorg/hawkular/metrics/scheduler/api/Trigger;)Lrx/Single;
      35: areturn

  private void maybeScheduleCompressData(java.util.List<org.hawkular.metrics.scheduler.api.JobDetails>);
    Code:
       0: ldc           #36                 // String org.hawkular.metrics.jobs.COMPRESS_DATA
       2: astore_2
       3: aload_0
       4: getfield      #4                  // Field configurationService:Lorg/hawkular/metrics/sysconfig/ConfigurationService;
       7: aload_2
       8: invokevirtual #10                 // Method org/hawkular/metrics/sysconfig/ConfigurationService.load:(Ljava/lang/String;)Lrx/Observable;
      11: invokevirtual #11                 // Method rx/Observable.toBlocking:()Lrx/observables/BlockingObservable;
      14: new           #13                 // class org/hawkular/metrics/sysconfig/Configuration
      17: dup
      18: aload_2
      19: new           #37                 // class java/util/HashMap
      22: dup
      23: invokespecial #38                 // Method java/util/HashMap."<init>":()V
      26: invokespecial #39                 // Method org/hawkular/metrics/sysconfig/Configuration."<init>":(Ljava/lang/String;Ljava/util/Map;)V
      29: invokevirtual #40                 // Method rx/observables/BlockingObservable.firstOrDefault:(Ljava/lang/Object;)Ljava/lang/Object;
      32: checkcast     #13                 // class org/hawkular/metrics/sysconfig/Configuration
      35: astore_3
      36: aload_3
      37: ldc           #41                 // String jobId
      39: invokevirtual #42                 // Method org/hawkular/metrics/sysconfig/Configuration.get:(Ljava/lang/String;)Ljava/lang/String;
      42: ifnonnull     182
      45: getstatic     #43                 // Field logger:Lorg/jboss/logging/Logger;
      48: ldc           #44                 // String Preparing to create and schedule COMPRESS_DATA job
      50: invokevirtual #45                 // Method org/jboss/logging/Logger.info:(Ljava/lang/Object;)V
      53: getstatic     #46                 // Field java/time/ZoneOffset.UTC:Ljava/time/ZoneOffset;
      56: invokestatic  #47                 // Method java/time/LocalDateTime.now:(Ljava/time/ZoneId;)Ljava/time/LocalDateTime;
      59: invokestatic  #48                 // Method org/hawkular/metrics/datetime/DateTimeService.startOfNextOddHour:()Ljava/time/temporal/TemporalAdjuster;
      62: invokevirtual #49                 // Method java/time/LocalDateTime.with:(Ljava/time/temporal/TemporalAdjuster;)Ljava/time/LocalDateTime;
      65: getstatic     #46                 // Field java/time/ZoneOffset.UTC:Ljava/time/ZoneOffset;
      68: invokevirtual #50                 // Method java/time/LocalDateTime.toInstant:(Ljava/time/ZoneOffset;)Ljava/time/Instant;
      71: invokevirtual #51                 // Method java/time/Instant.toEpochMilli:()J
      74: lstore        4
      76: aload_0
      77: getfield      #5                  // Field scheduler:Lorg/hawkular/metrics/scheduler/api/Scheduler;
      80: ldc           #24                 // String COMPRESS_DATA
      82: ldc           #24                 // String COMPRESS_DATA
      84: invokestatic  #52                 // Method com/google/common/collect/ImmutableMap.of:()Lcom/google/common/collect/ImmutableMap;
      87: new           #53                 // class org/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder
      90: dup
      91: invokespecial #54                 // Method org/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder."<init>":()V
      94: lload         4
      96: invokevirtual #55                 // Method org/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder.withTriggerTime:(J)Lorg/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder;
      99: iconst_2
     100: getstatic     #56                 // Field java/util/concurrent/TimeUnit.HOURS:Ljava/util/concurrent/TimeUnit;
     103: invokevirtual #57                 // Method org/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder.withInterval:(ILjava/util/concurrent/TimeUnit;)Lorg/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder;
     106: invokevirtual #58                 // Method org/hawkular/metrics/scheduler/api/RepeatingTrigger$Builder.build:()Lorg/hawkular/metrics/scheduler/api/RepeatingTrigger;
     109: invokeinterface #35,  5           // InterfaceMethod org/hawkular/metrics/scheduler/api/Scheduler.scheduleJob:(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;Lorg/hawkular/metrics/scheduler/api/Trigger;)Lrx/Single;
     114: invokevirtual #59                 // Method rx/Single.toBlocking:()Lrx/singles/BlockingSingle;
     117: invokevirtual #60                 // Method rx/singles/BlockingSingle.value:()Ljava/lang/Object;
     120: checkcast     #61                 // class org/hawkular/metrics/scheduler/api/JobDetails
     123: astore        6
     125: aload_1
     126: aload         6
     128: invokeinterface #62,  2           // InterfaceMethod java/util/List.add:(Ljava/lang/Object;)Z
     133: pop
     134: aload_0
     135: getfield      #4                  // Field configurationService:Lorg/hawkular/metrics/sysconfig/ConfigurationService;
     138: aload_2
     139: ldc           #41                 // String jobId
     141: aload         6
     143: invokevirtual #63                 // Method org/hawkular/metrics/scheduler/api/JobDetails.getJobId:()Ljava/util/UUID;
     146: invokevirtual #64                 // Method java/util/UUID.toString:()Ljava/lang/String;
     149: invokevirtual #65                 // Method org/hawkular/metrics/sysconfig/ConfigurationService.save:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lrx/Observable;
     152: invokevirtual #11                 // Method rx/Observable.toBlocking:()Lrx/observables/BlockingObservable;
     155: pop
     156: getstatic     #43                 // Field logger:Lorg/jboss/logging/Logger;
     159: new           #66                 // class java/lang/StringBuilder
     162: dup
     163: invokespecial #67                 // Method java/lang/StringBuilder."<init>":()V
     166: ldc           #68                 // String Created and scheduled
     168: invokevirtual #69                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
     171: aload         6
     173: invokevirtual #70                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
     176: invokevirtual #71                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
     179: invokevirtual #45                 // Method org/jboss/logging/Logger.info:(Ljava/lang/Object;)V
     182: return

  private static org.hawkular.metrics.scheduler.api.RetryPolicy lambda$start$1(org.hawkular.metrics.scheduler.api.JobDetails, java.lang.Throwable);
    Code:
       0: aload_0
       1: aload_1
       2: invokedynamic #72,  0             // InvokeDynamic #1:getDelay:(Lorg/hawkular/metrics/scheduler/api/JobDetails;Ljava/lang/Throwable;)Lorg/hawkular/metrics/scheduler/api/RetryPolicy;
       7: areturn

  private static long lambda$null$0(org.hawkular.metrics.scheduler.api.JobDetails, java.lang.Throwable);
    Code:
       0: getstatic     #43                 // Field logger:Lorg/jboss/logging/Logger;
       3: new           #66                 // class java/lang/StringBuilder
       6: dup
       7: invokespecial #67                 // Method java/lang/StringBuilder."<init>":()V
      10: ldc           #73                 // String Execution of
      12: invokevirtual #69                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      15: aload_0
      16: invokevirtual #70                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      19: ldc           #74                 // String  failed
      21: invokevirtual #69                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      24: invokevirtual #71                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      27: aload_1
      28: invokevirtual #75                 // Method org/jboss/logging/Logger.warn:(Ljava/lang/Object;Ljava/lang/Throwable;)V
      31: getstatic     #43                 // Field logger:Lorg/jboss/logging/Logger;
      34: new           #66                 // class java/lang/StringBuilder
      37: dup
      38: invokespecial #67                 // Method java/lang/StringBuilder."<init>":()V
      41: aload_0
      42: invokevirtual #70                 // Method java/lang/StringBuilder.append:(Ljava/lang/Object;)Ljava/lang/StringBuilder;
      45: ldc           #76                 // String  will be retried in 5 minutes
      47: invokevirtual #69                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      50: invokevirtual #71                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      53: invokevirtual #45                 // Method org/jboss/logging/Logger.info:(Ljava/lang/Object;)V
      56: iconst_5
      57: invokestatic  #77                 // Method org/joda/time/Minutes.minutes:(I)Lorg/joda/time/Minutes;
      60: invokevirtual #78                 // Method org/joda/time/Minutes.toStandardDuration:()Lorg/joda/time/Duration;
      63: invokevirtual #79                 // Method org/joda/time/Duration.getMillis:()J
      66: lreturn

  static {};
    Code:
       0: ldc           #80                 // class org/hawkular/metrics/core/jobs/JobsServiceImpl
       2: invokestatic  #81                 // Method org/jboss/logging/Logger.getLogger:(Ljava/lang/Class;)Lorg/jboss/logging/Logger;
       5: putstatic     #43                 // Field logger:Lorg/jboss/logging/Logger;
       8: return
}
