Compiled from "JvmDefaultGCMetricsLogger.java"
public class org.apache.pulsar.common.stats.JvmDefaultGCMetricsLogger implements org.apache.pulsar.common.stats.JvmGCMetricsLogger {
  private static final org.slf4j.Logger log;

  private volatile long accumulatedFullGcCount;

  private volatile long currentFullGcCount;

  private volatile long accumulatedFullGcTime;

  private volatile long currentFullGcTime;

  private static java.lang.Object runtime;

  private static java.lang.reflect.Method getTotalSafepointTimeHandle;

  private static java.lang.reflect.Method getSafepointCountHandle;

  private java.util.Map<java.lang.String, org.apache.pulsar.common.stats.JvmDefaultGCMetricsLogger$GCMetrics> gcMetricsMap;

  public org.apache.pulsar.common.stats.JvmDefaultGCMetricsLogger();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: lconst_0
       6: putfield      #2                  // Field accumulatedFullGcCount:J
       9: aload_0
      10: lconst_0
      11: putfield      #3                  // Field currentFullGcCount:J
      14: aload_0
      15: lconst_0
      16: putfield      #4                  // Field accumulatedFullGcTime:J
      19: aload_0
      20: lconst_0
      21: putfield      #5                  // Field currentFullGcTime:J
      24: aload_0
      25: invokestatic  #6                  // Method com/google/common/collect/Maps.newHashMap:()Ljava/util/HashMap;
      28: putfield      #7                  // Field gcMetricsMap:Ljava/util/Map;
      31: return

  static long getTotalSafepointTime();
    Code:
       0: getstatic     #8                  // Field getTotalSafepointTimeHandle:Ljava/lang/reflect/Method;
       3: ifnonnull     10
       6: ldc2_w        #9                  // long -1l
       9: lreturn
      10: getstatic     #8                  // Field getTotalSafepointTimeHandle:Ljava/lang/reflect/Method;
      13: getstatic     #11                 // Field runtime:Ljava/lang/Object;
      16: iconst_0
      17: anewarray     #12                 // class java/lang/Object
      20: invokevirtual #13                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #14                 // class java/lang/Long
      26: invokevirtual #15                 // Method java/lang/Long.longValue:()J
      29: lreturn
      30: astore_0
      31: aload_0
      32: athrow
    Exception table:
       from    to  target type
           0     9    30   Class java/lang/Throwable
          10    29    30   Class java/lang/Throwable

  static long getSafepointCount();
    Code:
       0: getstatic     #8                  // Field getTotalSafepointTimeHandle:Ljava/lang/reflect/Method;
       3: ifnonnull     10
       6: ldc2_w        #9                  // long -1l
       9: lreturn
      10: getstatic     #18                 // Field getSafepointCountHandle:Ljava/lang/reflect/Method;
      13: getstatic     #11                 // Field runtime:Ljava/lang/Object;
      16: iconst_0
      17: anewarray     #12                 // class java/lang/Object
      20: invokevirtual #13                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      23: checkcast     #14                 // class java/lang/Long
      26: invokevirtual #15                 // Method java/lang/Long.longValue:()J
      29: lreturn
      30: astore_0
      31: aload_0
      32: athrow
    Exception table:
       from    to  target type
           0     9    30   Class java/lang/Throwable
          10    29    30   Class java/lang/Throwable

  public void logMetrics(org.apache.pulsar.common.stats.Metrics);
    Code:
       0: aload_1
       1: ldc           #19                 // String jvm_full_gc_pause
       3: aload_0
       4: getfield      #5                  // Field currentFullGcTime:J
       7: invokestatic  #20                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      10: invokevirtual #21                 // Method org/apache/pulsar/common/stats/Metrics.put:(Ljava/lang/String;Ljava/lang/Object;)V
      13: aload_1
      14: ldc           #22                 // String jvm_full_gc_count
      16: aload_0
      17: getfield      #3                  // Field currentFullGcCount:J
      20: invokestatic  #20                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      23: invokevirtual #21                 // Method org/apache/pulsar/common/stats/Metrics.put:(Ljava/lang/String;Ljava/lang/Object;)V
      26: aload_0
      27: getfield      #7                  // Field gcMetricsMap:Ljava/util/Map;
      30: aload_1
      31: invokedynamic #23,  0             // InvokeDynamic #0:accept:(Lorg/apache/pulsar/common/stats/Metrics;)Ljava/util/function/BiConsumer;
      36: invokeinterface #24,  2           // InterfaceMethod java/util/Map.forEach:(Ljava/util/function/BiConsumer;)V
      41: return

  public void refresh();
    Code:
       0: invokestatic  #25                 // Method java/lang/management/ManagementFactory.getGarbageCollectorMXBeans:()Ljava/util/List;
       3: astore_1
       4: aload_1
       5: ifnull        118
       8: aload_1
       9: invokeinterface #26,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      14: astore_2
      15: aload_2
      16: invokeinterface #27,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          118
      24: aload_2
      25: invokeinterface #28,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #29                 // class java/lang/management/GarbageCollectorMXBean
      33: astore_3
      34: aload_0
      35: getfield      #7                  // Field gcMetricsMap:Ljava/util/Map;
      38: aload_3
      39: invokeinterface #30,  1           // InterfaceMethod java/lang/management/GarbageCollectorMXBean.getName:()Ljava/lang/String;
      44: invokedynamic #31,  0             // InvokeDynamic #1:apply:()Ljava/util/function/Function;
      49: invokeinterface #32,  3           // InterfaceMethod java/util/Map.computeIfAbsent:(Ljava/lang/Object;Ljava/util/function/Function;)Ljava/lang/Object;
      54: checkcast     #33                 // class org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics
      57: astore        4
      59: aload_3
      60: invokeinterface #34,  1           // InterfaceMethod java/lang/management/GarbageCollectorMXBean.getCollectionTime:()J
      65: lstore        5
      67: aload_3
      68: invokeinterface #35,  1           // InterfaceMethod java/lang/management/GarbageCollectorMXBean.getCollectionCount:()J
      73: lstore        7
      75: aload         4
      77: lload         7
      79: aload         4
      81: getfield      #36                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.accumulatedGcCount:J
      84: lsub
      85: putfield      #37                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.currentGcCount:J
      88: aload         4
      90: lload         5
      92: aload         4
      94: getfield      #38                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.accumulatedGcTime:J
      97: lsub
      98: putfield      #39                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.currentGcTime:J
     101: aload         4
     103: lload         7
     105: putfield      #36                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.accumulatedGcCount:J
     108: aload         4
     110: lload         5
     112: putfield      #38                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.accumulatedGcTime:J
     115: goto          15
     118: invokestatic  #40                 // Method getTotalSafepointTime:()J
     121: lstore_2
     122: invokestatic  #41                 // Method getSafepointCount:()J
     125: lstore        4
     127: aload_0
     128: lload_2
     129: aload_0
     130: getfield      #4                  // Field accumulatedFullGcTime:J
     133: lsub
     134: putfield      #5                  // Field currentFullGcTime:J
     137: aload_0
     138: lload         4
     140: aload_0
     141: getfield      #2                  // Field accumulatedFullGcCount:J
     144: lsub
     145: putfield      #3                  // Field currentFullGcCount:J
     148: aload_0
     149: lload_2
     150: putfield      #4                  // Field accumulatedFullGcTime:J
     153: aload_0
     154: lload         4
     156: putfield      #2                  // Field accumulatedFullGcCount:J
     159: goto          177
     162: astore_2
     163: getstatic     #43                 // Field log:Lorg/slf4j/Logger;
     166: ldc           #44                 // String Failed to collect GC stats: {}
     168: aload_2
     169: invokevirtual #45                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     172: invokeinterface #46,  3           // InterfaceMethod org/slf4j/Logger.error:(Ljava/lang/String;Ljava/lang/Object;)V
     177: return
    Exception table:
       from    to  target type
           4   159   162   Class java/lang/Exception

  private static org.apache.pulsar.common.stats.JvmDefaultGCMetricsLogger$GCMetrics lambda$refresh$1(java.lang.String);
    Code:
       0: new           #33                 // class org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics
       3: dup
       4: invokespecial #47                 // Method org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics."<init>":()V
       7: areturn

  private static void lambda$logMetrics$0(org.apache.pulsar.common.stats.Metrics, java.lang.String, org.apache.pulsar.common.stats.JvmDefaultGCMetricsLogger$GCMetrics);
    Code:
       0: aload_0
       1: new           #48                 // class java/lang/StringBuilder
       4: dup
       5: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
       8: ldc           #50                 // String jvm_
      10: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      13: aload_1
      14: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      17: ldc           #52                 // String _gc_pause
      19: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      22: invokevirtual #53                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      25: aload_2
      26: getfield      #39                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.currentGcTime:J
      29: invokestatic  #20                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      32: invokevirtual #21                 // Method org/apache/pulsar/common/stats/Metrics.put:(Ljava/lang/String;Ljava/lang/Object;)V
      35: aload_0
      36: new           #48                 // class java/lang/StringBuilder
      39: dup
      40: invokespecial #49                 // Method java/lang/StringBuilder."<init>":()V
      43: ldc           #50                 // String jvm_
      45: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      48: aload_1
      49: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      52: ldc           #54                 // String _gc_count
      54: invokevirtual #51                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      57: invokevirtual #53                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      60: aload_2
      61: getfield      #37                 // Field org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger$GCMetrics.currentGcCount:J
      64: invokestatic  #20                 // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;
      67: invokevirtual #21                 // Method org/apache/pulsar/common/stats/Metrics.put:(Ljava/lang/String;Ljava/lang/Object;)V
      70: return

  static {};
    Code:
       0: ldc           #55                 // class org/apache/pulsar/common/stats/JvmDefaultGCMetricsLogger
       2: invokestatic  #56                 // Method org/slf4j/LoggerFactory.getLogger:(Ljava/lang/Class;)Lorg/slf4j/Logger;
       5: putstatic     #43                 // Field log:Lorg/slf4j/Logger;
       8: ldc           #57                 // String sun.management.ManagementFactoryHelper
      10: invokestatic  #58                 // Method java/lang/Class.forName:(Ljava/lang/String;)Ljava/lang/Class;
      13: ldc           #59                 // String getHotspotRuntimeMBean
      15: iconst_0
      16: anewarray     #60                 // class java/lang/Class
      19: invokevirtual #61                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      22: aconst_null
      23: iconst_0
      24: anewarray     #12                 // class java/lang/Object
      27: invokevirtual #13                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      30: putstatic     #11                 // Field runtime:Ljava/lang/Object;
      33: getstatic     #11                 // Field runtime:Ljava/lang/Object;
      36: invokevirtual #62                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      39: ldc           #63                 // String getTotalSafepointTime
      41: iconst_0
      42: anewarray     #60                 // class java/lang/Class
      45: invokevirtual #61                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      48: putstatic     #8                  // Field getTotalSafepointTimeHandle:Ljava/lang/reflect/Method;
      51: getstatic     #8                  // Field getTotalSafepointTimeHandle:Ljava/lang/reflect/Method;
      54: iconst_1
      55: invokevirtual #64                 // Method java/lang/reflect/Method.setAccessible:(Z)V
      58: getstatic     #11                 // Field runtime:Ljava/lang/Object;
      61: invokevirtual #62                 // Method java/lang/Object.getClass:()Ljava/lang/Class;
      64: ldc           #65                 // String getSafepointCount
      66: iconst_0
      67: anewarray     #60                 // class java/lang/Class
      70: invokevirtual #61                 // Method java/lang/Class.getMethod:(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
      73: putstatic     #18                 // Field getSafepointCountHandle:Ljava/lang/reflect/Method;
      76: getstatic     #18                 // Field getSafepointCountHandle:Ljava/lang/reflect/Method;
      79: iconst_1
      80: invokevirtual #64                 // Method java/lang/reflect/Method.setAccessible:(Z)V
      83: getstatic     #8                  // Field getTotalSafepointTimeHandle:Ljava/lang/reflect/Method;
      86: getstatic     #11                 // Field runtime:Ljava/lang/Object;
      89: iconst_0
      90: anewarray     #12                 // class java/lang/Object
      93: invokevirtual #13                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
      96: pop
      97: getstatic     #18                 // Field getSafepointCountHandle:Ljava/lang/reflect/Method;
     100: getstatic     #11                 // Field runtime:Ljava/lang/Object;
     103: iconst_0
     104: anewarray     #12                 // class java/lang/Object
     107: invokevirtual #13                 // Method java/lang/reflect/Method.invoke:(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
     110: pop
     111: goto          126
     114: astore_0
     115: getstatic     #43                 // Field log:Lorg/slf4j/Logger;
     118: ldc           #66                 // String Failed to get Runtime bean
     120: aload_0
     121: invokeinterface #67,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     126: return
    Exception table:
       from    to  target type
           8   111   114   Class java/lang/Throwable
}
