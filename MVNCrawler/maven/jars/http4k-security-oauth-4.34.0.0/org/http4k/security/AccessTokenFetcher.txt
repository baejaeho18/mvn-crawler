Compiled from "AccessTokenFetcher.kt"
public final class org.http4k.security.AccessTokenFetcher {
  private final kotlin.jvm.functions.Function1<org.http4k.core.Request, org.http4k.core.Response> api;

  private final org.http4k.core.Uri callbackUri;

  private final org.http4k.security.OAuthProviderConfig providerConfig;

  private final org.http4k.security.AccessTokenFetcherAuthenticator accessTokenFetcherAuthenticator;

  private final org.http4k.security.AccessTokenExtractor accessTokenExtractor;

  public org.http4k.security.AccessTokenFetcher(kotlin.jvm.functions.Function1<? super org.http4k.core.Request, ? extends org.http4k.core.Response>, org.http4k.core.Uri, org.http4k.security.OAuthProviderConfig, org.http4k.security.AccessTokenFetcherAuthenticator, org.http4k.security.AccessTokenExtractor);
    Code:
       0: aload_1
       1: ldc           #10                 // String api
       3: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #18                 // String callbackUri
       9: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_3
      13: ldc           #20                 // String providerConfig
      15: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      18: aload         4
      20: ldc           #22                 // String accessTokenFetcherAuthenticator
      22: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      25: aload         5
      27: ldc           #24                 // String accessTokenExtractor
      29: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      32: aload_0
      33: invokespecial #27                 // Method java/lang/Object."<init>":()V
      36: aload_0
      37: aload_1
      38: putfield      #30                 // Field api:Lkotlin/jvm/functions/Function1;
      41: aload_0
      42: aload_2
      43: putfield      #33                 // Field callbackUri:Lorg/http4k/core/Uri;
      46: aload_0
      47: aload_3
      48: putfield      #36                 // Field providerConfig:Lorg/http4k/security/OAuthProviderConfig;
      51: aload_0
      52: aload         4
      54: putfield      #39                 // Field accessTokenFetcherAuthenticator:Lorg/http4k/security/AccessTokenFetcherAuthenticator;
      57: aload_0
      58: aload         5
      60: putfield      #42                 // Field accessTokenExtractor:Lorg/http4k/security/AccessTokenExtractor;
      63: return

  public org.http4k.security.AccessTokenFetcher(kotlin.jvm.functions.Function1, org.http4k.core.Uri, org.http4k.security.OAuthProviderConfig, org.http4k.security.AccessTokenFetcherAuthenticator, org.http4k.security.AccessTokenExtractor, int, kotlin.jvm.internal.DefaultConstructorMarker);
    Code:
       0: iload         6
       2: bipush        16
       4: iand
       5: ifeq          20
       8: new           #47                 // class org/http4k/security/ContentTypeJsonOrForm
      11: dup
      12: invokespecial #48                 // Method org/http4k/security/ContentTypeJsonOrForm."<init>":()V
      15: checkcast     #50                 // class org/http4k/security/AccessTokenExtractor
      18: astore        5
      20: aload_0
      21: aload_1
      22: aload_2
      23: aload_3
      24: aload         4
      26: aload         5
      28: invokespecial #52                 // Method "<init>":(Lkotlin/jvm/functions/Function1;Lorg/http4k/core/Uri;Lorg/http4k/security/OAuthProviderConfig;Lorg/http4k/security/AccessTokenFetcherAuthenticator;Lorg/http4k/security/AccessTokenExtractor;)V
      31: return

  public final dev.forkhandles.result4k.Result<org.http4k.security.AccessTokenDetails, org.http4k.security.OAuthCallbackError$CouldNotFetchAccessToken> fetch(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #57                 // String theCode
       3: invokestatic  #16                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: getfield      #30                 // Field api:Lkotlin/jvm/functions/Function1;
      10: aload_0
      11: getstatic     #63                 // Field org/http4k/core/Request.Companion:Lorg/http4k/core/Request$Companion;
      14: getstatic     #69                 // Field org/http4k/core/Method.POST:Lorg/http4k/core/Method;
      17: aload_0
      18: getfield      #36                 // Field providerConfig:Lorg/http4k/security/OAuthProviderConfig;
      21: invokevirtual #75                 // Method org/http4k/security/OAuthProviderConfig.getTokenPath:()Ljava/lang/String;
      24: aconst_null
      25: iconst_4
      26: aconst_null
      27: invokestatic  #81                 // Method org/http4k/core/Request$Companion.create$default:(Lorg/http4k/core/Request$Companion;Lorg/http4k/core/Method;Ljava/lang/String;Ljava/lang/String;ILjava/lang/Object;)Lorg/http4k/core/Request;
      30: checkcast     #83                 // class org/http4k/core/HttpMessage
      33: iconst_1
      34: anewarray     #85                 // class kotlin/jvm/functions/Function1
      37: astore_2
      38: aload_2
      39: iconst_0
      40: getstatic     #91                 // Field org/http4k/security/OAuthWebForms.INSTANCE:Lorg/http4k/security/OAuthWebForms;
      43: invokevirtual #95                 // Method org/http4k/security/OAuthWebForms.getRequestForm:()Lorg/http4k/lens/BiDiBodyLens;
      46: new           #97                 // class org/http4k/lens/WebForm
      49: dup
      50: aconst_null
      51: aconst_null
      52: iconst_3
      53: aconst_null
      54: invokespecial #100                // Method org/http4k/lens/WebForm."<init>":(Ljava/util/Map;Ljava/util/List;ILkotlin/jvm/internal/DefaultConstructorMarker;)V
      57: iconst_4
      58: anewarray     #85                 // class kotlin/jvm/functions/Function1
      61: astore_3
      62: aload_3
      63: iconst_0
      64: getstatic     #91                 // Field org/http4k/security/OAuthWebForms.INSTANCE:Lorg/http4k/security/OAuthWebForms;
      67: invokevirtual #104                // Method org/http4k/security/OAuthWebForms.getGrantType:()Lorg/http4k/lens/BiDiLens;
      70: ldc           #106                // String authorization_code
      72: invokevirtual #112                // Method org/http4k/lens/BiDiLens.of:(Ljava/lang/Object;)Lkotlin/jvm/functions/Function1;
      75: aastore
      76: aload_3
      77: iconst_1
      78: getstatic     #91                 // Field org/http4k/security/OAuthWebForms.INSTANCE:Lorg/http4k/security/OAuthWebForms;
      81: invokevirtual #115                // Method org/http4k/security/OAuthWebForms.getRedirectUri:()Lorg/http4k/lens/BiDiLens;
      84: aload_0
      85: getfield      #33                 // Field callbackUri:Lorg/http4k/core/Uri;
      88: invokevirtual #112                // Method org/http4k/lens/BiDiLens.of:(Ljava/lang/Object;)Lkotlin/jvm/functions/Function1;
      91: aastore
      92: aload_3
      93: iconst_2
      94: getstatic     #91                 // Field org/http4k/security/OAuthWebForms.INSTANCE:Lorg/http4k/security/OAuthWebForms;
      97: invokevirtual #118                // Method org/http4k/security/OAuthWebForms.getClientId:()Lorg/http4k/lens/BiDiLens;
     100: aload_0
     101: getfield      #36                 // Field providerConfig:Lorg/http4k/security/OAuthProviderConfig;
     104: invokevirtual #122                // Method org/http4k/security/OAuthProviderConfig.getCredentials:()Lorg/http4k/core/Credentials;
     107: invokevirtual #127                // Method org/http4k/core/Credentials.getUser:()Ljava/lang/String;
     110: invokevirtual #112                // Method org/http4k/lens/BiDiLens.of:(Ljava/lang/Object;)Lkotlin/jvm/functions/Function1;
     113: aastore
     114: aload_3
     115: iconst_3
     116: getstatic     #91                 // Field org/http4k/security/OAuthWebForms.INSTANCE:Lorg/http4k/security/OAuthWebForms;
     119: invokevirtual #130                // Method org/http4k/security/OAuthWebForms.getCode:()Lorg/http4k/lens/BiDiLens;
     122: aload_1
     123: invokevirtual #112                // Method org/http4k/lens/BiDiLens.of:(Ljava/lang/Object;)Lkotlin/jvm/functions/Function1;
     126: aastore
     127: aload_3
     128: invokestatic  #136                // Method org/http4k/core/HttpKt.with:(Lorg/http4k/lens/WebForm;[Lkotlin/jvm/functions/Function1;)Lorg/http4k/lens/WebForm;
     131: invokevirtual #139                // Method org/http4k/lens/BiDiBodyLens.of:(Ljava/lang/Object;)Lkotlin/jvm/functions/Function1;
     134: aastore
     135: aload_2
     136: invokestatic  #142                // Method org/http4k/core/HttpKt.with:(Lorg/http4k/core/HttpMessage;[Lkotlin/jvm/functions/Function1;)Lorg/http4k/core/HttpMessage;
     139: checkcast     #59                 // class org/http4k/core/Request
     142: aload_0
     143: getfield      #39                 // Field accessTokenFetcherAuthenticator:Lorg/http4k/security/AccessTokenFetcherAuthenticator;
     146: invokespecial #146                // Method authenticate:(Lorg/http4k/core/Request;Lorg/http4k/security/AccessTokenFetcherAuthenticator;)Lorg/http4k/core/Request;
     149: invokeinterface #150,  2          // InterfaceMethod kotlin/jvm/functions/Function1.invoke:(Ljava/lang/Object;)Ljava/lang/Object;
     154: checkcast     #152                // class org/http4k/core/Response
     157: astore_3
     158: iconst_0
     159: istore        4
     161: aload_3
     162: invokeinterface #156,  1          // InterfaceMethod org/http4k/core/Response.getStatus:()Lorg/http4k/core/Status;
     167: getstatic     #162                // Field org/http4k/core/Status.OK:Lorg/http4k/core/Status;
     170: invokestatic  #166                // Method kotlin/jvm/internal/Intrinsics.areEqual:(Ljava/lang/Object;Ljava/lang/Object;)Z
     173: ifne          208
     176: new           #168                // class dev/forkhandles/result4k/Failure
     179: dup
     180: new           #170                // class org/http4k/security/OAuthCallbackError$CouldNotFetchAccessToken
     183: dup
     184: aload_3
     185: invokeinterface #156,  1          // InterfaceMethod org/http4k/core/Response.getStatus:()Lorg/http4k/core/Status;
     190: aload_3
     191: invokeinterface #173,  1          // InterfaceMethod org/http4k/core/Response.bodyString:()Ljava/lang/String;
     196: invokespecial #176                // Method org/http4k/security/OAuthCallbackError$CouldNotFetchAccessToken."<init>":(Lorg/http4k/core/Status;Ljava/lang/String;)V
     199: invokespecial #179                // Method dev/forkhandles/result4k/Failure."<init>":(Ljava/lang/Object;)V
     202: checkcast     #181                // class dev/forkhandles/result4k/Result
     205: goto          219
     208: new           #183                // class dev/forkhandles/result4k/Success
     211: dup
     212: aload_3
     213: invokespecial #184                // Method dev/forkhandles/result4k/Success."<init>":(Ljava/lang/Object;)V
     216: checkcast     #181                // class dev/forkhandles/result4k/Result
     219: nop
     220: astore_2
     221: nop
     222: iconst_0
     223: istore_3
     224: aload_2
     225: astore        4
     227: aload         4
     229: instanceof    #183                // class dev/forkhandles/result4k/Success
     232: ifeq          267
     235: aload_2
     236: checkcast     #183                // class dev/forkhandles/result4k/Success
     239: invokevirtual #188                // Method dev/forkhandles/result4k/Success.getValue:()Ljava/lang/Object;
     242: checkcast     #152                // class org/http4k/core/Response
     245: astore        5
     247: iconst_0
     248: istore        6
     250: aload_0
     251: getfield      #42                 // Field accessTokenExtractor:Lorg/http4k/security/AccessTokenExtractor;
     254: aload         5
     256: invokeinterface #189,  2          // InterfaceMethod org/http4k/security/AccessTokenExtractor.invoke:(Ljava/lang/Object;)Ljava/lang/Object;
     261: checkcast     #181                // class dev/forkhandles/result4k/Result
     264: goto          287
     267: aload         4
     269: instanceof    #168                // class dev/forkhandles/result4k/Failure
     272: ifeq          279
     275: aload_2
     276: goto          287
     279: new           #191                // class kotlin/NoWhenBranchMatchedException
     282: dup
     283: invokespecial #192                // Method kotlin/NoWhenBranchMatchedException."<init>":()V
     286: athrow
     287: nop
     288: areturn

  private final org.http4k.core.Request authenticate(org.http4k.core.Request, org.http4k.security.AccessTokenFetcherAuthenticator);
    Code:
       0: aload_2
       1: aload_1
       2: invokeinterface #211,  2          // InterfaceMethod org/http4k/security/AccessTokenFetcherAuthenticator.authenticate:(Lorg/http4k/core/Request;)Lorg/http4k/core/Request;
       7: areturn
}
