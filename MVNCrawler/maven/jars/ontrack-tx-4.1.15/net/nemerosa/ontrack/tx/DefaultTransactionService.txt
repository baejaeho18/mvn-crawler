Compiled from "DefaultTransactionService.kt"
public class net.nemerosa.ontrack.tx.DefaultTransactionService implements net.nemerosa.ontrack.tx.TransactionService {
  private final java.lang.ThreadLocal<java.util.Stack<net.nemerosa.ontrack.tx.DefaultTransactionService$ITransaction>> transaction;

  public net.nemerosa.ontrack.tx.DefaultTransactionService();
    Code:
       0: aload_0
       1: invokespecial #10                 // Method java/lang/Object."<init>":()V
       4: aload_0
       5: new           #12                 // class java/lang/ThreadLocal
       8: dup
       9: invokespecial #13                 // Method java/lang/ThreadLocal."<init>":()V
      12: putfield      #17                 // Field transaction:Ljava/lang/ThreadLocal;
      15: return

  public net.nemerosa.ontrack.tx.Transaction start();
    Code:
       0: aload_0
       1: iconst_0
       2: invokevirtual #25                 // Method start:(Z)Lnet/nemerosa/ontrack/tx/Transaction;
       5: areturn

  public net.nemerosa.ontrack.tx.Transaction start(boolean);
    Code:
       0: aload_0
       1: getfield      #17                 // Field transaction:Ljava/lang/ThreadLocal;
       4: invokevirtual #29                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #31                 // class java/util/Stack
      10: astore_2
      11: aload_2
      12: ifnull        22
      15: aload_2
      16: invokevirtual #35                 // Method java/util/Stack.isEmpty:()Z
      19: ifeq          54
      22: aload_0
      23: invokespecial #39                 // Method createTransaction:()Lnet/nemerosa/ontrack/tx/DefaultTransactionService$ITransaction;
      26: astore_3
      27: new           #31                 // class java/util/Stack
      30: dup
      31: invokespecial #40                 // Method java/util/Stack."<init>":()V
      34: astore_2
      35: aload_2
      36: aload_3
      37: invokevirtual #44                 // Method java/util/Stack.push:(Ljava/lang/Object;)Ljava/lang/Object;
      40: pop
      41: aload_0
      42: getfield      #17                 // Field transaction:Ljava/lang/ThreadLocal;
      45: aload_2
      46: invokevirtual #48                 // Method java/lang/ThreadLocal.set:(Ljava/lang/Object;)V
      49: aload_3
      50: checkcast     #50                 // class net/nemerosa/ontrack/tx/Transaction
      53: areturn
      54: iload_1
      55: ifeq          74
      58: aload_0
      59: invokespecial #39                 // Method createTransaction:()Lnet/nemerosa/ontrack/tx/DefaultTransactionService$ITransaction;
      62: astore_3
      63: aload_2
      64: aload_3
      65: invokevirtual #44                 // Method java/util/Stack.push:(Ljava/lang/Object;)Ljava/lang/Object;
      68: pop
      69: aload_3
      70: checkcast     #50                 // class net/nemerosa/ontrack/tx/Transaction
      73: areturn
      74: aload_2
      75: invokevirtual #53                 // Method java/util/Stack.peek:()Ljava/lang/Object;
      78: checkcast     #55                 // class net/nemerosa/ontrack/tx/DefaultTransactionService$ITransaction
      81: invokeinterface #58,  1           // InterfaceMethod net/nemerosa/ontrack/tx/DefaultTransactionService$ITransaction.reuse:()V
      86: aload_2
      87: invokevirtual #53                 // Method java/util/Stack.peek:()Ljava/lang/Object;
      90: astore_3
      91: aload_3
      92: ldc           #60                 // String currents.peek()
      94: invokestatic  #66                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      97: aload_3
      98: checkcast     #50                 // class net/nemerosa/ontrack/tx/Transaction
     101: areturn

  public net.nemerosa.ontrack.tx.Transaction get();
    Code:
       0: aload_0
       1: getfield      #17                 // Field transaction:Ljava/lang/ThreadLocal;
       4: invokevirtual #29                 // Method java/lang/ThreadLocal.get:()Ljava/lang/Object;
       7: checkcast     #31                 // class java/util/Stack
      10: astore_1
      11: aload_1
      12: dup
      13: ifnonnull     21
      16: pop
      17: aconst_null
      18: goto          27
      21: invokevirtual #53                 // Method java/util/Stack.peek:()Ljava/lang/Object;
      24: checkcast     #55                 // class net/nemerosa/ontrack/tx/DefaultTransactionService$ITransaction
      27: dup
      28: ifnonnull     42
      31: pop
      32: new           #74                 // class java/lang/NullPointerException
      35: dup
      36: ldc           #76                 // String null cannot be cast to non-null type net.nemerosa.ontrack.tx.Transaction
      38: invokespecial #79                 // Method java/lang/NullPointerException."<init>":(Ljava/lang/String;)V
      41: athrow
      42: checkcast     #50                 // class net/nemerosa/ontrack/tx/Transaction
      45: areturn

  private net.nemerosa.ontrack.tx.DefaultTransactionService$ITransaction createTransaction();
    Code:
       0: new           #82                 // class net/nemerosa/ontrack/tx/DefaultTransactionService$TransactionImpl
       3: dup
       4: new           #84                 // class net/nemerosa/ontrack/tx/DefaultTransactionService$createTransaction$1
       7: dup
       8: aload_0
       9: invokespecial #87                 // Method net/nemerosa/ontrack/tx/DefaultTransactionService$createTransaction$1."<init>":(Lnet/nemerosa/ontrack/tx/DefaultTransactionService;)V
      12: checkcast     #89                 // class net/nemerosa/ontrack/tx/DefaultTransactionService$TransactionCallback
      15: invokespecial #92                 // Method net/nemerosa/ontrack/tx/DefaultTransactionService$TransactionImpl."<init>":(Lnet/nemerosa/ontrack/tx/DefaultTransactionService$TransactionCallback;)V
      18: checkcast     #55                 // class net/nemerosa/ontrack/tx/DefaultTransactionService$ITransaction
      21: areturn

  public <T> T doInTransaction(kotlin.jvm.functions.Function0<? extends T>);
    Code:
       0: aload_0
       1: checkcast     #6                  // class net/nemerosa/ontrack/tx/TransactionService
       4: aload_1
       5: invokestatic  #100                // Method net/nemerosa/ontrack/tx/TransactionService$DefaultImpls.doInTransaction:(Lnet/nemerosa/ontrack/tx/TransactionService;Lkotlin/jvm/functions/Function0;)Ljava/lang/Object;
       8: areturn

  public static final java.lang.ThreadLocal access$getTransaction$p(net.nemerosa.ontrack.tx.DefaultTransactionService);
    Code:
       0: aload_0
       1: getfield      #17                 // Field transaction:Ljava/lang/ThreadLocal;
       4: areturn
}
