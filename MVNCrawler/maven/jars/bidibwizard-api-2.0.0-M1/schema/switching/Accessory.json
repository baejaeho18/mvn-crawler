{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "description": "An Accessory following the convention of http://microformats.org/wiki/hcard",
    "type": "object",
    "properties": {
        "id" : { "type": "integer" },
        "label" : { "type": "string" },
        "totalAspects" : { "type": "integer" },
        "startupState" : { "type": "integer" },
        "switchTime" : { "type": "integer" },
        "executionState" : { "$ref" : "#/definitions/accessoryExecutionState" },
        "errorReason" : { "$ref" : "#/definitions/accessoryErrorReason" },
        "configState" : { "$ref" : "#/definitions/accessoryConfigState" },
        "errorState" : { "$ref" : "#/definitions/accessoryErrorState" },
        "aspects": {
            "type": "array", 
            "uniqueItems": true,
            "items": { "$ref": "#definitions/abstractAspect" }
        }
    },
    "required": ["id"],
    "definitions": {
        "accessoryExecutionState": {
            "description": "An accessory execution state following the convention of http://microformats.org/wiki/hcard",
            "type": "string",
            "enum": [
                "IDLE",
                "RUNNING",
                "SUCCESSFUL",
                "ERROR",
                "UNKNOWN"
            ],
            "javaEnumNames": [
                "IDLE",
                "RUNNING",
                "SUCCESSFUL",
                "ERROR",
                "UNKNOWN"
            ]
        },
        "accessoryErrorReason": {
            "description": "An accessory error reason following the convention of http://microformats.org/wiki/hcard",
            "type": "string",
            "enum": [
                "NO_MORE_ERROR",
                "COMMAND_NOT_EXECUTABLE_UNKNOWN_COMMAND_OR_ASPECT",
                "POWER_CONSUMPTION_HIGH",
                "POWER_SUPPLY_BELOW_LIMITS",
                "FUSE_BLOWN",
                "TEMPERATURE_TOO_HIGH",
                "FEEDBACK_ERROR_UNWANTED_CHANGE_POSITION",
                "MANUAL_CONTROL",
                "BULB_OUT_OF_ORDER",
                "SERVO_OUT_OF_ORDER",
                "INTERNAL_ERROR",
                "UNKNOWN"
            ]
        },        
        "accessoryConfigState": {
            "description": "An accessory configuration state following the convention of http://microformats.org/wiki/hcard",
            "type": "string",
            "enum": [
                "PENDING",
                "INITIALIZED",
                "UNKNOWN"
            ]
        },        
        "accessoryErrorState": {
            "description": "An accessory error state following the convention of http://microformats.org/wiki/hcard",
            "type": "string",
            "enum": [
                "VALID",
                "ERROR",
                "UNKNOWN"
            ]
        },
        "abstractAspect": {
            "description": "An abstract aspect following the convention of http://microformats.org/wiki/hcard",
            "type": "object",
            "properties": {
                "id" : { "type": "integer" },
                "label" : { "type": "string" }
            }
        },
        "macroMappedAspect": {
            "description": "A macromapped aspect following the convention of http://microformats.org/wiki/hcard",
            "type": "object",
             "extends": {
                "$ref": "#/definitions/abstractAspect"
            },
            "properties": {
                "macroId" : { "type": "integer" }
            }
        },
        "fixAspect": {
            "description": "A fix aspect following the convention of http://microformats.org/wiki/hcard",
            "type": "object",
             "extends": {
                "$ref": "#/definitions/abstractAspect"
            },
            "properties": {
            }
         }
    }
}