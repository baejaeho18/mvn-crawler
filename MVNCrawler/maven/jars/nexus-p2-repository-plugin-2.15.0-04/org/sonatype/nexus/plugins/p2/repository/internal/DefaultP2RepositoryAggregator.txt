Compiled from "DefaultP2RepositoryAggregator.java"
public class org.sonatype.nexus.plugins.p2.repository.internal.DefaultP2RepositoryAggregator implements org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregator {
  private static final java.lang.String FEATURE_CLASSIFIER;

  private org.slf4j.Logger logger;

  private final java.util.Map<java.lang.String, org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration> configurations;

  private final org.sonatype.nexus.proxy.registry.RepositoryRegistry repositories;

  private final org.sonatype.nexus.mime.MimeSupport mimeSupport;

  private final org.sonatype.p2.bridge.ArtifactRepository artifactRepository;

  private final org.sonatype.p2.bridge.MetadataRepository metadataRepository;

  public org.sonatype.nexus.plugins.p2.repository.internal.DefaultP2RepositoryAggregator(org.sonatype.nexus.proxy.registry.RepositoryRegistry, org.sonatype.nexus.mime.MimeSupport, org.sonatype.p2.bridge.ArtifactRepository, org.sonatype.p2.bridge.MetadataRepository);
    Code:
       0: aload_0
       1: invokespecial #4                  // Method java/lang/Object."<init>":()V
       4: aload_0
       5: aload_1
       6: putfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
       9: aload_0
      10: aload_2
      11: putfield      #6                  // Field mimeSupport:Lorg/sonatype/nexus/mime/MimeSupport;
      14: aload_0
      15: aload_3
      16: putfield      #7                  // Field artifactRepository:Lorg/sonatype/p2/bridge/ArtifactRepository;
      19: aload_0
      20: aload         4
      22: putfield      #8                  // Field metadataRepository:Lorg/sonatype/p2/bridge/MetadataRepository;
      25: aload_0
      26: new           #9                  // class java/util/HashMap
      29: dup
      30: invokespecial #10                 // Method java/util/HashMap."<init>":()V
      33: putfield      #11                 // Field configurations:Ljava/util/Map;
      36: return

  public org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration getConfiguration(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #11                 // Field configurations:Ljava/util/Map;
       4: aload_1
       5: invokeinterface #12,  2           // InterfaceMethod java/util/Map.get:(Ljava/lang/Object;)Ljava/lang/Object;
      10: checkcast     #13                 // class org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration
      13: areturn

  public void addConfiguration(org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration);
    Code:
       0: aload_0
       1: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
       4: aload_1
       5: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
       8: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      13: astore_2
      14: aload_2
      15: ldc           #16                 // String /.meta/p2
      17: invokestatic  #17                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.safeRetrieveItem:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/StorageItem;
      20: astore_3
      21: aload_3
      22: ifnonnull     87
      25: aload_2
      26: ldc           #16                 // String /.meta/p2
      28: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      33: astore        4
      35: aload         4
      37: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      42: getstatic     #20                 // Field org/sonatype/nexus/proxy/access/Action.create:Lorg/sonatype/nexus/proxy/access/Action;
      45: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      50: aload_0
      51: aload_2
      52: invokespecial #22                 // Method createP2Repository:(Lorg/sonatype/nexus/proxy/repository/Repository;)V
      55: aload         4
      57: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      62: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
      67: goto          87
      70: astore        5
      72: aload         4
      74: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      79: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
      84: aload         5
      86: athrow
      87: goto          115
      90: astore_2
      91: aload_0
      92: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      95: ldc           #26                 // String Could not delete P2 repository [{}] as repository could not be found
      97: invokeinterface #27,  2           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;)V
     102: goto          115
     105: astore_2
     106: new           #29                 // class java/lang/RuntimeException
     109: dup
     110: aload_2
     111: invokespecial #30                 // Method java/lang/RuntimeException."<init>":(Ljava/lang/Throwable;)V
     114: athrow
     115: return
    Exception table:
       from    to  target type
          35    55    70   any
          70    72    70   any
           0    87    90   Class org/sonatype/nexus/proxy/NoSuchRepositoryException
           0    87   105   Class java/lang/Exception

  public void removeConfiguration(org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration);
    Code:
       0: aload_0
       1: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
       4: aload_1
       5: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
       8: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      13: astore_2
      14: aload_2
      15: ldc           #16                 // String /.meta/p2
      17: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      22: astore_3
      23: aload_3
      24: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      29: getstatic     #20                 // Field org/sonatype/nexus/proxy/access/Action.create:Lorg/sonatype/nexus/proxy/access/Action;
      32: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      37: new           #31                 // class org/sonatype/nexus/proxy/ResourceStoreRequest
      40: dup
      41: ldc           #16                 // String /.meta/p2
      43: invokespecial #32                 // Method org/sonatype/nexus/proxy/ResourceStoreRequest."<init>":(Ljava/lang/String;)V
      46: astore        4
      48: aload_2
      49: aload         4
      51: invokeinterface #33,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.deleteItem:(Lorg/sonatype/nexus/proxy/ResourceStoreRequest;)V
      56: aload_3
      57: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      62: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
      67: goto          86
      70: astore        5
      72: aload_3
      73: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      78: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
      83: aload         5
      85: athrow
      86: goto          128
      89: astore_2
      90: aload_0
      91: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      94: ldc           #34                 // String Could not delete P2 repository [%s:%s] due to [%s]
      96: iconst_3
      97: anewarray     #35                 // class java/lang/Object
     100: dup
     101: iconst_0
     102: aload_1
     103: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
     106: aastore
     107: dup
     108: iconst_1
     109: ldc           #16                 // String /.meta/p2
     111: aastore
     112: dup
     113: iconst_2
     114: aload_2
     115: invokevirtual #36                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     118: aastore
     119: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     122: aload_2
     123: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     128: return
    Exception table:
       from    to  target type
          23    56    70   any
          70    72    70   any
           0    86    89   Class java/lang/Exception

  public void enableAggregationFor(org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration);
    Code:
       0: aload_0
       1: getfield      #11                 // Field configurations:Ljava/util/Map;
       4: aload_1
       5: invokestatic  #39                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #13                 // class org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration
      11: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
      14: aload_1
      15: invokeinterface #40,  3           // InterfaceMethod java/util/Map.put:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      20: pop
      21: return

  public void disableAggregationFor(org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration);
    Code:
       0: aload_0
       1: getfield      #11                 // Field configurations:Ljava/util/Map;
       4: aload_1
       5: invokestatic  #39                 // Method com/google/common/base/Preconditions.checkNotNull:(Ljava/lang/Object;)Ljava/lang/Object;
       8: checkcast     #13                 // class org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration
      11: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
      14: invokeinterface #41,  2           // InterfaceMethod java/util/Map.remove:(Ljava/lang/Object;)Ljava/lang/Object;
      19: pop
      20: return

  public void updateP2Artifacts(org.sonatype.nexus.proxy.item.StorageItem);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
       7: invokevirtual #43                 // Method getConfiguration:(Ljava/lang/String;)Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;
      10: astore_2
      11: aload_2
      12: ifnonnull     16
      15: return
      16: aload_0
      17: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      20: ldc           #44                 // String Updating P2 repository artifacts (update) for [{}:{}]
      22: aload_1
      23: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
      28: aload_1
      29: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
      34: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      39: aload_0
      40: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
      43: aload_2
      44: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
      47: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      52: astore_3
      53: aload_3
      54: ldc           #16                 // String /.meta/p2
      56: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      61: astore        4
      63: aconst_null
      64: astore        5
      66: aload         4
      68: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      73: getstatic     #47                 // Field org/sonatype/nexus/proxy/access/Action.update:Lorg/sonatype/nexus/proxy/access/Action;
      76: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      81: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
      84: astore        5
      86: aload_0
      87: aload_2
      88: aload_3
      89: invokespecial #49                 // Method getP2Artifacts:(Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
      92: astore        6
      94: new           #50                 // class java/io/File
      97: dup
      98: aload         5
     100: aload         6
     102: invokevirtual #51                 // Method java/io/File.getName:()Ljava/lang/String;
     105: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     108: astore        7
     110: aload         6
     112: aload         7
     114: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     117: aload_0
     118: aload_3
     119: aload_3
     120: aload_1
     121: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     126: invokestatic  #54                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
     129: aload         5
     131: invokespecial #3                  // Method updateP2Artifacts:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/io/File;Ljava/io/File;)V
     134: aload         7
     136: aload         6
     138: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     141: aload         4
     143: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     148: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     153: aload         5
     155: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     158: goto          183
     161: astore        8
     163: aload         4
     165: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     170: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     175: aload         5
     177: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     180: aload         8
     182: athrow
     183: goto          234
     186: astore_3
     187: aload_0
     188: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
     191: ldc           #56                 // String Could not update P2 repository [%s:%s] with [%s] due to [%s]
     193: iconst_4
     194: anewarray     #35                 // class java/lang/Object
     197: dup
     198: iconst_0
     199: aload_2
     200: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
     203: aastore
     204: dup
     205: iconst_1
     206: ldc           #16                 // String /.meta/p2
     208: aastore
     209: dup
     210: iconst_2
     211: aload_1
     212: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     217: aastore
     218: dup
     219: iconst_3
     220: aload_3
     221: invokevirtual #36                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     224: aastore
     225: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     228: aload_3
     229: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     234: return
    Exception table:
       from    to  target type
          66   141   161   any
         161   163   161   any
          39   183   186   Class java/lang/Exception

  public void removeP2Artifacts(org.sonatype.nexus.proxy.item.StorageItem);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
       7: invokevirtual #43                 // Method getConfiguration:(Ljava/lang/String;)Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;
      10: astore_2
      11: aload_2
      12: ifnonnull     16
      15: return
      16: aload_0
      17: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      20: ldc           #57                 // String Updating P2 repository artifacts (remove) for [{}:{}]
      22: aload_1
      23: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
      28: aload_1
      29: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
      34: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      39: aload_0
      40: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
      43: aload_2
      44: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
      47: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      52: astore_3
      53: aload_3
      54: ldc           #16                 // String /.meta/p2
      56: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      61: astore        4
      63: aconst_null
      64: astore        5
      66: aconst_null
      67: astore        6
      69: aload         4
      71: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      76: getstatic     #47                 // Field org/sonatype/nexus/proxy/access/Action.update:Lorg/sonatype/nexus/proxy/access/Action;
      79: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      84: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
      87: astore        6
      89: aload_0
      90: aload_2
      91: aload_3
      92: invokespecial #49                 // Method getP2Artifacts:(Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
      95: astore        7
      97: new           #50                 // class java/io/File
     100: dup
     101: aload         6
     103: aload         7
     105: invokevirtual #51                 // Method java/io/File.getName:()Ljava/lang/String;
     108: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     111: astore        8
     113: aload         7
     115: aload         8
     117: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     120: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
     123: astore        5
     125: aload_3
     126: aload_1
     127: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     132: invokestatic  #54                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
     135: new           #50                 // class java/io/File
     138: dup
     139: aload         5
     141: ldc           #58                 // String artifacts.xml
     143: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     146: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     149: aload_0
     150: getfield      #7                  // Field artifactRepository:Lorg/sonatype/p2/bridge/ArtifactRepository;
     153: aload         5
     155: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
     158: aload         6
     160: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
     163: invokeinterface #60,  3           // InterfaceMethod org/sonatype/p2/bridge/ArtifactRepository.remove:(Ljava/net/URI;Ljava/net/URI;)V
     168: aload         8
     170: aload         7
     172: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     175: aload         4
     177: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     182: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     187: aload         5
     189: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     192: aload         6
     194: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     197: goto          227
     200: astore        9
     202: aload         4
     204: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     209: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     214: aload         5
     216: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     219: aload         6
     221: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     224: aload         9
     226: athrow
     227: goto          278
     230: astore_3
     231: aload_0
     232: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
     235: ldc           #56                 // String Could not update P2 repository [%s:%s] with [%s] due to [%s]
     237: iconst_4
     238: anewarray     #35                 // class java/lang/Object
     241: dup
     242: iconst_0
     243: aload_2
     244: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
     247: aastore
     248: dup
     249: iconst_1
     250: ldc           #16                 // String /.meta/p2
     252: aastore
     253: dup
     254: iconst_2
     255: aload_1
     256: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     261: aastore
     262: dup
     263: iconst_3
     264: aload_3
     265: invokevirtual #36                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     268: aastore
     269: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     272: aload_3
     273: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     278: return
    Exception table:
       from    to  target type
          69   175   200   any
         200   202   200   any
          39   227   230   Class java/lang/Exception

  public void updateP2Metadata(org.sonatype.nexus.proxy.item.StorageItem);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
       7: invokevirtual #43                 // Method getConfiguration:(Ljava/lang/String;)Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;
      10: astore_2
      11: aload_2
      12: ifnonnull     16
      15: return
      16: aload_0
      17: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      20: ldc           #61                 // String Updating P2 repository metadata (update) for [{}:{}]
      22: aload_1
      23: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
      28: aload_1
      29: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
      34: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      39: aload_0
      40: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
      43: aload_2
      44: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
      47: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      52: astore_3
      53: aload_3
      54: ldc           #16                 // String /.meta/p2
      56: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      61: astore        4
      63: aconst_null
      64: astore        5
      66: aload         4
      68: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      73: getstatic     #47                 // Field org/sonatype/nexus/proxy/access/Action.update:Lorg/sonatype/nexus/proxy/access/Action;
      76: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      81: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
      84: astore        5
      86: aload_0
      87: aload_2
      88: aload_3
      89: invokespecial #62                 // Method getP2Content:(Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
      92: astore        6
      94: new           #50                 // class java/io/File
      97: dup
      98: aload         5
     100: aload         6
     102: invokevirtual #51                 // Method java/io/File.getName:()Ljava/lang/String;
     105: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     108: astore        7
     110: aload         6
     112: aload         7
     114: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     117: aload_0
     118: aload_3
     119: aload_3
     120: aload_1
     121: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     126: invokestatic  #54                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
     129: aload         5
     131: invokespecial #2                  // Method updateP2Metadata:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/io/File;Ljava/io/File;)V
     134: aload         7
     136: aload         6
     138: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     141: aload         4
     143: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     148: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     153: aload         5
     155: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     158: goto          183
     161: astore        8
     163: aload         4
     165: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     170: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     175: aload         5
     177: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     180: aload         8
     182: athrow
     183: goto          234
     186: astore_3
     187: aload_0
     188: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
     191: ldc           #56                 // String Could not update P2 repository [%s:%s] with [%s] due to [%s]
     193: iconst_4
     194: anewarray     #35                 // class java/lang/Object
     197: dup
     198: iconst_0
     199: aload_2
     200: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
     203: aastore
     204: dup
     205: iconst_1
     206: ldc           #16                 // String /.meta/p2
     208: aastore
     209: dup
     210: iconst_2
     211: aload_1
     212: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     217: aastore
     218: dup
     219: iconst_3
     220: aload_3
     221: invokevirtual #36                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     224: aastore
     225: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     228: aload_3
     229: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     234: return
    Exception table:
       from    to  target type
          66   141   161   any
         161   163   161   any
          39   183   186   Class java/lang/Exception

  public void removeP2Metadata(org.sonatype.nexus.proxy.item.StorageItem);
    Code:
       0: aload_0
       1: aload_1
       2: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
       7: invokevirtual #43                 // Method getConfiguration:(Ljava/lang/String;)Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;
      10: astore_2
      11: aload_2
      12: ifnonnull     16
      15: return
      16: aload_0
      17: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      20: ldc           #63                 // String Updating P2 repository metadata (remove) for [{}:{}]
      22: aload_1
      23: invokeinterface #42,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getRepositoryId:()Ljava/lang/String;
      28: aload_1
      29: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
      34: invokeinterface #46,  4           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V
      39: aload_0
      40: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
      43: aload_2
      44: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
      47: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      52: astore_3
      53: aload_3
      54: ldc           #16                 // String /.meta/p2
      56: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      61: astore        4
      63: aconst_null
      64: astore        5
      66: aconst_null
      67: astore        6
      69: aload         4
      71: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      76: getstatic     #47                 // Field org/sonatype/nexus/proxy/access/Action.update:Lorg/sonatype/nexus/proxy/access/Action;
      79: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      84: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
      87: astore        6
      89: aload_0
      90: aload_2
      91: aload_3
      92: invokespecial #62                 // Method getP2Content:(Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
      95: astore        7
      97: new           #50                 // class java/io/File
     100: dup
     101: aload         6
     103: aload         7
     105: invokevirtual #51                 // Method java/io/File.getName:()Ljava/lang/String;
     108: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     111: astore        8
     113: aload         7
     115: aload         8
     117: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     120: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
     123: astore        5
     125: aload_3
     126: aload_1
     127: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     132: invokestatic  #54                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
     135: new           #50                 // class java/io/File
     138: dup
     139: aload         5
     141: ldc           #64                 // String content.xml
     143: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     146: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     149: aload_0
     150: getfield      #8                  // Field metadataRepository:Lorg/sonatype/p2/bridge/MetadataRepository;
     153: aload         5
     155: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
     158: aload         6
     160: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
     163: invokeinterface #65,  3           // InterfaceMethod org/sonatype/p2/bridge/MetadataRepository.remove:(Ljava/net/URI;Ljava/net/URI;)V
     168: aload         8
     170: aload         7
     172: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     175: aload         4
     177: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     182: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     187: aload         5
     189: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     192: aload         6
     194: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     197: goto          227
     200: astore        9
     202: aload         4
     204: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     209: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     214: aload         5
     216: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     219: aload         6
     221: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     224: aload         9
     226: athrow
     227: goto          278
     230: astore_3
     231: aload_0
     232: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
     235: ldc           #56                 // String Could not update P2 repository [%s:%s] with [%s] due to [%s]
     237: iconst_4
     238: anewarray     #35                 // class java/lang/Object
     241: dup
     242: iconst_0
     243: aload_2
     244: invokevirtual #14                 // Method org/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration.repositoryId:()Ljava/lang/String;
     247: aastore
     248: dup
     249: iconst_1
     250: ldc           #16                 // String /.meta/p2
     252: aastore
     253: dup
     254: iconst_2
     255: aload_1
     256: invokeinterface #45,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/StorageItem.getPath:()Ljava/lang/String;
     261: aastore
     262: dup
     263: iconst_3
     264: aload_3
     265: invokevirtual #36                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     268: aastore
     269: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     272: aload_3
     273: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     278: return
    Exception table:
       from    to  target type
          69   175   200   any
         200   202   200   any
          39   227   230   Class java/lang/Exception

  public void scanAndRebuild(java.lang.String);
    Code:
       0: aload_0
       1: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
       4: ldc           #66                 // String Rebuilding P2 repository for repository [{}]
       6: aload_1
       7: invokeinterface #67,  3           // InterfaceMethod org/slf4j/Logger.debug:(Ljava/lang/String;Ljava/lang/Object;)V
      12: aload_0
      13: aload_1
      14: invokevirtual #43                 // Method getConfiguration:(Ljava/lang/String;)Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;
      17: astore_2
      18: aload_2
      19: ifnonnull     35
      22: aload_0
      23: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
      26: ldc           #68                 // String Rebuilding P2 repository for [{}] not executed as P2 Repository Generator capability is not enabled for this repository
      28: aload_1
      29: invokeinterface #69,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Object;)V
      34: return
      35: aload_0
      36: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
      39: aload_1
      40: invokeinterface #15,  2           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepository:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/repository/Repository;
      45: astore_3
      46: aload_3
      47: invokestatic  #70                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.localStorageOfRepositoryAsFile:(Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
      50: astore        4
      52: aload_3
      53: ldc           #16                 // String /.meta/p2
      55: invokeinterface #18,  2           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.createUid:(Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/RepositoryItemUid;
      60: astore        5
      62: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
      65: astore        6
      67: aload         5
      69: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
      74: getstatic     #47                 // Field org/sonatype/nexus/proxy/access/Action.update:Lorg/sonatype/nexus/proxy/access/Action;
      77: invokeinterface #21,  2           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.lock:(Lorg/sonatype/nexus/proxy/access/Action;)V
      82: aload_0
      83: aload_2
      84: aload_3
      85: invokespecial #49                 // Method getP2Artifacts:(Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
      88: astore        7
      90: new           #50                 // class java/io/File
      93: dup
      94: aload         6
      96: aload         7
      98: invokevirtual #51                 // Method java/io/File.getName:()Ljava/lang/String;
     101: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     104: astore        8
     106: aload         7
     108: aload         8
     110: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     113: aload_0
     114: aload_2
     115: aload_3
     116: invokespecial #62                 // Method getP2Content:(Lorg/sonatype/nexus/plugins/p2/repository/P2RepositoryAggregatorConfiguration;Lorg/sonatype/nexus/proxy/repository/Repository;)Ljava/io/File;
     119: astore        9
     121: new           #50                 // class java/io/File
     124: dup
     125: aload         6
     127: aload         9
     129: invokevirtual #51                 // Method java/io/File.getName:()Ljava/lang/String;
     132: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     135: astore        10
     137: aload         9
     139: aload         10
     141: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     144: new           #71                 // class org/sonatype/sisu/resource/scanner/scanners/SerialScanner
     147: dup
     148: invokespecial #72                 // Method org/sonatype/sisu/resource/scanner/scanners/SerialScanner."<init>":()V
     151: aload         4
     153: new           #73                 // class org/sonatype/nexus/plugins/p2/repository/internal/DefaultP2RepositoryAggregator$1
     156: dup
     157: aload_0
     158: aload         4
     160: aload_3
     161: aload         6
     163: invokespecial #74                 // Method org/sonatype/nexus/plugins/p2/repository/internal/DefaultP2RepositoryAggregator$1."<init>":(Lorg/sonatype/nexus/plugins/p2/repository/internal/DefaultP2RepositoryAggregator;Ljava/io/File;Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/io/File;)V
     166: invokevirtual #75                 // Method org/sonatype/sisu/resource/scanner/scanners/SerialScanner.scan:(Ljava/io/File;Lorg/sonatype/sisu/resource/scanner/Listener;)V
     169: aload         8
     171: aload         7
     173: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     176: aload         10
     178: aload         9
     180: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
     183: aload         5
     185: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     190: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     195: aload         6
     197: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     200: goto          225
     203: astore        11
     205: aload         5
     207: invokeinterface #19,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUid.getLock:()Lorg/sonatype/nexus/proxy/item/RepositoryItemUidLock;
     212: invokeinterface #23,  1           // InterfaceMethod org/sonatype/nexus/proxy/item/RepositoryItemUidLock.unlock:()V
     217: aload         6
     219: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     222: aload         11
     224: athrow
     225: goto          259
     228: astore_3
     229: aload_0
     230: getfield      #25                 // Field logger:Lorg/slf4j/Logger;
     233: ldc           #76                 // String Rebuilding P2 repository not executed as repository [%s] could not be scanned due to [%s]
     235: iconst_2
     236: anewarray     #35                 // class java/lang/Object
     239: dup
     240: iconst_0
     241: aload_1
     242: aastore
     243: dup
     244: iconst_1
     245: aload_3
     246: invokevirtual #36                 // Method java/lang/Exception.getMessage:()Ljava/lang/String;
     249: aastore
     250: invokestatic  #37                 // Method java/lang/String.format:(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
     253: aload_3
     254: invokeinterface #38,  3           // InterfaceMethod org/slf4j/Logger.warn:(Ljava/lang/String;Ljava/lang/Throwable;)V
     259: return
    Exception table:
       from    to  target type
          67   183   203   any
         203   205   203   any
          35   225   228   Class java/lang/Exception

  public void scanAndRebuild();
    Code:
       0: aload_0
       1: getfield      #5                  // Field repositories:Lorg/sonatype/nexus/proxy/registry/RepositoryRegistry;
       4: invokeinterface #77,  1           // InterfaceMethod org/sonatype/nexus/proxy/registry/RepositoryRegistry.getRepositories:()Ljava/util/List;
       9: invokeinterface #78,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      14: astore_1
      15: aload_1
      16: invokeinterface #79,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      21: ifeq          47
      24: aload_1
      25: invokeinterface #80,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #81                 // class org/sonatype/nexus/proxy/repository/Repository
      33: astore_2
      34: aload_0
      35: aload_2
      36: invokeinterface #82,  1           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.getId:()Ljava/lang/String;
      41: invokevirtual #83                 // Method scanAndRebuild:(Ljava/lang/String;)V
      44: goto          15
      47: return

  private void updateP2Artifacts(org.sonatype.nexus.proxy.repository.Repository, java.io.File, java.io.File) throws java.lang.Exception;
    Code:
       0: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
       3: astore        4
       5: aload_2
       6: new           #50                 // class java/io/File
       9: dup
      10: aload         4
      12: ldc           #58                 // String artifacts.xml
      14: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      17: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
      20: aload_0
      21: getfield      #7                  // Field artifactRepository:Lorg/sonatype/p2/bridge/ArtifactRepository;
      24: aload         4
      26: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      29: aload_3
      30: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      33: invokeinterface #84,  3           // InterfaceMethod org/sonatype/p2/bridge/ArtifactRepository.merge:(Ljava/net/URI;Ljava/net/URI;)V
      38: aload_0
      39: getfield      #7                  // Field artifactRepository:Lorg/sonatype/p2/bridge/ArtifactRepository;
      42: aload         4
      44: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      47: invokeinterface #85,  2           // InterfaceMethod org/sonatype/p2/bridge/ArtifactRepository.getInstallableArtifacts:(Ljava/net/URI;)Ljava/util/Collection;
      52: astore        5
      54: aload         5
      56: invokeinterface #86,  1           // InterfaceMethod java/util/Collection.iterator:()Ljava/util/Iterator;
      61: astore        6
      63: aload         6
      65: invokeinterface #79,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      70: ifeq          123
      73: aload         6
      75: invokeinterface #80,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      80: checkcast     #87                 // class org/sonatype/p2/bridge/model/InstallableArtifact
      83: astore        7
      85: aload_0
      86: aload         7
      88: invokespecial #88                 // Method createP2Path:(Lorg/sonatype/p2/bridge/model/InstallableArtifact;)Ljava/lang/String;
      91: astore        8
      93: aload         7
      95: invokevirtual #89                 // Method org/sonatype/p2/bridge/model/InstallableArtifact.getRepositoryPath:()Ljava/lang/String;
      98: ifnull        120
     101: aload_1
     102: aload         7
     104: invokevirtual #89                 // Method org/sonatype/p2/bridge/model/InstallableArtifact.getRepositoryPath:()Ljava/lang/String;
     107: invokestatic  #90                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveItem:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Lorg/sonatype/nexus/proxy/item/StorageItem;
     110: astore        9
     112: aload_1
     113: aload         9
     115: aload         8
     117: invokestatic  #91                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createLink:(Lorg/sonatype/nexus/proxy/repository/Repository;Lorg/sonatype/nexus/proxy/item/StorageItem;Ljava/lang/String;)V
     120: goto          63
     123: aload         4
     125: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     128: goto          141
     131: astore        10
     133: aload         4
     135: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     138: aload         10
     140: athrow
     141: return
    Exception table:
       from    to  target type
           5   123   131   any
         131   133   131   any

  private java.lang.String createP2Path(org.sonatype.p2.bridge.model.InstallableArtifact);
    Code:
       0: getstatic     #92                 // Field FEATURE_CLASSIFIER:Ljava/lang/String;
       3: aload_1
       4: invokevirtual #93                 // Method org/sonatype/p2/bridge/model/InstallableArtifact.getClassifier:()Ljava/lang/String;
       7: invokevirtual #94                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z
      10: ifeq          53
      13: new           #95                 // class java/lang/StringBuilder
      16: dup
      17: invokespecial #96                 // Method java/lang/StringBuilder."<init>":()V
      20: ldc           #97                 // String /.meta/p2/features/
      22: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      25: aload_1
      26: invokevirtual #99                 // Method org/sonatype/p2/bridge/model/InstallableArtifact.getId:()Ljava/lang/String;
      29: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      32: ldc           #100                // String _
      34: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      37: aload_1
      38: invokevirtual #101                // Method org/sonatype/p2/bridge/model/InstallableArtifact.getVersion:()Ljava/lang/String;
      41: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      44: ldc           #102                // String .jar
      46: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      49: invokevirtual #103                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      52: areturn
      53: new           #95                 // class java/lang/StringBuilder
      56: dup
      57: invokespecial #96                 // Method java/lang/StringBuilder."<init>":()V
      60: ldc           #104                // String /.meta/p2/plugins/
      62: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      65: aload_1
      66: invokevirtual #99                 // Method org/sonatype/p2/bridge/model/InstallableArtifact.getId:()Ljava/lang/String;
      69: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      72: ldc           #100                // String _
      74: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      77: aload_1
      78: invokevirtual #101                // Method org/sonatype/p2/bridge/model/InstallableArtifact.getVersion:()Ljava/lang/String;
      81: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      84: ldc           #102                // String .jar
      86: invokevirtual #98                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
      89: invokevirtual #103                // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
      92: areturn

  private void updateP2Metadata(org.sonatype.nexus.proxy.repository.Repository, java.io.File, java.io.File) throws java.lang.Exception;
    Code:
       0: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
       3: astore        4
       5: aload_2
       6: new           #50                 // class java/io/File
       9: dup
      10: aload         4
      12: ldc           #64                 // String content.xml
      14: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      17: invokestatic  #53                 // Method org/apache/commons/io/FileUtils.copyFile:(Ljava/io/File;Ljava/io/File;)V
      20: aload_0
      21: getfield      #8                  // Field metadataRepository:Lorg/sonatype/p2/bridge/MetadataRepository;
      24: aload         4
      26: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      29: aload_3
      30: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      33: invokeinterface #105,  3          // InterfaceMethod org/sonatype/p2/bridge/MetadataRepository.merge:(Ljava/net/URI;Ljava/net/URI;)V
      38: aload         4
      40: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
      43: goto          56
      46: astore        5
      48: aload         4
      50: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
      53: aload         5
      55: athrow
      56: return
    Exception table:
       from    to  target type
           5    38    46   any
          46    48    46   any

  private java.io.File getP2Artifacts(org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration, org.sonatype.nexus.proxy.repository.Repository) throws java.lang.Exception;
    Code:
       0: ldc           #106                // String /.meta/p2/artifacts.xml
       2: astore_3
       3: aload_2
       4: ldc           #106                // String /.meta/p2/artifacts.xml
       6: invokestatic  #107                // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.safeRetrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
       9: astore        4
      11: aload         4
      13: invokevirtual #108                // Method java/io/File.exists:()Z
      16: ifne          32
      19: aload_0
      20: aload_2
      21: invokespecial #22                 // Method createP2Repository:(Lorg/sonatype/nexus/proxy/repository/Repository;)V
      24: aload_2
      25: ldc           #106                // String /.meta/p2/artifacts.xml
      27: invokestatic  #54                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
      30: astore        4
      32: aload         4
      34: areturn

  private java.io.File getP2Content(org.sonatype.nexus.plugins.p2.repository.P2RepositoryAggregatorConfiguration, org.sonatype.nexus.proxy.repository.Repository) throws java.lang.Exception;
    Code:
       0: ldc           #109                // String /.meta/p2/content.xml
       2: astore_3
       3: aload_2
       4: ldc           #109                // String /.meta/p2/content.xml
       6: invokestatic  #107                // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.safeRetrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
       9: astore        4
      11: aload         4
      13: invokevirtual #108                // Method java/io/File.exists:()Z
      16: ifne          32
      19: aload_0
      20: aload_2
      21: invokespecial #22                 // Method createP2Repository:(Lorg/sonatype/nexus/proxy/repository/Repository;)V
      24: aload_2
      25: ldc           #109                // String /.meta/p2/content.xml
      27: invokestatic  #54                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.retrieveFile:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)Ljava/io/File;
      30: astore        4
      32: aload         4
      34: areturn

  private void createP2Repository(org.sonatype.nexus.proxy.repository.Repository) throws java.lang.Exception;
    Code:
       0: aconst_null
       1: astore_2
       2: invokestatic  #48                 // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.createTemporaryP2Repository:()Ljava/io/File;
       5: astore_2
       6: aload_0
       7: getfield      #7                  // Field artifactRepository:Lorg/sonatype/p2/bridge/ArtifactRepository;
      10: aload_2
      11: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      14: invokestatic  #110                // Method java/util/Collections.emptyList:()Ljava/util/List;
      17: aload_1
      18: invokeinterface #82,  1           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.getId:()Ljava/lang/String;
      23: aconst_null
      24: aconst_null
      25: checkcast     #111                // class "[[Ljava/lang/String;"
      28: invokeinterface #112,  6          // InterfaceMethod org/sonatype/p2/bridge/ArtifactRepository.write:(Ljava/net/URI;Ljava/util/Collection;Ljava/lang/String;Ljava/util/Map;[[Ljava/lang/String;)V
      33: ldc           #106                // String /.meta/p2/artifacts.xml
      35: astore_3
      36: ldc           #106                // String /.meta/p2/artifacts.xml
      38: new           #50                 // class java/io/File
      41: dup
      42: aload_2
      43: ldc           #58                 // String artifacts.xml
      45: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
      48: aload_1
      49: aload_0
      50: getfield      #6                  // Field mimeSupport:Lorg/sonatype/nexus/mime/MimeSupport;
      53: ldc           #106                // String /.meta/p2/artifacts.xml
      55: invokeinterface #113,  2          // InterfaceMethod org/sonatype/nexus/mime/MimeSupport.guessMimeTypeFromPath:(Ljava/lang/String;)Ljava/lang/String;
      60: invokestatic  #114                // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.storeItemFromFile:(Ljava/lang/String;Ljava/io/File;Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)V
      63: aload_0
      64: getfield      #8                  // Field metadataRepository:Lorg/sonatype/p2/bridge/MetadataRepository;
      67: aload_2
      68: invokevirtual #59                 // Method java/io/File.toURI:()Ljava/net/URI;
      71: invokestatic  #110                // Method java/util/Collections.emptyList:()Ljava/util/List;
      74: aload_1
      75: invokeinterface #82,  1           // InterfaceMethod org/sonatype/nexus/proxy/repository/Repository.getId:()Ljava/lang/String;
      80: aconst_null
      81: invokeinterface #115,  5          // InterfaceMethod org/sonatype/p2/bridge/MetadataRepository.write:(Ljava/net/URI;Ljava/util/Collection;Ljava/lang/String;Ljava/util/Map;)V
      86: ldc           #116                // String /.meta/p2//content.xml
      88: astore        4
      90: ldc           #116                // String /.meta/p2//content.xml
      92: new           #50                 // class java/io/File
      95: dup
      96: aload_2
      97: ldc           #64                 // String content.xml
      99: invokespecial #52                 // Method java/io/File."<init>":(Ljava/io/File;Ljava/lang/String;)V
     102: aload_1
     103: aload_0
     104: getfield      #6                  // Field mimeSupport:Lorg/sonatype/nexus/mime/MimeSupport;
     107: ldc           #116                // String /.meta/p2//content.xml
     109: invokeinterface #113,  2          // InterfaceMethod org/sonatype/nexus/mime/MimeSupport.guessMimeTypeFromPath:(Ljava/lang/String;)Ljava/lang/String;
     114: invokestatic  #114                // Method org/sonatype/nexus/plugins/p2/repository/internal/NexusUtils.storeItemFromFile:(Ljava/lang/String;Ljava/io/File;Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/lang/String;)V
     117: aload_2
     118: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     121: goto          133
     124: astore        5
     126: aload_2
     127: invokestatic  #55                 // Method org/apache/commons/io/FileUtils.deleteDirectory:(Ljava/io/File;)V
     130: aload         5
     132: athrow
     133: return
    Exception table:
       from    to  target type
           2   117   124   any
         124   126   124   any

  static void access$000(org.sonatype.nexus.plugins.p2.repository.internal.DefaultP2RepositoryAggregator, org.sonatype.nexus.proxy.repository.Repository, java.io.File, java.io.File) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #3                  // Method updateP2Artifacts:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/io/File;Ljava/io/File;)V
       7: return

  static void access$100(org.sonatype.nexus.plugins.p2.repository.internal.DefaultP2RepositoryAggregator, org.sonatype.nexus.proxy.repository.Repository, java.io.File, java.io.File) throws java.lang.Exception;
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: aload_3
       4: invokespecial #2                  // Method updateP2Metadata:(Lorg/sonatype/nexus/proxy/repository/Repository;Ljava/io/File;Ljava/io/File;)V
       7: return

  static {};
    Code:
       0: getstatic     #117                // Field org/sonatype/nexus/plugins/p2/repository/internal/P2ArtifactType.FEATURE:Lorg/sonatype/nexus/plugins/p2/repository/internal/P2ArtifactType;
       3: invokevirtual #118                // Method org/sonatype/nexus/plugins/p2/repository/internal/P2ArtifactType.getClassifier:()Ljava/lang/String;
       6: putstatic     #92                 // Field FEATURE_CLASSIFIER:Ljava/lang/String;
       9: return
}
