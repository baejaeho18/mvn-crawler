Compiled from "RoleJdbcRepository.java"
public class net.nemerosa.ontrack.repository.RoleJdbcRepository extends net.nemerosa.ontrack.repository.support.AbstractJdbcRepository implements net.nemerosa.ontrack.repository.RoleRepository {
  public net.nemerosa.ontrack.repository.RoleJdbcRepository(javax.sql.DataSource);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository."<init>":(Ljavax/sql/DataSource;)V
       5: return

  public java.util.Optional<java.lang.String> findGlobalRoleByAccount(int);
    Code:
       0: aload_0
       1: ldc           #2                  // String SELECT ROLE FROM GLOBAL_AUTHORIZATIONS WHERE ACCOUNT = :accountId
       3: aload_0
       4: ldc           #3                  // String accountId
       6: iload_1
       7: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #6                  // class java/lang/String
      15: invokevirtual #7                  // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      18: checkcast     #6                  // class java/lang/String
      21: invokestatic  #8                  // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      24: areturn

  public java.util.Optional<java.lang.String> findGlobalRoleByGroup(int);
    Code:
       0: aload_0
       1: ldc           #9                  // String SELECT ROLE FROM GROUP_GLOBAL_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId
       3: aload_0
       4: ldc           #10                 // String groupId
       6: iload_1
       7: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #6                  // class java/lang/String
      15: invokevirtual #7                  // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      18: checkcast     #6                  // class java/lang/String
      21: invokestatic  #8                  // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      24: areturn

  public net.nemerosa.ontrack.model.Ack deleteGlobalRoleForAccount(int);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #12                 // String DELETE FROM GLOBAL_AUTHORIZATIONS WHERE ACCOUNT = :accountId
       6: aload_0
       7: ldc           #3                  // String accountId
       9: iload_1
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      19: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      22: areturn

  public net.nemerosa.ontrack.model.Ack deleteGlobalRoleForGroup(int);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #15                 // String DELETE FROM GROUP_GLOBAL_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId
       6: aload_0
       7: ldc           #10                 // String groupId
       9: iload_1
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      19: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      22: areturn

  public net.nemerosa.ontrack.model.Ack saveProjectRoleForAccount(int, int, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #16                 // String DELETE FROM PROJECT_AUTHORIZATIONS WHERE ACCOUNT = :accountId AND PROJECT = :projectId
       6: aload_0
       7: ldc           #3                  // String accountId
       9: iload_2
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #17                 // String projectId
      18: iload_1
      19: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      28: pop
      29: aload_0
      30: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      33: ldc           #19                 // String INSERT INTO PROJECT_AUTHORIZATIONS (PROJECT, ACCOUNT, ROLE) VALUES (:projectId, :accountId, :role)
      35: aload_0
      36: ldc           #3                  // String accountId
      38: iload_2
      39: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      42: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      45: ldc           #20                 // String role
      47: aload_3
      48: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      51: ldc           #17                 // String projectId
      53: iload_1
      54: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      57: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      60: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      63: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      66: areturn

  public net.nemerosa.ontrack.model.Ack saveProjectRoleForGroup(int, int, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #21                 // String DELETE FROM GROUP_PROJECT_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId AND PROJECT = :projectId
       6: aload_0
       7: ldc           #10                 // String groupId
       9: iload_2
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #17                 // String projectId
      18: iload_1
      19: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      28: pop
      29: aload_0
      30: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      33: ldc           #22                 // String INSERT INTO GROUP_PROJECT_AUTHORIZATIONS (PROJECT, ACCOUNTGROUP, ROLE) VALUES (:projectId, :groupId, :role)
      35: aload_0
      36: ldc           #10                 // String groupId
      38: iload_2
      39: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      42: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      45: ldc           #20                 // String role
      47: aload_3
      48: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      51: ldc           #17                 // String projectId
      53: iload_1
      54: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      57: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      60: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      63: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      66: areturn

  public net.nemerosa.ontrack.model.Ack deleteProjectRoleForAccount(int, int);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #16                 // String DELETE FROM PROJECT_AUTHORIZATIONS WHERE ACCOUNT = :accountId AND PROJECT = :projectId
       6: aload_0
       7: ldc           #3                  // String accountId
       9: iload_2
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #17                 // String projectId
      18: iload_1
      19: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      28: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      31: areturn

  public net.nemerosa.ontrack.model.Ack deleteProjectRoleForGroup(int, int);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #23                 // String DELETE FROM GROUP_PROJECT_AUTHORIZATIONS WHERE ACCOUNTGROUP = :accountGroupId AND PROJECT = :projectId
       6: aload_0
       7: ldc           #24                 // String accountGroupId
       9: iload_2
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #17                 // String projectId
      18: iload_1
      19: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      28: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      31: areturn

  public java.util.Collection<net.nemerosa.ontrack.model.security.AccountGroup> findAccountGroupsByGlobalRole(net.nemerosa.ontrack.model.security.GlobalRole, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.security.AccountGroup>);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #25                 // String SELECT G.* FROM ACCOUNT_GROUPS G INNER JOIN GROUP_GLOBAL_AUTHORIZATIONS A ON A.ACCOUNTGROUP = G.ID WHERE A.ROLE = :role ORDER BY G.NAME
       6: aload_0
       7: ldc           #20                 // String role
       9: aload_1
      10: invokevirtual #26                 // Method net/nemerosa/ontrack/model/security/GlobalRole.getId:()Ljava/lang/String;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: aload_2
      18: invokedynamic #27,  0             // InvokeDynamic #0:mapRow:(Lnet/nemerosa/ontrack/repository/RoleJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      23: invokevirtual #28                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      26: areturn

  public java.util.Collection<net.nemerosa.ontrack.model.security.Account> findAccountsByGlobalRole(net.nemerosa.ontrack.model.security.GlobalRole, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.security.Account>);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #29                 // String SELECT G.* FROM ACCOUNTS G INNER JOIN GLOBAL_AUTHORIZATIONS A ON A.ACCOUNT = G.ID WHERE A.ROLE = :role ORDER BY G.NAME
       6: aload_0
       7: ldc           #20                 // String role
       9: aload_1
      10: invokevirtual #26                 // Method net/nemerosa/ontrack/model/security/GlobalRole.getId:()Ljava/lang/String;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: aload_2
      18: invokedynamic #30,  0             // InvokeDynamic #1:mapRow:(Lnet/nemerosa/ontrack/repository/RoleJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      23: invokevirtual #28                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      26: areturn

  public java.util.Collection<net.nemerosa.ontrack.model.security.AccountGroup> findAccountGroupsByProjectRole(net.nemerosa.ontrack.model.structure.Project, net.nemerosa.ontrack.model.security.ProjectRole, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.security.AccountGroup>);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #31                 // String SELECT G.* FROM ACCOUNT_GROUPS G INNER JOIN GROUP_PROJECT_AUTHORIZATIONS A ON A.ACCOUNTGROUP = G.ID WHERE A.ROLE = :role AND A.PROJECT = :project ORDER BY G.NAME
       6: aload_0
       7: ldc           #20                 // String role
       9: aload_2
      10: invokevirtual #32                 // Method net/nemerosa/ontrack/model/security/ProjectRole.getId:()Ljava/lang/String;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #33                 // String project
      18: aload_1
      19: invokevirtual #34                 // Method net/nemerosa/ontrack/model/structure/Project.id:()I
      22: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      25: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      28: aload_0
      29: aload_3
      30: invokedynamic #35,  0             // InvokeDynamic #2:mapRow:(Lnet/nemerosa/ontrack/repository/RoleJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      35: invokevirtual #28                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      38: areturn

  public java.util.Collection<net.nemerosa.ontrack.model.security.Account> findAccountsByProjectRole(net.nemerosa.ontrack.model.structure.Project, net.nemerosa.ontrack.model.security.ProjectRole, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.security.Account>);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #36                 // String SELECT G.* FROM ACCOUNTS G INNER JOIN PROJECT_AUTHORIZATIONS A ON A.ACCOUNT = G.ID WHERE A.ROLE = :role AND A.PROJECT = :project ORDER BY G.NAME
       6: aload_0
       7: ldc           #20                 // String role
       9: aload_2
      10: invokevirtual #32                 // Method net/nemerosa/ontrack/model/security/ProjectRole.getId:()Ljava/lang/String;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #33                 // String project
      18: aload_1
      19: invokevirtual #34                 // Method net/nemerosa/ontrack/model/structure/Project.id:()I
      22: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      25: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      28: aload_0
      29: aload_3
      30: invokedynamic #37,  0             // InvokeDynamic #3:mapRow:(Lnet/nemerosa/ontrack/repository/RoleJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      35: invokevirtual #28                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      38: areturn

  public java.util.Collection<net.nemerosa.ontrack.model.security.ProjectRoleAssociation> findProjectRoleAssociationsByAccount(int, java.util.function.BiFunction<java.lang.Integer, java.lang.String, java.util.Optional<net.nemerosa.ontrack.model.security.ProjectRoleAssociation>>);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #38                 // String SELECT PROJECT, ROLE FROM PROJECT_AUTHORIZATIONS WHERE ACCOUNT = :accountId
       6: aload_0
       7: ldc           #3                  // String accountId
       9: iload_1
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_2
      17: invokedynamic #39,  0             // InvokeDynamic #4:mapRow:(Ljava/util/function/BiFunction;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #28                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      25: invokeinterface #40,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      30: invokedynamic #41,  0             // InvokeDynamic #5:test:()Ljava/util/function/Predicate;
      35: invokeinterface #42,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      40: invokedynamic #43,  0             // InvokeDynamic #6:apply:()Ljava/util/function/Function;
      45: invokeinterface #44,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      50: invokestatic  #45                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      53: invokeinterface #46,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      58: checkcast     #47                 // class java/util/Collection
      61: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.security.ProjectRoleAssociation> findProjectRoleAssociationsByAccount(int, int, java.util.function.BiFunction<java.lang.Integer, java.lang.String, java.util.Optional<net.nemerosa.ontrack.model.security.ProjectRoleAssociation>>);
    Code:
       0: aload_0
       1: ldc           #48                 // String SELECT PROJECT, ROLE FROM PROJECT_AUTHORIZATIONS WHERE ACCOUNT = :accountId AND PROJECT = :projectId
       3: aload_0
       4: ldc           #3                  // String accountId
       6: iload_1
       7: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #17                 // String projectId
      15: iload_2
      16: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      19: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: aload_3
      23: invokedynamic #49,  0             // InvokeDynamic #7:mapRow:(Ljava/util/function/BiFunction;)Lorg/springframework/jdbc/core/RowMapper;
      28: invokevirtual #50                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      31: checkcast     #51                 // class java/util/Optional
      34: astore        4
      36: aload         4
      38: ifnull        46
      41: aload         4
      43: goto          49
      46: invokestatic  #52                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      49: areturn

  public java.util.Collection<net.nemerosa.ontrack.model.security.ProjectRoleAssociation> findProjectRoleAssociationsByGroup(int, java.util.function.BiFunction<java.lang.Integer, java.lang.String, java.util.Optional<net.nemerosa.ontrack.model.security.ProjectRoleAssociation>>);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #53                 // String SELECT PROJECT, ROLE FROM GROUP_PROJECT_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId
       6: aload_0
       7: ldc           #10                 // String groupId
       9: iload_1
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_2
      17: invokedynamic #54,  0             // InvokeDynamic #8:mapRow:(Ljava/util/function/BiFunction;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #28                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      25: invokeinterface #40,  1           // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      30: invokedynamic #41,  0             // InvokeDynamic #5:test:()Ljava/util/function/Predicate;
      35: invokeinterface #42,  2           // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      40: invokedynamic #43,  0             // InvokeDynamic #6:apply:()Ljava/util/function/Function;
      45: invokeinterface #44,  2           // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      50: invokestatic  #45                 // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      53: invokeinterface #46,  2           // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      58: checkcast     #47                 // class java/util/Collection
      61: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.security.ProjectRoleAssociation> findProjectRoleAssociationsByGroup(int, int, java.util.function.BiFunction<java.lang.Integer, java.lang.String, java.util.Optional<net.nemerosa.ontrack.model.security.ProjectRoleAssociation>>);
    Code:
       0: aload_0
       1: ldc           #55                 // String SELECT PROJECT, ROLE FROM GROUP_PROJECT_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId AND PROJECT = :projectId
       3: aload_0
       4: ldc           #10                 // String groupId
       6: iload_1
       7: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #17                 // String projectId
      15: iload_2
      16: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      19: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: aload_3
      23: invokedynamic #56,  0             // InvokeDynamic #9:mapRow:(Ljava/util/function/BiFunction;)Lorg/springframework/jdbc/core/RowMapper;
      28: invokevirtual #50                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      31: checkcast     #51                 // class java/util/Optional
      34: astore        4
      36: aload         4
      38: ifnull        46
      41: aload         4
      43: goto          49
      46: invokestatic  #52                 // Method java/util/Optional.empty:()Ljava/util/Optional;
      49: areturn

  public net.nemerosa.ontrack.model.Ack saveGlobalRoleForAccount(int, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #12                 // String DELETE FROM GLOBAL_AUTHORIZATIONS WHERE ACCOUNT = :accountId
       6: aload_0
       7: ldc           #3                  // String accountId
       9: iload_1
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      19: pop
      20: aload_0
      21: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      24: ldc           #57                 // String INSERT INTO GLOBAL_AUTHORIZATIONS (ACCOUNT, ROLE) VALUES (:accountId, :role)
      26: aload_0
      27: ldc           #3                  // String accountId
      29: iload_1
      30: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      33: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      36: ldc           #20                 // String role
      38: aload_2
      39: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      42: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      45: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      48: areturn

  public net.nemerosa.ontrack.model.Ack saveGlobalRoleForGroup(int, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #15                 // String DELETE FROM GROUP_GLOBAL_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId
       6: aload_0
       7: ldc           #10                 // String groupId
       9: iload_1
      10: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      19: pop
      20: aload_0
      21: invokevirtual #11                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      24: ldc           #58                 // String INSERT INTO GROUP_GLOBAL_AUTHORIZATIONS (ACCOUNTGROUP, ROLE) VALUES (:groupId, :role)
      26: aload_0
      27: ldc           #10                 // String groupId
      29: iload_1
      30: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      33: invokevirtual #5                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      36: ldc           #20                 // String role
      38: aload_2
      39: invokevirtual #18                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      42: invokevirtual #13                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      45: invokestatic  #14                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      48: areturn

  private static java.util.Optional lambda$findProjectRoleAssociationsByGroup$7(java.util.function.BiFunction, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #33                 // String project
       4: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
       9: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      12: aload_1
      13: ldc           #20                 // String role
      15: invokeinterface #60,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      20: invokeinterface #61,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #51                 // class java/util/Optional
      28: areturn

  private static java.util.Optional lambda$findProjectRoleAssociationsByGroup$6(java.util.function.BiFunction, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #33                 // String project
       4: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
       9: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      12: aload_1
      13: ldc           #20                 // String role
      15: invokeinterface #60,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      20: invokeinterface #61,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #51                 // class java/util/Optional
      28: areturn

  private static java.util.Optional lambda$findProjectRoleAssociationsByAccount$5(java.util.function.BiFunction, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #33                 // String project
       4: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
       9: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      12: aload_1
      13: ldc           #20                 // String role
      15: invokeinterface #60,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      20: invokeinterface #61,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #51                 // class java/util/Optional
      28: areturn

  private static java.util.Optional lambda$findProjectRoleAssociationsByAccount$4(java.util.function.BiFunction, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #33                 // String project
       4: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
       9: invokestatic  #4                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      12: aload_1
      13: ldc           #20                 // String role
      15: invokeinterface #60,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      20: invokeinterface #61,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
      25: checkcast     #51                 // class java/util/Optional
      28: areturn

  private net.nemerosa.ontrack.model.security.Account lambda$findAccountsByProjectRole$3(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: aload_0
       2: aload_2
       3: invokevirtual #62                 // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
       6: invokeinterface #63,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #64                 // class net/nemerosa/ontrack/model/security/Account
      14: areturn

  private net.nemerosa.ontrack.model.security.AccountGroup lambda$findAccountGroupsByProjectRole$2(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: aload_0
       2: aload_2
       3: invokevirtual #62                 // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
       6: invokeinterface #63,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #65                 // class net/nemerosa/ontrack/model/security/AccountGroup
      14: areturn

  private net.nemerosa.ontrack.model.security.Account lambda$findAccountsByGlobalRole$1(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: aload_0
       2: aload_2
       3: invokevirtual #62                 // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
       6: invokeinterface #63,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #64                 // class net/nemerosa/ontrack/model/security/Account
      14: areturn

  private net.nemerosa.ontrack.model.security.AccountGroup lambda$findAccountGroupsByGlobalRole$0(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: aload_0
       2: aload_2
       3: invokevirtual #62                 // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
       6: invokeinterface #63,  2           // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      11: checkcast     #65                 // class net/nemerosa/ontrack/model/security/AccountGroup
      14: areturn
}
