Compiled from "StructureJdbcRepository.java"
public class net.nemerosa.ontrack.repository.StructureJdbcRepository extends net.nemerosa.ontrack.repository.support.AbstractJdbcRepository implements net.nemerosa.ontrack.repository.StructureRepository {
  private final net.nemerosa.ontrack.model.structure.ValidationDataTypeService validationDataTypeService;

  private final net.nemerosa.ontrack.repository.ValidationDataTypeConfigRepository validationDataTypeConfigRepository;

  public net.nemerosa.ontrack.repository.StructureJdbcRepository(javax.sql.DataSource, net.nemerosa.ontrack.model.structure.ValidationDataTypeService, net.nemerosa.ontrack.repository.ValidationDataTypeConfigRepository);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository."<init>":(Ljavax/sql/DataSource;)V
       5: aload_0
       6: aload_2
       7: putfield      #2                  // Field validationDataTypeService:Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeService;
      10: aload_0
      11: aload_3
      12: putfield      #3                  // Field validationDataTypeConfigRepository:Lnet/nemerosa/ontrack/repository/ValidationDataTypeConfigRepository;
      15: return

  public net.nemerosa.ontrack.model.structure.Project newProject(net.nemerosa.ontrack.model.structure.Project);
    Code:
       0: aload_0
       1: ldc           #4                  // String INSERT INTO PROJECTS(NAME, DESCRIPTION, DISABLED, CREATION, CREATOR) VALUES (:name, :description, :disabled, :creation, :creator)
       3: aload_0
       4: ldc           #5                  // String name
       6: aload_1
       7: invokevirtual #6                  // Method net/nemerosa/ontrack/model/structure/Project.getName:()Ljava/lang/String;
      10: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #8                  // String description
      15: aload_1
      16: invokevirtual #9                  // Method net/nemerosa/ontrack/model/structure/Project.getDescription:()Ljava/lang/String;
      19: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: ldc           #11                 // String disabled
      24: aload_1
      25: invokevirtual #12                 // Method net/nemerosa/ontrack/model/structure/Project.isDisabled:()Z
      28: invokestatic  #13                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      31: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      34: ldc           #14                 // String creation
      36: aload_1
      37: invokevirtual #15                 // Method net/nemerosa/ontrack/model/structure/Project.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      40: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      43: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      46: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      49: ldc           #18                 // String creator
      51: aload_1
      52: invokevirtual #15                 // Method net/nemerosa/ontrack/model/structure/Project.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      55: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      58: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      61: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      64: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      67: istore_2
      68: aload_1
      69: aload_0
      70: iload_2
      71: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      74: invokevirtual #23                 // Method net/nemerosa/ontrack/model/structure/Project.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Project;
      77: areturn
      78: astore_2
      79: new           #25                 // class net/nemerosa/ontrack/model/exceptions/ProjectNameAlreadyDefinedException
      82: dup
      83: aload_1
      84: invokevirtual #6                  // Method net/nemerosa/ontrack/model/structure/Project.getName:()Ljava/lang/String;
      87: invokespecial #26                 // Method net/nemerosa/ontrack/model/exceptions/ProjectNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      90: athrow
    Exception table:
       from    to  target type
           0    77    78   Class org/springframework/dao/DuplicateKeyException

  public java.util.List<net.nemerosa.ontrack.model.structure.Project> getProjectList();
    Code:
       0: aload_0
       1: invokevirtual #27                 // Method getJdbcTemplate:()Lorg/springframework/jdbc/core/JdbcTemplate;
       4: ldc           #28                 // String SELECT * FROM PROJECTS ORDER BY NAME
       6: aload_0
       7: invokedynamic #29,  0             // InvokeDynamic #0:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      12: invokevirtual #30                 // Method org/springframework/jdbc/core/JdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      15: areturn

  public net.nemerosa.ontrack.model.structure.Project findProjectByID(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #31                 // String SELECT * FROM PROJECTS WHERE ID = :id
       3: aload_0
       4: ldc           #32                 // String id
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #35,  0             // InvokeDynamic #1:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      25: checkcast     #37                 // class net/nemerosa/ontrack/model/structure/Project
      28: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.Project> findProjectsByNamePattern(java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #39                 // String SELECT * FROM PROJECTS WHERE NAME ILIKE :pattern ORDER BY NAME
       6: aload_0
       7: ldc           #40                 // String pattern
       9: aload_1
      10: invokedynamic #41,  0             // InvokeDynamic #2:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      15: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      18: aload_0
      19: invokedynamic #42,  0             // InvokeDynamic #3:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      24: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      27: areturn

  public net.nemerosa.ontrack.model.structure.Project getProject(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #44                 // Method findProjectByID:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Project;
       5: astore_2
       6: aload_2
       7: ifnull        12
      10: aload_2
      11: areturn
      12: new           #45                 // class net/nemerosa/ontrack/model/exceptions/ProjectNotFoundException
      15: dup
      16: aload_1
      17: invokespecial #46                 // Method net/nemerosa/ontrack/model/exceptions/ProjectNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      20: athrow

  public java.util.Optional<net.nemerosa.ontrack.model.structure.Project> getProjectByName(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #47                 // String SELECT * FROM PROJECTS WHERE NAME = :name
       3: aload_0
       4: ldc           #5                  // String name
       6: aload_1
       7: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      10: aload_0
      11: invokedynamic #48,  0             // InvokeDynamic #4:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      16: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      19: checkcast     #37                 // class net/nemerosa/ontrack/model/structure/Project
      22: invokestatic  #49                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      25: areturn

  public void saveProject(net.nemerosa.ontrack.model.structure.Project);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #50                 // String UPDATE PROJECTS SET NAME = :name, DESCRIPTION = :description, DISABLED = :disabled WHERE ID = :id
       6: aload_0
       7: ldc           #5                  // String name
       9: aload_1
      10: invokevirtual #6                  // Method net/nemerosa/ontrack/model/structure/Project.getName:()Ljava/lang/String;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #8                  // String description
      18: aload_1
      19: invokevirtual #9                  // Method net/nemerosa/ontrack/model/structure/Project.getDescription:()Ljava/lang/String;
      22: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: ldc           #11                 // String disabled
      27: aload_1
      28: invokevirtual #12                 // Method net/nemerosa/ontrack/model/structure/Project.isDisabled:()Z
      31: invokestatic  #13                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      34: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: ldc           #32                 // String id
      39: aload_1
      40: invokevirtual #51                 // Method net/nemerosa/ontrack/model/structure/Project.getId:()Lnet/nemerosa/ontrack/model/structure/ID;
      43: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      46: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      49: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      52: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      55: pop
      56: goto          72
      59: astore_2
      60: new           #25                 // class net/nemerosa/ontrack/model/exceptions/ProjectNameAlreadyDefinedException
      63: dup
      64: aload_1
      65: invokevirtual #6                  // Method net/nemerosa/ontrack/model/structure/Project.getName:()Ljava/lang/String;
      68: invokespecial #26                 // Method net/nemerosa/ontrack/model/exceptions/ProjectNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      71: athrow
      72: return
    Exception table:
       from    to  target type
           0    56    59   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.Ack deleteProject(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #53                 // String DELETE FROM PROJECTS WHERE ID = :id
       6: aload_0
       7: ldc           #32                 // String id
       9: aload_1
      10: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      22: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      25: areturn

  public net.nemerosa.ontrack.model.structure.Branch findBranchByID(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #55                 // String SELECT * FROM BRANCHES WHERE ID = :id
       3: aload_0
       4: ldc           #32                 // String id
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #56,  0             // InvokeDynamic #5:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      25: checkcast     #57                 // class net/nemerosa/ontrack/model/structure/Branch
      28: areturn

  public net.nemerosa.ontrack.model.structure.Branch getBranch(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #58                 // Method findBranchByID:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Branch;
       5: astore_2
       6: aload_2
       7: ifnull        12
      10: aload_2
      11: areturn
      12: new           #59                 // class net/nemerosa/ontrack/model/exceptions/BranchNotFoundException
      15: dup
      16: aload_1
      17: invokespecial #60                 // Method net/nemerosa/ontrack/model/exceptions/BranchNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      20: athrow

  public java.util.Optional<net.nemerosa.ontrack.model.structure.Branch> getBranchByName(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #61                 // Method getProjectByName:(Ljava/lang/String;)Ljava/util/Optional;
       5: aload_0
       6: aload_2
       7: invokedynamic #62,  0             // InvokeDynamic #6:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/lang/String;)Ljava/util/function/Function;
      12: invokevirtual #63                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      15: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.Branch> getBranchesForProject(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #64                 // Method getProject:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Project;
       5: astore_2
       6: aload_0
       7: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      10: ldc           #65                 // String SELECT * FROM BRANCHES WHERE PROJECTID = :projectId ORDER BY ID DESC
      12: aload_0
      13: ldc           #66                 // String projectId
      15: aload_1
      16: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      19: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: aload_0
      26: aload_2
      27: invokedynamic #67,  0             // InvokeDynamic #7:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Project;)Lorg/springframework/jdbc/core/RowMapper;
      32: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      35: areturn

  public net.nemerosa.ontrack.model.structure.Branch newBranch(net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: ldc           #68                 // String INSERT INTO BRANCHES(PROJECTID, NAME, DESCRIPTION, DISABLED, CREATION, CREATOR) VALUES (:projectId, :name, :description, :disabled, :creation, :creator)
       3: aload_0
       4: ldc           #5                  // String name
       6: aload_1
       7: invokevirtual #69                 // Method net/nemerosa/ontrack/model/structure/Branch.getName:()Ljava/lang/String;
      10: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #8                  // String description
      15: aload_1
      16: invokevirtual #70                 // Method net/nemerosa/ontrack/model/structure/Branch.getDescription:()Ljava/lang/String;
      19: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: ldc           #11                 // String disabled
      24: aload_1
      25: invokevirtual #71                 // Method net/nemerosa/ontrack/model/structure/Branch.isDisabled:()Z
      28: invokestatic  #13                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      31: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      34: ldc           #66                 // String projectId
      36: aload_1
      37: invokevirtual #72                 // Method net/nemerosa/ontrack/model/structure/Branch.getProject:()Lnet/nemerosa/ontrack/model/structure/Project;
      40: invokevirtual #73                 // Method net/nemerosa/ontrack/model/structure/Project.id:()I
      43: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      46: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      49: ldc           #14                 // String creation
      51: aload_1
      52: invokevirtual #74                 // Method net/nemerosa/ontrack/model/structure/Branch.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      55: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      58: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      61: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      64: ldc           #18                 // String creator
      66: aload_1
      67: invokevirtual #74                 // Method net/nemerosa/ontrack/model/structure/Branch.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      70: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      73: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      76: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      79: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      82: istore_2
      83: aload_1
      84: aload_0
      85: iload_2
      86: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      89: invokevirtual #75                 // Method net/nemerosa/ontrack/model/structure/Branch.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Branch;
      92: areturn
      93: astore_2
      94: new           #76                 // class net/nemerosa/ontrack/model/exceptions/BranchNameAlreadyDefinedException
      97: dup
      98: aload_1
      99: invokevirtual #69                 // Method net/nemerosa/ontrack/model/structure/Branch.getName:()Ljava/lang/String;
     102: invokespecial #77                 // Method net/nemerosa/ontrack/model/exceptions/BranchNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
     105: athrow
    Exception table:
       from    to  target type
           0    92    93   Class org/springframework/dao/DuplicateKeyException

  public void saveBranch(net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #78                 // String UPDATE BRANCHES SET NAME = :name, DESCRIPTION = :description, DISABLED = :disabled, CREATION = :creation, CREATOR = :creator WHERE ID = :id
       6: aload_0
       7: ldc           #5                  // String name
       9: aload_1
      10: invokevirtual #69                 // Method net/nemerosa/ontrack/model/structure/Branch.getName:()Ljava/lang/String;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #8                  // String description
      18: aload_1
      19: invokevirtual #70                 // Method net/nemerosa/ontrack/model/structure/Branch.getDescription:()Ljava/lang/String;
      22: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: ldc           #11                 // String disabled
      27: aload_1
      28: invokevirtual #71                 // Method net/nemerosa/ontrack/model/structure/Branch.isDisabled:()Z
      31: invokestatic  #13                 // Method java/lang/Boolean.valueOf:(Z)Ljava/lang/Boolean;
      34: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: ldc           #14                 // String creation
      39: aload_1
      40: invokevirtual #74                 // Method net/nemerosa/ontrack/model/structure/Branch.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      43: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      46: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      49: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      52: ldc           #18                 // String creator
      54: aload_1
      55: invokevirtual #74                 // Method net/nemerosa/ontrack/model/structure/Branch.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      58: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      61: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      64: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      67: ldc           #32                 // String id
      69: aload_1
      70: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      73: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      76: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      79: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      82: pop
      83: goto          99
      86: astore_2
      87: new           #76                 // class net/nemerosa/ontrack/model/exceptions/BranchNameAlreadyDefinedException
      90: dup
      91: aload_1
      92: invokevirtual #69                 // Method net/nemerosa/ontrack/model/structure/Branch.getName:()Ljava/lang/String;
      95: invokespecial #77                 // Method net/nemerosa/ontrack/model/exceptions/BranchNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      98: athrow
      99: return
    Exception table:
       from    to  target type
           0    83    86   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.Ack deleteBranch(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #80                 // String DELETE FROM BRANCHES WHERE ID = :id
       6: aload_0
       7: ldc           #32                 // String id
       9: aload_1
      10: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      22: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      25: areturn

  public void builds(net.nemerosa.ontrack.model.structure.Branch, java.util.function.Predicate<net.nemerosa.ontrack.model.structure.Build>, net.nemerosa.ontrack.model.structure.BuildSortDirection);
    Code:
       0: aload_3
       1: getstatic     #81                 // Field net/nemerosa/ontrack/model/structure/BuildSortDirection.FROM_NEWEST:Lnet/nemerosa/ontrack/model/structure/BuildSortDirection;
       4: if_acmpne     12
       7: ldc           #82                 // String DESC
       9: goto          14
      12: ldc           #83                 // String ASC
      14: astore        4
      16: aload_0
      17: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      20: aload         4
      22: invokedynamic #84,  0             // InvokeDynamic #8:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      27: aload_0
      28: ldc           #85                 // String branchId
      30: aload_1
      31: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      34: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      37: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      40: aload_0
      41: aload_1
      42: aload_2
      43: invokedynamic #86,  0             // InvokeDynamic #9:doInPreparedStatement:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Branch;Ljava/util/function/Predicate;)Lorg/springframework/jdbc/core/PreparedStatementCallback;
      48: invokevirtual #87                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.execute:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/PreparedStatementCallback;)Ljava/lang/Object;
      51: pop
      52: return

  public void builds(net.nemerosa.ontrack.model.structure.Project, java.util.function.Predicate<net.nemerosa.ontrack.model.structure.Build>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #88                 // String SELECT B.* FROM BUILDS B INNER JOIN BRANCHES R ON R.ID = B.BRANCHID AND R.PROJECTID = :projectId ORDER BY B.ID DESC
       6: aload_0
       7: ldc           #66                 // String projectId
       9: aload_1
      10: invokevirtual #73                 // Method net/nemerosa/ontrack/model/structure/Project.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: aload_0
      20: aload_2
      21: invokedynamic #89,  0             // InvokeDynamic #10:doInPreparedStatement:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Predicate;)Lorg/springframework/jdbc/core/PreparedStatementCallback;
      26: invokevirtual #87                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.execute:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/PreparedStatementCallback;)Ljava/lang/Object;
      29: pop
      30: return

  public net.nemerosa.ontrack.model.structure.Build getLastBuildForBranch(net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: ldc           #90                 // String SELECT * FROM BUILDS WHERE BRANCHID = :branch ORDER BY ID DESC LIMIT 1
       3: aload_0
       4: ldc           #91                 // String branch
       6: aload_1
       7: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: aload_1
      18: invokedynamic #92,  0             // InvokeDynamic #11:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Branch;)Lorg/springframework/jdbc/core/RowMapper;
      23: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      26: checkcast     #93                 // class net/nemerosa/ontrack/model/structure/Build
      29: areturn

  public net.nemerosa.ontrack.model.Ack deleteBuild(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #94                 // String DELETE FROM BUILDS WHERE ID = :id
       6: aload_0
       7: ldc           #32                 // String id
       9: aload_1
      10: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      22: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      25: areturn

  public void addBuildLink(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #95                 // Method deleteBuildLink:(Lnet/nemerosa/ontrack/model/structure/ID;Lnet/nemerosa/ontrack/model/structure/ID;)V
       6: aload_0
       7: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      10: ldc           #96                 // String INSERT INTO BUILD_LINKS(BUILDID, TARGETBUILDID) VALUES (:fromBuildId, :toBuildId) ON CONFLICT(BUILDID, TARGETBUILDID) DO NOTHING
      12: aload_0
      13: ldc           #97                 // String fromBuildId
      15: aload_1
      16: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      19: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: ldc           #99                 // String toBuildId
      27: aload_2
      28: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      31: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      40: pop
      41: return

  public void deleteBuildLink(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #100                // String DELETE FROM BUILD_LINKS WHERE BUILDID = :fromBuildId AND TARGETBUILDID = :toBuildId
       6: aload_0
       7: ldc           #97                 // String fromBuildId
       9: aload_1
      10: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #99                 // String toBuildId
      21: aload_2
      22: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      25: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      31: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      34: pop
      35: return

  public java.util.List<net.nemerosa.ontrack.model.structure.Build> getBuildsUsedBy(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #101                // String SELECT F.* FROM BUILDS F INNER JOIN BUILD_LINKS BL ON BL.TARGETBUILDID = F.ID WHERE BL.BUILDID = :buildId ORDER BY F.ID DESC
       6: aload_0
       7: ldc           #102                // String buildId
       9: aload_1
      10: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: aload_0
      20: invokedynamic #104,  0            // InvokeDynamic #12:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      25: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      28: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.Build> getBuildsUsing(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #105                // String SELECT F.* FROM BUILDS F INNER JOIN BUILD_LINKS BL ON BL.BUILDID = F.ID WHERE BL.TARGETBUILDID = :buildId ORDER BY F.ID DESC
       6: aload_0
       7: ldc           #102                // String buildId
       9: aload_1
      10: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: aload_0
      20: invokedynamic #106,  0            // InvokeDynamic #13:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      25: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      28: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.Build> searchBuildsLinkedTo(java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #107                // String SELECT F.* FROM BUILDS F INNER JOIN BUILD_LINKS BL ON BL.BUILDID = F.ID INNER JOIN BUILDS T ON BL.TARGETBUILDID = T.ID INNER JOIN BRANCHES BR ON BR.ID = T.BRANCHID INNER JOIN PROJECTS P ON P.ID = BR.PROJECTID WHERE T.NAME LIKE :buildNamePattern AND P.NAME = :projectName ORDER BY F.ID DESC LIMIT 100
       6: aload_0
       7: ldc           #108                // String buildNamePattern
       9: aload_0
      10: aload_2
      11: invokevirtual #109                // Method expandBuildPattern:(Ljava/lang/String;)Ljava/lang/String;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: ldc           #110                // String projectName
      19: aload_1
      20: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      23: aload_0
      24: invokedynamic #111,  0            // InvokeDynamic #14:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      29: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      32: areturn

  public boolean isLinkedFrom(net.nemerosa.ontrack.model.structure.ID, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: ldc           #112                // String SELECT BL.BUILDID FROM BUILD_LINKS BL INNER JOIN BUILDS F ON BL.BUILDID = F.ID INNER JOIN BRANCHES BR ON BR.ID = F.BRANCHID INNER JOIN PROJECTS P ON P.ID = BR.PROJECTID WHERE BL.TARGETBUILDID = :buildId AND F.NAME LIKE :buildNamePattern AND P.NAME = :projectName LIMIT 1
       3: aload_0
       4: ldc           #102                // String buildId
       6: aload_1
       7: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #108                // String buildNamePattern
      18: aload_0
      19: aload_3
      20: invokevirtual #109                // Method expandBuildPattern:(Ljava/lang/String;)Ljava/lang/String;
      23: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      26: ldc           #110                // String projectName
      28: aload_2
      29: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      32: ldc           #113                // class java/lang/Integer
      34: invokevirtual #114                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/util/Optional;
      37: invokevirtual #115                // Method java/util/Optional.isPresent:()Z
      40: ireturn

  private java.lang.String expandBuildPattern(java.lang.String);
    Code:
       0: aload_1
       1: invokestatic  #116                // Method org/apache/commons/lang3/StringUtils.isBlank:(Ljava/lang/CharSequence;)Z
       4: ifeq          10
       7: ldc           #117                // String %
       9: areturn
      10: aload_1
      11: ldc           #118                // String *
      13: ldc           #117                // String %
      15: invokestatic  #119                // Method org/apache/commons/lang3/StringUtils.replace:(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      18: areturn

  public boolean isLinkedTo(net.nemerosa.ontrack.model.structure.ID, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: ldc           #120                // String SELECT BL.TARGETBUILDID FROM BUILD_LINKS BL INNER JOIN BUILDS T ON BL.TARGETBUILDID = T.ID INNER JOIN BRANCHES BR ON BR.ID = T.BRANCHID INNER JOIN PROJECTS P ON P.ID = BR.PROJECTID WHERE BL.BUILDID = :buildId AND T.NAME LIKE :buildNamePattern AND P.NAME = :projectName LIMIT 1
       3: aload_0
       4: ldc           #102                // String buildId
       6: aload_1
       7: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #108                // String buildNamePattern
      18: aload_0
      19: aload_3
      20: invokevirtual #109                // Method expandBuildPattern:(Ljava/lang/String;)Ljava/lang/String;
      23: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      26: ldc           #110                // String projectName
      28: aload_2
      29: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      32: ldc           #113                // class java/lang/Integer
      34: invokevirtual #114                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/util/Optional;
      37: invokevirtual #115                // Method java/util/Optional.isPresent:()Z
      40: ireturn

  public void forEachBuildLink(java.util.function.BiConsumer<net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.Build>);
    Code:
       0: aload_0
       1: invokevirtual #27                 // Method getJdbcTemplate:()Lorg/springframework/jdbc/core/JdbcTemplate;
       4: ldc           #121                // String SELECT * FROM BUILD_LINKS ORDER BY ID ASC
       6: aload_0
       7: aload_1
       8: invokedynamic #122,  0            // InvokeDynamic #15:processRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/BiConsumer;)Lorg/springframework/jdbc/core/RowCallbackHandler;
      13: invokevirtual #123                // Method org/springframework/jdbc/core/JdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/RowCallbackHandler;)V
      16: return

  protected net.nemerosa.ontrack.model.structure.Build toBuild(java.sql.ResultSet, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Branch>) throws java.sql.SQLException;
    Code:
       0: aload_2
       1: aload_0
       2: aload_1
       3: ldc           #85                 // String branchId
       5: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
       8: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #57                 // class net/nemerosa/ontrack/model/structure/Branch
      16: new           #126                // class net/nemerosa/ontrack/model/structure/NameDescription
      19: dup
      20: aload_1
      21: ldc           #5                  // String name
      23: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      28: aload_1
      29: ldc           #8                  // String description
      31: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      36: invokespecial #128                // Method net/nemerosa/ontrack/model/structure/NameDescription."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      39: aload_0
      40: aload_1
      41: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      44: invokestatic  #130                // Method net/nemerosa/ontrack/model/structure/Build.of:(Lnet/nemerosa/ontrack/model/structure/Branch;Lnet/nemerosa/ontrack/model/structure/NameDescription;Lnet/nemerosa/ontrack/model/structure/Signature;)Lnet/nemerosa/ontrack/model/structure/Build;
      47: aload_0
      48: aload_1
      49: invokevirtual #131                // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
      52: invokevirtual #132                // Method net/nemerosa/ontrack/model/structure/Build.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Build;
      55: areturn

  public net.nemerosa.ontrack.model.structure.Build newBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: ldc           #133                // String INSERT INTO BUILDS(BRANCHID, NAME, DESCRIPTION, CREATION, CREATOR) VALUES (:branchId, :name, :description, :creation, :creator)
       3: aload_0
       4: ldc           #5                  // String name
       6: aload_1
       7: invokevirtual #134                // Method net/nemerosa/ontrack/model/structure/Build.getName:()Ljava/lang/String;
      10: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #8                  // String description
      15: aload_1
      16: invokevirtual #135                // Method net/nemerosa/ontrack/model/structure/Build.getDescription:()Ljava/lang/String;
      19: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: ldc           #85                 // String branchId
      24: aload_1
      25: invokevirtual #136                // Method net/nemerosa/ontrack/model/structure/Build.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      28: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      31: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: ldc           #14                 // String creation
      39: aload_1
      40: invokevirtual #137                // Method net/nemerosa/ontrack/model/structure/Build.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      43: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      46: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      49: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      52: ldc           #18                 // String creator
      54: aload_1
      55: invokevirtual #137                // Method net/nemerosa/ontrack/model/structure/Build.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      58: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      61: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      64: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      67: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      70: istore_2
      71: aload_1
      72: aload_0
      73: iload_2
      74: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      77: invokevirtual #132                // Method net/nemerosa/ontrack/model/structure/Build.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Build;
      80: areturn
      81: astore_2
      82: new           #138                // class net/nemerosa/ontrack/model/exceptions/BuildNameAlreadyDefinedException
      85: dup
      86: aload_1
      87: invokevirtual #134                // Method net/nemerosa/ontrack/model/structure/Build.getName:()Ljava/lang/String;
      90: invokespecial #139                // Method net/nemerosa/ontrack/model/exceptions/BuildNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      93: athrow
    Exception table:
       from    to  target type
           0    80    81   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.structure.Build saveBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #140                // String UPDATE BUILDS SET NAME = :name, DESCRIPTION = :description, CREATION = :creation, CREATOR = :creator WHERE ID = :id
       6: aload_0
       7: ldc           #5                  // String name
       9: aload_1
      10: invokevirtual #134                // Method net/nemerosa/ontrack/model/structure/Build.getName:()Ljava/lang/String;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #8                  // String description
      18: aload_1
      19: invokevirtual #135                // Method net/nemerosa/ontrack/model/structure/Build.getDescription:()Ljava/lang/String;
      22: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: ldc           #14                 // String creation
      27: aload_1
      28: invokevirtual #137                // Method net/nemerosa/ontrack/model/structure/Build.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      31: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      34: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      37: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      40: ldc           #18                 // String creator
      42: aload_1
      43: invokevirtual #137                // Method net/nemerosa/ontrack/model/structure/Build.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      46: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      49: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      52: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      55: ldc           #32                 // String id
      57: aload_1
      58: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      61: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      64: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      67: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      70: pop
      71: aload_1
      72: areturn
      73: astore_2
      74: new           #138                // class net/nemerosa/ontrack/model/exceptions/BuildNameAlreadyDefinedException
      77: dup
      78: aload_1
      79: invokevirtual #134                // Method net/nemerosa/ontrack/model/structure/Build.getName:()Ljava/lang/String;
      82: invokespecial #139                // Method net/nemerosa/ontrack/model/exceptions/BuildNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      85: athrow
    Exception table:
       from    to  target type
           0    72    73   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.structure.Build findBuildByID(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #141                // String SELECT * FROM BUILDS WHERE ID = :id
       3: aload_0
       4: ldc           #32                 // String id
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #142,  0            // InvokeDynamic #16:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      25: checkcast     #93                 // class net/nemerosa/ontrack/model/structure/Build
      28: areturn

  public net.nemerosa.ontrack.model.structure.Build getBuild(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #143                // Method findBuildByID:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Build;
       5: astore_2
       6: aload_2
       7: ifnull        12
      10: aload_2
      11: areturn
      12: new           #144                // class net/nemerosa/ontrack/model/exceptions/BuildNotFoundException
      15: dup
      16: aload_1
      17: invokespecial #145                // Method net/nemerosa/ontrack/model/exceptions/BuildNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      20: athrow

  public java.util.Optional<net.nemerosa.ontrack.model.structure.Build> getBuildByName(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #146                // Method getBranchByName:(Ljava/lang/String;Ljava/lang/String;)Ljava/util/Optional;
       6: aload_0
       7: aload_3
       8: invokedynamic #147,  0            // InvokeDynamic #17:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/lang/String;)Ljava/util/function/Function;
      13: invokevirtual #63                 // Method java/util/Optional.map:(Ljava/util/function/Function;)Ljava/util/Optional;
      16: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.Build> findBuildAfterUsingNumericForm(net.nemerosa.ontrack.model.structure.ID, java.lang.String);
    Code:
       0: aload_0
       1: ldc           #148                // String SELECT * FROM (SELECT * FROM BUILDS WHERE BRANCHID = :branch AND NAME ~ \'[0-9]+\') AS MATCH_BUILDS WHERE CAST(NAME AS INT) >= CAST(:name AS INT) ORDER BY CAST(NAME AS INT) LIMIT 1
       3: aload_0
       4: ldc           #91                 // String branch
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #5                  // String name
      18: aload_2
      19: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: aload_0
      23: invokedynamic #149,  0            // InvokeDynamic #18:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      28: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      31: checkcast     #93                 // class net/nemerosa/ontrack/model/structure/Build
      34: invokestatic  #49                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      37: areturn

  public int getBuildCount(net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #150                // String SELECT COUNT(ID) FROM BUILDS WHERE BRANCHID = :branchId
       6: aload_0
       7: ldc           #85                 // String branchId
       9: aload_1
      10: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #113                // class java/lang/Integer
      21: invokevirtual #151                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      24: checkcast     #113                // class java/lang/Integer
      27: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      30: ireturn

  public int getBuildCountForProject(net.nemerosa.ontrack.model.structure.Project);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #153                // String SELECT COUNT(B.ID) FROM BUILDS B INNER JOIN BRANCHES BR ON BR.ID = B.BRANCHID WHERE BR.PROJECTID = :projectId
       6: aload_0
       7: ldc           #66                 // String projectId
       9: aload_1
      10: invokevirtual #73                 // Method net/nemerosa/ontrack/model/structure/Project.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #113                // class java/lang/Integer
      21: invokevirtual #151                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      24: checkcast     #113                // class java/lang/Integer
      27: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      30: ireturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.Build> getPreviousBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: ldc           #154                // String SELECT * FROM BUILDS WHERE BRANCHID = :branch AND ID < :id ORDER BY ID DESC LIMIT 1
       3: aload_0
       4: ldc           #91                 // String branch
       6: aload_1
       7: invokevirtual #136                // Method net/nemerosa/ontrack/model/structure/Build.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      10: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #32                 // String id
      21: aload_1
      22: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      25: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      31: aload_0
      32: invokedynamic #155,  0            // InvokeDynamic #19:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      37: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      40: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.Build> getNextBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: ldc           #157                // String SELECT * FROM BUILDS WHERE BRANCHID = :branch AND ID > :id ORDER BY ID ASC LIMIT 1
       3: aload_0
       4: ldc           #91                 // String branch
       6: aload_1
       7: invokevirtual #136                // Method net/nemerosa/ontrack/model/structure/Build.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      10: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #32                 // String id
      21: aload_1
      22: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      25: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      31: aload_0
      32: invokedynamic #158,  0            // InvokeDynamic #20:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      37: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      40: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.PromotionLevel> getPromotionLevelListForBranch(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #159                // Method getBranch:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Branch;
       5: astore_2
       6: aload_0
       7: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      10: ldc           #160                // String SELECT * FROM PROMOTION_LEVELS WHERE BRANCHID = :branchId ORDER BY ORDERNB
      12: aload_0
      13: ldc           #85                 // String branchId
      15: aload_1
      16: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      19: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: aload_0
      26: aload_2
      27: invokedynamic #161,  0            // InvokeDynamic #21:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Branch;)Lorg/springframework/jdbc/core/RowMapper;
      32: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      35: areturn

  public net.nemerosa.ontrack.model.structure.PromotionLevel newPromotionLevel(net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: ldc           #162                // String SELECT MAX(ORDERNB) FROM promotion_levels WHERE BRANCHID = :branchId
       3: aload_0
       4: ldc           #85                 // String branchId
       6: aload_1
       7: invokevirtual #163                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      10: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #113                // class java/lang/Integer
      21: invokevirtual #164                // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      24: checkcast     #113                // class java/lang/Integer
      27: astore_2
      28: aload_2
      29: ifnull        41
      32: aload_2
      33: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      36: iconst_1
      37: iadd
      38: goto          42
      41: iconst_0
      42: istore_3
      43: aload_0
      44: ldc           #165                // String INSERT INTO PROMOTION_LEVELS(BRANCHID, NAME, DESCRIPTION, ORDERNB, CREATION, CREATOR) VALUES (:branchId, :name, :description, :orderNb, :creation, :creator)
      46: aload_0
      47: ldc           #5                  // String name
      49: aload_1
      50: invokevirtual #166                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getName:()Ljava/lang/String;
      53: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      56: ldc           #8                  // String description
      58: aload_1
      59: invokevirtual #167                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getDescription:()Ljava/lang/String;
      62: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      65: ldc           #85                 // String branchId
      67: aload_1
      68: invokevirtual #163                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      71: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      74: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      77: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      80: ldc           #168                // String orderNb
      82: iload_3
      83: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      86: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      89: ldc           #14                 // String creation
      91: aload_1
      92: invokevirtual #169                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      95: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      98: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
     101: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     104: ldc           #18                 // String creator
     106: aload_1
     107: invokevirtual #169                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
     110: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
     113: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
     116: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     119: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
     122: istore        4
     124: aload_1
     125: aload_0
     126: iload         4
     128: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
     131: invokevirtual #170                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
     134: areturn
     135: astore_2
     136: new           #171                // class net/nemerosa/ontrack/model/exceptions/PromotionLevelNameAlreadyDefinedException
     139: dup
     140: aload_1
     141: invokevirtual #166                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getName:()Ljava/lang/String;
     144: invokespecial #172                // Method net/nemerosa/ontrack/model/exceptions/PromotionLevelNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
     147: athrow
    Exception table:
       from    to  target type
           0   134   135   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.structure.PromotionLevel getPromotionLevel(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #173                // Method findPromotionLevelByID:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
       5: astore_2
       6: aload_2
       7: ifnull        12
      10: aload_2
      11: areturn
      12: new           #174                // class net/nemerosa/ontrack/model/exceptions/PromotionLevelNotFoundException
      15: dup
      16: aload_1
      17: invokespecial #175                // Method net/nemerosa/ontrack/model/exceptions/PromotionLevelNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      20: athrow

  public net.nemerosa.ontrack.model.structure.PromotionLevel findPromotionLevelByID(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #176                // String SELECT * FROM PROMOTION_LEVELS WHERE ID = :id
       3: aload_0
       4: ldc           #32                 // String id
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #177,  0            // InvokeDynamic #22:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      25: checkcast     #178                // class net/nemerosa/ontrack/model/structure/PromotionLevel
      28: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.PromotionLevel> getPromotionLevelByName(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #146                // Method getBranchByName:(Ljava/lang/String;Ljava/lang/String;)Ljava/util/Optional;
       6: aload_0
       7: aload_3
       8: invokedynamic #179,  0            // InvokeDynamic #23:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/lang/String;)Ljava/util/function/Function;
      13: invokevirtual #180                // Method java/util/Optional.flatMap:(Ljava/util/function/Function;)Ljava/util/Optional;
      16: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.PromotionLevel> getPromotionLevelByName(net.nemerosa.ontrack.model.structure.Branch, java.lang.String);
    Code:
       0: aload_0
       1: ldc           #181                // String SELECT * FROM PROMOTION_LEVELS WHERE BRANCHID = :branch AND NAME = :name
       3: aload_0
       4: ldc           #5                  // String name
       6: aload_2
       7: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      10: ldc           #91                 // String branch
      12: aload_1
      13: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      16: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      19: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: aload_0
      23: aload_1
      24: invokedynamic #182,  0            // InvokeDynamic #24:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Branch;)Lorg/springframework/jdbc/core/RowMapper;
      29: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      32: areturn

  public net.nemerosa.ontrack.common.Document getPromotionLevelImage(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #183                // String SELECT IMAGETYPE, IMAGEBYTES FROM PROMOTION_LEVELS WHERE ID = :id
       3: aload_0
       4: ldc           #32                 // String id
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #184,  0            // InvokeDynamic #25:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      25: getstatic     #185                // Field net/nemerosa/ontrack/common/Document.EMPTY:Lnet/nemerosa/ontrack/common/Document;
      28: invokevirtual #186                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #187                // class net/nemerosa/ontrack/common/Document
      34: areturn

  public void setPromotionLevelImage(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.common.Document);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #188                // String UPDATE PROMOTION_LEVELS SET IMAGETYPE = :type, IMAGEBYTES = :content WHERE ID = :id
       6: aload_0
       7: ldc           #32                 // String id
       9: aload_1
      10: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #189                // String type
      21: aload_2
      22: ifnull        32
      25: aload_2
      26: invokevirtual #190                // Method net/nemerosa/ontrack/common/Document.getType:()Ljava/lang/String;
      29: goto          33
      32: aconst_null
      33: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      36: ldc           #191                // String content
      38: aload_2
      39: ifnull        49
      42: aload_2
      43: invokevirtual #192                // Method net/nemerosa/ontrack/common/Document.getContent:()[B
      46: goto          50
      49: aconst_null
      50: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      53: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      56: pop
      57: return

  public void savePromotionLevel(net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #193                // String UPDATE PROMOTION_LEVELS SET NAME = :name, DESCRIPTION = :description WHERE ID = :id
       6: aload_0
       7: ldc           #5                  // String name
       9: aload_1
      10: invokevirtual #166                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getName:()Ljava/lang/String;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #8                  // String description
      18: aload_1
      19: invokevirtual #167                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getDescription:()Ljava/lang/String;
      22: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: ldc           #32                 // String id
      27: aload_1
      28: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      31: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      40: pop
      41: goto          57
      44: astore_2
      45: new           #171                // class net/nemerosa/ontrack/model/exceptions/PromotionLevelNameAlreadyDefinedException
      48: dup
      49: aload_1
      50: invokevirtual #166                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getName:()Ljava/lang/String;
      53: invokespecial #172                // Method net/nemerosa/ontrack/model/exceptions/PromotionLevelNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: return
    Exception table:
       from    to  target type
           0    41    44   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.Ack deletePromotionLevel(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #195                // String DELETE FROM PROMOTION_LEVELS WHERE ID = :id
       6: aload_0
       7: ldc           #32                 // String id
       9: aload_1
      10: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      22: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      25: areturn

  public void reorderPromotionLevels(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Reordering);
    Code:
       0: iconst_1
       1: istore_3
       2: aload_2
       3: invokevirtual #196                // Method net/nemerosa/ontrack/model/structure/Reordering.getIds:()Ljava/util/List;
       6: invokeinterface #197,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      11: astore        4
      13: aload         4
      15: invokeinterface #198,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          74
      23: aload         4
      25: invokeinterface #199,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #113                // class java/lang/Integer
      33: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      36: istore        5
      38: aload_0
      39: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      42: ldc           #200                // String UPDATE PROMOTION_LEVELS SET ORDERNB = :order WHERE ID = :id
      44: aload_0
      45: ldc           #32                 // String id
      47: iload         5
      49: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      52: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      55: ldc           #201                // String order
      57: iload_3
      58: iinc          3, 1
      61: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      64: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      67: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      70: pop
      71: goto          13
      74: return

  public net.nemerosa.ontrack.model.structure.PromotionRun newPromotionRun(net.nemerosa.ontrack.model.structure.PromotionRun);
    Code:
       0: aload_1
       1: aload_0
       2: aload_0
       3: ldc           #202                // String INSERT INTO PROMOTION_RUNS(BUILDID, PROMOTIONLEVELID, CREATION, CREATOR, DESCRIPTION) VALUES (:buildId, :promotionLevelId, :creation, :creator, :description)
       5: aload_0
       6: ldc           #102                // String buildId
       8: aload_1
       9: invokevirtual #203                // Method net/nemerosa/ontrack/model/structure/PromotionRun.getBuild:()Lnet/nemerosa/ontrack/model/structure/Build;
      12: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      15: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      21: ldc           #204                // String promotionLevelId
      23: aload_1
      24: invokevirtual #205                // Method net/nemerosa/ontrack/model/structure/PromotionRun.getPromotionLevel:()Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      27: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      30: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      33: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      36: ldc           #8                  // String description
      38: aload_1
      39: invokevirtual #206                // Method net/nemerosa/ontrack/model/structure/PromotionRun.getDescription:()Ljava/lang/String;
      42: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      45: ldc           #14                 // String creation
      47: aload_1
      48: invokevirtual #207                // Method net/nemerosa/ontrack/model/structure/PromotionRun.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      51: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      54: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      57: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      60: ldc           #18                 // String creator
      62: aload_1
      63: invokevirtual #207                // Method net/nemerosa/ontrack/model/structure/PromotionRun.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      66: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      69: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      72: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      75: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      78: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      81: invokevirtual #208                // Method net/nemerosa/ontrack/model/structure/PromotionRun.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      84: areturn

  public net.nemerosa.ontrack.model.structure.PromotionRun getPromotionRun(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #209                // Method findPromotionRunByID:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
       5: astore_2
       6: aload_2
       7: ifnull        12
      10: aload_2
      11: areturn
      12: new           #210                // class net/nemerosa/ontrack/model/exceptions/PromotionRunNotFoundException
      15: dup
      16: aload_1
      17: invokespecial #211                // Method net/nemerosa/ontrack/model/exceptions/PromotionRunNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      20: athrow

  public net.nemerosa.ontrack.model.structure.PromotionRun findPromotionRunByID(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #212                // String SELECT * FROM PROMOTION_RUNS WHERE ID = :id
       3: aload_0
       4: ldc           #32                 // String id
       6: aload_1
       7: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #213,  0            // InvokeDynamic #26:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      25: checkcast     #214                // class net/nemerosa/ontrack/model/structure/PromotionRun
      28: areturn

  public net.nemerosa.ontrack.model.Ack deletePromotionRun(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #215                // String DELETE FROM PROMOTION_RUNS WHERE ID = :promotionRunId
       6: aload_0
       7: ldc           #216                // String promotionRunId
       9: aload_1
      10: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      22: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      25: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.PromotionRun> getPromotionRunsForBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #217                // String SELECT * FROM PROMOTION_RUNS WHERE BUILDID = :buildId ORDER BY CREATION DESC
       6: aload_0
       7: ldc           #102                // String buildId
       9: aload_1
      10: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: aload_0
      20: aload_1
      21: invokedynamic #218,  0            // InvokeDynamic #27:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;)Lorg/springframework/jdbc/core/RowMapper;
      26: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      29: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.PromotionRun> getLastPromotionRunsForBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_1
       1: invokevirtual #136                // Method net/nemerosa/ontrack/model/structure/Build.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
       4: astore_2
       5: aload_0
       6: aload_2
       7: invokevirtual #219                // Method net/nemerosa/ontrack/model/structure/Branch.getId:()Lnet/nemerosa/ontrack/model/structure/ID;
      10: invokevirtual #220                // Method getPromotionLevelListForBranch:(Lnet/nemerosa/ontrack/model/structure/ID;)Ljava/util/List;
      13: astore_3
      14: aload_3
      15: invokeinterface #221,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      20: aload_0
      21: aload_1
      22: invokedynamic #222,  0            // InvokeDynamic #28:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
      27: invokeinterface #223,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      32: invokedynamic #224,  0            // InvokeDynamic #29:test:()Ljava/util/function/Predicate;
      37: invokeinterface #225,  2          // InterfaceMethod java/util/stream/Stream.filter:(Ljava/util/function/Predicate;)Ljava/util/stream/Stream;
      42: invokedynamic #226,  0            // InvokeDynamic #30:apply:()Ljava/util/function/Function;
      47: invokeinterface #223,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      52: invokestatic  #227                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      55: invokeinterface #228,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      60: checkcast     #229                // class java/util/List
      63: areturn

  public net.nemerosa.ontrack.model.structure.PromotionRun getLastPromotionRunForPromotionLevel(net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: ldc           #230                // String SELECT PR.* FROM PROMOTION_RUNS PR INNER JOIN BUILDS B ON B.ID = PR.BUILDID WHERE PROMOTIONLEVELID = :promotionLevelId ORDER BY B.ID DESC LIMIT 1
       3: aload_0
       4: ldc           #204                // String promotionLevelId
       6: aload_1
       7: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: aload_1
      18: invokedynamic #231,  0            // InvokeDynamic #31:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Lorg/springframework/jdbc/core/RowMapper;
      23: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      26: checkcast     #214                // class net/nemerosa/ontrack/model/structure/PromotionRun
      29: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.PromotionRun> getLastPromotionRun(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: ldc           #232                // String SELECT * FROM PROMOTION_RUNS WHERE BUILDID = :buildId AND PROMOTIONLEVELID = :promotionLevelId ORDER BY CREATION DESC, ID DESC LIMIT 1
       3: aload_0
       4: ldc           #102                // String buildId
       6: aload_1
       7: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #204                // String promotionLevelId
      18: aload_2
      19: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      22: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      25: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      28: aload_0
      29: aload_1
      30: aload_2
      31: invokedynamic #233,  0            // InvokeDynamic #32:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Lorg/springframework/jdbc/core/RowMapper;
      36: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      39: checkcast     #214                // class net/nemerosa/ontrack/model/structure/PromotionRun
      42: invokestatic  #49                 // Method java/util/Optional.ofNullable:(Ljava/lang/Object;)Ljava/util/Optional;
      45: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.PromotionRun> getPromotionRunsForBuildAndPromotionLevel(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #234                // String SELECT * FROM PROMOTION_RUNS WHERE BUILDID = :buildId AND PROMOTIONLEVELID = :promotionLevelId ORDER BY CREATION DESC, ID DESC
       6: aload_0
       7: ldc           #102                // String buildId
       9: aload_1
      10: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #204                // String promotionLevelId
      21: aload_2
      22: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      25: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      31: aload_0
      32: aload_1
      33: aload_2
      34: invokedynamic #235,  0            // InvokeDynamic #33:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Lorg/springframework/jdbc/core/RowMapper;
      39: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      42: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.PromotionRun> getPromotionRunsForPromotionLevel(net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #236                // String SELECT * FROM PROMOTION_RUNS WHERE PROMOTIONLEVELID = :promotionLevelId ORDER BY CREATION DESC, ID DESC
       6: aload_0
       7: ldc           #204                // String promotionLevelId
       9: aload_1
      10: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: aload_0
      20: aload_1
      21: invokedynamic #237,  0            // InvokeDynamic #34:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Lorg/springframework/jdbc/core/RowMapper;
      26: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      29: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.PromotionRun> getEarliestPromotionRunAfterBuild(net.nemerosa.ontrack.model.structure.PromotionLevel, net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: ldc           #238                // String SELECT * FROM PROMOTION_RUNS WHERE PROMOTIONLEVELID = :promotionLevelId AND BUILDID >= :buildId ORDER BY CREATION ASC, ID ASC LIMIT 1
       3: aload_0
       4: ldc           #204                // String promotionLevelId
       6: aload_1
       7: invokevirtual #194                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.id:()I
      10: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #102                // String buildId
      18: aload_2
      19: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      22: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      25: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      28: aload_0
      29: aload_1
      30: invokedynamic #239,  0            // InvokeDynamic #35:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Lorg/springframework/jdbc/core/RowMapper;
      35: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      38: areturn

  protected net.nemerosa.ontrack.model.structure.PromotionRun toPromotionRun(java.sql.ResultSet, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Build>, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.PromotionLevel>) throws java.sql.SQLException;
    Code:
       0: aload_2
       1: aload_0
       2: aload_1
       3: ldc           #102                // String buildId
       5: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
       8: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #93                 // class net/nemerosa/ontrack/model/structure/Build
      16: aload_3
      17: aload_0
      18: aload_1
      19: ldc           #204                // String promotionLevelId
      21: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
      24: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      29: checkcast     #178                // class net/nemerosa/ontrack/model/structure/PromotionLevel
      32: aload_0
      33: aload_1
      34: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      37: aload_1
      38: ldc           #8                  // String description
      40: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      45: invokestatic  #240                // Method net/nemerosa/ontrack/model/structure/PromotionRun.of:(Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;Lnet/nemerosa/ontrack/model/structure/Signature;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      48: aload_0
      49: aload_1
      50: invokevirtual #131                // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
      53: invokevirtual #208                // Method net/nemerosa/ontrack/model/structure/PromotionRun.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      56: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationStamp> getValidationStampListForBranch(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #159                // Method getBranch:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Branch;
       5: astore_2
       6: aload_0
       7: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      10: ldc           #241                // String SELECT * FROM VALIDATION_STAMPS WHERE BRANCHID = :branchId ORDER BY ORDERNB
      12: aload_0
      13: ldc           #85                 // String branchId
      15: aload_1
      16: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      19: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      22: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: aload_0
      26: aload_2
      27: invokedynamic #242,  0            // InvokeDynamic #36:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Branch;)Lorg/springframework/jdbc/core/RowMapper;
      32: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      35: areturn

  public net.nemerosa.ontrack.model.structure.ValidationStamp newValidationStamp(net.nemerosa.ontrack.model.structure.ValidationStamp);
    Code:
       0: aload_0
       1: ldc           #243                // String SELECT MAX(ORDERNB) FROM VALIDATION_STAMPS WHERE BRANCHID = :branchId
       3: aload_0
       4: ldc           #85                 // String branchId
       6: aload_1
       7: invokevirtual #244                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      10: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      13: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #113                // class java/lang/Integer
      21: invokevirtual #164                // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      24: checkcast     #113                // class java/lang/Integer
      27: astore_2
      28: aload_2
      29: ifnull        41
      32: aload_2
      33: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      36: iconst_1
      37: iadd
      38: goto          42
      41: iconst_0
      42: istore_3
      43: aload_0
      44: ldc           #245                // String INSERT INTO VALIDATION_STAMPS(BRANCHID, NAME, DESCRIPTION, ORDERNB, CREATION, CREATOR, DATA_TYPE_ID, DATA_TYPE_CONFIG) VALUES (:branchId, :name, :description, :orderNb, :creation, :creator, :dataTypeId, CAST(:dataTypeConfig AS JSONB))
      46: aload_0
      47: ldc           #5                  // String name
      49: aload_1
      50: invokevirtual #246                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getName:()Ljava/lang/String;
      53: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      56: ldc           #8                  // String description
      58: aload_1
      59: invokevirtual #247                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDescription:()Ljava/lang/String;
      62: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      65: ldc           #85                 // String branchId
      67: aload_1
      68: invokevirtual #244                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getBranch:()Lnet/nemerosa/ontrack/model/structure/Branch;
      71: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      74: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      77: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      80: ldc           #168                // String orderNb
      82: iload_3
      83: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      86: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      89: ldc           #14                 // String creation
      91: aload_1
      92: invokevirtual #248                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      95: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      98: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
     101: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     104: ldc           #18                 // String creator
     106: aload_1
     107: invokevirtual #248                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
     110: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
     113: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
     116: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     119: ldc           #249                // String dataTypeId
     121: aload_1
     122: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     125: ifnull        141
     128: aload_1
     129: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     132: invokevirtual #251                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeConfig.getDescriptor:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor;
     135: invokevirtual #252                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor.getId:()Ljava/lang/String;
     138: goto          142
     141: aconst_null
     142: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     145: ldc           #253                // String dataTypeConfig
     147: aload_1
     148: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     151: ifnull        168
     154: aload_0
     155: aload_1
     156: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     159: invokevirtual #254                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeConfig.getConfig:()Ljava/lang/Object;
     162: invokevirtual #255                // Method writeJson:(Ljava/lang/Object;)Ljava/lang/String;
     165: goto          169
     168: aconst_null
     169: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     172: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
     175: istore        4
     177: aload_1
     178: aload_0
     179: iload         4
     181: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
     184: invokevirtual #256                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
     187: areturn
     188: astore_2
     189: new           #257                // class net/nemerosa/ontrack/model/exceptions/ValidationStampNameAlreadyDefinedException
     192: dup
     193: aload_1
     194: invokevirtual #246                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getName:()Ljava/lang/String;
     197: invokespecial #258                // Method net/nemerosa/ontrack/model/exceptions/ValidationStampNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
     200: athrow
    Exception table:
       from    to  target type
           0   187   188   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.structure.ValidationStamp getValidationStamp(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #259                // Method findValidationStampByID:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
       5: astore_2
       6: aload_2
       7: ifnull        12
      10: aload_2
      11: areturn
      12: new           #260                // class net/nemerosa/ontrack/model/exceptions/ValidationStampNotFoundException
      15: dup
      16: aload_1
      17: invokespecial #261                // Method net/nemerosa/ontrack/model/exceptions/ValidationStampNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      20: athrow

  public net.nemerosa.ontrack.model.structure.ValidationStamp findValidationStampByID(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc_w         #262                // String SELECT * FROM VALIDATION_STAMPS WHERE ID = :id
       4: aload_0
       5: ldc           #32                 // String id
       7: aload_1
       8: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      11: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: aload_0
      18: invokedynamic #263,  0            // InvokeDynamic #37:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      23: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      26: checkcast     #264                // class net/nemerosa/ontrack/model/structure/ValidationStamp
      29: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.ValidationStamp> getValidationStampByName(java.lang.String, java.lang.String, java.lang.String);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #146                // Method getBranchByName:(Ljava/lang/String;Ljava/lang/String;)Ljava/util/Optional;
       6: aload_0
       7: aload_3
       8: invokedynamic #265,  0            // InvokeDynamic #38:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/lang/String;)Ljava/util/function/Function;
      13: invokevirtual #180                // Method java/util/Optional.flatMap:(Ljava/util/function/Function;)Ljava/util/Optional;
      16: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.ValidationStamp> getValidationStampByName(net.nemerosa.ontrack.model.structure.Branch, java.lang.String);
    Code:
       0: aload_0
       1: ldc_w         #266                // String SELECT * FROM VALIDATION_STAMPS WHERE NAME = :name AND BRANCHID = :branch
       4: aload_0
       5: ldc           #5                  // String name
       7: aload_2
       8: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      11: ldc           #91                 // String branch
      13: aload_1
      14: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      17: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      20: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      23: aload_0
      24: aload_1
      25: invokedynamic #267,  0            // InvokeDynamic #39:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Branch;)Lorg/springframework/jdbc/core/RowMapper;
      30: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      33: areturn

  public net.nemerosa.ontrack.common.Document getValidationStampImage(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc_w         #268                // String SELECT IMAGETYPE, IMAGEBYTES FROM VALIDATION_STAMPS WHERE ID = :id
       4: aload_0
       5: ldc           #32                 // String id
       7: aload_1
       8: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      11: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: aload_0
      18: invokedynamic #269,  0            // InvokeDynamic #40:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      23: invokevirtual #156                // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      26: getstatic     #185                // Field net/nemerosa/ontrack/common/Document.EMPTY:Lnet/nemerosa/ontrack/common/Document;
      29: invokevirtual #186                // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      32: checkcast     #187                // class net/nemerosa/ontrack/common/Document
      35: areturn

  public void setValidationStampImage(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.common.Document);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #270                // String UPDATE VALIDATION_STAMPS SET IMAGETYPE = :type, IMAGEBYTES = :content WHERE ID = :id
       7: aload_0
       8: ldc           #32                 // String id
      10: aload_1
      11: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc           #189                // String type
      22: aload_2
      23: invokestatic  #271                // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      26: ifeq          36
      29: aload_2
      30: invokevirtual #190                // Method net/nemerosa/ontrack/common/Document.getType:()Ljava/lang/String;
      33: goto          37
      36: aconst_null
      37: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      40: ldc           #191                // String content
      42: aload_2
      43: invokestatic  #271                // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      46: ifeq          56
      49: aload_2
      50: invokevirtual #192                // Method net/nemerosa/ontrack/common/Document.getContent:()[B
      53: goto          57
      56: aconst_null
      57: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      60: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      63: pop
      64: return

  public void bulkUpdatePromotionLevels(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #272                // Method getPromotionLevel:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
       5: astore_2
       6: aload_2
       7: invokevirtual #167                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getDescription:()Ljava/lang/String;
      10: astore_3
      11: aload_2
      12: invokevirtual #166                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.getName:()Ljava/lang/String;
      15: astore        4
      17: aload_0
      18: aload_1
      19: invokevirtual #273                // Method getPromotionLevelImage:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/common/Document;
      22: astore        5
      24: aload_0
      25: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      28: ldc_w         #274                // String UPDATE PROMOTION_LEVELS SET IMAGETYPE = :type, IMAGEBYTES = :content, DESCRIPTION = :description WHERE ID <> :id AND NAME = :name
      31: aload_0
      32: ldc           #32                 // String id
      34: aload_1
      35: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      38: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      41: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      44: ldc           #5                  // String name
      46: aload         4
      48: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      51: ldc           #8                  // String description
      53: aload_3
      54: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      57: ldc           #189                // String type
      59: aload         5
      61: invokestatic  #271                // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      64: ifeq          75
      67: aload         5
      69: invokevirtual #190                // Method net/nemerosa/ontrack/common/Document.getType:()Ljava/lang/String;
      72: goto          76
      75: aconst_null
      76: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      79: ldc           #191                // String content
      81: aload         5
      83: invokestatic  #271                // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      86: ifeq          97
      89: aload         5
      91: invokevirtual #192                // Method net/nemerosa/ontrack/common/Document.getContent:()[B
      94: goto          98
      97: aconst_null
      98: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     101: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
     104: pop
     105: return

  public void bulkUpdateValidationStamps(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #275                // Method getValidationStamp:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
       5: astore_2
       6: aload_2
       7: invokevirtual #247                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDescription:()Ljava/lang/String;
      10: astore_3
      11: aload_2
      12: invokevirtual #246                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getName:()Ljava/lang/String;
      15: astore        4
      17: aload_0
      18: aload_1
      19: invokevirtual #276                // Method getValidationStampImage:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/common/Document;
      22: astore        5
      24: aload_0
      25: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      28: ldc_w         #277                // String UPDATE VALIDATION_STAMPS SET IMAGETYPE = :type, IMAGEBYTES = :content, DESCRIPTION = :description, DATA_TYPE_ID = :dataTypeId, DATA_TYPE_CONFIG = CAST(:dataTypeConfig AS JSONB) WHERE ID <> :id AND NAME = :name
      31: aload_0
      32: ldc           #32                 // String id
      34: aload_1
      35: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      38: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      41: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      44: ldc           #5                  // String name
      46: aload         4
      48: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      51: ldc           #8                  // String description
      53: aload_3
      54: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      57: ldc           #189                // String type
      59: aload         5
      61: invokestatic  #271                // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      64: ifeq          75
      67: aload         5
      69: invokevirtual #190                // Method net/nemerosa/ontrack/common/Document.getType:()Ljava/lang/String;
      72: goto          76
      75: aconst_null
      76: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      79: ldc           #191                // String content
      81: aload         5
      83: invokestatic  #271                // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      86: ifeq          97
      89: aload         5
      91: invokevirtual #192                // Method net/nemerosa/ontrack/common/Document.getContent:()[B
      94: goto          98
      97: aconst_null
      98: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     101: ldc           #249                // String dataTypeId
     103: aload_2
     104: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     107: ifnull        123
     110: aload_2
     111: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     114: invokevirtual #251                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeConfig.getDescriptor:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor;
     117: invokevirtual #252                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor.getId:()Ljava/lang/String;
     120: goto          124
     123: aconst_null
     124: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     127: ldc           #253                // String dataTypeConfig
     129: aload_2
     130: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     133: ifnull        150
     136: aload_0
     137: aload_2
     138: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
     141: invokevirtual #254                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeConfig.getConfig:()Ljava/lang/Object;
     144: invokevirtual #255                // Method writeJson:(Ljava/lang/Object;)Ljava/lang/String;
     147: goto          151
     150: aconst_null
     151: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     154: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
     157: pop
     158: return

  public void saveValidationStamp(net.nemerosa.ontrack.model.structure.ValidationStamp);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #278                // String UPDATE VALIDATION_STAMPS SET NAME = :name, DESCRIPTION = :description, DATA_TYPE_ID = :dataTypeId, DATA_TYPE_CONFIG = CAST(:dataTypeConfig AS JSONB) WHERE ID = :id
       7: aload_0
       8: ldc           #5                  // String name
      10: aload_1
      11: invokevirtual #246                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getName:()Ljava/lang/String;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: ldc           #8                  // String description
      19: aload_1
      20: invokevirtual #247                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDescription:()Ljava/lang/String;
      23: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      26: ldc           #32                 // String id
      28: aload_1
      29: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      32: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      35: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      38: ldc           #249                // String dataTypeId
      40: aload_1
      41: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
      44: ifnull        60
      47: aload_1
      48: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
      51: invokevirtual #251                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeConfig.getDescriptor:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor;
      54: invokevirtual #252                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor.getId:()Ljava/lang/String;
      57: goto          61
      60: aconst_null
      61: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      64: ldc           #253                // String dataTypeConfig
      66: aload_1
      67: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
      70: ifnull        87
      73: aload_0
      74: aload_1
      75: invokevirtual #250                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getDataType:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
      78: invokevirtual #254                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeConfig.getConfig:()Ljava/lang/Object;
      81: invokevirtual #255                // Method writeJson:(Ljava/lang/Object;)Ljava/lang/String;
      84: goto          88
      87: aconst_null
      88: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      91: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      94: pop
      95: goto          111
      98: astore_2
      99: new           #257                // class net/nemerosa/ontrack/model/exceptions/ValidationStampNameAlreadyDefinedException
     102: dup
     103: aload_1
     104: invokevirtual #246                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.getName:()Ljava/lang/String;
     107: invokespecial #258                // Method net/nemerosa/ontrack/model/exceptions/ValidationStampNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
     110: athrow
     111: return
    Exception table:
       from    to  target type
           0    95    98   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.Ack deleteValidationStamp(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #280                // String DELETE FROM VALIDATION_STAMPS WHERE ID = :id
       7: aload_0
       8: ldc           #32                 // String id
      10: aload_1
      11: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      23: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      26: areturn

  public net.nemerosa.ontrack.model.Ack deleteValidationRun(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #281                // String DELETE FROM VALIDATION_RUNS WHERE ID = :id
       7: aload_0
       8: ldc           #32                 // String id
      10: aload_1
      11: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      23: invokestatic  #54                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      26: areturn

  public void reorderValidationStamps(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Reordering);
    Code:
       0: iconst_1
       1: istore_3
       2: aload_2
       3: invokevirtual #196                // Method net/nemerosa/ontrack/model/structure/Reordering.getIds:()Ljava/util/List;
       6: invokeinterface #197,  1          // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      11: astore        4
      13: aload         4
      15: invokeinterface #198,  1          // InterfaceMethod java/util/Iterator.hasNext:()Z
      20: ifeq          75
      23: aload         4
      25: invokeinterface #199,  1          // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      30: checkcast     #113                // class java/lang/Integer
      33: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      36: istore        5
      38: aload_0
      39: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      42: ldc_w         #282                // String UPDATE VALIDATION_STAMPS SET ORDERNB = :order WHERE ID = :id
      45: aload_0
      46: ldc           #32                 // String id
      48: iload         5
      50: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      53: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      56: ldc           #201                // String order
      58: iload_3
      59: iinc          3, 1
      62: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      65: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      68: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      71: pop
      72: goto          13
      75: return

  public void forEachValidationRun(java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>, java.util.function.Consumer<net.nemerosa.ontrack.model.structure.ValidationRun>);
    Code:
       0: aload_0
       1: invokevirtual #283                // Method getProjectList:()Ljava/util/List;
       4: aload_0
       5: aload_1
       6: aload_2
       7: invokedynamic #284,  0            // InvokeDynamic #41:accept:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;Ljava/util/function/Consumer;)Ljava/util/function/Consumer;
      12: invokeinterface #285,  2          // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      17: return

  public net.nemerosa.ontrack.model.structure.ValidationRun newValidationRun(net.nemerosa.ontrack.model.structure.ValidationRun, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: ldc_w         #286                // String INSERT INTO VALIDATION_RUNS(BUILDID, VALIDATIONSTAMPID) VALUES (:buildId, :validationStampId)
       4: aload_0
       5: ldc           #102                // String buildId
       7: aload_1
       8: invokevirtual #287                // Method net/nemerosa/ontrack/model/structure/ValidationRun.getBuild:()Lnet/nemerosa/ontrack/model/structure/Build;
      11: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc_w         #288                // String validationStampId
      23: aload_1
      24: invokevirtual #289                // Method net/nemerosa/ontrack/model/structure/ValidationRun.getValidationStamp:()Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      27: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      30: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      33: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      36: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      39: istore_3
      40: aload_1
      41: invokevirtual #290                // Method net/nemerosa/ontrack/model/structure/ValidationRun.getData:()Lnet/nemerosa/ontrack/model/structure/ValidationRunData;
      44: ifnull        101
      47: aload_0
      48: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      51: ldc_w         #291                // String INSERT INTO VALIDATION_RUN_DATA(VALIDATION_RUN, DATA_TYPE_ID, DATA) VALUES (:validationRunId, :dataTypeId, CAST(:data AS JSONB))
      54: aload_0
      55: ldc_w         #292                // String validationRunId
      58: iload_3
      59: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      62: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      65: ldc           #249                // String dataTypeId
      67: aload_1
      68: invokevirtual #290                // Method net/nemerosa/ontrack/model/structure/ValidationRun.getData:()Lnet/nemerosa/ontrack/model/structure/ValidationRunData;
      71: invokevirtual #293                // Method net/nemerosa/ontrack/model/structure/ValidationRunData.getDescriptor:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor;
      74: invokevirtual #252                // Method net/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor.getId:()Ljava/lang/String;
      77: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      80: ldc_w         #294                // String data
      83: aload_0
      84: aload_1
      85: invokevirtual #290                // Method net/nemerosa/ontrack/model/structure/ValidationRun.getData:()Lnet/nemerosa/ontrack/model/structure/ValidationRunData;
      88: invokevirtual #295                // Method net/nemerosa/ontrack/model/structure/ValidationRunData.getData:()Ljava/lang/Object;
      91: invokevirtual #255                // Method writeJson:(Ljava/lang/Object;)Ljava/lang/String;
      94: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      97: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
     100: pop
     101: aload_1
     102: invokevirtual #296                // Method net/nemerosa/ontrack/model/structure/ValidationRun.getValidationRunStatuses:()Ljava/util/List;
     105: aload_0
     106: iload_3
     107: invokedynamic #297,  0            // InvokeDynamic #42:accept:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;I)Ljava/util/function/Consumer;
     112: invokeinterface #285,  2          // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
     117: aload_0
     118: iload_3
     119: invokestatic  #298                // Method net/nemerosa/ontrack/model/structure/ID.of:(I)Lnet/nemerosa/ontrack/model/structure/ID;
     122: aload_2
     123: invokevirtual #299                // Method getValidationRun:(Lnet/nemerosa/ontrack/model/structure/ID;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
     126: areturn

  public net.nemerosa.ontrack.model.structure.ValidationRun getValidationRun(net.nemerosa.ontrack.model.structure.ID, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #300                // Method findValidationRunByID:(Lnet/nemerosa/ontrack/model/structure/ID;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
       6: astore_3
       7: aload_3
       8: ifnull        13
      11: aload_3
      12: areturn
      13: new           #301                // class net/nemerosa/ontrack/model/exceptions/ValidationRunNotFoundException
      16: dup
      17: aload_1
      18: invokespecial #302                // Method net/nemerosa/ontrack/model/exceptions/ValidationRunNotFoundException."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;)V
      21: athrow

  public net.nemerosa.ontrack.model.structure.ValidationRun findValidationRunByID(net.nemerosa.ontrack.model.structure.ID, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: ldc_w         #303                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID WHERE VR.ID = :id
       4: aload_0
       5: ldc           #32                 // String id
       7: aload_1
       8: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      11: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: aload_0
      18: aload_2
      19: invokedynamic #304,  0            // InvokeDynamic #43:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      24: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      27: checkcast     #305                // class net/nemerosa/ontrack/model/structure/ValidationRun
      30: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForBuild(net.nemerosa.ontrack.model.structure.Build, int, int, net.nemerosa.ontrack.model.structure.ValidationRunSortingMode, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload         4
       2: ifnull        10
       5: aload         4
       7: goto          13
      10: getstatic     #306                // Field net/nemerosa/ontrack/model/structure/ValidationRunSortingMode.ID:Lnet/nemerosa/ontrack/model/structure/ValidationRunSortingMode;
      13: astore        6
      15: ldc_w         #307                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID
      18: astore        7
      20: ldc_w         #308                // String
      23: astore        8
      25: getstatic     #309                // Field net/nemerosa/ontrack/repository/StructureJdbcRepository$1.$SwitchMap$net$nemerosa$ontrack$model$structure$ValidationRunSortingMode:[I
      28: aload         6
      30: invokevirtual #310                // Method net/nemerosa/ontrack/model/structure/ValidationRunSortingMode.ordinal:()I
      33: iaload
      34: lookupswitch  { // 2
                     1: 60
                     2: 68
               default: 82
          }
      60: ldc_w         #311                // String ORDER BY VR.ID DESC
      63: astore        8
      65: goto          82
      68: aload         7
      70: invokedynamic #312,  0            // InvokeDynamic #44:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      75: astore        7
      77: ldc_w         #313                // String ORDER BY RI.RUN_TIME DESC, VR.ID DESC
      80: astore        8
      82: aload_0
      83: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      86: aload         7
      88: aload         8
      90: invokedynamic #314,  0            // InvokeDynamic #45:makeConcatWithConstants:(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
      95: aload_0
      96: ldc           #102                // String buildId
      98: aload_1
      99: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
     102: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     105: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     108: ldc_w         #315                // String offset
     111: iload_2
     112: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     115: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     118: ldc_w         #316                // String limit
     121: iload_3
     122: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     125: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     128: aload_0
     129: aload_1
     130: aload         5
     132: invokedynamic #317,  0            // InvokeDynamic #46:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
     137: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
     140: areturn

  public int getValidationRunsCountForBuild(net.nemerosa.ontrack.model.structure.Build);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #318                // String SELECT COUNT(ID) FROM VALIDATION_RUNS WHERE BUILDID = :buildId
       7: aload_0
       8: ldc           #102                // String buildId
      10: aload_1
      11: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc           #113                // class java/lang/Integer
      22: invokevirtual #151                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      25: checkcast     #113                // class java/lang/Integer
      28: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      31: ireturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForBuildAndValidationStamp(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ValidationStamp, int, int, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #319                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID WHERE VR.BUILDID = :buildId AND VR.VALIDATIONSTAMPID = :validationStampId ORDER BY VR.ID DESC LIMIT :limit OFFSET :offset
       7: aload_0
       8: ldc           #102                // String buildId
      10: aload_1
      11: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc_w         #288                // String validationStampId
      23: aload_2
      24: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      27: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      30: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      33: ldc_w         #316                // String limit
      36: iload         4
      38: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      41: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      44: ldc_w         #315                // String offset
      47: iload_3
      48: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      51: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      54: aload_0
      55: aload_1
      56: aload_2
      57: aload         5
      59: invokedynamic #320,  0            // InvokeDynamic #47:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      64: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      67: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForBuildAndValidationStampAndStatus(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.List<net.nemerosa.ontrack.model.structure.ValidationRunStatusID>, int, int, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #321                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID LEFT JOIN VALIDATION_RUN_STATUSES VST ON VST.VALIDATIONRUNID = VR.ID WHERE VR.BUILDID = :buildId AND VR.VALIDATIONSTAMPID = :validationStampId AND VST.VALIDATIONRUNSTATUSID IN (:statuses) ORDER BY VR.ID DESC LIMIT :limit OFFSET :offset
       7: aload_0
       8: ldc           #102                // String buildId
      10: aload_1
      11: invokevirtual #103                // Method net/nemerosa/ontrack/model/structure/Build.id:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc_w         #288                // String validationStampId
      23: aload_2
      24: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      27: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      30: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      33: ldc_w         #322                // String statuses
      36: aload_3
      37: invokeinterface #221,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      42: invokedynamic #323,  0            // InvokeDynamic #48:apply:()Ljava/util/function/Function;
      47: invokeinterface #223,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      52: invokestatic  #227                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      55: invokeinterface #228,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      60: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      63: ldc_w         #316                // String limit
      66: iload         5
      68: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      71: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      74: ldc_w         #315                // String offset
      77: iload         4
      79: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      82: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      85: aload_0
      86: aload_1
      87: aload_2
      88: aload         6
      90: invokedynamic #324,  0            // InvokeDynamic #49:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      95: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      98: areturn

  public int getValidationRunsCountForBuildAndValidationStamp(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #325                // String SELECT COUNT(ID) FROM VALIDATION_RUNS WHERE BUILDID = :buildId AND VALIDATIONSTAMPID = :validationStampId
       7: aload_0
       8: ldc           #102                // String buildId
      10: aload_1
      11: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc_w         #288                // String validationStampId
      23: aload_2
      24: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      27: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      30: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      33: ldc           #113                // class java/lang/Integer
      35: invokevirtual #151                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      38: checkcast     #113                // class java/lang/Integer
      41: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      44: ireturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForValidationStamp(net.nemerosa.ontrack.model.structure.ValidationStamp, int, int, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #326                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID WHERE VR.VALIDATIONSTAMPID = :validationStampId ORDER BY VR.BUILDID DESC, VR.ID DESC LIMIT :limit OFFSET :offset
       7: aload_0
       8: ldc_w         #288                // String validationStampId
      11: aload_1
      12: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      15: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      21: ldc_w         #316                // String limit
      24: iload_3
      25: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      28: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      31: ldc_w         #315                // String offset
      34: iload_2
      35: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      38: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      41: aload_0
      42: aload_1
      43: aload         4
      45: invokedynamic #327,  0            // InvokeDynamic #50:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      50: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      53: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForValidationStampBetweenDates(net.nemerosa.ontrack.model.structure.ValidationStamp, java.time.LocalDateTime, java.time.LocalDateTime, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #328                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID INNER JOIN VALIDATION_RUN_STATUSES VRS ON VRS.ID = (SELECT ID FROM VALIDATION_RUN_STATUSES WHERE VALIDATIONRUNID = VR.ID ORDER BY ID DESC LIMIT 1) WHERE VR.VALIDATIONSTAMPID = :validationStampId AND VRS.CREATION >= :start AND VRS.CREATION <= :end ORDER BY VR.BUILDID DESC, VR.ID DESC
       7: aload_0
       8: ldc_w         #288                // String validationStampId
      11: aload_1
      12: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      15: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      21: ldc_w         #329                // String start
      24: aload_2
      25: invokestatic  #330                // Method net/nemerosa/ontrack/common/Time.forStorage:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      28: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      31: ldc_w         #331                // String end
      34: aload_3
      35: invokestatic  #330                // Method net/nemerosa/ontrack/common/Time.forStorage:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      38: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      41: aload_0
      42: aload_1
      43: aload         4
      45: invokedynamic #332,  0            // InvokeDynamic #51:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      50: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      53: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForValidationStampAndStatus(net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.List<net.nemerosa.ontrack.model.structure.ValidationRunStatusID>, int, int, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #333                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID LEFT JOIN VALIDATION_RUN_STATUSES VST ON VST.VALIDATIONRUNID = VR.ID WHERE VR.VALIDATIONSTAMPID = :validationStampId AND VST.VALIDATIONRUNSTATUSID IN (:statuses) ORDER BY VR.BUILDID DESC, VR.ID DESC LIMIT :limit OFFSET :offset
       7: aload_0
       8: ldc_w         #288                // String validationStampId
      11: aload_1
      12: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      15: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      21: ldc_w         #322                // String statuses
      24: aload_2
      25: invokeinterface #221,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      30: invokedynamic #323,  0            // InvokeDynamic #48:apply:()Ljava/util/function/Function;
      35: invokeinterface #223,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      40: invokestatic  #227                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      43: invokeinterface #228,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      48: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      51: ldc_w         #316                // String limit
      54: iload         4
      56: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      59: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      62: ldc_w         #315                // String offset
      65: iload_3
      66: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      69: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      72: aload_0
      73: aload_1
      74: aload         5
      76: invokedynamic #334,  0            // InvokeDynamic #52:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      81: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      84: areturn

  public java.util.List<net.nemerosa.ontrack.model.structure.ValidationRun> getValidationRunsForStatus(net.nemerosa.ontrack.model.structure.Branch, java.util.List<net.nemerosa.ontrack.model.structure.ValidationRunStatusID>, int, int, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #335                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID INNER JOIN VALIDATION_RUN_STATUSES VST ON VST.VALIDATIONRUNID = VR.ID INNER JOIN BUILDS B ON B.ID = VR.BUILDID WHERE B.BRANCHID = :branchId AND VST.VALIDATIONRUNSTATUSID IN (:statuses) ORDER BY VR.BUILDID DESC, VR.ID DESC LIMIT :limit OFFSET :offset
       7: aload_0
       8: ldc           #85                 // String branchId
      10: aload_1
      11: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc_w         #322                // String statuses
      23: aload_2
      24: invokeinterface #221,  1          // InterfaceMethod java/util/List.stream:()Ljava/util/stream/Stream;
      29: invokedynamic #323,  0            // InvokeDynamic #48:apply:()Ljava/util/function/Function;
      34: invokeinterface #223,  2          // InterfaceMethod java/util/stream/Stream.map:(Ljava/util/function/Function;)Ljava/util/stream/Stream;
      39: invokestatic  #227                // Method java/util/stream/Collectors.toList:()Ljava/util/stream/Collector;
      42: invokeinterface #228,  2          // InterfaceMethod java/util/stream/Stream.collect:(Ljava/util/stream/Collector;)Ljava/lang/Object;
      47: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      50: ldc_w         #316                // String limit
      53: iload         4
      55: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      58: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      61: ldc_w         #315                // String offset
      64: iload_3
      65: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      68: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      71: aload_0
      72: aload         5
      74: invokedynamic #336,  0            // InvokeDynamic #53:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      79: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      82: areturn

  public int getValidationRunsCountForValidationStamp(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #337                // String SELECT COUNT(ID) FROM VALIDATION_RUNS WHERE VALIDATIONSTAMPID = :validationStampId
       7: aload_0
       8: ldc_w         #288                // String validationStampId
      11: aload_1
      12: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      15: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      21: ldc           #113                // class java/lang/Integer
      23: invokevirtual #151                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      26: checkcast     #113                // class java/lang/Integer
      29: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      32: ireturn

  public net.nemerosa.ontrack.model.structure.ValidationRun newValidationRunStatus(net.nemerosa.ontrack.model.structure.ValidationRun, net.nemerosa.ontrack.model.structure.ValidationRunStatus);
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #338                // Method net/nemerosa/ontrack/model/structure/ValidationRun.id:()I
       5: aload_2
       6: invokevirtual #339                // Method newValidationRunStatus:(ILnet/nemerosa/ontrack/model/structure/ValidationRunStatus;)V
       9: aload_1
      10: aload_2
      11: invokevirtual #340                // Method net/nemerosa/ontrack/model/structure/ValidationRun.add:(Lnet/nemerosa/ontrack/model/structure/ValidationRunStatus;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      14: areturn

  public net.nemerosa.ontrack.model.structure.ValidationRun getParentValidationRun(net.nemerosa.ontrack.model.structure.ID, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: ldc_w         #341                // String SELECT VALIDATIONRUNID FROM VALIDATION_RUN_STATUSES WHERE ID = :id
       4: aload_0
       5: ldc           #32                 // String id
       7: aload_1
       8: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      11: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: ldc           #113                // class java/lang/Integer
      19: invokevirtual #164                // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      22: checkcast     #113                // class java/lang/Integer
      25: invokevirtual #152                // Method java/lang/Integer.intValue:()I
      28: istore_3
      29: aload_0
      30: iload_3
      31: invokestatic  #298                // Method net/nemerosa/ontrack/model/structure/ID.of:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      34: aload_2
      35: invokevirtual #299                // Method getValidationRun:(Lnet/nemerosa/ontrack/model/structure/ID;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      38: areturn

  public net.nemerosa.ontrack.model.structure.ValidationRunStatus getValidationRunStatus(net.nemerosa.ontrack.model.structure.ID, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>);
    Code:
       0: aload_0
       1: ldc_w         #342                // String SELECT * FROM VALIDATION_RUN_STATUSES WHERE ID = :id
       4: aload_0
       5: ldc           #32                 // String id
       7: aload_1
       8: invokevirtual #98                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      11: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      14: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      17: aload_0
      18: aload_2
      19: invokedynamic #343,  0            // InvokeDynamic #54:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      24: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      27: checkcast     #344                // class net/nemerosa/ontrack/model/structure/ValidationRunStatus
      30: areturn

  public void saveValidationRunStatusComment(net.nemerosa.ontrack.model.structure.ValidationRunStatus, java.lang.String);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #345                // String UPDATE VALIDATION_RUN_STATUSES SET DESCRIPTION = :description WHERE ID = :id
       7: aload_0
       8: ldc           #32                 // String id
      10: aload_1
      11: invokevirtual #346                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatus.id:()I
      14: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc           #8                  // String description
      22: aload_2
      23: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      26: invokevirtual #52                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      29: pop
      30: return

  protected net.nemerosa.ontrack.model.structure.ValidationRunStatus toValidationRunStatus(java.sql.ResultSet, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>) throws java.sql.SQLException;
    Code:
       0: new           #344                // class net/nemerosa/ontrack/model/structure/ValidationRunStatus
       3: dup
       4: aload_0
       5: aload_1
       6: invokevirtual #131                // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
       9: aload_0
      10: aload_1
      11: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      14: aload_2
      15: aload_1
      16: ldc_w         #347                // String validationRunStatusId
      19: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      24: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      29: checkcast     #348                // class net/nemerosa/ontrack/model/structure/ValidationRunStatusID
      32: aload_1
      33: ldc           #8                  // String description
      35: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      40: invokespecial #349                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatus."<init>":(Lnet/nemerosa/ontrack/model/structure/ID;Lnet/nemerosa/ontrack/model/structure/Signature;Lnet/nemerosa/ontrack/model/structure/ValidationRunStatusID;Ljava/lang/String;)V
      43: areturn

  protected void newValidationRunStatus(int, net.nemerosa.ontrack.model.structure.ValidationRunStatus);
    Code:
       0: aload_0
       1: ldc_w         #350                // String INSERT INTO VALIDATION_RUN_STATUSES(VALIDATIONRUNID, VALIDATIONRUNSTATUSID, CREATION, CREATOR, DESCRIPTION) VALUES (:validationRunId, :validationRunStatusId, :creation, :creator, :description)
       4: aload_0
       5: ldc_w         #292                // String validationRunId
       8: iload_1
       9: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      12: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      15: ldc_w         #347                // String validationRunStatusId
      18: aload_2
      19: invokevirtual #351                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatus.getStatusID:()Lnet/nemerosa/ontrack/model/structure/ValidationRunStatusID;
      22: invokevirtual #352                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatusID.getId:()Ljava/lang/String;
      25: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      28: ldc           #8                  // String description
      30: aload_2
      31: invokevirtual #353                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatus.getDescription:()Ljava/lang/String;
      34: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: ldc           #14                 // String creation
      39: aload_2
      40: invokevirtual #354                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatus.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      43: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/Signature.getTime:()Ljava/time/LocalDateTime;
      46: invokestatic  #17                 // Method dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      49: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      52: ldc           #18                 // String creator
      54: aload_2
      55: invokevirtual #354                // Method net/nemerosa/ontrack/model/structure/ValidationRunStatus.getSignature:()Lnet/nemerosa/ontrack/model/structure/Signature;
      58: invokevirtual #19                 // Method net/nemerosa/ontrack/model/structure/Signature.getUser:()Lnet/nemerosa/ontrack/model/structure/User;
      61: invokevirtual #20                 // Method net/nemerosa/ontrack/model/structure/User.getName:()Ljava/lang/String;
      64: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      67: invokevirtual #21                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      70: pop
      71: return

  protected net.nemerosa.ontrack.model.structure.ValidationRun toValidationRun(java.sql.ResultSet, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Build>, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.ValidationStamp>, java.util.function.Function<java.lang.String, net.nemerosa.ontrack.model.structure.ValidationRunStatusID>) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: ldc           #32                 // String id
       3: invokeinterface #355,  2          // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
       8: istore        5
      10: aload_0
      11: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      14: ldc_w         #356                // String SELECT * FROM VALIDATION_RUN_STATUSES WHERE VALIDATIONRUNID = :validationRunId ORDER BY CREATION DESC
      17: aload_0
      18: ldc_w         #292                // String validationRunId
      21: iload         5
      23: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      26: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      29: aload_0
      30: aload         4
      32: invokedynamic #357,  0            // InvokeDynamic #55:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;)Lorg/springframework/jdbc/core/RowMapper;
      37: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      40: astore        6
      42: aload_0
      43: aload_1
      44: ldc           #102                // String buildId
      46: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
      49: astore        7
      51: aload_0
      52: aload_1
      53: ldc_w         #288                // String validationStampId
      56: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
      59: astore        8
      61: aload_0
      62: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      65: ldc_w         #358                // String SELECT COUNT(*) FROM VALIDATION_RUNS WHERE BUILDID=:buildId AND VALIDATIONSTAMPID=:validationStampId AND ID <= :id
      68: aload_0
      69: ldc           #32                 // String id
      71: iload         5
      73: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      76: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      79: ldc           #102                // String buildId
      81: aload         7
      83: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      86: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      89: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      92: ldc_w         #288                // String validationStampId
      95: aload         8
      97: invokevirtual #33                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
     100: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     103: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     106: ldc           #113                // class java/lang/Integer
     108: invokevirtual #151                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
     111: checkcast     #113                // class java/lang/Integer
     114: invokevirtual #152                // Method java/lang/Integer.intValue:()I
     117: istore        9
     119: aload_2
     120: aload         7
     122: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     127: checkcast     #93                 // class net/nemerosa/ontrack/model/structure/Build
     130: aload_3
     131: aload         8
     133: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
     138: checkcast     #264                // class net/nemerosa/ontrack/model/structure/ValidationStamp
     141: iload         9
     143: aload         6
     145: invokestatic  #359                // Method net/nemerosa/ontrack/model/structure/ValidationRun.of:(Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;ILjava/util/List;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
     148: iload         5
     150: invokestatic  #298                // Method net/nemerosa/ontrack/model/structure/ID.of:(I)Lnet/nemerosa/ontrack/model/structure/ID;
     153: invokevirtual #360                // Method net/nemerosa/ontrack/model/structure/ValidationRun.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
     156: aload_0
     157: aload_1
     158: invokevirtual #361                // Method readValidationRunData:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ValidationRunData;
     161: invokevirtual #362                // Method net/nemerosa/ontrack/model/structure/ValidationRun.withData:(Lnet/nemerosa/ontrack/model/structure/ValidationRunData;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
     164: areturn

  protected net.nemerosa.ontrack.model.structure.PromotionLevel toPromotionLevel(java.sql.ResultSet, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Branch>) throws java.sql.SQLException;
    Code:
       0: aload_2
       1: aload_0
       2: aload_1
       3: ldc           #85                 // String branchId
       5: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
       8: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #57                 // class net/nemerosa/ontrack/model/structure/Branch
      16: new           #126                // class net/nemerosa/ontrack/model/structure/NameDescription
      19: dup
      20: aload_1
      21: ldc           #5                  // String name
      23: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      28: aload_1
      29: ldc           #8                  // String description
      31: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      36: invokespecial #128                // Method net/nemerosa/ontrack/model/structure/NameDescription."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      39: invokestatic  #363                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.of:(Lnet/nemerosa/ontrack/model/structure/Branch;Lnet/nemerosa/ontrack/model/structure/NameDescription;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      42: aload_0
      43: aload_1
      44: invokevirtual #131                // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
      47: invokevirtual #170                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      50: aload_0
      51: aload_1
      52: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      55: invokevirtual #364                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.withSignature:(Lnet/nemerosa/ontrack/model/structure/Signature;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      58: aload_1
      59: ldc_w         #365                // String imagetype
      62: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      67: invokestatic  #366                // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      70: invokevirtual #367                // Method net/nemerosa/ontrack/model/structure/PromotionLevel.withImage:(Z)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      73: areturn

  protected net.nemerosa.ontrack.model.structure.ValidationStamp toValidationStamp(java.sql.ResultSet, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Branch>) throws java.sql.SQLException;
    Code:
       0: aload_2
       1: aload_0
       2: aload_1
       3: ldc           #85                 // String branchId
       5: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
       8: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      13: checkcast     #57                 // class net/nemerosa/ontrack/model/structure/Branch
      16: new           #126                // class net/nemerosa/ontrack/model/structure/NameDescription
      19: dup
      20: aload_1
      21: ldc           #5                  // String name
      23: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      28: aload_1
      29: ldc           #8                  // String description
      31: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      36: invokespecial #128                // Method net/nemerosa/ontrack/model/structure/NameDescription."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      39: invokestatic  #368                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.of:(Lnet/nemerosa/ontrack/model/structure/Branch;Lnet/nemerosa/ontrack/model/structure/NameDescription;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      42: aload_0
      43: aload_1
      44: invokevirtual #131                // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
      47: invokevirtual #256                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      50: aload_0
      51: aload_1
      52: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      55: invokevirtual #369                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.withSignature:(Lnet/nemerosa/ontrack/model/structure/Signature;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      58: aload_0
      59: getfield      #3                  // Field validationDataTypeConfigRepository:Lnet/nemerosa/ontrack/repository/ValidationDataTypeConfigRepository;
      62: aload_1
      63: invokeinterface #370,  2          // InterfaceMethod net/nemerosa/ontrack/repository/ValidationDataTypeConfigRepository.readValidationDataTypeConfig:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;
      68: invokevirtual #371                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.withDataType:(Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeConfig;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      71: aload_1
      72: ldc_w         #365                // String imagetype
      75: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      80: invokestatic  #366                // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      83: invokevirtual #372                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.withImage:(Z)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      86: areturn

  private <T> net.nemerosa.ontrack.model.structure.ValidationRunData<T> readValidationRunData(java.sql.ResultSet) throws java.sql.SQLException;
    Code:
       0: aload_1
       1: ldc_w         #373                // String DATA_TYPE_ID
       4: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
       9: astore_2
      10: aload_0
      11: aload_1
      12: ldc_w         #374                // String DATA
      15: invokevirtual #375                // Method readJson:(Ljava/sql/ResultSet;Ljava/lang/String;)Lcom/fasterxml/jackson/databind/JsonNode;
      18: astore_3
      19: aload_2
      20: invokestatic  #116                // Method org/apache/commons/lang3/StringUtils.isBlank:(Ljava/lang/CharSequence;)Z
      23: ifne          30
      26: aload_3
      27: ifnonnull     32
      30: aconst_null
      31: areturn
      32: aload_0
      33: getfield      #2                  // Field validationDataTypeService:Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeService;
      36: aload_2
      37: invokeinterface #376,  2          // InterfaceMethod net/nemerosa/ontrack/model/structure/ValidationDataTypeService.getValidationDataType:(Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ValidationDataType;
      42: astore        4
      44: aload         4
      46: ifnull        76
      49: aload         4
      51: aload_3
      52: invokeinterface #377,  2          // InterfaceMethod net/nemerosa/ontrack/model/structure/ValidationDataType.fromJson:(Lcom/fasterxml/jackson/databind/JsonNode;)Ljava/lang/Object;
      57: astore        5
      59: new           #378                // class net/nemerosa/ontrack/model/structure/ValidationRunData
      62: dup
      63: aload         4
      65: invokeinterface #379,  1          // InterfaceMethod net/nemerosa/ontrack/model/structure/ValidationDataType.getDescriptor:()Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor;
      70: aload         5
      72: invokespecial #380                // Method net/nemerosa/ontrack/model/structure/ValidationRunData."<init>":(Lnet/nemerosa/ontrack/model/structure/ValidationDataTypeDescriptor;Ljava/lang/Object;)V
      75: areturn
      76: aload_0
      77: getfield      #381                // Field logger:Lorg/apache/commons/logging/Log;
      80: aload_2
      81: invokedynamic #382,  0            // InvokeDynamic #56:makeConcatWithConstants:(Ljava/lang/String;)Ljava/lang/String;
      86: invokeinterface #383,  2          // InterfaceMethod org/apache/commons/logging/Log.warn:(Ljava/lang/Object;)V
      91: aconst_null
      92: areturn

  protected net.nemerosa.ontrack.model.structure.Branch toBranch(java.sql.ResultSet, java.util.function.Function<net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.model.structure.Project>) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: ldc           #66                 // String projectId
       4: invokevirtual #124                // Method id:(Ljava/sql/ResultSet;Ljava/lang/String;)Lnet/nemerosa/ontrack/model/structure/ID;
       7: astore_3
       8: aload_0
       9: aload_1
      10: invokevirtual #131                // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
      13: astore        4
      15: aload_2
      16: aload_3
      17: invokeinterface #125,  2          // InterfaceMethod java/util/function/Function.apply:(Ljava/lang/Object;)Ljava/lang/Object;
      22: checkcast     #37                 // class net/nemerosa/ontrack/model/structure/Project
      25: new           #126                // class net/nemerosa/ontrack/model/structure/NameDescription
      28: dup
      29: aload_1
      30: ldc           #5                  // String name
      32: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      37: aload_1
      38: ldc           #8                  // String description
      40: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      45: invokespecial #128                // Method net/nemerosa/ontrack/model/structure/NameDescription."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      48: invokestatic  #384                // Method net/nemerosa/ontrack/model/structure/Branch.of:(Lnet/nemerosa/ontrack/model/structure/Project;Lnet/nemerosa/ontrack/model/structure/NameDescription;)Lnet/nemerosa/ontrack/model/structure/Branch;
      51: aload         4
      53: invokevirtual #75                 // Method net/nemerosa/ontrack/model/structure/Branch.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Branch;
      56: aload_0
      57: aload_1
      58: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      61: invokevirtual #385                // Method net/nemerosa/ontrack/model/structure/Branch.withSignature:(Lnet/nemerosa/ontrack/model/structure/Signature;)Lnet/nemerosa/ontrack/model/structure/Branch;
      64: aload_1
      65: ldc           #11                 // String disabled
      67: invokeinterface #386,  2          // InterfaceMethod java/sql/ResultSet.getBoolean:(Ljava/lang/String;)Z
      72: invokevirtual #387                // Method net/nemerosa/ontrack/model/structure/Branch.withDisabled:(Z)Lnet/nemerosa/ontrack/model/structure/Branch;
      75: areturn

  protected net.nemerosa.ontrack.model.structure.Project toProject(java.sql.ResultSet) throws java.sql.SQLException;
    Code:
       0: new           #126                // class net/nemerosa/ontrack/model/structure/NameDescription
       3: dup
       4: aload_1
       5: ldc           #5                  // String name
       7: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      12: aload_1
      13: ldc           #8                  // String description
      15: invokeinterface #127,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      20: invokespecial #128                // Method net/nemerosa/ontrack/model/structure/NameDescription."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      23: invokestatic  #388                // Method net/nemerosa/ontrack/model/structure/Project.of:(Lnet/nemerosa/ontrack/model/structure/NameDescription;)Lnet/nemerosa/ontrack/model/structure/Project;
      26: aload_0
      27: aload_1
      28: ldc           #32                 // String id
      30: invokeinterface #355,  2          // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
      35: invokevirtual #22                 // Method id:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      38: invokevirtual #23                 // Method net/nemerosa/ontrack/model/structure/Project.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Project;
      41: aload_0
      42: aload_1
      43: invokevirtual #129                // Method readSignature:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Signature;
      46: invokevirtual #389                // Method net/nemerosa/ontrack/model/structure/Project.withSignature:(Lnet/nemerosa/ontrack/model/structure/Signature;)Lnet/nemerosa/ontrack/model/structure/Project;
      49: aload_1
      50: ldc           #11                 // String disabled
      52: invokeinterface #386,  2          // InterfaceMethod java/sql/ResultSet.getBoolean:(Ljava/lang/String;)Z
      57: invokevirtual #390                // Method net/nemerosa/ontrack/model/structure/Project.withDisabled:(Z)Lnet/nemerosa/ontrack/model/structure/Project;
      60: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRunStatus lambda$toValidationRun$78(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokevirtual #391                // Method toValidationRunStatus:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRunStatus;
       6: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRunStatus lambda$getValidationRunStatus$77(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokevirtual #391                // Method toValidationRunStatus:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRunStatus;
       6: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForStatus$76(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_0
       9: invokedynamic #393,  0            // InvokeDynamic #58:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
      14: aload_1
      15: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      18: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForValidationStampAndStatus$75(net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_3
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_1
       9: invokedynamic #395,  0            // InvokeDynamic #59:apply:(Lnet/nemerosa/ontrack/model/structure/ValidationStamp;)Ljava/util/function/Function;
      14: aload_2
      15: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      18: areturn

  private static net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationRunsForValidationStampAndStatus$74(net.nemerosa.ontrack.model.structure.ValidationStamp, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForValidationStampBetweenDates$73(net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_3
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_1
       9: invokedynamic #396,  0            // InvokeDynamic #60:apply:(Lnet/nemerosa/ontrack/model/structure/ValidationStamp;)Ljava/util/function/Function;
      14: aload_2
      15: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      18: areturn

  private static net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationRunsForValidationStampBetweenDates$72(net.nemerosa.ontrack.model.structure.ValidationStamp, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForValidationStamp$71(net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_3
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_1
       9: invokedynamic #397,  0            // InvokeDynamic #61:apply:(Lnet/nemerosa/ontrack/model/structure/ValidationStamp;)Ljava/util/function/Function;
      14: aload_2
      15: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      18: areturn

  private static net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationRunsForValidationStamp$70(net.nemerosa.ontrack.model.structure.ValidationStamp, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForBuildAndValidationStampAndStatus$69(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload         4
       3: aload_1
       4: invokedynamic #398,  0            // InvokeDynamic #62:apply:(Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
       9: aload_2
      10: invokedynamic #399,  0            // InvokeDynamic #63:apply:(Lnet/nemerosa/ontrack/model/structure/ValidationStamp;)Ljava/util/function/Function;
      15: aload_3
      16: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      19: areturn

  private static net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationRunsForBuildAndValidationStampAndStatus$68(net.nemerosa.ontrack.model.structure.ValidationStamp, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private static net.nemerosa.ontrack.model.structure.Build lambda$getValidationRunsForBuildAndValidationStampAndStatus$67(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForBuildAndValidationStamp$66(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload         4
       3: aload_1
       4: invokedynamic #400,  0            // InvokeDynamic #64:apply:(Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
       9: aload_2
      10: invokedynamic #401,  0            // InvokeDynamic #65:apply:(Lnet/nemerosa/ontrack/model/structure/ValidationStamp;)Ljava/util/function/Function;
      15: aload_3
      16: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      19: areturn

  private static net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationRunsForBuildAndValidationStamp$65(net.nemerosa.ontrack.model.structure.ValidationStamp, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private static net.nemerosa.ontrack.model.structure.Build lambda$getValidationRunsForBuildAndValidationStamp$64(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$getValidationRunsForBuild$63(net.nemerosa.ontrack.model.structure.Build, java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_3
       2: aload_1
       3: invokedynamic #402,  0            // InvokeDynamic #66:apply:(Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
       8: aload_0
       9: invokedynamic #393,  0            // InvokeDynamic #58:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
      14: aload_2
      15: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      18: areturn

  private static net.nemerosa.ontrack.model.structure.Build lambda$getValidationRunsForBuild$62(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.ValidationRun lambda$findValidationRunByID$61(java.util.function.Function, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_0
       9: invokedynamic #393,  0            // InvokeDynamic #58:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
      14: aload_1
      15: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      18: areturn

  private void lambda$newValidationRun$60(int, net.nemerosa.ontrack.model.structure.ValidationRunStatus);
    Code:
       0: aload_0
       1: iload_1
       2: aload_2
       3: invokevirtual #339                // Method newValidationRunStatus:(ILnet/nemerosa/ontrack/model/structure/ValidationRunStatus;)V
       6: return

  private void lambda$forEachValidationRun$59(java.util.function.Function, java.util.function.Consumer, net.nemerosa.ontrack.model.structure.Project);
    Code:
       0: aload_0
       1: aload_3
       2: invokevirtual #51                 // Method net/nemerosa/ontrack/model/structure/Project.getId:()Lnet/nemerosa/ontrack/model/structure/ID;
       5: invokevirtual #403                // Method getBranchesForProject:(Lnet/nemerosa/ontrack/model/structure/ID;)Ljava/util/List;
       8: aload_0
       9: aload_1
      10: aload_2
      11: invokedynamic #404,  0            // InvokeDynamic #67:accept:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;Ljava/util/function/Consumer;)Ljava/util/function/Consumer;
      16: invokeinterface #285,  2          // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      21: return

  private void lambda$forEachValidationRun$58(java.util.function.Function, java.util.function.Consumer, net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: aload_3
       2: invokevirtual #219                // Method net/nemerosa/ontrack/model/structure/Branch.getId:()Lnet/nemerosa/ontrack/model/structure/ID;
       5: invokevirtual #405                // Method getValidationStampListForBranch:(Lnet/nemerosa/ontrack/model/structure/ID;)Ljava/util/List;
       8: aload_0
       9: aload_1
      10: aload_2
      11: invokedynamic #406,  0            // InvokeDynamic #68:accept:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Ljava/util/function/Function;Ljava/util/function/Consumer;)Ljava/util/function/Consumer;
      16: invokeinterface #285,  2          // InterfaceMethod java/util/List.forEach:(Ljava/util/function/Consumer;)V
      21: return

  private void lambda$forEachValidationRun$57(java.util.function.Function, java.util.function.Consumer, net.nemerosa.ontrack.model.structure.ValidationStamp);
    Code:
       0: aload_0
       1: invokevirtual #38                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc_w         #407                // String SELECT VR.*, VDR.DATA_TYPE_ID, VDR.DATA FROM VALIDATION_RUNS VR LEFT JOIN VALIDATION_RUN_DATA VDR ON VDR.VALIDATION_RUN = VR.ID WHERE VR.VALIDATIONSTAMPID = :stampId
       7: aload_0
       8: ldc_w         #408                // String stampId
      11: aload_3
      12: invokevirtual #279                // Method net/nemerosa/ontrack/model/structure/ValidationStamp.id:()I
      15: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      18: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      21: aload_0
      22: aload_3
      23: aload_1
      24: aload_2
      25: invokedynamic #409,  0            // InvokeDynamic #69:processRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/ValidationStamp;Ljava/util/function/Function;Ljava/util/function/Consumer;)Lorg/springframework/jdbc/core/RowCallbackHandler;
      30: invokevirtual #410                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowCallbackHandler;)V
      33: return

  private void lambda$forEachValidationRun$56(net.nemerosa.ontrack.model.structure.ValidationStamp, java.util.function.Function, java.util.function.Consumer, java.sql.ResultSet) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload         4
       3: aload_0
       4: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       9: aload_1
      10: invokedynamic #411,  0            // InvokeDynamic #70:apply:(Lnet/nemerosa/ontrack/model/structure/ValidationStamp;)Ljava/util/function/Function;
      15: aload_2
      16: invokevirtual #394                // Method toValidationRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationRun;
      19: astore        5
      21: aload_3
      22: aload         5
      24: invokeinterface #412,  2          // InterfaceMethod java/util/function/Consumer.accept:(Ljava/lang/Object;)V
      29: return

  private static net.nemerosa.ontrack.model.structure.ValidationStamp lambda$forEachValidationRun$55(net.nemerosa.ontrack.model.structure.ValidationStamp, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.common.Document lambda$getValidationStampImage$54(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #413                // Method toDocument:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/common/Document;
       5: areturn

  private net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationStampByName$53(net.nemerosa.ontrack.model.structure.Branch, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #414,  0            // InvokeDynamic #71:apply:(Lnet/nemerosa/ontrack/model/structure/Branch;)Ljava/util/function/Function;
       8: invokevirtual #415                // Method toValidationStamp:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Branch lambda$getValidationStampByName$52(net.nemerosa.ontrack.model.structure.Branch, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private java.util.Optional lambda$getValidationStampByName$51(java.lang.String, net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokevirtual #416                // Method getValidationStampByName:(Lnet/nemerosa/ontrack/model/structure/Branch;Ljava/lang/String;)Ljava/util/Optional;
       6: areturn

  private net.nemerosa.ontrack.model.structure.ValidationStamp lambda$findValidationStampByID$50(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #415                // Method toValidationStamp:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      11: areturn

  private net.nemerosa.ontrack.model.structure.ValidationStamp lambda$getValidationStampListForBranch$49(net.nemerosa.ontrack.model.structure.Branch, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #418,  0            // InvokeDynamic #73:apply:(Lnet/nemerosa/ontrack/model/structure/Branch;)Ljava/util/function/Function;
       8: invokevirtual #415                // Method toValidationStamp:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/ValidationStamp;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Branch lambda$getValidationStampListForBranch$48(net.nemerosa.ontrack.model.structure.Branch, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$getEarliestPromotionRunAfterBuild$47(net.nemerosa.ontrack.model.structure.PromotionLevel, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_1
       9: invokedynamic #419,  0            // InvokeDynamic #74:apply:(Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private static net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getEarliestPromotionRunAfterBuild$46(net.nemerosa.ontrack.model.structure.PromotionLevel, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$getPromotionRunsForPromotionLevel$45(net.nemerosa.ontrack.model.structure.PromotionLevel, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_1
       9: invokedynamic #421,  0            // InvokeDynamic #75:apply:(Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private static net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getPromotionRunsForPromotionLevel$44(net.nemerosa.ontrack.model.structure.PromotionLevel, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$getPromotionRunsForBuildAndPromotionLevel$43(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.PromotionLevel, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_3
       2: aload_1
       3: invokedynamic #422,  0            // InvokeDynamic #76:apply:(Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
       8: aload_2
       9: invokedynamic #423,  0            // InvokeDynamic #77:apply:(Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private static net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getPromotionRunsForBuildAndPromotionLevel$42(net.nemerosa.ontrack.model.structure.PromotionLevel, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private static net.nemerosa.ontrack.model.structure.Build lambda$getPromotionRunsForBuildAndPromotionLevel$41(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$getLastPromotionRun$40(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.PromotionLevel, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_3
       2: aload_1
       3: invokedynamic #424,  0            // InvokeDynamic #78:apply:(Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
       8: aload_2
       9: invokedynamic #425,  0            // InvokeDynamic #79:apply:(Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private static net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getLastPromotionRun$39(net.nemerosa.ontrack.model.structure.PromotionLevel, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private static net.nemerosa.ontrack.model.structure.Build lambda$getLastPromotionRun$38(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$getLastPromotionRunForPromotionLevel$37(net.nemerosa.ontrack.model.structure.PromotionLevel, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_1
       9: invokedynamic #426,  0            // InvokeDynamic #80:apply:(Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private static net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getLastPromotionRunForPromotionLevel$36(net.nemerosa.ontrack.model.structure.PromotionLevel, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private java.util.Optional lambda$getLastPromotionRunsForBuild$35(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.PromotionLevel);
    Code:
       0: aload_0
       1: aload_1
       2: aload_2
       3: invokevirtual #427                // Method getLastPromotionRun:(Lnet/nemerosa/ontrack/model/structure/Build;Lnet/nemerosa/ontrack/model/structure/PromotionLevel;)Ljava/util/Optional;
       6: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$getPromotionRunsForBuild$34(net.nemerosa.ontrack.model.structure.Build, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #428,  0            // InvokeDynamic #81:apply:(Lnet/nemerosa/ontrack/model/structure/Build;)Ljava/util/function/Function;
       8: aload_0
       9: invokedynamic #429,  0            // InvokeDynamic #82:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private static net.nemerosa.ontrack.model.structure.Build lambda$getPromotionRunsForBuild$33(net.nemerosa.ontrack.model.structure.Build, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.PromotionRun lambda$findPromotionRunByID$32(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #392,  0            // InvokeDynamic #57:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: aload_0
       9: invokedynamic #429,  0            // InvokeDynamic #82:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
      14: invokevirtual #420                // Method toPromotionRun:(Ljava/sql/ResultSet;Ljava/util/function/Function;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionRun;
      17: areturn

  private net.nemerosa.ontrack.common.Document lambda$getPromotionLevelImage$31(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #413                // Method toDocument:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/common/Document;
       5: areturn

  private net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getPromotionLevelByName$30(net.nemerosa.ontrack.model.structure.Branch, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #430,  0            // InvokeDynamic #83:apply:(Lnet/nemerosa/ontrack/model/structure/Branch;)Ljava/util/function/Function;
       8: invokevirtual #431                // Method toPromotionLevel:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Branch lambda$getPromotionLevelByName$29(net.nemerosa.ontrack.model.structure.Branch, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private java.util.Optional lambda$getPromotionLevelByName$28(java.lang.String, net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokevirtual #432                // Method getPromotionLevelByName:(Lnet/nemerosa/ontrack/model/structure/Branch;Ljava/lang/String;)Ljava/util/Optional;
       6: areturn

  private net.nemerosa.ontrack.model.structure.PromotionLevel lambda$findPromotionLevelByID$27(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #431                // Method toPromotionLevel:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      11: areturn

  private net.nemerosa.ontrack.model.structure.PromotionLevel lambda$getPromotionLevelListForBranch$26(net.nemerosa.ontrack.model.structure.Branch, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #433,  0            // InvokeDynamic #84:apply:(Lnet/nemerosa/ontrack/model/structure/Branch;)Ljava/util/function/Function;
       8: invokevirtual #431                // Method toPromotionLevel:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/PromotionLevel;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Branch lambda$getPromotionLevelListForBranch$25(net.nemerosa.ontrack.model.structure.Branch, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getNextBuild$24(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getPreviousBuild$23(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$findBuildAfterUsingNumericForm$22(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getBuildByName$21(java.lang.String, net.nemerosa.ontrack.model.structure.Branch);
    Code:
       0: aload_0
       1: ldc_w         #435                // String SELECT * FROM BUILDS WHERE NAME = :name AND BRANCHID = :branchId
       4: aload_0
       5: ldc           #5                  // String name
       7: aload_1
       8: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      11: ldc           #85                 // String branchId
      13: aload_2
      14: invokevirtual #79                 // Method net/nemerosa/ontrack/model/structure/Branch.id:()I
      17: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      20: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      23: aload_0
      24: invokedynamic #436,  0            // InvokeDynamic #85:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      29: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      32: checkcast     #93                 // class net/nemerosa/ontrack/model/structure/Build
      35: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getBuildByName$20(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$findBuildByID$19(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private void lambda$forEachBuildLink$18(java.util.function.BiConsumer, java.sql.ResultSet) throws java.sql.SQLException;
    Code:
       0: aload_2
       1: ldc           #102                // String buildId
       3: invokeinterface #355,  2          // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
       8: istore_3
       9: aload_2
      10: ldc_w         #437                // String targetBuildId
      13: invokeinterface #355,  2          // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
      18: istore        4
      20: aload_0
      21: iload_3
      22: invokestatic  #298                // Method net/nemerosa/ontrack/model/structure/ID.of:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      25: invokevirtual #438                // Method getBuild:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Build;
      28: astore        5
      30: aload_0
      31: iload         4
      33: invokestatic  #298                // Method net/nemerosa/ontrack/model/structure/ID.of:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      36: invokevirtual #438                // Method getBuild:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/Build;
      39: astore        6
      41: aload_1
      42: aload         5
      44: aload         6
      46: invokeinterface #439,  3          // InterfaceMethod java/util/function/BiConsumer.accept:(Ljava/lang/Object;Ljava/lang/Object;)V
      51: return

  private net.nemerosa.ontrack.model.structure.Build lambda$searchBuildsLinkedTo$17(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getBuildsUsing$16(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getBuildsUsedBy$15(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Build lambda$getLastBuildForBranch$14(net.nemerosa.ontrack.model.structure.Branch, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #440,  0            // InvokeDynamic #86:apply:(Lnet/nemerosa/ontrack/model/structure/Branch;)Ljava/util/function/Function;
       8: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Branch lambda$getLastBuildForBranch$13(net.nemerosa.ontrack.model.structure.Branch, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private java.lang.Object lambda$builds$12(java.util.function.Predicate, java.sql.PreparedStatement) throws java.sql.SQLException, org.springframework.dao.DataAccessException;
    Code:
       0: aload_2
       1: invokeinterface #441,  1          // InterfaceMethod java/sql/PreparedStatement.executeQuery:()Ljava/sql/ResultSet;
       6: astore_3
       7: iconst_1
       8: istore        4
      10: aload_3
      11: invokeinterface #442,  1          // InterfaceMethod java/sql/ResultSet.next:()Z
      16: ifeq          50
      19: iload         4
      21: ifeq          50
      24: aload_0
      25: aload_3
      26: aload_0
      27: invokedynamic #417,  0            // InvokeDynamic #72:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
      32: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      35: astore        5
      37: aload_1
      38: aload         5
      40: invokeinterface #443,  2          // InterfaceMethod java/util/function/Predicate.test:(Ljava/lang/Object;)Z
      45: istore        4
      47: goto          10
      50: aconst_null
      51: areturn

  private java.lang.Object lambda$builds$11(net.nemerosa.ontrack.model.structure.Branch, java.util.function.Predicate, java.sql.PreparedStatement) throws java.sql.SQLException, org.springframework.dao.DataAccessException;
    Code:
       0: aload_3
       1: invokeinterface #441,  1          // InterfaceMethod java/sql/PreparedStatement.executeQuery:()Ljava/sql/ResultSet;
       6: astore        4
       8: iconst_1
       9: istore        5
      11: aload         4
      13: invokeinterface #442,  1          // InterfaceMethod java/sql/ResultSet.next:()Z
      18: ifeq          53
      21: iload         5
      23: ifeq          53
      26: aload_0
      27: aload         4
      29: aload_1
      30: invokedynamic #444,  0            // InvokeDynamic #87:apply:(Lnet/nemerosa/ontrack/model/structure/Branch;)Ljava/util/function/Function;
      35: invokevirtual #434                // Method toBuild:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Build;
      38: astore        6
      40: aload_2
      41: aload         6
      43: invokeinterface #443,  2          // InterfaceMethod java/util/function/Predicate.test:(Ljava/lang/Object;)Z
      48: istore        5
      50: goto          11
      53: aconst_null
      54: areturn

  private static net.nemerosa.ontrack.model.structure.Branch lambda$builds$10(net.nemerosa.ontrack.model.structure.Branch, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.Branch lambda$getBranchesForProject$9(net.nemerosa.ontrack.model.structure.Project, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #445,  0            // InvokeDynamic #88:apply:(Lnet/nemerosa/ontrack/model/structure/Project;)Ljava/util/function/Function;
       8: invokevirtual #446                // Method toBranch:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Branch;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Project lambda$getBranchesForProject$8(net.nemerosa.ontrack.model.structure.Project, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.Branch lambda$getBranchByName$7(java.lang.String, net.nemerosa.ontrack.model.structure.Project);
    Code:
       0: aload_0
       1: ldc_w         #447                // String SELECT * FROM BRANCHES WHERE PROJECTID = :project AND NAME = :name
       4: aload_0
       5: ldc           #5                  // String name
       7: aload_1
       8: invokevirtual #7                  // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      11: ldc_w         #448                // String project
      14: aload_2
      15: invokevirtual #73                 // Method net/nemerosa/ontrack/model/structure/Project.id:()I
      18: invokestatic  #34                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      21: invokevirtual #10                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      24: aload_0
      25: aload_2
      26: invokedynamic #449,  0            // InvokeDynamic #89:mapRow:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;Lnet/nemerosa/ontrack/model/structure/Project;)Lorg/springframework/jdbc/core/RowMapper;
      31: invokevirtual #36                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      34: checkcast     #57                 // class net/nemerosa/ontrack/model/structure/Branch
      37: areturn

  private net.nemerosa.ontrack.model.structure.Branch lambda$getBranchByName$6(net.nemerosa.ontrack.model.structure.Project, java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_2
       2: aload_1
       3: invokedynamic #450,  0            // InvokeDynamic #90:apply:(Lnet/nemerosa/ontrack/model/structure/Project;)Ljava/util/function/Function;
       8: invokevirtual #446                // Method toBranch:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Branch;
      11: areturn

  private static net.nemerosa.ontrack.model.structure.Project lambda$getBranchByName$5(net.nemerosa.ontrack.model.structure.Project, net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: areturn

  private net.nemerosa.ontrack.model.structure.Branch lambda$findBranchByID$4(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: aload_0
       3: invokedynamic #451,  0            // InvokeDynamic #91:apply:(Lnet/nemerosa/ontrack/repository/StructureJdbcRepository;)Ljava/util/function/Function;
       8: invokevirtual #446                // Method toBranch:(Ljava/sql/ResultSet;Ljava/util/function/Function;)Lnet/nemerosa/ontrack/model/structure/Branch;
      11: areturn

  private net.nemerosa.ontrack.model.structure.Project lambda$getProjectByName$3(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #452                // Method toProject:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Project;
       5: areturn

  private net.nemerosa.ontrack.model.structure.Project lambda$findProjectsByNamePattern$2(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #452                // Method toProject:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Project;
       5: areturn

  private net.nemerosa.ontrack.model.structure.Project lambda$findProjectByID$1(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #452                // Method toProject:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Project;
       5: areturn

  private net.nemerosa.ontrack.model.structure.Project lambda$getProjectList$0(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #452                // Method toProject:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Project;
       5: areturn
}
