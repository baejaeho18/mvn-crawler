Compiled from "PredefinedPromotionLevelJdbcRepository.java"
public class net.nemerosa.ontrack.repository.PredefinedPromotionLevelJdbcRepository extends net.nemerosa.ontrack.repository.support.AbstractJdbcRepository implements net.nemerosa.ontrack.repository.PredefinedPromotionLevelRepository {
  public net.nemerosa.ontrack.repository.PredefinedPromotionLevelJdbcRepository(javax.sql.DataSource);
    Code:
       0: aload_0
       1: aload_1
       2: invokespecial #1                  // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository."<init>":(Ljavax/sql/DataSource;)V
       5: return

  public java.util.List<net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel> getPredefinedPromotionLevels();
    Code:
       0: aload_0
       1: invokevirtual #2                  // Method getJdbcTemplate:()Lorg/springframework/jdbc/core/JdbcTemplate;
       4: ldc           #3                  // String SELECT * FROM PREDEFINED_PROMOTION_LEVELS ORDER BY ORDERNB
       6: aload_0
       7: invokedynamic #4,  0              // InvokeDynamic #0:mapRow:(Lnet/nemerosa/ontrack/repository/PredefinedPromotionLevelJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      12: invokevirtual #5                  // Method org/springframework/jdbc/core/JdbcTemplate.query:(Ljava/lang/String;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/List;
      15: areturn

  public net.nemerosa.ontrack.model.structure.ID newPredefinedPromotionLevel(net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel);
    Code:
       0: aload_0
       1: ldc           #6                  // String SELECT MAX(ORDERNB) FROM PREDEFINED_PROMOTION_LEVELS
       3: aload_0
       4: invokevirtual #7                  // Method noParams:()Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
       7: ldc           #8                  // class java/lang/Integer
       9: invokevirtual #9                  // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      12: checkcast     #8                  // class java/lang/Integer
      15: astore_2
      16: aload_2
      17: ifnull        29
      20: aload_2
      21: invokevirtual #10                 // Method java/lang/Integer.intValue:()I
      24: iconst_1
      25: iadd
      26: goto          30
      29: iconst_0
      30: istore_3
      31: aload_0
      32: ldc           #11                 // String INSERT INTO PREDEFINED_PROMOTION_LEVELS(NAME, ORDERNB, DESCRIPTION) VALUES (:name, :orderNb, :description)
      34: aload_0
      35: ldc           #12                 // String name
      37: aload_1
      38: invokevirtual #13                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.getName:()Ljava/lang/String;
      41: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      44: ldc           #15                 // String description
      46: aload_1
      47: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.getDescription:()Ljava/lang/String;
      50: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      53: ldc           #18                 // String orderNb
      55: iload_3
      56: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      59: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      62: invokevirtual #20                 // Method dbCreate:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;)I
      65: invokestatic  #21                 // Method net/nemerosa/ontrack/model/structure/ID.of:(I)Lnet/nemerosa/ontrack/model/structure/ID;
      68: areturn
      69: astore_2
      70: new           #23                 // class net/nemerosa/ontrack/model/exceptions/PredefinedPromotionLevelNameAlreadyDefinedException
      73: dup
      74: aload_1
      75: invokevirtual #13                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.getName:()Ljava/lang/String;
      78: invokespecial #24                 // Method net/nemerosa/ontrack/model/exceptions/PredefinedPromotionLevelNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      81: athrow
    Exception table:
       from    to  target type
           0    68    69   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel getPredefinedPromotionLevel(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #25                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #26                 // String SELECT * FROM PREDEFINED_PROMOTION_LEVELS WHERE ID = :id
       6: aload_0
       7: ldc           #27                 // String id
       9: aload_1
      10: invokevirtual #28                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      13: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: aload_0
      20: invokedynamic #29,  0             // InvokeDynamic #1:mapRow:(Lnet/nemerosa/ontrack/repository/PredefinedPromotionLevelJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      25: invokevirtual #30                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForObject:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      28: checkcast     #31                 // class net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel
      31: areturn

  public java.util.Optional<net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel> findPredefinedPromotionLevelByName(java.lang.String);
    Code:
       0: aload_0
       1: ldc           #32                 // String SELECT * FROM PREDEFINED_PROMOTION_LEVELS WHERE NAME = :name
       3: aload_0
       4: ldc           #12                 // String name
       6: aload_1
       7: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      10: aload_0
      11: invokedynamic #33,  0             // InvokeDynamic #2:mapRow:(Lnet/nemerosa/ontrack/repository/PredefinedPromotionLevelJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      16: invokevirtual #34                 // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      19: areturn

  public net.nemerosa.ontrack.common.Document getPredefinedPromotionLevelImage(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: ldc           #35                 // String SELECT IMAGETYPE, IMAGEBYTES FROM PREDEFINED_PROMOTION_LEVELS WHERE ID = :id
       3: aload_0
       4: ldc           #27                 // String id
       6: aload_1
       7: invokevirtual #36                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      10: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      13: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #37,  0             // InvokeDynamic #3:mapRow:(Lnet/nemerosa/ontrack/repository/PredefinedPromotionLevelJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #34                 // Method getOptional:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/util/Optional;
      25: getstatic     #38                 // Field net/nemerosa/ontrack/common/Document.EMPTY:Lnet/nemerosa/ontrack/common/Document;
      28: invokevirtual #39                 // Method java/util/Optional.orElse:(Ljava/lang/Object;)Ljava/lang/Object;
      31: checkcast     #40                 // class net/nemerosa/ontrack/common/Document
      34: areturn

  public void savePredefinedPromotionLevel(net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel);
    Code:
       0: aload_0
       1: invokevirtual #25                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #41                 // String UPDATE PREDEFINED_PROMOTION_LEVELS SET NAME = :name, DESCRIPTION = :description WHERE ID = :id
       6: aload_0
       7: ldc           #12                 // String name
       9: aload_1
      10: invokevirtual #13                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.getName:()Ljava/lang/String;
      13: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: ldc           #15                 // String description
      18: aload_1
      19: invokevirtual #16                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.getDescription:()Ljava/lang/String;
      22: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      25: ldc           #27                 // String id
      27: aload_1
      28: invokevirtual #42                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.id:()I
      31: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      34: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      37: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      40: pop
      41: goto          57
      44: astore_2
      45: new           #23                 // class net/nemerosa/ontrack/model/exceptions/PredefinedPromotionLevelNameAlreadyDefinedException
      48: dup
      49: aload_1
      50: invokevirtual #13                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.getName:()Ljava/lang/String;
      53: invokespecial #24                 // Method net/nemerosa/ontrack/model/exceptions/PredefinedPromotionLevelNameAlreadyDefinedException."<init>":(Ljava/lang/String;)V
      56: athrow
      57: return
    Exception table:
       from    to  target type
           0    41    44   Class org/springframework/dao/DuplicateKeyException

  public net.nemerosa.ontrack.model.Ack deletePredefinedPromotionLevel(net.nemerosa.ontrack.model.structure.ID);
    Code:
       0: aload_0
       1: invokevirtual #25                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #44                 // String DELETE FROM PREDEFINED_PROMOTION_LEVELS WHERE ID = :id
       6: aload_0
       7: ldc           #27                 // String id
       9: aload_1
      10: invokevirtual #28                 // Method net/nemerosa/ontrack/model/structure/ID.get:()I
      13: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      22: invokestatic  #45                 // Method net/nemerosa/ontrack/model/Ack.one:(I)Lnet/nemerosa/ontrack/model/Ack;
      25: areturn

  public void setPredefinedPromotionLevelImage(net.nemerosa.ontrack.model.structure.ID, net.nemerosa.ontrack.common.Document);
    Code:
       0: aload_0
       1: invokevirtual #25                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: ldc           #46                 // String UPDATE PREDEFINED_PROMOTION_LEVELS SET IMAGETYPE = :type, IMAGEBYTES = :content WHERE ID = :id
       6: aload_0
       7: ldc           #27                 // String id
       9: aload_1
      10: invokevirtual #36                 // Method net/nemerosa/ontrack/model/structure/ID.getValue:()I
      13: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: ldc           #47                 // String type
      21: aload_2
      22: invokestatic  #48                 // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      25: ifeq          35
      28: aload_2
      29: invokevirtual #49                 // Method net/nemerosa/ontrack/common/Document.getType:()Ljava/lang/String;
      32: goto          36
      35: aconst_null
      36: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      39: ldc           #50                 // String content
      41: aload_2
      42: invokestatic  #48                 // Method net/nemerosa/ontrack/common/Document.isValid:(Lnet/nemerosa/ontrack/common/Document;)Z
      45: ifeq          55
      48: aload_2
      49: invokevirtual #51                 // Method net/nemerosa/ontrack/common/Document.getContent:()[B
      52: goto          56
      55: aconst_null
      56: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      59: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      62: pop
      63: return

  public void reorderPredefinedPromotionLevels(net.nemerosa.ontrack.model.structure.Reordering);
    Code:
       0: iconst_1
       1: istore_2
       2: aload_1
       3: invokevirtual #52                 // Method net/nemerosa/ontrack/model/structure/Reordering.getIds:()Ljava/util/List;
       6: invokeinterface #53,  1           // InterfaceMethod java/util/List.iterator:()Ljava/util/Iterator;
      11: astore_3
      12: aload_3
      13: invokeinterface #54,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      18: ifeq          71
      21: aload_3
      22: invokeinterface #55,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      27: checkcast     #8                  // class java/lang/Integer
      30: invokevirtual #10                 // Method java/lang/Integer.intValue:()I
      33: istore        4
      35: aload_0
      36: invokevirtual #25                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      39: ldc           #56                 // String UPDATE PREDEFINED_PROMOTION_LEVELS SET ORDERNB = :order WHERE ID = :id
      41: aload_0
      42: ldc           #27                 // String id
      44: iload         4
      46: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      49: invokevirtual #14                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      52: ldc           #57                 // String order
      54: iload_2
      55: iinc          2, 1
      58: invokestatic  #19                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      61: invokevirtual #17                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      64: invokevirtual #43                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      67: pop
      68: goto          12
      71: return

  protected net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel toPredefinedPromotionLevel(java.sql.ResultSet) throws java.sql.SQLException;
    Code:
       0: new           #58                 // class net/nemerosa/ontrack/model/structure/NameDescription
       3: dup
       4: aload_1
       5: ldc           #12                 // String name
       7: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      12: aload_1
      13: ldc           #15                 // String description
      15: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      20: invokespecial #60                 // Method net/nemerosa/ontrack/model/structure/NameDescription."<init>":(Ljava/lang/String;Ljava/lang/String;)V
      23: invokestatic  #61                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.of:(Lnet/nemerosa/ontrack/model/structure/NameDescription;)Lnet/nemerosa/ontrack/model/structure/PredefinedPromotionLevel;
      26: aload_0
      27: aload_1
      28: invokevirtual #62                 // Method id:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/ID;
      31: invokevirtual #63                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.withId:(Lnet/nemerosa/ontrack/model/structure/ID;)Lnet/nemerosa/ontrack/model/structure/PredefinedPromotionLevel;
      34: aload_1
      35: ldc           #64                 // String imagetype
      37: invokeinterface #59,  2           // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      42: invokestatic  #65                 // Method org/apache/commons/lang3/StringUtils.isNotBlank:(Ljava/lang/CharSequence;)Z
      45: invokevirtual #66                 // Method net/nemerosa/ontrack/model/structure/PredefinedPromotionLevel.withImage:(Z)Lnet/nemerosa/ontrack/model/structure/PredefinedPromotionLevel;
      48: areturn

  private net.nemerosa.ontrack.common.Document lambda$getPredefinedPromotionLevelImage$3(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #67                 // Method toDocument:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/common/Document;
       5: areturn

  private net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel lambda$findPredefinedPromotionLevelByName$2(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #68                 // Method toPredefinedPromotionLevel:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/PredefinedPromotionLevel;
       5: areturn

  private net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel lambda$getPredefinedPromotionLevel$1(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #68                 // Method toPredefinedPromotionLevel:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/PredefinedPromotionLevel;
       5: areturn

  private net.nemerosa.ontrack.model.structure.PredefinedPromotionLevel lambda$getPredefinedPromotionLevels$0(java.sql.ResultSet, int) throws java.sql.SQLException;
    Code:
       0: aload_0
       1: aload_1
       2: invokevirtual #68                 // Method toPredefinedPromotionLevel:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/PredefinedPromotionLevel;
       5: areturn
}
