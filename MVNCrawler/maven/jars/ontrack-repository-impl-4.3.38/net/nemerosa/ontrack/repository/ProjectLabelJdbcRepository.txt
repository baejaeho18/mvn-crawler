Compiled from "ProjectLabelJdbcRepository.kt"
public class net.nemerosa.ontrack.repository.ProjectLabelJdbcRepository extends net.nemerosa.ontrack.repository.support.AbstractJdbcRepository implements net.nemerosa.ontrack.repository.ProjectLabelRepository {
  private final net.nemerosa.ontrack.repository.LabelRepository labelRepository;

  public net.nemerosa.ontrack.repository.ProjectLabelJdbcRepository(net.nemerosa.ontrack.repository.LabelRepository, javax.sql.DataSource);
    Code:
       0: aload_1
       1: ldc           #11                 // String labelRepository
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_2
       7: ldc           #19                 // String dataSource
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: aload_2
      14: invokespecial #22                 // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository."<init>":(Ljavax/sql/DataSource;)V
      17: aload_0
      18: aload_1
      19: putfield      #25                 // Field labelRepository:Lnet/nemerosa/ontrack/repository/LabelRepository;
      22: return

  public java.util.List<net.nemerosa.ontrack.repository.LabelRecord> getLabelsForProject(int);
    Code:
       0: aload_0
       1: invokevirtual #35                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: dup
       5: invokestatic  #39                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
       8: ldc           #41                 // String \n                        SELECT PL.LABEL_ID\n                        FROM PROJECT_LABEL PL\n                        INNER JOIN LABEL L ON L.ID = PL.label_id\n                        WHERE PROJECT_ID = :project\n                        ORDER BY L.category, L.name\n
      10: aload_0
      11: ldc           #43                 // String project
      13: iload_1
      14: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #53                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: checkcast     #55                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      23: getstatic     #59                 // Field java/lang/Integer.TYPE:Ljava/lang/Class;
      26: invokevirtual #65                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForList:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/util/List;
      29: dup
      30: ldc           #67                 // String namedParameterJdbcTempla…:class.java\n            )
      32: invokestatic  #70                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      35: checkcast     #72                 // class java/lang/Iterable
      38: astore_2
      39: nop
      40: iconst_0
      41: istore_3
      42: aload_2
      43: astore        4
      45: new           #74                 // class java/util/ArrayList
      48: dup
      49: aload_2
      50: bipush        10
      52: invokestatic  #80                 // Method kotlin/collections/CollectionsKt.collectionSizeOrDefault:(Ljava/lang/Iterable;I)I
      55: invokespecial #83                 // Method java/util/ArrayList."<init>":(I)V
      58: checkcast     #85                 // class java/util/Collection
      61: astore        5
      63: iconst_0
      64: istore        6
      66: aload         4
      68: invokeinterface #89,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      73: astore        7
      75: aload         7
      77: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      82: ifeq          141
      85: aload         7
      87: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      92: astore        8
      94: aload         5
      96: aload         8
      98: checkcast     #45                 // class java/lang/Integer
     101: astore        9
     103: astore        11
     105: iconst_0
     106: istore        10
     108: aload_0
     109: getfield      #25                 // Field labelRepository:Lnet/nemerosa/ontrack/repository/LabelRepository;
     112: aload         9
     114: ldc           #101                // String it
     116: invokestatic  #70                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
     119: aload         9
     121: invokevirtual #105                // Method java/lang/Integer.intValue:()I
     124: invokeinterface #111,  2          // InterfaceMethod net/nemerosa/ontrack/repository/LabelRepository.getLabel:(I)Lnet/nemerosa/ontrack/repository/LabelRecord;
     129: aload         11
     131: swap
     132: invokeinterface #115,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     137: pop
     138: goto          75
     141: aload         5
     143: checkcast     #117                // class java/util/List
     146: nop
     147: areturn

  public java.util.List<java.lang.Integer> getProjectsForLabel(int);
    Code:
       0: aload_0
       1: invokevirtual #35                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: dup
       5: invokestatic  #39                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
       8: ldc           #133                // String \n                        SELECT PL.project_id\n                        FROM PROJECT_LABEL PL\n                        INNER JOIN PROJECTS p on PL.project_id = p.id\n                        WHERE label_id = :label\n                        ORDER BY p.name\n
      10: aload_0
      11: ldc           #135                // String label
      13: iload_1
      14: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #53                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: checkcast     #55                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      23: ldc           #45                 // class java/lang/Integer
      25: invokevirtual #65                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForList:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;Ljava/lang/Class;)Ljava/util/List;
      28: dup
      29: ldc           #67                 // String namedParameterJdbcTempla…:class.java\n            )
      31: invokestatic  #70                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      34: checkcast     #72                 // class java/lang/Iterable
      37: astore_2
      38: nop
      39: iconst_0
      40: istore_3
      41: aload_2
      42: astore        4
      44: new           #74                 // class java/util/ArrayList
      47: dup
      48: aload_2
      49: bipush        10
      51: invokestatic  #80                 // Method kotlin/collections/CollectionsKt.collectionSizeOrDefault:(Ljava/lang/Iterable;I)I
      54: invokespecial #83                 // Method java/util/ArrayList."<init>":(I)V
      57: checkcast     #85                 // class java/util/Collection
      60: astore        5
      62: iconst_0
      63: istore        6
      65: aload         4
      67: invokeinterface #89,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      72: astore        7
      74: aload         7
      76: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      81: ifeq          127
      84: aload         7
      86: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      91: astore        8
      93: aload         5
      95: aload         8
      97: checkcast     #45                 // class java/lang/Integer
     100: astore        9
     102: astore        11
     104: iconst_0
     105: istore        10
     107: aload         9
     109: invokevirtual #105                // Method java/lang/Integer.intValue:()I
     112: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     115: aload         11
     117: swap
     118: invokeinterface #115,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     123: pop
     124: goto          74
     127: aload         5
     129: checkcast     #117                // class java/util/List
     132: nop
     133: areturn

  public void associateProjectToLabel(int, int);
    Code:
       0: aload_0
       1: ldc           #43                 // String project
       3: iload_1
       4: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
       7: invokevirtual #53                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      10: ldc           #135                // String label
      12: iload_2
      13: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      16: invokevirtual #143                // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      19: dup
      20: ldc           #145                // String params(\"project\", projec….addValue(\"label\", label)
      22: invokestatic  #70                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      25: astore_3
      26: aload_0
      27: invokevirtual #35                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      30: dup
      31: invokestatic  #39                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
      34: ldc           #147                // String \n                    SELECT *\n                    FROM PROJECT_LABEL\n                    WHERE PROJECT_ID = :project\n                    AND LABEL_ID = :label\n
      36: aload_3
      37: checkcast     #55                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      40: invokevirtual #150                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.queryForList:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)Ljava/util/List;
      43: dup
      44: ldc           #152                // String namedParameterJdbcTempla…         params\n        )
      46: invokestatic  #70                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      49: astore        4
      51: aload         4
      53: invokeinterface #155,  1          // InterfaceMethod java/util/List.isEmpty:()Z
      58: ifeq          79
      61: aload_0
      62: invokevirtual #35                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      65: dup
      66: invokestatic  #39                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
      69: ldc           #157                // String \n                        INSERT INTO project_label(PROJECT_ID, LABEL_ID)\n                        VALUES (:project, :label)\n
      71: aload_3
      72: checkcast     #55                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      75: invokevirtual #161                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      78: pop
      79: return

  public void unassociateProjectToLabel(int, int);
    Code:
       0: aload_0
       1: invokevirtual #35                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
       4: dup
       5: invokestatic  #39                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
       8: ldc           #167                // String \n                    DELETE FROM PROJECT_LABEL\n                    WHERE PROJECT_ID = :project\n                    AND LABEL_ID = :label\n
      10: aload_0
      11: ldc           #43                 // String project
      13: iload_1
      14: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      17: invokevirtual #53                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      20: ldc           #135                // String label
      22: iload_2
      23: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      26: invokevirtual #143                // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      29: checkcast     #55                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      32: invokevirtual #161                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      35: pop
      36: return

  public void associateProjectToLabels(int, net.nemerosa.ontrack.model.labels.ProjectLabelForm);
    Code:
       0: aload_2
       1: ldc           #171                // String form
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: iload_1
       8: invokevirtual #173                // Method getLabelsForProject:(I)Ljava/util/List;
      11: checkcast     #72                 // class java/lang/Iterable
      14: astore        4
      16: iconst_0
      17: istore        5
      19: aload         4
      21: astore        6
      23: new           #74                 // class java/util/ArrayList
      26: dup
      27: aload         4
      29: bipush        10
      31: invokestatic  #80                 // Method kotlin/collections/CollectionsKt.collectionSizeOrDefault:(Ljava/lang/Iterable;I)I
      34: invokespecial #83                 // Method java/util/ArrayList."<init>":(I)V
      37: checkcast     #85                 // class java/util/Collection
      40: astore        7
      42: iconst_0
      43: istore        8
      45: aload         6
      47: invokeinterface #89,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
      52: astore        9
      54: aload         9
      56: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
      61: ifeq          107
      64: aload         9
      66: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
      71: astore        10
      73: aload         7
      75: aload         10
      77: checkcast     #175                // class net/nemerosa/ontrack/repository/LabelRecord
      80: astore        11
      82: astore        13
      84: iconst_0
      85: istore        12
      87: aload         11
      89: invokevirtual #178                // Method net/nemerosa/ontrack/repository/LabelRecord.getId:()I
      92: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      95: aload         13
      97: swap
      98: invokeinterface #115,  2          // InterfaceMethod java/util/Collection.add:(Ljava/lang/Object;)Z
     103: pop
     104: goto          54
     107: aload         7
     109: checkcast     #117                // class java/util/List
     112: nop
     113: astore_3
     114: aload_2
     115: invokevirtual #184                // Method net/nemerosa/ontrack/model/labels/ProjectLabelForm.getLabels:()Ljava/util/List;
     118: checkcast     #72                 // class java/lang/Iterable
     121: aload_3
     122: checkcast     #72                 // class java/lang/Iterable
     125: invokestatic  #188                // Method kotlin/collections/CollectionsKt.minus:(Ljava/lang/Iterable;Ljava/lang/Iterable;)Ljava/util/List;
     128: checkcast     #72                 // class java/lang/Iterable
     131: astore        4
     133: iconst_0
     134: istore        5
     136: aload         4
     138: invokeinterface #89,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
     143: astore        6
     145: aload         6
     147: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     152: ifeq          218
     155: aload         6
     157: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     162: astore        7
     164: aload         7
     166: checkcast     #190                // class java/lang/Number
     169: invokevirtual #191                // Method java/lang/Number.intValue:()I
     172: istore        8
     174: iconst_0
     175: istore        9
     177: aload_0
     178: invokevirtual #35                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
     181: dup
     182: invokestatic  #39                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
     185: ldc           #157                // String \n                        INSERT INTO project_label(PROJECT_ID, LABEL_ID)\n                        VALUES (:project, :label)\n
     187: aload_0
     188: ldc           #43                 // String project
     190: iload_1
     191: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     194: invokevirtual #53                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     197: ldc           #135                // String label
     199: iload         8
     201: invokestatic  #49                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
     204: invokevirtual #143                // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
     207: checkcast     #55                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
     210: invokevirtual #161                // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
     213: pop
     214: nop
     215: goto          145
     218: nop
     219: aload_3
     220: checkcast     #72                 // class java/lang/Iterable
     223: aload_2
     224: invokevirtual #184                // Method net/nemerosa/ontrack/model/labels/ProjectLabelForm.getLabels:()Ljava/util/List;
     227: checkcast     #72                 // class java/lang/Iterable
     230: invokestatic  #188                // Method kotlin/collections/CollectionsKt.minus:(Ljava/lang/Iterable;Ljava/lang/Iterable;)Ljava/util/List;
     233: checkcast     #72                 // class java/lang/Iterable
     236: astore        4
     238: iconst_0
     239: istore        5
     241: aload         4
     243: invokeinterface #89,  1           // InterfaceMethod java/lang/Iterable.iterator:()Ljava/util/Iterator;
     248: astore        6
     250: aload         6
     252: invokeinterface #95,  1           // InterfaceMethod java/util/Iterator.hasNext:()Z
     257: ifeq          293
     260: aload         6
     262: invokeinterface #99,  1           // InterfaceMethod java/util/Iterator.next:()Ljava/lang/Object;
     267: astore        7
     269: aload         7
     271: checkcast     #190                // class java/lang/Number
     274: invokevirtual #191                // Method java/lang/Number.intValue:()I
     277: istore        8
     279: iconst_0
     280: istore        9
     282: aload_0
     283: iload_1
     284: iload         8
     286: invokevirtual #193                // Method unassociateProjectToLabel:(II)V
     289: nop
     290: goto          250
     293: nop
     294: return
}
