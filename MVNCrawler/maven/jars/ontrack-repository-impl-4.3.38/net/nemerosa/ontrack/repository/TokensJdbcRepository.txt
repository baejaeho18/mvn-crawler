Compiled from "TokensJdbcRepository.kt"
public class net.nemerosa.ontrack.repository.TokensJdbcRepository extends net.nemerosa.ontrack.repository.support.AbstractJdbcRepository implements net.nemerosa.ontrack.repository.TokensRepository {
  public net.nemerosa.ontrack.repository.TokensJdbcRepository(javax.sql.DataSource);
    Code:
       0: aload_1
       1: ldc           #11                 // String dataSource
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: aload_1
       8: invokespecial #19                 // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository."<init>":(Ljavax/sql/DataSource;)V
      11: return

  public java.lang.String invalidate(int);
    Code:
       0: aload_0
       1: ldc           #27                 // String SELECT VALUE FROM TOKENS WHERE ACCOUNT = :id
       3: aload_0
       4: ldc           #29                 // String id
       6: iload_1
       7: invokestatic  #35                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      10: invokevirtual #39                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      13: ldc           #41                 // class java/lang/String
      15: invokevirtual #45                 // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Ljava/lang/Class;)Ljava/lang/Object;
      18: checkcast     #41                 // class java/lang/String
      21: astore_2
      22: aload_0
      23: invokevirtual #49                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      26: dup
      27: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
      30: ldc           #55                 // String DELETE FROM TOKENS WHERE ACCOUNT = :id
      32: aload_0
      33: ldc           #29                 // String id
      35: iload_1
      36: invokestatic  #35                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      39: invokevirtual #39                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      42: checkcast     #57                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      45: invokevirtual #63                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      48: pop
      49: aload_2
      50: areturn

  public void save(int, java.lang.String, java.time.LocalDateTime, java.time.LocalDateTime);
    Code:
       0: aload_2
       1: ldc           #70                 // String token
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_3
       7: ldc           #72                 // String time
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: iload_1
      14: invokevirtual #74                 // Method invalidate:(I)Ljava/lang/String;
      17: pop
      18: aload_0
      19: invokevirtual #49                 // Method getNamedParameterJdbcTemplate:()Lorg/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate;
      22: dup
      23: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
      26: ldc           #76                 // String INSERT INTO TOKENS (ACCOUNT, VALUE, CREATION, VALID_UNTIL) VALUES (:id, :token, :creation, :until)
      28: aload_0
      29: ldc           #29                 // String id
      31: iload_1
      32: invokestatic  #35                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      35: invokevirtual #39                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      38: ldc           #70                 // String token
      40: aload_2
      41: invokevirtual #81                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      44: ldc           #83                 // String creation
      46: aload_3
      47: invokestatic  #87                 // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository.dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      50: invokevirtual #81                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      53: ldc           #89                 // String until
      55: aload         4
      57: invokestatic  #87                 // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository.dateTimeForDB:(Ljava/time/LocalDateTime;)Ljava/lang/String;
      60: invokevirtual #81                 // Method org/springframework/jdbc/core/namedparam/MapSqlParameterSource.addValue:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      63: checkcast     #57                 // class org/springframework/jdbc/core/namedparam/SqlParameterSource
      66: invokevirtual #63                 // Method org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.update:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/SqlParameterSource;)I
      69: pop
      70: return

  public net.nemerosa.ontrack.model.structure.Token getForAccount(net.nemerosa.ontrack.model.security.Account);
    Code:
       0: aload_1
       1: ldc           #94                 // String account
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: ldc           #96                 // String SELECT * FROM TOKENS WHERE ACCOUNT = :id
       9: aload_0
      10: ldc           #29                 // String id
      12: aload_1
      13: invokevirtual #101                // Method net/nemerosa/ontrack/model/security/Account.id:()I
      16: invokestatic  #35                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      19: invokevirtual #39                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      22: aload_0
      23: invokedynamic #121,  0            // InvokeDynamic #0:mapRow:(Lnet/nemerosa/ontrack/repository/TokensJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      28: invokevirtual #124                // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      31: checkcast     #126                // class net/nemerosa/ontrack/model/structure/Token
      34: areturn

  public kotlin.Pair<java.lang.Integer, net.nemerosa.ontrack.model.structure.Token> findAccountByToken(java.lang.String);
    Code:
       0: aload_1
       1: ldc           #70                 // String token
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_0
       7: ldc           #132                // String SELECT * FROM TOKENS WHERE VALUE = :token
       9: aload_0
      10: ldc           #70                 // String token
      12: aload_1
      13: invokevirtual #39                 // Method params:(Ljava/lang/String;Ljava/lang/Object;)Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;
      16: aload_0
      17: invokedynamic #140,  0            // InvokeDynamic #1:mapRow:(Lnet/nemerosa/ontrack/repository/TokensJdbcRepository;)Lorg/springframework/jdbc/core/RowMapper;
      22: invokevirtual #124                // Method getFirstItem:(Ljava/lang/String;Lorg/springframework/jdbc/core/namedparam/MapSqlParameterSource;Lorg/springframework/jdbc/core/RowMapper;)Ljava/lang/Object;
      25: checkcast     #142                // class kotlin/Pair
      28: areturn

  public int revokeAll();
    Code:
       0: aload_0
       1: invokevirtual #147                // Method getJdbcTemplate:()Lorg/springframework/jdbc/core/JdbcTemplate;
       4: dup
       5: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
       8: ldc           #149                // String DELETE FROM TOKENS
      10: invokevirtual #154                // Method org/springframework/jdbc/core/JdbcTemplate.update:(Ljava/lang/String;)I
      13: ireturn

  private net.nemerosa.ontrack.model.structure.Token toToken(java.sql.ResultSet);
    Code:
       0: new           #126                // class net/nemerosa/ontrack/model/structure/Token
       3: dup
       4: aload_1
       5: ldc           #158                // String VALUE
       7: invokeinterface #164,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      12: dup
      13: ldc           #166                // String rs.getString(\"VALUE\")
      15: invokestatic  #169                // Method kotlin/jvm/internal/Intrinsics.checkNotNullExpressionValue:(Ljava/lang/Object;Ljava/lang/String;)V
      18: aload_1
      19: ldc           #171                // String CREATION
      21: invokeinterface #164,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      26: invokestatic  #175                // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository.dateTimeFromDB:(Ljava/lang/String;)Ljava/time/LocalDateTime;
      29: dup
      30: invokestatic  #53                 // Method kotlin/jvm/internal/Intrinsics.checkNotNull:(Ljava/lang/Object;)V
      33: aload_1
      34: ldc           #177                // String VALID_UNTIL
      36: invokeinterface #164,  2          // InterfaceMethod java/sql/ResultSet.getString:(Ljava/lang/String;)Ljava/lang/String;
      41: invokestatic  #175                // Method net/nemerosa/ontrack/repository/support/AbstractJdbcRepository.dateTimeFromDB:(Ljava/lang/String;)Ljava/time/LocalDateTime;
      44: invokespecial #180                // Method net/nemerosa/ontrack/model/structure/Token."<init>":(Ljava/lang/String;Ljava/time/LocalDateTime;Ljava/time/LocalDateTime;)V
      47: areturn

  private static final net.nemerosa.ontrack.model.structure.Token getForAccount$lambda-0(net.nemerosa.ontrack.repository.TokensJdbcRepository, java.sql.ResultSet, int);
    Code:
       0: aload_0
       1: ldc           #184                // String this$0
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_1
       7: ldc           #185                // String rs
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_0
      13: aload_1
      14: invokespecial #187                // Method toToken:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Token;
      17: areturn

  private static final kotlin.Pair findAccountByToken$lambda-1(net.nemerosa.ontrack.repository.TokensJdbcRepository, java.sql.ResultSet, int);
    Code:
       0: aload_0
       1: ldc           #184                // String this$0
       3: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
       6: aload_1
       7: ldc           #185                // String rs
       9: invokestatic  #17                 // Method kotlin/jvm/internal/Intrinsics.checkNotNullParameter:(Ljava/lang/Object;Ljava/lang/String;)V
      12: aload_1
      13: ldc           #189                // String ACCOUNT
      15: invokeinterface #192,  2          // InterfaceMethod java/sql/ResultSet.getInt:(Ljava/lang/String;)I
      20: invokestatic  #35                 // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
      23: aload_0
      24: aload_1
      25: invokespecial #187                // Method toToken:(Ljava/sql/ResultSet;)Lnet/nemerosa/ontrack/model/structure/Token;
      28: invokestatic  #198                // Method kotlin/TuplesKt.to:(Ljava/lang/Object;Ljava/lang/Object;)Lkotlin/Pair;
      31: areturn
}
